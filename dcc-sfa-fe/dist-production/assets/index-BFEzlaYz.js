var wq=(t,s)=>()=>(s||t((s={exports:{}}).exports,s),s.exports);var K$e=wq((ui,mi)=>{function Sq(t,s){for(var a=0;a<s.length;a++){const r=s[a];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in t)){const i=Object.getOwnPropertyDescriptor(r,n);i&&Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();function no(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var D2={exports:{}},Ah={};var iP;function Cq(){if(iP)return Ah;iP=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function a(r,n,i){var o=null;if(i!==void 0&&(o=""+i),n.key!==void 0&&(o=""+n.key),"key"in n){i={};for(var l in n)l!=="key"&&(i[l]=n[l])}else i=n;return n=i.ref,{$$typeof:t,type:r,key:o,ref:n!==void 0?n:null,props:i}}return Ah.Fragment=s,Ah.jsx=a,Ah.jsxs=a,Ah}var oP;function Pq(){return oP||(oP=1,D2.exports=Cq()),D2.exports}var e=Pq(),R2={exports:{}},Ls={};var lP;function kq(){if(lP)return Ls;lP=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=p&&M[p]||M["@@iterator"],typeof M=="function"?M:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function v(M,R,$){this.props=M,this.context=R,this.refs=S,this.updater=$||j}v.prototype.isReactComponent={},v.prototype.setState=function(M,R){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,R,"setState")},v.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function y(){}y.prototype=v.prototype;function N(M,R,$){this.props=M,this.context=R,this.refs=S,this.updater=$||j}var C=N.prototype=new y;C.constructor=N,_(C,v.prototype),C.isPureReactComponent=!0;var P=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function T(M,R,$,Y,J,te){return $=te.ref,{$$typeof:t,type:M,key:R,ref:$!==void 0?$:null,props:te}}function A(M,R){return T(M.type,R,void 0,void 0,void 0,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function F(M){var R={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function($){return R[$]})}var z=/\/+/g;function O(M,R){return typeof M=="object"&&M!==null&&M.key!=null?F(""+M.key):R.toString(36)}function K(){}function W(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(K,K):(M.status="pending",M.then(function(R){M.status==="pending"&&(M.status="fulfilled",M.value=R)},function(R){M.status==="pending"&&(M.status="rejected",M.reason=R)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function B(M,R,$,Y,J){var te=typeof M;(te==="undefined"||te==="boolean")&&(M=null);var ee=!1;if(M===null)ee=!0;else switch(te){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(M.$$typeof){case t:case s:ee=!0;break;case d:return ee=M._init,B(ee(M._payload),R,$,Y,J)}}if(ee)return J=J(M),ee=Y===""?"."+O(M,0):Y,P(J)?($="",ee!=null&&($=ee.replace(z,"$&/")+"/"),B(J,R,$,"",function(de){return de})):J!=null&&(I(J)&&(J=A(J,$+(J.key==null||M&&M.key===J.key?"":(""+J.key).replace(z,"$&/")+"/")+ee)),R.push(J)),1;ee=0;var ne=Y===""?".":Y+":";if(P(M))for(var he=0;he<M.length;he++)Y=M[he],te=ne+O(Y,he),ee+=B(Y,R,$,te,J);else if(he=x(M),typeof he=="function")for(M=he.call(M),he=0;!(Y=M.next()).done;)Y=Y.value,te=ne+O(Y,he++),ee+=B(Y,R,$,te,J);else if(te==="object"){if(typeof M.then=="function")return B(W(M),R,$,Y,J);throw R=String(M),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return ee}function q(M,R,$){if(M==null)return M;var Y=[],J=0;return B(M,Y,"","",function(te){return R.call($,te,J++)}),Y}function H(M){if(M._status===-1){var R=M._result;R=R(),R.then(function($){(M._status===0||M._status===-1)&&(M._status=1,M._result=$)},function($){(M._status===0||M._status===-1)&&(M._status=2,M._result=$)}),M._status===-1&&(M._status=0,M._result=R)}if(M._status===1)return M._result.default;throw M._result}var Q=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function V(){}return Ls.Children={map:q,forEach:function(M,R,$){q(M,function(){R.apply(this,arguments)},$)},count:function(M){var R=0;return q(M,function(){R++}),R},toArray:function(M){return q(M,function(R){return R})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ls.Component=v,Ls.Fragment=a,Ls.Profiler=n,Ls.PureComponent=N,Ls.StrictMode=r,Ls.Suspense=c,Ls.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Ls.__COMPILER_RUNTIME={__proto__:null,c:function(M){return E.H.useMemoCache(M)}},Ls.cache=function(M){return function(){return M.apply(null,arguments)}},Ls.cloneElement=function(M,R,$){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var Y=_({},M.props),J=M.key,te=void 0;if(R!=null)for(ee in R.ref!==void 0&&(te=void 0),R.key!==void 0&&(J=""+R.key),R)!D.call(R,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&R.ref===void 0||(Y[ee]=R[ee]);var ee=arguments.length-2;if(ee===1)Y.children=$;else if(1<ee){for(var ne=Array(ee),he=0;he<ee;he++)ne[he]=arguments[he+2];Y.children=ne}return T(M.type,J,void 0,void 0,te,Y)},Ls.createContext=function(M){return M={$$typeof:o,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:i,_context:M},M},Ls.createElement=function(M,R,$){var Y,J={},te=null;if(R!=null)for(Y in R.key!==void 0&&(te=""+R.key),R)D.call(R,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(J[Y]=R[Y]);var ee=arguments.length-2;if(ee===1)J.children=$;else if(1<ee){for(var ne=Array(ee),he=0;he<ee;he++)ne[he]=arguments[he+2];J.children=ne}if(M&&M.defaultProps)for(Y in ee=M.defaultProps,ee)J[Y]===void 0&&(J[Y]=ee[Y]);return T(M,te,void 0,void 0,null,J)},Ls.createRef=function(){return{current:null}},Ls.forwardRef=function(M){return{$$typeof:l,render:M}},Ls.isValidElement=I,Ls.lazy=function(M){return{$$typeof:d,_payload:{_status:-1,_result:M},_init:H}},Ls.memo=function(M,R){return{$$typeof:m,type:M,compare:R===void 0?null:R}},Ls.startTransition=function(M){var R=E.T,$={};E.T=$;try{var Y=M(),J=E.S;J!==null&&J($,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(V,Q)}catch(te){Q(te)}finally{E.T=R}},Ls.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Ls.use=function(M){return E.H.use(M)},Ls.useActionState=function(M,R,$){return E.H.useActionState(M,R,$)},Ls.useCallback=function(M,R){return E.H.useCallback(M,R)},Ls.useContext=function(M){return E.H.useContext(M)},Ls.useDebugValue=function(){},Ls.useDeferredValue=function(M,R){return E.H.useDeferredValue(M,R)},Ls.useEffect=function(M,R,$){var Y=E.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(M,R)},Ls.useId=function(){return E.H.useId()},Ls.useImperativeHandle=function(M,R,$){return E.H.useImperativeHandle(M,R,$)},Ls.useInsertionEffect=function(M,R){return E.H.useInsertionEffect(M,R)},Ls.useLayoutEffect=function(M,R){return E.H.useLayoutEffect(M,R)},Ls.useMemo=function(M,R){return E.H.useMemo(M,R)},Ls.useOptimistic=function(M,R){return E.H.useOptimistic(M,R)},Ls.useReducer=function(M,R,$){return E.H.useReducer(M,R,$)},Ls.useRef=function(M){return E.H.useRef(M)},Ls.useState=function(M){return E.H.useState(M)},Ls.useSyncExternalStore=function(M,R,$){return E.H.useSyncExternalStore(M,R,$)},Ls.useTransition=function(){return E.H.useTransition()},Ls.version="19.1.1",Ls}var cP;function ev(){return cP||(cP=1,R2.exports=kq()),R2.exports}var g=ev();const yt=no(g),mx=Sq({__proto__:null,default:yt},[g]);var A2={exports:{}},Ih={},I2={exports:{}},O2={};var dP;function Eq(){return dP||(dP=1,(function(t){function s(q,H){var Q=q.length;q.push(H);e:for(;0<Q;){var V=Q-1>>>1,M=q[V];if(0<n(M,H))q[V]=H,q[Q]=M,Q=V;else break e}}function a(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var H=q[0],Q=q.pop();if(Q!==H){q[0]=Q;e:for(var V=0,M=q.length,R=M>>>1;V<R;){var $=2*(V+1)-1,Y=q[$],J=$+1,te=q[J];if(0>n(Y,Q))J<M&&0>n(te,Y)?(q[V]=te,q[J]=Q,V=J):(q[V]=Y,q[$]=Q,V=$);else if(J<M&&0>n(te,Q))q[V]=te,q[J]=Q,V=J;else break e}}return H}function n(q,H){var Q=q.sortIndex-H.sortIndex;return Q!==0?Q:q.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],m=[],d=1,p=null,x=3,j=!1,_=!1,S=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function P(q){for(var H=a(m);H!==null;){if(H.callback===null)r(m);else if(H.startTime<=q)r(m),H.sortIndex=H.expirationTime,s(c,H);else break;H=a(m)}}function E(q){if(S=!1,P(q),!_)if(a(c)!==null)_=!0,D||(D=!0,O());else{var H=a(m);H!==null&&B(E,H.startTime-q)}}var D=!1,T=-1,A=5,I=-1;function F(){return v?!0:!(t.unstable_now()-I<A)}function z(){if(v=!1,D){var q=t.unstable_now();I=q;var H=!0;try{e:{_=!1,S&&(S=!1,N(T),T=-1),j=!0;var Q=x;try{t:{for(P(q),p=a(c);p!==null&&!(p.expirationTime>q&&F());){var V=p.callback;if(typeof V=="function"){p.callback=null,x=p.priorityLevel;var M=V(p.expirationTime<=q);if(q=t.unstable_now(),typeof M=="function"){p.callback=M,P(q),H=!0;break t}p===a(c)&&r(c),P(q)}else r(c);p=a(c)}if(p!==null)H=!0;else{var R=a(m);R!==null&&B(E,R.startTime-q),H=!1}}break e}finally{p=null,x=Q,j=!1}H=void 0}}finally{H?O():D=!1}}}var O;if(typeof C=="function")O=function(){C(z)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,W=K.port2;K.port1.onmessage=z,O=function(){W.postMessage(null)}}else O=function(){y(z,0)};function B(q,H){T=y(function(){q(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(q){switch(x){case 1:case 2:case 3:var H=3;break;default:H=x}var Q=x;x=H;try{return q()}finally{x=Q}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(q,H){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=x;x=q;try{return H()}finally{x=Q}},t.unstable_scheduleCallback=function(q,H,Q){var V=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?V+Q:V):Q=V,q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=Q+M,q={id:d++,callback:H,priorityLevel:q,startTime:Q,expirationTime:M,sortIndex:-1},Q>V?(q.sortIndex=Q,s(m,q),a(c)===null&&q===a(m)&&(S?(N(T),T=-1):S=!0,B(E,Q-V))):(q.sortIndex=M,s(c,q),_||j||(_=!0,D||(D=!0,O()))),q},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(q){var H=x;return function(){var Q=x;x=H;try{return q.apply(this,arguments)}finally{x=Q}}}})(O2)),O2}var uP;function Tq(){return uP||(uP=1,I2.exports=Eq()),I2.exports}var F2={exports:{}},tn={};var mP;function Mq(){if(mP)return tn;mP=1;var t=ev();function s(c){var m="https://react.dev/errors/"+c;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)m+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(s(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},n=Symbol.for("react.portal");function i(c,m,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:p==null?null:""+p,children:c,containerInfo:m,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,m){if(c==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(c,m){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(s(299));return i(c,m,null,d)},tn.flushSync=function(c){var m=o.T,d=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=m,r.p=d,r.d.f()}},tn.preconnect=function(c,m){typeof c=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(c,m))},tn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},tn.preinit=function(c,m){if(typeof c=="string"&&m&&typeof m.as=="string"){var d=m.as,p=l(d,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,j=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;d==="style"?r.d.S(c,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:p,integrity:x,fetchPriority:j}):d==="script"&&r.d.X(c,{crossOrigin:p,integrity:x,fetchPriority:j,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},tn.preinitModule=function(c,m){if(typeof c=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var d=l(m.as,m.crossOrigin);r.d.M(c,{crossOrigin:d,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(c)},tn.preload=function(c,m){if(typeof c=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var d=m.as,p=l(d,m.crossOrigin);r.d.L(c,d,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},tn.preloadModule=function(c,m){if(typeof c=="string")if(m){var d=l(m.as,m.crossOrigin);r.d.m(c,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:d,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(c)},tn.requestFormReset=function(c){r.d.r(c)},tn.unstable_batchedUpdates=function(c,m){return c(m)},tn.useFormState=function(c,m,d){return o.H.useFormState(c,m,d)},tn.useFormStatus=function(){return o.H.useHostTransitionStatus()},tn.version="19.1.1",tn}var pP;function nR(){if(pP)return F2.exports;pP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),F2.exports=Mq(),F2.exports}var hP;function Dq(){if(hP)return Ih;hP=1;var t=Tq(),s=ev(),a=nR();function r(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)h+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function i(u){var h=u,w=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(w=h.return),u=h.return;while(u)}return h.tag===3?w:null}function o(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function l(u){if(i(u)!==u)throw Error(r(188))}function c(u){var h=u.alternate;if(!h){if(h=i(u),h===null)throw Error(r(188));return h!==u?null:u}for(var w=u,k=h;;){var L=w.return;if(L===null)break;var U=L.alternate;if(U===null){if(k=L.return,k!==null){w=k;continue}break}if(L.child===U.child){for(U=L.child;U;){if(U===w)return l(L),u;if(U===k)return l(L),h;U=U.sibling}throw Error(r(188))}if(w.return!==k.return)w=L,k=U;else{for(var se=!1,pe=L.child;pe;){if(pe===w){se=!0,w=L,k=U;break}if(pe===k){se=!0,k=L,w=U;break}pe=pe.sibling}if(!se){for(pe=U.child;pe;){if(pe===w){se=!0,w=U,k=L;break}if(pe===k){se=!0,k=U,w=L;break}pe=pe.sibling}if(!se)throw Error(r(189))}}if(w.alternate!==k)throw Error(r(190))}if(w.tag!==3)throw Error(r(188));return w.stateNode.current===w?u:h}function m(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=m(u),h!==null)return h;u=u.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function O(u){return u===null||typeof u!="object"?null:(u=z&&u[z]||u["@@iterator"],typeof u=="function"?u:null)}var K=Symbol.for("react.client.reference");function W(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===K?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case _:return"Fragment";case v:return"Profiler";case S:return"StrictMode";case E:return"Suspense";case D:return"SuspenseList";case I:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case j:return"Portal";case C:return(u.displayName||"Context")+".Provider";case N:return(u._context.displayName||"Context")+".Consumer";case P:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case T:return h=u.displayName||null,h!==null?h:W(u.type)||"Memo";case A:h=u._payload,u=u._init;try{return W(u(h))}catch{}}return null}var B=Array.isArray,q=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},V=[],M=-1;function R(u){return{current:u}}function $(u){0>M||(u.current=V[M],V[M]=null,M--)}function Y(u,h){M++,V[M]=u.current,u.current=h}var J=R(null),te=R(null),ee=R(null),ne=R(null);function he(u,h){switch(Y(ee,h),Y(te,u),Y(J,null),h.nodeType){case 9:case 11:u=(u=h.documentElement)&&(u=u.namespaceURI)?A6(u):0;break;default:if(u=h.tagName,h=h.namespaceURI)h=A6(h),u=I6(h,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}$(J),Y(J,u)}function de(){$(J),$(te),$(ee)}function ae(u){u.memoizedState!==null&&Y(ne,u);var h=J.current,w=I6(h,u.type);h!==w&&(Y(te,u),Y(J,w))}function xe(u){te.current===u&&($(J),$(te)),ne.current===u&&($(ne),Eh._currentValue=Q)}var ge=Object.prototype.hasOwnProperty,le=t.unstable_scheduleCallback,me=t.unstable_cancelCallback,Ae=t.unstable_shouldYield,Ce=t.unstable_requestPaint,_e=t.unstable_now,Ie=t.unstable_getCurrentPriorityLevel,et=t.unstable_ImmediatePriority,ke=t.unstable_UserBlockingPriority,He=t.unstable_NormalPriority,be=t.unstable_LowPriority,Ge=t.unstable_IdlePriority,at=t.log,vt=t.unstable_setDisableYieldValue,dt=null,ft=null;function Mt(u){if(typeof at=="function"&&vt(u),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(dt,u)}catch{}}var ye=Math.clz32?Math.clz32:jt,Le=Math.log,ze=Math.LN2;function jt(u){return u>>>=0,u===0?32:31-(Le(u)/ze|0)|0}var es=256,Qt=4194304;function rt(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function zt(u,h,w){var k=u.pendingLanes;if(k===0)return 0;var L=0,U=u.suspendedLanes,se=u.pingedLanes;u=u.warmLanes;var pe=k&134217727;return pe!==0?(k=pe&~U,k!==0?L=rt(k):(se&=pe,se!==0?L=rt(se):w||(w=pe&~u,w!==0&&(L=rt(w))))):(pe=k&~U,pe!==0?L=rt(pe):se!==0?L=rt(se):w||(w=k&~u,w!==0&&(L=rt(w)))),L===0?0:h!==0&&h!==L&&(h&U)===0&&(U=L&-L,w=h&-h,U>=w||U===32&&(w&4194048)!==0)?h:L}function _t(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function hs(u,h){switch(u){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cs(){var u=es;return es<<=1,(es&4194048)===0&&(es=256),u}function Ns(){var u=Qt;return Qt<<=1,(Qt&62914560)===0&&(Qt=4194304),u}function Gs(u){for(var h=[],w=0;31>w;w++)h.push(u);return h}function Is(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Ds(u,h,w,k,L,U){var se=u.pendingLanes;u.pendingLanes=w,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=w,u.entangledLanes&=w,u.errorRecoveryDisabledLanes&=w,u.shellSuspendCounter=0;var pe=u.entanglements,we=u.expirationTimes,We=u.hiddenUpdates;for(w=se&~w;0<w;){var ht=31-ye(w),wt=1<<ht;pe[ht]=0,we[ht]=-1;var Qe=We[ht];if(Qe!==null)for(We[ht]=null,ht=0;ht<Qe.length;ht++){var Xe=Qe[ht];Xe!==null&&(Xe.lane&=-536870913)}w&=~wt}k!==0&&pa(u,k,0),U!==0&&L===0&&u.tag!==0&&(u.suspendedLanes|=U&~(se&~h))}function pa(u,h,w){u.pendingLanes|=h,u.suspendedLanes&=~h;var k=31-ye(h);u.entangledLanes|=h,u.entanglements[k]=u.entanglements[k]|1073741824|w&4194090}function ha(u,h){var w=u.entangledLanes|=h;for(u=u.entanglements;w;){var k=31-ye(w),L=1<<k;L&h|u[k]&h&&(u[k]|=h),w&=~L}}function oa(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function qt(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function zs(){var u=H.p;return u!==0?u:(u=window.event,u===void 0?32:eP(u.type))}function Bt(u,h){var w=H.p;try{return H.p=u,h()}finally{H.p=w}}var Ut=Math.random().toString(36).slice(2),ds="__reactFiber$"+Ut,ve="__reactProps$"+Ut,Pe="__reactContainer$"+Ut,Be="__reactEvents$"+Ut,gt="__reactListeners$"+Ut,ue="__reactHandles$"+Ut,Me="__reactResources$"+Ut,Oe="__reactMarker$"+Ut;function xt(u){delete u[ds],delete u[ve],delete u[Be],delete u[gt],delete u[ue]}function Ct(u){var h=u[ds];if(h)return h;for(var w=u.parentNode;w;){if(h=w[Pe]||w[ds]){if(w=h.alternate,h.child!==null||w!==null&&w.child!==null)for(u=$6(u);u!==null;){if(w=u[ds])return w;u=$6(u)}return h}u=w,w=u.parentNode}return null}function Kt(u){if(u=u[ds]||u[Pe]){var h=u.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return u}return null}function as(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u.stateNode;throw Error(r(33))}function qe(u){var h=u[Me];return h||(h=u[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function At(u){u[Oe]=!0}var Ee=new Set,Ue={};function Dt(u,h){Zt(u,h),Zt(u+"Capture",h)}function Zt(u,h){for(Ue[u]=h,u=0;u<h.length;u++)Ee.add(h[u])}var Yt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vs={},Qs={};function mr(u){return ge.call(Qs,u)?!0:ge.call(Vs,u)?!1:Yt.test(u)?Qs[u]=!0:(Vs[u]=!0,!1)}function Rs(u,h,w){if(mr(h))if(w===null)u.removeAttribute(h);else{switch(typeof w){case"undefined":case"function":case"symbol":u.removeAttribute(h);return;case"boolean":var k=h.toLowerCase().slice(0,5);if(k!=="data-"&&k!=="aria-"){u.removeAttribute(h);return}}u.setAttribute(h,""+w)}}function Fa(u,h,w){if(w===null)u.removeAttribute(h);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(h);return}u.setAttribute(h,""+w)}}function Ha(u,h,w,k){if(k===null)u.removeAttribute(w);else{switch(typeof k){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(w);return}u.setAttributeNS(h,w,""+k)}}var Jr,Ps;function Xa(u){if(Jr===void 0)try{throw Error()}catch(w){var h=w.stack.trim().match(/\n( *(at )?)/);Jr=h&&h[1]||"",Ps=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+u+Ps}var Pr=!1;function Ts(u,h){if(!u||Pr)return"";Pr=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var k={DetermineComponentFrameRoot:function(){try{if(h){var wt=function(){throw Error()};if(Object.defineProperty(wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(wt,[])}catch(Xe){var Qe=Xe}Reflect.construct(u,[],wt)}else{try{wt.call()}catch(Xe){Qe=Xe}u.call(wt.prototype)}}else{try{throw Error()}catch(Xe){Qe=Xe}(wt=u())&&typeof wt.catch=="function"&&wt.catch(function(){})}}catch(Xe){if(Xe&&Qe&&typeof Xe.stack=="string")return[Xe.stack,Qe.stack]}return[null,null]}};k.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(k.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(k.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=k.DetermineComponentFrameRoot(),se=U[0],pe=U[1];if(se&&pe){var we=se.split(`
`),We=pe.split(`
`);for(L=k=0;k<we.length&&!we[k].includes("DetermineComponentFrameRoot");)k++;for(;L<We.length&&!We[L].includes("DetermineComponentFrameRoot");)L++;if(k===we.length||L===We.length)for(k=we.length-1,L=We.length-1;1<=k&&0<=L&&we[k]!==We[L];)L--;for(;1<=k&&0<=L;k--,L--)if(we[k]!==We[L]){if(k!==1||L!==1)do if(k--,L--,0>L||we[k]!==We[L]){var ht=`
`+we[k].replace(" at new "," at ");return u.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",u.displayName)),ht}while(1<=k&&0<=L);break}}}finally{Pr=!1,Error.prepareStackTrace=w}return(w=u?u.displayName||u.name:"")?Xa(w):""}function jr(u){switch(u.tag){case 26:case 27:case 5:return Xa(u.type);case 16:return Xa("Lazy");case 13:return Xa("Suspense");case 19:return Xa("SuspenseList");case 0:case 15:return Ts(u.type,!1);case 11:return Ts(u.type.render,!1);case 1:return Ts(u.type,!0);case 31:return Xa("Activity");default:return""}}function lo(u){try{var h="";do h+=jr(u),u=u.return;while(u);return h}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}function Ja(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Ra(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Du(u){var h=Ra(u)?"checked":"value",w=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),k=""+u[h];if(!u.hasOwnProperty(h)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var L=w.get,U=w.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return L.call(this)},set:function(se){k=""+se,U.call(this,se)}}),Object.defineProperty(u,h,{enumerable:w.enumerable}),{getValue:function(){return k},setValue:function(se){k=""+se},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function ud(u){u._valueTracker||(u._valueTracker=Du(u))}function $g(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var w=h.getValue(),k="";return u&&(k=Ra(u)?u.checked?"true":"false":u.value),u=k,u!==w?(h.setValue(u),!0):!1}function zg(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var v$=/[\n"\\]/g;function wi(u){return u.replace(v$,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function E1(u,h,w,k,L,U,se,pe){u.name="",se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?u.type=se:u.removeAttribute("type"),h!=null?se==="number"?(h===0&&u.value===""||u.value!=h)&&(u.value=""+Ja(h)):u.value!==""+Ja(h)&&(u.value=""+Ja(h)):se!=="submit"&&se!=="reset"||u.removeAttribute("value"),h!=null?T1(u,se,Ja(h)):w!=null?T1(u,se,Ja(w)):k!=null&&u.removeAttribute("value"),L==null&&U!=null&&(u.defaultChecked=!!U),L!=null&&(u.checked=L&&typeof L!="function"&&typeof L!="symbol"),pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?u.name=""+Ja(pe):u.removeAttribute("name")}function M3(u,h,w,k,L,U,se,pe){if(U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(u.type=U),h!=null||w!=null){if(!(U!=="submit"&&U!=="reset"||h!=null))return;w=w!=null?""+Ja(w):"",h=h!=null?""+Ja(h):w,pe||h===u.value||(u.value=h),u.defaultValue=h}k=k??L,k=typeof k!="function"&&typeof k!="symbol"&&!!k,u.checked=pe?u.checked:!!k,u.defaultChecked=!!k,se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"&&(u.name=se)}function T1(u,h,w){h==="number"&&zg(u.ownerDocument)===u||u.defaultValue===""+w||(u.defaultValue=""+w)}function Ru(u,h,w,k){if(u=u.options,h){h={};for(var L=0;L<w.length;L++)h["$"+w[L]]=!0;for(w=0;w<u.length;w++)L=h.hasOwnProperty("$"+u[w].value),u[w].selected!==L&&(u[w].selected=L),L&&k&&(u[w].defaultSelected=!0)}else{for(w=""+Ja(w),h=null,L=0;L<u.length;L++){if(u[L].value===w){u[L].selected=!0,k&&(u[L].defaultSelected=!0);return}h!==null||u[L].disabled||(h=u[L])}h!==null&&(h.selected=!0)}}function D3(u,h,w){if(h!=null&&(h=""+Ja(h),h!==u.value&&(u.value=h),w==null)){u.defaultValue!==h&&(u.defaultValue=h);return}u.defaultValue=w!=null?""+Ja(w):""}function R3(u,h,w,k){if(h==null){if(k!=null){if(w!=null)throw Error(r(92));if(B(k)){if(1<k.length)throw Error(r(93));k=k[0]}w=k}w==null&&(w=""),h=w}w=Ja(h),u.defaultValue=w,k=u.textContent,k===w&&k!==""&&k!==null&&(u.value=k)}function Au(u,h){if(h){var w=u.firstChild;if(w&&w===u.lastChild&&w.nodeType===3){w.nodeValue=h;return}}u.textContent=h}var j$=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function A3(u,h,w){var k=h.indexOf("--")===0;w==null||typeof w=="boolean"||w===""?k?u.setProperty(h,""):h==="float"?u.cssFloat="":u[h]="":k?u.setProperty(h,w):typeof w!="number"||w===0||j$.has(h)?h==="float"?u.cssFloat=w:u[h]=(""+w).trim():u[h]=w+"px"}function I3(u,h,w){if(h!=null&&typeof h!="object")throw Error(r(62));if(u=u.style,w!=null){for(var k in w)!w.hasOwnProperty(k)||h!=null&&h.hasOwnProperty(k)||(k.indexOf("--")===0?u.setProperty(k,""):k==="float"?u.cssFloat="":u[k]="");for(var L in h)k=h[L],h.hasOwnProperty(L)&&w[L]!==k&&A3(u,L,k)}else for(var U in h)h.hasOwnProperty(U)&&A3(u,U,h[U])}function M1(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N$=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_$=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qg(u){return _$.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var D1=null;function R1(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Iu=null,Ou=null;function O3(u){var h=Kt(u);if(h&&(u=h.stateNode)){var w=u[ve]||null;e:switch(u=h.stateNode,h.type){case"input":if(E1(u,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name),h=w.name,w.type==="radio"&&h!=null){for(w=u;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll('input[name="'+wi(""+h)+'"][type="radio"]'),h=0;h<w.length;h++){var k=w[h];if(k!==u&&k.form===u.form){var L=k[ve]||null;if(!L)throw Error(r(90));E1(k,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name)}}for(h=0;h<w.length;h++)k=w[h],k.form===u.form&&$g(k)}break e;case"textarea":D3(u,w.value,w.defaultValue);break e;case"select":h=w.value,h!=null&&Ru(u,!!w.multiple,h,!1)}}}var A1=!1;function F3(u,h,w){if(A1)return u(h,w);A1=!0;try{var k=u(h);return k}finally{if(A1=!1,(Iu!==null||Ou!==null)&&(C0(),Iu&&(h=Iu,u=Ou,Ou=Iu=null,O3(h),u)))for(h=0;h<u.length;h++)O3(u[h])}}function Bp(u,h){var w=u.stateNode;if(w===null)return null;var k=w[ve]||null;if(k===null)return null;w=k[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(u=u.type,k=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!k;break e;default:u=!1}if(u)return null;if(w&&typeof w!="function")throw Error(r(231,h,typeof w));return w}var ml=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I1=!1;if(ml)try{var Up={};Object.defineProperty(Up,"passive",{get:function(){I1=!0}}),window.addEventListener("test",Up,Up),window.removeEventListener("test",Up,Up)}catch{I1=!1}var sc=null,O1=null,Bg=null;function L3(){if(Bg)return Bg;var u,h=O1,w=h.length,k,L="value"in sc?sc.value:sc.textContent,U=L.length;for(u=0;u<w&&h[u]===L[u];u++);var se=w-u;for(k=1;k<=se&&h[w-k]===L[U-k];k++);return Bg=L.slice(u,1<k?1-k:void 0)}function Ug(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function Vg(){return!0}function $3(){return!1}function En(u){function h(w,k,L,U,se){this._reactName=w,this._targetInst=L,this.type=k,this.nativeEvent=U,this.target=se,this.currentTarget=null;for(var pe in u)u.hasOwnProperty(pe)&&(w=u[pe],this[pe]=w?w(U):U[pe]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Vg:$3,this.isPropagationStopped=$3,this}return d(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=Vg)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=Vg)},persist:function(){},isPersistent:Vg}),h}var md={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hg=En(md),Vp=d({},md,{view:0,detail:0}),w$=En(Vp),F1,L1,Hp,Wg=d({},Vp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z1,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Hp&&(Hp&&u.type==="mousemove"?(F1=u.screenX-Hp.screenX,L1=u.screenY-Hp.screenY):L1=F1=0,Hp=u),F1)},movementY:function(u){return"movementY"in u?u.movementY:L1}}),z3=En(Wg),S$=d({},Wg,{dataTransfer:0}),C$=En(S$),P$=d({},Vp,{relatedTarget:0}),$1=En(P$),k$=d({},md,{animationName:0,elapsedTime:0,pseudoElement:0}),E$=En(k$),T$=d({},md,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),M$=En(T$),D$=d({},md,{data:0}),q3=En(D$),R$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O$(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=I$[u])?!!h[u]:!1}function z1(){return O$}var F$=d({},Vp,{key:function(u){if(u.key){var h=R$[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=Ug(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?A$[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z1,charCode:function(u){return u.type==="keypress"?Ug(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Ug(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),L$=En(F$),$$=d({},Wg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B3=En($$),z$=d({},Vp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z1}),q$=En(z$),B$=d({},md,{propertyName:0,elapsedTime:0,pseudoElement:0}),U$=En(B$),V$=d({},Wg,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),H$=En(V$),W$=d({},md,{newState:0,oldState:0}),Y$=En(W$),G$=[9,13,27,32],q1=ml&&"CompositionEvent"in window,Wp=null;ml&&"documentMode"in document&&(Wp=document.documentMode);var K$=ml&&"TextEvent"in window&&!Wp,U3=ml&&(!q1||Wp&&8<Wp&&11>=Wp),V3=" ",H3=!1;function W3(u,h){switch(u){case"keyup":return G$.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y3(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Fu=!1;function Q$(u,h){switch(u){case"compositionend":return Y3(h);case"keypress":return h.which!==32?null:(H3=!0,V3);case"textInput":return u=h.data,u===V3&&H3?null:u;default:return null}}function Z$(u,h){if(Fu)return u==="compositionend"||!q1&&W3(u,h)?(u=L3(),Bg=O1=sc=null,Fu=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return U3&&h.locale!=="ko"?null:h.data;default:return null}}var X$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G3(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!X$[u.type]:h==="textarea"}function K3(u,h,w,k){Iu?Ou?Ou.push(k):Ou=[k]:Iu=k,h=D0(h,"onChange"),0<h.length&&(w=new Hg("onChange","change",null,w,k),u.push({event:w,listeners:h}))}var Yp=null,Gp=null;function J$(u){E6(u,0)}function Yg(u){var h=as(u);if($g(h))return u}function Q3(u,h){if(u==="change")return h}var Z3=!1;if(ml){var B1;if(ml){var U1="oninput"in document;if(!U1){var X3=document.createElement("div");X3.setAttribute("oninput","return;"),U1=typeof X3.oninput=="function"}B1=U1}else B1=!1;Z3=B1&&(!document.documentMode||9<document.documentMode)}function J3(){Yp&&(Yp.detachEvent("onpropertychange",eC),Gp=Yp=null)}function eC(u){if(u.propertyName==="value"&&Yg(Gp)){var h=[];K3(h,Gp,u,R1(u)),F3(J$,h)}}function ez(u,h,w){u==="focusin"?(J3(),Yp=h,Gp=w,Yp.attachEvent("onpropertychange",eC)):u==="focusout"&&J3()}function tz(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Yg(Gp)}function sz(u,h){if(u==="click")return Yg(h)}function az(u,h){if(u==="input"||u==="change")return Yg(h)}function rz(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Kn=typeof Object.is=="function"?Object.is:rz;function Kp(u,h){if(Kn(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var w=Object.keys(u),k=Object.keys(h);if(w.length!==k.length)return!1;for(k=0;k<w.length;k++){var L=w[k];if(!ge.call(h,L)||!Kn(u[L],h[L]))return!1}return!0}function tC(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function sC(u,h){var w=tC(u);u=0;for(var k;w;){if(w.nodeType===3){if(k=u+w.textContent.length,u<=h&&k>=h)return{node:w,offset:h-u};u=k}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=tC(w)}}function aC(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?aC(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function rC(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var h=zg(u.document);h instanceof u.HTMLIFrameElement;){try{var w=typeof h.contentWindow.location.href=="string"}catch{w=!1}if(w)u=h.contentWindow;else break;h=zg(u.document)}return h}function V1(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}var nz=ml&&"documentMode"in document&&11>=document.documentMode,Lu=null,H1=null,Qp=null,W1=!1;function nC(u,h,w){var k=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;W1||Lu==null||Lu!==zg(k)||(k=Lu,"selectionStart"in k&&V1(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),Qp&&Kp(Qp,k)||(Qp=k,k=D0(H1,"onSelect"),0<k.length&&(h=new Hg("onSelect","select",null,h,w),u.push({event:h,listeners:k}),h.target=Lu)))}function pd(u,h){var w={};return w[u.toLowerCase()]=h.toLowerCase(),w["Webkit"+u]="webkit"+h,w["Moz"+u]="moz"+h,w}var $u={animationend:pd("Animation","AnimationEnd"),animationiteration:pd("Animation","AnimationIteration"),animationstart:pd("Animation","AnimationStart"),transitionrun:pd("Transition","TransitionRun"),transitionstart:pd("Transition","TransitionStart"),transitioncancel:pd("Transition","TransitionCancel"),transitionend:pd("Transition","TransitionEnd")},Y1={},iC={};ml&&(iC=document.createElement("div").style,"AnimationEvent"in window||(delete $u.animationend.animation,delete $u.animationiteration.animation,delete $u.animationstart.animation),"TransitionEvent"in window||delete $u.transitionend.transition);function hd(u){if(Y1[u])return Y1[u];if(!$u[u])return u;var h=$u[u],w;for(w in h)if(h.hasOwnProperty(w)&&w in iC)return Y1[u]=h[w];return u}var oC=hd("animationend"),lC=hd("animationiteration"),cC=hd("animationstart"),iz=hd("transitionrun"),oz=hd("transitionstart"),lz=hd("transitioncancel"),dC=hd("transitionend"),uC=new Map,G1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");G1.push("scrollEnd");function co(u,h){uC.set(u,h),Dt(h,[u])}var mC=new WeakMap;function Si(u,h){if(typeof u=="object"&&u!==null){var w=mC.get(u);return w!==void 0?w:(h={value:u,source:h,stack:lo(h)},mC.set(u,h),h)}return{value:u,source:h,stack:lo(h)}}var Ci=[],zu=0,K1=0;function Gg(){for(var u=zu,h=K1=zu=0;h<u;){var w=Ci[h];Ci[h++]=null;var k=Ci[h];Ci[h++]=null;var L=Ci[h];Ci[h++]=null;var U=Ci[h];if(Ci[h++]=null,k!==null&&L!==null){var se=k.pending;se===null?L.next=L:(L.next=se.next,se.next=L),k.pending=L}U!==0&&pC(w,L,U)}}function Kg(u,h,w,k){Ci[zu++]=u,Ci[zu++]=h,Ci[zu++]=w,Ci[zu++]=k,K1|=k,u.lanes|=k,u=u.alternate,u!==null&&(u.lanes|=k)}function Q1(u,h,w,k){return Kg(u,h,w,k),Qg(u)}function qu(u,h){return Kg(u,null,null,h),Qg(u)}function pC(u,h,w){u.lanes|=w;var k=u.alternate;k!==null&&(k.lanes|=w);for(var L=!1,U=u.return;U!==null;)U.childLanes|=w,k=U.alternate,k!==null&&(k.childLanes|=w),U.tag===22&&(u=U.stateNode,u===null||u._visibility&1||(L=!0)),u=U,U=U.return;return u.tag===3?(U=u.stateNode,L&&h!==null&&(L=31-ye(w),u=U.hiddenUpdates,k=u[L],k===null?u[L]=[h]:k.push(h),h.lane=w|536870912),U):null}function Qg(u){if(50<jh)throw jh=0,s2=null,Error(r(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}var Bu={};function cz(u,h,w,k){this.tag=u,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(u,h,w,k){return new cz(u,h,w,k)}function Z1(u){return u=u.prototype,!(!u||!u.isReactComponent)}function pl(u,h){var w=u.alternate;return w===null?(w=Qn(u.tag,h,u.key,u.mode),w.elementType=u.elementType,w.type=u.type,w.stateNode=u.stateNode,w.alternate=u,u.alternate=w):(w.pendingProps=h,w.type=u.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=u.flags&65011712,w.childLanes=u.childLanes,w.lanes=u.lanes,w.child=u.child,w.memoizedProps=u.memoizedProps,w.memoizedState=u.memoizedState,w.updateQueue=u.updateQueue,h=u.dependencies,w.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},w.sibling=u.sibling,w.index=u.index,w.ref=u.ref,w.refCleanup=u.refCleanup,w}function hC(u,h){u.flags&=65011714;var w=u.alternate;return w===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=w.childLanes,u.lanes=w.lanes,u.child=w.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=w.memoizedProps,u.memoizedState=w.memoizedState,u.updateQueue=w.updateQueue,u.type=w.type,h=w.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function Zg(u,h,w,k,L,U){var se=0;if(k=u,typeof u=="function")Z1(u)&&(se=1);else if(typeof u=="string")se=uq(u,w,J.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case I:return u=Qn(31,w,h,L),u.elementType=I,u.lanes=U,u;case _:return fd(w.children,L,U,h);case S:se=8,L|=24;break;case v:return u=Qn(12,w,h,L|2),u.elementType=v,u.lanes=U,u;case E:return u=Qn(13,w,h,L),u.elementType=E,u.lanes=U,u;case D:return u=Qn(19,w,h,L),u.elementType=D,u.lanes=U,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case y:case C:se=10;break e;case N:se=9;break e;case P:se=11;break e;case T:se=14;break e;case A:se=16,k=null;break e}se=29,w=Error(r(130,u===null?"null":typeof u,"")),k=null}return h=Qn(se,w,h,L),h.elementType=u,h.type=k,h.lanes=U,h}function fd(u,h,w,k){return u=Qn(7,u,k,h),u.lanes=w,u}function X1(u,h,w){return u=Qn(6,u,null,h),u.lanes=w,u}function J1(u,h,w){return h=Qn(4,u.children!==null?u.children:[],u.key,h),h.lanes=w,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}var Uu=[],Vu=0,Xg=null,Jg=0,Pi=[],ki=0,xd=null,hl=1,fl="";function gd(u,h){Uu[Vu++]=Jg,Uu[Vu++]=Xg,Xg=u,Jg=h}function fC(u,h,w){Pi[ki++]=hl,Pi[ki++]=fl,Pi[ki++]=xd,xd=u;var k=hl;u=fl;var L=32-ye(k)-1;k&=~(1<<L),w+=1;var U=32-ye(h)+L;if(30<U){var se=L-L%5;U=(k&(1<<se)-1).toString(32),k>>=se,L-=se,hl=1<<32-ye(h)+L|w<<L|k,fl=U+u}else hl=1<<U|w<<L|k,fl=u}function ej(u){u.return!==null&&(gd(u,1),fC(u,1,0))}function tj(u){for(;u===Xg;)Xg=Uu[--Vu],Uu[Vu]=null,Jg=Uu[--Vu],Uu[Vu]=null;for(;u===xd;)xd=Pi[--ki],Pi[ki]=null,fl=Pi[--ki],Pi[ki]=null,hl=Pi[--ki],Pi[ki]=null}var hn=null,er=null,da=!1,bd=null,Po=!1,sj=Error(r(519));function yd(u){var h=Error(r(418,""));throw Jp(Si(h,u)),sj}function xC(u){var h=u.stateNode,w=u.type,k=u.memoizedProps;switch(h[ds]=u,h[ve]=k,w){case"dialog":Xs("cancel",h),Xs("close",h);break;case"iframe":case"object":case"embed":Xs("load",h);break;case"video":case"audio":for(w=0;w<_h.length;w++)Xs(_h[w],h);break;case"source":Xs("error",h);break;case"img":case"image":case"link":Xs("error",h),Xs("load",h);break;case"details":Xs("toggle",h);break;case"input":Xs("invalid",h),M3(h,k.value,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name,!0),ud(h);break;case"select":Xs("invalid",h);break;case"textarea":Xs("invalid",h),R3(h,k.value,k.defaultValue,k.children),ud(h)}w=k.children,typeof w!="string"&&typeof w!="number"&&typeof w!="bigint"||h.textContent===""+w||k.suppressHydrationWarning===!0||R6(h.textContent,w)?(k.popover!=null&&(Xs("beforetoggle",h),Xs("toggle",h)),k.onScroll!=null&&Xs("scroll",h),k.onScrollEnd!=null&&Xs("scrollend",h),k.onClick!=null&&(h.onclick=R0),h=!0):h=!1,h||yd(u)}function gC(u){for(hn=u.return;hn;)switch(hn.tag){case 5:case 13:Po=!1;return;case 27:case 3:Po=!0;return;default:hn=hn.return}}function Zp(u){if(u!==hn)return!1;if(!da)return gC(u),da=!0,!1;var h=u.tag,w;if((w=h!==3&&h!==27)&&((w=h===5)&&(w=u.type,w=!(w!=="form"&&w!=="button")||b2(u.type,u.memoizedProps)),w=!w),w&&er&&yd(u),gC(u),h===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8)if(w=u.data,w==="/$"){if(h===0){er=mo(u.nextSibling);break e}h--}else w!=="$"&&w!=="$!"&&w!=="$?"||h++;u=u.nextSibling}er=null}}else h===27?(h=er,bc(u.type)?(u=N2,N2=null,er=u):er=h):er=hn?mo(u.stateNode.nextSibling):null;return!0}function Xp(){er=hn=null,da=!1}function bC(){var u=bd;return u!==null&&(Dn===null?Dn=u:Dn.push.apply(Dn,u),bd=null),u}function Jp(u){bd===null?bd=[u]:bd.push(u)}var aj=R(null),vd=null,xl=null;function ac(u,h,w){Y(aj,h._currentValue),h._currentValue=w}function gl(u){u._currentValue=aj.current,$(aj)}function rj(u,h,w){for(;u!==null;){var k=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,k!==null&&(k.childLanes|=h)):k!==null&&(k.childLanes&h)!==h&&(k.childLanes|=h),u===w)break;u=u.return}}function nj(u,h,w,k){var L=u.child;for(L!==null&&(L.return=u);L!==null;){var U=L.dependencies;if(U!==null){var se=L.child;U=U.firstContext;e:for(;U!==null;){var pe=U;U=L;for(var we=0;we<h.length;we++)if(pe.context===h[we]){U.lanes|=w,pe=U.alternate,pe!==null&&(pe.lanes|=w),rj(U.return,w,u),k||(se=null);break e}U=pe.next}}else if(L.tag===18){if(se=L.return,se===null)throw Error(r(341));se.lanes|=w,U=se.alternate,U!==null&&(U.lanes|=w),rj(se,w,u),se=null}else se=L.child;if(se!==null)se.return=L;else for(se=L;se!==null;){if(se===u){se=null;break}if(L=se.sibling,L!==null){L.return=se.return,se=L;break}se=se.return}L=se}}function eh(u,h,w,k){u=null;for(var L=h,U=!1;L!==null;){if(!U){if((L.flags&524288)!==0)U=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var se=L.alternate;if(se===null)throw Error(r(387));if(se=se.memoizedProps,se!==null){var pe=L.type;Kn(L.pendingProps.value,se.value)||(u!==null?u.push(pe):u=[pe])}}else if(L===ne.current){if(se=L.alternate,se===null)throw Error(r(387));se.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(u!==null?u.push(Eh):u=[Eh])}L=L.return}u!==null&&nj(h,u,w,k),h.flags|=262144}function e0(u){for(u=u.firstContext;u!==null;){if(!Kn(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function jd(u){vd=u,xl=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function en(u){return yC(vd,u)}function t0(u,h){return vd===null&&jd(u),yC(u,h)}function yC(u,h){var w=h._currentValue;if(h={context:h,memoizedValue:w,next:null},xl===null){if(u===null)throw Error(r(308));xl=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else xl=xl.next=h;return w}var dz=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(w,k){u.push(k)}};this.abort=function(){h.aborted=!0,u.forEach(function(w){return w()})}},uz=t.unstable_scheduleCallback,mz=t.unstable_NormalPriority,kr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ij(){return{controller:new dz,data:new Map,refCount:0}}function th(u){u.refCount--,u.refCount===0&&uz(mz,function(){u.controller.abort()})}var sh=null,oj=0,Hu=0,Wu=null;function pz(u,h){if(sh===null){var w=sh=[];oj=0,Hu=c2(),Wu={status:"pending",value:void 0,then:function(k){w.push(k)}}}return oj++,h.then(vC,vC),h}function vC(){if(--oj===0&&sh!==null){Wu!==null&&(Wu.status="fulfilled");var u=sh;sh=null,Hu=0,Wu=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function hz(u,h){var w=[],k={status:"pending",value:null,reason:null,then:function(L){w.push(L)}};return u.then(function(){k.status="fulfilled",k.value=h;for(var L=0;L<w.length;L++)(0,w[L])(h)},function(L){for(k.status="rejected",k.reason=L,L=0;L<w.length;L++)(0,w[L])(void 0)}),k}var jC=q.S;q.S=function(u,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&pz(u,h),jC!==null&&jC(u,h)};var Nd=R(null);function lj(){var u=Nd.current;return u!==null?u:La.pooledCache}function s0(u,h){h===null?Y(Nd,Nd.current):Y(Nd,h.pool)}function NC(){var u=lj();return u===null?null:{parent:kr._currentValue,pool:u}}var ah=Error(r(460)),_C=Error(r(474)),a0=Error(r(542)),cj={then:function(){}};function wC(u){return u=u.status,u==="fulfilled"||u==="rejected"}function r0(){}function SC(u,h,w){switch(w=u[w],w===void 0?u.push(h):w!==h&&(h.then(r0,r0),h=w),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,PC(u),u;default:if(typeof h.status=="string")h.then(r0,r0);else{if(u=La,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=h,u.status="pending",u.then(function(k){if(h.status==="pending"){var L=h;L.status="fulfilled",L.value=k}},function(k){if(h.status==="pending"){var L=h;L.status="rejected",L.reason=k}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,PC(u),u}throw rh=h,ah}}var rh=null;function CC(){if(rh===null)throw Error(r(459));var u=rh;return rh=null,u}function PC(u){if(u===ah||u===a0)throw Error(r(483))}var rc=!1;function dj(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uj(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function nc(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function ic(u,h,w){var k=u.updateQueue;if(k===null)return null;if(k=k.shared,(va&2)!==0){var L=k.pending;return L===null?h.next=h:(h.next=L.next,L.next=h),k.pending=h,h=Qg(u),pC(u,null,w),h}return Kg(u,k,h,w),Qg(u)}function nh(u,h,w){if(h=h.updateQueue,h!==null&&(h=h.shared,(w&4194048)!==0)){var k=h.lanes;k&=u.pendingLanes,w|=k,h.lanes=w,ha(u,w)}}function mj(u,h){var w=u.updateQueue,k=u.alternate;if(k!==null&&(k=k.updateQueue,w===k)){var L=null,U=null;if(w=w.firstBaseUpdate,w!==null){do{var se={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};U===null?L=U=se:U=U.next=se,w=w.next}while(w!==null);U===null?L=U=h:U=U.next=h}else L=U=h;w={baseState:k.baseState,firstBaseUpdate:L,lastBaseUpdate:U,shared:k.shared,callbacks:k.callbacks},u.updateQueue=w;return}u=w.lastBaseUpdate,u===null?w.firstBaseUpdate=h:u.next=h,w.lastBaseUpdate=h}var pj=!1;function ih(){if(pj){var u=Wu;if(u!==null)throw u}}function oh(u,h,w,k){pj=!1;var L=u.updateQueue;rc=!1;var U=L.firstBaseUpdate,se=L.lastBaseUpdate,pe=L.shared.pending;if(pe!==null){L.shared.pending=null;var we=pe,We=we.next;we.next=null,se===null?U=We:se.next=We,se=we;var ht=u.alternate;ht!==null&&(ht=ht.updateQueue,pe=ht.lastBaseUpdate,pe!==se&&(pe===null?ht.firstBaseUpdate=We:pe.next=We,ht.lastBaseUpdate=we))}if(U!==null){var wt=L.baseState;se=0,ht=We=we=null,pe=U;do{var Qe=pe.lane&-536870913,Xe=Qe!==pe.lane;if(Xe?(ra&Qe)===Qe:(k&Qe)===Qe){Qe!==0&&Qe===Hu&&(pj=!0),ht!==null&&(ht=ht.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var Ss=u,js=pe;Qe=h;var Ta=w;switch(js.tag){case 1:if(Ss=js.payload,typeof Ss=="function"){wt=Ss.call(Ta,wt,Qe);break e}wt=Ss;break e;case 3:Ss.flags=Ss.flags&-65537|128;case 0:if(Ss=js.payload,Qe=typeof Ss=="function"?Ss.call(Ta,wt,Qe):Ss,Qe==null)break e;wt=d({},wt,Qe);break e;case 2:rc=!0}}Qe=pe.callback,Qe!==null&&(u.flags|=64,Xe&&(u.flags|=8192),Xe=L.callbacks,Xe===null?L.callbacks=[Qe]:Xe.push(Qe))}else Xe={lane:Qe,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},ht===null?(We=ht=Xe,we=wt):ht=ht.next=Xe,se|=Qe;if(pe=pe.next,pe===null){if(pe=L.shared.pending,pe===null)break;Xe=pe,pe=Xe.next,Xe.next=null,L.lastBaseUpdate=Xe,L.shared.pending=null}}while(!0);ht===null&&(we=wt),L.baseState=we,L.firstBaseUpdate=We,L.lastBaseUpdate=ht,U===null&&(L.shared.lanes=0),hc|=se,u.lanes=se,u.memoizedState=wt}}function kC(u,h){if(typeof u!="function")throw Error(r(191,u));u.call(h)}function EC(u,h){var w=u.callbacks;if(w!==null)for(u.callbacks=null,u=0;u<w.length;u++)kC(w[u],h)}var Yu=R(null),n0=R(0);function TC(u,h){u=wl,Y(n0,u),Y(Yu,h),wl=u|h.baseLanes}function hj(){Y(n0,wl),Y(Yu,Yu.current)}function fj(){wl=n0.current,$(Yu),$(n0)}var oc=0,Hs=null,ka=null,Nr=null,i0=!1,Gu=!1,_d=!1,o0=0,lh=0,Ku=null,fz=0;function pr(){throw Error(r(321))}function xj(u,h){if(h===null)return!1;for(var w=0;w<h.length&&w<u.length;w++)if(!Kn(u[w],h[w]))return!1;return!0}function gj(u,h,w,k,L,U){return oc=U,Hs=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,q.H=u===null||u.memoizedState===null?p5:h5,_d=!1,U=w(k,L),_d=!1,Gu&&(U=DC(h,w,k,L)),MC(u),U}function MC(u){q.H=p0;var h=ka!==null&&ka.next!==null;if(oc=0,Nr=ka=Hs=null,i0=!1,lh=0,Ku=null,h)throw Error(r(300));u===null||Ar||(u=u.dependencies,u!==null&&e0(u)&&(Ar=!0))}function DC(u,h,w,k){Hs=u;var L=0;do{if(Gu&&(Ku=null),lh=0,Gu=!1,25<=L)throw Error(r(301));if(L+=1,Nr=ka=null,u.updateQueue!=null){var U=u.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}q.H=Nz,U=h(w,k)}while(Gu);return U}function xz(){var u=q.H,h=u.useState()[0];return h=typeof h.then=="function"?ch(h):h,u=u.useState()[0],(ka!==null?ka.memoizedState:null)!==u&&(Hs.flags|=1024),h}function bj(){var u=o0!==0;return o0=0,u}function yj(u,h,w){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~w}function vj(u){if(i0){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}i0=!1}oc=0,Nr=ka=Hs=null,Gu=!1,lh=o0=0,Ku=null}function Tn(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?Hs.memoizedState=Nr=u:Nr=Nr.next=u,Nr}function _r(){if(ka===null){var u=Hs.alternate;u=u!==null?u.memoizedState:null}else u=ka.next;var h=Nr===null?Hs.memoizedState:Nr.next;if(h!==null)Nr=h,ka=u;else{if(u===null)throw Hs.alternate===null?Error(r(467)):Error(r(310));ka=u,u={memoizedState:ka.memoizedState,baseState:ka.baseState,baseQueue:ka.baseQueue,queue:ka.queue,next:null},Nr===null?Hs.memoizedState=Nr=u:Nr=Nr.next=u}return Nr}function jj(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ch(u){var h=lh;return lh+=1,Ku===null&&(Ku=[]),u=SC(Ku,u,h),h=Hs,(Nr===null?h.memoizedState:Nr.next)===null&&(h=h.alternate,q.H=h===null||h.memoizedState===null?p5:h5),u}function l0(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return ch(u);if(u.$$typeof===C)return en(u)}throw Error(r(438,String(u)))}function Nj(u){var h=null,w=Hs.updateQueue;if(w!==null&&(h=w.memoCache),h==null){var k=Hs.alternate;k!==null&&(k=k.updateQueue,k!==null&&(k=k.memoCache,k!=null&&(h={data:k.data.map(function(L){return L.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),w===null&&(w=jj(),Hs.updateQueue=w),w.memoCache=h,w=h.data[h.index],w===void 0)for(w=h.data[h.index]=Array(u),k=0;k<u;k++)w[k]=F;return h.index++,w}function bl(u,h){return typeof h=="function"?h(u):h}function c0(u){var h=_r();return _j(h,ka,u)}function _j(u,h,w){var k=u.queue;if(k===null)throw Error(r(311));k.lastRenderedReducer=w;var L=u.baseQueue,U=k.pending;if(U!==null){if(L!==null){var se=L.next;L.next=U.next,U.next=se}h.baseQueue=L=U,k.pending=null}if(U=u.baseState,L===null)u.memoizedState=U;else{h=L.next;var pe=se=null,we=null,We=h,ht=!1;do{var wt=We.lane&-536870913;if(wt!==We.lane?(ra&wt)===wt:(oc&wt)===wt){var Qe=We.revertLane;if(Qe===0)we!==null&&(we=we.next={lane:0,revertLane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),wt===Hu&&(ht=!0);else if((oc&Qe)===Qe){We=We.next,Qe===Hu&&(ht=!0);continue}else wt={lane:0,revertLane:We.revertLane,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},we===null?(pe=we=wt,se=U):we=we.next=wt,Hs.lanes|=Qe,hc|=Qe;wt=We.action,_d&&w(U,wt),U=We.hasEagerState?We.eagerState:w(U,wt)}else Qe={lane:wt,revertLane:We.revertLane,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},we===null?(pe=we=Qe,se=U):we=we.next=Qe,Hs.lanes|=wt,hc|=wt;We=We.next}while(We!==null&&We!==h);if(we===null?se=U:we.next=pe,!Kn(U,u.memoizedState)&&(Ar=!0,ht&&(w=Wu,w!==null)))throw w;u.memoizedState=U,u.baseState=se,u.baseQueue=we,k.lastRenderedState=U}return L===null&&(k.lanes=0),[u.memoizedState,k.dispatch]}function wj(u){var h=_r(),w=h.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=u;var k=w.dispatch,L=w.pending,U=h.memoizedState;if(L!==null){w.pending=null;var se=L=L.next;do U=u(U,se.action),se=se.next;while(se!==L);Kn(U,h.memoizedState)||(Ar=!0),h.memoizedState=U,h.baseQueue===null&&(h.baseState=U),w.lastRenderedState=U}return[U,k]}function RC(u,h,w){var k=Hs,L=_r(),U=da;if(U){if(w===void 0)throw Error(r(407));w=w()}else w=h();var se=!Kn((ka||L).memoizedState,w);se&&(L.memoizedState=w,Ar=!0),L=L.queue;var pe=OC.bind(null,k,L,u);if(dh(2048,8,pe,[u]),L.getSnapshot!==h||se||Nr!==null&&Nr.memoizedState.tag&1){if(k.flags|=2048,Qu(9,d0(),IC.bind(null,k,L,w,h),null),La===null)throw Error(r(349));U||(oc&124)!==0||AC(k,h,w)}return w}function AC(u,h,w){u.flags|=16384,u={getSnapshot:h,value:w},h=Hs.updateQueue,h===null?(h=jj(),Hs.updateQueue=h,h.stores=[u]):(w=h.stores,w===null?h.stores=[u]:w.push(u))}function IC(u,h,w,k){h.value=w,h.getSnapshot=k,FC(h)&&LC(u)}function OC(u,h,w){return w(function(){FC(h)&&LC(u)})}function FC(u){var h=u.getSnapshot;u=u.value;try{var w=h();return!Kn(u,w)}catch{return!0}}function LC(u){var h=qu(u,2);h!==null&&ti(h,u,2)}function Sj(u){var h=Tn();if(typeof u=="function"){var w=u;if(u=w(),_d){Mt(!0);try{w()}finally{Mt(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:u},h}function $C(u,h,w,k){return u.baseState=w,_j(u,ka,typeof k=="function"?k:bl)}function gz(u,h,w,k,L){if(m0(u))throw Error(r(485));if(u=h.action,u!==null){var U={payload:L,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(se){U.listeners.push(se)}};q.T!==null?w(!0):U.isTransition=!1,k(U),w=h.pending,w===null?(U.next=h.pending=U,zC(h,U)):(U.next=w.next,h.pending=w.next=U)}}function zC(u,h){var w=h.action,k=h.payload,L=u.state;if(h.isTransition){var U=q.T,se={};q.T=se;try{var pe=w(L,k),we=q.S;we!==null&&we(se,pe),qC(u,h,pe)}catch(We){Cj(u,h,We)}finally{q.T=U}}else try{U=w(L,k),qC(u,h,U)}catch(We){Cj(u,h,We)}}function qC(u,h,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(k){BC(u,h,k)},function(k){return Cj(u,h,k)}):BC(u,h,w)}function BC(u,h,w){h.status="fulfilled",h.value=w,UC(h),u.state=w,h=u.pending,h!==null&&(w=h.next,w===h?u.pending=null:(w=w.next,h.next=w,zC(u,w)))}function Cj(u,h,w){var k=u.pending;if(u.pending=null,k!==null){k=k.next;do h.status="rejected",h.reason=w,UC(h),h=h.next;while(h!==k)}u.action=null}function UC(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function VC(u,h){return h}function HC(u,h){if(da){var w=La.formState;if(w!==null){e:{var k=Hs;if(da){if(er){t:{for(var L=er,U=Po;L.nodeType!==8;){if(!U){L=null;break t}if(L=mo(L.nextSibling),L===null){L=null;break t}}U=L.data,L=U==="F!"||U==="F"?L:null}if(L){er=mo(L.nextSibling),k=L.data==="F!";break e}}yd(k)}k=!1}k&&(h=w[0])}}return w=Tn(),w.memoizedState=w.baseState=h,k={pending:null,lanes:0,dispatch:null,lastRenderedReducer:VC,lastRenderedState:h},w.queue=k,w=d5.bind(null,Hs,k),k.dispatch=w,k=Sj(!1),U=Mj.bind(null,Hs,!1,k.queue),k=Tn(),L={state:h,dispatch:null,action:u,pending:null},k.queue=L,w=gz.bind(null,Hs,L,U,w),L.dispatch=w,k.memoizedState=u,[h,w,!1]}function WC(u){var h=_r();return YC(h,ka,u)}function YC(u,h,w){if(h=_j(u,h,VC)[0],u=c0(bl)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var k=ch(h)}catch(se){throw se===ah?a0:se}else k=h;h=_r();var L=h.queue,U=L.dispatch;return w!==h.memoizedState&&(Hs.flags|=2048,Qu(9,d0(),bz.bind(null,L,w),null)),[k,U,u]}function bz(u,h){u.action=h}function GC(u){var h=_r(),w=ka;if(w!==null)return YC(h,w,u);_r(),h=h.memoizedState,w=_r();var k=w.queue.dispatch;return w.memoizedState=u,[h,k,!1]}function Qu(u,h,w,k){return u={tag:u,create:w,deps:k,inst:h,next:null},h=Hs.updateQueue,h===null&&(h=jj(),Hs.updateQueue=h),w=h.lastEffect,w===null?h.lastEffect=u.next=u:(k=w.next,w.next=u,u.next=k,h.lastEffect=u),u}function d0(){return{destroy:void 0,resource:void 0}}function KC(){return _r().memoizedState}function u0(u,h,w,k){var L=Tn();k=k===void 0?null:k,Hs.flags|=u,L.memoizedState=Qu(1|h,d0(),w,k)}function dh(u,h,w,k){var L=_r();k=k===void 0?null:k;var U=L.memoizedState.inst;ka!==null&&k!==null&&xj(k,ka.memoizedState.deps)?L.memoizedState=Qu(h,U,w,k):(Hs.flags|=u,L.memoizedState=Qu(1|h,U,w,k))}function QC(u,h){u0(8390656,8,u,h)}function ZC(u,h){dh(2048,8,u,h)}function XC(u,h){return dh(4,2,u,h)}function JC(u,h){return dh(4,4,u,h)}function e5(u,h){if(typeof h=="function"){u=u();var w=h(u);return function(){typeof w=="function"?w():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function t5(u,h,w){w=w!=null?w.concat([u]):null,dh(4,4,e5.bind(null,h,u),w)}function Pj(){}function s5(u,h){var w=_r();h=h===void 0?null:h;var k=w.memoizedState;return h!==null&&xj(h,k[1])?k[0]:(w.memoizedState=[u,h],u)}function a5(u,h){var w=_r();h=h===void 0?null:h;var k=w.memoizedState;if(h!==null&&xj(h,k[1]))return k[0];if(k=u(),_d){Mt(!0);try{u()}finally{Mt(!1)}}return w.memoizedState=[k,h],k}function kj(u,h,w){return w===void 0||(oc&1073741824)!==0?u.memoizedState=h:(u.memoizedState=w,u=i6(),Hs.lanes|=u,hc|=u,w)}function r5(u,h,w,k){return Kn(w,h)?w:Yu.current!==null?(u=kj(u,w,k),Kn(u,h)||(Ar=!0),u):(oc&42)===0?(Ar=!0,u.memoizedState=w):(u=i6(),Hs.lanes|=u,hc|=u,h)}function n5(u,h,w,k,L){var U=H.p;H.p=U!==0&&8>U?U:8;var se=q.T,pe={};q.T=pe,Mj(u,!1,h,w);try{var we=L(),We=q.S;if(We!==null&&We(pe,we),we!==null&&typeof we=="object"&&typeof we.then=="function"){var ht=hz(we,k);uh(u,h,ht,ei(u))}else uh(u,h,k,ei(u))}catch(wt){uh(u,h,{then:function(){},status:"rejected",reason:wt},ei())}finally{H.p=U,q.T=se}}function yz(){}function Ej(u,h,w,k){if(u.tag!==5)throw Error(r(476));var L=i5(u).queue;n5(u,L,h,Q,w===null?yz:function(){return o5(u),w(k)})}function i5(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:Q},next:null};var w={};return h.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:w},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function o5(u){var h=i5(u).next.queue;uh(u,h,{},ei())}function Tj(){return en(Eh)}function l5(){return _r().memoizedState}function c5(){return _r().memoizedState}function vz(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var w=ei();u=nc(w);var k=ic(h,u,w);k!==null&&(ti(k,h,w),nh(k,h,w)),h={cache:ij()},u.payload=h;return}h=h.return}}function jz(u,h,w){var k=ei();w={lane:k,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null},m0(u)?u5(h,w):(w=Q1(u,h,w,k),w!==null&&(ti(w,u,k),m5(w,h,k)))}function d5(u,h,w){var k=ei();uh(u,h,w,k)}function uh(u,h,w,k){var L={lane:k,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null};if(m0(u))u5(h,L);else{var U=u.alternate;if(u.lanes===0&&(U===null||U.lanes===0)&&(U=h.lastRenderedReducer,U!==null))try{var se=h.lastRenderedState,pe=U(se,w);if(L.hasEagerState=!0,L.eagerState=pe,Kn(pe,se))return Kg(u,h,L,0),La===null&&Gg(),!1}catch{}if(w=Q1(u,h,L,k),w!==null)return ti(w,u,k),m5(w,h,k),!0}return!1}function Mj(u,h,w,k){if(k={lane:2,revertLane:c2(),action:k,hasEagerState:!1,eagerState:null,next:null},m0(u)){if(h)throw Error(r(479))}else h=Q1(u,w,k,2),h!==null&&ti(h,u,2)}function m0(u){var h=u.alternate;return u===Hs||h!==null&&h===Hs}function u5(u,h){Gu=i0=!0;var w=u.pending;w===null?h.next=h:(h.next=w.next,w.next=h),u.pending=h}function m5(u,h,w){if((w&4194048)!==0){var k=h.lanes;k&=u.pendingLanes,w|=k,h.lanes=w,ha(u,w)}}var p0={readContext:en,use:l0,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useLayoutEffect:pr,useInsertionEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useSyncExternalStore:pr,useId:pr,useHostTransitionStatus:pr,useFormState:pr,useActionState:pr,useOptimistic:pr,useMemoCache:pr,useCacheRefresh:pr},p5={readContext:en,use:l0,useCallback:function(u,h){return Tn().memoizedState=[u,h===void 0?null:h],u},useContext:en,useEffect:QC,useImperativeHandle:function(u,h,w){w=w!=null?w.concat([u]):null,u0(4194308,4,e5.bind(null,h,u),w)},useLayoutEffect:function(u,h){return u0(4194308,4,u,h)},useInsertionEffect:function(u,h){u0(4,2,u,h)},useMemo:function(u,h){var w=Tn();h=h===void 0?null:h;var k=u();if(_d){Mt(!0);try{u()}finally{Mt(!1)}}return w.memoizedState=[k,h],k},useReducer:function(u,h,w){var k=Tn();if(w!==void 0){var L=w(h);if(_d){Mt(!0);try{w(h)}finally{Mt(!1)}}}else L=h;return k.memoizedState=k.baseState=L,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:L},k.queue=u,u=u.dispatch=jz.bind(null,Hs,u),[k.memoizedState,u]},useRef:function(u){var h=Tn();return u={current:u},h.memoizedState=u},useState:function(u){u=Sj(u);var h=u.queue,w=d5.bind(null,Hs,h);return h.dispatch=w,[u.memoizedState,w]},useDebugValue:Pj,useDeferredValue:function(u,h){var w=Tn();return kj(w,u,h)},useTransition:function(){var u=Sj(!1);return u=n5.bind(null,Hs,u.queue,!0,!1),Tn().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,w){var k=Hs,L=Tn();if(da){if(w===void 0)throw Error(r(407));w=w()}else{if(w=h(),La===null)throw Error(r(349));(ra&124)!==0||AC(k,h,w)}L.memoizedState=w;var U={value:w,getSnapshot:h};return L.queue=U,QC(OC.bind(null,k,U,u),[u]),k.flags|=2048,Qu(9,d0(),IC.bind(null,k,U,w,h),null),w},useId:function(){var u=Tn(),h=La.identifierPrefix;if(da){var w=fl,k=hl;w=(k&~(1<<32-ye(k)-1)).toString(32)+w,h=""+h+"R"+w,w=o0++,0<w&&(h+="H"+w.toString(32)),h+=""}else w=fz++,h=""+h+"r"+w.toString(32)+"";return u.memoizedState=h},useHostTransitionStatus:Tj,useFormState:HC,useActionState:HC,useOptimistic:function(u){var h=Tn();h.memoizedState=h.baseState=u;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=w,h=Mj.bind(null,Hs,!0,w),w.dispatch=h,[u,h]},useMemoCache:Nj,useCacheRefresh:function(){return Tn().memoizedState=vz.bind(null,Hs)}},h5={readContext:en,use:l0,useCallback:s5,useContext:en,useEffect:ZC,useImperativeHandle:t5,useInsertionEffect:XC,useLayoutEffect:JC,useMemo:a5,useReducer:c0,useRef:KC,useState:function(){return c0(bl)},useDebugValue:Pj,useDeferredValue:function(u,h){var w=_r();return r5(w,ka.memoizedState,u,h)},useTransition:function(){var u=c0(bl)[0],h=_r().memoizedState;return[typeof u=="boolean"?u:ch(u),h]},useSyncExternalStore:RC,useId:l5,useHostTransitionStatus:Tj,useFormState:WC,useActionState:WC,useOptimistic:function(u,h){var w=_r();return $C(w,ka,u,h)},useMemoCache:Nj,useCacheRefresh:c5},Nz={readContext:en,use:l0,useCallback:s5,useContext:en,useEffect:ZC,useImperativeHandle:t5,useInsertionEffect:XC,useLayoutEffect:JC,useMemo:a5,useReducer:wj,useRef:KC,useState:function(){return wj(bl)},useDebugValue:Pj,useDeferredValue:function(u,h){var w=_r();return ka===null?kj(w,u,h):r5(w,ka.memoizedState,u,h)},useTransition:function(){var u=wj(bl)[0],h=_r().memoizedState;return[typeof u=="boolean"?u:ch(u),h]},useSyncExternalStore:RC,useId:l5,useHostTransitionStatus:Tj,useFormState:GC,useActionState:GC,useOptimistic:function(u,h){var w=_r();return ka!==null?$C(w,ka,u,h):(w.baseState=u,[u,w.queue.dispatch])},useMemoCache:Nj,useCacheRefresh:c5},Zu=null,mh=0;function h0(u){var h=mh;return mh+=1,Zu===null&&(Zu=[]),SC(Zu,u,h)}function ph(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function f0(u,h){throw h.$$typeof===p?Error(r(525)):(u=Object.prototype.toString.call(h),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function f5(u){var h=u._init;return h(u._payload)}function x5(u){function h($e,De){if(u){var Ve=$e.deletions;Ve===null?($e.deletions=[De],$e.flags|=16):Ve.push(De)}}function w($e,De){if(!u)return null;for(;De!==null;)h($e,De),De=De.sibling;return null}function k($e){for(var De=new Map;$e!==null;)$e.key!==null?De.set($e.key,$e):De.set($e.index,$e),$e=$e.sibling;return De}function L($e,De){return $e=pl($e,De),$e.index=0,$e.sibling=null,$e}function U($e,De,Ve){return $e.index=Ve,u?(Ve=$e.alternate,Ve!==null?(Ve=Ve.index,Ve<De?($e.flags|=67108866,De):Ve):($e.flags|=67108866,De)):($e.flags|=1048576,De)}function se($e){return u&&$e.alternate===null&&($e.flags|=67108866),$e}function pe($e,De,Ve,bt){return De===null||De.tag!==6?(De=X1(Ve,$e.mode,bt),De.return=$e,De):(De=L(De,Ve),De.return=$e,De)}function we($e,De,Ve,bt){var ns=Ve.type;return ns===_?ht($e,De,Ve.props.children,bt,Ve.key):De!==null&&(De.elementType===ns||typeof ns=="object"&&ns!==null&&ns.$$typeof===A&&f5(ns)===De.type)?(De=L(De,Ve.props),ph(De,Ve),De.return=$e,De):(De=Zg(Ve.type,Ve.key,Ve.props,null,$e.mode,bt),ph(De,Ve),De.return=$e,De)}function We($e,De,Ve,bt){return De===null||De.tag!==4||De.stateNode.containerInfo!==Ve.containerInfo||De.stateNode.implementation!==Ve.implementation?(De=J1(Ve,$e.mode,bt),De.return=$e,De):(De=L(De,Ve.children||[]),De.return=$e,De)}function ht($e,De,Ve,bt,ns){return De===null||De.tag!==7?(De=fd(Ve,$e.mode,bt,ns),De.return=$e,De):(De=L(De,Ve),De.return=$e,De)}function wt($e,De,Ve){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return De=X1(""+De,$e.mode,Ve),De.return=$e,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case x:return Ve=Zg(De.type,De.key,De.props,null,$e.mode,Ve),ph(Ve,De),Ve.return=$e,Ve;case j:return De=J1(De,$e.mode,Ve),De.return=$e,De;case A:var bt=De._init;return De=bt(De._payload),wt($e,De,Ve)}if(B(De)||O(De))return De=fd(De,$e.mode,Ve,null),De.return=$e,De;if(typeof De.then=="function")return wt($e,h0(De),Ve);if(De.$$typeof===C)return wt($e,t0($e,De),Ve);f0($e,De)}return null}function Qe($e,De,Ve,bt){var ns=De!==null?De.key:null;if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return ns!==null?null:pe($e,De,""+Ve,bt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case x:return Ve.key===ns?we($e,De,Ve,bt):null;case j:return Ve.key===ns?We($e,De,Ve,bt):null;case A:return ns=Ve._init,Ve=ns(Ve._payload),Qe($e,De,Ve,bt)}if(B(Ve)||O(Ve))return ns!==null?null:ht($e,De,Ve,bt,null);if(typeof Ve.then=="function")return Qe($e,De,h0(Ve),bt);if(Ve.$$typeof===C)return Qe($e,De,t0($e,Ve),bt);f0($e,Ve)}return null}function Xe($e,De,Ve,bt,ns){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return $e=$e.get(Ve)||null,pe(De,$e,""+bt,ns);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case x:return $e=$e.get(bt.key===null?Ve:bt.key)||null,we(De,$e,bt,ns);case j:return $e=$e.get(bt.key===null?Ve:bt.key)||null,We(De,$e,bt,ns);case A:var Ks=bt._init;return bt=Ks(bt._payload),Xe($e,De,Ve,bt,ns)}if(B(bt)||O(bt))return $e=$e.get(Ve)||null,ht(De,$e,bt,ns,null);if(typeof bt.then=="function")return Xe($e,De,Ve,h0(bt),ns);if(bt.$$typeof===C)return Xe($e,De,Ve,t0(De,bt),ns);f0(De,bt)}return null}function Ss($e,De,Ve,bt){for(var ns=null,Ks=null,us=De,_s=De=0,Or=null;us!==null&&_s<Ve.length;_s++){us.index>_s?(Or=us,us=null):Or=us.sibling;var ca=Qe($e,us,Ve[_s],bt);if(ca===null){us===null&&(us=Or);break}u&&us&&ca.alternate===null&&h($e,us),De=U(ca,De,_s),Ks===null?ns=ca:Ks.sibling=ca,Ks=ca,us=Or}if(_s===Ve.length)return w($e,us),da&&gd($e,_s),ns;if(us===null){for(;_s<Ve.length;_s++)us=wt($e,Ve[_s],bt),us!==null&&(De=U(us,De,_s),Ks===null?ns=us:Ks.sibling=us,Ks=us);return da&&gd($e,_s),ns}for(us=k(us);_s<Ve.length;_s++)Or=Xe(us,$e,_s,Ve[_s],bt),Or!==null&&(u&&Or.alternate!==null&&us.delete(Or.key===null?_s:Or.key),De=U(Or,De,_s),Ks===null?ns=Or:Ks.sibling=Or,Ks=Or);return u&&us.forEach(function(_c){return h($e,_c)}),da&&gd($e,_s),ns}function js($e,De,Ve,bt){if(Ve==null)throw Error(r(151));for(var ns=null,Ks=null,us=De,_s=De=0,Or=null,ca=Ve.next();us!==null&&!ca.done;_s++,ca=Ve.next()){us.index>_s?(Or=us,us=null):Or=us.sibling;var _c=Qe($e,us,ca.value,bt);if(_c===null){us===null&&(us=Or);break}u&&us&&_c.alternate===null&&h($e,us),De=U(_c,De,_s),Ks===null?ns=_c:Ks.sibling=_c,Ks=_c,us=Or}if(ca.done)return w($e,us),da&&gd($e,_s),ns;if(us===null){for(;!ca.done;_s++,ca=Ve.next())ca=wt($e,ca.value,bt),ca!==null&&(De=U(ca,De,_s),Ks===null?ns=ca:Ks.sibling=ca,Ks=ca);return da&&gd($e,_s),ns}for(us=k(us);!ca.done;_s++,ca=Ve.next())ca=Xe(us,$e,_s,ca.value,bt),ca!==null&&(u&&ca.alternate!==null&&us.delete(ca.key===null?_s:ca.key),De=U(ca,De,_s),Ks===null?ns=ca:Ks.sibling=ca,Ks=ca);return u&&us.forEach(function(_q){return h($e,_q)}),da&&gd($e,_s),ns}function Ta($e,De,Ve,bt){if(typeof Ve=="object"&&Ve!==null&&Ve.type===_&&Ve.key===null&&(Ve=Ve.props.children),typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case x:e:{for(var ns=Ve.key;De!==null;){if(De.key===ns){if(ns=Ve.type,ns===_){if(De.tag===7){w($e,De.sibling),bt=L(De,Ve.props.children),bt.return=$e,$e=bt;break e}}else if(De.elementType===ns||typeof ns=="object"&&ns!==null&&ns.$$typeof===A&&f5(ns)===De.type){w($e,De.sibling),bt=L(De,Ve.props),ph(bt,Ve),bt.return=$e,$e=bt;break e}w($e,De);break}else h($e,De);De=De.sibling}Ve.type===_?(bt=fd(Ve.props.children,$e.mode,bt,Ve.key),bt.return=$e,$e=bt):(bt=Zg(Ve.type,Ve.key,Ve.props,null,$e.mode,bt),ph(bt,Ve),bt.return=$e,$e=bt)}return se($e);case j:e:{for(ns=Ve.key;De!==null;){if(De.key===ns)if(De.tag===4&&De.stateNode.containerInfo===Ve.containerInfo&&De.stateNode.implementation===Ve.implementation){w($e,De.sibling),bt=L(De,Ve.children||[]),bt.return=$e,$e=bt;break e}else{w($e,De);break}else h($e,De);De=De.sibling}bt=J1(Ve,$e.mode,bt),bt.return=$e,$e=bt}return se($e);case A:return ns=Ve._init,Ve=ns(Ve._payload),Ta($e,De,Ve,bt)}if(B(Ve))return Ss($e,De,Ve,bt);if(O(Ve)){if(ns=O(Ve),typeof ns!="function")throw Error(r(150));return Ve=ns.call(Ve),js($e,De,Ve,bt)}if(typeof Ve.then=="function")return Ta($e,De,h0(Ve),bt);if(Ve.$$typeof===C)return Ta($e,De,t0($e,Ve),bt);f0($e,Ve)}return typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint"?(Ve=""+Ve,De!==null&&De.tag===6?(w($e,De.sibling),bt=L(De,Ve),bt.return=$e,$e=bt):(w($e,De),bt=X1(Ve,$e.mode,bt),bt.return=$e,$e=bt),se($e)):w($e,De)}return function($e,De,Ve,bt){try{mh=0;var ns=Ta($e,De,Ve,bt);return Zu=null,ns}catch(us){if(us===ah||us===a0)throw us;var Ks=Qn(29,us,null,$e.mode);return Ks.lanes=bt,Ks.return=$e,Ks}}}var Xu=x5(!0),g5=x5(!1),Ei=R(null),ko=null;function lc(u){var h=u.alternate;Y(Er,Er.current&1),Y(Ei,u),ko===null&&(h===null||Yu.current!==null||h.memoizedState!==null)&&(ko=u)}function b5(u){if(u.tag===22){if(Y(Er,Er.current),Y(Ei,u),ko===null){var h=u.alternate;h!==null&&h.memoizedState!==null&&(ko=u)}}else cc()}function cc(){Y(Er,Er.current),Y(Ei,Ei.current)}function yl(u){$(Ei),ko===u&&(ko=null),$(Er)}var Er=R(0);function x0(u){for(var h=u;h!==null;){if(h.tag===13){var w=h.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||j2(w)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function Dj(u,h,w,k){h=u.memoizedState,w=w(k,h),w=w==null?h:d({},h,w),u.memoizedState=w,u.lanes===0&&(u.updateQueue.baseState=w)}var Rj={enqueueSetState:function(u,h,w){u=u._reactInternals;var k=ei(),L=nc(k);L.payload=h,w!=null&&(L.callback=w),h=ic(u,L,k),h!==null&&(ti(h,u,k),nh(h,u,k))},enqueueReplaceState:function(u,h,w){u=u._reactInternals;var k=ei(),L=nc(k);L.tag=1,L.payload=h,w!=null&&(L.callback=w),h=ic(u,L,k),h!==null&&(ti(h,u,k),nh(h,u,k))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var w=ei(),k=nc(w);k.tag=2,h!=null&&(k.callback=h),h=ic(u,k,w),h!==null&&(ti(h,u,w),nh(h,u,w))}};function y5(u,h,w,k,L,U,se){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(k,U,se):h.prototype&&h.prototype.isPureReactComponent?!Kp(w,k)||!Kp(L,U):!0}function v5(u,h,w,k){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(w,k),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(w,k),h.state!==u&&Rj.enqueueReplaceState(h,h.state,null)}function wd(u,h){var w=h;if("ref"in h){w={};for(var k in h)k!=="ref"&&(w[k]=h[k])}if(u=u.defaultProps){w===h&&(w=d({},w));for(var L in u)w[L]===void 0&&(w[L]=u[L])}return w}var g0=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function j5(u){g0(u)}function N5(u){console.error(u)}function _5(u){g0(u)}function b0(u,h){try{var w=u.onUncaughtError;w(h.value,{componentStack:h.stack})}catch(k){setTimeout(function(){throw k})}}function w5(u,h,w){try{var k=u.onCaughtError;k(w.value,{componentStack:w.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function Aj(u,h,w){return w=nc(w),w.tag=3,w.payload={element:null},w.callback=function(){b0(u,h)},w}function S5(u){return u=nc(u),u.tag=3,u}function C5(u,h,w,k){var L=w.type.getDerivedStateFromError;if(typeof L=="function"){var U=k.value;u.payload=function(){return L(U)},u.callback=function(){w5(h,w,k)}}var se=w.stateNode;se!==null&&typeof se.componentDidCatch=="function"&&(u.callback=function(){w5(h,w,k),typeof L!="function"&&(fc===null?fc=new Set([this]):fc.add(this));var pe=k.stack;this.componentDidCatch(k.value,{componentStack:pe!==null?pe:""})})}function _z(u,h,w,k,L){if(w.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){if(h=w.alternate,h!==null&&eh(h,w,L,!0),w=Ei.current,w!==null){switch(w.tag){case 13:return ko===null?r2():w.alternate===null&&tr===0&&(tr=3),w.flags&=-257,w.flags|=65536,w.lanes=L,k===cj?w.flags|=16384:(h=w.updateQueue,h===null?w.updateQueue=new Set([k]):h.add(k),i2(u,k,L)),!1;case 22:return w.flags|=65536,k===cj?w.flags|=16384:(h=w.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([k])},w.updateQueue=h):(w=h.retryQueue,w===null?h.retryQueue=new Set([k]):w.add(k)),i2(u,k,L)),!1}throw Error(r(435,w.tag))}return i2(u,k,L),r2(),!1}if(da)return h=Ei.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=L,k!==sj&&(u=Error(r(422),{cause:k}),Jp(Si(u,w)))):(k!==sj&&(h=Error(r(423),{cause:k}),Jp(Si(h,w))),u=u.current.alternate,u.flags|=65536,L&=-L,u.lanes|=L,k=Si(k,w),L=Aj(u.stateNode,k,L),mj(u,L),tr!==4&&(tr=2)),!1;var U=Error(r(520),{cause:k});if(U=Si(U,w),vh===null?vh=[U]:vh.push(U),tr!==4&&(tr=2),h===null)return!0;k=Si(k,w),w=h;do{switch(w.tag){case 3:return w.flags|=65536,u=L&-L,w.lanes|=u,u=Aj(w.stateNode,k,u),mj(w,u),!1;case 1:if(h=w.type,U=w.stateNode,(w.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(fc===null||!fc.has(U))))return w.flags|=65536,L&=-L,w.lanes|=L,L=S5(L),C5(L,u,w,k),mj(w,L),!1}w=w.return}while(w!==null);return!1}var P5=Error(r(461)),Ar=!1;function Vr(u,h,w,k){h.child=u===null?g5(h,null,w,k):Xu(h,u.child,w,k)}function k5(u,h,w,k,L){w=w.render;var U=h.ref;if("ref"in k){var se={};for(var pe in k)pe!=="ref"&&(se[pe]=k[pe])}else se=k;return jd(h),k=gj(u,h,w,se,U,L),pe=bj(),u!==null&&!Ar?(yj(u,h,L),vl(u,h,L)):(da&&pe&&ej(h),h.flags|=1,Vr(u,h,k,L),h.child)}function E5(u,h,w,k,L){if(u===null){var U=w.type;return typeof U=="function"&&!Z1(U)&&U.defaultProps===void 0&&w.compare===null?(h.tag=15,h.type=U,T5(u,h,U,k,L)):(u=Zg(w.type,null,k,h,h.mode,L),u.ref=h.ref,u.return=h,h.child=u)}if(U=u.child,!Bj(u,L)){var se=U.memoizedProps;if(w=w.compare,w=w!==null?w:Kp,w(se,k)&&u.ref===h.ref)return vl(u,h,L)}return h.flags|=1,u=pl(U,k),u.ref=h.ref,u.return=h,h.child=u}function T5(u,h,w,k,L){if(u!==null){var U=u.memoizedProps;if(Kp(U,k)&&u.ref===h.ref)if(Ar=!1,h.pendingProps=k=U,Bj(u,L))(u.flags&131072)!==0&&(Ar=!0);else return h.lanes=u.lanes,vl(u,h,L)}return Ij(u,h,w,k,L)}function M5(u,h,w){var k=h.pendingProps,L=k.children,U=u!==null?u.memoizedState:null;if(k.mode==="hidden"){if((h.flags&128)!==0){if(k=U!==null?U.baseLanes|w:w,u!==null){for(L=h.child=u.child,U=0;L!==null;)U=U|L.lanes|L.childLanes,L=L.sibling;h.childLanes=U&~k}else h.childLanes=0,h.child=null;return D5(u,h,k,w)}if((w&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&s0(h,U!==null?U.cachePool:null),U!==null?TC(h,U):hj(),b5(h);else return h.lanes=h.childLanes=536870912,D5(u,h,U!==null?U.baseLanes|w:w,w)}else U!==null?(s0(h,U.cachePool),TC(h,U),cc(),h.memoizedState=null):(u!==null&&s0(h,null),hj(),cc());return Vr(u,h,L,w),h.child}function D5(u,h,w,k){var L=lj();return L=L===null?null:{parent:kr._currentValue,pool:L},h.memoizedState={baseLanes:w,cachePool:L},u!==null&&s0(h,null),hj(),b5(h),u!==null&&eh(u,h,k,!0),null}function y0(u,h){var w=h.ref;if(w===null)u!==null&&u.ref!==null&&(h.flags|=4194816);else{if(typeof w!="function"&&typeof w!="object")throw Error(r(284));(u===null||u.ref!==w)&&(h.flags|=4194816)}}function Ij(u,h,w,k,L){return jd(h),w=gj(u,h,w,k,void 0,L),k=bj(),u!==null&&!Ar?(yj(u,h,L),vl(u,h,L)):(da&&k&&ej(h),h.flags|=1,Vr(u,h,w,L),h.child)}function R5(u,h,w,k,L,U){return jd(h),h.updateQueue=null,w=DC(h,k,w,L),MC(u),k=bj(),u!==null&&!Ar?(yj(u,h,U),vl(u,h,U)):(da&&k&&ej(h),h.flags|=1,Vr(u,h,w,U),h.child)}function A5(u,h,w,k,L){if(jd(h),h.stateNode===null){var U=Bu,se=w.contextType;typeof se=="object"&&se!==null&&(U=en(se)),U=new w(k,U),h.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=Rj,h.stateNode=U,U._reactInternals=h,U=h.stateNode,U.props=k,U.state=h.memoizedState,U.refs={},dj(h),se=w.contextType,U.context=typeof se=="object"&&se!==null?en(se):Bu,U.state=h.memoizedState,se=w.getDerivedStateFromProps,typeof se=="function"&&(Dj(h,w,se,k),U.state=h.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(se=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),se!==U.state&&Rj.enqueueReplaceState(U,U.state,null),oh(h,k,U,L),ih(),U.state=h.memoizedState),typeof U.componentDidMount=="function"&&(h.flags|=4194308),k=!0}else if(u===null){U=h.stateNode;var pe=h.memoizedProps,we=wd(w,pe);U.props=we;var We=U.context,ht=w.contextType;se=Bu,typeof ht=="object"&&ht!==null&&(se=en(ht));var wt=w.getDerivedStateFromProps;ht=typeof wt=="function"||typeof U.getSnapshotBeforeUpdate=="function",pe=h.pendingProps!==pe,ht||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(pe||We!==se)&&v5(h,U,k,se),rc=!1;var Qe=h.memoizedState;U.state=Qe,oh(h,k,U,L),ih(),We=h.memoizedState,pe||Qe!==We||rc?(typeof wt=="function"&&(Dj(h,w,wt,k),We=h.memoizedState),(we=rc||y5(h,w,we,k,Qe,We,se))?(ht||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(h.flags|=4194308)):(typeof U.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=k,h.memoizedState=We),U.props=k,U.state=We,U.context=se,k=we):(typeof U.componentDidMount=="function"&&(h.flags|=4194308),k=!1)}else{U=h.stateNode,uj(u,h),se=h.memoizedProps,ht=wd(w,se),U.props=ht,wt=h.pendingProps,Qe=U.context,We=w.contextType,we=Bu,typeof We=="object"&&We!==null&&(we=en(We)),pe=w.getDerivedStateFromProps,(We=typeof pe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(se!==wt||Qe!==we)&&v5(h,U,k,we),rc=!1,Qe=h.memoizedState,U.state=Qe,oh(h,k,U,L),ih();var Xe=h.memoizedState;se!==wt||Qe!==Xe||rc||u!==null&&u.dependencies!==null&&e0(u.dependencies)?(typeof pe=="function"&&(Dj(h,w,pe,k),Xe=h.memoizedState),(ht=rc||y5(h,w,ht,k,Qe,Xe,we)||u!==null&&u.dependencies!==null&&e0(u.dependencies))?(We||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(k,Xe,we),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(k,Xe,we)),typeof U.componentDidUpdate=="function"&&(h.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof U.componentDidUpdate!="function"||se===u.memoizedProps&&Qe===u.memoizedState||(h.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||se===u.memoizedProps&&Qe===u.memoizedState||(h.flags|=1024),h.memoizedProps=k,h.memoizedState=Xe),U.props=k,U.state=Xe,U.context=we,k=ht):(typeof U.componentDidUpdate!="function"||se===u.memoizedProps&&Qe===u.memoizedState||(h.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||se===u.memoizedProps&&Qe===u.memoizedState||(h.flags|=1024),k=!1)}return U=k,y0(u,h),k=(h.flags&128)!==0,U||k?(U=h.stateNode,w=k&&typeof w.getDerivedStateFromError!="function"?null:U.render(),h.flags|=1,u!==null&&k?(h.child=Xu(h,u.child,null,L),h.child=Xu(h,null,w,L)):Vr(u,h,w,L),h.memoizedState=U.state,u=h.child):u=vl(u,h,L),u}function I5(u,h,w,k){return Xp(),h.flags|=256,Vr(u,h,w,k),h.child}var Oj={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fj(u){return{baseLanes:u,cachePool:NC()}}function Lj(u,h,w){return u=u!==null?u.childLanes&~w:0,h&&(u|=Ti),u}function O5(u,h,w){var k=h.pendingProps,L=!1,U=(h.flags&128)!==0,se;if((se=U)||(se=u!==null&&u.memoizedState===null?!1:(Er.current&2)!==0),se&&(L=!0,h.flags&=-129),se=(h.flags&32)!==0,h.flags&=-33,u===null){if(da){if(L?lc(h):cc(),da){var pe=er,we;if(we=pe){e:{for(we=pe,pe=Po;we.nodeType!==8;){if(!pe){pe=null;break e}if(we=mo(we.nextSibling),we===null){pe=null;break e}}pe=we}pe!==null?(h.memoizedState={dehydrated:pe,treeContext:xd!==null?{id:hl,overflow:fl}:null,retryLane:536870912,hydrationErrors:null},we=Qn(18,null,null,0),we.stateNode=pe,we.return=h,h.child=we,hn=h,er=null,we=!0):we=!1}we||yd(h)}if(pe=h.memoizedState,pe!==null&&(pe=pe.dehydrated,pe!==null))return j2(pe)?h.lanes=32:h.lanes=536870912,null;yl(h)}return pe=k.children,k=k.fallback,L?(cc(),L=h.mode,pe=v0({mode:"hidden",children:pe},L),k=fd(k,L,w,null),pe.return=h,k.return=h,pe.sibling=k,h.child=pe,L=h.child,L.memoizedState=Fj(w),L.childLanes=Lj(u,se,w),h.memoizedState=Oj,k):(lc(h),$j(h,pe))}if(we=u.memoizedState,we!==null&&(pe=we.dehydrated,pe!==null)){if(U)h.flags&256?(lc(h),h.flags&=-257,h=zj(u,h,w)):h.memoizedState!==null?(cc(),h.child=u.child,h.flags|=128,h=null):(cc(),L=k.fallback,pe=h.mode,k=v0({mode:"visible",children:k.children},pe),L=fd(L,pe,w,null),L.flags|=2,k.return=h,L.return=h,k.sibling=L,h.child=k,Xu(h,u.child,null,w),k=h.child,k.memoizedState=Fj(w),k.childLanes=Lj(u,se,w),h.memoizedState=Oj,h=L);else if(lc(h),j2(pe)){if(se=pe.nextSibling&&pe.nextSibling.dataset,se)var We=se.dgst;se=We,k=Error(r(419)),k.stack="",k.digest=se,Jp({value:k,source:null,stack:null}),h=zj(u,h,w)}else if(Ar||eh(u,h,w,!1),se=(w&u.childLanes)!==0,Ar||se){if(se=La,se!==null&&(k=w&-w,k=(k&42)!==0?1:oa(k),k=(k&(se.suspendedLanes|w))!==0?0:k,k!==0&&k!==we.retryLane))throw we.retryLane=k,qu(u,k),ti(se,u,k),P5;pe.data==="$?"||r2(),h=zj(u,h,w)}else pe.data==="$?"?(h.flags|=192,h.child=u.child,h=null):(u=we.treeContext,er=mo(pe.nextSibling),hn=h,da=!0,bd=null,Po=!1,u!==null&&(Pi[ki++]=hl,Pi[ki++]=fl,Pi[ki++]=xd,hl=u.id,fl=u.overflow,xd=h),h=$j(h,k.children),h.flags|=4096);return h}return L?(cc(),L=k.fallback,pe=h.mode,we=u.child,We=we.sibling,k=pl(we,{mode:"hidden",children:k.children}),k.subtreeFlags=we.subtreeFlags&65011712,We!==null?L=pl(We,L):(L=fd(L,pe,w,null),L.flags|=2),L.return=h,k.return=h,k.sibling=L,h.child=k,k=L,L=h.child,pe=u.child.memoizedState,pe===null?pe=Fj(w):(we=pe.cachePool,we!==null?(We=kr._currentValue,we=we.parent!==We?{parent:We,pool:We}:we):we=NC(),pe={baseLanes:pe.baseLanes|w,cachePool:we}),L.memoizedState=pe,L.childLanes=Lj(u,se,w),h.memoizedState=Oj,k):(lc(h),w=u.child,u=w.sibling,w=pl(w,{mode:"visible",children:k.children}),w.return=h,w.sibling=null,u!==null&&(se=h.deletions,se===null?(h.deletions=[u],h.flags|=16):se.push(u)),h.child=w,h.memoizedState=null,w)}function $j(u,h){return h=v0({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function v0(u,h){return u=Qn(22,u,null,h),u.lanes=0,u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},u}function zj(u,h,w){return Xu(h,u.child,null,w),u=$j(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function F5(u,h,w){u.lanes|=h;var k=u.alternate;k!==null&&(k.lanes|=h),rj(u.return,h,w)}function qj(u,h,w,k,L){var U=u.memoizedState;U===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:k,tail:w,tailMode:L}:(U.isBackwards=h,U.rendering=null,U.renderingStartTime=0,U.last=k,U.tail=w,U.tailMode=L)}function L5(u,h,w){var k=h.pendingProps,L=k.revealOrder,U=k.tail;if(Vr(u,h,k.children,w),k=Er.current,(k&2)!==0)k=k&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&F5(u,w,h);else if(u.tag===19)F5(u,w,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}k&=1}switch(Y(Er,k),L){case"forwards":for(w=h.child,L=null;w!==null;)u=w.alternate,u!==null&&x0(u)===null&&(L=w),w=w.sibling;w=L,w===null?(L=h.child,h.child=null):(L=w.sibling,w.sibling=null),qj(h,!1,L,w,U);break;case"backwards":for(w=null,L=h.child,h.child=null;L!==null;){if(u=L.alternate,u!==null&&x0(u)===null){h.child=L;break}u=L.sibling,L.sibling=w,w=L,L=u}qj(h,!0,w,null,U);break;case"together":qj(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function vl(u,h,w){if(u!==null&&(h.dependencies=u.dependencies),hc|=h.lanes,(w&h.childLanes)===0)if(u!==null){if(eh(u,h,w,!1),(w&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(r(153));if(h.child!==null){for(u=h.child,w=pl(u,u.pendingProps),h.child=w,w.return=h;u.sibling!==null;)u=u.sibling,w=w.sibling=pl(u,u.pendingProps),w.return=h;w.sibling=null}return h.child}function Bj(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&e0(u)))}function wz(u,h,w){switch(h.tag){case 3:he(h,h.stateNode.containerInfo),ac(h,kr,u.memoizedState.cache),Xp();break;case 27:case 5:ae(h);break;case 4:he(h,h.stateNode.containerInfo);break;case 10:ac(h,h.type,h.memoizedProps.value);break;case 13:var k=h.memoizedState;if(k!==null)return k.dehydrated!==null?(lc(h),h.flags|=128,null):(w&h.child.childLanes)!==0?O5(u,h,w):(lc(h),u=vl(u,h,w),u!==null?u.sibling:null);lc(h);break;case 19:var L=(u.flags&128)!==0;if(k=(w&h.childLanes)!==0,k||(eh(u,h,w,!1),k=(w&h.childLanes)!==0),L){if(k)return L5(u,h,w);h.flags|=128}if(L=h.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),Y(Er,Er.current),k)break;return null;case 22:case 23:return h.lanes=0,M5(u,h,w);case 24:ac(h,kr,u.memoizedState.cache)}return vl(u,h,w)}function $5(u,h,w){if(u!==null)if(u.memoizedProps!==h.pendingProps)Ar=!0;else{if(!Bj(u,w)&&(h.flags&128)===0)return Ar=!1,wz(u,h,w);Ar=(u.flags&131072)!==0}else Ar=!1,da&&(h.flags&1048576)!==0&&fC(h,Jg,h.index);switch(h.lanes=0,h.tag){case 16:e:{u=h.pendingProps;var k=h.elementType,L=k._init;if(k=L(k._payload),h.type=k,typeof k=="function")Z1(k)?(u=wd(k,u),h.tag=1,h=A5(null,h,k,u,w)):(h.tag=0,h=Ij(null,h,k,u,w));else{if(k!=null){if(L=k.$$typeof,L===P){h.tag=11,h=k5(null,h,k,u,w);break e}else if(L===T){h.tag=14,h=E5(null,h,k,u,w);break e}}throw h=W(k)||k,Error(r(306,h,""))}}return h;case 0:return Ij(u,h,h.type,h.pendingProps,w);case 1:return k=h.type,L=wd(k,h.pendingProps),A5(u,h,k,L,w);case 3:e:{if(he(h,h.stateNode.containerInfo),u===null)throw Error(r(387));k=h.pendingProps;var U=h.memoizedState;L=U.element,uj(u,h),oh(h,k,null,w);var se=h.memoizedState;if(k=se.cache,ac(h,kr,k),k!==U.cache&&nj(h,[kr],w,!0),ih(),k=se.element,U.isDehydrated)if(U={element:k,isDehydrated:!1,cache:se.cache},h.updateQueue.baseState=U,h.memoizedState=U,h.flags&256){h=I5(u,h,k,w);break e}else if(k!==L){L=Si(Error(r(424)),h),Jp(L),h=I5(u,h,k,w);break e}else for(u=h.stateNode.containerInfo,u.nodeType===9?u=u.body:u=u.nodeName==="HTML"?u.ownerDocument.body:u,er=mo(u.firstChild),hn=h,da=!0,bd=null,Po=!0,w=g5(h,null,k,w),h.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Xp(),k===L){h=vl(u,h,w);break e}Vr(u,h,k,w)}h=h.child}return h;case 26:return y0(u,h),u===null?(w=U6(h.type,null,h.pendingProps,null))?h.memoizedState=w:da||(w=h.type,u=h.pendingProps,k=A0(ee.current).createElement(w),k[ds]=h,k[ve]=u,Wr(k,w,u),At(k),h.stateNode=k):h.memoizedState=U6(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:return ae(h),u===null&&da&&(k=h.stateNode=z6(h.type,h.pendingProps,ee.current),hn=h,Po=!0,L=er,bc(h.type)?(N2=L,er=mo(k.firstChild)):er=L),Vr(u,h,h.pendingProps.children,w),y0(u,h),u===null&&(h.flags|=4194304),h.child;case 5:return u===null&&da&&((L=k=er)&&(k=Xz(k,h.type,h.pendingProps,Po),k!==null?(h.stateNode=k,hn=h,er=mo(k.firstChild),Po=!1,L=!0):L=!1),L||yd(h)),ae(h),L=h.type,U=h.pendingProps,se=u!==null?u.memoizedProps:null,k=U.children,b2(L,U)?k=null:se!==null&&b2(L,se)&&(h.flags|=32),h.memoizedState!==null&&(L=gj(u,h,xz,null,null,w),Eh._currentValue=L),y0(u,h),Vr(u,h,k,w),h.child;case 6:return u===null&&da&&((u=w=er)&&(w=Jz(w,h.pendingProps,Po),w!==null?(h.stateNode=w,hn=h,er=null,u=!0):u=!1),u||yd(h)),null;case 13:return O5(u,h,w);case 4:return he(h,h.stateNode.containerInfo),k=h.pendingProps,u===null?h.child=Xu(h,null,k,w):Vr(u,h,k,w),h.child;case 11:return k5(u,h,h.type,h.pendingProps,w);case 7:return Vr(u,h,h.pendingProps,w),h.child;case 8:return Vr(u,h,h.pendingProps.children,w),h.child;case 12:return Vr(u,h,h.pendingProps.children,w),h.child;case 10:return k=h.pendingProps,ac(h,h.type,k.value),Vr(u,h,k.children,w),h.child;case 9:return L=h.type._context,k=h.pendingProps.children,jd(h),L=en(L),k=k(L),h.flags|=1,Vr(u,h,k,w),h.child;case 14:return E5(u,h,h.type,h.pendingProps,w);case 15:return T5(u,h,h.type,h.pendingProps,w);case 19:return L5(u,h,w);case 31:return k=h.pendingProps,w=h.mode,k={mode:k.mode,children:k.children},u===null?(w=v0(k,w),w.ref=h.ref,h.child=w,w.return=h,h=w):(w=pl(u.child,k),w.ref=h.ref,h.child=w,w.return=h,h=w),h;case 22:return M5(u,h,w);case 24:return jd(h),k=en(kr),u===null?(L=lj(),L===null&&(L=La,U=ij(),L.pooledCache=U,U.refCount++,U!==null&&(L.pooledCacheLanes|=w),L=U),h.memoizedState={parent:k,cache:L},dj(h),ac(h,kr,L)):((u.lanes&w)!==0&&(uj(u,h),oh(h,null,null,w),ih()),L=u.memoizedState,U=h.memoizedState,L.parent!==k?(L={parent:k,cache:k},h.memoizedState=L,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=L),ac(h,kr,k)):(k=U.cache,ac(h,kr,k),k!==L.cache&&nj(h,[kr],w,!0))),Vr(u,h,h.pendingProps.children,w),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function jl(u){u.flags|=4}function z5(u,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!G6(h)){if(h=Ei.current,h!==null&&((ra&4194048)===ra?ko!==null:(ra&62914560)!==ra&&(ra&536870912)===0||h!==ko))throw rh=cj,_C;u.flags|=8192}}function j0(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?Ns():536870912,u.lanes|=h,sm|=h)}function hh(u,h){if(!da)switch(u.tailMode){case"hidden":h=u.tail;for(var w=null;h!==null;)h.alternate!==null&&(w=h),h=h.sibling;w===null?u.tail=null:w.sibling=null;break;case"collapsed":w=u.tail;for(var k=null;w!==null;)w.alternate!==null&&(k=w),w=w.sibling;k===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:k.sibling=null}}function Ka(u){var h=u.alternate!==null&&u.alternate.child===u.child,w=0,k=0;if(h)for(var L=u.child;L!==null;)w|=L.lanes|L.childLanes,k|=L.subtreeFlags&65011712,k|=L.flags&65011712,L.return=u,L=L.sibling;else for(L=u.child;L!==null;)w|=L.lanes|L.childLanes,k|=L.subtreeFlags,k|=L.flags,L.return=u,L=L.sibling;return u.subtreeFlags|=k,u.childLanes=w,h}function Sz(u,h,w){var k=h.pendingProps;switch(tj(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(h),null;case 1:return Ka(h),null;case 3:return w=h.stateNode,k=null,u!==null&&(k=u.memoizedState.cache),h.memoizedState.cache!==k&&(h.flags|=2048),gl(kr),de(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(u===null||u.child===null)&&(Zp(h)?jl(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,bC())),Ka(h),null;case 26:return w=h.memoizedState,u===null?(jl(h),w!==null?(Ka(h),z5(h,w)):(Ka(h),h.flags&=-16777217)):w?w!==u.memoizedState?(jl(h),Ka(h),z5(h,w)):(Ka(h),h.flags&=-16777217):(u.memoizedProps!==k&&jl(h),Ka(h),h.flags&=-16777217),null;case 27:xe(h),w=ee.current;var L=h.type;if(u!==null&&h.stateNode!=null)u.memoizedProps!==k&&jl(h);else{if(!k){if(h.stateNode===null)throw Error(r(166));return Ka(h),null}u=J.current,Zp(h)?xC(h):(u=z6(L,k,w),h.stateNode=u,jl(h))}return Ka(h),null;case 5:if(xe(h),w=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==k&&jl(h);else{if(!k){if(h.stateNode===null)throw Error(r(166));return Ka(h),null}if(u=J.current,Zp(h))xC(h);else{switch(L=A0(ee.current),u){case 1:u=L.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:u=L.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":u=L.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":u=L.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":u=L.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof k.is=="string"?L.createElement("select",{is:k.is}):L.createElement("select"),k.multiple?u.multiple=!0:k.size&&(u.size=k.size);break;default:u=typeof k.is=="string"?L.createElement(w,{is:k.is}):L.createElement(w)}}u[ds]=h,u[ve]=k;e:for(L=h.child;L!==null;){if(L.tag===5||L.tag===6)u.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===h)break e;for(;L.sibling===null;){if(L.return===null||L.return===h)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}h.stateNode=u;e:switch(Wr(u,w,k),w){case"button":case"input":case"select":case"textarea":u=!!k.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&jl(h)}}return Ka(h),h.flags&=-16777217,null;case 6:if(u&&h.stateNode!=null)u.memoizedProps!==k&&jl(h);else{if(typeof k!="string"&&h.stateNode===null)throw Error(r(166));if(u=ee.current,Zp(h)){if(u=h.stateNode,w=h.memoizedProps,k=null,L=hn,L!==null)switch(L.tag){case 27:case 5:k=L.memoizedProps}u[ds]=h,u=!!(u.nodeValue===w||k!==null&&k.suppressHydrationWarning===!0||R6(u.nodeValue,w)),u||yd(h)}else u=A0(u).createTextNode(k),u[ds]=h,h.stateNode=u}return Ka(h),null;case 13:if(k=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(L=Zp(h),k!==null&&k.dehydrated!==null){if(u===null){if(!L)throw Error(r(318));if(L=h.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(r(317));L[ds]=h}else Xp(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ka(h),L=!1}else L=bC(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=L),L=!0;if(!L)return h.flags&256?(yl(h),h):(yl(h),null)}if(yl(h),(h.flags&128)!==0)return h.lanes=w,h;if(w=k!==null,u=u!==null&&u.memoizedState!==null,w){k=h.child,L=null,k.alternate!==null&&k.alternate.memoizedState!==null&&k.alternate.memoizedState.cachePool!==null&&(L=k.alternate.memoizedState.cachePool.pool);var U=null;k.memoizedState!==null&&k.memoizedState.cachePool!==null&&(U=k.memoizedState.cachePool.pool),U!==L&&(k.flags|=2048)}return w!==u&&w&&(h.child.flags|=8192),j0(h,h.updateQueue),Ka(h),null;case 4:return de(),u===null&&p2(h.stateNode.containerInfo),Ka(h),null;case 10:return gl(h.type),Ka(h),null;case 19:if($(Er),L=h.memoizedState,L===null)return Ka(h),null;if(k=(h.flags&128)!==0,U=L.rendering,U===null)if(k)hh(L,!1);else{if(tr!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(U=x0(u),U!==null){for(h.flags|=128,hh(L,!1),u=U.updateQueue,h.updateQueue=u,j0(h,u),h.subtreeFlags=0,u=w,w=h.child;w!==null;)hC(w,u),w=w.sibling;return Y(Er,Er.current&1|2),h.child}u=u.sibling}L.tail!==null&&_e()>w0&&(h.flags|=128,k=!0,hh(L,!1),h.lanes=4194304)}else{if(!k)if(u=x0(U),u!==null){if(h.flags|=128,k=!0,u=u.updateQueue,h.updateQueue=u,j0(h,u),hh(L,!0),L.tail===null&&L.tailMode==="hidden"&&!U.alternate&&!da)return Ka(h),null}else 2*_e()-L.renderingStartTime>w0&&w!==536870912&&(h.flags|=128,k=!0,hh(L,!1),h.lanes=4194304);L.isBackwards?(U.sibling=h.child,h.child=U):(u=L.last,u!==null?u.sibling=U:h.child=U,L.last=U)}return L.tail!==null?(h=L.tail,L.rendering=h,L.tail=h.sibling,L.renderingStartTime=_e(),h.sibling=null,u=Er.current,Y(Er,k?u&1|2:u&1),h):(Ka(h),null);case 22:case 23:return yl(h),fj(),k=h.memoizedState!==null,u!==null?u.memoizedState!==null!==k&&(h.flags|=8192):k&&(h.flags|=8192),k?(w&536870912)!==0&&(h.flags&128)===0&&(Ka(h),h.subtreeFlags&6&&(h.flags|=8192)):Ka(h),w=h.updateQueue,w!==null&&j0(h,w.retryQueue),w=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(w=u.memoizedState.cachePool.pool),k=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(k=h.memoizedState.cachePool.pool),k!==w&&(h.flags|=2048),u!==null&&$(Nd),null;case 24:return w=null,u!==null&&(w=u.memoizedState.cache),h.memoizedState.cache!==w&&(h.flags|=2048),gl(kr),Ka(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function Cz(u,h){switch(tj(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return gl(kr),de(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return xe(h),null;case 13:if(yl(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Xp()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return $(Er),null;case 4:return de(),null;case 10:return gl(h.type),null;case 22:case 23:return yl(h),fj(),u!==null&&$(Nd),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return gl(kr),null;case 25:return null;default:return null}}function q5(u,h){switch(tj(h),h.tag){case 3:gl(kr),de();break;case 26:case 27:case 5:xe(h);break;case 4:de();break;case 13:yl(h);break;case 19:$(Er);break;case 10:gl(h.type);break;case 22:case 23:yl(h),fj(),u!==null&&$(Nd);break;case 24:gl(kr)}}function fh(u,h){try{var w=h.updateQueue,k=w!==null?w.lastEffect:null;if(k!==null){var L=k.next;w=L;do{if((w.tag&u)===u){k=void 0;var U=w.create,se=w.inst;k=U(),se.destroy=k}w=w.next}while(w!==L)}}catch(pe){Aa(h,h.return,pe)}}function dc(u,h,w){try{var k=h.updateQueue,L=k!==null?k.lastEffect:null;if(L!==null){var U=L.next;k=U;do{if((k.tag&u)===u){var se=k.inst,pe=se.destroy;if(pe!==void 0){se.destroy=void 0,L=h;var we=w,We=pe;try{We()}catch(ht){Aa(L,we,ht)}}}k=k.next}while(k!==U)}}catch(ht){Aa(h,h.return,ht)}}function B5(u){var h=u.updateQueue;if(h!==null){var w=u.stateNode;try{EC(h,w)}catch(k){Aa(u,u.return,k)}}}function U5(u,h,w){w.props=wd(u.type,u.memoizedProps),w.state=u.memoizedState;try{w.componentWillUnmount()}catch(k){Aa(u,h,k)}}function xh(u,h){try{var w=u.ref;if(w!==null){switch(u.tag){case 26:case 27:case 5:var k=u.stateNode;break;case 30:k=u.stateNode;break;default:k=u.stateNode}typeof w=="function"?u.refCleanup=w(k):w.current=k}}catch(L){Aa(u,h,L)}}function Eo(u,h){var w=u.ref,k=u.refCleanup;if(w!==null)if(typeof k=="function")try{k()}catch(L){Aa(u,h,L)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(L){Aa(u,h,L)}else w.current=null}function V5(u){var h=u.type,w=u.memoizedProps,k=u.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":w.autoFocus&&k.focus();break e;case"img":w.src?k.src=w.src:w.srcSet&&(k.srcset=w.srcSet)}}catch(L){Aa(u,u.return,L)}}function Uj(u,h,w){try{var k=u.stateNode;Yz(k,u.type,w,h),k[ve]=h}catch(L){Aa(u,u.return,L)}}function H5(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&bc(u.type)||u.tag===4}function Vj(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||H5(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&bc(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Hj(u,h,w){var k=u.tag;if(k===5||k===6)u=u.stateNode,h?(w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w).insertBefore(u,h):(h=w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w,h.appendChild(u),w=w._reactRootContainer,w!=null||h.onclick!==null||(h.onclick=R0));else if(k!==4&&(k===27&&bc(u.type)&&(w=u.stateNode,h=null),u=u.child,u!==null))for(Hj(u,h,w),u=u.sibling;u!==null;)Hj(u,h,w),u=u.sibling}function N0(u,h,w){var k=u.tag;if(k===5||k===6)u=u.stateNode,h?w.insertBefore(u,h):w.appendChild(u);else if(k!==4&&(k===27&&bc(u.type)&&(w=u.stateNode),u=u.child,u!==null))for(N0(u,h,w),u=u.sibling;u!==null;)N0(u,h,w),u=u.sibling}function W5(u){var h=u.stateNode,w=u.memoizedProps;try{for(var k=u.type,L=h.attributes;L.length;)h.removeAttributeNode(L[0]);Wr(h,k,w),h[ds]=u,h[ve]=w}catch(U){Aa(u,u.return,U)}}var Nl=!1,hr=!1,Wj=!1,Y5=typeof WeakSet=="function"?WeakSet:Set,Ir=null;function Pz(u,h){if(u=u.containerInfo,x2=z0,u=rC(u),V1(u)){if("selectionStart"in u)var w={start:u.selectionStart,end:u.selectionEnd};else e:{w=(w=u.ownerDocument)&&w.defaultView||window;var k=w.getSelection&&w.getSelection();if(k&&k.rangeCount!==0){w=k.anchorNode;var L=k.anchorOffset,U=k.focusNode;k=k.focusOffset;try{w.nodeType,U.nodeType}catch{w=null;break e}var se=0,pe=-1,we=-1,We=0,ht=0,wt=u,Qe=null;t:for(;;){for(var Xe;wt!==w||L!==0&&wt.nodeType!==3||(pe=se+L),wt!==U||k!==0&&wt.nodeType!==3||(we=se+k),wt.nodeType===3&&(se+=wt.nodeValue.length),(Xe=wt.firstChild)!==null;)Qe=wt,wt=Xe;for(;;){if(wt===u)break t;if(Qe===w&&++We===L&&(pe=se),Qe===U&&++ht===k&&(we=se),(Xe=wt.nextSibling)!==null)break;wt=Qe,Qe=wt.parentNode}wt=Xe}w=pe===-1||we===-1?null:{start:pe,end:we}}else w=null}w=w||{start:0,end:0}}else w=null;for(g2={focusedElem:u,selectionRange:w},z0=!1,Ir=h;Ir!==null;)if(h=Ir,u=h.child,(h.subtreeFlags&1024)!==0&&u!==null)u.return=h,Ir=u;else for(;Ir!==null;){switch(h=Ir,U=h.alternate,u=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&U!==null){u=void 0,w=h,L=U.memoizedProps,U=U.memoizedState,k=w.stateNode;try{var Ss=wd(w.type,L,w.elementType===w.type);u=k.getSnapshotBeforeUpdate(Ss,U),k.__reactInternalSnapshotBeforeUpdate=u}catch(js){Aa(w,w.return,js)}}break;case 3:if((u&1024)!==0){if(u=h.stateNode.containerInfo,w=u.nodeType,w===9)v2(u);else if(w===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":v2(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=h.sibling,u!==null){u.return=h.return,Ir=u;break}Ir=h.return}}function G5(u,h,w){var k=w.flags;switch(w.tag){case 0:case 11:case 15:uc(u,w),k&4&&fh(5,w);break;case 1:if(uc(u,w),k&4)if(u=w.stateNode,h===null)try{u.componentDidMount()}catch(se){Aa(w,w.return,se)}else{var L=wd(w.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(L,h,u.__reactInternalSnapshotBeforeUpdate)}catch(se){Aa(w,w.return,se)}}k&64&&B5(w),k&512&&xh(w,w.return);break;case 3:if(uc(u,w),k&64&&(u=w.updateQueue,u!==null)){if(h=null,w.child!==null)switch(w.child.tag){case 27:case 5:h=w.child.stateNode;break;case 1:h=w.child.stateNode}try{EC(u,h)}catch(se){Aa(w,w.return,se)}}break;case 27:h===null&&k&4&&W5(w);case 26:case 5:uc(u,w),h===null&&k&4&&V5(w),k&512&&xh(w,w.return);break;case 12:uc(u,w);break;case 13:uc(u,w),k&4&&Z5(u,w),k&64&&(u=w.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(w=Oz.bind(null,w),eq(u,w))));break;case 22:if(k=w.memoizedState!==null||Nl,!k){h=h!==null&&h.memoizedState!==null||hr,L=Nl;var U=hr;Nl=k,(hr=h)&&!U?mc(u,w,(w.subtreeFlags&8772)!==0):uc(u,w),Nl=L,hr=U}break;case 30:break;default:uc(u,w)}}function K5(u){var h=u.alternate;h!==null&&(u.alternate=null,K5(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&xt(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Wa=null,Mn=!1;function _l(u,h,w){for(w=w.child;w!==null;)Q5(u,h,w),w=w.sibling}function Q5(u,h,w){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(dt,w)}catch{}switch(w.tag){case 26:hr||Eo(w,h),_l(u,h,w),w.memoizedState?w.memoizedState.count--:w.stateNode&&(w=w.stateNode,w.parentNode.removeChild(w));break;case 27:hr||Eo(w,h);var k=Wa,L=Mn;bc(w.type)&&(Wa=w.stateNode,Mn=!1),_l(u,h,w),Sh(w.stateNode),Wa=k,Mn=L;break;case 5:hr||Eo(w,h);case 6:if(k=Wa,L=Mn,Wa=null,_l(u,h,w),Wa=k,Mn=L,Wa!==null)if(Mn)try{(Wa.nodeType===9?Wa.body:Wa.nodeName==="HTML"?Wa.ownerDocument.body:Wa).removeChild(w.stateNode)}catch(U){Aa(w,h,U)}else try{Wa.removeChild(w.stateNode)}catch(U){Aa(w,h,U)}break;case 18:Wa!==null&&(Mn?(u=Wa,L6(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,w.stateNode),Rh(u)):L6(Wa,w.stateNode));break;case 4:k=Wa,L=Mn,Wa=w.stateNode.containerInfo,Mn=!0,_l(u,h,w),Wa=k,Mn=L;break;case 0:case 11:case 14:case 15:hr||dc(2,w,h),hr||dc(4,w,h),_l(u,h,w);break;case 1:hr||(Eo(w,h),k=w.stateNode,typeof k.componentWillUnmount=="function"&&U5(w,h,k)),_l(u,h,w);break;case 21:_l(u,h,w);break;case 22:hr=(k=hr)||w.memoizedState!==null,_l(u,h,w),hr=k;break;default:_l(u,h,w)}}function Z5(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Rh(u)}catch(w){Aa(h,h.return,w)}}function kz(u){switch(u.tag){case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new Y5),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new Y5),h;default:throw Error(r(435,u.tag))}}function Yj(u,h){var w=kz(u);h.forEach(function(k){var L=Fz.bind(null,u,k);w.has(k)||(w.add(k),k.then(L,L))})}function Zn(u,h){var w=h.deletions;if(w!==null)for(var k=0;k<w.length;k++){var L=w[k],U=u,se=h,pe=se;e:for(;pe!==null;){switch(pe.tag){case 27:if(bc(pe.type)){Wa=pe.stateNode,Mn=!1;break e}break;case 5:Wa=pe.stateNode,Mn=!1;break e;case 3:case 4:Wa=pe.stateNode.containerInfo,Mn=!0;break e}pe=pe.return}if(Wa===null)throw Error(r(160));Q5(U,se,L),Wa=null,Mn=!1,U=L.alternate,U!==null&&(U.return=null),L.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)X5(h,u),h=h.sibling}var uo=null;function X5(u,h){var w=u.alternate,k=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Zn(h,u),Xn(u),k&4&&(dc(3,u,u.return),fh(3,u),dc(5,u,u.return));break;case 1:Zn(h,u),Xn(u),k&512&&(hr||w===null||Eo(w,w.return)),k&64&&Nl&&(u=u.updateQueue,u!==null&&(k=u.callbacks,k!==null&&(w=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=w===null?k:w.concat(k))));break;case 26:var L=uo;if(Zn(h,u),Xn(u),k&512&&(hr||w===null||Eo(w,w.return)),k&4){var U=w!==null?w.memoizedState:null;if(k=u.memoizedState,w===null)if(k===null)if(u.stateNode===null){e:{k=u.type,w=u.memoizedProps,L=L.ownerDocument||L;t:switch(k){case"title":U=L.getElementsByTagName("title")[0],(!U||U[Oe]||U[ds]||U.namespaceURI==="http://www.w3.org/2000/svg"||U.hasAttribute("itemprop"))&&(U=L.createElement(k),L.head.insertBefore(U,L.querySelector("head > title"))),Wr(U,k,w),U[ds]=u,At(U),k=U;break e;case"link":var se=W6("link","href",L).get(k+(w.href||""));if(se){for(var pe=0;pe<se.length;pe++)if(U=se[pe],U.getAttribute("href")===(w.href==null||w.href===""?null:w.href)&&U.getAttribute("rel")===(w.rel==null?null:w.rel)&&U.getAttribute("title")===(w.title==null?null:w.title)&&U.getAttribute("crossorigin")===(w.crossOrigin==null?null:w.crossOrigin)){se.splice(pe,1);break t}}U=L.createElement(k),Wr(U,k,w),L.head.appendChild(U);break;case"meta":if(se=W6("meta","content",L).get(k+(w.content||""))){for(pe=0;pe<se.length;pe++)if(U=se[pe],U.getAttribute("content")===(w.content==null?null:""+w.content)&&U.getAttribute("name")===(w.name==null?null:w.name)&&U.getAttribute("property")===(w.property==null?null:w.property)&&U.getAttribute("http-equiv")===(w.httpEquiv==null?null:w.httpEquiv)&&U.getAttribute("charset")===(w.charSet==null?null:w.charSet)){se.splice(pe,1);break t}}U=L.createElement(k),Wr(U,k,w),L.head.appendChild(U);break;default:throw Error(r(468,k))}U[ds]=u,At(U),k=U}u.stateNode=k}else Y6(L,u.type,u.stateNode);else u.stateNode=H6(L,k,u.memoizedProps);else U!==k?(U===null?w.stateNode!==null&&(w=w.stateNode,w.parentNode.removeChild(w)):U.count--,k===null?Y6(L,u.type,u.stateNode):H6(L,k,u.memoizedProps)):k===null&&u.stateNode!==null&&Uj(u,u.memoizedProps,w.memoizedProps)}break;case 27:Zn(h,u),Xn(u),k&512&&(hr||w===null||Eo(w,w.return)),w!==null&&k&4&&Uj(u,u.memoizedProps,w.memoizedProps);break;case 5:if(Zn(h,u),Xn(u),k&512&&(hr||w===null||Eo(w,w.return)),u.flags&32){L=u.stateNode;try{Au(L,"")}catch(Xe){Aa(u,u.return,Xe)}}k&4&&u.stateNode!=null&&(L=u.memoizedProps,Uj(u,L,w!==null?w.memoizedProps:L)),k&1024&&(Wj=!0);break;case 6:if(Zn(h,u),Xn(u),k&4){if(u.stateNode===null)throw Error(r(162));k=u.memoizedProps,w=u.stateNode;try{w.nodeValue=k}catch(Xe){Aa(u,u.return,Xe)}}break;case 3:if(F0=null,L=uo,uo=I0(h.containerInfo),Zn(h,u),uo=L,Xn(u),k&4&&w!==null&&w.memoizedState.isDehydrated)try{Rh(h.containerInfo)}catch(Xe){Aa(u,u.return,Xe)}Wj&&(Wj=!1,J5(u));break;case 4:k=uo,uo=I0(u.stateNode.containerInfo),Zn(h,u),Xn(u),uo=k;break;case 12:Zn(h,u),Xn(u);break;case 13:Zn(h,u),Xn(u),u.child.flags&8192&&u.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(Jj=_e()),k&4&&(k=u.updateQueue,k!==null&&(u.updateQueue=null,Yj(u,k)));break;case 22:L=u.memoizedState!==null;var we=w!==null&&w.memoizedState!==null,We=Nl,ht=hr;if(Nl=We||L,hr=ht||we,Zn(h,u),hr=ht,Nl=We,Xn(u),k&8192)e:for(h=u.stateNode,h._visibility=L?h._visibility&-2:h._visibility|1,L&&(w===null||we||Nl||hr||Sd(u)),w=null,h=u;;){if(h.tag===5||h.tag===26){if(w===null){we=w=h;try{if(U=we.stateNode,L)se=U.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none";else{pe=we.stateNode;var wt=we.memoizedProps.style,Qe=wt!=null&&wt.hasOwnProperty("display")?wt.display:null;pe.style.display=Qe==null||typeof Qe=="boolean"?"":(""+Qe).trim()}}catch(Xe){Aa(we,we.return,Xe)}}}else if(h.tag===6){if(w===null){we=h;try{we.stateNode.nodeValue=L?"":we.memoizedProps}catch(Xe){Aa(we,we.return,Xe)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;w===h&&(w=null),h=h.return}w===h&&(w=null),h.sibling.return=h.return,h=h.sibling}k&4&&(k=u.updateQueue,k!==null&&(w=k.retryQueue,w!==null&&(k.retryQueue=null,Yj(u,w))));break;case 19:Zn(h,u),Xn(u),k&4&&(k=u.updateQueue,k!==null&&(u.updateQueue=null,Yj(u,k)));break;case 30:break;case 21:break;default:Zn(h,u),Xn(u)}}function Xn(u){var h=u.flags;if(h&2){try{for(var w,k=u.return;k!==null;){if(H5(k)){w=k;break}k=k.return}if(w==null)throw Error(r(160));switch(w.tag){case 27:var L=w.stateNode,U=Vj(u);N0(u,U,L);break;case 5:var se=w.stateNode;w.flags&32&&(Au(se,""),w.flags&=-33);var pe=Vj(u);N0(u,pe,se);break;case 3:case 4:var we=w.stateNode.containerInfo,We=Vj(u);Hj(u,We,we);break;default:throw Error(r(161))}}catch(ht){Aa(u,u.return,ht)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function J5(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;J5(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),u=u.sibling}}function uc(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)G5(u,h.alternate,h),h=h.sibling}function Sd(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:dc(4,h,h.return),Sd(h);break;case 1:Eo(h,h.return);var w=h.stateNode;typeof w.componentWillUnmount=="function"&&U5(h,h.return,w),Sd(h);break;case 27:Sh(h.stateNode);case 26:case 5:Eo(h,h.return),Sd(h);break;case 22:h.memoizedState===null&&Sd(h);break;case 30:Sd(h);break;default:Sd(h)}u=u.sibling}}function mc(u,h,w){for(w=w&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var k=h.alternate,L=u,U=h,se=U.flags;switch(U.tag){case 0:case 11:case 15:mc(L,U,w),fh(4,U);break;case 1:if(mc(L,U,w),k=U,L=k.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(We){Aa(k,k.return,We)}if(k=U,L=k.updateQueue,L!==null){var pe=k.stateNode;try{var we=L.shared.hiddenCallbacks;if(we!==null)for(L.shared.hiddenCallbacks=null,L=0;L<we.length;L++)kC(we[L],pe)}catch(We){Aa(k,k.return,We)}}w&&se&64&&B5(U),xh(U,U.return);break;case 27:W5(U);case 26:case 5:mc(L,U,w),w&&k===null&&se&4&&V5(U),xh(U,U.return);break;case 12:mc(L,U,w);break;case 13:mc(L,U,w),w&&se&4&&Z5(L,U);break;case 22:U.memoizedState===null&&mc(L,U,w),xh(U,U.return);break;case 30:break;default:mc(L,U,w)}h=h.sibling}}function Gj(u,h){var w=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(w=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==w&&(u!=null&&u.refCount++,w!=null&&th(w))}function Kj(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&th(u))}function To(u,h,w,k){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)e6(u,h,w,k),h=h.sibling}function e6(u,h,w,k){var L=h.flags;switch(h.tag){case 0:case 11:case 15:To(u,h,w,k),L&2048&&fh(9,h);break;case 1:To(u,h,w,k);break;case 3:To(u,h,w,k),L&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&th(u)));break;case 12:if(L&2048){To(u,h,w,k),u=h.stateNode;try{var U=h.memoizedProps,se=U.id,pe=U.onPostCommit;typeof pe=="function"&&pe(se,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(we){Aa(h,h.return,we)}}else To(u,h,w,k);break;case 13:To(u,h,w,k);break;case 23:break;case 22:U=h.stateNode,se=h.alternate,h.memoizedState!==null?U._visibility&2?To(u,h,w,k):gh(u,h):U._visibility&2?To(u,h,w,k):(U._visibility|=2,Ju(u,h,w,k,(h.subtreeFlags&10256)!==0)),L&2048&&Gj(se,h);break;case 24:To(u,h,w,k),L&2048&&Kj(h.alternate,h);break;default:To(u,h,w,k)}}function Ju(u,h,w,k,L){for(L=L&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var U=u,se=h,pe=w,we=k,We=se.flags;switch(se.tag){case 0:case 11:case 15:Ju(U,se,pe,we,L),fh(8,se);break;case 23:break;case 22:var ht=se.stateNode;se.memoizedState!==null?ht._visibility&2?Ju(U,se,pe,we,L):gh(U,se):(ht._visibility|=2,Ju(U,se,pe,we,L)),L&&We&2048&&Gj(se.alternate,se);break;case 24:Ju(U,se,pe,we,L),L&&We&2048&&Kj(se.alternate,se);break;default:Ju(U,se,pe,we,L)}h=h.sibling}}function gh(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var w=u,k=h,L=k.flags;switch(k.tag){case 22:gh(w,k),L&2048&&Gj(k.alternate,k);break;case 24:gh(w,k),L&2048&&Kj(k.alternate,k);break;default:gh(w,k)}h=h.sibling}}var bh=8192;function em(u){if(u.subtreeFlags&bh)for(u=u.child;u!==null;)t6(u),u=u.sibling}function t6(u){switch(u.tag){case 26:em(u),u.flags&bh&&u.memoizedState!==null&&pq(uo,u.memoizedState,u.memoizedProps);break;case 5:em(u);break;case 3:case 4:var h=uo;uo=I0(u.stateNode.containerInfo),em(u),uo=h;break;case 22:u.memoizedState===null&&(h=u.alternate,h!==null&&h.memoizedState!==null?(h=bh,bh=16777216,em(u),bh=h):em(u));break;default:em(u)}}function s6(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function yh(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var w=0;w<h.length;w++){var k=h[w];Ir=k,r6(k,u)}s6(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)a6(u),u=u.sibling}function a6(u){switch(u.tag){case 0:case 11:case 15:yh(u),u.flags&2048&&dc(9,u,u.return);break;case 3:yh(u);break;case 12:yh(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&2&&(u.return===null||u.return.tag!==13)?(h._visibility&=-3,_0(u)):yh(u);break;default:yh(u)}}function _0(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var w=0;w<h.length;w++){var k=h[w];Ir=k,r6(k,u)}s6(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:dc(8,h,h.return),_0(h);break;case 22:w=h.stateNode,w._visibility&2&&(w._visibility&=-3,_0(h));break;default:_0(h)}u=u.sibling}}function r6(u,h){for(;Ir!==null;){var w=Ir;switch(w.tag){case 0:case 11:case 15:dc(8,w,h);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var k=w.memoizedState.cachePool.pool;k!=null&&k.refCount++}break;case 24:th(w.memoizedState.cache)}if(k=w.child,k!==null)k.return=w,Ir=k;else e:for(w=u;Ir!==null;){k=Ir;var L=k.sibling,U=k.return;if(K5(k),k===w){Ir=null;break e}if(L!==null){L.return=U,Ir=L;break e}Ir=U}}}var Ez={getCacheForType:function(u){var h=en(kr),w=h.data.get(u);return w===void 0&&(w=u(),h.data.set(u,w)),w}},Tz=typeof WeakMap=="function"?WeakMap:Map,va=0,La=null,Zs=null,ra=0,ja=0,Jn=null,pc=!1,tm=!1,Qj=!1,wl=0,tr=0,hc=0,Cd=0,Zj=0,Ti=0,sm=0,vh=null,Dn=null,Xj=!1,Jj=0,w0=1/0,S0=null,fc=null,Hr=0,xc=null,am=null,rm=0,e2=0,t2=null,n6=null,jh=0,s2=null;function ei(){if((va&2)!==0&&ra!==0)return ra&-ra;if(q.T!==null){var u=Hu;return u!==0?u:c2()}return zs()}function i6(){Ti===0&&(Ti=(ra&536870912)===0||da?cs():536870912);var u=Ei.current;return u!==null&&(u.flags|=32),Ti}function ti(u,h,w){(u===La&&(ja===2||ja===9)||u.cancelPendingCommit!==null)&&(nm(u,0),gc(u,ra,Ti,!1)),Is(u,w),((va&2)===0||u!==La)&&(u===La&&((va&2)===0&&(Cd|=w),tr===4&&gc(u,ra,Ti,!1)),Mo(u))}function o6(u,h,w){if((va&6)!==0)throw Error(r(327));var k=!w&&(h&124)===0&&(h&u.expiredLanes)===0||_t(u,h),L=k?Rz(u,h):n2(u,h,!0),U=k;do{if(L===0){tm&&!k&&gc(u,h,0,!1);break}else{if(w=u.current.alternate,U&&!Mz(w)){L=n2(u,h,!1),U=!1;continue}if(L===2){if(U=h,u.errorRecoveryDisabledLanes&U)var se=0;else se=u.pendingLanes&-536870913,se=se!==0?se:se&536870912?536870912:0;if(se!==0){h=se;e:{var pe=u;L=vh;var we=pe.current.memoizedState.isDehydrated;if(we&&(nm(pe,se).flags|=256),se=n2(pe,se,!1),se!==2){if(Qj&&!we){pe.errorRecoveryDisabledLanes|=U,Cd|=U,L=4;break e}U=Dn,Dn=L,U!==null&&(Dn===null?Dn=U:Dn.push.apply(Dn,U))}L=se}if(U=!1,L!==2)continue}}if(L===1){nm(u,0),gc(u,h,0,!0);break}e:{switch(k=u,U=L,U){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:gc(k,h,Ti,!pc);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(L=Jj+300-_e(),10<L)){if(gc(k,h,Ti,!pc),zt(k,0,!0)!==0)break e;k.timeoutHandle=O6(l6.bind(null,k,w,Dn,S0,Xj,h,Ti,Cd,sm,pc,U,2,-0,0),L);break e}l6(k,w,Dn,S0,Xj,h,Ti,Cd,sm,pc,U,0,-0,0)}}break}while(!0);Mo(u)}function l6(u,h,w,k,L,U,se,pe,we,We,ht,wt,Qe,Xe){if(u.timeoutHandle=-1,wt=h.subtreeFlags,(wt&8192||(wt&16785408)===16785408)&&(kh={stylesheets:null,count:0,unsuspend:mq},t6(h),wt=hq(),wt!==null)){u.cancelPendingCommit=wt(f6.bind(null,u,h,U,w,k,L,se,pe,we,ht,1,Qe,Xe)),gc(u,U,se,!We);return}f6(u,h,U,w,k,L,se,pe,we)}function Mz(u){for(var h=u;;){var w=h.tag;if((w===0||w===11||w===15)&&h.flags&16384&&(w=h.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var k=0;k<w.length;k++){var L=w[k],U=L.getSnapshot;L=L.value;try{if(!Kn(U(),L))return!1}catch{return!1}}if(w=h.child,h.subtreeFlags&16384&&w!==null)w.return=h,h=w;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function gc(u,h,w,k){h&=~Zj,h&=~Cd,u.suspendedLanes|=h,u.pingedLanes&=~h,k&&(u.warmLanes|=h),k=u.expirationTimes;for(var L=h;0<L;){var U=31-ye(L),se=1<<U;k[U]=-1,L&=~se}w!==0&&pa(u,w,h)}function C0(){return(va&6)===0?(Nh(0),!1):!0}function a2(){if(Zs!==null){if(ja===0)var u=Zs.return;else u=Zs,xl=vd=null,vj(u),Zu=null,mh=0,u=Zs;for(;u!==null;)q5(u.alternate,u),u=u.return;Zs=null}}function nm(u,h){var w=u.timeoutHandle;w!==-1&&(u.timeoutHandle=-1,Kz(w)),w=u.cancelPendingCommit,w!==null&&(u.cancelPendingCommit=null,w()),a2(),La=u,Zs=w=pl(u.current,null),ra=h,ja=0,Jn=null,pc=!1,tm=_t(u,h),Qj=!1,sm=Ti=Zj=Cd=hc=tr=0,Dn=vh=null,Xj=!1,(h&8)!==0&&(h|=h&32);var k=u.entangledLanes;if(k!==0)for(u=u.entanglements,k&=h;0<k;){var L=31-ye(k),U=1<<L;h|=u[L],k&=~U}return wl=h,Gg(),w}function c6(u,h){Hs=null,q.H=p0,h===ah||h===a0?(h=CC(),ja=3):h===_C?(h=CC(),ja=4):ja=h===P5?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Jn=h,Zs===null&&(tr=1,b0(u,Si(h,u.current)))}function d6(){var u=q.H;return q.H=p0,u===null?p0:u}function u6(){var u=q.A;return q.A=Ez,u}function r2(){tr=4,pc||(ra&4194048)!==ra&&Ei.current!==null||(tm=!0),(hc&134217727)===0&&(Cd&134217727)===0||La===null||gc(La,ra,Ti,!1)}function n2(u,h,w){var k=va;va|=2;var L=d6(),U=u6();(La!==u||ra!==h)&&(S0=null,nm(u,h)),h=!1;var se=tr;e:do try{if(ja!==0&&Zs!==null){var pe=Zs,we=Jn;switch(ja){case 8:a2(),se=6;break e;case 3:case 2:case 9:case 6:Ei.current===null&&(h=!0);var We=ja;if(ja=0,Jn=null,im(u,pe,we,We),w&&tm){se=0;break e}break;default:We=ja,ja=0,Jn=null,im(u,pe,we,We)}}Dz(),se=tr;break}catch(ht){c6(u,ht)}while(!0);return h&&u.shellSuspendCounter++,xl=vd=null,va=k,q.H=L,q.A=U,Zs===null&&(La=null,ra=0,Gg()),se}function Dz(){for(;Zs!==null;)m6(Zs)}function Rz(u,h){var w=va;va|=2;var k=d6(),L=u6();La!==u||ra!==h?(S0=null,w0=_e()+500,nm(u,h)):tm=_t(u,h);e:do try{if(ja!==0&&Zs!==null){h=Zs;var U=Jn;t:switch(ja){case 1:ja=0,Jn=null,im(u,h,U,1);break;case 2:case 9:if(wC(U)){ja=0,Jn=null,p6(h);break}h=function(){ja!==2&&ja!==9||La!==u||(ja=7),Mo(u)},U.then(h,h);break e;case 3:ja=7;break e;case 4:ja=5;break e;case 7:wC(U)?(ja=0,Jn=null,p6(h)):(ja=0,Jn=null,im(u,h,U,7));break;case 5:var se=null;switch(Zs.tag){case 26:se=Zs.memoizedState;case 5:case 27:var pe=Zs;if(!se||G6(se)){ja=0,Jn=null;var we=pe.sibling;if(we!==null)Zs=we;else{var We=pe.return;We!==null?(Zs=We,P0(We)):Zs=null}break t}}ja=0,Jn=null,im(u,h,U,5);break;case 6:ja=0,Jn=null,im(u,h,U,6);break;case 8:a2(),tr=6;break e;default:throw Error(r(462))}}Az();break}catch(ht){c6(u,ht)}while(!0);return xl=vd=null,q.H=k,q.A=L,va=w,Zs!==null?0:(La=null,ra=0,Gg(),tr)}function Az(){for(;Zs!==null&&!Ae();)m6(Zs)}function m6(u){var h=$5(u.alternate,u,wl);u.memoizedProps=u.pendingProps,h===null?P0(u):Zs=h}function p6(u){var h=u,w=h.alternate;switch(h.tag){case 15:case 0:h=R5(w,h,h.pendingProps,h.type,void 0,ra);break;case 11:h=R5(w,h,h.pendingProps,h.type.render,h.ref,ra);break;case 5:vj(h);default:q5(w,h),h=Zs=hC(h,wl),h=$5(w,h,wl)}u.memoizedProps=u.pendingProps,h===null?P0(u):Zs=h}function im(u,h,w,k){xl=vd=null,vj(h),Zu=null,mh=0;var L=h.return;try{if(_z(u,L,h,w,ra)){tr=1,b0(u,Si(w,u.current)),Zs=null;return}}catch(U){if(L!==null)throw Zs=L,U;tr=1,b0(u,Si(w,u.current)),Zs=null;return}h.flags&32768?(da||k===1?u=!0:tm||(ra&536870912)!==0?u=!1:(pc=u=!0,(k===2||k===9||k===3||k===6)&&(k=Ei.current,k!==null&&k.tag===13&&(k.flags|=16384))),h6(h,u)):P0(h)}function P0(u){var h=u;do{if((h.flags&32768)!==0){h6(h,pc);return}u=h.return;var w=Sz(h.alternate,h,wl);if(w!==null){Zs=w;return}if(h=h.sibling,h!==null){Zs=h;return}Zs=h=u}while(h!==null);tr===0&&(tr=5)}function h6(u,h){do{var w=Cz(u.alternate,u);if(w!==null){w.flags&=32767,Zs=w;return}if(w=u.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!h&&(u=u.sibling,u!==null)){Zs=u;return}Zs=u=w}while(u!==null);tr=6,Zs=null}function f6(u,h,w,k,L,U,se,pe,we){u.cancelPendingCommit=null;do k0();while(Hr!==0);if((va&6)!==0)throw Error(r(327));if(h!==null){if(h===u.current)throw Error(r(177));if(U=h.lanes|h.childLanes,U|=K1,Ds(u,w,U,se,pe,we),u===La&&(Zs=La=null,ra=0),am=h,xc=u,rm=w,e2=U,t2=L,n6=k,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,Lz(He,function(){return v6(),null})):(u.callbackNode=null,u.callbackPriority=0),k=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||k){k=q.T,q.T=null,L=H.p,H.p=2,se=va,va|=4;try{Pz(u,h,w)}finally{va=se,H.p=L,q.T=k}}Hr=1,x6(),g6(),b6()}}function x6(){if(Hr===1){Hr=0;var u=xc,h=am,w=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||w){w=q.T,q.T=null;var k=H.p;H.p=2;var L=va;va|=4;try{X5(h,u);var U=g2,se=rC(u.containerInfo),pe=U.focusedElem,we=U.selectionRange;if(se!==pe&&pe&&pe.ownerDocument&&aC(pe.ownerDocument.documentElement,pe)){if(we!==null&&V1(pe)){var We=we.start,ht=we.end;if(ht===void 0&&(ht=We),"selectionStart"in pe)pe.selectionStart=We,pe.selectionEnd=Math.min(ht,pe.value.length);else{var wt=pe.ownerDocument||document,Qe=wt&&wt.defaultView||window;if(Qe.getSelection){var Xe=Qe.getSelection(),Ss=pe.textContent.length,js=Math.min(we.start,Ss),Ta=we.end===void 0?js:Math.min(we.end,Ss);!Xe.extend&&js>Ta&&(se=Ta,Ta=js,js=se);var $e=sC(pe,js),De=sC(pe,Ta);if($e&&De&&(Xe.rangeCount!==1||Xe.anchorNode!==$e.node||Xe.anchorOffset!==$e.offset||Xe.focusNode!==De.node||Xe.focusOffset!==De.offset)){var Ve=wt.createRange();Ve.setStart($e.node,$e.offset),Xe.removeAllRanges(),js>Ta?(Xe.addRange(Ve),Xe.extend(De.node,De.offset)):(Ve.setEnd(De.node,De.offset),Xe.addRange(Ve))}}}}for(wt=[],Xe=pe;Xe=Xe.parentNode;)Xe.nodeType===1&&wt.push({element:Xe,left:Xe.scrollLeft,top:Xe.scrollTop});for(typeof pe.focus=="function"&&pe.focus(),pe=0;pe<wt.length;pe++){var bt=wt[pe];bt.element.scrollLeft=bt.left,bt.element.scrollTop=bt.top}}z0=!!x2,g2=x2=null}finally{va=L,H.p=k,q.T=w}}u.current=h,Hr=2}}function g6(){if(Hr===2){Hr=0;var u=xc,h=am,w=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||w){w=q.T,q.T=null;var k=H.p;H.p=2;var L=va;va|=4;try{G5(u,h.alternate,h)}finally{va=L,H.p=k,q.T=w}}Hr=3}}function b6(){if(Hr===4||Hr===3){Hr=0,Ce();var u=xc,h=am,w=rm,k=n6;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Hr=5:(Hr=0,am=xc=null,y6(u,u.pendingLanes));var L=u.pendingLanes;if(L===0&&(fc=null),qt(w),h=h.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(dt,h,void 0,(h.current.flags&128)===128)}catch{}if(k!==null){h=q.T,L=H.p,H.p=2,q.T=null;try{for(var U=u.onRecoverableError,se=0;se<k.length;se++){var pe=k[se];U(pe.value,{componentStack:pe.stack})}}finally{q.T=h,H.p=L}}(rm&3)!==0&&k0(),Mo(u),L=u.pendingLanes,(w&4194090)!==0&&(L&42)!==0?u===s2?jh++:(jh=0,s2=u):jh=0,Nh(0)}}function y6(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,th(h)))}function k0(u){return x6(),g6(),b6(),v6()}function v6(){if(Hr!==5)return!1;var u=xc,h=e2;e2=0;var w=qt(rm),k=q.T,L=H.p;try{H.p=32>w?32:w,q.T=null,w=t2,t2=null;var U=xc,se=rm;if(Hr=0,am=xc=null,rm=0,(va&6)!==0)throw Error(r(331));var pe=va;if(va|=4,a6(U.current),e6(U,U.current,se,w),va=pe,Nh(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(dt,U)}catch{}return!0}finally{H.p=L,q.T=k,y6(u,h)}}function j6(u,h,w){h=Si(w,h),h=Aj(u.stateNode,h,2),u=ic(u,h,2),u!==null&&(Is(u,2),Mo(u))}function Aa(u,h,w){if(u.tag===3)j6(u,u,w);else for(;h!==null;){if(h.tag===3){j6(h,u,w);break}else if(h.tag===1){var k=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(fc===null||!fc.has(k))){u=Si(w,u),w=S5(2),k=ic(h,w,2),k!==null&&(C5(w,k,h,u),Is(k,2),Mo(k));break}}h=h.return}}function i2(u,h,w){var k=u.pingCache;if(k===null){k=u.pingCache=new Tz;var L=new Set;k.set(h,L)}else L=k.get(h),L===void 0&&(L=new Set,k.set(h,L));L.has(w)||(Qj=!0,L.add(w),u=Iz.bind(null,u,h,w),h.then(u,u))}function Iz(u,h,w){var k=u.pingCache;k!==null&&k.delete(h),u.pingedLanes|=u.suspendedLanes&w,u.warmLanes&=~w,La===u&&(ra&w)===w&&(tr===4||tr===3&&(ra&62914560)===ra&&300>_e()-Jj?(va&2)===0&&nm(u,0):Zj|=w,sm===ra&&(sm=0)),Mo(u)}function N6(u,h){h===0&&(h=Ns()),u=qu(u,h),u!==null&&(Is(u,h),Mo(u))}function Oz(u){var h=u.memoizedState,w=0;h!==null&&(w=h.retryLane),N6(u,w)}function Fz(u,h){var w=0;switch(u.tag){case 13:var k=u.stateNode,L=u.memoizedState;L!==null&&(w=L.retryLane);break;case 19:k=u.stateNode;break;case 22:k=u.stateNode._retryCache;break;default:throw Error(r(314))}k!==null&&k.delete(h),N6(u,w)}function Lz(u,h){return le(u,h)}var E0=null,om=null,o2=!1,T0=!1,l2=!1,Pd=0;function Mo(u){u!==om&&u.next===null&&(om===null?E0=om=u:om=om.next=u),T0=!0,o2||(o2=!0,zz())}function Nh(u,h){if(!l2&&T0){l2=!0;do for(var w=!1,k=E0;k!==null;){if(u!==0){var L=k.pendingLanes;if(L===0)var U=0;else{var se=k.suspendedLanes,pe=k.pingedLanes;U=(1<<31-ye(42|u)+1)-1,U&=L&~(se&~pe),U=U&201326741?U&201326741|1:U?U|2:0}U!==0&&(w=!0,C6(k,U))}else U=ra,U=zt(k,k===La?U:0,k.cancelPendingCommit!==null||k.timeoutHandle!==-1),(U&3)===0||_t(k,U)||(w=!0,C6(k,U));k=k.next}while(w);l2=!1}}function $z(){_6()}function _6(){T0=o2=!1;var u=0;Pd!==0&&(Gz()&&(u=Pd),Pd=0);for(var h=_e(),w=null,k=E0;k!==null;){var L=k.next,U=w6(k,h);U===0?(k.next=null,w===null?E0=L:w.next=L,L===null&&(om=w)):(w=k,(u!==0||(U&3)!==0)&&(T0=!0)),k=L}Nh(u)}function w6(u,h){for(var w=u.suspendedLanes,k=u.pingedLanes,L=u.expirationTimes,U=u.pendingLanes&-62914561;0<U;){var se=31-ye(U),pe=1<<se,we=L[se];we===-1?((pe&w)===0||(pe&k)!==0)&&(L[se]=hs(pe,h)):we<=h&&(u.expiredLanes|=pe),U&=~pe}if(h=La,w=ra,w=zt(u,u===h?w:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),k=u.callbackNode,w===0||u===h&&(ja===2||ja===9)||u.cancelPendingCommit!==null)return k!==null&&k!==null&&me(k),u.callbackNode=null,u.callbackPriority=0;if((w&3)===0||_t(u,w)){if(h=w&-w,h===u.callbackPriority)return h;switch(k!==null&&me(k),qt(w)){case 2:case 8:w=ke;break;case 32:w=He;break;case 268435456:w=Ge;break;default:w=He}return k=S6.bind(null,u),w=le(w,k),u.callbackPriority=h,u.callbackNode=w,h}return k!==null&&k!==null&&me(k),u.callbackPriority=2,u.callbackNode=null,2}function S6(u,h){if(Hr!==0&&Hr!==5)return u.callbackNode=null,u.callbackPriority=0,null;var w=u.callbackNode;if(k0()&&u.callbackNode!==w)return null;var k=ra;return k=zt(u,u===La?k:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),k===0?null:(o6(u,k,h),w6(u,_e()),u.callbackNode!=null&&u.callbackNode===w?S6.bind(null,u):null)}function C6(u,h){if(k0())return null;o6(u,h,!0)}function zz(){Qz(function(){(va&6)!==0?le(et,$z):_6()})}function c2(){return Pd===0&&(Pd=cs()),Pd}function P6(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:qg(""+u)}function k6(u,h){var w=h.ownerDocument.createElement("input");return w.name=h.name,w.value=h.value,u.id&&w.setAttribute("form",u.id),h.parentNode.insertBefore(w,h),u=new FormData(u),w.parentNode.removeChild(w),u}function qz(u,h,w,k,L){if(h==="submit"&&w&&w.stateNode===L){var U=P6((L[ve]||null).action),se=k.submitter;se&&(h=(h=se[ve]||null)?P6(h.formAction):se.getAttribute("formAction"),h!==null&&(U=h,se=null));var pe=new Hg("action","action",null,k,L);u.push({event:pe,listeners:[{instance:null,listener:function(){if(k.defaultPrevented){if(Pd!==0){var we=se?k6(L,se):new FormData(L);Ej(w,{pending:!0,data:we,method:L.method,action:U},null,we)}}else typeof U=="function"&&(pe.preventDefault(),we=se?k6(L,se):new FormData(L),Ej(w,{pending:!0,data:we,method:L.method,action:U},U,we))},currentTarget:L}]})}}for(var d2=0;d2<G1.length;d2++){var u2=G1[d2],Bz=u2.toLowerCase(),Uz=u2[0].toUpperCase()+u2.slice(1);co(Bz,"on"+Uz)}co(oC,"onAnimationEnd"),co(lC,"onAnimationIteration"),co(cC,"onAnimationStart"),co("dblclick","onDoubleClick"),co("focusin","onFocus"),co("focusout","onBlur"),co(iz,"onTransitionRun"),co(oz,"onTransitionStart"),co(lz,"onTransitionCancel"),co(dC,"onTransitionEnd"),Zt("onMouseEnter",["mouseout","mouseover"]),Zt("onMouseLeave",["mouseout","mouseover"]),Zt("onPointerEnter",["pointerout","pointerover"]),Zt("onPointerLeave",["pointerout","pointerover"]),Dt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_h));function E6(u,h){h=(h&4)!==0;for(var w=0;w<u.length;w++){var k=u[w],L=k.event;k=k.listeners;e:{var U=void 0;if(h)for(var se=k.length-1;0<=se;se--){var pe=k[se],we=pe.instance,We=pe.currentTarget;if(pe=pe.listener,we!==U&&L.isPropagationStopped())break e;U=pe,L.currentTarget=We;try{U(L)}catch(ht){g0(ht)}L.currentTarget=null,U=we}else for(se=0;se<k.length;se++){if(pe=k[se],we=pe.instance,We=pe.currentTarget,pe=pe.listener,we!==U&&L.isPropagationStopped())break e;U=pe,L.currentTarget=We;try{U(L)}catch(ht){g0(ht)}L.currentTarget=null,U=we}}}}function Xs(u,h){var w=h[Be];w===void 0&&(w=h[Be]=new Set);var k=u+"__bubble";w.has(k)||(T6(h,u,2,!1),w.add(k))}function m2(u,h,w){var k=0;h&&(k|=4),T6(w,u,k,h)}var M0="_reactListening"+Math.random().toString(36).slice(2);function p2(u){if(!u[M0]){u[M0]=!0,Ee.forEach(function(w){w!=="selectionchange"&&(Vz.has(w)||m2(w,!1,u),m2(w,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[M0]||(h[M0]=!0,m2("selectionchange",!1,h))}}function T6(u,h,w,k){switch(eP(h)){case 2:var L=gq;break;case 8:L=bq;break;default:L=P2}w=L.bind(null,h,w,u),L=void 0,!I1||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(L=!0),k?L!==void 0?u.addEventListener(h,w,{capture:!0,passive:L}):u.addEventListener(h,w,!0):L!==void 0?u.addEventListener(h,w,{passive:L}):u.addEventListener(h,w,!1)}function h2(u,h,w,k,L){var U=k;if((h&1)===0&&(h&2)===0&&k!==null)e:for(;;){if(k===null)return;var se=k.tag;if(se===3||se===4){var pe=k.stateNode.containerInfo;if(pe===L)break;if(se===4)for(se=k.return;se!==null;){var we=se.tag;if((we===3||we===4)&&se.stateNode.containerInfo===L)return;se=se.return}for(;pe!==null;){if(se=Ct(pe),se===null)return;if(we=se.tag,we===5||we===6||we===26||we===27){k=U=se;continue e}pe=pe.parentNode}}k=k.return}F3(function(){var We=U,ht=R1(w),wt=[];e:{var Qe=uC.get(u);if(Qe!==void 0){var Xe=Hg,Ss=u;switch(u){case"keypress":if(Ug(w)===0)break e;case"keydown":case"keyup":Xe=L$;break;case"focusin":Ss="focus",Xe=$1;break;case"focusout":Ss="blur",Xe=$1;break;case"beforeblur":case"afterblur":Xe=$1;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=z3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=C$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=q$;break;case oC:case lC:case cC:Xe=E$;break;case dC:Xe=U$;break;case"scroll":case"scrollend":Xe=w$;break;case"wheel":Xe=H$;break;case"copy":case"cut":case"paste":Xe=M$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=B3;break;case"toggle":case"beforetoggle":Xe=Y$}var js=(h&4)!==0,Ta=!js&&(u==="scroll"||u==="scrollend"),$e=js?Qe!==null?Qe+"Capture":null:Qe;js=[];for(var De=We,Ve;De!==null;){var bt=De;if(Ve=bt.stateNode,bt=bt.tag,bt!==5&&bt!==26&&bt!==27||Ve===null||$e===null||(bt=Bp(De,$e),bt!=null&&js.push(wh(De,bt,Ve))),Ta)break;De=De.return}0<js.length&&(Qe=new Xe(Qe,Ss,null,w,ht),wt.push({event:Qe,listeners:js}))}}if((h&7)===0){e:{if(Qe=u==="mouseover"||u==="pointerover",Xe=u==="mouseout"||u==="pointerout",Qe&&w!==D1&&(Ss=w.relatedTarget||w.fromElement)&&(Ct(Ss)||Ss[Pe]))break e;if((Xe||Qe)&&(Qe=ht.window===ht?ht:(Qe=ht.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,Xe?(Ss=w.relatedTarget||w.toElement,Xe=We,Ss=Ss?Ct(Ss):null,Ss!==null&&(Ta=i(Ss),js=Ss.tag,Ss!==Ta||js!==5&&js!==27&&js!==6)&&(Ss=null)):(Xe=null,Ss=We),Xe!==Ss)){if(js=z3,bt="onMouseLeave",$e="onMouseEnter",De="mouse",(u==="pointerout"||u==="pointerover")&&(js=B3,bt="onPointerLeave",$e="onPointerEnter",De="pointer"),Ta=Xe==null?Qe:as(Xe),Ve=Ss==null?Qe:as(Ss),Qe=new js(bt,De+"leave",Xe,w,ht),Qe.target=Ta,Qe.relatedTarget=Ve,bt=null,Ct(ht)===We&&(js=new js($e,De+"enter",Ss,w,ht),js.target=Ve,js.relatedTarget=Ta,bt=js),Ta=bt,Xe&&Ss)t:{for(js=Xe,$e=Ss,De=0,Ve=js;Ve;Ve=lm(Ve))De++;for(Ve=0,bt=$e;bt;bt=lm(bt))Ve++;for(;0<De-Ve;)js=lm(js),De--;for(;0<Ve-De;)$e=lm($e),Ve--;for(;De--;){if(js===$e||$e!==null&&js===$e.alternate)break t;js=lm(js),$e=lm($e)}js=null}else js=null;Xe!==null&&M6(wt,Qe,Xe,js,!1),Ss!==null&&Ta!==null&&M6(wt,Ta,Ss,js,!0)}}e:{if(Qe=We?as(We):window,Xe=Qe.nodeName&&Qe.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Qe.type==="file")var ns=Q3;else if(G3(Qe))if(Z3)ns=az;else{ns=tz;var Ks=ez}else Xe=Qe.nodeName,!Xe||Xe.toLowerCase()!=="input"||Qe.type!=="checkbox"&&Qe.type!=="radio"?We&&M1(We.elementType)&&(ns=Q3):ns=sz;if(ns&&(ns=ns(u,We))){K3(wt,ns,w,ht);break e}Ks&&Ks(u,Qe,We),u==="focusout"&&We&&Qe.type==="number"&&We.memoizedProps.value!=null&&T1(Qe,"number",Qe.value)}switch(Ks=We?as(We):window,u){case"focusin":(G3(Ks)||Ks.contentEditable==="true")&&(Lu=Ks,H1=We,Qp=null);break;case"focusout":Qp=H1=Lu=null;break;case"mousedown":W1=!0;break;case"contextmenu":case"mouseup":case"dragend":W1=!1,nC(wt,w,ht);break;case"selectionchange":if(nz)break;case"keydown":case"keyup":nC(wt,w,ht)}var us;if(q1)e:{switch(u){case"compositionstart":var _s="onCompositionStart";break e;case"compositionend":_s="onCompositionEnd";break e;case"compositionupdate":_s="onCompositionUpdate";break e}_s=void 0}else Fu?W3(u,w)&&(_s="onCompositionEnd"):u==="keydown"&&w.keyCode===229&&(_s="onCompositionStart");_s&&(U3&&w.locale!=="ko"&&(Fu||_s!=="onCompositionStart"?_s==="onCompositionEnd"&&Fu&&(us=L3()):(sc=ht,O1="value"in sc?sc.value:sc.textContent,Fu=!0)),Ks=D0(We,_s),0<Ks.length&&(_s=new q3(_s,u,null,w,ht),wt.push({event:_s,listeners:Ks}),us?_s.data=us:(us=Y3(w),us!==null&&(_s.data=us)))),(us=K$?Q$(u,w):Z$(u,w))&&(_s=D0(We,"onBeforeInput"),0<_s.length&&(Ks=new q3("onBeforeInput","beforeinput",null,w,ht),wt.push({event:Ks,listeners:_s}),Ks.data=us)),qz(wt,u,We,w,ht)}E6(wt,h)})}function wh(u,h,w){return{instance:u,listener:h,currentTarget:w}}function D0(u,h){for(var w=h+"Capture",k=[];u!==null;){var L=u,U=L.stateNode;if(L=L.tag,L!==5&&L!==26&&L!==27||U===null||(L=Bp(u,w),L!=null&&k.unshift(wh(u,L,U)),L=Bp(u,h),L!=null&&k.push(wh(u,L,U))),u.tag===3)return k;u=u.return}return[]}function lm(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function M6(u,h,w,k,L){for(var U=h._reactName,se=[];w!==null&&w!==k;){var pe=w,we=pe.alternate,We=pe.stateNode;if(pe=pe.tag,we!==null&&we===k)break;pe!==5&&pe!==26&&pe!==27||We===null||(we=We,L?(We=Bp(w,U),We!=null&&se.unshift(wh(w,We,we))):L||(We=Bp(w,U),We!=null&&se.push(wh(w,We,we)))),w=w.return}se.length!==0&&u.push({event:h,listeners:se})}var Hz=/\r\n?/g,Wz=/\u0000|\uFFFD/g;function D6(u){return(typeof u=="string"?u:""+u).replace(Hz,`
`).replace(Wz,"")}function R6(u,h){return h=D6(h),D6(u)===h}function R0(){}function Ea(u,h,w,k,L,U){switch(w){case"children":typeof k=="string"?h==="body"||h==="textarea"&&k===""||Au(u,k):(typeof k=="number"||typeof k=="bigint")&&h!=="body"&&Au(u,""+k);break;case"className":Fa(u,"class",k);break;case"tabIndex":Fa(u,"tabindex",k);break;case"dir":case"role":case"viewBox":case"width":case"height":Fa(u,w,k);break;case"style":I3(u,k,U);break;case"data":if(h!=="object"){Fa(u,"data",k);break}case"src":case"href":if(k===""&&(h!=="a"||w!=="href")){u.removeAttribute(w);break}if(k==null||typeof k=="function"||typeof k=="symbol"||typeof k=="boolean"){u.removeAttribute(w);break}k=qg(""+k),u.setAttribute(w,k);break;case"action":case"formAction":if(typeof k=="function"){u.setAttribute(w,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof U=="function"&&(w==="formAction"?(h!=="input"&&Ea(u,h,"name",L.name,L,null),Ea(u,h,"formEncType",L.formEncType,L,null),Ea(u,h,"formMethod",L.formMethod,L,null),Ea(u,h,"formTarget",L.formTarget,L,null)):(Ea(u,h,"encType",L.encType,L,null),Ea(u,h,"method",L.method,L,null),Ea(u,h,"target",L.target,L,null)));if(k==null||typeof k=="symbol"||typeof k=="boolean"){u.removeAttribute(w);break}k=qg(""+k),u.setAttribute(w,k);break;case"onClick":k!=null&&(u.onclick=R0);break;case"onScroll":k!=null&&Xs("scroll",u);break;case"onScrollEnd":k!=null&&Xs("scrollend",u);break;case"dangerouslySetInnerHTML":if(k!=null){if(typeof k!="object"||!("__html"in k))throw Error(r(61));if(w=k.__html,w!=null){if(L.children!=null)throw Error(r(60));u.innerHTML=w}}break;case"multiple":u.multiple=k&&typeof k!="function"&&typeof k!="symbol";break;case"muted":u.muted=k&&typeof k!="function"&&typeof k!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(k==null||typeof k=="function"||typeof k=="boolean"||typeof k=="symbol"){u.removeAttribute("xlink:href");break}w=qg(""+k),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",w);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":k!=null&&typeof k!="function"&&typeof k!="symbol"?u.setAttribute(w,""+k):u.removeAttribute(w);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":k&&typeof k!="function"&&typeof k!="symbol"?u.setAttribute(w,""):u.removeAttribute(w);break;case"capture":case"download":k===!0?u.setAttribute(w,""):k!==!1&&k!=null&&typeof k!="function"&&typeof k!="symbol"?u.setAttribute(w,k):u.removeAttribute(w);break;case"cols":case"rows":case"size":case"span":k!=null&&typeof k!="function"&&typeof k!="symbol"&&!isNaN(k)&&1<=k?u.setAttribute(w,k):u.removeAttribute(w);break;case"rowSpan":case"start":k==null||typeof k=="function"||typeof k=="symbol"||isNaN(k)?u.removeAttribute(w):u.setAttribute(w,k);break;case"popover":Xs("beforetoggle",u),Xs("toggle",u),Rs(u,"popover",k);break;case"xlinkActuate":Ha(u,"http://www.w3.org/1999/xlink","xlink:actuate",k);break;case"xlinkArcrole":Ha(u,"http://www.w3.org/1999/xlink","xlink:arcrole",k);break;case"xlinkRole":Ha(u,"http://www.w3.org/1999/xlink","xlink:role",k);break;case"xlinkShow":Ha(u,"http://www.w3.org/1999/xlink","xlink:show",k);break;case"xlinkTitle":Ha(u,"http://www.w3.org/1999/xlink","xlink:title",k);break;case"xlinkType":Ha(u,"http://www.w3.org/1999/xlink","xlink:type",k);break;case"xmlBase":Ha(u,"http://www.w3.org/XML/1998/namespace","xml:base",k);break;case"xmlLang":Ha(u,"http://www.w3.org/XML/1998/namespace","xml:lang",k);break;case"xmlSpace":Ha(u,"http://www.w3.org/XML/1998/namespace","xml:space",k);break;case"is":Rs(u,"is",k);break;case"innerText":case"textContent":break;default:(!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(w=N$.get(w)||w,Rs(u,w,k))}}function f2(u,h,w,k,L,U){switch(w){case"style":I3(u,k,U);break;case"dangerouslySetInnerHTML":if(k!=null){if(typeof k!="object"||!("__html"in k))throw Error(r(61));if(w=k.__html,w!=null){if(L.children!=null)throw Error(r(60));u.innerHTML=w}}break;case"children":typeof k=="string"?Au(u,k):(typeof k=="number"||typeof k=="bigint")&&Au(u,""+k);break;case"onScroll":k!=null&&Xs("scroll",u);break;case"onScrollEnd":k!=null&&Xs("scrollend",u);break;case"onClick":k!=null&&(u.onclick=R0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ue.hasOwnProperty(w))e:{if(w[0]==="o"&&w[1]==="n"&&(L=w.endsWith("Capture"),h=w.slice(2,L?w.length-7:void 0),U=u[ve]||null,U=U!=null?U[w]:null,typeof U=="function"&&u.removeEventListener(h,U,L),typeof k=="function")){typeof U!="function"&&U!==null&&(w in u?u[w]=null:u.hasAttribute(w)&&u.removeAttribute(w)),u.addEventListener(h,k,L);break e}w in u?u[w]=k:k===!0?u.setAttribute(w,""):Rs(u,w,k)}}}function Wr(u,h,w){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xs("error",u),Xs("load",u);var k=!1,L=!1,U;for(U in w)if(w.hasOwnProperty(U)){var se=w[U];if(se!=null)switch(U){case"src":k=!0;break;case"srcSet":L=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Ea(u,h,U,se,w,null)}}L&&Ea(u,h,"srcSet",w.srcSet,w,null),k&&Ea(u,h,"src",w.src,w,null);return;case"input":Xs("invalid",u);var pe=U=se=L=null,we=null,We=null;for(k in w)if(w.hasOwnProperty(k)){var ht=w[k];if(ht!=null)switch(k){case"name":L=ht;break;case"type":se=ht;break;case"checked":we=ht;break;case"defaultChecked":We=ht;break;case"value":U=ht;break;case"defaultValue":pe=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,h));break;default:Ea(u,h,k,ht,w,null)}}M3(u,U,pe,we,We,se,L,!1),ud(u);return;case"select":Xs("invalid",u),k=se=U=null;for(L in w)if(w.hasOwnProperty(L)&&(pe=w[L],pe!=null))switch(L){case"value":U=pe;break;case"defaultValue":se=pe;break;case"multiple":k=pe;default:Ea(u,h,L,pe,w,null)}h=U,w=se,u.multiple=!!k,h!=null?Ru(u,!!k,h,!1):w!=null&&Ru(u,!!k,w,!0);return;case"textarea":Xs("invalid",u),U=L=k=null;for(se in w)if(w.hasOwnProperty(se)&&(pe=w[se],pe!=null))switch(se){case"value":k=pe;break;case"defaultValue":L=pe;break;case"children":U=pe;break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(91));break;default:Ea(u,h,se,pe,w,null)}R3(u,k,L,U),ud(u);return;case"option":for(we in w)w.hasOwnProperty(we)&&(k=w[we],k!=null)&&(we==="selected"?u.selected=k&&typeof k!="function"&&typeof k!="symbol":Ea(u,h,we,k,w,null));return;case"dialog":Xs("beforetoggle",u),Xs("toggle",u),Xs("cancel",u),Xs("close",u);break;case"iframe":case"object":Xs("load",u);break;case"video":case"audio":for(k=0;k<_h.length;k++)Xs(_h[k],u);break;case"image":Xs("error",u),Xs("load",u);break;case"details":Xs("toggle",u);break;case"embed":case"source":case"link":Xs("error",u),Xs("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(We in w)if(w.hasOwnProperty(We)&&(k=w[We],k!=null))switch(We){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Ea(u,h,We,k,w,null)}return;default:if(M1(h)){for(ht in w)w.hasOwnProperty(ht)&&(k=w[ht],k!==void 0&&f2(u,h,ht,k,w,void 0));return}}for(pe in w)w.hasOwnProperty(pe)&&(k=w[pe],k!=null&&Ea(u,h,pe,k,w,null))}function Yz(u,h,w,k){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var L=null,U=null,se=null,pe=null,we=null,We=null,ht=null;for(Xe in w){var wt=w[Xe];if(w.hasOwnProperty(Xe)&&wt!=null)switch(Xe){case"checked":break;case"value":break;case"defaultValue":we=wt;default:k.hasOwnProperty(Xe)||Ea(u,h,Xe,null,k,wt)}}for(var Qe in k){var Xe=k[Qe];if(wt=w[Qe],k.hasOwnProperty(Qe)&&(Xe!=null||wt!=null))switch(Qe){case"type":U=Xe;break;case"name":L=Xe;break;case"checked":We=Xe;break;case"defaultChecked":ht=Xe;break;case"value":se=Xe;break;case"defaultValue":pe=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(r(137,h));break;default:Xe!==wt&&Ea(u,h,Qe,Xe,k,wt)}}E1(u,se,pe,we,We,ht,U,L);return;case"select":Xe=se=pe=Qe=null;for(U in w)if(we=w[U],w.hasOwnProperty(U)&&we!=null)switch(U){case"value":break;case"multiple":Xe=we;default:k.hasOwnProperty(U)||Ea(u,h,U,null,k,we)}for(L in k)if(U=k[L],we=w[L],k.hasOwnProperty(L)&&(U!=null||we!=null))switch(L){case"value":Qe=U;break;case"defaultValue":pe=U;break;case"multiple":se=U;default:U!==we&&Ea(u,h,L,U,k,we)}h=pe,w=se,k=Xe,Qe!=null?Ru(u,!!w,Qe,!1):!!k!=!!w&&(h!=null?Ru(u,!!w,h,!0):Ru(u,!!w,w?[]:"",!1));return;case"textarea":Xe=Qe=null;for(pe in w)if(L=w[pe],w.hasOwnProperty(pe)&&L!=null&&!k.hasOwnProperty(pe))switch(pe){case"value":break;case"children":break;default:Ea(u,h,pe,null,k,L)}for(se in k)if(L=k[se],U=w[se],k.hasOwnProperty(se)&&(L!=null||U!=null))switch(se){case"value":Qe=L;break;case"defaultValue":Xe=L;break;case"children":break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:L!==U&&Ea(u,h,se,L,k,U)}D3(u,Qe,Xe);return;case"option":for(var Ss in w)Qe=w[Ss],w.hasOwnProperty(Ss)&&Qe!=null&&!k.hasOwnProperty(Ss)&&(Ss==="selected"?u.selected=!1:Ea(u,h,Ss,null,k,Qe));for(we in k)Qe=k[we],Xe=w[we],k.hasOwnProperty(we)&&Qe!==Xe&&(Qe!=null||Xe!=null)&&(we==="selected"?u.selected=Qe&&typeof Qe!="function"&&typeof Qe!="symbol":Ea(u,h,we,Qe,k,Xe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var js in w)Qe=w[js],w.hasOwnProperty(js)&&Qe!=null&&!k.hasOwnProperty(js)&&Ea(u,h,js,null,k,Qe);for(We in k)if(Qe=k[We],Xe=w[We],k.hasOwnProperty(We)&&Qe!==Xe&&(Qe!=null||Xe!=null))switch(We){case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(r(137,h));break;default:Ea(u,h,We,Qe,k,Xe)}return;default:if(M1(h)){for(var Ta in w)Qe=w[Ta],w.hasOwnProperty(Ta)&&Qe!==void 0&&!k.hasOwnProperty(Ta)&&f2(u,h,Ta,void 0,k,Qe);for(ht in k)Qe=k[ht],Xe=w[ht],!k.hasOwnProperty(ht)||Qe===Xe||Qe===void 0&&Xe===void 0||f2(u,h,ht,Qe,k,Xe);return}}for(var $e in w)Qe=w[$e],w.hasOwnProperty($e)&&Qe!=null&&!k.hasOwnProperty($e)&&Ea(u,h,$e,null,k,Qe);for(wt in k)Qe=k[wt],Xe=w[wt],!k.hasOwnProperty(wt)||Qe===Xe||Qe==null&&Xe==null||Ea(u,h,wt,Qe,k,Xe)}var x2=null,g2=null;function A0(u){return u.nodeType===9?u:u.ownerDocument}function A6(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I6(u,h){if(u===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&h==="foreignObject"?0:u}function b2(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var y2=null;function Gz(){var u=window.event;return u&&u.type==="popstate"?u===y2?!1:(y2=u,!0):(y2=null,!1)}var O6=typeof setTimeout=="function"?setTimeout:void 0,Kz=typeof clearTimeout=="function"?clearTimeout:void 0,F6=typeof Promise=="function"?Promise:void 0,Qz=typeof queueMicrotask=="function"?queueMicrotask:typeof F6<"u"?function(u){return F6.resolve(null).then(u).catch(Zz)}:O6;function Zz(u){setTimeout(function(){throw u})}function bc(u){return u==="head"}function L6(u,h){var w=h,k=0,L=0;do{var U=w.nextSibling;if(u.removeChild(w),U&&U.nodeType===8)if(w=U.data,w==="/$"){if(0<k&&8>k){w=k;var se=u.ownerDocument;if(w&1&&Sh(se.documentElement),w&2&&Sh(se.body),w&4)for(w=se.head,Sh(w),se=w.firstChild;se;){var pe=se.nextSibling,we=se.nodeName;se[Oe]||we==="SCRIPT"||we==="STYLE"||we==="LINK"&&se.rel.toLowerCase()==="stylesheet"||w.removeChild(se),se=pe}}if(L===0){u.removeChild(U),Rh(h);return}L--}else w==="$"||w==="$?"||w==="$!"?L++:k=w.charCodeAt(0)-48;else k=0;w=U}while(w);Rh(h)}function v2(u){var h=u.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var w=h;switch(h=h.nextSibling,w.nodeName){case"HTML":case"HEAD":case"BODY":v2(w),xt(w);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(w.rel.toLowerCase()==="stylesheet")continue}u.removeChild(w)}}function Xz(u,h,w,k){for(;u.nodeType===1;){var L=w;if(u.nodeName.toLowerCase()!==h.toLowerCase()){if(!k&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(k){if(!u[Oe])switch(h){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(U=u.getAttribute("rel"),U==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(U!==L.rel||u.getAttribute("href")!==(L.href==null||L.href===""?null:L.href)||u.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin)||u.getAttribute("title")!==(L.title==null?null:L.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(U=u.getAttribute("src"),(U!==(L.src==null?null:L.src)||u.getAttribute("type")!==(L.type==null?null:L.type)||u.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin))&&U&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(h==="input"&&u.type==="hidden"){var U=L.name==null?null:""+L.name;if(L.type==="hidden"&&u.getAttribute("name")===U)return u}else return u;if(u=mo(u.nextSibling),u===null)break}return null}function Jz(u,h,w){if(h==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!w||(u=mo(u.nextSibling),u===null))return null;return u}function j2(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState==="complete"}function eq(u,h){var w=u.ownerDocument;if(u.data!=="$?"||w.readyState==="complete")h();else{var k=function(){h(),w.removeEventListener("DOMContentLoaded",k)};w.addEventListener("DOMContentLoaded",k),u._reactRetry=k}}function mo(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return u}var N2=null;function $6(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var w=u.data;if(w==="$"||w==="$!"||w==="$?"){if(h===0)return u;h--}else w==="/$"&&h++}u=u.previousSibling}return null}function z6(u,h,w){switch(h=A0(w),u){case"html":if(u=h.documentElement,!u)throw Error(r(452));return u;case"head":if(u=h.head,!u)throw Error(r(453));return u;case"body":if(u=h.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}function Sh(u){for(var h=u.attributes;h.length;)u.removeAttributeNode(h[0]);xt(u)}var Mi=new Map,q6=new Set;function I0(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Sl=H.d;H.d={f:tq,r:sq,D:aq,C:rq,L:nq,m:iq,X:lq,S:oq,M:cq};function tq(){var u=Sl.f(),h=C0();return u||h}function sq(u){var h=Kt(u);h!==null&&h.tag===5&&h.type==="form"?o5(h):Sl.r(u)}var cm=typeof document>"u"?null:document;function B6(u,h,w){var k=cm;if(k&&typeof h=="string"&&h){var L=wi(h);L='link[rel="'+u+'"][href="'+L+'"]',typeof w=="string"&&(L+='[crossorigin="'+w+'"]'),q6.has(L)||(q6.add(L),u={rel:u,crossOrigin:w,href:h},k.querySelector(L)===null&&(h=k.createElement("link"),Wr(h,"link",u),At(h),k.head.appendChild(h)))}}function aq(u){Sl.D(u),B6("dns-prefetch",u,null)}function rq(u,h){Sl.C(u,h),B6("preconnect",u,h)}function nq(u,h,w){Sl.L(u,h,w);var k=cm;if(k&&u&&h){var L='link[rel="preload"][as="'+wi(h)+'"]';h==="image"&&w&&w.imageSrcSet?(L+='[imagesrcset="'+wi(w.imageSrcSet)+'"]',typeof w.imageSizes=="string"&&(L+='[imagesizes="'+wi(w.imageSizes)+'"]')):L+='[href="'+wi(u)+'"]';var U=L;switch(h){case"style":U=dm(u);break;case"script":U=um(u)}Mi.has(U)||(u=d({rel:"preload",href:h==="image"&&w&&w.imageSrcSet?void 0:u,as:h},w),Mi.set(U,u),k.querySelector(L)!==null||h==="style"&&k.querySelector(Ch(U))||h==="script"&&k.querySelector(Ph(U))||(h=k.createElement("link"),Wr(h,"link",u),At(h),k.head.appendChild(h)))}}function iq(u,h){Sl.m(u,h);var w=cm;if(w&&u){var k=h&&typeof h.as=="string"?h.as:"script",L='link[rel="modulepreload"][as="'+wi(k)+'"][href="'+wi(u)+'"]',U=L;switch(k){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":U=um(u)}if(!Mi.has(U)&&(u=d({rel:"modulepreload",href:u},h),Mi.set(U,u),w.querySelector(L)===null)){switch(k){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(w.querySelector(Ph(U)))return}k=w.createElement("link"),Wr(k,"link",u),At(k),w.head.appendChild(k)}}}function oq(u,h,w){Sl.S(u,h,w);var k=cm;if(k&&u){var L=qe(k).hoistableStyles,U=dm(u);h=h||"default";var se=L.get(U);if(!se){var pe={loading:0,preload:null};if(se=k.querySelector(Ch(U)))pe.loading=5;else{u=d({rel:"stylesheet",href:u,"data-precedence":h},w),(w=Mi.get(U))&&_2(u,w);var we=se=k.createElement("link");At(we),Wr(we,"link",u),we._p=new Promise(function(We,ht){we.onload=We,we.onerror=ht}),we.addEventListener("load",function(){pe.loading|=1}),we.addEventListener("error",function(){pe.loading|=2}),pe.loading|=4,O0(se,h,k)}se={type:"stylesheet",instance:se,count:1,state:pe},L.set(U,se)}}}function lq(u,h){Sl.X(u,h);var w=cm;if(w&&u){var k=qe(w).hoistableScripts,L=um(u),U=k.get(L);U||(U=w.querySelector(Ph(L)),U||(u=d({src:u,async:!0},h),(h=Mi.get(L))&&w2(u,h),U=w.createElement("script"),At(U),Wr(U,"link",u),w.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},k.set(L,U))}}function cq(u,h){Sl.M(u,h);var w=cm;if(w&&u){var k=qe(w).hoistableScripts,L=um(u),U=k.get(L);U||(U=w.querySelector(Ph(L)),U||(u=d({src:u,async:!0,type:"module"},h),(h=Mi.get(L))&&w2(u,h),U=w.createElement("script"),At(U),Wr(U,"link",u),w.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},k.set(L,U))}}function U6(u,h,w,k){var L=(L=ee.current)?I0(L):null;if(!L)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof w.precedence=="string"&&typeof w.href=="string"?(h=dm(w.href),w=qe(L).hoistableStyles,k=w.get(h),k||(k={type:"style",instance:null,count:0,state:null},w.set(h,k)),k):{type:"void",instance:null,count:0,state:null};case"link":if(w.rel==="stylesheet"&&typeof w.href=="string"&&typeof w.precedence=="string"){u=dm(w.href);var U=qe(L).hoistableStyles,se=U.get(u);if(se||(L=L.ownerDocument||L,se={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},U.set(u,se),(U=L.querySelector(Ch(u)))&&!U._p&&(se.instance=U,se.state.loading=5),Mi.has(u)||(w={rel:"preload",as:"style",href:w.href,crossOrigin:w.crossOrigin,integrity:w.integrity,media:w.media,hrefLang:w.hrefLang,referrerPolicy:w.referrerPolicy},Mi.set(u,w),U||dq(L,u,w,se.state))),h&&k===null)throw Error(r(528,""));return se}if(h&&k!==null)throw Error(r(529,""));return null;case"script":return h=w.async,w=w.src,typeof w=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=um(w),w=qe(L).hoistableScripts,k=w.get(h),k||(k={type:"script",instance:null,count:0,state:null},w.set(h,k)),k):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function dm(u){return'href="'+wi(u)+'"'}function Ch(u){return'link[rel="stylesheet"]['+u+"]"}function V6(u){return d({},u,{"data-precedence":u.precedence,precedence:null})}function dq(u,h,w,k){u.querySelector('link[rel="preload"][as="style"]['+h+"]")?k.loading=1:(h=u.createElement("link"),k.preload=h,h.addEventListener("load",function(){return k.loading|=1}),h.addEventListener("error",function(){return k.loading|=2}),Wr(h,"link",w),At(h),u.head.appendChild(h))}function um(u){return'[src="'+wi(u)+'"]'}function Ph(u){return"script[async]"+u}function H6(u,h,w){if(h.count++,h.instance===null)switch(h.type){case"style":var k=u.querySelector('style[data-href~="'+wi(w.href)+'"]');if(k)return h.instance=k,At(k),k;var L=d({},w,{"data-href":w.href,"data-precedence":w.precedence,href:null,precedence:null});return k=(u.ownerDocument||u).createElement("style"),At(k),Wr(k,"style",L),O0(k,w.precedence,u),h.instance=k;case"stylesheet":L=dm(w.href);var U=u.querySelector(Ch(L));if(U)return h.state.loading|=4,h.instance=U,At(U),U;k=V6(w),(L=Mi.get(L))&&_2(k,L),U=(u.ownerDocument||u).createElement("link"),At(U);var se=U;return se._p=new Promise(function(pe,we){se.onload=pe,se.onerror=we}),Wr(U,"link",k),h.state.loading|=4,O0(U,w.precedence,u),h.instance=U;case"script":return U=um(w.src),(L=u.querySelector(Ph(U)))?(h.instance=L,At(L),L):(k=w,(L=Mi.get(U))&&(k=d({},w),w2(k,L)),u=u.ownerDocument||u,L=u.createElement("script"),At(L),Wr(L,"link",k),u.head.appendChild(L),h.instance=L);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(k=h.instance,h.state.loading|=4,O0(k,w.precedence,u));return h.instance}function O0(u,h,w){for(var k=w.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),L=k.length?k[k.length-1]:null,U=L,se=0;se<k.length;se++){var pe=k[se];if(pe.dataset.precedence===h)U=pe;else if(U!==L)break}U?U.parentNode.insertBefore(u,U.nextSibling):(h=w.nodeType===9?w.head:w,h.insertBefore(u,h.firstChild))}function _2(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.title==null&&(u.title=h.title)}function w2(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.integrity==null&&(u.integrity=h.integrity)}var F0=null;function W6(u,h,w){if(F0===null){var k=new Map,L=F0=new Map;L.set(w,k)}else L=F0,k=L.get(w),k||(k=new Map,L.set(w,k));if(k.has(u))return k;for(k.set(u,null),w=w.getElementsByTagName(u),L=0;L<w.length;L++){var U=w[L];if(!(U[Oe]||U[ds]||u==="link"&&U.getAttribute("rel")==="stylesheet")&&U.namespaceURI!=="http://www.w3.org/2000/svg"){var se=U.getAttribute(h)||"";se=u+se;var pe=k.get(se);pe?pe.push(U):k.set(se,[U])}}return k}function Y6(u,h,w){u=u.ownerDocument||u,u.head.insertBefore(w,h==="title"?u.querySelector("head > title"):null)}function uq(u,h,w){if(w===1||h.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;return h.rel==="stylesheet"?(u=h.disabled,typeof h.precedence=="string"&&u==null):!0;case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function G6(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var kh=null;function mq(){}function pq(u,h,w){if(kh===null)throw Error(r(475));var k=kh;if(h.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var L=dm(w.href),U=u.querySelector(Ch(L));if(U){u=U._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(k.count++,k=L0.bind(k),u.then(k,k)),h.state.loading|=4,h.instance=U,At(U);return}U=u.ownerDocument||u,w=V6(w),(L=Mi.get(L))&&_2(w,L),U=U.createElement("link"),At(U);var se=U;se._p=new Promise(function(pe,we){se.onload=pe,se.onerror=we}),Wr(U,"link",w),h.instance=U}k.stylesheets===null&&(k.stylesheets=new Map),k.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(k.count++,h=L0.bind(k),u.addEventListener("load",h),u.addEventListener("error",h))}}function hq(){if(kh===null)throw Error(r(475));var u=kh;return u.stylesheets&&u.count===0&&S2(u,u.stylesheets),0<u.count?function(h){var w=setTimeout(function(){if(u.stylesheets&&S2(u,u.stylesheets),u.unsuspend){var k=u.unsuspend;u.unsuspend=null,k()}},6e4);return u.unsuspend=h,function(){u.unsuspend=null,clearTimeout(w)}}:null}function L0(){if(this.count--,this.count===0){if(this.stylesheets)S2(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var $0=null;function S2(u,h){u.stylesheets=null,u.unsuspend!==null&&(u.count++,$0=new Map,h.forEach(fq,u),$0=null,L0.call(u))}function fq(u,h){if(!(h.state.loading&4)){var w=$0.get(u);if(w)var k=w.get(null);else{w=new Map,$0.set(u,w);for(var L=u.querySelectorAll("link[data-precedence],style[data-precedence]"),U=0;U<L.length;U++){var se=L[U];(se.nodeName==="LINK"||se.getAttribute("media")!=="not all")&&(w.set(se.dataset.precedence,se),k=se)}k&&w.set(null,k)}L=h.instance,se=L.getAttribute("data-precedence"),U=w.get(se)||k,U===k&&w.set(null,L),w.set(se,L),this.count++,k=L0.bind(this),L.addEventListener("load",k),L.addEventListener("error",k),U?U.parentNode.insertBefore(L,U.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(L,u.firstChild)),h.state.loading|=4}}var Eh={$$typeof:C,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function xq(u,h,w,k,L,U,se,pe){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.hiddenUpdates=Gs(null),this.identifierPrefix=k,this.onUncaughtError=L,this.onCaughtError=U,this.onRecoverableError=se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function K6(u,h,w,k,L,U,se,pe,we,We,ht,wt){return u=new xq(u,h,w,se,pe,we,We,wt),h=1,U===!0&&(h|=24),U=Qn(3,null,null,h),u.current=U,U.stateNode=u,h=ij(),h.refCount++,u.pooledCache=h,h.refCount++,U.memoizedState={element:k,isDehydrated:w,cache:h},dj(U),u}function Q6(u){return u?(u=Bu,u):Bu}function Z6(u,h,w,k,L,U){L=Q6(L),k.context===null?k.context=L:k.pendingContext=L,k=nc(h),k.payload={element:w},U=U===void 0?null:U,U!==null&&(k.callback=U),w=ic(u,k,h),w!==null&&(ti(w,u,h),nh(w,u,h))}function X6(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var w=u.retryLane;u.retryLane=w!==0&&w<h?w:h}}function C2(u,h){X6(u,h),(u=u.alternate)&&X6(u,h)}function J6(u){if(u.tag===13){var h=qu(u,67108864);h!==null&&ti(h,u,67108864),C2(u,67108864)}}var z0=!0;function gq(u,h,w,k){var L=q.T;q.T=null;var U=H.p;try{H.p=2,P2(u,h,w,k)}finally{H.p=U,q.T=L}}function bq(u,h,w,k){var L=q.T;q.T=null;var U=H.p;try{H.p=8,P2(u,h,w,k)}finally{H.p=U,q.T=L}}function P2(u,h,w,k){if(z0){var L=k2(k);if(L===null)h2(u,h,k,q0,w),tP(u,k);else if(vq(L,u,h,w,k))k.stopPropagation();else if(tP(u,k),h&4&&-1<yq.indexOf(u)){for(;L!==null;){var U=Kt(L);if(U!==null)switch(U.tag){case 3:if(U=U.stateNode,U.current.memoizedState.isDehydrated){var se=rt(U.pendingLanes);if(se!==0){var pe=U;for(pe.pendingLanes|=2,pe.entangledLanes|=2;se;){var we=1<<31-ye(se);pe.entanglements[1]|=we,se&=~we}Mo(U),(va&6)===0&&(w0=_e()+500,Nh(0))}}break;case 13:pe=qu(U,2),pe!==null&&ti(pe,U,2),C0(),C2(U,2)}if(U=k2(k),U===null&&h2(u,h,k,q0,w),U===L)break;L=U}L!==null&&k.stopPropagation()}else h2(u,h,k,null,w)}}function k2(u){return u=R1(u),E2(u)}var q0=null;function E2(u){if(q0=null,u=Ct(u),u!==null){var h=i(u);if(h===null)u=null;else{var w=h.tag;if(w===13){if(u=o(h),u!==null)return u;u=null}else if(w===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null)}}return q0=u,null}function eP(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ie()){case et:return 2;case ke:return 8;case He:case be:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var T2=!1,yc=null,vc=null,jc=null,Th=new Map,Mh=new Map,Nc=[],yq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tP(u,h){switch(u){case"focusin":case"focusout":yc=null;break;case"dragenter":case"dragleave":vc=null;break;case"mouseover":case"mouseout":jc=null;break;case"pointerover":case"pointerout":Th.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mh.delete(h.pointerId)}}function Dh(u,h,w,k,L,U){return u===null||u.nativeEvent!==U?(u={blockedOn:h,domEventName:w,eventSystemFlags:k,nativeEvent:U,targetContainers:[L]},h!==null&&(h=Kt(h),h!==null&&J6(h)),u):(u.eventSystemFlags|=k,h=u.targetContainers,L!==null&&h.indexOf(L)===-1&&h.push(L),u)}function vq(u,h,w,k,L){switch(h){case"focusin":return yc=Dh(yc,u,h,w,k,L),!0;case"dragenter":return vc=Dh(vc,u,h,w,k,L),!0;case"mouseover":return jc=Dh(jc,u,h,w,k,L),!0;case"pointerover":var U=L.pointerId;return Th.set(U,Dh(Th.get(U)||null,u,h,w,k,L)),!0;case"gotpointercapture":return U=L.pointerId,Mh.set(U,Dh(Mh.get(U)||null,u,h,w,k,L)),!0}return!1}function sP(u){var h=Ct(u.target);if(h!==null){var w=i(h);if(w!==null){if(h=w.tag,h===13){if(h=o(w),h!==null){u.blockedOn=h,Bt(u.priority,function(){if(w.tag===13){var k=ei();k=oa(k);var L=qu(w,k);L!==null&&ti(L,w,k),C2(w,k)}});return}}else if(h===3&&w.stateNode.current.memoizedState.isDehydrated){u.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}u.blockedOn=null}function B0(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var w=k2(u.nativeEvent);if(w===null){w=u.nativeEvent;var k=new w.constructor(w.type,w);D1=k,w.target.dispatchEvent(k),D1=null}else return h=Kt(w),h!==null&&J6(h),u.blockedOn=w,!1;h.shift()}return!0}function aP(u,h,w){B0(u)&&w.delete(h)}function jq(){T2=!1,yc!==null&&B0(yc)&&(yc=null),vc!==null&&B0(vc)&&(vc=null),jc!==null&&B0(jc)&&(jc=null),Th.forEach(aP),Mh.forEach(aP)}function U0(u,h){u.blockedOn===h&&(u.blockedOn=null,T2||(T2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jq)))}var V0=null;function rP(u){V0!==u&&(V0=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){V0===u&&(V0=null);for(var h=0;h<u.length;h+=3){var w=u[h],k=u[h+1],L=u[h+2];if(typeof k!="function"){if(E2(k||w)===null)continue;break}var U=Kt(w);U!==null&&(u.splice(h,3),h-=3,Ej(U,{pending:!0,data:L,method:w.method,action:k},k,L))}}))}function Rh(u){function h(we){return U0(we,u)}yc!==null&&U0(yc,u),vc!==null&&U0(vc,u),jc!==null&&U0(jc,u),Th.forEach(h),Mh.forEach(h);for(var w=0;w<Nc.length;w++){var k=Nc[w];k.blockedOn===u&&(k.blockedOn=null)}for(;0<Nc.length&&(w=Nc[0],w.blockedOn===null);)sP(w),w.blockedOn===null&&Nc.shift();if(w=(u.ownerDocument||u).$$reactFormReplay,w!=null)for(k=0;k<w.length;k+=3){var L=w[k],U=w[k+1],se=L[ve]||null;if(typeof U=="function")se||rP(w);else if(se){var pe=null;if(U&&U.hasAttribute("formAction")){if(L=U,se=U[ve]||null)pe=se.formAction;else if(E2(L)!==null)continue}else pe=se.action;typeof pe=="function"?w[k+1]=pe:(w.splice(k,3),k-=3),rP(w)}}}function M2(u){this._internalRoot=u}H0.prototype.render=M2.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(r(409));var w=h.current,k=ei();Z6(w,k,u,h,null,null)},H0.prototype.unmount=M2.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;Z6(u.current,2,null,u,null,null),C0(),h[Pe]=null}};function H0(u){this._internalRoot=u}H0.prototype.unstable_scheduleHydration=function(u){if(u){var h=zs();u={blockedOn:null,target:u,priority:h};for(var w=0;w<Nc.length&&h!==0&&h<Nc[w].priority;w++);Nc.splice(w,0,u),w===0&&sP(u)}};var nP=s.version;if(nP!=="19.1.1")throw Error(r(527,nP,"19.1.1"));H.findDOMNode=function(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=c(h),u=u!==null?m(u):null,u=u===null?null:u.stateNode,u};var Nq={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var W0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!W0.isDisabled&&W0.supportsFiber)try{dt=W0.inject(Nq),ft=W0}catch{}}return Ih.createRoot=function(u,h){if(!n(u))throw Error(r(299));var w=!1,k="",L=j5,U=N5,se=_5,pe=null;return h!=null&&(h.unstable_strictMode===!0&&(w=!0),h.identifierPrefix!==void 0&&(k=h.identifierPrefix),h.onUncaughtError!==void 0&&(L=h.onUncaughtError),h.onCaughtError!==void 0&&(U=h.onCaughtError),h.onRecoverableError!==void 0&&(se=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(pe=h.unstable_transitionCallbacks)),h=K6(u,1,!1,null,null,w,k,L,U,se,pe,null),u[Pe]=h.current,p2(u),new M2(h)},Ih.hydrateRoot=function(u,h,w){if(!n(u))throw Error(r(299));var k=!1,L="",U=j5,se=N5,pe=_5,we=null,We=null;return w!=null&&(w.unstable_strictMode===!0&&(k=!0),w.identifierPrefix!==void 0&&(L=w.identifierPrefix),w.onUncaughtError!==void 0&&(U=w.onUncaughtError),w.onCaughtError!==void 0&&(se=w.onCaughtError),w.onRecoverableError!==void 0&&(pe=w.onRecoverableError),w.unstable_transitionCallbacks!==void 0&&(we=w.unstable_transitionCallbacks),w.formState!==void 0&&(We=w.formState)),h=K6(u,1,!0,h,w??null,k,L,U,se,pe,we,We),h.context=Q6(null),w=h.current,k=ei(),k=oa(k),L=nc(k),L.callback=null,ic(w,L,k),w=k,h.current.lanes=w,Is(h,w),Mo(h),u[Pe]=h.current,p2(u),new H0(h)},Ih.version="19.1.1",Ih}var fP;function Rq(){if(fP)return A2.exports;fP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),A2.exports=Dq(),A2.exports}var Aq=Rq();var iR=t=>{throw TypeError(t)},Iq=(t,s,a)=>s.has(t)||iR("Cannot "+a),L2=(t,s,a)=>(Iq(t,s,"read from private field"),a?a.call(t):s.get(t)),Oq=(t,s,a)=>s.has(t)?iR("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,a),xP="popstate";function Fq(t={}){function s(r,n){let{pathname:i,search:o,hash:l}=r.location;return px("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(r,n){return typeof n=="string"?n:al(n)}return $q(s,a,null,t)}function Ys(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function gr(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Lq(){return Math.random().toString(36).substring(2,10)}function gP(t,s){return{usr:t.state,key:t.key,idx:s}}function px(t,s,a=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof s=="string"?ad(s):s,state:a,key:s&&s.key||r||Lq()}}function al({pathname:t="/",search:s="",hash:a=""}){return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function ad(t){let s={};if(t){let a=t.indexOf("#");a>=0&&(s.hash=t.substring(a),t=t.substring(0,a));let r=t.indexOf("?");r>=0&&(s.search=t.substring(r),t=t.substring(0,r)),t&&(s.pathname=t)}return s}function $q(t,s,a,r={}){let{window:n=document.defaultView,v5Compat:i=!1}=r,o=n.history,l="POP",c=null,m=d();m==null&&(m=0,o.replaceState({...o.state,idx:m},""));function d(){return(o.state||{idx:null}).idx}function p(){l="POP";let v=d(),y=v==null?null:v-m;m=v,c&&c({action:l,location:S.location,delta:y})}function x(v,y){l="PUSH";let N=px(S.location,v,y);m=d()+1;let C=gP(N,m),P=S.createHref(N);try{o.pushState(C,"",P)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;n.location.assign(P)}i&&c&&c({action:l,location:S.location,delta:1})}function j(v,y){l="REPLACE";let N=px(S.location,v,y);m=d();let C=gP(N,m),P=S.createHref(N);o.replaceState(C,"",P),i&&c&&c({action:l,location:S.location,delta:0})}function _(v){return oR(v)}let S={get action(){return l},get location(){return t(n,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(xP,p),c=v,()=>{n.removeEventListener(xP,p),c=null}},createHref(v){return s(n,v)},createURL:_,encodeLocation(v){let y=_(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:x,replace:j,go(v){return o.go(v)}};return S}function oR(t,s=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Ys(a,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:al(t);return r=r.replace(/ $/,"%20"),!s&&r.startsWith("//")&&(r=a+r),new URL(r,a)}var cf,bP=class{constructor(t){if(Oq(this,cf,new Map),t)for(let[s,a]of t)this.set(s,a)}get(t){if(L2(this,cf).has(t))return L2(this,cf).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,s){L2(this,cf).set(t,s)}};cf=new WeakMap;var zq=new Set(["lazy","caseSensitive","path","id","index","children"]);function qq(t){return zq.has(t)}var Bq=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Uq(t){return Bq.has(t)}function Vq(t){return t.index===!0}function hx(t,s,a=[],r={},n=!1){return t.map((i,o)=>{let l=[...a,String(o)],c=typeof i.id=="string"?i.id:l.join("-");if(Ys(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ys(n||!r[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),Vq(i)){let m={...i,id:c};return r[c]=yP(m,s(m)),m}else{let m={...i,id:c,children:void 0};return r[c]=yP(m,s(m)),i.children&&(m.children=hx(i.children,s,l,r,n)),m}})}function yP(t,s){return Object.assign(t,{...s,...typeof s.lazy=="object"&&s.lazy!=null?{lazy:{...t.lazy,...s.lazy}}:{}})}function kc(t,s,a="/"){return df(t,s,a,!1)}function df(t,s,a,r){let n=typeof s=="string"?ad(s):s,i=Ji(n.pathname||"/",a);if(i==null)return null;let o=lR(t);Wq(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let m=aB(i);l=tB(o[c],m,r)}return l}function Hq(t,s){let{route:a,pathname:r,params:n}=t;return{id:a.id,pathname:r,params:n,data:s[a.id],loaderData:s[a.id],handle:a.handle}}function lR(t,s=[],a=[],r="",n=!1){let i=(o,l,c=n,m)=>{let d={relativePath:m===void 0?o.path||"":m,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;Ys(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let p=Xo([r,d.relativePath]),x=a.concat(d);o.children&&o.children.length>0&&(Ys(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),lR(o.children,s,x,p,c)),!(o.path==null&&!o.index)&&s.push({path:p,score:Jq(p,o.index),routesMeta:x})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let c of cR(o.path))i(o,l,!0,c)}),s}function cR(t){let s=t.split("/");if(s.length===0)return[];let[a,...r]=s,n=a.endsWith("?"),i=a.replace(/\?$/,"");if(r.length===0)return n?[i,""]:[i];let o=cR(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),n&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Wq(t){t.sort((s,a)=>s.score!==a.score?a.score-s.score:eB(s.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var Yq=/^:[\w-]+$/,Gq=3,Kq=2,Qq=1,Zq=10,Xq=-2,vP=t=>t==="*";function Jq(t,s){let a=t.split("/"),r=a.length;return a.some(vP)&&(r+=Xq),s&&(r+=Kq),a.filter(n=>!vP(n)).reduce((n,i)=>n+(Yq.test(i)?Gq:i===""?Qq:Zq),r)}function eB(t,s){return t.length===s.length&&t.slice(0,-1).every((r,n)=>r===s[n])?t[t.length-1]-s[s.length-1]:0}function tB(t,s,a=!1){let{routesMeta:r}=t,n={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],m=l===r.length-1,d=i==="/"?s:s.slice(i.length)||"/",p=hy({path:c.relativePath,caseSensitive:c.caseSensitive,end:m},d),x=c.route;if(!p&&m&&a&&!r[r.length-1].route.index&&(p=hy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!p)return null;Object.assign(n,p.params),o.push({params:n,pathname:Xo([i,p.pathname]),pathnameBase:iB(Xo([i,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(i=Xo([i,p.pathnameBase]))}return o}function hy(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,r]=sB(t.path,t.caseSensitive,t.end),n=s.match(a);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:r.reduce((m,{paramName:d,isOptional:p},x)=>{if(d==="*"){let _=l[x]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const j=l[x];return p&&!j?m[d]=void 0:m[d]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:o,pattern:t}}function sB(t,s=!1,a=!0){gr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),r]}function aB(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return gr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),t}}function Ji(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,r=t.charAt(a);return r&&r!=="/"?null:t.slice(a)||"/"}function rB({basename:t,pathname:s}){return s==="/"?t:Xo([t,s])}var dR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vw=t=>dR.test(t);function nB(t,s="/"){let{pathname:a,search:r="",hash:n=""}=typeof t=="string"?ad(t):t,i;return a?(a=a.replace(/\/\/+/g,"/"),a.startsWith("/")?i=jP(a.substring(1),"/"):i=jP(a,s)):i=s,{pathname:i,search:oB(r),hash:lB(n)}}function jP(t,s){let a=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function $2(t,s,a,r){return`Cannot include a '${t}' character in a manually specified \`to.${s}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uR(t){return t.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function tv(t){let s=uR(t);return s.map((a,r)=>r===s.length-1?a.pathname:a.pathnameBase)}function sv(t,s,a,r=!1){let n;typeof t=="string"?n=ad(t):(n={...t},Ys(!n.pathname||!n.pathname.includes("?"),$2("?","pathname","search",n)),Ys(!n.pathname||!n.pathname.includes("#"),$2("#","pathname","hash",n)),Ys(!n.search||!n.search.includes("#"),$2("#","search","hash",n)));let i=t===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=a;else{let p=s.length-1;if(!r&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),p-=1;n.pathname=x.join("/")}l=p>=0?s[p]:"/"}let c=nB(n,l),m=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(m||d)&&(c.pathname+="/"),c}var Xo=t=>t.join("/").replace(/\/\/+/g,"/"),iB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,tg=class{constructor(t,s,a,r=!1){this.status=t,this.statusText=s||"",this.internal=r,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function fx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function sg(t){return t.map(s=>s.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var mR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pR(t,s){let a=t;if(typeof a!="string"||!dR.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let r=a,n=!1;if(mR)try{let i=new URL(window.location.href),o=a.startsWith("//")?new URL(i.protocol+a):new URL(a),l=Ji(o.pathname,s);o.origin===i.origin&&l!=null?a=l+o.search+o.hash:n=!0}catch{gr(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:n,to:a}}var Rc=Symbol("Uninstrumented");function cB(t,s){let a={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(n=>n({id:s.id,index:s.index,path:s.path,instrument(i){let o=Object.keys(a);for(let l of o)i[l]&&a[l].push(i[l])}}));let r={};if(typeof s.lazy=="function"&&a.lazy.length>0){let n=km(a.lazy,s.lazy,()=>{});n&&(r.lazy=n)}if(typeof s.lazy=="object"){let n=s.lazy;["middleware","loader","action"].forEach(i=>{let o=n[i],l=a[`lazy.${i}`];if(typeof o=="function"&&l.length>0){let c=km(l,o,()=>{});c&&(r.lazy=Object.assign(r.lazy||{},{[i]:c}))}})}return["loader","action"].forEach(n=>{let i=s[n];if(typeof i=="function"&&a[n].length>0){let o=i[Rc]??i,l=km(a[n],o,(...c)=>NP(c[0]));l&&(n==="loader"&&o.hydrate===!0&&(l.hydrate=!0),l[Rc]=o,r[n]=l)}}),s.middleware&&s.middleware.length>0&&a.middleware.length>0&&(r.middleware=s.middleware.map(n=>{let i=n[Rc]??n,o=km(a.middleware,i,(...l)=>NP(l[0]));return o?(o[Rc]=i,o):n})),r}function dB(t,s){let a={navigate:[],fetch:[]};if(s.forEach(r=>r({instrument(n){let i=Object.keys(n);for(let o of i)n[o]&&a[o].push(n[o])}})),a.navigate.length>0){let r=t.navigate[Rc]??t.navigate,n=km(a.navigate,r,(...i)=>{let[o,l]=i;return{to:typeof o=="number"||typeof o=="string"?o:o?al(o):".",..._P(t,l??{})}});n&&(n[Rc]=r,t.navigate=n)}if(a.fetch.length>0){let r=t.fetch[Rc]??t.fetch,n=km(a.fetch,r,(...i)=>{let[o,,l,c]=i;return{href:l??".",fetcherKey:o,..._P(t,c??{})}});n&&(n[Rc]=r,t.fetch=n)}return t}function km(t,s,a){return t.length===0?null:async(...r)=>{let n=await hR(t,a(...r),()=>s(...r),t.length-1);if(n.type==="error")throw n.value;return n.value}}async function hR(t,s,a,r){let n=t[r],i;if(n){let o,l=async()=>(o?console.error("You cannot call instrumented handlers more than once"):o=hR(t,s,a,r-1),i=await o,Ys(i,"Expected a result"),i.type==="error"&&i.value instanceof Error?{status:"error",error:i.value}:{status:"success",error:void 0});try{await n(l,s)}catch(c){console.error("An instrumentation function threw an error:",c)}o||await l(),await o}else try{i={type:"success",value:await a()}}catch(o){i={type:"error",value:o}}return i||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function NP(t){let{request:s,context:a,params:r,unstable_pattern:n}=t;return{request:uB(s),params:{...r},unstable_pattern:n,context:mB(a)}}function _P(t,s){return{currentUrl:al(t.state.location),..."formMethod"in s?{formMethod:s.formMethod}:{},..."formEncType"in s?{formEncType:s.formEncType}:{},..."formData"in s?{formData:s.formData}:{},..."body"in s?{body:s.body}:{}}}function uB(t){return{method:t.method,url:t.url,headers:{get:(...s)=>t.headers.get(...s)}}}function mB(t){if(hB(t)){let s={...t};return Object.freeze(s),s}else return{get:s=>t.get(s)}}var pB=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hB(t){if(t===null||typeof t!="object")return!1;const s=Object.getPrototypeOf(t);return s===Object.prototype||s===null||Object.getOwnPropertyNames(s).sort().join("\0")===pB}var fR=["POST","PUT","PATCH","DELETE"],fB=new Set(fR),xB=["GET",...fR],gB=new Set(xB),xR=new Set([301,302,303,307,308]),bB=new Set([307,308]),z2={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yB={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Oh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},vB=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),gR="remix-router-transitions",bR=Symbol("ResetLoaderData");function jB(t){const s=t.window?t.window:typeof window<"u"?window:void 0,a=typeof s<"u"&&typeof s.document<"u"&&typeof s.document.createElement<"u";Ys(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],n=t.mapRouteProperties||vB,i=n;if(t.unstable_instrumentations){let ve=t.unstable_instrumentations;i=Pe=>({...n(Pe),...cB(ve.map(Be=>Be.route).filter(Boolean),Pe)})}let o={},l=hx(t.routes,i,void 0,o),c,m=t.basename||"/";m.startsWith("/")||(m=`/${m}`);let d=t.dataStrategy||CB,p={...t.future},x=null,j=new Set,_=null,S=null,v=null,y=t.hydrationData!=null,N=kc(l,t.history.location,m),C=!1,P=null,E;if(N==null&&!t.patchRoutesOnNavigation){let ve=$i(404,{pathname:t.history.location.pathname}),{matches:Pe,route:Be}=Y0(l);E=!0,N=Pe,P={[Be.id]:ve}}else if(N&&!t.hydrationData&&qt(N,l,t.history.location.pathname).active&&(N=null),N)if(N.some(ve=>ve.route.lazy))E=!1;else if(!N.some(ve=>Hw(ve.route)))E=!0;else{let ve=t.hydrationData?t.hydrationData.loaderData:null,Pe=t.hydrationData?t.hydrationData.errors:null;if(Pe){let Be=N.findIndex(gt=>Pe[gt.route.id]!==void 0);E=N.slice(0,Be+1).every(gt=>!o_(gt.route,ve,Pe))}else E=N.every(Be=>!o_(Be.route,ve,Pe))}else{E=!1,N=[];let ve=qt(null,l,t.history.location.pathname);ve.active&&ve.matches&&(C=!0,N=ve.matches)}let D,T={historyAction:t.history.action,location:t.history.location,matches:N,initialized:E,navigation:z2,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||P,fetchers:new Map,blockers:new Map},A="POP",I=null,F=!1,z,O=!1,K=new Map,W=null,B=!1,q=!1,H=new Set,Q=new Map,V=0,M=-1,R=new Map,$=new Set,Y=new Map,J=new Map,te=new Set,ee=new Map,ne,he=null;function de(){if(x=t.history.listen(({action:ve,location:Pe,delta:Be})=>{if(ne){ne(),ne=void 0;return}gr(ee.size===0||Be!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let gt=Gs({currentLocation:T.location,nextLocation:Pe,historyAction:ve});if(gt&&Be!=null){let ue=new Promise(Me=>{ne=Me});t.history.go(Be*-1),Ns(gt,{state:"blocked",location:Pe,proceed(){Ns(gt,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),ue.then(()=>t.history.go(Be))},reset(){let Me=new Map(T.blockers);Me.set(gt,Oh),ge({blockers:Me})}}),I?.resolve(),I=null;return}return Ce(ve,Pe)}),a){VB(s,K);let ve=()=>HB(s,K);s.addEventListener("pagehide",ve),W=()=>s.removeEventListener("pagehide",ve)}return T.initialized||Ce("POP",T.location,{initialHydration:!0}),D}function ae(){x&&x(),W&&W(),j.clear(),z&&z.abort(),T.fetchers.forEach((ve,Pe)=>jt(Pe)),T.blockers.forEach((ve,Pe)=>cs(Pe))}function xe(ve){return j.add(ve),()=>j.delete(ve)}function ge(ve,Pe={}){ve.matches&&(ve.matches=ve.matches.map(ue=>{let Me=o[ue.route.id],Oe=ue.route;return Oe.element!==Me.element||Oe.errorElement!==Me.errorElement||Oe.hydrateFallbackElement!==Me.hydrateFallbackElement?{...ue,route:Me}:ue})),T={...T,...ve};let Be=[],gt=[];T.fetchers.forEach((ue,Me)=>{ue.state==="idle"&&(te.has(Me)?Be.push(Me):gt.push(Me))}),te.forEach(ue=>{!T.fetchers.has(ue)&&!Q.has(ue)&&Be.push(ue)}),[...j].forEach(ue=>ue(T,{deletedFetchers:Be,newErrors:ve.errors??null,viewTransitionOpts:Pe.viewTransitionOpts,flushSync:Pe.flushSync===!0})),Be.forEach(ue=>jt(ue)),gt.forEach(ue=>T.fetchers.delete(ue))}function le(ve,Pe,{flushSync:Be}={}){let gt=T.actionData!=null&&T.navigation.formMethod!=null&&rn(T.navigation.formMethod)&&T.navigation.state==="loading"&&ve.state?._isRedirect!==!0,ue;Pe.actionData?Object.keys(Pe.actionData).length>0?ue=Pe.actionData:ue=null:gt?ue=T.actionData:ue=null;let Me=Pe.loaderData?RP(T.loaderData,Pe.loaderData,Pe.matches||[],Pe.errors):T.loaderData,Oe=T.blockers;Oe.size>0&&(Oe=new Map(Oe),Oe.forEach((as,qe)=>Oe.set(qe,Oh)));let xt=B?!1:oa(ve,Pe.matches||T.matches),Ct=F===!0||T.navigation.formMethod!=null&&rn(T.navigation.formMethod)&&ve.state?._isRedirect!==!0;c&&(l=c,c=void 0),B||A==="POP"||(A==="PUSH"?t.history.push(ve,ve.state):A==="REPLACE"&&t.history.replace(ve,ve.state));let Kt;if(A==="POP"){let as=K.get(T.location.pathname);as&&as.has(ve.pathname)?Kt={currentLocation:T.location,nextLocation:ve}:K.has(ve.pathname)&&(Kt={currentLocation:ve,nextLocation:T.location})}else if(O){let as=K.get(T.location.pathname);as?as.add(ve.pathname):(as=new Set([ve.pathname]),K.set(T.location.pathname,as)),Kt={currentLocation:T.location,nextLocation:ve}}ge({...Pe,actionData:ue,loaderData:Me,historyAction:A,location:ve,initialized:!0,navigation:z2,revalidation:"idle",restoreScrollPosition:xt,preventScrollReset:Ct,blockers:Oe},{viewTransitionOpts:Kt,flushSync:Be===!0}),A="POP",F=!1,O=!1,B=!1,q=!1,I?.resolve(),I=null,he?.resolve(),he=null}async function me(ve,Pe){if(I?.resolve(),I=null,typeof ve=="number"){I||(I=FP());let Ee=I.promise;return t.history.go(ve),Ee}let Be=i_(T.location,T.matches,m,ve,Pe?.fromRouteId,Pe?.relative),{path:gt,submission:ue,error:Me}=wP(!1,Be,Pe),Oe=T.location,xt=px(T.location,gt,Pe&&Pe.state);xt={...xt,...t.history.encodeLocation(xt)};let Ct=Pe&&Pe.replace!=null?Pe.replace:void 0,Kt="PUSH";Ct===!0?Kt="REPLACE":Ct===!1||ue!=null&&rn(ue.formMethod)&&ue.formAction===T.location.pathname+T.location.search&&(Kt="REPLACE");let as=Pe&&"preventScrollReset"in Pe?Pe.preventScrollReset===!0:void 0,qe=(Pe&&Pe.flushSync)===!0,At=Gs({currentLocation:Oe,nextLocation:xt,historyAction:Kt});if(At){Ns(At,{state:"blocked",location:xt,proceed(){Ns(At,{state:"proceeding",proceed:void 0,reset:void 0,location:xt}),me(ve,Pe)},reset(){let Ee=new Map(T.blockers);Ee.set(At,Oh),ge({blockers:Ee})}});return}await Ce(Kt,xt,{submission:ue,pendingError:Me,preventScrollReset:as,replace:Pe&&Pe.replace,enableViewTransition:Pe&&Pe.viewTransition,flushSync:qe,callSiteDefaultShouldRevalidate:Pe&&Pe.unstable_defaultShouldRevalidate})}function Ae(){he||(he=FP()),ft(),ge({revalidation:"loading"});let ve=he.promise;return T.navigation.state==="submitting"?ve:T.navigation.state==="idle"?(Ce(T.historyAction,T.location,{startUninterruptedRevalidation:!0}),ve):(Ce(A||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:O===!0}),ve)}async function Ce(ve,Pe,Be){z&&z.abort(),z=null,A=ve,B=(Be&&Be.startUninterruptedRevalidation)===!0,ha(T.location,T.matches),F=(Be&&Be.preventScrollReset)===!0,O=(Be&&Be.enableViewTransition)===!0;let gt=c||l,ue=Be&&Be.overrideNavigation,Me=Be?.initialHydration&&T.matches&&T.matches.length>0&&!C?T.matches:kc(gt,Pe,m),Oe=(Be&&Be.flushSync)===!0;if(Me&&T.initialized&&!q&&AB(T.location,Pe)&&!(Be&&Be.submission&&rn(Be.submission.formMethod))){le(Pe,{matches:Me},{flushSync:Oe});return}let xt=qt(Me,gt,Pe.pathname);if(xt.active&&xt.matches&&(Me=xt.matches),!Me){let{error:Dt,notFoundMatches:Zt,route:Yt}=Is(Pe.pathname);le(Pe,{matches:Zt,loaderData:{},errors:{[Yt.id]:Dt}},{flushSync:Oe});return}z=new AbortController;let Ct=_m(t.history,Pe,z.signal,Be&&Be.submission),Kt=t.getContext?await t.getContext():new bP,as;if(Be&&Be.pendingError)as=[Ec(Me).route.id,{type:"error",error:Be.pendingError}];else if(Be&&Be.submission&&rn(Be.submission.formMethod)){let Dt=await _e(Ct,Pe,Be.submission,Me,Kt,xt.active,Be&&Be.initialHydration===!0,{replace:Be.replace,flushSync:Oe});if(Dt.shortCircuited)return;if(Dt.pendingActionResult){let[Zt,Yt]=Dt.pendingActionResult;if(ai(Yt)&&fx(Yt.error)&&Yt.error.status===404){z=null,le(Pe,{matches:Dt.matches,loaderData:{},errors:{[Zt]:Yt.error}});return}}Me=Dt.matches||Me,as=Dt.pendingActionResult,ue=q2(Pe,Be.submission),Oe=!1,xt.active=!1,Ct=_m(t.history,Ct.url,Ct.signal)}let{shortCircuited:qe,matches:At,loaderData:Ee,errors:Ue}=await Ie(Ct,Pe,Me,Kt,xt.active,ue,Be&&Be.submission,Be&&Be.fetcherSubmission,Be&&Be.replace,Be&&Be.initialHydration===!0,Oe,as,Be&&Be.callSiteDefaultShouldRevalidate);qe||(z=null,le(Pe,{matches:At||Me,...AP(as),loaderData:Ee,errors:Ue}))}async function _e(ve,Pe,Be,gt,ue,Me,Oe,xt={}){ft();let Ct=BB(Pe,Be);if(ge({navigation:Ct},{flushSync:xt.flushSync===!0}),Me){let qe=await zs(gt,Pe.pathname,ve.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){if(qe.partialMatches.length===0){let{matches:Ee,route:Ue}=Y0(l);return{matches:Ee,pendingActionResult:[Ue.id,{type:"error",error:qe.error}]}}let At=Ec(qe.partialMatches).route.id;return{matches:qe.partialMatches,pendingActionResult:[At,{type:"error",error:qe.error}]}}else if(qe.matches)gt=qe.matches;else{let{notFoundMatches:At,error:Ee,route:Ue}=Is(Pe.pathname);return{matches:At,pendingActionResult:[Ue.id,{type:"error",error:Ee}]}}}let Kt,as=Lb(gt,Pe);if(!as.route.action&&!as.route.lazy)Kt={type:"error",error:$i(405,{method:ve.method,pathname:Pe.pathname,routeId:as.route.id})};else{let qe=Wm(i,o,ve,gt,as,Oe?[]:r,ue),At=await vt(ve,qe,ue,null);if(Kt=At[as.route.id],!Kt){for(let Ee of gt)if(At[Ee.route.id]){Kt=At[Ee.route.id];break}}if(ve.signal.aborted)return{shortCircuited:!0}}if(Yd(Kt)){let qe;return xt&&xt.replace!=null?qe=xt.replace:qe=TP(Kt.response.headers.get("Location"),new URL(ve.url),m,t.history)===T.location.pathname+T.location.search,await at(ve,Kt,!0,{submission:Be,replace:qe}),{shortCircuited:!0}}if(ai(Kt)){let qe=Ec(gt,as.route.id);return(xt&&xt.replace)!==!0&&(A="PUSH"),{matches:gt,pendingActionResult:[qe.route.id,Kt,as.route.id]}}return{matches:gt,pendingActionResult:[as.route.id,Kt]}}async function Ie(ve,Pe,Be,gt,ue,Me,Oe,xt,Ct,Kt,as,qe,At){let Ee=Me||q2(Pe,Oe),Ue=Oe||xt||OP(Ee),Dt=!B&&!Kt;if(ue){if(Dt){let jr=et(qe);ge({navigation:Ee,...jr!==void 0?{actionData:jr}:{}},{flushSync:as})}let Ts=await zs(Be,Pe.pathname,ve.signal);if(Ts.type==="aborted")return{shortCircuited:!0};if(Ts.type==="error"){if(Ts.partialMatches.length===0){let{matches:lo,route:Ja}=Y0(l);return{matches:lo,loaderData:{},errors:{[Ja.id]:Ts.error}}}let jr=Ec(Ts.partialMatches).route.id;return{matches:Ts.partialMatches,loaderData:{},errors:{[jr]:Ts.error}}}else if(Ts.matches)Be=Ts.matches;else{let{error:jr,notFoundMatches:lo,route:Ja}=Is(Pe.pathname);return{matches:lo,loaderData:{},errors:{[Ja.id]:jr}}}}let Zt=c||l,{dsMatches:Yt,revalidatingFetchers:Vs}=SP(ve,gt,i,o,t.history,T,Be,Ue,Pe,Kt?[]:r,Kt===!0,q,H,te,Y,$,Zt,m,t.patchRoutesOnNavigation!=null,qe,At);if(M=++V,!t.dataStrategy&&!Yt.some(Ts=>Ts.shouldLoad)&&!Yt.some(Ts=>Ts.route.middleware&&Ts.route.middleware.length>0)&&Vs.length===0){let Ts=zt();return le(Pe,{matches:Be,loaderData:{},errors:qe&&ai(qe[1])?{[qe[0]]:qe[1].error}:null,...AP(qe),...Ts?{fetchers:new Map(T.fetchers)}:{}},{flushSync:as}),{shortCircuited:!0}}if(Dt){let Ts={};if(!ue){Ts.navigation=Ee;let jr=et(qe);jr!==void 0&&(Ts.actionData=jr)}Vs.length>0&&(Ts.fetchers=ke(Vs)),ge(Ts,{flushSync:as})}Vs.forEach(Ts=>{Qt(Ts.key),Ts.controller&&Q.set(Ts.key,Ts.controller)});let Qs=()=>Vs.forEach(Ts=>Qt(Ts.key));z&&z.signal.addEventListener("abort",Qs);let{loaderResults:mr,fetcherResults:Rs}=await dt(Yt,Vs,ve,gt);if(ve.signal.aborted)return{shortCircuited:!0};z&&z.signal.removeEventListener("abort",Qs),Vs.forEach(Ts=>Q.delete(Ts.key));let Fa=G0(mr);if(Fa)return await at(ve,Fa.result,!0,{replace:Ct}),{shortCircuited:!0};if(Fa=G0(Rs),Fa)return $.add(Fa.key),await at(ve,Fa.result,!0,{replace:Ct}),{shortCircuited:!0};let{loaderData:Ha,errors:Jr}=DP(T,Be,mr,qe,Vs,Rs);Kt&&T.errors&&(Jr={...T.errors,...Jr});let Ps=zt(),Xa=_t(M),Pr=Ps||Xa||Vs.length>0;return{matches:Be,loaderData:Ha,errors:Jr,...Pr?{fetchers:new Map(T.fetchers)}:{}}}function et(ve){if(ve&&!ai(ve[1]))return{[ve[0]]:ve[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function ke(ve){return ve.forEach(Pe=>{let Be=T.fetchers.get(Pe.key),gt=Fh(void 0,Be?Be.data:void 0);T.fetchers.set(Pe.key,gt)}),new Map(T.fetchers)}async function He(ve,Pe,Be,gt){Qt(ve);let ue=(gt&&gt.flushSync)===!0,Me=c||l,Oe=i_(T.location,T.matches,m,Be,Pe,gt?.relative),xt=kc(Me,Oe,m),Ct=qt(xt,Me,Oe);if(Ct.active&&Ct.matches&&(xt=Ct.matches),!xt){ye(ve,Pe,$i(404,{pathname:Oe}),{flushSync:ue});return}let{path:Kt,submission:as,error:qe}=wP(!0,Oe,gt);if(qe){ye(ve,Pe,qe,{flushSync:ue});return}let At=t.getContext?await t.getContext():new bP,Ee=(gt&&gt.preventScrollReset)===!0;if(as&&rn(as.formMethod)){await be(ve,Pe,Kt,xt,At,Ct.active,ue,Ee,as,gt&&gt.unstable_defaultShouldRevalidate);return}Y.set(ve,{routeId:Pe,path:Kt}),await Ge(ve,Pe,Kt,xt,At,Ct.active,ue,Ee,as)}async function be(ve,Pe,Be,gt,ue,Me,Oe,xt,Ct,Kt){ft(),Y.delete(ve);let as=T.fetchers.get(ve);Mt(ve,UB(Ct,as),{flushSync:Oe});let qe=new AbortController,At=_m(t.history,Be,qe.signal,Ct);if(Me){let Ra=await zs(gt,new URL(At.url).pathname,At.signal,ve);if(Ra.type==="aborted")return;if(Ra.type==="error"){ye(ve,Pe,Ra.error,{flushSync:Oe});return}else if(Ra.matches)gt=Ra.matches;else{ye(ve,Pe,$i(404,{pathname:Be}),{flushSync:Oe});return}}let Ee=Lb(gt,Be);if(!Ee.route.action&&!Ee.route.lazy){let Ra=$i(405,{method:Ct.formMethod,pathname:Be,routeId:Pe});ye(ve,Pe,Ra,{flushSync:Oe});return}Q.set(ve,qe);let Ue=V,Dt=Wm(i,o,At,gt,Ee,r,ue),Zt=await vt(At,Dt,ue,ve),Yt=Zt[Ee.route.id];if(!Yt){for(let Ra of Dt)if(Zt[Ra.route.id]){Yt=Zt[Ra.route.id];break}}if(At.signal.aborted){Q.get(ve)===qe&&Q.delete(ve);return}if(te.has(ve)){if(Yd(Yt)||ai(Yt)){Mt(ve,Tl(void 0));return}}else{if(Yd(Yt))if(Q.delete(ve),M>Ue){Mt(ve,Tl(void 0));return}else return $.add(ve),Mt(ve,Fh(Ct)),at(At,Yt,!1,{fetcherSubmission:Ct,preventScrollReset:xt});if(ai(Yt)){ye(ve,Pe,Yt.error);return}}let Vs=T.navigation.location||T.location,Qs=_m(t.history,Vs,qe.signal),mr=c||l,Rs=T.navigation.state!=="idle"?kc(mr,T.navigation.location,m):T.matches;Ys(Rs,"Didn't find any matches after fetcher action");let Fa=++V;R.set(ve,Fa);let Ha=Fh(Ct,Yt.data);T.fetchers.set(ve,Ha);let{dsMatches:Jr,revalidatingFetchers:Ps}=SP(Qs,ue,i,o,t.history,T,Rs,Ct,Vs,r,!1,q,H,te,Y,$,mr,m,t.patchRoutesOnNavigation!=null,[Ee.route.id,Yt],Kt);Ps.filter(Ra=>Ra.key!==ve).forEach(Ra=>{let Du=Ra.key,ud=T.fetchers.get(Du),$g=Fh(void 0,ud?ud.data:void 0);T.fetchers.set(Du,$g),Qt(Du),Ra.controller&&Q.set(Du,Ra.controller)}),ge({fetchers:new Map(T.fetchers)});let Xa=()=>Ps.forEach(Ra=>Qt(Ra.key));qe.signal.addEventListener("abort",Xa);let{loaderResults:Pr,fetcherResults:Ts}=await dt(Jr,Ps,Qs,ue);if(qe.signal.aborted)return;if(qe.signal.removeEventListener("abort",Xa),R.delete(ve),Q.delete(ve),Ps.forEach(Ra=>Q.delete(Ra.key)),T.fetchers.has(ve)){let Ra=Tl(Yt.data);T.fetchers.set(ve,Ra)}let jr=G0(Pr);if(jr)return at(Qs,jr.result,!1,{preventScrollReset:xt});if(jr=G0(Ts),jr)return $.add(jr.key),at(Qs,jr.result,!1,{preventScrollReset:xt});let{loaderData:lo,errors:Ja}=DP(T,Rs,Pr,void 0,Ps,Ts);_t(Fa),T.navigation.state==="loading"&&Fa>M?(Ys(A,"Expected pending action"),z&&z.abort(),le(T.navigation.location,{matches:Rs,loaderData:lo,errors:Ja,fetchers:new Map(T.fetchers)})):(ge({errors:Ja,loaderData:RP(T.loaderData,lo,Rs,Ja),fetchers:new Map(T.fetchers)}),q=!1)}async function Ge(ve,Pe,Be,gt,ue,Me,Oe,xt,Ct){let Kt=T.fetchers.get(ve);Mt(ve,Fh(Ct,Kt?Kt.data:void 0),{flushSync:Oe});let as=new AbortController,qe=_m(t.history,Be,as.signal);if(Me){let Yt=await zs(gt,new URL(qe.url).pathname,qe.signal,ve);if(Yt.type==="aborted")return;if(Yt.type==="error"){ye(ve,Pe,Yt.error,{flushSync:Oe});return}else if(Yt.matches)gt=Yt.matches;else{ye(ve,Pe,$i(404,{pathname:Be}),{flushSync:Oe});return}}let At=Lb(gt,Be);Q.set(ve,as);let Ee=V,Ue=Wm(i,o,qe,gt,At,r,ue),Zt=(await vt(qe,Ue,ue,ve))[At.route.id];if(Q.get(ve)===as&&Q.delete(ve),!qe.signal.aborted){if(te.has(ve)){Mt(ve,Tl(void 0));return}if(Yd(Zt))if(M>Ee){Mt(ve,Tl(void 0));return}else{$.add(ve),await at(qe,Zt,!1,{preventScrollReset:xt});return}if(ai(Zt)){ye(ve,Pe,Zt.error);return}Mt(ve,Tl(Zt.data))}}async function at(ve,Pe,Be,{submission:gt,fetcherSubmission:ue,preventScrollReset:Me,replace:Oe}={}){Be||(I?.resolve(),I=null),Pe.response.headers.has("X-Remix-Revalidate")&&(q=!0);let xt=Pe.response.headers.get("Location");Ys(xt,"Expected a Location header on the redirect Response"),xt=TP(xt,new URL(ve.url),m,t.history);let Ct=px(T.location,xt,{_isRedirect:!0});if(a){let Ue=!1;if(Pe.response.headers.has("X-Remix-Reload-Document"))Ue=!0;else if(Vw(xt)){const Dt=oR(xt,!0);Ue=Dt.origin!==s.location.origin||Ji(Dt.pathname,m)==null}if(Ue){Oe?s.location.replace(xt):s.location.assign(xt);return}}z=null;let Kt=Oe===!0||Pe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:as,formAction:qe,formEncType:At}=T.navigation;!gt&&!ue&&as&&qe&&At&&(gt=OP(T.navigation));let Ee=gt||ue;if(bB.has(Pe.response.status)&&Ee&&rn(Ee.formMethod))await Ce(Kt,Ct,{submission:{...Ee,formAction:xt},preventScrollReset:Me||F,enableViewTransition:Be?O:void 0});else{let Ue=q2(Ct,gt);await Ce(Kt,Ct,{overrideNavigation:Ue,fetcherSubmission:ue,preventScrollReset:Me||F,enableViewTransition:Be?O:void 0})}}async function vt(ve,Pe,Be,gt){let ue,Me={};try{ue=await kB(d,ve,Pe,gt,Be,!1)}catch(Oe){return Pe.filter(xt=>xt.shouldLoad).forEach(xt=>{Me[xt.route.id]={type:"error",error:Oe}}),Me}if(ve.signal.aborted)return Me;if(!rn(ve.method))for(let Oe of Pe){if(ue[Oe.route.id]?.type==="error")break;!ue.hasOwnProperty(Oe.route.id)&&!T.loaderData.hasOwnProperty(Oe.route.id)&&(!T.errors||!T.errors.hasOwnProperty(Oe.route.id))&&Oe.shouldCallHandler()&&(ue[Oe.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${Oe.route.id}`)})}for(let[Oe,xt]of Object.entries(ue))if(LB(xt)){let Ct=xt.result;Me[Oe]={type:"redirect",response:DB(Ct,ve,Oe,Pe,m)}}else Me[Oe]=await MB(xt);return Me}async function dt(ve,Pe,Be,gt){let ue=vt(Be,ve,gt,null),Me=Promise.all(Pe.map(async Ct=>{if(Ct.matches&&Ct.match&&Ct.request&&Ct.controller){let as=(await vt(Ct.request,Ct.matches,gt,Ct.key))[Ct.match.route.id];return{[Ct.key]:as}}else return Promise.resolve({[Ct.key]:{type:"error",error:$i(404,{pathname:Ct.path})}})})),Oe=await ue,xt=(await Me).reduce((Ct,Kt)=>Object.assign(Ct,Kt),{});return{loaderResults:Oe,fetcherResults:xt}}function ft(){q=!0,Y.forEach((ve,Pe)=>{Q.has(Pe)&&H.add(Pe),Qt(Pe)})}function Mt(ve,Pe,Be={}){T.fetchers.set(ve,Pe),ge({fetchers:new Map(T.fetchers)},{flushSync:(Be&&Be.flushSync)===!0})}function ye(ve,Pe,Be,gt={}){let ue=Ec(T.matches,Pe);jt(ve),ge({errors:{[ue.route.id]:Be},fetchers:new Map(T.fetchers)},{flushSync:(gt&&gt.flushSync)===!0})}function Le(ve){return J.set(ve,(J.get(ve)||0)+1),te.has(ve)&&te.delete(ve),T.fetchers.get(ve)||yB}function ze(ve,Pe){Qt(ve,Pe?.reason),Mt(ve,Tl(null))}function jt(ve){let Pe=T.fetchers.get(ve);Q.has(ve)&&!(Pe&&Pe.state==="loading"&&R.has(ve))&&Qt(ve),Y.delete(ve),R.delete(ve),$.delete(ve),te.delete(ve),H.delete(ve),T.fetchers.delete(ve)}function es(ve){let Pe=(J.get(ve)||0)-1;Pe<=0?(J.delete(ve),te.add(ve)):J.set(ve,Pe),ge({fetchers:new Map(T.fetchers)})}function Qt(ve,Pe){let Be=Q.get(ve);Be&&(Be.abort(Pe),Q.delete(ve))}function rt(ve){for(let Pe of ve){let Be=Le(Pe),gt=Tl(Be.data);T.fetchers.set(Pe,gt)}}function zt(){let ve=[],Pe=!1;for(let Be of $){let gt=T.fetchers.get(Be);Ys(gt,`Expected fetcher: ${Be}`),gt.state==="loading"&&($.delete(Be),ve.push(Be),Pe=!0)}return rt(ve),Pe}function _t(ve){let Pe=[];for(let[Be,gt]of R)if(gt<ve){let ue=T.fetchers.get(Be);Ys(ue,`Expected fetcher: ${Be}`),ue.state==="loading"&&(Qt(Be),R.delete(Be),Pe.push(Be))}return rt(Pe),Pe.length>0}function hs(ve,Pe){let Be=T.blockers.get(ve)||Oh;return ee.get(ve)!==Pe&&ee.set(ve,Pe),Be}function cs(ve){T.blockers.delete(ve),ee.delete(ve)}function Ns(ve,Pe){let Be=T.blockers.get(ve)||Oh;Ys(Be.state==="unblocked"&&Pe.state==="blocked"||Be.state==="blocked"&&Pe.state==="blocked"||Be.state==="blocked"&&Pe.state==="proceeding"||Be.state==="blocked"&&Pe.state==="unblocked"||Be.state==="proceeding"&&Pe.state==="unblocked",`Invalid blocker state transition: ${Be.state} -> ${Pe.state}`);let gt=new Map(T.blockers);gt.set(ve,Pe),ge({blockers:gt})}function Gs({currentLocation:ve,nextLocation:Pe,historyAction:Be}){if(ee.size===0)return;ee.size>1&&gr(!1,"A router only supports one blocker at a time");let gt=Array.from(ee.entries()),[ue,Me]=gt[gt.length-1],Oe=T.blockers.get(ue);if(!(Oe&&Oe.state==="proceeding")&&Me({currentLocation:ve,nextLocation:Pe,historyAction:Be}))return ue}function Is(ve){let Pe=$i(404,{pathname:ve}),Be=c||l,{matches:gt,route:ue}=Y0(Be);return{notFoundMatches:gt,route:ue,error:Pe}}function Ds(ve,Pe,Be){if(_=ve,v=Pe,S=Be||null,!y&&T.navigation===z2){y=!0;let gt=oa(T.location,T.matches);gt!=null&&ge({restoreScrollPosition:gt})}return()=>{_=null,v=null,S=null}}function pa(ve,Pe){return S&&S(ve,Pe.map(gt=>Hq(gt,T.loaderData)))||ve.key}function ha(ve,Pe){if(_&&v){let Be=pa(ve,Pe);_[Be]=v()}}function oa(ve,Pe){if(_){let Be=pa(ve,Pe),gt=_[Be];if(typeof gt=="number")return gt}return null}function qt(ve,Pe,Be){if(t.patchRoutesOnNavigation)if(ve){if(Object.keys(ve[0].params).length>0)return{active:!0,matches:df(Pe,Be,m,!0)}}else return{active:!0,matches:df(Pe,Be,m,!0)||[]};return{active:!1,matches:null}}async function zs(ve,Pe,Be,gt){if(!t.patchRoutesOnNavigation)return{type:"success",matches:ve};let ue=ve;for(;;){let Me=c==null,Oe=c||l,xt=o;try{await t.patchRoutesOnNavigation({signal:Be,path:Pe,matches:ue,fetcherKey:gt,patch:(as,qe)=>{Be.aborted||CP(as,qe,Oe,xt,i,!1)}})}catch(as){return{type:"error",error:as,partialMatches:ue}}finally{Me&&!Be.aborted&&(l=[...l])}if(Be.aborted)return{type:"aborted"};let Ct=kc(Oe,Pe,m),Kt=null;if(Ct){if(Object.keys(Ct[0].params).length===0)return{type:"success",matches:Ct};if(Kt=df(Oe,Pe,m,!0),!(Kt&&ue.length<Kt.length&&Bt(ue,Kt.slice(0,ue.length))))return{type:"success",matches:Ct}}if(Kt||(Kt=df(Oe,Pe,m,!0)),!Kt||Bt(ue,Kt))return{type:"success",matches:null};ue=Kt}}function Bt(ve,Pe){return ve.length===Pe.length&&ve.every((Be,gt)=>Be.route.id===Pe[gt].route.id)}function Ut(ve){o={},c=hx(ve,i,void 0,o)}function ds(ve,Pe,Be=!1){let gt=c==null;CP(ve,Pe,c||l,o,i,Be),gt&&(l=[...l],ge({}))}return D={get basename(){return m},get future(){return p},get state(){return T},get routes(){return l},get window(){return s},initialize:de,subscribe:xe,enableScrollRestoration:Ds,navigate:me,fetch:He,revalidate:Ae,createHref:ve=>t.history.createHref(ve),encodeLocation:ve=>t.history.encodeLocation(ve),getFetcher:Le,resetFetcher:ze,deleteFetcher:es,dispose:ae,getBlocker:hs,deleteBlocker:cs,patchRoutes:ds,_internalFetchControllers:Q,_internalSetRoutes:Ut,_internalSetStateDoNotUseOrYouWillBreakYourApp(ve){ge(ve)}},t.unstable_instrumentations&&(D=dB(D,t.unstable_instrumentations.map(ve=>ve.router).filter(Boolean))),D}function NB(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function i_(t,s,a,r,n,i){let o,l;if(n){o=[];for(let m of s)if(o.push(m),m.route.id===n){l=m;break}}else o=s,l=s[s.length-1];let c=sv(r||".",tv(o),Ji(t.pathname,a)||t.pathname,i==="path");if(r==null&&(c.search=t.search,c.hash=t.hash),(r==null||r===""||r===".")&&l){let m=Yw(c.search);if(l.route.index&&!m)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&m){let d=new URLSearchParams(c.search),p=d.getAll("index");d.delete("index"),p.filter(j=>j).forEach(j=>d.append("index",j));let x=d.toString();c.search=x?`?${x}`:""}}return a!=="/"&&(c.pathname=rB({basename:a,pathname:c.pathname})),al(c)}function wP(t,s,a){if(!a||!NB(a))return{path:s};if(a.formMethod&&!qB(a.formMethod))return{path:s,error:$i(405,{method:a.formMethod})};let r=()=>({path:s,error:$i(400,{type:"invalid-body"})}),i=(a.formMethod||"get").toUpperCase(),o=wR(s);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!rn(i))return r();let p=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((x,[j,_])=>`${x}${j}=${_}
`,""):String(a.body);return{path:s,submission:{formMethod:i,formAction:o,formEncType:a.formEncType,formData:void 0,json:void 0,text:p}}}else if(a.formEncType==="application/json"){if(!rn(i))return r();try{let p=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:s,submission:{formMethod:i,formAction:o,formEncType:a.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}Ys(typeof FormData=="function","FormData is not available in this environment");let l,c;if(a.formData)l=c_(a.formData),c=a.formData;else if(a.body instanceof FormData)l=c_(a.body),c=a.body;else if(a.body instanceof URLSearchParams)l=a.body,c=MP(l);else if(a.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(a.body),c=MP(l)}catch{return r()}let m={formMethod:i,formAction:o,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(rn(m.formMethod))return{path:s,submission:m};let d=ad(s);return t&&d.search&&Yw(d.search)&&l.append("index",""),d.search=`?${l}`,{path:al(d),submission:m}}function SP(t,s,a,r,n,i,o,l,c,m,d,p,x,j,_,S,v,y,N,C,P){let E=C?ai(C[1])?C[1].error:C[1].data:void 0,D=n.createURL(i.location),T=n.createURL(c),A;if(d&&i.errors){let B=Object.keys(i.errors)[0];A=o.findIndex(q=>q.route.id===B)}else if(C&&ai(C[1])){let B=C[0];A=o.findIndex(q=>q.route.id===B)-1}let I=C?C[1].statusCode:void 0,F=I&&I>=400,z={currentUrl:D,currentParams:i.matches[0]?.params||{},nextUrl:T,nextParams:o[0].params,...l,actionResult:E,actionStatus:I},O=sg(o),K=o.map((B,q)=>{let{route:H}=B,Q=null;if(A!=null&&q>A?Q=!1:H.lazy?Q=!0:Hw(H)?d?Q=o_(H,i.loaderData,i.errors):_B(i.loaderData,i.matches[q],B)&&(Q=!0):Q=!1,Q!==null)return l_(a,r,t,O,B,m,s,Q);let V=!1;typeof P=="boolean"?V=P:F?V=!1:(p||D.pathname+D.search===T.pathname+T.search||D.search!==T.search||wB(i.matches[q],B))&&(V=!0);let M={...z,defaultShouldRevalidate:V},R=Yf(B,M);return l_(a,r,t,O,B,m,s,R,M,P)}),W=[];return _.forEach((B,q)=>{if(d||!o.some(J=>J.route.id===B.routeId)||j.has(q))return;let H=i.fetchers.get(q),Q=H&&H.state!=="idle"&&H.data===void 0,V=kc(v,B.path,y);if(!V){if(N&&Q)return;W.push({key:q,routeId:B.routeId,path:B.path,matches:null,match:null,request:null,controller:null});return}if(S.has(q))return;let M=Lb(V,B.path),R=new AbortController,$=_m(n,B.path,R.signal),Y=null;if(x.has(q))x.delete(q),Y=Wm(a,r,$,V,M,m,s);else if(Q)p&&(Y=Wm(a,r,$,V,M,m,s));else{let J;typeof P=="boolean"?J=P:F?J=!1:J=p;let te={...z,defaultShouldRevalidate:J};Yf(M,te)&&(Y=Wm(a,r,$,V,M,m,s,te))}Y&&W.push({key:q,routeId:B.routeId,path:B.path,matches:Y,match:M,request:$,controller:R})}),{dsMatches:K,revalidatingFetchers:W}}function Hw(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function o_(t,s,a){if(t.lazy)return!0;if(!Hw(t))return!1;let r=s!=null&&t.id in s,n=a!=null&&a[t.id]!==void 0;return!r&&n?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!n}function _B(t,s,a){let r=!s||a.route.id!==s.route.id,n=!t.hasOwnProperty(a.route.id);return r||n}function wB(t,s){let a=t.route.path;return t.pathname!==s.pathname||a!=null&&a.endsWith("*")&&t.params["*"]!==s.params["*"]}function Yf(t,s){if(t.route.shouldRevalidate){let a=t.route.shouldRevalidate(s);if(typeof a=="boolean")return a}return s.defaultShouldRevalidate}function CP(t,s,a,r,n,i){let o;if(t){let m=r[t];Ys(m,`No route found to patch children into: routeId = ${t}`),m.children||(m.children=[]),o=m.children}else o=a;let l=[],c=[];if(s.forEach(m=>{let d=o.find(p=>yR(m,p));d?c.push({existingRoute:d,newRoute:m}):l.push(m)}),l.length>0){let m=hx(l,n,[t||"_","patch",String(o?.length||"0")],r);o.push(...m)}if(i&&c.length>0)for(let m=0;m<c.length;m++){let{existingRoute:d,newRoute:p}=c[m],x=d,[j]=hx([p],n,[],{},!0);Object.assign(x,{element:j.element?j.element:x.element,errorElement:j.errorElement?j.errorElement:x.errorElement,hydrateFallbackElement:j.hydrateFallbackElement?j.hydrateFallbackElement:x.hydrateFallbackElement})}}function yR(t,s){return"id"in t&&"id"in s&&t.id===s.id?!0:t.index===s.index&&t.path===s.path&&t.caseSensitive===s.caseSensitive?(!t.children||t.children.length===0)&&(!s.children||s.children.length===0)?!0:t.children.every((a,r)=>s.children?.some(n=>yR(a,n))):!1}var PP=new WeakMap,vR=({key:t,route:s,manifest:a,mapRouteProperties:r})=>{let n=a[s.id];if(Ys(n,"No route found in manifest"),!n.lazy||typeof n.lazy!="object")return;let i=n.lazy[t];if(!i)return;let o=PP.get(n);o||(o={},PP.set(n,o));let l=o[t];if(l)return l;let c=(async()=>{let m=qq(t),p=n[t]!==void 0&&t!=="hasErrorBoundary";if(m)gr(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),o[t]=Promise.resolve();else if(p)gr(!1,`Route "${n.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let x=await i();x!=null&&(Object.assign(n,{[t]:x}),Object.assign(n,r(n)))}typeof n.lazy=="object"&&(n.lazy[t]=void 0,Object.values(n.lazy).every(x=>x===void 0)&&(n.lazy=void 0))})();return o[t]=c,c},kP=new WeakMap;function SB(t,s,a,r,n){let i=a[t.id];if(Ys(i,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let d=kP.get(i);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let p=(async()=>{Ys(typeof t.lazy=="function","No lazy route function found");let x=await t.lazy(),j={};for(let _ in x){let S=x[_];if(S===void 0)continue;let v=Uq(_),N=i[_]!==void 0&&_!=="hasErrorBoundary";v?gr(!v,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):N?gr(!N,`Route "${i.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):j[_]=S}Object.assign(i,j),Object.assign(i,{...r(i),lazy:void 0})})();return kP.set(i,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(t.lazy),l=[],c;for(let d of o){if(n&&n.includes(d))continue;let p=vR({key:d,route:t,manifest:a,mapRouteProperties:r});p&&(l.push(p),d===s&&(c=p))}let m=l.length>0?Promise.all(l).then(()=>{}):void 0;return m?.catch(()=>{}),c?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:c}}async function EP(t){let s=t.matches.filter(n=>n.shouldLoad),a={};return(await Promise.all(s.map(n=>n.resolve()))).forEach((n,i)=>{a[s[i].route.id]=n}),a}async function CB(t){return t.matches.some(s=>s.route.middleware)?jR(t,()=>EP(t)):EP(t)}function jR(t,s){return PB(t,s,r=>{if(zB(r))throw r;return r},OB,a);function a(r,n,i){if(i)return Promise.resolve(Object.assign(i.value,{[n]:{type:"error",result:r}}));{let{matches:o}=t,l=Math.min(Math.max(o.findIndex(m=>m.route.id===n),0),Math.max(o.findIndex(m=>m.shouldCallHandler()),0)),c=Ec(o,o[l].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:r}})}}}async function PB(t,s,a,r,n){let{matches:i,request:o,params:l,context:c,unstable_pattern:m}=t,d=i.flatMap(x=>x.route.middleware?x.route.middleware.map(j=>[x.route.id,j]):[]);return await NR({request:o,params:l,context:c,unstable_pattern:m},d,s,a,r,n)}async function NR(t,s,a,r,n,i,o=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason??new Error(`Request aborted: ${l.method} ${l.url}`);let c=s[o];if(!c)return await a();let[m,d]=c,p,x=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await NR(t,s,a,r,n,i,o+1)},p.value}catch(j){return p={value:await i(j,m,p)},p.value}};try{let j=await d(t,x),_=j!=null?r(j):void 0;return n(_)?_:p?_??p.value:(p={value:await x()},p.value)}catch(j){return await i(j,m,p)}}function _R(t,s,a,r,n){let i=vR({key:"middleware",route:r.route,manifest:s,mapRouteProperties:t}),o=SB(r.route,rn(a.method)?"action":"loader",s,t,n);return{middleware:i,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function l_(t,s,a,r,n,i,o,l,c=null,m){let d=!1,p=_R(t,s,a,n,i);return{...n,_lazyPromises:p,shouldLoad:l,shouldRevalidateArgs:c,shouldCallHandler(x){return d=!0,c?typeof m=="boolean"?Yf(n,{...c,defaultShouldRevalidate:m}):typeof x=="boolean"?Yf(n,{...c,defaultShouldRevalidate:x}):Yf(n,c):l},resolve(x){let{lazy:j,loader:_,middleware:S}=n.route,v=d||l||x&&!rn(a.method)&&(j||_),y=S&&S.length>0&&!_&&!j;return v&&(rn(a.method)||!y)?EB({request:a,unstable_pattern:r,match:n,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:x,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Wm(t,s,a,r,n,i,o,l=null){return r.map(c=>c.route.id!==n.route.id?{...c,shouldLoad:!1,shouldRevalidateArgs:l,shouldCallHandler:()=>!1,_lazyPromises:_R(t,s,a,c,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:l_(t,s,a,sg(r),c,i,o,!0,l))}async function kB(t,s,a,r,n,i){a.some(m=>m._lazyPromises?.middleware)&&await Promise.all(a.map(m=>m._lazyPromises?.middleware));let o={request:s,unstable_pattern:sg(a),params:a[0].params,context:n,matches:a},c=await t({...o,fetcherKey:r,runClientMiddleware:m=>{let d=o;return jR(d,()=>m({...d,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(a.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return c}async function EB({request:t,unstable_pattern:s,match:a,lazyHandlerPromise:r,lazyRoutePromise:n,handlerOverride:i,scopedContext:o}){let l,c,m=rn(t.method),d=m?"action":"loader",p=x=>{let j,_=new Promise((y,N)=>j=N);c=()=>j(),t.signal.addEventListener("abort",c);let S=y=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${a.route.id}]`)):x({request:t,unstable_pattern:s,params:a.params,context:o},...y!==void 0?[y]:[]),v=(async()=>{try{return{type:"data",result:await(i?i(N=>S(N)):S())}}catch(y){return{type:"error",result:y}}})();return Promise.race([v,_])};try{let x=m?a.route.action:a.route.loader;if(r||n)if(x){let j,[_]=await Promise.all([p(x).catch(S=>{j=S}),r,n]);if(j!==void 0)throw j;l=_}else{await r;let j=m?a.route.action:a.route.loader;if(j)[l]=await Promise.all([p(j),n]);else if(d==="action"){let _=new URL(t.url),S=_.pathname+_.search;throw $i(405,{method:t.method,pathname:S,routeId:a.route.id})}else return{type:"data",result:void 0}}else if(x)l=await p(x);else{let j=new URL(t.url),_=j.pathname+j.search;throw $i(404,{pathname:_})}}catch(x){return{type:"error",result:x}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function TB(t){let s=t.headers.get("Content-Type");return s&&/\bapplication\/json\b/.test(s)?t.body==null?null:t.json():t.text()}async function MB(t){let{result:s,type:a}=t;if(Ww(s)){let r;try{r=await TB(s)}catch(n){return{type:"error",error:n}}return a==="error"?{type:"error",error:new tg(s.status,s.statusText,r),statusCode:s.status,headers:s.headers}:{type:"data",data:r,statusCode:s.status,headers:s.headers}}return a==="error"?IP(s)?s.data instanceof Error?{type:"error",error:s.data,statusCode:s.init?.status,headers:s.init?.headers?new Headers(s.init.headers):void 0}:{type:"error",error:IB(s),statusCode:fx(s)?s.status:void 0,headers:s.init?.headers?new Headers(s.init.headers):void 0}:{type:"error",error:s,statusCode:fx(s)?s.status:void 0}:IP(s)?{type:"data",data:s.data,statusCode:s.init?.status,headers:s.init?.headers?new Headers(s.init.headers):void 0}:{type:"data",data:s}}function DB(t,s,a,r,n){let i=t.headers.get("Location");if(Ys(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Vw(i)){let o=r.slice(0,r.findIndex(l=>l.route.id===a)+1);i=i_(new URL(s.url),o,n,i),t.headers.set("Location",i)}return t}function TP(t,s,a,r){let n=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Vw(t)){let i=t,o=i.startsWith("//")?new URL(s.protocol+i):new URL(i);if(n.includes(o.protocol))throw new Error("Invalid redirect location");let l=Ji(o.pathname,a)!=null;if(o.origin===s.origin&&l)return o.pathname+o.search+o.hash}try{let i=r.createURL(t);if(n.includes(i.protocol))throw new Error("Invalid redirect location")}catch{}return t}function _m(t,s,a,r){let n=t.createURL(wR(s)).toString(),i={signal:a};if(r&&rn(r.formMethod)){let{formMethod:o,formEncType:l}=r;i.method=o.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(r.json)):l==="text/plain"?i.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?i.body=c_(r.formData):i.body=r.formData}return new Request(n,i)}function c_(t){let s=new URLSearchParams;for(let[a,r]of t.entries())s.append(a,typeof r=="string"?r:r.name);return s}function MP(t){let s=new FormData;for(let[a,r]of t.entries())s.append(a,r);return s}function RB(t,s,a,r=!1,n=!1){let i={},o=null,l,c=!1,m={},d=a&&ai(a[1])?a[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in s))return;let x=p.route.id,j=s[x];if(Ys(!Yd(j),"Cannot handle redirect results in processLoaderData"),ai(j)){let _=j.error;if(d!==void 0&&(_=d,d=void 0),o=o||{},n)o[x]=_;else{let S=Ec(t,x);o[S.route.id]==null&&(o[S.route.id]=_)}r||(i[x]=bR),c||(c=!0,l=fx(j.error)?j.error.status:500),j.headers&&(m[x]=j.headers)}else i[x]=j.data,j.statusCode&&j.statusCode!==200&&!c&&(l=j.statusCode),j.headers&&(m[x]=j.headers)}),d!==void 0&&a&&(o={[a[0]]:d},a[2]&&(i[a[2]]=void 0)),{loaderData:i,errors:o,statusCode:l||200,loaderHeaders:m}}function DP(t,s,a,r,n,i){let{loaderData:o,errors:l}=RB(s,a,r);return n.filter(c=>!c.matches||c.matches.some(m=>m.shouldLoad)).forEach(c=>{let{key:m,match:d,controller:p}=c;if(p&&p.signal.aborted)return;let x=i[m];if(Ys(x,"Did not find corresponding fetcher result"),ai(x)){let j=Ec(t.matches,d?.route.id);l&&l[j.route.id]||(l={...l,[j.route.id]:x.error}),t.fetchers.delete(m)}else if(Yd(x))Ys(!1,"Unhandled fetcher revalidation redirect");else{let j=Tl(x.data);t.fetchers.set(m,j)}}),{loaderData:o,errors:l}}function RP(t,s,a,r){let n=Object.entries(s).filter(([,i])=>i!==bR).reduce((i,[o,l])=>(i[o]=l,i),{});for(let i of a){let o=i.route.id;if(!s.hasOwnProperty(o)&&t.hasOwnProperty(o)&&i.route.loader&&(n[o]=t[o]),r&&r.hasOwnProperty(o))break}return n}function AP(t){return t?ai(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ec(t,s){return(s?t.slice(0,t.findIndex(r=>r.route.id===s)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Y0(t){let s=t.length===1?t[0]:t.find(a=>a.index||!a.path||a.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:s}],route:s}}function $i(t,{pathname:s,routeId:a,method:r,type:n,message:i}={}){let o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",r&&s&&a?l=`You made a ${r} request to "${s}" but did not provide a \`loader\` for route "${a}", so there is no way to handle the request.`:n==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l=`Route "${a}" does not match URL "${s}"`):t===404?(o="Not Found",l=`No route matches URL "${s}"`):t===405&&(o="Method Not Allowed",r&&s&&a?l=`You made a ${r.toUpperCase()} request to "${s}" but did not provide an \`action\` for route "${a}", so there is no way to handle the request.`:r&&(l=`Invalid request method "${r.toUpperCase()}"`)),new tg(t||500,o,new Error(l),!0)}function G0(t){let s=Object.entries(t);for(let a=s.length-1;a>=0;a--){let[r,n]=s[a];if(Yd(n))return{key:r,result:n}}}function wR(t){let s=typeof t=="string"?ad(t):t;return al({...s,hash:""})}function AB(t,s){return t.pathname!==s.pathname||t.search!==s.search?!1:t.hash===""?s.hash!=="":t.hash===s.hash?!0:s.hash!==""}function IB(t){return new tg(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function OB(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([s,a])=>typeof s=="string"&&FB(a))}function FB(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function LB(t){return Ww(t.result)&&xR.has(t.result.status)}function ai(t){return t.type==="error"}function Yd(t){return(t&&t.type)==="redirect"}function IP(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Ww(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function $B(t){return xR.has(t)}function zB(t){return Ww(t)&&$B(t.status)&&t.headers.has("Location")}function qB(t){return gB.has(t.toUpperCase())}function rn(t){return fB.has(t.toUpperCase())}function Yw(t){return new URLSearchParams(t).getAll("index").some(s=>s==="")}function Lb(t,s){let a=typeof s=="string"?ad(s).search:s.search;if(t[t.length-1].route.index&&Yw(a||""))return t[t.length-1];let r=uR(t);return r[r.length-1]}function OP(t){let{formMethod:s,formAction:a,formEncType:r,text:n,formData:i,json:o}=t;if(!(!s||!a||!r)){if(n!=null)return{formMethod:s,formAction:a,formEncType:r,formData:void 0,json:void 0,text:n};if(i!=null)return{formMethod:s,formAction:a,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:s,formAction:a,formEncType:r,formData:void 0,json:o,text:void 0}}}function q2(t,s){return s?{state:"loading",location:t,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function BB(t,s){return{state:"submitting",location:t,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}}function Fh(t,s){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:s}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:s}}function UB(t,s){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:s?s.data:void 0}}function Tl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function VB(t,s){try{let a=t.sessionStorage.getItem(gR);if(a){let r=JSON.parse(a);for(let[n,i]of Object.entries(r||{}))i&&Array.isArray(i)&&s.set(n,new Set(i||[]))}}catch{}}function HB(t,s){if(s.size>0){let a={};for(let[r,n]of s)a[r]=[...n];try{t.sessionStorage.setItem(gR,JSON.stringify(a))}catch(r){gr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function FP(){let t,s,a=new Promise((r,n)=>{t=async i=>{r(i);try{await a}catch{}},s=async i=>{n(i);try{await a}catch{}}});return{promise:a,resolve:t,reject:s}}var ju=g.createContext(null);ju.displayName="DataRouter";var ag=g.createContext(null);ag.displayName="DataRouterState";var SR=g.createContext(!1);function WB(){return g.useContext(SR)}var Gw=g.createContext({isTransitioning:!1});Gw.displayName="ViewTransition";var CR=g.createContext(new Map);CR.displayName="Fetchers";var YB=g.createContext(null);YB.displayName="Await";var bi=g.createContext(null);bi.displayName="Navigation";var av=g.createContext(null);av.displayName="Location";var io=g.createContext({outlet:null,matches:[],isDataRoute:!1});io.displayName="Route";var Kw=g.createContext(null);Kw.displayName="RouteError";var PR="REACT_ROUTER_ERROR",GB="REDIRECT",KB="ROUTE_ERROR_RESPONSE";function QB(t){if(t.startsWith(`${PR}:${GB}:{`))try{let s=JSON.parse(t.slice(28));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.location=="string"&&typeof s.reloadDocument=="boolean"&&typeof s.replace=="boolean")return s}catch{}}function ZB(t){if(t.startsWith(`${PR}:${KB}:{`))try{let s=JSON.parse(t.slice(40));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string")return new tg(s.status,s.statusText,s.data)}catch{}}function XB(t,{relative:s}={}){Ys(_p(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=g.useContext(bi),{hash:n,pathname:i,search:o}=rg(t,{relative:s}),l=i;return a!=="/"&&(l=i==="/"?a:Xo([a,i])),r.createHref({pathname:l,search:o,hash:n})}function _p(){return g.useContext(av)!=null}function yi(){return Ys(_p(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(av).location}var kR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ER(t){g.useContext(bi).static||g.useLayoutEffect(t)}function Fs(){let{isDataRoute:t}=g.useContext(io);return t?pU():JB()}function JB(){Ys(_p(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(ju),{basename:s,navigator:a}=g.useContext(bi),{matches:r}=g.useContext(io),{pathname:n}=yi(),i=JSON.stringify(tv(r)),o=g.useRef(!1);return ER(()=>{o.current=!0}),g.useCallback((c,m={})=>{if(gr(o.current,kR),!o.current)return;if(typeof c=="number"){a.go(c);return}let d=sv(c,JSON.parse(i),n,m.relative==="path");t==null&&s!=="/"&&(d.pathname=d.pathname==="/"?s:Xo([s,d.pathname])),(m.replace?a.replace:a.push)(d,m.state,m)},[s,a,i,n,t])}var eU=g.createContext(null);function tU(t){let s=g.useContext(io).outlet;return g.useMemo(()=>s&&g.createElement(eU.Provider,{value:t},s),[s,t])}function Br(){let{matches:t}=g.useContext(io),s=t[t.length-1];return s?s.params:{}}function rg(t,{relative:s}={}){let{matches:a}=g.useContext(io),{pathname:r}=yi(),n=JSON.stringify(tv(a));return g.useMemo(()=>sv(t,JSON.parse(n),r,s==="path"),[t,n,r,s])}function sU(t,s,a,r,n){Ys(_p(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=g.useContext(bi),{matches:o}=g.useContext(io),l=o[o.length-1],c=l?l.params:{},m=l?l.pathname:"/",d=l?l.pathnameBase:"/",p=l&&l.route;{let N=p&&p.path||"";MR(m,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let x=yi(),j;j=x;let _=j.pathname||"/",S=_;if(d!=="/"){let N=d.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(N.length).join("/")}let v=kc(t,{pathname:S});return gr(p||v!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),gr(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),oU(v&&v.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:Xo([d,i.encodeLocation?i.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:Xo([d,i.encodeLocation?i.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,a,r,n)}function aU(){let t=mU(),s=fx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:i},"ErrorBoundary")," or"," ",g.createElement("code",{style:i},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},s),a?g.createElement("pre",{style:n},a):null,o)}var rU=g.createElement(aU,null),TR=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){this.props.onError?this.props.onError(t,s):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const a=ZB(t.digest);a&&(t=a)}let s=t!==void 0?g.createElement(io.Provider,{value:this.props.routeContext},g.createElement(Kw.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?g.createElement(nU,{error:t},s):s}};TR.contextType=SR;var B2=new WeakMap;function nU({children:t,error:s}){let{basename:a}=g.useContext(bi);if(typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){let r=QB(s.digest);if(r){let n=B2.get(s);if(n)throw n;let i=pR(r.location,a);if(mR&&!B2.get(s))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw B2.set(s,o),o}return g.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function iU({routeContext:t,match:s,children:a}){let r=g.useContext(ju);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),g.createElement(io.Provider,{value:t},a)}function oU(t,s=[],a=null,r=null,n=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(s.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let i=t,o=a?.errors;if(o!=null){let d=i.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);Ys(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(a)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:x,errors:j}=a,_=p.route.loader&&!x.hasOwnProperty(p.route.id)&&(!j||j[p.route.id]===void 0);if(p.route.lazy||_){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let m=a&&r?(d,p)=>{r(d,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:sg(a.matches),errorInfo:p})}:void 0;return i.reduceRight((d,p,x)=>{let j,_=!1,S=null,v=null;a&&(j=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||rU,l&&(c<0&&x===0?(MR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,v=null):c===x&&(_=!0,v=p.route.hydrateFallbackElement||null)));let y=s.concat(i.slice(0,x+1)),N=()=>{let C;return j?C=S:_?C=v:p.route.Component?C=g.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=d,g.createElement(iU,{match:p,routeContext:{outlet:d,matches:y,isDataRoute:a!=null},children:C})};return a&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?g.createElement(TR,{location:a.location,revalidation:a.revalidation,component:S,error:j,children:N(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:m}):N()},null)}function Qw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lU(t){let s=g.useContext(ju);return Ys(s,Qw(t)),s}function cU(t){let s=g.useContext(ag);return Ys(s,Qw(t)),s}function dU(t){let s=g.useContext(io);return Ys(s,Qw(t)),s}function Zw(t){let s=dU(t),a=s.matches[s.matches.length-1];return Ys(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function uU(){return Zw("useRouteId")}function mU(){let t=g.useContext(Kw),s=cU("useRouteError"),a=Zw("useRouteError");return t!==void 0?t:s.errors?.[a]}function pU(){let{router:t}=lU("useNavigate"),s=Zw("useNavigate"),a=g.useRef(!1);return ER(()=>{a.current=!0}),g.useCallback(async(n,i={})=>{gr(a.current,kR),a.current&&(typeof n=="number"?await t.navigate(n):await t.navigate(n,{fromRouteId:s,...i}))},[t,s])}var LP={};function MR(t,s,a){!s&&!LP[t]&&(LP[t]=!0,gr(!1,a))}var $P={};function zP(t,s){!t&&!$P[s]&&($P[s]=!0,console.warn(s))}var hU="useOptimistic",qP=mx[hU],fU=()=>{};function xU(t){return qP?qP(t):[t,fU]}function gU(t){let s={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&gr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(s,{element:g.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&gr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(s,{hydrateFallbackElement:g.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&gr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(s,{errorElement:g.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),s}var bU=["HydrateFallback","hydrateFallbackElement"],yU=class{constructor(){this.status="pending",this.promise=new Promise((t,s)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",t(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",s(a))}})}};function vU({router:t,flushSync:s,onError:a,unstable_useTransitions:r}){r=WB()||r;let[i,o]=g.useState(t.state),[l,c]=xU(i),[m,d]=g.useState(),[p,x]=g.useState({isTransitioning:!1}),[j,_]=g.useState(),[S,v]=g.useState(),[y,N]=g.useState(),C=g.useRef(new Map),P=g.useCallback((A,{deletedFetchers:I,newErrors:F,flushSync:z,viewTransitionOpts:O})=>{F&&a&&Object.values(F).forEach(W=>a(W,{location:A.location,params:A.matches[0]?.params??{},unstable_pattern:sg(A.matches)})),A.fetchers.forEach((W,B)=>{W.data!==void 0&&C.current.set(B,W.data)}),I.forEach(W=>C.current.delete(W)),zP(z===!1||s!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let K=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(zP(O==null||K,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!O||!K){s&&z?s(()=>o(A)):r===!1?o(A):g.startTransition(()=>{r===!0&&c(W=>BP(W,A)),o(A)});return}if(s&&z){s(()=>{S&&(j?.resolve(),S.skipTransition()),x({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let W=t.window.document.startViewTransition(()=>{s(()=>o(A))});W.finished.finally(()=>{s(()=>{_(void 0),v(void 0),d(void 0),x({isTransitioning:!1})})}),s(()=>v(W));return}S?(j?.resolve(),S.skipTransition(),N({state:A,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(d(A),x({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[t.window,s,S,j,r,c,a]);g.useLayoutEffect(()=>t.subscribe(P),[t,P]),g.useEffect(()=>{p.isTransitioning&&!p.flushSync&&_(new yU)},[p]),g.useEffect(()=>{if(j&&m&&t.window){let A=m,I=j.promise,F=t.window.document.startViewTransition(async()=>{r===!1?o(A):g.startTransition(()=>{r===!0&&c(z=>BP(z,A)),o(A)}),await I});F.finished.finally(()=>{_(void 0),v(void 0),d(void 0),x({isTransitioning:!1})}),v(F)}},[m,j,t.window,r,c]),g.useEffect(()=>{j&&m&&l.location.key===m.location.key&&j.resolve()},[j,S,l.location,m]),g.useEffect(()=>{!p.isTransitioning&&y&&(d(y.state),x({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),N(void 0))},[p.isTransitioning,y]);let E=g.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,I,F)=>t.navigate(A,{state:I,preventScrollReset:F?.preventScrollReset}),replace:(A,I,F)=>t.navigate(A,{replace:!0,state:I,preventScrollReset:F?.preventScrollReset})}),[t]),D=t.basename||"/",T=g.useMemo(()=>({router:t,navigator:E,static:!1,basename:D,onError:a}),[t,E,D,a]);return g.createElement(g.Fragment,null,g.createElement(ju.Provider,{value:T},g.createElement(ag.Provider,{value:l},g.createElement(CR.Provider,{value:C.current},g.createElement(Gw.Provider,{value:p},g.createElement(SU,{basename:D,location:l.location,navigationType:l.historyAction,navigator:E,unstable_useTransitions:r},g.createElement(jU,{routes:t.routes,future:t.future,state:l,onError:a})))))),null)}function BP(t,s){return{...t,navigation:s.navigation.state!=="idle"?s.navigation:t.navigation,revalidation:s.revalidation!=="idle"?s.revalidation:t.revalidation,actionData:s.navigation.state!=="submitting"?s.actionData:t.actionData,fetchers:s.fetchers}}var jU=g.memo(NU);function NU({routes:t,future:s,state:a,onError:r}){return sU(t,void 0,a,r,s)}function _U({to:t,replace:s,state:a,relative:r}){Ys(_p(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=g.useContext(bi);gr(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=g.useContext(io),{pathname:o}=yi(),l=Fs(),c=sv(t,tv(i),o,r==="path"),m=JSON.stringify(c);return g.useEffect(()=>{l(JSON.parse(m),{replace:s,state:a,relative:r})},[l,m,r,s,a]),null}function wU(t){return tU(t.context)}function SU({basename:t="/",children:s=null,location:a,navigationType:r="POP",navigator:n,static:i=!1,unstable_useTransitions:o}){Ys(!_p(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:n,static:i,unstable_useTransitions:o,future:{}}),[l,n,i,o]);typeof a=="string"&&(a=ad(a));let{pathname:m="/",search:d="",hash:p="",state:x=null,key:j="default"}=a,_=g.useMemo(()=>{let S=Ji(m,l);return S==null?null:{location:{pathname:S,search:d,hash:p,state:x,key:j},navigationType:r}},[l,m,d,p,x,j,r]);return gr(_!=null,`<Router basename="${l}"> is not able to match the URL "${m}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:g.createElement(bi.Provider,{value:c},g.createElement(av.Provider,{children:s,value:_}))}var $b="get",zb="application/x-www-form-urlencoded";function rv(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function CU(t){return rv(t)&&t.tagName.toLowerCase()==="button"}function PU(t){return rv(t)&&t.tagName.toLowerCase()==="form"}function kU(t){return rv(t)&&t.tagName.toLowerCase()==="input"}function EU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TU(t,s){return t.button===0&&(!s||s==="_self")&&!EU(t)}var K0=null;function MU(){if(K0===null)try{new FormData(document.createElement("form"),0),K0=!1}catch{K0=!0}return K0}var DU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function U2(t){return t!=null&&!DU.has(t)?(gr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zb}"`),null):t}function RU(t,s){let a,r,n,i,o;if(PU(t)){let l=t.getAttribute("action");r=l?Ji(l,s):null,a=t.getAttribute("method")||$b,n=U2(t.getAttribute("enctype"))||zb,i=new FormData(t)}else if(CU(t)||kU(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?Ji(c,s):null,a=t.getAttribute("formmethod")||l.getAttribute("method")||$b,n=U2(t.getAttribute("formenctype"))||U2(l.getAttribute("enctype"))||zb,i=new FormData(l,t),!MU()){let{name:m,type:d,value:p}=t;if(d==="image"){let x=m?`${m}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else m&&i.append(m,p)}}else{if(rv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=$b,r=null,n=zb,o=t}return i&&n==="text/plain"&&(o=i,i=void 0),{action:r,method:a.toLowerCase(),encType:n,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xw(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function AU(t,s,a,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a?n.pathname.endsWith("/")?n.pathname=`${n.pathname}_.${r}`:n.pathname=`${n.pathname}.${r}`:n.pathname==="/"?n.pathname=`_root.${r}`:s&&Ji(n.pathname,s)==="/"?n.pathname=`${s.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function IU(t,s){if(t.id in s)return s[t.id];try{let a=await import(t.module);return s[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function FU(t,s,a){let r=await Promise.all(t.map(async n=>{let i=s.routes[n.route.id];if(i){let o=await IU(i,a);return o.links?o.links():[]}return[]}));return qU(r.flat(1).filter(OU).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function UP(t,s,a,r,n,i){let o=(c,m)=>a[m]?c.route.id!==a[m].route.id:!0,l=(c,m)=>a[m].pathname!==c.pathname||a[m].route.path?.endsWith("*")&&a[m].params["*"]!==c.params["*"];return i==="assets"?s.filter((c,m)=>o(c,m)||l(c,m)):i==="data"?s.filter((c,m)=>{let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,m)||l(c,m))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function LU(t,s,{includeHydrateFallback:a}={}){return $U(t.map(r=>{let n=s.routes[r.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),a&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function $U(t){return[...new Set(t)]}function zU(t){let s={},a=Object.keys(t).sort();for(let r of a)s[r]=t[r];return s}function qU(t,s){let a=new Set;return new Set(s),t.reduce((r,n)=>{let i=JSON.stringify(zU(n));return a.has(i)||(a.add(i),r.push({key:i,link:n})),r},[])}function DR(){let t=g.useContext(ju);return Xw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function BU(){let t=g.useContext(ag);return Xw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Jw=g.createContext(void 0);Jw.displayName="FrameworkContext";function RR(){let t=g.useContext(Jw);return Xw(t,"You must render this element inside a <HydratedRouter> element"),t}function UU(t,s){let a=g.useContext(Jw),[r,n]=g.useState(!1),[i,o]=g.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:m,onMouseLeave:d,onTouchStart:p}=s,x=g.useRef(null);g.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=y=>{y.forEach(N=>{o(N.isIntersecting)})},v=new IntersectionObserver(S,{threshold:.5});return x.current&&v.observe(x.current),()=>{v.disconnect()}}},[t]),g.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let j=()=>{n(!0)},_=()=>{n(!1),o(!1)};return a?t!=="intent"?[i,x,{}]:[i,x,{onFocus:Lh(l,j),onBlur:Lh(c,_),onMouseEnter:Lh(m,j),onMouseLeave:Lh(d,_),onTouchStart:Lh(p,j)}]:[!1,x,{}]}function Lh(t,s){return a=>{t&&t(a),a.defaultPrevented||s(a)}}function VU({page:t,...s}){let{router:a}=DR(),r=g.useMemo(()=>kc(a.routes,t,a.basename),[a.routes,t,a.basename]);return r?g.createElement(WU,{page:t,matches:r,...s}):null}function HU(t){let{manifest:s,routeModules:a}=RR(),[r,n]=g.useState([]);return g.useEffect(()=>{let i=!1;return FU(t,s,a).then(o=>{i||n(o)}),()=>{i=!0}},[t,s,a]),r}function WU({page:t,matches:s,...a}){let r=yi(),{future:n,manifest:i,routeModules:o}=RR(),{basename:l}=DR(),{loaderData:c,matches:m}=BU(),d=g.useMemo(()=>UP(t,s,m,i,r,"data"),[t,s,m,i,r]),p=g.useMemo(()=>UP(t,s,m,i,r,"assets"),[t,s,m,i,r]),x=g.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,v=!1;if(s.forEach(N=>{let C=i.routes[N.route.id];!C||!C.hasLoader||(!d.some(P=>P.route.id===N.route.id)&&N.route.id in c&&o[N.route.id]?.shouldRevalidate||C.hasClientLoader?v=!0:S.add(N.route.id))}),S.size===0)return[];let y=AU(t,l,n.unstable_trailingSlashAwareDataRequests,"data");return v&&S.size>0&&y.searchParams.set("_routes",s.filter(N=>S.has(N.route.id)).map(N=>N.route.id).join(",")),[y.pathname+y.search]},[l,n.unstable_trailingSlashAwareDataRequests,c,r,i,d,s,t,o]),j=g.useMemo(()=>LU(p,i),[p,i]),_=HU(p);return g.createElement(g.Fragment,null,x.map(S=>g.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...a})),j.map(S=>g.createElement("link",{key:S,rel:"modulepreload",href:S,...a})),_.map(({key:S,link:v})=>g.createElement("link",{key:S,nonce:a.nonce,...v,crossOrigin:v.crossOrigin??a.crossOrigin})))}function YU(...t){return s=>{t.forEach(a=>{typeof a=="function"?a(s):a!=null&&(a.current=s)})}}var GU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GU&&(window.__reactRouterVersion="7.13.0")}catch{}function KU(t,s){return jB({basename:s?.basename,getContext:s?.getContext,future:s?.future,history:Fq({window:s?.window}),hydrationData:s?.hydrationData||QU(),routes:t,mapRouteProperties:gU,hydrationRouteProperties:bU,dataStrategy:s?.dataStrategy,patchRoutesOnNavigation:s?.patchRoutesOnNavigation,window:s?.window,unstable_instrumentations:s?.unstable_instrumentations}).initialize()}function QU(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:ZU(t.errors)}),t}function ZU(t){if(!t)return null;let s=Object.entries(t),a={};for(let[r,n]of s)if(n&&n.__type==="RouteErrorResponse")a[r]=new tg(n.status,n.statusText,n.data,n.internal===!0);else if(n&&n.__type==="Error"){if(n.__subType){let i=window[n.__subType];if(typeof i=="function")try{let o=new i(n.message);o.stack="",a[r]=o}catch{}}if(a[r]==null){let i=new Error(n.message);i.stack="",a[r]=i}}else a[r]=n;return a}var AR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xx=g.forwardRef(function({onClick:s,discover:a="render",prefetch:r="none",relative:n,reloadDocument:i,replace:o,state:l,target:c,to:m,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:x,...j},_){let{basename:S,unstable_useTransitions:v}=g.useContext(bi),y=typeof m=="string"&&AR.test(m),N=pR(m,S);m=N.to;let C=XB(m,{relative:n}),[P,E,D]=UU(r,j),T=tV(m,{replace:o,state:l,target:c,preventScrollReset:d,relative:n,viewTransition:p,unstable_defaultShouldRevalidate:x,unstable_useTransitions:v});function A(F){s&&s(F),F.defaultPrevented||T(F)}let I=g.createElement("a",{...j,...D,href:N.absoluteURL||C,onClick:N.isExternal||i?s:A,ref:YU(_,E),target:c,"data-discover":!y&&a==="render"?"true":void 0});return P&&!y?g.createElement(g.Fragment,null,I,g.createElement(VU,{page:C})):I});xx.displayName="Link";var XU=g.forwardRef(function({"aria-current":s="page",caseSensitive:a=!1,className:r="",end:n=!1,style:i,to:o,viewTransition:l,children:c,...m},d){let p=rg(o,{relative:m.relative}),x=yi(),j=g.useContext(ag),{navigator:_,basename:S}=g.useContext(bi),v=j!=null&&iV(p)&&l===!0,y=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,N=x.pathname,C=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;a||(N=N.toLowerCase(),C=C?C.toLowerCase():null,y=y.toLowerCase()),C&&S&&(C=Ji(C,S)||C);const P=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let E=N===y||!n&&N.startsWith(y)&&N.charAt(P)==="/",D=C!=null&&(C===y||!n&&C.startsWith(y)&&C.charAt(y.length)==="/"),T={isActive:E,isPending:D,isTransitioning:v},A=E?s:void 0,I;typeof r=="function"?I=r(T):I=[r,E?"active":null,D?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let F=typeof i=="function"?i(T):i;return g.createElement(xx,{...m,"aria-current":A,className:I,ref:d,style:F,to:o,viewTransition:l},typeof c=="function"?c(T):c)});XU.displayName="NavLink";var JU=g.forwardRef(({discover:t="render",fetcherKey:s,navigate:a,reloadDocument:r,replace:n,state:i,method:o=$b,action:l,onSubmit:c,relative:m,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:x,...j},_)=>{let{unstable_useTransitions:S}=g.useContext(bi),v=rV(),y=nV(l,{relative:m}),N=o.toLowerCase()==="get"?"get":"post",C=typeof l=="string"&&AR.test(l),P=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let D=E.nativeEvent.submitter,T=D?.getAttribute("formmethod")||o,A=()=>v(D||E.currentTarget,{fetcherKey:s,method:T,navigate:a,replace:n,state:i,relative:m,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:x});S&&a!==!1?g.startTransition(()=>A()):A()};return g.createElement("form",{ref:_,method:N,action:y,onSubmit:r?c:P,...j,"data-discover":!C&&t==="render"?"true":void 0})});JU.displayName="Form";function eV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IR(t){let s=g.useContext(ju);return Ys(s,eV(t)),s}function tV(t,{target:s,replace:a,state:r,preventScrollReset:n,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let m=Fs(),d=yi(),p=rg(t,{relative:i});return g.useCallback(x=>{if(TU(x,s)){x.preventDefault();let j=a!==void 0?a:al(d)===al(p),_=()=>m(t,{replace:j,state:r,preventScrollReset:n,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l});c?g.startTransition(()=>_()):_()}},[d,m,p,a,r,s,t,n,i,o,l,c])}var sV=0,aV=()=>`__${String(++sV)}__`;function rV(){let{router:t}=IR("useSubmit"),{basename:s}=g.useContext(bi),a=uU(),r=t.fetch,n=t.navigate;return g.useCallback(async(i,o={})=>{let{action:l,method:c,encType:m,formData:d,body:p}=RU(i,s);if(o.navigate===!1){let x=o.fetcherKey||aV();await r(x,a,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await n(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:a,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,n,s,a])}function nV(t,{relative:s}={}){let{basename:a}=g.useContext(bi),r=g.useContext(io);Ys(r,"useFormAction must be used inside a RouteContext");let[n]=r.matches.slice(-1),i={...rg(t||".",{relative:s})},o=yi();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let d=l.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(i.pathname=i.pathname==="/"?a:Xo([a,i.pathname])),al(i)}function iV(t,{relative:s}={}){let a=g.useContext(Gw);Ys(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=IR("useViewTransitionState"),n=rg(t,{relative:s});if(!a.isTransitioning)return!1;let i=Ji(a.currentLocation.pathname,r)||a.currentLocation.pathname,o=Ji(a.nextLocation.pathname,r)||a.nextLocation.pathname;return hy(n.pathname,o)!=null||hy(n.pathname,i)!=null}var ng=nR();const uf=no(ng);function oV(t){return g.createElement(vU,{flushSync:ng.flushSync,...t})}class lV{TOKEN_KEY="dcc_sfa_token";USER_KEY="dcc_sfa_user";EXPIRES_KEY="dcc_sfa_expires";setToken(s,a,r){try{if(localStorage.setItem(this.TOKEN_KEY,s),localStorage.setItem(this.USER_KEY,JSON.stringify(a)),r){const n=Date.now()+r*1e3;localStorage.setItem(this.EXPIRES_KEY,n.toString())}window.dispatchEvent(new Event("auth-change"))}catch(n){throw console.error("Failed to store token:",n),new Error("Token storage failed")}}getToken(){try{const s=localStorage.getItem(this.TOKEN_KEY);return s?this.isTokenExpired()?(this.clearAuth(),null):s:null}catch(s){return console.error("Failed to retrieve token:",s),null}}getUser(){try{const s=localStorage.getItem(this.USER_KEY);return s?JSON.parse(s):null}catch(s){return console.error("Failed to retrieve user data:",s),null}}isTokenExpired(){try{const s=localStorage.getItem(this.EXPIRES_KEY);if(!s)return!1;const a=parseInt(s);return Date.now()>=a}catch(s){return console.error("Failed to check token expiration:",s),!0}}isAuthenticated(){const s=this.getToken(),a=this.getUser();return!!(s&&a&&!this.isTokenExpired())}clearAuth(){try{localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_KEY),localStorage.removeItem(this.EXPIRES_KEY),window.dispatchEvent(new Event("auth-change"))}catch(s){console.error("Failed to clear auth data:",s)}}}const Yi=new lV,cV=({children:t})=>{const s=yi();return Yi.isAuthenticated()?e.jsx(e.Fragment,{children:t}):e.jsx(_U,{to:"/login",state:{from:s},replace:!0})},gx={black:"#000",white:"#fff"},mm={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},pm={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},hm={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},fm={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},xm={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},$h={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},dV={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Gl(t,...s){const a=new URL(`https://mui.com/production-error/?code=${t}`);return s.forEach(r=>a.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${a} for the full message.`}const Gi="$$material";function je(){return je=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},je.apply(null,arguments)}function uV(t){if(t.sheet)return t.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===t)return document.styleSheets[s]}function mV(t){var s=document.createElement("style");return s.setAttribute("data-emotion",t.key),t.nonce!==void 0&&s.setAttribute("nonce",t.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var pV=(function(){function t(a){var r=this;this._insertTag=function(n){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(n,i),r.tags.push(n)},this.isSpeedy=a.speedy===void 0?!0:a.speedy,this.tags=[],this.ctr=0,this.nonce=a.nonce,this.key=a.key,this.container=a.container,this.prepend=a.prepend,this.insertionPoint=a.insertionPoint,this.before=null}var s=t.prototype;return s.hydrate=function(r){r.forEach(this._insertTag)},s.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mV(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var i=uV(n);try{i.insertRule(r,i.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(r));this.ctr++},s.flush=function(){this.tags.forEach(function(r){var n;return(n=r.parentNode)==null?void 0:n.removeChild(r)}),this.tags=[],this.ctr=0},t})(),sn="-ms-",fy="-moz-",ua="-webkit-",OR="comm",e4="rule",t4="decl",hV="@import",FR="@keyframes",fV="@layer",xV=Math.abs,nv=String.fromCharCode,gV=Object.assign;function bV(t,s){return Yr(t,0)^45?(((s<<2^Yr(t,0))<<2^Yr(t,1))<<2^Yr(t,2))<<2^Yr(t,3):0}function LR(t){return t.trim()}function yV(t,s){return(t=s.exec(t))?t[0]:t}function ma(t,s,a){return t.replace(s,a)}function d_(t,s){return t.indexOf(s)}function Yr(t,s){return t.charCodeAt(s)|0}function bx(t,s,a){return t.slice(s,a)}function Lo(t){return t.length}function s4(t){return t.length}function Q0(t,s){return s.push(t),t}function vV(t,s){return t.map(s).join("")}var iv=1,ep=1,$R=0,Un=0,wr=0,wp="";function ov(t,s,a,r,n,i,o){return{value:t,root:s,parent:a,type:r,props:n,children:i,line:iv,column:ep,length:o,return:""}}function zh(t,s){return gV(ov("",null,null,"",null,null,0),t,{length:-t.length},s)}function jV(){return wr}function NV(){return wr=Un>0?Yr(wp,--Un):0,ep--,wr===10&&(ep=1,iv--),wr}function pi(){return wr=Un<$R?Yr(wp,Un++):0,ep++,wr===10&&(ep=1,iv++),wr}function Jo(){return Yr(wp,Un)}function qb(){return Un}function ig(t,s){return bx(wp,t,s)}function yx(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zR(t){return iv=ep=1,$R=Lo(wp=t),Un=0,[]}function qR(t){return wp="",t}function Bb(t){return LR(ig(Un-1,u_(t===91?t+2:t===40?t+1:t)))}function _V(t){for(;(wr=Jo())&&wr<33;)pi();return yx(t)>2||yx(wr)>3?"":" "}function wV(t,s){for(;--s&&pi()&&!(wr<48||wr>102||wr>57&&wr<65||wr>70&&wr<97););return ig(t,qb()+(s<6&&Jo()==32&&pi()==32))}function u_(t){for(;pi();)switch(wr){case t:return Un;case 34:case 39:t!==34&&t!==39&&u_(wr);break;case 40:t===41&&u_(t);break;case 92:pi();break}return Un}function SV(t,s){for(;pi()&&t+wr!==57;)if(t+wr===84&&Jo()===47)break;return"/*"+ig(s,Un-1)+"*"+nv(t===47?t:pi())}function CV(t){for(;!yx(Jo());)pi();return ig(t,Un)}function PV(t){return qR(Ub("",null,null,null,[""],t=zR(t),0,[0],t))}function Ub(t,s,a,r,n,i,o,l,c){for(var m=0,d=0,p=o,x=0,j=0,_=0,S=1,v=1,y=1,N=0,C="",P=n,E=i,D=r,T=C;v;)switch(_=N,N=pi()){case 40:if(_!=108&&Yr(T,p-1)==58){d_(T+=ma(Bb(N),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:T+=Bb(N);break;case 9:case 10:case 13:case 32:T+=_V(_);break;case 92:T+=wV(qb()-1,7);continue;case 47:switch(Jo()){case 42:case 47:Q0(kV(SV(pi(),qb()),s,a),c);break;default:T+="/"}break;case 123*S:l[m++]=Lo(T)*y;case 125*S:case 59:case 0:switch(N){case 0:case 125:v=0;case 59+d:y==-1&&(T=ma(T,/\f/g,"")),j>0&&Lo(T)-p&&Q0(j>32?HP(T+";",r,a,p-1):HP(ma(T," ","")+";",r,a,p-2),c);break;case 59:T+=";";default:if(Q0(D=VP(T,s,a,m,d,n,l,C,P=[],E=[],p),i),N===123)if(d===0)Ub(T,s,D,D,P,i,p,l,E);else switch(x===99&&Yr(T,3)===110?100:x){case 100:case 108:case 109:case 115:Ub(t,D,D,r&&Q0(VP(t,D,D,0,0,n,l,C,n,P=[],p),E),n,E,p,l,r?P:E);break;default:Ub(T,D,D,D,[""],E,0,l,E)}}m=d=j=0,S=y=1,C=T="",p=o;break;case 58:p=1+Lo(T),j=_;default:if(S<1){if(N==123)--S;else if(N==125&&S++==0&&NV()==125)continue}switch(T+=nv(N),N*S){case 38:y=d>0?1:(T+="\f",-1);break;case 44:l[m++]=(Lo(T)-1)*y,y=1;break;case 64:Jo()===45&&(T+=Bb(pi())),x=Jo(),d=p=Lo(C=T+=CV(qb())),N++;break;case 45:_===45&&Lo(T)==2&&(S=0)}}return i}function VP(t,s,a,r,n,i,o,l,c,m,d){for(var p=n-1,x=n===0?i:[""],j=s4(x),_=0,S=0,v=0;_<r;++_)for(var y=0,N=bx(t,p+1,p=xV(S=o[_])),C=t;y<j;++y)(C=LR(S>0?x[y]+" "+N:ma(N,/&\f/g,x[y])))&&(c[v++]=C);return ov(t,s,a,n===0?e4:l,c,m,d)}function kV(t,s,a){return ov(t,s,a,OR,nv(jV()),bx(t,2,-2),0)}function HP(t,s,a,r){return ov(t,s,a,t4,bx(t,0,r),bx(t,r+1,-1),r)}function Ym(t,s){for(var a="",r=s4(t),n=0;n<r;n++)a+=s(t[n],n,t,s)||"";return a}function EV(t,s,a,r){switch(t.type){case fV:if(t.children.length)break;case hV:case t4:return t.return=t.return||t.value;case OR:return"";case FR:return t.return=t.value+"{"+Ym(t.children,r)+"}";case e4:t.value=t.props.join(",")}return Lo(a=Ym(t.children,r))?t.return=t.value+"{"+a+"}":""}function TV(t){var s=s4(t);return function(a,r,n,i){for(var o="",l=0;l<s;l++)o+=t[l](a,r,n,i)||"";return o}}function MV(t){return function(s){s.root||(s=s.return)&&t(s)}}function BR(t){var s=Object.create(null);return function(a){return s[a]===void 0&&(s[a]=t(a)),s[a]}}var DV=function(s,a,r){for(var n=0,i=0;n=i,i=Jo(),n===38&&i===12&&(a[r]=1),!yx(i);)pi();return ig(s,Un)},RV=function(s,a){var r=-1,n=44;do switch(yx(n)){case 0:n===38&&Jo()===12&&(a[r]=1),s[r]+=DV(Un-1,a,r);break;case 2:s[r]+=Bb(n);break;case 4:if(n===44){s[++r]=Jo()===58?"&\f":"",a[r]=s[r].length;break}default:s[r]+=nv(n)}while(n=pi());return s},AV=function(s,a){return qR(RV(zR(s),a))},WP=new WeakMap,IV=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var a=s.value,r=s.parent,n=s.column===r.column&&s.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(s.props.length===1&&a.charCodeAt(0)!==58&&!WP.get(r))&&!n){WP.set(s,!0);for(var i=[],o=AV(a,i),l=r.props,c=0,m=0;c<o.length;c++)for(var d=0;d<l.length;d++,m++)s.props[m]=i[c]?o[c].replace(/&\f/g,l[d]):l[d]+" "+o[c]}}},OV=function(s){if(s.type==="decl"){var a=s.value;a.charCodeAt(0)===108&&a.charCodeAt(2)===98&&(s.return="",s.value="")}};function UR(t,s){switch(bV(t,s)){case 5103:return ua+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ua+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ua+t+fy+t+sn+t+t;case 6828:case 4268:return ua+t+sn+t+t;case 6165:return ua+t+sn+"flex-"+t+t;case 5187:return ua+t+ma(t,/(\w+).+(:[^]+)/,ua+"box-$1$2"+sn+"flex-$1$2")+t;case 5443:return ua+t+sn+"flex-item-"+ma(t,/flex-|-self/,"")+t;case 4675:return ua+t+sn+"flex-line-pack"+ma(t,/align-content|flex-|-self/,"")+t;case 5548:return ua+t+sn+ma(t,"shrink","negative")+t;case 5292:return ua+t+sn+ma(t,"basis","preferred-size")+t;case 6060:return ua+"box-"+ma(t,"-grow","")+ua+t+sn+ma(t,"grow","positive")+t;case 4554:return ua+ma(t,/([^-])(transform)/g,"$1"+ua+"$2")+t;case 6187:return ma(ma(ma(t,/(zoom-|grab)/,ua+"$1"),/(image-set)/,ua+"$1"),t,"")+t;case 5495:case 3959:return ma(t,/(image-set\([^]*)/,ua+"$1$`$1");case 4968:return ma(ma(t,/(.+:)(flex-)?(.*)/,ua+"box-pack:$3"+sn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ua+t+t;case 4095:case 3583:case 4068:case 2532:return ma(t,/(.+)-inline(.+)/,ua+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Lo(t)-1-s>6)switch(Yr(t,s+1)){case 109:if(Yr(t,s+4)!==45)break;case 102:return ma(t,/(.+:)(.+)-([^]+)/,"$1"+ua+"$2-$3$1"+fy+(Yr(t,s+3)==108?"$3":"$2-$3"))+t;case 115:return~d_(t,"stretch")?UR(ma(t,"stretch","fill-available"),s)+t:t}break;case 4949:if(Yr(t,s+1)!==115)break;case 6444:switch(Yr(t,Lo(t)-3-(~d_(t,"!important")&&10))){case 107:return ma(t,":",":"+ua)+t;case 101:return ma(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ua+(Yr(t,14)===45?"inline-":"")+"box$3$1"+ua+"$2$3$1"+sn+"$2box$3")+t}break;case 5936:switch(Yr(t,s+11)){case 114:return ua+t+sn+ma(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ua+t+sn+ma(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ua+t+sn+ma(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ua+t+sn+t+t}return t}var FV=function(s,a,r,n){if(s.length>-1&&!s.return)switch(s.type){case t4:s.return=UR(s.value,s.length);break;case FR:return Ym([zh(s,{value:ma(s.value,"@","@"+ua)})],n);case e4:if(s.length)return vV(s.props,function(i){switch(yV(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ym([zh(s,{props:[ma(i,/:(read-\w+)/,":"+fy+"$1")]})],n);case"::placeholder":return Ym([zh(s,{props:[ma(i,/:(plac\w+)/,":"+ua+"input-$1")]}),zh(s,{props:[ma(i,/:(plac\w+)/,":"+fy+"$1")]}),zh(s,{props:[ma(i,/:(plac\w+)/,sn+"input-$1")]})],n)}return""})}},LV=[FV],$V=function(s){var a=s.key;if(a==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var v=S.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var n=s.stylisPlugins||LV,i={},o,l=[];o=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+a+' "]'),function(S){for(var v=S.getAttribute("data-emotion").split(" "),y=1;y<v.length;y++)i[v[y]]=!0;l.push(S)});var c,m=[IV,OV];{var d,p=[EV,MV(function(S){d.insert(S)})],x=TV(m.concat(n,p)),j=function(v){return Ym(PV(v),x)};c=function(v,y,N,C){d=N,j(v?v+"{"+y.styles+"}":y.styles),C&&(_.inserted[y.name]=!0)}}var _={key:a,sheet:new pV({key:a,container:o,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:i,registered:{},insert:c};return _.sheet.hydrate(l),_},V2={exports:{}},fa={};var YP;function zV(){if(YP)return fa;YP=1;var t=typeof Symbol=="function"&&Symbol.for,s=t?Symbol.for("react.element"):60103,a=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,n=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,x=t?Symbol.for("react.suspense_list"):60120,j=t?Symbol.for("react.memo"):60115,_=t?Symbol.for("react.lazy"):60116,S=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,y=t?Symbol.for("react.responder"):60118,N=t?Symbol.for("react.scope"):60119;function C(E){if(typeof E=="object"&&E!==null){var D=E.$$typeof;switch(D){case s:switch(E=E.type,E){case c:case m:case r:case i:case n:case p:return E;default:switch(E=E&&E.$$typeof,E){case l:case d:case _:case j:case o:return E;default:return D}}case a:return D}}}function P(E){return C(E)===m}return fa.AsyncMode=c,fa.ConcurrentMode=m,fa.ContextConsumer=l,fa.ContextProvider=o,fa.Element=s,fa.ForwardRef=d,fa.Fragment=r,fa.Lazy=_,fa.Memo=j,fa.Portal=a,fa.Profiler=i,fa.StrictMode=n,fa.Suspense=p,fa.isAsyncMode=function(E){return P(E)||C(E)===c},fa.isConcurrentMode=P,fa.isContextConsumer=function(E){return C(E)===l},fa.isContextProvider=function(E){return C(E)===o},fa.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===s},fa.isForwardRef=function(E){return C(E)===d},fa.isFragment=function(E){return C(E)===r},fa.isLazy=function(E){return C(E)===_},fa.isMemo=function(E){return C(E)===j},fa.isPortal=function(E){return C(E)===a},fa.isProfiler=function(E){return C(E)===i},fa.isStrictMode=function(E){return C(E)===n},fa.isSuspense=function(E){return C(E)===p},fa.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===m||E===i||E===n||E===p||E===x||typeof E=="object"&&E!==null&&(E.$$typeof===_||E.$$typeof===j||E.$$typeof===o||E.$$typeof===l||E.$$typeof===d||E.$$typeof===v||E.$$typeof===y||E.$$typeof===N||E.$$typeof===S)},fa.typeOf=C,fa}var GP;function qV(){return GP||(GP=1,V2.exports=zV()),V2.exports}var H2,KP;function BV(){if(KP)return H2;KP=1;var t=qV(),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},n={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=n;function o(_){return t.isMemo(_)?n:i[_.$$typeof]||s}var l=Object.defineProperty,c=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,x=Object.prototype;function j(_,S,v){if(typeof S!="string"){if(x){var y=p(S);y&&y!==x&&j(_,y,v)}var N=c(S);m&&(N=N.concat(m(S)));for(var C=o(_),P=o(S),E=0;E<N.length;++E){var D=N[E];if(!a[D]&&!(v&&v[D])&&!(P&&P[D])&&!(C&&C[D])){var T=d(S,D);try{l(_,D,T)}catch{}}}}return _}return H2=j,H2}BV();var UV=!0;function VR(t,s,a){var r="";return a.split(" ").forEach(function(n){t[n]!==void 0?s.push(t[n]+";"):n&&(r+=n+" ")}),r}var a4=function(s,a,r){var n=s.key+"-"+a.name;(r===!1||UV===!1)&&s.registered[n]===void 0&&(s.registered[n]=a.styles)},r4=function(s,a,r){a4(s,a,r);var n=s.key+"-"+a.name;if(s.inserted[a.name]===void 0){var i=a;do s.insert(a===i?"."+n:"",i,s.sheet,!0),i=i.next;while(i!==void 0)}};function VV(t){for(var s=0,a,r=0,n=t.length;n>=4;++r,n-=4)a=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,s=(a&65535)*1540483477+((a>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(n){case 3:s^=(t.charCodeAt(r+2)&255)<<16;case 2:s^=(t.charCodeAt(r+1)&255)<<8;case 1:s^=t.charCodeAt(r)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var HV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},WV=/[A-Z]|^ms/g,YV=/_EMO_([^_]+?)_([^]*?)_EMO_/g,HR=function(s){return s.charCodeAt(1)===45},QP=function(s){return s!=null&&typeof s!="boolean"},W2=BR(function(t){return HR(t)?t:t.replace(WV,"-$&").toLowerCase()}),ZP=function(s,a){switch(s){case"animation":case"animationName":if(typeof a=="string")return a.replace(YV,function(r,n,i){return $o={name:n,styles:i,next:$o},n})}return HV[s]!==1&&!HR(s)&&typeof a=="number"&&a!==0?a+"px":a};function vx(t,s,a){if(a==null)return"";var r=a;if(r.__emotion_styles!==void 0)return r;switch(typeof a){case"boolean":return"";case"object":{var n=a;if(n.anim===1)return $o={name:n.name,styles:n.styles,next:$o},n.name;var i=a;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)$o={name:o.name,styles:o.styles,next:$o},o=o.next;var l=i.styles+";";return l}return GV(t,s,a)}case"function":{if(t!==void 0){var c=$o,m=a(t);return $o=c,vx(t,s,m)}break}}var d=a;if(s==null)return d;var p=s[d];return p!==void 0?p:d}function GV(t,s,a){var r="";if(Array.isArray(a))for(var n=0;n<a.length;n++)r+=vx(t,s,a[n])+";";else for(var i in a){var o=a[i];if(typeof o!="object"){var l=o;s!=null&&s[l]!==void 0?r+=i+"{"+s[l]+"}":QP(l)&&(r+=W2(i)+":"+ZP(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(s==null||s[o[0]]===void 0))for(var c=0;c<o.length;c++)QP(o[c])&&(r+=W2(i)+":"+ZP(i,o[c])+";");else{var m=vx(t,s,o);switch(i){case"animation":case"animationName":{r+=W2(i)+":"+m+";";break}default:r+=i+"{"+m+"}"}}}return r}var XP=/label:\s*([^\s;{]+)\s*(;|$)/g,$o;function og(t,s,a){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,n="";$o=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,n+=vx(a,s,i);else{var o=i;n+=o[0]}for(var l=1;l<t.length;l++)if(n+=vx(a,s,t[l]),r){var c=i;n+=c[l]}XP.lastIndex=0;for(var m="",d;(d=XP.exec(n))!==null;)m+="-"+d[1];var p=VV(n)+m;return{name:p,styles:n,next:$o}}var KV=function(s){return s()},WR=mx.useInsertionEffect?mx.useInsertionEffect:!1,YR=WR||KV,JP=WR||g.useLayoutEffect,GR=g.createContext(typeof HTMLElement<"u"?$V({key:"css"}):null);GR.Provider;var n4=function(s){return g.forwardRef(function(a,r){var n=g.useContext(GR);return s(a,n,r)})},lg=g.createContext({}),i4={}.hasOwnProperty,m_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",QV=function(s,a){var r={};for(var n in a)i4.call(a,n)&&(r[n]=a[n]);return r[m_]=s,r},ZV=function(s){var a=s.cache,r=s.serialized,n=s.isStringTag;return a4(a,r,n),YR(function(){return r4(a,r,n)}),null},XV=n4(function(t,s,a){var r=t.css;typeof r=="string"&&s.registered[r]!==void 0&&(r=s.registered[r]);var n=t[m_],i=[r],o="";typeof t.className=="string"?o=VR(s.registered,i,t.className):t.className!=null&&(o=t.className+" ");var l=og(i,void 0,g.useContext(lg));o+=s.key+"-"+l.name;var c={};for(var m in t)i4.call(t,m)&&m!=="css"&&m!==m_&&(c[m]=t[m]);return c.className=o,a&&(c.ref=a),g.createElement(g.Fragment,null,g.createElement(ZV,{cache:s,serialized:l,isStringTag:typeof n=="string"}),g.createElement(n,c))}),JV=XV,ek=function(s,a){var r=arguments;if(a==null||!i4.call(a,"css"))return g.createElement.apply(void 0,r);var n=r.length,i=new Array(n);i[0]=JV,i[1]=QV(s,a);for(var o=2;o<n;o++)i[o]=r[o];return g.createElement.apply(null,i)};(function(t){var s;s||(s=t.JSX||(t.JSX={}))})(ek||(ek={}));var eH=n4(function(t,s){var a=t.styles,r=og([a],void 0,g.useContext(lg)),n=g.useRef();return JP(function(){var i=s.key+"-global",o=new s.sheet.constructor({key:i,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return s.sheet.tags.length&&(o.before=s.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",i),o.hydrate([c])),n.current=[o,l],function(){o.flush()}},[s]),JP(function(){var i=n.current,o=i[0],l=i[1];if(l){i[1]=!1;return}if(r.next!==void 0&&r4(s,r.next,!0),o.tags.length){var c=o.tags[o.tags.length-1].nextElementSibling;o.before=c,o.flush()}s.insert("",r,o,!1)},[s,r.name]),null});function rd(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return og(s)}function il(){var t=rd.apply(void 0,arguments),s="animation-"+t.name;return{name:s,styles:"@keyframes "+s+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var tH=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,sH=BR(function(t){return tH.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),aH=sH,rH=function(s){return s!=="theme"},tk=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?aH:rH},sk=function(s,a,r){var n;if(a){var i=a.shouldForwardProp;n=s.__emotion_forwardProp&&i?function(o){return s.__emotion_forwardProp(o)&&i(o)}:i}return typeof n!="function"&&r&&(n=s.__emotion_forwardProp),n},nH=function(s){var a=s.cache,r=s.serialized,n=s.isStringTag;return a4(a,r,n),YR(function(){return r4(a,r,n)}),null},iH=function t(s,a){var r=s.__emotion_real===s,n=r&&s.__emotion_base||s,i,o;a!==void 0&&(i=a.label,o=a.target);var l=sk(s,a,r),c=l||tk(n),m=!c("as");return function(){var d=arguments,p=r&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(i!==void 0&&p.push("label:"+i+";"),d[0]==null||d[0].raw===void 0)p.push.apply(p,d);else{var x=d[0];p.push(x[0]);for(var j=d.length,_=1;_<j;_++)p.push(d[_],x[_])}var S=n4(function(v,y,N){var C=m&&v.as||n,P="",E=[],D=v;if(v.theme==null){D={};for(var T in v)D[T]=v[T];D.theme=g.useContext(lg)}typeof v.className=="string"?P=VR(y.registered,E,v.className):v.className!=null&&(P=v.className+" ");var A=og(p.concat(E),y.registered,D);P+=y.key+"-"+A.name,o!==void 0&&(P+=" "+o);var I=m&&l===void 0?tk(C):c,F={};for(var z in v)m&&z==="as"||I(z)&&(F[z]=v[z]);return F.className=P,N&&(F.ref=N),g.createElement(g.Fragment,null,g.createElement(nH,{cache:y,serialized:A,isStringTag:typeof C=="string"}),g.createElement(C,F))});return S.displayName=i!==void 0?i:"Styled("+(typeof n=="string"?n:n.displayName||n.name||"Component")+")",S.defaultProps=s.defaultProps,S.__emotion_real=S,S.__emotion_base=n,S.__emotion_styles=p,S.__emotion_forwardProp=l,Object.defineProperty(S,"toString",{value:function(){return"."+o}}),S.withComponent=function(v,y){var N=t(v,je({},a,y,{shouldForwardProp:sk(S,y,!0)}));return N.apply(void 0,p)},S}},oH=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],p_=iH.bind(null);oH.forEach(function(t){p_[t]=p_(t)});var Y2={exports:{}},G2,ak;function lH(){if(ak)return G2;ak=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return G2=t,G2}var K2,rk;function cH(){if(rk)return K2;rk=1;var t=lH();function s(){}function a(){}return a.resetWarningCache=s,K2=function(){function r(o,l,c,m,d,p){if(p!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function n(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:n,element:r,elementType:r,instanceOf:n,node:r,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:a,resetWarningCache:s};return i.PropTypes=i,i},K2}var nk;function dH(){return nk||(nk=1,Y2.exports=cH()()),Y2.exports}var uH=dH();const re=no(uH);function mH(t){return t==null||Object.keys(t).length===0}function KR(t){const{styles:s,defaultTheme:a={}}=t,r=typeof s=="function"?n=>s(mH(n)?a:n):s;return e.jsx(eH,{styles:r})}function QR(t,s){return p_(t,s)}function pH(t,s){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=s(t.__emotion_styles))}const ik=[];function qc(t){return ik[0]=t,og(ik)}var Q2={exports:{}},Ma={};var ok;function hH(){if(ok)return Ma;ok=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),j=Symbol.for("react.client.reference");function _(S){if(typeof S=="object"&&S!==null){var v=S.$$typeof;switch(v){case t:switch(S=S.type,S){case a:case n:case r:case c:case m:case x:return S;default:switch(S=S&&S.$$typeof,S){case o:case l:case p:case d:return S;case i:return S;default:return v}}case s:return v}}}return Ma.ContextConsumer=i,Ma.ContextProvider=o,Ma.Element=t,Ma.ForwardRef=l,Ma.Fragment=a,Ma.Lazy=p,Ma.Memo=d,Ma.Portal=s,Ma.Profiler=n,Ma.StrictMode=r,Ma.Suspense=c,Ma.SuspenseList=m,Ma.isContextConsumer=function(S){return _(S)===i},Ma.isContextProvider=function(S){return _(S)===o},Ma.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Ma.isForwardRef=function(S){return _(S)===l},Ma.isFragment=function(S){return _(S)===a},Ma.isLazy=function(S){return _(S)===p},Ma.isMemo=function(S){return _(S)===d},Ma.isPortal=function(S){return _(S)===s},Ma.isProfiler=function(S){return _(S)===n},Ma.isStrictMode=function(S){return _(S)===r},Ma.isSuspense=function(S){return _(S)===c},Ma.isSuspenseList=function(S){return _(S)===m},Ma.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===a||S===n||S===r||S===c||S===m||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===d||S.$$typeof===o||S.$$typeof===i||S.$$typeof===l||S.$$typeof===j||S.getModuleId!==void 0)},Ma.typeOf=_,Ma}var lk;function fH(){return lk||(lk=1,Q2.exports=hH()),Q2.exports}var ZR=fH();function Bo(t){if(typeof t!="object"||t===null)return!1;const s=Object.getPrototypeOf(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function XR(t){if(g.isValidElement(t)||ZR.isValidElementType(t)||!Bo(t))return t;const s={};return Object.keys(t).forEach(a=>{s[a]=XR(t[a])}),s}function un(t,s,a={clone:!0}){const r=a.clone?{...t}:t;return Bo(t)&&Bo(s)&&Object.keys(s).forEach(n=>{g.isValidElement(s[n])||ZR.isValidElementType(s[n])?r[n]=s[n]:Bo(s[n])&&Object.prototype.hasOwnProperty.call(t,n)&&Bo(t[n])?r[n]=un(t[n],s[n],a):a.clone?r[n]=Bo(s[n])?XR(s[n]):s[n]:r[n]=s[n]}),r}const xH=t=>{const s=Object.keys(t).map(a=>({key:a,val:t[a]}))||[];return s.sort((a,r)=>a.val-r.val),s.reduce((a,r)=>({...a,[r.key]:r.val}),{})};function gH(t){const{values:s={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:a="px",step:r=5,...n}=t,i=xH(s),o=Object.keys(i);function l(x){return`@media (min-width:${typeof s[x]=="number"?s[x]:x}${a})`}function c(x){return`@media (max-width:${(typeof s[x]=="number"?s[x]:x)-r/100}${a})`}function m(x,j){const _=o.indexOf(j);return`@media (min-width:${typeof s[x]=="number"?s[x]:x}${a}) and (max-width:${(_!==-1&&typeof s[o[_]]=="number"?s[o[_]]:j)-r/100}${a})`}function d(x){return o.indexOf(x)+1<o.length?m(x,o[o.indexOf(x)+1]):l(x)}function p(x){const j=o.indexOf(x);return j===0?l(o[1]):j===o.length-1?c(o[j]):m(x,o[o.indexOf(x)+1]).replace("@media","@media not all and")}return{keys:o,values:i,up:l,down:c,between:m,only:d,not:p,unit:a,...n}}function ck(t,s){if(!t.containerQueries)return s;const a=Object.keys(s).filter(r=>r.startsWith("@container")).sort((r,n)=>{const i=/min-width:\s*([0-9.]+)/;return+(r.match(i)?.[1]||0)-+(n.match(i)?.[1]||0)});return a.length?a.reduce((r,n)=>{const i=s[n];return delete r[n],r[n]=i,r},{...s}):s}function bH(t,s){return s==="@"||s.startsWith("@")&&(t.some(a=>s.startsWith(`@${a}`))||!!s.match(/^@\d/))}function yH(t,s){const a=s.match(/^@([^/]+)?\/?(.+)?$/);if(!a)return null;const[,r,n]=a,i=Number.isNaN(+r)?r||0:+r;return t.containerQueries(n).up(i)}function vH(t){const s=(i,o)=>i.replace("@media",o?`@container ${o}`:"@container");function a(i,o){i.up=(...l)=>s(t.breakpoints.up(...l),o),i.down=(...l)=>s(t.breakpoints.down(...l),o),i.between=(...l)=>s(t.breakpoints.between(...l),o),i.only=(...l)=>s(t.breakpoints.only(...l),o),i.not=(...l)=>{const c=s(t.breakpoints.not(...l),o);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},n=i=>(a(r,i),r);return a(n),{...t,containerQueries:n}}const jH={borderRadius:4};function Gf(t,s){return s?un(t,s,{clone:!1}):t}const lv={xs:0,sm:600,md:900,lg:1200,xl:1536},dk={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${lv[t]}px)`},NH={containerQueries:t=>({up:s=>{let a=typeof s=="number"?s:lv[s]||s;return typeof a=="number"&&(a=`${a}px`),t?`@container ${t} (min-width:${a})`:`@container (min-width:${a})`}})};function Kl(t,s,a){const r=t.theme||{};if(Array.isArray(s)){const i=r.breakpoints||dk;return s.reduce((o,l,c)=>(o[i.up(i.keys[c])]=a(s[c]),o),{})}if(typeof s=="object"){const i=r.breakpoints||dk;return Object.keys(s).reduce((o,l)=>{if(bH(i.keys,l)){const c=yH(r.containerQueries?r:NH,l);c&&(o[c]=a(s[l],l))}else if(Object.keys(i.values||lv).includes(l)){const c=i.up(l);o[c]=a(s[l],l)}else{const c=l;o[c]=s[c]}return o},{})}return a(s)}function _H(t={}){return t.keys?.reduce((a,r)=>{const n=t.up(r);return a[n]={},a},{})||{}}function uk(t,s){return t.reduce((a,r)=>{const n=a[r];return(!n||Object.keys(n).length===0)&&delete a[r],a},s)}function Ke(t){if(typeof t!="string")throw new Error(Gl(7));return t.charAt(0).toUpperCase()+t.slice(1)}function zo(t,s,a=!0){if(!s||typeof s!="string")return null;if(t&&t.vars&&a){const r=`vars.${s}`.split(".").reduce((n,i)=>n&&n[i]?n[i]:null,t);if(r!=null)return r}return s.split(".").reduce((r,n)=>r&&r[n]!=null?r[n]:null,t)}function xy(t,s,a,r=a){let n;return typeof t=="function"?n=t(a):Array.isArray(t)?n=t[a]||r:n=zo(t,a)||r,s&&(n=s(n,r,t)),n}function vr(t){const{prop:s,cssProperty:a=t.prop,themeKey:r,transform:n}=t,i=o=>{if(o[s]==null)return null;const l=o[s],c=o.theme,m=zo(c,r)||{};return Kl(o,l,p=>{let x=xy(m,n,p);return p===x&&typeof p=="string"&&(x=xy(m,n,`${s}${p==="default"?"":Ke(p)}`,p)),a===!1?x:{[a]:x}})};return i.propTypes={},i.filterProps=[s],i}function wH(t){const s={};return a=>(s[a]===void 0&&(s[a]=t(a)),s[a])}const SH={m:"margin",p:"padding"},CH={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},mk={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},PH=wH(t=>{if(t.length>2)if(mk[t])t=mk[t];else return[t];const[s,a]=t.split(""),r=SH[s],n=CH[a]||"";return Array.isArray(n)?n.map(i=>r+i):[r+n]}),o4=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],l4=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...o4,...l4];function cg(t,s,a,r){const n=zo(t,s,!0)??a;return typeof n=="number"||typeof n=="string"?i=>typeof i=="string"?i:typeof n=="string"?n.startsWith("var(")&&i===0?0:n.startsWith("var(")&&i===1?n:`calc(${i} * ${n})`:n*i:Array.isArray(n)?i=>{if(typeof i=="string")return i;const o=Math.abs(i),l=n[o];return i>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof n=="function"?n:()=>{}}function c4(t){return cg(t,"spacing",8)}function dg(t,s){return typeof s=="string"||s==null?s:t(s)}function kH(t,s){return a=>t.reduce((r,n)=>(r[n]=dg(s,a),r),{})}function EH(t,s,a,r){if(!s.includes(a))return null;const n=PH(a),i=kH(n,r),o=t[a];return Kl(t,o,i)}function JR(t,s){const a=c4(t.theme);return Object.keys(t).map(r=>EH(t,s,r,a)).reduce(Gf,{})}function sr(t){return JR(t,o4)}sr.propTypes={};sr.filterProps=o4;function ar(t){return JR(t,l4)}ar.propTypes={};ar.filterProps=l4;function e7(t=8,s=c4({spacing:t})){if(t.mui)return t;const a=(...r)=>(r.length===0?[1]:r).map(i=>{const o=s(i);return typeof o=="number"?`${o}px`:o}).join(" ");return a.mui=!0,a}function cv(...t){const s=t.reduce((r,n)=>(n.filterProps.forEach(i=>{r[i]=n}),r),{}),a=r=>Object.keys(r).reduce((n,i)=>s[i]?Gf(n,s[i](r)):n,{});return a.propTypes={},a.filterProps=t.reduce((r,n)=>r.concat(n.filterProps),[]),a}function Bi(t){return typeof t!="number"?t:`${t}px solid`}function oo(t,s){return vr({prop:t,themeKey:"borders",transform:s})}const TH=oo("border",Bi),MH=oo("borderTop",Bi),DH=oo("borderRight",Bi),RH=oo("borderBottom",Bi),AH=oo("borderLeft",Bi),IH=oo("borderColor"),OH=oo("borderTopColor"),FH=oo("borderRightColor"),LH=oo("borderBottomColor"),$H=oo("borderLeftColor"),zH=oo("outline",Bi),qH=oo("outlineColor"),dv=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const s=cg(t.theme,"shape.borderRadius",4),a=r=>({borderRadius:dg(s,r)});return Kl(t,t.borderRadius,a)}return null};dv.propTypes={};dv.filterProps=["borderRadius"];cv(TH,MH,DH,RH,AH,IH,OH,FH,LH,$H,dv,zH,qH);const uv=t=>{if(t.gap!==void 0&&t.gap!==null){const s=cg(t.theme,"spacing",8),a=r=>({gap:dg(s,r)});return Kl(t,t.gap,a)}return null};uv.propTypes={};uv.filterProps=["gap"];const mv=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const s=cg(t.theme,"spacing",8),a=r=>({columnGap:dg(s,r)});return Kl(t,t.columnGap,a)}return null};mv.propTypes={};mv.filterProps=["columnGap"];const pv=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const s=cg(t.theme,"spacing",8),a=r=>({rowGap:dg(s,r)});return Kl(t,t.rowGap,a)}return null};pv.propTypes={};pv.filterProps=["rowGap"];const BH=vr({prop:"gridColumn"}),UH=vr({prop:"gridRow"}),VH=vr({prop:"gridAutoFlow"}),HH=vr({prop:"gridAutoColumns"}),WH=vr({prop:"gridAutoRows"}),YH=vr({prop:"gridTemplateColumns"}),GH=vr({prop:"gridTemplateRows"}),KH=vr({prop:"gridTemplateAreas"}),QH=vr({prop:"gridArea"});cv(uv,mv,pv,BH,UH,VH,HH,WH,YH,GH,KH,QH);function Gm(t,s){return s==="grey"?s:t}const ZH=vr({prop:"color",themeKey:"palette",transform:Gm}),XH=vr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Gm}),JH=vr({prop:"backgroundColor",themeKey:"palette",transform:Gm});cv(ZH,XH,JH);function li(t){return t<=1&&t!==0?`${t*100}%`:t}const eW=vr({prop:"width",transform:li}),d4=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const s=a=>{const r=t.theme?.breakpoints?.values?.[a]||lv[a];return r?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:li(a)}};return Kl(t,t.maxWidth,s)}return null};d4.filterProps=["maxWidth"];const tW=vr({prop:"minWidth",transform:li}),sW=vr({prop:"height",transform:li}),aW=vr({prop:"maxHeight",transform:li}),rW=vr({prop:"minHeight",transform:li});vr({prop:"size",cssProperty:"width",transform:li});vr({prop:"size",cssProperty:"height",transform:li});const nW=vr({prop:"boxSizing"});cv(eW,d4,tW,sW,aW,rW,nW);const ug={border:{themeKey:"borders",transform:Bi},borderTop:{themeKey:"borders",transform:Bi},borderRight:{themeKey:"borders",transform:Bi},borderBottom:{themeKey:"borders",transform:Bi},borderLeft:{themeKey:"borders",transform:Bi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Bi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:dv},color:{themeKey:"palette",transform:Gm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Gm},backgroundColor:{themeKey:"palette",transform:Gm},p:{style:ar},pt:{style:ar},pr:{style:ar},pb:{style:ar},pl:{style:ar},px:{style:ar},py:{style:ar},padding:{style:ar},paddingTop:{style:ar},paddingRight:{style:ar},paddingBottom:{style:ar},paddingLeft:{style:ar},paddingX:{style:ar},paddingY:{style:ar},paddingInline:{style:ar},paddingInlineStart:{style:ar},paddingInlineEnd:{style:ar},paddingBlock:{style:ar},paddingBlockStart:{style:ar},paddingBlockEnd:{style:ar},m:{style:sr},mt:{style:sr},mr:{style:sr},mb:{style:sr},ml:{style:sr},mx:{style:sr},my:{style:sr},margin:{style:sr},marginTop:{style:sr},marginRight:{style:sr},marginBottom:{style:sr},marginLeft:{style:sr},marginX:{style:sr},marginY:{style:sr},marginInline:{style:sr},marginInlineStart:{style:sr},marginInlineEnd:{style:sr},marginBlock:{style:sr},marginBlockStart:{style:sr},marginBlockEnd:{style:sr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:uv},rowGap:{style:pv},columnGap:{style:mv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:li},maxWidth:{style:d4},minWidth:{transform:li},height:{transform:li},maxHeight:{transform:li},minHeight:{transform:li},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function iW(...t){const s=t.reduce((r,n)=>r.concat(Object.keys(n)),[]),a=new Set(s);return t.every(r=>a.size===Object.keys(r).length)}function oW(t,s){return typeof t=="function"?t(s):t}function lW(){function t(a,r,n,i){const o={[a]:r,theme:n},l=i[a];if(!l)return{[a]:r};const{cssProperty:c=a,themeKey:m,transform:d,style:p}=l;if(r==null)return null;if(m==="typography"&&r==="inherit")return{[a]:r};const x=zo(n,m)||{};return p?p(o):Kl(o,r,_=>{let S=xy(x,d,_);return _===S&&typeof _=="string"&&(S=xy(x,d,`${a}${_==="default"?"":Ke(_)}`,_)),c===!1?S:{[c]:S}})}function s(a){const{sx:r,theme:n={},nested:i}=a||{};if(!r)return null;const o=n.unstable_sxConfig??ug;function l(c){let m=c;if(typeof c=="function")m=c(n);else if(typeof c!="object")return c;if(!m)return null;const d=_H(n.breakpoints),p=Object.keys(d);let x=d;return Object.keys(m).forEach(j=>{const _=oW(m[j],n);if(_!=null)if(typeof _=="object")if(o[j])x=Gf(x,t(j,_,n,o));else{const S=Kl({theme:n},_,v=>({[j]:v}));iW(S,_)?x[j]=s({sx:_,theme:n,nested:!0}):x=Gf(x,S)}else x=Gf(x,t(j,_,n,o))}),!i&&n.modularCssLayers?{"@layer sx":ck(n,uk(p,x))}:ck(n,uk(p,x))}return Array.isArray(r)?r.map(l):l(r)}return s}const Yc=lW();Yc.filterProps=["sx"];function cW(t,s){const a=this;if(a.vars){if(!a.colorSchemes?.[t]||typeof a.getColorSchemeSelector!="function")return{};let r=a.getColorSchemeSelector(t);return r==="&"?s:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:s})}return a.palette.mode===t?s:{}}function u4(t={},...s){const{breakpoints:a={},palette:r={},spacing:n,shape:i={},...o}=t,l=gH(a),c=e7(n);let m=un({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...jH,...i}},o);return m=vH(m),m.applyStyles=cW,m=s.reduce((d,p)=>un(d,p),m),m.unstable_sxConfig={...ug,...o?.unstable_sxConfig},m.unstable_sx=function(p){return Yc({sx:p,theme:this})},m}function dW(t){return Object.keys(t).length===0}function hv(t=null){const s=g.useContext(lg);return!s||dW(s)?t:s}const uW=u4();function fv(t=uW){return hv(t)}function Z2(t){const s=qc(t);return t!==s&&s.styles?(s.styles.match(/^@layer\s+[^{]*$/)||(s.styles=`@layer global{${s.styles}}`),s):t}function t7({styles:t,themeId:s,defaultTheme:a={}}){const r=fv(a),n=s&&r[s]||r;let i=typeof t=="function"?t(n):t;return n.modularCssLayers&&(Array.isArray(i)?i=i.map(o=>Z2(typeof o=="function"?o(n):o)):i=Z2(i)),e.jsx(KR,{styles:i})}const mW=t=>{const s={systemProps:{},otherProps:{}},a=t?.theme?.unstable_sxConfig??ug;return Object.keys(t).forEach(r=>{a[r]?s.systemProps[r]=t[r]:s.otherProps[r]=t[r]}),s};function s7(t){const{sx:s,...a}=t,{systemProps:r,otherProps:n}=mW(a);let i;return Array.isArray(s)?i=[r,...s]:typeof s=="function"?i=(...o)=>{const l=s(...o);return Bo(l)?{...r,...l}:r}:i={...r,...s},{...n,sx:i}}const pk=t=>t,pW=()=>{let t=pk;return{configure(s){t=s},generate(s){return t(s)},reset(){t=pk}}},a7=pW();function r7(t){var s,a,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(a=r7(t[s]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a);return r}function Je(){for(var t,s,a=0,r="",n=arguments.length;a<n;a++)(t=arguments[a])&&(s=r7(t))&&(r&&(r+=" "),r+=s);return r}function hW(t={}){const{themeId:s,defaultTheme:a,defaultClassName:r="MuiBox-root",generateClassName:n}=t,i=QR("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Yc);return g.forwardRef(function(c,m){const d=fv(a),{className:p,component:x="div",...j}=s7(c);return e.jsx(i,{as:x,ref:m,className:Je(p,n?n(r):r),theme:s&&d[s]||d,...j})})}const fW={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Tt(t,s,a="Mui"){const r=fW[s];return r?`${a}-${r}`:`${a7.generate(t)}-${s}`}function Et(t,s,a="Mui"){const r={};return s.forEach(n=>{r[n]=Tt(t,n,a)}),r}function n7(t){const{variants:s,...a}=t,r={variants:s,style:qc(a),isProcessed:!0};return r.style===a||s&&s.forEach(n=>{typeof n.style!="function"&&(n.style=qc(n.style))}),r}const xW=u4();function Ln(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Gd(t,s){return s&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${s}{${String(t.styles)}}`),t}function gW(t){return t?(s,a)=>a[t]:null}function bW(t,s,a){t.theme=jW(t.theme)?a:t.theme[s]||t.theme}function Vb(t,s,a){const r=typeof s=="function"?s(t):s;if(Array.isArray(r))return r.flatMap(n=>Vb(t,n,a));if(Array.isArray(r?.variants)){let n;if(r.isProcessed)n=a?Gd(r.style,a):r.style;else{const{variants:i,...o}=r;n=a?Gd(qc(o),a):o}return i7(t,r.variants,[n],a)}return r?.isProcessed?a?Gd(qc(r.style),a):r.style:a?Gd(qc(r),a):r}function i7(t,s,a=[],r=void 0){let n;e:for(let i=0;i<s.length;i+=1){const o=s[i];if(typeof o.props=="function"){if(n??={...t,...t.ownerState,ownerState:t.ownerState},!o.props(n))continue}else for(const l in o.props)if(t[l]!==o.props[l]&&t.ownerState?.[l]!==o.props[l])continue e;typeof o.style=="function"?(n??={...t,...t.ownerState,ownerState:t.ownerState},a.push(r?Gd(qc(o.style(n)),r):o.style(n))):a.push(r?Gd(qc(o.style),r):o.style)}return a}function yW(t={}){const{themeId:s,defaultTheme:a=xW,rootShouldForwardProp:r=Ln,slotShouldForwardProp:n=Ln}=t;function i(l){bW(l,s,a)}return(l,c={})=>{pH(l,D=>D.filter(T=>T!==Yc));const{name:m,slot:d,skipVariantsResolver:p,skipSx:x,overridesResolver:j=gW(_W(d)),..._}=c,S=m&&m.startsWith("Mui")||d?"components":"custom",v=p!==void 0?p:d&&d!=="Root"&&d!=="root"||!1,y=x||!1;let N=Ln;d==="Root"||d==="root"?N=r:d?N=n:NW(l)&&(N=void 0);const C=QR(l,{shouldForwardProp:N,label:vW(),..._}),P=D=>{if(D.__emotion_real===D)return D;if(typeof D=="function")return function(A){return Vb(A,D,A.theme.modularCssLayers?S:void 0)};if(Bo(D)){const T=n7(D);return function(I){return T.variants?Vb(I,T,I.theme.modularCssLayers?S:void 0):I.theme.modularCssLayers?Gd(T.style,S):T.style}}return D},E=(...D)=>{const T=[],A=D.map(P),I=[];if(T.push(i),m&&j&&I.push(function(K){const B=K.theme.components?.[m]?.styleOverrides;if(!B)return null;const q={};for(const H in B)q[H]=Vb(K,B[H],K.theme.modularCssLayers?"theme":void 0);return j(K,q)}),m&&!v&&I.push(function(K){const B=K.theme?.components?.[m]?.variants;return B?i7(K,B,[],K.theme.modularCssLayers?"theme":void 0):null}),y||I.push(Yc),Array.isArray(A[0])){const O=A.shift(),K=new Array(T.length).fill(""),W=new Array(I.length).fill("");let B;B=[...K,...O,...W],B.raw=[...K,...O.raw,...W],T.unshift(B)}const F=[...T,...A,...I],z=C(...F);return l.muiName&&(z.muiName=l.muiName),z};return C.withConfig&&(E.withConfig=C.withConfig),E}}function vW(t,s){return void 0}function jW(t){for(const s in t)return!1;return!0}function NW(t){return typeof t=="string"&&t.charCodeAt(0)>96}function _W(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function jx(t,s,a=!1){const r={...s};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=n;if(i==="components"||i==="slots")r[i]={...t[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],l=s[i];if(!l)r[i]=o||{};else if(!o)r[i]=l;else{r[i]={...l};for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const m=c;r[i][m]=jx(o[m],l[m],a)}}}else i==="className"&&a&&s.className?r.className=Je(t?.className,s?.className):i==="style"&&a&&s.style?r.style={...t?.style,...s?.style}:r[i]===void 0&&(r[i]=t[i])}return r}function o7(t){const{theme:s,name:a,props:r}=t;return!s||!s.components||!s.components[a]||!s.components[a].defaultProps?r:jx(s.components[a].defaultProps,r)}function wW({props:t,name:s,defaultTheme:a,themeId:r}){let n=fv(a);return n=n[r]||n,o7({theme:n,name:s,props:t})}const Ia=typeof window<"u"?g.useLayoutEffect:g.useEffect;function SW(t,s,a,r,n){const[i,o]=g.useState(()=>n&&a?a(t).matches:r?r(t).matches:s);return Ia(()=>{if(!a)return;const l=a(t),c=()=>{o(l.matches)};return c(),l.addEventListener("change",c),()=>{l.removeEventListener("change",c)}},[t,a]),i}const CW={...mx},l7=CW.useSyncExternalStore;function PW(t,s,a,r,n){const i=g.useCallback(()=>s,[s]),o=g.useMemo(()=>{if(n&&a)return()=>a(t).matches;if(r!==null){const{matches:d}=r(t);return()=>d}return i},[i,t,r,n,a]),[l,c]=g.useMemo(()=>{if(a===null)return[i,()=>()=>{}];const d=a(t);return[()=>d.matches,p=>(d.addEventListener("change",p),()=>{d.removeEventListener("change",p)})]},[i,a,t]);return l7(c,l,o)}function c7(t={}){const{themeId:s}=t;return function(r,n={}){let i=hv();i&&s&&(i=i[s]||i);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:l=!1,matchMedia:c=o?window.matchMedia:null,ssrMatchMedia:m=null,noSsr:d=!1}=o7({name:"MuiUseMediaQuery",props:n,theme:i});let p=typeof r=="function"?r(i):r;return p=p.replace(/^@media( ?)/m,""),p.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(l7!==void 0?PW:SW)(p,l,c,m,d)}}c7();function kW(t,s=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER){return Math.max(s,Math.min(t,a))}function m4(t,s=0,a=1){return kW(t,s,a)}function EW(t){t=t.slice(1);const s=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let a=t.match(s);return a&&a[0].length===1&&(a=a.map(r=>r+r)),a?`rgb${a.length===4?"a":""}(${a.map((r,n)=>n<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Gc(t){if(t.type)return t;if(t.charAt(0)==="#")return Gc(EW(t));const s=t.indexOf("("),a=t.substring(0,s);if(!["rgb","rgba","hsl","hsla","color"].includes(a))throw new Error(Gl(9,t));let r=t.substring(s+1,t.length-1),n;if(a==="color"){if(r=r.split(" "),n=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(n))throw new Error(Gl(10,n))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:a,values:r,colorSpace:n}}const TW=t=>{const s=Gc(t);return s.values.slice(0,3).map((a,r)=>s.type.includes("hsl")&&r!==0?`${a}%`:a).join(" ")},mf=(t,s)=>{try{return TW(t)}catch{return t}};function xv(t){const{type:s,colorSpace:a}=t;let{values:r}=t;return s.includes("rgb")?r=r.map((n,i)=>i<3?parseInt(n,10):n):s.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),s.includes("color")?r=`${a} ${r.join(" ")}`:r=`${r.join(", ")}`,`${s}(${r})`}function d7(t){t=Gc(t);const{values:s}=t,a=s[0],r=s[1]/100,n=s[2]/100,i=r*Math.min(n,1-n),o=(m,d=(m+a/30)%12)=>n-i*Math.max(Math.min(d-3,9-d,1),-1);let l="rgb";const c=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(l+="a",c.push(s[3])),xv({type:l,values:c})}function h_(t){t=Gc(t);let s=t.type==="hsl"||t.type==="hsla"?Gc(d7(t)).values:t.values;return s=s.map(a=>(t.type!=="color"&&(a/=255),a<=.03928?a/12.92:((a+.055)/1.055)**2.4)),Number((.2126*s[0]+.7152*s[1]+.0722*s[2]).toFixed(3))}function MW(t,s){const a=h_(t),r=h_(s);return(Math.max(a,r)+.05)/(Math.min(a,r)+.05)}function Sn(t,s){return t=Gc(t),s=m4(s),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${s}`:t.values[3]=s,xv(t)}function kd(t,s,a){try{return Sn(t,s)}catch{return t}}function gv(t,s){if(t=Gc(t),s=m4(s),t.type.includes("hsl"))t.values[2]*=1-s;else if(t.type.includes("rgb")||t.type.includes("color"))for(let a=0;a<3;a+=1)t.values[a]*=1-s;return xv(t)}function Na(t,s,a){try{return gv(t,s)}catch{return t}}function bv(t,s){if(t=Gc(t),s=m4(s),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*s;else if(t.type.includes("rgb"))for(let a=0;a<3;a+=1)t.values[a]+=(255-t.values[a])*s;else if(t.type.includes("color"))for(let a=0;a<3;a+=1)t.values[a]+=(1-t.values[a])*s;return xv(t)}function _a(t,s,a){try{return bv(t,s)}catch{return t}}function DW(t,s=.15){return h_(t)>.5?gv(t,s):bv(t,s)}function Z0(t,s,a){try{return DW(t,s)}catch{return t}}const u7=g.createContext(null);function p4(){return g.useContext(u7)}const RW=typeof Symbol=="function"&&Symbol.for,AW=RW?Symbol.for("mui.nested"):"__THEME_NESTED__";function IW(t,s){return typeof s=="function"?s(t):{...t,...s}}function OW(t){const{children:s,theme:a}=t,r=p4(),n=g.useMemo(()=>{const i=r===null?{...a}:IW(r,a);return i!=null&&(i[AW]=r!==null),i},[a,r]);return e.jsx(u7.Provider,{value:n,children:s})}const m7=g.createContext();function FW({value:t,...s}){return e.jsx(m7.Provider,{value:t??!0,...s})}const Rr=()=>g.useContext(m7)??!1,p7=g.createContext(void 0);function LW({value:t,children:s}){return e.jsx(p7.Provider,{value:t,children:s})}function $W(t){const{theme:s,name:a,props:r}=t;if(!s||!s.components||!s.components[a])return r;const n=s.components[a];return n.defaultProps?jx(n.defaultProps,r,s.components.mergeClassNameAndStyle):!n.styleOverrides&&!n.variants?jx(n,r,s.components.mergeClassNameAndStyle):r}function zW({props:t,name:s}){const a=g.useContext(p7);return $W({props:t,name:s,theme:{components:a}})}let hk=0;function qW(t){const[s,a]=g.useState(t),r=t||s;return g.useEffect(()=>{s==null&&(hk+=1,a(`mui-${hk}`))},[s]),r}const BW={...mx},fk=BW.useId;function Cn(t){if(fk!==void 0){const s=fk();return t??s}return qW(t)}function UW(t){const s=hv(),a=Cn()||"",{modularCssLayers:r}=t;let n="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||s!==null?n="":typeof r=="string"?n=r.replace(/mui(?!\.)/g,n):n=`@layer ${n};`,Ia(()=>{const i=document.querySelector("head");if(!i)return;const o=i.firstChild;if(n){if(o&&o.hasAttribute?.("data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===a)return;const l=document.createElement("style");l.setAttribute("data-mui-layer-order",a),l.textContent=n,i.prepend(l)}else i.querySelector(`style[data-mui-layer-order="${a}"]`)?.remove()},[n,a]),n?e.jsx(t7,{styles:n}):null}const xk={};function gk(t,s,a,r=!1){return g.useMemo(()=>{const n=t&&s[t]||s;if(typeof a=="function"){const i=a(n),o=t?{...s,[t]:i}:i;return r?()=>o:o}return t?{...s,[t]:a}:{...s,...a}},[t,s,a,r])}function h7(t){const{children:s,theme:a,themeId:r}=t,n=hv(xk),i=p4()||xk,o=gk(r,n,a),l=gk(r,i,a,!0),c=(r?o[r]:o).direction==="rtl",m=UW(o);return e.jsx(OW,{theme:l,children:e.jsx(lg.Provider,{value:o,children:e.jsx(FW,{value:c,children:e.jsxs(LW,{value:r?o[r].components:o.components,children:[m,s]})})})})}const bk={theme:void 0};function VW(t){let s,a;return function(n){let i=s;return(i===void 0||n.theme!==a)&&(bk.theme=n.theme,i=n7(t(bk)),s=i,a=n.theme),i}}const h4="mode",f4="color-scheme",HW="data-color-scheme";function WW(t){const{defaultMode:s="system",defaultLightColorScheme:a="light",defaultDarkColorScheme:r="dark",modeStorageKey:n=h4,colorSchemeStorageKey:i=f4,attribute:o=HW,colorSchemeNode:l="document.documentElement",nonce:c}=t||{};let m="",d=o;if(o==="class"&&(d=".%s"),o==="data"&&(d="[data-%s]"),d.startsWith(".")){const x=d.substring(1);m+=`${l}.classList.remove('${x}'.replace('%s', light), '${x}'.replace('%s', dark));
      ${l}.classList.add('${x}'.replace('%s', colorScheme));`}const p=d.match(/\[([^[\]]+)\]/);if(p){const[x,j]=p[1].split("=");j||(m+=`${l}.removeAttribute('${x}'.replace('%s', light));
      ${l}.removeAttribute('${x}'.replace('%s', dark));`),m+=`
      ${l}.setAttribute('${x}'.replace('%s', colorScheme), ${j?`${j}.replace('%s', colorScheme)`:'""'});`}else m+=`${l}.setAttribute('${d}', colorScheme);`;return e.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${n}') || '${s}';
  const dark = localStorage.getItem('${i}-dark') || '${r}';
  const light = localStorage.getItem('${i}-light') || '${a}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${m}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function YW(){}const GW=({key:t,storageWindow:s})=>(!s&&typeof window<"u"&&(s=window),{get(a){if(typeof window>"u")return;if(!s)return a;let r;try{r=s.localStorage.getItem(t)}catch{}return r||a},set:a=>{if(s)try{s.localStorage.setItem(t,a)}catch{}},subscribe:a=>{if(!s)return YW;const r=n=>{const i=n.newValue;n.key===t&&a(i)};return s.addEventListener("storage",r),()=>{s.removeEventListener("storage",r)}}});function X2(){}function yk(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function f7(t,s){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return s("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return s("dark")}function KW(t){return f7(t,s=>{if(s==="light")return t.lightColorScheme;if(s==="dark")return t.darkColorScheme})}function QW(t){const{defaultMode:s="light",defaultLightColorScheme:a,defaultDarkColorScheme:r,supportedColorSchemes:n=[],modeStorageKey:i=h4,colorSchemeStorageKey:o=f4,storageWindow:l=typeof window>"u"?void 0:window,storageManager:c=GW,noSsr:m=!1}=t,d=n.join(","),p=n.length>1,x=g.useMemo(()=>c?.({key:i,storageWindow:l}),[c,i,l]),j=g.useMemo(()=>c?.({key:`${o}-light`,storageWindow:l}),[c,o,l]),_=g.useMemo(()=>c?.({key:`${o}-dark`,storageWindow:l}),[c,o,l]),[S,v]=g.useState(()=>{const A=x?.get(s)||s,I=j?.get(a)||a,F=_?.get(r)||r;return{mode:A,systemMode:yk(A),lightColorScheme:I,darkColorScheme:F}}),[y,N]=g.useState(m||!p);g.useEffect(()=>{N(!0)},[]);const C=KW(S),P=g.useCallback(A=>{v(I=>{if(A===I.mode)return I;const F=A??s;return x?.set(F),{...I,mode:F,systemMode:yk(F)}})},[x,s]),E=g.useCallback(A=>{A?typeof A=="string"?A&&!d.includes(A)?console.error(`\`${A}\` does not exist in \`theme.colorSchemes\`.`):v(I=>{const F={...I};return f7(I,z=>{z==="light"&&(j?.set(A),F.lightColorScheme=A),z==="dark"&&(_?.set(A),F.darkColorScheme=A)}),F}):v(I=>{const F={...I},z=A.light===null?a:A.light,O=A.dark===null?r:A.dark;return z&&(d.includes(z)?(F.lightColorScheme=z,j?.set(z)):console.error(`\`${z}\` does not exist in \`theme.colorSchemes\`.`)),O&&(d.includes(O)?(F.darkColorScheme=O,_?.set(O)):console.error(`\`${O}\` does not exist in \`theme.colorSchemes\`.`)),F}):v(I=>(j?.set(a),_?.set(r),{...I,lightColorScheme:a,darkColorScheme:r}))},[d,j,_,a,r]),D=g.useCallback(A=>{S.mode==="system"&&v(I=>{const F=A?.matches?"dark":"light";return I.systemMode===F?I:{...I,systemMode:F}})},[S.mode]),T=g.useRef(D);return T.current=D,g.useEffect(()=>{if(typeof window.matchMedia!="function"||!p)return;const A=(...F)=>T.current(...F),I=window.matchMedia("(prefers-color-scheme: dark)");return I.addListener(A),A(I),()=>{I.removeListener(A)}},[p]),g.useEffect(()=>{if(p){const A=x?.subscribe(z=>{(!z||["light","dark","system"].includes(z))&&P(z||s)})||X2,I=j?.subscribe(z=>{(!z||d.match(z))&&E({light:z})})||X2,F=_?.subscribe(z=>{(!z||d.match(z))&&E({dark:z})})||X2;return()=>{A(),I(),F()}}},[E,P,d,s,l,p,x,j,_]),{...S,mode:y?S.mode:void 0,systemMode:y?S.systemMode:void 0,colorScheme:y?C:void 0,setMode:P,setColorScheme:E}}const ZW="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function XW(t){const{themeId:s,theme:a={},modeStorageKey:r=h4,colorSchemeStorageKey:n=f4,disableTransitionOnChange:i=!1,defaultColorScheme:o,resolveTheme:l}=t,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},m=g.createContext(void 0),d=()=>g.useContext(m)||c,p={},x={};function j(y){const{children:N,theme:C,modeStorageKey:P=r,colorSchemeStorageKey:E=n,disableTransitionOnChange:D=i,storageManager:T,storageWindow:A=typeof window>"u"?void 0:window,documentNode:I=typeof document>"u"?void 0:document,colorSchemeNode:F=typeof document>"u"?void 0:document.documentElement,disableNestedContext:z=!1,disableStyleSheetGeneration:O=!1,defaultMode:K="system",forceThemeRerender:W=!1,noSsr:B}=y,q=g.useRef(!1),H=p4(),Q=g.useContext(m),V=!!Q&&!z,M=g.useMemo(()=>C||(typeof a=="function"?a():a),[C]),R=M[s],$=R||M,{colorSchemes:Y=p,components:J=x,cssVarPrefix:te}=$,ee=Object.keys(Y).filter(dt=>!!Y[dt]).join(","),ne=g.useMemo(()=>ee.split(","),[ee]),he=typeof o=="string"?o:o.light,de=typeof o=="string"?o:o.dark,ae=Y[he]&&Y[de]?K:Y[$.defaultColorScheme]?.palette?.mode||$.palette?.mode,{mode:xe,setMode:ge,systemMode:le,lightColorScheme:me,darkColorScheme:Ae,colorScheme:Ce,setColorScheme:_e}=QW({supportedColorSchemes:ne,defaultLightColorScheme:he,defaultDarkColorScheme:de,modeStorageKey:P,colorSchemeStorageKey:E,defaultMode:ae,storageManager:T,storageWindow:A,noSsr:B});let Ie=xe,et=Ce;V&&(Ie=Q.mode,et=Q.colorScheme);let ke=et||$.defaultColorScheme;$.vars&&!W&&(ke=$.defaultColorScheme);const He=g.useMemo(()=>{const dt=$.generateThemeVars?.()||$.vars,ft={...$,components:J,colorSchemes:Y,cssVarPrefix:te,vars:dt};if(typeof ft.generateSpacing=="function"&&(ft.spacing=ft.generateSpacing()),ke){const Mt=Y[ke];Mt&&typeof Mt=="object"&&Object.keys(Mt).forEach(ye=>{Mt[ye]&&typeof Mt[ye]=="object"?ft[ye]={...ft[ye],...Mt[ye]}:ft[ye]=Mt[ye]})}return l?l(ft):ft},[$,ke,J,Y,te]),be=$.colorSchemeSelector;Ia(()=>{if(et&&F&&be&&be!=="media"){const dt=be;let ft=be;if(dt==="class"&&(ft=".%s"),dt==="data"&&(ft="[data-%s]"),dt?.startsWith("data-")&&!dt.includes("%s")&&(ft=`[${dt}="%s"]`),ft.startsWith("."))F.classList.remove(...ne.map(Mt=>ft.substring(1).replace("%s",Mt))),F.classList.add(ft.substring(1).replace("%s",et));else{const Mt=ft.replace("%s",et).match(/\[([^\]]+)\]/);if(Mt){const[ye,Le]=Mt[1].split("=");Le||ne.forEach(ze=>{F.removeAttribute(ye.replace(et,ze))}),F.setAttribute(ye,Le?Le.replace(/"|'/g,""):"")}else F.setAttribute(ft,et)}}},[et,be,F,ne]),g.useEffect(()=>{let dt;if(D&&q.current&&I){const ft=I.createElement("style");ft.appendChild(I.createTextNode(ZW)),I.head.appendChild(ft),window.getComputedStyle(I.body),dt=setTimeout(()=>{I.head.removeChild(ft)},1)}return()=>{clearTimeout(dt)}},[et,D,I]),g.useEffect(()=>(q.current=!0,()=>{q.current=!1}),[]);const Ge=g.useMemo(()=>({allColorSchemes:ne,colorScheme:et,darkColorScheme:Ae,lightColorScheme:me,mode:Ie,setColorScheme:_e,setMode:ge,systemMode:le}),[ne,et,Ae,me,Ie,_e,ge,le,He.colorSchemeSelector]);let at=!0;(O||$.cssVariables===!1||V&&H?.cssVarPrefix===te)&&(at=!1);const vt=e.jsxs(g.Fragment,{children:[e.jsx(h7,{themeId:R?s:void 0,theme:He,children:N}),at&&e.jsx(KR,{styles:He.generateStyleSheets?.()||[]})]});return V?vt:e.jsx(m.Provider,{value:Ge,children:vt})}const _=typeof o=="string"?o:o.light,S=typeof o=="string"?o:o.dark;return{CssVarsProvider:j,useColorScheme:d,getInitColorSchemeScript:y=>WW({colorSchemeStorageKey:n,defaultLightColorScheme:_,defaultDarkColorScheme:S,modeStorageKey:r,...y})}}function JW(t=""){function s(...r){if(!r.length)return"";const n=r[0];return typeof n=="string"&&!n.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${n}${s(...r.slice(1))})`:`, ${n}`}return(r,...n)=>`var(--${t?`${t}-`:""}${r}${s(...n)})`}const vk=(t,s,a,r=[])=>{let n=t;s.forEach((i,o)=>{o===s.length-1?Array.isArray(n)?n[Number(i)]=a:n&&typeof n=="object"&&(n[i]=a):n&&typeof n=="object"&&(n[i]||(n[i]=r.includes(i)?[]:{}),n=n[i])})},eY=(t,s,a)=>{function r(n,i=[],o=[]){Object.entries(n).forEach(([l,c])=>{(!a||a&&!a([...i,l]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...i,l],Array.isArray(c)?[...o,l]:o):s([...i,l],c,o))})}r(t)},tY=(t,s)=>typeof s=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?s:`${s}px`:s;function J2(t,s){const{prefix:a,shouldSkipGeneratingVar:r}=s||{},n={},i={},o={};return eY(t,(l,c,m)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(l,c))){const d=`--${a?`${a}-`:""}${l.join("-")}`,p=tY(l,c);Object.assign(n,{[d]:p}),vk(i,l,`var(${d})`,m),vk(o,l,`var(${d}, ${p})`,m)}},l=>l[0]==="vars"),{css:n,vars:i,varsWithDefaults:o}}function sY(t,s={}){const{getSelector:a=y,disableCssColorScheme:r,colorSchemeSelector:n,enableContrastVars:i}=s,{colorSchemes:o={},components:l,defaultColorScheme:c="light",...m}=t,{vars:d,css:p,varsWithDefaults:x}=J2(m,s);let j=x;const _={},{[c]:S,...v}=o;if(Object.entries(v||{}).forEach(([P,E])=>{const{vars:D,css:T,varsWithDefaults:A}=J2(E,s);j=un(j,A),_[P]={css:T,vars:D}}),S){const{css:P,vars:E,varsWithDefaults:D}=J2(S,s);j=un(j,D),_[c]={css:P,vars:E}}function y(P,E){let D=n;if(n==="class"&&(D=".%s"),n==="data"&&(D="[data-%s]"),n?.startsWith("data-")&&!n.includes("%s")&&(D=`[${n}="%s"]`),P){if(D==="media")return t.defaultColorScheme===P?":root":{[`@media (prefers-color-scheme: ${o[P]?.palette?.mode||P})`]:{":root":E}};if(D)return t.defaultColorScheme===P?`:root, ${D.replace("%s",String(P))}`:D.replace("%s",String(P))}return":root"}return{vars:j,generateThemeVars:()=>{let P={...d};return Object.entries(_).forEach(([,{vars:E}])=>{P=un(P,E)}),P},generateStyleSheets:()=>{const P=[],E=t.defaultColorScheme||"light";function D(I,F){Object.keys(F).length&&P.push(typeof I=="string"?{[I]:{...F}}:I)}D(a(void 0,{...p}),p);const{[E]:T,...A}=_;if(T){const{css:I}=T,F=o[E]?.palette?.mode,z=!r&&F?{colorScheme:F,...I}:{...I};D(a(E,{...z}),z)}return Object.entries(A).forEach(([I,{css:F}])=>{const z=o[I]?.palette?.mode,O=!r&&z?{colorScheme:z,...F}:{...F};D(a(I,{...O}),O)}),i&&P.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),P}}}function aY(t){return function(a){return t==="media"?`@media (prefers-color-scheme: ${a})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${a}"] &`:t==="class"?`.${a} &`:t==="data"?`[data-${a}] &`:`${t.replace("%s",a)} &`:"&"}}function kt(t,s,a=void 0){const r={};for(const n in t){const i=t[n];let o="",l=!0;for(let c=0;c<i.length;c+=1){const m=i[c];m&&(o+=(l===!0?"":" ")+s(m),l=!1,a&&a[m]&&(o+=" "+a[m]))}r[n]=o}return r}function Hb(t,s){return g.isValidElement(t)&&s.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}function x7(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:gx.white,default:gx.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const g7=x7();function b7(){return{text:{primary:gx.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:gx.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const f_=b7();function jk(t,s,a,r){const n=r.light||r,i=r.dark||r*1.5;t[s]||(t.hasOwnProperty(a)?t[s]=t[a]:s==="light"?t.light=bv(t.main,n):s==="dark"&&(t.dark=gv(t.main,i)))}function Nk(t,s,a,r,n){const i=n.light||n,o=n.dark||n*1.5;s[a]||(s.hasOwnProperty(r)?s[a]=s[r]:a==="light"?s.light=`color-mix(in ${t}, ${s.main}, #fff ${(i*100).toFixed(0)}%)`:a==="dark"&&(s.dark=`color-mix(in ${t}, ${s.main}, #000 ${(o*100).toFixed(0)}%)`))}function rY(t="light"){return t==="dark"?{main:hm[200],light:hm[50],dark:hm[400]}:{main:hm[700],light:hm[400],dark:hm[800]}}function nY(t="light"){return t==="dark"?{main:pm[200],light:pm[50],dark:pm[400]}:{main:pm[500],light:pm[300],dark:pm[700]}}function iY(t="light"){return t==="dark"?{main:mm[500],light:mm[300],dark:mm[700]}:{main:mm[700],light:mm[400],dark:mm[800]}}function oY(t="light"){return t==="dark"?{main:fm[400],light:fm[300],dark:fm[700]}:{main:fm[700],light:fm[500],dark:fm[900]}}function lY(t="light"){return t==="dark"?{main:xm[400],light:xm[300],dark:xm[700]}:{main:xm[800],light:xm[500],dark:xm[900]}}function cY(t="light"){return t==="dark"?{main:$h[400],light:$h[300],dark:$h[700]}:{main:"#ed6c02",light:$h[500],dark:$h[900]}}function dY(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function x4(t){const{mode:s="light",contrastThreshold:a=3,tonalOffset:r=.2,colorSpace:n,...i}=t,o=t.primary||rY(s),l=t.secondary||nY(s),c=t.error||iY(s),m=t.info||oY(s),d=t.success||lY(s),p=t.warning||cY(s);function x(v){return n?dY(v):MW(v,f_.text.primary)>=a?f_.text.primary:g7.text.primary}const j=({color:v,name:y,mainShade:N=500,lightShade:C=300,darkShade:P=700})=>{if(v={...v},!v.main&&v[N]&&(v.main=v[N]),!v.hasOwnProperty("main"))throw new Error(Gl(11,y?` (${y})`:"",N));if(typeof v.main!="string")throw new Error(Gl(12,y?` (${y})`:"",JSON.stringify(v.main)));return n?(Nk(n,v,"light",C,r),Nk(n,v,"dark",P,r)):(jk(v,"light",C,r),jk(v,"dark",P,r)),v.contrastText||(v.contrastText=x(v.main)),v};let _;return s==="light"?_=x7():s==="dark"&&(_=b7()),un({common:{...gx},mode:s,primary:j({color:o,name:"primary"}),secondary:j({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:j({color:c,name:"error"}),warning:j({color:p,name:"warning"}),info:j({color:m,name:"info"}),success:j({color:d,name:"success"}),grey:dV,contrastThreshold:a,getContrastText:x,augmentColor:j,tonalOffset:r,..._},i)}function uY(t){const s={};return Object.entries(t).forEach(r=>{const[n,i]=r;typeof i=="object"&&(s[n]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),s}function mY(t,s){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...s}}function pY(t){return Math.round(t*1e5)/1e5}const _k={textTransform:"uppercase"},wk='"Roboto", "Helvetica", "Arial", sans-serif';function y7(t,s){const{fontFamily:a=wk,fontSize:r=14,fontWeightLight:n=300,fontWeightRegular:i=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:m,pxToRem:d,...p}=typeof s=="function"?s(t):s,x=r/14,j=d||(v=>`${v/c*x}rem`),_=(v,y,N,C,P)=>({fontFamily:a,fontWeight:v,fontSize:j(y),lineHeight:N,...a===wk?{letterSpacing:`${pY(C/y)}em`}:{},...P,...m}),S={h1:_(n,96,1.167,-1.5),h2:_(n,60,1.2,-.5),h3:_(i,48,1.167,0),h4:_(i,34,1.235,.25),h5:_(i,24,1.334,0),h6:_(o,20,1.6,.15),subtitle1:_(i,16,1.75,.15),subtitle2:_(o,14,1.57,.1),body1:_(i,16,1.5,.15),body2:_(i,14,1.43,.15),button:_(o,14,1.75,.4,_k),caption:_(i,12,1.66,.4),overline:_(i,12,2.66,1,_k),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return un({htmlFontSize:c,pxToRem:j,fontFamily:a,fontSize:r,fontWeightLight:n,fontWeightRegular:i,fontWeightMedium:o,fontWeightBold:l,...S},p,{clone:!1})}const hY=.2,fY=.14,xY=.12;function Ya(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${hY})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${fY})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${xY})`].join(",")}const gY=["none",Ya(0,2,1,-1,0,1,1,0,0,1,3,0),Ya(0,3,1,-2,0,2,2,0,0,1,5,0),Ya(0,3,3,-2,0,3,4,0,0,1,8,0),Ya(0,2,4,-1,0,4,5,0,0,1,10,0),Ya(0,3,5,-1,0,5,8,0,0,1,14,0),Ya(0,3,5,-1,0,6,10,0,0,1,18,0),Ya(0,4,5,-2,0,7,10,1,0,2,16,1),Ya(0,5,5,-3,0,8,10,1,0,3,14,2),Ya(0,5,6,-3,0,9,12,1,0,3,16,2),Ya(0,6,6,-3,0,10,14,1,0,4,18,3),Ya(0,6,7,-4,0,11,15,1,0,4,20,3),Ya(0,7,8,-4,0,12,17,2,0,5,22,4),Ya(0,7,8,-4,0,13,19,2,0,5,24,4),Ya(0,7,9,-4,0,14,21,2,0,5,26,4),Ya(0,8,9,-5,0,15,22,2,0,6,28,5),Ya(0,8,10,-5,0,16,24,2,0,6,30,5),Ya(0,8,11,-5,0,17,26,2,0,6,32,5),Ya(0,9,11,-5,0,18,28,2,0,7,34,6),Ya(0,9,12,-6,0,19,29,2,0,7,36,6),Ya(0,10,13,-6,0,20,31,3,0,8,38,7),Ya(0,10,13,-6,0,21,33,3,0,8,40,7),Ya(0,10,14,-6,0,22,35,3,0,8,42,7),Ya(0,11,14,-7,0,23,36,3,0,9,44,8),Ya(0,11,15,-7,0,24,38,3,0,9,46,8)],bY={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},v7={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Sk(t){return`${Math.round(t)}ms`}function yY(t){if(!t)return 0;const s=t/36;return Math.min(Math.round((4+15*s**.25+s/5)*10),3e3)}function vY(t){const s={...bY,...t.easing},a={...v7,...t.duration};return{getAutoHeightDuration:yY,create:(n=["all"],i={})=>{const{duration:o=a.standard,easing:l=s.easeInOut,delay:c=0,...m}=i;return(Array.isArray(n)?n:[n]).map(d=>`${d} ${typeof o=="string"?o:Sk(o)} ${l} ${typeof c=="string"?c:Sk(c)}`).join(",")},...t,easing:s,duration:a}}const jY={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function NY(t){return Bo(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function j7(t={}){const s={...t};function a(r){const n=Object.entries(r);for(let i=0;i<n.length;i++){const[o,l]=n[i];!NY(l)||o.startsWith("unstable_")?delete r[o]:Bo(l)&&(r[o]={...l},a(r[o]))}}return a(s),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(s,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Ck(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const _Y=t=>{if(!Number.isNaN(+t))return+t;const s=t.match(/\d*\.?\d+/g);if(!s)return 0;let a=0;for(let r=0;r<s.length;r+=1)a+=+s[r];return a};function wY(t){Object.assign(t,{alpha(s,a){const r=this||t;return r.colorSpace?`oklch(from ${s} l c h / ${typeof a=="string"?`calc(${a})`:a})`:r.vars?`rgba(${s.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof a=="string"?`calc(${a})`:a})`:Sn(s,_Y(a))},lighten(s,a){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${s}, #fff ${Ck(a)})`:bv(s,a)},darken(s,a){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${s}, #000 ${Ck(a)})`:gv(s,a)}})}function x_(t={},...s){const{breakpoints:a,mixins:r={},spacing:n,palette:i={},transitions:o={},typography:l={},shape:c,colorSpace:m,...d}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Gl(20));const p=x4({...i,colorSpace:m}),x=u4(t);let j=un(x,{mixins:mY(x.breakpoints,r),palette:p,shadows:gY.slice(),typography:y7(p,l),transitions:vY(o),zIndex:{...jY}});return j=un(j,d),j=s.reduce((_,S)=>un(_,S),j),j.unstable_sxConfig={...ug,...d?.unstable_sxConfig},j.unstable_sx=function(S){return Yc({sx:S,theme:this})},j.toRuntimeSource=j7,wY(j),j}function g_(t){let s;return t<1?s=5.11916*t**2:s=4.5*Math.log(t+1)+2,Math.round(s*10)/1e3}const SY=[...Array(25)].map((t,s)=>{if(s===0)return"none";const a=g_(s);return`linear-gradient(rgba(255 255 255 / ${a}), rgba(255 255 255 / ${a}))`});function N7(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function _7(t){return t==="dark"?SY:[]}function CY(t){const{palette:s={mode:"light"},opacity:a,overlays:r,colorSpace:n,...i}=t,o=x4({...s,colorSpace:n});return{palette:o,opacity:{...N7(o.mode),...a},overlays:r||_7(o.mode),...i}}function PY(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const kY=t=>[...[...Array(25)].map((s,a)=>`--${t?`${t}-`:""}overlays-${a}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],EY=t=>(s,a)=>{const r=t.rootSelector||":root",n=t.colorSchemeSelector;let i=n;if(n==="class"&&(i=".%s"),n==="data"&&(i="[data-%s]"),n?.startsWith("data-")&&!n.includes("%s")&&(i=`[${n}="%s"]`),t.defaultColorScheme===s){if(s==="dark"){const o={};return kY(t.cssVarPrefix).forEach(l=>{o[l]=a[l],delete a[l]}),i==="media"?{[r]:a,"@media (prefers-color-scheme: dark)":{[r]:o}}:i?{[i.replace("%s",s)]:o,[`${r}, ${i.replace("%s",s)}`]:a}:{[r]:{...a,...o}}}if(i&&i!=="media")return`${r}, ${i.replace("%s",String(s))}`}else if(s){if(i==="media")return{[`@media (prefers-color-scheme: ${String(s)})`]:{[r]:a}};if(i)return i.replace("%s",String(s))}return r};function TY(t,s){s.forEach(a=>{t[a]||(t[a]={})})}function ut(t,s,a){!t[s]&&a&&(t[s]=a)}function pf(t){return typeof t!="string"||!t.startsWith("hsl")?t:d7(t)}function Cl(t,s){`${s}Channel`in t||(t[`${s}Channel`]=mf(pf(t[s])))}function MY(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Do=t=>{try{return t()}catch{}},DY=(t="mui")=>JW(t);function eN(t,s,a,r,n){if(!a)return;a=a===!0?{}:a;const i=n==="dark"?"dark":"light";if(!r){s[n]=CY({...a,palette:{mode:i,...a?.palette},colorSpace:t});return}const{palette:o,...l}=x_({...r,palette:{mode:i,...a?.palette},colorSpace:t});return s[n]={...a,palette:o,opacity:{...N7(i),...a?.opacity},overlays:a?.overlays||_7(i)},l}function RY(t={},...s){const{colorSchemes:a={light:!0},defaultColorScheme:r,disableCssColorScheme:n=!1,cssVarPrefix:i="mui",nativeColor:o=!1,shouldSkipGeneratingVar:l=PY,colorSchemeSelector:c=a.light&&a.dark?"media":void 0,rootSelector:m=":root",...d}=t,p=Object.keys(a)[0],x=r||(a.light&&p!=="light"?"light":p),j=DY(i),{[x]:_,light:S,dark:v,...y}=a,N={...y};let C=_;if((x==="dark"&&!("dark"in a)||x==="light"&&!("light"in a))&&(C=!0),!C)throw new Error(Gl(21,x));let P;o&&(P="oklch");const E=eN(P,N,C,d,x);S&&!N.light&&eN(P,N,S,void 0,"light"),v&&!N.dark&&eN(P,N,v,void 0,"dark");let D={defaultColorScheme:x,...E,cssVarPrefix:i,colorSchemeSelector:c,rootSelector:m,getCssVar:j,colorSchemes:N,font:{...uY(E.typography),...E.font},spacing:MY(d.spacing)};Object.keys(D.colorSchemes).forEach(z=>{const O=D.colorSchemes[z].palette,K=B=>{const q=B.split("-"),H=q[1],Q=q[2];return j(B,O[H][Q])};O.mode==="light"&&(ut(O.common,"background","#fff"),ut(O.common,"onBackground","#000")),O.mode==="dark"&&(ut(O.common,"background","#000"),ut(O.common,"onBackground","#fff"));function W(B,q,H){if(P){let Q;return B===kd&&(Q=`transparent ${((1-H)*100).toFixed(0)}%`),B===Na&&(Q=`#000 ${(H*100).toFixed(0)}%`),B===_a&&(Q=`#fff ${(H*100).toFixed(0)}%`),`color-mix(in ${P}, ${q}, ${Q})`}return B(q,H)}if(TY(O,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),O.mode==="light"){ut(O.Alert,"errorColor",W(Na,O.error.light,.6)),ut(O.Alert,"infoColor",W(Na,O.info.light,.6)),ut(O.Alert,"successColor",W(Na,O.success.light,.6)),ut(O.Alert,"warningColor",W(Na,O.warning.light,.6)),ut(O.Alert,"errorFilledBg",K("palette-error-main")),ut(O.Alert,"infoFilledBg",K("palette-info-main")),ut(O.Alert,"successFilledBg",K("palette-success-main")),ut(O.Alert,"warningFilledBg",K("palette-warning-main")),ut(O.Alert,"errorFilledColor",Do(()=>O.getContrastText(O.error.main))),ut(O.Alert,"infoFilledColor",Do(()=>O.getContrastText(O.info.main))),ut(O.Alert,"successFilledColor",Do(()=>O.getContrastText(O.success.main))),ut(O.Alert,"warningFilledColor",Do(()=>O.getContrastText(O.warning.main))),ut(O.Alert,"errorStandardBg",W(_a,O.error.light,.9)),ut(O.Alert,"infoStandardBg",W(_a,O.info.light,.9)),ut(O.Alert,"successStandardBg",W(_a,O.success.light,.9)),ut(O.Alert,"warningStandardBg",W(_a,O.warning.light,.9)),ut(O.Alert,"errorIconColor",K("palette-error-main")),ut(O.Alert,"infoIconColor",K("palette-info-main")),ut(O.Alert,"successIconColor",K("palette-success-main")),ut(O.Alert,"warningIconColor",K("palette-warning-main")),ut(O.AppBar,"defaultBg",K("palette-grey-100")),ut(O.Avatar,"defaultBg",K("palette-grey-400")),ut(O.Button,"inheritContainedBg",K("palette-grey-300")),ut(O.Button,"inheritContainedHoverBg",K("palette-grey-A100")),ut(O.Chip,"defaultBorder",K("palette-grey-400")),ut(O.Chip,"defaultAvatarColor",K("palette-grey-700")),ut(O.Chip,"defaultIconColor",K("palette-grey-700")),ut(O.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ut(O.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ut(O.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ut(O.LinearProgress,"primaryBg",W(_a,O.primary.main,.62)),ut(O.LinearProgress,"secondaryBg",W(_a,O.secondary.main,.62)),ut(O.LinearProgress,"errorBg",W(_a,O.error.main,.62)),ut(O.LinearProgress,"infoBg",W(_a,O.info.main,.62)),ut(O.LinearProgress,"successBg",W(_a,O.success.main,.62)),ut(O.LinearProgress,"warningBg",W(_a,O.warning.main,.62)),ut(O.Skeleton,"bg",P?W(kd,O.text.primary,.11):`rgba(${K("palette-text-primaryChannel")} / 0.11)`),ut(O.Slider,"primaryTrack",W(_a,O.primary.main,.62)),ut(O.Slider,"secondaryTrack",W(_a,O.secondary.main,.62)),ut(O.Slider,"errorTrack",W(_a,O.error.main,.62)),ut(O.Slider,"infoTrack",W(_a,O.info.main,.62)),ut(O.Slider,"successTrack",W(_a,O.success.main,.62)),ut(O.Slider,"warningTrack",W(_a,O.warning.main,.62));const B=P?W(Na,O.background.default,.6825):Z0(O.background.default,.8);ut(O.SnackbarContent,"bg",B),ut(O.SnackbarContent,"color",Do(()=>P?f_.text.primary:O.getContrastText(B))),ut(O.SpeedDialAction,"fabHoverBg",Z0(O.background.paper,.15)),ut(O.StepConnector,"border",K("palette-grey-400")),ut(O.StepContent,"border",K("palette-grey-400")),ut(O.Switch,"defaultColor",K("palette-common-white")),ut(O.Switch,"defaultDisabledColor",K("palette-grey-100")),ut(O.Switch,"primaryDisabledColor",W(_a,O.primary.main,.62)),ut(O.Switch,"secondaryDisabledColor",W(_a,O.secondary.main,.62)),ut(O.Switch,"errorDisabledColor",W(_a,O.error.main,.62)),ut(O.Switch,"infoDisabledColor",W(_a,O.info.main,.62)),ut(O.Switch,"successDisabledColor",W(_a,O.success.main,.62)),ut(O.Switch,"warningDisabledColor",W(_a,O.warning.main,.62)),ut(O.TableCell,"border",W(_a,W(kd,O.divider,1),.88)),ut(O.Tooltip,"bg",W(kd,O.grey[700],.92))}if(O.mode==="dark"){ut(O.Alert,"errorColor",W(_a,O.error.light,.6)),ut(O.Alert,"infoColor",W(_a,O.info.light,.6)),ut(O.Alert,"successColor",W(_a,O.success.light,.6)),ut(O.Alert,"warningColor",W(_a,O.warning.light,.6)),ut(O.Alert,"errorFilledBg",K("palette-error-dark")),ut(O.Alert,"infoFilledBg",K("palette-info-dark")),ut(O.Alert,"successFilledBg",K("palette-success-dark")),ut(O.Alert,"warningFilledBg",K("palette-warning-dark")),ut(O.Alert,"errorFilledColor",Do(()=>O.getContrastText(O.error.dark))),ut(O.Alert,"infoFilledColor",Do(()=>O.getContrastText(O.info.dark))),ut(O.Alert,"successFilledColor",Do(()=>O.getContrastText(O.success.dark))),ut(O.Alert,"warningFilledColor",Do(()=>O.getContrastText(O.warning.dark))),ut(O.Alert,"errorStandardBg",W(Na,O.error.light,.9)),ut(O.Alert,"infoStandardBg",W(Na,O.info.light,.9)),ut(O.Alert,"successStandardBg",W(Na,O.success.light,.9)),ut(O.Alert,"warningStandardBg",W(Na,O.warning.light,.9)),ut(O.Alert,"errorIconColor",K("palette-error-main")),ut(O.Alert,"infoIconColor",K("palette-info-main")),ut(O.Alert,"successIconColor",K("palette-success-main")),ut(O.Alert,"warningIconColor",K("palette-warning-main")),ut(O.AppBar,"defaultBg",K("palette-grey-900")),ut(O.AppBar,"darkBg",K("palette-background-paper")),ut(O.AppBar,"darkColor",K("palette-text-primary")),ut(O.Avatar,"defaultBg",K("palette-grey-600")),ut(O.Button,"inheritContainedBg",K("palette-grey-800")),ut(O.Button,"inheritContainedHoverBg",K("palette-grey-700")),ut(O.Chip,"defaultBorder",K("palette-grey-700")),ut(O.Chip,"defaultAvatarColor",K("palette-grey-300")),ut(O.Chip,"defaultIconColor",K("palette-grey-300")),ut(O.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ut(O.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ut(O.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ut(O.LinearProgress,"primaryBg",W(Na,O.primary.main,.5)),ut(O.LinearProgress,"secondaryBg",W(Na,O.secondary.main,.5)),ut(O.LinearProgress,"errorBg",W(Na,O.error.main,.5)),ut(O.LinearProgress,"infoBg",W(Na,O.info.main,.5)),ut(O.LinearProgress,"successBg",W(Na,O.success.main,.5)),ut(O.LinearProgress,"warningBg",W(Na,O.warning.main,.5)),ut(O.Skeleton,"bg",P?W(kd,O.text.primary,.13):`rgba(${K("palette-text-primaryChannel")} / 0.13)`),ut(O.Slider,"primaryTrack",W(Na,O.primary.main,.5)),ut(O.Slider,"secondaryTrack",W(Na,O.secondary.main,.5)),ut(O.Slider,"errorTrack",W(Na,O.error.main,.5)),ut(O.Slider,"infoTrack",W(Na,O.info.main,.5)),ut(O.Slider,"successTrack",W(Na,O.success.main,.5)),ut(O.Slider,"warningTrack",W(Na,O.warning.main,.5));const B=P?W(_a,O.background.default,.985):Z0(O.background.default,.98);ut(O.SnackbarContent,"bg",B),ut(O.SnackbarContent,"color",Do(()=>P?g7.text.primary:O.getContrastText(B))),ut(O.SpeedDialAction,"fabHoverBg",Z0(O.background.paper,.15)),ut(O.StepConnector,"border",K("palette-grey-600")),ut(O.StepContent,"border",K("palette-grey-600")),ut(O.Switch,"defaultColor",K("palette-grey-300")),ut(O.Switch,"defaultDisabledColor",K("palette-grey-600")),ut(O.Switch,"primaryDisabledColor",W(Na,O.primary.main,.55)),ut(O.Switch,"secondaryDisabledColor",W(Na,O.secondary.main,.55)),ut(O.Switch,"errorDisabledColor",W(Na,O.error.main,.55)),ut(O.Switch,"infoDisabledColor",W(Na,O.info.main,.55)),ut(O.Switch,"successDisabledColor",W(Na,O.success.main,.55)),ut(O.Switch,"warningDisabledColor",W(Na,O.warning.main,.55)),ut(O.TableCell,"border",W(Na,W(kd,O.divider,1),.68)),ut(O.Tooltip,"bg",W(kd,O.grey[700],.92))}Cl(O.background,"default"),Cl(O.background,"paper"),Cl(O.common,"background"),Cl(O.common,"onBackground"),Cl(O,"divider"),Object.keys(O).forEach(B=>{const q=O[B];B!=="tonalOffset"&&q&&typeof q=="object"&&(q.main&&ut(O[B],"mainChannel",mf(pf(q.main))),q.light&&ut(O[B],"lightChannel",mf(pf(q.light))),q.dark&&ut(O[B],"darkChannel",mf(pf(q.dark))),q.contrastText&&ut(O[B],"contrastTextChannel",mf(pf(q.contrastText))),B==="text"&&(Cl(O[B],"primary"),Cl(O[B],"secondary")),B==="action"&&(q.active&&Cl(O[B],"active"),q.selected&&Cl(O[B],"selected")))})}),D=s.reduce((z,O)=>un(z,O),D);const T={prefix:i,disableCssColorScheme:n,shouldSkipGeneratingVar:l,getSelector:EY(D),enableContrastVars:o},{vars:A,generateThemeVars:I,generateStyleSheets:F}=sY(D,T);return D.vars=A,Object.entries(D.colorSchemes[D.defaultColorScheme]).forEach(([z,O])=>{D[z]=O}),D.generateThemeVars=I,D.generateStyleSheets=F,D.generateSpacing=function(){return e7(d.spacing,c4(this))},D.getColorSchemeSelector=aY(c),D.spacing=D.generateSpacing(),D.shouldSkipGeneratingVar=l,D.unstable_sxConfig={...ug,...d?.unstable_sxConfig},D.unstable_sx=function(O){return Yc({sx:O,theme:this})},D.toRuntimeSource=j7,D}function Pk(t,s,a){t.colorSchemes&&a&&(t.colorSchemes[s]={...a!==!0&&a,palette:x4({...a===!0?{}:a.palette,mode:s})})}function yv(t={},...s){const{palette:a,cssVariables:r=!1,colorSchemes:n=a?void 0:{light:!0},defaultColorScheme:i=a?.mode,...o}=t,l=i||"light",c=n?.[l],m={...n,...a?{[l]:{...typeof c!="boolean"&&c,palette:a}}:void 0};if(r===!1){if(!("colorSchemes"in t))return x_(t,...s);let d=a;"palette"in t||m[l]&&(m[l]!==!0?d=m[l].palette:l==="dark"&&(d={mode:"dark"}));const p=x_({...t,palette:d},...s);return p.defaultColorScheme=l,p.colorSchemes=m,p.palette.mode==="light"&&(p.colorSchemes.light={...m.light!==!0&&m.light,palette:p.palette},Pk(p,"dark",m.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...m.dark!==!0&&m.dark,palette:p.palette},Pk(p,"light",m.light)),p}return!a&&!("light"in m)&&l==="light"&&(m.light=!0),RY({...o,colorSchemes:m,defaultColorScheme:l,...typeof r!="boolean"&&r},...s)}function AY(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function IY(t){return parseFloat(t)}const vv=yv();function vi(){const t=fv(vv);return t[Gi]||t}function $s({props:t,name:s}){return wW({props:t,name:s,defaultTheme:vv,themeId:Gi})}function w7(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Ur=t=>w7(t)&&t!=="classes",Ne=yW({themeId:Gi,defaultTheme:vv,rootShouldForwardProp:Ur});function OY({theme:t,...s}){const a=Gi in t?t[Gi]:void 0;return e.jsx(h7,{...s,themeId:a?Gi:void 0,theme:a||t})}const X0={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:FY}=XW({themeId:Gi,theme:()=>yv({cssVariables:!0}),colorSchemeStorageKey:X0.colorSchemeStorageKey,modeStorageKey:X0.modeStorageKey,defaultColorScheme:{light:X0.defaultLightColorScheme,dark:X0.defaultDarkColorScheme},resolveTheme:t=>{const s={...t,typography:y7(t.palette,t.typography)};return s.unstable_sx=function(r){return Yc({sx:r,theme:this})},s}}),LY=FY;function $Y({theme:t,...s}){const a=g.useMemo(()=>{if(typeof t=="function")return t;const r=Gi in t?t[Gi]:t;return"colorSchemes"in r?null:"vars"in r?t:{...t,vars:null}},[t]);return a?e.jsx(OY,{theme:a,...s}):e.jsx(LY,{theme:t,...s})}function b_(...t){return t.reduce((s,a)=>a==null?s:function(...n){s.apply(this,n),a.apply(this,n)},()=>{})}function zY(t){return e.jsx(t7,{...t,defaultTheme:vv,themeId:Gi})}function qY(t){return function(a){return e.jsx(zY,{styles:typeof t=="function"?r=>t({theme:r,...a}):t})}}function BY(){return s7}const Wt=VW;function ts(t){return zW(t)}function UY(t){return Tt("MuiSvgIcon",t)}Et("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const VY=t=>{const{color:s,fontSize:a,classes:r}=t,n={root:["root",s!=="inherit"&&`color${Ke(s)}`,`fontSize${Ke(a)}`]};return kt(n,UY,r)},HY=Ne("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.color!=="inherit"&&s[`color${Ke(a.color)}`],s[`fontSize${Ke(a.fontSize)}`]]}})(Wt(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:s=>!s.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,s])=>s&&s.main).map(([s])=>({props:{color:s},style:{color:(t.vars??t).palette?.[s]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),y_=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiSvgIcon"}),{children:n,className:i,color:o="inherit",component:l="svg",fontSize:c="medium",htmlColor:m,inheritViewBox:d=!1,titleAccess:p,viewBox:x="0 0 24 24",...j}=r,_=g.isValidElement(n)&&n.type==="svg",S={...r,color:o,component:l,fontSize:c,instanceFontSize:s.fontSize,inheritViewBox:d,viewBox:x,hasSvgAsChild:_},v={};d||(v.viewBox=x);const y=VY(S);return e.jsxs(HY,{as:l,className:Je(y.root,i),focusable:"false",color:m,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:a,...v,...j,..._&&n.props,ownerState:S,children:[_?n.props.children:n,p?e.jsx("title",{children:p}):null]})});y_.muiName="SvgIcon";function Lt(t,s){function a(r,n){return e.jsx(y_,{"data-testid":void 0,ref:n,...r,children:t})}return a.muiName=y_.muiName,g.memo(g.forwardRef(a))}function mg(t,s=166){let a;function r(...n){const i=()=>{t.apply(this,n)};clearTimeout(a),a=setTimeout(i,s)}return r.clear=()=>{clearTimeout(a)},r}function cr(t){return t&&t.ownerDocument||document}function xi(t){return cr(t).defaultView||window}function v_(t,s){typeof t=="function"?t(s):t&&(t.current=s)}function _n(t){const{controlled:s,default:a,name:r,state:n="value"}=t,{current:i}=g.useRef(s!==void 0),[o,l]=g.useState(a),c=i?s:o,m=g.useCallback(d=>{i||l(d)},[]);return[c,m]}function Ot(t){const s=g.useRef(t);return Ia(()=>{s.current=t}),g.useRef((...a)=>(0,s.current)(...a)).current}function Us(...t){const s=g.useRef(void 0),a=g.useCallback(r=>{const n=t.map(i=>{if(i==null)return null;if(typeof i=="function"){const o=i,l=o(r);return typeof l=="function"?l:()=>{o(null)}}return i.current=r,()=>{i.current=null}});return()=>{n.forEach(i=>i?.())}},t);return g.useMemo(()=>t.every(r=>r==null)?null:r=>{s.current&&(s.current(),s.current=void 0),r!=null&&(s.current=a(r))},t)}function WY(t,s){const a=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&a>=65&&a<=90&&typeof s=="function"}function g4(t,s){if(!t)return s;function a(o,l){const c={};return Object.keys(l).forEach(m=>{WY(m,l[m])&&typeof o[m]=="function"&&(c[m]=(...d)=>{o[m](...d),l[m](...d)})}),c}if(typeof t=="function"||typeof s=="function")return o=>{const l=typeof s=="function"?s(o):s,c=typeof t=="function"?t({...o,...l}):t,m=Je(o?.className,l?.className,c?.className),d=a(c,l);return{...l,...c,...d,...!!m&&{className:m},...l?.style&&c?.style&&{style:{...l.style,...c.style}},...l?.sx&&c?.sx&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const r=s,n=a(t,r),i=Je(r?.className,t?.className);return{...s,...t,...n,...!!i&&{className:i},...r?.style&&t?.style&&{style:{...r.style,...t.style}},...r?.sx&&t?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function rs(t,s){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(s.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function j_(t,s){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},j_(t,s)}function b4(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t,j_(t,s)}function YY(t,s){return t.classList?!!s&&t.classList.contains(s):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+s+" ")!==-1}function GY(t,s){t.classList?t.classList.add(s):YY(t,s)||(typeof t.className=="string"?t.className=t.className+" "+s:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+s))}function kk(t,s){return t.replace(new RegExp("(^|\\s)"+s+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function KY(t,s){t.classList?t.classList.remove(s):typeof t.className=="string"?t.className=kk(t.className,s):t.setAttribute("class",kk(t.className&&t.className.baseVal||"",s))}const Ek={disabled:!1},gy=yt.createContext(null);var S7=function(s){return s.scrollTop},hf="unmounted",Ld="exited",$d="entering",wm="entered",N_="exiting",ji=(function(t){b4(s,t);function s(r,n){var i;i=t.call(this,r,n)||this;var o=n,l=o&&!o.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?l?(c=Ld,i.appearStatus=$d):c=wm:r.unmountOnExit||r.mountOnEnter?c=hf:c=Ld,i.state={status:c},i.nextCallback=null,i}s.getDerivedStateFromProps=function(n,i){var o=n.in;return o&&i.status===hf?{status:Ld}:null};var a=s.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(n){var i=null;if(n!==this.props){var o=this.state.status;this.props.in?o!==$d&&o!==wm&&(i=$d):(o===$d||o===wm)&&(i=N_)}this.updateStatus(!1,i)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var n=this.props.timeout,i,o,l;return i=o=l=n,n!=null&&typeof n!="number"&&(i=n.exit,o=n.enter,l=n.appear!==void 0?n.appear:o),{exit:i,enter:o,appear:l}},a.updateStatus=function(n,i){if(n===void 0&&(n=!1),i!==null)if(this.cancelNextCallback(),i===$d){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:uf.findDOMNode(this);o&&S7(o)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ld&&this.setState({status:hf})},a.performEnter=function(n){var i=this,o=this.props.enter,l=this.context?this.context.isMounting:n,c=this.props.nodeRef?[l]:[uf.findDOMNode(this),l],m=c[0],d=c[1],p=this.getTimeouts(),x=l?p.appear:p.enter;if(!n&&!o||Ek.disabled){this.safeSetState({status:wm},function(){i.props.onEntered(m)});return}this.props.onEnter(m,d),this.safeSetState({status:$d},function(){i.props.onEntering(m,d),i.onTransitionEnd(x,function(){i.safeSetState({status:wm},function(){i.props.onEntered(m,d)})})})},a.performExit=function(){var n=this,i=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:uf.findDOMNode(this);if(!i||Ek.disabled){this.safeSetState({status:Ld},function(){n.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:N_},function(){n.props.onExiting(l),n.onTransitionEnd(o.exit,function(){n.safeSetState({status:Ld},function(){n.props.onExited(l)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(n,i){i=this.setNextCallback(i),this.setState(n,i)},a.setNextCallback=function(n){var i=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,i.nextCallback=null,n(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},a.onTransitionEnd=function(n,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:uf.findDOMNode(this),l=n==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],m=c[0],d=c[1];this.props.addEndListener(m,d)}n!=null&&setTimeout(this.nextCallback,n)},a.render=function(){var n=this.state.status;if(n===hf)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=rs(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return yt.createElement(gy.Provider,{value:null},typeof o=="function"?o(n,l):yt.cloneElement(yt.Children.only(o),l))},s})(yt.Component);ji.contextType=gy;ji.propTypes={};function gm(){}ji.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gm,onEntering:gm,onEntered:gm,onExit:gm,onExiting:gm,onExited:gm};ji.UNMOUNTED=hf;ji.EXITED=Ld;ji.ENTERING=$d;ji.ENTERED=wm;ji.EXITING=N_;var QY=function(s,a){return s&&a&&a.split(" ").forEach(function(r){return GY(s,r)})},tN=function(s,a){return s&&a&&a.split(" ").forEach(function(r){return KY(s,r)})},y4=(function(t){b4(s,t);function s(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(l,c){var m=r.resolveArguments(l,c),d=m[0],p=m[1];r.removeClasses(d,"exit"),r.addClass(d,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(l,c)},r.onEntering=function(l,c){var m=r.resolveArguments(l,c),d=m[0],p=m[1],x=p?"appear":"enter";r.addClass(d,x,"active"),r.props.onEntering&&r.props.onEntering(l,c)},r.onEntered=function(l,c){var m=r.resolveArguments(l,c),d=m[0],p=m[1],x=p?"appear":"enter";r.removeClasses(d,x),r.addClass(d,x,"done"),r.props.onEntered&&r.props.onEntered(l,c)},r.onExit=function(l){var c=r.resolveArguments(l),m=c[0];r.removeClasses(m,"appear"),r.removeClasses(m,"enter"),r.addClass(m,"exit","base"),r.props.onExit&&r.props.onExit(l)},r.onExiting=function(l){var c=r.resolveArguments(l),m=c[0];r.addClass(m,"exit","active"),r.props.onExiting&&r.props.onExiting(l)},r.onExited=function(l){var c=r.resolveArguments(l),m=c[0];r.removeClasses(m,"exit"),r.addClass(m,"exit","done"),r.props.onExited&&r.props.onExited(l)},r.resolveArguments=function(l,c){return r.props.nodeRef?[r.props.nodeRef.current,l]:[l,c]},r.getClassNames=function(l){var c=r.props.classNames,m=typeof c=="string",d=m&&c?c+"-":"",p=m?""+d+l:c[l],x=m?p+"-active":c[l+"Active"],j=m?p+"-done":c[l+"Done"];return{baseClassName:p,activeClassName:x,doneClassName:j}},r}var a=s.prototype;return a.addClass=function(n,i,o){var l=this.getClassNames(i)[o+"ClassName"],c=this.getClassNames("enter"),m=c.doneClassName;i==="appear"&&o==="done"&&m&&(l+=" "+m),o==="active"&&n&&S7(n),l&&(this.appliedClasses[i][o]=l,QY(n,l))},a.removeClasses=function(n,i){var o=this.appliedClasses[i],l=o.base,c=o.active,m=o.done;this.appliedClasses[i]={},l&&tN(n,l),c&&tN(n,c),m&&tN(n,m)},a.render=function(){var n=this.props;n.classNames;var i=rs(n,["classNames"]);return yt.createElement(ji,je({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},s})(yt.Component);y4.defaultProps={classNames:""};y4.propTypes={};function ZY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v4(t,s){var a=function(i){return s&&g.isValidElement(i)?s(i):i},r=Object.create(null);return t&&g.Children.map(t,function(n){return n}).forEach(function(n){r[n.key]=a(n)}),r}function XY(t,s){t=t||{},s=s||{};function a(d){return d in s?s[d]:t[d]}var r=Object.create(null),n=[];for(var i in t)i in s?n.length&&(r[i]=n,n=[]):n.push(i);var o,l={};for(var c in s){if(r[c])for(o=0;o<r[c].length;o++){var m=r[c][o];l[r[c][o]]=a(m)}l[c]=a(c)}for(o=0;o<n.length;o++)l[n[o]]=a(n[o]);return l}function Kd(t,s,a){return a[s]!=null?a[s]:t.props[s]}function JY(t,s){return v4(t.children,function(a){return g.cloneElement(a,{onExited:s.bind(null,a),in:!0,appear:Kd(a,"appear",t),enter:Kd(a,"enter",t),exit:Kd(a,"exit",t)})})}function eG(t,s,a){var r=v4(t.children),n=XY(s,r);return Object.keys(n).forEach(function(i){var o=n[i];if(g.isValidElement(o)){var l=i in s,c=i in r,m=s[i],d=g.isValidElement(m)&&!m.props.in;c&&(!l||d)?n[i]=g.cloneElement(o,{onExited:a.bind(null,o),in:!0,exit:Kd(o,"exit",t),enter:Kd(o,"enter",t)}):!c&&l&&!d?n[i]=g.cloneElement(o,{in:!1}):c&&l&&g.isValidElement(m)&&(n[i]=g.cloneElement(o,{onExited:a.bind(null,o),in:m.props.in,exit:Kd(o,"exit",t),enter:Kd(o,"enter",t)}))}}),n}var tG=Object.values||function(t){return Object.keys(t).map(function(s){return t[s]})},sG={component:"div",childFactory:function(s){return s}},pg=(function(t){b4(s,t);function s(r,n){var i;i=t.call(this,r,n)||this;var o=i.handleExited.bind(ZY(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var a=s.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(n,i){var o=i.children,l=i.handleExited,c=i.firstRender;return{children:c?JY(n,l):eG(n,o,l),firstRender:!1}},a.handleExited=function(n,i){var o=v4(this.props.children);n.key in o||(n.props.onExited&&n.props.onExited(i),this.mounted&&this.setState(function(l){var c=je({},l.children);return delete c[n.key],{children:c}}))},a.render=function(){var n=this.props,i=n.component,o=n.childFactory,l=rs(n,["component","childFactory"]),c=this.state.contextValue,m=tG(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,i===null?yt.createElement(gy.Provider,{value:c},m):yt.createElement(gy.Provider,{value:c},yt.createElement(i,l,m))},s})(yt.Component);pg.propTypes={};pg.defaultProps=sG;const Tk={};function C7(t,s){const a=g.useRef(Tk);return a.current===Tk&&(a.current=t(s)),a}const aG=[];function rG(t){g.useEffect(t,aG)}class jv{static create(){return new jv}currentId=null;start(s,a){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,a()},s)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function ci(){const t=C7(jv.create).current;return rG(t.disposeEffect),t}const j4=t=>t.scrollTop;function Kc(t,s){const{timeout:a,easing:r,style:n={}}=t;return{duration:n.transitionDuration??(typeof a=="number"?a:a[s.mode]||0),easing:n.transitionTimingFunction??(typeof r=="object"?r[s.mode]:r),delay:n.transitionDelay}}function nG(t){return Tt("MuiCollapse",t)}Et("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const iG=t=>{const{orientation:s,classes:a}=t,r={root:["root",`${s}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${s}`],wrapperInner:["wrapperInner",`${s}`]};return kt(r,nG,a)},oG=Ne("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.orientation],a.state==="entered"&&s.entered,a.state==="exited"&&!a.in&&a.collapsedSize==="0px"&&s.hidden]}})(Wt(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:s})=>s.state==="exited"&&!s.in&&s.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),lG=Ne("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),cG=Ne("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),__=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiCollapse"}),{addEndListener:n,children:i,className:o,collapsedSize:l="0px",component:c,easing:m,in:d,onEnter:p,onEntered:x,onEntering:j,onExit:_,onExited:S,onExiting:v,orientation:y="vertical",style:N,timeout:C=v7.standard,TransitionComponent:P=ji,...E}=r,D={...r,orientation:y,collapsedSize:l},T=iG(D),A=vi(),I=ci(),F=g.useRef(null),z=g.useRef(),O=typeof l=="number"?`${l}px`:l,K=y==="horizontal",W=K?"width":"height",B=g.useRef(null),q=Us(a,B),H=ee=>ne=>{if(ee){const he=B.current;ne===void 0?ee(he):ee(he,ne)}},Q=()=>F.current?F.current[K?"clientWidth":"clientHeight"]:0,V=H((ee,ne)=>{F.current&&K&&(F.current.style.position="absolute"),ee.style[W]=O,p&&p(ee,ne)}),M=H((ee,ne)=>{const he=Q();F.current&&K&&(F.current.style.position="");const{duration:de,easing:ae}=Kc({style:N,timeout:C,easing:m},{mode:"enter"});if(C==="auto"){const xe=A.transitions.getAutoHeightDuration(he);ee.style.transitionDuration=`${xe}ms`,z.current=xe}else ee.style.transitionDuration=typeof de=="string"?de:`${de}ms`;ee.style[W]=`${he}px`,ee.style.transitionTimingFunction=ae,j&&j(ee,ne)}),R=H((ee,ne)=>{ee.style[W]="auto",x&&x(ee,ne)}),$=H(ee=>{ee.style[W]=`${Q()}px`,_&&_(ee)}),Y=H(S),J=H(ee=>{const ne=Q(),{duration:he,easing:de}=Kc({style:N,timeout:C,easing:m},{mode:"exit"});if(C==="auto"){const ae=A.transitions.getAutoHeightDuration(ne);ee.style.transitionDuration=`${ae}ms`,z.current=ae}else ee.style.transitionDuration=typeof he=="string"?he:`${he}ms`;ee.style[W]=O,ee.style.transitionTimingFunction=de,v&&v(ee)}),te=ee=>{C==="auto"&&I.start(z.current||0,ee),n&&n(B.current,ee)};return e.jsx(P,{in:d,onEnter:V,onEntered:R,onEntering:M,onExit:$,onExited:Y,onExiting:J,addEndListener:te,nodeRef:B,timeout:C==="auto"?null:C,...E,children:(ee,{ownerState:ne,...he})=>e.jsx(oG,{as:c,className:Je(T.root,o,{entered:T.entered,exited:!d&&O==="0px"&&T.hidden}[ee]),style:{[K?"minWidth":"minHeight"]:O,...N},ref:q,ownerState:{...D,state:ee},...he,children:e.jsx(lG,{ownerState:{...D,state:ee},className:T.wrapper,ref:F,children:e.jsx(cG,{ownerState:{...D,state:ee},className:T.wrapperInner,children:i})})})})});__&&(__.muiSupportAuto=!0);function dG(t){return Tt("MuiPaper",t)}Et("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const uG=t=>{const{square:s,elevation:a,variant:r,classes:n}=t,i={root:["root",r,!s&&"rounded",r==="elevation"&&`elevation${a}`]};return kt(i,dG,n)},mG=Ne("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],!a.square&&s.rounded,a.variant==="elevation"&&s[`elevation${a.elevation}`]]}})(Wt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:s})=>!s.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),la=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiPaper"}),n=vi(),{className:i,component:o="div",elevation:l=1,square:c=!1,variant:m="elevation",...d}=r,p={...r,component:o,elevation:l,square:c,variant:m},x=uG(p);return e.jsx(mG,{as:o,ownerState:p,className:Je(x.root,i),ref:a,...d,style:{...m==="elevation"&&{"--Paper-shadow":(n.vars||n).shadows[l],...n.vars&&{"--Paper-overlay":n.vars.overlays?.[l]},...!n.vars&&n.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Sn("#fff",g_(l))}, ${Sn("#fff",g_(l))})`}},...d.style}})});function tp(t){return typeof t=="string"}function P7(t,s,a){return t===void 0||tp(t)?s:{...s,ownerState:{...s.ownerState,...a}}}function mn(t,s,a){return typeof t=="function"?t(s,a):t}function k7(t,s=[]){if(t===void 0)return{};const a={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!s.includes(r)).forEach(r=>{a[r]=t[r]}),a}function Mk(t){if(t===void 0)return{};const s={};return Object.keys(t).filter(a=>!(a.match(/^on[A-Z]/)&&typeof t[a]=="function")).forEach(a=>{s[a]=t[a]}),s}function E7(t){const{getSlotProps:s,additionalProps:a,externalSlotProps:r,externalForwardedProps:n,className:i}=t;if(!s){const j=Je(a?.className,i,n?.className,r?.className),_={...a?.style,...n?.style,...r?.style},S={...a,...n,...r};return j.length>0&&(S.className=j),Object.keys(_).length>0&&(S.style=_),{props:S,internalRef:void 0}}const o=k7({...n,...r}),l=Mk(r),c=Mk(n),m=s(o),d=Je(m?.className,a?.className,i,n?.className,r?.className),p={...m?.style,...a?.style,...n?.style,...r?.style},x={...m,...a,...c,...l};return d.length>0&&(x.className=d),Object.keys(p).length>0&&(x.style=p),{props:x,internalRef:m.ref}}function Gt(t,s){const{className:a,elementType:r,ownerState:n,externalForwardedProps:i,internalForwardedProps:o,shouldForwardComponentProp:l=!1,...c}=s,{component:m,slots:d={[t]:void 0},slotProps:p={[t]:void 0},...x}=i,j=d[t]||r,_=mn(p[t],n),{props:{component:S,...v},internalRef:y}=E7({className:a,...c,externalForwardedProps:t==="root"?x:void 0,externalSlotProps:_}),N=Us(y,_?.ref,s.ref),C=t==="root"?S||m:S,P=P7(j,{...t==="root"&&!m&&!d[t]&&o,...t!=="root"&&!d[t]&&o,...v,...C&&!l&&{as:C},...C&&l&&{component:C},ref:N},n);return[j,P]}const Sp=re.oneOfType([re.func,re.object]);function sp(t){try{return t.matches(":focus-visible")}catch{}return!1}class by{static create(){return new by}static use(){const s=C7(by.create).current,[a,r]=g.useState(!1);return s.shouldMount=a,s.setShouldMount=r,g.useEffect(s.mountEffect,[a]),s}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=hG(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...s){this.mount().then(()=>this.ref.current?.start(...s))}stop(...s){this.mount().then(()=>this.ref.current?.stop(...s))}pulsate(...s){this.mount().then(()=>this.ref.current?.pulsate(...s))}}function pG(){return by.use()}function hG(){let t,s;const a=new Promise((r,n)=>{t=r,s=n});return a.resolve=t,a.reject=s,a}function fG(t){const{className:s,classes:a,pulsate:r=!1,rippleX:n,rippleY:i,rippleSize:o,in:l,onExited:c,timeout:m}=t,[d,p]=g.useState(!1),x=Je(s,a.ripple,a.rippleVisible,r&&a.ripplePulsate),j={width:o,height:o,top:-(o/2)+i,left:-(o/2)+n},_=Je(a.child,d&&a.childLeaving,r&&a.childPulsate);return!l&&!d&&p(!0),g.useEffect(()=>{if(!l&&c!=null){const S=setTimeout(c,m);return()=>{clearTimeout(S)}}},[c,l,m]),e.jsx("span",{className:x,style:j,children:e.jsx("span",{className:_})})}const zi=Et("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),w_=550,xG=80,gG=il`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,bG=il`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,yG=il`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,vG=Ne("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),jG=Ne(fG,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${zi.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${gG};
    animation-duration: ${w_}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${zi.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${zi.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${zi.childLeaving} {
    opacity: 0;
    animation-name: ${bG};
    animation-duration: ${w_}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${zi.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${yG};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,NG=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiTouchRipple"}),{center:n=!1,classes:i={},className:o,...l}=r,[c,m]=g.useState([]),d=g.useRef(0),p=g.useRef(null);g.useEffect(()=>{p.current&&(p.current(),p.current=null)},[c]);const x=g.useRef(!1),j=ci(),_=g.useRef(null),S=g.useRef(null),v=g.useCallback(P=>{const{pulsate:E,rippleX:D,rippleY:T,rippleSize:A,cb:I}=P;m(F=>[...F,e.jsx(jG,{classes:{ripple:Je(i.ripple,zi.ripple),rippleVisible:Je(i.rippleVisible,zi.rippleVisible),ripplePulsate:Je(i.ripplePulsate,zi.ripplePulsate),child:Je(i.child,zi.child),childLeaving:Je(i.childLeaving,zi.childLeaving),childPulsate:Je(i.childPulsate,zi.childPulsate)},timeout:w_,pulsate:E,rippleX:D,rippleY:T,rippleSize:A},d.current)]),d.current+=1,p.current=I},[i]),y=g.useCallback((P={},E={},D=()=>{})=>{const{pulsate:T=!1,center:A=n||E.pulsate,fakeElement:I=!1}=E;if(P?.type==="mousedown"&&x.current){x.current=!1;return}P?.type==="touchstart"&&(x.current=!0);const F=I?null:S.current,z=F?F.getBoundingClientRect():{width:0,height:0,left:0,top:0};let O,K,W;if(A||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)O=Math.round(z.width/2),K=Math.round(z.height/2);else{const{clientX:B,clientY:q}=P.touches&&P.touches.length>0?P.touches[0]:P;O=Math.round(B-z.left),K=Math.round(q-z.top)}if(A)W=Math.sqrt((2*z.width**2+z.height**2)/3),W%2===0&&(W+=1);else{const B=Math.max(Math.abs((F?F.clientWidth:0)-O),O)*2+2,q=Math.max(Math.abs((F?F.clientHeight:0)-K),K)*2+2;W=Math.sqrt(B**2+q**2)}P?.touches?_.current===null&&(_.current=()=>{v({pulsate:T,rippleX:O,rippleY:K,rippleSize:W,cb:D})},j.start(xG,()=>{_.current&&(_.current(),_.current=null)})):v({pulsate:T,rippleX:O,rippleY:K,rippleSize:W,cb:D})},[n,v,j]),N=g.useCallback(()=>{y({},{pulsate:!0})},[y]),C=g.useCallback((P,E)=>{if(j.clear(),P?.type==="touchend"&&_.current){_.current(),_.current=null,j.start(0,()=>{C(P,E)});return}_.current=null,m(D=>D.length>0?D.slice(1):D),p.current=E},[j]);return g.useImperativeHandle(a,()=>({pulsate:N,start:y,stop:C}),[N,y,C]),e.jsx(vG,{className:Je(zi.root,i.root,o),ref:S,...l,children:e.jsx(pg,{component:null,exit:!0,children:c})})});function _G(t){return Tt("MuiButtonBase",t)}const wG=Et("MuiButtonBase",["root","disabled","focusVisible"]),SG=t=>{const{disabled:s,focusVisible:a,focusVisibleClassName:r,classes:n}=t,o=kt({root:["root",s&&"disabled",a&&"focusVisible"]},_G,n);return a&&r&&(o.root+=` ${r}`),o},CG=Ne("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${wG.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),eo=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiButtonBase"}),{action:n,centerRipple:i=!1,children:o,className:l,component:c="button",disabled:m=!1,disableRipple:d=!1,disableTouchRipple:p=!1,focusRipple:x=!1,focusVisibleClassName:j,LinkComponent:_="a",onBlur:S,onClick:v,onContextMenu:y,onDragLeave:N,onFocus:C,onFocusVisible:P,onKeyDown:E,onKeyUp:D,onMouseDown:T,onMouseLeave:A,onMouseUp:I,onTouchEnd:F,onTouchMove:z,onTouchStart:O,tabIndex:K=0,TouchRippleProps:W,touchRippleRef:B,type:q,...H}=r,Q=g.useRef(null),V=pG(),M=Us(V.ref,B),[R,$]=g.useState(!1);m&&R&&$(!1),g.useImperativeHandle(n,()=>({focusVisible:()=>{$(!0),Q.current.focus()}}),[]);const Y=V.shouldMount&&!d&&!m;g.useEffect(()=>{R&&x&&!d&&V.pulsate()},[d,x,R,V]);const J=Pl(V,"start",T,p),te=Pl(V,"stop",y,p),ee=Pl(V,"stop",N,p),ne=Pl(V,"stop",I,p),he=Pl(V,"stop",be=>{R&&be.preventDefault(),A&&A(be)},p),de=Pl(V,"start",O,p),ae=Pl(V,"stop",F,p),xe=Pl(V,"stop",z,p),ge=Pl(V,"stop",be=>{sp(be.target)||$(!1),S&&S(be)},!1),le=Ot(be=>{Q.current||(Q.current=be.currentTarget),sp(be.target)&&($(!0),P&&P(be)),C&&C(be)}),me=()=>{const be=Q.current;return c&&c!=="button"&&!(be.tagName==="A"&&be.href)},Ae=Ot(be=>{x&&!be.repeat&&R&&be.key===" "&&V.stop(be,()=>{V.start(be)}),be.target===be.currentTarget&&me()&&be.key===" "&&be.preventDefault(),E&&E(be),be.target===be.currentTarget&&me()&&be.key==="Enter"&&!m&&(be.preventDefault(),v&&v(be))}),Ce=Ot(be=>{x&&be.key===" "&&R&&!be.defaultPrevented&&V.stop(be,()=>{V.pulsate(be)}),D&&D(be),v&&be.target===be.currentTarget&&me()&&be.key===" "&&!be.defaultPrevented&&v(be)});let _e=c;_e==="button"&&(H.href||H.to)&&(_e=_);const Ie={};_e==="button"?(Ie.type=q===void 0?"button":q,Ie.disabled=m):(!H.href&&!H.to&&(Ie.role="button"),m&&(Ie["aria-disabled"]=m));const et=Us(a,Q),ke={...r,centerRipple:i,component:c,disabled:m,disableRipple:d,disableTouchRipple:p,focusRipple:x,tabIndex:K,focusVisible:R},He=SG(ke);return e.jsxs(CG,{as:_e,className:Je(He.root,l),ownerState:ke,onBlur:ge,onClick:v,onContextMenu:te,onFocus:le,onKeyDown:Ae,onKeyUp:Ce,onMouseDown:J,onMouseLeave:he,onMouseUp:ne,onDragLeave:ee,onTouchEnd:ae,onTouchMove:xe,onTouchStart:de,ref:et,tabIndex:m?-1:K,type:q,...Ie,...H,children:[o,Y?e.jsx(NG,{ref:M,center:i,...W}):null]})});function Pl(t,s,a,r=!1){return Ot(n=>(a&&a(n),r||t[s](n),!0))}function PG(t){return typeof t.main=="string"}function kG(t,s=[]){if(!PG(t))return!1;for(const a of s)if(!t.hasOwnProperty(a)||typeof t[a]!="string")return!1;return!0}function ga(t=[]){return([,s])=>s&&kG(s,t)}function EG(t){return Tt("MuiAlert",t)}const Dk=Et("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function TG(t){return Tt("MuiCircularProgress",t)}Et("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const wc=44,S_=il`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,C_=il`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,MG=typeof S_!="string"?rd`
        animation: ${S_} 1.4s linear infinite;
      `:null,DG=typeof C_!="string"?rd`
        animation: ${C_} 1.4s ease-in-out infinite;
      `:null,RG=t=>{const{classes:s,variant:a,color:r,disableShrink:n}=t,i={root:["root",a,`color${Ke(r)}`],svg:["svg"],circle:["circle",`circle${Ke(a)}`,n&&"circleDisableShrink"]};return kt(i,TG,s)},AG=Ne("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],s[`color${Ke(a.color)}`]]}})(Wt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:MG||{animation:`${S_} 1.4s linear infinite`}},...Object.entries(t.palette).filter(ga()).map(([s])=>({props:{color:s},style:{color:(t.vars||t).palette[s].main}}))]}))),IG=Ne("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),OG=Ne("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.circle,s[`circle${Ke(a.variant)}`],a.disableShrink&&s.circleDisableShrink]}})(Wt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:s})=>s.variant==="indeterminate"&&!s.disableShrink,style:DG||{animation:`${C_} 1.4s ease-in-out infinite`}}]}))),to=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiCircularProgress"}),{className:n,color:i="primary",disableShrink:o=!1,size:l=40,style:c,thickness:m=3.6,value:d=0,variant:p="indeterminate",...x}=r,j={...r,color:i,disableShrink:o,size:l,thickness:m,value:d,variant:p},_=RG(j),S={},v={},y={};if(p==="determinate"){const N=2*Math.PI*((wc-m)/2);S.strokeDasharray=N.toFixed(3),y["aria-valuenow"]=Math.round(d),S.strokeDashoffset=`${((100-d)/100*N).toFixed(3)}px`,v.transform="rotate(-90deg)"}return e.jsx(AG,{className:Je(_.root,n),style:{width:l,height:l,...v,...c},ownerState:j,ref:a,role:"progressbar",...y,...x,children:e.jsx(IG,{className:_.svg,ownerState:j,viewBox:`${wc/2} ${wc/2} ${wc} ${wc}`,children:e.jsx(OG,{className:_.circle,style:S,ownerState:j,cx:wc,cy:wc,r:(wc-m)/2,fill:"none",strokeWidth:m})})})});function FG(t){return Tt("MuiIconButton",t)}const Rk=Et("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),LG=t=>{const{classes:s,disabled:a,color:r,edge:n,size:i,loading:o}=t,l={root:["root",o&&"loading",a&&"disabled",r!=="default"&&`color${Ke(r)}`,n&&`edge${Ke(n)}`,`size${Ke(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return kt(l,FG,s)},$G=Ne(eo,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.loading&&s.loading,a.color!=="default"&&s[`color${Ke(a.color)}`],a.edge&&s[`edge${Ke(a.edge)}`],s[`size${Ke(a.size)}`]]}})(Wt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:s=>!s.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Wt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(ga()).map(([s])=>({props:{color:s},style:{color:(t.vars||t).palette[s].main}})),...Object.entries(t.palette).filter(ga()).map(([s])=>({props:{color:s},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[s].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${Rk.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${Rk.loading}`]:{color:"transparent"}}))),zG=Ne("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Ws=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiIconButton"}),{edge:n=!1,children:i,className:o,color:l="default",disabled:c=!1,disableFocusRipple:m=!1,size:d="medium",id:p,loading:x=null,loadingIndicator:j,..._}=r,S=Cn(p),v=j??e.jsx(to,{"aria-labelledby":S,color:"inherit",size:16}),y={...r,edge:n,color:l,disabled:c,disableFocusRipple:m,loading:x,loadingIndicator:v,size:d},N=LG(y);return e.jsxs($G,{id:x?S:p,className:Je(N.root,o),centerRipple:!0,focusRipple:!m,disabled:c||x,ref:a,..._,ownerState:y,children:[typeof x=="boolean"&&e.jsx("span",{className:N.loadingWrapper,style:{display:"contents"},children:e.jsx(zG,{className:N.loadingIndicator,ownerState:y,children:x&&v})}),i]})}),qG=Lt(e.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),BG=Lt(e.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),UG=Lt(e.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),VG=Lt(e.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),T7=Lt(e.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),HG=t=>{const{variant:s,color:a,severity:r,classes:n}=t,i={root:["root",`color${Ke(a||r)}`,`${s}${Ke(a||r)}`,`${s}`],icon:["icon"],message:["message"],action:["action"]};return kt(i,EG,n)},WG=Ne(la,{name:"MuiAlert",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],s[`${a.variant}${Ke(a.color||a.severity)}`]]}})(Wt(({theme:t})=>{const s=t.palette.mode==="light"?t.darken:t.lighten,a=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(ga(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:s(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:a(t.palette[r].light,.9),[`& .${Dk.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(ga(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:s(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${Dk.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(ga(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}))]}})),YG=Ne("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),GG=Ne("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),KG=Ne("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Ak={success:e.jsx(qG,{fontSize:"inherit"}),warning:e.jsx(BG,{fontSize:"inherit"}),error:e.jsx(UG,{fontSize:"inherit"}),info:e.jsx(VG,{fontSize:"inherit"})},lt=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiAlert"}),{action:n,children:i,className:o,closeText:l="Close",color:c,components:m={},componentsProps:d={},icon:p,iconMapping:x=Ak,onClose:j,role:_="alert",severity:S="success",slotProps:v={},slots:y={},variant:N="standard",...C}=r,P={...r,color:c,severity:S,variant:N,colorSeverity:c||S},E=HG(P),D={slots:{closeButton:m.CloseButton,closeIcon:m.CloseIcon,...y},slotProps:{...d,...v}},[T,A]=Gt("root",{ref:a,shouldForwardComponentProp:!0,className:Je(E.root,o),elementType:WG,externalForwardedProps:{...D,...C},ownerState:P,additionalProps:{role:_,elevation:0}}),[I,F]=Gt("icon",{className:E.icon,elementType:YG,externalForwardedProps:D,ownerState:P}),[z,O]=Gt("message",{className:E.message,elementType:GG,externalForwardedProps:D,ownerState:P}),[K,W]=Gt("action",{className:E.action,elementType:KG,externalForwardedProps:D,ownerState:P}),[B,q]=Gt("closeButton",{elementType:Ws,externalForwardedProps:D,ownerState:P}),[H,Q]=Gt("closeIcon",{elementType:T7,externalForwardedProps:D,ownerState:P});return e.jsxs(T,{...A,children:[p!==!1?e.jsx(I,{...F,children:p||x[S]||Ak[S]}):null,e.jsx(z,{...O,children:i}),n!=null?e.jsx(K,{...W,children:n}):null,n==null&&j?e.jsx(K,{...W,children:e.jsx(B,{size:"small","aria-label":l,title:l,color:"inherit",onClick:j,...q,children:e.jsx(H,{fontSize:"small",...Q})})}):null]})});function QG(t){return Tt("MuiTypography",t)}const Ik=Et("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),ZG={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},XG=BY(),JG=t=>{const{align:s,gutterBottom:a,noWrap:r,paragraph:n,variant:i,classes:o}=t,l={root:["root",i,t.align!=="inherit"&&`align${Ke(s)}`,a&&"gutterBottom",r&&"noWrap",n&&"paragraph"]};return kt(l,QG,o)},eK=Ne("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.variant&&s[a.variant],a.align!=="inherit"&&s[`align${Ke(a.align)}`],a.noWrap&&s.noWrap,a.gutterBottom&&s.gutterBottom,a.paragraph&&s.paragraph]}})(Wt(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([s,a])=>s!=="inherit"&&a&&typeof a=="object").map(([s,a])=>({props:{variant:s},style:a})),...Object.entries(t.palette).filter(ga()).map(([s])=>({props:{color:s},style:{color:(t.vars||t).palette[s].main}})),...Object.entries(t.palette?.text||{}).filter(([,s])=>typeof s=="string").map(([s])=>({props:{color:`text${Ke(s)}`},style:{color:(t.vars||t).palette.text[s]}})),{props:({ownerState:s})=>s.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:s})=>s.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:s})=>s.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:s})=>s.paragraph,style:{marginBottom:16}}]}))),Ok={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},f=g.forwardRef(function(s,a){const{color:r,...n}=ts({props:s,name:"MuiTypography"}),i=!ZG[r],o=XG({...n,...i&&{color:r}}),{align:l="inherit",className:c,component:m,gutterBottom:d=!1,noWrap:p=!1,paragraph:x=!1,variant:j="body1",variantMapping:_=Ok,...S}=o,v={...o,align:l,color:r,className:c,component:m,gutterBottom:d,noWrap:p,paragraph:x,variant:j,variantMapping:_},y=m||(x?"p":_[j]||Ok[j])||"span",N=JG(v);return e.jsx(eK,{as:y,ref:a,className:Je(N.root,c),...S,ownerState:v,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...S.style}})});function N4(t){const s=g.useRef({});return g.useEffect(()=>{s.current=t}),s.current}function Fk({array1:t,array2:s,parser:a=r=>r}){return t&&s&&t.length===s.length&&t.every((r,n)=>a(r)===a(s[n]))}function Lk(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function tK(t={}){const{ignoreAccents:s=!0,ignoreCase:a=!0,limit:r,matchFrom:n="any",stringify:i,trim:o=!1}=t;return(l,{inputValue:c,getOptionLabel:m})=>{let d=o?c.trim():c;a&&(d=d.toLowerCase()),s&&(d=Lk(d));const p=d?l.filter(x=>{let j=(i||m)(x);return a&&(j=j.toLowerCase()),s&&(j=Lk(j)),n==="start"?j.startsWith(d):j.includes(d)}):l;return typeof r=="number"?p.slice(0,r):p}}const sK=tK(),$k=5,aK=t=>t.current!==null&&t.current.parentElement?.contains(document.activeElement),rK=[];function zk(t,s,a,r){if(s||t==null||r)return"";const n=a(t);return typeof n=="string"?n:""}function nK(t){const{unstable_isActiveElementInListbox:s=aK,unstable_classNamePrefix:a="Mui",autoComplete:r=!1,autoHighlight:n=!1,autoSelect:i=!1,blurOnSelect:o=!1,clearOnBlur:l=!t.freeSolo,clearOnEscape:c=!1,componentName:m="useAutocomplete",defaultValue:d=t.multiple?rK:null,disableClearable:p=!1,disableCloseOnSelect:x=!1,disabled:j,disabledItemsFocusable:_=!1,disableListWrap:S=!1,filterOptions:v=sK,filterSelectedOptions:y=!1,freeSolo:N=!1,getOptionDisabled:C,getOptionKey:P,getOptionLabel:E=Ee=>Ee.label??Ee,groupBy:D,handleHomeEndKeys:T=!t.freeSolo,id:A,includeInputInList:I=!1,inputValue:F,isOptionEqualToValue:z=(Ee,Ue)=>Ee===Ue,multiple:O=!1,onChange:K,onClose:W,onHighlightChange:B,onInputChange:q,onOpen:H,open:Q,openOnFocus:V=!1,options:M,readOnly:R=!1,renderValue:$,selectOnFocus:Y=!t.freeSolo,value:J}=t,te=Cn(A);let ee=E;ee=Ee=>{const Ue=E(Ee);return typeof Ue!="string"?String(Ue):Ue};const ne=g.useRef(!1),he=g.useRef(!0),de=g.useRef(null),ae=g.useRef(null),[xe,ge]=g.useState(null),[le,me]=g.useState(-1),Ae=n?0:-1,Ce=g.useRef(Ae),_e=g.useRef(zk(d??J,O,ee)).current,[Ie,et]=_n({controlled:J,default:d,name:m}),[ke,He]=_n({controlled:F,default:_e,name:m,state:"inputValue"}),[be,Ge]=g.useState(!1),at=g.useCallback((Ee,Ue,Dt)=>{if(!(O?Ie.length<Ue.length:Ue!==null)&&!l)return;const Yt=zk(Ue,O,ee,$);ke!==Yt&&(He(Yt),q&&q(Ee,Yt,Dt))},[ee,ke,O,q,He,l,Ie,$]),[vt,dt]=_n({controlled:Q,default:!1,name:m,state:"open"}),[ft,Mt]=g.useState(!0),ye=!O&&Ie!=null&&ke===ee(Ie),Le=vt&&!R,ze=Le?v(M.filter(Ee=>!(y&&(O?Ie:[Ie]).some(Ue=>Ue!==null&&z(Ee,Ue)))),{inputValue:ye&&ft?"":ke,getOptionLabel:ee}):[],jt=N4({filteredOptions:ze,value:Ie,inputValue:ke});g.useEffect(()=>{const Ee=Ie!==jt.value;be&&!Ee||N&&!Ee||at(null,Ie,"reset")},[Ie,at,be,jt.value,N]);const es=vt&&ze.length>0&&!R,Qt=Ot(Ee=>{if(Ee===-1)de.current.focus();else{const Ue=$?"data-item-index":"data-tag-index";xe.querySelector(`[${Ue}="${Ee}"]`).focus()}});g.useEffect(()=>{O&&le>Ie.length-1&&(me(-1),Qt(-1))},[Ie,O,le,Qt]);function rt(Ee,Ue){if(!ae.current||Ee<0||Ee>=ze.length)return-1;let Dt=Ee;for(;;){const Zt=ae.current.querySelector(`[data-option-index="${Dt}"]`),Yt=_?!1:!Zt||Zt.disabled||Zt.getAttribute("aria-disabled")==="true";if(Zt&&Zt.hasAttribute("tabindex")&&!Yt)return Dt;if(Ue==="next"?Dt=(Dt+1)%ze.length:Dt=(Dt-1+ze.length)%ze.length,Dt===Ee)return-1}}const zt=Ot(({event:Ee,index:Ue,reason:Dt})=>{if(Ce.current=Ue,Ue===-1?de.current.removeAttribute("aria-activedescendant"):de.current.setAttribute("aria-activedescendant",`${te}-option-${Ue}`),B&&["mouse","keyboard","touch"].includes(Dt)&&B(Ee,Ue===-1?null:ze[Ue],Dt),!ae.current)return;const Zt=ae.current.querySelector(`[role="option"].${a}-focused`);Zt&&(Zt.classList.remove(`${a}-focused`),Zt.classList.remove(`${a}-focusVisible`));let Yt=ae.current;if(ae.current.getAttribute("role")!=="listbox"&&(Yt=ae.current.parentElement.querySelector('[role="listbox"]')),!Yt)return;if(Ue===-1){Yt.scrollTop=0;return}const Vs=ae.current.querySelector(`[data-option-index="${Ue}"]`);if(Vs&&(Vs.classList.add(`${a}-focused`),Dt==="keyboard"&&Vs.classList.add(`${a}-focusVisible`),Yt.scrollHeight>Yt.clientHeight&&Dt!=="mouse"&&Dt!=="touch")){const Qs=Vs,mr=Yt.clientHeight+Yt.scrollTop,Rs=Qs.offsetTop+Qs.offsetHeight;Rs>mr?Yt.scrollTop=Rs-Yt.clientHeight:Qs.offsetTop-Qs.offsetHeight*(D?1.3:0)<Yt.scrollTop&&(Yt.scrollTop=Qs.offsetTop-Qs.offsetHeight*(D?1.3:0))}}),_t=Ot(({event:Ee,diff:Ue,direction:Dt="next",reason:Zt})=>{if(!Le)return;const Vs=rt((()=>{const Qs=ze.length-1;if(Ue==="reset")return Ae;if(Ue==="start")return 0;if(Ue==="end")return Qs;const mr=Ce.current+Ue;return mr<0?mr===-1&&I?-1:S&&Ce.current!==-1||Math.abs(Ue)>1?0:Qs:mr>Qs?mr===Qs+1&&I?-1:S||Math.abs(Ue)>1?Qs:0:mr})(),Dt);if(zt({index:Vs,reason:Zt,event:Ee}),r&&Ue!=="reset")if(Vs===-1)de.current.value=ke;else{const Qs=ee(ze[Vs]);de.current.value=Qs,Qs.toLowerCase().indexOf(ke.toLowerCase())===0&&ke.length>0&&de.current.setSelectionRange(ke.length,Qs.length)}}),hs=!Fk({array1:jt.filteredOptions,array2:ze,parser:ee}),cs=()=>{const Ee=(Ue,Dt)=>{const Zt=Ue?ee(Ue):"",Yt=Dt?ee(Dt):"";return Zt===Yt};if(Ce.current!==-1&&!Fk({array1:jt.filteredOptions,array2:ze,parser:ee})&&jt.inputValue===ke&&(O?Ie.length===jt.value.length&&jt.value.every((Ue,Dt)=>ee(Ie[Dt])===ee(Ue)):Ee(jt.value,Ie))){const Ue=jt.filteredOptions[Ce.current];if(Ue)return ze.findIndex(Dt=>ee(Dt)===ee(Ue))}return-1},Ns=g.useCallback(()=>{if(!Le)return;const Ee=cs();if(Ee!==-1){Ce.current=Ee;return}const Ue=O?Ie[0]:Ie;if(ze.length===0||Ue==null){_t({diff:"reset"});return}if(ae.current){if(Ue!=null){const Dt=ze[Ce.current];if(O&&Dt&&Ie.findIndex(Yt=>z(Dt,Yt))!==-1)return;const Zt=ze.findIndex(Yt=>z(Yt,Ue));Zt===-1?_t({diff:"reset"}):zt({index:Zt});return}if(Ce.current>=ze.length-1){zt({index:ze.length-1});return}zt({index:Ce.current})}},[ze.length,O?!1:Ie,y,_t,zt,Le,ke,O]),Gs=Ot(Ee=>{v_(ae,Ee),Ee&&Ns()});g.useEffect(()=>{hs&&Ns()},[Ns,hs]);const Is=Ee=>{vt||(dt(!0),Mt(!0),H&&H(Ee))},Ds=(Ee,Ue)=>{vt&&(dt(!1),W&&W(Ee,Ue))},pa=(Ee,Ue,Dt,Zt)=>{if(O){if(Ie.length===Ue.length&&Ie.every((Yt,Vs)=>Yt===Ue[Vs]))return}else if(Ie===Ue)return;K&&K(Ee,Ue,Dt,Zt),et(Ue)},ha=g.useRef(!1),oa=(Ee,Ue,Dt="selectOption",Zt="options")=>{let Yt=Dt,Vs=Ue;if(O){Vs=Array.isArray(Ie)?Ie.slice():[];const Qs=Vs.findIndex(mr=>z(Ue,mr));Qs===-1?Vs.push(Ue):Zt!=="freeSolo"&&(Vs.splice(Qs,1),Yt="removeOption")}at(Ee,Vs,Yt),pa(Ee,Vs,Yt,{option:Ue}),!x&&(!Ee||!Ee.ctrlKey&&!Ee.metaKey)&&Ds(Ee,Yt),(o===!0||o==="touch"&&ha.current||o==="mouse"&&!ha.current)&&de.current.blur()};function qt(Ee,Ue){if(Ee===-1)return-1;let Dt=Ee;for(;;){if(Ue==="next"&&Dt===Ie.length||Ue==="previous"&&Dt===-1)return-1;const Zt=$?"data-item-index":"data-tag-index",Yt=xe.querySelector(`[${Zt}="${Dt}"]`);if(!Yt||!Yt.hasAttribute("tabindex")||Yt.disabled||Yt.getAttribute("aria-disabled")==="true")Dt+=Ue==="next"?1:-1;else return Dt}}const zs=(Ee,Ue)=>{if(!O)return;ke===""&&Ds(Ee,"toggleInput");let Dt=le;le===-1?ke===""&&Ue==="previous"&&(Dt=Ie.length-1):(Dt+=Ue==="next"?1:-1,Dt<0&&(Dt=0),Dt===Ie.length&&(Dt=-1)),Dt=qt(Dt,Ue),me(Dt),Qt(Dt)},Bt=Ee=>{ne.current=!0,He(""),q&&q(Ee,"","clear"),pa(Ee,O?[]:null,"clear")},Ut=Ee=>Ue=>{if(Ee.onKeyDown&&Ee.onKeyDown(Ue),!Ue.defaultMuiPrevented&&(le!==-1&&!["ArrowLeft","ArrowRight"].includes(Ue.key)&&(me(-1),Qt(-1)),Ue.which!==229))switch(Ue.key){case"Home":Le&&T&&(Ue.preventDefault(),_t({diff:"start",direction:"next",reason:"keyboard",event:Ue}));break;case"End":Le&&T&&(Ue.preventDefault(),_t({diff:"end",direction:"previous",reason:"keyboard",event:Ue}));break;case"PageUp":Ue.preventDefault(),_t({diff:-$k,direction:"previous",reason:"keyboard",event:Ue}),Is(Ue);break;case"PageDown":Ue.preventDefault(),_t({diff:$k,direction:"next",reason:"keyboard",event:Ue}),Is(Ue);break;case"ArrowDown":Ue.preventDefault(),_t({diff:1,direction:"next",reason:"keyboard",event:Ue}),Is(Ue);break;case"ArrowUp":Ue.preventDefault(),_t({diff:-1,direction:"previous",reason:"keyboard",event:Ue}),Is(Ue);break;case"ArrowLeft":!O&&$?Qt(0):zs(Ue,"previous");break;case"ArrowRight":!O&&$?Qt(-1):zs(Ue,"next");break;case"Enter":if(Ce.current!==-1&&Le){const Dt=ze[Ce.current],Zt=C?C(Dt):!1;if(Ue.preventDefault(),Zt)return;oa(Ue,Dt,"selectOption"),r&&de.current.setSelectionRange(de.current.value.length,de.current.value.length)}else N&&ke!==""&&ye===!1&&(O&&Ue.preventDefault(),oa(Ue,ke,"createOption","freeSolo"));break;case"Escape":Le?(Ue.preventDefault(),Ue.stopPropagation(),Ds(Ue,"escape")):c&&(ke!==""||O&&Ie.length>0||$)&&(Ue.preventDefault(),Ue.stopPropagation(),Bt(Ue));break;case"Backspace":if(O&&!R&&ke===""&&Ie.length>0){const Dt=le===-1?Ie.length-1:le,Zt=Ie.slice();Zt.splice(Dt,1),pa(Ue,Zt,"removeOption",{option:Ie[Dt]})}!O&&$&&!R&&(et(null),Qt(-1));break;case"Delete":if(O&&!R&&ke===""&&Ie.length>0&&le!==-1){const Dt=le,Zt=Ie.slice();Zt.splice(Dt,1),pa(Ue,Zt,"removeOption",{option:Ie[Dt]})}!O&&$&&!R&&(et(null),Qt(-1));break}},ds=Ee=>{Ge(!0),V&&!ne.current&&Is(Ee)},ve=Ee=>{if(s(ae)){de.current.focus();return}Ge(!1),he.current=!0,ne.current=!1,i&&Ce.current!==-1&&Le?oa(Ee,ze[Ce.current],"blur"):i&&N&&ke!==""?oa(Ee,ke,"blur","freeSolo"):l&&at(Ee,Ie,"blur"),Ds(Ee,"blur")},Pe=Ee=>{const Ue=Ee.target.value;ke!==Ue&&(He(Ue),Mt(!1),q&&q(Ee,Ue,"input")),Ue===""?!p&&!O&&pa(Ee,null,"clear"):Is(Ee)},Be=Ee=>{const Ue=Number(Ee.currentTarget.getAttribute("data-option-index"));Ce.current!==Ue&&zt({event:Ee,index:Ue,reason:"mouse"})},gt=Ee=>{zt({event:Ee,index:Number(Ee.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ha.current=!0},ue=Ee=>{const Ue=Number(Ee.currentTarget.getAttribute("data-option-index"));oa(Ee,ze[Ue],"selectOption"),ha.current=!1},Me=Ee=>Ue=>{const Dt=Ie.slice();Dt.splice(Ee,1),pa(Ue,Dt,"removeOption",{option:Ie[Ee]})},Oe=Ee=>{pa(Ee,null,"removeOption",{option:Ie})},xt=Ee=>{vt?Ds(Ee,"toggleInput"):Is(Ee)},Ct=Ee=>{Ee.currentTarget.contains(Ee.target)&&Ee.target.getAttribute("id")!==te&&Ee.preventDefault()},Kt=Ee=>{Ee.currentTarget.contains(Ee.target)&&(de.current.focus(),Y&&he.current&&de.current.selectionEnd-de.current.selectionStart===0&&de.current.select(),he.current=!1)},as=Ee=>{!j&&(ke===""||!vt)&&xt(Ee)};let qe=N&&ke.length>0;qe=qe||(O?Ie.length>0:Ie!==null);let At=ze;return D&&(At=ze.reduce((Ee,Ue,Dt)=>{const Zt=D(Ue);return Ee.length>0&&Ee[Ee.length-1].group===Zt?Ee[Ee.length-1].options.push(Ue):Ee.push({key:Dt,index:Dt,group:Zt,options:[Ue]}),Ee},[])),j&&be&&ve(),{getRootProps:(Ee={})=>({...Ee,onKeyDown:Ut(Ee),onMouseDown:Ct,onClick:Kt}),getInputLabelProps:()=>({id:`${te}-label`,htmlFor:te}),getInputProps:()=>({id:te,value:ke,onBlur:ve,onFocus:ds,onChange:Pe,onMouseDown:as,"aria-activedescendant":Le?"":null,"aria-autocomplete":r?"both":"list","aria-controls":es?`${te}-listbox`:void 0,"aria-expanded":es,autoComplete:"off",ref:de,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:j}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Bt}),getItemProps:({index:Ee=0}={})=>({...O&&{key:Ee},...$?{"data-item-index":Ee}:{"data-tag-index":Ee},tabIndex:-1,...!R&&{onDelete:O?Me(Ee):Oe}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:xt}),getTagProps:({index:Ee})=>({key:Ee,"data-tag-index":Ee,tabIndex:-1,...!R&&{onDelete:Me(Ee)}}),getListboxProps:()=>({role:"listbox",id:`${te}-listbox`,"aria-labelledby":`${te}-label`,ref:Gs,onMouseDown:Ee=>{Ee.preventDefault()}}),getOptionProps:({index:Ee,option:Ue})=>{const Dt=(O?Ie:[Ie]).some(Yt=>Yt!=null&&z(Ue,Yt)),Zt=C?C(Ue):!1;return{key:P?.(Ue)??ee(Ue),tabIndex:-1,role:"option",id:`${te}-option-${Ee}`,onMouseMove:Be,onClick:ue,onTouchStart:gt,"data-option-index":Ee,"aria-disabled":Zt,"aria-selected":Dt}},id:te,inputValue:ke,value:Ie,dirty:qe,expanded:Le&&xe,popupOpen:Le,focused:be||le!==-1,anchorEl:xe,setAnchorEl:ge,focusedItem:le,focusedTag:le,groupedOptions:At}}var $n="top",so="bottom",ao="right",zn="left",_4="auto",hg=[$n,so,ao,zn],ap="start",Nx="end",iK="clippingParents",M7="viewport",qh="popper",oK="reference",qk=hg.reduce(function(t,s){return t.concat([s+"-"+ap,s+"-"+Nx])},[]),D7=[].concat(hg,[_4]).reduce(function(t,s){return t.concat([s,s+"-"+ap,s+"-"+Nx])},[]),lK="beforeRead",cK="read",dK="afterRead",uK="beforeMain",mK="main",pK="afterMain",hK="beforeWrite",fK="write",xK="afterWrite",gK=[lK,cK,dK,uK,mK,pK,hK,fK,xK];function rl(t){return t?(t.nodeName||"").toLowerCase():null}function gi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var s=t.ownerDocument;return s&&s.defaultView||window}return t}function iu(t){var s=gi(t).Element;return t instanceof s||t instanceof Element}function Ki(t){var s=gi(t).HTMLElement;return t instanceof s||t instanceof HTMLElement}function w4(t){if(typeof ShadowRoot>"u")return!1;var s=gi(t).ShadowRoot;return t instanceof s||t instanceof ShadowRoot}function bK(t){var s=t.state;Object.keys(s.elements).forEach(function(a){var r=s.styles[a]||{},n=s.attributes[a]||{},i=s.elements[a];!Ki(i)||!rl(i)||(Object.assign(i.style,r),Object.keys(n).forEach(function(o){var l=n[o];l===!1?i.removeAttribute(o):i.setAttribute(o,l===!0?"":l)}))})}function yK(t){var s=t.state,a={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,a.popper),s.styles=a,s.elements.arrow&&Object.assign(s.elements.arrow.style,a.arrow),function(){Object.keys(s.elements).forEach(function(r){var n=s.elements[r],i=s.attributes[r]||{},o=Object.keys(s.styles.hasOwnProperty(r)?s.styles[r]:a[r]),l=o.reduce(function(c,m){return c[m]="",c},{});!Ki(n)||!rl(n)||(Object.assign(n.style,l),Object.keys(i).forEach(function(c){n.removeAttribute(c)}))})}}const vK={name:"applyStyles",enabled:!0,phase:"write",fn:bK,effect:yK,requires:["computeStyles"]};function el(t){return t.split("-")[0]}var eu=Math.max,yy=Math.min,rp=Math.round;function P_(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(s){return s.brand+"/"+s.version}).join(" "):navigator.userAgent}function R7(){return!/^((?!chrome|android).)*safari/i.test(P_())}function np(t,s,a){s===void 0&&(s=!1),a===void 0&&(a=!1);var r=t.getBoundingClientRect(),n=1,i=1;s&&Ki(t)&&(n=t.offsetWidth>0&&rp(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&rp(r.height)/t.offsetHeight||1);var o=iu(t)?gi(t):window,l=o.visualViewport,c=!R7()&&a,m=(r.left+(c&&l?l.offsetLeft:0))/n,d=(r.top+(c&&l?l.offsetTop:0))/i,p=r.width/n,x=r.height/i;return{width:p,height:x,top:d,right:m+p,bottom:d+x,left:m,x:m,y:d}}function S4(t){var s=np(t),a=t.offsetWidth,r=t.offsetHeight;return Math.abs(s.width-a)<=1&&(a=s.width),Math.abs(s.height-r)<=1&&(r=s.height),{x:t.offsetLeft,y:t.offsetTop,width:a,height:r}}function A7(t,s){var a=s.getRootNode&&s.getRootNode();if(t.contains(s))return!0;if(a&&w4(a)){var r=s;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ql(t){return gi(t).getComputedStyle(t)}function jK(t){return["table","td","th"].indexOf(rl(t))>=0}function nd(t){return((iu(t)?t.ownerDocument:t.document)||window.document).documentElement}function Nv(t){return rl(t)==="html"?t:t.assignedSlot||t.parentNode||(w4(t)?t.host:null)||nd(t)}function Bk(t){return!Ki(t)||Ql(t).position==="fixed"?null:t.offsetParent}function NK(t){var s=/firefox/i.test(P_()),a=/Trident/i.test(P_());if(a&&Ki(t)){var r=Ql(t);if(r.position==="fixed")return null}var n=Nv(t);for(w4(n)&&(n=n.host);Ki(n)&&["html","body"].indexOf(rl(n))<0;){var i=Ql(n);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||s&&i.willChange==="filter"||s&&i.filter&&i.filter!=="none")return n;n=n.parentNode}return null}function fg(t){for(var s=gi(t),a=Bk(t);a&&jK(a)&&Ql(a).position==="static";)a=Bk(a);return a&&(rl(a)==="html"||rl(a)==="body"&&Ql(a).position==="static")?s:a||NK(t)||s}function C4(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Kf(t,s,a){return eu(t,yy(s,a))}function _K(t,s,a){var r=Kf(t,s,a);return r>a?a:r}function I7(){return{top:0,right:0,bottom:0,left:0}}function O7(t){return Object.assign({},I7(),t)}function F7(t,s){return s.reduce(function(a,r){return a[r]=t,a},{})}var wK=function(s,a){return s=typeof s=="function"?s(Object.assign({},a.rects,{placement:a.placement})):s,O7(typeof s!="number"?s:F7(s,hg))};function SK(t){var s,a=t.state,r=t.name,n=t.options,i=a.elements.arrow,o=a.modifiersData.popperOffsets,l=el(a.placement),c=C4(l),m=[zn,ao].indexOf(l)>=0,d=m?"height":"width";if(!(!i||!o)){var p=wK(n.padding,a),x=S4(i),j=c==="y"?$n:zn,_=c==="y"?so:ao,S=a.rects.reference[d]+a.rects.reference[c]-o[c]-a.rects.popper[d],v=o[c]-a.rects.reference[c],y=fg(i),N=y?c==="y"?y.clientHeight||0:y.clientWidth||0:0,C=S/2-v/2,P=p[j],E=N-x[d]-p[_],D=N/2-x[d]/2+C,T=Kf(P,D,E),A=c;a.modifiersData[r]=(s={},s[A]=T,s.centerOffset=T-D,s)}}function CK(t){var s=t.state,a=t.options,r=a.element,n=r===void 0?"[data-popper-arrow]":r;n!=null&&(typeof n=="string"&&(n=s.elements.popper.querySelector(n),!n)||A7(s.elements.popper,n)&&(s.elements.arrow=n))}const PK={name:"arrow",enabled:!0,phase:"main",fn:SK,effect:CK,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ip(t){return t.split("-")[1]}var kK={top:"auto",right:"auto",bottom:"auto",left:"auto"};function EK(t,s){var a=t.x,r=t.y,n=s.devicePixelRatio||1;return{x:rp(a*n)/n||0,y:rp(r*n)/n||0}}function Uk(t){var s,a=t.popper,r=t.popperRect,n=t.placement,i=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,m=t.adaptive,d=t.roundOffsets,p=t.isFixed,x=o.x,j=x===void 0?0:x,_=o.y,S=_===void 0?0:_,v=typeof d=="function"?d({x:j,y:S}):{x:j,y:S};j=v.x,S=v.y;var y=o.hasOwnProperty("x"),N=o.hasOwnProperty("y"),C=zn,P=$n,E=window;if(m){var D=fg(a),T="clientHeight",A="clientWidth";if(D===gi(a)&&(D=nd(a),Ql(D).position!=="static"&&l==="absolute"&&(T="scrollHeight",A="scrollWidth")),D=D,n===$n||(n===zn||n===ao)&&i===Nx){P=so;var I=p&&D===E&&E.visualViewport?E.visualViewport.height:D[T];S-=I-r.height,S*=c?1:-1}if(n===zn||(n===$n||n===so)&&i===Nx){C=ao;var F=p&&D===E&&E.visualViewport?E.visualViewport.width:D[A];j-=F-r.width,j*=c?1:-1}}var z=Object.assign({position:l},m&&kK),O=d===!0?EK({x:j,y:S},gi(a)):{x:j,y:S};if(j=O.x,S=O.y,c){var K;return Object.assign({},z,(K={},K[P]=N?"0":"",K[C]=y?"0":"",K.transform=(E.devicePixelRatio||1)<=1?"translate("+j+"px, "+S+"px)":"translate3d("+j+"px, "+S+"px, 0)",K))}return Object.assign({},z,(s={},s[P]=N?S+"px":"",s[C]=y?j+"px":"",s.transform="",s))}function TK(t){var s=t.state,a=t.options,r=a.gpuAcceleration,n=r===void 0?!0:r,i=a.adaptive,o=i===void 0?!0:i,l=a.roundOffsets,c=l===void 0?!0:l,m={placement:el(s.placement),variation:ip(s.placement),popper:s.elements.popper,popperRect:s.rects.popper,gpuAcceleration:n,isFixed:s.options.strategy==="fixed"};s.modifiersData.popperOffsets!=null&&(s.styles.popper=Object.assign({},s.styles.popper,Uk(Object.assign({},m,{offsets:s.modifiersData.popperOffsets,position:s.options.strategy,adaptive:o,roundOffsets:c})))),s.modifiersData.arrow!=null&&(s.styles.arrow=Object.assign({},s.styles.arrow,Uk(Object.assign({},m,{offsets:s.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-placement":s.placement})}const MK={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:TK,data:{}};var J0={passive:!0};function DK(t){var s=t.state,a=t.instance,r=t.options,n=r.scroll,i=n===void 0?!0:n,o=r.resize,l=o===void 0?!0:o,c=gi(s.elements.popper),m=[].concat(s.scrollParents.reference,s.scrollParents.popper);return i&&m.forEach(function(d){d.addEventListener("scroll",a.update,J0)}),l&&c.addEventListener("resize",a.update,J0),function(){i&&m.forEach(function(d){d.removeEventListener("scroll",a.update,J0)}),l&&c.removeEventListener("resize",a.update,J0)}}const RK={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:DK,data:{}};var AK={left:"right",right:"left",bottom:"top",top:"bottom"};function Wb(t){return t.replace(/left|right|bottom|top/g,function(s){return AK[s]})}var IK={start:"end",end:"start"};function Vk(t){return t.replace(/start|end/g,function(s){return IK[s]})}function P4(t){var s=gi(t),a=s.pageXOffset,r=s.pageYOffset;return{scrollLeft:a,scrollTop:r}}function k4(t){return np(nd(t)).left+P4(t).scrollLeft}function OK(t,s){var a=gi(t),r=nd(t),n=a.visualViewport,i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(n){i=n.width,o=n.height;var m=R7();(m||!m&&s==="fixed")&&(l=n.offsetLeft,c=n.offsetTop)}return{width:i,height:o,x:l+k4(t),y:c}}function FK(t){var s,a=nd(t),r=P4(t),n=(s=t.ownerDocument)==null?void 0:s.body,i=eu(a.scrollWidth,a.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=eu(a.scrollHeight,a.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),l=-r.scrollLeft+k4(t),c=-r.scrollTop;return Ql(n||a).direction==="rtl"&&(l+=eu(a.clientWidth,n?n.clientWidth:0)-i),{width:i,height:o,x:l,y:c}}function E4(t){var s=Ql(t),a=s.overflow,r=s.overflowX,n=s.overflowY;return/auto|scroll|overlay|hidden/.test(a+n+r)}function L7(t){return["html","body","#document"].indexOf(rl(t))>=0?t.ownerDocument.body:Ki(t)&&E4(t)?t:L7(Nv(t))}function Qf(t,s){var a;s===void 0&&(s=[]);var r=L7(t),n=r===((a=t.ownerDocument)==null?void 0:a.body),i=gi(r),o=n?[i].concat(i.visualViewport||[],E4(r)?r:[]):r,l=s.concat(o);return n?l:l.concat(Qf(Nv(o)))}function k_(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function LK(t,s){var a=np(t,!1,s==="fixed");return a.top=a.top+t.clientTop,a.left=a.left+t.clientLeft,a.bottom=a.top+t.clientHeight,a.right=a.left+t.clientWidth,a.width=t.clientWidth,a.height=t.clientHeight,a.x=a.left,a.y=a.top,a}function Hk(t,s,a){return s===M7?k_(OK(t,a)):iu(s)?LK(s,a):k_(FK(nd(t)))}function $K(t){var s=Qf(Nv(t)),a=["absolute","fixed"].indexOf(Ql(t).position)>=0,r=a&&Ki(t)?fg(t):t;return iu(r)?s.filter(function(n){return iu(n)&&A7(n,r)&&rl(n)!=="body"}):[]}function zK(t,s,a,r){var n=s==="clippingParents"?$K(t):[].concat(s),i=[].concat(n,[a]),o=i[0],l=i.reduce(function(c,m){var d=Hk(t,m,r);return c.top=eu(d.top,c.top),c.right=yy(d.right,c.right),c.bottom=yy(d.bottom,c.bottom),c.left=eu(d.left,c.left),c},Hk(t,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function $7(t){var s=t.reference,a=t.element,r=t.placement,n=r?el(r):null,i=r?ip(r):null,o=s.x+s.width/2-a.width/2,l=s.y+s.height/2-a.height/2,c;switch(n){case $n:c={x:o,y:s.y-a.height};break;case so:c={x:o,y:s.y+s.height};break;case ao:c={x:s.x+s.width,y:l};break;case zn:c={x:s.x-a.width,y:l};break;default:c={x:s.x,y:s.y}}var m=n?C4(n):null;if(m!=null){var d=m==="y"?"height":"width";switch(i){case ap:c[m]=c[m]-(s[d]/2-a[d]/2);break;case Nx:c[m]=c[m]+(s[d]/2-a[d]/2);break}}return c}function _x(t,s){s===void 0&&(s={});var a=s,r=a.placement,n=r===void 0?t.placement:r,i=a.strategy,o=i===void 0?t.strategy:i,l=a.boundary,c=l===void 0?iK:l,m=a.rootBoundary,d=m===void 0?M7:m,p=a.elementContext,x=p===void 0?qh:p,j=a.altBoundary,_=j===void 0?!1:j,S=a.padding,v=S===void 0?0:S,y=O7(typeof v!="number"?v:F7(v,hg)),N=x===qh?oK:qh,C=t.rects.popper,P=t.elements[_?N:x],E=zK(iu(P)?P:P.contextElement||nd(t.elements.popper),c,d,o),D=np(t.elements.reference),T=$7({reference:D,element:C,placement:n}),A=k_(Object.assign({},C,T)),I=x===qh?A:D,F={top:E.top-I.top+y.top,bottom:I.bottom-E.bottom+y.bottom,left:E.left-I.left+y.left,right:I.right-E.right+y.right},z=t.modifiersData.offset;if(x===qh&&z){var O=z[n];Object.keys(F).forEach(function(K){var W=[ao,so].indexOf(K)>=0?1:-1,B=[$n,so].indexOf(K)>=0?"y":"x";F[K]+=O[B]*W})}return F}function qK(t,s){s===void 0&&(s={});var a=s,r=a.placement,n=a.boundary,i=a.rootBoundary,o=a.padding,l=a.flipVariations,c=a.allowedAutoPlacements,m=c===void 0?D7:c,d=ip(r),p=d?l?qk:qk.filter(function(_){return ip(_)===d}):hg,x=p.filter(function(_){return m.indexOf(_)>=0});x.length===0&&(x=p);var j=x.reduce(function(_,S){return _[S]=_x(t,{placement:S,boundary:n,rootBoundary:i,padding:o})[el(S)],_},{});return Object.keys(j).sort(function(_,S){return j[_]-j[S]})}function BK(t){if(el(t)===_4)return[];var s=Wb(t);return[Vk(t),s,Vk(s)]}function UK(t){var s=t.state,a=t.options,r=t.name;if(!s.modifiersData[r]._skip){for(var n=a.mainAxis,i=n===void 0?!0:n,o=a.altAxis,l=o===void 0?!0:o,c=a.fallbackPlacements,m=a.padding,d=a.boundary,p=a.rootBoundary,x=a.altBoundary,j=a.flipVariations,_=j===void 0?!0:j,S=a.allowedAutoPlacements,v=s.options.placement,y=el(v),N=y===v,C=c||(N||!_?[Wb(v)]:BK(v)),P=[v].concat(C).reduce(function(J,te){return J.concat(el(te)===_4?qK(s,{placement:te,boundary:d,rootBoundary:p,padding:m,flipVariations:_,allowedAutoPlacements:S}):te)},[]),E=s.rects.reference,D=s.rects.popper,T=new Map,A=!0,I=P[0],F=0;F<P.length;F++){var z=P[F],O=el(z),K=ip(z)===ap,W=[$n,so].indexOf(O)>=0,B=W?"width":"height",q=_x(s,{placement:z,boundary:d,rootBoundary:p,altBoundary:x,padding:m}),H=W?K?ao:zn:K?so:$n;E[B]>D[B]&&(H=Wb(H));var Q=Wb(H),V=[];if(i&&V.push(q[O]<=0),l&&V.push(q[H]<=0,q[Q]<=0),V.every(function(J){return J})){I=z,A=!1;break}T.set(z,V)}if(A)for(var M=_?3:1,R=function(te){var ee=P.find(function(ne){var he=T.get(ne);if(he)return he.slice(0,te).every(function(de){return de})});if(ee)return I=ee,"break"},$=M;$>0;$--){var Y=R($);if(Y==="break")break}s.placement!==I&&(s.modifiersData[r]._skip=!0,s.placement=I,s.reset=!0)}}const VK={name:"flip",enabled:!0,phase:"main",fn:UK,requiresIfExists:["offset"],data:{_skip:!1}};function Wk(t,s,a){return a===void 0&&(a={x:0,y:0}),{top:t.top-s.height-a.y,right:t.right-s.width+a.x,bottom:t.bottom-s.height+a.y,left:t.left-s.width-a.x}}function Yk(t){return[$n,ao,so,zn].some(function(s){return t[s]>=0})}function HK(t){var s=t.state,a=t.name,r=s.rects.reference,n=s.rects.popper,i=s.modifiersData.preventOverflow,o=_x(s,{elementContext:"reference"}),l=_x(s,{altBoundary:!0}),c=Wk(o,r),m=Wk(l,n,i),d=Yk(c),p=Yk(m);s.modifiersData[a]={referenceClippingOffsets:c,popperEscapeOffsets:m,isReferenceHidden:d,hasPopperEscaped:p},s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}const WK={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:HK};function YK(t,s,a){var r=el(t),n=[zn,$n].indexOf(r)>=0?-1:1,i=typeof a=="function"?a(Object.assign({},s,{placement:t})):a,o=i[0],l=i[1];return o=o||0,l=(l||0)*n,[zn,ao].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function GK(t){var s=t.state,a=t.options,r=t.name,n=a.offset,i=n===void 0?[0,0]:n,o=D7.reduce(function(d,p){return d[p]=YK(p,s.rects,i),d},{}),l=o[s.placement],c=l.x,m=l.y;s.modifiersData.popperOffsets!=null&&(s.modifiersData.popperOffsets.x+=c,s.modifiersData.popperOffsets.y+=m),s.modifiersData[r]=o}const KK={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:GK};function QK(t){var s=t.state,a=t.name;s.modifiersData[a]=$7({reference:s.rects.reference,element:s.rects.popper,placement:s.placement})}const ZK={name:"popperOffsets",enabled:!0,phase:"read",fn:QK,data:{}};function XK(t){return t==="x"?"y":"x"}function JK(t){var s=t.state,a=t.options,r=t.name,n=a.mainAxis,i=n===void 0?!0:n,o=a.altAxis,l=o===void 0?!1:o,c=a.boundary,m=a.rootBoundary,d=a.altBoundary,p=a.padding,x=a.tether,j=x===void 0?!0:x,_=a.tetherOffset,S=_===void 0?0:_,v=_x(s,{boundary:c,rootBoundary:m,padding:p,altBoundary:d}),y=el(s.placement),N=ip(s.placement),C=!N,P=C4(y),E=XK(P),D=s.modifiersData.popperOffsets,T=s.rects.reference,A=s.rects.popper,I=typeof S=="function"?S(Object.assign({},s.rects,{placement:s.placement})):S,F=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),z=s.modifiersData.offset?s.modifiersData.offset[s.placement]:null,O={x:0,y:0};if(D){if(i){var K,W=P==="y"?$n:zn,B=P==="y"?so:ao,q=P==="y"?"height":"width",H=D[P],Q=H+v[W],V=H-v[B],M=j?-A[q]/2:0,R=N===ap?T[q]:A[q],$=N===ap?-A[q]:-T[q],Y=s.elements.arrow,J=j&&Y?S4(Y):{width:0,height:0},te=s.modifiersData["arrow#persistent"]?s.modifiersData["arrow#persistent"].padding:I7(),ee=te[W],ne=te[B],he=Kf(0,T[q],J[q]),de=C?T[q]/2-M-he-ee-F.mainAxis:R-he-ee-F.mainAxis,ae=C?-T[q]/2+M+he+ne+F.mainAxis:$+he+ne+F.mainAxis,xe=s.elements.arrow&&fg(s.elements.arrow),ge=xe?P==="y"?xe.clientTop||0:xe.clientLeft||0:0,le=(K=z?.[P])!=null?K:0,me=H+de-le-ge,Ae=H+ae-le,Ce=Kf(j?yy(Q,me):Q,H,j?eu(V,Ae):V);D[P]=Ce,O[P]=Ce-H}if(l){var _e,Ie=P==="x"?$n:zn,et=P==="x"?so:ao,ke=D[E],He=E==="y"?"height":"width",be=ke+v[Ie],Ge=ke-v[et],at=[$n,zn].indexOf(y)!==-1,vt=(_e=z?.[E])!=null?_e:0,dt=at?be:ke-T[He]-A[He]-vt+F.altAxis,ft=at?ke+T[He]+A[He]-vt-F.altAxis:Ge,Mt=j&&at?_K(dt,ke,ft):Kf(j?dt:be,ke,j?ft:Ge);D[E]=Mt,O[E]=Mt-ke}s.modifiersData[r]=O}}const eQ={name:"preventOverflow",enabled:!0,phase:"main",fn:JK,requiresIfExists:["offset"]};function tQ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function sQ(t){return t===gi(t)||!Ki(t)?P4(t):tQ(t)}function aQ(t){var s=t.getBoundingClientRect(),a=rp(s.width)/t.offsetWidth||1,r=rp(s.height)/t.offsetHeight||1;return a!==1||r!==1}function rQ(t,s,a){a===void 0&&(a=!1);var r=Ki(s),n=Ki(s)&&aQ(s),i=nd(s),o=np(t,n,a),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!a)&&((rl(s)!=="body"||E4(i))&&(l=sQ(s)),Ki(s)?(c=np(s,!0),c.x+=s.clientLeft,c.y+=s.clientTop):i&&(c.x=k4(i))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function nQ(t){var s=new Map,a=new Set,r=[];t.forEach(function(i){s.set(i.name,i)});function n(i){a.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!a.has(l)){var c=s.get(l);c&&n(c)}}),r.push(i)}return t.forEach(function(i){a.has(i.name)||n(i)}),r}function iQ(t){var s=nQ(t);return gK.reduce(function(a,r){return a.concat(s.filter(function(n){return n.phase===r}))},[])}function oQ(t){var s;return function(){return s||(s=new Promise(function(a){Promise.resolve().then(function(){s=void 0,a(t())})})),s}}function lQ(t){var s=t.reduce(function(a,r){var n=a[r.name];return a[r.name]=n?Object.assign({},n,r,{options:Object.assign({},n.options,r.options),data:Object.assign({},n.data,r.data)}):r,a},{});return Object.keys(s).map(function(a){return s[a]})}var Gk={placement:"bottom",modifiers:[],strategy:"absolute"};function Kk(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return!s.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function cQ(t){t===void 0&&(t={});var s=t,a=s.defaultModifiers,r=a===void 0?[]:a,n=s.defaultOptions,i=n===void 0?Gk:n;return function(l,c,m){m===void 0&&(m=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Gk,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],x=!1,j={state:d,setOptions:function(y){var N=typeof y=="function"?y(d.options):y;S(),d.options=Object.assign({},i,d.options,N),d.scrollParents={reference:iu(l)?Qf(l):l.contextElement?Qf(l.contextElement):[],popper:Qf(c)};var C=iQ(lQ([].concat(r,d.options.modifiers)));return d.orderedModifiers=C.filter(function(P){return P.enabled}),_(),j.update()},forceUpdate:function(){if(!x){var y=d.elements,N=y.reference,C=y.popper;if(Kk(N,C)){d.rects={reference:rQ(N,fg(C),d.options.strategy==="fixed"),popper:S4(C)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(F){return d.modifiersData[F.name]=Object.assign({},F.data)});for(var P=0;P<d.orderedModifiers.length;P++){if(d.reset===!0){d.reset=!1,P=-1;continue}var E=d.orderedModifiers[P],D=E.fn,T=E.options,A=T===void 0?{}:T,I=E.name;typeof D=="function"&&(d=D({state:d,options:A,name:I,instance:j})||d)}}}},update:oQ(function(){return new Promise(function(v){j.forceUpdate(),v(d)})}),destroy:function(){S(),x=!0}};if(!Kk(l,c))return j;j.setOptions(m).then(function(v){!x&&m.onFirstUpdate&&m.onFirstUpdate(v)});function _(){d.orderedModifiers.forEach(function(v){var y=v.name,N=v.options,C=N===void 0?{}:N,P=v.effect;if(typeof P=="function"){var E=P({state:d,name:y,instance:j,options:C}),D=function(){};p.push(E||D)}})}function S(){p.forEach(function(v){return v()}),p=[]}return j}}var dQ=[RK,ZK,MK,vK,KK,VK,eQ,PK,WK],uQ=cQ({defaultModifiers:dQ});function ea(t){const{elementType:s,externalSlotProps:a,ownerState:r,skipResolvingSlotProps:n=!1,...i}=t,o=n?{}:mn(a,r),{props:l,internalRef:c}=E7({...i,externalSlotProps:o}),m=Us(c,o?.ref,t.additionalProps?.ref);return P7(s,{...l,ref:m},r)}function id(t){return parseInt(g.version,10)>=19?t?.props?.ref||null:t?.ref||null}function mQ(t){return typeof t=="function"?t():t}const z7=g.forwardRef(function(s,a){const{children:r,container:n,disablePortal:i=!1}=s,[o,l]=g.useState(null),c=Us(g.isValidElement(r)?id(r):null,a);if(Ia(()=>{i||l(mQ(n)||document.body)},[n,i]),Ia(()=>{if(o&&!i)return v_(a,o),()=>{v_(a,null)}},[a,o,i]),i){if(g.isValidElement(r)){const m={ref:c};return g.cloneElement(r,m)}return r}return o&&ng.createPortal(r,o)});function pQ(t){return Tt("MuiPopper",t)}Et("MuiPopper",["root"]);function hQ(t,s){if(s==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function E_(t){return typeof t=="function"?t():t}function fQ(t){return t.nodeType!==void 0}const xQ=t=>{const{classes:s}=t;return kt({root:["root"]},pQ,s)},gQ={},bQ=g.forwardRef(function(s,a){const{anchorEl:r,children:n,direction:i,disablePortal:o,modifiers:l,open:c,placement:m,popperOptions:d,popperRef:p,slotProps:x={},slots:j={},TransitionProps:_,ownerState:S,...v}=s,y=g.useRef(null),N=Us(y,a),C=g.useRef(null),P=Us(C,p),E=g.useRef(P);Ia(()=>{E.current=P},[P]),g.useImperativeHandle(p,()=>C.current,[]);const D=hQ(m,i),[T,A]=g.useState(D),[I,F]=g.useState(E_(r));g.useEffect(()=>{C.current&&C.current.forceUpdate()}),g.useEffect(()=>{r&&F(E_(r))},[r]),Ia(()=>{if(!I||!c)return;const B=Q=>{A(Q.placement)};let q=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Q})=>{B(Q)}}];l!=null&&(q=q.concat(l)),d&&d.modifiers!=null&&(q=q.concat(d.modifiers));const H=uQ(I,y.current,{placement:D,...d,modifiers:q});return E.current(H),()=>{H.destroy(),E.current(null)}},[I,o,l,c,d,D]);const z={placement:T};_!==null&&(z.TransitionProps=_);const O=xQ(s),K=j.root??"div",W=ea({elementType:K,externalSlotProps:x.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:N},ownerState:s,className:O.root});return e.jsx(K,{...W,children:typeof n=="function"?n(z):n})}),yQ=g.forwardRef(function(s,a){const{anchorEl:r,children:n,container:i,direction:o="ltr",disablePortal:l=!1,keepMounted:c=!1,modifiers:m,open:d,placement:p="bottom",popperOptions:x=gQ,popperRef:j,style:_,transition:S=!1,slotProps:v={},slots:y={},...N}=s,[C,P]=g.useState(!0),E=()=>{P(!1)},D=()=>{P(!0)};if(!c&&!d&&(!S||C))return null;let T;if(i)T=i;else if(r){const F=E_(r);T=F&&fQ(F)?cr(F).body:cr(null).body}const A=!d&&c&&(!S||C)?"none":void 0,I=S?{in:d,onEnter:E,onExited:D}:void 0;return e.jsx(z7,{disablePortal:l,container:T,children:e.jsx(bQ,{anchorEl:r,direction:o,disablePortal:l,modifiers:m,ref:a,open:S?!C:d,placement:p,popperOptions:x,popperRef:j,slotProps:v,slots:y,...N,style:{position:"fixed",top:0,left:0,display:A,..._},TransitionProps:I,children:n})})}),vQ=Ne(yQ,{name:"MuiPopper",slot:"Root"})({}),xg=g.forwardRef(function(s,a){const r=Rr(),n=ts({props:s,name:"MuiPopper"}),{anchorEl:i,component:o,components:l,componentsProps:c,container:m,disablePortal:d,keepMounted:p,modifiers:x,open:j,placement:_,popperOptions:S,popperRef:v,transition:y,slots:N,slotProps:C,...P}=n,E=N?.root??l?.Root,D={anchorEl:i,container:m,disablePortal:d,keepMounted:p,modifiers:x,open:j,placement:_,popperOptions:S,popperRef:v,transition:y,...P};return e.jsx(vQ,{as:o,direction:r?"rtl":"ltr",slots:{root:E},slotProps:C??c,...D,ref:a})});function jQ(t){return Tt("MuiListSubheader",t)}Et("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const NQ=t=>{const{classes:s,color:a,disableGutters:r,inset:n,disableSticky:i}=t,o={root:["root",a!=="default"&&`color${Ke(a)}`,!r&&"gutters",n&&"inset",!i&&"sticky"]};return kt(o,jQ,s)},_Q=Ne("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.color!=="default"&&s[`color${Ke(a.color)}`],!a.disableGutters&&s.gutters,a.inset&&s.inset,!a.disableSticky&&s.sticky]}})(Wt(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.inset,style:{paddingLeft:72}},{props:({ownerState:s})=>!s.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),T_=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiListSubheader"}),{className:n,color:i="default",component:o="li",disableGutters:l=!1,disableSticky:c=!1,inset:m=!1,...d}=r,p={...r,color:i,component:o,disableGutters:l,disableSticky:c,inset:m},x=NQ(p);return e.jsx(_Q,{as:o,className:Je(x.root,n),ref:a,ownerState:p,...d})});T_&&(T_.muiSkipListHighlight=!0);const wQ=Lt(e.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function SQ(t){return Tt("MuiChip",t)}const Js=Et("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),CQ=t=>{const{classes:s,disabled:a,size:r,color:n,iconColor:i,onDelete:o,clickable:l,variant:c}=t,m={root:["root",c,a&&"disabled",`size${Ke(r)}`,`color${Ke(n)}`,l&&"clickable",l&&`clickableColor${Ke(n)}`,o&&"deletable",o&&`deletableColor${Ke(n)}`,`${c}${Ke(n)}`],label:["label",`label${Ke(r)}`],avatar:["avatar",`avatar${Ke(r)}`,`avatarColor${Ke(n)}`],icon:["icon",`icon${Ke(r)}`,`iconColor${Ke(i)}`],deleteIcon:["deleteIcon",`deleteIcon${Ke(r)}`,`deleteIconColor${Ke(n)}`,`deleteIcon${Ke(c)}Color${Ke(n)}`]};return kt(m,SQ,s)},PQ=Ne("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t,{color:r,iconColor:n,clickable:i,onDelete:o,size:l,variant:c}=a;return[{[`& .${Js.avatar}`]:s.avatar},{[`& .${Js.avatar}`]:s[`avatar${Ke(l)}`]},{[`& .${Js.avatar}`]:s[`avatarColor${Ke(r)}`]},{[`& .${Js.icon}`]:s.icon},{[`& .${Js.icon}`]:s[`icon${Ke(l)}`]},{[`& .${Js.icon}`]:s[`iconColor${Ke(n)}`]},{[`& .${Js.deleteIcon}`]:s.deleteIcon},{[`& .${Js.deleteIcon}`]:s[`deleteIcon${Ke(l)}`]},{[`& .${Js.deleteIcon}`]:s[`deleteIconColor${Ke(r)}`]},{[`& .${Js.deleteIcon}`]:s[`deleteIcon${Ke(c)}Color${Ke(r)}`]},s.root,s[`size${Ke(l)}`],s[`color${Ke(r)}`],i&&s.clickable,i&&r!=="default"&&s[`clickableColor${Ke(r)})`],o&&s.deletable,o&&r!=="default"&&s[`deletableColor${Ke(r)}`],s[c],s[`${c}${Ke(r)}`]]}})(Wt(({theme:t})=>{const s=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Js.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Js.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:s,fontSize:t.typography.pxToRem(12)},[`& .${Js.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Js.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Js.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Js.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Js.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Js.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Js.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(ga(["contrastText"])).map(([a])=>({props:{color:a},style:{backgroundColor:(t.vars||t).palette[a].main,color:(t.vars||t).palette[a].contrastText,[`& .${Js.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[a].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[a].contrastText}}}})),{props:a=>a.iconColor===a.color,style:{[`& .${Js.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:s}}},{props:a=>a.iconColor===a.color&&a.color!=="default",style:{[`& .${Js.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Js.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}},...Object.entries(t.palette).filter(ga(["dark"])).map(([a])=>({props:{color:a,onDelete:!0},style:{[`&.${Js.focusVisible}`]:{background:(t.vars||t).palette[a].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)},[`&.${Js.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(ga(["dark"])).map(([a])=>({props:{color:a,clickable:!0},style:{[`&:hover, &.${Js.focusVisible}`]:{backgroundColor:(t.vars||t).palette[a].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Js.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Js.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Js.avatar}`]:{marginLeft:4},[`& .${Js.avatarSmall}`]:{marginLeft:2},[`& .${Js.icon}`]:{marginLeft:4},[`& .${Js.iconSmall}`]:{marginLeft:2},[`& .${Js.deleteIcon}`]:{marginRight:5},[`& .${Js.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(ga()).map(([a])=>({props:{variant:"outlined",color:a},style:{color:(t.vars||t).palette[a].main,border:`1px solid ${t.alpha((t.vars||t).palette[a].main,.7)}`,[`&.${Js.clickable}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette[a].main,(t.vars||t).palette.action.hoverOpacity)},[`&.${Js.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[a].main,(t.vars||t).palette.action.focusOpacity)},[`& .${Js.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[a].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[a].main}}}}))]}})),kQ=Ne("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,s)=>{const{ownerState:a}=t,{size:r}=a;return[s.label,s[`label${Ke(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Qk(t){return t.key==="Backspace"||t.key==="Delete"}const Re=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiChip"}),{avatar:n,className:i,clickable:o,color:l="default",component:c,deleteIcon:m,disabled:d=!1,icon:p,label:x,onClick:j,onDelete:_,onKeyDown:S,onKeyUp:v,size:y="medium",variant:N="filled",tabIndex:C,skipFocusWhenDisabled:P=!1,slots:E={},slotProps:D={},...T}=r,A=g.useRef(null),I=Us(A,a),F=ee=>{ee.stopPropagation(),_&&_(ee)},z=ee=>{ee.currentTarget===ee.target&&Qk(ee)&&ee.preventDefault(),S&&S(ee)},O=ee=>{ee.currentTarget===ee.target&&_&&Qk(ee)&&_(ee),v&&v(ee)},K=o!==!1&&j?!0:o,W=K||_?eo:c||"div",B={...r,component:W,disabled:d,size:y,color:l,iconColor:g.isValidElement(p)&&p.props.color||l,onDelete:!!_,clickable:K,variant:N},q=CQ(B),H=W===eo?{component:c||"div",focusVisibleClassName:q.focusVisible,..._&&{disableRipple:!0}}:{};let Q=null;_&&(Q=m&&g.isValidElement(m)?g.cloneElement(m,{className:Je(m.props.className,q.deleteIcon),onClick:F}):e.jsx(wQ,{className:q.deleteIcon,onClick:F}));let V=null;n&&g.isValidElement(n)&&(V=g.cloneElement(n,{className:Je(q.avatar,n.props.className)}));let M=null;p&&g.isValidElement(p)&&(M=g.cloneElement(p,{className:Je(q.icon,p.props.className)}));const R={slots:E,slotProps:D},[$,Y]=Gt("root",{elementType:PQ,externalForwardedProps:{...R,...T},ownerState:B,shouldForwardComponentProp:!0,ref:I,className:Je(q.root,i),additionalProps:{disabled:K&&d?!0:void 0,tabIndex:P&&d?-1:C,...H},getSlotProps:ee=>({...ee,onClick:ne=>{ee.onClick?.(ne),j?.(ne)},onKeyDown:ne=>{ee.onKeyDown?.(ne),z(ne)},onKeyUp:ne=>{ee.onKeyUp?.(ne),O(ne)}})}),[J,te]=Gt("label",{elementType:kQ,externalForwardedProps:R,ownerState:B,className:q.label});return e.jsxs($,{as:W,...Y,children:[V||M,e.jsx(J,{...te,children:x}),Q]})});function eb(t){return parseInt(t,10)||0}const EQ={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function TQ(t){for(const s in t)return!1;return!0}function Zk(t){return TQ(t)||t.outerHeightStyle===0&&!t.overflowing}const MQ=g.forwardRef(function(s,a){const{onChange:r,maxRows:n,minRows:i=1,style:o,value:l,...c}=s,{current:m}=g.useRef(l!=null),d=g.useRef(null),p=Us(a,d),x=g.useRef(null),j=g.useRef(null),_=g.useCallback(()=>{const C=d.current,P=j.current;if(!C||!P)return;const D=xi(C).getComputedStyle(C);if(D.width==="0px")return{outerHeightStyle:0,overflowing:!1};P.style.width=D.width,P.value=C.value||s.placeholder||"x",P.value.slice(-1)===`
`&&(P.value+=" ");const T=D.boxSizing,A=eb(D.paddingBottom)+eb(D.paddingTop),I=eb(D.borderBottomWidth)+eb(D.borderTopWidth),F=P.scrollHeight;P.value="x";const z=P.scrollHeight;let O=F;i&&(O=Math.max(Number(i)*z,O)),n&&(O=Math.min(Number(n)*z,O)),O=Math.max(O,z);const K=O+(T==="border-box"?A+I:0),W=Math.abs(O-F)<=1;return{outerHeightStyle:K,overflowing:W}},[n,i,s.placeholder]),S=Ot(()=>{const C=d.current,P=_();if(!C||!P||Zk(P))return!1;const E=P.outerHeightStyle;return x.current!=null&&x.current!==E}),v=g.useCallback(()=>{const C=d.current,P=_();if(!C||!P||Zk(P))return;const E=P.outerHeightStyle;x.current!==E&&(x.current=E,C.style.height=`${E}px`),C.style.overflow=P.overflowing?"hidden":""},[_]),y=g.useRef(-1);Ia(()=>{const C=mg(v),P=d?.current;if(!P)return;const E=xi(P);E.addEventListener("resize",C);let D;return typeof ResizeObserver<"u"&&(D=new ResizeObserver(()=>{S()&&(D.unobserve(P),cancelAnimationFrame(y.current),v(),y.current=requestAnimationFrame(()=>{D.observe(P)}))}),D.observe(P)),()=>{C.clear(),cancelAnimationFrame(y.current),E.removeEventListener("resize",C),D&&D.disconnect()}},[_,v,S]),Ia(()=>{v()});const N=C=>{m||v();const P=C.target,E=P.value.length,D=P.value.endsWith(`
`),T=P.selectionStart===E;D&&T&&P.setSelectionRange(E,E),r&&r(C)};return e.jsxs(g.Fragment,{children:[e.jsx("textarea",{value:l,onChange:N,ref:p,rows:i,style:o,...c}),e.jsx("textarea",{"aria-hidden":!0,className:s.className,readOnly:!0,ref:j,tabIndex:-1,style:{...EQ.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function od({props:t,states:s,muiFormControl:a}){return s.reduce((r,n)=>(r[n]=t[n],a&&typeof t[n]>"u"&&(r[n]=a[n]),r),{})}const _v=g.createContext(void 0);function Ni(){return g.useContext(_v)}function Xk(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function vy(t,s=!1){return t&&(Xk(t.value)&&t.value!==""||s&&Xk(t.defaultValue)&&t.defaultValue!=="")}function DQ(t){return t.startAdornment}function RQ(t){return Tt("MuiInputBase",t)}const ri=Et("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Jk;const wv=(t,s)=>{const{ownerState:a}=t;return[s.root,a.formControl&&s.formControl,a.startAdornment&&s.adornedStart,a.endAdornment&&s.adornedEnd,a.error&&s.error,a.size==="small"&&s.sizeSmall,a.multiline&&s.multiline,a.color&&s[`color${Ke(a.color)}`],a.fullWidth&&s.fullWidth,a.hiddenLabel&&s.hiddenLabel]},Sv=(t,s)=>{const{ownerState:a}=t;return[s.input,a.size==="small"&&s.inputSizeSmall,a.multiline&&s.inputMultiline,a.type==="search"&&s.inputTypeSearch,a.startAdornment&&s.inputAdornedStart,a.endAdornment&&s.inputAdornedEnd,a.hiddenLabel&&s.inputHiddenLabel]},AQ=t=>{const{classes:s,color:a,disabled:r,error:n,endAdornment:i,focused:o,formControl:l,fullWidth:c,hiddenLabel:m,multiline:d,readOnly:p,size:x,startAdornment:j,type:_}=t,S={root:["root",`color${Ke(a)}`,r&&"disabled",n&&"error",c&&"fullWidth",o&&"focused",l&&"formControl",x&&x!=="medium"&&`size${Ke(x)}`,d&&"multiline",j&&"adornedStart",i&&"adornedEnd",m&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",_==="search"&&"inputTypeSearch",d&&"inputMultiline",x==="small"&&"inputSizeSmall",m&&"inputHiddenLabel",j&&"inputAdornedStart",i&&"inputAdornedEnd",p&&"readOnly"]};return kt(S,RQ,s)},Cv=Ne("div",{name:"MuiInputBase",slot:"Root",overridesResolver:wv})(Wt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ri.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:s})=>s.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:1}},{props:({ownerState:s})=>s.fullWidth,style:{width:"100%"}}]}))),Pv=Ne("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Sv})(Wt(({theme:t})=>{const s=t.palette.mode==="light",a={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},n=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ri.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":n,"&:focus::-moz-placeholder":n,"&:focus::-ms-input-placeholder":n},[`&.${ri.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),eE=qY({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),kv=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiInputBase"}),{"aria-describedby":n,autoComplete:i,autoFocus:o,className:l,color:c,components:m={},componentsProps:d={},defaultValue:p,disabled:x,disableInjectingGlobalStyles:j,endAdornment:_,error:S,fullWidth:v=!1,id:y,inputComponent:N="input",inputProps:C={},inputRef:P,margin:E,maxRows:D,minRows:T,multiline:A=!1,name:I,onBlur:F,onChange:z,onClick:O,onFocus:K,onKeyDown:W,onKeyUp:B,placeholder:q,readOnly:H,renderSuffix:Q,rows:V,size:M,slotProps:R={},slots:$={},startAdornment:Y,type:J="text",value:te,...ee}=r,ne=C.value!=null?C.value:te,{current:he}=g.useRef(ne!=null),de=g.useRef(),ae=g.useCallback(ze=>{},[]),xe=Us(de,P,C.ref,ae),[ge,le]=g.useState(!1),me=Ni(),Ae=od({props:r,muiFormControl:me,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ae.focused=me?me.focused:ge,g.useEffect(()=>{!me&&x&&ge&&(le(!1),F&&F())},[me,x,ge,F]);const Ce=me&&me.onFilled,_e=me&&me.onEmpty,Ie=g.useCallback(ze=>{vy(ze)?Ce&&Ce():_e&&_e()},[Ce,_e]);Ia(()=>{he&&Ie({value:ne})},[ne,Ie,he]);const et=ze=>{K&&K(ze),C.onFocus&&C.onFocus(ze),me&&me.onFocus?me.onFocus(ze):le(!0)},ke=ze=>{F&&F(ze),C.onBlur&&C.onBlur(ze),me&&me.onBlur?me.onBlur(ze):le(!1)},He=(ze,...jt)=>{if(!he){const es=ze.target||de.current;if(es==null)throw new Error(Gl(1));Ie({value:es.value})}C.onChange&&C.onChange(ze,...jt),z&&z(ze,...jt)};g.useEffect(()=>{Ie(de.current)},[]);const be=ze=>{de.current&&ze.currentTarget===ze.target&&de.current.focus(),O&&O(ze)};let Ge=N,at=C;A&&Ge==="input"&&(V?at={type:void 0,minRows:V,maxRows:V,...at}:at={type:void 0,maxRows:D,minRows:T,...at},Ge=MQ);const vt=ze=>{Ie(ze.animationName==="mui-auto-fill-cancel"?de.current:{value:"x"})};g.useEffect(()=>{me&&me.setAdornedStart(!!Y)},[me,Y]);const dt={...r,color:Ae.color||"primary",disabled:Ae.disabled,endAdornment:_,error:Ae.error,focused:Ae.focused,formControl:me,fullWidth:v,hiddenLabel:Ae.hiddenLabel,multiline:A,size:Ae.size,startAdornment:Y,type:J},ft=AQ(dt),Mt=$.root||m.Root||Cv,ye=R.root||d.root||{},Le=$.input||m.Input||Pv;return at={...at,...R.input??d.input},e.jsxs(g.Fragment,{children:[!j&&typeof eE=="function"&&(Jk||(Jk=e.jsx(eE,{}))),e.jsxs(Mt,{...ye,ref:a,onClick:be,...ee,...!tp(Mt)&&{ownerState:{...dt,...ye.ownerState}},className:Je(ft.root,ye.className,l,H&&"MuiInputBase-readOnly"),children:[Y,e.jsx(_v.Provider,{value:null,children:e.jsx(Le,{"aria-invalid":Ae.error,"aria-describedby":n,autoComplete:i,autoFocus:o,defaultValue:p,disabled:Ae.disabled,id:y,onAnimationStart:vt,name:I,placeholder:q,readOnly:H,required:Ae.required,rows:V,value:ne,onKeyDown:W,onKeyUp:B,type:J,...at,...!tp(Le)&&{as:Ge,ownerState:{...dt,...at.ownerState}},ref:xe,className:Je(ft.input,at.className,H&&"MuiInputBase-readOnly"),onBlur:ke,onChange:He,onFocus:et})}),_,Q?Q({...Ae,startAdornment:Y}):null]})]})});function IQ(t){return Tt("MuiInput",t)}const Tc={...ri,...Et("MuiInput",["root","underline","input"])};function OQ(t){return Tt("MuiOutlinedInput",t)}const Li={...ri,...Et("MuiOutlinedInput",["root","notchedOutline","input"])};function FQ(t){return Tt("MuiFilledInput",t)}const ni={...ri,...Et("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},q7=Lt(e.jsx("path",{d:"M7 10l5 5 5-5z"}));function LQ(t){return Tt("MuiAutocomplete",t)}const qs=Et("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var tE,sE;const $Q=t=>{const{classes:s,disablePortal:a,expanded:r,focused:n,fullWidth:i,hasClearIcon:o,hasPopupIcon:l,inputFocused:c,popupOpen:m,size:d}=t,p={root:["root",r&&"expanded",n&&"focused",i&&"fullWidth",o&&"hasClearIcon",l&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",c&&"inputFocused"],tag:["tag",`tagSize${Ke(d)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",m&&"popupIndicatorOpen"],popper:["popper",a&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return kt(p,LQ,s)},zQ=Ne("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t,{fullWidth:r,hasClearIcon:n,hasPopupIcon:i,inputFocused:o,size:l}=a;return[{[`& .${qs.tag}`]:s.tag},{[`& .${qs.tag}`]:s[`tagSize${Ke(l)}`]},{[`& .${qs.inputRoot}`]:s.inputRoot},{[`& .${qs.input}`]:s.input},{[`& .${qs.input}`]:o&&s.inputFocused},s.root,r&&s.fullWidth,i&&s.hasPopupIcon,n&&s.hasClearIcon]}})({[`&.${qs.focused} .${qs.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${qs.clearIndicator}`]:{visibility:"visible"}},[`& .${qs.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${qs.inputRoot}`]:{[`.${qs.hasPopupIcon}&, .${qs.hasClearIcon}&`]:{paddingRight:30},[`.${qs.hasPopupIcon}.${qs.hasClearIcon}&`]:{paddingRight:56},[`& .${qs.input}`]:{width:0,minWidth:30}},[`& .${Tc.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Tc.root}.${ri.sizeSmall}`]:{[`& .${Tc.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Li.root}`]:{padding:9,[`.${qs.hasPopupIcon}&, .${qs.hasClearIcon}&`]:{paddingRight:39},[`.${qs.hasPopupIcon}.${qs.hasClearIcon}&`]:{paddingRight:65},[`& .${qs.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${qs.endAdornment}`]:{right:9}},[`& .${Li.root}.${ri.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${qs.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${ni.root}`]:{paddingTop:19,paddingLeft:8,[`.${qs.hasPopupIcon}&, .${qs.hasClearIcon}&`]:{paddingRight:39},[`.${qs.hasPopupIcon}.${qs.hasClearIcon}&`]:{paddingRight:65},[`& .${ni.input}`]:{padding:"7px 4px"},[`& .${qs.endAdornment}`]:{right:9}},[`& .${ni.root}.${ri.sizeSmall}`]:{paddingBottom:1,[`& .${ni.input}`]:{padding:"2.5px 4px"}},[`& .${ri.hiddenLabel}`]:{paddingTop:8},[`& .${ni.root}.${ri.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${qs.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${ni.root}.${ri.hiddenLabel}.${ri.sizeSmall}`]:{[`& .${qs.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${qs.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${qs.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${qs.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${qs.inputRoot}`]:{flexWrap:"wrap"}}}]}),qQ=Ne("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),BQ=Ne(Ws,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),UQ=Ne(Ws,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.popupIndicator,a.popupOpen&&s.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),VQ=Ne(xg,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[{[`& .${qs.option}`]:s.option},s.popper,a.disablePortal&&s.popperDisablePortal]}})(Wt(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),HQ=Ne(la,{name:"MuiAutocomplete",slot:"Paper"})(Wt(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),WQ=Ne("div",{name:"MuiAutocomplete",slot:"Loading"})(Wt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),YQ=Ne("div",{name:"MuiAutocomplete",slot:"NoOptions"})(Wt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),GQ=Ne("ul",{name:"MuiAutocomplete",slot:"Listbox"})(Wt(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${qs.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${qs.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${qs.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${qs.focused}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${qs.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))),KQ=Ne(T_,{name:"MuiAutocomplete",slot:"GroupLabel"})(Wt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),QQ=Ne("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${qs.option}`]:{paddingLeft:24}}),ir=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiAutocomplete"}),{autoComplete:n=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:l=!1,ChipProps:c,className:m,clearIcon:d=tE||(tE=e.jsx(T7,{fontSize:"small"})),clearOnBlur:p=!r.freeSolo,clearOnEscape:x=!1,clearText:j="Clear",closeText:_="Close",componentsProps:S,defaultValue:v=r.multiple?[]:null,disableClearable:y=!1,disableCloseOnSelect:N=!1,disabled:C=!1,disabledItemsFocusable:P=!1,disableListWrap:E=!1,disablePortal:D=!1,filterOptions:T,filterSelectedOptions:A=!1,forcePopupIcon:I="auto",freeSolo:F=!1,fullWidth:z=!1,getLimitTagsText:O=Ps=>`+${Ps}`,getOptionDisabled:K,getOptionKey:W,getOptionLabel:B,isOptionEqualToValue:q,groupBy:H,handleHomeEndKeys:Q=!r.freeSolo,id:V,includeInputInList:M=!1,inputValue:R,limitTags:$=-1,ListboxComponent:Y,ListboxProps:J,loading:te=!1,loadingText:ee="Loading",multiple:ne=!1,noOptionsText:he="No options",onChange:de,onClose:ae,onHighlightChange:xe,onInputChange:ge,onOpen:le,open:me,openOnFocus:Ae=!1,openText:Ce="Open",options:_e,PaperComponent:Ie,PopperComponent:et,popupIcon:ke=sE||(sE=e.jsx(q7,{})),readOnly:He=!1,renderGroup:be,renderInput:Ge,renderOption:at,renderTags:vt,renderValue:dt,selectOnFocus:ft=!r.freeSolo,size:Mt="medium",slots:ye={},slotProps:Le={},value:ze,...jt}=r,{getRootProps:es,getInputProps:Qt,getInputLabelProps:rt,getPopupIndicatorProps:zt,getClearProps:_t,getItemProps:hs,getListboxProps:cs,getOptionProps:Ns,value:Gs,dirty:Is,expanded:Ds,id:pa,popupOpen:ha,focused:oa,focusedItem:qt,anchorEl:zs,setAnchorEl:Bt,inputValue:Ut,groupedOptions:ds}=nK({...r,componentName:"Autocomplete"}),ve=!y&&!C&&Is&&!He,Pe=(!F||I===!0)&&I!==!1,{onMouseDown:Be}=Qt(),{ref:gt,...ue}=cs(),Oe=B||(Ps=>Ps.label??Ps),xt={...r,disablePortal:D,expanded:Ds,focused:oa,fullWidth:z,getOptionLabel:Oe,hasClearIcon:ve,hasPopupIcon:Pe,inputFocused:qt===-1,popupOpen:ha,size:Mt},Ct=$Q(xt),Kt={slots:{paper:Ie,popper:et,...ye},slotProps:{chip:c,listbox:J,...S,...Le}},[as,qe]=Gt("listbox",{elementType:GQ,externalForwardedProps:Kt,ownerState:xt,className:Ct.listbox,additionalProps:ue,ref:gt}),[At,Ee]=Gt("paper",{elementType:la,externalForwardedProps:Kt,ownerState:xt,className:Ct.paper}),[Ue,Dt]=Gt("popper",{elementType:xg,externalForwardedProps:Kt,ownerState:xt,className:Ct.popper,additionalProps:{disablePortal:D,style:{width:zs?zs.clientWidth:null},role:"presentation",anchorEl:zs,open:ha}});let Zt;const Yt=Ps=>({className:Ct.tag,disabled:C,...hs(Ps)});if(ne?Gs.length>0&&(vt?Zt=vt(Gs,Yt,xt):dt?Zt=dt(Gs,Yt,xt):Zt=Gs.map((Ps,Xa)=>{const{key:Pr,...Ts}=Yt({index:Xa});return e.jsx(Re,{label:Oe(Ps),size:Mt,...Ts,...Kt.slotProps.chip},Pr)})):dt&&Gs!=null&&(Zt=dt(Gs,Yt,xt)),$>-1&&Array.isArray(Zt)){const Ps=Zt.length-$;!oa&&Ps>0&&(Zt=Zt.splice(0,$),Zt.push(e.jsx("span",{className:Ct.tag,children:O(Ps)},Zt.length)))}const Qs=be||(Ps=>e.jsxs("li",{children:[e.jsx(KQ,{className:Ct.groupLabel,ownerState:xt,component:"div",children:Ps.group}),e.jsx(QQ,{className:Ct.groupUl,ownerState:xt,children:Ps.children})]},Ps.key)),Rs=at||((Ps,Xa)=>{const{key:Pr,...Ts}=Ps;return e.jsx("li",{...Ts,children:Oe(Xa)},Pr)}),Fa=(Ps,Xa)=>{const Pr=Ns({option:Ps,index:Xa});return Rs({...Pr,className:Ct.option},Ps,{selected:Pr["aria-selected"],index:Xa,inputValue:Ut},xt)},Ha=Kt.slotProps.clearIndicator,Jr=Kt.slotProps.popupIndicator;return e.jsxs(g.Fragment,{children:[e.jsx(zQ,{ref:a,className:Je(Ct.root,m),ownerState:xt,...es(jt),children:Ge({id:pa,disabled:C,fullWidth:!0,size:Mt==="small"?"small":void 0,InputLabelProps:rt(),InputProps:{ref:Bt,className:Ct.inputRoot,startAdornment:Zt,onMouseDown:Ps=>{Ps.target===Ps.currentTarget&&Be(Ps)},...(ve||Pe)&&{endAdornment:e.jsxs(qQ,{className:Ct.endAdornment,ownerState:xt,children:[ve?e.jsx(BQ,{..._t(),"aria-label":j,title:j,ownerState:xt,...Ha,className:Je(Ct.clearIndicator,Ha?.className),children:d}):null,Pe?e.jsx(UQ,{...zt(),disabled:C,"aria-label":ha?_:Ce,title:ha?_:Ce,ownerState:xt,...Jr,className:Je(Ct.popupIndicator,Jr?.className),children:ke}):null]})}},inputProps:{className:Ct.input,disabled:C,readOnly:He,...Qt()}})}),zs?e.jsx(VQ,{as:Ue,...Dt,children:e.jsxs(HQ,{as:At,...Ee,children:[te&&ds.length===0?e.jsx(WQ,{className:Ct.loading,ownerState:xt,children:ee}):null,ds.length===0&&!F&&!te?e.jsx(YQ,{className:Ct.noOptions,ownerState:xt,role:"presentation",onMouseDown:Ps=>{Ps.preventDefault()},children:he}):null,ds.length>0?e.jsx(as,{as:Y,...qe,children:ds.map((Ps,Xa)=>H?Qs({key:Ps.key,group:Ps.group,children:Ps.options.map((Pr,Ts)=>Fa(Pr,Ps.index+Ts))}):Fa(Ps,Xa))}):null]})}):null]})}),ZQ=Lt(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function XQ(t){return Tt("MuiAvatar",t)}const JQ=Et("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]),eZ=t=>{const{classes:s,variant:a,colorDefault:r}=t;return kt({root:["root",a,r&&"colorDefault"],img:["img"],fallback:["fallback"]},XQ,s)},tZ=Ne("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],a.colorDefault&&s.colorDefault]}})(Wt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),sZ=Ne("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),aZ=Ne(ZQ,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function rZ({crossOrigin:t,referrerPolicy:s,src:a,srcSet:r}){const[n,i]=g.useState(!1);return g.useEffect(()=>{if(!a&&!r)return;i(!1);let o=!0;const l=new Image;return l.onload=()=>{o&&i("loaded")},l.onerror=()=>{o&&i("error")},l.crossOrigin=t,l.referrerPolicy=s,l.src=a,r&&(l.srcset=r),()=>{o=!1}},[t,s,a,r]),n}const ot=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiAvatar"}),{alt:n,children:i,className:o,component:l="div",slots:c={},slotProps:m={},imgProps:d,sizes:p,src:x,srcSet:j,variant:_="circular",...S}=r;let v=null;const y={...r,component:l,variant:_},N=rZ({...d,...typeof m.img=="function"?m.img(y):m.img,src:x,srcSet:j}),C=x||j,P=C&&N!=="error";y.colorDefault=!P,delete y.ownerState;const E=eZ(y),[D,T]=Gt("root",{ref:a,className:Je(E.root,o),elementType:tZ,externalForwardedProps:{slots:c,slotProps:m,component:l,...S},ownerState:y}),[A,I]=Gt("img",{className:E.img,elementType:sZ,externalForwardedProps:{slots:c,slotProps:{img:{...d,...m.img}}},additionalProps:{alt:n,src:x,srcSet:j,sizes:p},ownerState:y}),[F,z]=Gt("fallback",{className:E.fallback,elementType:aZ,externalForwardedProps:{slots:c,slotProps:m},shouldForwardComponentProp:!0,ownerState:y});return P?v=e.jsx(A,{...I}):i||i===0?v=i:C&&n?v=n[0]:v=e.jsx(F,{...z}),e.jsx(D,{...T,children:v})});function nZ(t){return Tt("MuiAvatarGroup",t)}const iZ=Et("MuiAvatarGroup",["root","avatar"]),sN={small:-16,medium:-8},oZ=t=>{const{classes:s}=t;return kt({root:["root"],avatar:["avatar"]},nZ,s)},lZ=Ne("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(t,s)=>[{[`& .${iZ.avatar}`]:s.avatar},s.root]})(Wt(({theme:t})=>({display:"flex",flexDirection:"row-reverse",[`& .${JQ.root}`]:{border:`2px solid ${(t.vars||t).palette.background.default}`,boxSizing:"content-box",marginLeft:"var(--AvatarGroup-spacing, -8px)","&:last-child":{marginLeft:0}}}))),B7=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiAvatarGroup"}),{children:n,className:i,component:o="div",componentsProps:l,max:c=5,renderSurplus:m,slotProps:d={},slots:p={},spacing:x="medium",total:j,variant:_="circular",...S}=r;let v=c<2?2:c;const y={...r,max:c,spacing:x,component:o,variant:_},N=oZ(y),C=g.Children.toArray(n).filter(O=>g.isValidElement(O)),P=j||C.length;P===v&&(v+=1),v=Math.min(P+1,v);const E=Math.min(C.length,v-1),D=Math.max(P-v,P-E,0),T=m?m(D):`+${D}`;let A;y.spacing&&sN[y.spacing]!==void 0?A=sN[y.spacing]:y.spacing===0?A=0:A=-y.spacing||sN.medium;const I={slots:p,slotProps:{surplus:d.additionalAvatar??l?.additionalAvatar,...l,...d}},[F,z]=Gt("surplus",{elementType:ot,externalForwardedProps:I,className:N.avatar,ownerState:y,additionalProps:{variant:_}});return e.jsxs(lZ,{as:o,ownerState:y,className:Je(N.root,i),ref:a,...S,style:{"--AvatarGroup-spacing":`${A}px`,...S.style},children:[D?e.jsx(F,{...z,children:T}):null,C.slice(0,E).reverse().map(O=>g.cloneElement(O,{className:Je(O.props.className,N.avatar),variant:O.props.variant||_}))]})}),cZ={entering:{opacity:1},entered:{opacity:1}},ou=g.forwardRef(function(s,a){const r=vi(),n={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:l,easing:c,in:m,onEnter:d,onEntered:p,onEntering:x,onExit:j,onExited:_,onExiting:S,style:v,timeout:y=n,TransitionComponent:N=ji,...C}=s,P=g.useRef(null),E=Us(P,id(l),a),D=W=>B=>{if(W){const q=P.current;B===void 0?W(q):W(q,B)}},T=D(x),A=D((W,B)=>{j4(W);const q=Kc({style:v,timeout:y,easing:c},{mode:"enter"});W.style.webkitTransition=r.transitions.create("opacity",q),W.style.transition=r.transitions.create("opacity",q),d&&d(W,B)}),I=D(p),F=D(S),z=D(W=>{const B=Kc({style:v,timeout:y,easing:c},{mode:"exit"});W.style.webkitTransition=r.transitions.create("opacity",B),W.style.transition=r.transitions.create("opacity",B),j&&j(W)}),O=D(_),K=W=>{i&&i(P.current,W)};return e.jsx(N,{appear:o,in:m,nodeRef:P,onEnter:A,onEntered:I,onEntering:T,onExit:z,onExited:O,onExiting:F,addEndListener:K,timeout:y,...C,children:(W,{ownerState:B,...q})=>g.cloneElement(l,{style:{opacity:0,visibility:W==="exited"&&!m?"hidden":void 0,...cZ[W],...v,...l.props.style},ref:E,...q})})});function dZ(t){return Tt("MuiBackdrop",t)}Et("MuiBackdrop",["root","invisible"]);const uZ=t=>{const{classes:s,invisible:a}=t;return kt({root:["root",a&&"invisible"]},dZ,s)},mZ=Ne("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.invisible&&s.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),U7=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiBackdrop"}),{children:n,className:i,component:o="div",invisible:l=!1,open:c,components:m={},componentsProps:d={},slotProps:p={},slots:x={},TransitionComponent:j,transitionDuration:_,...S}=r,v={...r,component:o,invisible:l},y=uZ(v),N={transition:j,root:m.Root,...x},C={...d,...p},P={component:o,slots:N,slotProps:C},[E,D]=Gt("root",{elementType:mZ,externalForwardedProps:P,className:Je(y.root,i),ownerState:v}),[T,A]=Gt("transition",{elementType:ou,externalForwardedProps:P,ownerState:v});return e.jsx(T,{in:c,timeout:_,...S,...A,children:e.jsx(E,{"aria-hidden":!0,...D,classes:y,ref:a,children:n})})});function pZ(t){const{badgeContent:s,invisible:a=!1,max:r=99,showZero:n=!1}=t,i=N4({badgeContent:s,max:r});let o=a;a===!1&&s===0&&!n&&(o=!0);const{badgeContent:l,max:c=r}=o?i:t,m=l&&Number(l)>c?`${c}+`:l;return{badgeContent:l,invisible:o,max:c,displayValue:m}}function hZ(t){return Tt("MuiBadge",t)}const Sc=Et("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),aN=10,rN=4,fZ=t=>{const{color:s,anchorOrigin:a,invisible:r,overlap:n,variant:i,classes:o={}}=t,l={root:["root"],badge:["badge",i,r&&"invisible",`anchorOrigin${Ke(a.vertical)}${Ke(a.horizontal)}`,`anchorOrigin${Ke(a.vertical)}${Ke(a.horizontal)}${Ke(n)}`,`overlap${Ke(n)}`,s!=="default"&&`color${Ke(s)}`]};return kt(l,hZ,o)},xZ=Ne("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),gZ=Ne("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.badge,s[a.variant],s[`anchorOrigin${Ke(a.anchorOrigin.vertical)}${Ke(a.anchorOrigin.horizontal)}${Ke(a.overlap)}`],a.color!=="default"&&s[`color${Ke(a.color)}`],a.invisible&&s.invisible]}})(Wt(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:aN*2,lineHeight:1,padding:"0 6px",height:aN*2,borderRadius:aN,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(ga(["contrastText"])).map(([s])=>({props:{color:s},style:{backgroundColor:(t.vars||t).palette[s].main,color:(t.vars||t).palette[s].contrastText}})),{props:{variant:"dot"},style:{borderRadius:rN,height:rN*2,minWidth:rN*2,padding:0}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="top"&&s.anchorOrigin.horizontal==="right"&&s.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Sc.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="bottom"&&s.anchorOrigin.horizontal==="right"&&s.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Sc.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="top"&&s.anchorOrigin.horizontal==="left"&&s.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Sc.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="bottom"&&s.anchorOrigin.horizontal==="left"&&s.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Sc.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="top"&&s.anchorOrigin.horizontal==="right"&&s.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Sc.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="bottom"&&s.anchorOrigin.horizontal==="right"&&s.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Sc.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="top"&&s.anchorOrigin.horizontal==="left"&&s.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Sc.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="bottom"&&s.anchorOrigin.horizontal==="left"&&s.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Sc.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function aE(t){return{vertical:t?.vertical??"top",horizontal:t?.horizontal??"right"}}const T4=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiBadge"}),{anchorOrigin:n,className:i,classes:o,component:l,components:c={},componentsProps:m={},children:d,overlap:p="rectangular",color:x="default",invisible:j=!1,max:_=99,badgeContent:S,slots:v,slotProps:y,showZero:N=!1,variant:C="standard",...P}=r,{badgeContent:E,invisible:D,max:T,displayValue:A}=pZ({max:_,invisible:j,badgeContent:S,showZero:N}),I=N4({anchorOrigin:aE(n),color:x,overlap:p,variant:C,badgeContent:S}),F=D||E==null&&C!=="dot",{color:z=x,overlap:O=p,anchorOrigin:K,variant:W=C}=F?I:r,B=aE(K),q=W!=="dot"?A:void 0,H={...r,badgeContent:E,invisible:F,max:T,displayValue:q,showZero:N,anchorOrigin:B,color:z,overlap:O,variant:W},Q=fZ(H),V={slots:{root:v?.root??c.Root,badge:v?.badge??c.Badge},slotProps:{root:y?.root??m.root,badge:y?.badge??m.badge}},[M,R]=Gt("root",{elementType:xZ,externalForwardedProps:{...V,...P},ownerState:H,className:Je(Q.root,i),ref:a,additionalProps:{as:l}}),[$,Y]=Gt("badge",{elementType:gZ,externalForwardedProps:V,ownerState:H,className:Q.badge});return e.jsxs(M,{...R,children:[d,e.jsx($,{...Y,children:q})]})}),bZ=Et("MuiBox",["root"]),yZ=yv(),b=hW({themeId:Gi,defaultTheme:yZ,defaultClassName:bZ.root,generateClassName:a7.generate});function vZ(t){return Tt("MuiButton",t)}const Ed=Et("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),jZ=g.createContext({}),NZ=g.createContext(void 0),_Z=t=>{const{color:s,disableElevation:a,fullWidth:r,size:n,variant:i,loading:o,loadingPosition:l,classes:c}=t,m={root:["root",o&&"loading",i,`${i}${Ke(s)}`,`size${Ke(n)}`,`${i}Size${Ke(n)}`,`color${Ke(s)}`,a&&"disableElevation",r&&"fullWidth",o&&`loadingPosition${Ke(l)}`],startIcon:["icon","startIcon",`iconSize${Ke(n)}`],endIcon:["icon","endIcon",`iconSize${Ke(n)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=kt(m,vZ,c);return{...c,...d}},V7=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],wZ=Ne(eo,{shouldForwardProp:t=>Ur(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],s[`${a.variant}${Ke(a.color)}`],s[`size${Ke(a.size)}`],s[`${a.variant}Size${Ke(a.size)}`],a.color==="inherit"&&s.colorInherit,a.disableElevation&&s.disableElevation,a.fullWidth&&s.fullWidth,a.loading&&s.loading]}})(Wt(({theme:t})=>{const s=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],a=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Ed.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Ed.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Ed.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Ed.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(ga()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:s,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ed.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ed.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Ed.loading}`]:{color:"transparent"}}}]}})),SZ=Ne("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.startIcon,a.loading&&s.startIconLoadingStart,s[`iconSize${Ke(a.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...V7]})),CZ=Ne("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.endIcon,a.loading&&s.endIconLoadingEnd,s[`iconSize${Ke(a.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...V7]})),PZ=Ne("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),rE=Ne("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),ii=g.forwardRef(function(s,a){const r=g.useContext(jZ),n=g.useContext(NZ),i=jx(r,s),o=ts({props:i,name:"MuiButton"}),{children:l,color:c="primary",component:m="button",className:d,disabled:p=!1,disableElevation:x=!1,disableFocusRipple:j=!1,endIcon:_,focusVisibleClassName:S,fullWidth:v=!1,id:y,loading:N=null,loadingIndicator:C,loadingPosition:P="center",size:E="medium",startIcon:D,type:T,variant:A="text",...I}=o,F=Cn(y),z=C??e.jsx(to,{"aria-labelledby":F,color:"inherit",size:16}),O={...o,color:c,component:m,disabled:p,disableElevation:x,disableFocusRipple:j,fullWidth:v,loading:N,loadingIndicator:z,loadingPosition:P,size:E,type:T,variant:A},K=_Z(O),W=(D||N&&P==="start")&&e.jsx(SZ,{className:K.startIcon,ownerState:O,children:D||e.jsx(rE,{className:K.loadingIconPlaceholder,ownerState:O})}),B=(_||N&&P==="end")&&e.jsx(CZ,{className:K.endIcon,ownerState:O,children:_||e.jsx(rE,{className:K.loadingIconPlaceholder,ownerState:O})}),q=n||"",H=typeof N=="boolean"?e.jsx("span",{className:K.loadingWrapper,style:{display:"contents"},children:N&&e.jsx(PZ,{className:K.loadingIndicator,ownerState:O,children:z})}):null;return e.jsxs(wZ,{ownerState:O,className:Je(r.className,K.root,d,q),component:m,disabled:p||N,focusRipple:!j,focusVisibleClassName:Je(K.focusVisible,S),ref:a,type:T,id:N?F:y,...I,classes:K,children:[W,P!=="end"&&H,l,P==="end"&&H,B]})});function kZ(t){return Tt("PrivateSwitchBase",t)}Et("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const EZ=t=>{const{classes:s,checked:a,disabled:r,edge:n}=t,i={root:["root",a&&"checked",r&&"disabled",n&&`edge${Ke(n)}`],input:["input"]};return kt(i,kZ,s)},TZ=Ne(eo,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:s})=>t==="start"&&s.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:s})=>t==="end"&&s.size!=="small",style:{marginRight:-12}}]}),MZ=Ne("input",{name:"MuiSwitchBase",shouldForwardProp:Ur})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),M4=g.forwardRef(function(s,a){const{autoFocus:r,checked:n,checkedIcon:i,defaultChecked:o,disabled:l,disableFocusRipple:c=!1,edge:m=!1,icon:d,id:p,inputProps:x,inputRef:j,name:_,onBlur:S,onChange:v,onFocus:y,readOnly:N,required:C=!1,tabIndex:P,type:E,value:D,slots:T={},slotProps:A={},...I}=s,[F,z]=_n({controlled:n,default:!!o,name:"SwitchBase",state:"checked"}),O=Ni(),K=te=>{y&&y(te),O&&O.onFocus&&O.onFocus(te)},W=te=>{S&&S(te),O&&O.onBlur&&O.onBlur(te)},B=te=>{if(te.nativeEvent.defaultPrevented)return;const ee=te.target.checked;z(ee),v&&v(te,ee)};let q=l;O&&typeof q>"u"&&(q=O.disabled);const H=E==="checkbox"||E==="radio",Q={...s,checked:F,disabled:q,disableFocusRipple:c,edge:m},V=EZ(Q),M={slots:T,slotProps:{input:x,...A}},[R,$]=Gt("root",{ref:a,elementType:TZ,className:V.root,shouldForwardComponentProp:!0,externalForwardedProps:{...M,component:"span",...I},getSlotProps:te=>({...te,onFocus:ee=>{te.onFocus?.(ee),K(ee)},onBlur:ee=>{te.onBlur?.(ee),W(ee)}}),ownerState:Q,additionalProps:{centerRipple:!0,focusRipple:!c,disabled:q,role:void 0,tabIndex:null}}),[Y,J]=Gt("input",{ref:j,elementType:MZ,className:V.input,externalForwardedProps:M,getSlotProps:te=>({...te,onChange:ee=>{te.onChange?.(ee),B(ee)}}),ownerState:Q,additionalProps:{autoFocus:r,checked:n,defaultChecked:o,disabled:q,id:H?p:void 0,name:_,readOnly:N,required:C,tabIndex:P,type:E,...E==="checkbox"&&D===void 0?{}:{value:D}}});return e.jsxs(R,{...$,children:[e.jsx(Y,{...J}),F?i:d]})}),DZ=Lt(e.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),RZ=Lt(e.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),AZ=Lt(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function IZ(t){return Tt("MuiCheckbox",t)}const nN=Et("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),OZ=t=>{const{classes:s,indeterminate:a,color:r,size:n}=t,i={root:["root",a&&"indeterminate",`color${Ke(r)}`,`size${Ke(n)}`]},o=kt(i,IZ,s);return{...s,...o}},FZ=Ne(M4,{shouldForwardProp:t=>Ur(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.indeterminate&&s.indeterminate,s[`size${Ke(a.size)}`],a.color!=="default"&&s[`color${Ke(a.color)}`]]}})(Wt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(ga()).map(([s])=>({props:{color:s,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[s].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(ga()).map(([s])=>({props:{color:s},style:{[`&.${nN.checked}, &.${nN.indeterminate}`]:{color:(t.vars||t).palette[s].main},[`&.${nN.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),LZ=e.jsx(RZ,{}),$Z=e.jsx(DZ,{}),zZ=e.jsx(AZ,{}),qo=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiCheckbox"}),{checkedIcon:n=LZ,color:i="primary",icon:o=$Z,indeterminate:l=!1,indeterminateIcon:c=zZ,inputProps:m,size:d="medium",disableRipple:p=!1,className:x,slots:j={},slotProps:_={},...S}=r,v=l?c:o,y=l?c:n,N={...r,disableRipple:p,color:i,indeterminate:l,size:d},C=OZ(N),P=_.input??m,[E,D]=Gt("root",{ref:a,elementType:FZ,className:Je(C.root,x),shouldForwardComponentProp:!0,externalForwardedProps:{slots:j,slotProps:_,...S},ownerState:N,additionalProps:{type:"checkbox",icon:g.cloneElement(v,{fontSize:v.props.fontSize??d}),checkedIcon:g.cloneElement(y,{fontSize:y.props.fontSize??d}),disableRipple:p,slots:j,slotProps:{input:g4(typeof P=="function"?P(N):P,{"data-indeterminate":l})}}});return e.jsx(E,{...D,classes:C})});function nE(t){return t.substring(2).toLowerCase()}function qZ(t,s){return s.documentElement.clientWidth<t.clientX||s.documentElement.clientHeight<t.clientY}function BZ(t){const{children:s,disableReactTree:a=!1,mouseEvent:r="onClick",onClickAway:n,touchEvent:i="onTouchEnd"}=t,o=g.useRef(!1),l=g.useRef(null),c=g.useRef(!1),m=g.useRef(!1);g.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const d=Us(id(s),l),p=Ot(_=>{const S=m.current;m.current=!1;const v=cr(l.current);if(!c.current||!l.current||"clientX"in _&&qZ(_,v))return;if(o.current){o.current=!1;return}let y;_.composedPath?y=_.composedPath().includes(l.current):y=!v.documentElement.contains(_.target)||l.current.contains(_.target),!y&&(a||!S)&&n(_)}),x=_=>S=>{m.current=!0;const v=s.props[_];v&&v(S)},j={ref:d};return i!==!1&&(j[i]=x(i)),g.useEffect(()=>{if(i!==!1){const _=nE(i),S=cr(l.current),v=()=>{o.current=!0};return S.addEventListener(_,p),S.addEventListener("touchmove",v),()=>{S.removeEventListener(_,p),S.removeEventListener("touchmove",v)}}},[p,i]),r!==!1&&(j[r]=x(r)),g.useEffect(()=>{if(r!==!1){const _=nE(r),S=cr(l.current);return S.addEventListener(_,p),()=>{S.removeEventListener(_,p)}}},[p,r]),g.cloneElement(s,j)}function H7(t=window){const s=t.document.documentElement.clientWidth;return t.innerWidth-s}function UZ(t){const s=cr(t);return s.body===t?xi(t).innerWidth>s.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Zf(t,s){s?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function iE(t){return parseInt(xi(t).getComputedStyle(t).paddingRight,10)||0}function VZ(t){const a=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return a||r}function oE(t,s,a,r,n){const i=[s,a,...r];[].forEach.call(t.children,o=>{const l=!i.includes(o),c=!VZ(o);l&&c&&Zf(o,n)})}function iN(t,s){let a=-1;return t.some((r,n)=>s(r)?(a=n,!0):!1),a}function HZ(t,s){const a=[],r=t.container;if(!s.disableScrollLock){if(UZ(r)){const o=H7(xi(r));a.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${iE(r)+o}px`;const l=cr(r).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{a.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${iE(c)+o}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=cr(r).body;else{const o=r.parentElement,l=xi(r);i=o?.nodeName==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:r}a.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{a.forEach(({value:i,el:o,property:l})=>{i?o.style.setProperty(l,i):o.style.removeProperty(l)})}}function WZ(t){const s=[];return[].forEach.call(t.children,a=>{a.getAttribute("aria-hidden")==="true"&&s.push(a)}),s}class YZ{constructor(){this.modals=[],this.containers=[]}add(s,a){let r=this.modals.indexOf(s);if(r!==-1)return r;r=this.modals.length,this.modals.push(s),s.modalRef&&Zf(s.modalRef,!1);const n=WZ(a);oE(a,s.mount,s.modalRef,n,!0);const i=iN(this.containers,o=>o.container===a);return i!==-1?(this.containers[i].modals.push(s),r):(this.containers.push({modals:[s],container:a,restore:null,hiddenSiblings:n}),r)}mount(s,a){const r=iN(this.containers,i=>i.modals.includes(s)),n=this.containers[r];n.restore||(n.restore=HZ(n,a))}remove(s,a=!0){const r=this.modals.indexOf(s);if(r===-1)return r;const n=iN(this.containers,o=>o.modals.includes(s)),i=this.containers[n];if(i.modals.splice(i.modals.indexOf(s),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),s.modalRef&&Zf(s.modalRef,a),oE(i.container,s.mount,s.modalRef,i.hiddenSiblings,!1),this.containers.splice(n,1);else{const o=i.modals[i.modals.length-1];o.modalRef&&Zf(o.modalRef,!1)}return r}isTopModal(s){return this.modals.length>0&&this.modals[this.modals.length-1]===s}}const GZ=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function KZ(t){const s=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(s)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:s}function QZ(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const s=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let a=s(`[name="${t.name}"]:checked`);return a||(a=s(`[name="${t.name}"]`)),a!==t}function ZZ(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||QZ(t))}function XZ(t){const s=[],a=[];return Array.from(t.querySelectorAll(GZ)).forEach((r,n)=>{const i=KZ(r);i===-1||!ZZ(r)||(i===0?s.push(r):a.push({documentOrder:n,tabIndex:i,node:r}))}),a.sort((r,n)=>r.tabIndex===n.tabIndex?r.documentOrder-n.documentOrder:r.tabIndex-n.tabIndex).map(r=>r.node).concat(s)}function JZ(){return!0}function W7(t){const{children:s,disableAutoFocus:a=!1,disableEnforceFocus:r=!1,disableRestoreFocus:n=!1,getTabbable:i=XZ,isEnabled:o=JZ,open:l}=t,c=g.useRef(!1),m=g.useRef(null),d=g.useRef(null),p=g.useRef(null),x=g.useRef(null),j=g.useRef(!1),_=g.useRef(null),S=Us(id(s),_),v=g.useRef(null);g.useEffect(()=>{!l||!_.current||(j.current=!a)},[a,l]),g.useEffect(()=>{if(!l||!_.current)return;const C=cr(_.current);return _.current.contains(C.activeElement)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),j.current&&_.current.focus()),()=>{n||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}},[l]),g.useEffect(()=>{if(!l||!_.current)return;const C=cr(_.current),P=T=>{v.current=T,!(r||!o()||T.key!=="Tab")&&C.activeElement===_.current&&T.shiftKey&&(c.current=!0,d.current&&d.current.focus())},E=()=>{const T=_.current;if(T===null)return;if(!C.hasFocus()||!o()||c.current){c.current=!1;return}if(T.contains(C.activeElement)||r&&C.activeElement!==m.current&&C.activeElement!==d.current)return;if(C.activeElement!==x.current)x.current=null;else if(x.current!==null)return;if(!j.current)return;let A=[];if((C.activeElement===m.current||C.activeElement===d.current)&&(A=i(_.current)),A.length>0){const I=!!(v.current?.shiftKey&&v.current?.key==="Tab"),F=A[0],z=A[A.length-1];typeof F!="string"&&typeof z!="string"&&(I?z.focus():F.focus())}else T.focus()};C.addEventListener("focusin",E),C.addEventListener("keydown",P,!0);const D=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&E()},50);return()=>{clearInterval(D),C.removeEventListener("focusin",E),C.removeEventListener("keydown",P,!0)}},[a,r,n,o,l,i]);const y=C=>{p.current===null&&(p.current=C.relatedTarget),j.current=!0,x.current=C.target;const P=s.props.onFocus;P&&P(C)},N=C=>{p.current===null&&(p.current=C.relatedTarget),j.current=!0};return e.jsxs(g.Fragment,{children:[e.jsx("div",{tabIndex:l?0:-1,onFocus:N,ref:m,"data-testid":"sentinelStart"}),g.cloneElement(s,{ref:S,onFocus:y}),e.jsx("div",{tabIndex:l?0:-1,onFocus:N,ref:d,"data-testid":"sentinelEnd"})]})}function eX(t){return typeof t=="function"?t():t}function tX(t){return t?t.props.hasOwnProperty("in"):!1}const lE=()=>{},tb=new YZ;function sX(t){const{container:s,disableEscapeKeyDown:a=!1,disableScrollLock:r=!1,closeAfterTransition:n=!1,onTransitionEnter:i,onTransitionExited:o,children:l,onClose:c,open:m,rootRef:d}=t,p=g.useRef({}),x=g.useRef(null),j=g.useRef(null),_=Us(j,d),[S,v]=g.useState(!m),y=tX(l);let N=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(N=!1);const C=()=>cr(x.current),P=()=>(p.current.modalRef=j.current,p.current.mount=x.current,p.current),E=()=>{tb.mount(P(),{disableScrollLock:r}),j.current&&(j.current.scrollTop=0)},D=Ot(()=>{const B=eX(s)||C().body;tb.add(P(),B),j.current&&E()}),T=()=>tb.isTopModal(P()),A=Ot(B=>{x.current=B,B&&(m&&T()?E():j.current&&Zf(j.current,N))}),I=g.useCallback(()=>{tb.remove(P(),N)},[N]);g.useEffect(()=>()=>{I()},[I]),g.useEffect(()=>{m?D():(!y||!n)&&I()},[m,I,y,n,D]);const F=B=>q=>{B.onKeyDown?.(q),!(q.key!=="Escape"||q.which===229||!T())&&(a||(q.stopPropagation(),c&&c(q,"escapeKeyDown")))},z=B=>q=>{B.onClick?.(q),q.target===q.currentTarget&&c&&c(q,"backdropClick")};return{getRootProps:(B={})=>{const q=k7(t);delete q.onTransitionEnter,delete q.onTransitionExited;const H={...q,...B};return{role:"presentation",...H,onKeyDown:F(H),ref:_}},getBackdropProps:(B={})=>{const q=B;return{"aria-hidden":!0,...q,onClick:z(q),open:m}},getTransitionProps:()=>{const B=()=>{v(!1),i&&i()},q=()=>{v(!0),o&&o(),n&&I()};return{onEnter:b_(B,l?.props.onEnter??lE),onExited:b_(q,l?.props.onExited??lE)}},rootRef:_,portalRef:A,isTopModal:T,exited:S,hasTransition:y}}function aX(t){return Tt("MuiModal",t)}Et("MuiModal",["root","hidden","backdrop"]);const rX=t=>{const{open:s,exited:a,classes:r}=t;return kt({root:["root",!s&&a&&"hidden"],backdrop:["backdrop"]},aX,r)},nX=Ne("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,!a.open&&a.exited&&s.hidden]}})(Wt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:s})=>!s.open&&s.exited,style:{visibility:"hidden"}}]}))),iX=Ne(U7,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Ev=g.forwardRef(function(s,a){const r=ts({name:"MuiModal",props:s}),{BackdropComponent:n=iX,BackdropProps:i,classes:o,className:l,closeAfterTransition:c=!1,children:m,container:d,component:p,components:x={},componentsProps:j={},disableAutoFocus:_=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:v=!1,disablePortal:y=!1,disableRestoreFocus:N=!1,disableScrollLock:C=!1,hideBackdrop:P=!1,keepMounted:E=!1,onClose:D,onTransitionEnter:T,onTransitionExited:A,open:I,slotProps:F={},slots:z={},theme:O,...K}=r,W={...r,closeAfterTransition:c,disableAutoFocus:_,disableEnforceFocus:S,disableEscapeKeyDown:v,disablePortal:y,disableRestoreFocus:N,disableScrollLock:C,hideBackdrop:P,keepMounted:E},{getRootProps:B,getBackdropProps:q,getTransitionProps:H,portalRef:Q,isTopModal:V,exited:M,hasTransition:R}=sX({...W,rootRef:a}),$={...W,exited:M},Y=rX($),J={};if(m.props.tabIndex===void 0&&(J.tabIndex="-1"),R){const{onEnter:ae,onExited:xe}=H();J.onEnter=ae,J.onExited=xe}const te={slots:{root:x.Root,backdrop:x.Backdrop,...z},slotProps:{...j,...F}},[ee,ne]=Gt("root",{ref:a,elementType:nX,externalForwardedProps:{...te,...K,component:p},getSlotProps:B,ownerState:$,className:Je(l,Y?.root,!$.open&&$.exited&&Y?.hidden)}),[he,de]=Gt("backdrop",{ref:i?.ref,elementType:n,externalForwardedProps:te,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:ae=>q({...ae,onClick:xe=>{ae?.onClick&&ae.onClick(xe)}}),className:Je(i?.className,Y?.backdrop),ownerState:$});return!E&&!I&&(!R||M)?null:e.jsx(z7,{ref:Q,container:d,disablePortal:y,children:e.jsxs(ee,{...ne,children:[!P&&n?e.jsx(he,{...de}):null,e.jsx(W7,{disableEnforceFocus:S,disableAutoFocus:_,disableRestoreFocus:N,isEnabled:V,open:I,children:g.cloneElement(m,J)})]})})});function oX(t){return Tt("MuiDialog",t)}const Xf=Et("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Y7=g.createContext({}),lX=Ne(U7,{name:"MuiDialog",slot:"Backdrop",overrides:(t,s)=>s.backdrop})({zIndex:-1}),cX=t=>{const{classes:s,scroll:a,maxWidth:r,fullWidth:n,fullScreen:i}=t,o={root:["root"],container:["container",`scroll${Ke(a)}`],paper:["paper",`paperScroll${Ke(a)}`,`paperWidth${Ke(String(r))}`,n&&"paperFullWidth",i&&"paperFullScreen"]};return kt(o,oX,s)},dX=Ne(Ev,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),uX=Ne("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.container,s[`scroll${Ke(a.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),mX=Ne(la,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.paper,s[`scrollPaper${Ke(a.scroll)}`],s[`paperWidth${Ke(String(a.maxWidth))}`],a.fullWidth&&s.paperFullWidth,a.fullScreen&&s.paperFullScreen]}})(Wt(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:s})=>!s.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Xf.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(s=>s!=="xs").map(s=>({props:{maxWidth:s},style:{maxWidth:`${t.breakpoints.values[s]}${t.breakpoints.unit}`,[`&.${Xf.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[s]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:s})=>s.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:s})=>s.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Xf.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),ol=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiDialog"}),n=vi(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":l,"aria-modal":c=!0,BackdropComponent:m,BackdropProps:d,children:p,className:x,disableEscapeKeyDown:j=!1,fullScreen:_=!1,fullWidth:S=!1,maxWidth:v="sm",onClick:y,onClose:N,open:C,PaperComponent:P=la,PaperProps:E={},scroll:D="paper",slots:T={},slotProps:A={},TransitionComponent:I=ou,transitionDuration:F=i,TransitionProps:z,...O}=r,K={...r,disableEscapeKeyDown:j,fullScreen:_,fullWidth:S,maxWidth:v,scroll:D},W=cX(K),B=g.useRef(),q=le=>{B.current=le.target===le.currentTarget},H=le=>{y&&y(le),B.current&&(B.current=null,N&&N(le,"backdropClick"))},Q=Cn(l),V=g.useMemo(()=>({titleId:Q}),[Q]),M={transition:I,...T},R={transition:z,paper:E,backdrop:d,...A},$={slots:M,slotProps:R},[Y,J]=Gt("root",{elementType:dX,shouldForwardComponentProp:!0,externalForwardedProps:$,ownerState:K,className:Je(W.root,x),ref:a}),[te,ee]=Gt("backdrop",{elementType:lX,shouldForwardComponentProp:!0,externalForwardedProps:$,ownerState:K}),[ne,he]=Gt("paper",{elementType:mX,shouldForwardComponentProp:!0,externalForwardedProps:$,ownerState:K,className:Je(W.paper,E.className)}),[de,ae]=Gt("container",{elementType:uX,externalForwardedProps:$,ownerState:K,className:W.container}),[xe,ge]=Gt("transition",{elementType:ou,externalForwardedProps:$,ownerState:K,additionalProps:{appear:!0,in:C,timeout:F,role:"presentation"}});return e.jsx(Y,{closeAfterTransition:!0,slots:{backdrop:te},slotProps:{backdrop:{transitionDuration:F,as:m,...ee}},disableEscapeKeyDown:j,onClose:N,open:C,onClick:H,...J,...O,children:e.jsx(xe,{...ge,children:e.jsx(de,{onMouseDown:q,...ae,children:e.jsx(ne,{as:P,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":Q,"aria-modal":c,...he,children:e.jsx(Y7.Provider,{value:V,children:p})})})})})});function pX(t){return Tt("MuiDialogActions",t)}Et("MuiDialogActions",["root","spacing"]);const hX=t=>{const{classes:s,disableSpacing:a}=t;return kt({root:["root",!a&&"spacing"]},pX,s)},fX=Ne("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,!a.disableSpacing&&s.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Cp=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiDialogActions"}),{className:n,disableSpacing:i=!1,...o}=r,l={...r,disableSpacing:i},c=hX(l);return e.jsx(fX,{className:Je(c.root,n),ownerState:l,ref:a,...o})});function xX(t){return Tt("MuiDialogContent",t)}Et("MuiDialogContent",["root","dividers"]);function gX(t){return Tt("MuiDialogTitle",t)}const bX=Et("MuiDialogTitle",["root"]),yX=t=>{const{classes:s,dividers:a}=t;return kt({root:["root",a&&"dividers"]},xX,s)},vX=Ne("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.dividers&&s.dividers]}})(Wt(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:s})=>s.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:s})=>!s.dividers,style:{[`.${bX.root} + &`]:{paddingTop:0}}}]}))),Pp=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiDialogContent"}),{className:n,dividers:i=!1,...o}=r,l={...r,dividers:i},c=yX(l);return e.jsx(vX,{className:Je(c.root,n),ownerState:l,ref:a,...o})}),jX=t=>{const{classes:s}=t;return kt({root:["root"]},gX,s)},NX=Ne(f,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),gg=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiDialogTitle"}),{className:n,id:i,...o}=r,l=r,c=jX(l),{titleId:m=i}=g.useContext(Y7);return e.jsx(NX,{component:"h2",className:Je(c.root,n),ownerState:l,ref:a,variant:"h6",id:i??m,...o})});function _X(t){return Tt("MuiDivider",t)}const cE=Et("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),wX=t=>{const{absolute:s,children:a,classes:r,flexItem:n,light:i,orientation:o,textAlign:l,variant:c}=t;return kt({root:["root",s&&"absolute",c,i&&"light",o==="vertical"&&"vertical",n&&"flexItem",a&&"withChildren",a&&o==="vertical"&&"withChildrenVertical",l==="right"&&o!=="vertical"&&"textAlignRight",l==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},_X,r)},SX=Ne("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.absolute&&s.absolute,s[a.variant],a.light&&s.light,a.orientation==="vertical"&&s.vertical,a.flexItem&&s.flexItem,a.children&&s.withChildren,a.children&&a.orientation==="vertical"&&s.withChildrenVertical,a.textAlign==="right"&&a.orientation!=="vertical"&&s.textAlignRight,a.textAlign==="left"&&a.orientation!=="vertical"&&s.textAlignLeft]}})(Wt(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:s})=>!!s.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:s})=>s.children&&s.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:s})=>s.orientation==="vertical"&&s.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:s})=>s.textAlign==="right"&&s.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:s})=>s.textAlign==="left"&&s.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),CX=Ne("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.wrapper,a.orientation==="vertical"&&s.wrapperVertical]}})(Wt(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),or=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiDivider"}),{absolute:n=!1,children:i,className:o,orientation:l="horizontal",component:c=i||l==="vertical"?"div":"hr",flexItem:m=!1,light:d=!1,role:p=c!=="hr"?"separator":void 0,textAlign:x="center",variant:j="fullWidth",..._}=r,S={...r,absolute:n,component:c,flexItem:m,light:d,orientation:l,role:p,textAlign:x,variant:j},v=wX(S);return e.jsx(SX,{as:c,className:Je(v.root,o),role:p,ref:a,ownerState:S,"aria-orientation":p==="separator"&&(c!=="hr"||l==="vertical")?l:void 0,..._,children:i?e.jsx(CX,{className:v.wrapper,ownerState:S,children:i}):null})});or&&(or.muiSkipListHighlight=!0);function PX(t,s,a){const r=s.getBoundingClientRect(),n=a&&a.getBoundingClientRect(),i=xi(s);let o;if(s.fakeTransform)o=s.fakeTransform;else{const m=i.getComputedStyle(s);o=m.getPropertyValue("-webkit-transform")||m.getPropertyValue("transform")}let l=0,c=0;if(o&&o!=="none"&&typeof o=="string"){const m=o.split("(")[1].split(")")[0].split(",");l=parseInt(m[4],10),c=parseInt(m[5],10)}return t==="left"?n?`translateX(${n.right+l-r.left}px)`:`translateX(${i.innerWidth+l-r.left}px)`:t==="right"?n?`translateX(-${r.right-n.left-l}px)`:`translateX(-${r.left+r.width-l}px)`:t==="up"?n?`translateY(${n.bottom+c-r.top}px)`:`translateY(${i.innerHeight+c-r.top}px)`:n?`translateY(-${r.top-n.top+r.height-c}px)`:`translateY(-${r.top+r.height-c}px)`}function kX(t){return typeof t=="function"?t():t}function sb(t,s,a){const r=kX(a),n=PX(t,s,r);n&&(s.style.webkitTransform=n,s.style.transform=n)}const EX=g.forwardRef(function(s,a){const r=vi(),n={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:c,container:m,direction:d="down",easing:p=n,in:x,onEnter:j,onEntered:_,onEntering:S,onExit:v,onExited:y,onExiting:N,style:C,timeout:P=i,TransitionComponent:E=ji,...D}=s,T=g.useRef(null),A=Us(id(c),T,a),I=Q=>V=>{Q&&(V===void 0?Q(T.current):Q(T.current,V))},F=I((Q,V)=>{sb(d,Q,m),j4(Q),j&&j(Q,V)}),z=I((Q,V)=>{const M=Kc({timeout:P,style:C,easing:p},{mode:"enter"});Q.style.webkitTransition=r.transitions.create("-webkit-transform",{...M}),Q.style.transition=r.transitions.create("transform",{...M}),Q.style.webkitTransform="none",Q.style.transform="none",S&&S(Q,V)}),O=I(_),K=I(N),W=I(Q=>{const V=Kc({timeout:P,style:C,easing:p},{mode:"exit"});Q.style.webkitTransition=r.transitions.create("-webkit-transform",V),Q.style.transition=r.transitions.create("transform",V),sb(d,Q,m),v&&v(Q)}),B=I(Q=>{Q.style.webkitTransition="",Q.style.transition="",y&&y(Q)}),q=Q=>{o&&o(T.current,Q)},H=g.useCallback(()=>{T.current&&sb(d,T.current,m)},[d,m]);return g.useEffect(()=>{if(x||d==="down"||d==="right")return;const Q=mg(()=>{T.current&&sb(d,T.current,m)}),V=xi(T.current);return V.addEventListener("resize",Q),()=>{Q.clear(),V.removeEventListener("resize",Q)}},[d,x,m]),g.useEffect(()=>{x||H()},[x,H]),e.jsx(E,{nodeRef:T,onEnter:F,onEntered:O,onEntering:z,onExit:W,onExited:B,onExiting:K,addEndListener:q,appear:l,in:x,timeout:P,...D,children:(Q,{ownerState:V,...M})=>g.cloneElement(c,{ref:A,style:{visibility:Q==="exited"&&!x?"hidden":void 0,...C,...c.props.style},...M})})});function TX(t){return Tt("MuiDrawer",t)}Et("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const G7=(t,s)=>{const{ownerState:a}=t;return[s.root,(a.variant==="permanent"||a.variant==="persistent")&&s.docked,s.modal]},MX=t=>{const{classes:s,anchor:a,variant:r}=t,n={root:["root",`anchor${Ke(a)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Ke(a)}`,r!=="temporary"&&`paperAnchorDocked${Ke(a)}`]};return kt(n,TX,s)},DX=Ne(Ev,{name:"MuiDrawer",slot:"Root",overridesResolver:G7})(Wt(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),RX=Ne("div",{shouldForwardProp:Ur,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:G7})({flex:"0 0 auto"}),AX=Ne(la,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.paper,s[`paperAnchor${Ke(a.anchor)}`],a.variant!=="temporary"&&s[`paperAnchorDocked${Ke(a.anchor)}`]]}})(Wt(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:s})=>s.anchor==="left"&&s.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:s})=>s.anchor==="top"&&s.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:s})=>s.anchor==="right"&&s.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:s})=>s.anchor==="bottom"&&s.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),K7={left:"right",right:"left",top:"down",bottom:"up"};function IX(t){return["left","right"].includes(t)}function OX({direction:t},s){return t==="rtl"&&IX(s)?K7[s]:s}const FX=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiDrawer"}),n=vi(),i=Rr(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{anchor:l="left",BackdropProps:c,children:m,className:d,elevation:p=16,hideBackdrop:x=!1,ModalProps:{BackdropProps:j,..._}={},onClose:S,open:v=!1,PaperProps:y={},SlideProps:N,TransitionComponent:C,transitionDuration:P=o,variant:E="temporary",slots:D={},slotProps:T={},...A}=r,I=g.useRef(!1);g.useEffect(()=>{I.current=!0},[]);const F=OX({direction:i?"rtl":"ltr"},l),O={...r,anchor:l,elevation:p,open:v,variant:E,...A},K=MX(O),W={slots:{transition:C,...D},slotProps:{paper:y,transition:N,...T,backdrop:g4(T.backdrop||{...c,...j},{transitionDuration:P})}},[B,q]=Gt("root",{ref:a,elementType:DX,className:Je(K.root,K.modal,d),shouldForwardComponentProp:!0,ownerState:O,externalForwardedProps:{...W,...A,..._},additionalProps:{open:v,onClose:S,hideBackdrop:x,slots:{backdrop:W.slots.backdrop},slotProps:{backdrop:W.slotProps.backdrop}}}),[H,Q]=Gt("paper",{elementType:AX,shouldForwardComponentProp:!0,className:Je(K.paper,y.className),ownerState:O,externalForwardedProps:W,additionalProps:{elevation:E==="temporary"?p:0,square:!0,...E==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[V,M]=Gt("docked",{elementType:RX,ref:a,className:Je(K.root,K.docked,d),ownerState:O,externalForwardedProps:W,additionalProps:A}),[R,$]=Gt("transition",{elementType:EX,ownerState:O,externalForwardedProps:W,additionalProps:{in:v,direction:K7[F],timeout:P,appear:I.current}}),Y=e.jsx(H,{...Q,children:m});if(E==="permanent")return e.jsx(V,{...M,children:Y});const J=e.jsx(R,{...$,children:Y});return E==="persistent"?e.jsx(V,{...M,children:J}):e.jsx(B,{...q,children:J})}),LX=t=>{const{classes:s,disableUnderline:a,startAdornment:r,endAdornment:n,size:i,hiddenLabel:o,multiline:l}=t,c={root:["root",!a&&"underline",r&&"adornedStart",n&&"adornedEnd",i==="small"&&`size${Ke(i)}`,o&&"hiddenLabel",l&&"multiline"],input:["input"]},m=kt(c,FQ,s);return{...s,...m}},$X=Ne(Cv,{shouldForwardProp:t=>Ur(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[...wv(t,s),!a.disableUnderline&&s.underline]}})(Wt(({theme:t})=>{const s=t.palette.mode==="light",a=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",n=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:n,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${ni.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${ni.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ni.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ni.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ni.disabled}, .${ni.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ni.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(ga()).map(([o])=>({props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[o]?.main}`}}})),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:l})=>o.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),zX=Ne(Pv,{name:"MuiFilledInput",slot:"Input",overridesResolver:Sv})(Wt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}},{props:({ownerState:s})=>s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:s})=>s.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),D4=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiFilledInput"}),{disableUnderline:n=!1,components:i={},componentsProps:o,fullWidth:l=!1,hiddenLabel:c,inputComponent:m="input",multiline:d=!1,slotProps:p,slots:x={},type:j="text",..._}=r,S={...r,disableUnderline:n,fullWidth:l,inputComponent:m,multiline:d,type:j},v=LX(r),y={root:{ownerState:S},input:{ownerState:S}},N=p??o?un(y,p??o):y,C=x.root??i.Root??$X,P=x.input??i.Input??zX;return e.jsx(kv,{slots:{root:C,input:P},slotProps:N,fullWidth:l,inputComponent:m,multiline:d,ref:a,type:j,..._,classes:v})});D4.muiName="Input";function qX(t){return Tt("MuiFormControl",t)}Et("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const BX=t=>{const{classes:s,margin:a,fullWidth:r}=t,n={root:["root",a!=="none"&&`margin${Ke(a)}`,r&&"fullWidth"]};return kt(n,qX,s)},UX=Ne("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[`margin${Ke(a.margin)}`],a.fullWidth&&s.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Tv=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiFormControl"}),{children:n,className:i,color:o="primary",component:l="div",disabled:c=!1,error:m=!1,focused:d,fullWidth:p=!1,hiddenLabel:x=!1,margin:j="none",required:_=!1,size:S="medium",variant:v="outlined",...y}=r,N={...r,color:o,component:l,disabled:c,error:m,fullWidth:p,hiddenLabel:x,margin:j,required:_,size:S,variant:v},C=BX(N),[P,E]=g.useState(()=>{let B=!1;return n&&g.Children.forEach(n,q=>{if(!Hb(q,["Input","Select"]))return;const H=Hb(q,["Select"])?q.props.input:q;H&&DQ(H.props)&&(B=!0)}),B}),[D,T]=g.useState(()=>{let B=!1;return n&&g.Children.forEach(n,q=>{Hb(q,["Input","Select"])&&(vy(q.props,!0)||vy(q.props.inputProps,!0))&&(B=!0)}),B}),[A,I]=g.useState(!1);c&&A&&I(!1);const F=d!==void 0&&!c?d:A;let z;g.useRef(!1);const O=g.useCallback(()=>{T(!0)},[]),K=g.useCallback(()=>{T(!1)},[]),W=g.useMemo(()=>({adornedStart:P,setAdornedStart:E,color:o,disabled:c,error:m,filled:D,focused:F,fullWidth:p,hiddenLabel:x,size:S,onBlur:()=>{I(!1)},onFocus:()=>{I(!0)},onEmpty:K,onFilled:O,registerEffect:z,required:_,variant:v}),[P,o,c,m,D,F,p,x,z,K,O,_,S,v]);return e.jsx(_v.Provider,{value:W,children:e.jsx(UX,{as:l,ownerState:N,className:Je(C.root,i),ref:a,...y,children:n})})});function VX(t){return Tt("MuiFormControlLabel",t)}const ff=Et("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),HX=t=>{const{classes:s,disabled:a,labelPlacement:r,error:n,required:i}=t,o={root:["root",a&&"disabled",`labelPlacement${Ke(r)}`,n&&"error",i&&"required"],label:["label",a&&"disabled"],asterisk:["asterisk",n&&"error"]};return kt(o,VX,s)},WX=Ne("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[{[`& .${ff.label}`]:s.label},s.root,s[`labelPlacement${Ke(a.labelPlacement)}`]]}})(Wt(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${ff.disabled}`]:{cursor:"default"},[`& .${ff.label}`]:{[`&.${ff.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:s})=>s==="start"||s==="top"||s==="bottom",style:{marginLeft:16}}]}))),YX=Ne("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(Wt(({theme:t})=>({[`&.${ff.error}`]:{color:(t.vars||t).palette.error.main}}))),On=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiFormControlLabel"}),{checked:n,className:i,componentsProps:o={},control:l,disabled:c,disableTypography:m,inputRef:d,label:p,labelPlacement:x="end",name:j,onChange:_,required:S,slots:v={},slotProps:y={},value:N,...C}=r,P=Ni(),E=c??l.props.disabled??P?.disabled,D=S??l.props.required,T={disabled:E,required:D};["checked","name","onChange","value","inputRef"].forEach(B=>{typeof l.props[B]>"u"&&typeof r[B]<"u"&&(T[B]=r[B])});const A=od({props:r,muiFormControl:P,states:["error"]}),I={...r,disabled:E,labelPlacement:x,required:D,error:A.error},F=HX(I),z={slots:v,slotProps:{...o,...y}},[O,K]=Gt("typography",{elementType:f,externalForwardedProps:z,ownerState:I});let W=p;return W!=null&&W.type!==f&&!m&&(W=e.jsx(O,{component:"span",...K,className:Je(F.label,K?.className),children:W})),e.jsxs(WX,{className:Je(F.root,i),ownerState:I,ref:a,...C,children:[g.cloneElement(l,T),D?e.jsxs("div",{children:[W,e.jsxs(YX,{ownerState:I,"aria-hidden":!0,className:F.asterisk,children:["","*"]})]}):W]})});function GX(t){return Tt("MuiFormGroup",t)}Et("MuiFormGroup",["root","row","error"]);const KX=t=>{const{classes:s,row:a,error:r}=t;return kt({root:["root",a&&"row",r&&"error"]},GX,s)},QX=Ne("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.row&&s.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),ZX=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiFormGroup"}),{className:n,row:i=!1,...o}=r,l=Ni(),c=od({props:r,muiFormControl:l,states:["error"]}),m={...r,row:i,error:c.error},d=KX(m);return e.jsx(QX,{className:Je(d.root,n),ownerState:m,ref:a,...o})});function XX(t){return Tt("MuiFormHelperText",t)}const dE=Et("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var uE;const JX=t=>{const{classes:s,contained:a,size:r,disabled:n,error:i,filled:o,focused:l,required:c}=t,m={root:["root",n&&"disabled",i&&"error",r&&`size${Ke(r)}`,a&&"contained",l&&"focused",o&&"filled",c&&"required"]};return kt(m,XX,s)},eJ=Ne("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.size&&s[`size${Ke(a.size)}`],a.contained&&s.contained,a.filled&&s.filled]}})(Wt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${dE.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${dE.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:s})=>s.contained,style:{marginLeft:14,marginRight:14}}]}))),R4=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiFormHelperText"}),{children:n,className:i,component:o="p",disabled:l,error:c,filled:m,focused:d,margin:p,required:x,variant:j,..._}=r,S=Ni(),v=od({props:r,muiFormControl:S,states:["variant","size","disabled","error","filled","focused","required"]}),y={...r,component:o,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required};delete y.ownerState;const N=JX(y);return e.jsx(eJ,{as:o,className:Je(N.root,i),ref:a,..._,ownerState:y,children:n===" "?uE||(uE=e.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):n})});function tJ(t){return Tt("MuiFormLabel",t)}const Jf=Et("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),sJ=t=>{const{classes:s,color:a,focused:r,disabled:n,error:i,filled:o,required:l}=t,c={root:["root",`color${Ke(a)}`,n&&"disabled",i&&"error",o&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",i&&"error"]};return kt(c,tJ,s)},aJ=Ne("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.color==="secondary"&&s.colorSecondary,a.filled&&s.filled]}})(Wt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(ga()).map(([s])=>({props:{color:s},style:{[`&.${Jf.focused}`]:{color:(t.vars||t).palette[s].main}}})),{props:{},style:{[`&.${Jf.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Jf.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),rJ=Ne("span",{name:"MuiFormLabel",slot:"Asterisk"})(Wt(({theme:t})=>({[`&.${Jf.error}`]:{color:(t.vars||t).palette.error.main}}))),Q7=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiFormLabel"}),{children:n,className:i,color:o,component:l="label",disabled:c,error:m,filled:d,focused:p,required:x,...j}=r,_=Ni(),S=od({props:r,muiFormControl:_,states:["color","required","focused","disabled","error","filled"]}),v={...r,color:S.color||"primary",component:l,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required},y=sJ(v);return e.jsxs(aJ,{as:l,ownerState:v,className:Je(y.root,i),ref:a,...j,children:[n,S.required&&e.jsxs(rJ,{ownerState:v,"aria-hidden":!0,className:y.asterisk,children:["","*"]})]})});function M_(t){return`scale(${t}, ${t**2})`}const nJ={entering:{opacity:1,transform:M_(1)},entered:{opacity:1,transform:"none"}},oN=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),wx=g.forwardRef(function(s,a){const{addEndListener:r,appear:n=!0,children:i,easing:o,in:l,onEnter:c,onEntered:m,onEntering:d,onExit:p,onExited:x,onExiting:j,style:_,timeout:S="auto",TransitionComponent:v=ji,...y}=s,N=ci(),C=g.useRef(),P=vi(),E=g.useRef(null),D=Us(E,id(i),a),T=B=>q=>{if(B){const H=E.current;q===void 0?B(H):B(H,q)}},A=T(d),I=T((B,q)=>{j4(B);const{duration:H,delay:Q,easing:V}=Kc({style:_,timeout:S,easing:o},{mode:"enter"});let M;S==="auto"?(M=P.transitions.getAutoHeightDuration(B.clientHeight),C.current=M):M=H,B.style.transition=[P.transitions.create("opacity",{duration:M,delay:Q}),P.transitions.create("transform",{duration:oN?M:M*.666,delay:Q,easing:V})].join(","),c&&c(B,q)}),F=T(m),z=T(j),O=T(B=>{const{duration:q,delay:H,easing:Q}=Kc({style:_,timeout:S,easing:o},{mode:"exit"});let V;S==="auto"?(V=P.transitions.getAutoHeightDuration(B.clientHeight),C.current=V):V=q,B.style.transition=[P.transitions.create("opacity",{duration:V,delay:H}),P.transitions.create("transform",{duration:oN?V:V*.666,delay:oN?H:H||V*.333,easing:Q})].join(","),B.style.opacity=0,B.style.transform=M_(.75),p&&p(B)}),K=T(x),W=B=>{S==="auto"&&N.start(C.current||0,B),r&&r(E.current,B)};return e.jsx(v,{appear:n,in:l,nodeRef:E,onEnter:I,onEntered:F,onEntering:A,onExit:O,onExited:K,onExiting:z,addEndListener:W,timeout:S==="auto"?null:S,...y,children:(B,{ownerState:q,...H})=>g.cloneElement(i,{style:{opacity:0,transform:M_(.75),visibility:B==="exited"&&!l?"hidden":void 0,...nJ[B],..._,...i.props.style},ref:D,...H})})});wx&&(wx.muiSupportAuto=!0);const iJ=t=>{const{classes:s,disableUnderline:a}=t,n=kt({root:["root",!a&&"underline"],input:["input"]},IQ,s);return{...s,...n}},oJ=Ne(Cv,{shouldForwardProp:t=>Ur(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[...wv(t,s),!a.disableUnderline&&s.underline]}})(Wt(({theme:t})=>{let a=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(a=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Tc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Tc.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Tc.disabled}, .${Tc.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${a}`}},[`&.${Tc.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(ga()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),lJ=Ne(Pv,{name:"MuiInput",slot:"Input",overridesResolver:Sv})({}),A4=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiInput"}),{disableUnderline:n=!1,components:i={},componentsProps:o,fullWidth:l=!1,inputComponent:c="input",multiline:m=!1,slotProps:d,slots:p={},type:x="text",...j}=r,_=iJ(r),v={root:{ownerState:{disableUnderline:n}}},y=d??o?un(d??o,v):v,N=p.root??i.Root??oJ,C=p.input??i.Input??lJ;return e.jsx(kv,{slots:{root:N,input:C},slotProps:y,fullWidth:l,inputComponent:c,multiline:m,ref:a,type:x,...j,classes:_})});A4.muiName="Input";function cJ(t){return Tt("MuiInputAdornment",t)}const mE=Et("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var pE;const dJ=(t,s)=>{const{ownerState:a}=t;return[s.root,s[`position${Ke(a.position)}`],a.disablePointerEvents===!0&&s.disablePointerEvents,s[a.variant]]},uJ=t=>{const{classes:s,disablePointerEvents:a,hiddenLabel:r,position:n,size:i,variant:o}=t,l={root:["root",a&&"disablePointerEvents",n&&`position${Ke(n)}`,o,r&&"hiddenLabel",i&&`size${Ke(i)}`]};return kt(l,cJ,s)},mJ=Ne("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:dJ})(Wt(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${mE.positionStart}&:not(.${mE.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),D_=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiInputAdornment"}),{children:n,className:i,component:o="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:m,variant:d,...p}=r,x=Ni()||{};let j=d;d&&x.variant,x&&!j&&(j=x.variant);const _={...r,hiddenLabel:x.hiddenLabel,size:x.size,disablePointerEvents:l,position:m,variant:j},S=uJ(_);return e.jsx(_v.Provider,{value:null,children:e.jsx(mJ,{as:o,ownerState:_,className:Je(S.root,i),ref:a,...p,children:typeof n=="string"&&!c?e.jsx(f,{color:"textSecondary",children:n}):e.jsxs(g.Fragment,{children:[m==="start"?pE||(pE=e.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,n]})})})});function pJ(t){return Tt("MuiInputLabel",t)}Et("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const hJ=t=>{const{classes:s,formControl:a,size:r,shrink:n,disableAnimation:i,variant:o,required:l}=t,c={root:["root",a&&"formControl",!i&&"animated",n&&"shrink",r&&r!=="medium"&&`size${Ke(r)}`,o],asterisk:[l&&"asterisk"]},m=kt(c,pJ,s);return{...s,...m}},fJ=Ne(Q7,{shouldForwardProp:t=>Ur(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[{[`& .${Jf.asterisk}`]:s.asterisk},s.root,a.formControl&&s.formControl,a.size==="small"&&s.sizeSmall,a.shrink&&s.shrink,!a.disableAnimation&&s.animated,a.focused&&s.focused,s[a.variant]]}})(Wt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:s})=>s.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:s})=>s.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:s})=>!s.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:s,ownerState:a})=>s==="filled"&&a.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:s,ownerState:a,size:r})=>s==="filled"&&a.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:s,ownerState:a})=>s==="outlined"&&a.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Z7=g.forwardRef(function(s,a){const r=ts({name:"MuiInputLabel",props:s}),{disableAnimation:n=!1,margin:i,shrink:o,variant:l,className:c,...m}=r,d=Ni();let p=o;typeof p>"u"&&d&&(p=d.filled||d.focused||d.adornedStart);const x=od({props:r,muiFormControl:d,states:["size","variant","required","focused"]}),j={...r,disableAnimation:n,formControl:d,shrink:p,size:x.size,variant:x.variant,required:x.required,focused:x.focused},_=hJ(j);return e.jsx(fJ,{"data-shrink":p,ref:a,className:Je(_.root,c),...m,ownerState:j,classes:_})});function xJ(t){return Tt("MuiLinearProgress",t)}Et("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const R_=4,A_=il`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,gJ=typeof A_!="string"?rd`
        animation: ${A_} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,I_=il`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,bJ=typeof I_!="string"?rd`
        animation: ${I_} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,O_=il`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,yJ=typeof O_!="string"?rd`
        animation: ${O_} 3s infinite linear;
      `:null,vJ=t=>{const{classes:s,variant:a,color:r}=t,n={root:["root",`color${Ke(r)}`,a],dashed:["dashed",`dashedColor${Ke(r)}`],bar1:["bar","bar1",`barColor${Ke(r)}`,(a==="indeterminate"||a==="query")&&"bar1Indeterminate",a==="determinate"&&"bar1Determinate",a==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",a!=="buffer"&&`barColor${Ke(r)}`,a==="buffer"&&`color${Ke(r)}`,(a==="indeterminate"||a==="query")&&"bar2Indeterminate",a==="buffer"&&"bar2Buffer"]};return kt(n,xJ,s)},I4=(t,s)=>t.vars?t.vars.palette.LinearProgress[`${s}Bg`]:t.palette.mode==="light"?t.lighten(t.palette[s].main,.62):t.darken(t.palette[s].main,.5),jJ=Ne("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[`color${Ke(a.color)}`],s[a.variant]]}})(Wt(({theme:t})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(ga()).map(([s])=>({props:{color:s},style:{backgroundColor:I4(t,s)}})),{props:({ownerState:s})=>s.color==="inherit"&&s.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),NJ=Ne("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.dashed,s[`dashedColor${Ke(a.color)}`]]}})(Wt(({theme:t})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(ga()).map(([s])=>{const a=I4(t,s);return{props:{color:s},style:{backgroundImage:`radial-gradient(${a} 0%, ${a} 16%, transparent 42%)`}}})]})),yJ||{animation:`${O_} 3s infinite linear`}),_J=Ne("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.bar,s.bar1,s[`barColor${Ke(a.color)}`],(a.variant==="indeterminate"||a.variant==="query")&&s.bar1Indeterminate,a.variant==="determinate"&&s.bar1Determinate,a.variant==="buffer"&&s.bar1Buffer]}})(Wt(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(ga()).map(([s])=>({props:{color:s},style:{backgroundColor:(t.vars||t).palette[s].main}})),{props:{variant:"determinate"},style:{transition:`transform .${R_}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${R_}s linear`}},{props:({ownerState:s})=>s.variant==="indeterminate"||s.variant==="query",style:{width:"auto"}},{props:({ownerState:s})=>s.variant==="indeterminate"||s.variant==="query",style:gJ||{animation:`${A_} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),wJ=Ne("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.bar,s.bar2,s[`barColor${Ke(a.color)}`],(a.variant==="indeterminate"||a.variant==="query")&&s.bar2Indeterminate,a.variant==="buffer"&&s.bar2Buffer]}})(Wt(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(ga()).map(([s])=>({props:{color:s},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[s].main}})),{props:({ownerState:s})=>s.variant!=="buffer"&&s.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:s})=>s.variant!=="buffer"&&s.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(ga()).map(([s])=>({props:{color:s,variant:"buffer"},style:{backgroundColor:I4(t,s),transition:`transform .${R_}s linear`}})),{props:({ownerState:s})=>s.variant==="indeterminate"||s.variant==="query",style:{width:"auto"}},{props:({ownerState:s})=>s.variant==="indeterminate"||s.variant==="query",style:bJ||{animation:`${I_} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),gs=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiLinearProgress"}),{className:n,color:i="primary",value:o,valueBuffer:l,variant:c="indeterminate",...m}=r,d={...r,color:i,variant:c},p=vJ(d),x=Rr(),j={},_={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&o!==void 0){j["aria-valuenow"]=Math.round(o),j["aria-valuemin"]=0,j["aria-valuemax"]=100;let S=o-100;x&&(S=-S),_.bar1.transform=`translateX(${S}%)`}if(c==="buffer"&&l!==void 0){let S=(l||0)-100;x&&(S=-S),_.bar2.transform=`translateX(${S}%)`}return e.jsxs(jJ,{className:Je(p.root,n),ownerState:d,role:"progressbar",...j,ref:a,...m,children:[c==="buffer"?e.jsx(NJ,{className:p.dashed,ownerState:d}):null,e.jsx(_J,{className:p.bar1,ownerState:d,style:_.bar1}),c==="determinate"?null:e.jsx(wJ,{className:p.bar2,ownerState:d,style:_.bar2})]})});function SJ(t){return Tt("MuiLink",t)}const CJ=Et("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),PJ=({theme:t,ownerState:s})=>{const a=s.color;if("colorSpace"in t&&t.colorSpace){const i=zo(t,`palette.${a}.main`)||zo(t,`palette.${a}`)||s.color;return t.alpha(i,.4)}const r=zo(t,`palette.${a}.main`,!1)||zo(t,`palette.${a}`,!1)||s.color,n=zo(t,`palette.${a}.mainChannel`)||zo(t,`palette.${a}Channel`);return"vars"in t&&n?`rgba(${n} / 0.4)`:Sn(r,.4)},hE={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},kJ=t=>{const{classes:s,component:a,focusVisible:r,underline:n}=t,i={root:["root",`underline${Ke(n)}`,a==="button"&&"button",r&&"focusVisible"]};return kt(i,SJ,s)},EJ=Ne(f,{name:"MuiLink",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[`underline${Ke(a.underline)}`],a.component==="button"&&s.button]}})(Wt(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:s,ownerState:a})=>s==="always"&&a.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:({underline:s,ownerState:a})=>s==="always"&&a.color==="inherit",style:t.colorSpace?{textDecorationColor:t.alpha("currentColor",.4)}:null},...Object.entries(t.palette).filter(ga()).map(([s])=>({props:{underline:"always",color:s},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette[s].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${CJ.focusVisible}`]:{outline:"auto"}}}]}))),TJ=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiLink"}),n=vi(),{className:i,color:o="primary",component:l="a",onBlur:c,onFocus:m,TypographyClasses:d,underline:p="always",variant:x="inherit",sx:j,..._}=r,[S,v]=g.useState(!1),y=E=>{sp(E.target)||v(!1),c&&c(E)},N=E=>{sp(E.target)&&v(!0),m&&m(E)},C={...r,color:o,component:l,focusVisible:S,underline:p,variant:x},P=kJ(C);return e.jsx(EJ,{color:o,className:Je(P.root,i),classes:d,component:l,onBlur:y,onFocus:N,ref:a,ownerState:C,variant:x,..._,sx:[...hE[o]===void 0?[{color:o}]:[],...Array.isArray(j)?j:[j]],style:{..._.style,...p==="always"&&o!=="inherit"&&!hE[o]&&{"--Link-underlineColor":PJ({theme:n,ownerState:C})}}})}),vo=g.createContext({});function MJ(t){return Tt("MuiList",t)}Et("MuiList",["root","padding","dense","subheader"]);const DJ=t=>{const{classes:s,disablePadding:a,dense:r,subheader:n}=t;return kt({root:["root",!a&&"padding",r&&"dense",n&&"subheader"]},MJ,s)},RJ=Ne("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,!a.disablePadding&&s.padding,a.dense&&s.dense,a.subheader&&s.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),X7=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiList"}),{children:n,className:i,component:o="ul",dense:l=!1,disablePadding:c=!1,subheader:m,...d}=r,p=g.useMemo(()=>({dense:l}),[l]),x={...r,component:o,dense:l,disablePadding:c},j=DJ(x);return e.jsx(vo.Provider,{value:p,children:e.jsxs(RJ,{as:o,className:Je(j.root,i),ref:a,ownerState:x,...d,children:[m,n]})})});function AJ(t){return Tt("MuiListItem",t)}Et("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function IJ(t){return Tt("MuiListItemButton",t)}const Sm=Et("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),OJ=(t,s)=>{const{ownerState:a}=t;return[s.root,a.dense&&s.dense,a.alignItems==="flex-start"&&s.alignItemsFlexStart,a.divider&&s.divider,!a.disableGutters&&s.gutters]},FJ=t=>{const{alignItems:s,classes:a,dense:r,disabled:n,disableGutters:i,divider:o,selected:l}=t,m=kt({root:["root",r&&"dense",!i&&"gutters",o&&"divider",n&&"disabled",s==="flex-start"&&"alignItemsFlexStart",l&&"selected"]},IJ,a);return{...a,...m}},LJ=Ne(eo,{shouldForwardProp:t=>Ur(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:OJ})(Wt(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Sm.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${Sm.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${Sm.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${Sm.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Sm.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.dense,style:{paddingTop:4,paddingBottom:4}}]}))),fE=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiListItemButton"}),{alignItems:n="center",autoFocus:i=!1,component:o="div",children:l,dense:c=!1,disableGutters:m=!1,divider:d=!1,focusVisibleClassName:p,selected:x=!1,className:j,..._}=r,S=g.useContext(vo),v=g.useMemo(()=>({dense:c||S.dense||!1,alignItems:n,disableGutters:m}),[n,S.dense,c,m]),y=g.useRef(null);Ia(()=>{i&&y.current&&y.current.focus()},[i]);const N={...r,alignItems:n,dense:v.dense,disableGutters:m,divider:d,selected:x},C=FJ(N),P=Us(y,a);return e.jsx(vo.Provider,{value:v,children:e.jsx(LJ,{ref:P,href:_.href||_.to,component:(_.href||_.to)&&o==="div"?"button":o,focusVisibleClassName:Je(C.focusVisible,p),ownerState:N,className:Je(C.root,j),..._,classes:C,children:l})})});function $J(t){return Tt("MuiListItemSecondaryAction",t)}Et("MuiListItemSecondaryAction",["root","disableGutters"]);const zJ=t=>{const{disableGutters:s,classes:a}=t;return kt({root:["root",s&&"disableGutters"]},$J,a)},qJ=Ne("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.disableGutters&&s.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),J7=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiListItemSecondaryAction"}),{className:n,...i}=r,o=g.useContext(vo),l={...r,disableGutters:o.disableGutters},c=zJ(l);return e.jsx(qJ,{className:Je(c.root,n),ownerState:l,ref:a,...i})});J7.muiName="ListItemSecondaryAction";const BJ=(t,s)=>{const{ownerState:a}=t;return[s.root,a.dense&&s.dense,a.alignItems==="flex-start"&&s.alignItemsFlexStart,a.divider&&s.divider,!a.disableGutters&&s.gutters,!a.disablePadding&&s.padding,a.hasSecondaryAction&&s.secondaryAction]},UJ=t=>{const{alignItems:s,classes:a,dense:r,disableGutters:n,disablePadding:i,divider:o,hasSecondaryAction:l}=t;return kt({root:["root",r&&"dense",!n&&"gutters",!i&&"padding",o&&"divider",s==="flex-start"&&"alignItemsFlexStart",l&&"secondaryAction"],container:["container"]},AJ,a)},VJ=Ne("div",{name:"MuiListItem",slot:"Root",overridesResolver:BJ})(Wt(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:s})=>!s.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:s})=>!s.disablePadding&&s.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:s})=>!s.disablePadding&&!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>!s.disablePadding&&!!s.secondaryAction,style:{paddingRight:48}},{props:({ownerState:s})=>!!s.secondaryAction,style:{[`& > .${Sm.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:s})=>s.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:s})=>s.hasSecondaryAction,style:{paddingRight:48}}]}))),HJ=Ne("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),WJ=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiListItem"}),{alignItems:n="center",children:i,className:o,component:l,components:c={},componentsProps:m={},ContainerComponent:d="li",ContainerProps:{className:p,...x}={},dense:j=!1,disableGutters:_=!1,disablePadding:S=!1,divider:v=!1,secondaryAction:y,slotProps:N={},slots:C={},...P}=r,E=g.useContext(vo),D=g.useMemo(()=>({dense:j||E.dense||!1,alignItems:n,disableGutters:_}),[n,E.dense,j,_]),T=g.useRef(null),A=g.Children.toArray(i),I=A.length&&Hb(A[A.length-1],["ListItemSecondaryAction"]),F={...r,alignItems:n,dense:D.dense,disableGutters:_,disablePadding:S,divider:v,hasSecondaryAction:I},z=UJ(F),O=Us(T,a),K=C.root||c.Root||VJ,W=N.root||m.root||{},B={className:Je(z.root,W.className,o),...P};let q=l||"li";return I?(q=!B.component&&!l?"div":q,d==="li"&&(q==="li"?q="div":B.component==="li"&&(B.component="div")),e.jsx(vo.Provider,{value:D,children:e.jsxs(HJ,{as:d,className:Je(z.container,p),ref:O,ownerState:F,...x,children:[e.jsx(K,{...W,...!tp(K)&&{as:q,ownerState:{...F,...W.ownerState}},...B,children:A}),A.pop()]})})):e.jsx(vo.Provider,{value:D,children:e.jsxs(K,{...W,as:q,ref:O,...!tp(K)&&{ownerState:{...F,...W.ownerState}},...B,children:[A,y&&e.jsx(J7,{children:y})]})})});function YJ(t){return Tt("MuiListItemIcon",t)}const xE=Et("MuiListItemIcon",["root","alignItemsFlexStart"]),GJ=t=>{const{alignItems:s,classes:a}=t;return kt({root:["root",s==="flex-start"&&"alignItemsFlexStart"]},YJ,a)},KJ=Ne("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.alignItems==="flex-start"&&s.alignItemsFlexStart]}})(Wt(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Yb=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiListItemIcon"}),{className:n,...i}=r,o=g.useContext(vo),l={...r,alignItems:o.alignItems},c=GJ(l);return e.jsx(KJ,{className:Je(c.root,n),ownerState:l,ref:a,...i})});function QJ(t){return Tt("MuiListItemText",t)}const Em=Et("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),ZJ=t=>{const{classes:s,inset:a,primary:r,secondary:n,dense:i}=t;return kt({root:["root",a&&"inset",i&&"dense",r&&n&&"multiline"],primary:["primary"],secondary:["secondary"]},QJ,s)},XJ=Ne("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[{[`& .${Em.primary}`]:s.primary},{[`& .${Em.secondary}`]:s.secondary},s.root,a.inset&&s.inset,a.primary&&a.secondary&&s.multiline,a.dense&&s.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${Ik.root}:where(& .${Em.primary})`]:{display:"block"},[`.${Ik.root}:where(& .${Em.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Gb=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiListItemText"}),{children:n,className:i,disableTypography:o=!1,inset:l=!1,primary:c,primaryTypographyProps:m,secondary:d,secondaryTypographyProps:p,slots:x={},slotProps:j={},..._}=r,{dense:S}=g.useContext(vo);let v=c??n,y=d;const N={...r,disableTypography:o,inset:l,primary:!!v,secondary:!!y,dense:S},C=ZJ(N),P={slots:x,slotProps:{primary:m,secondary:p,...j}},[E,D]=Gt("root",{className:Je(C.root,i),elementType:XJ,externalForwardedProps:{...P,..._},ownerState:N,ref:a}),[T,A]=Gt("primary",{className:C.primary,elementType:f,externalForwardedProps:P,ownerState:N}),[I,F]=Gt("secondary",{className:C.secondary,elementType:f,externalForwardedProps:P,ownerState:N});return v!=null&&v.type!==f&&!o&&(v=e.jsx(T,{variant:S?"body2":"body1",component:A?.variant?void 0:"span",...A,children:v})),y!=null&&y.type!==f&&!o&&(y=e.jsx(I,{variant:"body2",color:"textSecondary",...F,children:y})),e.jsxs(E,{...D,children:[v,y]})});function lN(t,s,a){return t===s?t.firstChild:s&&s.nextElementSibling?s.nextElementSibling:a?null:t.firstChild}function gE(t,s,a){return t===s?a?t.firstChild:t.lastChild:s&&s.previousElementSibling?s.previousElementSibling:a?null:t.lastChild}function e9(t,s){if(s===void 0)return!0;let a=t.innerText;return a===void 0&&(a=t.textContent),a=a.trim().toLowerCase(),a.length===0?!1:s.repeating?a[0]===s.keys[0]:a.startsWith(s.keys.join(""))}function Bh(t,s,a,r,n,i){let o=!1,l=n(t,s,s?a:!1);for(;l;){if(l===t.firstChild){if(o)return!1;o=!0}const c=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!e9(l,i)||c)l=n(t,l,a);else return l.focus(),!0}return!1}const O4=g.forwardRef(function(s,a){const{actions:r,autoFocus:n=!1,autoFocusItem:i=!1,children:o,className:l,disabledItemsFocusable:c=!1,disableListWrap:m=!1,onKeyDown:d,variant:p="selectedMenu",...x}=s,j=g.useRef(null),_=g.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ia(()=>{n&&j.current.focus()},[n]),g.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(C,{direction:P})=>{const E=!j.current.style.width;if(C.clientHeight<j.current.clientHeight&&E){const D=`${H7(xi(C))}px`;j.current.style[P==="rtl"?"paddingLeft":"paddingRight"]=D,j.current.style.width=`calc(100% + ${D})`}return j.current}}),[]);const S=C=>{const P=j.current,E=C.key;if(C.ctrlKey||C.metaKey||C.altKey){d&&d(C);return}const T=cr(P).activeElement;if(E==="ArrowDown")C.preventDefault(),Bh(P,T,m,c,lN);else if(E==="ArrowUp")C.preventDefault(),Bh(P,T,m,c,gE);else if(E==="Home")C.preventDefault(),Bh(P,null,m,c,lN);else if(E==="End")C.preventDefault(),Bh(P,null,m,c,gE);else if(E.length===1){const A=_.current,I=E.toLowerCase(),F=performance.now();A.keys.length>0&&(F-A.lastTime>500?(A.keys=[],A.repeating=!0,A.previousKeyMatched=!0):A.repeating&&I!==A.keys[0]&&(A.repeating=!1)),A.lastTime=F,A.keys.push(I);const z=T&&!A.repeating&&e9(T,A);A.previousKeyMatched&&(z||Bh(P,T,!1,c,lN,A))?C.preventDefault():A.previousKeyMatched=!1}d&&d(C)},v=Us(j,a);let y=-1;g.Children.forEach(o,(C,P)=>{if(!g.isValidElement(C)){y===P&&(y+=1,y>=o.length&&(y=-1));return}C.props.disabled||(p==="selectedMenu"&&C.props.selected||y===-1)&&(y=P),y===P&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(y+=1,y>=o.length&&(y=-1))});const N=g.Children.map(o,(C,P)=>{if(P===y){const E={};return i&&(E.autoFocus=!0),C.props.tabIndex===void 0&&p==="selectedMenu"&&(E.tabIndex=0),g.cloneElement(C,E)}return C});return e.jsx(X7,{role:"menu",ref:v,className:l,onKeyDown:S,tabIndex:n?0:-1,...x,children:N})});function JJ(t){return Tt("MuiPopover",t)}Et("MuiPopover",["root","paper"]);function bE(t,s){let a=0;return typeof s=="number"?a=s:s==="center"?a=t.height/2:s==="bottom"&&(a=t.height),a}function yE(t,s){let a=0;return typeof s=="number"?a=s:s==="center"?a=t.width/2:s==="right"&&(a=t.width),a}function vE(t){return[t.horizontal,t.vertical].map(s=>typeof s=="number"?`${s}px`:s).join(" ")}function ab(t){return typeof t=="function"?t():t}const eee=t=>{const{classes:s}=t;return kt({root:["root"],paper:["paper"]},JJ,s)},tee=Ne(Ev,{name:"MuiPopover",slot:"Root"})({}),t9=Ne(la,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),see=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiPopover"}),{action:n,anchorEl:i,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:m,className:d,container:p,elevation:x=8,marginThreshold:j=16,open:_,PaperProps:S={},slots:v={},slotProps:y={},transformOrigin:N={vertical:"top",horizontal:"left"},TransitionComponent:C,transitionDuration:P="auto",TransitionProps:E={},disableScrollLock:D=!1,...T}=r,A=g.useRef(),I={...r,anchorOrigin:o,anchorReference:c,elevation:x,marginThreshold:j,transformOrigin:N,TransitionComponent:C,transitionDuration:P,TransitionProps:E},F=eee(I),z=g.useCallback(()=>{if(c==="anchorPosition")return l;const ae=ab(i),ge=(ae&&ae.nodeType===1?ae:cr(A.current).body).getBoundingClientRect();return{top:ge.top+bE(ge,o.vertical),left:ge.left+yE(ge,o.horizontal)}},[i,o.horizontal,o.vertical,l,c]),O=g.useCallback(ae=>({vertical:bE(ae,N.vertical),horizontal:yE(ae,N.horizontal)}),[N.horizontal,N.vertical]),K=g.useCallback(ae=>{const xe={width:ae.offsetWidth,height:ae.offsetHeight},ge=O(xe);if(c==="none")return{top:null,left:null,transformOrigin:vE(ge)};const le=z();let me=le.top-ge.vertical,Ae=le.left-ge.horizontal;const Ce=me+xe.height,_e=Ae+xe.width,Ie=xi(ab(i)),et=Ie.innerHeight-j,ke=Ie.innerWidth-j;if(j!==null&&me<j){const He=me-j;me-=He,ge.vertical+=He}else if(j!==null&&Ce>et){const He=Ce-et;me-=He,ge.vertical+=He}if(j!==null&&Ae<j){const He=Ae-j;Ae-=He,ge.horizontal+=He}else if(_e>ke){const He=_e-ke;Ae-=He,ge.horizontal+=He}return{top:`${Math.round(me)}px`,left:`${Math.round(Ae)}px`,transformOrigin:vE(ge)}},[i,c,z,O,j]),[W,B]=g.useState(_),q=g.useCallback(()=>{const ae=A.current;if(!ae)return;const xe=K(ae);xe.top!==null&&ae.style.setProperty("top",xe.top),xe.left!==null&&(ae.style.left=xe.left),ae.style.transformOrigin=xe.transformOrigin,B(!0)},[K]);g.useEffect(()=>(D&&window.addEventListener("scroll",q),()=>window.removeEventListener("scroll",q)),[i,D,q]);const H=()=>{q()},Q=()=>{B(!1)};g.useEffect(()=>{_&&q()}),g.useImperativeHandle(n,()=>_?{updatePosition:()=>{q()}}:null,[_,q]),g.useEffect(()=>{if(!_)return;const ae=mg(()=>{q()}),xe=xi(ab(i));return xe.addEventListener("resize",ae),()=>{ae.clear(),xe.removeEventListener("resize",ae)}},[i,_,q]);let V=P;const M={slots:{transition:C,...v},slotProps:{transition:E,paper:S,...y}},[R,$]=Gt("transition",{elementType:wx,externalForwardedProps:M,ownerState:I,getSlotProps:ae=>({...ae,onEntering:(xe,ge)=>{ae.onEntering?.(xe,ge),H()},onExited:xe=>{ae.onExited?.(xe),Q()}}),additionalProps:{appear:!0,in:_}});P==="auto"&&!R.muiSupportAuto&&(V=void 0);const Y=p||(i?cr(ab(i)).body:void 0),[J,{slots:te,slotProps:ee,...ne}]=Gt("root",{ref:a,elementType:tee,externalForwardedProps:{...M,...T},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:v.backdrop},slotProps:{backdrop:g4(typeof y.backdrop=="function"?y.backdrop(I):y.backdrop,{invisible:!0})},container:Y,open:_},ownerState:I,className:Je(F.root,d)}),[he,de]=Gt("paper",{ref:A,className:F.paper,elementType:t9,externalForwardedProps:M,shouldForwardComponentProp:!0,additionalProps:{elevation:x,style:W?void 0:{opacity:0}},ownerState:I});return e.jsx(J,{...ne,...!tp(J)&&{slots:te,slotProps:ee,disableScrollLock:D},children:e.jsx(R,{...$,timeout:V,children:e.jsx(he,{...de,children:m})})})});function aee(t){return Tt("MuiMenu",t)}Et("MuiMenu",["root","paper","list"]);const ree={vertical:"top",horizontal:"right"},nee={vertical:"top",horizontal:"left"},iee=t=>{const{classes:s}=t;return kt({root:["root"],paper:["paper"],list:["list"]},aee,s)},oee=Ne(see,{shouldForwardProp:t=>Ur(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),lee=Ne(t9,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),cee=Ne(O4,{name:"MuiMenu",slot:"List"})({outline:0}),Mv=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiMenu"}),{autoFocus:n=!0,children:i,className:o,disableAutoFocusItem:l=!1,MenuListProps:c={},onClose:m,open:d,PaperProps:p={},PopoverClasses:x,transitionDuration:j="auto",TransitionProps:{onEntering:_,...S}={},variant:v="selectedMenu",slots:y={},slotProps:N={},...C}=r,P=Rr(),E={...r,autoFocus:n,disableAutoFocusItem:l,MenuListProps:c,onEntering:_,PaperProps:p,transitionDuration:j,TransitionProps:S,variant:v},D=iee(E),T=n&&!l&&d,A=g.useRef(null),I=(V,M)=>{A.current&&A.current.adjustStyleForScrollbar(V,{direction:P?"rtl":"ltr"}),_&&_(V,M)},F=V=>{V.key==="Tab"&&(V.preventDefault(),m&&m(V,"tabKeyDown"))};let z=-1;g.Children.map(i,(V,M)=>{g.isValidElement(V)&&(V.props.disabled||(v==="selectedMenu"&&V.props.selected||z===-1)&&(z=M))});const O={slots:y,slotProps:{list:c,transition:S,paper:p,...N}},K=ea({elementType:y.root,externalSlotProps:N.root,ownerState:E,className:[D.root,o]}),[W,B]=Gt("paper",{className:D.paper,elementType:lee,externalForwardedProps:O,shouldForwardComponentProp:!0,ownerState:E}),[q,H]=Gt("list",{className:Je(D.list,c.className),elementType:cee,shouldForwardComponentProp:!0,externalForwardedProps:O,getSlotProps:V=>({...V,onKeyDown:M=>{F(M),V.onKeyDown?.(M)}}),ownerState:E}),Q=typeof O.slotProps.transition=="function"?O.slotProps.transition(E):O.slotProps.transition;return e.jsx(oee,{onClose:m,anchorOrigin:{vertical:"bottom",horizontal:P?"right":"left"},transformOrigin:P?ree:nee,slots:{root:y.root,paper:W,backdrop:y.backdrop,...y.transition&&{transition:y.transition}},slotProps:{root:K,paper:B,backdrop:typeof N.backdrop=="function"?N.backdrop(E):N.backdrop,transition:{...Q,onEntering:(...V)=>{I(...V),Q?.onEntering?.(...V)}}},open:d,ref:a,transitionDuration:j,ownerState:E,...C,classes:x,children:e.jsx(q,{actions:A,autoFocus:n&&(z===-1||l),autoFocusItem:T,variant:v,...H,children:i})})});function dee(t){return Tt("MuiMenuItem",t)}const Uh=Et("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),uee=(t,s)=>{const{ownerState:a}=t;return[s.root,a.dense&&s.dense,a.divider&&s.divider,!a.disableGutters&&s.gutters]},mee=t=>{const{disabled:s,dense:a,divider:r,disableGutters:n,selected:i,classes:o}=t,c=kt({root:["root",a&&"dense",s&&"disabled",!n&&"gutters",r&&"divider",i&&"selected"]},dee,o);return{...o,...c}},pee=Ne(eo,{shouldForwardProp:t=>Ur(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:uee})(Wt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Uh.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${Uh.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${Uh.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${Uh.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Uh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${cE.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${cE.inset}`]:{marginLeft:52},[`& .${Em.root}`]:{marginTop:0,marginBottom:0},[`& .${Em.inset}`]:{paddingLeft:36},[`& .${xE.root}`]:{minWidth:36},variants:[{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:s})=>!s.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:s})=>s.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${xE.root} svg`]:{fontSize:"1.25rem"}}}]}))),Z=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiMenuItem"}),{autoFocus:n=!1,component:i="li",dense:o=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:m,role:d="menuitem",tabIndex:p,className:x,...j}=r,_=g.useContext(vo),S=g.useMemo(()=>({dense:o||_.dense||!1,disableGutters:c}),[_.dense,o,c]),v=g.useRef(null);Ia(()=>{n&&v.current&&v.current.focus()},[n]);const y={...r,dense:S.dense,divider:l,disableGutters:c},N=mee(r),C=Us(v,a);let P;return r.disabled||(P=p!==void 0?p:-1),e.jsx(vo.Provider,{value:S,children:e.jsx(pee,{ref:C,role:d,tabIndex:P,component:i,focusVisibleClassName:Je(N.focusVisible,m),className:Je(N.root,x),...j,ownerState:y,classes:N})})});function hee(t){return Tt("MuiNativeSelect",t)}const F4=Et("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),fee=t=>{const{classes:s,variant:a,disabled:r,multiple:n,open:i,error:o}=t,l={select:["select",a,r&&"disabled",n&&"multiple",o&&"error"],icon:["icon",`icon${Ke(a)}`,i&&"iconOpen",r&&"disabled"]};return kt(l,hee,s)},s9=Ne("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${F4.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:s})=>s.variant!=="filled"&&s.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),xee=Ne(s9,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ur,overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.select,s[a.variant],a.error&&s.error,{[`&.${F4.multiple}`]:s.multiple}]}})({}),a9=Ne("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${F4.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:s})=>s.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),gee=Ne(a9,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.icon,a.variant&&s[`icon${Ke(a.variant)}`],a.open&&s.iconOpen]}})({}),bee=g.forwardRef(function(s,a){const{className:r,disabled:n,error:i,IconComponent:o,inputRef:l,variant:c="standard",...m}=s,d={...s,disabled:n,variant:c,error:i},p=fee(d);return e.jsxs(g.Fragment,{children:[e.jsx(xee,{ownerState:d,className:Je(p.select,r),disabled:n,ref:l||a,...m}),s.multiple?null:e.jsx(gee,{as:o,ownerState:d,className:p.icon})]})});var jE;const yee=Ne("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Ur})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),vee=Ne("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Ur})(Wt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:s})=>!s.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:s})=>s.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:s})=>s.withLabel&&s.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function jee(t){const{children:s,classes:a,className:r,label:n,notched:i,...o}=t,l=n!=null&&n!=="",c={...t,notched:i,withLabel:l};return e.jsx(yee,{"aria-hidden":!0,className:r,ownerState:c,...o,children:e.jsx(vee,{ownerState:c,children:l?e.jsx("span",{children:n}):jE||(jE=e.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const Nee=t=>{const{classes:s}=t,r=kt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},OQ,s);return{...s,...r}},_ee=Ne(Cv,{shouldForwardProp:t=>Ur(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:wv})(Wt(({theme:t})=>{const s=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Li.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Li.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):s}},[`&.${Li.focused} .${Li.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(ga()).map(([a])=>({props:{color:a},style:{[`&.${Li.focused} .${Li.notchedOutline}`]:{borderColor:(t.vars||t).palette[a].main}}})),{props:{},style:{[`&.${Li.error} .${Li.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Li.disabled} .${Li.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:14}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:14}},{props:({ownerState:a})=>a.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:a,size:r})=>a.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),wee=Ne(jee,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Wt(({theme:t})=>{const s=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):s}})),See=Ne(Pv,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Sv})(Wt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:s})=>s.multiline,style:{padding:0}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}}]}))),L4=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiOutlinedInput"}),{components:n={},fullWidth:i=!1,inputComponent:o="input",label:l,multiline:c=!1,notched:m,slots:d={},slotProps:p={},type:x="text",...j}=r,_=Nee(r),S=Ni(),v=od({props:r,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),y={...r,color:v.color||"primary",disabled:v.disabled,error:v.error,focused:v.focused,formControl:S,fullWidth:i,hiddenLabel:v.hiddenLabel,multiline:c,size:v.size,type:x},N=d.root??n.Root??_ee,C=d.input??n.Input??See,[P,E]=Gt("notchedOutline",{elementType:wee,className:_.notchedOutline,shouldForwardComponentProp:!0,ownerState:y,externalForwardedProps:{slots:d,slotProps:p},additionalProps:{label:l!=null&&l!==""&&v.required?e.jsxs(g.Fragment,{children:[l,"","*"]}):l}});return e.jsx(kv,{slots:{root:N,input:C},slotProps:p,renderSuffix:D=>e.jsx(P,{...E,notched:typeof m<"u"?m:!!(D.startAdornment||D.filled||D.focused)}),fullWidth:i,inputComponent:o,multiline:c,ref:a,type:x,...j,classes:{..._,notchedOutline:null}})});L4.muiName="Input";function Cee(t){return Tt("MuiPagination",t)}Et("MuiPagination",["root","ul","outlined","text"]);function Pee(t={}){const{boundaryCount:s=1,componentName:a="usePagination",count:r=1,defaultPage:n=1,disabled:i=!1,hideNextButton:o=!1,hidePrevButton:l=!1,onChange:c,page:m,showFirstButton:d=!1,showLastButton:p=!1,siblingCount:x=1,...j}=t,[_,S]=_n({controlled:m,default:n,name:a,state:"page"}),v=(I,F)=>{m||S(F),c&&c(I,F)},y=(I,F)=>{const z=F-I+1;return Array.from({length:z},(O,K)=>I+K)},N=y(1,Math.min(s,r)),C=y(Math.max(r-s+1,s+1),r),P=Math.max(Math.min(_-x,r-s-x*2-1),s+2),E=Math.min(Math.max(_+x,s+x*2+2),r-s-1),D=[...d?["first"]:[],...l?[]:["previous"],...N,...P>s+2?["start-ellipsis"]:s+1<r-s?[s+1]:[],...y(P,E),...E<r-s-1?["end-ellipsis"]:r-s>s?[r-s]:[],...C,...o?[]:["next"],...p?["last"]:[]],T=I=>{switch(I){case"first":return 1;case"previous":return _-1;case"next":return _+1;case"last":return r;default:return null}};return{items:D.map(I=>typeof I=="number"?{onClick:F=>{v(F,I)},type:"page",page:I,selected:I===_,disabled:i,"aria-current":I===_?"page":void 0}:{onClick:F=>{v(F,T(I))},type:I,page:T(I),selected:!1,disabled:i||!I.includes("ellipsis")&&(I==="next"||I==="last"?_>=r:_<=1)}),...j}}function kee(t){return Tt("MuiPaginationItem",t)}const xn=Et("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),r9=Lt(e.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),n9=Lt(e.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),Eee=Lt(e.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Tee=Lt(e.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),i9=(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],s[`size${Ke(a.size)}`],a.variant==="text"&&s[`text${Ke(a.color)}`],a.variant==="outlined"&&s[`outlined${Ke(a.color)}`],a.shape==="rounded"&&s.rounded,a.type==="page"&&s.page,(a.type==="start-ellipsis"||a.type==="end-ellipsis")&&s.ellipsis,(a.type==="previous"||a.type==="next")&&s.previousNext,(a.type==="first"||a.type==="last")&&s.firstLast]},Mee=t=>{const{classes:s,color:a,disabled:r,selected:n,size:i,shape:o,type:l,variant:c}=t,m={root:["root",`size${Ke(i)}`,c,o,a!=="standard"&&`color${Ke(a)}`,a!=="standard"&&`${c}${Ke(a)}`,r&&"disabled",n&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[l]],icon:["icon"]};return kt(m,kee,s)},Dee=Ne("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:i9})(Wt(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,height:"auto",[`&.${xn.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}}]}))),Ree=Ne(eo,{name:"MuiPaginationItem",slot:"Root",overridesResolver:i9})(Wt(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,[`&.${xn.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${xn.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},transition:t.transitions.create(["color","background-color"],{duration:t.transitions.duration.short}),"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xn.selected}`]:{backgroundColor:(t.vars||t).palette.action.selected,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${xn.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},[`&.${xn.disabled}`]:{opacity:1,color:(t.vars||t).palette.action.disabled,backgroundColor:(t.vars||t).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"outlined"},style:{border:t.vars?`1px solid ${t.alpha(t.vars.palette.common.onBackground,.23)}`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${xn.selected}`]:{[`&.${xn.disabled}`]:{borderColor:(t.vars||t).palette.action.disabledBackground,color:(t.vars||t).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${xn.selected}`]:{[`&.${xn.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}},...Object.entries(t.palette).filter(ga(["dark","contrastText"])).map(([s])=>({props:{variant:"text",color:s},style:{[`&.${xn.selected}`]:{color:(t.vars||t).palette[s].contrastText,backgroundColor:(t.vars||t).palette[s].main,"&:hover":{backgroundColor:(t.vars||t).palette[s].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[s].main}},[`&.${xn.focusVisible}`]:{backgroundColor:(t.vars||t).palette[s].dark},[`&.${xn.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}})),...Object.entries(t.palette).filter(ga(["light"])).map(([s])=>({props:{variant:"outlined",color:s},style:{[`&.${xn.selected}`]:{color:(t.vars||t).palette[s].main,border:`1px solid ${t.alpha((t.vars||t).palette[s].main,.5)}`,backgroundColor:t.alpha((t.vars||t).palette[s].main,(t.vars||t).palette.action.activatedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[s].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xn.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[s].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))]}))),Aee=Ne("div",{name:"MuiPaginationItem",slot:"Icon"})(Wt(({theme:t})=>({fontSize:t.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(22)}}]}))),Iee=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiPaginationItem"}),{className:n,color:i="standard",component:o,components:l={},disabled:c=!1,page:m,selected:d=!1,shape:p="circular",size:x="medium",slots:j={},slotProps:_={},type:S="page",variant:v="text",...y}=r,N={...r,color:i,disabled:c,selected:d,shape:p,size:x,type:S,variant:v},C=Rr(),P=Mee(N),E={slots:{previous:j.previous??l.previous,next:j.next??l.next,first:j.first??l.first,last:j.last??l.last},slotProps:_},[D,T]=Gt("previous",{elementType:Eee,externalForwardedProps:E,ownerState:N}),[A,I]=Gt("next",{elementType:Tee,externalForwardedProps:E,ownerState:N}),[F,z]=Gt("first",{elementType:r9,externalForwardedProps:E,ownerState:N}),[O,K]=Gt("last",{elementType:n9,externalForwardedProps:E,ownerState:N}),W=C?{previous:"next",next:"previous",first:"last",last:"first"}[S]:S,B={previous:D,next:A,first:F,last:O}[W],q={previous:T,next:I,first:z,last:K}[W];return S==="start-ellipsis"||S==="end-ellipsis"?e.jsx(Dee,{ref:a,ownerState:N,className:Je(P.root,n),children:""}):e.jsxs(Ree,{ref:a,ownerState:N,component:o,disabled:c,className:Je(P.root,n),...y,children:[S==="page"&&m,B?e.jsx(Aee,{...q,className:P.icon,as:B}):null]})}),Oee=t=>{const{classes:s,variant:a}=t;return kt({root:["root",a],ul:["ul"]},Cee,s)},Fee=Ne("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant]]}})({}),Lee=Ne("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function $ee(t,s,a){return t==="page"?`${a?"":"Go to "}page ${s}`:`Go to ${t} page`}const zee=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiPagination"}),{boundaryCount:n=1,className:i,color:o="standard",count:l=1,defaultPage:c=1,disabled:m=!1,getItemAriaLabel:d=$ee,hideNextButton:p=!1,hidePrevButton:x=!1,onChange:j,page:_,renderItem:S=F=>e.jsx(Iee,{...F}),shape:v="circular",showFirstButton:y=!1,showLastButton:N=!1,siblingCount:C=1,size:P="medium",variant:E="text",...D}=r,{items:T}=Pee({...r,componentName:"Pagination"}),A={...r,boundaryCount:n,color:o,count:l,defaultPage:c,disabled:m,getItemAriaLabel:d,hideNextButton:p,hidePrevButton:x,renderItem:S,shape:v,showFirstButton:y,showLastButton:N,siblingCount:C,size:P,variant:E},I=Oee(A);return e.jsx(Fee,{"aria-label":"pagination navigation",className:Je(I.root,i),ownerState:A,ref:a,...D,children:e.jsx(Lee,{className:I.ul,ownerState:A,children:T.map((F,z)=>e.jsx("li",{children:S({...F,color:o,"aria-label":d(F.type,F.page,F.selected),shape:v,size:P,variant:E})},z))})})}),qee=Lt(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Bee=Lt(e.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"})),Uee=Ne("span",{name:"MuiRadioButtonIcon",shouldForwardProp:Ur})({position:"relative",display:"flex"}),Vee=Ne(qee,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"}),Hee=Ne(Bee,{name:"MuiRadioButtonIcon"})(Wt(({theme:t})=>({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}}]})));function o9(t){const{checked:s=!1,classes:a={},fontSize:r}=t,n={...t,checked:s};return e.jsxs(Uee,{className:a.root,ownerState:n,children:[e.jsx(Vee,{fontSize:r,className:a.background,ownerState:n}),e.jsx(Hee,{fontSize:r,className:a.dot,ownerState:n})]})}const l9=g.createContext(void 0);function Wee(){return g.useContext(l9)}function Yee(t){return Tt("MuiRadio",t)}const NE=Et("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),Gee=t=>{const{classes:s,color:a,size:r}=t,n={root:["root",`color${Ke(a)}`,r!=="medium"&&`size${Ke(r)}`]};return{...s,...kt(n,Yee,s)}},Kee=Ne(M4,{shouldForwardProp:t=>Ur(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.size!=="medium"&&s[`size${Ke(a.size)}`],s[`color${Ke(a.color)}`]]}})(Wt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,[`&.${NE.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(ga()).map(([s])=>({props:{color:s,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[s].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(ga()).map(([s])=>({props:{color:s,disabled:!1},style:{[`&.${NE.checked}`]:{color:(t.vars||t).palette[s].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function Qee(t,s){return typeof s=="object"&&s!==null?t===s:String(t)===String(s)}const Zee=e.jsx(o9,{checked:!0}),Xee=e.jsx(o9,{}),Sx=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiRadio"}),{checked:n,checkedIcon:i=Zee,color:o="primary",icon:l=Xee,name:c,onChange:m,size:d="medium",className:p,disabled:x,disableRipple:j=!1,slots:_={},slotProps:S={},inputProps:v,...y}=r,N=Ni();let C=x;N&&typeof C>"u"&&(C=N.disabled),C??=!1;const P={...r,disabled:C,disableRipple:j,color:o,size:d},E=Gee(P),D=Wee();let T=n;const A=b_(m,D&&D.onChange);let I=c;D&&(typeof T>"u"&&(T=Qee(D.value,r.value)),typeof I>"u"&&(I=D.name));const F=S.input??v,[z,O]=Gt("root",{ref:a,elementType:Kee,className:Je(E.root,p),shouldForwardComponentProp:!0,externalForwardedProps:{slots:_,slotProps:S,...y},getSlotProps:K=>({...K,onChange:(W,...B)=>{K.onChange?.(W,...B),A(W,...B)}}),ownerState:P,additionalProps:{type:"radio",icon:g.cloneElement(l,{fontSize:l.props.fontSize??d}),checkedIcon:g.cloneElement(i,{fontSize:i.props.fontSize??d}),disabled:C,name:I,checked:T,slots:_,slotProps:{input:typeof F=="function"?F(P):F}}});return e.jsx(z,{...O,classes:E})});function Jee(t){return Tt("MuiRadioGroup",t)}Et("MuiRadioGroup",["root","row","error"]);const ete=t=>{const{classes:s,row:a,error:r}=t;return kt({root:["root",a&&"row",r&&"error"]},Jee,s)},Cx=g.forwardRef(function(s,a){const{actions:r,children:n,className:i,defaultValue:o,name:l,onChange:c,value:m,...d}=s,p=g.useRef(null),x=ete(s),[j,_]=_n({controlled:m,default:o,name:"RadioGroup"});g.useImperativeHandle(r,()=>({focus:()=>{let N=p.current.querySelector("input:not(:disabled):checked");N||(N=p.current.querySelector("input:not(:disabled)")),N&&N.focus()}}),[]);const S=Us(a,p),v=Cn(l),y=g.useMemo(()=>({name:v,onChange(N){_(N.target.value),c&&c(N,N.target.value)},value:j}),[v,c,_,j]);return e.jsx(l9.Provider,{value:y,children:e.jsx(ZX,{role:"radiogroup",ref:S,className:Je(x.root,i),...d,children:n})})}),c9={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function d9(t){return Tt("MuiSelect",t)}const Vh=Et("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var _E;const tte=Ne(s9,{name:"MuiSelect",slot:"Select",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[{[`&.${Vh.select}`]:s.select},{[`&.${Vh.select}`]:s[a.variant]},{[`&.${Vh.error}`]:s.error},{[`&.${Vh.multiple}`]:s.multiple}]}})({[`&.${Vh.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),ste=Ne(a9,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.icon,a.variant&&s[`icon${Ke(a.variant)}`],a.open&&s.iconOpen]}})({}),ate=Ne("input",{shouldForwardProp:t=>w7(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function wE(t,s){return typeof s=="object"&&s!==null?t===s:String(t)===String(s)}function rte(t){return t==null||typeof t=="string"&&!t.trim()}const nte=t=>{const{classes:s,variant:a,disabled:r,multiple:n,open:i,error:o}=t,l={select:["select",a,r&&"disabled",n&&"multiple",o&&"error"],icon:["icon",`icon${Ke(a)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return kt(l,d9,s)},ite=g.forwardRef(function(s,a){const{"aria-describedby":r,"aria-label":n,autoFocus:i,autoWidth:o,children:l,className:c,defaultOpen:m,defaultValue:d,disabled:p,displayEmpty:x,error:j=!1,IconComponent:_,inputRef:S,labelId:v,MenuProps:y={},multiple:N,name:C,onBlur:P,onChange:E,onClose:D,onFocus:T,onOpen:A,open:I,readOnly:F,renderValue:z,required:O,SelectDisplayProps:K={},tabIndex:W,type:B,value:q,variant:H="standard",...Q}=s,[V,M]=_n({controlled:q,default:d,name:"Select"}),[R,$]=_n({controlled:I,default:m,name:"Select"}),Y=g.useRef(null),J=g.useRef(null),[te,ee]=g.useState(null),{current:ne}=g.useRef(I!=null),[he,de]=g.useState(),ae=Us(a,S),xe=g.useCallback(rt=>{J.current=rt,rt&&ee(rt)},[]),ge=te?.parentNode;g.useImperativeHandle(ae,()=>({focus:()=>{J.current.focus()},node:Y.current,value:V}),[V]),g.useEffect(()=>{m&&R&&te&&!ne&&(de(o?null:ge.clientWidth),J.current.focus())},[te,o]),g.useEffect(()=>{i&&J.current.focus()},[i]),g.useEffect(()=>{if(!v)return;const rt=cr(J.current).getElementById(v);if(rt){const zt=()=>{getSelection().isCollapsed&&J.current.focus()};return rt.addEventListener("click",zt),()=>{rt.removeEventListener("click",zt)}}},[v]);const le=(rt,zt)=>{rt?A&&A(zt):D&&D(zt),ne||(de(o?null:ge.clientWidth),$(rt))},me=rt=>{rt.button===0&&(rt.preventDefault(),J.current.focus(),le(!0,rt))},Ae=rt=>{le(!1,rt)},Ce=g.Children.toArray(l),_e=rt=>{const zt=Ce.find(_t=>_t.props.value===rt.target.value);zt!==void 0&&(M(zt.props.value),E&&E(rt,zt))},Ie=rt=>zt=>{let _t;if(zt.currentTarget.hasAttribute("tabindex")){if(N){_t=Array.isArray(V)?V.slice():[];const hs=V.indexOf(rt.props.value);hs===-1?_t.push(rt.props.value):_t.splice(hs,1)}else _t=rt.props.value;if(rt.props.onClick&&rt.props.onClick(zt),V!==_t&&(M(_t),E)){const hs=zt.nativeEvent||zt,cs=new hs.constructor(hs.type,hs);Object.defineProperty(cs,"target",{writable:!0,value:{value:_t,name:C}}),E(cs,rt)}N||le(!1,zt)}},et=rt=>{F||[" ","ArrowUp","ArrowDown","Enter"].includes(rt.key)&&(rt.preventDefault(),le(!0,rt))},ke=te!==null&&R,He=rt=>{!ke&&P&&(Object.defineProperty(rt,"target",{writable:!0,value:{value:V,name:C}}),P(rt))};delete Q["aria-invalid"];let be,Ge;const at=[];let vt=!1;(vy({value:V})||x)&&(z?be=z(V):vt=!0);const dt=Ce.map(rt=>{if(!g.isValidElement(rt))return null;let zt;if(N){if(!Array.isArray(V))throw new Error(Gl(2));zt=V.some(_t=>wE(_t,rt.props.value)),zt&&vt&&at.push(rt.props.children)}else zt=wE(V,rt.props.value),zt&&vt&&(Ge=rt.props.children);return g.cloneElement(rt,{"aria-selected":zt?"true":"false",onClick:Ie(rt),onKeyUp:_t=>{_t.key===" "&&_t.preventDefault(),rt.props.onKeyUp&&rt.props.onKeyUp(_t)},role:"option",selected:zt,value:void 0,"data-value":rt.props.value})});vt&&(N?at.length===0?be=null:be=at.reduce((rt,zt,_t)=>(rt.push(zt),_t<at.length-1&&rt.push(", "),rt),[]):be=Ge);let ft=he;!o&&ne&&te&&(ft=ge.clientWidth);let Mt;typeof W<"u"?Mt=W:Mt=p?null:0;const ye=K.id||(C?`mui-component-select-${C}`:void 0),Le={...s,variant:H,value:V,open:ke,error:j},ze=nte(Le),jt={...y.PaperProps,...typeof y.slotProps?.paper=="function"?y.slotProps.paper(Le):y.slotProps?.paper},es={...y.MenuListProps,...typeof y.slotProps?.list=="function"?y.slotProps.list(Le):y.slotProps?.list},Qt=Cn();return e.jsxs(g.Fragment,{children:[e.jsx(tte,{as:"div",ref:xe,tabIndex:Mt,role:"combobox","aria-controls":ke?Qt:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":ke?"true":"false","aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[v,ye].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":O?"true":void 0,"aria-invalid":j?"true":void 0,onKeyDown:et,onMouseDown:p||F?null:me,onBlur:He,onFocus:T,...K,ownerState:Le,className:Je(K.className,ze.select,c),id:ye,children:rte(be)?_E||(_E=e.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):be}),e.jsx(ate,{"aria-invalid":j,value:Array.isArray(V)?V.join(","):V,name:C,ref:Y,"aria-hidden":!0,onChange:_e,tabIndex:-1,disabled:p,className:ze.nativeInput,autoFocus:i,required:O,...Q,ownerState:Le}),e.jsx(ste,{as:_,className:ze.icon,ownerState:Le}),e.jsx(Mv,{id:`menu-${C||""}`,anchorEl:ge,open:ke,onClose:Ae,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...y,slotProps:{...y.slotProps,list:{"aria-labelledby":v,role:"listbox","aria-multiselectable":N?"true":void 0,disableListWrap:!0,id:Qt,...es},paper:{...jt,style:{minWidth:ft,...jt!=null?jt.style:null}}},children:dt})]})}),ote=t=>{const{classes:s}=t,r=kt({root:["root"]},d9,s);return{...s,...r}},$4={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>Ur(t)&&t!=="variant"},lte=Ne(A4,$4)(""),cte=Ne(L4,$4)(""),dte=Ne(D4,$4)(""),z4=g.forwardRef(function(s,a){const r=ts({name:"MuiSelect",props:s}),{autoWidth:n=!1,children:i,classes:o={},className:l,defaultOpen:c=!1,displayEmpty:m=!1,IconComponent:d=q7,id:p,input:x,inputProps:j,label:_,labelId:S,MenuProps:v,multiple:y=!1,native:N=!1,onClose:C,onOpen:P,open:E,renderValue:D,SelectDisplayProps:T,variant:A="outlined",...I}=r,F=N?bee:ite,z=Ni(),O=od({props:r,muiFormControl:z,states:["variant","error"]}),K=O.variant||A,W={...r,variant:K,classes:o},B=ote(W),{root:q,...H}=B,Q=x||{standard:e.jsx(lte,{ownerState:W}),outlined:e.jsx(cte,{label:_,ownerState:W}),filled:e.jsx(dte,{ownerState:W})}[K],V=Us(a,id(Q));return e.jsx(g.Fragment,{children:g.cloneElement(Q,{inputComponent:F,inputProps:{children:i,error:O.error,IconComponent:d,variant:K,type:void 0,multiple:y,...N?{id:p}:{autoWidth:n,defaultOpen:c,displayEmpty:m,labelId:S,MenuProps:v,onClose:C,onOpen:P,open:E,renderValue:D,SelectDisplayProps:{id:p,...T}},...j,classes:j?un(H,j.classes):H,...x?x.props.inputProps:{}},...(y&&N||m)&&K==="outlined"?{notched:!0}:{},ref:V,className:Je(Q.props.className,l,B.root),...!x&&{variant:K},...I})})});z4.muiName="Select";function ute(t){return Tt("MuiSkeleton",t)}Et("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const mte=t=>{const{classes:s,variant:a,animation:r,hasChildren:n,width:i,height:o}=t;return kt({root:["root",a,r,n&&"withChildren",n&&!i&&"fitContent",n&&!o&&"heightAuto"]},ute,s)},F_=il`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,L_=il`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,pte=typeof F_!="string"?rd`
        animation: ${F_} 2s ease-in-out 0.5s infinite;
      `:null,hte=typeof L_!="string"?rd`
        &::after {
          animation: ${L_} 2s linear 0.5s infinite;
        }
      `:null,fte=Ne("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],a.animation!==!1&&s[a.animation],a.hasChildren&&s.withChildren,a.hasChildren&&!a.width&&s.fitContent,a.hasChildren&&!a.height&&s.heightAuto]}})(Wt(({theme:t})=>{const s=AY(t.shape.borderRadius)||"px",a=IY(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:t.alpha(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${a}${s}/${Math.round(a/.6*10)/10}${s}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:pte||{animation:`${F_} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(t.vars||t).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:hte||{"&::after":{animation:`${L_} 2s linear 0.5s infinite`}}}]}})),X=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiSkeleton"}),{animation:n="pulse",className:i,component:o="span",height:l,style:c,variant:m="text",width:d,...p}=r,x={...r,animation:n,component:o,variant:m,hasChildren:!!p.children},j=mte(x);return e.jsx(fte,{as:o,ref:a,className:Je(j.root,i),ownerState:x,...p,style:{width:d,height:l,...c}})});function xte(t){return Tt("MuiTooltip",t)}const rr=Et("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function gte(t){return Math.round(t*1e5)/1e5}const bte=t=>{const{classes:s,disableInteractive:a,arrow:r,touch:n,placement:i}=t,o={popper:["popper",!a&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",n&&"touch",`tooltipPlacement${Ke(i.split("-")[0])}`],arrow:["arrow"]};return kt(o,xte,s)},yte=Ne(xg,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.popper,!a.disableInteractive&&s.popperInteractive,a.arrow&&s.popperArrow,!a.open&&s.popperClose]}})(Wt(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:s})=>!s.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:s})=>!s,style:{pointerEvents:"none"}},{props:({ownerState:s})=>s.arrow,style:{[`&[data-popper-placement*="bottom"] .${rr.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${rr.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${rr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${rr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:s})=>s.arrow&&!s.isRtl,style:{[`&[data-popper-placement*="right"] .${rr.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!!s.isRtl,style:{[`&[data-popper-placement*="right"] .${rr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!s.isRtl,style:{[`&[data-popper-placement*="left"] .${rr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!!s.isRtl,style:{[`&[data-popper-placement*="left"] .${rr.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),vte=Ne("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.tooltip,a.touch&&s.touch,a.arrow&&s.tooltipArrow,s[`tooltipPlacement${Ke(a.placement.split("-")[0])}`]]}})(Wt(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${rr.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${rr.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${rr.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${rr.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:s})=>s.arrow,style:{position:"relative",margin:0}},{props:({ownerState:s})=>s.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${gte(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:s})=>!s.isRtl,style:{[`.${rr.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${rr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:s})=>!s.isRtl&&s.touch,style:{[`.${rr.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${rr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:s})=>!!s.isRtl,style:{[`.${rr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${rr.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:s})=>!!s.isRtl&&s.touch,style:{[`.${rr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${rr.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:s})=>s.touch,style:{[`.${rr.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:s})=>s.touch,style:{[`.${rr.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),jte=Ne("span",{name:"MuiTooltip",slot:"Arrow"})(Wt(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let rb=!1;const SE=new jv;let Hh={x:0,y:0};function nb(t,s){return(a,...r)=>{s&&s(a,...r),t(a,...r)}}const Oa=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiTooltip"}),{arrow:n=!1,children:i,classes:o,components:l={},componentsProps:c={},describeChild:m=!1,disableFocusListener:d=!1,disableHoverListener:p=!1,disableInteractive:x=!1,disableTouchListener:j=!1,enterDelay:_=100,enterNextDelay:S=0,enterTouchDelay:v=700,followCursor:y=!1,id:N,leaveDelay:C=0,leaveTouchDelay:P=1500,onClose:E,onOpen:D,open:T,placement:A="bottom",PopperComponent:I,PopperProps:F={},slotProps:z={},slots:O={},title:K,TransitionComponent:W,TransitionProps:B,...q}=r,H=g.isValidElement(i)?i:e.jsx("span",{children:i}),Q=vi(),V=Rr(),[M,R]=g.useState(),[$,Y]=g.useState(null),J=g.useRef(!1),te=x||y,ee=ci(),ne=ci(),he=ci(),de=ci(),[ae,xe]=_n({controlled:T,default:!1,name:"Tooltip",state:"open"});let ge=ae;const le=Cn(N),me=g.useRef(),Ae=Ot(()=>{me.current!==void 0&&(document.body.style.WebkitUserSelect=me.current,me.current=void 0),de.clear()});g.useEffect(()=>Ae,[Ae]);const Ce=qt=>{SE.clear(),rb=!0,xe(!0),D&&!ge&&D(qt)},_e=Ot(qt=>{SE.start(800+C,()=>{rb=!1}),xe(!1),E&&ge&&E(qt),ee.start(Q.transitions.duration.shortest,()=>{J.current=!1})}),Ie=qt=>{J.current&&qt.type!=="touchstart"||(M&&M.removeAttribute("title"),ne.clear(),he.clear(),_||rb&&S?ne.start(rb?S:_,()=>{Ce(qt)}):Ce(qt))},et=qt=>{ne.clear(),he.start(C,()=>{_e(qt)})},[,ke]=g.useState(!1),He=qt=>{sp(qt.target)||(ke(!1),et(qt))},be=qt=>{M||R(qt.currentTarget),sp(qt.target)&&(ke(!0),Ie(qt))},Ge=qt=>{J.current=!0;const zs=H.props;zs.onTouchStart&&zs.onTouchStart(qt)},at=qt=>{Ge(qt),he.clear(),ee.clear(),Ae(),me.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",de.start(v,()=>{document.body.style.WebkitUserSelect=me.current,Ie(qt)})},vt=qt=>{H.props.onTouchEnd&&H.props.onTouchEnd(qt),Ae(),he.start(P,()=>{_e(qt)})};g.useEffect(()=>{if(!ge)return;function qt(zs){zs.key==="Escape"&&_e(zs)}return document.addEventListener("keydown",qt),()=>{document.removeEventListener("keydown",qt)}},[_e,ge]);const dt=Us(id(H),R,a);!K&&K!==0&&(ge=!1);const ft=g.useRef(),Mt=qt=>{const zs=H.props;zs.onMouseMove&&zs.onMouseMove(qt),Hh={x:qt.clientX,y:qt.clientY},ft.current&&ft.current.update()},ye={},Le=typeof K=="string";m?(ye.title=!ge&&Le&&!p?K:null,ye["aria-describedby"]=ge?le:null):(ye["aria-label"]=Le?K:null,ye["aria-labelledby"]=ge&&!Le?le:null);const ze={...ye,...q,...H.props,className:Je(q.className,H.props.className),onTouchStart:Ge,ref:dt,...y?{onMouseMove:Mt}:{}},jt={};j||(ze.onTouchStart=at,ze.onTouchEnd=vt),p||(ze.onMouseOver=nb(Ie,ze.onMouseOver),ze.onMouseLeave=nb(et,ze.onMouseLeave),te||(jt.onMouseOver=Ie,jt.onMouseLeave=et)),d||(ze.onFocus=nb(be,ze.onFocus),ze.onBlur=nb(He,ze.onBlur),te||(jt.onFocus=be,jt.onBlur=He));const es={...r,isRtl:V,arrow:n,disableInteractive:te,placement:A,PopperComponentProp:I,touch:J.current},Qt=typeof z.popper=="function"?z.popper(es):z.popper,rt=g.useMemo(()=>{let qt=[{name:"arrow",enabled:!!$,options:{element:$,padding:4}}];return F.popperOptions?.modifiers&&(qt=qt.concat(F.popperOptions.modifiers)),Qt?.popperOptions?.modifiers&&(qt=qt.concat(Qt.popperOptions.modifiers)),{...F.popperOptions,...Qt?.popperOptions,modifiers:qt}},[$,F.popperOptions,Qt?.popperOptions]),zt=bte(es),_t=typeof z.transition=="function"?z.transition(es):z.transition,hs={slots:{popper:l.Popper,transition:l.Transition??W,tooltip:l.Tooltip,arrow:l.Arrow,...O},slotProps:{arrow:z.arrow??c.arrow,popper:{...F,...Qt??c.popper},tooltip:z.tooltip??c.tooltip,transition:{...B,..._t??c.transition}}},[cs,Ns]=Gt("popper",{elementType:yte,externalForwardedProps:hs,ownerState:es,className:Je(zt.popper,F?.className)}),[Gs,Is]=Gt("transition",{elementType:wx,externalForwardedProps:hs,ownerState:es}),[Ds,pa]=Gt("tooltip",{elementType:vte,className:zt.tooltip,externalForwardedProps:hs,ownerState:es}),[ha,oa]=Gt("arrow",{elementType:jte,className:zt.arrow,externalForwardedProps:hs,ownerState:es,ref:Y});return e.jsxs(g.Fragment,{children:[g.cloneElement(H,ze),e.jsx(cs,{as:I??xg,placement:A,anchorEl:y?{getBoundingClientRect:()=>({top:Hh.y,left:Hh.x,right:Hh.x,bottom:Hh.y,width:0,height:0})}:M,popperRef:ft,open:M?ge:!1,id:le,transition:!0,...jt,...Ns,popperOptions:rt,children:({TransitionProps:qt})=>e.jsx(Gs,{timeout:Q.transitions.duration.shorter,...qt,...Is,children:e.jsxs(Ds,{...pa,children:[K,n?e.jsx(ha,{...oa}):null]})})})]})});function Nte(t){return Tt("MuiSwitch",t)}const bn=Et("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),_te=t=>{const{classes:s,edge:a,size:r,color:n,checked:i,disabled:o}=t,l={root:["root",a&&`edge${Ke(a)}`,`size${Ke(r)}`],switchBase:["switchBase",`color${Ke(n)}`,i&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=kt(l,Nte,s);return{...s,...c}},wte=Ne("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.edge&&s[`edge${Ke(a.edge)}`],s[`size${Ke(a.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${bn.thumb}`]:{width:16,height:16},[`& .${bn.switchBase}`]:{padding:4,[`&.${bn.checked}`]:{transform:"translateX(16px)"}}}}]}),Ste=Ne(M4,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.switchBase,{[`& .${bn.input}`]:s.input},a.color!=="default"&&s[`color${Ke(a.color)}`]]}})(Wt(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${bn.checked}`]:{transform:"translateX(20px)"},[`&.${bn.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${bn.checked} + .${bn.track}`]:{opacity:.5},[`&.${bn.disabled} + .${bn.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${bn.input}`]:{left:"-100%",width:"300%"}})),Wt(({theme:t})=>({"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(ga(["light"])).map(([s])=>({props:{color:s},style:{[`&.${bn.checked}`]:{color:(t.vars||t).palette[s].main,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[s].main,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${bn.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${s}DisabledColor`]:`${t.palette.mode==="light"?t.lighten(t.palette[s].main,.62):t.darken(t.palette[s].main,.55)}`}},[`&.${bn.checked} + .${bn.track}`]:{backgroundColor:(t.vars||t).palette[s].main}}}))]}))),Cte=Ne("span",{name:"MuiSwitch",slot:"Track"})(Wt(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),Pte=Ne("span",{name:"MuiSwitch",slot:"Thumb"})(Wt(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),q4=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiSwitch"}),{className:n,color:i="primary",edge:o=!1,size:l="medium",sx:c,slots:m={},slotProps:d={},...p}=r,x={...r,color:i,edge:o,size:l},j=_te(x),_={slots:m,slotProps:d},[S,v]=Gt("root",{className:Je(j.root,n),elementType:wte,externalForwardedProps:_,ownerState:x,additionalProps:{sx:c}}),[y,N]=Gt("thumb",{className:j.thumb,elementType:Pte,externalForwardedProps:_,ownerState:x}),C=e.jsx(y,{...N}),[P,E]=Gt("track",{className:j.track,elementType:Cte,externalForwardedProps:_,ownerState:x});return e.jsxs(S,{...v,children:[e.jsx(Ste,{type:"checkbox",icon:C,checkedIcon:C,ref:a,ownerState:x,...p,classes:{...j,root:j.switchBase},slots:{...m.switchBase&&{root:m.switchBase},...m.input&&{input:m.input}},slotProps:{...d.switchBase&&{root:typeof d.switchBase=="function"?d.switchBase(x):d.switchBase},input:{role:"switch"},...d.input&&{input:typeof d.input=="function"?d.input(x):d.input}}}),e.jsx(P,{...E})]})});function kte(t){return Tt("MuiTab",t)}const Di=Et("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Ete=t=>{const{classes:s,textColor:a,fullWidth:r,wrapped:n,icon:i,label:o,selected:l,disabled:c}=t,m={root:["root",i&&o&&"labelIcon",`textColor${Ke(a)}`,r&&"fullWidth",n&&"wrapped",l&&"selected",c&&"disabled"],icon:["iconWrapper","icon"]};return kt(m,kte,s)},Tte=Ne(eo,{name:"MuiTab",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.label&&a.icon&&s.labelIcon,s[`textColor${Ke(a.textColor)}`],a.fullWidth&&s.fullWidth,a.wrapped&&s.wrapped,{[`& .${Di.iconWrapper}`]:s.iconWrapper},{[`& .${Di.icon}`]:s.icon}]}})(Wt(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:s})=>s.label&&(s.iconPosition==="top"||s.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:s})=>s.label&&s.iconPosition!=="top"&&s.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:s})=>s.icon&&s.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:s,iconPosition:a})=>s.icon&&s.label&&a==="top",style:{[`& > .${Di.icon}`]:{marginBottom:6}}},{props:({ownerState:s,iconPosition:a})=>s.icon&&s.label&&a==="bottom",style:{[`& > .${Di.icon}`]:{marginTop:6}}},{props:({ownerState:s,iconPosition:a})=>s.icon&&s.label&&a==="start",style:{[`& > .${Di.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:s,iconPosition:a})=>s.icon&&s.label&&a==="end",style:{[`& > .${Di.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Di.selected}`]:{opacity:1},[`&.${Di.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${Di.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${Di.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${Di.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${Di.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:s})=>s.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:s})=>s.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),Cs=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiTab"}),{className:n,disabled:i=!1,disableFocusRipple:o=!1,fullWidth:l,icon:c,iconPosition:m="top",indicator:d,label:p,onChange:x,onClick:j,onFocus:_,selected:S,selectionFollowsFocus:v,textColor:y="inherit",value:N,wrapped:C=!1,...P}=r,E={...r,disabled:i,disableFocusRipple:o,selected:S,icon:!!c,iconPosition:m,label:!!p,fullWidth:l,textColor:y,wrapped:C},D=Ete(E),T=c&&p&&g.isValidElement(c)?g.cloneElement(c,{className:Je(D.icon,c.props.className)}):c,A=F=>{!S&&x&&x(F,N),j&&j(F)},I=F=>{v&&!S&&x&&x(F,N),_&&_(F)};return e.jsxs(Tte,{focusRipple:!o,className:Je(D.root,n),ref:a,role:"tab","aria-selected":S,disabled:i,onClick:A,onFocus:I,ownerState:E,tabIndex:S?0:-1,...P,children:[m==="top"||m==="start"?e.jsxs(g.Fragment,{children:[T,p]}):e.jsxs(g.Fragment,{children:[p,T]}),d]})}),u9=g.createContext();function Mte(t){return Tt("MuiTable",t)}Et("MuiTable",["root","stickyHeader"]);const Dte=t=>{const{classes:s,stickyHeader:a}=t;return kt({root:["root",a&&"stickyHeader"]},Mte,s)},Rte=Ne("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.stickyHeader&&s.stickyHeader]}})(Wt(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:s})=>s.stickyHeader,style:{borderCollapse:"separate"}}]}))),CE="table",$_=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiTable"}),{className:n,component:i=CE,padding:o="normal",size:l="medium",stickyHeader:c=!1,...m}=r,d={...r,component:i,padding:o,size:l,stickyHeader:c},p=Dte(d),x=g.useMemo(()=>({padding:o,size:l,stickyHeader:c}),[o,l,c]);return e.jsx(u9.Provider,{value:x,children:e.jsx(Rte,{as:i,role:i===CE?null:"table",ref:a,className:Je(p.root,n),ownerState:d,...m})})}),Dv=g.createContext();function Ate(t){return Tt("MuiTableBody",t)}Et("MuiTableBody",["root"]);const Ite=t=>{const{classes:s}=t;return kt({root:["root"]},Ate,s)},Ote=Ne("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),Fte={variant:"body"},PE="tbody",z_=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiTableBody"}),{className:n,component:i=PE,...o}=r,l={...r,component:i},c=Ite(l);return e.jsx(Dv.Provider,{value:Fte,children:e.jsx(Ote,{className:Je(c.root,n),as:i,ref:a,role:i===PE?null:"rowgroup",ownerState:l,...o})})});function Lte(t){return Tt("MuiTableCell",t)}const $te=Et("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),zte=t=>{const{classes:s,variant:a,align:r,padding:n,size:i,stickyHeader:o}=t,l={root:["root",a,o&&"stickyHeader",r!=="inherit"&&`align${Ke(r)}`,n!=="normal"&&`padding${Ke(n)}`,`size${Ke(i)}`]};return kt(l,Lte,s)},qte=Ne("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],s[`size${Ke(a.size)}`],a.padding!=="normal"&&s[`padding${Ke(a.padding)}`],a.align!=="inherit"&&s[`align${Ke(a.align)}`],a.stickyHeader&&s.stickyHeader]}})(Wt(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${$te.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:s})=>s.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),Vi=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiTableCell"}),{align:n="inherit",className:i,component:o,padding:l,scope:c,size:m,sortDirection:d,variant:p,...x}=r,j=g.useContext(u9),_=g.useContext(Dv),S=_&&_.variant==="head";let v;o?v=o:v=S?"th":"td";let y=c;v==="td"?y=void 0:!y&&S&&(y="col");const N=p||_&&_.variant,C={...r,align:n,component:v,padding:l||(j&&j.padding?j.padding:"normal"),size:m||(j&&j.size?j.size:"medium"),sortDirection:d,stickyHeader:N==="head"&&j&&j.stickyHeader,variant:N},P=zte(C);let E=null;return d&&(E=d==="asc"?"ascending":"descending"),e.jsx(qte,{as:v,ref:a,className:Je(P.root,i),"aria-sort":E,scope:y,ownerState:C,...x})});function Bte(t){return Tt("MuiTableContainer",t)}Et("MuiTableContainer",["root"]);const Ute=t=>{const{classes:s}=t;return kt({root:["root"]},Bte,s)},Vte=Ne("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),m9=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiTableContainer"}),{className:n,component:i="div",...o}=r,l={...r,component:i},c=Ute(l);return e.jsx(Vte,{ref:a,as:i,className:Je(c.root,n),ownerState:l,...o})});function Hte(t){return Tt("MuiTableHead",t)}Et("MuiTableHead",["root"]);const Wte=t=>{const{classes:s}=t;return kt({root:["root"]},Hte,s)},Yte=Ne("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),Gte={variant:"head"},kE="thead",p9=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiTableHead"}),{className:n,component:i=kE,...o}=r,l={...r,component:i},c=Wte(l);return e.jsx(Dv.Provider,{value:Gte,children:e.jsx(Yte,{as:i,className:Je(c.root,n),ref:a,role:i===kE?null:"rowgroup",ownerState:l,...o})})});function Kte(t){return Tt("MuiToolbar",t)}Et("MuiToolbar",["root","gutters","regular","dense"]);const Qte=t=>{const{classes:s,disableGutters:a,variant:r}=t;return kt({root:["root",!a&&"gutters",r]},Kte,s)},Zte=Ne("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,!a.disableGutters&&s.gutters,s[a.variant]]}})(Wt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),Xte=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiToolbar"}),{className:n,component:i="div",disableGutters:o=!1,variant:l="regular",...c}=r,m={...r,component:i,disableGutters:o,variant:l},d=Qte(m);return e.jsx(Zte,{as:i,className:Je(d.root,n),ref:a,ownerState:m,...c})}),h9=Lt(e.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),f9=Lt(e.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function Jte(t){return Tt("MuiTablePaginationActions",t)}Et("MuiTablePaginationActions",["root"]);const ese=t=>{const{classes:s}=t;return kt({root:["root"]},Jte,s)},tse=Ne("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),sse=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiTablePaginationActions"}),{backIconButtonProps:n,className:i,count:o,disabled:l=!1,getItemAriaLabel:c,nextIconButtonProps:m,onPageChange:d,page:p,rowsPerPage:x,showFirstButton:j,showLastButton:_,slots:S={},slotProps:v={},...y}=r,N=Rr(),P=ese(r),E=te=>{d(te,0)},D=te=>{d(te,p-1)},T=te=>{d(te,p+1)},A=te=>{d(te,Math.max(0,Math.ceil(o/x)-1))},I=S.firstButton??Ws,F=S.lastButton??Ws,z=S.nextButton??Ws,O=S.previousButton??Ws,K=S.firstButtonIcon??r9,W=S.lastButtonIcon??n9,B=S.nextButtonIcon??f9,q=S.previousButtonIcon??h9,H=N?F:I,Q=N?z:O,V=N?O:z,M=N?I:F,R=N?v.lastButton:v.firstButton,$=N?v.nextButton:v.previousButton,Y=N?v.previousButton:v.nextButton,J=N?v.firstButton:v.lastButton;return e.jsxs(tse,{ref:a,className:Je(P.root,i),...y,children:[j&&e.jsx(H,{onClick:E,disabled:l||p===0,"aria-label":c("first",p),title:c("first",p),...R,children:N?e.jsx(W,{...v.lastButtonIcon}):e.jsx(K,{...v.firstButtonIcon})}),e.jsx(Q,{onClick:D,disabled:l||p===0,color:"inherit","aria-label":c("previous",p),title:c("previous",p),...$??n,children:N?e.jsx(B,{...v.nextButtonIcon}):e.jsx(q,{...v.previousButtonIcon})}),e.jsx(V,{onClick:T,disabled:l||(o!==-1?p>=Math.ceil(o/x)-1:!1),color:"inherit","aria-label":c("next",p),title:c("next",p),...Y??m,children:N?e.jsx(q,{...v.previousButtonIcon}):e.jsx(B,{...v.nextButtonIcon})}),_&&e.jsx(M,{onClick:A,disabled:l||p>=Math.ceil(o/x)-1,"aria-label":c("last",p),title:c("last",p),...J,children:N?e.jsx(K,{...v.firstButtonIcon}):e.jsx(W,{...v.lastButtonIcon})})]})});function ase(t){return Tt("MuiTablePagination",t)}const ex=Et("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var EE;const rse=Ne(Vi,{name:"MuiTablePagination",slot:"Root"})(Wt(({theme:t})=>({overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}))),nse=Ne(Xte,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,s)=>({[`& .${ex.actions}`]:s.actions,...s.toolbar})})(Wt(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${ex.actions}`]:{flexShrink:0,marginLeft:20}}))),ise=Ne("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),ose=Ne("p",{name:"MuiTablePagination",slot:"SelectLabel"})(Wt(({theme:t})=>({...t.typography.body2,flexShrink:0}))),lse=Ne(z4,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,s)=>({[`& .${ex.selectIcon}`]:s.selectIcon,[`& .${ex.select}`]:s.select,...s.input,...s.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${ex.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),cse=Ne(Z,{name:"MuiTablePagination",slot:"MenuItem"})({}),dse=Ne("p",{name:"MuiTablePagination",slot:"DisplayedRows"})(Wt(({theme:t})=>({...t.typography.body2,flexShrink:0})));function use({from:t,to:s,count:a}){return`${t}${s} of ${a!==-1?a:`more than ${s}`}`}function mse(t){return`Go to ${t} page`}const pse=t=>{const{classes:s}=t;return kt({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},ase,s)},hse=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiTablePagination"}),{ActionsComponent:n=sse,backIconButtonProps:i,colSpan:o,component:l=Vi,count:c,disabled:m=!1,getItemAriaLabel:d=mse,labelDisplayedRows:p=use,labelRowsPerPage:x="Rows per page:",nextIconButtonProps:j,onPageChange:_,onRowsPerPageChange:S,page:v,rowsPerPage:y,rowsPerPageOptions:N=[10,25,50,100],SelectProps:C={},showFirstButton:P=!1,showLastButton:E=!1,slotProps:D={},slots:T={},...A}=r,I=r,F=pse(I),z=D?.select??C,O=z.native?"option":cse;let K;(l===Vi||l==="td")&&(K=o||1e3);const W=Cn(z.id),B=Cn(z.labelId),q=()=>c===-1?(v+1)*y:y===-1?c:Math.min(c,(v+1)*y),H={slots:T,slotProps:D},[Q,V]=Gt("root",{ref:a,className:F.root,elementType:rse,externalForwardedProps:{...H,component:l,...A},ownerState:I,additionalProps:{colSpan:K}}),[M,R]=Gt("toolbar",{className:F.toolbar,elementType:nse,externalForwardedProps:H,ownerState:I}),[$,Y]=Gt("spacer",{className:F.spacer,elementType:ise,externalForwardedProps:H,ownerState:I}),[J,te]=Gt("selectLabel",{className:F.selectLabel,elementType:ose,externalForwardedProps:H,ownerState:I,additionalProps:{id:B}}),[ee,ne]=Gt("select",{className:F.select,elementType:lse,externalForwardedProps:H,ownerState:I}),[he,de]=Gt("menuItem",{className:F.menuItem,elementType:O,externalForwardedProps:H,ownerState:I}),[ae,xe]=Gt("displayedRows",{className:F.displayedRows,elementType:dse,externalForwardedProps:H,ownerState:I});return e.jsx(Q,{...V,children:e.jsxs(M,{...R,children:[e.jsx($,{...Y}),N.length>1&&e.jsx(J,{...te,children:x}),N.length>1&&e.jsx(ee,{variant:"standard",...!z.variant&&{input:EE||(EE=e.jsx(kv,{}))},value:y,onChange:S,id:W,labelId:B,...z,classes:{...z.classes,root:Je(F.input,F.selectRoot,(z.classes||{}).root),select:Je(F.select,(z.classes||{}).select),icon:Je(F.selectIcon,(z.classes||{}).icon)},disabled:m,...ne,children:N.map(ge=>g.createElement(he,{...de,key:ge.label?ge.label:ge,value:ge.value?ge.value:ge},ge.label?ge.label:ge))}),e.jsx(ae,{...xe,children:p({from:c===0?0:v*y+1,to:q(),count:c===-1?-1:c,page:v})}),e.jsx(n,{className:F.actions,backIconButtonProps:i,count:c,nextIconButtonProps:j,onPageChange:_,page:v,rowsPerPage:y,showFirstButton:P,showLastButton:E,slotProps:D.actions,slots:T.actions,getItemAriaLabel:d,disabled:m})]})})});function fse(t){return Tt("MuiTableRow",t)}const TE=Et("MuiTableRow",["root","selected","hover","head","footer"]),xse=t=>{const{classes:s,selected:a,hover:r,head:n,footer:i}=t;return kt({root:["root",a&&"selected",r&&"hover",n&&"head",i&&"footer"]},fse,s)},gse=Ne("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.head&&s.head,a.footer&&s.footer]}})(Wt(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${TE.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${TE.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)}}}))),ME="tr",tu=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiTableRow"}),{className:n,component:i=ME,hover:o=!1,selected:l=!1,...c}=r,m=g.useContext(Dv),d={...r,component:i,hover:o,selected:l,head:m&&m.variant==="head",footer:m&&m.variant==="footer"},p=xse(d);return e.jsx(gse,{as:i,ref:a,className:Je(p.root,n),role:i===ME?null:"row",ownerState:d,...c})}),bse=Lt(e.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}));function yse(t){return Tt("MuiTableSortLabel",t)}const cN=Et("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]),vse=t=>{const{classes:s,direction:a,active:r}=t,n={root:["root",r&&"active",`direction${Ke(a)}`],icon:["icon",`iconDirection${Ke(a)}`]};return kt(n,yse,s)},jse=Ne(eo,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.active&&s.active]}})(Wt(({theme:t})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":{color:(t.vars||t).palette.text.secondary,[`& .${cN.icon}`]:{opacity:.5}},[`&.${cN.active}`]:{color:(t.vars||t).palette.text.primary,[`& .${cN.icon}`]:{opacity:1,color:(t.vars||t).palette.text.secondary}}}))),Nse=Ne("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.icon,s[`iconDirection${Ke(a.direction)}`]]}})(Wt(({theme:t})=>({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}))),_se=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiTableSortLabel"}),{active:n=!1,children:i,className:o,direction:l="asc",hideSortIcon:c=!1,IconComponent:m=bse,slots:d={},slotProps:p={},...x}=r,j={...r,active:n,direction:l,hideSortIcon:c,IconComponent:m},_=vse(j),S={slots:d,slotProps:p},[v,y]=Gt("root",{elementType:jse,externalForwardedProps:S,ownerState:j,className:Je(_.root,o),ref:a}),[N,C]=Gt("icon",{elementType:Nse,externalForwardedProps:S,ownerState:j,className:_.icon});return e.jsxs(v,{disableRipple:!0,component:"span",...y,...x,children:[i,c&&!n?null:e.jsx(N,{as:m,...C})]})});function wse(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function Sse(t,s,a,r={},n=()=>{}){const{ease:i=wse,duration:o=300}=r;let l=null;const c=s[t];let m=!1;const d=()=>{m=!0},p=x=>{if(m){n(new Error("Animation cancelled"));return}l===null&&(l=x);const j=Math.min(1,(x-l)/o);if(s[t]=i(j)*(a-c)+c,j>=1){requestAnimationFrame(()=>{n(null)});return}requestAnimationFrame(p)};return c===a?(n(new Error("Element already at target position")),d):(requestAnimationFrame(p),d)}const Cse={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Pse(t){const{onChange:s,...a}=t,r=g.useRef(),n=g.useRef(null),i=()=>{r.current=n.current.offsetHeight-n.current.clientHeight};return Ia(()=>{const o=mg(()=>{const c=r.current;i(),c!==r.current&&s(r.current)}),l=xi(n.current);return l.addEventListener("resize",o),()=>{o.clear(),l.removeEventListener("resize",o)}},[s]),g.useEffect(()=>{i(),s(r.current)},[s]),e.jsx("div",{style:Cse,...a,ref:n})}function kse(t){return Tt("MuiTabScrollButton",t)}const Ese=Et("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Tse=t=>{const{classes:s,orientation:a,disabled:r}=t;return kt({root:["root",a,r&&"disabled"]},kse,s)},Mse=Ne(eo,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.orientation&&s[a.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Ese.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Dse=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiTabScrollButton"}),{className:n,slots:i={},slotProps:o={},direction:l,orientation:c,disabled:m,...d}=r,p=Rr(),x={isRtl:p,...r},j=Tse(x),_=i.StartScrollButtonIcon??h9,S=i.EndScrollButtonIcon??f9,v=ea({elementType:_,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:x}),y=ea({elementType:S,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:x});return e.jsx(Mse,{component:"div",className:Je(j.root,n),ref:a,role:null,ownerState:x,tabIndex:null,...d,style:{...d.style,...c==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${p?-90:90}deg)`}},children:l==="left"?e.jsx(_,{...v}):e.jsx(S,{...y})})});function Rse(t){return Tt("MuiTabs",t)}const Kb=Et("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),DE=(t,s)=>t===s?t.firstChild:s&&s.nextElementSibling?s.nextElementSibling:t.firstChild,RE=(t,s)=>t===s?t.lastChild:s&&s.previousElementSibling?s.previousElementSibling:t.lastChild,ib=(t,s,a)=>{let r=!1,n=a(t,s);for(;n;){if(n===t.firstChild){if(r)return;r=!0}const i=n.disabled||n.getAttribute("aria-disabled")==="true";if(!n.hasAttribute("tabindex")||i)n=a(t,n);else{n.focus();return}}},Ase=t=>{const{vertical:s,fixed:a,hideScrollbar:r,scrollableX:n,scrollableY:i,centered:o,scrollButtonsHideMobile:l,classes:c}=t;return kt({root:["root",s&&"vertical"],scroller:["scroller",a&&"fixed",r&&"hideScrollbar",n&&"scrollableX",i&&"scrollableY"],list:["list","flexContainer",s&&"flexContainerVertical",s&&"vertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[n&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Rse,c)},Ise=Ne("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[{[`& .${Kb.scrollButtons}`]:s.scrollButtons},{[`& .${Kb.scrollButtons}`]:a.scrollButtonsHideMobile&&s.scrollButtonsHideMobile},s.root,a.vertical&&s.vertical]}})(Wt(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:s})=>s.vertical,style:{flexDirection:"column"}},{props:({ownerState:s})=>s.scrollButtonsHideMobile,style:{[`& .${Kb.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),Ose=Ne("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.scroller,a.fixed&&s.fixed,a.hideScrollbar&&s.hideScrollbar,a.scrollableX&&s.scrollableX,a.scrollableY&&s.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Fse=Ne("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.list,s.flexContainer,a.vertical&&s.flexContainerVertical,a.centered&&s.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),Lse=Ne("span",{name:"MuiTabs",slot:"Indicator"})(Wt(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:s})=>s.vertical,style:{height:"100%",width:2,right:0}}]}))),$se=Ne(Pse)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),AE={},jo=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiTabs"}),n=vi(),i=Rr(),{"aria-label":o,"aria-labelledby":l,action:c,centered:m=!1,children:d,className:p,component:x="div",allowScrollButtonsMobile:j=!1,indicatorColor:_="primary",onChange:S,orientation:v="horizontal",ScrollButtonComponent:y,scrollButtons:N="auto",selectionFollowsFocus:C,slots:P={},slotProps:E={},TabIndicatorProps:D={},TabScrollButtonProps:T={},textColor:A="primary",value:I,variant:F="standard",visibleScrollbar:z=!1,...O}=r,K=F==="scrollable",W=v==="vertical",B=W?"scrollTop":"scrollLeft",q=W?"top":"left",H=W?"bottom":"right",Q=W?"clientHeight":"clientWidth",V=W?"height":"width",M={...r,component:x,allowScrollButtonsMobile:j,indicatorColor:_,orientation:v,vertical:W,scrollButtons:N,textColor:A,variant:F,visibleScrollbar:z,fixed:!K,hideScrollbar:K&&!z,scrollableX:K&&!W,scrollableY:K&&W,centered:m&&!K,scrollButtonsHideMobile:!j},R=Ase(M),$=ea({elementType:P.StartScrollButtonIcon,externalSlotProps:E.startScrollButtonIcon,ownerState:M}),Y=ea({elementType:P.EndScrollButtonIcon,externalSlotProps:E.endScrollButtonIcon,ownerState:M}),[J,te]=g.useState(!1),[ee,ne]=g.useState(AE),[he,de]=g.useState(!1),[ae,xe]=g.useState(!1),[ge,le]=g.useState(!1),[me,Ae]=g.useState({overflow:"hidden",scrollbarWidth:0}),Ce=new Map,_e=g.useRef(null),Ie=g.useRef(null),et={slots:P,slotProps:{indicator:D,scrollButton:T,...E}},ke=()=>{const Bt=_e.current;let Ut;if(Bt){const ve=Bt.getBoundingClientRect();Ut={clientWidth:Bt.clientWidth,scrollLeft:Bt.scrollLeft,scrollTop:Bt.scrollTop,scrollWidth:Bt.scrollWidth,top:ve.top,bottom:ve.bottom,left:ve.left,right:ve.right}}let ds;if(Bt&&I!==!1){const ve=Ie.current.children;if(ve.length>0){const Pe=ve[Ce.get(I)];ds=Pe?Pe.getBoundingClientRect():null}}return{tabsMeta:Ut,tabMeta:ds}},He=Ot(()=>{const{tabsMeta:Bt,tabMeta:Ut}=ke();let ds=0,ve;W?(ve="top",Ut&&Bt&&(ds=Ut.top-Bt.top+Bt.scrollTop)):(ve=i?"right":"left",Ut&&Bt&&(ds=(i?-1:1)*(Ut[ve]-Bt[ve]+Bt.scrollLeft)));const Pe={[ve]:ds,[V]:Ut?Ut[V]:0};if(typeof ee[ve]!="number"||typeof ee[V]!="number")ne(Pe);else{const Be=Math.abs(ee[ve]-Pe[ve]),gt=Math.abs(ee[V]-Pe[V]);(Be>=1||gt>=1)&&ne(Pe)}}),be=(Bt,{animation:Ut=!0}={})=>{Ut?Sse(B,_e.current,Bt,{duration:n.transitions.duration.standard}):_e.current[B]=Bt},Ge=Bt=>{let Ut=_e.current[B];W?Ut+=Bt:Ut+=Bt*(i?-1:1),be(Ut)},at=()=>{const Bt=_e.current[Q];let Ut=0;const ds=Array.from(Ie.current.children);for(let ve=0;ve<ds.length;ve+=1){const Pe=ds[ve];if(Ut+Pe[Q]>Bt){ve===0&&(Ut=Bt);break}Ut+=Pe[Q]}return Ut},vt=()=>{Ge(-1*at())},dt=()=>{Ge(at())},[ft,{onChange:Mt,...ye}]=Gt("scrollbar",{className:Je(R.scrollableX,R.hideScrollbar),elementType:$se,shouldForwardComponentProp:!0,externalForwardedProps:et,ownerState:M}),Le=g.useCallback(Bt=>{Mt?.(Bt),Ae({overflow:null,scrollbarWidth:Bt})},[Mt]),[ze,jt]=Gt("scrollButtons",{className:Je(R.scrollButtons,T.className),elementType:Dse,externalForwardedProps:et,ownerState:M,additionalProps:{orientation:v,slots:{StartScrollButtonIcon:P.startScrollButtonIcon||P.StartScrollButtonIcon,EndScrollButtonIcon:P.endScrollButtonIcon||P.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:$,endScrollButtonIcon:Y}}}),es=()=>{const Bt={};Bt.scrollbarSizeListener=K?e.jsx(ft,{...ye,onChange:Le}):null;const ds=K&&(N==="auto"&&(he||ae)||N===!0);return Bt.scrollButtonStart=ds?e.jsx(ze,{direction:i?"right":"left",onClick:vt,disabled:!he,...jt}):null,Bt.scrollButtonEnd=ds?e.jsx(ze,{direction:i?"left":"right",onClick:dt,disabled:!ae,...jt}):null,Bt},Qt=Ot(Bt=>{const{tabsMeta:Ut,tabMeta:ds}=ke();if(!(!ds||!Ut)){if(ds[q]<Ut[q]){const ve=Ut[B]+(ds[q]-Ut[q]);be(ve,{animation:Bt})}else if(ds[H]>Ut[H]){const ve=Ut[B]+(ds[H]-Ut[H]);be(ve,{animation:Bt})}}}),rt=Ot(()=>{K&&N!==!1&&le(!ge)});g.useEffect(()=>{const Bt=mg(()=>{_e.current&&He()});let Ut;const ds=Be=>{Be.forEach(gt=>{gt.removedNodes.forEach(ue=>{Ut?.unobserve(ue)}),gt.addedNodes.forEach(ue=>{Ut?.observe(ue)})}),Bt(),rt()},ve=xi(_e.current);ve.addEventListener("resize",Bt);let Pe;return typeof ResizeObserver<"u"&&(Ut=new ResizeObserver(Bt),Array.from(Ie.current.children).forEach(Be=>{Ut.observe(Be)})),typeof MutationObserver<"u"&&(Pe=new MutationObserver(ds),Pe.observe(Ie.current,{childList:!0})),()=>{Bt.clear(),ve.removeEventListener("resize",Bt),Pe?.disconnect(),Ut?.disconnect()}},[He,rt]),g.useEffect(()=>{const Bt=Array.from(Ie.current.children),Ut=Bt.length;if(typeof IntersectionObserver<"u"&&Ut>0&&K&&N!==!1){const ds=Bt[0],ve=Bt[Ut-1],Pe={root:_e.current,threshold:.99},Be=Oe=>{de(!Oe[0].isIntersecting)},gt=new IntersectionObserver(Be,Pe);gt.observe(ds);const ue=Oe=>{xe(!Oe[0].isIntersecting)},Me=new IntersectionObserver(ue,Pe);return Me.observe(ve),()=>{gt.disconnect(),Me.disconnect()}}},[K,N,ge,d?.length]),g.useEffect(()=>{te(!0)},[]),g.useEffect(()=>{He()}),g.useEffect(()=>{Qt(AE!==ee)},[Qt,ee]),g.useImperativeHandle(c,()=>({updateIndicator:He,updateScrollButtons:rt}),[He,rt]);const[zt,_t]=Gt("indicator",{className:Je(R.indicator,D.className),elementType:Lse,externalForwardedProps:et,ownerState:M,additionalProps:{style:ee}}),hs=e.jsx(zt,{..._t});let cs=0;const Ns=g.Children.map(d,Bt=>{if(!g.isValidElement(Bt))return null;const Ut=Bt.props.value===void 0?cs:Bt.props.value;Ce.set(Ut,cs);const ds=Ut===I;return cs+=1,g.cloneElement(Bt,{fullWidth:F==="fullWidth",indicator:ds&&!J&&hs,selected:ds,selectionFollowsFocus:C,onChange:S,textColor:A,value:Ut,...cs===1&&I===!1&&!Bt.props.tabIndex?{tabIndex:0}:{}})}),Gs=Bt=>{if(Bt.altKey||Bt.shiftKey||Bt.ctrlKey||Bt.metaKey)return;const Ut=Ie.current,ds=cr(Ut).activeElement;if(ds.getAttribute("role")!=="tab")return;let Pe=v==="horizontal"?"ArrowLeft":"ArrowUp",Be=v==="horizontal"?"ArrowRight":"ArrowDown";switch(v==="horizontal"&&i&&(Pe="ArrowRight",Be="ArrowLeft"),Bt.key){case Pe:Bt.preventDefault(),ib(Ut,ds,RE);break;case Be:Bt.preventDefault(),ib(Ut,ds,DE);break;case"Home":Bt.preventDefault(),ib(Ut,null,DE);break;case"End":Bt.preventDefault(),ib(Ut,null,RE);break}},Is=es(),[Ds,pa]=Gt("root",{ref:a,className:Je(R.root,p),elementType:Ise,externalForwardedProps:{...et,...O,component:x},ownerState:M}),[ha,oa]=Gt("scroller",{ref:_e,className:R.scroller,elementType:Ose,externalForwardedProps:et,ownerState:M,additionalProps:{style:{overflow:me.overflow,[W?`margin${i?"Left":"Right"}`:"marginBottom"]:z?void 0:-me.scrollbarWidth}}}),[qt,zs]=Gt("list",{ref:Ie,className:Je(R.list,R.flexContainer),elementType:Fse,externalForwardedProps:et,ownerState:M,getSlotProps:Bt=>({...Bt,onKeyDown:Ut=>{Gs(Ut),Bt.onKeyDown?.(Ut)}})});return e.jsxs(Ds,{...pa,children:[Is.scrollButtonStart,Is.scrollbarSizeListener,e.jsxs(ha,{...oa,children:[e.jsx(qt,{"aria-label":o,"aria-labelledby":l,"aria-orientation":v==="vertical"?"vertical":null,role:"tablist",...zs,children:Ns}),J&&hs]}),Is.scrollButtonEnd]})});function zse(t){return Tt("MuiTextField",t)}Et("MuiTextField",["root"]);const qse={standard:A4,filled:D4,outlined:L4},Bse=t=>{const{classes:s}=t;return kt({root:["root"]},zse,s)},Use=Ne(Tv,{name:"MuiTextField",slot:"Root"})({}),Ba=g.forwardRef(function(s,a){const r=ts({props:s,name:"MuiTextField"}),{autoComplete:n,autoFocus:i=!1,children:o,className:l,color:c="primary",defaultValue:m,disabled:d=!1,error:p=!1,FormHelperTextProps:x,fullWidth:j=!1,helperText:_,id:S,InputLabelProps:v,inputProps:y,InputProps:N,inputRef:C,label:P,maxRows:E,minRows:D,multiline:T=!1,name:A,onBlur:I,onChange:F,onFocus:z,placeholder:O,required:K=!1,rows:W,select:B=!1,SelectProps:q,slots:H={},slotProps:Q={},type:V,value:M,variant:R="outlined",...$}=r,Y={...r,autoFocus:i,color:c,disabled:d,error:p,fullWidth:j,multiline:T,required:K,select:B,variant:R},J=Bse(Y),te=Cn(S),ee=_&&te?`${te}-helper-text`:void 0,ne=P&&te?`${te}-label`:void 0,he=qse[R],de={slots:H,slotProps:{input:N,inputLabel:v,htmlInput:y,formHelperText:x,select:q,...Q}},ae={},xe=de.slotProps.inputLabel;R==="outlined"&&(xe&&typeof xe.shrink<"u"&&(ae.notched=xe.shrink),ae.label=P),B&&((!q||!q.native)&&(ae.id=void 0),ae["aria-describedby"]=void 0);const[ge,le]=Gt("root",{elementType:Use,shouldForwardComponentProp:!0,externalForwardedProps:{...de,...$},ownerState:Y,className:Je(J.root,l),ref:a,additionalProps:{disabled:d,error:p,fullWidth:j,required:K,color:c,variant:R}}),[me,Ae]=Gt("input",{elementType:he,externalForwardedProps:de,additionalProps:ae,ownerState:Y}),[Ce,_e]=Gt("inputLabel",{elementType:Z7,externalForwardedProps:de,ownerState:Y}),[Ie,et]=Gt("htmlInput",{elementType:"input",externalForwardedProps:de,ownerState:Y}),[ke,He]=Gt("formHelperText",{elementType:R4,externalForwardedProps:de,ownerState:Y}),[be,Ge]=Gt("select",{elementType:z4,externalForwardedProps:de,ownerState:Y}),at=e.jsx(me,{"aria-describedby":ee,autoComplete:n,autoFocus:i,defaultValue:m,fullWidth:j,multiline:T,name:A,rows:W,maxRows:E,minRows:D,type:V,value:M,id:te,inputRef:C,onBlur:I,onChange:F,onFocus:z,placeholder:O,inputProps:et,slots:{input:H.htmlInput?Ie:void 0},...Ae});return e.jsxs(ge,{...le,children:[P!=null&&P!==""&&e.jsx(Ce,{htmlFor:te,id:ne,..._e,children:P}),B?e.jsx(be,{"aria-describedby":ee,id:te,labelId:ne,value:M,input:at,...Ge,children:o}):at,_&&e.jsx(ke,{id:ee,...He,children:_})]})}),bg=c7({themeId:Gi}),Mc=7,G=({children:t,variant:s="contained",color:a="primary",size:r="medium",loading:n=!1,loadingText:i,fullWidth:o=!1,disabled:l=!1,startIcon:c,endIcon:m,onClick:d,type:p="button",sx:x,className:j,..._})=>e.jsx(ii,{disableElevation:!0,variant:s,color:a,size:r,fullWidth:o,disabled:l||n,startIcon:n?e.jsx(to,{size:16,color:"inherit"}):c,endIcon:n?void 0:m,onClick:d,type:p,sx:x,className:j,..._,children:n&&i?i:t}),Qb="/assets/wrong-B_7z0xx9.png";let Km=null,Zb=!1,Wh=null;const x9=()=>Km?Promise.resolve(Km):Wh||(Zb=!0,Wh=new Promise((t,s)=>{const a=new Image;a.onload=()=>{Km=Qb,Zb=!1,t(Qb)},a.onerror=()=>{Zb=!1,Wh=null,s(new Error("Failed to load error illustration"))},a.src=Qb}),Wh);x9().catch(console.error);let q_=class extends g.Component{constructor(s){super(s),this.state={hasError:!1,error:null,errorInfo:null,imageLoaded:!!Km}}componentDidMount(){!Km&&!Zb&&x9().then(()=>{this.setState({imageLoaded:!0})}).catch(console.error)}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){console.error("ErrorBoundary caught an error:",s,a),this.logErrorToService(s,a),this.props.onError&&this.props.onError(s,a),this.setState({error:s,errorInfo:a})}logErrorToService=(s,a)=>{const r={message:s.message,stack:s.stack,componentStack:a.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.error("Error logged:",r)};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleReload=()=>{window.location.reload()};render(){return this.state.hasError||this.props.showFallback?this.props.fallback?this.props.fallback:e.jsxs("div",{className:"min-h-screen flex-col w-full bg-white px-4 py-10 flex items-center justify-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center",children:this.state.imageLoaded||Km?e.jsx("img",{src:Qb,alt:"Unexpected error",className:"w-full max-w-sm",loading:"eager",decoding:"sync"}):e.jsx("div",{className:"w-full max-w-sm h-64 bg-gray-100 animate-pulse rounded-lg"})}),e.jsxs("div",{className:"rounded-lg border flex flex-col justify-center items-center border-red-100 bg-red-50 px-6 py-4 text-left",children:[e.jsx("p",{className:"text-sm font-semibold text-red-700",children:"Something went wrong"}),e.jsx("p",{className:"mt-1 text-sm text-center text-red-600",children:"An unexpected error occurred while rendering this page."})]}),e.jsx("p",{className:"mt-4 text-sm text-center text-gray-500",children:"We apologize for the inconvenience. Please try refreshing the page or contact support if the problem persists."}),this.state.error&&e.jsxs("div",{className:"mt-6 rounded-lg border border-gray-200 bg-gray-50 p-4 text-left",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Error Details (Development Only):"}),e.jsxs("pre",{className:"mt-2 max-h-60 overflow-auto text-xs text-red-600 whitespace-pre-wrap break-words",children:[this.state.error.toString(),this.state.errorInfo?.componentStack&&e.jsxs(e.Fragment,{children:[`

Component Stack:
`,this.state.errorInfo.componentStack]})]})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-3",children:[e.jsx(G,{variant:"contained",className:"!min-w-[120px]",onClick:this.handleReset,children:"Try Again"}),e.jsx(G,{variant:"outlined",className:"!min-w-[120px]",onClick:this.handleReload,children:"Reload"})]}),e.jsxs("p",{className:"mt-4 text-xs text-gray-400",children:["Error ID: ",Date.now()]})]}):this.props.children}};var g9={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IE=yt.createContext&&yt.createContext(g9),Vse=["attr","size","title"];function Hse(t,s){if(t==null)return{};var a=Wse(t,s),r,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Wse(t,s){if(t==null)return{};var a={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(s.indexOf(r)>=0)continue;a[r]=t[r]}return a}function jy(){return jy=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},jy.apply(this,arguments)}function OE(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);s&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function Ny(t){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?OE(Object(a),!0).forEach(function(r){Yse(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):OE(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function Yse(t,s,a){return s=Gse(s),s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}function Gse(t){var s=Kse(t,"string");return typeof s=="symbol"?s:s+""}function Kse(t,s){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,s);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function b9(t){return t&&t.map((s,a)=>yt.createElement(s.tag,Ny({key:a},s.attr),b9(s.child)))}function Pa(t){return s=>yt.createElement(Qse,jy({attr:Ny({},t.attr)},s),b9(t.child))}function Qse(t){var s=a=>{var{attr:r,size:n,title:i}=t,o=Hse(t,Vse),l=n||a.size||"1em",c;return a.className&&(c=a.className),t.className&&(c=(c?c+" ":"")+t.className),yt.createElement("svg",jy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,o,{className:c,style:Ny(Ny({color:t.color||a.color},a.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&yt.createElement("title",null,i),t.children)};return IE!==void 0?yt.createElement(IE.Consumer,null,a=>s(a)):s(g9)}function ob(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"},child:[]}]})(t)}function Zse(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"},child:[]}]})(t)}function Xse(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"},child:[]}]})(t)}function Jse(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(t)}function eae(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"},child:[]}]})(t)}function dN(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function tae(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function sae(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"},child:[]}]})(t)}function aae(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"},child:[]}]})(t)}function FE(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(t)}function rae(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"},child:[]}]})(t)}function LE(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(t)}function nae(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}function iae(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 9h4v11H4zM16 13h4v7h-4zM10 4h4v16h-4z"},child:[]}]})(t)}function oae(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"},child:[]}]})(t)}function lae(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 2-5.5 9h11z"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"4.5"},child:[]},{tag:"path",attr:{d:"M3 13.5h8v8H3z"},child:[]}]})(t)}function cae(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9 1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"},child:[]}]})(t)}function $E(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"},child:[]}]})(t)}function dae(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 15.18V7c0-2.21-1.79-4-4-4s-4 1.79-4 4v10c0 1.1-.9 2-2 2s-2-.9-2-2V8.82C8.16 8.4 9 7.3 9 6c0-1.66-1.34-3-3-3S3 4.34 3 6c0 1.3.84 2.4 2 2.82V17c0 2.21 1.79 4 4 4s4-1.79 4-4V7c0-1.1.9-2 2-2s2 .9 2 2v8.18A2.996 2.996 0 0 0 18 21c1.66 0 3-1.34 3-3 0-1.3-.84-2.4-2-2.82z"},child:[]}]})(t)}function uae(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 21V7L12 3 2 7v14h5v-9h10v9h5zm-11-2H9v2h2v-2zm2-3h-2v2h2v-2zm2 3h-2v2h2v-2z"},child:[]}]})(t)}function mae(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},child:[]}]})(t)}function pae(t){return Pa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(t)}const y9=[{id:"dashboards",label:"Dashboards",children:[{id:"executive-dashboard",label:"Executive Dashboard",icon:Xse,href:"/dashboard/executive"}]},{id:"masters",label:"Masters",children:[{id:"organization-setup",label:"Organization Setup",icon:rae,children:[{id:"user-master",label:"User Master",href:"/masters/users"},{id:"role-permission",label:"Role & Permission Setup",href:"/masters/roles"},{id:"depots",label:"Depots",href:"/masters/depots"},{id:"zones",label:"Zones",href:"/masters/zones"},{id:"currency",label:"Currency",href:"/masters/currency"}]},{id:"operations-logistics",label:"Operations & Logistics",icon:cae,children:[{id:"vehicle-master",label:"Vehicle Master",href:"/masters/vehicles"},{id:"asset-types",label:"Asset Types",href:"/masters/asset-types"},{id:"asset-sub-types",label:"Asset Sub Types",href:"/masters/asset-sub-types"},{id:"asset-master",label:"Asset Master",href:"/masters/asset-master"},{id:"route-types",label:"Route Types",href:"/masters/route-types"},{id:"routes",label:"Routes",href:"/masters/routes"}]},{id:"customer-outlet-management",label:"Outlet Management",icon:sae,children:[{id:"outlet-groups",label:"Outlet Groups",href:"/masters/outlet-groups"},{id:"outlet-master",label:"Outlet Master",href:"/masters/outlets"},{id:"outlet-type",label:"Outlet Type",href:"/masters/outlet-type"},{id:"outlet-channel",label:"Outlet Channel",href:"/masters/outlet-channel"},{id:"outlet-category",label:"Outlet Category",href:"/masters/outlet-category"}]},{id:"product-pricing-setup",label:"Product & Pricing Setup",icon:lae,children:[{id:"brands",label:"Brands",href:"/masters/brands"},{id:"product-categories",label:"Categories",href:"/masters/product-categories"},{id:"product-sub-categories",label:"Sub Categories",href:"/masters/product-sub-categories"},{id:"unit-of-measurement",label:"Unit of Measurement",href:"/masters/unit-of-measurement"},{id:"sub-unit-of-measurement",label:"Sub Unit of Measurement",href:"/masters/sub-unit-of-measurement"},{id:"product-flavours",label:"Flavours",href:"/masters/product-flavours"},{id:"product-volumes",label:"Volumes",href:"/masters/product-volumes"},{id:"product-shelf-life",label:"Shelf Life",href:"/masters/product-shelf-life"},{id:"product-types",label:"Product Types",href:"/masters/product-types"},{id:"product-target-groups",label:"Product Target Groups",href:"/masters/product-target-groups"},{id:"product-web-orders",label:"Web Orders",href:"/masters/product-web-orders"},{id:"tax-master",label:"Tax Master",href:"/masters/tax-master"},{id:"product-catalog",label:"Product Catalog",href:"/masters/products"}]},{id:"sales-planning-targets",label:"Sales Planning & Targets",icon:FE,children:[{id:"sales-target-groups",label:"Sales Target Groups",href:"/masters/sales-target-groups"},{id:"sales-targets",label:"Sales Targets",href:"/masters/sales-targets"},{id:"kpi-targets",label:"KPI Targets",href:"/masters/kpi-targets"},{id:"sales-bonus-rules",label:"Sales Bonus Rules",href:"/masters/sales-bonus-rules"}]},{id:"feedback-engagement",label:"Feedback & Engagement",icon:ob,children:[{id:"survey-templates",label:"Survey Templates",href:"/masters/surveys"},{id:"customer-complaints",label:"Customer Complaints",href:"/masters/customer-complaints"},{id:"promotions",label:"Promotions",href:"/masters/promotions"}]}]},{id:"transactions",label:"Transactions",children:[{id:"sales-operations",label:"Sales Operations",icon:tae,children:[{id:"order-entry",label:"Order Entry",href:"/transactions/orders"},{id:"invoice-management",label:"Invoice Management",href:"/transactions/invoices"},{id:"inventory-items",label:"Inventory Items",href:"/masters/inventory-items"},{id:"payment-collection",label:"Payment Collection",href:"/transactions/payments"}]},{id:"asset-cooler-management",label:"Asset & Cooler Management",icon:Zse,children:[{id:"asset-movement",label:"Asset Movement",href:"/transactions/asset-movement"},{id:"asset-maintenance",label:"Asset Maintenance",href:"/transactions/maintenance"},{id:"cooler-types",label:"Cooler Types",href:"/masters/cooler-types"},{id:"cooler-sub-types",label:"Cooler Sub Types",href:"/masters/cooler-sub-types"},{id:"cooler-installations",label:"Cooler Installations",href:"/transactions/installations"},{id:"cooler-inspections",label:"Cooler Inspections",href:"/transactions/inspections"}]},{id:"van-warehouse-stock",label:"Van & Stock Operations",icon:uae,children:[{id:"van-stock",label:"Van Stock Load/Unload",href:"/transactions/van-stock"},{id:"stock-movements",label:"Stock Movements",href:"/transactions/stock-movements"}]},{id:"field-visit-market",label:"Field Visit & Market Activities",icon:LE,children:[{id:"visit-logging",label:"Visit Logging",href:"/transactions/visits"},{id:"route-assignments",label:"Route Assignment",href:"/masters/route-assignments"},{id:"competitor-activity",label:"Competitor Activity",href:"/transactions/competitor"}]}]},{id:"tracking",label:"Tracking",children:[{id:"rep-location",label:"Rep Location Tracking",icon:$E,href:"/tracking/location"},{id:"route-effectiveness",label:"Route Effectiveness",icon:dae,href:"/tracking/routes"}]},{id:"reports",label:"Reports",children:[{id:"orders-invoices-returns",label:"Orders, Invoices, Returns",icon:eae,href:"/reports/orders"},{id:"sales-vs-target",label:"Sales vs Target",icon:FE,href:"/reports/sales-target"},{id:"asset-movement-status",label:"Asset Movement/Status",icon:aae,href:"/reports/asset-status"},{id:"visit-frequency",label:"Visit Frequency/Completion",icon:LE,href:"/reports/visits"},{id:"promo-effectiveness",label:"Promo Effectiveness",icon:nae,href:"/reports/promos"},{id:"region-territory",label:"Region/Territory Sales",icon:$E,href:"/reports/territory"},{id:"rep-productivity",label:"Rep Productivity",icon:pae,href:"/reports/productivity"},{id:"competitor-analysis",label:"Competitor Analysis",icon:iae,href:"/reports/competitor"},{id:"outstanding-collection",label:"Outstanding & Collection",icon:Jse,href:"/reports/collection"},{id:"attendance-history",label:"Attendance History",icon:ob,href:"/reports/attendance-history"},{id:"activity-logs",label:"Audit Logs",icon:oae,href:"/reports/audit-logs"},{id:"survey-responses",label:"Survey Responses",icon:ob,href:"/reports/survey-responses"}]},{id:"workflows",label:"Workflows",children:[{id:"approval-setup",label:"Approval Setup",icon:dN,href:"/workflows/approval-setup"},{id:"approval-requests",label:"Approval Requests",icon:mae,href:"/workflows/approvals"}]},{id:"settings",label:"Settings",children:[{id:"login-history",label:"Login History",icon:ob,href:"/settings/login-history"},{id:"api-tokens",label:"API Tokens",icon:dN,href:"/settings/tokens"},{id:"system-settings",label:"System Settings",icon:dN,href:"/settings/system"}]}],uN=["dashboard","company","user","role","depot","zone","currency","route","route-type","outlet","outlet-group","asset-type","asset-master","warehouse","vehicle","brand","product-category","product-sub-category","unit-of-measurement","subunit-of-measurement","product","pricelist","sales-target-group","sales-target","sales-bonus-rule","kpi-target","survey","promotions","order","delivery","return","payment","invoice","credit-note","visit","asset-movement","maintenance","installation","inspection","van-stock","stock-movement","stock-transfer","batch-lots","inventory-items","inventory-management","competitor","customer-complaint","customer-category","customer-type","customer-channel","product-flavour","product-volume","product-shelf-life","product-type","product-target-group","product-web-order","cooler-type","cooler-sub-type","tax-master","location","route-effectiveness","erp-sync","report","approval","exception","alert","profile","login-history","token","setting"],zE={"executive-dashboard":"dashboard","company-master":"company","user-master":"user","role-permission":"role","outlet-master":"outlet","outlet-groups":"outlet-group","asset-types":"asset-type","asset-master":"asset-master","warehouse-master":"warehouse","vehicle-master":"vehicle","product-categories":"product-category","product-sub-categories":"product-sub-category","unit-of-measurement":"unit-of-measurement","product-flavours":"product-flavour","product-volumes":"product-volume","product-shelf-life":"product-shelf-life","product-types":"product-type","product-target-groups":"product-target-group","product-web-orders":"product-web-order","cooler-types":"cooler-type","cooler-sub-types":"cooler-sub-type","tax-master":"tax-master","product-catalog":"product",pricelists:"pricelist","price-lists":"pricelist","sales-target-groups":"sales-target-group","sales-targets":"sales-target","sales-bonus-rules":"sales-bonus-rule","kpi-targets":"kpi-target","survey-templates":"survey","customer-complaints":"customer-complaint","customer-category":"customer-category","customer-type":"customer-type","outlet-channel":"customer-channel","order-entry":"order","delivery-scheduling":"delivery","delivery-schedule":"delivery","return-requests":"return","return-request":"return","payment-collection":"payment","invoice-management":"invoice","credit-notes":"credit-note","visit-logging":"visit","asset-movement":"asset-movement","asset-maintenance":"maintenance","cooler-installations":"installation","cooler-inspections":"inspection","van-stock":"van-stock","stock-movements":"stock-movement","stock-transfer-requests":"stock-transfer","batch-lots":"batch-lots","batch-lot-management":"batch-lots","inventory-stock":"inventory-management","inventory-management":"inventory-management","competitor-activity":"competitor","rep-location":"report","rep-location-tracking":"location","route-effectiveness":"route-effectiveness","orders-invoices-returns":"report","sales-vs-target":"report","asset-movement-status":"report","visit-frequency":"report","promo-effectiveness":"report","region-territory":"report","rep-productivity":"report","competitor-analysis":"report","outstanding-collection":"report","attendance-history":"report","sales-reports":"report","inventory-reports":"report","financial-reports":"report","performance-reports":"report","erp-sync-logs":"erp-sync","activity-logs":"report","survey-responses":"survey","approval-setup":"approval","approval-requests":"approval","route-exceptions":"exception","alerts-reminders":"alert",profile:"profile","login-history":"login-history","api-tokens":"token","system-settings":"setting"};function hae(t){const s=[];function a(r){r.forEach(n=>{n.href&&s.push(n.id),n.children&&a(n.children)})}return a(t),s}function fae(t){if(zE[t])return zE[t];const s=t.toLowerCase().replace(/-/g,"-");if(uN.includes(s))return s;const a=s.endsWith("s")?s.slice(0,-1):s;if(uN.includes(a))return a;const r=uN.find(n=>n.includes(s)||s.includes(n));return r||(console.warn(`  No permission mapping found for menu item: ${t}`),null)}function xae(){const t=hae(y9),s={};return t.forEach(a=>{const r=fae(a);r&&(s[a]=r)}),s}const gae=xae();var kp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bae={setTimeout:(t,s)=>setTimeout(t,s),clearTimeout:t=>clearTimeout(t),setInterval:(t,s)=>setInterval(t,s),clearInterval:t=>clearInterval(t)},yae=class{#e=bae;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,s){return this.#e.setTimeout(t,s)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,s){return this.#e.setInterval(t,s)}clearInterval(t){this.#e.clearInterval(t)}},Qd=new yae;function vae(t){setTimeout(t,0)}var lu=typeof window>"u"||"Deno"in globalThis;function yn(){}function jae(t,s){return typeof t=="function"?t(s):t}function B_(t){return typeof t=="number"&&t>=0&&t!==1/0}function v9(t,s){return Math.max(t+(s||0)-Date.now(),0)}function Bc(t,s){return typeof t=="function"?t(s):t}function qi(t,s){return typeof t=="function"?t(s):t}function qE(t,s){const{type:a="all",exact:r,fetchStatus:n,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(s.queryHash!==B4(o,s.options))return!1}else if(!Px(s.queryKey,o))return!1}if(a!=="all"){const c=s.isActive();if(a==="active"&&!c||a==="inactive"&&c)return!1}return!(typeof l=="boolean"&&s.isStale()!==l||n&&n!==s.state.fetchStatus||i&&!i(s))}function BE(t,s){const{exact:a,status:r,predicate:n,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(a){if(cu(s.options.mutationKey)!==cu(i))return!1}else if(!Px(s.options.mutationKey,i))return!1}return!(r&&s.state.status!==r||n&&!n(s))}function B4(t,s){return(s?.queryKeyHashFn||cu)(t)}function cu(t){return JSON.stringify(t,(s,a)=>U_(a)?Object.keys(a).sort().reduce((r,n)=>(r[n]=a[n],r),{}):a)}function Px(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(a=>Px(t[a],s[a])):!1}var Nae=Object.prototype.hasOwnProperty;function j9(t,s){if(t===s)return t;const a=UE(t)&&UE(s);if(!a&&!(U_(t)&&U_(s)))return s;const n=(a?t:Object.keys(t)).length,i=a?s:Object.keys(s),o=i.length,l=a?new Array(o):{};let c=0;for(let m=0;m<o;m++){const d=a?m:i[m],p=t[d],x=s[d];if(p===x){l[d]=p,(a?m<n:Nae.call(t,d))&&c++;continue}if(p===null||x===null||typeof p!="object"||typeof x!="object"){l[d]=x;continue}const j=j9(p,x);l[d]=j,j===p&&c++}return n===o&&c===n?t:l}function _y(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const a in t)if(t[a]!==s[a])return!1;return!0}function UE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function U_(t){if(!VE(t))return!1;const s=t.constructor;if(s===void 0)return!0;const a=s.prototype;return!(!VE(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function VE(t){return Object.prototype.toString.call(t)==="[object Object]"}function _ae(t){return new Promise(s=>{Qd.setTimeout(s,t)})}function V_(t,s,a){return typeof a.structuralSharing=="function"?a.structuralSharing(t,s):a.structuralSharing!==!1?j9(t,s):s}function wae(t,s,a=0){const r=[...t,s];return a&&r.length>a?r.slice(1):r}function Sae(t,s,a=0){const r=[s,...t];return a&&r.length>a?r.slice(0,-1):r}var U4=Symbol();function N9(t,s){return!t.queryFn&&s?.initialPromise?()=>s.initialPromise:!t.queryFn||t.queryFn===U4?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function _9(t,s){return typeof t=="function"?t(...s):!!t}var Cae=class extends kp{#e;#t;#s;constructor(){super(),this.#s=t=>{if(!lu&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},V4=new Cae;function H_(){let t,s;const a=new Promise((n,i)=>{t=n,s=i});a.status="pending",a.catch(()=>{});function r(n){Object.assign(a,n),delete a.resolve,delete a.reject}return a.resolve=n=>{r({status:"fulfilled",value:n}),t(n)},a.reject=n=>{r({status:"rejected",reason:n}),s(n)},a}var Pae=vae;function kae(){let t=[],s=0,a=l=>{l()},r=l=>{l()},n=Pae;const i=l=>{s?t.push(l):n(()=>{a(l)})},o=()=>{const l=t;t=[],l.length&&n(()=>{r(()=>{l.forEach(c=>{a(c)})})})};return{batch:l=>{let c;s++;try{c=l()}finally{s--,s||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{a=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{n=l}}}var Tr=kae(),Eae=class extends kp{#e=!0;#t;#s;constructor(){super(),this.#s=t=>{if(!lu&&window.addEventListener){const s=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(a=>{a(t)}))}isOnline(){return this.#e}},wy=new Eae;function Tae(t){return Math.min(1e3*2**t,3e4)}function w9(t){return(t??"online")==="online"?wy.isOnline():!0}var W_=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function S9(t){let s=!1,a=0,r;const n=H_(),i=()=>n.status!=="pending",o=S=>{if(!i()){const v=new W_(S);x(v),t.onCancel?.(v)}},l=()=>{s=!0},c=()=>{s=!1},m=()=>V4.isFocused()&&(t.networkMode==="always"||wy.isOnline())&&t.canRun(),d=()=>w9(t.networkMode)&&t.canRun(),p=S=>{i()||(r?.(),n.resolve(S))},x=S=>{i()||(r?.(),n.reject(S))},j=()=>new Promise(S=>{r=v=>{(i()||m())&&S(v)},t.onPause?.()}).then(()=>{r=void 0,i()||t.onContinue?.()}),_=()=>{if(i())return;let S;const v=a===0?t.initialPromise:void 0;try{S=v??t.fn()}catch(y){S=Promise.reject(y)}Promise.resolve(S).then(p).catch(y=>{if(i())return;const N=t.retry??(lu?0:3),C=t.retryDelay??Tae,P=typeof C=="function"?C(a,y):C,E=N===!0||typeof N=="number"&&a<N||typeof N=="function"&&N(a,y);if(s||!E){x(y);return}a++,t.onFail?.(a,y),_ae(P).then(()=>m()?void 0:j()).then(()=>{s?x(y):_()})})};return{promise:n,status:()=>n.status,cancel:o,continue:()=>(r?.(),n),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?_():j().then(_),n)}}var C9=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),B_(this.gcTime)&&(this.#e=Qd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(lu?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Qd.clearTimeout(this.#e),this.#e=void 0)}},Mae=class extends C9{#e;#t;#s;#r;#a;#i;#o;constructor(t){super(),this.#o=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#s=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=HE(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=HE(this.options);s.data!==void 0&&(this.setData(s.data,{updatedAt:s.dataUpdatedAt,manual:!0}),this.#e=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(t,s){const a=V_(this.state.data,t,this.options);return this.#n({data:a,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),a}setState(t,s){this.#n({type:"setState",state:t,setStateOptions:s})}cancel(t){const s=this.#a?.promise;return this.#a?.cancel(t),s?s.then(yn).catch(yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>qi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===U4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Bc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!v9(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(this.#a&&(this.#o?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}async fetch(t,s){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const a=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,a.signal)})},n=()=>{const l=N9(this.options,s),m=(()=>{const d={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,m,this):l(m)},o=(()=>{const l={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:n};return r(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#n({type:"fetch",meta:o.fetchOptions?.meta}),this.#a=S9({initialPromise:s?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof W_&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(l,c)=>{this.#n({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#a.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#s.config.onSuccess?.(l,this),this.#s.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof W_){if(l.silent)return this.#a.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#n({type:"error",error:l}),this.#s.config.onError?.(l,this),this.#s.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#n(t){const s=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...P9(a.data,this.options),fetchMeta:t.meta??null};case"success":const r={...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const n=t.error;return{...a,error:n,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=s(this.state),Tr.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:t})})}};function P9(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:w9(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function HE(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,a=s!==void 0,r=a?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var Dae=class extends kp{constructor(t,s){super(),this.options=s,this.#e=t,this.#n=null,this.#o=H_(),this.bindMethods(),this.setOptions(s)}#e;#t=void 0;#s=void 0;#r=void 0;#a;#i;#o;#n;#f;#m;#p;#c;#d;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),WE(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Y_(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Y_(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#j(),this.#t.removeObserver(this)}setOptions(t){const s=this.options,a=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),s._defaulted&&!_y(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&YE(this.#t,a,this.options,s)&&this.#u(),this.updateResult(),r&&(this.#t!==a||qi(this.options.enabled,this.#t)!==qi(s.enabled,this.#t)||Bc(this.options.staleTime,this.#t)!==Bc(s.staleTime,this.#t))&&this.#x();const n=this.#g();r&&(this.#t!==a||qi(this.options.enabled,this.#t)!==qi(s.enabled,this.#t)||n!==this.#l)&&this.#b(n)}getOptimisticResult(t){const s=this.#e.getQueryCache().build(this.#e,t),a=this.createResult(s,t);return Aae(this,a)&&(this.#r=a,this.#i=this.options,this.#a=this.#t.state),a}getCurrentResult(){return this.#r}trackResult(t,s){return new Proxy(t,{get:(a,r)=>(this.trackProp(r),s?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(a,r))})}trackProp(t){this.#h.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=this.#e.defaultQueryOptions(t),a=this.#e.getQueryCache().build(this.#e,s);return a.fetch().then(()=>this.createResult(a,s))}fetch(t){return this.#u({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#u(t){this.#N();let s=this.#t.fetch(this.options,t);return t?.throwOnError||(s=s.catch(yn)),s}#x(){this.#v();const t=Bc(this.options.staleTime,this.#t);if(lu||this.#r.isStale||!B_(t))return;const a=v9(this.#r.dataUpdatedAt,t)+1;this.#c=Qd.setTimeout(()=>{this.#r.isStale||this.updateResult()},a)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(t){this.#j(),this.#l=t,!(lu||qi(this.options.enabled,this.#t)===!1||!B_(this.#l)||this.#l===0)&&(this.#d=Qd.setInterval(()=>{(this.options.refetchIntervalInBackground||V4.isFocused())&&this.#u()},this.#l))}#y(){this.#x(),this.#b(this.#g())}#v(){this.#c&&(Qd.clearTimeout(this.#c),this.#c=void 0)}#j(){this.#d&&(Qd.clearInterval(this.#d),this.#d=void 0)}createResult(t,s){const a=this.#t,r=this.options,n=this.#r,i=this.#a,o=this.#i,c=t!==a?t.state:this.#s,{state:m}=t;let d={...m},p=!1,x;if(s._optimisticResults){const A=this.hasListeners(),I=!A&&WE(t,s),F=A&&YE(t,a,s,r);(I||F)&&(d={...d,...P9(m.data,t.options)}),s._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:j,errorUpdatedAt:_,status:S}=d;x=d.data;let v=!1;if(s.placeholderData!==void 0&&x===void 0&&S==="pending"){let A;n?.isPlaceholderData&&s.placeholderData===o?.placeholderData?(A=n.data,v=!0):A=typeof s.placeholderData=="function"?s.placeholderData(this.#p?.state.data,this.#p):s.placeholderData,A!==void 0&&(S="success",x=V_(n?.data,A,s),p=!0)}if(s.select&&x!==void 0&&!v)if(n&&x===i?.data&&s.select===this.#f)x=this.#m;else try{this.#f=s.select,x=s.select(x),x=V_(n?.data,x,s),this.#m=x,this.#n=null}catch(A){this.#n=A}this.#n&&(j=this.#n,x=this.#m,_=Date.now(),S="error");const y=d.fetchStatus==="fetching",N=S==="pending",C=S==="error",P=N&&y,E=x!==void 0,T={status:S,fetchStatus:d.fetchStatus,isPending:N,isSuccess:S==="success",isError:C,isInitialLoading:P,isLoading:P,data:x,dataUpdatedAt:d.dataUpdatedAt,error:j,errorUpdatedAt:_,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!N,isLoadingError:C&&!E,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:C&&E,isStale:H4(t,s),refetch:this.refetch,promise:this.#o,isEnabled:qi(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=z=>{T.status==="error"?z.reject(T.error):T.data!==void 0&&z.resolve(T.data)},I=()=>{const z=this.#o=T.promise=H_();A(z)},F=this.#o;switch(F.status){case"pending":t.queryHash===a.queryHash&&A(F);break;case"fulfilled":(T.status==="error"||T.data!==F.value)&&I();break;case"rejected":(T.status!=="error"||T.error!==F.reason)&&I();break}}return T}updateResult(){const t=this.#r,s=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#i=this.options,this.#a.data!==void 0&&(this.#p=this.#t),_y(s,t))return;this.#r=s;const a=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,n=typeof r=="function"?r():r;if(n==="all"||!n&&!this.#h.size)return!0;const i=new Set(n??this.#h);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(o=>{const l=o;return this.#r[l]!==t[l]&&i.has(l)})};this.#_({listeners:a()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const s=this.#t;this.#t=t,this.#s=t.state,this.hasListeners()&&(s?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#_(t){Tr.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Rae(t,s){return qi(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function WE(t,s){return Rae(t,s)||t.state.data!==void 0&&Y_(t,s,s.refetchOnMount)}function Y_(t,s,a){if(qi(s.enabled,t)!==!1&&Bc(s.staleTime,t)!=="static"){const r=typeof a=="function"?a(t):a;return r==="always"||r!==!1&&H4(t,s)}return!1}function YE(t,s,a,r){return(t!==s||qi(r.enabled,t)===!1)&&(!a.suspense||t.state.status!=="error")&&H4(t,a)}function H4(t,s){return qi(s.enabled,t)!==!1&&t.isStaleByTime(Bc(s.staleTime,t))}function Aae(t,s){return!_y(t.getCurrentResult(),s)}function GE(t){return{onFetch:(s,a)=>{const r=s.options,n=s.fetchOptions?.meta?.fetchMore?.direction,i=s.state.data?.pages||[],o=s.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const m=async()=>{let d=!1;const p=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(s.signal.aborted?d=!0:s.signal.addEventListener("abort",()=>{d=!0}),s.signal)})},x=N9(s.options,s.fetchOptions),j=async(_,S,v)=>{if(d)return Promise.reject();if(S==null&&_.pages.length)return Promise.resolve(_);const N=(()=>{const D={client:s.client,queryKey:s.queryKey,pageParam:S,direction:v?"backward":"forward",meta:s.options.meta};return p(D),D})(),C=await x(N),{maxPages:P}=s.options,E=v?Sae:wae;return{pages:E(_.pages,C,P),pageParams:E(_.pageParams,S,P)}};if(n&&i.length){const _=n==="backward",S=_?Iae:KE,v={pages:i,pageParams:o},y=S(r,v);l=await j(v,y,_)}else{const _=t??i.length;do{const S=c===0?o[0]??r.initialPageParam:KE(r,l);if(c>0&&S==null)break;l=await j(l,S),c++}while(c<_)}return l};s.options.persister?s.fetchFn=()=>s.options.persister?.(m,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},a):s.fetchFn=m}}}function KE(t,{pages:s,pageParams:a}){const r=s.length-1;return s.length>0?t.getNextPageParam(s[r],s,a[r],a):void 0}function Iae(t,{pages:s,pageParams:a}){return s.length>0?t.getPreviousPageParam?.(s[0],s,a[0],a):void 0}var Oae=class extends C9{#e;#t;#s;#r;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#s=t.mutationCache,this.#t=[],this.state=t.state||k9(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(s=>s!==t),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const s=()=>{this.#a({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=S9({fn:()=>this.options.mutationFn?this.options.mutationFn(t,a):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#a({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#a({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)s();else{this.#a({type:"pending",variables:t,isPaused:n}),await this.#s.config.onMutate?.(t,this,a);const o=await this.options.onMutate?.(t,a);o!==this.state.context&&this.#a({type:"pending",context:o,variables:t,isPaused:n})}const i=await this.#r.start();return await this.#s.config.onSuccess?.(i,t,this.state.context,this,a),await this.options.onSuccess?.(i,t,this.state.context,a),await this.#s.config.onSettled?.(i,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(i,null,t,this.state.context,a),this.#a({type:"success",data:i}),i}catch(i){try{throw await this.#s.config.onError?.(i,t,this.state.context,this,a),await this.options.onError?.(i,t,this.state.context,a),await this.#s.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,i,t,this.state.context,a),i}finally{this.#a({type:"error",error:i})}}finally{this.#s.runNext(this)}}#a(t){const s=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Tr.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(t)}),this.#s.notify({mutation:this,type:"updated",action:t})})}};function k9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fae=class extends kp{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(t,s,a){const r=new Oae({client:t,mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(s),state:a});return this.add(r),r}add(t){this.#e.add(t);const s=lb(t);if(typeof s=="string"){const a=this.#t.get(s);a?a.push(t):this.#t.set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const s=lb(t);if(typeof s=="string"){const a=this.#t.get(s);if(a)if(a.length>1){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}else a[0]===t&&this.#t.delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=lb(t);if(typeof s=="string"){const r=this.#t.get(s)?.find(n=>n.state.status==="pending");return!r||r===t}else return!0}runNext(t){const s=lb(t);return typeof s=="string"?this.#t.get(s)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Tr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const s={exact:!0,...t};return this.getAll().find(a=>BE(s,a))}findAll(t={}){return this.getAll().filter(s=>BE(t,s))}notify(t){Tr.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Tr.batch(()=>Promise.all(t.map(s=>s.continue().catch(yn))))}};function lb(t){return t.options.scope?.id}var Lae=class extends kp{#e;#t=void 0;#s;#r;constructor(s,a){super(),this.#e=s,this.setOptions(a),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){const a=this.options;this.options=this.#e.defaultMutationOptions(s),_y(this.options,a)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),a?.mutationKey&&this.options.mutationKey&&cu(a.mutationKey)!==cu(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(s){this.#a(),this.#i(s)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#i()}mutate(s,a){return this.#r=a,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(s)}#a(){const s=this.#s?.state??k9();this.#t={...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset}}#i(s){Tr.batch(()=>{if(this.#r&&this.hasListeners()){const a=this.#t.variables,r=this.#t.context,n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};s?.type==="success"?(this.#r.onSuccess?.(s.data,a,r,n),this.#r.onSettled?.(s.data,null,a,r,n)):s?.type==="error"&&(this.#r.onError?.(s.error,a,r,n),this.#r.onSettled?.(void 0,s.error,a,r,n))}this.listeners.forEach(a=>{a(this.#t)})})}},$ae=class extends kp{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,s,a){const r=s.queryKey,n=s.queryHash??B4(r,s);let i=this.get(n);return i||(i=new Mae({client:t,queryKey:r,queryHash:n,options:t.defaultQueryOptions(s),state:a,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=this.#e.get(t.queryHash);s&&(t.destroy(),s===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const s={exact:!0,...t};return this.getAll().find(a=>qE(s,a))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(a=>qE(t,a)):s}notify(t){Tr.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},zae=class{#e;#t;#s;#r;#a;#i;#o;#n;constructor(t={}){this.#e=t.queryCache||new $ae,this.#t=t.mutationCache||new Fae,this.#s=t.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=V4.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#n=wy.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#n?.(),this.#n=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),a=this.#e.build(this,s),r=a.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&a.isStaleByTime(Bc(s.staleTime,a))&&this.prefetchQuery(s),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:s,state:a})=>{const r=a.data;return[s,r]})}setQueryData(t,s,a){const r=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(r.queryHash)?.state.data,o=jae(s,i);if(o!==void 0)return this.#e.build(this,r).setData(o,{...a,manual:!0})}setQueriesData(t,s,a){return Tr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,s,a)]))}getQueryState(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state}removeQueries(t){const s=this.#e;Tr.batch(()=>{s.findAll(t).forEach(a=>{s.remove(a)})})}resetQueries(t,s){const a=this.#e;return Tr.batch(()=>(a.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const a={revert:!0,...s},r=Tr.batch(()=>this.#e.findAll(t).map(n=>n.cancel(a)));return Promise.all(r).then(yn).catch(yn)}invalidateQueries(t,s={}){return Tr.batch(()=>(this.#e.findAll(t).forEach(a=>{a.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},s)))}refetchQueries(t,s={}){const a={...s,cancelRefetch:s.cancelRefetch??!0},r=Tr.batch(()=>this.#e.findAll(t).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,a);return a.throwOnError||(i=i.catch(yn)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(yn)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const a=this.#e.build(this,s);return a.isStaleByTime(Bc(s.staleTime,a))?a.fetch(s):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(yn).catch(yn)}fetchInfiniteQuery(t){return t.behavior=GE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(yn).catch(yn)}ensureInfiniteQueryData(t){return t.behavior=GE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return wy.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,s){this.#r.set(cu(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...this.#r.values()],a={};return s.forEach(r=>{Px(t,r.queryKey)&&Object.assign(a,r.defaultOptions)}),a}setMutationDefaults(t,s){this.#a.set(cu(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...this.#a.values()],a={};return s.forEach(r=>{Px(t,r.mutationKey)&&Object.assign(a,r.defaultOptions)}),a}defaultQueryOptions(t){if(t._defaulted)return t;const s={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=B4(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===U4&&(s.enabled=!1),s}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},E9=g.createContext(void 0),is=t=>{const s=g.useContext(E9);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},qae=({client:t,children:s})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(E9.Provider,{value:t,children:s})),T9=g.createContext(!1),Bae=()=>g.useContext(T9);T9.Provider;function Uae(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Vae=g.createContext(Uae()),Hae=()=>g.useContext(Vae),Wae=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},Yae=t=>{g.useEffect(()=>{t.clearReset()},[t])},Gae=({result:t,errorResetBoundary:s,throwOnError:a,query:r,suspense:n})=>t.isError&&!s.isReset()&&!t.isFetching&&r&&(n&&t.data===void 0||_9(a,[t.error,r])),Kae=t=>{if(t.suspense){const a=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>a(r(...n)):a(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Qae=(t,s)=>t.isLoading&&t.isFetching&&!s,Zae=(t,s)=>t?.suspense&&s.isPending,QE=(t,s,a)=>s.fetchOptimistic(t).catch(()=>{a.clearReset()});function Xae(t,s,a){const r=Bae(),n=Hae(),i=is(),o=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",Kae(o),Wae(o,n),Yae(n);const l=!i.getQueryCache().get(o.queryHash),[c]=g.useState(()=>new s(i,o)),m=c.getOptimisticResult(o),d=!r&&t.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(p=>{const x=d?c.subscribe(Tr.batchCalls(p)):yn;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(o)},[o,c]),Zae(o,m))throw QE(o,c,n);if(Gae({result:m,errorResetBoundary:n,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw m.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,m),o.experimental_prefetchInRender&&!lu&&Qae(m,r)&&(l?QE(o,c,n):i.getQueryCache().get(o.queryHash)?.promise)?.catch(yn).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?m:c.trackResult(m)}function st(t,s){return Xae(t,Dae)}function Nu(t,s){const a=is(),[r]=g.useState(()=>new Lae(a,t));g.useEffect(()=>{r.setOptions(t)},[r,t]);const n=g.useSyncExternalStore(g.useCallback(o=>r.subscribe(Tr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=g.useCallback((o,l)=>{r.mutate(o,l).catch(yn)},[r]);if(n.error&&_9(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}function Jae(t){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}Jae(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var yg=t=>typeof t=="number"&&!isNaN(t),du=t=>typeof t=="string",Zl=t=>typeof t=="function",ere=t=>du(t)||yg(t),G_=t=>du(t)||Zl(t)?t:null,tre=(t,s)=>t===!1||yg(t)&&t>0?t:s,K_=t=>g.isValidElement(t)||du(t)||Zl(t)||yg(t);function sre(t,s,a=300){let{scrollHeight:r,style:n}=t;requestAnimationFrame(()=>{n.minHeight="initial",n.height=r+"px",n.transition=`all ${a}ms`,requestAnimationFrame(()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(s,a)})})}function are({enter:t,exit:s,appendPosition:a=!1,collapse:r=!0,collapseDuration:n=300}){return function({children:i,position:o,preventExitTransition:l,done:c,nodeRef:m,isIn:d,playToast:p}){let x=a?`${t}--${o}`:t,j=a?`${s}--${o}`:s,_=g.useRef(0);return g.useLayoutEffect(()=>{let S=m.current,v=x.split(" "),y=N=>{N.target===m.current&&(p(),S.removeEventListener("animationend",y),S.removeEventListener("animationcancel",y),_.current===0&&N.type!=="animationcancel"&&S.classList.remove(...v))};S.classList.add(...v),S.addEventListener("animationend",y),S.addEventListener("animationcancel",y)},[]),g.useEffect(()=>{let S=m.current,v=()=>{S.removeEventListener("animationend",v),r?sre(S,c,n):c()};d||(l?v():(_.current=1,S.className+=` ${j}`,S.addEventListener("animationend",v)))},[d]),yt.createElement(yt.Fragment,null,i)}}function ZE(t,s){return{content:M9(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:s}}function M9(t,s,a=!1){return g.isValidElement(t)&&!du(t.type)?g.cloneElement(t,{closeToast:s.closeToast,toastProps:s,data:s.data,isPaused:a}):Zl(t)?t({closeToast:s.closeToast,toastProps:s,data:s.data,isPaused:a}):t}function rre({closeToast:t,theme:s,ariaLabel:a="close"}){return yt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${s}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":a},yt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},yt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function nre({delay:t,isRunning:s,closeToast:a,type:r="default",hide:n,className:i,controlledProgress:o,progress:l,rtl:c,isIn:m,theme:d}){let p=n||o&&l===0,x={animationDuration:`${t}ms`,animationPlayState:s?"running":"paused"};o&&(x.transform=`scaleX(${l})`);let j=Je("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),_=Zl(i)?i({rtl:c,type:r,defaultClassName:j}):Je(j,i),S={[o&&l>=1?"onTransitionEnd":"onAnimationEnd"]:o&&l<1?null:()=>{m&&a()}};return yt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},yt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),yt.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:_,style:x,...S}))}var ire=1,D9=()=>`${ire++}`;function ore(t,s,a){let r=1,n=0,i=[],o=[],l=s,c=new Map,m=new Set,d=N=>(m.add(N),()=>m.delete(N)),p=()=>{o=Array.from(c.values()),m.forEach(N=>N())},x=({containerId:N,toastId:C,updateId:P})=>{let E=N?N!==t:t!==1,D=c.has(C)&&P==null;return E||D},j=(N,C)=>{c.forEach(P=>{var E;(C==null||C===P.props.toastId)&&((E=P.toggle)==null||E.call(P,N))})},_=N=>{var C,P;(P=(C=N.props)==null?void 0:C.onClose)==null||P.call(C,N.removalReason),N.isActive=!1},S=N=>{if(N==null)c.forEach(_);else{let C=c.get(N);C&&_(C)}p()},v=()=>{n-=i.length,i=[]},y=N=>{var C,P;let{toastId:E,updateId:D}=N.props,T=D==null;N.staleId&&c.delete(N.staleId),N.isActive=!0,c.set(E,N),p(),a(ZE(N,T?"added":"updated")),T&&((P=(C=N.props).onOpen)==null||P.call(C))};return{id:t,props:l,observe:d,toggle:j,removeToast:S,toasts:c,clearQueue:v,buildToast:(N,C)=>{if(x(C))return;let{toastId:P,updateId:E,data:D,staleId:T,delay:A}=C,I=E==null;I&&n++;let F={...l,style:l.toastStyle,key:r++,...Object.fromEntries(Object.entries(C).filter(([O,K])=>K!=null)),toastId:P,updateId:E,data:D,isIn:!1,className:G_(C.className||l.toastClassName),progressClassName:G_(C.progressClassName||l.progressClassName),autoClose:C.isLoading?!1:tre(C.autoClose,l.autoClose),closeToast(O){c.get(P).removalReason=O,S(P)},deleteToast(){let O=c.get(P);if(O!=null){if(a(ZE(O,"removed")),c.delete(P),n--,n<0&&(n=0),i.length>0){y(i.shift());return}p()}}};F.closeButton=l.closeButton,C.closeButton===!1||K_(C.closeButton)?F.closeButton=C.closeButton:C.closeButton===!0&&(F.closeButton=K_(l.closeButton)?l.closeButton:!0);let z={content:N,props:F,staleId:T};l.limit&&l.limit>0&&n>l.limit&&I?i.push(z):yg(A)?setTimeout(()=>{y(z)},A):y(z)},setProps(N){l=N},setToggle:(N,C)=>{let P=c.get(N);P&&(P.toggle=C)},isToastActive:N=>{var C;return(C=c.get(N))==null?void 0:C.isActive},getSnapshot:()=>o}}var jn=new Map,kx=[],Q_=new Set,lre=t=>Q_.forEach(s=>s(t)),R9=()=>jn.size>0;function cre(){kx.forEach(t=>I9(t.content,t.options)),kx=[]}var dre=(t,{containerId:s})=>{var a;return(a=jn.get(s||1))==null?void 0:a.toasts.get(t)};function A9(t,s){var a;if(s)return!!((a=jn.get(s))!=null&&a.isToastActive(t));let r=!1;return jn.forEach(n=>{n.isToastActive(t)&&(r=!0)}),r}function ure(t){if(!R9()){kx=kx.filter(s=>t!=null&&s.options.toastId!==t);return}if(t==null||ere(t))jn.forEach(s=>{s.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let s=jn.get(t.containerId);s?s.removeToast(t.id):jn.forEach(a=>{a.removeToast(t.id)})}}var mre=(t={})=>{jn.forEach(s=>{s.props.limit&&(!t.containerId||s.id===t.containerId)&&s.clearQueue()})};function I9(t,s){K_(t)&&(R9()||kx.push({content:t,options:s}),jn.forEach(a=>{a.buildToast(t,s)}))}function pre(t){var s;(s=jn.get(t.containerId||1))==null||s.setToggle(t.id,t.fn)}function O9(t,s){jn.forEach(a=>{(s==null||!(s!=null&&s.containerId)||s?.containerId===a.id)&&a.toggle(t,s?.id)})}function hre(t){let s=t.containerId||1;return{subscribe(a){let r=ore(s,t,lre);jn.set(s,r);let n=r.observe(a);return cre(),()=>{n(),jn.delete(s)}},setProps(a){var r;(r=jn.get(s))==null||r.setProps(a)},getSnapshot(){var a;return(a=jn.get(s))==null?void 0:a.getSnapshot()}}}function fre(t){return Q_.add(t),()=>{Q_.delete(t)}}function xre(t){return t&&(du(t.toastId)||yg(t.toastId))?t.toastId:D9()}function vg(t,s){return I9(t,s),s.toastId}function Rv(t,s){return{...s,type:s&&s.type||t,toastId:xre(s)}}function Av(t){return(s,a)=>vg(s,Rv(t,a))}function It(t,s){return vg(t,Rv("default",s))}It.loading=(t,s)=>vg(t,Rv("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...s}));function gre(t,{pending:s,error:a,success:r},n){let i;s&&(i=du(s)?It.loading(s,n):It.loading(s.render,{...n,...s}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(m,d,p)=>{if(d==null){It.dismiss(i);return}let x={type:m,...o,...n,data:p},j=du(d)?{render:d}:d;return i?It.update(i,{...x,...j}):It(j.render,{...x,...j}),p},c=Zl(t)?t():t;return c.then(m=>l("success",r,m)).catch(m=>l("error",a,m)),c}It.promise=gre;It.success=Av("success");It.info=Av("info");It.error=Av("error");It.warning=Av("warning");It.warn=It.warning;It.dark=(t,s)=>vg(t,Rv("default",{theme:"dark",...s}));function bre(t){ure(t)}It.dismiss=bre;It.clearWaitingQueue=mre;It.isActive=A9;It.update=(t,s={})=>{let a=dre(t,s);if(a){let{props:r,content:n}=a,i={delay:100,...r,...s,toastId:s.toastId||t,updateId:D9()};i.toastId!==t&&(i.staleId=t);let o=i.render||n;delete i.render,vg(o,i)}};It.done=t=>{It.update(t,{progress:1})};It.onChange=fre;It.play=t=>O9(!0,t);It.pause=t=>O9(!1,t);function yre(t){var s;let{subscribe:a,getSnapshot:r,setProps:n}=g.useRef(hre(t)).current;n(t);let i=(s=g.useSyncExternalStore(a,r,r))==null?void 0:s.slice();function o(l){if(!i)return[];let c=new Map;return t.newestOnTop&&i.reverse(),i.forEach(m=>{let{position:d}=m.props;c.has(d)||c.set(d,[]),c.get(d).push(m)}),Array.from(c,m=>l(m[0],m[1]))}return{getToastToRender:o,isToastActive:A9,count:i?.length}}function vre(t){let[s,a]=g.useState(!1),[r,n]=g.useState(!1),i=g.useRef(null),o=g.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:m,onClick:d,closeOnClick:p}=t;pre({id:t.toastId,containerId:t.containerId,fn:a}),g.useEffect(()=>{if(t.pauseOnFocusLoss)return x(),()=>{j()}},[t.pauseOnFocusLoss]);function x(){document.hasFocus()||y(),window.addEventListener("focus",v),window.addEventListener("blur",y)}function j(){window.removeEventListener("focus",v),window.removeEventListener("blur",y)}function _(T){if(t.draggable===!0||t.draggable===T.pointerType){N();let A=i.current;o.canCloseOnClick=!0,o.canDrag=!0,A.style.transition="none",t.draggableDirection==="x"?(o.start=T.clientX,o.removalDistance=A.offsetWidth*(t.draggablePercent/100)):(o.start=T.clientY,o.removalDistance=A.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function S(T){let{top:A,bottom:I,left:F,right:z}=i.current.getBoundingClientRect();T.nativeEvent.type!=="touchend"&&t.pauseOnHover&&T.clientX>=F&&T.clientX<=z&&T.clientY>=A&&T.clientY<=I?y():v()}function v(){a(!0)}function y(){a(!1)}function N(){o.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",E)}function C(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",E)}function P(T){let A=i.current;if(o.canDrag&&A){o.didMove=!0,s&&y(),t.draggableDirection==="x"?o.delta=T.clientX-o.start:o.delta=T.clientY-o.start,o.start!==T.clientX&&(o.canCloseOnClick=!1);let I=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;A.style.transform=`translate3d(${I},0)`,A.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function E(){C();let T=i.current;if(o.canDrag&&o.didMove&&T){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){n(!0),t.closeToast(!0),t.collapseAll();return}T.style.transition="transform 0.2s, opacity 0.2s",T.style.removeProperty("transform"),T.style.removeProperty("opacity")}}let D={onPointerDown:_,onPointerUp:S};return l&&c&&(D.onMouseEnter=y,t.stacked||(D.onMouseLeave=v)),p&&(D.onClick=T=>{d&&d(T),o.canCloseOnClick&&m(!0)}),{playToast:v,pauseToast:y,isRunning:s,preventExitTransition:r,toastRef:i,eventHandlers:D}}var jre=typeof window<"u"?g.useLayoutEffect:g.useEffect,Iv=({theme:t,type:s,isLoading:a,...r})=>yt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${s})`,...r});function Nre(t){return yt.createElement(Iv,{...t},yt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function _re(t){return yt.createElement(Iv,{...t},yt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function wre(t){return yt.createElement(Iv,{...t},yt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Sre(t){return yt.createElement(Iv,{...t},yt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Cre(){return yt.createElement("div",{className:"Toastify__spinner"})}var Z_={info:_re,warning:Nre,success:wre,error:Sre,spinner:Cre},Pre=t=>t in Z_;function kre({theme:t,type:s,isLoading:a,icon:r}){let n=null,i={theme:t,type:s};return r===!1||(Zl(r)?n=r({...i,isLoading:a}):g.isValidElement(r)?n=g.cloneElement(r,i):a?n=Z_.spinner():Pre(s)&&(n=Z_[s](i))),n}var Ere=t=>{let{isRunning:s,preventExitTransition:a,toastRef:r,eventHandlers:n,playToast:i}=vre(t),{closeButton:o,children:l,autoClose:c,onClick:m,type:d,hideProgressBar:p,closeToast:x,transition:j,position:_,className:S,style:v,progressClassName:y,updateId:N,role:C,progress:P,rtl:E,toastId:D,deleteToast:T,isIn:A,isLoading:I,closeOnClick:F,theme:z,ariaLabel:O}=t,K=Je("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":F}),W=Zl(S)?S({rtl:E,position:_,type:d,defaultClassName:K}):Je(K,S),B=kre(t),q=!!P||!c,H={closeToast:x,type:d,theme:z},Q=null;return o===!1||(Zl(o)?Q=o(H):g.isValidElement(o)?Q=g.cloneElement(o,H):Q=rre(H)),yt.createElement(j,{isIn:A,done:T,position:_,preventExitTransition:a,nodeRef:r,playToast:i},yt.createElement("div",{id:D,tabIndex:0,onClick:m,"data-in":A,className:W,...n,style:v,ref:r,...A&&{role:C,"aria-label":O}},B!=null&&yt.createElement("div",{className:Je("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},B),M9(l,t,!s),Q,!t.customProgressBar&&yt.createElement(nre,{...N&&!q?{key:`p-${N}`}:{},rtl:E,theme:z,delay:c,isRunning:s,isIn:A,closeToast:x,hide:p,type:d,className:y,controlledProgress:q,progress:P||0})))},Tre=(t,s=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:s}),Mre=are(Tre("bounce",!0)),Dre={position:"top-right",transition:Mre,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function Rre(t){let s={...Dre,...t},a=t.stacked,[r,n]=g.useState(!0),i=g.useRef(null),{getToastToRender:o,isToastActive:l,count:c}=yre(s),{className:m,style:d,rtl:p,containerId:x,hotKeys:j}=s;function _(v){let y=Je("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":p});return Zl(m)?m({position:v,rtl:p,defaultClassName:y}):Je(y,G_(m))}function S(){a&&(n(!0),It.play())}return jre(()=>{var v;if(a){let y=i.current.querySelectorAll('[data-in="true"]'),N=12,C=(v=s.position)==null?void 0:v.includes("top"),P=0,E=0;Array.from(y).reverse().forEach((D,T)=>{let A=D;A.classList.add("Toastify__toast--stacked"),T>0&&(A.dataset.collapsed=`${r}`),A.dataset.pos||(A.dataset.pos=C?"top":"bot");let I=P*(r?.2:1)+(r?0:N*T);A.style.setProperty("--y",`${C?I:I*-1}px`),A.style.setProperty("--g",`${N}`),A.style.setProperty("--s",`${1-(r?E:0)}`),P+=A.offsetHeight,E+=.025})}},[r,c,a]),g.useEffect(()=>{function v(y){var N;let C=i.current;j(y)&&((N=C.querySelector('[tabIndex="0"]'))==null||N.focus(),n(!1),It.pause()),y.key==="Escape"&&(document.activeElement===C||C!=null&&C.contains(document.activeElement))&&(n(!0),It.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[j]),yt.createElement("section",{ref:i,className:"Toastify",id:x,onMouseEnter:()=>{a&&(n(!1),It.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":s["aria-label"]},o((v,y)=>{let N=y.length?{...d}:{...d,pointerEvents:"none"};return yt.createElement("div",{tabIndex:-1,className:_(v),"data-stacked":a,style:N,key:`c-${v}`},y.map(({content:C,props:P})=>yt.createElement(Ere,{...P,stacked:a,collapseAll:S,isIn:l(P.toastId,P.containerId),key:`t-${P.key}`},C)))}))}const Td={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0},Uo=new Map,F9=5e3;function W4(t,s){return`${s}:${t.toLowerCase().trim()}`}function cb(t,s){const a=W4(t,s),r=Uo.get(a);return r?Date.now()-r.timestamp<F9:!1}function db(t,s,a){const r=W4(t,s);Uo.set(r,{id:a,timestamp:Date.now()})}function ub(t,s){const a=W4(t,s);Uo.delete(a)}function mb(){const t=Date.now(),s=[];Uo.forEach((a,r)=>{t-a.timestamp>F9&&s.push(r)}),s.forEach(a=>Uo.delete(a))}class Are{success(s,a){if(cb(s,"success"))return null;mb();const r=It.success(s,{...Td,...a,onClose:()=>{ub(s,"success"),a?.onClose?.()}});return db(s,"success",r),r}error(s,a){if(cb(s,"error"))return null;mb();const r=It.error(s,{...Td,...a,onClose:()=>{ub(s,"error"),a?.onClose?.()}});return db(s,"error",r),r}warning(s,a){if(cb(s,"warning"))return null;mb();const r=It.warning(s,{...Td,...a,onClose:()=>{ub(s,"warning"),a?.onClose?.()}});return db(s,"warning",r),r}info(s,a){if(cb(s,"info"))return null;mb();const r=It.info(s,{...Td,...a,onClose:()=>{ub(s,"info"),a?.onClose?.()}});return db(s,"info",r),r}loading(s="Loading...",a){return It.loading(s,{...Td,...a})}update(s,a,r,n){It.update(s,{render:a,type:r,isLoading:!1,...Td,...n})}dismiss(s){if(It.dismiss(s),s){for(const[a,r]of Uo.entries())if(r.id===s){Uo.delete(a);break}}}dismissAll(){It.dismiss(),Uo.clear()}clearNetworkErrorToasts(){const s=[],a=[];Uo.forEach((r,n)=>{const i=n.toLowerCase();(i.includes("network")||i.includes("connection")||i.includes("server")||i.includes("unable to reach"))&&(s.push(r.id),a.push(n))}),s.forEach(r=>It.dismiss(r)),a.forEach(r=>Uo.delete(r))}async promise(s,a,r){return It.promise(s,a,{...Td,...r})}async apiOperation(s,a,r){const n=this.loading(a.loading,r);try{const i=await s(),o=typeof a.success=="function"?a.success(i):a.success;return this.update(n,o,"success",r),i}catch(i){const o=a.error?typeof a.error=="function"?a.error(i):a.error:i.message||"Operation failed";throw this.update(n,o,"error",r),i}}}const on=new Are,Te=t=>{const s=is();return Nu({mutationFn:t.mutationFn,onMutate:()=>({toastId:on.loading(t.loadingMessage)}),onSuccess:(r,n,i)=>{if(i?.toastId){let o="Operation completed successfully!";r&&typeof r=="object"&&("message"in r&&typeof r.message=="string"?o=r.message:"data"in r&&r.data&&typeof r.data=="object"&&"message"in r.data&&(o=r.data.message)),on.update(i.toastId,o,"success")}t.invalidateQueries&&t.invalidateQueries.forEach(o=>{s.invalidateQueries({queryKey:Array.isArray(o)?o:[o]})}),t.onSuccess?.(r,n)},onError:(r,n,i)=>{if(i?.toastId&&!t.suppressErrorToast){if(r?.response?.status===401){on.dismiss(i.toastId),t.onError?.(r,n);return}let l="Operation failed";const c=r?.response||r?.originalError?.response;if(c?.data){const m=c.data;l=m.error||m.message||l}else r?.message&&(l=r.message);on.update(i.toastId,l,"error")}else i?.toastId&&t.suppressErrorToast&&on.dismiss(i.toastId);t.onError?.(r,n)}})};function L9(t,s){return function(){return t.apply(s,arguments)}}const{toString:Ire}=Object.prototype,{getPrototypeOf:Y4}=Object,{iterator:Ov,toStringTag:$9}=Symbol,Fv=(t=>s=>{const a=Ire.call(s);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),So=t=>(t=t.toLowerCase(),s=>Fv(s)===t),Lv=t=>s=>typeof s===t,{isArray:Ep}=Array,op=Lv("undefined");function jg(t){return t!==null&&!op(t)&&t.constructor!==null&&!op(t.constructor)&&qn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const z9=So("ArrayBuffer");function Ore(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&z9(t.buffer),s}const Fre=Lv("string"),qn=Lv("function"),q9=Lv("number"),Ng=t=>t!==null&&typeof t=="object",Lre=t=>t===!0||t===!1,Xb=t=>{if(Fv(t)!=="object")return!1;const s=Y4(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!($9 in t)&&!(Ov in t)},$re=t=>{if(!Ng(t)||jg(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},zre=So("Date"),qre=So("File"),Bre=So("Blob"),Ure=So("FileList"),Vre=t=>Ng(t)&&qn(t.pipe),Hre=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||qn(t.append)&&((s=Fv(t))==="formdata"||s==="object"&&qn(t.toString)&&t.toString()==="[object FormData]"))},Wre=So("URLSearchParams"),[Yre,Gre,Kre,Qre]=["ReadableStream","Request","Response","Headers"].map(So),Zre=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _g(t,s,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let r,n;if(typeof t!="object"&&(t=[t]),Ep(t))for(r=0,n=t.length;r<n;r++)s.call(null,t[r],r,t);else{if(jg(t))return;const i=a?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(r=0;r<o;r++)l=i[r],s.call(null,t[l],l,t)}}function B9(t,s){if(jg(t))return null;s=s.toLowerCase();const a=Object.keys(t);let r=a.length,n;for(;r-- >0;)if(n=a[r],s===n.toLowerCase())return n;return null}const Zd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,U9=t=>!op(t)&&t!==Zd;function X_(){const{caseless:t,skipUndefined:s}=U9(this)&&this||{},a={},r=(n,i)=>{const o=t&&B9(a,i)||i;Xb(a[o])&&Xb(n)?a[o]=X_(a[o],n):Xb(n)?a[o]=X_({},n):Ep(n)?a[o]=n.slice():(!s||!op(n))&&(a[o]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&_g(arguments[n],r);return a}const Xre=(t,s,a,{allOwnKeys:r}={})=>(_g(s,(n,i)=>{a&&qn(n)?t[i]=L9(n,a):t[i]=n},{allOwnKeys:r}),t),Jre=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ene=(t,s,a,r)=>{t.prototype=Object.create(s.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),a&&Object.assign(t.prototype,a)},tne=(t,s,a,r)=>{let n,i,o;const l={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)o=n[i],(!r||r(o,t,s))&&!l[o]&&(s[o]=t[o],l[o]=!0);t=a!==!1&&Y4(t)}while(t&&(!a||a(t,s))&&t!==Object.prototype);return s},sne=(t,s,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=s.length;const r=t.indexOf(s,a);return r!==-1&&r===a},ane=t=>{if(!t)return null;if(Ep(t))return t;let s=t.length;if(!q9(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=t[s];return a},rne=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&Y4(Uint8Array)),nne=(t,s)=>{const r=(t&&t[Ov]).call(t);let n;for(;(n=r.next())&&!n.done;){const i=n.value;s.call(t,i[0],i[1])}},ine=(t,s)=>{let a;const r=[];for(;(a=t.exec(s))!==null;)r.push(a);return r},one=So("HTMLFormElement"),lne=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),XE=(({hasOwnProperty:t})=>(s,a)=>t.call(s,a))(Object.prototype),cne=So("RegExp"),V9=(t,s)=>{const a=Object.getOwnPropertyDescriptors(t),r={};_g(a,(n,i)=>{let o;(o=s(n,i,t))!==!1&&(r[i]=o||n)}),Object.defineProperties(t,r)},dne=t=>{V9(t,(s,a)=>{if(qn(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=t[a];if(qn(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},une=(t,s)=>{const a={},r=n=>{n.forEach(i=>{a[i]=!0})};return Ep(t)?r(t):r(String(t).split(s)),a},mne=()=>{},pne=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function hne(t){return!!(t&&qn(t.append)&&t[$9]==="FormData"&&t[Ov])}const fne=t=>{const s=new Array(10),a=(r,n)=>{if(Ng(r)){if(s.indexOf(r)>=0)return;if(jg(r))return r;if(!("toJSON"in r)){s[n]=r;const i=Ep(r)?[]:{};return _g(r,(o,l)=>{const c=a(o,n+1);!op(c)&&(i[l]=c)}),s[n]=void 0,i}}return r};return a(t,0)},xne=So("AsyncFunction"),gne=t=>t&&(Ng(t)||qn(t))&&qn(t.then)&&qn(t.catch),H9=((t,s)=>t?setImmediate:s?((a,r)=>(Zd.addEventListener("message",({source:n,data:i})=>{n===Zd&&i===a&&r.length&&r.shift()()},!1),n=>{r.push(n),Zd.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",qn(Zd.postMessage)),bne=typeof queueMicrotask<"u"?queueMicrotask.bind(Zd):typeof process<"u"&&process.nextTick||H9,yne=t=>t!=null&&qn(t[Ov]),tt={isArray:Ep,isArrayBuffer:z9,isBuffer:jg,isFormData:Hre,isArrayBufferView:Ore,isString:Fre,isNumber:q9,isBoolean:Lre,isObject:Ng,isPlainObject:Xb,isEmptyObject:$re,isReadableStream:Yre,isRequest:Gre,isResponse:Kre,isHeaders:Qre,isUndefined:op,isDate:zre,isFile:qre,isBlob:Bre,isRegExp:cne,isFunction:qn,isStream:Vre,isURLSearchParams:Wre,isTypedArray:rne,isFileList:Ure,forEach:_g,merge:X_,extend:Xre,trim:Zre,stripBOM:Jre,inherits:ene,toFlatObject:tne,kindOf:Fv,kindOfTest:So,endsWith:sne,toArray:ane,forEachEntry:nne,matchAll:ine,isHTMLForm:one,hasOwnProperty:XE,hasOwnProp:XE,reduceDescriptors:V9,freezeMethods:dne,toObjectSet:une,toCamelCase:lne,noop:mne,toFiniteNumber:pne,findKey:B9,global:Zd,isContextDefined:U9,isSpecCompliantForm:hne,toJSONObject:fne,isAsyncFn:xne,isThenable:gne,setImmediate:H9,asap:bne,isIterable:yne};function Os(t,s,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}tt.inherits(Os,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:tt.toJSONObject(this.config),code:this.code,status:this.status}}});const W9=Os.prototype,Y9={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Y9[t]={value:t}});Object.defineProperties(Os,Y9);Object.defineProperty(W9,"isAxiosError",{value:!0});Os.from=(t,s,a,r,n,i)=>{const o=Object.create(W9);tt.toFlatObject(t,o,function(d){return d!==Error.prototype},m=>m!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=s==null&&t?t.code:s;return Os.call(o,l,c,a,r,n),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const vne=null;function J_(t){return tt.isPlainObject(t)||tt.isArray(t)}function G9(t){return tt.endsWith(t,"[]")?t.slice(0,-2):t}function JE(t,s,a){return t?t.concat(s).map(function(n,i){return n=G9(n),!a&&i?"["+n+"]":n}).join(a?".":""):s}function jne(t){return tt.isArray(t)&&!t.some(J_)}const Nne=tt.toFlatObject(tt,{},null,function(s){return/^is[A-Z]/.test(s)});function $v(t,s,a){if(!tt.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,a=tt.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,v){return!tt.isUndefined(v[S])});const r=a.metaTokens,n=a.visitor||d,i=a.dots,o=a.indexes,c=(a.Blob||typeof Blob<"u"&&Blob)&&tt.isSpecCompliantForm(s);if(!tt.isFunction(n))throw new TypeError("visitor must be a function");function m(_){if(_===null)return"";if(tt.isDate(_))return _.toISOString();if(tt.isBoolean(_))return _.toString();if(!c&&tt.isBlob(_))throw new Os("Blob is not supported. Use a Buffer instead.");return tt.isArrayBuffer(_)||tt.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function d(_,S,v){let y=_;if(_&&!v&&typeof _=="object"){if(tt.endsWith(S,"{}"))S=r?S:S.slice(0,-2),_=JSON.stringify(_);else if(tt.isArray(_)&&jne(_)||(tt.isFileList(_)||tt.endsWith(S,"[]"))&&(y=tt.toArray(_)))return S=G9(S),y.forEach(function(C,P){!(tt.isUndefined(C)||C===null)&&s.append(o===!0?JE([S],P,i):o===null?S:S+"[]",m(C))}),!1}return J_(_)?!0:(s.append(JE(v,S,i),m(_)),!1)}const p=[],x=Object.assign(Nne,{defaultVisitor:d,convertValue:m,isVisitable:J_});function j(_,S){if(!tt.isUndefined(_)){if(p.indexOf(_)!==-1)throw Error("Circular reference detected in "+S.join("."));p.push(_),tt.forEach(_,function(y,N){(!(tt.isUndefined(y)||y===null)&&n.call(s,y,tt.isString(N)?N.trim():N,S,x))===!0&&j(y,S?S.concat(N):[N])}),p.pop()}}if(!tt.isObject(t))throw new TypeError("data must be an object");return j(t),s}function eT(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function G4(t,s){this._pairs=[],t&&$v(t,this,s)}const K9=G4.prototype;K9.append=function(s,a){this._pairs.push([s,a])};K9.toString=function(s){const a=s?function(r){return s.call(this,r,eT)}:eT;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function _ne(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Q9(t,s,a){if(!s)return t;const r=a&&a.encode||_ne;tt.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let i;if(n?i=n(s,a):i=tt.isURLSearchParams(s)?s.toString():new G4(s,a).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class tT{constructor(){this.handlers=[]}use(s,a,r){return this.handlers.push({fulfilled:s,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){tt.forEach(this.handlers,function(r){r!==null&&s(r)})}}const Z9={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wne=typeof URLSearchParams<"u"?URLSearchParams:G4,Sne=typeof FormData<"u"?FormData:null,Cne=typeof Blob<"u"?Blob:null,Pne={isBrowser:!0,classes:{URLSearchParams:wne,FormData:Sne,Blob:Cne},protocols:["http","https","file","blob","url","data"]},K4=typeof window<"u"&&typeof document<"u",ew=typeof navigator=="object"&&navigator||void 0,kne=K4&&(!ew||["ReactNative","NativeScript","NS"].indexOf(ew.product)<0),Ene=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Tne=K4&&window.location.href||"http://localhost",Mne=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:K4,hasStandardBrowserEnv:kne,hasStandardBrowserWebWorkerEnv:Ene,navigator:ew,origin:Tne},Symbol.toStringTag,{value:"Module"})),ln={...Mne,...Pne};function Dne(t,s){return $v(t,new ln.classes.URLSearchParams,{visitor:function(a,r,n,i){return ln.isNode&&tt.isBuffer(a)?(this.append(r,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function Rne(t){return tt.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Ane(t){const s={},a=Object.keys(t);let r;const n=a.length;let i;for(r=0;r<n;r++)i=a[r],s[i]=t[i];return s}function X9(t){function s(a,r,n,i){let o=a[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=a.length;return o=!o&&tt.isArray(n)?n.length:o,c?(tt.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!l):((!n[o]||!tt.isObject(n[o]))&&(n[o]=[]),s(a,r,n[o],i)&&tt.isArray(n[o])&&(n[o]=Ane(n[o])),!l)}if(tt.isFormData(t)&&tt.isFunction(t.entries)){const a={};return tt.forEachEntry(t,(r,n)=>{s(Rne(r),n,a,0)}),a}return null}function Ine(t,s,a){if(tt.isString(t))try{return(s||JSON.parse)(t),tt.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(t)}const wg={transitional:Z9,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,i=tt.isObject(s);if(i&&tt.isHTMLForm(s)&&(s=new FormData(s)),tt.isFormData(s))return n?JSON.stringify(X9(s)):s;if(tt.isArrayBuffer(s)||tt.isBuffer(s)||tt.isStream(s)||tt.isFile(s)||tt.isBlob(s)||tt.isReadableStream(s))return s;if(tt.isArrayBufferView(s))return s.buffer;if(tt.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Dne(s,this.formSerializer).toString();if((l=tt.isFileList(s))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return $v(l?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||n?(a.setContentType("application/json",!1),Ine(s)):s}],transformResponse:[function(s){const a=this.transitional||wg.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(tt.isResponse(s)||tt.isReadableStream(s))return s;if(s&&tt.isString(s)&&(r&&!this.responseType||n)){const o=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Os.from(l,Os.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ln.classes.FormData,Blob:ln.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};tt.forEach(["delete","get","head","post","put","patch"],t=>{wg.headers[t]={}});const One=tt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fne=t=>{const s={};let a,r,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),a=o.substring(0,n).trim().toLowerCase(),r=o.substring(n+1).trim(),!(!a||s[a]&&One[a])&&(a==="set-cookie"?s[a]?s[a].push(r):s[a]=[r]:s[a]=s[a]?s[a]+", "+r:r)}),s},sT=Symbol("internals");function Yh(t){return t&&String(t).trim().toLowerCase()}function Jb(t){return t===!1||t==null?t:tt.isArray(t)?t.map(Jb):String(t)}function Lne(t){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(t);)s[r[1]]=r[2];return s}const $ne=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function mN(t,s,a,r,n){if(tt.isFunction(r))return r.call(this,s,a);if(n&&(s=a),!!tt.isString(s)){if(tt.isString(r))return s.indexOf(r)!==-1;if(tt.isRegExp(r))return r.test(s)}}function zne(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,r)=>a.toUpperCase()+r)}function qne(t,s){const a=tt.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+a,{value:function(n,i,o){return this[r].call(this,s,n,i,o)},configurable:!0})})}let Bn=class{constructor(s){s&&this.set(s)}set(s,a,r){const n=this;function i(l,c,m){const d=Yh(c);if(!d)throw new Error("header name must be a non-empty string");const p=tt.findKey(n,d);(!p||n[p]===void 0||m===!0||m===void 0&&n[p]!==!1)&&(n[p||c]=Jb(l))}const o=(l,c)=>tt.forEach(l,(m,d)=>i(m,d,c));if(tt.isPlainObject(s)||s instanceof this.constructor)o(s,a);else if(tt.isString(s)&&(s=s.trim())&&!$ne(s))o(Fne(s),a);else if(tt.isObject(s)&&tt.isIterable(s)){let l={},c,m;for(const d of s){if(!tt.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[m=d[0]]=(c=l[m])?tt.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,a)}else s!=null&&i(a,s,r);return this}get(s,a){if(s=Yh(s),s){const r=tt.findKey(this,s);if(r){const n=this[r];if(!a)return n;if(a===!0)return Lne(n);if(tt.isFunction(a))return a.call(this,n,r);if(tt.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=Yh(s),s){const r=tt.findKey(this,s);return!!(r&&this[r]!==void 0&&(!a||mN(this,this[r],r,a)))}return!1}delete(s,a){const r=this;let n=!1;function i(o){if(o=Yh(o),o){const l=tt.findKey(r,o);l&&(!a||mN(r,r[l],l,a))&&(delete r[l],n=!0)}}return tt.isArray(s)?s.forEach(i):i(s),n}clear(s){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const i=a[r];(!s||mN(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const a=this,r={};return tt.forEach(this,(n,i)=>{const o=tt.findKey(r,i);if(o){a[o]=Jb(n),delete a[i];return}const l=s?zne(i):String(i).trim();l!==i&&delete a[i],a[l]=Jb(n),r[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return tt.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=s&&tt.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const r=new this(s);return a.forEach(n=>r.set(n)),r}static accessor(s){const r=(this[sT]=this[sT]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=Yh(o);r[l]||(qne(n,o),r[l]=!0)}return tt.isArray(s)?s.forEach(i):i(s),this}};Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);tt.reduceDescriptors(Bn.prototype,({value:t},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(r){this[a]=r}}});tt.freezeMethods(Bn);function pN(t,s){const a=this||wg,r=s||a,n=Bn.from(r.headers);let i=r.data;return tt.forEach(t,function(l){i=l.call(a,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function J9(t){return!!(t&&t.__CANCEL__)}function Tp(t,s,a){Os.call(this,t??"canceled",Os.ERR_CANCELED,s,a),this.name="CanceledError"}tt.inherits(Tp,Os,{__CANCEL__:!0});function eA(t,s,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?t(a):s(new Os("Request failed with status code "+a.status,[Os.ERR_BAD_REQUEST,Os.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Bne(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Une(t,s){t=t||10;const a=new Array(t),r=new Array(t);let n=0,i=0,o;return s=s!==void 0?s:1e3,function(c){const m=Date.now(),d=r[i];o||(o=m),a[n]=c,r[n]=m;let p=i,x=0;for(;p!==n;)x+=a[p++],p=p%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),m-o<s)return;const j=d&&m-d;return j?Math.round(x*1e3/j):void 0}}function Vne(t,s){let a=0,r=1e3/s,n,i;const o=(m,d=Date.now())=>{a=d,n=null,i&&(clearTimeout(i),i=null),t(...m)};return[(...m)=>{const d=Date.now(),p=d-a;p>=r?o(m,d):(n=m,i||(i=setTimeout(()=>{i=null,o(n)},r-p)))},()=>n&&o(n)]}const Sy=(t,s,a=3)=>{let r=0;const n=Une(50,250);return Vne(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,m=n(c),d=o<=l;r=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:m||void 0,estimated:m&&l&&d?(l-o)/m:void 0,event:i,lengthComputable:l!=null,[s?"download":"upload"]:!0};t(p)},a)},aT=(t,s)=>{const a=t!=null;return[r=>s[0]({lengthComputable:a,total:t,loaded:r}),s[1]]},rT=t=>(...s)=>tt.asap(()=>t(...s)),Hne=ln.hasStandardBrowserEnv?((t,s)=>a=>(a=new URL(a,ln.origin),t.protocol===a.protocol&&t.host===a.host&&(s||t.port===a.port)))(new URL(ln.origin),ln.navigator&&/(msie|trident)/i.test(ln.navigator.userAgent)):()=>!0,Wne=ln.hasStandardBrowserEnv?{write(t,s,a,r,n,i){const o=[t+"="+encodeURIComponent(s)];tt.isNumber(a)&&o.push("expires="+new Date(a).toGMTString()),tt.isString(r)&&o.push("path="+r),tt.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Yne(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Gne(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function tA(t,s,a){let r=!Yne(s);return t&&(r||a==!1)?Gne(t,s):s}const nT=t=>t instanceof Bn?{...t}:t;function uu(t,s){s=s||{};const a={};function r(m,d,p,x){return tt.isPlainObject(m)&&tt.isPlainObject(d)?tt.merge.call({caseless:x},m,d):tt.isPlainObject(d)?tt.merge({},d):tt.isArray(d)?d.slice():d}function n(m,d,p,x){if(tt.isUndefined(d)){if(!tt.isUndefined(m))return r(void 0,m,p,x)}else return r(m,d,p,x)}function i(m,d){if(!tt.isUndefined(d))return r(void 0,d)}function o(m,d){if(tt.isUndefined(d)){if(!tt.isUndefined(m))return r(void 0,m)}else return r(void 0,d)}function l(m,d,p){if(p in s)return r(m,d);if(p in t)return r(void 0,m)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(m,d,p)=>n(nT(m),nT(d),p,!0)};return tt.forEach(Object.keys({...t,...s}),function(d){const p=c[d]||n,x=p(t[d],s[d],d);tt.isUndefined(x)&&p!==l||(a[d]=x)}),a}const sA=t=>{const s=uu({},t);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=s;if(s.headers=o=Bn.from(o),s.url=Q9(tA(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),tt.isFormData(a)){if(ln.hasStandardBrowserEnv||ln.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(tt.isFunction(a.getHeaders)){const c=a.getHeaders(),m=["content-type","content-length"];Object.entries(c).forEach(([d,p])=>{m.includes(d.toLowerCase())&&o.set(d,p)})}}if(ln.hasStandardBrowserEnv&&(r&&tt.isFunction(r)&&(r=r(s)),r||r!==!1&&Hne(s.url))){const c=n&&i&&Wne.read(i);c&&o.set(n,c)}return s},Kne=typeof XMLHttpRequest<"u",Qne=Kne&&function(t){return new Promise(function(a,r){const n=sA(t);let i=n.data;const o=Bn.from(n.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:m}=n,d,p,x,j,_;function S(){j&&j(),_&&_(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(n.method.toUpperCase(),n.url,!0),v.timeout=n.timeout;function y(){if(!v)return;const C=Bn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:C,config:t,request:v};eA(function(T){a(T),S()},function(T){r(T),S()},E),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(r(new Os("Request aborted",Os.ECONNABORTED,t,v)),v=null)},v.onerror=function(P){const E=P&&P.message?P.message:"Network Error",D=new Os(E,Os.ERR_NETWORK,t,v);D.event=P||null,r(D),v=null},v.ontimeout=function(){let P=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const E=n.transitional||Z9;n.timeoutErrorMessage&&(P=n.timeoutErrorMessage),r(new Os(P,E.clarifyTimeoutError?Os.ETIMEDOUT:Os.ECONNABORTED,t,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&tt.forEach(o.toJSON(),function(P,E){v.setRequestHeader(E,P)}),tt.isUndefined(n.withCredentials)||(v.withCredentials=!!n.withCredentials),l&&l!=="json"&&(v.responseType=n.responseType),m&&([x,_]=Sy(m,!0),v.addEventListener("progress",x)),c&&v.upload&&([p,j]=Sy(c),v.upload.addEventListener("progress",p),v.upload.addEventListener("loadend",j)),(n.cancelToken||n.signal)&&(d=C=>{v&&(r(!C||C.type?new Tp(null,t,v):C),v.abort(),v=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const N=Bne(n.url);if(N&&ln.protocols.indexOf(N)===-1){r(new Os("Unsupported protocol "+N+":",Os.ERR_BAD_REQUEST,t));return}v.send(i||null)})},Zne=(t,s)=>{const{length:a}=t=t?t.filter(Boolean):[];if(s||a){let r=new AbortController,n;const i=function(m){if(!n){n=!0,l();const d=m instanceof Error?m:this.reason;r.abort(d instanceof Os?d:new Tp(d instanceof Error?d.message:d))}};let o=s&&setTimeout(()=>{o=null,i(new Os(`timeout ${s} of ms exceeded`,Os.ETIMEDOUT))},s);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(i):m.removeEventListener("abort",i)}),t=null)};t.forEach(m=>m.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>tt.asap(l),c}},Xne=function*(t,s){let a=t.byteLength;if(a<s){yield t;return}let r=0,n;for(;r<a;)n=r+s,yield t.slice(r,n),r=n},Jne=async function*(t,s){for await(const a of eie(t))yield*Xne(a,s)},eie=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:a,value:r}=await s.read();if(a)break;yield r}}finally{await s.cancel()}},iT=(t,s,a,r)=>{const n=Jne(t,s);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:m,value:d}=await n.next();if(m){l(),c.close();return}let p=d.byteLength;if(a){let x=i+=p;a(x)}c.enqueue(new Uint8Array(d))}catch(m){throw l(m),m}},cancel(c){return l(c),n.return()}},{highWaterMark:2})},oT=64*1024,{isFunction:pb}=tt,tie=(({Request:t,Response:s})=>({Request:t,Response:s}))(tt.global),{ReadableStream:lT,TextEncoder:cT}=tt.global,dT=(t,...s)=>{try{return!!t(...s)}catch{return!1}},sie=t=>{t=tt.merge.call({skipUndefined:!0},tie,t);const{fetch:s,Request:a,Response:r}=t,n=s?pb(s):typeof fetch=="function",i=pb(a),o=pb(r);if(!n)return!1;const l=n&&pb(lT),c=n&&(typeof cT=="function"?(_=>S=>_.encode(S))(new cT):async _=>new Uint8Array(await new a(_).arrayBuffer())),m=i&&l&&dT(()=>{let _=!1;const S=new a(ln.origin,{body:new lT,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!S}),d=o&&l&&dT(()=>tt.isReadableStream(new r("").body)),p={stream:d&&(_=>_.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!p[_]&&(p[_]=(S,v)=>{let y=S&&S[_];if(y)return y.call(S);throw new Os(`Response type '${_}' is not supported`,Os.ERR_NOT_SUPPORT,v)})});const x=async _=>{if(_==null)return 0;if(tt.isBlob(_))return _.size;if(tt.isSpecCompliantForm(_))return(await new a(ln.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(tt.isArrayBufferView(_)||tt.isArrayBuffer(_))return _.byteLength;if(tt.isURLSearchParams(_)&&(_=_+""),tt.isString(_))return(await c(_)).byteLength},j=async(_,S)=>{const v=tt.toFiniteNumber(_.getContentLength());return v??x(S)};return async _=>{let{url:S,method:v,data:y,signal:N,cancelToken:C,timeout:P,onDownloadProgress:E,onUploadProgress:D,responseType:T,headers:A,withCredentials:I="same-origin",fetchOptions:F}=sA(_),z=s||fetch;T=T?(T+"").toLowerCase():"text";let O=Zne([N,C&&C.toAbortSignal()],P),K=null;const W=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let B;try{if(D&&m&&v!=="get"&&v!=="head"&&(B=await j(A,y))!==0){let R=new a(S,{method:"POST",body:y,duplex:"half"}),$;if(tt.isFormData(y)&&($=R.headers.get("content-type"))&&A.setContentType($),R.body){const[Y,J]=aT(B,Sy(rT(D)));y=iT(R.body,oT,Y,J)}}tt.isString(I)||(I=I?"include":"omit");const q=i&&"credentials"in a.prototype,H={...F,signal:O,method:v.toUpperCase(),headers:A.normalize().toJSON(),body:y,duplex:"half",credentials:q?I:void 0};K=i&&new a(S,H);let Q=await(i?z(K,F):z(S,H));const V=d&&(T==="stream"||T==="response");if(d&&(E||V&&W)){const R={};["status","statusText","headers"].forEach(te=>{R[te]=Q[te]});const $=tt.toFiniteNumber(Q.headers.get("content-length")),[Y,J]=E&&aT($,Sy(rT(E),!0))||[];Q=new r(iT(Q.body,oT,Y,()=>{J&&J(),W&&W()}),R)}T=T||"text";let M=await p[tt.findKey(p,T)||"text"](Q,_);return!V&&W&&W(),await new Promise((R,$)=>{eA(R,$,{data:M,headers:Bn.from(Q.headers),status:Q.status,statusText:Q.statusText,config:_,request:K})})}catch(q){throw W&&W(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new Os("Network Error",Os.ERR_NETWORK,_,K),{cause:q.cause||q}):Os.from(q,q&&q.code,_,K)}}},aie=new Map,aA=t=>{let s=t?t.env:{};const{fetch:a,Request:r,Response:n}=s,i=[r,n,a];let o=i.length,l=o,c,m,d=aie;for(;l--;)c=i[l],m=d.get(c),m===void 0&&d.set(c,m=l?new Map:sie(s)),d=m;return m};aA();const tw={http:vne,xhr:Qne,fetch:{get:aA}};tt.forEach(tw,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const uT=t=>`- ${t}`,rie=t=>tt.isFunction(t)||t===null||t===!1,rA={getAdapter:(t,s)=>{t=tt.isArray(t)?t:[t];const{length:a}=t;let r,n;const i={};for(let o=0;o<a;o++){r=t[o];let l;if(n=r,!rie(r)&&(n=tw[(l=String(r)).toLowerCase()],n===void 0))throw new Os(`Unknown adapter '${l}'`);if(n&&(tt.isFunction(n)||(n=n.get(s))))break;i[l||"#"+o]=n}if(!n){const o=Object.entries(i).map(([c,m])=>`adapter ${c} `+(m===!1?"is not supported by the environment":"is not available in the build"));let l=a?o.length>1?`since :
`+o.map(uT).join(`
`):" "+uT(o[0]):"as no adapter specified";throw new Os("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:tw};function hN(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Tp(null,t)}function mT(t){return hN(t),t.headers=Bn.from(t.headers),t.data=pN.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),rA.getAdapter(t.adapter||wg.adapter,t)(t).then(function(r){return hN(t),r.data=pN.call(t,t.transformResponse,r),r.headers=Bn.from(r.headers),r},function(r){return J9(r)||(hN(t),r&&r.response&&(r.response.data=pN.call(t,t.transformResponse,r.response),r.response.headers=Bn.from(r.response.headers))),Promise.reject(r)})}const nA="1.12.2",zv={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{zv[t]=function(r){return typeof r===t||"a"+(s<1?"n ":" ")+t}});const pT={};zv.transitional=function(s,a,r){function n(i,o){return"[Axios v"+nA+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(s===!1)throw new Os(n(o," has been removed"+(a?" in "+a:"")),Os.ERR_DEPRECATED);return a&&!pT[o]&&(pT[o]=!0,console.warn(n(o," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(i,o,l):!0}};zv.spelling=function(s){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${s}`),!0)};function nie(t,s,a){if(typeof t!="object")throw new Os("options must be an object",Os.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let n=r.length;for(;n-- >0;){const i=r[n],o=s[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new Os("option "+i+" must be "+c,Os.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Os("Unknown option "+i,Os.ERR_BAD_OPTION)}}const ey={assertOptions:nie,validators:zv},Ro=ey.validators;let su=class{constructor(s){this.defaults=s||{},this.interceptors={request:new tT,response:new tT}}async request(s,a){try{return await this._request(s,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=uu(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:i}=a;r!==void 0&&ey.assertOptions(r,{silentJSONParsing:Ro.transitional(Ro.boolean),forcedJSONParsing:Ro.transitional(Ro.boolean),clarifyTimeoutError:Ro.transitional(Ro.boolean)},!1),n!=null&&(tt.isFunction(n)?a.paramsSerializer={serialize:n}:ey.assertOptions(n,{encode:Ro.function,serialize:Ro.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),ey.assertOptions(a,{baseUrl:Ro.spelling("baseURL"),withXsrfToken:Ro.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let o=i&&tt.merge(i.common,i[a.method]);i&&tt.forEach(["delete","get","head","post","put","patch","common"],_=>{delete i[_]}),a.headers=Bn.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(a)===!1||(c=c&&S.synchronous,l.unshift(S.fulfilled,S.rejected))});const m=[];this.interceptors.response.forEach(function(S){m.push(S.fulfilled,S.rejected)});let d,p=0,x;if(!c){const _=[mT.bind(this),void 0];for(_.unshift(...l),_.push(...m),x=_.length,d=Promise.resolve(a);p<x;)d=d.then(_[p++],_[p++]);return d}x=l.length;let j=a;for(;p<x;){const _=l[p++],S=l[p++];try{j=_(j)}catch(v){S.call(this,v);break}}try{d=mT.call(this,j)}catch(_){return Promise.reject(_)}for(p=0,x=m.length;p<x;)d=d.then(m[p++],m[p++]);return d}getUri(s){s=uu(this.defaults,s);const a=tA(s.baseURL,s.url,s.allowAbsoluteUrls);return Q9(a,s.params,s.paramsSerializer)}};tt.forEach(["delete","get","head","options"],function(s){su.prototype[s]=function(a,r){return this.request(uu(r||{},{method:s,url:a,data:(r||{}).data}))}});tt.forEach(["post","put","patch"],function(s){function a(r){return function(i,o,l){return this.request(uu(l||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}su.prototype[s]=a(),su.prototype[s+"Form"]=a(!0)});let iie=class iA{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},s(function(i,o,l){r.reason||(r.reason=new Tp(i,o,l),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=r=>{s.abort(r)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new iA(function(n){s=n}),cancel:s}}};function oie(t){return function(a){return t.apply(null,a)}}function lie(t){return tt.isObject(t)&&t.isAxiosError===!0}const sw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sw).forEach(([t,s])=>{sw[s]=t});function oA(t){const s=new su(t),a=L9(su.prototype.request,s);return tt.extend(a,su.prototype,s,{allOwnKeys:!0}),tt.extend(a,s,null,{allOwnKeys:!0}),a.create=function(n){return oA(uu(t,n))},a}const yr=oA(wg);yr.Axios=su;yr.CanceledError=Tp;yr.CancelToken=iie;yr.isCancel=J9;yr.VERSION=nA;yr.toFormData=$v;yr.AxiosError=Os;yr.Cancel=yr.CanceledError;yr.all=function(s){return Promise.all(s)};yr.spread=oie;yr.isAxiosError=lie;yr.mergeConfig=uu;yr.AxiosHeaders=Bn;yr.formToJSON=t=>X9(tt.isHTMLForm(t)?new FormData(t):t);yr.getAdapter=rA.getAdapter;yr.HttpStatusCode=sw;yr.default=yr;const{Axios:tze,AxiosError:sze,CanceledError:aze,isCancel:rze,CancelToken:nze,VERSION:ize,all:oze,Cancel:lze,isAxiosError:cze,spread:dze,toFormData:uze,AxiosHeaders:mze,HttpStatusCode:pze,formToJSON:hze,getAdapter:fze,mergeConfig:xze}=yr,lp={OK:200,CREATED:201,NO_CONTENT:204,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,CONFLICT:409,UNPROCESSABLE_ENTITY:422,INTERNAL_SERVER_ERROR:500,SERVICE_UNAVAILABLE:503},Tm={SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info"},Qi={TIMEOUT:"TIMEOUT",NETWORK_ERROR:"NETWORK_ERROR",SERVER_ERROR:"SERVER_ERROR",CLIENT_ERROR:"CLIENT_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",VALIDATION_ERROR:"VALIDATION_ERROR"};class Xl extends Error{statusCode;errorType;originalError;response;constructor(s,a,r,n){super(s),this.name="ApiError",this.statusCode=a,this.errorType=r,this.originalError=n,this.response=n?.response}}const cie="https://sfa_api.dcctz.com/api/v1",die=3e5;let aw=!1;const ie=yr.create({baseURL:cie,timeout:die,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!1});ie.interceptors.request.use(t=>{try{if(t.metadata={...t.metadata,startTime:Date.now()},t.skipAuth)return t;const s=Yi.getToken();if(s){t.headers.set("Authorization",`Bearer ${s}`);const a=Yi.getUser();a&&(t.headers.set("X-User-ID",a.id.toString()),t.headers.set("X-User-Role",a.role),a.depot_id&&t.headers.set("X-Depot-ID",a.depot_id.toString()),a.zone_id&&t.headers.set("X-Zone-ID",a.zone_id.toString()))}return t.headers.set("X-Request-ID",xie()),t}catch(s){return console.error("Request interceptor error:",s),t}},t=>(console.error("Request setup failed:",t),Promise.reject(new Xl("Request configuration failed",0,Qi.CLIENT_ERROR,t))));ie.interceptors.response.use(t=>{try{on.clearNetworkErrorToasts();const s=t.config.metadata?.startTime,a=s?Date.now()-s:0;return t.data&&typeof t.data=="object"&&(t.data.meta={...t.data.meta,requestDuration:a,timestamp:new Date().toISOString()}),t}catch(s){return console.error("Response processing error:",s),t}},async t=>{const s=t.config;if(s?.skipErrorHandling)return Promise.reject(t);try{if(!t.response&&(t.request||t.code==="ERR_NETWORK"||t.code==="ECONNREFUSED"||t.code==="ETIMEDOUT"||t.code==="ENOTFOUND"||t.message?.includes("Network Error")||t.message?.includes("network")))return hT(t);if(t.response){const{status:r,data:n}=t.response;if(r===lp.UNAUTHORIZED)return uie(s,t);if(r===lp.FORBIDDEN)return mie(t);if(r>=400&&r<500)return pie(t)}else return t.request?hT(t):hie(t);return Promise.reject(fie(t))}catch(a){return console.error("Error handling failed:",a),Promise.reject(t)}});async function uie(t,s){if(aw){const o=new Xl("Authentication required",lp.UNAUTHORIZED,Qi.AUTHENTICATION_ERROR,s);return o.response=s.response,Promise.reject(o)}aw=!0,Yi.clearAuth();let a=3;const r=on.warning(`Session expired. Redirecting to login in ${a}...`,{autoClose:!1,closeOnClick:!1}),n=setInterval(()=>{a--,a>0?r&&on.update(r,`Session expired. Redirecting to login in ${a}...`,"warning"):(clearInterval(n),r&&on.update(r,"Redirecting to login...","warning"))},1e3);typeof window<"u"&&setTimeout(()=>{clearInterval(n),r&&on.dismiss(r),window.location.href="/login"},3e3);const i=new Xl("Authentication required",lp.UNAUTHORIZED,Qi.AUTHENTICATION_ERROR,s);return i.response=s.response,Promise.reject(i)}function mie(t){const a=t.response?.data?.message||"Access denied. Insufficient permissions.";lA(a,Tm.ERROR);const r=new Xl(a,lp.FORBIDDEN,Qi.AUTHORIZATION_ERROR,t);return r.response=t.response,Promise.reject(r)}function pie(t){const s=t.response?.status||400,a=t.response?.data,r=a?.error||a?.message||t.message||"Request failed",n=s===lp.UNPROCESSABLE_ENTITY?new Xl(r,s,Qi.VALIDATION_ERROR,t):new Xl(r,s,Qi.CLIENT_ERROR,t);return n.response=t.response,Promise.reject(n)}function hT(t){let s=Qi.NETWORK_ERROR,a="Network error occurred. Please check your internet connection.";return t.code==="ECONNABORTED"||t.code==="ETIMEDOUT"?(s=Qi.TIMEOUT,a="Request timeout. Please try again."):t.code==="ECONNREFUSED"?a="Connection refused. The server may be unavailable.":t.code==="ENOTFOUND"?a="Server not found. Please check your connection.":t.code==="ERR_NETWORK"?a="Network error. Unable to reach the server.":t.message?.includes("Network Error")&&(a="Network error. Please check your internet connection."),lA(a,Tm.ERROR),Promise.reject(new Xl(a,0,s,t))}function hie(t){return Promise.reject(new Xl("Request setup failed",0,Qi.CLIENT_ERROR,t))}function fie(t){const s=t.response?.status||0,a=t.response?.data,r=a?.error||a?.message||t.message||"Unknown error";let n=Qi.SERVER_ERROR;s>=400&&s<500?n=Qi.CLIENT_ERROR:t.response||(n=Qi.NETWORK_ERROR);const i=new Xl(r,s,n,t);return i.response=t.response,i}function xie(){return`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function lA(t,s){let a=null;switch(s){case Tm.SUCCESS:a=on.success(t);break;case Tm.ERROR:a=on.error(t);break;case Tm.WARNING:a=on.warning(t);break;case Tm.INFO:a=on.info(t);break;default:a=on.info(t)}return a}const gie=()=>{aw=!1},bie=async t=>{try{return(await ie.get("/users",{params:t})).data}catch(s){throw s}},yie=async t=>{try{return(await ie.get(`/users/${t}`)).data}catch(s){throw s}},vie=async t=>(await ie.post("/users",t,{headers:t instanceof FormData?{"Content-Type":"multipart/form-data"}:{"Content-Type":"application/json"}})).data,jie=async(t,s)=>(await ie.put(`/users/${t}`,s,{headers:s instanceof FormData?{"Content-Type":"multipart/form-data"}:{"Content-Type":"application/json"}})).data,Nie=async t=>(await ie.delete(`/users/${t}`)).data,_ie=async()=>{try{return(await ie.get("/users/me")).data}catch(t){throw t}},wie=async t=>(await ie.put("/users/me",t,{headers:t instanceof FormData?{"Content-Type":"multipart/form-data"}:{"Content-Type":"application/json"}})).data,Sie=async t=>{try{return(await ie.get("/users-dropdown",{params:t})).data}catch(s){throw s}},Fl={all:["users"],lists:()=>[...Fl.all,"list"],list:t=>[...Fl.lists(),t],details:()=>[...Fl.all,"detail"],detail:t=>[...Fl.details(),t],profile:()=>[...Fl.all,"profile"]},Gn=(t,s)=>st({queryKey:Fl.list(t),queryFn:()=>bie(t),staleTime:300*1e3,...s}),Cie=(t,s)=>st({queryKey:Fl.detail(t),queryFn:()=>yie(t),enabled:!!t,staleTime:300*1e3,...s}),cA=(t,s)=>st({queryKey:["users","dropdown",t],queryFn:()=>Sie(t),staleTime:300*1e3,...s}),Q4=()=>{const[t,s]=g.useState(()=>Yi.isAuthenticated());return g.useEffect(()=>{const a=()=>{const i=Yi.isAuthenticated();s(i)};a();const r=()=>{a()};window.addEventListener("auth-change",r);const n=setInterval(a,5e3);return()=>{window.removeEventListener("auth-change",r),clearInterval(n)}},[]),st({queryKey:[...Fl.profile(),t],queryFn:()=>_ie(),staleTime:300*1e3,gcTime:600*1e3,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0,retry:1,enabled:t,select:a=>a?.data})},Pie=t=>Te({mutationFn:s=>vie(s),loadingMessage:"Creating user...",invalidateQueries:["users"],onSuccess:t?.onSuccess,onError:t?.onError}),kie=t=>Te({mutationFn:({id:s,userData:a})=>jie(s,a),loadingMessage:"Updating user...",invalidateQueries:["users"],onSuccess:t?.onSuccess,onError:t?.onError}),Eie=t=>Te({mutationFn:s=>Nie(s),loadingMessage:"Deleting user...",invalidateQueries:["users"],onSuccess:t?.onSuccess,onError:t?.onError}),Tie=t=>Te({mutationFn:s=>wie(s),loadingMessage:"Updating profile...",invalidateQueries:["users"],onSuccess:t?.onSuccess,onError:t?.onError}),Mie=(t,s)=>{const a=t.toLowerCase().replace(/-/g,"_"),r=s.toLowerCase();return`${a}_${r}`},Die=t=>{const s=t.toLowerCase();return s.includes("admin")||s.includes("super admin")},Rie=(t,s)=>t.includes("*")?!0:t.includes(s),hb=(t,s,a)=>{const r=Mie(s,a);return Rie(t,r)},Ze=t=>{const{data:s,isLoading:a,error:r}=Q4(),n=g.useMemo(()=>s?s.role?.name&&Die(s.role.name)?["*"]:s.permissions||[]:[],[s]),i=g.useMemo(()=>{if(!r)return!1;const d=r;return d?.errorType==="NETWORK_ERROR"||d?.errorType==="TIMEOUT"||d?.statusCode===0&&!d?.response||!d?.response&&(d?.code==="ERR_NETWORK"||d?.code==="ECONNREFUSED"||d?.code==="ETIMEDOUT"||d?.code==="ENOTFOUND")||d?.message&&(d.message.includes("Network")||d.message.includes("network"))},[r]),o=g.useMemo(()=>a||!s||i?!1:hb(n,t,"create"),[n,t,a,s,i]),l=g.useMemo(()=>a||!s||i?!1:hb(n,t,"read"),[n,t,a,s,i]),c=g.useMemo(()=>a||!s||i?!1:hb(n,t,"update"),[n,t,a,s,i]),m=g.useMemo(()=>a||!s||i?!1:hb(n,t,"delete"),[n,t,a,s,i]);return{isCreate:o,isUpdate:c,isDelete:m,isRead:l,isLoading:a,error:r,isNetworkError:i}},Aie=()=>{const[t,s]=g.useState(navigator.onLine),[a,r]=g.useState("");return g.useEffect(()=>{const n=()=>{const d=navigator;return d.connection||d.mozConnection||d.webkitConnection},i=()=>{const d=n();return d?.effectiveType||d?.type||""},o=()=>{s(!0),r(i())},l=()=>{s(!1),r("")},c=()=>{r(i())};r(i()),window.addEventListener("online",o),window.addEventListener("offline",l);const m=n();return m&&m.addEventListener("change",c),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",l),m&&m.removeEventListener("change",c)}},[]),{isOnline:t,connectionType:a}};const Iie=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oie=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,r)=>r?r.toUpperCase():a.toLowerCase()),fT=t=>{const s=Oie(t);return s.charAt(0).toUpperCase()+s.slice(1)},dA=(...t)=>t.filter((s,a,r)=>!!s&&s.trim()!==""&&r.indexOf(s)===a).join(" ").trim(),Fie=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};var Lie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $ie=g.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:n="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...Lie,width:s,height:s,stroke:t,strokeWidth:r?Number(a)*24/Number(s):a,className:dA("lucide",n),...!i&&!Fie(l)&&{"aria-hidden":"true"},...l},[...o.map(([m,d])=>g.createElement(m,d)),...Array.isArray(i)?i:[i]]));const Vt=(t,s)=>{const a=g.forwardRef(({className:r,...n},i)=>g.createElement($ie,{ref:i,iconNode:s,className:dA(`lucide-${Iie(fT(t))}`,`lucide-${t}`,r),...n}));return a.displayName=fT(t),a};const zie=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],cp=Vt("activity",zie);const qie=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],ty=Vt("archive",qie);const Bie=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],xT=Vt("arrow-down",Bie);const Uie=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],dr=Vt("arrow-left",Uie);const Vie=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],fN=Vt("arrow-right-left",Vie);const Hie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],rw=Vt("arrow-right",Hie);const Wie=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Yie=Vt("arrow-up-down",Wie);const Gie=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],gT=Vt("arrow-up",Gie);const Kie=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],bT=Vt("award",Kie);const Qie=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],uA=Vt("battery",Qie);const Zie=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],xN=Vt("bell",Zie);const Xie=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Pn=Vt("building-2",Xie);const Jie=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],mA=Vt("building",Jie);const eoe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ws=Vt("calendar",eoe);const toe=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],yT=Vt("car",toe);const soe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Qc=Vt("chart-column",soe);const aoe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],No=Vt("check",aoe);const roe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Uc=Vt("circle-alert",roe);const noe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Da=Vt("circle-check-big",noe);const ioe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ya=Vt("circle-x",ioe);const ooe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],As=Vt("clock",ooe);const loe=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],vT=Vt("coffee",loe);const coe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Mp=Vt("credit-card",coe);const doe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],uoe=Vt("database",doe);const moe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Cr=Vt("dollar-sign",moe);const poe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Co=Vt("download",poe);const hoe=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],gN=Vt("droplet",hoe);const foe=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Ex=Vt("droplets",foe);const xoe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],goe=Vt("eye",xoe);const boe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ks=Vt("file-text",boe);const yoe=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],pA=Vt("fingerprint",yoe);const voe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],jT=Vt("globe",voe);const joe=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],qv=Vt("grip-vertical",joe);const Noe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Z4=Vt("history",Noe);const _oe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],hA=Vt("house",_oe);const woe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Soe=Vt("image",woe);const Coe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Vn=Vt("info",Coe);const Poe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],koe=Vt("key",Poe);const Eoe=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Cy=Vt("layers",Eoe);const Toe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Moe=Vt("lock",Toe);const Doe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],dp=Vt("mail",Doe);const Roe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ta=Vt("map-pin",Roe);const Aoe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],bN=Vt("message-square",Aoe);const Ioe=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],NT=Vt("move",Ioe);const Ooe=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Py=Vt("navigation",Ooe);const Foe=[["path",{d:"M12 3v6",key:"1holv5"}],["path",{d:"M16.76 3a2 2 0 0 1 1.8 1.1l2.23 4.479a2 2 0 0 1 .21.891V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9.472a2 2 0 0 1 .211-.894L5.45 4.1A2 2 0 0 1 7.24 3z",key:"187q7i"}],["path",{d:"M3.054 9.013h17.893",key:"grwhos"}]],fA=Vt("package-2",Foe);const Loe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$t=Vt("package",Loe);const $oe=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],up=Vt("percent",$oe);const zoe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Sg=Vt("phone",zoe);const qoe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gr=Vt("plus",qoe);const Boe=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Uoe=Vt("qr-code",Boe);const Voe=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Zr=Vt("receipt",Voe);const Hoe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Hl=Vt("refresh-cw",Hoe);const Woe=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],wn=Vt("route",Woe);const Yoe=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],_T=Vt("ruler",Yoe);const Goe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cg=Vt("settings",Goe);const Koe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qoe=Vt("shield-check",Koe);const Zoe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]],Xoe=Vt("shield-x",Zoe);const Joe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xA=Vt("shield",Joe);const ele=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],mu=Vt("shopping-cart",ele);const tle=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],wT=Vt("shuffle",tle);const sle=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gA=Vt("square-pen",sle);const ale=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],ky=Vt("store",ale);const rle=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],br=Vt("tag",rle);const nle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],nl=Vt("target",nle);const ile=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Bv=Vt("thermometer",ile);const ole=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ey=Vt("trash-2",ole);const lle=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],vs=Vt("trending-up",lle);const cle=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ia=Vt("triangle-alert",cle);const dle=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Hn=Vt("truck",dle);const ule=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],mle=Vt("upload",ule);const ple=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_o=Vt("user-check",ple);const hle=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],bA=Vt("user-plus",hle);const fle=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],xle=Vt("user-x",fle);const gle=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Za=Vt("user",gle);const ble=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],aa=Vt("users",ble);const yle=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],ST=Vt("warehouse",yle);const vle=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],jle=Vt("weight",vle);const Nle=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],tl=Vt("wrench",Nle);const _le=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kr=Vt("x",_le);const wle=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Sle=Vt("zap",wle),Cle=t=>e.jsxs("svg",{viewBox:"0 0 500 500",height:450,width:450,...t,children:[e.jsxs("g",{children:[e.jsx("path",{d:"M373.23,244a21.78,21.78,0,0,1,2.12-5.37l-2.92-4.47,6.15-6.36,4.57,2.78a21.6,21.6,0,0,1,5.3-2.3l1.09-5.23,8.85-.15,1.27,5.2a21.78,21.78,0,0,1,5.37,2.12l4.47-2.93,6.36,6.16L413.08,238a21.53,21.53,0,0,1,2.3,5.29l5.23,1.1.15,8.85-5.2,1.27a21.87,21.87,0,0,1-2.12,5.36l2.93,4.48-6.16,6.36L405.64,268a21.91,21.91,0,0,1-5.29,2.3l-1.1,5.23-8.85.14-1.27-5.19a21.87,21.87,0,0,1-5.36-2.12l-4.48,2.92-6.36-6.15,2.78-4.57a22,22,0,0,1-2.3-5.3l-5.23-1.09-.14-8.85,5.19-1.27Zm11.67,5a9.49,9.49,0,1,0,9.34-9.65A9.48,9.48,0,0,0,384.9,249Z",style:{fill:"none"}}),e.jsx("path",{d:"M384.9,249a7.24,7.24,0,0,1,.16-2.35,9.57,9.57,0,0,1,7.38-7.32,9.8,9.8,0,0,1,5.12.31,9.78,9.78,0,0,1,4.59,3.31,9.7,9.7,0,0,1,.19,11.52,9.05,9.05,0,0,1-2,2.1,9.19,9.19,0,0,1-2.44,1.36,9.75,9.75,0,0,1-5.11.48,9.6,9.6,0,0,1-7.62-7.08,7.32,7.32,0,0,1-.23-2.33,21.12,21.12,0,0,0,.43,2.28,9.5,9.5,0,0,0,3.55,5.05,9.28,9.28,0,0,0,8.8,1.15,8.88,8.88,0,0,0,2.32-1.3,8.7,8.7,0,0,0,1.92-2,9.22,9.22,0,0,0-.18-10.92,8.88,8.88,0,0,0-2-1.94,8.69,8.69,0,0,0-2.36-1.22,9.29,9.29,0,0,0-4.87-.34,9.12,9.12,0,0,0-3.89,1.77,9.45,9.45,0,0,0-3.38,5.17A19.37,19.37,0,0,0,384.9,249Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M373.23,244a1.31,1.31,0,0,1-.32.1l-1,.26-3.87,1,.06-.08c.05,2.26.11,5.24.19,8.84l-.1-.12,5.24,1.07.09,0,0,.09a21.81,21.81,0,0,0,2.3,5.25l.05.09-.05.08-2.77,4.58,0-.23,6.37,6.15-.25,0,4.47-2.93.11-.08.11.07a22.18,22.18,0,0,0,5.32,2.09l.13,0,0,.14c.4,1.61.83,3.38,1.28,5.19l-.23-.18,8.85-.15-.24.19c.34-1.63.72-3.42,1.09-5.24l0-.14.15,0a21.48,21.48,0,0,0,5.23-2.28l.13-.08.13.08,4.57,2.78-.31,0,6.15-6.36,0,.32-2.93-4.48-.08-.13.07-.14a21.33,21.33,0,0,0,2.1-5.29h0l0-.15.15,0,5.2-1.26-.2.25c-.05-3-.1-5.94-.14-8.85l.2.25-5.23-1.1-.15,0-.05-.15a21.38,21.38,0,0,0-2.26-5.23l-.08-.13.08-.13,2.78-4.57,0,.31-6.35-6.16.29,0-4.48,2.93-.12.07-.12-.07a21.53,21.53,0,0,0-5.3-2.1l-.14,0,0-.13-1.26-5.2.22.17-8.85.13.19-.16c-.39,1.84-.76,3.56-1.11,5.23l0,.11-.11,0a21.68,21.68,0,0,0-5.26,2.26l-.09.06-.09-.06L378.5,228l.19,0-6.18,6.34,0-.15,2.89,4.5,0,0,0,0a22.2,22.2,0,0,0-1.77,4c-.14.44-.24.78-.32,1s-.11.34-.11.34,0-.12.07-.35.14-.58.28-1a20.87,20.87,0,0,1,1.7-4v.09c-.8-1.22-1.77-2.68-2.95-4.46l-.05-.08.06-.06,6.13-6.39.09-.09.1.07,4.58,2.76h-.17a21.58,21.58,0,0,1,5.33-2.33l-.14.14c.35-1.66.71-3.39,1.09-5.23l0-.16h.16l8.85-.16h.17l0,.17c.42,1.69.84,3.41,1.28,5.19l-.17-.16a21.76,21.76,0,0,1,5.43,2.14h-.24l4.47-2.94.16-.1.14.13,6.37,6.15.14.14-.11.17-2.77,4.57v-.26a21.86,21.86,0,0,1,2.33,5.35l-.2-.18,5.24,1.1.2,0v.21q.08,4.37.15,8.84v.21l-.2.05-5.2,1.27.2-.19h0a22.28,22.28,0,0,1-2.14,5.43v-.27l2.92,4.48.12.17-.15.15-6.16,6.36-.14.14-.17-.1-4.57-2.79h.26a21.55,21.55,0,0,1-5.36,2.32l.18-.18c-.38,1.81-.76,3.6-1.1,5.23l0,.19h-.2l-8.85.14h-.18l0-.18-1.26-5.2.16.17a22.31,22.31,0,0,1-5.42-2.16h.23l-4.49,2.91-.13.09-.12-.11-6.35-6.17-.1-.1.07-.13,2.79-4.56v.17a21.94,21.94,0,0,1-2.29-5.34l.11.11-5.23-1.11-.1,0v-.1c0-3.61-.07-6.59-.1-8.85v-.07H368l3.86-.9,1-.22Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M114.41,219.61a24.61,24.61,0,0,1,2.37-6l-3.27-5,6.88-7.11,5.12,3.11a24.46,24.46,0,0,1,5.92-2.57l1.22-5.85,9.9-.16,1.42,5.81a24.21,24.21,0,0,1,6,2.37l5-3.27,7.11,6.88L159,212.93a24.29,24.29,0,0,1,2.57,5.92l5.85,1.22.16,9.9-5.81,1.42a24.21,24.21,0,0,1-2.37,6l3.27,5-6.88,7.11-5.12-3.11a24.29,24.29,0,0,1-5.92,2.57l-1.22,5.85-9.9.16-1.42-5.81a24.21,24.21,0,0,1-6-2.37l-5,3.27-7.11-6.88,3.11-5.12a24.46,24.46,0,0,1-2.57-5.92l-5.85-1.22-.16-9.9,5.81-1.42Zm13,5.61a10.62,10.62,0,1,0,10.44-10.79A10.62,10.62,0,0,0,127.46,225.22Z",style:{fill:"#ebebeb",fillRule:"evenodd"}}),e.jsx("path",{d:"M342.47,194a7,7,0,0,1,.68-1.73l-.94-1.45,2-2.05,1.47.9a7.28,7.28,0,0,1,1.71-.75l.35-1.69,2.86,0,.41,1.67a7.27,7.27,0,0,1,1.73.69l1.45-.94,2.05,2-.89,1.48a7.25,7.25,0,0,1,.74,1.71l1.69.35,0,2.86-1.67.41a7.44,7.44,0,0,1-.69,1.73l.95,1.45-2,2-1.48-.9a6.86,6.86,0,0,1-1.71.74l-.35,1.69-2.86.05-.41-1.68a7,7,0,0,1-1.73-.68l-1.45.94-2.05-2,.9-1.48a6.86,6.86,0,0,1-.74-1.71l-1.69-.35,0-2.86,1.68-.41Zm3.76,1.62a3.07,3.07,0,1,0,3-3.12A3.07,3.07,0,0,0,346.23,195.66Z",style:{fill:"#ebebeb",fillRule:"evenodd"}}),e.jsx("path",{d:"M48.58,223.62a9.94,9.94,0,0,1,1-2.39l-1.31-2L51,216.38l2,1.24a9.36,9.36,0,0,1,2.36-1l.49-2.34,4-.07.57,2.32a10.37,10.37,0,0,1,2.39,1l2-1.3,2.84,2.75-1.24,2a9.81,9.81,0,0,1,1,2.37l2.34.49.07,3.95-2.33.57a10,10,0,0,1-.94,2.4l1.3,2-2.75,2.84-2-1.24a9.43,9.43,0,0,1-2.37,1l-.49,2.34-4,.07-.57-2.32a10,10,0,0,1-2.4-.95l-2,1.31L48.45,233l1.24-2a9.28,9.28,0,0,1-1-2.37l-2.34-.49-.07-3.95,2.32-.57Zm5.22,2.24A4.24,4.24,0,1,0,58,221.55,4.24,4.24,0,0,0,53.8,225.86Z",style:{fill:"#ebebeb",fillRule:"evenodd"}}),e.jsx("path",{d:"M408.34,159.92a22.21,22.21,0,0,1,2.17-5.49l-3-4.58,6.3-6.51,4.67,2.84a22.38,22.38,0,0,1,5.42-2.34l1.12-5.36,9.05-.15,1.3,5.32a22.37,22.37,0,0,1,5.49,2.17l4.58-3,6.5,6.29-2.84,4.68a22,22,0,0,1,2.35,5.41l5.36,1.13.14,9-5.31,1.29a22.06,22.06,0,0,1-2.17,5.49l3,4.58-6.3,6.51-4.67-2.84a22.4,22.4,0,0,1-5.42,2.35L435,192.12l-9,.15-1.3-5.32a22,22,0,0,1-5.49-2.17l-4.58,3-6.5-6.3,2.84-4.68a22,22,0,0,1-2.35-5.41l-5.35-1.12-.15-9.06,5.31-1.29Zm11.94,5.13a9.71,9.71,0,1,0,9.55-9.87A9.7,9.7,0,0,0,420.28,165.05Z",style:{fill:"#ebebeb",fillRule:"evenodd"}}),e.jsx("path",{d:"M62.94,310.83a19.9,19.9,0,0,1,2-5l-2.71-4.15,5.7-5.89,4.23,2.58a19.83,19.83,0,0,1,4.9-2.13l1-4.85,8.19-.13,1.18,4.81a20.21,20.21,0,0,1,5,2l4.14-2.71,5.89,5.7-2.57,4.23a20.18,20.18,0,0,1,2.12,4.9l4.85,1,.14,8.19-4.82,1.18a20.19,20.19,0,0,1-2,5l2.71,4.14-5.7,5.89L93,333a20.26,20.26,0,0,1-4.9,2.13L87,340l-8.2.14-1.17-4.81a20.29,20.29,0,0,1-5-2l-4.15,2.71-5.89-5.7,2.58-4.24a19.51,19.51,0,0,1-2.13-4.9l-4.85-1-.13-8.2,4.81-1.17Zm10.8,4.64a8.8,8.8,0,1,0,8.65-8.93A8.79,8.79,0,0,0,73.74,315.47Z",style:{fill:"#f5f5f5",fillRule:"evenodd"}}),e.jsx("path",{d:"M234.89,141.28a9.07,9.07,0,0,1,.85-2.17l-1.18-1.8,2.49-2.57,1.84,1.12a8.8,8.8,0,0,1,2.13-.92l.45-2.11,3.56-.06.51,2.09a8.55,8.55,0,0,1,2.17.86l1.8-1.18,2.57,2.48L251,138.87a8.42,8.42,0,0,1,.92,2.13l2.11.44.06,3.57-2.09.51a8.7,8.7,0,0,1-.86,2.17l1.18,1.8-2.48,2.57L248,150.94a8.87,8.87,0,0,1-2.14.92l-.44,2.11-3.57.06-.51-2.09a8.48,8.48,0,0,1-2.16-.86l-1.81,1.18-2.56-2.48,1.12-1.85a8.82,8.82,0,0,1-.93-2.13l-2.11-.44-.06-3.57,2.1-.51Zm4.7,2a3.83,3.83,0,1,0,3.77-3.89A3.84,3.84,0,0,0,239.59,143.3Z",style:{fill:"#f5f5f5",fillRule:"evenodd"}}),e.jsx("path",{d:"M420,390.92c4.5-2.32,9.79-2.62,14.78-1.8,2.69.45,5.48,1.25,7.31,3.26s2.17,5.56.07,7.29a6.91,6.91,0,0,1-4.6,1.17c-3.91,0-8.25-.73-11.37,1.62-1.78,1.34-3,3.57-5.1,4.23a5,5,0,0,1-5.54-2.46,8.6,8.6,0,0,1-.62-6.35A9.7,9.7,0,0,1,420,390.92Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M409.66,371c2.75,3.93,8.09,2.63,10.57.23s3.52-5.87,4.48-9.18c2.18-7.57,4.37-15.52,2.75-23.23a12.86,12.86,0,0,0-3-6.31,6.72,6.72,0,0,0-6.39-2.12c-2.69.71-4.37,3.35-5.58,5.86A55.35,55.35,0,0,0,407.06,360c0,3.83.44,7.84,2.6,11",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M402.11,376.67c3-3.55,3.55-8.72,2.22-13.16s-4.33-8.21-7.79-11.29a41.81,41.81,0,0,0-14-8.23,14.87,14.87,0,0,0-6.27-1.07,6.55,6.55,0,0,0-5.26,3.19c-1.47,2.8-.07,6.19,1.46,9A106.42,106.42,0,0,0,381.68,369c2.74,3.54,5.89,7,10.07,8.63s8.54,1.42,10.75-1.49",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M409.47,430.28a8.48,8.48,0,0,0,.25-1.79c.13-1.3.28-2.93.47-4.87a70.83,70.83,0,0,1,1.1-7.14,54.77,54.77,0,0,1,2.6-8.44,31.09,31.09,0,0,1,4.3-7.62,16,16,0,0,1,5.44-4.53,15.56,15.56,0,0,1,4.59-1.43,8.61,8.61,0,0,0,1.78-.25,7.68,7.68,0,0,0-1.81,0,14,14,0,0,0-4.78,1.24,16,16,0,0,0-5.74,4.57,30,30,0,0,0-4.47,7.78,52.18,52.18,0,0,0-2.58,8.57,62.27,62.27,0,0,0-.95,7.23c-.15,2.07-.21,3.75-.24,4.9A8.89,8.89,0,0,0,409.47,430.28Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M409.81,426.53a3.84,3.84,0,0,0,0-.83v-2.37c0-2.05,0-5,.1-8.7.19-7.34.82-15.25,2-26.39,1.16-10.48,2.71-22.68,4.35-30.61.35-1.8.7-3.42,1-4.84s.59-2.66.86-3.65.4-1.7.55-2.3a2.94,2.94,0,0,0,.14-.82,4,4,0,0,0-.28.78l-.69,2.27c-.31,1-.62,2.2-1,3.62s-.76,3-1.14,4.83a268.55,268.55,0,0,0-4.57,28.4c-1.23,11.17-1.78,21.34-1.83,28.7,0,3.68,0,6.66.13,8.72.06,1,.11,1.74.15,2.37A3.14,3.14,0,0,0,409.81,426.53Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M409.86,406.92a16.24,16.24,0,0,0,0-2.48c-.09-1.59-.31-3.88-.76-6.7A87.45,87.45,0,0,0,406.9,388a79.53,79.53,0,0,0-4.08-11.56,61.73,61.73,0,0,0-12-18.67,30.88,30.88,0,0,0-2.82-2.62c-.44-.37-.82-.73-1.21-1l-1.09-.76a15.66,15.66,0,0,0-2.09-1.33c-.11.16,2.95,2,6.83,6.09a64.87,64.87,0,0,1,11.69,18.6,91.53,91.53,0,0,1,4.11,11.45c1.07,3.59,1.78,6.89,2.32,9.67s.8,5.06,1,6.64A14.61,14.61,0,0,0,409.86,406.92Z",style:{fill:"#ebebeb"}}),e.jsx("polygon",{points:"390.9 441.51 392.87 468.43 427.45 468.43 429.42 441.51 390.9 441.51",style:{fill:"#ebebeb"}}),e.jsx("rect",{x:"387.56",y:"430.9",width:"45.98",height:"10.61",style:{fill:"#ebebeb"}}),e.jsx("polygon",{points:"387.56 467.4 387.56 470.35 389.72 470.35 432.78 470.35 432.78 467.4 387.56 467.4",style:{fill:"#ebebeb"}}),e.jsx("polygon",{points:"391.84 475.52 389.72 470.35 431.14 470.35 428.67 475.52 391.84 475.52",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M428.77,450.31s0,.09-.16.25l-.51.68-2,2.58-.09.12-.08-.12L421,447h.28l-4.87,6.9-.16.22-.17-.21L410.26,447h.34l-.32.4-5.17,6.48-.17.22-.16-.23L399.9,447l.29,0c-2.41,2.73-4.44,5.06-6,6.84l-.1.12-.09-.14-1.88-3.16-.48-.84a1.64,1.64,0,0,1-.15-.3,1.92,1.92,0,0,1,.21.27l.53.81,2,3.1H394c1.53-1.81,3.54-4.16,5.9-6.93l.15-.17.14.18,4.92,6.87h-.33l5.15-6.49.32-.4.16-.2.17.2,5.77,6.89H416l4.93-6.86.14-.2.14.2,4.85,6.92h-.18c.88-1.06,1.58-1.9,2.1-2.51l.56-.65Z",style:{fill:"#f5f5f5"}}),e.jsx("path",{d:"M429.9,441.33c0,.12-8.67.22-19.36.22s-19.35-.1-19.35-.22,8.66-.21,19.35-.21S429.9,441.21,429.9,441.33Z",style:{fill:"#f5f5f5"}}),e.jsx("path",{d:"M431.65,470.63c0,.12-9.42.22-21,.22s-21-.1-21-.22,9.42-.21,21-.21S431.65,470.52,431.65,470.63Z",style:{fill:"#f5f5f5"}}),e.jsx("path",{d:"M67.42,169.17a10.87,10.87,0,0,1,1.79,0c.58,0,1.29,0,2.1.06s1.76.09,2.78.22a64.67,64.67,0,0,1,7.17,1.13A71.67,71.67,0,0,1,89.8,173a72,72,0,0,1,8.12,3.61,62.75,62.75,0,0,1,6.21,3.76c.87.56,1.6,1.14,2.27,1.62s1.21.93,1.65,1.31a12.38,12.38,0,0,1,1.34,1.19,10.53,10.53,0,0,1-1.47-1c-.46-.35-1-.77-1.7-1.23s-1.42-1-2.29-1.56c-1.71-1.13-3.83-2.37-6.23-3.63a76.93,76.93,0,0,0-8.08-3.55,77.6,77.6,0,0,0-8.46-2.5,72.05,72.05,0,0,0-7.11-1.24c-1-.15-1.94-.2-2.76-.29s-1.51-.12-2.09-.15A11.41,11.41,0,0,1,67.42,169.17Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M48.89,280.58a3.13,3.13,0,0,1,.54-.46l1.6-1.21c.69-.53,1.56-1.17,2.6-1.85s2.19-1.5,3.54-2.29,2.79-1.71,4.42-2.57,3.37-1.76,5.23-2.67a109,109,0,0,1,12.52-4.92,110.78,110.78,0,0,1,13.07-3.19c2-.32,4-.66,5.82-.83s3.53-.36,5.09-.45,3-.13,4.22-.16,2.31,0,3.18,0l2,.07a3.2,3.2,0,0,1,.7.06,3.45,3.45,0,0,1-.7,0l-2,0c-.87,0-1.94,0-3.18.08s-2.64.08-4.19.24-3.26.25-5.07.51-3.75.54-5.78.87a114.31,114.31,0,0,0-13,3.22A115.86,115.86,0,0,0,67,270c-1.85.9-3.62,1.73-5.22,2.62s-3.1,1.71-4.44,2.5-2.52,1.57-3.57,2.23-1.93,1.26-2.64,1.76l-1.66,1.14A4.71,4.71,0,0,1,48.89,280.58Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M120.76,334.33a2.15,2.15,0,0,1,.07-.54l.3-1.54c.13-.66.31-1.47.55-2.4s.48-2,.83-3.17c.65-2.34,1.54-5.08,2.67-8.09s2.53-6.24,4.18-9.56,3.44-6.36,5.15-9.08,3.4-5.06,4.89-7c.72-1,1.43-1.81,2-2.56s1.14-1.37,1.6-1.88l1-1.16c.25-.26.38-.39.4-.38a2.17,2.17,0,0,1-.32.45c-.25.33-.58.73-1,1.22s-.95,1.17-1.53,1.94-1.27,1.61-2,2.6c-1.44,1.93-3.06,4.31-4.77,7s-3.43,5.76-5.09,9.06-3,6.52-4.21,9.49-2.07,5.71-2.76,8c-.37,1.16-.64,2.22-.9,3.14s-.47,1.72-.63,2.38-.29,1.11-.4,1.51A2.61,2.61,0,0,1,120.76,334.33Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M256.62,59.85a4,4,0,0,1-.39.6L255,62.14c-.53.72-1.17,1.61-1.87,2.67s-1.55,2.24-2.39,3.6S249,71.24,248,72.87s-1.93,3.39-2.95,5.24c-2,3.75-4,8-5.83,12.47s-3.32,8.94-4.53,13c-.56,2-1.13,4-1.55,5.81s-.82,3.54-1.15,5.11-.57,3-.8,4.24-.4,2.34-.52,3.23-.24,1.52-.32,2a3.25,3.25,0,0,1-.15.7,3.9,3.9,0,0,1,0-.72c.06-.52.13-1.2.23-2s.22-2,.44-3.24.39-2.7.72-4.27.64-3.31,1.09-5.14,1-3.79,1.51-5.84c1.19-4.08,2.67-8.52,4.5-13.07s3.9-8.75,5.9-12.49c1-1.86,2-3.63,3-5.24s1.92-3.1,2.8-4.44,1.73-2.52,2.46-3.56,1.39-1.93,2-2.63.95-1.22,1.28-1.63A2.87,2.87,0,0,1,256.62,59.85Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M346.65,163.74a2.88,2.88,0,0,1-.6.11l-1.73.23-1.25.15c-.46.07-.95.18-1.47.27-1.06.22-2.27.39-3.57.77l-2,.53c-.72.19-1.44.46-2.19.7-1.53.46-3.09,1.14-4.74,1.81a57.83,57.83,0,0,0-18.89,13.27c-1.19,1.33-2.36,2.57-3.3,3.85-.48.63-1,1.21-1.41,1.81L304.26,189c-.8,1.09-1.37,2.18-1.93,3.09-.27.47-.54.89-.76,1.3l-.56,1.12-.8,1.55a2.44,2.44,0,0,1-.32.53,3.28,3.28,0,0,1,.22-.57c.19-.42.42-1,.72-1.6l.52-1.15c.21-.41.47-.84.73-1.32a36.3,36.3,0,0,1,1.87-3.16l1.18-1.78c.41-.62.91-1.21,1.39-1.85.94-1.3,2.1-2.56,3.29-3.91a56.24,56.24,0,0,1,19.05-13.38c1.67-.66,3.25-1.33,4.79-1.78.77-.23,1.5-.5,2.22-.68l2.07-.5a34.58,34.58,0,0,1,3.61-.69c.53-.09,1-.18,1.49-.23l1.26-.11,1.74-.13A2.18,2.18,0,0,1,346.65,163.74Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M420.18,223.25l-.26-.08-.75-.25-2.87-1-2.07-.76c-.76-.26-1.6-.51-2.5-.8-1.79-.56-3.81-1.27-6.11-1.85l-3.58-1c-1.25-.34-2.57-.6-3.92-.92-2.7-.67-5.64-1.16-8.71-1.72a150.92,150.92,0,0,0-40.57-1.24c-3.1.37-6.06.68-8.8,1.18-1.37.24-2.7.42-4,.68l-3.63.75c-2.33.44-4.39,1-6.22,1.48-.91.23-1.76.43-2.53.64l-2.12.63-2.92.86-.77.21a1,1,0,0,1-.27,0l.25-.1.75-.26,2.9-1,2.11-.67c.77-.23,1.62-.45,2.53-.7,1.82-.47,3.88-1.08,6.21-1.55l3.64-.79c1.26-.27,2.6-.46,4-.7,2.75-.53,5.71-.85,8.82-1.24a147.09,147.09,0,0,1,40.7,1.25c3.08.58,6,1.08,8.72,1.77,1.36.33,2.68.6,3.93,1l3.58,1c2.3.61,4.31,1.35,6.1,1.93.9.3,1.73.57,2.49.85l2.06.8,2.84,1.12.73.31C420.1,223.2,420.19,223.24,420.18,223.25Z",style:{fill:"#ebebeb"}})]}),e.jsxs("g",{children:[e.jsx("path",{d:"M264.75,59.34V87.86c-6.47,6.35-29.85,29.93-29.85,29.93h29.85v22.45a14.49,14.49,0,0,0,14.35,14.48l165.48,1.56a14.47,14.47,0,0,0,14.61-14.48V59.34a14.48,14.48,0,0,0-14.48-14.48H279.23A14.48,14.48,0,0,0,264.75,59.34Z",style:{fill:"#fafafa"}}),e.jsx("path",{d:"M264.75,59.34s0-.55.06-1.62a14.69,14.69,0,0,1,1.28-4.58,14.45,14.45,0,0,1,1.84-3,15.57,15.57,0,0,1,3.12-2.88,14.65,14.65,0,0,1,4.5-2.05,20.3,20.3,0,0,1,5.6-.5l67.24-.1,46.43,0,25.87,0H444.6c.59,0,1.19,0,1.78.1a13.38,13.38,0,0,1,1.77.31,14.76,14.76,0,0,1,10.43,9.27,15.07,15.07,0,0,1,.85,3.58c.08,1.24.08,2.45.07,3.67q0,3.65,0,7.33V98.88q0,15.32,0,31.15V142a15.29,15.29,0,0,1-.6,4,14.71,14.71,0,0,1-4.36,6.85,13.65,13.65,0,0,1-3.42,2.29,14.62,14.62,0,0,1-3.94,1.26,20.55,20.55,0,0,1-3.91.2l-3.85,0-7.68-.08-15.2-.14-29.75-.29-56.41-.55-51.3-.51a14.77,14.77,0,0,1-10.74-4.82,15,15,0,0,1-3.86-10.71q0-11.27,0-21.67l.24.24-29.85,0h-.49l.35-.35,29.9-29.89,0,.1c0-9.26.05-16.39.06-21.21,0-2.4,0-4.22,0-5.46s0-1.85,0-1.85,0,.62,0,1.85,0,3.06,0,5.46c0,4.82,0,11.95.07,21.21v0l0,0-29.8,30-.15-.35,29.85,0H265v.24q0,10.39,0,21.67a14.47,14.47,0,0,0,3.74,10.35,14.23,14.23,0,0,0,10.35,4.63l51.3.46,56.4.51,29.76.28,15.2.14,7.67.07,3.86,0a19.18,19.18,0,0,0,3.8-.2,14.22,14.22,0,0,0,11.19-9.93,14.43,14.43,0,0,0,.58-3.86c0-1.33,0-2.66,0-4V98.88q0-15.31,0-30.06,0-3.69,0-7.33c0-1.22,0-2.43-.08-3.6a15,15,0,0,0-.8-3.44,14.17,14.17,0,0,0-10-8.89c-2.23-.59-4.57-.36-6.89-.41h-46.3l-46.43,0L281.15,45a19.83,19.83,0,0,0-5.55.47,14.43,14.43,0,0,0-4.44,2,15.23,15.23,0,0,0-3.1,2.82,14.05,14.05,0,0,0-1.85,2.94A15.4,15.4,0,0,0,264.75,59.34Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M317.31,124.67H314v4.41h-1.73v-4.41h-9.46v-1.25l8.89-11.11h1.92L305,123.14h7.28v-3.88H314v3.88h3.35Z"}),e.jsx("path",{d:"M318.89,120.69c0-5.34,2.8-8.52,6.68-8.52s6.71,3.18,6.71,8.52-2.83,8.53-6.71,8.53S318.89,126,318.89,120.69Zm11.62,0c0-4.48-2-6.94-4.94-6.94s-4.93,2.46-4.93,6.94,2,7,4.93,7S330.51,125.17,330.51,120.69Z"}),e.jsx("path",{d:"M349,124.67h-3.35v4.41h-1.72v-4.41h-9.47v-1.25l8.89-11.11h1.92l-8.58,10.83H344v-3.88h1.68v3.88H349Z"}),e.jsx("path",{d:"M370.32,127.54v1.54H358.46V112.31H370v1.53h-9.73v6h8.67v1.51h-8.67v6.22Z"}),e.jsx("path",{d:"M380.47,116.38V118l-.41,0c-2.63,0-4.24,1.68-4.24,4.65v6.42h-1.7v-12.6h1.63v2.46C376.54,117.27,378.14,116.38,380.47,116.38Z"}),e.jsx("path",{d:"M389.88,116.38V118l-.41,0c-2.63,0-4.24,1.68-4.24,4.65v6.42h-1.7v-12.6h1.63v2.46C386,117.27,387.56,116.38,389.88,116.38Z"}),e.jsx("path",{d:"M391.55,122.78A6.41,6.41,0,1,1,398,129.2,6.2,6.2,0,0,1,391.55,122.78Zm11.09,0a4.69,4.69,0,1,0-4.67,4.91A4.59,4.59,0,0,0,402.64,122.78Z"}),e.jsx("path",{d:"M414.19,116.38V118l-.41,0c-2.64,0-4.24,1.68-4.24,4.65v6.42h-1.7v-12.6h1.63v2.46C410.26,117.27,411.86,116.38,414.19,116.38Z"}),e.jsx("path",{d:"M303.91,84.5c0-7.87,6.13-13.7,14.49-13.7s14.5,5.79,14.5,13.7-6.17,13.7-14.5,13.7S303.91,92.37,303.91,84.5Zm22.78,0A8.29,8.29,0,1,0,318.4,93,8.09,8.09,0,0,0,326.69,84.5Z"}),e.jsx("path",{d:"M335.58,87.56c0-6.13,4.73-10.48,11.2-10.48s11.16,4.35,11.16,10.48S353.25,98,346.78,98,335.58,93.69,335.58,87.56Zm16.38,0c0-3.51-2.23-5.63-5.18-5.63s-5.23,2.12-5.23,5.63,2.27,5.64,5.23,5.64S352,91.08,352,87.56Z"}),e.jsx("path",{d:"M384,87.56C384,94,379.61,98,373.9,98a7.92,7.92,0,0,1-6.13-2.45v9.49h-5.9V77.39h5.64v2.34a7.89,7.89,0,0,1,6.39-2.65C379.61,77.08,384,81.17,384,87.56Zm-6,0c0-3.51-2.23-5.63-5.18-5.63s-5.18,2.12-5.18,5.63,2.23,5.64,5.18,5.64S378.06,91.08,378.06,87.56Z"}),e.jsx("path",{d:"M386,95.85l2-4.24a13.88,13.88,0,0,0,7.08,2c2.72,0,3.74-.72,3.74-1.85,0-3.33-12.29.07-12.29-8.06,0-3.86,3.48-6.59,9.42-6.59a16.79,16.79,0,0,1,7.83,1.78l-2,4.2a11.72,11.72,0,0,0-5.86-1.51c-2.65,0-3.79.83-3.79,1.89,0,3.48,12.3.11,12.3,8.13,0,3.79-3.52,6.47-9.61,6.47A17.51,17.51,0,0,1,386,95.85Z"}),e.jsx("path",{d:"M407.19,94.6a3.64,3.64,0,0,1,7.26,0,3.64,3.64,0,0,1-7.26,0Zm.11-23.34h7l-1.17,17.29h-4.69Z"})]}),e.jsxs("g",{children:[e.jsx("path",{d:"M175.84,45.12h1.32a13.95,13.95,0,0,1,13.95,13.95v3.77a13.95,13.95,0,0,1-13.95,13.95h-1.32a0,0,0,0,1,0,0V45.12A0,0,0,0,1,175.84,45.12Z",transform:"translate(10.33 146.97) rotate(-44.79)",style:{fill:"#455a64"}}),e.jsx("path",{d:"M189.22,77.6h0l-22.33-22.5h0l.93-.93a13.9,13.9,0,0,1,9.85-4.06h.05a13.91,13.91,0,0,1,9.87,4.12l2.66,2.68a14,14,0,0,1-.07,19.77ZM166.94,55.09l22.28,22.44.92-.91a13.93,13.93,0,0,0,.07-19.69l-2.66-2.68a13.81,13.81,0,0,0-9.83-4.11h-.05a13.83,13.83,0,0,0-9.81,4Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M97.86,121.34h1.32a13.95,13.95,0,0,1,13.95,13.95v3.77a14,14,0,0,1-14,14H97.86a0,0,0,0,1,0,0V121.34A0,0,0,0,1,97.86,121.34Z",transform:"translate(276.05 166.43) rotate(137.3)",style:{fill:"#455a64"}}),e.jsx("path",{d:"M111.43,148.25h-.58a13.91,13.91,0,0,1-9.71-4.48L98.59,141a14,14,0,0,1,.79-19.75l1-.91,0,0,21.49,23.29,0,0-1,.9A13.86,13.86,0,0,1,111.43,148.25Zm-12-27A13.93,13.93,0,0,0,98.62,141l2.56,2.77a13.85,13.85,0,0,0,9.68,4.47h.57a13.83,13.83,0,0,0,9.43-3.69l1-.88-21.44-23.24Z",style:{fill:"#263238"}}),e.jsx("rect",{x:"93.19",y:"89.53",width:"2.5",height:"20.69",transform:"translate(-42.59 110.68) rotate(-51.11)",style:{fill:"#455a64"}}),e.jsx("path",{d:"M88.22,88.3a5.1,5.1,0,1,1-7.17.77A5.12,5.12,0,0,1,88.22,88.3Z",style:{fill:"#263238"}}),e.jsx("rect",{x:"102.48",y:"70.93",width:"99.18",height:"74.84",rx:"16.5",transform:"translate(-32.18 138.62) rotate(-44.8)",style:{fill:"#4453FF"}}),e.jsx("polygon",{points:"150.5 57.18 148.29 48.75 142.54 49.7 140.88 43.61 142.76 43.18 144.07 47.61 149.81 46.83 152.21 55.48 150.5 57.18",style:{fill:"#455a64"}}),e.jsx("rect",{x:"101.79",y:"85.29",width:"85.13",height:"30.57",rx:"13.96",transform:"translate(-28.95 130.92) rotate(-44.8)",style:{fill:"#263238"}}),e.jsx("path",{d:"M177.66,95s.12-.16.37-.45a14.86,14.86,0,0,0,1.1-1.33,16.84,16.84,0,0,0,2.93-5.87,18.94,18.94,0,0,0,.67-4.7,18.57,18.57,0,0,0-.9-5.56,17.22,17.22,0,0,0-3.12-5.65l-1.18-1.3-1.28-1.28a26.54,26.54,0,0,0-2.76-2.52A17.67,17.67,0,0,0,166.27,63a17.88,17.88,0,0,0-8.56.5,17.5,17.5,0,0,0-4.12,1.92,21.42,21.42,0,0,0-3.62,3l-7.05,7-31.43,31.23a17.41,17.41,0,0,0-5,10.11,18.06,18.06,0,0,0,.18,5.59,17.88,17.88,0,0,0,3.44,7.41c.59.69,1.17,1.36,1.83,2a30.29,30.29,0,0,0,3.94,3.62,17.35,17.35,0,0,0,19,.87,18.61,18.61,0,0,0,2-1.33c.6-.51,1.19-1,1.74-1.57l3.29-3.25,12-11.85,17.37-17.13L176,96.55l1.24-1.2c.28-.26.44-.39.44-.39s-.13.15-.4.43l-1.21,1.24-4.67,4.7-17.26,17.25-11.93,11.9-3.27,3.26c-.56.55-1.17,1.08-1.77,1.6a19.85,19.85,0,0,1-2,1.38,17.84,17.84,0,0,1-19.52-.86,32.38,32.38,0,0,1-4-3.67c-.65-.63-1.26-1.34-1.87-2a20.56,20.56,0,0,1-1.56-2.33,17.65,17.65,0,0,1-2-5.3,18.52,18.52,0,0,1-.19-5.76,17.85,17.85,0,0,1,5.11-10.4l31.46-31.21,7.07-7a22,22,0,0,1,3.7-3.07,17.72,17.72,0,0,1,20.36.93,26.56,26.56,0,0,1,2.79,2.57l1.27,1.29L179,71.18A17.6,17.6,0,0,1,182.11,77a18.15,18.15,0,0,1,.86,5.65,19.29,19.29,0,0,1-.71,4.76,16.84,16.84,0,0,1-3,5.88,12.48,12.48,0,0,1-1.15,1.29Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M125.76,126.43a78.3,78.3,0,0,1-.39-9,75.7,75.7,0,0,1,.14-9,80.3,80.3,0,0,1,.38,9A79.51,79.51,0,0,1,125.76,126.43Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M134.47,116.72a74.85,74.85,0,0,1-9,.67,81.18,81.18,0,0,1-9,.15,75.16,75.16,0,0,1,9-.67A81,81,0,0,1,134.47,116.72Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M161.4,90.11a78.76,78.76,0,0,1-.39-9,75.37,75.37,0,0,1,.14-9,80.3,80.3,0,0,1,.38,9A79.51,79.51,0,0,1,161.4,90.11Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M170.11,80.4a80.16,80.16,0,0,1-9,.67,76.89,76.89,0,0,1-9,.14,79.21,79.21,0,0,1,9-.66A78.18,78.18,0,0,1,170.11,80.4Z",style:{fill:"#fff"}}),e.jsx("circle",{cx:"140.64",cy:"39.98",r:"5.1",transform:"translate(-0.6 2.18) rotate(-0.89)",style:{fill:"#263238"}}),e.jsx("path",{d:"M156.51,156.68a5.09,5.09,0,0,1-.88-.73c-.55-.49-1.32-1.22-2.27-2.12-1.89-1.8-4.49-4.33-7.32-7.14s-5.38-5.38-7.2-7.27a22.26,22.26,0,0,1-2.81-3.18,11.05,11.05,0,0,1,.84.77l2.23,2.15c2,1.91,4.5,4.41,7.3,7.16s5.39,5.38,7.22,7.25l2.15,2.24A4.71,4.71,0,0,1,156.51,156.68Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M199.82,113.05a4.79,4.79,0,0,1-.88-.73c-.54-.49-1.31-1.21-2.26-2.11-1.9-1.81-4.49-4.33-7.33-7.14s-5.38-5.39-7.19-7.28a22.6,22.6,0,0,1-2.81-3.17,7.79,7.79,0,0,1,.84.76l2.23,2.15,7.3,7.17c2.84,2.81,5.39,5.37,7.22,7.24l2.15,2.24A4.24,4.24,0,0,1,199.82,113.05Z",style:{fill:"#263238"}}),e.jsx("rect",{x:"136.8",y:"116.58",width:"52.15",height:"5.72",transform:"translate(-36.5 151.76) rotate(-45.46)",style:{fill:"#263238"}}),e.jsx("path",{d:"M137.6,142.82a1.1,1.1,0,1,1-1-1.13A1.09,1.09,0,0,1,137.6,142.82Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M145.94,151.63a1.1,1.1,0,0,1-2.19-.09,1.1,1.1,0,0,1,2.19.09Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M186.62,92.91a1.1,1.1,0,0,1-1.14,1,1.1,1.1,0,1,1,.09-2.19A1.08,1.08,0,0,1,186.62,92.91Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M195,101.72a1.09,1.09,0,1,1-2.18-.09,1.09,1.09,0,1,1,2.18.09Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M105.45,144a27.16,27.16,0,0,0-2.31-2.05c-.75-.59-1.7-1.23-2.67-2.09a10.37,10.37,0,0,1-2.54-3.34,11.3,11.3,0,0,1-.79-7.48,8.89,8.89,0,0,1,.82-2.15c.28-.47.44-.72.47-.7a22.92,22.92,0,0,0-.93,2.93,11.54,11.54,0,0,0,.9,7.17c1.2,2.66,3.53,4.12,5,5.37A7,7,0,0,1,105.45,144Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M148.92,63.53c.1.1-10.41,10.48-23.47,23.17s-23.75,22.91-23.85,22.81S112,99,125.08,86.33,148.82,63.43,148.92,63.53Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M83.92,95.87c0,.06-.52,0-1.19-.45a4.1,4.1,0,0,1-1.2-5.6c.44-.69.88-.95.92-.9s-.28.41-.59,1.07a4.45,4.45,0,0,0-.36,2.76A4.4,4.4,0,0,0,83,95.13C83.51,95.61,84,95.79,83.92,95.87Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M139.46,43.69c0,.06-.57,0-1.28-.51a4.16,4.16,0,0,1-.78-6c.56-.67,1.08-.88,1.11-.83s-.37.38-.81,1a4.18,4.18,0,0,0,.71,5.55C139,43.42,139.49,43.61,139.46,43.69Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M177.32,51.71a22.58,22.58,0,0,0-4.11.94,23.1,23.1,0,0,0-3.63,2.13A6.58,6.58,0,0,1,173,52.16,6.69,6.69,0,0,1,177.32,51.71Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M135.81,158.46a103.24,103.24,0,0,1-7.47-7.35c-4-4.16-7.19-7.61-7.08-7.71s3.44,3.19,7.46,7.35S135.91,158.36,135.81,158.46Z",style:{fill:"#fff"}}),e.jsx("rect",{x:"208.44",y:"398.62",width:"42.79",height:"60.65",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M208.77,458.23h42.14a5.7,5.7,0,0,1,5.7,5.7v.54a0,0,0,0,1,0,0H203.06a0,0,0,0,1,0,0v-.54A5.7,5.7,0,0,1,208.77,458.23Z",style:{fill:"#263238"}}),e.jsx("rect",{x:"198.18",y:"464.47",width:"64.99",height:"9.88",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M251,452.61c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S251,452.46,251,452.61Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M251,445.39c0,.15-9.48.26-21.18.26s-21.19-.11-21.19-.26,9.48-.26,21.19-.26S251,445.25,251,445.39Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M251,438.31c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S251,438.17,251,438.31Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M251,431.1c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S251,431,251,431.1Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M251,424c0,.15-9.48.26-21.18.26s-21.19-.11-21.19-.26,9.48-.26,21.19-.26S251,423.87,251,424Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M251,416.8c0,.15-9.48.26-21.18.26s-21.19-.11-21.19-.26,9.48-.26,21.19-.26S251,416.66,251,416.8Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M251,409.72c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S251,409.57,251,409.72Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M251,402.51c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S251,402.36,251,402.51Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("polygon",{points:"208.44 407.07 251.02 405.89 251.02 399.71 208.06 399.71 208.44 407.07"})}),e.jsx("rect",{x:"275.46",y:"398.62",width:"42.79",height:"60.65",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M275.79,458.23h42.14a5.7,5.7,0,0,1,5.7,5.7v.54a0,0,0,0,1,0,0H270.08a0,0,0,0,1,0,0v-.54A5.7,5.7,0,0,1,275.79,458.23Z",style:{fill:"#263238"}}),e.jsx("rect",{x:"265.2",y:"464.47",width:"64.99",height:"9.88",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M318,452.61c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S318,452.46,318,452.61Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M318,445.39c0,.15-9.48.26-21.18.26s-21.19-.11-21.19-.26,9.48-.26,21.19-.26S318,445.25,318,445.39Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M318,438.31c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S318,438.17,318,438.31Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M318,431.1c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S318,431,318,431.1Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M318,424c0,.15-9.48.26-21.18.26s-21.19-.11-21.19-.26,9.48-.26,21.19-.26S318,423.87,318,424Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M318,416.8c0,.15-9.48.26-21.18.26s-21.19-.11-21.19-.26,9.48-.26,21.19-.26S318,416.66,318,416.8Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M318,409.72c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S318,409.57,318,409.72Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M318,402.51c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S318,402.36,318,402.51Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("polygon",{points:"275.46 407.07 318.04 405.89 318.04 399.71 275.08 399.71 275.46 407.07"})}),e.jsx("path",{d:"M328.17,223.65h4.32a1.83,1.83,0,0,1,1.83,1.83v17.68a0,0,0,0,1,0,0h-8a0,0,0,0,1,0,0V225.49a1.83,1.83,0,0,1,1.83-1.83Z",transform:"translate(23.16 496.55) rotate(-75.83)",style:{fill:"#4453FF"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M328.17,223.65h4.32a1.83,1.83,0,0,1,1.83,1.83v17.68a0,0,0,0,1,0,0h-8a0,0,0,0,1,0,0V225.49a1.83,1.83,0,0,1,1.83-1.83Z",transform:"translate(23.16 496.55) rotate(-75.83)"})}),e.jsx("path",{d:"M323.82,237.7h5.94a3,3,0,0,1,3,3v16.47a0,0,0,0,1,0,0h-12a0,0,0,0,1,0,0V240.74A3,3,0,0,1,323.82,237.7Z",transform:"translate(6.87 503.72) rotate(-75.83)",style:{fill:"#4453FF"}}),e.jsx("rect",{x:"324.34",y:"237.02",width:"20.39",height:"7.7",transform:"translate(19.11 506.26) rotate(-75.83)",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M345.68,310.42s31.95-1.3,29.31-31.92c-2-23.45-36.91-23.66-36.91-23.66L347,235.35s40.76,3.55,48.81,33.23c9.09,33.54-11.93,60.89-50.13,60.25Z",style:{fill:"#4453FF"}}),e.jsx("rect",{x:"334.32",y:"230.94",width:"12.44",height:"27.68",transform:"translate(60.85 -67.72) rotate(12.46)",style:{fill:"#263238"}}),e.jsx("path",{d:"M344.16,256.78c0,.23-2.76-.24-6.05-1a35.59,35.59,0,0,1-5.91-1.64,37.84,37.84,0,0,1,6,1.13c1.65.38,3.14.74,4.21,1l1.27.34A2.12,2.12,0,0,1,344.16,256.78Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M345.23,251.91c0,.23-2.75-.24-6.05-1a34.18,34.18,0,0,1-5.9-1.64,38.26,38.26,0,0,1,6,1.13c1.65.38,3.13.74,4.21,1l1.26.34A1.7,1.7,0,0,1,345.23,251.91Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M346.52,247c0,.24-2.76-.23-6-1a35.59,35.59,0,0,1-5.91-1.64,38.05,38.05,0,0,1,6,1.13c1.64.37,3.13.73,4.2,1l1.27.33Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M347.38,242.18c0,.23-2.75-.24-6-1a34.47,34.47,0,0,1-5.91-1.64,38,38,0,0,1,6,1.13c1.65.38,3.13.74,4.21,1l1.26.34A1.7,1.7,0,0,1,347.38,242.18Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M348.63,237.62c0,.24-2.75-.23-6-1a35.59,35.59,0,0,1-5.91-1.64,38,38,0,0,1,6,1.13c1.65.37,3.14.73,4.21,1l1.27.33A3.68,3.68,0,0,1,348.63,237.62Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M352.66,328.63a14.23,14.23,0,0,1-.65-2.7c-.32-1.68-.7-4-1-6.61s-.45-5-.51-6.67a13.76,13.76,0,0,1,0-2.78,14.56,14.56,0,0,1,.34,2.75c.15,1.7.36,4.05.66,6.64s.61,4.92.84,6.61A15.65,15.65,0,0,1,352.66,328.63Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M362.59,327.08a93.17,93.17,0,0,1-2.91-9.54,95,95,0,0,1-2.41-9.69,96,96,0,0,1,2.91,9.55A97.71,97.71,0,0,1,362.59,327.08Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M375.94,322.3a18.68,18.68,0,0,1-1.71-2.65c-1.08-1.8-2.41-4-3.89-6.52l-3.92-6.5a20.32,20.32,0,0,1-1.54-2.75,17.48,17.48,0,0,1,1.85,2.55c1.08,1.62,2.53,3.89,4,6.43s2.85,4.89,3.77,6.61A18.81,18.81,0,0,1,375.94,322.3Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M387.17,313.3c-.1.11-4.07-3-8.88-7s-8.64-7.32-8.55-7.43,4.07,3,8.88,7S387.26,313.18,387.17,313.3Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M394.4,301c-.06.14-4.76-1.7-10.51-4.09s-10.36-4.44-10.3-4.57,4.76,1.7,10.5,4.09S394.45,300.82,394.4,301Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M397.94,287.63a24.32,24.32,0,0,1-3.37-.32l-8.08-1-8.09-1a20.82,20.82,0,0,1-3.34-.51,20.89,20.89,0,0,1,3.38.14c2.08.16,4.95.44,8.11.83s6,.8,8.08,1.15A20,20,0,0,1,397.94,287.63Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M396.29,273.81a17.51,17.51,0,0,1-3,1c-1.89.55-4.53,1.23-7.47,1.85s-5.63,1.06-7.58,1.32a17.3,17.3,0,0,1-3.17.27,22.63,22.63,0,0,1,3.12-.64c1.93-.35,4.59-.84,7.52-1.46s5.57-1.24,7.48-1.7A22.07,22.07,0,0,1,396.29,273.81Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M392.27,260.55c.06.13-4.22,2.42-9.57,5.12s-9.74,4.78-9.81,4.65,4.22-2.42,9.57-5.12S392.2,260.43,392.27,260.55Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M384,249.8c.09.11-3.47,3.33-8,7.2s-8.2,6.91-8.29,6.8,3.46-3.33,8-7.2S383.94,249.69,384,249.8Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M370.13,241.82c.12.07-2.13,4-5,8.83a97,97,0,0,1-5.48,8.57c-.12-.07,2.13-4,5-8.84A100,100,0,0,1,370.13,241.82Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M357.68,236.82a102.11,102.11,0,0,1-3,9.86c-1.78,5.4-3.34,9.74-3.47,9.7a98.49,98.49,0,0,1,3-9.87A99.79,99.79,0,0,1,357.68,236.82Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M372.68,294.18a24.63,24.63,0,0,1-11.58,11.88,36.5,36.5,0,0,1-7.84,3.06c6.11,3.26,14.09,1.31,19.43-3.1s8.16-11.41,8.35-18.34a21.73,21.73,0,0,0-1.73-9.6c-1.36-3-3.61-6.12-6.58-7.5a18.45,18.45,0,0,1,1.86,5.25A30.68,30.68,0,0,1,372.68,294.18Z"})}),e.jsx("path",{d:"M137.83,348.12a8.6,8.6,0,0,1,1,1.11c.62.73,1.46,1.82,2.46,3.21A70.45,70.45,0,0,1,147.9,364a68.72,68.72,0,0,1,4.29,12.63c.39,1.66.65,3,.79,4a9.26,9.26,0,0,1,.17,1.48,7.49,7.49,0,0,1-.37-1.44c-.2-.93-.52-2.27-.94-3.91a82,82,0,0,0-4.41-12.51A81.16,81.16,0,0,0,141,352.65c-.95-1.41-1.74-2.53-2.31-3.3A7.57,7.57,0,0,1,137.83,348.12Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M133.58,344.58c.1-.11.57.15,1.06.59s.8.87.71,1-.57-.15-1.06-.59S133.49,344.68,133.58,344.58Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M134.56,341.64c.12-.07.61.52,1.1,1.34s.78,1.53.66,1.6-.62-.52-1.11-1.34S134.43,341.71,134.56,341.64Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M153.06,382.72a5.24,5.24,0,0,1,.15-.8q.21-.85.54-2.28c.47-2,1.14-4.84,1.91-8.39,1.54-7.1,3.41-17,4.78-28,.74-5.48,1-10.8,2.28-15.49a23.67,23.67,0,0,1,2.68-6.31,18.86,18.86,0,0,1,11.72-8.23,15,15,0,0,1,2.32-.35,4.61,4.61,0,0,1,.82,0,6.05,6.05,0,0,1-.81.12,21.6,21.6,0,0,0-2.29.44,19.47,19.47,0,0,0-7.54,3.86,18.55,18.55,0,0,0-3.85,4.4,23.25,23.25,0,0,0-2.59,6.22c-1.24,4.62-1.49,9.93-2.22,15.43-1.38,11-3.31,20.89-4.94,28-.82,3.55-1.55,6.4-2.07,8.36q-.4,1.41-.63,2.25A4.88,4.88,0,0,1,153.06,382.72Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M154.25,303.42a16,16,0,0,0,2.55,3.72,16.81,16.81,0,0,0,9.61,4.68,36.36,36.36,0,0,0,10.92-.46l3.29-.58a6.67,6.67,0,0,1,1.22-.16,5.25,5.25,0,0,1-1.18.36c-.77.19-1.88.46-3.27.74a32.92,32.92,0,0,1-11,.61,16.48,16.48,0,0,1-9.81-4.94,10.79,10.79,0,0,1-1.88-2.81A4,4,0,0,1,154.25,303.42Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M150.45,300.26c.1-.1.58.21,1.06.7s.8,1,.7,1.06-.58-.21-1.06-.69S150.35,300.36,150.45,300.26Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M151.58,298.52c.13-.08.58.43,1,1.13s.69,1.34.56,1.41-.57-.43-1-1.13S151.46,298.59,151.58,298.52Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M154.71,298.29c.15,0,.17.61.06,1.32s-.32,1.25-.46,1.23-.17-.61-.06-1.32S154.57,298.27,154.71,298.29Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M164.13,337.34a10.35,10.35,0,0,1-.08,1.78c-.09,1.15-.26,2.8-.5,4.83-.47,4.08-1.3,9.68-2.55,15.81s-2.69,11.62-3.84,15.56c-.58,2-1.08,3.55-1.44,4.63a12.65,12.65,0,0,1-.62,1.67,13.26,13.26,0,0,1,.42-1.73c.33-1.18.76-2.76,1.28-4.67,1.06-4,2.44-9.44,3.69-15.56s2.13-11.7,2.7-15.75c.27-2,.49-3.59.65-4.81A14.78,14.78,0,0,1,164.13,337.34Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M181.86,314.19c0,.1-1.43.11-3.64.69a18.05,18.05,0,0,0-12.54,11.58c-.76,2.15-.88,3.59-1,3.57a2.79,2.79,0,0,1,0-1,15,15,0,0,1,.58-2.68,17.37,17.37,0,0,1,12.8-11.82,15.36,15.36,0,0,1,2.72-.37A3.48,3.48,0,0,1,181.86,314.19Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M157.8,382.51a5.24,5.24,0,0,1,0-.75c0-.49.12-1.22.25-2.15a20,20,0,0,1,2.37-7.57c.84-1.47,2-2.91,2.94-4.61a9.67,9.67,0,0,0,1-2.78,11.45,11.45,0,0,0,.08-3.16c-.16-2.17-.79-4.51-.3-7a8.54,8.54,0,0,1,1.6-3.39c.73-1,1.58-2,2.25-3a6.36,6.36,0,0,0,1.12-3.41,14.83,14.83,0,0,0-.48-3.57,21.11,21.11,0,0,1-.58-7,19.9,19.9,0,0,1,10.54-15.89,17.52,17.52,0,0,1,2-.88,4.26,4.26,0,0,1,.72-.23,3.85,3.85,0,0,1-.68.32c-.45.21-1.11.51-1.92,1a20.47,20.47,0,0,0-5.95,5.08,19.71,19.71,0,0,0-4.21,10.67,20.85,20.85,0,0,0,.6,6.82,15.28,15.28,0,0,1,.5,3.69,6.87,6.87,0,0,1-1.21,3.68c-.7,1.11-1.55,2.05-2.26,3.05a7.83,7.83,0,0,0-1.52,3.19c-.47,2.31.12,4.62.28,6.84a12,12,0,0,1-.11,3.29,10.21,10.21,0,0,1-1.11,2.9c-1,1.74-2.16,3.16-3,4.59a20.78,20.78,0,0,0-2.48,7.42c-.15.88-.26,1.59-.35,2.12A3.76,3.76,0,0,1,157.8,382.51Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M183,324.55a9.45,9.45,0,0,0-2.46.35,9.77,9.77,0,0,0-5.17,4.13c-1.6,2.39-2.31,5.82-2.69,9.6A121.14,121.14,0,0,1,170.89,351a200.58,200.58,0,0,1-6,21.82c-.9,2.75-1.65,5-2.19,6.49-.25.72-.46,1.3-.62,1.75a2.49,2.49,0,0,1-.26.6A4.25,4.25,0,0,1,162,381c.13-.46.31-1.05.53-1.78l2-6.54c1.69-5.53,4-13.18,5.8-21.82.88-4.31,1.46-8.46,1.86-12.27s1.17-7.3,2.87-9.74a9.74,9.74,0,0,1,5.42-4.12,6.25,6.25,0,0,1,1.86-.23A4.13,4.13,0,0,1,183,324.55Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M146.29,378.93h19.37s-11.75,93.29-76.61,93l.83-18.19S134,451,146.29,378.93Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M70.7,442.54H75a1.83,1.83,0,0,1,1.83,1.83V462a0,0,0,0,1,0,0h-8a0,0,0,0,1,0,0V444.37A1.83,1.83,0,0,1,70.7,442.54Z",transform:"translate(-380.65 517.19) rotate(-88.99)",style:{fill:"#4453FF"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M70.7,442.54H75a1.83,1.83,0,0,1,1.83,1.83V462a0,0,0,0,1,0,0h-8a0,0,0,0,1,0,0V444.37A1.83,1.83,0,0,1,70.7,442.54Z",transform:"translate(-380.65 517.19) rotate(-88.99)"})}),e.jsx("path",{d:"M69.64,457h5.94a3,3,0,0,1,3,3v16.47a0,0,0,0,1,0,0h-12a0,0,0,0,1,0,0V460.06A3,3,0,0,1,69.64,457Z",transform:"matrix(0.02, -1, 1, 0.02, -395.38, 531.17)",style:{fill:"#4453FF"}}),e.jsx("rect",{x:"68.46",y:"454.75",width:"20.39",height:"7.7",transform:"translate(-381.26 529.18) rotate(-88.99)",style:{fill:"#4453FF"}}),e.jsx("rect",{x:"79.17",y:"447.2",width:"12.44",height:"27.68",transform:"translate(-5.62 1.08) rotate(-0.7)",style:{fill:"#263238"}}),e.jsx("path",{d:"M91.64,471.9c0,.23-2.74.4-6.11.42a34.37,34.37,0,0,1-6.13-.26,38.67,38.67,0,0,1,6.12-.27c1.69,0,3.22,0,4.33,0l1.31,0A2.44,2.44,0,0,1,91.64,471.9Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M91.58,466.92c0,.23-2.74.39-6.11.41a35,35,0,0,1-6.13-.25,38.67,38.67,0,0,1,6.12-.27c1.69,0,3.22,0,4.33,0l1.31,0A1.75,1.75,0,0,1,91.58,466.92Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M91.72,461.89c0,.23-2.73.39-6.11.41a34.92,34.92,0,0,1-6.12-.25,38.67,38.67,0,0,1,6.12-.27c1.69,0,3.22,0,4.32,0l1.31,0A2,2,0,0,1,91.72,461.89Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M91.46,457c0,.23-2.74.4-6.12.42a34.29,34.29,0,0,1-6.12-.26,38.67,38.67,0,0,1,6.12-.27c1.69,0,3.22,0,4.33,0l1.31,0A2.57,2.57,0,0,1,91.46,457Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M91.64,452.23c0,.23-2.74.4-6.11.42a36.2,36.2,0,0,1-6.13-.25,36,36,0,0,1,6.12-.27c1.69,0,3.22,0,4.33,0l1.31,0A2.44,2.44,0,0,1,91.64,452.23Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M98.44,471s0,.16.06.5l0,.58-.17-.56a83.2,83.2,0,0,1-1.91-9.16c-.43-2.69-.72-5.13-.89-6.91a14.66,14.66,0,0,1-.13-2.89,18.89,18.89,0,0,1,.5,2.85c.25,1.76.6,4.19,1,6.87.69,4.34,1.4,8,1.55,9.2l-.16,0C98.38,471.14,98.41,471,98.44,471Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M107.64,469.21a92.86,92.86,0,0,1-3.22-9.42,92.86,92.86,0,0,1-2.73-9.57,92.86,92.86,0,0,1,3.22,9.42A92.86,92.86,0,0,1,107.64,469.21Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M118.51,464.62a98.81,98.81,0,0,1-4.78-9.06c-2.5-5.08-4.43-9.24-4.3-9.3a99.8,99.8,0,0,1,4.77,9.07C116.71,460.4,118.63,464.56,118.51,464.62Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M128.14,457.42a91.87,91.87,0,0,1-6.18-7.91,98.59,98.59,0,0,1-5.77-8.23,96.34,96.34,0,0,1,6.19,7.92C125.67,453.66,128.25,457.34,128.14,457.42Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M136.55,449.44a93.69,93.69,0,0,1-7.2-6.85,96.19,96.19,0,0,1-6.82-7.22,94.54,94.54,0,0,1,7.19,6.85A97.73,97.73,0,0,1,136.55,449.44Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M143.48,439.86a14.64,14.64,0,0,1-2.51-1.34l-5.92-3.46-5.91-3.45a15.52,15.52,0,0,1-2.41-1.53,15.05,15.05,0,0,1,2.58,1.21c1.56.81,3.69,2,6,3.32s4.37,2.64,5.84,3.6A15.72,15.72,0,0,1,143.48,439.86Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M148.17,430.16a13.82,13.82,0,0,1-2.43-1.09c-1.47-.72-3.51-1.71-5.77-2.76s-4.34-1.95-5.84-2.61a15.48,15.48,0,0,1-2.41-1.14,11.93,11.93,0,0,1,2.54.8c1.54.57,3.65,1.43,5.93,2.48s4.29,2.1,5.72,2.9A13.26,13.26,0,0,1,148.17,430.16Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M153.77,420.78a13.93,13.93,0,0,1-2.77-.46c-1.7-.37-4-.94-6.57-1.68s-4.82-1.51-6.45-2.11a14.17,14.17,0,0,1-2.59-1.09,16.24,16.24,0,0,1,2.71.74c1.65.51,3.94,1.22,6.47,2s4.84,1.36,6.51,1.82A16.1,16.1,0,0,1,153.77,420.78Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M156.76,411.32a84.29,84.29,0,0,1-9.25-.92,84.45,84.45,0,0,1-9.18-1.43,84.06,84.06,0,0,1,9.25.92A79,79,0,0,1,156.76,411.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M159.94,402.07a12.64,12.64,0,0,1-2.69-.08c-1.66-.12-3.95-.32-6.47-.57s-4.81-.51-6.45-.73a13.79,13.79,0,0,1-2.66-.45,14.26,14.26,0,0,1,2.7.09c1.66.12,3.94.32,6.46.57s4.8.51,6.45.72A14.83,14.83,0,0,1,159.94,402.07Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M162.39,393.11a92.12,92.12,0,0,1-9.64.56,86.39,86.39,0,0,1-9.65,0,92.12,92.12,0,0,1,9.64-.56A89.44,89.44,0,0,1,162.39,393.11Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M163.4,385.79a13.17,13.17,0,0,1-2.64.41c-1.64.17-3.91.31-6.42.32s-4.79-.11-6.43-.26a12.81,12.81,0,0,1-2.64-.38,15,15,0,0,1,2.66,0c1.64.06,3.9.13,6.4.11s4.77-.1,6.4-.17A15,15,0,0,1,163.4,385.79Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M147.13,381.7a.72.72,0,0,1,0,.25v.74c0,.65,0,1.61-.07,2.84a74,74,0,0,1-1.23,10.39,78.32,78.32,0,0,1-4.35,14.89,77.44,77.44,0,0,1-22,30.58,78.86,78.86,0,0,1-12.76,8.83,73.1,73.1,0,0,1-9.47,4.45c-1.14.46-2.06.74-2.67,1l-.7.23a.8.8,0,0,1-.25.06.7.7,0,0,1,.23-.11l.68-.28c.6-.25,1.51-.56,2.64-1a82.14,82.14,0,0,0,9.36-4.58,79.89,79.89,0,0,0,39-54,81.57,81.57,0,0,0,1.39-10.33c.11-1.22.11-2.18.16-2.83,0-.3,0-.54,0-.74A.87.87,0,0,1,147.13,381.7Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M236.92,273s-10.72-14.51-35.53-12.36c0,0,25.25-19.4,10.39-39.33,0,0,31.89,9.42,32.25-30.44,0,0,5.8,37,35.88,26.46,0,0,2.14,29.36,22.95,23.93C292.79,251.16,283,259.89,285,272.55",style:{fill:"#4453FF"}}),e.jsx("g",{style:{opacity:.8},children:e.jsx("path",{d:"M236.92,273s-10.72-14.51-35.53-12.36c0,0,25.25-19.4,10.39-39.33,0,0,31.89,9.42,32.25-30.44,0,0,5.8,37,35.88,26.46,0,0,2.14,29.36,22.95,23.93C292.79,251.16,283,259.89,285,272.55",style:{fill:"#fff"}})}),e.jsx("path",{d:"M236.92,273s-.25-16.92-20.18-15.19c0,0,18.53-10.69,6.6-26.7,0,0,25.62,7.57,25.91-24.45,0,0,4.65,29.69,28.82,21.25,0,0-2.89,21.54,13.84,17.17-8.09,8-11.37,17-9.77,27.2",style:{fill:"#4453FF"}}),e.jsx("g",{style:{opacity:.6000000000000001},children:e.jsx("path",{d:"M236.92,273s-.25-16.92-20.18-15.19c0,0,18.53-10.69,6.6-26.7,0,0,25.62,7.57,25.91-24.45,0,0,4.65,29.69,28.82,21.25,0,0-2.89,21.54,13.84,17.17-8.09,8-11.37,17-9.77,27.2",style:{fill:"#fff"}})}),e.jsx("path",{d:"M269.65,160.76a5.13,5.13,0,0,1-.24.63l-.79,1.76c-.35.76-.77,1.69-1.22,2.8s-1,2.33-1.51,3.74-1.13,2.93-1.68,4.6-1.12,3.46-1.7,5.35c-1.09,3.8-2.13,8-2.95,12.52s-1.3,8.82-1.6,12.76c-.12,2-.25,3.85-.27,5.61s-.05,3.4,0,4.89.08,2.85.12,4,.1,2.21.17,3,.09,1.43.12,1.92a3,3,0,0,1,0,.68,5.34,5.34,0,0,1-.11-.67q-.07-.74-.21-1.92c-.1-.83-.2-1.85-.26-3s-.18-2.55-.19-4-.08-3.14,0-4.91.12-3.65.22-5.63a113.18,113.18,0,0,1,4.57-25.39c.59-1.89,1.14-3.7,1.75-5.35s1.18-3.2,1.74-4.59,1.12-2.64,1.6-3.73.92-2,1.3-2.77l.87-1.72A3,3,0,0,1,269.65,160.76Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M198.07,153.89a33,33,0,0,0-6-4.49,33.26,33.26,0,0,0-7.06-2.52,6.79,6.79,0,0,1,2.23.22,18.55,18.55,0,0,1,5.08,1.84,18.9,18.9,0,0,1,4.34,3.21A6.55,6.55,0,0,1,198.07,153.89Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M205.75,197.42a2.34,2.34,0,0,1,.42.4l1.11,1.19c1,1,2.31,2.59,3.91,4.56s3.43,4.37,5.36,7.11,3.92,5.86,5.86,9.2,3.62,6.64,5.06,9.67,2.6,5.82,3.5,8.19,1.59,4.31,2,5.66q.28.94.48,1.56a2.26,2.26,0,0,1,.13.56,2.26,2.26,0,0,1-.23-.53l-.58-1.52c-.47-1.33-1.2-3.25-2.15-5.59s-2.16-5.1-3.59-8.12-3.15-6.27-5.08-9.62-3.92-6.42-5.8-9.18-3.69-5.18-5.26-7.16-2.85-3.58-3.77-4.66l-1-1.25A2.44,2.44,0,0,1,205.75,197.42Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M274.51,202.53a1.72,1.72,0,0,1-.21.46l-.67,1.25c-.31.54-.67,1.2-1.06,2s-.87,1.66-1.32,2.67c-1,2-2,4.42-3,7.16a78.08,78.08,0,0,0-4.16,18.47c-.27,2.9-.39,5.53-.38,7.74,0,1.1,0,2.1.05,3s.06,1.63.1,2.25.05,1,.07,1.42a1.37,1.37,0,0,1,0,.5,2.25,2.25,0,0,1-.09-.49c-.05-.38-.1-.85-.17-1.42s-.15-1.37-.19-2.25-.13-1.88-.13-3a71,71,0,0,1,.28-7.79,72.75,72.75,0,0,1,4.18-18.58,70.42,70.42,0,0,1,3.09-7.16c.47-1,1-1.87,1.4-2.65s.8-1.43,1.13-2,.56-.88.76-1.21A2,2,0,0,1,274.51,202.53Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M294.15,206.41c.05.06-.83.71-2.16,1.87a36.84,36.84,0,0,0-8.52,10.7,26.43,26.43,0,0,1-1.35,2.53,11.4,11.4,0,0,1,1-2.7,30.94,30.94,0,0,1,3.68-5.9,30.11,30.11,0,0,1,4.93-4.91A11.07,11.07,0,0,1,294.15,206.41Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M210.65,231.91a11.93,11.93,0,0,1,2.44,1.53,34.6,34.6,0,0,1,5.16,4.68,33.84,33.84,0,0,1,4.12,5.61,11.66,11.66,0,0,1,1.27,2.59,27.69,27.69,0,0,1-1.58-2.4,45,45,0,0,0-4.2-5.46,45.57,45.57,0,0,0-5-4.73A22.61,22.61,0,0,1,210.65,231.91Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M205.58,222.61c-.08.14-2.12-1-4.88-1.7s-5.09-.71-5.09-.87a14.5,14.5,0,0,1,10,2.57Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M185,191.31a6.85,6.85,0,0,1,.66-1.66l-.91-1.38,1.9-2,1.41.85a7.26,7.26,0,0,1,1.64-.71l.34-1.61,2.73-.05.39,1.61a7,7,0,0,1,1.66.65l1.38-.9,2,1.9-.86,1.41a6.31,6.31,0,0,1,.71,1.64l1.62.33,0,2.74-1.6.39a6.78,6.78,0,0,1-.66,1.65l.91,1.39-1.9,2L195,198.7a6.25,6.25,0,0,1-1.63.71L193,201l-2.73,0-.39-1.6a6.85,6.85,0,0,1-1.66-.66l-1.38.9-2-1.9.86-1.41a6.25,6.25,0,0,1-.71-1.63l-1.62-.34,0-2.73,1.6-.39Zm3.6,1.55a2.93,2.93,0,1,0,2.88-3A2.93,2.93,0,0,0,188.61,192.86Z",style:{fill:"#4453FF",fillRule:"evenodd"}}),e.jsx("path",{d:"M299.57,265.2a5.17,5.17,0,0,1,.48-1.22l-.67-1,1.41-1.45,1,.63a5.13,5.13,0,0,1,1.2-.52l.25-1.19,2,0,.29,1.19a4.77,4.77,0,0,1,1.22.48l1-.67,1.45,1.41-.63,1a5,5,0,0,1,.52,1.2l1.19.25,0,2-1.19.29a5.17,5.17,0,0,1-.48,1.22l.66,1-1.4,1.45-1-.63a5,5,0,0,1-1.21.52l-.24,1.19-2,0-.29-1.18a5.17,5.17,0,0,1-1.22-.48l-1,.66L299.5,270l.63-1a5,5,0,0,1-.52-1.21l-1.19-.25,0-2,1.19-.29Zm2.66,1.14a2.16,2.16,0,1,0,4.32-.07,2.16,2.16,0,1,0-4.32.07Z",style:{fill:"#455a64",fillRule:"evenodd"}}),e.jsx("rect",{x:"274.18",y:"182.1",width:"10.43",height:"4.72",transform:"translate(-7.11 357.67) rotate(-64.59)",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M275,188.16a10.74,10.74,0,0,1,1.23.49c.76.32,1.83.78,3.11,1.36l-.25.09c1.12-2.45,2.67-5.79,4.41-9.45-.11-.31.15.43.12.35h-.06l-.07,0-.14-.06-.28-.14-.56-.26-1.08-.52-2.06-1,.33-.11c-1.29,2.68-2.45,5-3.28,6.64-.4.76-.73,1.41-1,1.95a4.56,4.56,0,0,1-.41.72,3.13,3.13,0,0,1,.26-.68c.23-.54.52-1.19.85-1.95.75-1.69,1.83-4.1,3.14-6.89l.11-.23.22.11,2.07,1,1.09.51.55.26.28.14.14.06.07,0h.07c0-.08.23.66.12.35-1.74,3.66-3.34,7-4.54,9.39l-.08.17-.17-.09c-1.34-.66-2.41-1.21-3.12-1.59A7.68,7.68,0,0,1,275,188.16Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M283.35,175.75a4.34,4.34,0,0,0-5.79,2.06l7.86,3.74A4.35,4.35,0,0,0,283.35,175.75Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M283.35,175.75a1.2,1.2,0,0,1,.49.18,4.22,4.22,0,0,1,1.12.9,4.28,4.28,0,0,1,1,2,4.45,4.45,0,0,1-.32,2.83l-.09.22-.23-.1-3.93-1.85L277.45,178l-.22-.1.11-.22a4.54,4.54,0,0,1,2-2,4.4,4.4,0,0,1,2.17-.48,3.86,3.86,0,0,1,1.4.3c.31.14.46.24.44.26a8.45,8.45,0,0,0-1.84-.27,4.22,4.22,0,0,0-2,.55,4.16,4.16,0,0,0-1.76,1.89l-.11-.32,3.94,1.85,3.92,1.88-.32.12a4.19,4.19,0,0,0,.36-2.56,4.35,4.35,0,0,0-.83-1.88A8,8,0,0,0,283.35,175.75Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M283.45,178.24a2.74,2.74,0,0,0-.86-2.8",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M282.59,175.44c.07-.13.8.27,1.08,1.2s-.09,1.66-.22,1.6,0-.71-.27-1.45S282.5,175.56,282.59,175.44Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M278.65,180.07a9,9,0,0,1,2.28.94,9.17,9.17,0,0,1,2.23,1.09,4.68,4.68,0,0,1-2.44-.62C279.44,180.91,278.57,180.18,278.65,180.07Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M278.12,181.17a9.71,9.71,0,0,1,2.29,1,9.17,9.17,0,0,1,2.22,1.08,4.52,4.52,0,0,1-2.44-.61C278.92,182,278,181.29,278.12,181.17Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M277.6,182.28a9,9,0,0,1,2.28.94,9.41,9.41,0,0,1,2.23,1.09,4.72,4.72,0,0,1-2.44-.61C278.39,183.12,277.52,182.39,277.6,182.28Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M277.07,183.38a9.71,9.71,0,0,1,2.29,1,9.17,9.17,0,0,1,2.22,1.08,4.52,4.52,0,0,1-2.44-.61C277.87,184.23,277,183.5,277.07,183.38Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M276.54,184.49a9.26,9.26,0,0,1,2.29.94,9.87,9.87,0,0,1,2.23,1.09,7.15,7.15,0,0,1-4.52-2Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M276,185.6a9,9,0,0,1,2.29.94,9.21,9.21,0,0,1,2.22,1.09,7.23,7.23,0,0,1-4.51-2Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M275.49,186.7a9.54,9.54,0,0,1,2.29,1,9.17,9.17,0,0,1,2.22,1.08,4.48,4.48,0,0,1-2.43-.61C276.29,187.55,275.41,186.82,275.49,186.7Z",style:{fill:"#263238"}}),e.jsx("rect",{x:"171.84",y:"261.9",width:"10.43",height:"4.72",transform:"translate(-93.35 96.74) rotate(-24.4)",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M182.77,264.25a11.2,11.2,0,0,1-.62-1.17c-.37-.73-.89-1.77-1.5-3l.25.09c-2.44,1.15-5.78,2.7-9.46,4.37-.12.31.15-.42.13-.34h0v0l0,0,0,.07.06.14.13.28.25.56c.17.37.33.73.5,1.09l.93,2.09-.33-.12c2.73-1.22,5.09-2.23,6.8-3l2-.84a5,5,0,0,1,.78-.29,3,3,0,0,1-.63.36l-1.91.94c-1.66.8-4,1.95-6.85,3.24l-.23.1-.1-.23c-.31-.66-.62-1.36-1-2.07-.17-.36-.33-.73-.5-1.1l-.25-.55-.13-.29-.07-.14,0-.07v-.05h0l.13-.34c3.69-1.68,7.05-3.17,9.53-4.24l.17-.08.08.17c.59,1.38,1.05,2.49,1.35,3.24A5.89,5.89,0,0,1,182.77,264.25Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M168.41,268.36a4.35,4.35,0,0,0,5.76,2.17l-3.6-7.93A4.34,4.34,0,0,0,168.41,268.36Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M168.41,268.36s-.12-.14-.26-.44a4.09,4.09,0,0,1-.27-1.42,4.34,4.34,0,0,1,.52-2.16,4.59,4.59,0,0,1,2.07-2l.22-.1.1.22c.57,1.23,1.18,2.56,1.82,4s1.22,2.73,1.78,4l.1.22-.22.1a4.52,4.52,0,0,1-2.84.26,4.28,4.28,0,0,1-2-1,3.9,3.9,0,0,1-.88-1.13c-.15-.31-.2-.48-.17-.49a7.9,7.9,0,0,0,1.23,1.4,4.26,4.26,0,0,0,4.43.55l-.12.32-1.82-4c-.62-1.4-1.22-2.73-1.78-4l.32.12a4.24,4.24,0,0,0-2.5,3.69A8.47,8.47,0,0,0,168.41,268.36Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M169.94,266.4a2.74,2.74,0,0,0-1.15,2.69",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M168.79,269.09c-.13.06-.44-.73-.06-1.61s1.16-1.21,1.21-1.08-.43.56-.73,1.28S168.94,269.06,168.79,269.09Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M174.79,268.1a9,9,0,0,1-1.14-2.19,9.38,9.38,0,0,1-1-2.27,7.13,7.13,0,0,1,2.14,4.46Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M175.9,267.6a9.58,9.58,0,0,1-1.14-2.2,9.79,9.79,0,0,1-1-2.26c.11-.09.86.77,1.46,2A4.5,4.5,0,0,1,175.9,267.6Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M177,267.09a9.19,9.19,0,0,1-1.14-2.19,9.38,9.38,0,0,1-1-2.27,7.13,7.13,0,0,1,2.14,4.46Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M178.13,266.59a9.85,9.85,0,0,1-1.14-2.2,9.57,9.57,0,0,1-1-2.27,4.67,4.67,0,0,1,1.46,2A4.53,4.53,0,0,1,178.13,266.59Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M179.25,266.08a9.14,9.14,0,0,1-1.14-2.2,9.4,9.4,0,0,1-1-2.26,7.13,7.13,0,0,1,2.14,4.46Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M180.36,265.57a9.37,9.37,0,0,1-1.14-2.19,9.57,9.57,0,0,1-1-2.27,4.67,4.67,0,0,1,1.46,2A4.52,4.52,0,0,1,180.36,265.57Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M181.48,265.07a40.24,40.24,0,0,1-2.14-4.46c.11-.09.87.77,1.47,2A4.61,4.61,0,0,1,181.48,265.07Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M201.52,142.38s12.11,12,15.13,19.43c2.87,7.11,4.77,13.73,4.77,13.73s3.12-5.46,6.63,0,20.1,71.77,22.83,96.73h10.57s-4.92-41.73-7.26-46.41-4.3-6.24-4.3-6.24-2.73-17.56-4.68-20.29a13.16,13.16,0,0,0-4.29-3.9s-3.51-19.11-8.58-23-9-1.95-9-1.95S220.14,150,201.52,142.38Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M300.67,231a55.81,55.81,0,0,0-7,2.38,58.26,58.26,0,0,0-6.41,3.72,6.81,6.81,0,0,1,1.62-1.48,24.09,24.09,0,0,1,9.62-4.37A7.24,7.24,0,0,1,300.67,231Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M300.26,228.86A72.81,72.81,0,0,0,293.2,232c-3.73,2.06-6.28,4.45-6.39,4.32a8.14,8.14,0,0,1,1.6-1.63,28,28,0,0,1,4.54-3.14,26.89,26.89,0,0,1,5.07-2.18A7.88,7.88,0,0,1,300.26,228.86Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M298.21,234c0,.16-2.2.19-4.79.94s-4.49,1.85-4.57,1.72a13.27,13.27,0,0,1,9.36-2.66Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M274.88,272.17c-1.77-14,2.83-30.42,14-38.28l2.66,2.17s-13.91,8.28-12.89,36.21",style:{fill:"#263238"}}),e.jsx("path",{d:"M217.41,252a33.58,33.58,0,0,0-5.37,2.39,34.87,34.87,0,0,0-4.56,3.71,13.8,13.8,0,0,1,9.93-6.1Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M217.13,250.76a51.19,51.19,0,0,1-5.44,2.1,50.87,50.87,0,0,1-5.5,2,24.23,24.23,0,0,1,5.32-2.46A23.76,23.76,0,0,1,217.13,250.76Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M247.94,275.62l-4.84-1.26a10.74,10.74,0,0,0-3.65-11.13,9.21,9.21,0,0,1-5.31,7.13,7.86,7.86,0,0,1-6.65-.42,6.93,6.93,0,0,1-3.63-4.72,7.86,7.86,0,0,1,3.87-8,9.8,9.8,0,0,1,3.66-1.24,3.51,3.51,0,0,0-.36-.29,13.38,13.38,0,0,0-15.08-.41l-2.82-4.13a18.33,18.33,0,0,1,20.94.56,14.92,14.92,0,0,1,4.35,5.22,15.83,15.83,0,0,1,9.52,18.72ZM233,260.83a5.35,5.35,0,0,0-2.76.67,2.93,2.93,0,0,0-1.52,2.75,2.08,2.08,0,0,0,1.09,1.29,2.93,2.93,0,0,0,2.37.2,4.5,4.5,0,0,0,2.32-4.58l0-.2A8.44,8.44,0,0,0,233,260.83Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M207.34,182.76a7.84,7.84,0,0,1,1.34.71c.85.48,2,1.24,3.48,2.23a61.07,61.07,0,0,1,4.85,3.78,62,62,0,0,1,10.07,11.14,58.32,58.32,0,0,1,3.27,5.19c.85,1.53,1.49,2.79,1.88,3.69a7.7,7.7,0,0,1,.57,1.4,8,8,0,0,1-.75-1.31c-.45-.87-1.13-2.1-2-3.59s-2-3.24-3.34-5.11a67.21,67.21,0,0,0-10-11C215,188.33,213.35,187,212,186s-2.56-1.83-3.38-2.36A8.61,8.61,0,0,1,207.34,182.76Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M190.42,294.18h.85a0,0,0,0,1,0,0v50.51a0,0,0,0,1,0,0h-.85a9,9,0,0,1-9-9V303.14A9,9,0,0,1,190.42,294.18Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M335.87,294.18h.94a8.88,8.88,0,0,1,8.88,8.88v32.76a8.88,8.88,0,0,1-8.88,8.88h-.94a0,0,0,0,1,0,0V294.18A0,0,0,0,1,335.87,294.18Z",style:{fill:"#263238"}}),e.jsx("rect",{x:"188.69",y:"284.32",width:"149.39",height:"109.99",rx:"14.12",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M282.39,296a34.23,34.23,0,0,0-34.23,34.23h68.47A34.23,34.23,0,0,0,282.39,296Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M310,328.58c1.44,0,2.74,0,3.68,0a6.73,6.73,0,0,1,1.53.1,7.86,7.86,0,0,1-1.52.11c-1,0-2.25,0-3.69,0l-3.68,0-1.12,0a1.75,1.75,0,0,1-.41,0,1.26,1.26,0,0,1,.41,0l1.12-.05Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M307.58,318.23c2.6-1.24,4.76-2.11,4.83-2s-2,1.24-4.62,2.41a34.84,34.84,0,0,1-4.83,2A35,35,0,0,1,307.58,318.23Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M301.16,309.77c1.9-2.16,3.54-3.82,3.67-3.71s-1.35,1.93-3.29,4.05a33.89,33.89,0,0,1-3.67,3.7A34.86,34.86,0,0,1,301.16,309.77Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M292,304.36a23,23,0,0,1,2.05-4.79c.16.06-.54,2.28-1.57,5a35.67,35.67,0,0,1-2.06,4.79A34.19,34.19,0,0,1,292,304.36Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M281.51,302.58c0-2.88.08-5.21.25-5.21s.28,2.33.26,5.21a33.85,33.85,0,0,1-.26,5.21A33.18,33.18,0,0,1,281.51,302.58Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M271.05,304.54c-1-2.69-1.74-4.91-1.58-5s1.08,2.08,2,4.79a32.38,32.38,0,0,1,1.58,5A34.94,34.94,0,0,1,271.05,304.54Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M262,310.11c-1.94-2.12-3.42-3.93-3.29-4.05s1.77,1.55,3.67,3.71a34.86,34.86,0,0,1,3.29,4A33.89,33.89,0,0,1,262,310.11Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M255.73,318.7c-2.63-1.18-4.7-2.26-4.63-2.42s2.24.72,4.84,2a35.13,35.13,0,0,1,4.62,2.41A34.91,34.91,0,0,1,255.73,318.7Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M253.55,328.83c-1.44,0-2.74,0-3.69,0a7.86,7.86,0,0,1-1.52-.11,6.73,6.73,0,0,1,1.53-.1c.94,0,2.24,0,3.68,0l3.68.06,1.12.05a1.17,1.17,0,0,1,.4,0,1.6,1.6,0,0,1-.4,0l-1.12,0Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M225.31,302a4.55,4.55,0,1,1-4.55-4.54A4.55,4.55,0,0,1,225.31,302Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M225.31,315.7a4.55,4.55,0,1,1-4.55-4.54A4.55,4.55,0,0,1,225.31,315.7Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M311.43,384.82s0-.29,0-.85,0-1.39,0-2.45c0-2.17,0-5.33-.05-9.38,0-8.13-.06-19.85-.1-34.3l.19.19-93.17.07h0l.26-.26c0,16.57,0,32.46,0,47l-.25-.24,66.92.11,19.3.07,5.16,0,1.34,0h.46l-.43,0h-1.31l-5.11,0-19.25.07-67.08.12H218v-.25c0-14.52,0-30.41,0-47v-.26h.27l93.17.07h.2v.19c-.05,14.5-.08,26.26-.11,34.41,0,4,0,7.19,0,9.34,0,1.05,0,1.86,0,2.42S311.43,384.82,311.43,384.82Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M204.1,394.09H322.67a0,0,0,0,1,0,0v.59a6.23,6.23,0,0,1-6.23,6.23H210.34a6.23,6.23,0,0,1-6.23-6.23v-.59a0,0,0,0,1,0,0Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M301.47,344.43a2.81,2.81,0,0,0,1.93,3,3.11,3.11,0,0,0,3.39-1.24,3.49,3.49,0,0,0,0-3.67,3.48,3.48,0,0,1-.78,2.35,2.56,2.56,0,0,1-2.26.88,2,2,0,0,1-1.69-1.64"})}),e.jsx("path",{d:"M306.81,343.32a2.77,2.77,0,1,1-2.76-2.76A2.76,2.76,0,0,1,306.81,343.32Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M306.81,343.32a5.24,5.24,0,0,1-.18-.65,2.78,2.78,0,0,0-1-1.4,2.61,2.61,0,0,0-2.42-.32,2.53,2.53,0,0,0,0,4.74,2.61,2.61,0,0,0,2.42-.32,2.78,2.78,0,0,0,1-1.4,6,6,0,0,1,.18-.65s.09.25,0,.7a2.7,2.7,0,0,1-1,1.64,2.92,2.92,0,0,1-2.81.48,3,3,0,0,1,0-5.64,2.92,2.92,0,0,1,2.81.48,2.7,2.7,0,0,1,1,1.64C306.9,343.07,306.84,343.32,306.81,343.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M305.32,342.14c.05.14-.6.48-1.21,1.12s-.93,1.29-1.07,1.24,0-.87.7-1.61S305.29,342,305.32,342.14Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M305.32,344.18c-.12.08-.58-.42-1.26-.87s-1.32-.7-1.29-.85.81-.11,1.58.42S305.44,344.12,305.32,344.18Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M302.76,378.63a2.83,2.83,0,0,0,1.94,3,3.11,3.11,0,0,0,3.39-1.24,3.49,3.49,0,0,0,.05-3.66,3.43,3.43,0,0,1-.79,2.34,2.55,2.55,0,0,1-2.25.88,2,2,0,0,1-1.7-1.63"})}),e.jsx("circle",{cx:"305.35",cy:"377.51",r:"2.76",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M308.11,377.51c-.05,0-.06-.24-.19-.65a2.74,2.74,0,0,0-1-1.4,2.62,2.62,0,0,0-2.42-.32,2.54,2.54,0,1,0,2.42,4.42,2.7,2.7,0,0,0,1-1.4c.13-.4.14-.65.19-.65s.09.25,0,.7a2.74,2.74,0,0,1-1,1.65,2.93,2.93,0,0,1-2.81.47,3,3,0,0,1,0-5.64,3,3,0,0,1,2.81.48,2.7,2.7,0,0,1,1,1.64C308.2,377.27,308.14,377.52,308.11,377.51Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M306.62,376.33c.05.14-.61.48-1.21,1.12s-.93,1.29-1.08,1.25,0-.88.7-1.61S306.59,376.2,306.62,376.33Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M306.62,378.37c-.13.09-.59-.42-1.27-.87s-1.31-.7-1.28-.85.8-.11,1.58.42S306.74,378.31,306.62,378.37Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M222.38,344.39a2.83,2.83,0,0,0,1.94,3,3.12,3.12,0,0,0,3.39-1.25,3.49,3.49,0,0,0,0-3.66,3.45,3.45,0,0,1-.79,2.35,2.55,2.55,0,0,1-2.25.88,2,2,0,0,1-1.7-1.64"})}),e.jsx("circle",{cx:"224.96",cy:"343.28",r:"2.76",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M227.73,343.28s-.06-.25-.19-.65a2.67,2.67,0,0,0-1-1.4,2.59,2.59,0,0,0-2.41-.32,2.53,2.53,0,0,0,0,4.74,2.62,2.62,0,0,0,2.42-.32,2.7,2.7,0,0,0,1-1.4c.13-.4.14-.65.19-.65a1.21,1.21,0,0,1,0,.7,2.75,2.75,0,0,1-1,1.64,2.93,2.93,0,0,1-2.81.48,3,3,0,0,1,0-5.64,2.93,2.93,0,0,1,2.81.48,2.75,2.75,0,0,1,1,1.64A1.21,1.21,0,0,1,227.73,343.28Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M226.24,342.1c0,.14-.61.48-1.21,1.12s-.93,1.29-1.08,1.24,0-.88.7-1.61S226.21,342,226.24,342.1Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M226.24,344.14c-.13.08-.59-.42-1.27-.87s-1.31-.7-1.28-.85.8-.11,1.58.41S226.36,344.07,226.24,344.14Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M221.8,378.29a2.8,2.8,0,0,0,1.93,3,3.11,3.11,0,0,0,3.39-1.24,3.47,3.47,0,0,0,0-3.66,3.47,3.47,0,0,1-.78,2.34,2.57,2.57,0,0,1-2.26.89,2,2,0,0,1-1.69-1.64"})}),e.jsx("circle",{cx:"224.38",cy:"377.17",r:"2.76",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M227.14,377.17s0-.24-.18-.65a2.87,2.87,0,0,0-1-1.4,2.61,2.61,0,0,0-2.42-.32,2.54,2.54,0,1,0,2.42,4.42,2.78,2.78,0,0,0,1-1.4,6,6,0,0,1,.18-.65s.09.25,0,.7a2.72,2.72,0,0,1-1,1.65,3,3,0,0,1-2.81.48,3,3,0,0,1,0-5.65,3,3,0,0,1,2.81.48,2.72,2.72,0,0,1,1,1.65C227.23,376.93,227.17,377.18,227.14,377.17Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M225.65,376c0,.14-.6.48-1.21,1.12s-.93,1.29-1.07,1.25,0-.88.7-1.61S225.62,375.86,225.65,376Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M225.65,378c-.12.08-.58-.43-1.26-.88s-1.32-.7-1.29-.85.81-.11,1.58.42S225.77,378,225.65,378Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M218.25,385.08c10.82,2.35,23.46,2.44,35.15,1.87,5.62-.28,11.79-.63,16.29,2.76,1,.74,2.14,1.71,3.3,1.28,1.68-.63,1.74-3.71,3.54-3.77.9,0,1.59.83,1.88,1.68a13,13,0,0,0,.82,2.56c.46.78,1.55,1.3,2.27.75,1.14-.87-.18-2.74.25-4.11s2.47-1.53,3.85-1,2.72,1.54,4.19,1.32a8.19,8.19,0,0,0,2.83-1.45c2.63-1.61,5.88-1.7,9-1.76,3.25-.05,6.6-.36,9.85-.42Z"})}),e.jsx("path",{d:"M292.77,349.79a2.22,2.22,0,0,1-.51.18,11.73,11.73,0,0,0-1.45.49,22,22,0,0,0-4.88,2.76c-1.95,1.36-4.1,3.24-6.83,4.9a15.6,15.6,0,0,1-4.63,1.93,26.2,26.2,0,0,1-5.34.4c-3.65,0-6.84,1.48-9.6,3s-5.29,2.84-7.26,4.17a26.22,26.22,0,0,0-4.34,3.56c-.93,1-1.36,1.55-1.4,1.52s.08-.16.28-.45a14,14,0,0,1,1-1.21,23.79,23.79,0,0,1,4.28-3.72,78,78,0,0,1,7.24-4.3,33.09,33.09,0,0,1,4.52-2.1,15.5,15.5,0,0,1,5.29-.95,26.23,26.23,0,0,0,5.25-.38,15.77,15.77,0,0,0,4.5-1.84c2.68-1.61,4.87-3.46,6.86-4.79a20.61,20.61,0,0,1,5-2.65,8.71,8.71,0,0,1,1.49-.4A2,2,0,0,1,292.77,349.79Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M269.06,357.71a13,13,0,0,1-2.9-.45,43.59,43.59,0,0,1-6.77-2.1,42.76,42.76,0,0,1-6.34-3.16,12.39,12.39,0,0,1-2.41-1.69,25.49,25.49,0,0,1,2.59,1.37,59.77,59.77,0,0,0,13,5.23A21,21,0,0,1,269.06,357.71Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M284.1,325.07c.77-.41,23.24-7.64,23.24-7.64l-21.48,12Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M281.76,322.64a7.6,7.6,0,0,0-7.6,7.6h15.2A7.6,7.6,0,0,0,281.76,322.64Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M205.35,394.09c-.15,0-.26-24.42-.26-54.54s.11-54.55.26-54.55.26,24.42.26,54.55S205.49,394.09,205.35,394.09Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M324.2,394.09c-.15,0-.26-24.42-.26-54.54s.11-54.55.26-54.55.26,24.42.26,54.55S324.34,394.09,324.2,394.09Z",style:{fill:"#263238"}}),e.jsx("circle",{cx:"200.36",cy:"298.63",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"200.36",cy:"320.51",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"200.36",cy:"342.4",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"200.36",cy:"364.29",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"200.36",cy:"386.17",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"330.31",cy:"298.63",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"330.31",cy:"320.51",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"330.31",cy:"342.4",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"330.31",cy:"364.29",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"330.31",cy:"386.17",r:"1.17",style:{fill:"#263238"}}),e.jsx("rect",{x:"234.3",y:"272.27",width:"51.1",height:"12.04",style:{fill:"#455a64"}}),e.jsx("path",{d:"M238,284.32a32.12,32.12,0,0,1-.26-5.82,32,32,0,0,1,.26-5.81,33.09,33.09,0,0,1,.26,5.81A33.25,33.25,0,0,1,238,284.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M243.23,284.32a33.25,33.25,0,0,1-.26-5.82,33.09,33.09,0,0,1,.26-5.81,32,32,0,0,1,.26,5.81A32.12,32.12,0,0,1,243.23,284.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M248.48,284.32a33.25,33.25,0,0,1-.26-5.82,33.09,33.09,0,0,1,.26-5.81,33.09,33.09,0,0,1,.26,5.81A33.25,33.25,0,0,1,248.48,284.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M253.73,284.32a32.12,32.12,0,0,1-.26-5.82,32,32,0,0,1,.26-5.81,33.09,33.09,0,0,1,.26,5.81A33.25,33.25,0,0,1,253.73,284.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M259,284.32a33.25,33.25,0,0,1-.26-5.82,33.09,33.09,0,0,1,.26-5.81,32,32,0,0,1,.26,5.81A32.12,32.12,0,0,1,259,284.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M264.22,284.32a33.25,33.25,0,0,1-.26-5.82,33.09,33.09,0,0,1,.26-5.81,33.09,33.09,0,0,1,.26,5.81A33.25,33.25,0,0,1,264.22,284.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M269.47,284.32a32.12,32.12,0,0,1-.26-5.82,32,32,0,0,1,.26-5.81,33.09,33.09,0,0,1,.26,5.81A33.25,33.25,0,0,1,269.47,284.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M274.71,284.32a33.25,33.25,0,0,1-.26-5.82,33.09,33.09,0,0,1,.26-5.81,32,32,0,0,1,.26,5.81A32.12,32.12,0,0,1,274.71,284.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M280,284.32a33.25,33.25,0,0,1-.26-5.82,33.09,33.09,0,0,1,.26-5.81,33.09,33.09,0,0,1,.26,5.81A33.25,33.25,0,0,1,280,284.32Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M345.68,310.42c1.24,6.26,2.39,12.16,3.62,18.42a26.7,26.7,0,0,1-3.62,0c0-6,0-12.41,0-18.41"})}),e.jsx("path",{d:"M192.15,296.05c.14,0,0,18.68-.35,41.71s-.71,41.7-.86,41.7,0-18.67.34-41.71S192,296.05,192.15,296.05Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M213.89,382c-.15,0-.26-9.3-.26-20.77s.11-20.77.26-20.77.26,9.3.26,20.77S214,382,213.89,382Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M312.1,287.68c0,.15-22.93.26-51.2.26s-51.2-.11-51.2-.26,22.92-.26,51.2-.26S312.1,287.54,312.1,287.68Z",style:{fill:"#fff"}})]}),e.jsx("g",{children:e.jsx("path",{d:"M462.62,475.16c0,.14-95.2.26-212.61.26s-212.63-.12-212.63-.26,95.18-.26,212.63-.26S462.62,475,462.62,475.16Z",style:{fill:"#263238"}})})]}),Ple=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500",height:400,width:400,children:[e.jsxs("g",{id:"freepik--background-complete--inject-276",children:[e.jsx("path",{d:"M195.29,51.38c.52-3.73-4.76-6.8-8.72-7.12-1.89-.16-3.85.13-5.64-.49-3.87-1.35-5.42-6.36-9.21-8-2.83-1.19-6.08-.13-8.82,1.25s-5.46,3.12-8.52,3.32c-2.66.17-5.56-.82-7.89.48-1.74,1-2.65,3-4.25,4.15a10.12,10.12,0,0,1-5.55,1.51,15.53,15.53,0,0,0-5.73.93c-1.77.81-3.23,2.69-2.86,4.6Z",style:{fill:"#f5f5f5"}}),e.jsx("path",{d:"M460.8,272.09c.86-6.21-7.91-11.32-14.5-11.85-3.14-.26-6.4.22-9.38-.82-6.44-2.24-9-10.57-15.31-13.23-4.7-2-10.12-.21-14.68,2.08s-9.06,5.18-14.16,5.51c-4.43.28-9.24-1.36-13.12.81-2.89,1.61-4.4,4.94-7.06,6.9s-6,2.33-9.24,2.51-6.58.2-9.52,1.55-5.38,4.46-4.77,7.64Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M127.4,120.53c.65-4.75-6.06-8.66-11.1-9.07-2.4-.19-4.89.18-7.17-.62-4.93-1.72-6.9-8.09-11.72-10.12-3.59-1.52-7.74-.16-11.23,1.59s-6.93,4-10.83,4.22c-3.39.21-7.07-1-10,.61-2.21,1.24-3.36,3.78-5.4,5.28s-4.59,1.79-7.07,1.92-5,.16-7.28,1.19-4.11,3.41-3.65,5.84Z",style:{fill:"#f5f5f5"}}),e.jsx("polygon",{points:"392.87 379.38 370.62 475.98 380.03 475.95 402.32 380.29 392.87 379.38",style:{fill:"#e0e0e0"}}),e.jsx("polygon",{points:"433.45 379.38 455.78 475.98 464.72 475.98 443.12 379.38 433.45 379.38",style:{fill:"#e0e0e0"}}),e.jsx("polygon",{points:"377.85 306.83 390.52 373.34 404.91 373.34 391.38 306.83 377.85 306.83",style:{fill:"#e0e0e0"}}),e.jsx("polygon",{points:"157.22 379.38 139.07 475.98 148.31 475.98 167.27 379.38 157.22 379.38",style:{fill:"#e0e0e0"}}),e.jsx("polygon",{points:"195.38 379.38 216.12 475.45 225.25 475.45 205.22 379.38 195.38 379.38",style:{fill:"#e0e0e0"}}),e.jsx("polygon",{points:"142.2 306.83 154.87 373.34 169.26 373.34 155.73 306.83 142.2 306.83",style:{fill:"#e0e0e0"}}),e.jsx("polygon",{points:"113.7 300.79 116.29 312.88 405.34 312.88 401.97 300.79 113.7 300.79",style:{fill:"#ebebeb"}}),e.jsx("polygon",{points:"119.22 324.27 122.28 336.36 409.37 336.36 406.76 324.27 119.22 324.27",style:{fill:"#ebebeb"}}),e.jsx("polygon",{points:"124.93 348.58 127.77 360.67 413.98 360.67 411.27 348.58 124.93 348.58",style:{fill:"#ebebeb"}}),e.jsx("rect",{x:"146.81",y:"373.34",width:"308.63",height:"12.09",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M330.38,223.6a13.6,13.6,0,0,1-11.8-20.37l39-68a13.45,13.45,0,0,1,11.76-6.83h0a13.47,13.47,0,0,1,11.76,6.76l39.4,67.77a13.61,13.61,0,0,1-11.72,20.44l-78.39.24Zm39-91.15h0a9.44,9.44,0,0,0-8.25,4.8l-39,68a9.54,9.54,0,0,0,8.27,14.29h0l78.39-.24A9.54,9.54,0,0,0,417,205l-39.4-67.76A9.44,9.44,0,0,0,369.37,132.45Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M361.72,161.87l1.83,25.37a4.1,4.1,0,0,0,3.89,3.81h0a4.12,4.12,0,0,0,4.31-3.69l2.6-25.53a3.24,3.24,0,0,0-3.29-3.56l-6.19.14A3.23,3.23,0,0,0,361.72,161.87Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M374.29,205.27a6.19,6.19,0,1,1-4-7.8A6.19,6.19,0,0,1,374.29,205.27Z",style:{fill:"#ebebeb"}})]}),e.jsx("g",{id:"freepik--Floor--inject-276",children:e.jsx("path",{d:"M469.81,475.86c0,.14-98.42.26-219.8.26S30.19,476,30.19,475.86s98.4-.26,219.82-.26S469.81,475.71,469.81,475.86Z",style:{fill:"#263238"}})}),e.jsxs("g",{id:"freepik--Device--inject-276",children:[e.jsx("path",{d:"M317.52,368.58l-101-.07c-12.14,0-22-10.35-22-23.11l0-266c0-12.76,9.86-23.11,22-23.1l100.95.06c12.15,0,22,10.35,22,23.11l-.05,266C339.52,358.24,329.67,368.58,317.52,368.58Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M317.49,65.78l-19.58,0A5,5,0,0,0,293.16,71v3.73a5,5,0,0,1-4.76,5.22l-38.15,0a5,5,0,0,1-4.75-5.23V71a5,5,0,0,0-4.75-5.22h-24c-8.51,0-15.41,7.25-15.41,16.19l0,259.62c0,8.93,6.89,16.18,15.39,16.19l100.76.06c8.51,0,15.41-7.24,15.41-16.18L332.88,82C332.88,73,326,65.78,317.49,65.78Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M228.8,333.27v6.35a.7.7,0,0,1-1.07.59l-5-3.18a.7.7,0,0,1,0-1.18l5-3.18A.7.7,0,0,1,228.8,333.27Z",style:{fill:"#e0e0e0"}}),e.jsx("path",{d:"M269.86,336.38a4.38,4.38,0,1,1-4.38-4.39A4.39,4.39,0,0,1,269.86,336.38Z",style:{fill:"#e0e0e0"}}),e.jsx("rect",{x:"301.32",y:"332.56",width:"8.08",height:"8.1",rx:"1.87",style:{fill:"#e0e0e0"}}),e.jsx("circle",{cx:"267.44",cy:"180.47",r:"49.74",transform:"translate(29.23 398.07) rotate(-76.42)",style:{fill:"#f5f5f5"}}),e.jsx("path",{d:"M269.67,202.38a4.11,4.11,0,1,1-4.09-4.12A4.12,4.12,0,0,1,269.67,202.38Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M257.35,197.1a11.39,11.39,0,0,1,16.48-.22c2.1,2.12,5.38-1.13,3.28-3.25a16.07,16.07,0,0,0-23,.19c-2.05,2.15,1.2,5.44,3.26,3.28Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M243.39,178c6.25-5.4,13.71-8.8,22.06-8.82A32.7,32.7,0,0,1,288,177.76c2.16,2,5.45-1.21,3.28-3.25a37.55,37.55,0,0,0-25.78-10c-9.61,0-18.15,4-25.34,10.17-2.25,1.95,1,5.22,3.26,3.28Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M248.9,188.57a22.6,22.6,0,0,1,33.23-.47c2.08,2.13,5.36-1.12,3.28-3.26a27.23,27.23,0,0,0-39.77.45c-2,2.18,1.23,5.47,3.26,3.28Z",style:{fill:"#455a64"}}),e.jsx("circle",{cx:"291.96",cy:"167.08",r:"12.61",transform:"translate(76.6 425.49) rotate(-79.97)",style:{fill:"#407BFF"}}),e.jsx("rect",{x:"291.01",y:"161.01",width:"2.53",height:"11.33",transform:"translate(203.46 -157.85) rotate(45)",style:{fill:"#fff"}}),e.jsx("rect",{x:"291.01",y:"161.01",width:"2.53",height:"11.33",transform:"translate(-32.25 255.48) rotate(-45)",style:{fill:"#fff"}}),e.jsx("path",{d:"M264.11,93.55a8.36,8.36,0,0,1,2-.87l.41-2,3.33-.06.48,2a8.17,8.17,0,0,1,2,.8L274,92.3l2.4,2.32-1.05,1.72a8.36,8.36,0,0,1,.87,2l2,.41.06,3.34-2,.47a8.14,8.14,0,0,1-.79,2l1.1,1.68-2.31,2.4-1.72-1a8.39,8.39,0,0,1-2,.86l-.41,2-3.33.06-.48-2a8.34,8.34,0,0,1-2-.8l-1.69,1.1-2.4-2.31,1.05-1.72a8.25,8.25,0,0,1-.87-2l-2-.41-.06-3.33,2-.48a8.31,8.31,0,0,1,.79-2l-1.1-1.69,2.32-2.39,1.72,1ZM265.88,98a3.58,3.58,0,1,0,5.06-.09A3.58,3.58,0,0,0,265.88,98Z",style:{fill:"#e0e0e0"}}),e.jsx("path",{d:"M221.82,101c-1,0-2.39,0-3.72,0-1.59,0-3.18,0-4.29,0h0a.5.5,0,0,1-.5-.5.49.49,0,0,1,.49-.5c1.11,0,2.72,0,4.32,0s3.18.06,4.29,0h0a.49.49,0,0,1,.5.49.5.5,0,0,1-.49.51Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M216.85,104.36a.51.51,0,0,1-.37-.17l-3-3.43a.52.52,0,0,1,0-.68l3-3.12a.5.5,0,1,1,.72.69l-2.65,2.79,2.74,3.09a.5.5,0,0,1-.38.83Z",style:{fill:"#263238"}}),e.jsx("circle",{cx:"319.93",cy:"96.54",r:"1.55",style:{fill:"#263238"}}),e.jsx("path",{d:"M321.48,101.44a1.56,1.56,0,1,1-1.55-1.55A1.55,1.55,0,0,1,321.48,101.44Z",style:{fill:"#263238"}}),e.jsx("circle",{cx:"319.93",cy:"106.34",r:"1.55",style:{fill:"#263238"}}),e.jsx("path",{d:"M233.76,248.89a49.33,49.33,0,0,1-7.1.26,49.24,49.24,0,0,1-7.09-.26,49.24,49.24,0,0,1,7.09-.26A49.33,49.33,0,0,1,233.76,248.89Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M259.23,265.49c0,.14-8.72.26-19.47.26s-19.47-.12-19.47-.26,8.71-.26,19.47-.26S259.23,265.35,259.23,265.49Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M259.23,282c0,.14-8.72.26-19.47.26s-19.47-.12-19.47-.26,8.71-.26,19.47-.26S259.23,281.84,259.23,282Z",style:{fill:"#263238"}}),e.jsx("rect",{x:"290.23",y:"259.26",width:"26.7",height:"12.45",rx:"6.23",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M301.6,265.49a5.22,5.22,0,1,1-5.22-5.22A5.22,5.22,0,0,1,301.6,265.49Z",style:{fill:"#e0e0e0"}}),e.jsx("path",{d:"M310.71,288.21H296.46a6.23,6.23,0,0,1-6.23-6.23h0a6.23,6.23,0,0,1,6.23-6.23h14.25a6.23,6.23,0,0,1,6.23,6.23h0A6.23,6.23,0,0,1,310.71,288.21Z",style:{fill:"#ebebeb"}}),e.jsx("circle",{cx:"296.38",cy:"281.98",r:"5.22",style:{fill:"#e0e0e0"}}),e.jsx("path",{d:"M259.23,298.58c0,.15-8.72.26-19.47.26s-19.47-.11-19.47-.26,8.71-.26,19.47-.26S259.23,298.44,259.23,298.58Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M310.71,306.65H296.46a6.22,6.22,0,0,1-6.23-6.22h0a6.23,6.23,0,0,1,6.23-6.23h14.25a6.23,6.23,0,0,1,6.23,6.23h0A6.22,6.22,0,0,1,310.71,306.65Z",style:{fill:"#ebebeb"}}),e.jsx("circle",{cx:"296.38",cy:"300.43",r:"5.22",style:{fill:"#e0e0e0"}})]}),e.jsxs("g",{id:"freepik--Sun--inject-276",children:[e.jsx("circle",{cx:"413.58",cy:"80.66",r:"16.3",transform:"translate(268.04 476.1) rotate(-80.83)",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M411.26,117.11c-.09,0-.17-3-.17-6.73s.08-6.72.17-6.72a64.49,64.49,0,0,1,.17,6.72A64.61,64.61,0,0,1,411.26,117.11Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M401.87,99.87c.08,0-1.45,2.86-3.42,6.27s-3.64,6.15-3.72,6.1,1.45-2.85,3.42-6.27S401.79,99.82,401.87,99.87Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M392.23,93.87a35.87,35.87,0,0,1-3.8,3.24,39.42,39.42,0,0,1-4,3,35.87,35.87,0,0,1,3.8-3.24A37,37,0,0,1,392.23,93.87Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M427.52,110.48a9,9,0,0,1-.43-1.65c-.23-1-.57-2.44-1-4s-.84-2.94-1.15-3.94a8.53,8.53,0,0,1-.46-1.65,8.11,8.11,0,0,1,.69,1.57c.37,1,.83,2.37,1.25,3.93s.71,3,.89,4A8.25,8.25,0,0,1,427.52,110.48Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M444.05,98.75a57.74,57.74,0,0,1-4.82-4,57.16,57.16,0,0,1-4.59-4.24,57.74,57.74,0,0,1,4.82,4A57.16,57.16,0,0,1,444.05,98.75Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M450.38,82.63a13,13,0,0,1-2-.28c-1.21-.2-2.88-.46-4.73-.67s-3.54-.34-4.76-.42a12.15,12.15,0,0,1-2-.17,10,10,0,0,1,2-.07c1.23,0,2.93.11,4.79.32s3.54.51,4.74.77A11,11,0,0,1,450.38,82.63Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M450.4,66.78c0,.1-3.5,1-7.88,2.1s-7.94,1.85-8,1.76,3.51-1,7.88-2.09S450.38,66.69,450.4,66.78Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M432,48.32c.07,0-1.61,2.74-3.77,6s-4,5.88-4.06,5.82,1.61-2.74,3.77-6A69.81,69.81,0,0,1,432,48.32Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M413.71,44.46a16,16,0,0,1,0,2.24c0,1.38,0,3.28,0,5.38s0,4,.06,5.4a15.82,15.82,0,0,1,0,2.23,12.59,12.59,0,0,1-.23-2.22c-.08-1.38-.15-3.29-.15-5.4s.06-4,.14-5.4A12.35,12.35,0,0,1,413.71,44.46Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M399.87,61.69c-.08.05-1.8-2.61-3.83-5.94s-3.63-6.08-3.55-6.13,1.8,2.62,3.84,6S400,61.65,399.87,61.69Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M391.6,68.72a7.69,7.69,0,0,1-1.73-.27c-1.06-.23-2.51-.58-4.1-1s-3-1-4-1.35a8.59,8.59,0,0,1-1.61-.7,9.09,9.09,0,0,1,1.69.48c1,.32,2.45.78,4,1.24s3,.86,4.06,1.14A9.26,9.26,0,0,1,391.6,68.72Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M388,81.24a37.91,37.91,0,0,1-5.2.67,41.62,41.62,0,0,1-5.23.34,38.48,38.48,0,0,1,5.2-.68A42.56,42.56,0,0,1,388,81.24Z",style:{fill:"#407BFF"}})]}),e.jsxs("g",{id:"freepik--plant-2--inject-276",children:[e.jsx("path",{d:"M376.88,371.74l14.58,103.87,3.8.12C392.84,440.45,390.26,404.47,376.88,371.74Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M417.39,366.87C407.2,378,403.1,393.39,400.52,408.28c-3.66,21.11-4,46.05-2.89,67.45l5.32.12A292.89,292.89,0,0,1,417.39,366.87Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M379.56,433.19c-1.17-5.15-2.51-10.38-5.45-14.77-4-5.92-10.43-9.66-16.94-12.58s-13.34-5.24-19.22-9.28c6.56,10.75,21.44,13.61,29,23.67,3.77,5,5.34,11.28,6.81,17.37,3.23,13.28,5.21,24.77,8.43,38h4.32A340.37,340.37,0,0,0,379.56,433.19Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M406.84,475.73s3.65-41.25,6.36-48.83,28.31-28.5,28.07-27.51S422.06,423.27,419.35,428,412,475.73,412,475.73Z",style:{fill:"#455a64"}})]}),e.jsxs("g",{id:"freepik--plant-1--inject-276",children:[e.jsx("path",{d:"M285.82,432.59a8.08,8.08,0,0,1,4.49,4.47,14.33,14.33,0,0,1,1,6.39c-.21,4.2-2.3,8.57-4.64,12.07-3.71-2.84-4.86-8.13-5.28-10.86-.66-4.3.76-12.48,4.45-12.07",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M291.18,462.13a6.91,6.91,0,0,1,1.81-6.7,9.13,9.13,0,0,1,6.61-2.54,3.88,3.88,0,0,1,3,1.13,2.94,2.94,0,0,1,.24,3,5.92,5.92,0,0,1-2.07,2.32c-2.92,2.11-6.13,3.61-9.64,2.8",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M287.51,475.21a5.43,5.43,0,0,1,.07-.86c.07-.61.16-1.4.27-2.34a24.48,24.48,0,0,1,1.91-7.56,14.87,14.87,0,0,1,4.95-6,10.13,10.13,0,0,1,2.1-1.09,4.6,4.6,0,0,1,.61-.2l.22-.05a16.29,16.29,0,0,0-2.81,1.52,15.39,15.39,0,0,0-4.79,5.94,26,26,0,0,0-2,7.46c-.15,1-.27,1.78-.37,2.33A4.14,4.14,0,0,1,287.51,475.21Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M285.28,438.91a1.47,1.47,0,0,1,.07.37l.13,1.07c.12.94.26,2.28.42,3.95.33,3.34.71,7.95,1,13.05s.49,9.73.57,13.08c0,1.68.06,3,.06,4v1.08c0,.25,0,.38,0,.38a2.28,2.28,0,0,1,0-.38l-.05-1.08c0-1-.09-2.31-.16-4-.14-3.35-.34-8-.65-13.07s-.66-9.71-.93-13.05c-.14-1.64-.24-3-.32-3.95,0-.44-.06-.8-.08-1.08A2.72,2.72,0,0,1,285.28,438.91Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M285.27,465.07a16.14,16.14,0,0,0-9.57-11.24c-1.21-.49-2.77-.76-3.68.18s-.59,2.49,0,3.67a13.82,13.82,0,0,0,13.23,7.74",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M276.52,457.74a4,4,0,0,1,.77.28c.24.1.54.22.87.39s.72.35,1.12.61a12.66,12.66,0,0,1,1.28.84,16.18,16.18,0,0,1,1.38,1.1,17.81,17.81,0,0,1,2.69,3,17.23,17.23,0,0,1,1.88,3.59,16,16,0,0,1,.52,1.68,15.07,15.07,0,0,1,.31,1.51,10.76,10.76,0,0,1,.14,1.26,6.57,6.57,0,0,1,0,1,4.31,4.31,0,0,1,0,.81c-.07,0,0-1.16-.35-3a14,14,0,0,0-.34-1.48,15.94,15.94,0,0,0-.55-1.65,17.92,17.92,0,0,0-1.86-3.52,19,19,0,0,0-2.62-3,16.12,16.12,0,0,0-1.35-1.11c-.42-.34-.86-.6-1.25-.86C277.58,458.22,276.5,457.8,276.52,457.74Z",style:{fill:"#263238"}})]}),e.jsxs("g",{id:"freepik--Character--inject-276",children:[e.jsx("path",{d:"M110.07,420.8,81.94,443.87,110.47,479c3.19-2.93-4.83-26.58-4.83-26.58l18.63-14Z",style:{fill:"#455a64"}}),e.jsx("g",{style:{opacity:.6},children:e.jsx("path",{d:"M98.34,440.33a1.85,1.85,0,0,0-2.44.33,1.78,1.78,0,0,0,.31,2.43,2,2,0,0,0,2.59-.37,1.85,1.85,0,0,0-.61-2.49",style:{fill:"#fff"}})}),e.jsx("g",{style:{opacity:.6},children:e.jsx("path",{d:"M82.05,443.77l2.83-2.34L111,476.27s.58,2.12-.67,2.83Z",style:{fill:"#fff"}})}),e.jsx("path",{d:"M106.28,452.85c-.17.14-1-.66-2.19-1.05s-2.32-.26-2.38-.48,1.14-.76,2.63-.25S106.47,452.76,106.28,452.85Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M107.75,457.78c-.13.17-1-.33-2.23-.33s-2.1.46-2.23.29.75-1.08,2.24-1.06S107.91,457.64,107.75,457.78Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M105,463.45c-.17-.12.5-1.06,1.8-1.38s2.32.18,2.23.36-1,.1-2,.38S105.19,463.61,105,463.45Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M110.17,449.18c-.21.06-.61-.92-1.47-1.84s-1.77-1.42-1.7-1.63,1.28,0,2.27,1.11S110.38,449.16,110.17,449.18Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M113.66,445c-.07.06-.72-.53-1.42-1.77a10.45,10.45,0,0,1-.93-2.3,10.2,10.2,0,0,1-.28-1.44,2.74,2.74,0,0,1,0-.87,1,1,0,0,1,.85-.82,1.19,1.19,0,0,1,1,.43,3.19,3.19,0,0,1,.45.74,8.19,8.19,0,0,1,.51,1.4,7.78,7.78,0,0,1,.25,2.48,3.7,3.7,0,0,1-.59,2.2c-.11,0,.1-.86,0-2.2a9.07,9.07,0,0,0-.39-2.29,8.76,8.76,0,0,0-.51-1.26c-.2-.45-.46-.77-.7-.73s-.12,0-.17.2a2.3,2.3,0,0,0,0,.63,13.33,13.33,0,0,0,.22,1.36,12.68,12.68,0,0,0,.73,2.23A14.58,14.58,0,0,1,113.66,445Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M113.24,444.94c-.08,0,.26-.88,1.32-1.85a7.48,7.48,0,0,1,2.12-1.32,7.69,7.69,0,0,1,1.43-.42,1.89,1.89,0,0,1,1.8.4,1.07,1.07,0,0,1,.11,1.14,3.22,3.22,0,0,1-.5.7,5,5,0,0,1-1.18,1,5.21,5.21,0,0,1-2.43.73c-1.47.05-2.26-.5-2.21-.56a20.42,20.42,0,0,0,2.16,0A5.35,5.35,0,0,0,118,444a4.22,4.22,0,0,0,1-.86c.33-.36.52-.74.37-.85a1.32,1.32,0,0,0-1.08-.15,8.65,8.65,0,0,0-1.31.34,8.21,8.21,0,0,0-2,1.09C113.83,444.31,113.34,445,113.24,444.94Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M97.33,439.64,97.67,476l45.26-.19c-.28-4.32-23.74-12.91-23.74-12.91l.74-23.31Z",style:{fill:"#455a64"}}),e.jsx("g",{style:{opacity:.6},children:e.jsx("path",{d:"M105.19,461a1.85,1.85,0,0,0-1.27,2.12,1.78,1.78,0,0,0,2.09,1.27,2,2,0,0,0,1.33-2.24,1.85,1.85,0,0,0-2.32-1.09",style:{fill:"#fff"}})}),e.jsx("g",{style:{opacity:.6},children:e.jsx("path",{d:"M97.66,475.88l0-3.68,43.53,1.48s2,.88,1.78,2.3Z",style:{fill:"#fff"}})}),e.jsx("path",{d:"M119.93,462.69c0,.22-1.11.33-2.2,1s-1.66,1.65-1.86,1.56.12-1.36,1.45-2.21S120,462.49,119.93,462.69Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M124.68,464.63c0,.22-.9.6-1.65,1.54s-1,1.92-1.18,1.92-.36-1.26.59-2.41S124.68,464.42,124.68,464.63Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M127.4,470.31c-.2,0-.51-1.06,0-2.27s1.6-1.7,1.69-1.52-.54.84-1,1.84S127.62,470.28,127.4,470.31Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M119.51,457.36c-.1.2-1.11-.1-2.36,0s-2.22.49-2.34.3.82-1,2.29-1.07S119.61,457.18,119.51,457.36Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M118.4,452a4.26,4.26,0,0,1-2.26,0,10.52,10.52,0,0,1-3.68-1.4,3,3,0,0,1-.69-.53,1,1,0,0,1-.1-1.18,1.2,1.2,0,0,1,1-.51,3,3,0,0,1,.85.12,7.82,7.82,0,0,1,3.51,1.84c1.05,1,1.42,1.79,1.34,1.83s-.61-.61-1.69-1.41a8.65,8.65,0,0,0-2-1.13,8.36,8.36,0,0,0-1.31-.4c-.48-.12-.88-.12-1,.09s0,.11.06.25a2,2,0,0,0,.5.39,13.42,13.42,0,0,0,1.2.68,12.51,12.51,0,0,0,2.2.83A16.28,16.28,0,0,1,118.4,452Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M118.12,452.31c-.08,0-.52-.75-.61-2.19a7.35,7.35,0,0,1,.3-2.48,7.61,7.61,0,0,1,.57-1.38,1.87,1.87,0,0,1,1.44-1.15,1.06,1.06,0,0,1,1,.63,3.43,3.43,0,0,1,.24.83,5.17,5.17,0,0,1-1,3.87c-.88,1.18-1.8,1.45-1.82,1.37s.69-.54,1.36-1.67a5.06,5.06,0,0,0,.71-2.13,4.45,4.45,0,0,0,0-1.31c-.08-.48-.26-.87-.44-.82s-.61.36-.79.75a7.92,7.92,0,0,0-.56,1.23,8.18,8.18,0,0,0-.43,2.26C118,451.45,118.24,452.28,118.12,452.31Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M101.21,228.91s-6.35,6.79-9.46,13.3-5.11,22-5.11,22-8.76,19.51-7.43,29.49S89.46,372,89.46,372s-.44,66.36,5.88,78.19l1.41,6.39L122.27,452h0l-.16-3.83,6-130.12,15.36-88.59Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M157.52,248.26s15.25,84,16.6,98.57-50.59,91.45-50.59,91.45L99.79,413.55l34.08-63.35-11.08-63.85,15.41-56.41,16.18.57Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M91.38,429.52a17,17,0,0,0,.18,1.86c.16,1.22.46,3,.88,5.32.85,4.62,2.23,11.32,4.08,19.69l0,.18.18,0,25.53-4.48.19,0v-.2c.71-17.51,1.56-38.44,2.47-60.89.94-24.15,1.81-46.55,2.53-64.92v0c1.91-14.76,3.49-27,4.6-35.51.53-4.24.95-7.57,1.24-9.87.13-1.12.24-2,.31-2.59s.08-.89.08-.89-.06.29-.15.88-.22,1.47-.38,2.58c-.32,2.29-.78,5.62-1.37,9.85C130.63,299,129,311.23,127,326h0c-.74,18.37-1.65,40.77-2.63,64.92-.88,22.45-1.7,43.38-2.38,60.89l.2-.23-25.5,4.59.21.14c-1.9-8.36-3.33-15.05-4.24-19.65-.45-2.31-.78-4.09-1-5.3-.11-.6-.17-1.06-.21-1.37A4.57,4.57,0,0,0,91.38,429.52Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M61.75,194.15s15.8-34.06,19.53-35.87,14.45-2.42,15.9-.38L68.86,198.68Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M62.57,189.55a3.15,3.15,0,0,0-2.29-.3h0c-4.91,1.22-22.85,6-24.85,11.13-2.32,5.91,11.87,82.71,13.7,84.79s30.05-1.41,30.92-4.69-9.18-86.06-9.18-86.06Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M40.3,241.86s-1.6.1-3.19,3.63,1.21,32.19,3.32,35.12,8.27,3.55,8.27,3.55Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M71.75,282.05a.71.71,0,0,1-.14-.19l-.38-.59c-.33-.52-.77-1.31-1.29-2.36a43.07,43.07,0,0,1-3.23-9.33,120.74,120.74,0,0,1-2.24-14.47c-.58-5.48-1.22-11.5-1.9-17.82-1.36-12.64-2.49-24.1-2.68-32.45-.1-4.17,0-7.54.11-9.87.06-1.16.13-2.07.19-2.68,0-.28.05-.5.07-.69a.92.92,0,0,1,0-.24.87.87,0,0,1,0,.24c0,.19,0,.42,0,.7,0,.65,0,1.55-.09,2.68-.06,2.32-.09,5.69.06,9.85.28,8.32,1.47,19.77,2.83,32.41.66,6.31,1.29,12.33,1.86,17.81a125.94,125.94,0,0,0,2.12,14.45,45.68,45.68,0,0,0,3.05,9.33c.49,1.05.9,1.85,1.2,2.39l.33.61C71.72,282,71.76,282,71.75,282.05Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M62.75,236.5a31.35,31.35,0,0,1-3.35.63c-2.06.35-4.91.9-8,1.67s-5.88,1.61-7.87,2.26a28.59,28.59,0,0,1-3.25,1,3,3,0,0,1,.81-.42c.54-.24,1.33-.56,2.32-.93a73.67,73.67,0,0,1,16-4c1-.13,1.89-.22,2.48-.25A3,3,0,0,1,62.75,236.5Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M39.93,238.69a1.6,1.6,0,0,1,.12.47c.07.37.15.82.25,1.36l.83,5c.71,4.23,1.74,10.07,3,16.49s2.6,12.21,3.58,16.39c.48,2,.87,3.7,1.17,4.95l.3,1.35a1.74,1.74,0,0,1,.07.48,1.48,1.48,0,0,1-.17-.45l-.4-1.33c-.33-1.15-.79-2.83-1.33-4.91-1.07-4.16-2.44-9.94-3.73-16.37s-2.26-12.29-2.88-16.55c-.31-2.12-.54-3.85-.67-5-.06-.55-.11-1-.15-1.38A2.18,2.18,0,0,1,39.93,238.69Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M60,204.11a7.92,7.92,0,0,1,.16-2.13,46.42,46.42,0,0,1,2.63-9.93,8.1,8.1,0,0,1,.91-1.93c.14.06-1,3.1-2,7S60.18,204.13,60,204.11Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M159.14,131.19c-.16-2.89-.52-17-.69-19.1a11.81,11.81,0,0,0-3.54-7.73,7.39,7.39,0,0,0-8-1.55h0a4.94,4.94,0,0,0-3.55,3.47c-5.92,21-5,43.47-7.6,65.23,7.73,1.26,18.13.75,25.94.34C161.68,154.47,160.21,150,159.14,131.19Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M155.89,160.86a2.05,2.05,0,0,1-.06-.56c0-.42-.05-1-.08-1.61,0-1.47-.11-3.49-.18-5.94-.11-5.08-.25-12-.41-19.59-.06-3.83-.12-7.47-.17-10.79,0-1.66,0-3.23-.05-4.71a24.15,24.15,0,0,0-.28-4,6.6,6.6,0,0,0-3-4.76,5.23,5.23,0,0,0-2-.62s0,0,.14,0a1.92,1.92,0,0,1,.42,0,4.15,4.15,0,0,1,1.57.47,5.63,5.63,0,0,1,1.94,1.7,7.79,7.79,0,0,1,1.33,3.16,23.86,23.86,0,0,1,.35,4.11c0,1.48.06,3.06.1,4.71.06,3.32.13,7,.21,10.79.1,7.62.19,14.52.26,19.59,0,2.46,0,4.47,0,5.94,0,.66,0,1.19,0,1.62A3,3,0,0,1,155.89,160.86Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M148.86,152.88a7.11,7.11,0,0,1-.09-1.26c0-.82-.05-2-.05-3.46,0-2.92.06-7,.17-11.41s.23-8.38.32-11.4c0-1.38.08-2.54.11-3.45a5.91,5.91,0,0,1,.11-1.27,7.18,7.18,0,0,1,.09,1.27c0,.81,0,2,0,3.46,0,2.92-.06,7-.17,11.4s-.24,8.38-.32,11.4c-.05,1.38-.08,2.54-.11,3.46A5.86,5.86,0,0,1,148.86,152.88Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M97.94,158.28c-1,0-19.86,1.34-24.24,21.54s-5.64,48.5-5.64,48.5l20.45-2Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M107.2,153.81l3.32-6.13,29-.79,2,5.22,17.09,6.17L157.18,234l12.66,69.91S169.71,314,136,317.2l-2.67-36.54-16.85-.4.46,35.69s-29.74-.48-39.17-7.21c0,0-2.86-34,5.26-58.49,7.11-21.44,9.88-27,9.88-27L93.49,159Z",style:{fill:"#407BFF"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M98.24,159.15Q89.5,196.56,80.74,234l5.93,6.29A17.72,17.72,0,0,0,96.9,224.35c0-3.46-1.1-6.83-1.24-10.29-.32-7.8,4-14.95,6-22.5C104.41,180.87,102.4,169.39,98.24,159.15Z"})}),e.jsx("path",{d:"M154.91,157.31c7,1.29,12.39,8.69,14,16.63.93,4.65,3.64,27.07,3.64,27.07l1.49,8.22s1.25,28.25-4.74,31.41c-7,3.68-11-.36-13.32-3.32s-4.79-22.22-4.79-22.22L153.8,169Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M158.22,168.65a4.47,4.47,0,0,1-.08.81q-.12.85-.33,2.31c-.32,2-.76,4.93-1.31,8.47s-1.26,7.85-2,12.57c-.39,2.36-.79,4.84-1.21,7.41s-.94,5.22-1.16,8a27.59,27.59,0,0,0,0,4.72v0c2.17,9.71,4.2,18.28,5.73,24.42.77,3,1.39,5.48,1.84,7.23.21.81.38,1.45.51,1.94a2.93,2.93,0,0,1,.15.69,3.35,3.35,0,0,1-.24-.66l-.6-1.92c-.5-1.68-1.2-4.13-2-7.19-1.62-6.12-3.71-14.69-5.89-24.39v0a28.53,28.53,0,0,1,0-4.8c.22-2.78.74-5.44,1.17-8s.85-5,1.24-7.41c.8-4.71,1.52-9,2.12-12.55s1.12-6.4,1.48-8.45c.18-.95.32-1.72.43-2.29A4.17,4.17,0,0,1,158.22,168.65Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M84,163,89.3,234s9.92-45.23,10.32-56.8a67.74,67.74,0,0,0-2-19.72S88,155.93,84,163Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M80.94,158.5a4.78,4.78,0,0,1,1.77,1A4,4,0,0,1,84,161.34a11.23,11.23,0,0,1,.53,2.64c.17,1.88.16,3.58.16,4.81a9.62,9.62,0,0,1-.08,2,6.62,6.62,0,0,1-.29-2c-.1-1.22-.14-2.92-.31-4.77s-.59-3.51-1.49-4.28S80.89,158.58,80.94,158.5Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M117.72,161.07s-.23-.19-.6-.62-.89-1-1.54-1.85l.3,0c-.72,2.09-1.82,5.12-3.07,8.52l-.18.48-.27-.41c-.15-.23-.33-.46-.47-.7a27.07,27.07,0,0,1-2.07-4.72c-.53-1.49-1-2.83-1.34-4s-.68-2-.91-2.65a5.58,5.58,0,0,1-.32-1,3.32,3.32,0,0,1,.51.91c.29.6.65,1.5,1.07,2.61s.91,2.47,1.44,3.91a30.27,30.27,0,0,0,2.06,4.62c.14.23.3.44.44.65l-.45.07c1.27-3.39,2.42-6.4,3.24-8.46l.11-.29.19.25A23.71,23.71,0,0,1,117.72,161.07Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M140.72,156.19a4.08,4.08,0,0,1-.35.95c-.26.6-.66,1.45-1.16,2.5s-1.12,2.29-1.85,3.66a34.38,34.38,0,0,1-2.62,4.32l-.33.45-.13-.55-.05-.23c-.82-3.49-1.53-6.66-2-9l.32.08a13.12,13.12,0,0,1-2.29,1.75c-.54.39-.79.67-.82.64s.17-.34.69-.8a16.85,16.85,0,0,0,2.14-1.84l.23-.27.1.35c.58,2.29,1.35,5.45,2.17,8.94l0,.23-.46-.1a39.21,39.21,0,0,0,2.61-4.23l1.94-3.59,1.31-2.43A4,4,0,0,1,140.72,156.19Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M118.22,160.79s-2.81,36.5-3.54,41.2,1.77,78.27,1.77,78.27l16.44,1.06s.17-60.75,0-61.17.08-42.89.08-42.89l-3.73-16.92-6.36,7.53Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M136.57,195.49c0,.08-.58.21-.87,1a1.58,1.58,0,0,0,.07,1.32,1.33,1.33,0,0,0,1.41.54,1.3,1.3,0,0,0,1.12-1,1.57,1.57,0,0,0-.4-1.26,2.23,2.23,0,0,0-1.17-.62s.13-.1.4-.1a1.69,1.69,0,0,1,1,.47,1.9,1.9,0,0,1,.61,1.59,1.89,1.89,0,0,1-3.42.63,1.89,1.89,0,0,1,0-1.71,1.65,1.65,0,0,1,.8-.8C136.41,195.44,136.56,195.46,136.57,195.49Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M136.57,227.35c0,.08-.58.22-.87,1a1.58,1.58,0,0,0,.07,1.32,1.44,1.44,0,0,0,2.53-.47,1.56,1.56,0,0,0-.4-1.26c-.56-.63-1.18-.54-1.17-.63s.13-.1.4-.09a1.66,1.66,0,0,1,1,.46,1.93,1.93,0,0,1,.61,1.59,1.89,1.89,0,0,1-3.42.63,1.87,1.87,0,0,1,0-1.7,1.65,1.65,0,0,1,.8-.8C136.41,227.3,136.56,227.33,136.57,227.35Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M138,265.89c0,.08-.58.22-.87,1a1.58,1.58,0,0,0,.07,1.32,1.44,1.44,0,0,0,2.53-.47,1.56,1.56,0,0,0-.4-1.26c-.56-.63-1.18-.54-1.17-.63s.13-.1.4-.09a1.62,1.62,0,0,1,1,.46,1.9,1.9,0,0,1,.62,1.59,1.89,1.89,0,0,1-3.43.63,1.9,1.9,0,0,1,0-1.7,1.65,1.65,0,0,1,.8-.8C137.87,265.84,138,265.87,138,265.89Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M159.34,195.2c-.36-2.91-1.13-5.76-1.32-8.69-.24-3.5.37-7-.32-10.49-2.38,4-2.92,8.77-2.93,13.4s.42,9.28-.24,13.86c-.45,3.14-1.47,6.91-1.85,10.06s.52,4.88,1.44,9.61C157.29,214,160.5,204.63,159.34,195.2Z"})}),e.jsx("path",{d:"M153.79,187.76a37,37,0,0,1-4.11,32.7",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M149.68,220.46c-.09-.06,1-1.64,2.32-4.42a38.89,38.89,0,0,0,1.94-5,42,42,0,0,0,1.38-6.45,42.87,42.87,0,0,0,.26-6.59,38.82,38.82,0,0,0-.63-5.35c-.59-3-1.26-4.82-1.16-4.86a6.34,6.34,0,0,1,.52,1.25c.15.41.32.91.48,1.5s.38,1.27.52,2a35.3,35.3,0,0,1,.75,5.41,36.27,36.27,0,0,1-1.66,13.2,35.91,35.91,0,0,1-2.07,5c-.33.71-.7,1.31-1,1.84a15.39,15.39,0,0,1-.85,1.34A6.53,6.53,0,0,1,149.68,220.46Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M104.12,236a9.91,9.91,0,0,1-1.92-1.55,46.79,46.79,0,0,1-7.63-9.14,9.64,9.64,0,0,1-1.19-2.18,14.37,14.37,0,0,1,1.49,2c.89,1.23,2.14,2.91,3.62,4.69s2.91,3.3,4,4.4A14.41,14.41,0,0,1,104.12,236Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M97.54,237.05a7.35,7.35,0,0,1-1-1.88,41.3,41.3,0,0,1-3-9.86,7.49,7.49,0,0,1-.21-2.13c.15,0,.73,3.17,1.9,7S97.68,237,97.54,237.05Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M129.7,218c0,.07-.61-.32-1.6-.71a9.35,9.35,0,0,0-8,.57c-.92.53-1.41,1-1.48.92a3.7,3.7,0,0,1,1.29-1.23,8.38,8.38,0,0,1,4.08-1.39,8.26,8.26,0,0,1,4.23.8A3.74,3.74,0,0,1,129.7,218Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M74.18,215.63s-7.35,8-6.79,13.58,3.16,17.86,10,17.49,13.11-11.44,14-20.22,0-29.44,0-29.44l-9.81,2.21Z",style:{fill:"#ffbe9d"}}),e.jsx("path",{d:"M59.58,164.43c5.08,6.49,17.67,22.14,17.67,22.14l11.85-3a2.16,2.16,0,0,0,1.62-1.83h0a2.15,2.15,0,0,0-.45-1.6l-16.61-21a4.72,4.72,0,0,0-5.37-1.5l-7.59,2.85A2.55,2.55,0,0,0,59.58,164.43Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M89.46,180.91a9.89,9.89,0,0,1-1.14-1.09c-.71-.74-1.72-1.81-2.93-3.16-2.42-2.71-5.66-6.56-9-11-.83-1.11-1.63-2.2-2.39-3.27a8.54,8.54,0,0,0-2.48-2.64,3.7,3.7,0,0,0-3.12,0l-2.8,1-4.09,1.35a8.47,8.47,0,0,1-1.52.43,10.51,10.51,0,0,1,1.45-.62l4-1.51,2.79-1a7.08,7.08,0,0,1,1.66-.4,3.3,3.3,0,0,1,1.83.38,8.8,8.8,0,0,1,2.67,2.76l2.39,3.26c3.32,4.43,6.5,8.3,8.85,11.06,1.13,1.33,2.08,2.43,2.8,3.27A9.79,9.79,0,0,1,89.46,180.91Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M66.31,162.25a1,1,0,1,1-.46,1.33,1,1,0,0,1,.46-1.33",style:{fill:"#fff"}}),e.jsx("path",{d:"M76.47,176.44l-5.48.91-2,1.8a2.25,2.25,0,0,0-.76,2,5.32,5.32,0,0,0,1.24,2.66,15.73,15.73,0,0,0,2.38,2.38s-1.92,3.12,1.06,4.7c0,0-.2,3.23,2.93,3.56,0,0,.91,3.07,3.27,3.24l2.43,2.41-.74,1.47,10.87.34a63.49,63.49,0,0,0-.43-8.68,20.84,20.84,0,0,0-.85-3.45c.55-3.06-1.74-4.34-2.09-4.12,0,0,5.19-1.36,4.53-4.93l-5,1.28-9.13,1.9L84.56,180a4.65,4.65,0,0,0,.76-.9c.5-.79,1.24-2.22.61-3.06-.27-.35-7.47,2.66-7.47,2.66L74,182.81l-1.4-2S77.19,179.87,76.47,176.44Z",style:{fill:"#ffbe9d"}}),e.jsx("path",{d:"M89,185.7c0,.16-1.93.43-4.24,1.11s-4.11,1.47-4.18,1.33a11.25,11.25,0,0,1,4-1.83A11.21,11.21,0,0,1,89,185.7Z",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M86.49,195.11a16.67,16.67,0,0,0,1.81-1.93l.19-.25.13.29a1.67,1.67,0,0,0,.89.84,1.31,1.31,0,0,0,1.31-.08.52.52,0,0,0,.18-.56l-.15-.9a12.12,12.12,0,0,0-.37-1.85,1.25,1.25,0,0,0-1.22-.87,6,6,0,0,0-1.66.31l-2.93.72a15,15,0,0,1-2.73.53,15.89,15.89,0,0,1,2.64-.89l2.88-.82a5.88,5.88,0,0,1,1.82-.36,1.9,1.9,0,0,1,1,.31,1.93,1.93,0,0,1,.66.89,12.69,12.69,0,0,1,.39,1.95c0,.31.09.62.14.92a1,1,0,0,1-.39,1,1.76,1.76,0,0,1-1.78.1,2.08,2.08,0,0,1-1-1.1l.31,0a7,7,0,0,1-1.46,1.37C86.74,195,86.51,195.14,86.49,195.11Z",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M76.88,180a24.2,24.2,0,0,1-2.44,3.19,23.33,23.33,0,0,1-2.55,3.1A12,12,0,0,1,74,182.89,11.6,11.6,0,0,1,76.88,180Z",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M79.14,183.77c0,.15-1.14.51-2,1.68a8.78,8.78,0,0,0-1,2.39c-.07,0-.17-.3-.15-.82a3.78,3.78,0,0,1,2.27-3.13C78.8,183.71,79.12,183.71,79.14,183.77Z",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M137.8,103.21c-.84-2.2-.51-4.65-.84-7-.72-5.13-4.85-9.25-9.63-11.26-4.45-1.86-9.88-1.46-15.24.26a20.49,20.49,0,0,0-9.59,6.23,16.1,16.1,0,0,0-3,14.47l26.26-3.79c2.45,2,5,4.11,7.95,5.25a5.4,5.4,0,0,0,2.74.44,2.45,2.45,0,0,0,2-1.68C138.75,105.14,138.17,104.17,137.8,103.21Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M121.48,83.64c5.75-1,10.8,1.25,15.64,4.5a28.78,28.78,0,0,1,10.59,13.58c2.21,5.73,2.77,14,1,19.91a17.86,17.86,0,0,1-11.26,12.1c-7.9,2.8-17,2.45-23.72-2.61s-10.5-13.43-10.81-21.81a27.75,27.75,0,0,1,4.41-16.47,21.11,21.11,0,0,1,14.1-9.2",style:{fill:"#263238"}}),e.jsx("path",{d:"M112.35,146.17l.21,4.68,10.32,18.25,15-19.2.51-48a4.28,4.28,0,0,0-4-4.19l-22.91-4.89c-7.3-.49-11.8,8.64-12,16-.2,8.13-.14,18.06,1,24.07,2.39,12.09,11.77,13.29,11.77,13.29",style:{fill:"#ffbe9d"}}),e.jsx("path",{d:"M102.82,118.89a1.55,1.55,0,0,0,1.56,1.52,1.5,1.5,0,0,0,1.56-1.47,1.57,1.57,0,0,0-1.56-1.51A1.49,1.49,0,0,0,102.82,118.89Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M101.88,113.5c.2.2,1.35-.72,3-.78s2.94.73,3.11.52-.12-.45-.68-.82a4.2,4.2,0,0,0-2.5-.67,4.11,4.11,0,0,0-2.4.87C101.94,113,101.78,113.41,101.88,113.5Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M118.05,118.6a1.56,1.56,0,0,0,1.57,1.52,1.49,1.49,0,0,0,1.55-1.46,1.55,1.55,0,0,0-1.56-1.52A1.49,1.49,0,0,0,118.05,118.6Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M117.82,113.11c.2.2,1.35-.72,3-.78s3,.74,3.12.52-.12-.45-.68-.82a4.2,4.2,0,0,0-2.5-.67,4.11,4.11,0,0,0-2.4.87C117.88,112.65,117.72,113,117.82,113.11Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M112.76,125.87a11.13,11.13,0,0,0-2.74-.39c-.43,0-.84-.1-.92-.39a2.13,2.13,0,0,1,.24-1.28l1.14-3.31c1.59-4.71,2.72-8.58,2.53-8.64s-1.63,3.7-3.22,8.42l-1.09,3.33a2.52,2.52,0,0,0-.16,1.69,1.11,1.11,0,0,0,.73.6,2.84,2.84,0,0,0,.73.07A10.47,10.47,0,0,0,112.76,125.87Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M112.35,146.17a33.91,33.91,0,0,0,16.13-5.35s-3.78,8.57-16,7.89Z",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M114.05,129.48a2.69,2.69,0,0,1,2.45-.84,2,2,0,0,1,1.55,1,2.28,2.28,0,0,1,.15,2.32,2,2,0,0,1-2.18.64,5.18,5.18,0,0,1-2-.94,1.35,1.35,0,0,1-.38-.68,1.8,1.8,0,0,1,.46-1.49",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M117.92,109.18c.18.45,1.85.17,3.82.34s3.6.64,3.84.22c.11-.2-.18-.62-.84-1a6.36,6.36,0,0,0-2.87-.89,6.43,6.43,0,0,0-3,.47C118.19,108.59,117.84,109,117.92,109.18Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M102.09,106.14c.31.37,1.45-.07,2.84-.14s2.58.16,2.83-.25c.11-.19-.09-.57-.61-.91a4.13,4.13,0,0,0-4.58.31C102.1,105.56,102,106,102.09,106.14Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M142,99.68c-2.37-7-12.73-16.51-20.08-15.86l-11.61,7.26a11.33,11.33,0,0,0,7.85,8.53c2.09.59,4.59.72,5.86,2.48s.61,4.47,1.82,6.33c1.67,2.58,6.11,2.37,7.39,5.17.55,1.22.3,2.69.88,3.91.77,1.61,4.93,3.6,6.63,3s1.64-3.48,2.17-5a8.07,8.07,0,0,0,.15-5.4C142.26,106.69,143.14,103,142,99.68Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M135.74,122.06c0-.91.94-3.08,1.83-3.26,2.37-.46,6.68-.43,7,5.64.37,8.29-8,6.94-8.06,6.71S135.85,125.19,135.74,122.06Z",style:{fill:"#ffbe9d"}}),e.jsx("path",{d:"M138.86,127.89s.15.1.39.2a1.42,1.42,0,0,0,1.09,0c.86-.36,1.53-1.78,1.51-3.27a4.63,4.63,0,0,0-.5-2.05,1.64,1.64,0,0,0-1.13-1.06.73.73,0,0,0-.84.43c-.1.24,0,.4-.08.41s-.19-.13-.13-.47a.88.88,0,0,1,.3-.54,1.09,1.09,0,0,1,.79-.24,2,2,0,0,1,1.56,1.22,5,5,0,0,1,.61,2.29c0,1.67-.77,3.27-2,3.67a1.55,1.55,0,0,1-1.33-.16C138.88,128.09,138.83,127.91,138.86,127.89Z",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M149.52,110.72a7.24,7.24,0,0,0,.32-2.49A18.34,18.34,0,0,0,146,96.9a7.4,7.4,0,0,0-1.75-1.79c-.16.1,2.62,2.86,4.08,7.31A27.3,27.3,0,0,1,149.52,110.72Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M112.73,88.58c-.77,3.37-5.9,7.69-8.16,10.32-4.3,5-5.11,5.74-5.08,20.85a35.77,35.77,0,0,1-3.45-15,18.1,18.1,0,0,1,4.81-11.88,14.1,14.1,0,0,1,11.88-4.28",style:{fill:"#263238"}}),e.jsx("path",{d:"M146.23,99.57a6.88,6.88,0,0,1-1.4.35c-.46.1-1,.21-1.68.29s-1.41.22-2.25.26a40.21,40.21,0,0,1-5.87,0,45.21,45.21,0,0,1-7.12-1.09,43.89,43.89,0,0,1-6.82-2.32,39.43,39.43,0,0,1-5.19-2.76c-.73-.42-1.33-.88-1.87-1.26a16.23,16.23,0,0,1-1.36-1,9.47,9.47,0,0,1-1.09-1,8,8,0,0,1,1.21.8c.37.28.83.61,1.39,1s1.17.79,1.9,1.19a42.11,42.11,0,0,0,5.19,2.64A46.4,46.4,0,0,0,128,99a48.26,48.26,0,0,0,7,1.12,44,44,0,0,0,5.82.05c.83,0,1.58-.13,2.23-.18s1.22-.14,1.68-.21A9.37,9.37,0,0,1,146.23,99.57Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M147.09,105.52a4,4,0,0,1-1,.23,22.77,22.77,0,0,1-2.67.34,33.25,33.25,0,0,1-17.28-3.41,23.65,23.65,0,0,1-2.35-1.32,3.71,3.71,0,0,1-.8-.59c0-.07,1.25.66,3.3,1.6a37.23,37.23,0,0,0,17.11,3.37C145.69,105.65,147.08,105.43,147.09,105.52Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M149.19,105.72a5.35,5.35,0,0,1,.28,1.25c.13.82.26,2,.34,3.47a49.55,49.55,0,0,1,0,5.17,32.6,32.6,0,0,1-.85,6.28,16.68,16.68,0,0,1-6.43,9.39,16.3,16.3,0,0,1-3.08,1.65,5.17,5.17,0,0,1-1.21.41,7.64,7.64,0,0,1,1.13-.59,19.79,19.79,0,0,0,2.95-1.76,15.48,15.48,0,0,0,3.52-3.63,16.7,16.7,0,0,0,2.63-5.59,35.86,35.86,0,0,0,.88-6.19c.12-1.93.14-3.67.11-5.13s-.1-2.64-.18-3.45A7.17,7.17,0,0,1,149.19,105.72Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M116.12,132.58a2.73,2.73,0,0,0,1.29-.31,1.6,1.6,0,0,0,.74-1.1,1.92,1.92,0,0,0-.44-1.56,2.25,2.25,0,0,0-1.49-.71,2.61,2.61,0,0,0-1.38.3c-.74.39-1,.87-1.12.82s.15-.6.93-1.14a2.72,2.72,0,0,1,1.59-.46,2.59,2.59,0,0,1,1.86.85,2.31,2.31,0,0,1,.52,2,1.9,1.9,0,0,1-1,1.33C116.68,133,116.07,132.62,116.12,132.58Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M167.27,200.86l4.46-9.51c.74-3,3.76-4,7.46-4.24l3.91-1.6s2.85-4.11,5.49-4a1,1,0,0,1,.92.7h0a.93.93,0,0,1-.11.81l-3.21,4.94-2.56,1.26s2.4.58,3.35-.31,4.16-3.43,4.16-3.43,2.45-4.41,5.63-4.08a.58.58,0,0,1,.46.85l-2.44,4.71s4.45-6.69,8.69-4.19l-4.7,5.11s6.82-3.87,9.54-.63l-17.26,7.13-9.95,1.95-3.48,9.44L174.57,204Z",style:{fill:"#ffbe9d"}}),e.jsx("path",{d:"M177.61,213.21s.53,16.9-2.59,21.56-8.92,11-16.1,5.92l-4.49-17s7.31-8,8.64-11.3c3.31-8.19,8.66-21,8.66-21l9.52,4.24Z",style:{fill:"#ffbe9d"}}),e.jsx("path",{d:"M164.15,210.84a13.19,13.19,0,0,1-1.08,2.14c-.7,1.29-1.64,3.09-2.57,5.13s-1.68,3.93-2.21,5.31a12.36,12.36,0,0,1-.91,2.21,9.78,9.78,0,0,1,.57-2.33,44.07,44.07,0,0,1,2.07-5.4,47,47,0,0,1,2.73-5.11A9.93,9.93,0,0,1,164.15,210.84Z",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M186.19,187.91a7.23,7.23,0,0,1-2.33,1.37,7.07,7.07,0,0,1-2.54.9,7.25,7.25,0,0,1,2.32-1.37A7.15,7.15,0,0,1,186.19,187.91Z",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M187.62,192.38c0-.07.45-.37,1.26-.72l1.44-.59.83-.35a1.7,1.7,0,0,0,.71-.51c.87-1,1.58-2,2.15-2.67s1-1.09,1.05-1a3.41,3.41,0,0,1-.19.34l-.56.88a26.06,26.06,0,0,1-2.07,2.8,2.92,2.92,0,0,1-.4.38,2.47,2.47,0,0,1-.48.25l-.87.33c-.55.2-1.06.35-1.48.49A5.93,5.93,0,0,1,187.62,192.38Z",style:{fill:"#eb996e"}})]})]}),yA=()=>{const{isOnline:t}=Aie();g.useEffect(()=>{if(t){const r=setTimeout(()=>{window.location.reload()},5e3);return()=>clearTimeout(r)}},[t]);const s=()=>{window.location.reload()},a=()=>{window.history.length>1?window.history.back():window.location.href="/"};return e.jsx("div",{className:"flex items-center justify-center bg-white fixed inset-0 w-screen h-screen",children:e.jsxs("div",{className:"text-center max-w-lg w-full p-6",children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(Ple,{})}),e.jsx("h1",{className:"text-xl font-bold text-gray-800 mb-2",children:t?"Connection Restored!":"No Internet Connection"}),e.jsx("p",{className:"text-gray-600 mb-4",children:t?"Your connection has been restored. Redirecting...":"Unable to connect to the server. Please check your internet connection and try again."}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx(G,{variant:"outlined",onClick:a,className:"!capitalize text-sm py-2",disabled:t,children:"Go Back"}),e.jsx(G,{variant:"contained",onClick:s,startIcon:e.jsx(Hl,{className:"w-3 h-3"}),className:"!capitalize text-sm py-2",disabled:t,children:t?"Connecting...":"Retry"}),e.jsx(G,{variant:"contained",onClick:()=>window.location.href="/",startIcon:e.jsx(hA,{className:"w-3 h-3"}),className:"!capitalize text-sm py-2",disabled:t,children:"Go Home"})]}),t&&e.jsx("div",{className:"mt-4 p-2 bg-green-50 text-green-700 rounded text-xs",children:"Connection restored! Page is reloading..."})]})})},Rt=({module:t,action:s="read",children:a})=>{const r=Ze(t),n=(()=>{switch(s){case"create":return r.isCreate;case"update":return r.isUpdate;case"delete":return r.isDelete;default:return r.isRead||r.isCreate||r.isUpdate||r.isDelete}})();return r.isLoading?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{children:"Loading permissions..."})}):r.isNetworkError||!n?e.jsx(yA,{}):e.jsx(e.Fragment,{children:a})},CT=Lt([e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),kle=Lt(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"})),os=Lt(e.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),Ele=Lt(e.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"})),St=Lt(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12m8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8"})),PT=Lt(e.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),Tle=Lt(e.jsx("path",{d:"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1M9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m11 15H4v-2h16zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20z"})),mt=Lt(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),Mle=Lt(e.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Dle=Lt(e.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"})),Rle=Lt(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Lr=Lt(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Ale=Lt(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),xs=Lt(e.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"})),Ile=Lt(e.jsx("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"})),Ty=Lt(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),nw=Lt(e.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"})),Nt=Lt(e.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),vA=Lt(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),iw=Lt(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),kT=Lt(e.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-7 12h-2v-2h2zm0-4h-2V6h2z"})),Ole=Lt(e.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),Fle=Lt(e.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),Lle=Lt(e.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"})),tx=Lt(e.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),ET=Lt(e.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"})),$le=Lt(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),zle=Lt(e.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),ow=Lt(e.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4l16-.02z"})),qle=Lt(e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56M12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96M4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56m2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8M12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96M14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2m.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2z"})),Ble=Lt(e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"})),Ule=Lt(e.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"})),Vle=Lt(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16"})),TT=Lt(e.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"})),lw=Lt(e.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"})),yN=Lt(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"})),Hle=Lt(e.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),X4=Lt(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),Wle=Lt(e.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"})),Yle=Lt([e.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),e.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]),My=Lt(e.jsx("path",{d:"M8 5v14l11-7z"})),MT=Lt(e.jsx("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"})),jA=Lt([e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),NA=Lt(e.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),Gle=Lt(e.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"})),pu=Lt(e.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),Kle=Lt(e.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),Pt=Lt(e.jsx("path",{d:"M10 10.02h5V21h-5zM17 21h3c1.1 0 2-.9 2-2v-9h-5zm3-18H5c-1.1 0-2 .9-2 2v3h19V5c0-1.1-.9-2-2-2M3 19c0 1.1.9 2 2 2h3V10H3z"})),J4=Lt(e.jsx("path",{d:"M20 10V8h-4V4h-2v4h-4V4H8v4H4v2h4v4H4v2h4v4h2v-4h4v4h2v-4h4v-2h-4v-4zm-6 4h-4v-4h4z"})),_A=Lt(e.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})),fs=Lt(e.jsx("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"})),Qle=Lt(e.jsx("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"})),kn=Lt(e.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),Zle=Lt(e.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),Pg=Lt(e.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),Xle=Lt(e.jsx("path",{d:"M12 5.99 19.53 19H4.47zM2.74 18c-.77 1.33.19 3 1.73 3h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0zM11 11v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1m0 5h2v2h-2z"}));function Jle(t){return Pa({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function DT(t){return Pa({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function ece(t){return Pa({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function tce(t){return Pa({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function sce(t){return Pa({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function ace(t){return Pa({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(t)}function rce(t){return Pa({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}class nce{async login(s){const r=(await ie.post("/auth/login",s,{skipAuth:!0,skipErrorHandling:!0})).data;if(r.success&&r.data){const{user:n,accessToken:i,expiresIn:o}=r.data,l={id:n.id,username:n.name,email:n.email,role:n.role,parent_id:0,depot_id:null,zone_id:null},c=this.parseExpiresIn(o);Yi.setToken(i,l,c)}return r}async logout(){try{await ie.post("/auth/logout")}catch(s){console.error("Server logout error:",s)}finally{Yi.clearAuth()}}parseExpiresIn(s){const a=s.match(/^(\d+)([hdms]?)$/);if(!a)return 1440*60;const[,r,n]=a,i=parseInt(r,10);switch(n){case"h":return i*60*60;case"d":return i*24*60*60;case"m":return i*60;default:return i}}}const wA=new nce,ice=t=>Te({mutationFn:s=>wA.login(s),loadingMessage:"Signing in...",onSuccess:t?.onSuccess,onError:t?.onError}),oce=t=>Te({mutationFn:()=>wA.logout(),loadingMessage:"Signing out...",onSuccess:t?.onSuccess,onError:t?.onError}),SA=g.createContext(void 0),CA=({children:t})=>{const[s,a]=g.useState(()=>Yi.isAuthenticated()),{data:r,isLoading:n,error:i,refetch:o,isSuccess:l,isError:c}=Q4(),m=oce({onSuccess:()=>{a(!1),window.location.href="/login"},onError:x=>{console.error("Logout error:",x),a(!1),window.location.href="/login"}});g.useEffect(()=>{const x=()=>{const _=Yi.isAuthenticated();a(_)};x();const j=()=>{x()};return window.addEventListener("auth-change",j),()=>{window.removeEventListener("auth-change",j)}},[]),g.useEffect(()=>{l&&r?(a(!0),gie()):c&&!Yi.isAuthenticated()&&a(!1)},[l,c,r]);const p={user:r||null,isLoading:n,isAuthenticated:s,error:i,refetchUser:o,logout:()=>{m.mutate()},isLoggingOut:m.isPending};return e.jsx(SA.Provider,{value:p,children:t})},PA=()=>{const t=g.useContext(SA);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},lce=async t=>{try{return(await ie.get("/requests-by-users",{params:t})).data}catch(s){throw console.error("Error fetching requests by users:",s),s}},cce=async t=>{try{return(await ie.get("/requests-by-users-without-permission",{params:t})).data}catch(s){throw console.error("Error fetching requests by users without permission:",s),s}},dce=async t=>{try{return(await ie.post("/requests/action",t)).data}catch(s){throw console.error("Error taking action on request:",s),new Error(s.response?.data?.message||"Failed to take action on request")}},uce=async()=>{try{return(await ie.get("/approval-setup/request-types")).data}catch(t){throw console.error("Error fetching request types:",t),new Error(t.response?.data?.message||"Failed to fetch request types")}},Al={all:["requests"],lists:()=>[...Al.all,"list"],list:t=>[...Al.lists(),t],byUsers:t=>[...Al.all,"by-users",t],byUsersWithoutPermission:t=>[...Al.all,"by-users-without-permission",t],details:()=>[...Al.all,"detail"],detail:t=>[...Al.details(),t]},mce=(t,s)=>st({queryKey:Al.byUsers(t),queryFn:()=>lce(t),staleTime:300*1e3,...s}),eS=(t,s)=>st({queryKey:Al.byUsersWithoutPermission(t),queryFn:()=>cce(t),staleTime:300*1e3,...s}),tS=()=>Te({mutationFn:dce,invalidateQueries:["requests"],loadingMessage:"Processing request..."}),sS=t=>st({queryKey:[...Al.all,"types"],queryFn:()=>uce(),staleTime:600*1e3,...t});var pce=function(s){return hce(s)&&!fce(s)};function hce(t){return!!t&&typeof t=="object"}function fce(t){var s=Object.prototype.toString.call(t);return s==="[object RegExp]"||s==="[object Date]"||bce(t)}var xce=typeof Symbol=="function"&&Symbol.for,gce=xce?Symbol.for("react.element"):60103;function bce(t){return t.$$typeof===gce}function yce(t){return Array.isArray(t)?[]:{}}function Dy(t,s){return s.clone!==!1&&s.isMergeableObject(t)?Tx(yce(t),t,s):t}function vce(t,s,a){return t.concat(s).map(function(r){return Dy(r,a)})}function jce(t,s,a){var r={};return a.isMergeableObject(t)&&Object.keys(t).forEach(function(n){r[n]=Dy(t[n],a)}),Object.keys(s).forEach(function(n){!a.isMergeableObject(s[n])||!t[n]?r[n]=Dy(s[n],a):r[n]=Tx(t[n],s[n],a)}),r}function Tx(t,s,a){a=a||{},a.arrayMerge=a.arrayMerge||vce,a.isMergeableObject=a.isMergeableObject||pce;var r=Array.isArray(s),n=Array.isArray(t),i=r===n;return i?r?a.arrayMerge(t,s,a):jce(t,s,a):Dy(s,a)}Tx.all=function(s,a){if(!Array.isArray(s))throw new Error("first argument should be an array");return s.reduce(function(r,n){return Tx(r,n,a)},{})};var cw=Tx,kA=typeof global=="object"&&global&&global.Object===Object&&global,Nce=typeof self=="object"&&self&&self.Object===Object&&self,ll=kA||Nce||Function("return this")(),Zc=ll.Symbol,EA=Object.prototype,_ce=EA.hasOwnProperty,wce=EA.toString,Gh=Zc?Zc.toStringTag:void 0;function Sce(t){var s=_ce.call(t,Gh),a=t[Gh];try{t[Gh]=void 0;var r=!0}catch{}var n=wce.call(t);return r&&(s?t[Gh]=a:delete t[Gh]),n}var Cce=Object.prototype,Pce=Cce.toString;function kce(t){return Pce.call(t)}var Ece="[object Null]",Tce="[object Undefined]",RT=Zc?Zc.toStringTag:void 0;function _u(t){return t==null?t===void 0?Tce:Ece:RT&&RT in Object(t)?Sce(t):kce(t)}function TA(t,s){return function(a){return t(s(a))}}var aS=TA(Object.getPrototypeOf,Object);function wu(t){return t!=null&&typeof t=="object"}var Mce="[object Object]",Dce=Function.prototype,Rce=Object.prototype,MA=Dce.toString,Ace=Rce.hasOwnProperty,Ice=MA.call(Object);function AT(t){if(!wu(t)||_u(t)!=Mce)return!1;var s=aS(t);if(s===null)return!0;var a=Ace.call(s,"constructor")&&s.constructor;return typeof a=="function"&&a instanceof a&&MA.call(a)==Ice}function Oce(){this.__data__=[],this.size=0}function DA(t,s){return t===s||t!==t&&s!==s}function Uv(t,s){for(var a=t.length;a--;)if(DA(t[a][0],s))return a;return-1}var Fce=Array.prototype,Lce=Fce.splice;function $ce(t){var s=this.__data__,a=Uv(s,t);if(a<0)return!1;var r=s.length-1;return a==r?s.pop():Lce.call(s,a,1),--this.size,!0}function zce(t){var s=this.__data__,a=Uv(s,t);return a<0?void 0:s[a][1]}function qce(t){return Uv(this.__data__,t)>-1}function Bce(t,s){var a=this.__data__,r=Uv(a,t);return r<0?(++this.size,a.push([t,s])):a[r][1]=s,this}function Jl(t){var s=-1,a=t==null?0:t.length;for(this.clear();++s<a;){var r=t[s];this.set(r[0],r[1])}}Jl.prototype.clear=Oce;Jl.prototype.delete=$ce;Jl.prototype.get=zce;Jl.prototype.has=qce;Jl.prototype.set=Bce;function Uce(){this.__data__=new Jl,this.size=0}function Vce(t){var s=this.__data__,a=s.delete(t);return this.size=s.size,a}function Hce(t){return this.__data__.get(t)}function Wce(t){return this.__data__.has(t)}function kg(t){var s=typeof t;return t!=null&&(s=="object"||s=="function")}var Yce="[object AsyncFunction]",Gce="[object Function]",Kce="[object GeneratorFunction]",Qce="[object Proxy]";function RA(t){if(!kg(t))return!1;var s=_u(t);return s==Gce||s==Kce||s==Yce||s==Qce}var vN=ll["__core-js_shared__"],IT=(function(){var t=/[^.]+$/.exec(vN&&vN.keys&&vN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function Zce(t){return!!IT&&IT in t}var Xce=Function.prototype,Jce=Xce.toString;function Su(t){if(t!=null){try{return Jce.call(t)}catch{}try{return t+""}catch{}}return""}var ede=/[\\^$.*+?()[\]{}|]/g,tde=/^\[object .+?Constructor\]$/,sde=Function.prototype,ade=Object.prototype,rde=sde.toString,nde=ade.hasOwnProperty,ide=RegExp("^"+rde.call(nde).replace(ede,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ode(t){if(!kg(t)||Zce(t))return!1;var s=RA(t)?ide:tde;return s.test(Su(t))}function lde(t,s){return t?.[s]}function Cu(t,s){var a=lde(t,s);return ode(a)?a:void 0}var Mx=Cu(ll,"Map"),Dx=Cu(Object,"create");function cde(){this.__data__=Dx?Dx(null):{},this.size=0}function dde(t){var s=this.has(t)&&delete this.__data__[t];return this.size-=s?1:0,s}var ude="__lodash_hash_undefined__",mde=Object.prototype,pde=mde.hasOwnProperty;function hde(t){var s=this.__data__;if(Dx){var a=s[t];return a===ude?void 0:a}return pde.call(s,t)?s[t]:void 0}var fde=Object.prototype,xde=fde.hasOwnProperty;function gde(t){var s=this.__data__;return Dx?s[t]!==void 0:xde.call(s,t)}var bde="__lodash_hash_undefined__";function yde(t,s){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=Dx&&s===void 0?bde:s,this}function hu(t){var s=-1,a=t==null?0:t.length;for(this.clear();++s<a;){var r=t[s];this.set(r[0],r[1])}}hu.prototype.clear=cde;hu.prototype.delete=dde;hu.prototype.get=hde;hu.prototype.has=gde;hu.prototype.set=yde;function vde(){this.size=0,this.__data__={hash:new hu,map:new(Mx||Jl),string:new hu}}function jde(t){var s=typeof t;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?t!=="__proto__":t===null}function Vv(t,s){var a=t.__data__;return jde(s)?a[typeof s=="string"?"string":"hash"]:a.map}function Nde(t){var s=Vv(this,t).delete(t);return this.size-=s?1:0,s}function _de(t){return Vv(this,t).get(t)}function wde(t){return Vv(this,t).has(t)}function Sde(t,s){var a=Vv(this,t),r=a.size;return a.set(t,s),this.size+=a.size==r?0:1,this}function ld(t){var s=-1,a=t==null?0:t.length;for(this.clear();++s<a;){var r=t[s];this.set(r[0],r[1])}}ld.prototype.clear=vde;ld.prototype.delete=Nde;ld.prototype.get=_de;ld.prototype.has=wde;ld.prototype.set=Sde;var Cde=200;function Pde(t,s){var a=this.__data__;if(a instanceof Jl){var r=a.__data__;if(!Mx||r.length<Cde-1)return r.push([t,s]),this.size=++a.size,this;a=this.__data__=new ld(r)}return a.set(t,s),this.size=a.size,this}function Dp(t){var s=this.__data__=new Jl(t);this.size=s.size}Dp.prototype.clear=Uce;Dp.prototype.delete=Vce;Dp.prototype.get=Hce;Dp.prototype.has=Wce;Dp.prototype.set=Pde;function kde(t,s){for(var a=-1,r=t==null?0:t.length;++a<r&&s(t[a],a,t)!==!1;);return t}var OT=(function(){try{var t=Cu(Object,"defineProperty");return t({},"",{}),t}catch{}})();function AA(t,s,a){s=="__proto__"&&OT?OT(t,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[s]=a}var Ede=Object.prototype,Tde=Ede.hasOwnProperty;function IA(t,s,a){var r=t[s];(!(Tde.call(t,s)&&DA(r,a))||a===void 0&&!(s in t))&&AA(t,s,a)}function Hv(t,s,a,r){var n=!a;a||(a={});for(var i=-1,o=s.length;++i<o;){var l=s[i],c=void 0;c===void 0&&(c=t[l]),n?AA(a,l,c):IA(a,l,c)}return a}function Mde(t,s){for(var a=-1,r=Array(t);++a<t;)r[a]=s(a);return r}var Dde="[object Arguments]";function FT(t){return wu(t)&&_u(t)==Dde}var OA=Object.prototype,Rde=OA.hasOwnProperty,Ade=OA.propertyIsEnumerable,Ide=FT((function(){return arguments})())?FT:function(t){return wu(t)&&Rde.call(t,"callee")&&!Ade.call(t,"callee")},Eg=Array.isArray;function Ode(){return!1}var FA=typeof ui=="object"&&ui&&!ui.nodeType&&ui,LT=FA&&typeof mi=="object"&&mi&&!mi.nodeType&&mi,Fde=LT&&LT.exports===FA,$T=Fde?ll.Buffer:void 0,Lde=$T?$T.isBuffer:void 0,LA=Lde||Ode,$de=9007199254740991,zde=/^(?:0|[1-9]\d*)$/;function qde(t,s){var a=typeof t;return s=s??$de,!!s&&(a=="number"||a!="symbol"&&zde.test(t))&&t>-1&&t%1==0&&t<s}var Bde=9007199254740991;function $A(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Bde}var Ude="[object Arguments]",Vde="[object Array]",Hde="[object Boolean]",Wde="[object Date]",Yde="[object Error]",Gde="[object Function]",Kde="[object Map]",Qde="[object Number]",Zde="[object Object]",Xde="[object RegExp]",Jde="[object Set]",eue="[object String]",tue="[object WeakMap]",sue="[object ArrayBuffer]",aue="[object DataView]",rue="[object Float32Array]",nue="[object Float64Array]",iue="[object Int8Array]",oue="[object Int16Array]",lue="[object Int32Array]",cue="[object Uint8Array]",due="[object Uint8ClampedArray]",uue="[object Uint16Array]",mue="[object Uint32Array]",za={};za[rue]=za[nue]=za[iue]=za[oue]=za[lue]=za[cue]=za[due]=za[uue]=za[mue]=!0;za[Ude]=za[Vde]=za[sue]=za[Hde]=za[aue]=za[Wde]=za[Yde]=za[Gde]=za[Kde]=za[Qde]=za[Zde]=za[Xde]=za[Jde]=za[eue]=za[tue]=!1;function pue(t){return wu(t)&&$A(t.length)&&!!za[_u(t)]}function rS(t){return function(s){return t(s)}}var zA=typeof ui=="object"&&ui&&!ui.nodeType&&ui,sx=zA&&typeof mi=="object"&&mi&&!mi.nodeType&&mi,hue=sx&&sx.exports===zA,jN=hue&&kA.process,mp=(function(){try{var t=sx&&sx.require&&sx.require("util").types;return t||jN&&jN.binding&&jN.binding("util")}catch{}})(),zT=mp&&mp.isTypedArray,fue=zT?rS(zT):pue,xue=Object.prototype,gue=xue.hasOwnProperty;function qA(t,s){var a=Eg(t),r=!a&&Ide(t),n=!a&&!r&&LA(t),i=!a&&!r&&!n&&fue(t),o=a||r||n||i,l=o?Mde(t.length,String):[],c=l.length;for(var m in t)(s||gue.call(t,m))&&!(o&&(m=="length"||n&&(m=="offset"||m=="parent")||i&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||qde(m,c)))&&l.push(m);return l}var bue=Object.prototype;function nS(t){var s=t&&t.constructor,a=typeof s=="function"&&s.prototype||bue;return t===a}var yue=TA(Object.keys,Object),vue=Object.prototype,jue=vue.hasOwnProperty;function Nue(t){if(!nS(t))return yue(t);var s=[];for(var a in Object(t))jue.call(t,a)&&a!="constructor"&&s.push(a);return s}function BA(t){return t!=null&&$A(t.length)&&!RA(t)}function iS(t){return BA(t)?qA(t):Nue(t)}function _ue(t,s){return t&&Hv(s,iS(s),t)}function wue(t){var s=[];if(t!=null)for(var a in Object(t))s.push(a);return s}var Sue=Object.prototype,Cue=Sue.hasOwnProperty;function Pue(t){if(!kg(t))return wue(t);var s=nS(t),a=[];for(var r in t)r=="constructor"&&(s||!Cue.call(t,r))||a.push(r);return a}function oS(t){return BA(t)?qA(t,!0):Pue(t)}function kue(t,s){return t&&Hv(s,oS(s),t)}var UA=typeof ui=="object"&&ui&&!ui.nodeType&&ui,qT=UA&&typeof mi=="object"&&mi&&!mi.nodeType&&mi,Eue=qT&&qT.exports===UA,BT=Eue?ll.Buffer:void 0,UT=BT?BT.allocUnsafe:void 0;function Tue(t,s){if(s)return t.slice();var a=t.length,r=UT?UT(a):new t.constructor(a);return t.copy(r),r}function VA(t,s){var a=-1,r=t.length;for(s||(s=Array(r));++a<r;)s[a]=t[a];return s}function Mue(t,s){for(var a=-1,r=t==null?0:t.length,n=0,i=[];++a<r;){var o=t[a];s(o,a,t)&&(i[n++]=o)}return i}function HA(){return[]}var Due=Object.prototype,Rue=Due.propertyIsEnumerable,VT=Object.getOwnPropertySymbols,lS=VT?function(t){return t==null?[]:(t=Object(t),Mue(VT(t),function(s){return Rue.call(t,s)}))}:HA;function Aue(t,s){return Hv(t,lS(t),s)}function WA(t,s){for(var a=-1,r=s.length,n=t.length;++a<r;)t[n+a]=s[a];return t}var Iue=Object.getOwnPropertySymbols,YA=Iue?function(t){for(var s=[];t;)WA(s,lS(t)),t=aS(t);return s}:HA;function Oue(t,s){return Hv(t,YA(t),s)}function GA(t,s,a){var r=s(t);return Eg(t)?r:WA(r,a(t))}function Fue(t){return GA(t,iS,lS)}function Lue(t){return GA(t,oS,YA)}var dw=Cu(ll,"DataView"),uw=Cu(ll,"Promise"),mw=Cu(ll,"Set"),pw=Cu(ll,"WeakMap"),HT="[object Map]",$ue="[object Object]",WT="[object Promise]",YT="[object Set]",GT="[object WeakMap]",KT="[object DataView]",zue=Su(dw),que=Su(Mx),Bue=Su(uw),Uue=Su(mw),Vue=Su(pw),Il=_u;(dw&&Il(new dw(new ArrayBuffer(1)))!=KT||Mx&&Il(new Mx)!=HT||uw&&Il(uw.resolve())!=WT||mw&&Il(new mw)!=YT||pw&&Il(new pw)!=GT)&&(Il=function(t){var s=_u(t),a=s==$ue?t.constructor:void 0,r=a?Su(a):"";if(r)switch(r){case zue:return KT;case que:return HT;case Bue:return WT;case Uue:return YT;case Vue:return GT}return s});var Hue=Object.prototype,Wue=Hue.hasOwnProperty;function Yue(t){var s=t.length,a=new t.constructor(s);return s&&typeof t[0]=="string"&&Wue.call(t,"index")&&(a.index=t.index,a.input=t.input),a}var QT=ll.Uint8Array;function cS(t){var s=new t.constructor(t.byteLength);return new QT(s).set(new QT(t)),s}function Gue(t,s){var a=s?cS(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}var Kue=/\w*$/;function Que(t){var s=new t.constructor(t.source,Kue.exec(t));return s.lastIndex=t.lastIndex,s}var ZT=Zc?Zc.prototype:void 0,XT=ZT?ZT.valueOf:void 0;function Zue(t){return XT?Object(XT.call(t)):{}}function Xue(t,s){var a=s?cS(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}var Jue="[object Boolean]",eme="[object Date]",tme="[object Map]",sme="[object Number]",ame="[object RegExp]",rme="[object Set]",nme="[object String]",ime="[object Symbol]",ome="[object ArrayBuffer]",lme="[object DataView]",cme="[object Float32Array]",dme="[object Float64Array]",ume="[object Int8Array]",mme="[object Int16Array]",pme="[object Int32Array]",hme="[object Uint8Array]",fme="[object Uint8ClampedArray]",xme="[object Uint16Array]",gme="[object Uint32Array]";function bme(t,s,a){var r=t.constructor;switch(s){case ome:return cS(t);case Jue:case eme:return new r(+t);case lme:return Gue(t,a);case cme:case dme:case ume:case mme:case pme:case hme:case fme:case xme:case gme:return Xue(t,a);case tme:return new r;case sme:case nme:return new r(t);case ame:return Que(t);case rme:return new r;case ime:return Zue(t)}}var JT=Object.create,yme=(function(){function t(){}return function(s){if(!kg(s))return{};if(JT)return JT(s);t.prototype=s;var a=new t;return t.prototype=void 0,a}})();function vme(t){return typeof t.constructor=="function"&&!nS(t)?yme(aS(t)):{}}var jme="[object Map]";function Nme(t){return wu(t)&&Il(t)==jme}var e8=mp&&mp.isMap,_me=e8?rS(e8):Nme,wme="[object Set]";function Sme(t){return wu(t)&&Il(t)==wme}var t8=mp&&mp.isSet,Cme=t8?rS(t8):Sme,Pme=1,kme=2,Eme=4,KA="[object Arguments]",Tme="[object Array]",Mme="[object Boolean]",Dme="[object Date]",Rme="[object Error]",QA="[object Function]",Ame="[object GeneratorFunction]",Ime="[object Map]",Ome="[object Number]",ZA="[object Object]",Fme="[object RegExp]",Lme="[object Set]",$me="[object String]",zme="[object Symbol]",qme="[object WeakMap]",Bme="[object ArrayBuffer]",Ume="[object DataView]",Vme="[object Float32Array]",Hme="[object Float64Array]",Wme="[object Int8Array]",Yme="[object Int16Array]",Gme="[object Int32Array]",Kme="[object Uint8Array]",Qme="[object Uint8ClampedArray]",Zme="[object Uint16Array]",Xme="[object Uint32Array]",$a={};$a[KA]=$a[Tme]=$a[Bme]=$a[Ume]=$a[Mme]=$a[Dme]=$a[Vme]=$a[Hme]=$a[Wme]=$a[Yme]=$a[Gme]=$a[Ime]=$a[Ome]=$a[ZA]=$a[Fme]=$a[Lme]=$a[$me]=$a[zme]=$a[Kme]=$a[Qme]=$a[Zme]=$a[Xme]=!0;$a[Rme]=$a[QA]=$a[qme]=!1;function ax(t,s,a,r,n,i){var o,l=s&Pme,c=s&kme,m=s&Eme;if(o!==void 0)return o;if(!kg(t))return t;var d=Eg(t);if(d){if(o=Yue(t),!l)return VA(t,o)}else{var p=Il(t),x=p==QA||p==Ame;if(LA(t))return Tue(t,l);if(p==ZA||p==KA||x&&!n){if(o=c||x?{}:vme(t),!l)return c?Oue(t,kue(o,t)):Aue(t,_ue(o,t))}else{if(!$a[p])return n?t:{};o=bme(t,p,l)}}i||(i=new Dp);var j=i.get(t);if(j)return j;i.set(t,o),Cme(t)?t.forEach(function(v){o.add(ax(v,s,a,v,t,i))}):_me(t)&&t.forEach(function(v,y){o.set(y,ax(v,s,a,y,t,i))});var _=m?c?Lue:Fue:c?oS:iS,S=d?void 0:_(t);return kde(S||t,function(v,y){S&&(y=v,v=t[y]),IA(o,y,ax(v,s,a,y,t,i))}),o}var Jme=1,epe=4;function fb(t){return ax(t,Jme|epe)}var NN,s8;function tpe(){if(s8)return NN;s8=1;var t=Array.isArray,s=Object.keys,a=Object.prototype.hasOwnProperty,r=typeof Element<"u";function n(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){var l=t(i),c=t(o),m,d,p;if(l&&c){if(d=i.length,d!=o.length)return!1;for(m=d;m--!==0;)if(!n(i[m],o[m]))return!1;return!0}if(l!=c)return!1;var x=i instanceof Date,j=o instanceof Date;if(x!=j)return!1;if(x&&j)return i.getTime()==o.getTime();var _=i instanceof RegExp,S=o instanceof RegExp;if(_!=S)return!1;if(_&&S)return i.toString()==o.toString();var v=s(i);if(d=v.length,d!==s(o).length)return!1;for(m=d;m--!==0;)if(!a.call(o,v[m]))return!1;if(r&&i instanceof Element&&o instanceof Element)return i===o;for(m=d;m--!==0;)if(p=v[m],!(p==="_owner"&&i.$$typeof)&&!n(i[p],o[p]))return!1;return!0}return i!==i&&o!==o}return NN=function(o,l){try{return n(o,l)}catch(c){if(c.message&&c.message.match(/stack|recursion/i)||c.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",c.name,c.message),!1;throw c}},NN}var spe=tpe();const zd=no(spe);var ape=4;function a8(t){return ax(t,ape)}function XA(t,s){for(var a=-1,r=t==null?0:t.length,n=Array(r);++a<r;)n[a]=s(t[a],a,t);return n}var rpe="[object Symbol]";function dS(t){return typeof t=="symbol"||wu(t)&&_u(t)==rpe}var npe="Expected a function";function uS(t,s){if(typeof t!="function"||s!=null&&typeof s!="function")throw new TypeError(npe);var a=function(){var r=arguments,n=s?s.apply(this,r):r[0],i=a.cache;if(i.has(n))return i.get(n);var o=t.apply(this,r);return a.cache=i.set(n,o)||i,o};return a.cache=new(uS.Cache||ld),a}uS.Cache=ld;var ipe=500;function ope(t){var s=uS(t,function(r){return a.size===ipe&&a.clear(),r}),a=s.cache;return s}var lpe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cpe=/\\(\\)?/g,dpe=ope(function(t){var s=[];return t.charCodeAt(0)===46&&s.push(""),t.replace(lpe,function(a,r,n,i){s.push(n?i.replace(cpe,"$1"):r||a)}),s});function upe(t){if(typeof t=="string"||dS(t))return t;var s=t+"";return s=="0"&&1/t==-1/0?"-0":s}var r8=Zc?Zc.prototype:void 0,n8=r8?r8.toString:void 0;function JA(t){if(typeof t=="string")return t;if(Eg(t))return XA(t,JA)+"";if(dS(t))return n8?n8.call(t):"";var s=t+"";return s=="0"&&1/t==-1/0?"-0":s}function mpe(t){return t==null?"":JA(t)}function eI(t){return Eg(t)?XA(t,upe):dS(t)?[t]:VA(dpe(mpe(t)))}function Fr(){return Fr=Object.assign||function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Fr.apply(this,arguments)}function tI(t,s){if(t==null)return{};var a={},r=Object.keys(t),n,i;for(i=0;i<r.length;i++)n=r[i],!(s.indexOf(n)>=0)&&(a[n]=t[n]);return a}var Wv=g.createContext(void 0);Wv.displayName="FormikContext";Wv.Provider;Wv.Consumer;function ppe(){var t=g.useContext(Wv);return t}var Fi=function(s){return typeof s=="function"},Yv=function(s){return s!==null&&typeof s=="object"},hpe=function(s){return String(Math.floor(Number(s)))===s},_N=function(s){return Object.prototype.toString.call(s)==="[object String]"},wN=function(s){return Yv(s)&&Fi(s.then)};function In(t,s,a,r){r===void 0&&(r=0);for(var n=eI(s);t&&r<n.length;)t=t[n[r++]];return r!==n.length&&!t||t===void 0?a:t}function au(t,s,a){for(var r=a8(t),n=r,i=0,o=eI(s);i<o.length-1;i++){var l=o[i],c=In(t,o.slice(0,i+1));if(c&&(Yv(c)||Array.isArray(c)))n=n[l]=a8(c);else{var m=o[i+1];n=n[l]=hpe(m)&&Number(m)>=0?[]:{}}}return(i===0?t:n)[o[i]]===a?t:(a===void 0?delete n[o[i]]:n[o[i]]=a,i===0&&a===void 0&&delete r[o[i]],r)}function sI(t,s,a,r){a===void 0&&(a=new WeakMap),r===void 0&&(r={});for(var n=0,i=Object.keys(t);n<i.length;n++){var o=i[n],l=t[o];Yv(l)?a.get(l)||(a.set(l,!0),r[o]=Array.isArray(l)?[]:{},sI(l,s,a,r[o])):r[o]=s}return r}function fpe(t,s){switch(s.type){case"SET_VALUES":return Fr({},t,{values:s.payload});case"SET_TOUCHED":return Fr({},t,{touched:s.payload});case"SET_ERRORS":return zd(t.errors,s.payload)?t:Fr({},t,{errors:s.payload});case"SET_STATUS":return Fr({},t,{status:s.payload});case"SET_ISSUBMITTING":return Fr({},t,{isSubmitting:s.payload});case"SET_ISVALIDATING":return Fr({},t,{isValidating:s.payload});case"SET_FIELD_VALUE":return Fr({},t,{values:au(t.values,s.payload.field,s.payload.value)});case"SET_FIELD_TOUCHED":return Fr({},t,{touched:au(t.touched,s.payload.field,s.payload.value)});case"SET_FIELD_ERROR":return Fr({},t,{errors:au(t.errors,s.payload.field,s.payload.value)});case"RESET_FORM":return Fr({},t,s.payload);case"SET_FORMIK_STATE":return s.payload(t);case"SUBMIT_ATTEMPT":return Fr({},t,{touched:sI(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Fr({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Fr({},t,{isSubmitting:!1});default:return t}}var Md={},xb={};function pt(t){var s=t.validateOnChange,a=s===void 0?!0:s,r=t.validateOnBlur,n=r===void 0?!0:r,i=t.validateOnMount,o=i===void 0?!1:i,l=t.isInitialValid,c=t.enableReinitialize,m=c===void 0?!1:c,d=t.onSubmit,p=tI(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),x=Fr({validateOnChange:a,validateOnBlur:n,validateOnMount:o,onSubmit:d},p),j=g.useRef(x.initialValues),_=g.useRef(x.initialErrors||Md),S=g.useRef(x.initialTouched||xb),v=g.useRef(x.initialStatus),y=g.useRef(!1),N=g.useRef({});g.useEffect(function(){return y.current=!0,function(){y.current=!1}},[]);var C=g.useState(0),P=C[1],E=g.useRef({values:fb(x.initialValues),errors:fb(x.initialErrors)||Md,touched:fb(x.initialTouched)||xb,status:fb(x.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),D=E.current,T=g.useCallback(function(be){var Ge=E.current;E.current=fpe(Ge,be),Ge!==E.current&&P(function(at){return at+1})},[]),A=g.useCallback(function(be,Ge){return new Promise(function(at,vt){var dt=x.validate(be,Ge);dt==null?at(Md):wN(dt)?dt.then(function(ft){at(ft||Md)},function(ft){vt(ft)}):at(dt)})},[x.validate]),I=g.useCallback(function(be,Ge){var at=x.validationSchema,vt=Fi(at)?at(Ge):at,dt=Ge&&vt.validateAt?vt.validateAt(Ge,be):gpe(be,vt);return new Promise(function(ft,Mt){dt.then(function(){ft(Md)},function(ye){ye.name==="ValidationError"?ft(xpe(ye)):Mt(ye)})})},[x.validationSchema]),F=g.useCallback(function(be,Ge){return new Promise(function(at){return at(N.current[be].validate(Ge))})},[]),z=g.useCallback(function(be){var Ge=Object.keys(N.current).filter(function(vt){return Fi(N.current[vt].validate)}),at=Ge.length>0?Ge.map(function(vt){return F(vt,In(be,vt))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(at).then(function(vt){return vt.reduce(function(dt,ft,Mt){return ft==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ft&&(dt=au(dt,Ge[Mt],ft)),dt},{})})},[F]),O=g.useCallback(function(be){return Promise.all([z(be),x.validationSchema?I(be):{},x.validate?A(be):{}]).then(function(Ge){var at=Ge[0],vt=Ge[1],dt=Ge[2],ft=cw.all([at,vt,dt],{arrayMerge:bpe});return ft})},[x.validate,x.validationSchema,z,A,I]),K=Ri(function(be){return be===void 0&&(be=D.values),T({type:"SET_ISVALIDATING",payload:!0}),O(be).then(function(Ge){return y.current&&(T({type:"SET_ISVALIDATING",payload:!1}),T({type:"SET_ERRORS",payload:Ge})),Ge})});g.useEffect(function(){o&&y.current===!0&&zd(j.current,x.initialValues)&&K(j.current)},[o,K]);var W=g.useCallback(function(be){var Ge=be&&be.values?be.values:j.current,at=be&&be.errors?be.errors:_.current?_.current:x.initialErrors||{},vt=be&&be.touched?be.touched:S.current?S.current:x.initialTouched||{},dt=be&&be.status?be.status:v.current?v.current:x.initialStatus;j.current=Ge,_.current=at,S.current=vt,v.current=dt;var ft=function(){T({type:"RESET_FORM",payload:{isSubmitting:!!be&&!!be.isSubmitting,errors:at,touched:vt,status:dt,values:Ge,isValidating:!!be&&!!be.isValidating,submitCount:be&&be.submitCount&&typeof be.submitCount=="number"?be.submitCount:0}})};if(x.onReset){var Mt=x.onReset(D.values,le);wN(Mt)?Mt.then(ft):ft()}else ft()},[x.initialErrors,x.initialStatus,x.initialTouched,x.onReset]);g.useEffect(function(){y.current===!0&&!zd(j.current,x.initialValues)&&m&&(j.current=x.initialValues,W(),o&&K(j.current))},[m,x.initialValues,W,o,K]),g.useEffect(function(){m&&y.current===!0&&!zd(_.current,x.initialErrors)&&(_.current=x.initialErrors||Md,T({type:"SET_ERRORS",payload:x.initialErrors||Md}))},[m,x.initialErrors]),g.useEffect(function(){m&&y.current===!0&&!zd(S.current,x.initialTouched)&&(S.current=x.initialTouched||xb,T({type:"SET_TOUCHED",payload:x.initialTouched||xb}))},[m,x.initialTouched]),g.useEffect(function(){m&&y.current===!0&&!zd(v.current,x.initialStatus)&&(v.current=x.initialStatus,T({type:"SET_STATUS",payload:x.initialStatus}))},[m,x.initialStatus,x.initialTouched]);var B=Ri(function(be){if(N.current[be]&&Fi(N.current[be].validate)){var Ge=In(D.values,be),at=N.current[be].validate(Ge);return wN(at)?(T({type:"SET_ISVALIDATING",payload:!0}),at.then(function(vt){return vt}).then(function(vt){T({type:"SET_FIELD_ERROR",payload:{field:be,value:vt}}),T({type:"SET_ISVALIDATING",payload:!1})})):(T({type:"SET_FIELD_ERROR",payload:{field:be,value:at}}),Promise.resolve(at))}else if(x.validationSchema)return T({type:"SET_ISVALIDATING",payload:!0}),I(D.values,be).then(function(vt){return vt}).then(function(vt){T({type:"SET_FIELD_ERROR",payload:{field:be,value:In(vt,be)}}),T({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),q=g.useCallback(function(be,Ge){var at=Ge.validate;N.current[be]={validate:at}},[]),H=g.useCallback(function(be){delete N.current[be]},[]),Q=Ri(function(be,Ge){T({type:"SET_TOUCHED",payload:be});var at=Ge===void 0?n:Ge;return at?K(D.values):Promise.resolve()}),V=g.useCallback(function(be){T({type:"SET_ERRORS",payload:be})},[]),M=Ri(function(be,Ge){var at=Fi(be)?be(D.values):be;T({type:"SET_VALUES",payload:at});var vt=Ge===void 0?a:Ge;return vt?K(at):Promise.resolve()}),R=g.useCallback(function(be,Ge){T({type:"SET_FIELD_ERROR",payload:{field:be,value:Ge}})},[]),$=Ri(function(be,Ge,at){var vt=Fi(Ge)?Ge(In(D.values,be)):Ge;T({type:"SET_FIELD_VALUE",payload:{field:be,value:vt}});var dt=at===void 0?a:at;return dt?K(au(D.values,be,vt)):Promise.resolve()}),Y=g.useCallback(function(be,Ge){var at=Ge,vt=be,dt;if(!_N(be)){be.persist&&be.persist();var ft=be.target?be.target:be.currentTarget,Mt=ft.type,ye=ft.name,Le=ft.id,ze=ft.value,jt=ft.checked;ft.outerHTML;var es=ft.options,Qt=ft.multiple;at=Ge||ye||Le,vt=/number|range/.test(Mt)?(dt=parseFloat(ze),isNaN(dt)?"":dt):/checkbox/.test(Mt)?vpe(In(D.values,at),jt,ze):es&&Qt?ype(es):ze}at&&$(at,vt)},[$,D.values]),J=Ri(function(be){if(_N(be))return function(Ge){return Y(Ge,be)};Y(be)}),te=Ri(function(be,Ge,at){Ge===void 0&&(Ge=!0),T({type:"SET_FIELD_TOUCHED",payload:{field:be,value:Ge}});var vt=at===void 0?n:at;return vt?K(D.values):Promise.resolve()}),ee=g.useCallback(function(be,Ge){be.persist&&be.persist();var at=be.target,vt=at.name,dt=at.id;at.outerHTML;var ft=Ge||vt||dt;te(ft,!0)},[te]),ne=Ri(function(be){if(_N(be))return function(Ge){return ee(Ge,be)};ee(be)}),he=g.useCallback(function(be){Fi(be)?T({type:"SET_FORMIK_STATE",payload:be}):T({type:"SET_FORMIK_STATE",payload:function(){return be}})},[]),de=g.useCallback(function(be){T({type:"SET_STATUS",payload:be})},[]),ae=g.useCallback(function(be){T({type:"SET_ISSUBMITTING",payload:be})},[]),xe=Ri(function(){return T({type:"SUBMIT_ATTEMPT"}),K().then(function(be){var Ge=be instanceof Error,at=!Ge&&Object.keys(be).length===0;if(at){var vt;try{if(vt=me(),vt===void 0)return}catch(dt){throw dt}return Promise.resolve(vt).then(function(dt){return y.current&&T({type:"SUBMIT_SUCCESS"}),dt}).catch(function(dt){if(y.current)throw T({type:"SUBMIT_FAILURE"}),dt})}else if(y.current&&(T({type:"SUBMIT_FAILURE"}),Ge))throw be})}),ge=Ri(function(be){be&&be.preventDefault&&Fi(be.preventDefault)&&be.preventDefault(),be&&be.stopPropagation&&Fi(be.stopPropagation)&&be.stopPropagation(),xe().catch(function(Ge){console.warn("Warning: An unhandled error was caught from submitForm()",Ge)})}),le={resetForm:W,validateForm:K,validateField:B,setErrors:V,setFieldError:R,setFieldTouched:te,setFieldValue:$,setStatus:de,setSubmitting:ae,setTouched:Q,setValues:M,setFormikState:he,submitForm:xe},me=Ri(function(){return d(D.values,le)}),Ae=Ri(function(be){be&&be.preventDefault&&Fi(be.preventDefault)&&be.preventDefault(),be&&be.stopPropagation&&Fi(be.stopPropagation)&&be.stopPropagation(),W()}),Ce=g.useCallback(function(be){return{value:In(D.values,be),error:In(D.errors,be),touched:!!In(D.touched,be),initialValue:In(j.current,be),initialTouched:!!In(S.current,be),initialError:In(_.current,be)}},[D.errors,D.touched,D.values]),_e=g.useCallback(function(be){return{setValue:function(at,vt){return $(be,at,vt)},setTouched:function(at,vt){return te(be,at,vt)},setError:function(at){return R(be,at)}}},[$,te,R]),Ie=g.useCallback(function(be){var Ge=Yv(be),at=Ge?be.name:be,vt=In(D.values,at),dt={name:at,value:vt,onChange:J,onBlur:ne};if(Ge){var ft=be.type,Mt=be.value,ye=be.as,Le=be.multiple;ft==="checkbox"?Mt===void 0?dt.checked=!!vt:(dt.checked=!!(Array.isArray(vt)&&~vt.indexOf(Mt)),dt.value=Mt):ft==="radio"?(dt.checked=vt===Mt,dt.value=Mt):ye==="select"&&Le&&(dt.value=dt.value||[],dt.multiple=!0)}return dt},[ne,J,D.values]),et=g.useMemo(function(){return!zd(j.current,D.values)},[j.current,D.values]),ke=g.useMemo(function(){return typeof l<"u"?et?D.errors&&Object.keys(D.errors).length===0:l!==!1&&Fi(l)?l(x):l:D.errors&&Object.keys(D.errors).length===0},[l,et,D.errors,x]),He=Fr({},D,{initialValues:j.current,initialErrors:_.current,initialTouched:S.current,initialStatus:v.current,handleBlur:ne,handleChange:J,handleReset:Ae,handleSubmit:ge,resetForm:W,setErrors:V,setFormikState:he,setFieldTouched:te,setFieldValue:$,setFieldError:R,setStatus:de,setSubmitting:ae,setTouched:Q,setValues:M,submitForm:xe,validateForm:K,validateField:B,isValid:ke,dirty:et,unregisterField:H,registerField:q,getFieldProps:Ie,getFieldMeta:Ce,getFieldHelpers:_e,validateOnBlur:n,validateOnChange:a,validateOnMount:o});return He}function xpe(t){var s={};if(t.inner){if(t.inner.length===0)return au(s,t.path,t.message);for(var n=t.inner,a=Array.isArray(n),r=0,n=a?n:n[Symbol.iterator]();;){var i;if(a){if(r>=n.length)break;i=n[r++]}else{if(r=n.next(),r.done)break;i=r.value}var o=i;In(s,o.path)||(s=au(s,o.path,o.message))}}return s}function gpe(t,s,a,r){a===void 0&&(a=!1);var n=hw(t);return s[a?"validateSync":"validate"](n,{abortEarly:!1,context:n})}function hw(t){var s=Array.isArray(t)?[]:{};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var r=String(a);Array.isArray(t[r])===!0?s[r]=t[r].map(function(n){return Array.isArray(n)===!0||AT(n)?hw(n):n!==""?n:void 0}):AT(t[r])?s[r]=hw(t[r]):s[r]=t[r]!==""?t[r]:void 0}return s}function bpe(t,s,a){var r=t.slice();return s.forEach(function(i,o){if(typeof r[o]>"u"){var l=a.clone!==!1,c=l&&a.isMergeableObject(i);r[o]=c?cw(Array.isArray(i)?[]:{},i,a):i}else a.isMergeableObject(i)?r[o]=cw(t[o],i,a):t.indexOf(i)===-1&&r.push(i)}),r}function ype(t){return Array.from(t).filter(function(s){return s.selected}).map(function(s){return s.value})}function vpe(t,s,a){if(typeof t=="boolean")return!!s;var r=[],n=!1,i=-1;if(Array.isArray(t))r=t,i=t.indexOf(a),n=i>=0;else if(!a||a=="true"||a=="false")return!!s;return s&&a&&!n?r.concat(a):n?r.slice(0,i).concat(r.slice(i+1)):r}var jpe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g.useLayoutEffect:g.useEffect;function Ri(t){var s=g.useRef(t);return jpe(function(){s.current=t}),g.useCallback(function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return s.current.apply(void 0,r)},[])}var Npe=g.forwardRef(function(t,s){var a=t.action,r=tI(t,["action"]),n=a??"#",i=ppe(),o=i.handleReset,l=i.handleSubmit;return g.createElement("form",Fr({onSubmit:l,ref:s,onReset:o,action:n},r))});Npe.displayName="Form";const _pe=(t,s)=>{if(s)return s;switch(t){case"small":return 30;case"medium":return 45;case"large":return 60;case"larger":return 75;case"extra-large":return 85;default:return 40}},it=({open:t,setOpen:s,title:a,children:r,width:n,size:i="medium",anchor:o="right",fullWidth:l=!1})=>{const c=vi(),m=bg(c.breakpoints.down("md")),d=_pe(i,n),p=()=>{s(!1)},x=()=>l||m?"100%":`${d}%`;return e.jsx(FX,{anchor:o,open:t,onClose:p,slotProps:{paper:{style:{width:x()}}},children:e.jsxs(b,{className:"!h-full !flex !flex-col",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !py-2 !px-4 !border-b !border-gray-200 !min-h-16",children:[e.jsx("p",{className:"!font-semibold text-lg !text-gray-900",children:a}),e.jsx(Ws,{onClick:p,className:"!text-gray-500 hover:!bg-gray-100 hover:!text-gray-700",children:e.jsx(Lr,{})})]}),e.jsx(b,{className:"!flex-1 !overflow-auto",children:r})]})})},wpe=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:je({},t)}}}}),aI={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(t,s)=>`Select ${t}. ${s?`Selected time is ${s}`:"No time selected"}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:t=>t?`Choose date, selected date is ${t}`:"Choose date",openTimePickerDialogue:t=>t?`Choose time, selected time is ${t}`:"Choose time",openRangePickerDialogue:t=>t?`Choose range, selected range is ${t}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},Spe=aI;wpe(aI);const Cpe=["localeText"],fw=g.createContext(null),rI=function(s){const{localeText:a}=s,r=rs(s,Cpe),{adapter:n,localeText:i}=g.useContext(fw)??{adapter:void 0,localeText:void 0},o=$s({props:r,name:"MuiLocalizationProvider"}),{children:l,dateAdapter:c,dateFormats:m,dateLibInstance:d,adapterLocale:p,localeText:x}=o,j=g.useMemo(()=>je({},x,i,a),[x,i,a]),_=g.useMemo(()=>{if(!c)return n||null;const y=new c({locale:p,formats:m,instance:d});if(!y.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return y},[c,p,m,d,n]),S=g.useMemo(()=>_?{minDate:_.date("1900-01-01T00:00:00.000"),maxDate:_.date("2099-12-31T00:00:00.000")}:null,[_]),v=g.useMemo(()=>({utils:_,adapter:_,defaultDates:S,localeText:j}),[S,_,j]);return e.jsx(fw.Provider,{value:v,children:l})},mS=()=>{const t=g.useContext(fw);if(t===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.adapter===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const s=g.useMemo(()=>je({},Spe,t.localeText),[t.localeText]);return g.useMemo(()=>je({},t,{localeText:s}),[t,s])},Ms=()=>mS().adapter,Xr=()=>mS().localeText,xw=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],gw=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],nI=["minDateTime","maxDateTime"],Ppe=[...xw,...gw,...nI],Rp=t=>Ppe.reduce((s,a)=>(t.hasOwnProperty(a)&&(s[a]=t[a]),s),{}),kpe=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],iI=(t,s)=>g.useMemo(()=>{const a=je({},t),r={},n=i=>{a.hasOwnProperty(i)&&(r[i]=a[i],delete a[i])};return kpe.forEach(n),s==="date"?xw.forEach(n):s==="time"?gw.forEach(n):s==="date-time"&&(xw.forEach(n),gw.forEach(n),nI.forEach(n)),{forwardedProps:a,internalProps:r}},[t,s]),Vo=(t,s)=>t.length!==s.length?!1:s.every(a=>t.includes(a)),pS=({openTo:t,defaultOpenTo:s,views:a,defaultViews:r})=>{const n=a??r;let i;if(t!=null)i=t;else if(n.includes(s))i=s;else if(n.length>0)i=n[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:n,openTo:i}},Ry=(t,s,a)=>{let r=s;return r=t.setHours(r,t.getHours(a)),r=t.setMinutes(r,t.getMinutes(a)),r=t.setSeconds(r,t.getSeconds(a)),r=t.setMilliseconds(r,t.getMilliseconds(a)),r},Rx=({date:t,disableFuture:s,disablePast:a,maxDate:r,minDate:n,isDateDisabled:i,adapter:o,timezone:l})=>{const c=Ry(o,o.date(void 0,l),t);a&&o.isBefore(n,c)&&(n=c),s&&o.isAfter(r,c)&&(r=c);let m=t,d=t;for(o.isBefore(t,n)&&(m=n,d=null),o.isAfter(t,r)&&(d&&(d=r),m=null);m||d;){if(m&&o.isAfter(m,r)&&(m=null),d&&o.isBefore(d,n)&&(d=null),m){if(!i(m))return m;m=o.addDays(m,1)}if(d){if(!i(d))return d;d=o.addDays(d,-1)}}return null},Epe=(t,s)=>t.isValid(s)?s:null,Ay=(t,s,a)=>s==null||!t.isValid(s)?a:s,Tpe=(t,s,a)=>!t.isValid(s)&&s!=null&&!t.isValid(a)&&a!=null?!0:t.isEqual(s,a),hS=(t,s)=>{const r=[t.startOfYear(s)];for(;r.length<12;){const n=r[r.length-1];r.push(t.addMonths(n,1))}return r},fS=(t,s,a)=>a==="date"?t.startOfDay(t.date(void 0,s)):t.date(void 0,s),xo=(t,s)=>{const a=t.setHours(t.date(),s==="am"?2:14);return t.format(a,"meridiem")},oI=["year","month","day"],pp=t=>oI.includes(t),Ax=(t,{format:s,views:a},r)=>{if(s!=null)return s;const n=t.formats;return Vo(a,["year"])?n.year:Vo(a,["month"])?n.month:Vo(a,["day"])?n.dayOfMonth:Vo(a,["month","year"])?`${n.month} ${n.year}`:Vo(a,["day","month"])?`${n.month} ${n.dayOfMonth}`:r?/en/.test(t.getCurrentLocaleCode())?n.normalDateWithWeekday:n.normalDate:n.keyboardDate},Mpe=(t,s)=>{const a=t.startOfWeek(s);return[0,1,2,3,4,5,6].map(r=>t.addDays(a,r))},lI=(t,s)=>{const a=t.formatTokenMap[s];if(a==null)throw new Error([`MUI X: The token "${s}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof a=="string"?{type:a,contentType:a==="meridiem"?"letter":"digit",maxLength:void 0}:{type:a.sectionType,contentType:a.contentType,maxLength:a.maxLength}},Gv=(t,s)=>{const a=[],r=t.date(void 0,"default"),n=t.startOfWeek(r),i=t.endOfWeek(r);let o=n;for(;t.isBefore(o,i);)a.push(o),o=t.addDays(o,1);return a.map(l=>t.formatByString(l,s))},cI=(t,s,a,r)=>{switch(a){case"month":return hS(t,t.date(void 0,s)).map(n=>t.formatByString(n,r));case"weekDay":return Gv(t,r);case"meridiem":{const n=t.date(void 0,s);return[t.startOfDay(n),t.endOfDay(n)].map(i=>t.formatByString(i,r))}default:return[]}},i8="s",Dpe=["0","1","2","3","4","5","6","7","8","9"],Rpe=t=>{const s=t.date(void 0);return t.formatByString(t.setSeconds(s,0),i8)==="0"?Dpe:Array.from({length:10}).map((r,n)=>t.formatByString(t.setSeconds(s,n),i8))},fu=(t,s)=>{if(s[0]==="0")return t;const a=[];let r="";for(let n=0;n<t.length;n+=1){r+=t[n];const i=s.indexOf(r);i>-1&&(a.push(i.toString()),r="")}return a.join("")},xS=(t,s)=>s[0]==="0"?t:t.split("").map(a=>s[Number(a)]).join(""),o8=(t,s)=>{const a=fu(t,s);return a!==" "&&!Number.isNaN(Number(a))},gS=(t,s)=>Number(t).toString().padStart(s,"0"),dI=(t,s,a,r,n)=>{if(n.type==="day"&&n.contentType==="digit-with-letter"){const o=t.setDate(a.longestMonth,s);return t.formatByString(o,n.format)}let i=s.toString();return n.hasLeadingZerosInInput&&(i=gS(i,n.maxLength)),xS(i,r)},bS=(t,s,a)=>{let r=t.value||t.placeholder;const n=s==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return s==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(r=Number(fu(r,a)).toString()),["input-rtl","input-ltr"].includes(s)&&t.contentType==="digit"&&!n&&r.length===1&&(r=`${r}`),s==="input-rtl"&&(r=`${r}`),r},l8=(t,s,a,r)=>t.formatByString(t.parse(s,a),r),Ape=(t,s)=>t.formatByString(t.date(void 0,"system"),s).length===4,uI=(t,s,a,r)=>{if(s!=="digit")return!1;const n=t.date(void 0,"default");switch(a){case"year":return t.lib==="dayjs"&&r==="YY"?!0:t.formatByString(t.setYear(n,1),r).startsWith("0");case"month":return t.formatByString(t.startOfYear(n),r).length>1;case"day":return t.formatByString(t.startOfMonth(n),r).length>1;case"weekDay":return t.formatByString(t.startOfWeek(n),r).length>1;case"hours":return t.formatByString(t.setHours(n,1),r).length>1;case"minutes":return t.formatByString(t.setMinutes(n,1),r).length>1;case"seconds":return t.formatByString(t.setSeconds(n,1),r).length>1;default:throw new Error("Invalid section type")}},Ipe=(t,s,a)=>{const r=s.some(c=>c.type==="day"),n=[],i=[];for(let c=0;c<s.length;c+=1){const m=s[c];r&&m.type==="weekDay"||(n.push(m.format),i.push(bS(m,"non-input",a)))}const o=n.join(" "),l=i.join(" ");return t.parse(l,o)},Ope=t=>t.map(s=>`${s.startSeparator}${s.value||s.placeholder}${s.endSeparator}`).join(""),Fpe=(t,s,a)=>{const n=t.map(i=>{const o=bS(i,a?"input-rtl":"input-ltr",s);return`${i.startSeparator}${o}${i.endSeparator}`}).join("");return a?`${n}`:n},Lpe=(t,s,a)=>{const r=t.date(void 0,a),n=t.endOfYear(r),i=t.endOfDay(r),{maxDaysInMonth:o,longestMonth:l}=hS(t,r).reduce((c,m)=>{const d=t.getDaysInMonth(m);return d>c.maxDaysInMonth?{maxDaysInMonth:d,longestMonth:m}:c},{maxDaysInMonth:0,longestMonth:null});return{year:({format:c})=>({minimum:0,maximum:Ape(t,c)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(n)+1}),day:({currentDate:c})=>({minimum:1,maximum:t.isValid(c)?t.getDaysInMonth(c):o,longestMonth:l}),weekDay:({format:c,contentType:m})=>{if(m==="digit"){const d=Gv(t,c).map(Number);return{minimum:Math.min(...d),maximum:Math.max(...d)}}return{minimum:1,maximum:7}},hours:({format:c})=>{const m=t.getHours(i);return fu(t.formatByString(t.endOfDay(r),c),s)!==m.toString()?{minimum:1,maximum:Number(fu(t.formatByString(t.startOfDay(r),c),s))}:{minimum:0,maximum:m}},minutes:()=>({minimum:0,maximum:t.getMinutes(i)}),seconds:()=>({minimum:0,maximum:t.getSeconds(i)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},$pe=(t,s,a,r)=>{switch(s.type){case"year":return t.setYear(r,t.getYear(a));case"month":return t.setMonth(r,t.getMonth(a));case"weekDay":{let n=t.formatByString(a,s.format);s.hasLeadingZerosInInput&&(n=gS(n,s.maxLength));const i=Gv(t,s.format),o=i.indexOf(n),c=i.indexOf(s.value)-o;return t.addDays(a,c)}case"day":return t.setDate(r,t.getDate(a));case"meridiem":{const n=t.getHours(a)<12,i=t.getHours(r);return n&&i>=12?t.addHours(r,-12):!n&&i<12?t.addHours(r,12):r}case"hours":return t.setHours(r,t.getHours(a));case"minutes":return t.setMinutes(r,t.getMinutes(a));case"seconds":return t.setSeconds(r,t.getSeconds(a));default:return r}},c8={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},d8=(t,s,a,r,n)=>[...a].sort((i,o)=>c8[i.type]-c8[o.type]).reduce((i,o)=>!n||o.modified?$pe(t,o,s,i):i,r),zpe=()=>navigator.userAgent.toLowerCase().includes("android"),qpe=(t,s)=>{const a={};if(!s)return t.forEach((c,m)=>{const d=m===0?null:m-1,p=m===t.length-1?null:m+1;a[m]={leftIndex:d,rightIndex:p}}),{neighbors:a,startIndex:0,endIndex:t.length-1};const r={},n={};let i=0,o=0,l=t.length-1;for(;l>=0;){o=t.findIndex((c,m)=>m>=i&&c.endSeparator?.includes(" ")&&c.endSeparator!==" / "),o===-1&&(o=t.length-1);for(let c=o;c>=i;c-=1)n[c]=l,r[l]=c,l-=1;i=o+1}return t.forEach((c,m)=>{const d=n[m],p=d===0?null:r[d-1],x=d===t.length-1?null:r[d+1];a[m]={leftIndex:p,rightIndex:x}}),{neighbors:a,startIndex:r[0],endIndex:r[t.length-1]}},bw=(t,s)=>{if(t==null)return null;if(t==="all")return"all";if(typeof t=="string"){const a=s.findIndex(r=>r.type===t);return a===-1?null:a}return t},Bpe=({adapter:t,format:s})=>{let a=10,r=s,n=t.expandFormat(s);for(;n!==r;)if(r=n,n=t.expandFormat(r),a-=1,a<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return n},Upe=({adapter:t,expandedFormat:s})=>{const a=[],{start:r,end:n}=t.escapedCharacters,i=new RegExp(`(\\${r}[^\\${n}]*\\${n})+`,"g");let o=null;for(;o=i.exec(s);)a.push({start:o.index,end:i.lastIndex-1});return a},Vpe=(t,s,a,r)=>{switch(a.type){case"year":return s.fieldYearPlaceholder({digitAmount:t.formatByString(t.date(void 0,"default"),r).length,format:r});case"month":return s.fieldMonthPlaceholder({contentType:a.contentType,format:r});case"day":return s.fieldDayPlaceholder({format:r});case"weekDay":return s.fieldWeekDayPlaceholder({contentType:a.contentType,format:r});case"hours":return s.fieldHoursPlaceholder({format:r});case"minutes":return s.fieldMinutesPlaceholder({format:r});case"seconds":return s.fieldSecondsPlaceholder({format:r});case"meridiem":return s.fieldMeridiemPlaceholder({format:r});default:return r}},Hpe=({adapter:t,date:s,shouldRespectLeadingZeros:a,localeText:r,localizedDigits:n,now:i,token:o,startSeparator:l})=>{if(o==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const c=lI(t,o),m=uI(t,c.contentType,c.type,o),d=a?m:c.contentType==="digit",p=t.isValid(s);let x=p?t.formatByString(s,o):"",j=null;if(d)if(m)j=x===""?t.formatByString(i,o).length:x.length;else{if(c.maxLength==null)throw new Error(`MUI X: The token ${o} should have a 'maxLength' property on it's adapter`);j=c.maxLength,p&&(x=xS(gS(fu(x,n),j),n))}return je({},c,{format:o,maxLength:j,value:x,placeholder:Vpe(t,r,c,o),hasLeadingZerosInFormat:m,hasLeadingZerosInInput:d,startSeparator:l,endSeparator:"",modified:!1})},Wpe=t=>{const{adapter:s,expandedFormat:a,escapedParts:r}=t,n=s.date(void 0),i=[];let o="";const l=Object.keys(s.formatTokenMap).sort((j,_)=>_.length-j.length),c=/^([a-zA-Z]+)/,m=new RegExp(`^(${l.join("|")})*$`),d=new RegExp(`^(${l.join("|")})`),p=j=>r.find(_=>_.start<=j&&_.end>=j);let x=0;for(;x<a.length;){const j=p(x),_=j!=null,S=c.exec(a.slice(x))?.[1];if(!_&&S!=null&&m.test(S)){let v=S;for(;v.length>0;){const y=d.exec(v)[1];v=v.slice(y.length),i.push(Hpe(je({},t,{now:n,token:y,startSeparator:o}))),o=""}x+=S.length}else{const v=a[x];_&&j?.start===x||j?.end===x||(i.length===0?o+=v:(i[i.length-1].endSeparator+=v,i[i.length-1].isEndFormatSeparator=!0)),x+=1}}return i.length===0&&o.length>0&&i.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:o,endSeparator:"",modified:!1}),i},Ype=({isRtl:t,formatDensity:s,sections:a})=>a.map(r=>{const n=i=>{let o=i;return t&&o!==null&&o.includes(" ")&&(o=`${o}`),s==="spacious"&&["/",".","-"].includes(o)&&(o=` ${o} `),o};return r.startSeparator=n(r.startSeparator),r.endSeparator=n(r.endSeparator),r}),u8=t=>{let s=Bpe(t);t.isRtl&&t.enableAccessibleFieldDOMStructure&&(s=s.split(" ").reverse().join(" "));const a=Upe(je({},t,{expandedFormat:s})),r=Wpe(je({},t,{expandedFormat:s,escapedParts:a}));return Ype(je({},t,{sections:r}))},yS=g.createContext(null),cl=()=>{const t=g.useContext(yS);if(t==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return t},vS=()=>g.useContext(yS),mI=g.createContext(()=>!0);function Gpe(){return g.useContext(mI)}const pI=g.createContext(null);function hI(){return g.useContext(pI)}const fI=g.createContext(null),xI=g.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function gI(t){const{contextValue:s,actionsContextValue:a,privateContextValue:r,fieldPrivateContextValue:n,isValidContextValue:i,localeText:o,children:l}=t;return e.jsx(yS.Provider,{value:s,children:e.jsx(fI.Provider,{value:a,children:e.jsx(xI.Provider,{value:r,children:e.jsx(pI.Provider,{value:n,children:e.jsx(mI.Provider,{value:i,children:e.jsx(rI,{localeText:o,children:l})})})})})})}const Kpe=()=>{const t=g.useContext(fI);if(t==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return t},bI=()=>mS().defaultDates,Pu=t=>{const s=Ms(),a=g.useRef(void 0);return a.current===void 0&&(a.current=s.date(void 0,t)),a.current},Qpe=Lt(e.jsx("path",{d:"M7 10l5 5 5-5z"})),Zpe=Lt(e.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})),Xpe=Lt(e.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),yI=Lt(e.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})),Jpe=Lt(e.jsxs(g.Fragment,{children:[e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]})),ehe=Lt(e.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"})),the=Lt(e.jsxs(g.Fragment,{children:[e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]})),she=Lt(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function ahe(t){return Tt("MuiPickersArrowSwitcher",t)}Et("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const Va=()=>g.useContext(xI),rhe=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],nhe=["ownerState"],ihe=["ownerState"],ohe=Ne("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),lhe=Ne("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:t})=>({width:t.spacing(3)})),m8=Ne(Ws,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),che=t=>kt({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},ahe,t),vI=g.forwardRef(function(s,a){const r=Rr(),n=$s({props:s,name:"MuiPickersArrowSwitcher"}),{children:i,className:o,slots:l,slotProps:c,isNextDisabled:m,isNextHidden:d,onGoToNext:p,nextLabel:x,isPreviousDisabled:j,isPreviousHidden:_,onGoToPrevious:S,previousLabel:v,labelId:y,classes:N}=n,C=rs(n,rhe),{ownerState:P}=Va(),E=che(N),D={isDisabled:m,isHidden:d,goTo:p,label:x},T={isDisabled:j,isHidden:_,goTo:S,label:v},A=l?.previousIconButton??m8,I=ea({elementType:A,externalSlotProps:c?.previousIconButton,additionalProps:{size:"medium",title:T.label,"aria-label":T.label,disabled:T.isDisabled,edge:"end",onClick:T.goTo},ownerState:je({},P,{isButtonHidden:T.isHidden??!1}),className:Je(E.button,E.previousIconButton)}),F=l?.nextIconButton??m8,z=ea({elementType:F,externalSlotProps:c?.nextIconButton,additionalProps:{size:"medium",title:D.label,"aria-label":D.label,disabled:D.isDisabled,edge:"start",onClick:D.goTo},ownerState:je({},P,{isButtonHidden:D.isHidden??!1}),className:Je(E.button,E.nextIconButton)}),O=l?.leftArrowIcon??Zpe,K=ea({elementType:O,externalSlotProps:c?.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:P,className:E.leftArrowIcon}),W=rs(K,nhe),B=l?.rightArrowIcon??Xpe,q=ea({elementType:B,externalSlotProps:c?.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:P,className:E.rightArrowIcon}),H=rs(q,ihe);return e.jsxs(ohe,je({ref:a,className:Je(E.root,o),ownerState:P},C,{children:[e.jsx(A,je({},I,{children:r?e.jsx(B,je({},H)):e.jsx(O,je({},W))})),i?e.jsx(f,{variant:"subtitle1",component:"span",id:y,children:i}):e.jsx(lhe,{className:E.spacer,ownerState:P}),e.jsx(F,je({},z,{children:r?e.jsx(O,je({},W)):e.jsx(B,je({},H))}))]}))}),jI=["hours","minutes","seconds"],dhe=["hours","minutes","seconds","meridiem"],xu=t=>jI.includes(t),Mm=t=>dhe.includes(t),uhe=(t,s)=>t?s.getHours(t)>=12?"pm":"am":null,Ix=(t,s,a)=>a&&(t>=12?"pm":"am")!==s?s==="am"?t-12:t+12:t,mhe=(t,s,a,r)=>{const n=Ix(r.getHours(t),s,a);return r.setHours(t,n)},p8=(t,s)=>s.getHours(t)*3600+s.getMinutes(t)*60+s.getSeconds(t),Tg=(t,s)=>(a,r)=>t?s.isAfter(a,r):p8(a,s)>p8(r,s),Iy=(t,{format:s,views:a,ampm:r})=>{if(s!=null)return s;const n=t.formats;return Vo(a,["hours"])?r?`${n.hours12h} ${n.meridiem}`:n.hours24h:Vo(a,["minutes"])?n.minutes:Vo(a,["seconds"])?n.seconds:Vo(a,["minutes","seconds"])?`${n.minutes}:${n.seconds}`:Vo(a,["hours","minutes","seconds"])?r?`${n.hours12h}:${n.minutes}:${n.seconds} ${n.meridiem}`:`${n.hours24h}:${n.minutes}:${n.seconds}`:r?`${n.hours12h}:${n.minutes} ${n.meridiem}`:`${n.hours24h}:${n.minutes}`},NI={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function phe(t){const{steps:s,isViewMatchingStep:a,onStepChange:r}=t;return n=>{if(s==null)return NI;const i=s.findIndex(l=>a(n.view,l)),o=i===-1||i===s.length-1?null:s[i+1];return{hasNextStep:o!=null,hasSeveralSteps:s.length>1,goToNextStep:()=>{o!=null&&r(je({},n,{step:o}))},areViewsInSameStep:(l,c)=>{const m=s.find(p=>a(l,p)),d=s.find(p=>a(c,p));return m===d}}}}function Mg({onChange:t,onViewChange:s,openTo:a,view:r,views:n,autoFocus:i,focusedView:o,onFocusedViewChange:l,getStepNavigation:c}){const m=g.useRef(a),d=g.useRef(n),p=g.useRef(n.includes(a)?a:n[0]),[x,j]=_n({name:"useViews",state:"view",controlled:r,default:p.current}),_=g.useRef(i?x:null),[S,v]=_n({name:"useViews",state:"focusedView",controlled:o,default:_.current}),y=c?c({setView:j,view:x,defaultView:p.current,views:n}):NI;g.useEffect(()=>{(m.current&&m.current!==a||d.current&&d.current.some(I=>!n.includes(I)))&&(j(n.includes(a)?a:n[0]),d.current=n,m.current=a)},[a,j,x,n]);const N=n.indexOf(x),C=n[N-1]??null,P=n[N+1]??null,E=Ot((I,F)=>{v(F?I:z=>I===z?null:z),l?.(I,F)}),D=Ot(I=>{E(I,!0),I!==x&&(j(I),s&&s(I))}),T=Ot(()=>{P&&D(P)}),A=Ot((I,F,z)=>{const O=F==="finish",K=z?n.indexOf(z)<n.length-1:!!P;t(I,O&&K?"partial":F,z);let B=null;if(z!=null&&z!==x?B=z:O&&(B=x),B==null)return;const q=n[n.indexOf(B)+1];q==null||!y.areViewsInSameStep(B,q)||D(q)});return je({},y,{view:x,setView:D,focusedView:S,setFocusedView:E,nextView:P,previousView:C,defaultView:n.includes(a)?a:n[0],goToNextView:T,setValueAndGoToNextView:A})}function hhe(t,{disableFuture:s,maxDate:a,timezone:r}){const n=Ms();return g.useMemo(()=>{const i=n.date(void 0,r),o=n.startOfMonth(s&&n.isBefore(i,a)?i:a);return!n.isAfter(o,t)},[s,a,t,n,r])}function fhe(t,{disablePast:s,minDate:a,timezone:r}){const n=Ms();return g.useMemo(()=>{const i=n.date(void 0,r),o=n.startOfMonth(s&&n.isAfter(i,a)?i:a);return!n.isBefore(o,t)},[s,a,t,n,r])}function Kv(t,s,a,r){const n=Ms(),i=g.useMemo(()=>n.isValid(t)?t:null,[n,t]),o=uhe(i,n),l=g.useCallback(c=>{const m=i==null?null:mhe(i,c,!!s,n);a(m,r??"partial")},[s,i,a,r,n]);return{meridiemMode:o,handleMeridiemChange:l}}const Ox=36,Qv=2,hp=320,xhe=280,fp=336,_I=232,xf=48,Zv=Ne("div")({overflow:"hidden",width:hp,maxHeight:fp,display:"flex",flexDirection:"column",margin:"0 auto"});function ghe(t){return Tt("MuiTimeClock",t)}Et("MuiTimeClock",["root","arrowSwitcher"]);const xp=220,Wl=36,Fx={x:xp/2,y:xp/2},wI={x:Fx.x,y:0},bhe=wI.x-Fx.x,yhe=wI.y-Fx.y,vhe=t=>t*(180/Math.PI),SI=(t,s,a)=>{const r=s-Fx.x,n=a-Fx.y,i=Math.atan2(bhe,yhe)-Math.atan2(r,n);let o=vhe(i);o=Math.round(o/t)*t,o%=360;const l=Math.floor(o/t)||0,c=r**2+n**2,m=Math.sqrt(c);return{value:l,distance:m}},jhe=(t,s,a=1)=>{const r=a*6;let{value:n}=SI(r,t,s);return n=n*a%60,n},Nhe=(t,s,a)=>{const{value:r,distance:n}=SI(30,t,s);let i=r||12;return a?i%=12:n<xp/2-Wl&&(i+=12,i%=24),i};function _he(t){return Tt("MuiClockPointer",t)}Et("MuiClockPointer",["root","thumb"]);const whe=["className","classes","isBetweenTwoClockValues","isInner","type","viewValue"],She=t=>kt({root:["root"],thumb:["thumb"]},_he,t),Che=Ne("div",{name:"MuiClockPointer",slot:"Root"})(({theme:t})=>({width:2,backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{isClockPointerAnimated:!0},style:{transition:t.transitions.create(["transform","height"])}}]})),Phe=Ne("div",{name:"MuiClockPointer",slot:"Thumb"})(({theme:t})=>({width:4,height:4,backgroundColor:(t.vars||t).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${Wl/2}px)`,border:`${(Wl-4)/2}px solid ${(t.vars||t).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{isClockPointerBetweenTwoValues:!1},style:{backgroundColor:(t.vars||t).palette.primary.main}}]}));function khe(t){const s=$s({props:t,name:"MuiClockPointer"}),{className:a,classes:r,isBetweenTwoClockValues:n,isInner:i,type:o,viewValue:l}=s,c=rs(s,whe),m=g.useRef(o);g.useEffect(()=>{m.current=o},[o]);const{ownerState:d}=Va(),p=je({},d,{isClockPointerAnimated:m.current!==o,isClockPointerBetweenTwoValues:n}),x=She(r),j=()=>{let S=360/(o==="hours"?12:60)*l;return o==="hours"&&l>12&&(S-=360),{height:Math.round((i?.26:.4)*xp),transform:`rotateZ(${S}deg)`}};return e.jsx(Che,je({style:j(),className:Je(x.root,a),ownerState:p},c,{children:e.jsx(Phe,{ownerState:p,className:x.thumb})}))}function Ehe(t){return Tt("MuiClock",t)}Et("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText","selected"]);const The=(t,s)=>{const a={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton",s.clockMeridiemMode==="am"&&"selected"],pmButton:["pmButton",s.clockMeridiemMode==="pm"&&"selected"],meridiemText:["meridiemText"]};return kt(a,Ehe,t)},Mhe=Ne("div",{name:"MuiClock",slot:"Root"})(({theme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)})),Dhe=Ne("div",{name:"MuiClock",slot:"Clock"})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),Rhe=Ne("div",{name:"MuiClock",slot:"Wrapper"})({"&:focus":{outline:"none"}}),Ahe=Ne("div",{name:"MuiClock",slot:"SquareMask"})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{isClockDisabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),Ihe=Ne("div",{name:"MuiClock",slot:"Pin"})(({theme:t})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),CI=(t,s)=>({zIndex:1,bottom:8,paddingLeft:4,paddingRight:4,width:Wl,variants:[{props:{clockMeridiemMode:s},style:{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}}}]}),Ohe=Ne(Ws,{name:"MuiClock",slot:"AmButton"})(({theme:t})=>je({},CI(t,"am"),{position:"absolute",left:8})),Fhe=Ne(Ws,{name:"MuiClock",slot:"PmButton"})(({theme:t})=>je({},CI(t,"pm"),{position:"absolute",right:8})),h8=Ne(f,{name:"MuiClock",slot:"MeridiemText"})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function Lhe(t){const s=$s({props:t,name:"MuiClock"}),{ampm:a,ampmInClock:r,autoFocus:n,children:i,value:o,handleMeridiemChange:l,isTimeDisabled:c,meridiemMode:m,minutesStep:d=1,onChange:p,selectedId:x,type:j,viewValue:_,viewRange:[S,v],disabled:y=!1,readOnly:N,className:C,classes:P}=s,E=Ms(),D=Xr(),{ownerState:T}=Va(),A=je({},T,{isClockDisabled:y,clockMeridiemMode:m}),I=g.useRef(!1),F=The(P,A),z=c(_,j),O=!a&&j==="hours"&&(_<1||_>12),K=(te,ee)=>{y||N||c(te,j)||p(te,ee)},W=(te,ee)=>{let{offsetX:ne,offsetY:he}=te;if(ne===void 0){const ae=te.target.getBoundingClientRect();ne=te.changedTouches[0].clientX-ae.left,he=te.changedTouches[0].clientY-ae.top}const de=j==="seconds"||j==="minutes"?jhe(ne,he,d):Nhe(ne,he,!!a);K(de,ee)},B=te=>{I.current=!0,W(te,"shallow")},q=te=>{I.current&&(W(te,"finish"),I.current=!1),te.preventDefault()},H=te=>{te.buttons>0&&W(te.nativeEvent,"shallow")},Q=te=>{I.current&&(I.current=!1),W(te.nativeEvent,"finish")},V=j==="hours"?!1:_%5!==0,M=j==="minutes"?d:1,R=g.useRef(null);Ia(()=>{n&&R.current.focus()},[n]);const $=te=>Math.max(S,Math.min(v,te)),Y=te=>(te+(v+1))%(v+1),J=te=>{if(!I.current)switch(te.key){case"Home":K(S,"partial"),te.preventDefault();break;case"End":K(v,"partial"),te.preventDefault();break;case"ArrowUp":K(Y(_+M),"partial"),te.preventDefault();break;case"ArrowDown":K(Y(_-M),"partial"),te.preventDefault();break;case"PageUp":K($(_+5),"partial"),te.preventDefault();break;case"PageDown":K($(_-5),"partial"),te.preventDefault();break;case"Enter":case" ":K(_,"finish"),te.preventDefault();break}};return e.jsxs(Mhe,{className:Je(F.root,C),children:[e.jsxs(Dhe,{className:F.clock,children:[e.jsx(Ahe,{onTouchMove:B,onTouchStart:B,onTouchEnd:q,onMouseUp:Q,onMouseMove:H,ownerState:A,className:F.squareMask}),!z&&e.jsxs(g.Fragment,{children:[e.jsx(Ihe,{className:F.pin}),o!=null&&e.jsx(khe,{type:j,viewValue:_,isInner:O,isBetweenTwoClockValues:V})]}),e.jsx(Rhe,{"aria-activedescendant":x,"aria-label":D.clockLabelText(j,o==null?null:E.format(o,a?"fullTime12h":"fullTime24h")),ref:R,role:"listbox",onKeyDown:J,tabIndex:0,className:F.wrapper,children:i})]}),a&&r&&e.jsxs(g.Fragment,{children:[e.jsx(Ohe,{onClick:N?void 0:()=>l("am"),disabled:y||m===null,ownerState:A,className:F.amButton,title:xo(E,"am"),children:e.jsx(h8,{variant:"caption",className:F.meridiemText,children:xo(E,"am")})}),e.jsx(Fhe,{disabled:y||m===null,onClick:N?void 0:()=>l("pm"),ownerState:A,className:F.pmButton,title:xo(E,"pm"),children:e.jsx(h8,{variant:"caption",className:F.meridiemText,children:xo(E,"pm")})})]})]})}function $he(t){return Tt("MuiClockNumber",t)}const gb=Et("MuiClockNumber",["root","selected","disabled"]),zhe=["className","classes","disabled","index","inner","label","selected"],qhe=(t,s)=>{const a={root:["root",s.isClockNumberSelected&&"selected",s.isClockNumberDisabled&&"disabled"]};return kt(a,$he,t)},Bhe=Ne("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(t,s)=>[s.root,{[`&.${gb.disabled}`]:s.disabled},{[`&.${gb.selected}`]:s.selected}]})(({theme:t})=>({height:Wl,width:Wl,position:"absolute",left:`calc((100% - ${Wl}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(t.vars||t).palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:(t.vars||t).palette.background.paper},[`&.${gb.selected}`]:{color:(t.vars||t).palette.primary.contrastText},[`&.${gb.disabled}`]:{pointerEvents:"none",color:(t.vars||t).palette.text.disabled},variants:[{props:{isClockNumberInInnerRing:!0},style:je({},t.typography.body2,{color:(t.vars||t).palette.text.secondary})}]}));function PI(t){const s=$s({props:t,name:"MuiClockNumber"}),{className:a,classes:r,disabled:n,index:i,inner:o,label:l,selected:c}=s,m=rs(s,zhe),{ownerState:d}=Va(),p=je({},d,{isClockNumberInInnerRing:o,isClockNumberSelected:c,isClockNumberDisabled:n}),x=qhe(r,p),j=i%12/12*Math.PI*2-Math.PI/2,_=(xp-Wl-2)/2*(o?.65:1),S=Math.round(Math.cos(j)*_),v=Math.round(Math.sin(j)*_);return e.jsx(Bhe,je({className:Je(x.root,a),"aria-disabled":n?!0:void 0,"aria-selected":c?!0:void 0,role:"option",style:{transform:`translate(${S}px, ${v+(xp-Wl)/2}px`},ownerState:p},m,{children:l}))}const Uhe=({ampm:t,value:s,getClockNumberText:a,isDisabled:r,selectedId:n,adapter:i})=>{const o=s?i.getHours(s):null,l=[],c=t?1:0,m=t?12:23,d=p=>o===null?!1:t?p===12?o===12||o===0:o===p||o-12===p:o===p;for(let p=c;p<=m;p+=1){let x=p.toString();p===0&&(x="00");const j=!t&&(p===0||p>12);x=i.formatNumber(x);const _=d(p);l.push(e.jsx(PI,{id:_?n:void 0,index:p,inner:j,selected:_,disabled:r(p),label:x,"aria-label":a(x)},p))}return l},f8=({adapter:t,value:s,isDisabled:a,getClockNumberText:r,selectedId:n})=>{const i=t.formatNumber;return[[5,i("05")],[10,i("10")],[15,i("15")],[20,i("20")],[25,i("25")],[30,i("30")],[35,i("35")],[40,i("40")],[45,i("45")],[50,i("50")],[55,i("55")],[0,i("00")]].map(([o,l],c)=>{const m=o===s;return e.jsx(PI,{label:l,id:m?n:void 0,index:c+1,inner:!1,disabled:a(o),selected:m,"aria-label":r(l)},o)})},cd=({name:t,timezone:s,value:a,defaultValue:r,referenceDate:n,onChange:i,valueManager:o})=>{const l=Ms(),[c,m]=_n({name:t,state:"value",controlled:a,default:r??o.emptyValue}),d=g.useMemo(()=>o.getTimezone(l,c),[l,o,c]),p=Ot(S=>d==null?S:o.setTimezone(l,d,S)),x=g.useMemo(()=>s||d||(n?l.getTimezone(Array.isArray(n)?n[0]:n):"default"),[s,d,n,l]),j=g.useMemo(()=>o.setTimezone(l,x,c),[o,l,x,c]),_=Ot((S,...v)=>{const y=p(S);m(y),i?.(y,...v)});return{value:j,handleValueChange:_,timezone:x}},fo={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},Vhe=t=>Math.max(...t.map(s=>fo[s.type]??1)),Kh=(t,s,a)=>{if(s===fo.year)return t.startOfYear(a);if(s===fo.month)return t.startOfMonth(a);if(s===fo.day)return t.startOfDay(a);let r=a;return s<fo.minutes&&(r=t.setMinutes(r,0)),s<fo.seconds&&(r=t.setSeconds(r,0)),s<fo.milliseconds&&(r=t.setMilliseconds(r,0)),r},Hhe=({props:t,adapter:s,granularity:a,timezone:r,getTodayDate:n})=>{let i=n?n():Kh(s,a,fS(s,r));t.minDate!=null&&s.isAfterDay(t.minDate,i)&&(i=Kh(s,a,t.minDate)),t.maxDate!=null&&s.isBeforeDay(t.maxDate,i)&&(i=Kh(s,a,t.maxDate));const o=Tg(t.disableIgnoringDatePartForTimeValidation??!1,s);return t.minTime!=null&&o(t.minTime,i)&&(i=Kh(s,a,t.disableIgnoringDatePartForTimeValidation?t.minTime:Ry(s,i,t.minTime))),t.maxTime!=null&&o(i,t.maxTime)&&(i=Kh(s,a,t.disableIgnoringDatePartForTimeValidation?t.maxTime:Ry(s,i,t.maxTime))),i},Whe=["value","referenceDate"],ur={emptyValue:null,getTodayValue:fS,getInitialReferenceValue:t=>{let{value:s,referenceDate:a}=t,r=rs(t,Whe);return r.adapter.isValid(s)?s:a??Hhe(r)},cleanValue:Epe,areValuesEqual:Tpe,isSameError:(t,s)=>t===s,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,s)=>t.isValid(s)?t.getTimezone(s):null,setTimezone:(t,s,a)=>a==null?null:t.setTimezone(a,s)},jS={updateReferenceValue:(t,s,a)=>t.isValid(s)?s:a,getSectionsFromValue:(t,s)=>s(t),getV7HiddenInputValueFromSections:Ope,getV6InputValueFromSections:Fpe,parseValueStr:(t,s,a)=>a(t.trim(),s),getDateFromSection:t=>t,getDateSectionsFromValue:t=>t,updateDateInValue:(t,s,a)=>a,clearDateSections:t=>t.map(s=>je({},s,{value:""}))},NS=({value:t,referenceDate:s,adapter:a,props:r,timezone:n})=>{const i=g.useMemo(()=>ur.getInitialReferenceValue({value:t,adapter:a,props:r,referenceDate:s,granularity:fo.day,timezone:n,getTodayDate:()=>fS(a,n,"date")}),[s,n]);return t??i},Yhe=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","timezone"],Ghe=t=>kt({root:["root"],arrowSwitcher:["arrowSwitcher"]},ghe,t),Khe=Ne(Zv,{name:"MuiTimeClock",slot:"Root"})({display:"flex",flexDirection:"column",position:"relative"}),Qhe=Ne(vI,{name:"MuiTimeClock",slot:"ArrowSwitcher"})({position:"absolute",right:12,top:15}),Zhe=["hours","minutes"],Xhe=g.forwardRef(function(s,a){const r=Ms(),n=$s({props:s,name:"MuiTimeClock"}),{ampm:i=r.is12HourCycleInCurrentLocale(),ampmInClock:o=!1,autoFocus:l,slots:c,slotProps:m,value:d,defaultValue:p,referenceDate:x,disableIgnoringDatePartForTimeValidation:j=!1,maxTime:_,minTime:S,disableFuture:v,disablePast:y,minutesStep:N=1,shouldDisableTime:C,showViewSwitcher:P,onChange:E,view:D,views:T=Zhe,openTo:A,onViewChange:I,focusedView:F,onFocusedViewChange:z,className:O,classes:K,disabled:W,readOnly:B,timezone:q}=n,H=rs(n,Yhe),{value:Q,handleValueChange:V,timezone:M}=cd({name:"TimeClock",timezone:q,value:d,defaultValue:p,referenceDate:x,onChange:E,valueManager:ur}),R=NS({value:Q,referenceDate:x,adapter:r,props:n,timezone:M}),$=Xr(),Y=Pu(M),J=Cn(),{ownerState:te}=Va(),{view:ee,setView:ne,previousView:he,nextView:de,setValueAndGoToNextView:ae}=Mg({view:D,views:T,openTo:A,onViewChange:I,onChange:V,focusedView:F,onFocusedViewChange:z}),{meridiemMode:xe,handleMeridiemChange:ge}=Kv(R,i,ae),le=g.useCallback((Ce,_e)=>{const Ie=Tg(j,r),et=_e==="hours"||_e==="minutes"&&T.includes("seconds"),ke=({start:be,end:Ge})=>!(S&&Ie(S,Ge)||_&&Ie(be,_)||v&&Ie(be,Y)||y&&Ie(Y,et?Ge:be)),He=(be,Ge=1)=>{if(be%Ge!==0)return!1;if(C)switch(_e){case"hours":return!C(r.setHours(R,be),"hours");case"minutes":return!C(r.setMinutes(R,be),"minutes");case"seconds":return!C(r.setSeconds(R,be),"seconds");default:return!1}return!0};switch(_e){case"hours":{const be=Ix(Ce,xe,i),Ge=r.setHours(R,be);if(r.getHours(Ge)!==be)return!0;const at=r.setSeconds(r.setMinutes(Ge,0),0),vt=r.setSeconds(r.setMinutes(Ge,59),59);return!ke({start:at,end:vt})||!He(be)}case"minutes":{const be=r.setMinutes(R,Ce),Ge=r.setSeconds(be,0),at=r.setSeconds(be,59);return!ke({start:Ge,end:at})||!He(Ce,N)}case"seconds":{const be=r.setSeconds(R,Ce);return!ke({start:be,end:be})||!He(Ce)}default:throw new Error("not supported")}},[i,R,j,_,xe,S,N,C,r,v,y,Y,T]),me=g.useMemo(()=>{switch(ee){case"hours":{const Ce=(et,ke)=>{const He=Ix(et,xe,i);ae(r.setHours(R,He),ke,"hours")},_e=r.getHours(R);let Ie;return i?_e>12?Ie=[12,23]:Ie=[0,11]:Ie=[0,23],{onChange:Ce,viewValue:_e,children:Uhe({value:Q,adapter:r,ampm:i,getClockNumberText:$.hoursClockNumberText,isDisabled:et=>W||le(et,"hours"),selectedId:J}),viewRange:Ie}}case"minutes":{const Ce=r.getMinutes(R);return{viewValue:Ce,onChange:(Ie,et)=>{ae(r.setMinutes(R,Ie),et,"minutes")},children:f8({adapter:r,value:Ce,getClockNumberText:$.minutesClockNumberText,isDisabled:Ie=>W||le(Ie,"minutes"),selectedId:J}),viewRange:[0,59]}}case"seconds":{const Ce=r.getSeconds(R);return{viewValue:Ce,onChange:(Ie,et)=>{ae(r.setSeconds(R,Ie),et,"seconds")},children:f8({adapter:r,value:Ce,getClockNumberText:$.secondsClockNumberText,isDisabled:Ie=>W||le(Ie,"seconds"),selectedId:J}),viewRange:[0,59]}}default:throw new Error("You must provide the type for ClockView")}},[ee,r,Q,i,$.hoursClockNumberText,$.minutesClockNumberText,$.secondsClockNumberText,xe,ae,R,le,J,W]),Ae=Ghe(K);return e.jsxs(Khe,je({ref:a,className:Je(Ae.root,O),ownerState:te},H,{children:[e.jsx(Lhe,je({autoFocus:l??!!F,ampmInClock:o&&T.includes("hours"),value:Q,type:ee,ampm:i,minutesStep:N,isTimeDisabled:le,meridiemMode:xe,handleMeridiemChange:ge,selectedId:J,disabled:W,readOnly:B},me)),P&&e.jsx(Qhe,{className:Ae.arrowSwitcher,slots:c,slotProps:m,onGoToPrevious:()=>ne(he),isPreviousDisabled:!he,previousLabel:$.openPreviousView,onGoToNext:()=>ne(de),isNextDisabled:!de,nextLabel:$.openNextView,ownerState:te})]}))});function Jhe(t){return Tt("MuiDigitalClock",t)}const yw=Et("MuiDigitalClock",["root","list","item"]);function Cm(t,s){return Array.isArray(s)?s.every(a=>t.indexOf(a)!==-1):t.indexOf(s)!==-1}const efe=t=>{setTimeout(t,0)},kI=(t=document)=>{const s=t.activeElement;return s?s.shadowRoot?kI(s.shadowRoot):s:null},nn=t=>kI(cr(t)),Oy=t=>Array.from(t.children).indexOf(nn(t)),_S="@media (pointer: fine)";function tfe(...t){return t.reduce((s,a)=>(Array.isArray(a)?s.push(...a):a!=null&&s.push(a),s),[])}const sfe=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],afe=t=>kt({root:["root"],list:["list"],item:["item"]},Jhe,t),rfe=Ne(Zv,{name:"MuiDigitalClock",slot:"Root"})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:_I,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),nfe=Ne(O4,{name:"MuiDigitalClock",slot:"List"})({padding:0}),ife=Ne(Z,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:t=>t!=="itemValue"&&t!=="formattedValue"})(({theme:t})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Sn(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:Sn(t.palette.primary.main,t.palette.action.focusOpacity)}})),ofe=g.forwardRef(function(s,a){const r=Ms(),n=g.useRef(null),i=Us(a,n),o=g.useRef(null),l=$s({props:s,name:"MuiDigitalClock"}),{ampm:c=r.is12HourCycleInCurrentLocale(),timeStep:m=30,autoFocus:d,slots:p,slotProps:x,value:j,defaultValue:_,referenceDate:S,disableIgnoringDatePartForTimeValidation:v=!1,maxTime:y,minTime:N,disableFuture:C,disablePast:P,minutesStep:E=1,shouldDisableTime:D,onChange:T,view:A,openTo:I,onViewChange:F,focusedView:z,onFocusedViewChange:O,className:K,classes:W,disabled:B,readOnly:q,views:H=["hours"],skipDisabled:Q=!1,timezone:V}=l,M=rs(l,sfe),{value:R,handleValueChange:$,timezone:Y}=cd({name:"DigitalClock",timezone:V,value:j,defaultValue:_,referenceDate:S,onChange:T,valueManager:ur}),J=Xr(),te=Pu(Y),{ownerState:ee}=Va(),ne=je({},ee,{hasDigitalClockAlreadyBeenRendered:!!n.current}),he=afe(W),de=p?.digitalClockItem??ife,ae=ea({elementType:de,externalSlotProps:x?.digitalClockItem,ownerState:ne,className:he.item}),xe=NS({value:R,referenceDate:S,adapter:r,props:l,timezone:Y}),ge=Ot(et=>$(et,"finish","hours")),{setValueAndGoToNextView:le}=Mg({view:A,views:H,openTo:I,onViewChange:F,onChange:ge,focusedView:z,onFocusedViewChange:O}),me=Ot(et=>{le(et,"finish")});Ia(()=>{if(n.current===null)return;const et=n.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!et)return;const ke=et.offsetTop;(d||z)&&et.focus(),n.current.scrollTop=ke-4});const Ae=g.useCallback(et=>{const ke=Tg(v,r),He=()=>!(N&&ke(N,et)||y&&ke(et,y)||C&&ke(et,te)||P&&ke(te,et)),be=()=>r.getMinutes(et)%E!==0?!1:D?!D(et,"hours"):!0;return!He()||!be()},[v,r,N,y,C,te,P,E,D]),Ce=g.useMemo(()=>{const et=[];let He=r.startOfDay(xe);for(;r.isSameDay(xe,He);)et.push(He),He=r.addMinutes(He,m);return et},[xe,m,r]),_e=Ce.findIndex(et=>r.isEqual(et,xe)),Ie=et=>{switch(et.key){case"PageUp":{const ke=Oy(o.current)-5,He=o.current.children,be=Math.max(0,ke),Ge=He[be];Ge&&Ge.focus(),et.preventDefault();break}case"PageDown":{const ke=Oy(o.current)+5,He=o.current.children,be=Math.min(He.length-1,ke),Ge=He[be];Ge&&Ge.focus(),et.preventDefault();break}}};return e.jsx(rfe,je({ref:i,className:Je(he.root,K),ownerState:ne},M,{children:e.jsx(nfe,{ref:o,role:"listbox","aria-label":J.timePickerToolbarTitle,className:he.list,onKeyDown:Ie,children:Ce.map((et,ke)=>{const He=Ae(et);if(Q&&He)return null;const be=r.isEqual(et,R),Ge=r.format(et,c?"fullTime12h":"fullTime24h"),vt=_e===ke||_e===-1&&ke===0?0:-1;return e.jsx(de,je({onClick:()=>!q&&me(et),selected:be,disabled:B||He,disableRipple:q,role:"option","aria-disabled":q,"aria-selected":be,tabIndex:vt,itemValue:et,formattedValue:Ge},ae,{children:Ge}),`${et.valueOf()}-${Ge}`)})})}))});function lfe(t){return Tt("MuiMultiSectionDigitalClock",t)}const vw=Et("MuiMultiSectionDigitalClock",["root"]);function cfe(t){return Tt("MuiMultiSectionDigitalClockSection",t)}const jw=Et("MuiMultiSectionDigitalClockSection",["root","item"]),dfe=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],ufe=t=>kt({root:["root"],item:["item"]},cfe,t),mfe=Ne(O4,{name:"MuiMultiSectionDigitalClockSection",slot:"Root"})(({theme:t})=>({maxHeight:_I,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),pfe=Ne(Z,{name:"MuiMultiSectionDigitalClockSection",slot:"Item"})(({theme:t})=>({padding:8,margin:"2px 4px",width:xf,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Sn(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:Sn(t.palette.primary.main,t.palette.action.focusOpacity)}})),hfe=g.forwardRef(function(s,a){const r=g.useRef(null),n=Us(a,r),i=g.useRef(null),o=$s({props:s,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:l,onChange:c,className:m,classes:d,disabled:p,readOnly:x,items:j,active:_,slots:S,slotProps:v,skipDisabled:y}=o,N=rs(o,dfe),{ownerState:C}=Va(),P=je({},C,{hasDigitalClockAlreadyBeenRendered:!!r.current}),E=ufe(d),D=S?.digitalClockSectionItem??pfe;Ia(()=>{if(r.current===null)return;const I=r.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(_&&l&&I&&I.focus(),!I||i.current===I)return;i.current=I;const F=I.offsetTop,z=I.offsetHeight,O=r.current.clientHeight,K=r.current.scrollHeight,W=F-O/2+z/2,B=K-O,q=Math.min(W,B);r.current.scrollTop=Math.max(0,q)});const T=j.findIndex(I=>I.isFocused(I.value)),A=I=>{switch(I.key){case"PageUp":{const F=Oy(r.current)-5,z=r.current.children,O=Math.max(0,F),K=z[O];K&&K.focus(),I.preventDefault();break}case"PageDown":{const F=Oy(r.current)+5,z=r.current.children,O=Math.min(z.length-1,F),K=z[O];K&&K.focus(),I.preventDefault();break}}};return e.jsx(mfe,je({ref:n,className:Je(E.root,m),ownerState:P,autoFocusItem:l&&_,role:"listbox",onKeyDown:A},N,{children:j.map((I,F)=>{const z=I.isDisabled?.(I.value),O=p||z;if(y&&O)return null;const K=I.isSelected(I.value),W=T===F||T===-1&&F===0?0:-1;return e.jsx(D,je({onClick:()=>!x&&c(I.value),selected:K,disabled:O,disableRipple:x,role:"option","aria-disabled":x||O||void 0,"aria-label":I.ariaLabel,"aria-selected":K,tabIndex:W,className:E.item},v?.digitalClockSectionItem,{children:I.label}),I.label)})}))}),ffe=({now:t,value:s,adapter:a,ampm:r,isDisabled:n,resolveAriaLabel:i,timeStep:o,valueOrReferenceDate:l})=>{const c=s?a.getHours(s):null,m=[],d=(j,_)=>{const S=_??c;return S===null?!1:r?j===12?S===12||S===0:S===j||S-12===j:S===j},p=j=>d(j,a.getHours(l)),x=r?11:23;for(let j=0;j<=x;j+=o){let _=a.format(a.setHours(t,j),r?"hours12h":"hours24h");const S=i(parseInt(_,10).toString());_=a.formatNumber(_),m.push({value:j,label:_,isSelected:d,isDisabled:n,isFocused:p,ariaLabel:S})}return m},x8=({value:t,adapter:s,isDisabled:a,timeStep:r,resolveLabel:n,resolveAriaLabel:i,hasValue:o=!0})=>{const l=m=>t===null?!1:o&&t===m,c=m=>t===m;return[...Array.from({length:Math.ceil(60/r)},(m,d)=>{const p=r*d;return{value:p,label:s.formatNumber(n(p)),isDisabled:a,isSelected:l,isFocused:c,ariaLabel:i(p.toString())}})]},xfe=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],gfe=t=>kt({root:["root"]},lfe,t),bfe=Ne(Zv,{name:"MuiMultiSectionDigitalClock",slot:"Root"})(({theme:t})=>({flexDirection:"row",width:"100%",borderBottom:`1px solid ${(t.vars||t).palette.divider}`})),yfe=g.forwardRef(function(s,a){const r=Ms(),n=Rr(),i=$s({props:s,name:"MuiMultiSectionDigitalClock"}),{ampm:o=r.is12HourCycleInCurrentLocale(),timeSteps:l,autoFocus:c,slots:m,slotProps:d,value:p,defaultValue:x,referenceDate:j,disableIgnoringDatePartForTimeValidation:_=!1,maxTime:S,minTime:v,disableFuture:y,disablePast:N,minutesStep:C=1,shouldDisableTime:P,onChange:E,view:D,views:T=["hours","minutes"],openTo:A,onViewChange:I,focusedView:F,onFocusedViewChange:z,className:O,classes:K,disabled:W,readOnly:B,skipDisabled:q=!1,timezone:H}=i,Q=rs(i,xfe),{value:V,handleValueChange:M,timezone:R}=cd({name:"MultiSectionDigitalClock",timezone:H,value:p,defaultValue:x,referenceDate:j,onChange:E,valueManager:ur}),$=Xr(),Y=Pu(R),J=g.useMemo(()=>je({hours:1,minutes:5,seconds:5},l),[l]),te=NS({value:V,referenceDate:j,adapter:r,props:i,timezone:R}),ee=Ot((ke,He,be)=>M(ke,He,be)),ne=g.useMemo(()=>!o||!T.includes("hours")||T.includes("meridiem")?T:[...T,"meridiem"],[o,T]),{view:he,setValueAndGoToNextView:de,focusedView:ae}=Mg({view:D,views:ne,openTo:A,onViewChange:I,onChange:ee,focusedView:F,onFocusedViewChange:z}),xe=Ot(ke=>{de(ke,"finish","meridiem")}),{meridiemMode:ge,handleMeridiemChange:le}=Kv(te,o,xe,"finish"),me=g.useCallback((ke,He)=>{const be=Tg(_,r),Ge=He==="hours"||He==="minutes"&&ne.includes("seconds"),at=({start:dt,end:ft})=>!(v&&be(v,ft)||S&&be(dt,S)||y&&be(dt,Y)||N&&be(Y,Ge?ft:dt)),vt=(dt,ft=1)=>{if(dt%ft!==0)return!1;if(P)switch(He){case"hours":return!P(r.setHours(te,dt),"hours");case"minutes":return!P(r.setMinutes(te,dt),"minutes");case"seconds":return!P(r.setSeconds(te,dt),"seconds");default:return!1}return!0};switch(He){case"hours":{const dt=Ix(ke,ge,o),ft=r.setHours(te,dt);if(r.getHours(ft)!==dt)return!0;const Mt=r.setSeconds(r.setMinutes(ft,0),0),ye=r.setSeconds(r.setMinutes(ft,59),59);return!at({start:Mt,end:ye})||!vt(dt)}case"minutes":{const dt=r.setMinutes(te,ke),ft=r.setSeconds(dt,0),Mt=r.setSeconds(dt,59);return!at({start:ft,end:Mt})||!vt(ke,C)}case"seconds":{const dt=r.setSeconds(te,ke);return!at({start:dt,end:dt})||!vt(ke)}default:throw new Error("not supported")}},[o,te,_,S,ge,v,C,P,r,y,N,Y,ne]),Ae=g.useCallback(ke=>{switch(ke){case"hours":return{onChange:He=>{const be=Ix(He,ge,o);de(r.setHours(te,be),"finish","hours")},items:ffe({now:Y,value:V,ampm:o,adapter:r,isDisabled:He=>me(He,"hours"),timeStep:J.hours,resolveAriaLabel:$.hoursClockNumberText,valueOrReferenceDate:te})};case"minutes":return{onChange:He=>{de(r.setMinutes(te,He),"finish","minutes")},items:x8({value:r.getMinutes(te),adapter:r,isDisabled:He=>me(He,"minutes"),resolveLabel:He=>r.format(r.setMinutes(Y,He),"minutes"),timeStep:J.minutes,hasValue:!!V,resolveAriaLabel:$.minutesClockNumberText})};case"seconds":return{onChange:He=>{de(r.setSeconds(te,He),"finish","seconds")},items:x8({value:r.getSeconds(te),adapter:r,isDisabled:He=>me(He,"seconds"),resolveLabel:He=>r.format(r.setSeconds(Y,He),"seconds"),timeStep:J.seconds,hasValue:!!V,resolveAriaLabel:$.secondsClockNumberText})};case"meridiem":{const He=xo(r,"am"),be=xo(r,"pm");return{onChange:le,items:[{value:"am",label:He,isSelected:()=>!!V&&ge==="am",isFocused:()=>!!te&&ge==="am",ariaLabel:He},{value:"pm",label:be,isSelected:()=>!!V&&ge==="pm",isFocused:()=>!!te&&ge==="pm",ariaLabel:be}]}}default:throw new Error(`Unknown view: ${ke} found.`)}},[Y,V,o,r,J.hours,J.minutes,J.seconds,$.hoursClockNumberText,$.minutesClockNumberText,$.secondsClockNumberText,ge,de,te,me,le]),Ce=g.useMemo(()=>{if(!n)return ne;const ke=ne.filter(He=>He!=="meridiem");return ke.reverse(),ne.includes("meridiem")&&ke.push("meridiem"),ke},[n,ne]),_e=g.useMemo(()=>ne.reduce((ke,He)=>je({},ke,{[He]:Ae(He)}),{}),[ne,Ae]),{ownerState:Ie}=Va(),et=gfe(K);return e.jsx(bfe,je({ref:a,className:Je(et.root,O),ownerState:Ie,role:"group"},Q,{children:Ce.map(ke=>e.jsx(hfe,{items:_e[ke].items,onChange:_e[ke].onChange,active:he===ke,autoFocus:c||ae===ke,disabled:W,readOnly:B,slots:m,slotProps:d,skipDisabled:q,"aria-label":$.selectViewText(ke)},ke))}))});function vfe(t){return Tt("MuiPickersDay",t)}const Dd=Et("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function EI(t){const{disabled:s,selected:a,today:r,outsideCurrentMonth:n,day:i,disableMargin:o,disableHighlightToday:l,showDaysOutsideCurrentMonth:c}=t,m=Ms(),{ownerState:d}=Va();return g.useMemo(()=>je({},d,{day:i,isDaySelected:a??!1,isDayDisabled:s??!1,isDayCurrent:r??!1,isDayOutsideMonth:n??!1,isDayStartOfWeek:m.isSameDay(i,m.startOfWeek(i)),isDayEndOfWeek:m.isSameDay(i,m.endOfWeek(i)),disableMargin:o??!1,disableHighlightToday:l??!1,showDaysOutsideCurrentMonth:c??!1}),[m,d,i,a,s,r,n,o,l,c])}const jfe=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],Nfe=(t,s)=>{const{isDaySelected:a,isDayDisabled:r,isDayCurrent:n,isDayOutsideMonth:i,disableMargin:o,disableHighlightToday:l,showDaysOutsideCurrentMonth:c}=s,m=i&&!c;return kt({root:["root",a&&!m&&"selected",r&&"disabled",!o&&"dayWithMargin",!l&&n&&"today",i&&c&&"dayOutsideMonth",m&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},vfe,t)},TI=({theme:t})=>je({},t.typography.caption,{width:Ox,height:Ox,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Sn(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:Sn(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${Dd.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Dd.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Dd.disabled}:not(.${Dd.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${Dd.disabled}&.${Dd.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Qv}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${Dd.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}}]}),MI=(t,s)=>{const{ownerState:a}=t;return[s.root,!a.disableMargin&&s.dayWithMargin,!a.disableHighlightToday&&a.isDayCurrent&&s.today,!a.isDayOutsideMonth&&a.showDaysOutsideCurrentMonth&&s.dayOutsideMonth,a.isDayOutsideMonth&&!a.showDaysOutsideCurrentMonth&&s.hiddenDaySpacingFiller]},_fe=Ne(eo,{name:"MuiPickersDay",slot:"Root",overridesResolver:MI})(TI),wfe=Ne("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:MI})(({theme:t})=>je({},TI({theme:t}),{opacity:0,pointerEvents:"none"})),Qh=()=>{},Sfe=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiPickersDay"}),{autoFocus:n=!1,className:i,classes:o,isAnimating:l,onClick:c,onDaySelect:m,onFocus:d=Qh,onBlur:p=Qh,onKeyDown:x=Qh,onMouseDown:j=Qh,onMouseEnter:_=Qh,children:S,day:v,selected:y,disabled:N,today:C,outsideCurrentMonth:P,disableMargin:E,disableHighlightToday:D,showDaysOutsideCurrentMonth:T}=r,A=rs(r,jfe),I=EI({day:v,selected:y,disabled:N,today:C,outsideCurrentMonth:P,disableMargin:E,disableHighlightToday:D,showDaysOutsideCurrentMonth:T}),F=Nfe(o,I),z=Ms(),O=g.useRef(null),K=Us(O,a);Ia(()=>{n&&!N&&!l&&!P&&O.current.focus()},[n,N,l,P]);const W=q=>{j(q),P&&q.preventDefault()},B=q=>{q.defaultMuiPrevented=!0,N||m(v),P&&q.currentTarget.focus(),c&&c(q)};return P&&!T?e.jsx(wfe,{className:Je(F.root,F.hiddenDaySpacingFiller,i),ownerState:I,role:A.role}):e.jsx(_fe,je({className:Je(F.root,i),ref:K,centerRipple:!0,disabled:N,tabIndex:y?0:-1,onKeyDown:q=>x(q,v),onFocus:q=>d(q,v),onBlur:q=>p(q,v),onMouseEnter:q=>_(q,v),onClick:B,onMouseDown:W},A,{ownerState:I,children:S??z.format(v,"dayOfMonth")}))}),Cfe=g.memo(Sfe),bm=t=>t.saveQuery!=null,DI=({stateResponse:{localizedDigits:t,sectionsValueBoundaries:s,state:a,timezone:r,setCharacterQuery:n,setTempAndroidValueStr:i,updateSectionValue:o}})=>{const l=Ms(),c=({keyPressed:p,sectionIndex:x},j,_)=>{const S=p.toLowerCase(),v=a.sections[x];if(a.characterQuery!=null&&(!_||_(a.characterQuery.value))&&a.characterQuery.sectionIndex===x){const N=`${a.characterQuery.value}${S}`,C=j(N,v);if(!bm(C))return n({sectionIndex:x,value:N,sectionType:v.type}),C}const y=j(S,v);return bm(y)&&!y.saveQuery?(n(null),null):(n({sectionIndex:x,value:S,sectionType:v.type}),bm(y)?null:y)},m=p=>{const x=(S,v,y)=>{const N=v.filter(C=>C.toLowerCase().startsWith(y));return N.length===0?{saveQuery:!1}:{sectionValue:N[0],shouldGoToNextSection:N.length===1}},j=(S,v,y,N)=>{const C=P=>cI(l,r,v.type,P);if(v.contentType==="letter")return x(v.format,C(v.format),S);if(y&&N!=null&&lI(l,y).contentType==="letter"){const P=C(y),E=x(y,P,S);return bm(E)?{saveQuery:!1}:je({},E,{sectionValue:N(E.sectionValue,P)})}return{saveQuery:!1}};return c(p,(S,v)=>{switch(v.type){case"month":{const y=N=>l8(l,N,l.formats.month,v.format);return j(S,v,l.formats.month,y)}case"weekDay":{const y=(N,C)=>C.indexOf(N).toString();return j(S,v,l.formats.weekday,y)}case"meridiem":return j(S,v);default:return{saveQuery:!1}}})},d=p=>{const x=({queryValue:_,skipIfBelowMinimum:S,section:v})=>{const y=fu(_,t),N=Number(y),C=s[v.type]({currentDate:null,format:v.format,contentType:v.contentType});if(N>C.maximum)return{saveQuery:!1};if(S&&N<C.minimum)return{saveQuery:!0};const P=N*10>C.maximum||y.length===C.maximum.toString().length;return{sectionValue:dI(l,N,C,t,v),shouldGoToNextSection:P}};return c(p,(_,S)=>{if(S.contentType==="digit"||S.contentType==="digit-with-letter")return x({queryValue:_,skipIfBelowMinimum:!1,section:S});if(S.type==="month"){uI(l,"digit","month","MM");const v=x({queryValue:_,skipIfBelowMinimum:!0,section:{type:S.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2}});if(bm(v))return v;const y=l8(l,v.sectionValue,"MM",S.format);return je({},v,{sectionValue:y})}if(S.type==="weekDay"){const v=x({queryValue:_,skipIfBelowMinimum:!0,section:S});if(bm(v))return v;const y=Gv(l,S.format)[Number(v.sectionValue)-1];return je({},v,{sectionValue:y})}return{saveQuery:!1}},_=>o8(_,t))};return Ot(p=>{const x=a.sections[p.sectionIndex],_=o8(p.keyPressed,t)?d(je({},p,{keyPressed:xS(p.keyPressed,t)})):m(p);if(_==null){i(null);return}o({section:x,newSectionValue:_.sectionValue,shouldGoToNextSection:_.shouldGoToNextSection})})},Ap=({props:t,value:s,timezone:a,adapter:r})=>{if(s===null)return null;const{shouldDisableDate:n,shouldDisableMonth:i,shouldDisableYear:o,disablePast:l,disableFuture:c,minDate:m,maxDate:d}=t,p=r.date(void 0,a);switch(!0){case!r.isValid(s):return"invalidDate";case!!(n&&n(s)):return"shouldDisableDate";case!!(i&&i(s)):return"shouldDisableMonth";case!!(o&&o(s)):return"shouldDisableYear";case!!(c&&r.isAfterDay(s,p)):return"disableFuture";case!!(l&&r.isBeforeDay(s,p)):return"disablePast";case!!(m&&r.isBeforeDay(s,m)):return"minDate";case!!(d&&r.isAfterDay(s,d)):return"maxDate";default:return null}};Ap.valueManager=ur;const Dg=({adapter:t,value:s,timezone:a,props:r})=>{if(s===null)return null;const{minTime:n,maxTime:i,minutesStep:o,shouldDisableTime:l,disableIgnoringDatePartForTimeValidation:c=!1,disablePast:m,disableFuture:d}=r,p=t.date(void 0,a),x=Tg(c,t);switch(!0){case!t.isValid(s):return"invalidDate";case!!(n&&x(n,s)):return"minTime";case!!(i&&x(s,i)):return"maxTime";case!!(d&&t.isAfter(s,p)):return"disableFuture";case!!(m&&t.isBefore(s,p)):return"disablePast";case!!(l&&l(s,"hours")):return"shouldDisableTime-hours";case!!(l&&l(s,"minutes")):return"shouldDisableTime-minutes";case!!(l&&l(s,"seconds")):return"shouldDisableTime-seconds";case!!(o&&t.getMinutes(s)%o!==0):return"minutesStep";default:return null}};Dg.valueManager=ur;const Xv=({adapter:t,value:s,timezone:a,props:r})=>{const n=Ap({adapter:t,value:s,timezone:a,props:r});return n!==null?n:Dg({adapter:t,value:s,timezone:a,props:r})};Xv.valueManager=ur;function RI(t){const{props:s,validator:a,value:r,timezone:n,onError:i}=t,o=Ms(),l=g.useRef(a.valueManager.defaultErrorState),c=a({adapter:o,value:r,timezone:n,props:s}),m=a.valueManager.hasError(c);g.useEffect(()=>{i&&!a.valueManager.isSameError(c,l.current)&&i(c,r),l.current=c},[a,i,c,r]);const d=Ot(p=>a({adapter:o,value:p,timezone:n,props:s}));return{validationError:c,hasValidationError:m,getValidationErrorForNewValue:d}}const Pfe=5e3,AI=t=>{const s=Ms(),a=Xr(),r=Rr(),{manager:{validator:n,valueType:i,internal_valueManager:o,internal_fieldValueManager:l},internalPropsWithDefaults:c,internalPropsWithDefaults:{value:m,defaultValue:d,referenceDate:p,onChange:x,format:j,formatDensity:_="dense",selectedSections:S,onSelectedSectionsChange:v,shouldRespectLeadingZeros:y=!1,timezone:N,enableAccessibleFieldDOMStructure:C=!0},forwardedProps:{error:P}}=t,{value:E,handleValueChange:D,timezone:T}=cd({name:"a field component",timezone:N,value:m,defaultValue:d,referenceDate:p,onChange:x,valueManager:o}),A=g.useRef(E);g.useEffect(()=>{A.current=E},[E]);const{hasValidationError:I}=RI({props:c,validator:n,timezone:T,value:E,onError:c.onError}),F=g.useMemo(()=>P!==void 0?P:I,[I,P]),z=g.useMemo(()=>Rpe(s),[s]),O=g.useMemo(()=>Lpe(s,z,T),[s,z,T]),K=g.useCallback(Ce=>l.getSectionsFromValue(Ce,_e=>u8({adapter:s,localeText:a,localizedDigits:z,format:j,date:_e,formatDensity:_,shouldRespectLeadingZeros:y,enableAccessibleFieldDOMStructure:C,isRtl:r})),[l,j,a,z,r,y,s,_,C]),[W,B]=g.useState(()=>{const Ce=K(E),_e={sections:Ce,lastExternalValue:E,lastSectionsDependencies:{format:j,isRtl:r,locale:s.locale},tempValueStrAndroid:null,characterQuery:null},Ie=Vhe(Ce),et=o.getInitialReferenceValue({referenceDate:p,value:E,adapter:s,props:c,granularity:Ie,timezone:T});return je({},_e,{referenceValue:et})}),[q,H]=_n({controlled:S,default:null,name:"useField",state:"selectedSections"}),Q=Ce=>{H(Ce),v?.(Ce)},V=g.useMemo(()=>bw(q,W.sections),[q,W.sections]),M=V==="all"?0:V,R=g.useMemo(()=>qpe(W.sections,r&&!C),[W.sections,r,C]),$=g.useMemo(()=>W.sections.every(Ce=>Ce.value===""),[W.sections]),Y=Ce=>{const _e={validationError:n({adapter:s,value:Ce,timezone:T,props:c})};D(Ce,_e)},J=(Ce,_e)=>{const Ie=[...W.sections];return Ie[Ce]=je({},Ie[Ce],{value:_e,modified:!0}),Ie},te=g.useRef(null),ee=ci(),ne=Ce=>{M!=null&&(te.current={sectionIndex:M,value:Ce},ee.start(0,()=>{te.current=null}))},he=()=>{o.areValuesEqual(s,E,o.emptyValue)?B(Ce=>je({},Ce,{sections:Ce.sections.map(_e=>je({},_e,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(B(Ce=>je({},Ce,{characterQuery:null})),Y(o.emptyValue))},de=()=>{if(M==null)return;const Ce=W.sections[M];Ce.value!==""&&(ne(""),l.getDateFromSection(E,Ce)===null?B(_e=>je({},_e,{sections:J(M,""),tempValueStrAndroid:null,characterQuery:null})):(B(_e=>je({},_e,{characterQuery:null})),Y(l.updateDateInValue(E,Ce,null))))},ae=Ce=>{const _e=(et,ke)=>{const He=s.parse(et,j);if(!s.isValid(He))return null;const be=u8({adapter:s,localeText:a,localizedDigits:z,format:j,date:He,formatDensity:_,shouldRespectLeadingZeros:y,enableAccessibleFieldDOMStructure:C,isRtl:r});return d8(s,He,be,ke,!1)},Ie=l.parseValueStr(Ce,W.referenceValue,_e);Y(Ie)},xe=ci(),ge=({section:Ce,newSectionValue:_e,shouldGoToNextSection:Ie})=>{ee.clear(),xe.clear();const et=l.getDateFromSection(E,Ce);Ie&&M<W.sections.length-1&&Q(M+1);const ke=J(M,_e),He=l.getDateSectionsFromValue(ke,Ce),be=Ipe(s,He,z);if(s.isValid(be)){const Ge=d8(s,be,He,l.getDateFromSection(W.referenceValue,Ce),!0);return et==null&&xe.start(0,()=>{A.current===E&&B(at=>je({},at,{sections:l.clearDateSections(W.sections,Ce),tempValueStrAndroid:null}))}),Y(l.updateDateInValue(E,Ce,Ge))}return He.every(Ge=>Ge.value!=="")&&(et==null||s.isValid(et))?(ne(_e),Y(l.updateDateInValue(E,Ce,be))):et!=null?(ne(_e),Y(l.updateDateInValue(E,Ce,null))):B(Ge=>je({},Ge,{sections:ke,tempValueStrAndroid:null}))},le=Ce=>B(_e=>je({},_e,{tempValueStrAndroid:Ce})),me=Ot(Ce=>{B(_e=>je({},_e,{characterQuery:Ce}))});if(E!==W.lastExternalValue){const Ce=te.current!=null&&!s.isValid(l.getDateFromSection(E,W.sections[te.current.sectionIndex]));let _e;Ce?_e=J(te.current.sectionIndex,te.current.value):_e=K(E),B(Ie=>je({},Ie,{lastExternalValue:E,sections:_e,sectionsDependencies:{format:j,isRtl:r,locale:s.locale},referenceValue:Ce?Ie.referenceValue:l.updateReferenceValue(s,E,Ie.referenceValue),tempValueStrAndroid:null}))}if(r!==W.lastSectionsDependencies.isRtl||j!==W.lastSectionsDependencies.format||s.locale!==W.lastSectionsDependencies.locale){const Ce=K(E);B(_e=>je({},_e,{lastSectionsDependencies:{format:j,isRtl:r,locale:s.locale},sections:Ce,tempValueStrAndroid:null,characterQuery:null}))}W.characterQuery!=null&&!F&&M==null&&me(null),W.characterQuery!=null&&W.sections[W.characterQuery.sectionIndex]?.type!==W.characterQuery.sectionType&&me(null),g.useEffect(()=>{te.current!=null&&(te.current=null)});const Ae=ci();return g.useEffect(()=>(W.characterQuery!=null&&Ae.start(Pfe,()=>me(null)),()=>{}),[W.characterQuery,me,Ae]),g.useEffect(()=>{W.tempValueStrAndroid!=null&&M!=null&&de()},[W.sections]),{activeSectionIndex:M,areAllSectionsEmpty:$,error:F,localizedDigits:z,parsedSelectedSections:V,sectionOrder:R,sectionsValueBoundaries:O,state:W,timezone:T,value:E,clearValue:he,clearActiveSection:de,setCharacterQuery:me,setSelectedSections:Q,setTempAndroidValueStr:le,updateSectionValue:ge,updateValueFromValueStr:ae,getSectionsFromValue:K}};function II(t){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:s},internalProps:a,skipContextFieldRefAssignment:r}=t,n=vS(),i=hI(),o=Us(a.unstableFieldRef,r?null:i?.fieldRef),l=n?.setValue,c=g.useCallback((d,p)=>l?.(d,{validationError:p.validationError,shouldClose:!1}),[l]),m=g.useMemo(()=>i!=null&&n!=null?je({value:n.value,onChange:c,timezone:n.timezone,disabled:n.disabled,readOnly:n.readOnly,autoFocus:n.autoFocus&&!n.open,focused:n.open?!0:void 0,format:n.fieldFormat,formatDensity:i.formatDensity,enableAccessibleFieldDOMStructure:i.enableAccessibleFieldDOMStructure,selectedSections:i.selectedSections,onSelectedSectionsChange:i.onSelectedSectionsChange,unstableFieldRef:o},a):a,[n,i,a,c,o]);return s(m)}function wS(t){const{focused:s,domGetters:a,stateResponse:{parsedSelectedSections:r,state:n}}=t;if(!a.isReady())return;const i=cr(a.getRoot()).getSelection();if(!i)return;if(r==null){i.rangeCount>0&&i.getRangeAt(0).startContainer instanceof Node&&a.getRoot().contains(i.getRangeAt(0).startContainer)&&i.removeAllRanges(),s&&a.getRoot().blur();return}if(!a.getRoot().contains(nn(a.getRoot())))return;const o=new window.Range;let l;r==="all"?l=a.getRoot():n.sections[r].type==="empty"?l=a.getSectionContainer(r):l=a.getSectionContent(r),o.selectNodeContents(l),l.focus(),i.removeAllRanges(),i.addRange(o)}function OI(t){const s=Ms(),{manager:{internal_fieldValueManager:a},internalPropsWithDefaults:{minutesStep:r,disabled:n,readOnly:i},stateResponse:{state:o,value:l,activeSectionIndex:c,parsedSelectedSections:m,sectionsValueBoundaries:d,localizedDigits:p,timezone:x,sectionOrder:j,clearValue:_,clearActiveSection:S,setSelectedSections:v,updateSectionValue:y}}=t;return Ot(N=>{if(!n)switch(!0){case((N.ctrlKey||N.metaKey)&&String.fromCharCode(N.keyCode)==="A"&&!N.shiftKey&&!N.altKey):{N.preventDefault(),v("all");break}case N.key==="ArrowRight":{if(N.preventDefault(),m==null)v(j.startIndex);else if(m==="all")v(j.endIndex);else{const C=j.neighbors[m].rightIndex;C!==null&&v(C)}break}case N.key==="ArrowLeft":{if(N.preventDefault(),m==null)v(j.endIndex);else if(m==="all")v(j.startIndex);else{const C=j.neighbors[m].leftIndex;C!==null&&v(C)}break}case N.key==="Delete":{if(N.preventDefault(),i)break;m==null||m==="all"?_():S();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(N.key):{if(N.preventDefault(),i||c==null)break;m==="all"&&v(c);const C=o.sections[c],P=Efe(s,x,C,N.key,d,p,a.getDateFromSection(l,C),{minutesStep:r});y({section:C,newSectionValue:P,shouldGoToNextSection:!1});break}}})}function kfe(t){switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function Efe(t,s,a,r,n,i,o,l){const c=kfe(r),m=r==="Home",d=r==="End",p=a.value===""||m||d,x=()=>{const _=n[a.type]({currentDate:o,format:a.format,contentType:a.contentType}),S=N=>dI(t,N,_,i,a),v=a.type==="minutes"&&l?.minutesStep?l.minutesStep:1;let y;if(p){if(a.type==="year"&&!d&&!m)return t.formatByString(t.date(void 0,s),a.format);c>0||m?y=_.minimum:y=_.maximum}else y=parseInt(fu(a.value,i),10)+c*v;return y%v!==0&&((c<0||m)&&(y+=v-(v+y)%v),(c>0||d)&&(y-=y%v)),y>_.maximum?S(_.minimum+(y-_.maximum-1)%(_.maximum-_.minimum+1)):y<_.minimum?S(_.maximum-(_.minimum-y-1)%(_.maximum-_.minimum+1)):S(y)},j=()=>{const _=cI(t,s,a.type,a.format);if(_.length===0)return a.value;if(p)return c>0||m?_[0]:_[_.length-1];const y=((_.indexOf(a.value)+c)%_.length+_.length)%_.length;return _[y]};return a.contentType==="digit"||a.contentType==="digit-with-letter"?x():j()}function Tfe(t){const{manager:s,focused:a,setFocused:r,domGetters:n,stateResponse:i,applyCharacterEditing:o,internalPropsWithDefaults:l,stateResponse:{parsedSelectedSections:c,sectionOrder:m,state:d,clearValue:p,setCharacterQuery:x,setSelectedSections:j,updateValueFromValueStr:_},internalPropsWithDefaults:{disabled:S=!1,readOnly:v=!1}}=t,y=OI({manager:s,internalPropsWithDefaults:l,stateResponse:i}),N=ci(),C=Ot(A=>{S||!n.isReady()||(r(!0),c==="all"?N.start(0,()=>{const I=document.getSelection().getRangeAt(0).startOffset;if(I===0){j(m.startIndex);return}let F=0,z=0;for(;z<I&&F<d.sections.length;){const O=d.sections[F];F+=1,z+=`${O.startSeparator}${O.value||O.placeholder}${O.endSeparator}`.length}j(F-1)}):a?n.getRoot().contains(A.target)||j(m.startIndex):(r(!0),j(m.startIndex)))}),P=Ot(A=>{if(!n.isReady()||c!=="all")return;const F=A.target.textContent??"";n.getRoot().innerHTML=d.sections.map(z=>`${z.startSeparator}${z.value||z.placeholder}${z.endSeparator}`).join(""),wS({focused:a,domGetters:n,stateResponse:i}),F.length===0||F.charCodeAt(0)===10?(p(),j("all")):F.length>1?_(F):(c==="all"&&j(0),o({keyPressed:F,sectionIndex:0}))}),E=Ot(A=>{if(v||c!=="all"){A.preventDefault();return}const I=A.clipboardData.getData("text");A.preventDefault(),x(null),_(I)}),D=Ot(()=>{if(a||S||!n.isReady())return;const A=nn(n.getRoot());r(!0),n.getSectionIndexFromDOMElement(A)!=null||j(m.startIndex)}),T=Ot(()=>{setTimeout(()=>{if(!n.isReady())return;const A=nn(n.getRoot());!n.getRoot().contains(A)&&(r(!1),j(null))})});return{onKeyDown:y,onBlur:T,onFocus:D,onClick:C,onPaste:E,onInput:P,contentEditable:c==="all",tabIndex:l.disabled||c===0?-1:0}}function Mfe(t){const{manager:{internal_fieldValueManager:s},stateResponse:{areAllSectionsEmpty:a,state:r,updateValueFromValueStr:n}}=t,i=Ot(l=>{n(l.target.value)});return{value:g.useMemo(()=>a?"":s.getV7HiddenInputValueFromSections(r.sections),[a,r.sections,s]),onChange:i}}function Dfe(t){const{stateResponse:{setSelectedSections:s},internalPropsWithDefaults:{disabled:a=!1}}=t,r=g.useCallback(n=>i=>{a||i.isDefaultPrevented()||s(n)},[a,s]);return g.useCallback(n=>({"data-sectionindex":n,onClick:r(n)}),[r])}function Rfe(t){const s=Ms(),a=Xr(),{focused:r,domGetters:n,stateResponse:i,applyCharacterEditing:o,manager:{internal_fieldValueManager:l},stateResponse:{parsedSelectedSections:c,sectionsValueBoundaries:m,state:d,value:p,clearActiveSection:x,setCharacterQuery:j,setSelectedSections:_,updateSectionValue:S,updateValueFromValueStr:v},internalPropsWithDefaults:{disabled:y=!1,readOnly:N=!1}}=t,C=c==="all",P=!C&&!y&&!N,E=Ot(z=>{if(!n.isReady())return;const O=d.sections[z];n.getSectionContent(z).innerHTML=O.value||O.placeholder,wS({focused:r,domGetters:n,stateResponse:i})}),D=Ot(z=>{if(!n.isReady())return;const O=z.target,K=O.textContent??"",W=n.getSectionIndexFromDOMElement(O),B=d.sections[W];if(N){E(W);return}if(K.length===0){if(B.value===""){E(W);return}const q=z.nativeEvent.inputType;if(q==="insertParagraph"||q==="insertLineBreak"){E(W);return}E(W),x();return}o({keyPressed:K,sectionIndex:W}),E(W)}),T=Ot(z=>{z.preventDefault()}),A=Ot(z=>{if(z.preventDefault(),N||y||typeof c!="number")return;const O=d.sections[c],K=z.clipboardData.getData("text"),W=/^[a-zA-Z]+$/.test(K),B=/^[0-9]+$/.test(K),q=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(K);O.contentType==="letter"&&W||O.contentType==="digit"&&B||O.contentType==="digit-with-letter"&&q?(j(null),S({section:O,newSectionValue:K,shouldGoToNextSection:!0})):!W&&!B&&(j(null),v(K))}),I=Ot(z=>{z.preventDefault(),z.dataTransfer.dropEffect="none"}),F=g.useCallback(z=>()=>{y||_(z)},[y,_]);return g.useCallback((z,O)=>{const K=m[z.type]({currentDate:l.getDateFromSection(p,z),contentType:z.contentType,format:z.format});return{onInput:D,onPaste:A,onMouseUp:T,onDragOver:I,onFocus:F(O),"aria-readonly":N,"aria-valuenow":Ife(z,s),"aria-valuemin":K.minimum,"aria-valuemax":K.maximum,"aria-valuetext":z.value?Afe(z,s):a.empty,"aria-label":a[z.type],"aria-disabled":y,tabIndex:!P||C||O>0?-1:0,contentEditable:!C&&!y&&!N,role:"spinbutton","data-range-position":z.dateName||void 0,spellCheck:P?!1:void 0,autoCapitalize:P?"none":void 0,autoCorrect:P?"off":void 0,children:z.value||z.placeholder,inputMode:z.contentType==="letter"?"text":"numeric"}},[m,C,y,N,P,a,s,D,A,T,I,F,l,p])}function Afe(t,s){if(t.value)switch(t.type){case"month":{if(t.contentType==="digit"){const r=s.setMonth(s.date(),Number(t.value)-1);return s.isValid(r)?s.format(r,"month"):""}const a=s.parse(t.value,t.format);return a&&s.isValid(a)?s.format(a,"month"):void 0}case"day":if(t.contentType==="digit"){const a=s.setDate(s.startOfYear(s.date()),Number(t.value));return s.isValid(a)?s.format(a,"dayOfMonthFull"):""}return t.value;case"weekDay":return;default:return}}function Ife(t,s){if(t.value)switch(t.type){case"weekDay":return t.contentType==="letter"?void 0:Number(t.value);case"meridiem":{const a=s.parse(`01:00 ${t.value}`,`${s.formats.hours12h}:${s.formats.minutes} ${t.format}`);return a?s.getHours(a)>=12?1:0:void 0}case"day":return t.contentType==="digit-with-letter"?parseInt(t.value,10):Number(t.value);case"month":{if(t.contentType==="digit")return Number(t.value);const a=s.parse(t.value,t.format);return a?s.getMonth(a)+1:void 0}default:return t.contentType!=="letter"?Number(t.value):void 0}}const Ofe=t=>{const{props:s,manager:a,skipContextFieldRefAssignment:r,manager:{valueType:n,internal_useOpenPickerButtonAriaLabel:i}}=t,{internalProps:o,forwardedProps:l}=iI(s,n),c=II({manager:a,internalProps:o,skipContextFieldRefAssignment:r}),{sectionListRef:m,onBlur:d,onClick:p,onFocus:x,onInput:j,onPaste:_,onKeyDown:S,onClear:v,clearable:y}=l,{disabled:N=!1,readOnly:C=!1,autoFocus:P=!1,focused:E,unstableFieldRef:D}=c,T=g.useRef(null),A=Us(m,T),I=g.useMemo(()=>({isReady:()=>T.current!=null,getRoot:()=>T.current.getRoot(),getSectionContainer:Ce=>T.current.getSectionContainer(Ce),getSectionContent:Ce=>T.current.getSectionContent(Ce),getSectionIndexFromDOMElement:Ce=>T.current.getSectionIndexFromDOMElement(Ce)}),[T]),F=AI({manager:a,internalPropsWithDefaults:c,forwardedProps:l}),{areAllSectionsEmpty:z,error:O,parsedSelectedSections:K,sectionOrder:W,state:B,value:q,clearValue:H,setSelectedSections:Q}=F,V=DI({stateResponse:F}),M=i(q),[R,$]=g.useState(!1);function Y(Ce=0){if(N||!T.current||g8(T)!=null)return;const _e=bw(Ce,B.sections);$(!0),T.current.getSectionContent(_e).focus()}const J=Tfe({manager:a,internalPropsWithDefaults:c,stateResponse:F,applyCharacterEditing:V,focused:R,setFocused:$,domGetters:I}),te=Mfe({manager:a,stateResponse:F}),ee=Dfe({stateResponse:F,internalPropsWithDefaults:c}),ne=Rfe({manager:a,stateResponse:F,applyCharacterEditing:V,internalPropsWithDefaults:c,domGetters:I,focused:R}),he=Ot(Ce=>{S?.(Ce),J.onKeyDown(Ce)}),de=Ot(Ce=>{d?.(Ce),J.onBlur(Ce)}),ae=Ot(Ce=>{x?.(Ce),J.onFocus(Ce)}),xe=Ot(Ce=>{Ce.isDefaultPrevented()||(p?.(Ce),J.onClick(Ce))}),ge=Ot(Ce=>{_?.(Ce),J.onPaste(Ce)}),le=Ot(Ce=>{j?.(Ce),J.onInput(Ce)}),me=Ot((Ce,..._e)=>{Ce.preventDefault(),v?.(Ce,..._e),H(),b8(T)?Q(W.startIndex):Y(0)}),Ae=g.useMemo(()=>B.sections.map((Ce,_e)=>{const Ie=ne(Ce,_e);return{container:ee(_e),content:ne(Ce,_e),before:{children:Ce.startSeparator},after:{children:Ce.endSeparator,"data-range-position":Ce.isEndFormatSeparator?Ie["data-range-position"]:void 0}}}),[B.sections,ee,ne]);return g.useEffect(()=>{if(T.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));P&&!N&&T.current&&T.current.getSectionContent(W.startIndex).focus()},[]),Ia(()=>{if(!(!R||!T.current)){if(K==="all")T.current.getRoot().focus();else if(typeof K=="number"){const Ce=T.current.getSectionContent(K);Ce&&Ce.focus()}}},[K,R]),Ia(()=>{wS({focused:R,domGetters:I,stateResponse:F})}),g.useImperativeHandle(D,()=>({getSections:()=>B.sections,getActiveSectionIndex:()=>g8(T),setSelectedSections:Ce=>{if(N||!T.current)return;const _e=bw(Ce,B.sections);$((_e==="all"?0:_e)!==null),Q(Ce)},focusField:Y,isFieldFocused:()=>b8(T)})),je({},l,J,{onBlur:de,onClick:xe,onFocus:ae,onInput:le,onPaste:ge,onKeyDown:he,onClear:me},te,{error:O,clearable:!!(y&&!z&&!C&&!N),focused:E??R,sectionListRef:A,enableAccessibleFieldDOMStructure:!0,elements:Ae,areAllSectionsEmpty:z,disabled:N,readOnly:C,autoFocus:P,openPickerAriaLabel:M})};function g8(t){const s=nn(t.current?.getRoot());return!s||!t.current||!t.current.getRoot().contains(s)?null:t.current.getSectionIndexFromDOMElement(s)}function b8(t){const s=nn(t.current?.getRoot());return!!t.current&&t.current.getRoot().contains(s)}const Dm=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),Ffe=(t,s,a)=>{let r=0,n=a?1:0;const i=[];for(let o=0;o<t.length;o+=1){const l=t[o],c=bS(l,a?"input-rtl":"input-ltr",s),m=`${l.startSeparator}${c}${l.endSeparator}`,d=Dm(m).length,p=m.length,x=Dm(c),j=n+(x===""?0:c.indexOf(x[0]))+l.startSeparator.length,_=j+x.length;i.push(je({},l,{start:r,end:r+d,startInInput:j,endInInput:_})),r+=d,n+=p}return i},Lfe=t=>{const s=Rr(),a=ci(),r=ci(),{props:n,manager:i,skipContextFieldRefAssignment:o,manager:{valueType:l,internal_valueManager:c,internal_fieldValueManager:m,internal_useOpenPickerButtonAriaLabel:d}}=t,{internalProps:p,forwardedProps:x}=iI(n,l),j=II({manager:i,internalProps:p,skipContextFieldRefAssignment:o}),{onFocus:_,onClick:S,onPaste:v,onBlur:y,onKeyDown:N,onClear:C,clearable:P,inputRef:E,placeholder:D}=x,{readOnly:T=!1,disabled:A=!1,autoFocus:I=!1,focused:F,unstableFieldRef:z}=j,O=g.useRef(null),K=Us(E,O),W=AI({manager:i,internalPropsWithDefaults:j,forwardedProps:x}),{activeSectionIndex:B,areAllSectionsEmpty:q,error:H,localizedDigits:Q,parsedSelectedSections:V,sectionOrder:M,state:R,value:$,clearValue:Y,clearActiveSection:J,setCharacterQuery:te,setSelectedSections:ee,setTempAndroidValueStr:ne,updateSectionValue:he,updateValueFromValueStr:de,getSectionsFromValue:ae}=W,xe=DI({stateResponse:W}),ge=d($),le=g.useMemo(()=>Ffe(R.sections,Q,s),[R.sections,Q,s]);function me(){const ye=O.current.selectionStart??0;let Le;ye<=le[0].startInInput||ye>=le[le.length-1].endInInput?Le=1:Le=le.findIndex(jt=>jt.startInInput-jt.startSeparator.length>ye);const ze=Le===-1?le.length-1:Le-1;ee(ze)}function Ae(ye=0){nn(O.current)!==O.current&&(O.current?.focus(),ee(ye))}const Ce=Ot(ye=>{_?.(ye);const Le=O.current;a.start(0,()=>{!Le||Le!==O.current||B==null&&(Le.value.length&&Number(Le.selectionEnd)-Number(Le.selectionStart)===Le.value.length?ee("all"):me())})}),_e=Ot((ye,...Le)=>{ye.isDefaultPrevented()||(S?.(ye,...Le),me())}),Ie=Ot(ye=>{if(v?.(ye),ye.preventDefault(),T||A)return;const Le=ye.clipboardData.getData("text");if(typeof V=="number"){const ze=R.sections[V],jt=/^[a-zA-Z]+$/.test(Le),es=/^[0-9]+$/.test(Le),Qt=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Le);if(ze.contentType==="letter"&&jt||ze.contentType==="digit"&&es||ze.contentType==="digit-with-letter"&&Qt){te(null),he({section:ze,newSectionValue:Le,shouldGoToNextSection:!0});return}if(jt||es)return}te(null),de(Le)}),et=Ot(ye=>{y?.(ye),ee(null)}),ke=Ot(ye=>{if(T)return;const Le=ye.target.value;if(Le===""){Y();return}const ze=ye.nativeEvent.data,jt=ze&&ze.length>1,es=jt?ze:Le,Qt=Dm(es);if(V==="all"&&ee(B),B==null||jt){de(jt?ze:Qt);return}let rt;if(V==="all"&&Qt.length===1)rt=Qt;else{const zt=Dm(m.getV6InputValueFromSections(le,Q,s));let _t=-1,hs=-1;for(let Is=0;Is<zt.length;Is+=1)_t===-1&&zt[Is]!==Qt[Is]&&(_t=Is),hs===-1&&zt[zt.length-Is-1]!==Qt[Qt.length-Is-1]&&(hs=Is);const cs=le[B];if(_t<cs.start||zt.length-hs-1>cs.end)return;const Gs=Qt.length-zt.length+cs.end-Dm(cs.endSeparator||"").length;rt=Qt.slice(cs.start+Dm(cs.startSeparator||"").length,Gs)}if(rt.length===0){zpe()&&ne(es),J();return}xe({keyPressed:rt,sectionIndex:B})}),He=Ot((ye,...Le)=>{ye.preventDefault(),C?.(ye,...Le),Y(),y8(O)?ee(M.startIndex):Ae(0)}),be=OI({manager:i,internalPropsWithDefaults:j,stateResponse:W}),Ge=Ot(ye=>{N?.(ye),be(ye)}),at=g.useMemo(()=>D!==void 0?D:m.getV6InputValueFromSections(ae(c.emptyValue),Q,s),[D,m,ae,c.emptyValue,Q,s]),vt=g.useMemo(()=>R.tempValueStrAndroid??m.getV6InputValueFromSections(R.sections,Q,s),[R.sections,m,R.tempValueStrAndroid,Q,s]);g.useEffect(()=>{O.current&&O.current===nn(O.current)&&ee("all")},[]),Ia(()=>{function ye(){if(!O.current)return;if(V==null){O.current.scrollLeft&&(O.current.scrollLeft=0);return}if(O.current!==nn(O.current))return;const Le=O.current.scrollTop;if(V==="all")O.current.select();else{const ze=le[V],jt=ze.type==="empty"?ze.startInInput-ze.startSeparator.length:ze.startInInput,es=ze.type==="empty"?ze.endInInput+ze.endSeparator.length:ze.endInInput;(jt!==O.current.selectionStart||es!==O.current.selectionEnd)&&O.current===nn(O.current)&&O.current.setSelectionRange(jt,es),r.start(0,()=>{O.current&&O.current===nn(O.current)&&O.current.selectionStart===O.current.selectionEnd&&(O.current.selectionStart!==jt||O.current.selectionEnd!==es)&&ye()})}O.current.scrollTop=Le}ye()});const dt=g.useMemo(()=>B==null||R.sections[B].contentType==="letter"?"text":"numeric",[B,R.sections]),Mt=!(O.current&&O.current===nn(O.current))&&q;return g.useImperativeHandle(z,()=>({getSections:()=>R.sections,getActiveSectionIndex:()=>{const ye=O.current.selectionStart??0,Le=O.current.selectionEnd??0;if(ye===0&&Le===0)return null;const ze=ye<=le[0].startInInput?1:le.findIndex(jt=>jt.startInInput-jt.startSeparator.length>ye);return ze===-1?le.length-1:ze-1},setSelectedSections:ye=>ee(ye),focusField:Ae,isFieldFocused:()=>y8(O)})),je({},x,{error:H,clearable:!!(P&&!q&&!T&&!A),onBlur:et,onClick:_e,onFocus:Ce,onPaste:Ie,onKeyDown:Ge,onClear:He,inputRef:K,enableAccessibleFieldDOMStructure:!1,placeholder:at,inputMode:dt,autoComplete:"off",value:Mt?"":vt,onChange:ke,focused:F,disabled:A,readOnly:T,autoFocus:I,openPickerAriaLabel:ge})};function y8(t){return t.current===nn(t.current)}const SS=t=>{const s=hI();return(t.props.enableAccessibleFieldDOMStructure??s?.enableAccessibleFieldDOMStructure??!0?Ofe:Lfe)(t)};function $fe(t={}){const{enableAccessibleFieldDOMStructure:s=!0}=t;return g.useMemo(()=>({valueType:"date",validator:Ap,internal_valueManager:ur,internal_fieldValueManager:jS,internal_enableAccessibleFieldDOMStructure:s,internal_useApplyDefaultValuesToFieldInternalProps:qfe,internal_useOpenPickerButtonAriaLabel:zfe}),[s])}function zfe(t){const s=Ms(),a=Xr();return g.useMemo(()=>{const r=s.isValid(t)?s.format(t,"fullDate"):null;return a.openDatePickerDialogue(r)},[t,a,s])}function qfe(t){const s=Ms(),a=Rg(t);return g.useMemo(()=>je({},t,a,{format:t.format??s.formats.keyboardDate}),[t,a,s])}function Rg(t){const s=Ms(),a=bI();return g.useMemo(()=>({disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,minDate:Ay(s,t.minDate,a.minDate),maxDate:Ay(s,t.maxDate,a.maxDate)}),[t.minDate,t.maxDate,t.disableFuture,t.disablePast,s,a])}function Bfe(t={}){const{enableAccessibleFieldDOMStructure:s=!0,ampm:a}=t;return g.useMemo(()=>({valueType:"time",validator:Dg,internal_valueManager:ur,internal_fieldValueManager:jS,internal_enableAccessibleFieldDOMStructure:s,internal_useApplyDefaultValuesToFieldInternalProps:Vfe,internal_useOpenPickerButtonAriaLabel:Ufe(a)}),[a,s])}function Ufe(t){return function(a){const r=Ms(),n=Xr();return g.useMemo(()=>{const i=t??r.is12HourCycleInCurrentLocale()?"fullTime12h":"fullTime24h",o=r.isValid(a)?r.format(a,i):null;return n.openTimePickerDialogue(o)},[a,n,r])}}function Vfe(t){const s=Ms(),a=FI(t),r=g.useMemo(()=>t.ampm??s.is12HourCycleInCurrentLocale(),[t.ampm,s]);return g.useMemo(()=>je({},t,a,{format:t.format??(r?s.formats.fullTime12h:s.formats.fullTime24h)}),[t,a,r,s])}function FI(t){return g.useMemo(()=>({disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1}),[t.disablePast,t.disableFuture])}function Hfe(t={}){const{enableAccessibleFieldDOMStructure:s=!0}=t;return g.useMemo(()=>({valueType:"date-time",validator:Xv,internal_valueManager:ur,internal_fieldValueManager:jS,internal_enableAccessibleFieldDOMStructure:s,internal_useApplyDefaultValuesToFieldInternalProps:Yfe,internal_useOpenPickerButtonAriaLabel:Wfe}),[s])}function Wfe(t){const s=Ms(),a=Xr();return g.useMemo(()=>{const r=s.isValid(t)?s.format(t,"fullDate"):null;return a.openDatePickerDialogue(r)},[t,a,s])}function Yfe(t){const s=Ms(),a=LI(t),r=g.useMemo(()=>t.ampm??s.is12HourCycleInCurrentLocale(),[t.ampm,s]);return g.useMemo(()=>je({},t,a,{format:t.format??(r?s.formats.keyboardDateTime12h:s.formats.keyboardDateTime24h)}),[t,a,r,s])}function LI(t){const s=Ms(),a=bI();return g.useMemo(()=>({disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,disableIgnoringDatePartForTimeValidation:!!t.minDateTime||!!t.maxDateTime||!!t.disableFuture||!!t.disablePast,minDate:Ay(s,t.minDateTime??t.minDate,a.minDate),maxDate:Ay(s,t.maxDateTime??t.maxDate,a.maxDate),minTime:t.minDateTime??t.minTime,maxTime:t.maxDateTime??t.maxTime}),[t.minDateTime,t.maxDateTime,t.minTime,t.maxTime,t.minDate,t.maxDate,t.disableFuture,t.disablePast,s,a])}const Gfe=t=>{const s=$fe(t);return SS({manager:s,props:t})};function CS(t){const{ownerState:s}=Va(),a=Rr();return g.useMemo(()=>je({},s,{isFieldDisabled:t.disabled??!1,isFieldReadOnly:t.readOnly??!1,isFieldRequired:t.required??!1,fieldDirection:a?"rtl":"ltr"}),[s,t.disabled,t.readOnly,t.required,a])}function Kfe(t){return Tt("MuiPickersTextField",t)}Et("MuiPickersTextField",["root","focused","disabled","error","required"]);function Qfe(t){return Tt("MuiPickersInputBase",t)}const Qm=Et("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","inputSizeSmall","activeBar"]);function Zfe(t){return Tt("MuiPickersSectionList",t)}const Zh=Et("MuiPickersSectionList",["root","section","sectionContent"]),Xfe=["slots","slotProps","elements","sectionListRef","classes"],$I=Ne("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),zI=Ne("span",{name:"MuiPickersSectionList",slot:"Section"})({}),qI=Ne("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),BI=Ne("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),Jfe=t=>kt({root:["root"],section:["section"],sectionContent:["sectionContent"]},Zfe,t);function exe(t){const{slots:s,slotProps:a,element:r,classes:n}=t,{ownerState:i}=Va(),o=s?.section??zI,l=ea({elementType:o,externalSlotProps:a?.section,externalForwardedProps:r.container,className:n.section,ownerState:i}),c=s?.sectionContent??BI,m=ea({elementType:c,externalSlotProps:a?.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:n.sectionContent,ownerState:i}),d=s?.sectionSeparator??qI,p=ea({elementType:d,externalSlotProps:a?.sectionSeparator,externalForwardedProps:r.before,ownerState:je({},i,{separatorPosition:"before"})}),x=ea({elementType:d,externalSlotProps:a?.sectionSeparator,externalForwardedProps:r.after,ownerState:je({},i,{separatorPosition:"after"})});return e.jsxs(o,je({},l,{children:[e.jsx(d,je({},p)),e.jsx(c,je({},m)),e.jsx(d,je({},x))]}))}const txe=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiPickersSectionList"}),{slots:n,slotProps:i,elements:o,sectionListRef:l,classes:c}=r,m=rs(r,Xfe),d=Jfe(c),{ownerState:p}=Va(),x=g.useRef(null),j=Us(a,x),_=y=>{if(!x.current)throw new Error(`MUI X: Cannot call sectionListRef.${y} before the mount of the component.`);return x.current};g.useImperativeHandle(l,()=>({getRoot(){return _("getRoot")},getSectionContainer(y){return _("getSectionContainer").querySelector(`.${Zh.section}[data-sectionindex="${y}"]`)},getSectionContent(y){return _("getSectionContent").querySelector(`.${Zh.section}[data-sectionindex="${y}"] .${Zh.sectionContent}`)},getSectionIndexFromDOMElement(y){const N=_("getSectionIndexFromDOMElement");if(y==null||!N.contains(y))return null;let C=null;return y.classList.contains(Zh.section)?C=y:y.classList.contains(Zh.sectionContent)&&(C=y.parentElement),C==null?null:Number(C.dataset.sectionindex)}}));const S=n?.root??$I,v=ea({elementType:S,externalSlotProps:i?.root,externalForwardedProps:m,additionalProps:{ref:j,suppressContentEditableWarning:!0},className:d.root,ownerState:p});return e.jsx(S,je({},v,{children:v.contentEditable?o.map(({content:y,before:N,after:C})=>`${N.children}${y.children}${C.children}`).join(""):e.jsx(g.Fragment,{children:o.map((y,N)=>e.jsx(exe,{slots:n,slotProps:i,element:y,classes:d},N))})}))}),UI=g.createContext(null),Jv=()=>{const t=g.useContext(UI);if(t==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return t},sxe=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],axe=t=>Math.round(t*1e5)/1e5,e1=Ne("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:t})=>je({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${axe(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),PS=Ne($I,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:t})=>({padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{justifyContent:"end"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:t.palette.mode==="light"?.42:.5}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!0,isLabelShrunk:!0},style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:t.palette.mode==="light"?.42:.5}}]})),rxe=Ne(zI,{name:"MuiPickersInputBase",slot:"Section"})(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),nxe=Ne(BI,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(t,s)=>s.content})(({theme:t})=>({fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),ixe=Ne(qI,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),oxe=Ne("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(t,s)=>s.hiddenInput})(je({},c9)),lxe=Ne("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:t,ownerState:s})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:t.transitions.create(["width","left"],{duration:t.transitions.duration.shortest}),backgroundColor:(t.vars||t).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:s.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:s.sectionOffsets[1]}})),cxe=(t,s)=>{const{isFieldFocused:a,isFieldDisabled:r,isFieldReadOnly:n,hasFieldError:i,inputSize:o,isInputInFullWidth:l,inputColor:c,hasStartAdornment:m,hasEndAdornment:d}=s,p={root:["root",a&&!r&&"focused",r&&"disabled",n&&"readOnly",i&&"error",l&&"fullWidth",`color${Ke(c)}`,o==="small"&&"inputSizeSmall",m&&"adornedStart",d&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return kt(p,Qfe,t)};function v8(t,s,a,r){if(t.content.id){const n=s.current?.querySelectorAll(`[data-sectionindex="${a}"] [data-range-position="${r}"]`);if(n)return Array.from(n).reduce((i,o)=>i+o.offsetWidth,0)}return 0}function dxe(t,s){let a=0;if(s.current?.getAttribute("data-active-range-position")==="end")for(let n=t.length-1;n>=t.length/2;n-=1)a+=v8(t[n],s,n,"end");else for(let n=0;n<t.length/2;n+=1)a+=v8(t[n],s,n,"start");return{activeBarWidth:a,sectionOffsets:[s.current?.querySelector('[data-sectionindex="0"]')?.offsetLeft||0,s.current?.querySelector(`[data-sectionindex="${t.length/2}"]`)?.offsetLeft||0]}}const kS=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiPickersInputBase"}),{elements:n,areAllSectionsEmpty:i,value:o,onChange:l,id:c,endAdornment:m,startAdornment:d,renderSuffix:p,slots:x,slotProps:j,contentEditable:_,tabIndex:S,onInput:v,onPaste:y,onKeyDown:N,name:C,readOnly:P,inputProps:E,inputRef:D,sectionListRef:T,onFocus:A,onBlur:I,classes:F,ownerState:z}=r,O=rs(r,sxe),K=Jv(),W=g.useRef(null),B=g.useRef(null),q=g.useRef([]),H=Us(a,W),Q=Us(E?.ref,D),V=Ni();if(!V)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const M=z??K,R=ae=>{V.onFocus?.(ae),A?.(ae)},$=ae=>{R(ae)},Y=ae=>{if(N?.(ae),ae.key==="Enter"&&!ae.defaultMuiPrevented){if(W.current?.dataset.multiInput)return;const xe=W.current?.closest("form"),ge=xe?.querySelector('[type="submit"]');if(!xe||!ge)return;ae.preventDefault(),xe.requestSubmit(ge)}},J=ae=>{V.onBlur?.(ae),I?.(ae)};g.useEffect(()=>{V&&V.setAdornedStart(!!d)},[V,d]),g.useEffect(()=>{V&&(i?V.onEmpty():V.onFilled())},[V,i]);const te=cxe(F,M),ee=x?.root||e1,ne=ea({elementType:ee,externalSlotProps:j?.root,externalForwardedProps:O,additionalProps:{"aria-invalid":V.error,ref:H},className:te.root,ownerState:M}),he=x?.input||PS,de=n.some(ae=>ae.content["data-range-position"]!==void 0);return g.useEffect(()=>{if(!de||!M.isPickerOpen)return;const{activeBarWidth:ae,sectionOffsets:xe}=dxe(n,W);q.current=[xe[0],xe[1]],B.current&&(B.current.style.width=`${ae}px`)},[n,de,M.isPickerOpen]),e.jsxs(ee,je({},ne,{children:[d,e.jsx(txe,{sectionListRef:T,elements:n,contentEditable:_,tabIndex:S,className:te.sectionsContainer,onFocus:R,onBlur:J,onInput:v,onPaste:y,onKeyDown:Y,slots:{root:he,section:rxe,sectionContent:nxe,sectionSeparator:ixe},slotProps:{root:je({},j?.input,{ownerState:M}),sectionContent:{className:Qm.sectionContent},sectionSeparator:({separatorPosition:ae})=>({className:ae==="before"?Qm.sectionBefore:Qm.sectionAfter})}}),m,p?p(je({},V)):null,e.jsx(oxe,je({name:C,className:te.input,value:o,onChange:l,id:c,"aria-hidden":"true",tabIndex:-1,readOnly:P,required:V.required,disabled:V.disabled,onFocus:$},E,{ref:Q})),de&&e.jsx(lxe,{className:te.activeBar,ref:B,ownerState:{sectionOffsets:q.current}})]}))});function uxe(t){return Tt("MuiPickersOutlinedInput",t)}const po=je({},Qm,Et("MuiPickersOutlinedInput",["root","notchedOutline","input"])),mxe=["children","className","label","notched","shrink"],pxe=Ne("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:t})=>{const s=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:s}}),j8=Ne("span")(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit"})),hxe=Ne("legend",{shouldForwardProp:t=>Ln(t)&&t!=="notched"})(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}));function fxe(t){const{className:s,label:a,notched:r}=t,n=rs(t,mxe),i=Jv();return e.jsx(pxe,je({"aria-hidden":!0,className:s},n,{ownerState:i,children:e.jsx(hxe,{ownerState:i,notched:r,children:a?e.jsx(j8,{children:a}):e.jsx(j8,{className:"notranslate",children:""})})}))}const xxe=["label","autoFocus","ownerState","classes","notched"],gxe=Ne(e1,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:t})=>{const s=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${po.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${po.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:s}},[`&.${po.focused} .${po.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${po.disabled}`]:{[`& .${po.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled},"*":{color:(t.vars||t).palette.action.disabled}},[`&.${po.error} .${po.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},variants:Object.keys((t.vars??t).palette).filter(a=>(t.vars??t).palette[a]?.main??!1).map(a=>({props:{inputColor:a},style:{[`&.${po.focused}:not(.${po.error}) .${po.notchedOutline}`]:{borderColor:(t.vars||t).palette[a].main}}}))}}),bxe=Ne(PS,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),yxe=t=>{const a=kt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},uxe,t);return je({},t,a)},VI=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiPickersOutlinedInput"}),{label:n,classes:i,notched:o}=r,l=rs(r,xxe),c=Ni(),m=yxe(i);return e.jsx(kS,je({slots:{root:gxe,input:bxe},renderSuffix:d=>e.jsx(fxe,{shrink:!!(o||d.adornedStart||d.focused||d.filled),notched:!!(o||d.adornedStart||d.focused||d.filled),className:m.notchedOutline,label:n!=null&&n!==""&&c?.required?e.jsxs(g.Fragment,{children:[n,"","*"]}):n})},l,{label:n,classes:m,ref:a}))});VI.muiName="Input";function vxe(t){return Tt("MuiPickersFilledInput",t)}const Rd=je({},Qm,Et("MuiPickersFilledInput",["root","underline","input"])),jxe=["label","autoFocus","disableUnderline","hiddenLabel","classes"],Nxe=Ne(e1,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:t=>Ln(t)&&t!=="disableUnderline"})(({theme:t})=>{const s=t.palette.mode==="light",a=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",n=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:n,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Rd.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Rd.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:i},variants:[...Object.keys((t.vars??t).palette).filter(o=>(t.vars??t).palette[o].main).map(o=>({props:{inputColor:o,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[o]?.main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Rd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Rd.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Rd.disabled}, .${Rd.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Rd.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),_xe=Ne(PS,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:t=>Ln(t)&&t!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),wxe=(t,s)=>{const{inputHasUnderline:a}=s,n=kt({root:["root",a&&"underline"],input:["input"]},vxe,t);return je({},t,n)},HI=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiPickersFilledInput"}),{label:n,disableUnderline:i=!1,hiddenLabel:o=!1,classes:l}=r,c=rs(r,jxe),m=Jv(),d=je({},m,{inputHasUnderline:!i}),p=wxe(l,d);return e.jsx(kS,je({slots:{root:Nxe,input:_xe},slotProps:{root:{disableUnderline:i},input:{hiddenLabel:o}}},c,{label:n,classes:p,ref:a,ownerState:d}))});HI.muiName="Input";function Sxe(t){return Tt("MuiPickersFilledInput",t)}const Xh=je({},Qm,Et("MuiPickersInput",["root","underline","input"])),Cxe=["label","autoFocus","disableUnderline","ownerState","classes"],Pxe=Ne(e1,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:t=>Ln(t)&&t!=="disableUnderline"})(({theme:t})=>{let a=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(a=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((t.vars??t).palette).filter(r=>(t.vars??t).palette[r].main).map(r=>({props:{inputColor:r,inputHasUnderline:!0},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}})),{props:{inputHasUnderline:!0},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Xh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Xh.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Xh.disabled}, .${Xh.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${a}`}},[`&.${Xh.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),kxe=(t,s)=>{const{inputHasUnderline:a}=s,n=kt({root:["root",!a&&"underline"],input:["input"]},Sxe,t);return je({},t,n)},WI=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiPickersInput"}),{label:n,disableUnderline:i=!1,classes:o}=r,l=rs(r,Cxe),c=Jv(),m=je({},c,{inputHasUnderline:!i}),d=kxe(o,m);return e.jsx(kS,je({slots:{root:Pxe},slotProps:{root:{disableUnderline:i}}},l,{ownerState:m,label:n,classes:d,ref:a}))});WI.muiName="Input";const Exe=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","hiddenLabel","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],Txe={standard:WI,filled:HI,outlined:VI},Mxe=Ne(Tv,{name:"MuiPickersTextField",slot:"Root"})({maxWidth:"100%"}),Dxe=(t,s)=>{const{isFieldFocused:a,isFieldDisabled:r,isFieldRequired:n}=s;return kt({root:["root",a&&!r&&"focused",r&&"disabled",n&&"required"]},Kfe,t)},YI=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiPickersTextField"}),{onFocus:n,onBlur:i,className:o,classes:l,color:c="primary",disabled:m=!1,error:d=!1,variant:p="outlined",required:x=!1,hiddenLabel:j=!1,InputProps:_,inputProps:S,inputRef:v,sectionListRef:y,elements:N,areAllSectionsEmpty:C,onClick:P,onKeyDown:E,onKeyUp:D,onPaste:T,onInput:A,endAdornment:I,startAdornment:F,tabIndex:z,contentEditable:O,focused:K,value:W,onChange:B,fullWidth:q,id:H,name:Q,helperText:V,FormHelperTextProps:M,label:R,InputLabelProps:$,"data-active-range-position":Y}=r,J=rs(r,Exe),te=g.useRef(null),ee=Us(a,te),ne=Cn(H),he=V&&ne?`${ne}-helper-text`:void 0,de=R&&ne?`${ne}-label`:void 0,ae=CS({disabled:r.disabled,required:r.required,readOnly:_?.readOnly}),xe=g.useMemo(()=>je({},ae,{isFieldValueEmpty:C,isFieldFocused:K??!1,hasFieldError:d??!1,inputSize:r.size??"medium",inputColor:c??"primary",isInputInFullWidth:q??!1,hasStartAdornment:!!(F??_?.startAdornment),hasEndAdornment:!!(I??_?.endAdornment),inputHasLabel:!!R,isLabelShrunk:!!$?.shrink}),[ae,C,K,d,r.size,c,q,F,I,_?.startAdornment,_?.endAdornment,R,$?.shrink]),ge=Dxe(l,xe),le=Txe[p],me={};return p==="outlined"?($&&typeof $.shrink<"u"&&(me.notched=$.shrink),me.label=R):p==="filled"&&(me.hiddenLabel=j),e.jsx(UI.Provider,{value:xe,children:e.jsxs(Mxe,je({className:Je(ge.root,o),ref:ee,focused:K,disabled:m,variant:p,error:d,color:c,fullWidth:q,required:x,ownerState:xe},J,{children:[R!=null&&R!==""&&e.jsx(Z7,je({htmlFor:ne,id:de},$,{children:R})),e.jsx(le,je({elements:N,areAllSectionsEmpty:C,onClick:P,onKeyDown:E,onKeyUp:D,onInput:A,onPaste:T,onFocus:n,onBlur:i,endAdornment:I,startAdornment:F,tabIndex:z,contentEditable:O,value:W,onChange:B,id:ne,fullWidth:q,inputProps:S,inputRef:v,sectionListRef:y,label:R,name:Q,role:"group","aria-labelledby":de,"aria-describedby":he,"aria-live":he?"polite":void 0,"data-active-range-position":Y},me,_)),V&&e.jsx(R4,je({id:he},M,{children:V}))]}))})}),Rxe=["enableAccessibleFieldDOMStructure"],Axe=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],Ixe=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],Oxe=["ownerState"],Fxe=["ownerState"],Lxe=["ownerState"],$xe=["ownerState"],zxe=["InputProps","inputProps"],SN=()=>{},qxe=t=>{let{enableAccessibleFieldDOMStructure:s}=t,a=rs(t,Rxe);if(s){const{InputProps:N,readOnly:C,onClear:P,clearable:E,clearButtonPosition:D,openPickerButtonPosition:T,openPickerAriaLabel:A}=a,I=rs(a,Axe),F=Mc>=6&&I?.slotProps?.input?rx(I?.slotProps?.input,N):SN;return{clearable:E,onClear:P,clearButtonPosition:D,openPickerButtonPosition:T,openPickerAriaLabel:A,textFieldProps:je({},I,Mc>=6&&I?.slotProps?.input?{slotProps:je({},I?.slotProps,{input:z=>je({},mn(F,z),{readOnly:C})})}:{InputProps:je({},N??{},{readOnly:C})})}}const{onPaste:r,onKeyDown:n,inputMode:i,readOnly:o,InputProps:l,inputProps:c,inputRef:m,onClear:d,clearable:p,clearButtonPosition:x,openPickerButtonPosition:j,openPickerAriaLabel:_}=a,S=rs(a,Ixe),v=Mc>=6&&S?.slotProps?.input?rx(S?.slotProps?.input,l):SN,y=Mc>=6&&S?.slotProps?.htmlInput?rx(S?.slotProps?.htmlInput,c):SN;return{clearable:p,onClear:d,clearButtonPosition:x,openPickerButtonPosition:j,openPickerAriaLabel:_,textFieldProps:je({},S,Mc>=6&&(S?.slotProps?.input||S?.slotProps?.htmlInput)?{slotProps:je({},S?.slotProps,{input:N=>je({},mn(v,N),{readOnly:o}),htmlInput:N=>je({},mn(y,N),{inputMode:i,onPaste:r,onKeyDown:n,ref:m})})}:{InputProps:je({},l??{},{readOnly:o}),inputProps:je({},c??{},{inputMode:i,onPaste:r,onKeyDown:n,ref:m})})}},ES=g.createContext({slots:{},slotProps:{},inputRef:void 0});function TS(t){const{fieldResponse:s,defaultOpenPickerIcon:a}=t,r=Xr(),n=vS(),i=g.useContext(ES),{textFieldProps:o,onClear:l,clearable:c,openPickerAriaLabel:m,clearButtonPosition:d="end",openPickerButtonPosition:p="end"}=qxe(s),x=CS(o),j=Ot(M=>{M.preventDefault(),n?.setOpen(R=>!R)}),_=n?n.triggerStatus:"hidden",S=c?d:null,v=_!=="hidden"?p:null,y=i.slots.textField??(s.enableAccessibleFieldDOMStructure===!1?Ba:YI),N=i.slots.inputAdornment??D_,C=ea({elementType:N,externalSlotProps:i.slotProps.inputAdornment,additionalProps:{position:"start"},ownerState:je({},x,{position:"start"})}),P=rs(C,Oxe),E=ea({elementType:N,externalSlotProps:i.slotProps.inputAdornment,additionalProps:{position:"end"},ownerState:je({},x,{position:"end"})}),D=rs(E,Fxe),T=i.slots.openPickerButton??Ws,A=ea({elementType:T,externalSlotProps:i.slotProps.openPickerButton,additionalProps:{disabled:_==="disabled",onClick:j,"aria-label":m,edge:o.variant!=="standard"?v:!1},ownerState:x}),I=rs(A,Lxe),F=i.slots.openPickerIcon??a,z=ea({elementType:F,externalSlotProps:i.slotProps.openPickerIcon,ownerState:x}),O=i.slots.clearButton??Ws,K=ea({elementType:O,externalSlotProps:i.slotProps.clearButton,className:"clearButton",additionalProps:{title:r.fieldClearLabel,tabIndex:-1,onClick:l,disabled:s.disabled||s.readOnly,edge:o.variant!=="standard"&&S!==v?S:!1},ownerState:x}),W=rs(K,$xe),B=i.slots.clearIcon??she,q=ea({elementType:B,externalSlotProps:i.slotProps.clearIcon,additionalProps:{fontSize:"small"},ownerState:x});o.ref=Us(o.ref,n?.rootRef);const H={},Q=mn((Mc>=6&&o?.slotProps?.input)??o.InputProps,x);n&&(H.ref=n.triggerRef),!Q?.startAdornment&&(S==="start"||v==="start")&&(H.startAdornment=e.jsxs(N,je({},P,{children:[v==="start"&&e.jsx(T,je({},I,{children:e.jsx(F,je({},z))})),S==="start"&&e.jsx(O,je({},W,{children:e.jsx(B,je({},q))}))]}))),!Q?.endAdornment&&(S==="end"||v==="end")&&(H.endAdornment=e.jsxs(N,je({},D,{children:[S==="end"&&e.jsx(O,je({},W,{children:e.jsx(B,je({},q))})),v==="end"&&e.jsx(T,je({},I,{children:e.jsx(F,je({},z))}))]}))),!H?.endAdornment&&!H?.startAdornment&&i.slots.inputAdornment&&(H.endAdornment=e.jsx(N,je({},D))),S!=null&&(o.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(o.sx)?o.sx:[o.sx]]);const V=Mc>=6&&o?.slotProps?.input?mn(rx(Q,H),x):je({},Q,H);return o.inputProps=Mc>=6&&o?.slotProps?.htmlInput?mn(o.slotProps.htmlInput,x):o.inputProps,delete o?.slotProps?.input,s.enableAccessibleFieldDOMStructure&&delete o?.slotProps,e.jsx(y,je({},o,{InputProps:V}))}function rx(t,s){return t?s?a=>je({},mn(s,a),mn(t,a)):t:s}function MS(t){const{ref:s,externalForwardedProps:a,slotProps:r}=t,n=g.useContext(ES),i=vS(),o=CS(a),{InputProps:l,inputProps:c}=a,m=rs(a,zxe),d=ea({elementType:YI,externalSlotProps:rx(n.slotProps.textField,r?.textField),externalForwardedProps:m,additionalProps:{ref:s,sx:i?.rootSx,label:i?.label,name:i?.name,className:i?.rootClassName,inputRef:n.inputRef},ownerState:o});return d.inputProps=je({},c,d.inputProps),d.InputProps=je({},l,d.InputProps),d}function DS(t){const{slots:s={},slotProps:a={},inputRef:r,children:n}=t,i=g.useMemo(()=>({inputRef:r,slots:{openPickerButton:s.openPickerButton,openPickerIcon:s.openPickerIcon,textField:s.textField,inputAdornment:s.inputAdornment,clearIcon:s.clearIcon,clearButton:s.clearButton},slotProps:{openPickerButton:a.openPickerButton,openPickerIcon:a.openPickerIcon,textField:a.textField,inputAdornment:a.inputAdornment,clearIcon:a.clearIcon,clearButton:a.clearButton}}),[r,s.openPickerButton,s.openPickerIcon,s.textField,s.inputAdornment,s.clearIcon,s.clearButton,a.openPickerButton,a.openPickerIcon,a.textField,a.inputAdornment,a.clearIcon,a.clearButton]);return e.jsx(ES.Provider,{value:i,children:n})}const Bxe=["slots","slotProps"],GI=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiDateField"}),{slots:n,slotProps:i}=r,o=rs(r,Bxe),l=MS({slotProps:i,ref:a,externalForwardedProps:o}),c=Gfe(l);return e.jsx(DS,{slots:n,slotProps:i,inputRef:o.inputRef,children:e.jsx(TS,{fieldResponse:c,defaultOpenPickerIcon:yI})})}),Uxe=t=>{const s=Bfe(t);return SS({manager:s,props:t})},Vxe=["slots","slotProps","InputProps","inputProps"],KI=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiTimeField"}),{slots:n,slotProps:i}=r,o=rs(r,Vxe),l=MS({slotProps:i,ref:a,externalForwardedProps:o}),c=Uxe(l);return e.jsx(DS,{slots:n,slotProps:i,inputRef:o.inputRef,children:e.jsx(TS,{fieldResponse:c,defaultOpenPickerIcon:Jpe})})}),Hxe=t=>{const s=Hfe(t);return SS({manager:s,props:t})},Wxe=["slots","slotProps"],QI=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiDateTimeField"}),{slots:n,slotProps:i}=r,o=rs(r,Wxe),l=MS({slotProps:i,ref:a,externalForwardedProps:o}),c=Hxe(l);return e.jsx(DS,{slots:n,slotProps:i,inputRef:o.inputRef,children:e.jsx(TS,{fieldResponse:c,defaultOpenPickerIcon:yI})})}),ZI=({shouldDisableDate:t,shouldDisableMonth:s,shouldDisableYear:a,minDate:r,maxDate:n,disableFuture:i,disablePast:o,timezone:l})=>{const c=Ms();return g.useCallback(m=>Ap({adapter:c,value:m,timezone:l,props:{shouldDisableDate:t,shouldDisableMonth:s,shouldDisableYear:a,minDate:r,maxDate:n,disableFuture:i,disablePast:o}})!==null,[c,t,s,a,r,n,i,o,l])},Yxe=(t,s)=>(a,r)=>{switch(r.type){case"setVisibleDate":return je({},a,{slideDirection:r.direction,currentMonth:r.month,isMonthSwitchingAnimating:!s.isSameMonth(r.month,a.currentMonth)&&!t&&!r.skipAnimation,focusedDay:r.focusedDay});case"changeMonthTimezone":{const n=r.newTimezone;if(s.getTimezone(a.currentMonth)===n)return a;let i=s.setTimezone(a.currentMonth,n);return s.getMonth(i)!==s.getMonth(a.currentMonth)&&(i=s.setMonth(i,s.getMonth(a.currentMonth))),je({},a,{currentMonth:i})}case"finishMonthSwitchingAnimation":return je({},a,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},Gxe=t=>{const{value:s,referenceDate:a,disableFuture:r,disablePast:n,maxDate:i,minDate:o,onMonthChange:l,onYearChange:c,reduceAnimations:m,shouldDisableDate:d,timezone:p,getCurrentMonthFromVisibleDate:x}=t,j=Ms(),_=g.useRef(Yxe(!!m,j)).current,S=g.useMemo(()=>ur.getInitialReferenceValue({value:s,adapter:j,timezone:p,props:t,referenceDate:a,granularity:fo.day}),[a,p]),[v,y]=g.useReducer(_,{isMonthSwitchingAnimating:!1,focusedDay:S,currentMonth:j.startOfMonth(S),slideDirection:"left"}),N=ZI({shouldDisableDate:d,minDate:o,maxDate:i,disableFuture:r,disablePast:n,timezone:p});g.useEffect(()=>{y({type:"changeMonthTimezone",newTimezone:j.getTimezone(S)})},[S,j]);const C=Ot(({target:E,reason:D})=>{if(D==="cell-interaction"&&v.focusedDay!=null&&j.isSameDay(E,v.focusedDay))return;const T=D==="cell-interaction";let A,I;if(D==="cell-interaction")A=x(E,v.currentMonth),I=E;else if(A=j.isSameMonth(E,v.currentMonth)?v.currentMonth:j.startOfMonth(E),I=E,N(I)){const O=j.startOfMonth(E),K=j.endOfMonth(E);I=Rx({adapter:j,date:I,minDate:j.isBefore(o,O)?O:o,maxDate:j.isAfter(i,K)?K:i,disablePast:n,disableFuture:r,isDateDisabled:N,timezone:p})}const F=!j.isSameMonth(v.currentMonth,A),z=!j.isSameYear(v.currentMonth,A);F&&l?.(A),z&&c?.(j.startOfYear(A)),y({type:"setVisibleDate",month:A,direction:j.isAfterDay(A,v.currentMonth)?"left":"right",focusedDay:v.focusedDay!=null&&I!=null&&j.isSameDay(I,v.focusedDay)?v.focusedDay:I,skipAnimation:T})}),P=g.useCallback(()=>{y({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:S,calendarState:v,setVisibleDate:C,isDateDisabled:N,onMonthSwitchingAnimationEnd:P}},Kxe=t=>Tt("MuiPickersFadeTransitionGroup",t);Et("MuiPickersFadeTransitionGroup",["root"]);const Qxe=["children"],Zxe=t=>kt({root:["root"]},Kxe,t),Xxe=Ne(pg,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function XI(t){const s=$s({props:t,name:"MuiPickersFadeTransitionGroup"}),{className:a,reduceAnimations:r,transKey:n,classes:i}=s,{children:o}=s,l=rs(s,Qxe),c=Zxe(i),m=vi();return r?o:e.jsx(Xxe,{className:Je(c.root,a),ownerState:l,children:e.jsx(ou,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:m.transitions.duration.enteringScreen,enter:m.transitions.duration.enteringScreen,exit:0},children:o},n)})}const Jxe=t=>Tt("MuiPickersSlideTransition",t),Ai=Et("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),ege=["children","className","reduceAnimations","slideDirection","transKey","classes"],tge=(t,s)=>{const{slideDirection:a}=s,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${a}`],exitActive:[`slideExitActiveLeft-${a}`]};return kt(r,Jxe,t)},sge=Ne(pg,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,s)=>[s.root,{[`.${Ai["slideEnter-left"]}`]:s["slideEnter-left"]},{[`.${Ai["slideEnter-right"]}`]:s["slideEnter-right"]},{[`.${Ai.slideEnterActive}`]:s.slideEnterActive},{[`.${Ai.slideExit}`]:s.slideExit},{[`.${Ai["slideExitActiveLeft-left"]}`]:s["slideExitActiveLeft-left"]},{[`.${Ai["slideExitActiveLeft-right"]}`]:s["slideExitActiveLeft-right"]}]})(({theme:t})=>{const s=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Ai["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Ai["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Ai.slideEnterActive}`]:{transform:"translate(0%)",transition:s},[`& .${Ai.slideExit}`]:{transform:"translate(0%)"},[`& .${Ai["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:s,zIndex:0},[`& .${Ai["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:s,zIndex:0}}});function age(t){const s=$s({props:t,name:"MuiPickersSlideTransition"}),{children:a,className:r,reduceAnimations:n,slideDirection:i,transKey:o,classes:l}=s,c=rs(s,ege),{ownerState:m}=Va(),d=je({},m,{slideDirection:i}),p=tge(l,d),x=vi();if(n)return e.jsx("div",{className:Je(p.root,r),children:a});const j={exit:p.exit,enterActive:p.enterActive,enter:p.enter,exitActive:p.exitActive};return e.jsx(sge,{className:Je(p.root,r),childFactory:_=>g.cloneElement(_,{classNames:j}),role:"presentation",ownerState:d,children:e.jsx(y4,je({mountOnEnter:!0,unmountOnExit:!0,timeout:x.transitions.duration.complex,classNames:j},c,{children:a}),o)})}const rge=t=>Tt("MuiDayCalendar",t);Et("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const nge=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],ige=["ownerState"],oge=t=>kt({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},rge,t),JI=(Ox+Qv*2)*6,lge=Ne("div",{name:"MuiDayCalendar",slot:"Root"})({}),cge=Ne("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),dge=Ne(f,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),uge=Ne(f,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.disabled})),mge=Ne(f,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:t})=>je({},t.typography.caption,{width:Ox,height:Ox,padding:0,margin:`0 ${Qv}px`,color:(t.vars||t).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),pge=Ne("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:JI}),hge=Ne(age,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:JI}),fge=Ne("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),xge=Ne("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${Qv}px 0`,display:"flex",justifyContent:"center"});function gge(t){let{parentProps:s,day:a,focusedDay:r,selectedDays:n,isDateDisabled:i,currentMonthNumber:o,isViewFocused:l}=t,c=rs(t,nge);const{disabled:m,disableHighlightToday:d,isMonthSwitchingAnimating:p,showDaysOutsideCurrentMonth:x,slots:j,slotProps:_,timezone:S}=s,v=Ms(),y=Pu(S),N=r!=null&&v.isSameDay(a,r),C=l&&N,P=n.some(W=>v.isSameDay(W,a)),E=v.isSameDay(a,y),D=g.useMemo(()=>m||i(a),[m,i,a]),T=g.useMemo(()=>v.getMonth(a)!==o,[v,a,o]),A=EI({day:a,selected:P,disabled:D,today:E,outsideCurrentMonth:T,disableMargin:void 0,disableHighlightToday:d,showDaysOutsideCurrentMonth:x}),I=j?.day??Cfe,F=ea({elementType:I,externalSlotProps:_?.day,additionalProps:je({disableHighlightToday:d,showDaysOutsideCurrentMonth:x,role:"gridcell",isAnimating:p,"data-timestamp":v.toJsDate(a).valueOf()},c),ownerState:je({},A,{day:a,isDayDisabled:D,isDaySelected:P})}),z=rs(F,ige),O=g.useMemo(()=>{const W=v.startOfMonth(v.setMonth(a,o));return x?v.isSameDay(a,v.startOfWeek(W)):v.isSameDay(a,W)},[o,a,x,v]),K=g.useMemo(()=>{const W=v.endOfMonth(v.setMonth(a,o));return x?v.isSameDay(a,v.endOfWeek(W)):v.isSameDay(a,W)},[o,a,x,v]);return e.jsx(I,je({},z,{day:a,disabled:D,autoFocus:!T&&C,today:E,outsideCurrentMonth:T,isFirstVisibleCell:O,isLastVisibleCell:K,selected:P,tabIndex:N?0:-1,"aria-selected":P,"aria-current":E?"date":void 0}))}function bge(t){const s=$s({props:t,name:"MuiDayCalendar"}),a=Ms(),{onFocusedDayChange:r,className:n,classes:i,currentMonth:o,selectedDays:l,focusedDay:c,loading:m,onSelectedDaysChange:d,onMonthSwitchingAnimationEnd:p,readOnly:x,reduceAnimations:j,renderLoading:_=()=>e.jsx("span",{children:"..."}),slideDirection:S,TransitionProps:v,disablePast:y,disableFuture:N,minDate:C,maxDate:P,shouldDisableDate:E,shouldDisableMonth:D,shouldDisableYear:T,dayOfWeekFormatter:A=xe=>a.format(xe,"weekdayShort").charAt(0).toUpperCase(),hasFocus:I,onFocusedViewChange:F,gridLabelId:z,displayWeekNumber:O,fixedWeekNumber:K,timezone:W}=s,B=Pu(W),q=oge(i),H=Rr(),Q=ZI({shouldDisableDate:E,shouldDisableMonth:D,shouldDisableYear:T,minDate:C,maxDate:P,disablePast:y,disableFuture:N,timezone:W}),V=Xr(),M=Ot(xe=>{x||d(xe)}),R=xe=>{Q(xe)||(r(xe),F?.(!0))},$=Ot((xe,ge)=>{switch(xe.key){case"ArrowUp":R(a.addDays(ge,-7)),xe.preventDefault();break;case"ArrowDown":R(a.addDays(ge,7)),xe.preventDefault();break;case"ArrowLeft":{const le=a.addDays(ge,H?1:-1),me=a.addMonths(ge,H?1:-1),Ae=Rx({adapter:a,date:le,minDate:H?le:a.startOfMonth(me),maxDate:H?a.endOfMonth(me):le,isDateDisabled:Q,timezone:W});R(Ae||le),xe.preventDefault();break}case"ArrowRight":{const le=a.addDays(ge,H?-1:1),me=a.addMonths(ge,H?-1:1),Ae=Rx({adapter:a,date:le,minDate:H?a.startOfMonth(me):le,maxDate:H?le:a.endOfMonth(me),isDateDisabled:Q,timezone:W});R(Ae||le),xe.preventDefault();break}case"Home":R(a.startOfWeek(ge)),xe.preventDefault();break;case"End":R(a.endOfWeek(ge)),xe.preventDefault();break;case"PageUp":R(a.addMonths(ge,1)),xe.preventDefault();break;case"PageDown":R(a.addMonths(ge,-1)),xe.preventDefault();break}}),Y=Ot((xe,ge)=>R(ge)),J=Ot((xe,ge)=>{c!=null&&a.isSameDay(c,ge)&&F?.(!1)}),te=a.getMonth(o),ee=a.getYear(o),ne=g.useMemo(()=>l.filter(xe=>!!xe).map(xe=>a.startOfDay(xe)),[a,l]),he=`${ee}-${te}`,de=g.useMemo(()=>g.createRef(),[he]),ae=g.useMemo(()=>{const xe=a.getWeekArray(o);let ge=a.addMonths(o,1);for(;K&&xe.length<K;){const le=a.getWeekArray(ge),me=a.isSameDay(xe[xe.length-1][0],le[0][0]);le.slice(me?1:0).forEach(Ae=>{xe.length<K&&xe.push(Ae)}),ge=a.addMonths(ge,1)}return xe},[o,K,a]);return e.jsxs(lge,{role:"grid","aria-labelledby":z,className:q.root,children:[e.jsxs(cge,{role:"row",className:q.header,children:[O&&e.jsx(uge,{variant:"caption",role:"columnheader","aria-label":V.calendarWeekNumberHeaderLabel,className:q.weekNumberLabel,children:V.calendarWeekNumberHeaderText}),Mpe(a,B).map((xe,ge)=>e.jsx(dge,{variant:"caption",role:"columnheader","aria-label":a.format(xe,"weekday"),className:q.weekDayLabel,children:A(xe)},ge.toString()))]}),m?e.jsx(pge,{className:q.loadingContainer,children:_()}):e.jsx(hge,je({transKey:he,onExited:p,reduceAnimations:j,slideDirection:S,className:Je(n,q.slideTransition)},v,{nodeRef:de,children:e.jsx(fge,{ref:de,role:"rowgroup",className:q.monthContainer,children:ae.map((xe,ge)=>e.jsxs(xge,{role:"row",className:q.weekContainer,"aria-rowindex":ge+1,children:[O&&e.jsx(mge,{className:q.weekNumber,role:"rowheader","aria-label":V.calendarWeekNumberAriaLabelText(a.getWeekNumber(xe[0])),children:V.calendarWeekNumberText(a.getWeekNumber(xe[0]))}),xe.map((le,me)=>e.jsx(gge,{parentProps:s,day:le,selectedDays:ne,isViewFocused:I,focusedDay:c,onKeyDown:$,onFocus:Y,onBlur:J,onDaySelect:M,isDateDisabled:Q,currentMonthNumber:te,"aria-colindex":me+1},le.toString()))]},`week-${xe[0]}`))})}))]})}function eO(t){return Tt("MuiMonthCalendar",t)}const bb=Et("MuiMonthCalendar",["root","button","disabled","selected"]),yge=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],vge=(t,s)=>{const a={button:["button",s.isMonthDisabled&&"disabled",s.isMonthSelected&&"selected"]};return kt(a,eO,t)},jge=Ne("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(t,s)=>[s.button,{[`&.${bb.disabled}`]:s.disabled},{[`&.${bb.selected}`]:s.selected}]})(({theme:t})=>je({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Sn(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Sn(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${bb.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${bb.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),Nge=g.memo(function(s){const{autoFocus:a,classes:r,disabled:n,selected:i,value:o,onClick:l,onKeyDown:c,onFocus:m,onBlur:d,slots:p,slotProps:x}=s,j=rs(s,yge),_=g.useRef(null),{ownerState:S}=Va(),v=je({},S,{isMonthDisabled:n,isMonthSelected:i}),y=vge(r,v);Ia(()=>{a&&_.current?.focus()},[a]);const N=p?.monthButton??jge,C=ea({elementType:N,externalSlotProps:x?.monthButton,externalForwardedProps:j,additionalProps:{disabled:n,ref:_,type:"button",role:"radio","aria-checked":i,onClick:P=>l(P,o),onKeyDown:P=>c(P,o),onFocus:P=>m(P,o),onBlur:P=>d(P,o)},ownerState:v,className:y.button});return e.jsx(N,je({},C))}),_ge=["autoFocus","className","currentMonth","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],wge=t=>kt({root:["root"]},eO,t);function Sge(t,s){const a=$s({props:t,name:s}),r=Rg(a);return je({},a,r,{monthsPerRow:a.monthsPerRow??3})}const N8=(t,s,a,r,n)=>!!(t===s&&r&&n.isSameYear(a,r)),Cge=Ne("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:t=>Ln(t)&&t!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:hp,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),Pge=g.forwardRef(function(s,a){const r=Sge(s,"MuiMonthCalendar"),{autoFocus:n,className:i,currentMonth:o,classes:l,value:c,defaultValue:m,referenceDate:d,disabled:p,disableFuture:x,disablePast:j,maxDate:_,minDate:S,onChange:v,shouldDisableMonth:y,readOnly:N,onMonthFocus:C,hasFocus:P,onFocusedViewChange:E,monthsPerRow:D,timezone:T,gridLabelId:A,slots:I,slotProps:F}=r,z=rs(r,_ge),{value:O,handleValueChange:K,timezone:W}=cd({name:"MonthCalendar",timezone:T,value:c,defaultValue:m,referenceDate:d,onChange:v,valueManager:ur}),B=Pu(W),q=Rr(),H=Ms(),{ownerState:Q}=Va(),V=g.useMemo(()=>ur.getInitialReferenceValue({value:O,adapter:H,props:r,timezone:W,referenceDate:d,granularity:fo.month}),[]),M=wge(l),R=g.useMemo(()=>H.getMonth(B),[H,B]),$=g.useMemo(()=>O!=null?H.getMonth(O):null,[O,H]),[Y,J]=g.useState(()=>$||H.getMonth(V)),[te,ee]=_n({name:"MonthCalendar",state:"hasFocus",controlled:P,default:n??!1}),ne=Ot(me=>{ee(me),E&&E(me)}),he=g.useCallback(me=>{const Ae=H.startOfMonth(j&&H.isAfter(B,S)?B:S),Ce=H.startOfMonth(x&&H.isBefore(B,_)?B:_),_e=H.startOfMonth(me);return H.isBefore(_e,Ae)||H.isAfter(_e,Ce)?!0:y?y(_e):!1},[x,j,_,S,B,y,H]),de=Ot((me,Ae)=>{if(N)return;const Ce=O&&o&&!H.isSameYear(O,o)?H.setYear(O,H.getYear(o)):O,_e=H.setMonth(Ce??V,Ae);K(_e)}),ae=Ot(me=>{he(H.setMonth(O??o??V,me))||(J(me),ne(!0),C&&C(me))});g.useEffect(()=>{J(me=>$!==null&&me!==$?$:me)},[$]);const xe=Ot((me,Ae)=>{switch(me.key){case"ArrowUp":ae((12+Ae-3)%12),me.preventDefault();break;case"ArrowDown":ae((12+Ae+3)%12),me.preventDefault();break;case"ArrowLeft":ae((12+Ae+(q?1:-1))%12),me.preventDefault();break;case"ArrowRight":ae((12+Ae+(q?-1:1))%12),me.preventDefault();break}}),ge=Ot((me,Ae)=>{ae(Ae)}),le=Ot((me,Ae)=>{Y===Ae&&ne(!1)});return e.jsx(Cge,je({ref:a,className:Je(M.root,i),ownerState:Q,role:"radiogroup","aria-labelledby":A,monthsPerRow:D},z,{children:hS(H,o??O??V).map(me=>{const Ae=H.getMonth(me),Ce=H.format(me,"monthShort"),_e=H.format(me,"month"),Ie=N8(Ae,$,me,O,H),et=p||he(me);return e.jsx(Nge,{selected:Ie,value:Ae,onClick:de,onKeyDown:xe,autoFocus:te&&Ae===Y,disabled:et,tabIndex:Ae===Y&&!et?0:-1,onFocus:ge,onBlur:le,"aria-current":N8(Ae,R,me,B,H)?"date":void 0,"aria-label":_e,slots:I,slotProps:F,classes:l,children:Ce},Ce)})}))});function tO(t){return Tt("MuiYearCalendar",t)}const yb=Et("MuiYearCalendar",["root","button","disabled","selected"]),kge=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],Ege=(t,s)=>{const a={button:["button",s.isYearDisabled&&"disabled",s.isYearSelected&&"selected"]};return kt(a,tO,t)},Tge=Ne("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(t,s)=>[s.button,{[`&.${yb.disabled}`]:s.disabled},{[`&.${yb.selected}`]:s.selected}]})(({theme:t})=>je({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:Sn(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Sn(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${yb.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${yb.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),Mge=g.memo(function(s){const{autoFocus:a,classes:r,disabled:n,selected:i,value:o,onClick:l,onKeyDown:c,onFocus:m,onBlur:d,slots:p,slotProps:x}=s,j=rs(s,kge),_=g.useRef(null),{ownerState:S}=Va(),v=je({},S,{isYearDisabled:n,isYearSelected:i}),y=Ege(r,v);Ia(()=>{a&&_.current?.focus()},[a]);const N=p?.yearButton??Tge,C=ea({elementType:N,externalSlotProps:x?.yearButton,externalForwardedProps:j,additionalProps:{disabled:n,ref:_,type:"button",role:"radio","aria-checked":i,onClick:P=>l(P,o),onKeyDown:P=>c(P,o),onFocus:P=>m(P,o),onBlur:P=>d(P,o)},ownerState:v,className:y.button});return e.jsx(N,je({},C))}),Dge=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],Rge=t=>kt({root:["root"]},tO,t);function Age(t,s){const a=$s({props:t,name:s}),r=Rg(a);return je({},a,r,{yearsPerRow:a.yearsPerRow??3,yearsOrder:a.yearsOrder??"asc"})}const Ige=Ne("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:t=>Ln(t)&&t!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:hp,maxHeight:xhe,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),Oge=Ne("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),Fge=g.forwardRef(function(s,a){const r=Age(s,"MuiYearCalendar"),{autoFocus:n,className:i,classes:o,value:l,defaultValue:c,referenceDate:m,disabled:d,disableFuture:p,disablePast:x,maxDate:j,minDate:_,onChange:S,readOnly:v,shouldDisableYear:y,onYearFocus:N,hasFocus:C,onFocusedViewChange:P,yearsOrder:E,yearsPerRow:D,timezone:T,gridLabelId:A,slots:I,slotProps:F}=r,z=rs(r,Dge),{value:O,handleValueChange:K,timezone:W}=cd({name:"YearCalendar",timezone:T,value:l,defaultValue:c,referenceDate:m,onChange:S,valueManager:ur}),B=Pu(W),q=Rr(),H=Ms(),{ownerState:Q}=Va(),V=g.useMemo(()=>ur.getInitialReferenceValue({value:O,adapter:H,props:r,timezone:W,referenceDate:m,granularity:fo.year}),[]),M=Rge(o),R=g.useMemo(()=>H.getYear(B),[H,B]),$=g.useMemo(()=>O!=null?H.getYear(O):null,[O,H]),[Y,J]=g.useState(()=>$||H.getYear(V)),[te,ee]=_n({name:"YearCalendar",state:"hasFocus",controlled:C,default:n??!1}),ne=Ot(ke=>{ee(ke),P&&P(ke)}),he=g.useCallback(ke=>{if(x&&H.isBeforeYear(ke,B)||p&&H.isAfterYear(ke,B)||_&&H.isBeforeYear(ke,_)||j&&H.isAfterYear(ke,j))return!0;if(!y)return!1;const He=H.startOfYear(ke);return y(He)},[p,x,j,_,B,y,H]),de=Ot((ke,He)=>{if(v)return;const be=H.setYear(O??V,He);K(be)}),ae=Ot(ke=>{he(H.setYear(O??V,ke))||(J(ke),ne(!0),N?.(ke))});g.useEffect(()=>{J(ke=>$!==null&&ke!==$?$:ke)},[$]);const xe=E!=="desc"?D*1:D*-1,ge=q&&E==="asc"||!q&&E==="desc"?-1:1,le=Ot((ke,He)=>{switch(ke.key){case"ArrowUp":ae(He-xe),ke.preventDefault();break;case"ArrowDown":ae(He+xe),ke.preventDefault();break;case"ArrowLeft":ae(He-ge),ke.preventDefault();break;case"ArrowRight":ae(He+ge),ke.preventDefault();break}}),me=Ot((ke,He)=>{ae(He)}),Ae=Ot((ke,He)=>{Y===He&&ne(!1)}),Ce=g.useRef(null),_e=Us(a,Ce);g.useEffect(()=>{if(n||Ce.current===null)return;const ke=Ce.current.querySelector('[tabindex="0"]');if(!ke)return;const He=ke.offsetHeight,be=ke.offsetTop,Ge=Ce.current.clientHeight,at=Ce.current.scrollTop,vt=be+He;He>Ge||be<at||(Ce.current.scrollTop=vt-Ge/2-He/2)},[n]);const Ie=H.getYearRange([_,j]);E==="desc"&&Ie.reverse();let et=D-Ie.length%D;return et===D&&(et=0),e.jsxs(Ige,je({ref:_e,className:Je(M.root,i),ownerState:Q,role:"radiogroup","aria-labelledby":A,yearsPerRow:D},z,{children:[Ie.map(ke=>{const He=H.getYear(ke),be=He===$,Ge=d||he(ke);return e.jsx(Mge,{selected:be,value:He,onClick:de,onKeyDown:le,autoFocus:te&&He===Y,disabled:Ge,tabIndex:He===Y&&!Ge?0:-1,onFocus:me,onBlur:Ae,"aria-current":R===He?"date":void 0,slots:I,slotProps:F,classes:o,children:H.format(ke,"year")},H.format(ke,"year"))}),Array.from({length:et},(ke,He)=>e.jsx(Oge,{},He))]}))}),Lge=t=>Tt("MuiPickersCalendarHeader",t),$ge=Et("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),zge=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],qge=["ownerState"],Bge=t=>kt({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Lge,t),Uge=Ne("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Vge=Ne("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:t})=>je({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),Hge=Ne("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),Wge=Ne(Ws,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${$ge.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),Yge=Ne(Qpe,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),Gge=g.forwardRef(function(s,a){const r=Xr(),n=Ms(),i=$s({props:s,name:"MuiPickersCalendarHeader"}),{slots:o,slotProps:l,currentMonth:c,disabled:m,disableFuture:d,disablePast:p,maxDate:x,minDate:j,onMonthChange:_,onViewChange:S,view:v,reduceAnimations:y,views:N,labelId:C,className:P,classes:E,timezone:D,format:T=`${n.formats.month} ${n.formats.year}`}=i,A=rs(i,zge),{ownerState:I}=Va(),F=Bge(E),z=o?.switchViewButton??Wge,O=ea({elementType:z,externalSlotProps:l?.switchViewButton,additionalProps:{size:"small","aria-label":r.calendarViewSwitchingButtonAriaLabel(v)},ownerState:je({},I,{view:v}),className:F.switchViewButton}),K=o?.switchViewIcon??Yge,W=ea({elementType:K,externalSlotProps:l?.switchViewIcon,ownerState:I,className:F.switchViewIcon}),B=rs(W,qge),q=()=>_(n.addMonths(c,1)),H=()=>_(n.addMonths(c,-1)),Q=hhe(c,{disableFuture:d,maxDate:x,timezone:D}),V=fhe(c,{disablePast:p,minDate:j,timezone:D}),M=()=>{if(!(N.length===1||!S||m))if(N.length===2)S(N.find($=>$!==v)||N[0]);else{const $=N.indexOf(v)!==0?0:1;S(N[$])}};if(N.length===1&&N[0]==="year")return null;const R=n.formatByString(c,T);return e.jsxs(Uge,je({},A,{ownerState:I,className:Je(F.root,P),ref:a,children:[e.jsxs(Vge,{role:"presentation",onClick:M,ownerState:I,"aria-live":"polite",className:F.labelContainer,children:[e.jsx(XI,{reduceAnimations:y,transKey:R,children:e.jsx(Hge,{id:C,ownerState:I,className:F.label,children:R})}),N.length>1&&!m&&e.jsx(z,je({},O,{children:e.jsx(K,je({},B))}))]}),e.jsx(ou,{in:v==="day",appear:!y,enter:!y,children:e.jsx(vI,{slots:o,slotProps:l,onGoToPrevious:H,isPreviousDisabled:V,previousLabel:r.previousMonth,onGoToNext:q,isNextDisabled:Q,nextLabel:r.nextMonth})})]}))}),Kge="@media (prefers-reduced-motion: reduce)",Zm=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),_8=Zm&&Zm[1]?parseInt(Zm[1],10):null,w8=Zm&&Zm[2]?parseInt(Zm[2],10):null,Qge=_8&&_8<10||w8&&w8<13||!1;function sO(t){const s=bg(Kge,{defaultMatches:!1});return t??(s||Qge)}const Zge=t=>Tt("MuiDateCalendar",t);Et("MuiDateCalendar",["root","viewTransitionContainer"]);const Xge=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],Jge=t=>kt({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Zge,t);function e0e(t,s){const a=$s({props:t,name:s}),r=sO(a.reduceAnimations),n=Rg(a);return je({},a,n,{loading:a.loading??!1,openTo:a.openTo??"day",views:a.views??["year","day"],reduceAnimations:r,renderLoading:a.renderLoading??(()=>e.jsx("span",{children:"..."}))})}const t0e=Ne(Zv,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:fp}),s0e=Ne(XI,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),a0e=g.forwardRef(function(s,a){const r=Ms(),{ownerState:n}=Va(),i=Cn(),o=e0e(s,"MuiDateCalendar"),{autoFocus:l,onViewChange:c,value:m,defaultValue:d,referenceDate:p,disableFuture:x,disablePast:j,onChange:_,onMonthChange:S,reduceAnimations:v,shouldDisableDate:y,shouldDisableMonth:N,shouldDisableYear:C,view:P,views:E,openTo:D,className:T,classes:A,disabled:I,readOnly:F,minDate:z,maxDate:O,disableHighlightToday:K,focusedView:W,onFocusedViewChange:B,showDaysOutsideCurrentMonth:q,fixedWeekNumber:H,dayOfWeekFormatter:Q,slots:V,slotProps:M,loading:R,renderLoading:$,displayWeekNumber:Y,yearsOrder:J,yearsPerRow:te,monthsPerRow:ee,timezone:ne}=o,he=rs(o,Xge),{value:de,handleValueChange:ae,timezone:xe}=cd({name:"DateCalendar",timezone:ne,value:m,defaultValue:d,referenceDate:p,onChange:_,valueManager:ur}),{view:ge,setView:le,focusedView:me,setFocusedView:Ae,goToNextView:Ce,setValueAndGoToNextView:_e}=Mg({view:P,views:E,openTo:D,onChange:ae,onViewChange:c,autoFocus:l,focusedView:W,onFocusedViewChange:B}),{referenceDate:Ie,calendarState:et,setVisibleDate:ke,isDateDisabled:He,onMonthSwitchingAnimationEnd:be}=Gxe({value:de,referenceDate:p,reduceAnimations:v,onMonthChange:S,minDate:z,maxDate:O,shouldDisableDate:y,disablePast:j,disableFuture:x,timezone:xe,getCurrentMonthFromVisibleDate:(_t,hs)=>r.isSameMonth(_t,hs)?hs:r.startOfMonth(_t)}),Ge=I&&de||z,at=I&&de||O,vt=`${i}-grid-label`,dt=me!==null,ft=V?.calendarHeader??Gge,Mt=ea({elementType:ft,externalSlotProps:M?.calendarHeader,additionalProps:{views:E,view:ge,currentMonth:et.currentMonth,onViewChange:le,onMonthChange:_t=>ke({target:_t,reason:"header-navigation"}),minDate:Ge,maxDate:at,disabled:I,disablePast:j,disableFuture:x,reduceAnimations:v,timezone:xe,labelId:vt},ownerState:n}),ye=Ot(_t=>{const hs=r.startOfMonth(_t),cs=r.endOfMonth(_t),Ns=He(_t)?Rx({adapter:r,date:_t,minDate:r.isBefore(z,hs)?hs:z,maxDate:r.isAfter(O,cs)?cs:O,disablePast:j,disableFuture:x,isDateDisabled:He,timezone:xe}):_t;Ns?(_e(Ns,"finish"),ke({target:Ns,reason:"cell-interaction"})):(Ce(),ke({target:hs,reason:"cell-interaction"}))}),Le=Ot(_t=>{const hs=r.startOfYear(_t),cs=r.endOfYear(_t),Ns=He(_t)?Rx({adapter:r,date:_t,minDate:r.isBefore(z,hs)?hs:z,maxDate:r.isAfter(O,cs)?cs:O,disablePast:j,disableFuture:x,isDateDisabled:He,timezone:xe}):_t;Ns?(_e(Ns,"finish"),ke({target:Ns,reason:"cell-interaction"})):(Ce(),ke({target:hs,reason:"cell-interaction"}))}),ze=Ot(_t=>ae(_t&&Ry(r,_t,de??Ie),"finish",ge));g.useEffect(()=>{r.isValid(de)&&ke({target:de,reason:"controlled-value-change"})},[de]);const jt=Jge(A),es={disablePast:j,disableFuture:x,maxDate:O,minDate:z},Qt={disableHighlightToday:K,readOnly:F,disabled:I,timezone:xe,gridLabelId:vt,slots:V,slotProps:M},rt=g.useRef(ge);g.useEffect(()=>{rt.current!==ge&&(me===rt.current&&Ae(ge,!0),rt.current=ge)},[me,Ae,ge]);const zt=g.useMemo(()=>[de],[de]);return e.jsxs(t0e,je({ref:a,className:Je(jt.root,T),ownerState:n},he,{children:[e.jsx(ft,je({},Mt,{slots:V,slotProps:M})),e.jsx(s0e,{reduceAnimations:v,className:jt.viewTransitionContainer,transKey:ge,ownerState:n,children:e.jsxs("div",{children:[ge==="year"&&e.jsx(Fge,je({},es,Qt,{value:de,onChange:Le,shouldDisableYear:C,hasFocus:dt,onFocusedViewChange:_t=>Ae("year",_t),yearsOrder:J,yearsPerRow:te,referenceDate:Ie})),ge==="month"&&e.jsx(Pge,je({},es,Qt,{currentMonth:et.currentMonth,hasFocus:dt,className:T,value:de,onChange:ye,shouldDisableMonth:N,onFocusedViewChange:_t=>Ae("month",_t),monthsPerRow:ee,referenceDate:Ie})),ge==="day"&&e.jsx(bge,je({},et,es,Qt,{onMonthSwitchingAnimationEnd:be,hasFocus:dt,onFocusedDayChange:_t=>ke({target:_t,reason:"cell-interaction"}),reduceAnimations:v,selectedDays:zt,onSelectedDaysChange:ze,shouldDisableDate:y,shouldDisableMonth:N,shouldDisableYear:C,onFocusedViewChange:_t=>Ae("day",_t),showDaysOutsideCurrentMonth:q,fixedWeekNumber:H,dayOfWeekFormatter:Q,displayWeekNumber:Y,loading:R,renderLoading:$}))]})})]}))});function aO(t){return Tt("MuiPickersToolbar",t)}const r0e=Et("MuiPickersToolbar",["root","title","content"]);function t1(){const{ownerState:t}=Va(),s=Rr();return g.useMemo(()=>je({},t,{toolbarDirection:s?"rtl":"ltr"}),[t,s])}const n0e=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],i0e=t=>kt({root:["root"],title:["title"],content:["content"]},aO,t),o0e=Ne("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),l0e=Ne("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:t=>Ln(t)&&t!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),RS=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiPickersToolbar"}),{children:n,className:i,classes:o,toolbarTitle:l,hidden:c,titleId:m,landscapeDirection:d}=r,p=rs(r,n0e),x=t1(),j=i0e(o);return c?null:e.jsxs(o0e,je({ref:a,className:Je(j.root,i),ownerState:x},p,{children:[e.jsx(f,{color:"text.secondary",variant:"overline",id:m,className:j.title,children:l}),e.jsx(l0e,{className:j.content,ownerState:x,landscapeDirection:d,children:n})]}))});function c0e(t){return Tt("MuiDatePickerToolbar",t)}Et("MuiDatePickerToolbar",["root","title"]);const d0e=["toolbarFormat","toolbarPlaceholder","className","classes"],u0e=t=>kt({root:["root"],title:["title"]},c0e,t),m0e=Ne(RS,{name:"MuiDatePickerToolbar",slot:"Root"})({}),p0e=Ne(f,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),h0e=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiDatePickerToolbar"}),{toolbarFormat:n,toolbarPlaceholder:i="",className:o,classes:l}=r,c=rs(r,d0e),m=Ms(),{value:d,views:p,orientation:x}=cl(),j=Xr(),_=t1(),S=u0e(l),v=g.useMemo(()=>{if(!m.isValid(d))return i;const y=Ax(m,{format:n,views:p},!0);return m.formatByString(d,y)},[d,n,i,m,p]);return e.jsx(m0e,je({ref:a,toolbarTitle:j.datePickerToolbarTitle,className:Je(S.root,o)},c,{children:e.jsx(p0e,{variant:"h4",align:x==="landscape"?"left":"center",ownerState:_,className:S.title,children:v})}))});function rO(t,s){const a=$s({props:t,name:s}),r=Rg(a),n=g.useMemo(()=>a.localeText?.toolbarTitle==null?a.localeText:je({},a.localeText,{datePickerToolbarTitle:a.localeText.toolbarTitle}),[a.localeText]);return je({},a,r,{localeText:n},pS({views:a.views,openTo:a.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:je({toolbar:h0e},a.slots)})}function f0e(t){return Tt("MuiPickerPopper",t)}Et("MuiPickerPopper",["root","paper"]);const x0e=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],g0e=t=>kt({root:["root"],paper:["paper"]},f0e,t),b0e=Ne(xg,{name:"MuiPickerPopper",slot:"Root"})(({theme:t})=>({zIndex:t.zIndex.modal})),y0e=Ne(la,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:t})=>new Set(["top","top-start","top-end"]).has(t),style:{transformOrigin:"bottom center"}}]});function v0e(t,s){return s.documentElement.clientWidth<t.clientX||s.documentElement.clientHeight<t.clientY}function j0e(t,s){const a=g.useRef(!1),r=g.useRef(!1),n=g.useRef(null),i=g.useRef(!1);g.useEffect(()=>{if(!t)return;function c(){i.current=!0}return document.addEventListener("mousedown",c,!0),document.addEventListener("touchstart",c,!0),()=>{document.removeEventListener("mousedown",c,!0),document.removeEventListener("touchstart",c,!0),i.current=!1}},[t]);const o=Ot(c=>{if(!i.current)return;const m=r.current;r.current=!1;const d=cr(n.current);if(!n.current||"clientX"in c&&v0e(c,d))return;if(a.current){a.current=!1;return}let p;c.composedPath?p=c.composedPath().indexOf(n.current)>-1:p=!d.documentElement.contains(c.target)||n.current.contains(c.target),!p&&!m&&s(c)}),l=c=>{c.defaultMuiPrevented||(r.current=!0)};return g.useEffect(()=>{if(t){const c=cr(n.current),m=()=>{a.current=!0};return c.addEventListener("touchstart",o),c.addEventListener("touchmove",m),()=>{c.removeEventListener("touchstart",o),c.removeEventListener("touchmove",m)}}},[t,o]),g.useEffect(()=>{if(t){const c=cr(n.current);return c.addEventListener("click",o),()=>{c.removeEventListener("click",o),r.current=!1}}},[t,o]),[n,l,l]}const N0e=g.forwardRef((t,s)=>{const{PaperComponent:a,ownerState:r,children:n,paperSlotProps:i,paperClasses:o,onPaperClick:l,onPaperTouchStart:c}=t,m=rs(t,x0e),d=ea({elementType:a,externalSlotProps:i,additionalProps:{tabIndex:-1,elevation:8,ref:s},className:o,ownerState:r});return e.jsx(a,je({},m,d,{onClick:p=>{l(p),d.onClick?.(p)},onTouchStart:p=>{c(p),d.onTouchStart?.(p)},ownerState:r,children:n}))});function _0e(t){const s=$s({props:t,name:"MuiPickerPopper"}),{children:a,placement:r="bottom-start",slots:n,slotProps:i,classes:o}=s,{open:l,popupRef:c,reduceAnimations:m}=cl(),{ownerState:d,rootRefObject:p}=Va(),{dismissViews:x,getCurrentViewMode:j,onPopperExited:_,triggerElement:S,viewContainerRole:v}=Va();g.useEffect(()=>{function H(Q){l&&Q.key==="Escape"&&x()}return document.addEventListener("keydown",H),()=>{document.removeEventListener("keydown",H)}},[x,l]);const y=g.useRef(null);g.useEffect(()=>{v==="tooltip"||j()==="field"||(l?y.current=nn(p.current):y.current&&y.current instanceof HTMLElement&&setTimeout(()=>{y.current instanceof HTMLElement&&y.current.focus()}))},[l,v,j,p]);const N=g0e(o),C=Ot(()=>{v==="tooltip"?efe(()=>{p.current?.contains(nn(p.current))||c.current?.contains(nn(c.current))||x()}):x()}),[P,E,D]=j0e(l,C),T=g.useRef(null),A=Us(T,c),I=Us(A,P),F=H=>{H.key==="Escape"&&(H.stopPropagation(),x())},z=n?.desktopTransition??m?ou:wx,O=n?.desktopTrapFocus??W7,K=n?.desktopPaper??y0e,W=n?.popper??b0e,B=ea({elementType:W,externalSlotProps:i?.popper,additionalProps:{transition:!0,role:v??void 0,open:l,placement:r,anchorEl:S,onKeyDown:F},className:N.root,ownerState:d}),q=g.useMemo(()=>je({},d,{popperPlacement:B.placement}),[d,B.placement]);return e.jsx(W,je({},B,{children:({TransitionProps:H})=>e.jsx(O,je({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:v==="tooltip",isEnabled:()=>!0},i?.desktopTrapFocus,{children:e.jsx(z,je({},H,i?.desktopTransition,{onExited:Q=>{_?.(),i?.desktopTransition?.onExited?.(Q),H?.onExited?.()},children:e.jsx(N0e,{PaperComponent:K,ownerState:q,ref:I,onPaperClick:E,onPaperTouchStart:D,paperClasses:N.paper,paperSlotProps:i?.desktopPaper,children:a})}))}))}))}function S8(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function w0e(t,s){const[a,r]=g.useState(S8);return Ia(()=>{const n=()=>{r(S8())};return window.addEventListener("orientationchange",n),()=>{window.removeEventListener("orientationchange",n)}},[]),Cm(t,["hours","minutes","seconds"])?"portrait":s??a}function S0e(t){const{props:s,valueManager:a,validator:r}=t,{value:n,defaultValue:i,onChange:o,referenceDate:l,timezone:c,onAccept:m,closeOnSelect:d,open:p,onOpen:x,onClose:j}=s,{current:_}=g.useRef(i),{current:S}=g.useRef(n!==void 0),{current:v}=g.useRef(p!==void 0),y=Ms(),{timezone:N,value:C,handleValueChange:P}=cd({name:"a picker component",timezone:c,value:n,defaultValue:_,referenceDate:l,onChange:o,valueManager:a}),[E,D]=g.useState(()=>({open:!1,lastExternalValue:C,clockShallowValue:void 0,lastCommittedValue:C,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:T}=RI({props:s,validator:r,timezone:N,value:C,onError:s.onError}),A=Ot(O=>{const K=typeof O=="function"?O(E.open):O;v||D(W=>je({},W,{open:K})),K&&x&&x(),K||j?.()}),I=Ot((O,K)=>{const{changeImportance:W="accept",skipPublicationIfPristine:B=!1,validationError:q,shortcut:H,shouldClose:Q=W==="accept"}=K??{};let V,M;!B&&!S&&!E.hasBeenModifiedSinceMount?(V=!0,M=W==="accept"):(V=!a.areValuesEqual(y,O,C),M=W==="accept"&&!a.areValuesEqual(y,O,E.lastCommittedValue)),D(Y=>je({},Y,{clockShallowValue:V?void 0:Y.clockShallowValue,lastCommittedValue:M?O:Y.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let R=null;const $=()=>(R||(R={validationError:q??T(O)},H&&(R.shortcut=H)),R);V&&P(O,$()),M&&m&&m(O,$()),Q&&A(!1)});C!==E.lastExternalValue&&D(O=>je({},O,{lastExternalValue:C,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const F=Ot((O,K="partial")=>{if(K==="shallow"){D(W=>je({},W,{clockShallowValue:O,hasBeenModifiedSinceMount:!0}));return}I(O,{changeImportance:K==="finish"&&d?"accept":"set"})});g.useEffect(()=>{if(v){if(p===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");D(O=>je({},O,{open:p}))}},[v,p]);const z=g.useMemo(()=>a.cleanValue(y,E.clockShallowValue===void 0?C:E.clockShallowValue),[y,a,E.clockShallowValue,C]);return{timezone:N,state:E,setValue:I,setValueFromView:F,setOpen:A,value:C,viewValue:z}}const C0e=["className","sx"],nO=({ref:t,props:s,valueManager:a,valueType:r,variant:n,validator:i,onPopperExited:o,autoFocusView:l,rendererInterceptor:c,localeText:m,viewContainerRole:d,getStepNavigation:p})=>{const{views:x,view:j,openTo:_,onViewChange:S,viewRenderers:v,reduceAnimations:y,orientation:N,disableOpenPicker:C,closeOnSelect:P,disabled:E,readOnly:D,formatDensity:T,enableAccessibleFieldDOMStructure:A,selectedSections:I,onSelectedSectionsChange:F,format:z,label:O,autoFocus:K,name:W}=s,{className:B,sx:q}=s,H=rs(s,C0e),Q=Cn(),V=Ms(),M=sO(y),R=w0e(x,N),{current:$}=g.useRef(_??null),[Y,J]=g.useState(null),te=g.useRef(null),ee=g.useRef(null),ne=g.useRef(null),he=Us(t,ne),{timezone:de,state:ae,setOpen:xe,setValue:ge,setValueFromView:le,value:me,viewValue:Ae}=S0e({props:s,valueManager:a,validator:i}),{view:Ce,setView:_e,defaultView:Ie,focusedView:et,setFocusedView:ke,setValueAndGoToNextView:He,goToNextStep:be,hasNextStep:Ge,hasSeveralSteps:at}=Mg({view:j,views:x,openTo:_,onChange:le,onViewChange:S,autoFocus:l,getStepNavigation:p}),vt=Ot(()=>ge(a.emptyValue)),dt=Ot(()=>ge(a.getTodayValue(V,de,r))),ft=Ot(()=>ge(me)),Mt=Ot(()=>ge(ae.lastCommittedValue,{skipPublicationIfPristine:!0})),ye=Ot(()=>{ge(me,{skipPublicationIfPristine:!0})}),{hasUIView:Le,viewModeLookup:ze,timeViewsCount:jt}=g.useMemo(()=>x.reduce((qt,zs)=>{const Bt=v[zs]==null?"field":"UI";return qt.viewModeLookup[zs]=Bt,Bt==="UI"&&(qt.hasUIView=!0,xu(zs)&&(qt.timeViewsCount+=1)),qt},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[v,x]),es=ze[Ce],Qt=Ot(()=>es),[rt,zt]=g.useState(es==="UI"?Ce:null);rt!==Ce&&ze[Ce]==="UI"&&zt(Ce),Ia(()=>{es==="field"&&ae.open&&(xe(!1),setTimeout(()=>{ee?.current?.setSelectedSections(Ce),ee?.current?.focusField(Ce)}))},[Ce]),Ia(()=>{if(!ae.open)return;let qt=Ce;es==="field"&&rt!=null&&(qt=rt),qt!==Ie&&ze[qt]==="UI"&&ze[Ie]==="UI"&&(qt=Ie),qt!==Ce&&_e(qt),ke(qt,!0)},[ae.open]);const _t=g.useMemo(()=>({isPickerValueEmpty:a.areValuesEqual(V,me,a.emptyValue),isPickerOpen:ae.open,isPickerDisabled:s.disabled??!1,isPickerReadOnly:s.readOnly??!1,pickerOrientation:R,pickerVariant:n}),[V,a,me,ae.open,R,n,s.disabled,s.readOnly]),hs=g.useMemo(()=>C||!Le?"hidden":E||D?"disabled":"enabled",[C,Le,E,D]),cs=Ot(be),Ns=g.useMemo(()=>P&&!at?[]:["cancel","nextOrAccept"],[P,at]),Gs=g.useMemo(()=>({setValue:ge,setOpen:xe,clearValue:vt,setValueToToday:dt,acceptValueChanges:ft,cancelValueChanges:Mt,setView:_e,goToNextStep:cs}),[ge,xe,vt,dt,ft,Mt,_e,cs]),Is=g.useMemo(()=>je({},Gs,{value:me,timezone:de,open:ae.open,views:x,view:rt,initialView:$,disabled:E??!1,readOnly:D??!1,autoFocus:K??!1,variant:n,orientation:R,popupRef:te,reduceAnimations:M,triggerRef:J,triggerStatus:hs,hasNextStep:Ge,fieldFormat:z??"",name:W,label:O,rootSx:q,rootRef:he,rootClassName:B}),[Gs,me,he,n,R,M,E,D,z,B,W,O,q,hs,Ge,de,ae.open,rt,x,$,K]),Ds=g.useMemo(()=>({dismissViews:ye,ownerState:_t,hasUIView:Le,getCurrentViewMode:Qt,rootRefObject:ne,labelId:Q,triggerElement:Y,viewContainerRole:d,defaultActionBarActions:Ns,onPopperExited:o}),[ye,_t,Le,Qt,Q,Y,d,Ns,o]),pa=g.useMemo(()=>({formatDensity:T,enableAccessibleFieldDOMStructure:A,selectedSections:I,onSelectedSectionsChange:F,fieldRef:ee}),[T,A,I,F,ee]);return{providerProps:{localeText:m,contextValue:Is,privateContextValue:Ds,actionsContextValue:Gs,fieldPrivateContextValue:pa,isValidContextValue:qt=>{const zs=i({adapter:V,value:qt,timezone:de,props:s});return!a.hasError(zs)}},renderCurrentView:()=>{if(rt==null)return null;const qt=v[rt];if(qt==null)return null;const zs=je({},H,{views:x,timezone:de,value:Ae,onChange:He,view:rt,onViewChange:_e,showViewSwitcher:jt>1,timeViewsCount:jt},d==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:et,onFocusedViewChange:ke});return c?e.jsx(c,{viewRenderers:v,popperView:rt,rendererProps:zs}):qt(zs)},ownerState:_t}};function iO(t){return Tt("MuiPickersLayout",t)}const ho=Et("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),P0e=["actions"],k0e=Ne(Cp,{name:"MuiPickersLayout",slot:"ActionBar"})({});function E0e(t){const{actions:s}=t,a=rs(t,P0e),r=Xr(),{clearValue:n,setValueToToday:i,acceptValueChanges:o,cancelValueChanges:l,goToNextStep:c,hasNextStep:m}=cl();if(s==null||s.length===0)return null;const d=s?.map(p=>{switch(p){case"clear":return e.jsx(ii,{onClick:n,children:r.clearButtonLabel},p);case"cancel":return e.jsx(ii,{onClick:l,children:r.cancelButtonLabel},p);case"accept":return e.jsx(ii,{onClick:o,children:r.okButtonLabel},p);case"today":return e.jsx(ii,{onClick:i,children:r.todayButtonLabel},p);case"next":return e.jsx(ii,{onClick:c,children:r.nextStepButtonLabel},p);case"nextOrAccept":return m?e.jsx(ii,{onClick:c,children:r.nextStepButtonLabel},p):e.jsx(ii,{onClick:o,children:r.okButtonLabel},p);default:return null}});return e.jsx(k0e,je({},a,{children:d}))}const T0e=g.memo(E0e),M0e=["items","changeImportance"],D0e=["getValue"],R0e=Ne(X7,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function A0e(t){const{items:s,changeImportance:a="accept"}=t,r=rs(t,M0e),{setValue:n}=Kpe(),i=Gpe();if(s==null||s.length===0)return null;const o=s.map(l=>{let{getValue:c}=l,m=rs(l,D0e);const d=c({isValid:i});return je({},m,{label:m.label,onClick:()=>{n(d,{changeImportance:a,shortcut:m})},disabled:!i(d)})});return e.jsx(R0e,je({dense:!0,sx:[{maxHeight:fp,maxWidth:200,overflow:"auto"},...Array.isArray(r.sx)?r.sx:[r.sx]]},r,{children:o.map(l=>e.jsx(WJ,{children:e.jsx(Re,je({},l))},l.id??l.label))}))}const I0e=["ownerState"];function O0e(t){return t.view!==null}const F0e=(t,s)=>{const{pickerOrientation:a}=s;return kt({root:["root",a==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},iO,t)},oO=t=>{const{ownerState:s,defaultActionBarActions:a}=Va(),{view:r}=cl(),n=Rr(),{children:i,slots:o,slotProps:l,classes:c}=t,m=g.useMemo(()=>je({},s,{layoutDirection:n?"rtl":"ltr",hasShortcuts:!1}),[s,n]),d=F0e(c,m),p=o?.actionBar??T0e,x=ea({elementType:p,externalSlotProps:l?.actionBar,additionalProps:{actions:a},className:d.actionBar,ownerState:m}),j=rs(x,I0e),_=e.jsx(p,je({},j)),S=o?.toolbar,v=ea({elementType:S,externalSlotProps:l?.toolbar,className:d.toolbar,ownerState:m}),y=O0e(v)&&S?e.jsx(S,je({},v)):null,N=i,C=o?.tabs,P=r&&C?e.jsx(C,je({className:d.tabs},l?.tabs)):null,E=o?.shortcuts??A0e,D=ea({elementType:E,externalSlotProps:l?.shortcuts,className:d.shortcuts,ownerState:m}),T=Array.isArray(D?.items)&&D.items.length>0,A=r&&E?e.jsx(E,je({},D)):null;return{toolbar:y,content:N,tabs:P,actionBar:_,shortcuts:A,ownerState:je({},m,{hasShortcuts:T})}},L0e=(t,s)=>{const{pickerOrientation:a}=s;return kt({root:["root",a==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},iO,t)},lO=Ne("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${ho.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape",hasShortcuts:!1},style:{[`& .${ho.toolbar}`]:{gridColumn:1,gridRow:"1 / 3"}}},{props:{pickerOrientation:"landscape",hasShortcuts:!0},style:{[`& .${ho.toolbar}`]:{gridColumn:"2 / 4",gridRow:1,maxWidth:"max-content"},[`& .${ho.shortcuts}`]:{gridColumn:1,gridRow:2}}},{props:{pickerOrientation:"portrait"},style:{[`& .${ho.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${ho.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{hasShortcuts:!0,layoutDirection:"rtl"},style:{[`& .${ho.shortcuts}`]:{gridColumn:4}}}]}),cO=Ne("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),dO=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiPickersLayout"}),{toolbar:n,content:i,tabs:o,actionBar:l,shortcuts:c,ownerState:m}=oO(r),{orientation:d,variant:p}=cl(),{sx:x,className:j,classes:_}=r,S=L0e(_,m);return e.jsxs(lO,{ref:a,sx:x,className:Je(S.root,j),ownerState:m,children:[d==="landscape"?c:n,d==="landscape"?n:c,e.jsx(cO,{className:S.contentWrapper,ownerState:m,children:p==="desktop"?e.jsxs(g.Fragment,{children:[i,o]}):e.jsxs(g.Fragment,{children:[o,i]})}),l]})});function uO(t){const{steps:s}=t;return phe({steps:s,isViewMatchingStep:(a,r)=>r.views==null||r.views.includes(a),onStepChange:({step:a,defaultView:r,setView:n,view:i,views:o})=>{const l=a.views==null?r:a.views.find(c=>o.includes(c));l!==i&&n(l)}})}const $0e=["props","steps"],z0e=["ownerState"],AS=t=>{let{props:s,steps:a}=t,r=rs(t,$0e);const{slots:n,slotProps:i,label:o,inputRef:l,localeText:c}=s,m=uO({steps:a}),{providerProps:d,renderCurrentView:p,ownerState:x}=nO(je({},r,{props:s,localeText:c,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:m})),j=d.privateContextValue.labelId,_=i?.toolbar?.hidden??!1,S=n.field,v=ea({elementType:S,externalSlotProps:i?.field,additionalProps:je({},_&&{id:j}),ownerState:x}),y=rs(v,z0e),N=n.layout??dO;let C=j;_&&(o?C=`${j}-label`:C=void 0);const P=je({},i,{toolbar:je({},i?.toolbar,{titleId:j}),popper:je({"aria-labelledby":C},i?.popper)});return{renderPicker:()=>e.jsxs(gI,je({},d,{children:[e.jsx(S,je({},y,{slots:n,slotProps:P,inputRef:l})),e.jsx(_0e,{slots:n,slotProps:P,children:e.jsx(N,je({},P?.layout,{slots:n,slotProps:P,children:p()}))})]}))}},Zi=({view:t,onViewChange:s,views:a,focusedView:r,onFocusedViewChange:n,value:i,defaultValue:o,referenceDate:l,onChange:c,className:m,classes:d,disableFuture:p,disablePast:x,minDate:j,maxDate:_,shouldDisableDate:S,shouldDisableMonth:v,shouldDisableYear:y,reduceAnimations:N,onMonthChange:C,monthsPerRow:P,onYearChange:E,yearsOrder:D,yearsPerRow:T,slots:A,slotProps:I,loading:F,renderLoading:z,disableHighlightToday:O,readOnly:K,disabled:W,showDaysOutsideCurrentMonth:B,dayOfWeekFormatter:q,sx:H,autoFocus:Q,fixedWeekNumber:V,displayWeekNumber:M,timezone:R})=>e.jsx(a0e,{view:t,onViewChange:s,views:a.filter(pp),focusedView:r&&pp(r)?r:null,onFocusedViewChange:n,value:i,defaultValue:o,referenceDate:l,onChange:c,className:m,classes:d,disableFuture:p,disablePast:x,minDate:j,maxDate:_,shouldDisableDate:S,shouldDisableMonth:v,shouldDisableYear:y,reduceAnimations:N,onMonthChange:C,monthsPerRow:P,onYearChange:E,yearsOrder:D,yearsPerRow:T,slots:A,slotProps:I,loading:F,renderLoading:z,disableHighlightToday:O,readOnly:K,disabled:W,showDaysOutsideCurrentMonth:B,dayOfWeekFormatter:q,sx:H,autoFocus:Q,fixedWeekNumber:V,displayWeekNumber:M,timezone:R}),mO=g.forwardRef(function(s,a){const r=Ms(),n=rO(s,"MuiDesktopDatePicker"),i=je({day:Zi,month:Zi,year:Zi},n.viewRenderers),o=je({},n,{closeOnSelect:n.closeOnSelect??!0,viewRenderers:i,format:Ax(r,n,!1),yearsPerRow:n.yearsPerRow??4,slots:je({field:GI},n.slots),slotProps:je({},n.slotProps,{field:c=>je({},mn(n.slotProps?.field,c),Rp(n)),toolbar:je({hidden:!0},n.slotProps?.toolbar)})}),{renderPicker:l}=AS({ref:a,props:o,valueManager:ur,valueType:"date",validator:Ap,steps:null});return l()});mO.propTypes={autoFocus:re.bool,className:re.string,closeOnSelect:re.bool,dayOfWeekFormatter:re.func,defaultValue:re.object,disabled:re.bool,disableFuture:re.bool,disableHighlightToday:re.bool,disableOpenPicker:re.bool,disablePast:re.bool,displayWeekNumber:re.bool,enableAccessibleFieldDOMStructure:re.any,fixedWeekNumber:re.number,format:re.string,formatDensity:re.oneOf(["dense","spacious"]),inputRef:Sp,label:re.node,loading:re.bool,localeText:re.object,maxDate:re.object,minDate:re.object,monthsPerRow:re.oneOf([3,4]),name:re.string,onAccept:re.func,onChange:re.func,onClose:re.func,onError:re.func,onMonthChange:re.func,onOpen:re.func,onSelectedSectionsChange:re.func,onViewChange:re.func,onYearChange:re.func,open:re.bool,openTo:re.oneOf(["day","month","year"]),orientation:re.oneOf(["landscape","portrait"]),readOnly:re.bool,reduceAnimations:re.bool,referenceDate:re.object,renderLoading:re.func,selectedSections:re.oneOfType([re.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),re.number]),shouldDisableDate:re.func,shouldDisableMonth:re.func,shouldDisableYear:re.func,showDaysOutsideCurrentMonth:re.bool,slotProps:re.object,slots:re.object,sx:re.oneOfType([re.arrayOf(re.oneOfType([re.func,re.object,re.bool])),re.func,re.object]),timezone:re.string,value:re.object,view:re.oneOf(["day","month","year"]),viewRenderers:re.shape({day:re.func,month:re.func,year:re.func}),views:re.arrayOf(re.oneOf(["day","month","year"]).isRequired),yearsOrder:re.oneOf(["asc","desc"]),yearsPerRow:re.oneOf([3,4])};const q0e=Ne(ol)({[`& .${Xf.container}`]:{outline:0},[`& .${Xf.paper}`]:{outline:0,minWidth:hp}}),B0e=Ne(Pp)({"&:first-of-type":{padding:0}});function U0e(t){const{children:s,slots:a,slotProps:r}=t,{open:n}=cl(),{dismissViews:i,onPopperExited:o}=Va(),l=a?.dialog??q0e,c=a?.mobileTransition??ou;return e.jsx(l,je({open:n,onClose:()=>{i(),o?.()}},r?.dialog,{TransitionComponent:c,TransitionProps:r?.mobileTransition,PaperComponent:a?.mobilePaper,PaperProps:r?.mobilePaper,children:e.jsx(B0e,{children:s})}))}const V0e=["props","steps"],H0e=["ownerState"],IS=t=>{let{props:s,steps:a}=t,r=rs(t,V0e);const{slots:n,slotProps:i,label:o,inputRef:l,localeText:c}=s,m=uO({steps:a}),{providerProps:d,renderCurrentView:p,ownerState:x}=nO(je({},r,{props:s,localeText:c,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:m})),j=d.privateContextValue.labelId,_=i?.toolbar?.hidden??!1,S=n.field,v=ea({elementType:S,externalSlotProps:i?.field,additionalProps:je({},_&&{id:j}),ownerState:x}),y=rs(v,H0e),N=n.layout??dO;let C=j;_&&(o?C=`${j}-label`:C=void 0);const P=je({},i,{toolbar:je({},i?.toolbar,{titleId:j}),mobilePaper:je({"aria-labelledby":C},i?.mobilePaper)});return{renderPicker:()=>e.jsxs(gI,je({},d,{children:[e.jsx(S,je({},y,{slots:n,slotProps:P,inputRef:l})),e.jsx(U0e,{slots:n,slotProps:P,children:e.jsx(N,je({},P?.layout,{slots:n,slotProps:P,children:p()}))})]}))}},pO=g.forwardRef(function(s,a){const r=Ms(),n=rO(s,"MuiMobileDatePicker"),i=je({day:Zi,month:Zi,year:Zi},n.viewRenderers),o=je({},n,{viewRenderers:i,format:Ax(r,n,!1),slots:je({field:GI},n.slots),slotProps:je({},n.slotProps,{field:c=>je({},mn(n.slotProps?.field,c),Rp(n)),toolbar:je({hidden:!1},n.slotProps?.toolbar)})}),{renderPicker:l}=IS({ref:a,props:o,valueManager:ur,valueType:"date",validator:Ap,steps:null});return l()});pO.propTypes={autoFocus:re.bool,className:re.string,closeOnSelect:re.bool,dayOfWeekFormatter:re.func,defaultValue:re.object,disabled:re.bool,disableFuture:re.bool,disableHighlightToday:re.bool,disableOpenPicker:re.bool,disablePast:re.bool,displayWeekNumber:re.bool,enableAccessibleFieldDOMStructure:re.any,fixedWeekNumber:re.number,format:re.string,formatDensity:re.oneOf(["dense","spacious"]),inputRef:Sp,label:re.node,loading:re.bool,localeText:re.object,maxDate:re.object,minDate:re.object,monthsPerRow:re.oneOf([3,4]),name:re.string,onAccept:re.func,onChange:re.func,onClose:re.func,onError:re.func,onMonthChange:re.func,onOpen:re.func,onSelectedSectionsChange:re.func,onViewChange:re.func,onYearChange:re.func,open:re.bool,openTo:re.oneOf(["day","month","year"]),orientation:re.oneOf(["landscape","portrait"]),readOnly:re.bool,reduceAnimations:re.bool,referenceDate:re.object,renderLoading:re.func,selectedSections:re.oneOfType([re.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),re.number]),shouldDisableDate:re.func,shouldDisableMonth:re.func,shouldDisableYear:re.func,showDaysOutsideCurrentMonth:re.bool,slotProps:re.object,slots:re.object,sx:re.oneOfType([re.arrayOf(re.oneOfType([re.func,re.object,re.bool])),re.func,re.object]),timezone:re.string,value:re.object,view:re.oneOf(["day","month","year"]),viewRenderers:re.shape({day:re.func,month:re.func,year:re.func}),views:re.arrayOf(re.oneOf(["day","month","year"]).isRequired),yearsOrder:re.oneOf(["asc","desc"]),yearsPerRow:re.oneOf([3,4])};const W0e=["desktopModeMediaQuery"],C8=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiDatePicker"}),{desktopModeMediaQuery:n=_S}=r,i=rs(r,W0e);return bg(n,{defaultMatches:!0})?e.jsx(mO,je({ref:a},i)):e.jsx(pO,je({ref:a},i))});function Y0e(t){return Tt("MuiPickersToolbarText",t)}const G0e=Et("MuiPickersToolbarText",["root"]),K0e=["className","classes","selected","value"],Q0e=t=>kt({root:["root"]},Y0e,t),Z0e=Ne(f,{name:"MuiPickersToolbarText",slot:"Root"})(({theme:t})=>({transition:t.transitions.create("color"),color:(t.vars||t).palette.text.secondary,"&[data-selected]":{color:(t.vars||t).palette.text.primary}})),OS=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiPickersToolbarText"}),{className:n,classes:i,selected:o,value:l}=r,c=rs(r,K0e),m=Q0e(i);return e.jsx(Z0e,je({ref:a,className:Je(m.root,n),component:"span",ownerState:r},o&&{"data-selected":!0},c,{children:l}))}),X0e=["align","className","classes","selected","typographyClassName","value","variant","width"],J0e=t=>kt({root:["root"]},aO,t),ebe=Ne(ii,{name:"MuiPickersToolbarButton",slot:"Root"})({padding:0,minWidth:16,textTransform:"none"}),si=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiPickersToolbarButton"}),{align:n,className:i,classes:o,selected:l,typographyClassName:c,value:m,variant:d,width:p}=r,x=rs(r,X0e),j=J0e(o);return e.jsx(ebe,je({variant:"text",ref:a,className:Je(j.root,i),ownerState:r},p?{sx:{width:p}}:{},x,{children:e.jsx(OS,{align:n,className:c,variant:d,value:m,selected:l})}))});function tbe(t){return Tt("MuiTimePickerToolbar",t)}const nx=Et("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),sbe=["ampm","ampmInClock","className","classes"],abe=(t,s)=>{const{pickerOrientation:a,toolbarDirection:r}=s;return kt({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",a==="landscape"&&"hourMinuteLabelLandscape",r==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",a==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},tbe,t)},rbe=Ne(RS,{name:"MuiTimePickerToolbar",slot:"Root"})({}),nbe=Ne(OS,{name:"MuiTimePickerToolbar",slot:"Separator"})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),ibe=Ne("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(t,s)=>[{[`&.${nx.hourMinuteLabelLandscape}`]:s.hourMinuteLabelLandscape,[`&.${nx.hourMinuteLabelReverse}`]:s.hourMinuteLabelReverse},s.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{pickerOrientation:"landscape"},style:{marginTop:"auto"}}]}),obe=Ne("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,s)=>[{[`.${nx.ampmLabel}`]:s.ampmLabel},{[`&.${nx.ampmLandscape}`]:s.ampmLandscape},s.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${nx.ampmLabel}`]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function lbe(t){const s=$s({props:t,name:"MuiTimePickerToolbar"}),{ampm:a,ampmInClock:r,className:n,classes:i}=s,o=rs(s,sbe),l=Ms(),c=Xr(),m=t1(),d=abe(i,m),{value:p,setValue:x,disabled:j,readOnly:_,view:S,setView:v,views:y}=cl(),N=!!(a&&!r&&y.includes("hours")),{meridiemMode:C,handleMeridiemChange:P}=Kv(p,a,T=>x(T,{changeImportance:"set"})),E=T=>l.isValid(p)?l.format(p,T):"--",D=e.jsx(nbe,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:d.separator});return e.jsxs(rbe,je({landscapeDirection:"row",toolbarTitle:c.timePickerToolbarTitle,ownerState:m,className:Je(d.root,n)},o,{children:[e.jsxs(ibe,{className:d.hourMinuteLabel,ownerState:m,children:[Cm(y,"hours")&&e.jsx(si,{tabIndex:-1,variant:"h3",onClick:()=>v("hours"),selected:S==="hours",value:E(a?"hours12h":"hours24h")}),Cm(y,["hours","minutes"])&&D,Cm(y,"minutes")&&e.jsx(si,{tabIndex:-1,variant:"h3",onClick:()=>v("minutes"),selected:S==="minutes",value:E("minutes")}),Cm(y,["minutes","seconds"])&&D,Cm(y,"seconds")&&e.jsx(si,{variant:"h3",onClick:()=>v("seconds"),selected:S==="seconds",value:E("seconds")})]}),N&&e.jsxs(obe,{className:d.ampmSelection,ownerState:m,children:[e.jsx(si,{disableRipple:!0,variant:"subtitle2",selected:C==="am",typographyClassName:d.ampmLabel,value:xo(l,"am"),onClick:_?void 0:()=>P("am"),disabled:j}),e.jsx(si,{disableRipple:!0,variant:"subtitle2",selected:C==="pm",typographyClassName:d.ampmLabel,value:xo(l,"pm"),onClick:_?void 0:()=>P("pm"),disabled:j})]})]}))}function hO(t,s){const a=Ms(),r=$s({props:t,name:s}),n=FI(r),i=r.ampm??a.is12HourCycleInCurrentLocale(),o=g.useMemo(()=>r.localeText?.toolbarTitle==null?r.localeText:je({},r.localeText,{timePickerToolbarTitle:r.localeText.toolbarTitle}),[r.localeText]);return je({},r,n,{ampm:i,localeText:o},pS({views:r.views,openTo:r.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{slots:je({toolbar:lbe},r.slots),slotProps:je({},r.slotProps,{toolbar:je({ampm:i,ampmInClock:r.ampmInClock},r.slotProps?.toolbar)})})}const CN=({view:t,onViewChange:s,focusedView:a,onFocusedViewChange:r,views:n,value:i,defaultValue:o,referenceDate:l,onChange:c,className:m,classes:d,disableFuture:p,disablePast:x,minTime:j,maxTime:_,shouldDisableTime:S,minutesStep:v,ampm:y,ampmInClock:N,slots:C,slotProps:P,readOnly:E,disabled:D,sx:T,autoFocus:A,showViewSwitcher:I,disableIgnoringDatePartForTimeValidation:F,timezone:z})=>e.jsx(Xhe,{view:t,onViewChange:s,focusedView:a&&xu(a)?a:null,onFocusedViewChange:r,views:n.filter(xu),value:i,defaultValue:o,referenceDate:l,onChange:c,className:m,classes:d,disableFuture:p,disablePast:x,minTime:j,maxTime:_,shouldDisableTime:S,minutesStep:v,ampm:y,ampmInClock:N,slots:C,slotProps:P,readOnly:E,disabled:D,sx:T,autoFocus:A,showViewSwitcher:I,disableIgnoringDatePartForTimeValidation:F,timezone:z}),FS=({view:t,onViewChange:s,focusedView:a,onFocusedViewChange:r,views:n,value:i,defaultValue:o,referenceDate:l,onChange:c,className:m,classes:d,disableFuture:p,disablePast:x,minTime:j,maxTime:_,shouldDisableTime:S,minutesStep:v,ampm:y,slots:N,slotProps:C,readOnly:P,disabled:E,sx:D,autoFocus:T,disableIgnoringDatePartForTimeValidation:A,timeSteps:I,skipDisabled:F,timezone:z})=>e.jsx(ofe,{view:t,onViewChange:s,focusedView:a&&xu(a)?a:null,onFocusedViewChange:r,views:n.filter(xu),value:i,defaultValue:o,referenceDate:l,onChange:c,className:m,classes:d,disableFuture:p,disablePast:x,minTime:j,maxTime:_,shouldDisableTime:S,minutesStep:v,ampm:y,slots:N,slotProps:C,readOnly:P,disabled:E,sx:D,autoFocus:T,disableIgnoringDatePartForTimeValidation:A,timeStep:I?.minutes,skipDisabled:F,timezone:z}),gp=({view:t,onViewChange:s,focusedView:a,onFocusedViewChange:r,views:n,value:i,defaultValue:o,referenceDate:l,onChange:c,className:m,classes:d,disableFuture:p,disablePast:x,minTime:j,maxTime:_,shouldDisableTime:S,minutesStep:v,ampm:y,slots:N,slotProps:C,readOnly:P,disabled:E,sx:D,autoFocus:T,disableIgnoringDatePartForTimeValidation:A,timeSteps:I,skipDisabled:F,timezone:z})=>e.jsx(yfe,{view:t,onViewChange:s,focusedView:a&&Mm(a)?a:null,onFocusedViewChange:r,views:n.filter(xu),value:i,defaultValue:o,referenceDate:l,onChange:c,className:m,classes:d,disableFuture:p,disablePast:x,minTime:j,maxTime:_,shouldDisableTime:S,minutesStep:v,ampm:y,slots:N,slotProps:C,readOnly:P,disabled:E,sx:D,autoFocus:T,disableIgnoringDatePartForTimeValidation:A,timeSteps:I,skipDisabled:F,timezone:z}),cbe=["views","format"],fO=(t,s,a)=>{let{views:r,format:n}=s,i=rs(s,cbe);if(n)return n;const o=[],l=[];if(r.forEach(d=>{xu(d)?l.push(d):pp(d)&&o.push(d)}),l.length===0)return Ax(t,je({views:o},i),!1);if(o.length===0)return Iy(t,je({views:l},i));const c=Iy(t,je({views:l},i));return`${Ax(t,je({views:o},i),!1)} ${c}`},dbe=(t,s,a)=>a?s.filter(r=>!Mm(r)||r==="hours"):t?[...s,"meridiem"]:s,ube=(t,s)=>1440/((t.hours??1)*(t.minutes??5))<=s;function xO({thresholdToRenderTimeInASingleColumn:t,ampm:s,timeSteps:a,views:r}){const n=t??24,i=je({hours:1,minutes:5,seconds:5},a),o=ube(i,n);return{thresholdToRenderTimeInASingleColumn:n,timeSteps:i,shouldRenderTimeInASingleColumn:o,views:dbe(s,r,o)}}const gO=g.forwardRef(function(s,a){const r=Ms(),n=hO(s,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:i,views:o,timeSteps:l}=xO(n),c=i?FS:gp,m=je({hours:c,minutes:c,seconds:c,meridiem:c},n.viewRenderers),d=n.ampmInClock??!0,x=m.hours?.name===gp.name?o:o.filter(S=>S!=="meridiem"),j=je({},n,{ampmInClock:d,timeSteps:l,viewRenderers:m,format:Iy(r,n),views:i?["hours"]:x,slots:je({field:KI},n.slots),slotProps:je({},n.slotProps,{field:S=>je({},mn(n.slotProps?.field,S),Rp(n)),toolbar:je({hidden:!0,ampmInClock:d},n.slotProps?.toolbar)})}),{renderPicker:_}=AS({ref:a,props:j,valueManager:ur,valueType:"time",validator:Dg,steps:null});return _()});gO.propTypes={ampm:re.bool,ampmInClock:re.bool,autoFocus:re.bool,className:re.string,closeOnSelect:re.bool,defaultValue:re.object,disabled:re.bool,disableFuture:re.bool,disableIgnoringDatePartForTimeValidation:re.bool,disableOpenPicker:re.bool,disablePast:re.bool,enableAccessibleFieldDOMStructure:re.any,format:re.string,formatDensity:re.oneOf(["dense","spacious"]),inputRef:Sp,label:re.node,localeText:re.object,maxTime:re.object,minTime:re.object,minutesStep:re.number,name:re.string,onAccept:re.func,onChange:re.func,onClose:re.func,onError:re.func,onOpen:re.func,onSelectedSectionsChange:re.func,onViewChange:re.func,open:re.bool,openTo:re.oneOf(["hours","meridiem","minutes","seconds"]),orientation:re.oneOf(["landscape","portrait"]),readOnly:re.bool,reduceAnimations:re.bool,referenceDate:re.object,selectedSections:re.oneOfType([re.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),re.number]),shouldDisableTime:re.func,skipDisabled:re.bool,slotProps:re.object,slots:re.object,sx:re.oneOfType([re.arrayOf(re.oneOfType([re.func,re.object,re.bool])),re.func,re.object]),thresholdToRenderTimeInASingleColumn:re.number,timeSteps:re.shape({hours:re.number,minutes:re.number,seconds:re.number}),timezone:re.string,value:re.object,view:re.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:re.shape({hours:re.func,meridiem:re.func,minutes:re.func,seconds:re.func}),views:re.arrayOf(re.oneOf(["hours","minutes","seconds"]).isRequired)};const bO=g.forwardRef(function(s,a){const r=Ms(),n=hO(s,"MuiMobileTimePicker"),i=je({hours:CN,minutes:CN,seconds:CN},n.viewRenderers),o=n.ampmInClock??!1,l=je({},n,{ampmInClock:o,viewRenderers:i,format:Iy(r,n),slots:je({field:KI},n.slots),slotProps:je({},n.slotProps,{field:m=>je({},mn(n.slotProps?.field,m),Rp(n)),toolbar:je({hidden:!1,ampmInClock:o},n.slotProps?.toolbar)})}),{renderPicker:c}=IS({ref:a,props:l,valueManager:ur,valueType:"time",validator:Dg,steps:null});return c()});bO.propTypes={ampm:re.bool,ampmInClock:re.bool,autoFocus:re.bool,className:re.string,closeOnSelect:re.bool,defaultValue:re.object,disabled:re.bool,disableFuture:re.bool,disableIgnoringDatePartForTimeValidation:re.bool,disableOpenPicker:re.bool,disablePast:re.bool,enableAccessibleFieldDOMStructure:re.any,format:re.string,formatDensity:re.oneOf(["dense","spacious"]),inputRef:Sp,label:re.node,localeText:re.object,maxTime:re.object,minTime:re.object,minutesStep:re.number,name:re.string,onAccept:re.func,onChange:re.func,onClose:re.func,onError:re.func,onOpen:re.func,onSelectedSectionsChange:re.func,onViewChange:re.func,open:re.bool,openTo:re.oneOf(["hours","minutes","seconds"]),orientation:re.oneOf(["landscape","portrait"]),readOnly:re.bool,reduceAnimations:re.bool,referenceDate:re.object,selectedSections:re.oneOfType([re.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),re.number]),shouldDisableTime:re.func,slotProps:re.object,slots:re.object,sx:re.oneOfType([re.arrayOf(re.oneOfType([re.func,re.object,re.bool])),re.func,re.object]),timezone:re.string,value:re.object,view:re.oneOf(["hours","minutes","seconds"]),viewRenderers:re.shape({hours:re.func,minutes:re.func,seconds:re.func}),views:re.arrayOf(re.oneOf(["hours","minutes","seconds"]).isRequired)};const mbe=["desktopModeMediaQuery"],pbe=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiTimePicker"}),{desktopModeMediaQuery:n=_S}=r,i=rs(r,mbe);return bg(n,{defaultMatches:!0})?e.jsx(gO,je({ref:a},i)):e.jsx(bO,je({ref:a},i))});function hbe(t){return Tt("MuiDateTimePickerTabs",t)}Et("MuiDateTimePickerTabs",["root"]);const fbe=t=>pp(t)?"date":"time",xbe=t=>t==="date"?"day":"hours",gbe=t=>kt({root:["root"]},hbe,t),bbe=Ne(jo,{name:"MuiDateTimePickerTabs",slot:"Root"})(({theme:t})=>({boxShadow:`0 -1px 0 0 inset ${(t.vars||t).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(t.vars||t).palette.divider}`,[`& .${Kb.indicator}`]:{bottom:"auto",top:0}}})),ybe=function(s){const a=$s({props:s,name:"MuiDateTimePickerTabs"}),{dateIcon:r=e.jsx(ehe,{}),timeIcon:n=e.jsx(the,{}),hidden:i=typeof window>"u"||window.innerHeight<667,className:o,classes:l,sx:c}=a,m=Xr(),{ownerState:d}=Va(),{view:p,setView:x}=cl(),j=gbe(l),_=(S,v)=>{x(xbe(v))};return i?null:e.jsxs(bbe,{ownerState:d,variant:"fullWidth",value:fbe(p),onChange:_,className:Je(o,j.root),sx:c,children:[e.jsx(Cs,{value:"date","aria-label":m.dateTableLabel,icon:e.jsx(g.Fragment,{children:r})}),e.jsx(Cs,{value:"time","aria-label":m.timeTableLabel,icon:e.jsx(g.Fragment,{children:n})})]})};function vbe(t){return Tt("MuiDateTimePickerToolbar",t)}const PN=Et("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),jbe=["ampm","ampmInClock","toolbarFormat","toolbarPlaceholder","toolbarTitle","className","classes"],Nbe=(t,s)=>{const{pickerOrientation:a,toolbarDirection:r}=s;return kt({root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",r==="rtl"&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",r==="rtl"&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",a==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},vbe,t)},_be=Ne(RS,{name:"MuiDateTimePickerToolbar",slot:"Root",shouldForwardProp:t=>Ln(t)&&t!=="toolbarVariant"})(({theme:t})=>({paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",variants:[{props:{toolbarVariant:"desktop"},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,[`& .${r0e.content} .${G0e.root}[data-selected]`]:{color:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightBold}}},{props:{toolbarVariant:"desktop",pickerOrientation:"landscape"},style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{paddingLeft:24,paddingRight:0}}]})),wbe=Ne("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer"})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),Sbe=Ne("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",shouldForwardProp:t=>Ln(t)&&t!=="toolbarVariant"})({display:"flex",flexDirection:"row",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{gap:9,marginRight:4,alignSelf:"flex-end"}},{props:({pickerOrientation:t,toolbarVariant:s})=>t==="landscape"&&s!=="desktop",style:{flexDirection:"column"}},{props:({pickerOrientation:t,toolbarVariant:s,toolbarDirection:a})=>t==="landscape"&&s!=="desktop"&&a==="rtl",style:{flexDirection:"column-reverse"}}]}),Cbe=Ne("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",shouldForwardProp:t=>Ln(t)&&t!=="toolbarVariant"})({display:"flex",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop"},style:{gap:1.5}}]}),P8=Ne(OS,{name:"MuiDateTimePickerToolbar",slot:"Separator",shouldForwardProp:t=>Ln(t)&&t!=="toolbarVariant"})({margin:"0 4px 0 2px",cursor:"default",variants:[{props:{toolbarVariant:"desktop"},style:{margin:0}}]}),Pbe=Ne("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,s)=>[{[`.${PN.ampmLabel}`]:s.ampmLabel},{[`&.${PN.ampmLandscape}`]:s.ampmLandscape},s.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${PN.ampmLabel}`]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"}}]}),kbe=g.createContext(null);function Ebe(t){const s=$s({props:t,name:"MuiDateTimePickerToolbar"}),{ampm:a,ampmInClock:r,toolbarFormat:n,toolbarPlaceholder:i="",toolbarTitle:o,className:l,classes:c}=s,m=rs(s,jbe),{value:d,setValue:p,disabled:x,readOnly:j,variant:_,orientation:S,view:v,setView:y,views:N}=cl(),C=Xr(),P=t1(),E=Nbe(c,P),D=Ms(),T=g.useContext(kbe),A=T?T.value:d,I=T?T.setValue:p,F=T?T.view:v,z=T?T.setView:y,{meridiemMode:O,handleMeridiemChange:K}=Kv(A,a,M=>I(M,{changeImportance:"set"})),W=T?.forceDesktopVariant?"desktop":_,B=W==="desktop",q=!!(a&&!r),H=o??C.dateTimePickerToolbarTitle,Q=g.useMemo(()=>D.isValid(A)?n?D.formatByString(A,n):D.format(A,"shortDate"):i,[A,n,i,D]),V=(M,R)=>D.isValid(A)?D.format(A,M):R;return e.jsxs(_be,je({className:Je(E.root,l),toolbarTitle:H,toolbarVariant:W},m,{ownerState:P,children:[e.jsxs(wbe,{className:E.dateContainer,ownerState:P,children:[N.includes("year")&&e.jsx(si,{tabIndex:-1,variant:"subtitle1",onClick:()=>z("year"),selected:F==="year",value:V("year","")}),N.includes("day")&&e.jsx(si,{tabIndex:-1,variant:B?"h5":"h4",onClick:()=>z("day"),selected:F==="day",value:Q})]}),e.jsxs(Sbe,{className:E.timeContainer,ownerState:P,toolbarVariant:W,children:[e.jsxs(Cbe,{className:E.timeDigitsContainer,ownerState:P,toolbarVariant:W,children:[N.includes("hours")&&e.jsxs(g.Fragment,{children:[e.jsx(si,{variant:B?"h5":"h3",width:B&&S==="portrait"?xf:void 0,onClick:()=>z("hours"),selected:F==="hours",value:V(a?"hours12h":"hours24h","--")}),e.jsx(P8,{variant:B?"h5":"h3",value:":",className:E.separator,ownerState:P,toolbarVariant:W}),e.jsx(si,{variant:B?"h5":"h3",width:B&&S==="portrait"?xf:void 0,onClick:()=>z("minutes"),selected:F==="minutes"||!N.includes("minutes")&&F==="hours",value:V("minutes","--"),disabled:!N.includes("minutes")})]}),N.includes("seconds")&&e.jsxs(g.Fragment,{children:[e.jsx(P8,{variant:B?"h5":"h3",value:":",className:E.separator,ownerState:P,toolbarVariant:W}),e.jsx(si,{variant:B?"h5":"h3",width:B&&S==="portrait"?xf:void 0,onClick:()=>z("seconds"),selected:F==="seconds",value:V("seconds","--")})]})]}),q&&!B&&e.jsxs(Pbe,{className:E.ampmSelection,ownerState:P,children:[e.jsx(si,{variant:"subtitle2",selected:O==="am",typographyClassName:E.ampmLabel,value:xo(D,"am"),onClick:j?void 0:()=>K("am"),disabled:x}),e.jsx(si,{variant:"subtitle2",selected:O==="pm",typographyClassName:E.ampmLabel,value:xo(D,"pm"),onClick:j?void 0:()=>K("pm"),disabled:x})]}),a&&B&&e.jsx(si,{variant:"h5",onClick:()=>z("meridiem"),selected:F==="meridiem",value:A&&O?xo(D,O):"--",width:xf})]})]}))}function yO(t,s){const a=Ms(),r=$s({props:t,name:s}),n=LI(r),i=r.ampm??a.is12HourCycleInCurrentLocale(),o=g.useMemo(()=>r.localeText?.toolbarTitle==null?r.localeText:je({},r.localeText,{dateTimePickerToolbarTitle:r.localeText.toolbarTitle}),[r.localeText]),{openTo:l,views:c}=pS({views:r.views,openTo:r.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{shouldRenderTimeInASingleColumn:m,thresholdToRenderTimeInASingleColumn:d,views:p,timeSteps:x}=xO({thresholdToRenderTimeInASingleColumn:r.thresholdToRenderTimeInASingleColumn,ampm:i,timeSteps:r.timeSteps,views:c}),j=i?[...c,"meridiem"]:c;return je({},r,n,{timeSteps:x,openTo:l,shouldRenderTimeInASingleColumn:m,thresholdToRenderTimeInASingleColumn:d,views:p,viewsForFormatting:j,ampm:i,localeText:o,orientation:r.orientation??"portrait",slots:je({toolbar:Ebe,tabs:ybe},r.slots),slotProps:je({},r.slotProps,{toolbar:je({ampm:i},r.slotProps?.toolbar)})})}const Tbe=g.forwardRef(function(s,a){const{toolbar:r,tabs:n,content:i,actionBar:o,shortcuts:l,ownerState:c}=oO(s),{orientation:m}=cl(),{sx:d,className:p,classes:x}=s,j=o&&(o.props.actions?.length??0)>0;return e.jsxs(lO,{ref:a,className:Je(ho.root,x?.root,p),sx:[{[`& .${ho.tabs}`]:{gridRow:4,gridColumn:"1 / 4"},[`& .${ho.actionBar}`]:{gridRow:5}},...Array.isArray(d)?d:[d]],ownerState:c,children:[m==="landscape"?l:r,m==="landscape"?r:l,e.jsxs(cO,{className:Je(ho.contentWrapper,x?.contentWrapper),ownerState:c,sx:{display:"grid"},children:[i,n,j&&e.jsx(or,{sx:{gridRow:3,gridColumn:"1 / 4"}})]}),o]})}),Mbe=["openTo","focusedView","timeViewsCount"],Dbe=function(s){const{viewRenderers:a,popperView:r,rendererProps:n}=s,{openTo:i,focusedView:o,timeViewsCount:l}=n,c=rs(n,Mbe),m=je({},c,{autoFocus:!1,focusedView:null,sx:[{[`&.${vw.root}`]:{borderBottom:0},[`&.${vw.root}, .${jw.root}, &.${yw.root}`]:{maxHeight:fp}}]}),d=Mm(r),p=d?"day":r,x=d?r:"hours";return e.jsxs(g.Fragment,{children:[a[p]?.(je({},n,{view:d?"day":r,focusedView:o&&pp(o)?o:null,views:n.views.filter(pp),sx:[{gridColumn:1},...m.sx]})),l>0&&e.jsxs(g.Fragment,{children:[e.jsx(or,{orientation:"vertical",sx:{gridColumn:2}}),a[x]?.(je({},m,{view:d?r:"hours",focusedView:o&&Mm(o)?o:null,openTo:Mm(i)?i:"hours",views:n.views.filter(Mm),sx:[{gridColumn:3},...m.sx]}))]})]})},vO=g.forwardRef(function(s,a){const r=Ms(),n=yO(s,"MuiDesktopDateTimePicker"),i=n.shouldRenderTimeInASingleColumn?FS:gp,o=je({day:Zi,month:Zi,year:Zi,hours:i,minutes:i,seconds:i,meridiem:i},n.viewRenderers),l=n.ampmInClock??!0,m=o.hours?.name===gp.name?n.views:n.views.filter(x=>x!=="meridiem"),d=je({},n,{viewRenderers:o,format:fO(r,je({},n,{views:n.viewsForFormatting})),views:m,yearsPerRow:n.yearsPerRow??4,ampmInClock:l,slots:je({field:QI,layout:Tbe},n.slots),slotProps:je({},n.slotProps,{field:x=>je({},mn(n.slotProps?.field,x),Rp(n)),toolbar:je({hidden:!0,ampmInClock:l},n.slotProps?.toolbar),tabs:je({hidden:!0},n.slotProps?.tabs)})}),{renderPicker:p}=AS({ref:a,props:d,valueManager:ur,valueType:"date-time",validator:Xv,rendererInterceptor:Dbe,steps:null});return p()});vO.propTypes={ampm:re.bool,ampmInClock:re.bool,autoFocus:re.bool,className:re.string,closeOnSelect:re.bool,dayOfWeekFormatter:re.func,defaultValue:re.object,disabled:re.bool,disableFuture:re.bool,disableHighlightToday:re.bool,disableIgnoringDatePartForTimeValidation:re.bool,disableOpenPicker:re.bool,disablePast:re.bool,displayWeekNumber:re.bool,enableAccessibleFieldDOMStructure:re.any,fixedWeekNumber:re.number,format:re.string,formatDensity:re.oneOf(["dense","spacious"]),inputRef:Sp,label:re.node,loading:re.bool,localeText:re.object,maxDate:re.object,maxDateTime:re.object,maxTime:re.object,minDate:re.object,minDateTime:re.object,minTime:re.object,minutesStep:re.number,monthsPerRow:re.oneOf([3,4]),name:re.string,onAccept:re.func,onChange:re.func,onClose:re.func,onError:re.func,onMonthChange:re.func,onOpen:re.func,onSelectedSectionsChange:re.func,onViewChange:re.func,onYearChange:re.func,open:re.bool,openTo:re.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:re.oneOf(["landscape","portrait"]),readOnly:re.bool,reduceAnimations:re.bool,referenceDate:re.object,renderLoading:re.func,selectedSections:re.oneOfType([re.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),re.number]),shouldDisableDate:re.func,shouldDisableMonth:re.func,shouldDisableTime:re.func,shouldDisableYear:re.func,showDaysOutsideCurrentMonth:re.bool,skipDisabled:re.bool,slotProps:re.object,slots:re.object,sx:re.oneOfType([re.arrayOf(re.oneOfType([re.func,re.object,re.bool])),re.func,re.object]),thresholdToRenderTimeInASingleColumn:re.number,timeSteps:re.shape({hours:re.number,minutes:re.number,seconds:re.number}),timezone:re.string,value:re.object,view:re.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:re.shape({day:re.func,hours:re.func,meridiem:re.func,minutes:re.func,month:re.func,seconds:re.func,year:re.func}),views:re.arrayOf(re.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:re.oneOf(["asc","desc"]),yearsPerRow:re.oneOf([3,4])};const Rbe=[{views:oI},{views:jI}],jO=g.forwardRef(function(s,a){const r=Ms(),n=yO(s,"MuiMobileDateTimePicker"),i=n.shouldRenderTimeInASingleColumn?FS:gp,o=je({day:Zi,month:Zi,year:Zi,hours:i,minutes:i,seconds:i,meridiem:i},n.viewRenderers),l=n.ampmInClock??!1,m=o.hours?.name===gp.name?n.views:n.views.filter(x=>x!=="meridiem"),d=je({},n,{viewRenderers:o,format:fO(r,je({},n,{views:n.viewsForFormatting})),views:m,ampmInClock:l,slots:je({field:QI},n.slots),slotProps:je({},n.slotProps,{field:x=>je({},mn(n.slotProps?.field,x),Rp(n)),toolbar:je({hidden:!1,ampmInClock:l},n.slotProps?.toolbar),tabs:je({hidden:!1},n.slotProps?.tabs),layout:je({},n.slotProps?.layout,{sx:tfe([{[`& .${vw.root}`]:{width:hp},[`& .${jw.root}`]:{flex:1,maxHeight:fp-1,[`.${jw.item}`]:{width:"auto"}},[`& .${yw.root}`]:{width:hp,maxHeight:fp,flex:1,[`.${yw.item}`]:{justifyContent:"center"}}}],n.slotProps?.layout?.sx)})})}),{renderPicker:p}=IS({ref:a,props:d,valueManager:ur,valueType:"date-time",validator:Xv,steps:Rbe});return p()});jO.propTypes={ampm:re.bool,ampmInClock:re.bool,autoFocus:re.bool,className:re.string,closeOnSelect:re.bool,dayOfWeekFormatter:re.func,defaultValue:re.object,disabled:re.bool,disableFuture:re.bool,disableHighlightToday:re.bool,disableIgnoringDatePartForTimeValidation:re.bool,disableOpenPicker:re.bool,disablePast:re.bool,displayWeekNumber:re.bool,enableAccessibleFieldDOMStructure:re.any,fixedWeekNumber:re.number,format:re.string,formatDensity:re.oneOf(["dense","spacious"]),inputRef:Sp,label:re.node,loading:re.bool,localeText:re.object,maxDate:re.object,maxDateTime:re.object,maxTime:re.object,minDate:re.object,minDateTime:re.object,minTime:re.object,minutesStep:re.number,monthsPerRow:re.oneOf([3,4]),name:re.string,onAccept:re.func,onChange:re.func,onClose:re.func,onError:re.func,onMonthChange:re.func,onOpen:re.func,onSelectedSectionsChange:re.func,onViewChange:re.func,onYearChange:re.func,open:re.bool,openTo:re.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:re.oneOf(["landscape","portrait"]),readOnly:re.bool,reduceAnimations:re.bool,referenceDate:re.object,renderLoading:re.func,selectedSections:re.oneOfType([re.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),re.number]),shouldDisableDate:re.func,shouldDisableMonth:re.func,shouldDisableTime:re.func,shouldDisableYear:re.func,showDaysOutsideCurrentMonth:re.bool,skipDisabled:re.bool,slotProps:re.object,slots:re.object,sx:re.oneOfType([re.arrayOf(re.oneOfType([re.func,re.object,re.bool])),re.func,re.object]),thresholdToRenderTimeInASingleColumn:re.number,timeSteps:re.shape({hours:re.number,minutes:re.number,seconds:re.number}),timezone:re.string,value:re.object,view:re.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:re.shape({day:re.func,hours:re.func,meridiem:re.func,minutes:re.func,month:re.func,seconds:re.func,year:re.func}),views:re.arrayOf(re.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:re.oneOf(["asc","desc"]),yearsPerRow:re.oneOf([3,4])};const Abe=["desktopModeMediaQuery"],Ibe=g.forwardRef(function(s,a){const r=$s({props:s,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:n=_S}=r,i=rs(r,Abe);return bg(n,{defaultMatches:!0})?e.jsx(vO,je({ref:a},i)):e.jsx(jO,je({ref:a},i))});var sy={exports:{}},Obe=sy.exports,k8;function Fbe(){return k8||(k8=1,(function(t,s){(function(a,r){t.exports=r()})(Obe,(function(){var a=1e3,r=6e4,n=36e5,i="millisecond",o="second",l="minute",c="hour",m="day",d="week",p="month",x="quarter",j="year",_="date",S="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(W){var B=["th","st","nd","rd"],q=W%100;return"["+W+(B[(q-20)%10]||B[q]||B[0])+"]"}},C=function(W,B,q){var H=String(W);return!H||H.length>=B?W:""+Array(B+1-H.length).join(q)+W},P={s:C,z:function(W){var B=-W.utcOffset(),q=Math.abs(B),H=Math.floor(q/60),Q=q%60;return(B<=0?"+":"-")+C(H,2,"0")+":"+C(Q,2,"0")},m:function W(B,q){if(B.date()<q.date())return-W(q,B);var H=12*(q.year()-B.year())+(q.month()-B.month()),Q=B.clone().add(H,p),V=q-Q<0,M=B.clone().add(H+(V?-1:1),p);return+(-(H+(q-Q)/(V?Q-M:M-Q))||0)},a:function(W){return W<0?Math.ceil(W)||0:Math.floor(W)},p:function(W){return{M:p,y:j,w:d,d:m,D:_,h:c,m:l,s:o,ms:i,Q:x}[W]||String(W||"").toLowerCase().replace(/s$/,"")},u:function(W){return W===void 0}},E="en",D={};D[E]=N;var T="$isDayjsObject",A=function(W){return W instanceof O||!(!W||!W[T])},I=function W(B,q,H){var Q;if(!B)return E;if(typeof B=="string"){var V=B.toLowerCase();D[V]&&(Q=V),q&&(D[V]=q,Q=V);var M=B.split("-");if(!Q&&M.length>1)return W(M[0])}else{var R=B.name;D[R]=B,Q=R}return!H&&Q&&(E=Q),Q||!H&&E},F=function(W,B){if(A(W))return W.clone();var q=typeof B=="object"?B:{};return q.date=W,q.args=arguments,new O(q)},z=P;z.l=I,z.i=A,z.w=function(W,B){return F(W,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var O=(function(){function W(q){this.$L=I(q.locale,null,!0),this.parse(q),this.$x=this.$x||q.x||{},this[T]=!0}var B=W.prototype;return B.parse=function(q){this.$d=(function(H){var Q=H.date,V=H.utc;if(Q===null)return new Date(NaN);if(z.u(Q))return new Date;if(Q instanceof Date)return new Date(Q);if(typeof Q=="string"&&!/Z$/i.test(Q)){var M=Q.match(v);if(M){var R=M[2]-1||0,$=(M[7]||"0").substring(0,3);return V?new Date(Date.UTC(M[1],R,M[3]||1,M[4]||0,M[5]||0,M[6]||0,$)):new Date(M[1],R,M[3]||1,M[4]||0,M[5]||0,M[6]||0,$)}}return new Date(Q)})(q),this.init()},B.init=function(){var q=this.$d;this.$y=q.getFullYear(),this.$M=q.getMonth(),this.$D=q.getDate(),this.$W=q.getDay(),this.$H=q.getHours(),this.$m=q.getMinutes(),this.$s=q.getSeconds(),this.$ms=q.getMilliseconds()},B.$utils=function(){return z},B.isValid=function(){return this.$d.toString()!==S},B.isSame=function(q,H){var Q=F(q);return this.startOf(H)<=Q&&Q<=this.endOf(H)},B.isAfter=function(q,H){return F(q)<this.startOf(H)},B.isBefore=function(q,H){return this.endOf(H)<F(q)},B.$g=function(q,H,Q){return z.u(q)?this[H]:this.set(Q,q)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(q,H){var Q=this,V=!!z.u(H)||H,M=z.p(q),R=function(de,ae){var xe=z.w(Q.$u?Date.UTC(Q.$y,ae,de):new Date(Q.$y,ae,de),Q);return V?xe:xe.endOf(m)},$=function(de,ae){return z.w(Q.toDate()[de].apply(Q.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(ae)),Q)},Y=this.$W,J=this.$M,te=this.$D,ee="set"+(this.$u?"UTC":"");switch(M){case j:return V?R(1,0):R(31,11);case p:return V?R(1,J):R(0,J+1);case d:var ne=this.$locale().weekStart||0,he=(Y<ne?Y+7:Y)-ne;return R(V?te-he:te+(6-he),J);case m:case _:return $(ee+"Hours",0);case c:return $(ee+"Minutes",1);case l:return $(ee+"Seconds",2);case o:return $(ee+"Milliseconds",3);default:return this.clone()}},B.endOf=function(q){return this.startOf(q,!1)},B.$set=function(q,H){var Q,V=z.p(q),M="set"+(this.$u?"UTC":""),R=(Q={},Q[m]=M+"Date",Q[_]=M+"Date",Q[p]=M+"Month",Q[j]=M+"FullYear",Q[c]=M+"Hours",Q[l]=M+"Minutes",Q[o]=M+"Seconds",Q[i]=M+"Milliseconds",Q)[V],$=V===m?this.$D+(H-this.$W):H;if(V===p||V===j){var Y=this.clone().set(_,1);Y.$d[R]($),Y.init(),this.$d=Y.set(_,Math.min(this.$D,Y.daysInMonth())).$d}else R&&this.$d[R]($);return this.init(),this},B.set=function(q,H){return this.clone().$set(q,H)},B.get=function(q){return this[z.p(q)]()},B.add=function(q,H){var Q,V=this;q=Number(q);var M=z.p(H),R=function(J){var te=F(V);return z.w(te.date(te.date()+Math.round(J*q)),V)};if(M===p)return this.set(p,this.$M+q);if(M===j)return this.set(j,this.$y+q);if(M===m)return R(1);if(M===d)return R(7);var $=(Q={},Q[l]=r,Q[c]=n,Q[o]=a,Q)[M]||1,Y=this.$d.getTime()+q*$;return z.w(Y,this)},B.subtract=function(q,H){return this.add(-1*q,H)},B.format=function(q){var H=this,Q=this.$locale();if(!this.isValid())return Q.invalidDate||S;var V=q||"YYYY-MM-DDTHH:mm:ssZ",M=z.z(this),R=this.$H,$=this.$m,Y=this.$M,J=Q.weekdays,te=Q.months,ee=Q.meridiem,ne=function(ae,xe,ge,le){return ae&&(ae[xe]||ae(H,V))||ge[xe].slice(0,le)},he=function(ae){return z.s(R%12||12,ae,"0")},de=ee||function(ae,xe,ge){var le=ae<12?"AM":"PM";return ge?le.toLowerCase():le};return V.replace(y,(function(ae,xe){return xe||(function(ge){switch(ge){case"YY":return String(H.$y).slice(-2);case"YYYY":return z.s(H.$y,4,"0");case"M":return Y+1;case"MM":return z.s(Y+1,2,"0");case"MMM":return ne(Q.monthsShort,Y,te,3);case"MMMM":return ne(te,Y);case"D":return H.$D;case"DD":return z.s(H.$D,2,"0");case"d":return String(H.$W);case"dd":return ne(Q.weekdaysMin,H.$W,J,2);case"ddd":return ne(Q.weekdaysShort,H.$W,J,3);case"dddd":return J[H.$W];case"H":return String(R);case"HH":return z.s(R,2,"0");case"h":return he(1);case"hh":return he(2);case"a":return de(R,$,!0);case"A":return de(R,$,!1);case"m":return String($);case"mm":return z.s($,2,"0");case"s":return String(H.$s);case"ss":return z.s(H.$s,2,"0");case"SSS":return z.s(H.$ms,3,"0");case"Z":return M}return null})(ae)||M.replace(":","")}))},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(q,H,Q){var V,M=this,R=z.p(H),$=F(q),Y=($.utcOffset()-this.utcOffset())*r,J=this-$,te=function(){return z.m(M,$)};switch(R){case j:V=te()/12;break;case p:V=te();break;case x:V=te()/3;break;case d:V=(J-Y)/6048e5;break;case m:V=(J-Y)/864e5;break;case c:V=J/n;break;case l:V=J/r;break;case o:V=J/a;break;default:V=J}return Q?V:z.a(V)},B.daysInMonth=function(){return this.endOf(p).$D},B.$locale=function(){return D[this.$L]},B.locale=function(q,H){if(!q)return this.$L;var Q=this.clone(),V=I(q,H,!0);return V&&(Q.$L=V),Q},B.clone=function(){return z.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},W})(),K=O.prototype;return F.prototype=K,[["$ms",i],["$s",o],["$m",l],["$H",c],["$W",m],["$M",p],["$y",j],["$D",_]].forEach((function(W){K[W[1]]=function(B){return this.$g(B,W[0],W[1])}})),F.extend=function(W,B){return W.$i||(W(B,O,F),W.$i=!0),F},F.locale=I,F.isDayjs=A,F.unix=function(W){return F(1e3*W)},F.en=D[E],F.Ls=D,F.p={},F}))})(sy)),sy.exports}var Lbe=Fbe();const nr=no(Lbe),oe=({type:t="text",value:s,onChange:a,setValue:r,name:n,formik:i,size:o="small",onBlur:l,fullWidth:c=!0,slotProps:m,label:d,...p})=>{const[x,j]=yt.useState({[n||""]:!1}),_=g.useCallback(I=>{const F=I.target.value;i&&n?i.setFieldValue(n,F):r?r(F):a&&a(I)},[i,n,r,a]),S=g.useCallback(I=>{const F=I?I.format("YYYY-MM-DD"):"";i&&n?i.setFieldValue(n,F):r?r(F):a&&a({target:{value:F}})},[i,n,r,a]),v=g.useCallback(I=>{const F=I?I.format("HH:mm"):"";i&&n?i.setFieldValue(n,F):r&&r(F)},[i,n,r]),y=g.useCallback(()=>{const I={target:{name:n,id:n}};i?.handleBlur&&n?i.handleBlur(I):l&&l(I)},[i,n,l]),N=g.useCallback(I=>{const F=I?I.format("YYYY-MM-DDTHH:mm"):"";i&&n?i.setFieldValue(n,F):r&&r(F)},[i,n,r]),C=g.useMemo(()=>!i||!n?!1:i.touched?.[n]&&i.errors?.[n],[i?.touched?.[n],i?.errors?.[n],n]),P=typeof C=="string"?C:void 0,E=g.useMemo(()=>s!==void 0?s:i&&n?i.values[n]:"",[s,i?.values[n],n]),D=g.useMemo(()=>E&&nr(E).isValid()?nr(E):null,[E]),T=g.useMemo(()=>E&&typeof E=="string"&&E.includes(":")?nr(E,"HH:mm"):null,[E]);if(t==="year")return e.jsx(C8,{label:d,value:D,onChange:S,onClose:y,views:["year"],format:"YYYY",disabled:p.disabled,slotProps:{desktopPaper:{elevation:0,className:"!shadow-lg"},textField:{fullWidth:c,size:o,error:!!C,helperText:P,name:n,id:n,disabled:p.disabled,slotProps:{htmlInput:{required:!1}},InputLabelProps:{shrink:!0},className:p.className,...p}}});if(t==="date")return e.jsx(C8,{label:d,value:D,onChange:S,onClose:y,format:"DD/MM/YYYY",disabled:p.disabled,slotProps:{desktopPaper:{elevation:0,className:"!shadow-lg"},textField:{fullWidth:c,size:o,error:!!C,helperText:P,name:n,id:n,disabled:p.disabled,slotProps:{htmlInput:{required:!1}},InputLabelProps:{shrink:!0},className:p.className,...p}}});if(t==="time")return e.jsx(pbe,{label:d,value:T,onChange:v,onClose:y,disabled:p.disabled,slotProps:{textField:{fullWidth:c,size:o,error:!!C,helperText:P,name:n,id:n,disabled:p.disabled,slotProps:{htmlInput:{required:!1}},InputLabelProps:{shrink:!0},...p}}});if(t==="datetime-local")return e.jsx(Ibe,{label:d,value:D,onChange:N,onClose:y,disabled:p.disabled,slotProps:{textField:{fullWidth:c,size:o,error:!!C,helperText:P,name:n,id:n,disabled:p.disabled,slotProps:{htmlInput:{required:!1}},InputLabelProps:{shrink:!0},...p}}});const A=g.useCallback(I=>{i?.handleBlur&&i.handleBlur(I),l&&l(I)},[i,l]);return e.jsx(Ba,{fullWidth:c,type:t!=="password"?t:x[n]?"text":"password",label:d,size:o,name:n,slotProps:{htmlInput:{required:!1},input:{...t==="search"&&{endAdornment:e.jsx(NA,{})},...t==="password"&&{endAdornment:e.jsx(Ws,{size:"small",onClick:()=>j({[n||""]:!x[n]}),children:x[n]?e.jsx(Zle,{}):e.jsx(kn,{})})}},...m},helperText:P,error:!!C,onBlur:A,value:E,onChange:_,...p})},Fe=(t,s)=>{if(!t)return null;const r={...{year:"numeric",month:"short",day:"numeric"},...s};try{return new Intl.DateTimeFormat("en-US",r).format(new Date(t))}catch{return console.warn("Invalid date string provided to formatDate:",t),null}},Xc=t=>Fe(t,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),$r=t=>{try{return t?(typeof t=="string"?new Date(t):t).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]}catch{return console.warn("Invalid date provided to formatForDateInput:",t),new Date().toISOString().split("T")[0]}};var kN,E8;function $be(){if(E8)return kN;E8=1;function t(y){this._maxSize=y,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(y){return this._values[y]},t.prototype.set=function(y,N){return this._size>=this._maxSize&&this.clear(),y in this._values||this._size++,this._values[y]=N};var s=/[^.^\]^[]+|(?=\[\]|\.\.)/g,a=/^\d+$/,r=/^\d/,n=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,o=512,l=new t(o),c=new t(o),m=new t(o);kN={Cache:t,split:p,normalizePath:d,setter:function(y){var N=d(y);return c.get(y)||c.set(y,function(P,E){for(var D=0,T=N.length,A=P;D<T-1;){var I=N[D];if(I==="__proto__"||I==="constructor"||I==="prototype")return P;A=A[N[D++]]}A[N[D]]=E})},getter:function(y,N){var C=d(y);return m.get(y)||m.set(y,function(E){for(var D=0,T=C.length;D<T;)if(E!=null||!N)E=E[C[D++]];else return;return E})},join:function(y){return y.reduce(function(N,C){return N+(j(C)||a.test(C)?"["+C+"]":(N?".":"")+C)},"")},forEach:function(y,N,C){x(Array.isArray(y)?y:p(y),N,C)}};function d(y){return l.get(y)||l.set(y,p(y).map(function(N){return N.replace(i,"$2")}))}function p(y){return y.match(s)||[""]}function x(y,N,C){var P=y.length,E,D,T,A;for(D=0;D<P;D++)E=y[D],E&&(v(E)&&(E='"'+E+'"'),A=j(E),T=!A&&/^\d+$/.test(E),N.call(C,E,A,T,D,y))}function j(y){return typeof y=="string"&&y&&["'",'"'].indexOf(y.charAt(0))!==-1}function _(y){return y.match(r)&&!y.match(a)}function S(y){return n.test(y)}function v(y){return!j(y)&&(_(y)||S(y))}return kN}var ru=$be(),EN,T8;function zbe(){if(T8)return EN;T8=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,s=d=>d.match(t)||[],a=d=>d[0].toUpperCase()+d.slice(1),r=(d,p)=>s(d).join(p).toLowerCase(),n=d=>s(d).reduce((p,x)=>`${p}${p?x[0].toUpperCase()+x.slice(1).toLowerCase():x.toLowerCase()}`,"");return EN={words:s,upperFirst:a,camelCase:n,pascalCase:d=>a(n(d)),snakeCase:d=>r(d,"_"),kebabCase:d=>r(d,"-"),sentenceCase:d=>a(r(d," ")),titleCase:d=>s(d).map(a).join(" ")},EN}var TN=zbe(),vb={exports:{}},M8;function qbe(){if(M8)return vb.exports;M8=1,vb.exports=function(n){return t(s(n),n)},vb.exports.array=t;function t(n,i){var o=n.length,l=new Array(o),c={},m=o,d=a(i),p=r(n);for(i.forEach(function(j){if(!p.has(j[0])||!p.has(j[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});m--;)c[m]||x(n[m],m,new Set);return l;function x(j,_,S){if(S.has(j)){var v;try{v=", node was:"+JSON.stringify(j)}catch{v=""}throw new Error("Cyclic dependency"+v)}if(!p.has(j))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(j));if(!c[_]){c[_]=!0;var y=d.get(j)||new Set;if(y=Array.from(y),_=y.length){S.add(j);do{var N=y[--_];x(N,p.get(N),S)}while(_);S.delete(j)}l[--o]=j}}}function s(n){for(var i=new Set,o=0,l=n.length;o<l;o++){var c=n[o];i.add(c[0]),i.add(c[1])}return Array.from(i)}function a(n){for(var i=new Map,o=0,l=n.length;o<l;o++){var c=n[o];i.has(c[0])||i.set(c[0],new Set),i.has(c[1])||i.set(c[1],new Set),i.get(c[0]).add(c[1])}return i}function r(n){for(var i=new Map,o=0,l=n.length;o<l;o++)i.set(n[o],o);return i}return vb.exports}var Bbe=qbe();const Ube=no(Bbe),Vbe=Object.prototype.toString,Hbe=Error.prototype.toString,Wbe=RegExp.prototype.toString,Ybe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Gbe=/^Symbol\((.*)\)(.*)$/;function Kbe(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function D8(t,s=!1){if(t==null||t===!0||t===!1)return""+t;const a=typeof t;if(a==="number")return Kbe(t);if(a==="string")return s?`"${t}"`:t;if(a==="function")return"[Function "+(t.name||"anonymous")+"]";if(a==="symbol")return Ybe.call(t).replace(Gbe,"Symbol($1)");const r=Vbe.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+Hbe.call(t)+"]":r==="RegExp"?Wbe.call(t):null}function Yl(t,s){let a=D8(t,s);return a!==null?a:JSON.stringify(t,function(r,n){let i=D8(this[r],s);return i!==null?i:n},2)}function NO(t){return t==null?[]:[].concat(t)}let _O,wO,SO,Qbe=/\$\{\s*(\w+)\s*\}/g;_O=Symbol.toStringTag;class R8{constructor(s,a,r,n){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[_O]="Error",this.name="ValidationError",this.value=a,this.path=r,this.type=n,this.errors=[],this.inner=[],NO(s).forEach(i=>{if(vn.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}wO=Symbol.hasInstance;SO=Symbol.toStringTag;class vn extends Error{static formatError(s,a){const r=a.label||a.path||"this";return a=Object.assign({},a,{path:r,originalPath:a.path}),typeof s=="string"?s.replace(Qbe,(n,i)=>Yl(a[i])):typeof s=="function"?s(a):s}static isError(s){return s&&s.name==="ValidationError"}constructor(s,a,r,n,i){const o=new R8(s,a,r,n);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[SO]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,vn)}static[wO](s){return R8[Symbol.hasInstance](s)||super[Symbol.hasInstance](s)}}let Fo={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:s,value:a,originalValue:r})=>{const n=r!=null&&r!==a?` (cast from the value \`${Yl(r,!0)}\`).`:".";return s!=="mixed"?`${t} must be a \`${s}\` type, but the final value was: \`${Yl(a,!0)}\``+n:`${t} must match the configured type. The validated value was: \`${Yl(a,!0)}\``+n}},An={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Pc={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Nw={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},_w={isValue:"${path} field must be ${value}"},ay={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},ry={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Zbe={notType:t=>{const{path:s,value:a,spec:r}=t,n=r.types.length;if(Array.isArray(a)){if(a.length<n)return`${s} tuple value has too few items, expected a length of ${n} but got ${a.length} for value: \`${Yl(a,!0)}\``;if(a.length>n)return`${s} tuple value has too many items, expected a length of ${n} but got ${a.length} for value: \`${Yl(a,!0)}\``}return vn.formatError(Fo.notType,t)}};Object.assign(Object.create(null),{mixed:Fo,string:An,number:Pc,date:Nw,object:ay,array:ry,boolean:_w,tuple:Zbe});const s1=t=>t&&t.__isYupSchema__;class Fy{static fromOptions(s,a){if(!a.then&&!a.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:n,otherwise:i}=a,o=typeof r=="function"?r:(...l)=>l.every(c=>c===r);return new Fy(s,(l,c)=>{var m;let d=o(...l)?n:i;return(m=d?.(c))!=null?m:c})}constructor(s,a){this.fn=void 0,this.refs=s,this.refs=s,this.fn=a}resolve(s,a){let r=this.refs.map(i=>i.getValue(a?.value,a?.parent,a?.context)),n=this.fn(r,s,a);if(n===void 0||n===s)return s;if(!s1(n))throw new TypeError("conditions must return a schema object");return n.resolve(a)}}const jb={context:"$",value:"."};function ww(t,s){return new dd(t,s)}class dd{constructor(s,a={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof s!="string")throw new TypeError("ref must be a string, got: "+s);if(this.key=s.trim(),s==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===jb.context,this.isValue=this.key[0]===jb.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?jb.context:this.isValue?jb.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&ru.getter(this.path,!0),this.map=a.map}getValue(s,a,r){let n=this.isContext?r:this.isValue?s:a;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(s,a){return this.getValue(s,a?.parent,a?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(s){return s&&s.__isYupRef}}dd.prototype.__isYupRef=!0;const go=t=>t==null;function ym(t){function s({value:a,path:r="",options:n,originalValue:i,schema:o},l,c){const{name:m,test:d,params:p,message:x,skipAbsent:j}=t;let{parent:_,context:S,abortEarly:v=o.spec.abortEarly,disableStackTrace:y=o.spec.disableStackTrace}=n;const N={value:a,parent:_,context:S};function C(z={}){const O=CO(Object.assign({value:a,originalValue:i,label:o.spec.label,path:z.path||r,spec:o.spec,disableStackTrace:z.disableStackTrace||y},p,z.params),N),K=new vn(vn.formatError(z.message||x,O),a,O.path,z.type||m,O.disableStackTrace);return K.params=O,K}const P=v?l:c;let E={path:r,parent:_,type:m,from:n.from,createError:C,resolve(z){return PO(z,N)},options:n,originalValue:i,schema:o};const D=z=>{vn.isError(z)?P(z):z?c(null):P(C())},T=z=>{vn.isError(z)?P(z):l(z)};if(j&&go(a))return D(!0);let I;try{var F;if(I=d.call(E,a,E),typeof((F=I)==null?void 0:F.then)=="function"){if(n.sync)throw new Error(`Validation test of type: "${E.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(I).then(D,T)}}catch(z){T(z);return}D(I)}return s.OPTIONS=t,s}function CO(t,s){if(!t)return t;for(const a of Object.keys(t))t[a]=PO(t[a],s);return t}function PO(t,s){return dd.isRef(t)?t.getValue(s.value,s.parent,s.context):t}function Xbe(t,s,a,r=a){let n,i,o;return s?(ru.forEach(s,(l,c,m)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:r,parent:n,value:a});let p=t.type==="tuple",x=m?parseInt(d,10):0;if(t.innerType||p){if(p&&!m)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(a&&x>=a.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${s}. because there is no value at that index. `);n=a,a=a&&a[x],t=p?t.spec.types[x]:t.innerType}if(!m){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${s}. (failed at: ${o} which is a type: "${t.type}")`);n=a,a=a&&a[d],t=t.fields[d]}i=d,o=c?"["+l+"]":"."+l}),{schema:t,parent:n,parentPath:i}):{parent:n,parentPath:s,schema:t}}class Ly extends Set{describe(){const s=[];for(const a of this.values())s.push(dd.isRef(a)?a.describe():a);return s}resolveAll(s){let a=[];for(const r of this.values())a.push(s(r));return a}clone(){return new Ly(this.values())}merge(s,a){const r=this.clone();return s.forEach(n=>r.add(n)),a.forEach(n=>r.delete(n)),r}}function Rm(t,s=new Map){if(s1(t)||!t||typeof t!="object")return t;if(s.has(t))return s.get(t);let a;if(t instanceof Date)a=new Date(t.getTime()),s.set(t,a);else if(t instanceof RegExp)a=new RegExp(t),s.set(t,a);else if(Array.isArray(t)){a=new Array(t.length),s.set(t,a);for(let r=0;r<t.length;r++)a[r]=Rm(t[r],s)}else if(t instanceof Map){a=new Map,s.set(t,a);for(const[r,n]of t.entries())a.set(r,Rm(n,s))}else if(t instanceof Set){a=new Set,s.set(t,a);for(const r of t)a.add(Rm(r,s))}else if(t instanceof Object){a={},s.set(t,a);for(const[r,n]of Object.entries(t))a[r]=Rm(n,s)}else throw Error(`Unable to clone ${t}`);return a}function Jbe(t){if(!(t!=null&&t.length))return;const s=[];let a="",r=!1,n=!1;for(let i=0;i<t.length;i++){const o=t[i];if(o==="["&&!n){a&&(s.push(...a.split(".").filter(Boolean)),a=""),r=!0;continue}if(o==="]"&&!n){a&&(/^\d+$/.test(a)?s.push(a):s.push(a.replace(/^"|"$/g,"")),a=""),r=!1;continue}if(o==='"'){n=!n;continue}if(o==="."&&!r&&!n){a&&(s.push(a),a="");continue}a+=o}return a&&s.push(...a.split(".").filter(Boolean)),s}function eye(t,s){const a=s?`${s}.${t.path}`:t.path;return t.errors.map(r=>({message:r,path:Jbe(a)}))}function kO(t,s){var a;if(!((a=t.inner)!=null&&a.length)&&t.errors.length)return eye(t,s);const r=s?`${s}.${t.path}`:t.path;return t.inner.flatMap(n=>kO(n,r))}class Wn{constructor(s){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Ly,this._blacklist=new Ly,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Fo.notType)}),this.type=s.type,this._typeCheck=s.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},s?.spec),this.withMutation(a=>{a.nonNullable()})}get _type(){return this.type}clone(s){if(this._mutate)return s&&Object.assign(this.spec,s),this;const a=Object.create(Object.getPrototypeOf(this));return a.type=this.type,a._typeCheck=this._typeCheck,a._whitelist=this._whitelist.clone(),a._blacklist=this._blacklist.clone(),a.internalTests=Object.assign({},this.internalTests),a.exclusiveTests=Object.assign({},this.exclusiveTests),a.deps=[...this.deps],a.conditions=[...this.conditions],a.tests=[...this.tests],a.transforms=[...this.transforms],a.spec=Rm(Object.assign({},this.spec,s)),a}label(s){let a=this.clone();return a.spec.label=s,a}meta(...s){if(s.length===0)return this.spec.meta;let a=this.clone();return a.spec.meta=Object.assign(a.spec.meta||{},s[0]),a}withMutation(s){let a=this._mutate;this._mutate=!0;let r=s(this);return this._mutate=a,r}concat(s){if(!s||s===this)return this;if(s.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${s.type}`);let a=this,r=s.clone();const n=Object.assign({},a.spec,r.spec);return r.spec=n,r.internalTests=Object.assign({},a.internalTests,r.internalTests),r._whitelist=a._whitelist.merge(s._whitelist,s._blacklist),r._blacklist=a._blacklist.merge(s._blacklist,s._whitelist),r.tests=a.tests,r.exclusiveTests=a.exclusiveTests,r.withMutation(i=>{s.tests.forEach(o=>{i.test(o.OPTIONS)})}),r.transforms=[...a.transforms,...r.transforms],r}isType(s){return s==null?!!(this.spec.nullable&&s===null||this.spec.optional&&s===void 0):this._typeCheck(s)}resolve(s){let a=this;if(a.conditions.length){let r=a.conditions;a=a.clone(),a.conditions=[],a=r.reduce((n,i)=>i.resolve(n,s),a),a=a.resolve(s)}return a}resolveOptions(s){var a,r,n,i;return Object.assign({},s,{from:s.from||[],strict:(a=s.strict)!=null?a:this.spec.strict,abortEarly:(r=s.abortEarly)!=null?r:this.spec.abortEarly,recursive:(n=s.recursive)!=null?n:this.spec.recursive,disableStackTrace:(i=s.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(s,a={}){let r=this.resolve(Object.assign({},a,{value:s})),n=a.assert==="ignore-optionality",i=r._cast(s,a);if(a.assert!==!1&&!r.isType(i)){if(n&&go(i))return i;let o=Yl(s),l=Yl(i);throw new TypeError(`The value of ${a.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(l!==o?`result of cast: ${l}`:""))}return i}_cast(s,a){let r=s===void 0?s:this.transforms.reduce((n,i)=>i.call(this,n,s,this,a),s);return r===void 0&&(r=this.getDefault(a)),r}_validate(s,a={},r,n){let{path:i,originalValue:o=s,strict:l=this.spec.strict}=a,c=s;l||(c=this._cast(c,Object.assign({assert:!1},a)));let m=[];for(let d of Object.values(this.internalTests))d&&m.push(d);this.runTests({path:i,value:c,originalValue:o,options:a,tests:m},r,d=>{if(d.length)return n(d,c);this.runTests({path:i,value:c,originalValue:o,options:a,tests:this.tests},r,n)})}runTests(s,a,r){let n=!1,{tests:i,value:o,originalValue:l,path:c,options:m}=s,d=S=>{n||(n=!0,a(S,o))},p=S=>{n||(n=!0,r(S,o))},x=i.length,j=[];if(!x)return p([]);let _={value:o,originalValue:l,path:c,options:m,schema:this};for(let S=0;S<i.length;S++){const v=i[S];v(_,d,function(N){N&&(Array.isArray(N)?j.push(...N):j.push(N)),--x<=0&&p(j)})}}asNestedTest({key:s,index:a,parent:r,parentPath:n,originalParent:i,options:o}){const l=s??a;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let m=r[l];const d=Object.assign({},o,{strict:!0,parent:r,value:m,originalValue:i[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${n||""}[${c?l:`"${l}"`}]`:(n?`${n}.`:"")+s});return(p,x,j)=>this.resolve(d)._validate(m,d,x,j)}validate(s,a){var r;let n=this.resolve(Object.assign({},a,{value:s})),i=(r=a?.disableStackTrace)!=null?r:n.spec.disableStackTrace;return new Promise((o,l)=>n._validate(s,a,(c,m)=>{vn.isError(c)&&(c.value=m),l(c)},(c,m)=>{c.length?l(new vn(c,m,void 0,void 0,i)):o(m)}))}validateSync(s,a){var r;let n=this.resolve(Object.assign({},a,{value:s})),i,o=(r=a?.disableStackTrace)!=null?r:n.spec.disableStackTrace;return n._validate(s,Object.assign({},a,{sync:!0}),(l,c)=>{throw vn.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new vn(l,s,void 0,void 0,o);i=c}),i}isValid(s,a){return this.validate(s,a).then(()=>!0,r=>{if(vn.isError(r))return!1;throw r})}isValidSync(s,a){try{return this.validateSync(s,a),!0}catch(r){if(vn.isError(r))return!1;throw r}}_getDefault(s){let a=this.spec.default;return a==null?a:typeof a=="function"?a.call(this,s):Rm(a)}getDefault(s){return this.resolve(s||{})._getDefault(s)}default(s){return arguments.length===0?this._getDefault():this.clone({default:s})}strict(s=!0){return this.clone({strict:s})}nullability(s,a){const r=this.clone({nullable:s});return r.internalTests.nullable=ym({message:a,name:"nullable",test(n){return n===null?this.schema.spec.nullable:!0}}),r}optionality(s,a){const r=this.clone({optional:s});return r.internalTests.optionality=ym({message:a,name:"optionality",test(n){return n===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(s=Fo.defined){return this.optionality(!1,s)}nullable(){return this.nullability(!0)}nonNullable(s=Fo.notNull){return this.nullability(!1,s)}required(s=Fo.required){return this.clone().withMutation(a=>a.nonNullable(s).defined(s))}notRequired(){return this.clone().withMutation(s=>s.nullable().optional())}transform(s){let a=this.clone();return a.transforms.push(s),a}test(...s){let a;if(s.length===1?typeof s[0]=="function"?a={test:s[0]}:a=s[0]:s.length===2?a={name:s[0],test:s[1]}:a={name:s[0],message:s[1],test:s[2]},a.message===void 0&&(a.message=Fo.default),typeof a.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),n=ym(a),i=a.exclusive||a.name&&r.exclusiveTests[a.name]===!0;if(a.exclusive&&!a.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return a.name&&(r.exclusiveTests[a.name]=!!a.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===a.name&&(i||o.OPTIONS.test===n.OPTIONS.test))),r.tests.push(n),r}when(s,a){!Array.isArray(s)&&typeof s!="string"&&(a=s,s=".");let r=this.clone(),n=NO(s).map(i=>new dd(i));return n.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof a=="function"?new Fy(n,a):Fy.fromOptions(n,a)),r}typeError(s){let a=this.clone();return a.internalTests.typeError=ym({message:s,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),a}oneOf(s,a=Fo.oneOf){let r=this.clone();return s.forEach(n=>{r._whitelist.add(n),r._blacklist.delete(n)}),r.internalTests.whiteList=ym({message:a,name:"oneOf",skipAbsent:!0,test(n){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(n)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),r}notOneOf(s,a=Fo.notOneOf){let r=this.clone();return s.forEach(n=>{r._blacklist.add(n),r._whitelist.delete(n)}),r.internalTests.blacklist=ym({message:a,name:"notOneOf",test(n){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(n)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),r}strip(s=!0){let a=this.clone();return a.spec.strip=s,a}describe(s){const a=(s?this.resolve(s):this).clone(),{label:r,meta:n,optional:i,nullable:o}=a.spec;return{meta:n,label:r,optional:i,nullable:o,default:a.getDefault(s),type:a.type,oneOf:a._whitelist.describe(),notOneOf:a._blacklist.describe(),tests:a.tests.filter((c,m,d)=>d.findIndex(p=>p.OPTIONS.name===c.OPTIONS.name)===m).map(c=>{const m=c.OPTIONS.params&&s?CO(Object.assign({},c.OPTIONS.params),s):c.OPTIONS.params;return{name:c.OPTIONS.name,params:m}})}}get"~standard"(){const s=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await s.validate(r,{abortEarly:!1})}}catch(n){if(n instanceof vn)return{issues:kO(n)};throw n}}}}}Wn.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Wn.prototype[`${t}At`]=function(s,a,r={}){const{parent:n,parentPath:i,schema:o}=Xbe(this,s,a,r.context);return o[t](n&&n[i],Object.assign({},r,{parent:n,path:s}))};for(const t of["equals","is"])Wn.prototype[t]=Wn.prototype.oneOf;for(const t of["not","nope"])Wn.prototype[t]=Wn.prototype.notOneOf;const tye=()=>!0;function ps(t){return new EO(t)}class EO extends Wn{constructor(s){super(typeof s=="function"?{type:"mixed",check:s}:Object.assign({type:"mixed",check:tye},s))}}ps.prototype=EO.prototype;function TO(){return new MO}class MO extends Wn{constructor(){super({type:"boolean",check(s){return s instanceof Boolean&&(s=s.valueOf()),typeof s=="boolean"}}),this.withMutation(()=>{this.transform((s,a)=>{if(this.spec.coerce&&!this.isType(s)){if(/^(true|1)$/i.test(String(s)))return!0;if(/^(false|0)$/i.test(String(s)))return!1}return s})})}isTrue(s=_w.isValue){return this.test({message:s,name:"is-value",exclusive:!0,params:{value:"true"},test(a){return go(a)||a===!0}})}isFalse(s=_w.isValue){return this.test({message:s,name:"is-value",exclusive:!0,params:{value:"false"},test(a){return go(a)||a===!1}})}default(s){return super.default(s)}defined(s){return super.defined(s)}optional(){return super.optional()}required(s){return super.required(s)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(s){return super.nonNullable(s)}strip(s){return super.strip(s)}}TO.prototype=MO.prototype;const sye=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function aye(t){const s=Sw(t);if(!s)return Date.parse?Date.parse(t):Number.NaN;if(s.z===void 0&&s.plusMinus===void 0)return new Date(s.year,s.month,s.day,s.hour,s.minute,s.second,s.millisecond).valueOf();let a=0;return s.z!=="Z"&&s.plusMinus!==void 0&&(a=s.hourOffset*60+s.minuteOffset,s.plusMinus==="+"&&(a=0-a)),Date.UTC(s.year,s.month,s.day,s.hour,s.minute+a,s.second,s.millisecond)}function Sw(t){var s,a;const r=sye.exec(t);return r?{year:kl(r[1]),month:kl(r[2],1)-1,day:kl(r[3],1),hour:kl(r[4]),minute:kl(r[5]),second:kl(r[6]),millisecond:r[7]?kl(r[7].substring(0,3)):0,precision:(s=(a=r[7])==null?void 0:a.length)!=null?s:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:kl(r[10]),minuteOffset:kl(r[11])}:null}function kl(t,s=0){return Number(t)||s}let rye=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,nye=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,iye=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,oye="^\\d{4}-\\d{2}-\\d{2}",lye="\\d{2}:\\d{2}:\\d{2}",cye="(([+-]\\d{2}(:?\\d{2})?)|Z)",dye=new RegExp(`${oye}T${lye}(\\.\\d+)?${cye}$`),uye=t=>go(t)||t===t.trim(),mye={}.toString();function ce(){return new DO}class DO extends Wn{constructor(){super({type:"string",check(s){return s instanceof String&&(s=s.valueOf()),typeof s=="string"}}),this.withMutation(()=>{this.transform((s,a)=>{if(!this.spec.coerce||this.isType(s)||Array.isArray(s))return s;const r=s!=null&&s.toString?s.toString():s;return r===mye?s:r})})}required(s){return super.required(s).withMutation(a=>a.test({message:s||Fo.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(s=>(s.tests=s.tests.filter(a=>a.OPTIONS.name!=="required"),s))}length(s,a=An.length){return this.test({message:a,name:"length",exclusive:!0,params:{length:s},skipAbsent:!0,test(r){return r.length===this.resolve(s)}})}min(s,a=An.min){return this.test({message:a,name:"min",exclusive:!0,params:{min:s},skipAbsent:!0,test(r){return r.length>=this.resolve(s)}})}max(s,a=An.max){return this.test({name:"max",exclusive:!0,message:a,params:{max:s},skipAbsent:!0,test(r){return r.length<=this.resolve(s)}})}matches(s,a){let r=!1,n,i;return a&&(typeof a=="object"?{excludeEmptyString:r=!1,message:n,name:i}=a:n=a),this.test({name:i||"matches",message:n||An.matches,params:{regex:s},skipAbsent:!0,test:o=>o===""&&r||o.search(s)!==-1})}email(s=An.email){return this.matches(rye,{name:"email",message:s,excludeEmptyString:!0})}url(s=An.url){return this.matches(nye,{name:"url",message:s,excludeEmptyString:!0})}uuid(s=An.uuid){return this.matches(iye,{name:"uuid",message:s,excludeEmptyString:!1})}datetime(s){let a="",r,n;return s&&(typeof s=="object"?{message:a="",allowOffset:r=!1,precision:n=void 0}=s:a=s),this.matches(dye,{name:"datetime",message:a||An.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:a||An.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const o=Sw(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:a||An.datetime_precision,params:{precision:n},skipAbsent:!0,test:i=>{if(!i||n==null)return!0;const o=Sw(i);return o?o.precision===n:!1}})}ensure(){return this.default("").transform(s=>s===null?"":s)}trim(s=An.trim){return this.transform(a=>a!=null?a.trim():a).test({message:s,name:"trim",test:uye})}lowercase(s=An.lowercase){return this.transform(a=>go(a)?a:a.toLowerCase()).test({message:s,name:"string_case",exclusive:!0,skipAbsent:!0,test:a=>go(a)||a===a.toLowerCase()})}uppercase(s=An.uppercase){return this.transform(a=>go(a)?a:a.toUpperCase()).test({message:s,name:"string_case",exclusive:!0,skipAbsent:!0,test:a=>go(a)||a===a.toUpperCase()})}}ce.prototype=DO.prototype;let pye=t=>t!=+t;function Ye(){return new RO}class RO extends Wn{constructor(){super({type:"number",check(s){return s instanceof Number&&(s=s.valueOf()),typeof s=="number"&&!pye(s)}}),this.withMutation(()=>{this.transform((s,a)=>{if(!this.spec.coerce)return s;let r=s;if(typeof r=="string"){if(r=r.replace(/\s/g,""),r==="")return NaN;r=+r}return this.isType(r)||r===null?r:parseFloat(r)})})}min(s,a=Pc.min){return this.test({message:a,name:"min",exclusive:!0,params:{min:s},skipAbsent:!0,test(r){return r>=this.resolve(s)}})}max(s,a=Pc.max){return this.test({message:a,name:"max",exclusive:!0,params:{max:s},skipAbsent:!0,test(r){return r<=this.resolve(s)}})}lessThan(s,a=Pc.lessThan){return this.test({message:a,name:"max",exclusive:!0,params:{less:s},skipAbsent:!0,test(r){return r<this.resolve(s)}})}moreThan(s,a=Pc.moreThan){return this.test({message:a,name:"min",exclusive:!0,params:{more:s},skipAbsent:!0,test(r){return r>this.resolve(s)}})}positive(s=Pc.positive){return this.moreThan(0,s)}negative(s=Pc.negative){return this.lessThan(0,s)}integer(s=Pc.integer){return this.test({name:"integer",message:s,skipAbsent:!0,test:a=>Number.isInteger(a)})}truncate(){return this.transform(s=>go(s)?s:s|0)}round(s){var a;let r=["ceil","floor","round","trunc"];if(s=((a=s)==null?void 0:a.toLowerCase())||"round",s==="trunc")return this.truncate();if(r.indexOf(s.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(n=>go(n)?n:Math[s](n))}}Ye.prototype=RO.prototype;let AO=new Date(""),hye=t=>Object.prototype.toString.call(t)==="[object Date]";function Ca(){return new Ag}class Ag extends Wn{constructor(){super({type:"date",check(s){return hye(s)&&!isNaN(s.getTime())}}),this.withMutation(()=>{this.transform((s,a)=>!this.spec.coerce||this.isType(s)||s===null?s:(s=aye(s),isNaN(s)?Ag.INVALID_DATE:new Date(s)))})}prepareParam(s,a){let r;if(dd.isRef(s))r=s;else{let n=this.cast(s);if(!this._typeCheck(n))throw new TypeError(`\`${a}\` must be a Date or a value that can be \`cast()\` to a Date`);r=n}return r}min(s,a=Nw.min){let r=this.prepareParam(s,"min");return this.test({message:a,name:"min",exclusive:!0,params:{min:s},skipAbsent:!0,test(n){return n>=this.resolve(r)}})}max(s,a=Nw.max){let r=this.prepareParam(s,"max");return this.test({message:a,name:"max",exclusive:!0,params:{max:s},skipAbsent:!0,test(n){return n<=this.resolve(r)}})}}Ag.INVALID_DATE=AO;Ca.prototype=Ag.prototype;Ca.INVALID_DATE=AO;function fye(t,s=[]){let a=[],r=new Set,n=new Set(s.map(([o,l])=>`${o}-${l}`));function i(o,l){let c=ru.split(o)[0];r.add(c),n.has(`${l}-${c}`)||a.push([l,c])}for(const o of Object.keys(t)){let l=t[o];r.add(o),dd.isRef(l)&&l.isSibling?i(l.path,o):s1(l)&&"deps"in l&&l.deps.forEach(c=>i(c,o))}return Ube.array(Array.from(r),a).reverse()}function A8(t,s){let a=1/0;return t.some((r,n)=>{var i;if((i=s.path)!=null&&i.includes(r))return a=n,!0}),a}function IO(t){return(s,a)=>A8(t,s)-A8(t,a)}const OO=(t,s,a)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return a.isType(r)?r:t};function ny(t){if("fields"in t){const s={};for(const[a,r]of Object.entries(t.fields))s[a]=ny(r);return t.setFields(s)}if(t.type==="array"){const s=t.optional();return s.innerType&&(s.innerType=ny(s.innerType)),s}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(ny)}):"optional"in t?t.optional():t}const xye=(t,s)=>{const a=[...ru.normalizePath(s)];if(a.length===1)return a[0]in t;let r=a.pop(),n=ru.getter(ru.join(a),!0)(t);return!!(n&&r in n)};let I8=t=>Object.prototype.toString.call(t)==="[object Object]";function O8(t,s){let a=Object.keys(t.fields);return Object.keys(s).filter(r=>a.indexOf(r)===-1)}const gye=IO([]);function nt(t){return new FO(t)}class FO extends Wn{constructor(s){super({type:"object",check(a){return I8(a)||typeof a=="function"}}),this.fields=Object.create(null),this._sortErrors=gye,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{s&&this.shape(s)})}_cast(s,a={}){var r;let n=super._cast(s,a);if(n===void 0)return this.getDefault(a);if(!this._typeCheck(n))return n;let i=this.fields,o=(r=a.stripUnknown)!=null?r:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(n).filter(p=>!this._nodes.includes(p))),c={},m=Object.assign({},a,{parent:c,__validating:a.__validating||!1}),d=!1;for(const p of l){let x=i[p],j=p in n,_=n[p];if(x){let S;m.path=(a.path?`${a.path}.`:"")+p,x=x.resolve({value:_,context:a.context,parent:c});let v=x instanceof Wn?x.spec:void 0,y=v?.strict;if(v!=null&&v.strip){d=d||p in n;continue}S=!a.__validating||!y?x.cast(_,m):_,S!==void 0&&(c[p]=S)}else j&&!o&&(c[p]=_);(j!==p in c||c[p]!==_)&&(d=!0)}return d?c:n}_validate(s,a={},r,n){let{from:i=[],originalValue:o=s,recursive:l=this.spec.recursive}=a;a.from=[{schema:this,value:o},...i],a.__validating=!0,a.originalValue=o,super._validate(s,a,r,(c,m)=>{if(!l||!I8(m)){n(c,m);return}o=o||m;let d=[];for(let p of this._nodes){let x=this.fields[p];!x||dd.isRef(x)||d.push(x.asNestedTest({options:a,key:p,parent:m,parentPath:a.path,originalParent:o}))}this.runTests({tests:d,value:m,originalValue:o,options:a},r,p=>{n(p.sort(this._sortErrors).concat(c),m)})})}clone(s){const a=super.clone(s);return a.fields=Object.assign({},this.fields),a._nodes=this._nodes,a._excludedEdges=this._excludedEdges,a._sortErrors=this._sortErrors,a}concat(s){let a=super.concat(s),r=a.fields;for(let[n,i]of Object.entries(this.fields)){const o=r[n];r[n]=o===void 0?i:o}return a.withMutation(n=>n.setFields(r,[...this._excludedEdges,...s._excludedEdges]))}_getDefault(s){if("default"in this.spec)return super._getDefault(s);if(!this._nodes.length)return;let a={};return this._nodes.forEach(r=>{var n;const i=this.fields[r];let o=s;(n=o)!=null&&n.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),a[r]=i&&"getDefault"in i?i.getDefault(o):void 0}),a}setFields(s,a){let r=this.clone();return r.fields=s,r._nodes=fye(s,a),r._sortErrors=IO(Object.keys(s)),a&&(r._excludedEdges=a),r}shape(s,a=[]){return this.clone().withMutation(r=>{let n=r._excludedEdges;return a.length&&(Array.isArray(a[0])||(a=[a]),n=[...r._excludedEdges,...a]),r.setFields(Object.assign(r.fields,s),n)})}partial(){const s={};for(const[a,r]of Object.entries(this.fields))s[a]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(s)}deepPartial(){return ny(this)}pick(s){const a={};for(const r of s)this.fields[r]&&(a[r]=this.fields[r]);return this.setFields(a,this._excludedEdges.filter(([r,n])=>s.includes(r)&&s.includes(n)))}omit(s){const a=[];for(const r of Object.keys(this.fields))s.includes(r)||a.push(r);return this.pick(a)}from(s,a,r){let n=ru.getter(s,!0);return this.transform(i=>{if(!i)return i;let o=i;return xye(i,s)&&(o=Object.assign({},i),r||delete o[s],o[a]=n(i)),o})}json(){return this.transform(OO)}exact(s){return this.test({name:"exact",exclusive:!0,message:s||ay.exact,test(a){if(a==null)return!0;const r=O8(this.schema,a);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(s=!0,a=ay.noUnknown){typeof s!="boolean"&&(a=s,s=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:a,test(n){if(n==null)return!0;const i=O8(this.schema,n);return!s||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=s,r}unknown(s=!0,a=ay.noUnknown){return this.noUnknown(!s,a)}transformKeys(s){return this.transform(a=>{if(!a)return a;const r={};for(const n of Object.keys(a))r[s(n)]=a[n];return r})}camelCase(){return this.transformKeys(TN.camelCase)}snakeCase(){return this.transformKeys(TN.snakeCase)}constantCase(){return this.transformKeys(s=>TN.snakeCase(s).toUpperCase())}describe(s){const a=(s?this.resolve(s):this).clone(),r=super.describe(s);r.fields={};for(const[i,o]of Object.entries(a.fields)){var n;let l=s;(n=l)!=null&&n.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),r.fields[i]=o.describe(l)}return r}}nt.prototype=FO.prototype;function dl(t){return new LO(t)}class LO extends Wn{constructor(s){super({type:"array",spec:{types:s},check(a){return Array.isArray(a)}}),this.innerType=void 0,this.innerType=s}_cast(s,a){const r=super._cast(s,a);if(!this._typeCheck(r)||!this.innerType)return r;let n=!1;const i=r.map((o,l)=>{const c=this.innerType.cast(o,Object.assign({},a,{path:`${a.path||""}[${l}]`,parent:r,originalValue:o,value:o,index:l}));return c!==o&&(n=!0),c});return n?i:r}_validate(s,a={},r,n){var i;let o=this.innerType,l=(i=a.recursive)!=null?i:this.spec.recursive;a.originalValue!=null&&a.originalValue,super._validate(s,a,r,(c,m)=>{var d;if(!l||!o||!this._typeCheck(m)){n(c,m);return}let p=new Array(m.length);for(let j=0;j<m.length;j++){var x;p[j]=o.asNestedTest({options:a,index:j,parent:m,parentPath:a.path,originalParent:(x=a.originalValue)!=null?x:s})}this.runTests({value:m,tests:p,originalValue:(d=a.originalValue)!=null?d:s,options:a},r,j=>n(j.concat(c),m))})}clone(s){const a=super.clone(s);return a.innerType=this.innerType,a}json(){return this.transform(OO)}concat(s){let a=super.concat(s);return a.innerType=this.innerType,s.innerType&&(a.innerType=a.innerType?a.innerType.concat(s.innerType):s.innerType),a}of(s){let a=this.clone();if(!s1(s))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Yl(s));return a.innerType=s,a.spec=Object.assign({},a.spec,{types:s}),a}length(s,a=ry.length){return this.test({message:a,name:"length",exclusive:!0,params:{length:s},skipAbsent:!0,test(r){return r.length===this.resolve(s)}})}min(s,a){return a=a||ry.min,this.test({message:a,name:"min",exclusive:!0,params:{min:s},skipAbsent:!0,test(r){return r.length>=this.resolve(s)}})}max(s,a){return a=a||ry.max,this.test({message:a,name:"max",exclusive:!0,params:{max:s},skipAbsent:!0,test(r){return r.length<=this.resolve(s)}})}ensure(){return this.default(()=>[]).transform((s,a)=>this._typeCheck(s)?s:a==null?[]:[].concat(a))}compact(s){let a=s?(r,n,i)=>!s(r,n,i):r=>!!r;return this.transform(r=>r!=null?r.filter(a):r)}describe(s){const a=(s?this.resolve(s):this).clone(),r=super.describe(s);if(a.innerType){var n;let i=s;(n=i)!=null&&n.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),r.innerType=a.innerType.describe(i)}return r}}dl.prototype=LO.prototype;const bye=({open:t,setOpen:s})=>{const a=Fs(),[r,n]=g.useState(!1),[i,o]=g.useState("approve"),[l,c]=g.useState(null),{data:m,isLoading:d}=eS({page:1,limit:10,status:"P"},{enabled:t,retry:!1,refetchOnMount:!1,refetchOnWindowFocus:!1}),p=m?.data||[],x=tS(),j=pt({initialValues:{remarks:""},validationSchema:nt({remarks:ce().required(`${i==="approve"?"Approval":"Rejection"} remarks are required`).trim().min(1,`${i==="approve"?"Approval":"Rejection"} remarks are required`)}),enableReinitialize:!0,onSubmit:async C=>{if(!(!l||!l.approvals?.[0]))try{await x.mutateAsync({request_id:l.id,approval_id:l.approvals[0].id,action:i==="approve"?"A":"R",remarks:C.remarks.trim()}),j.resetForm(),n(!1),c(null)}catch(P){console.error("Error taking action on request:",P)}}}),_=C=>{c(C),o("approve"),n(!0)},S=C=>{c(C),o("reject"),n(!0)},v=()=>{j.resetForm(),n(!1),c(null)},y=C=>C.replace(/_/g," ").replace(/\w\S*/g,P=>P.charAt(0)+P.substr(1).toLowerCase()),N=C=>{if(C.reference_details){if(C.request_type==="ORDER_APPROVAL"&&C.reference_details.order_number)return C.reference_details.order_number;if(C.request_type==="ASSET_MOVEMENT_APPROVAL"&&C.reference_details.movement_number)return C.reference_details.movement_number}if(C.reference_id)return`#${C.reference_id}`;if(C.request_data)try{const P=JSON.parse(C.request_data);return P.order_number||P.reference_number||P.movement_number||`REQ-${C.id}`}catch{return`REQ-${C.id}`}return`REQ-${C.id}`};return e.jsxs(e.Fragment,{children:[e.jsx(it,{open:t,setOpen:s,title:"Recent Requests",size:"small",children:e.jsxs("div",{className:"!p-2",children:[d?e.jsx("div",{className:"!space-y-2",children:[1,2,3].map(C=>e.jsxs("div",{className:"!bg-white !rounded-lg !border !border-gray-200 !p-4",children:[e.jsx(X,{variant:"text",width:"60%",height:20,className:"!mb-2"}),e.jsx(X,{variant:"text",width:"40%",height:16,className:"!mb-3"}),e.jsxs("div",{className:"!flex !gap-2 !mb-3",children:[e.jsx(X,{variant:"rectangular",width:80,height:24}),e.jsx(X,{variant:"rectangular",width:80,height:24})]}),e.jsxs("div",{className:"!flex !gap-2",children:[e.jsx(X,{variant:"rectangular",width:100,height:32}),e.jsx(X,{variant:"rectangular",width:100,height:32})]})]},C))}):p.length===0?e.jsxs("div",{className:"!text-center !py-12",children:[e.jsx(ks,{className:"!w-16 !h-16 !text-gray-400 !mx-auto !mb-4"}),e.jsx(f,{variant:"body1",className:"!text-gray-600 !mb-2",children:"No Pending Approvals"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"All requests have been processed"})]}):e.jsx("div",{className:"!space-y-2",children:p.map(C=>{const P=C.requester?.name||`User #${C.requester_id}`,E=y(C.request_type),D=N(C),T=C.approvals?.[0]?.status||C.status;return e.jsxs("div",{className:"!bg-white !rounded-lg !border !border-gray-200 !p-3 !hover:!shadow-md !transition-shadow",children:[e.jsx("div",{className:"!flex !items-center !justify-between !mb-2",children:e.jsx("div",{className:"!flex justify-between !items-center !gap-2 !flex-1 !min-w-0",children:e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:D})})}),e.jsxs(f,{variant:"caption",className:"!text-gray-600 !text-xs !leading-tight !block !mb-3",children:[e.jsx("span",{className:"!font-medium !text-gray-800",children:P})," ","has requested"," ",e.jsx("span",{className:"!font-medium !text-gray-800",children:E}),C.request_type==="ORDER_APPROVAL"&&e.jsxs(e.Fragment,{children:[" ","for order"," ",e.jsx("span",{className:"!font-semibold !text-blue-600",children:D})]}),C.request_type==="ASSET_MOVEMENT_APPROVAL"&&e.jsxs(e.Fragment,{children:[" ","for asset movement"," ",e.jsx("span",{className:"!font-semibold !text-green-600",children:D})]})]}),e.jsxs("div",{className:"!flex !items-center !justify-between !gap-2",children:[e.jsx("div",{className:"!flex !items-center !gap-2 !flex-wrap",children:C.createdate&&e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs",children:Xc(C.createdate instanceof Date?C.createdate.toISOString():String(C.createdate))})}),e.jsxs("div",{className:"!flex !gap-2 !shrink-0",children:[e.jsx(G,{variant:"contained",color:"success",size:"small",startIcon:e.jsx(No,{className:"!w-4 !h-4"}),onClick:()=>_(C),disabled:T?.toUpperCase()!=="P"&&T?.toUpperCase()!=="PENDING",className:"!text-xs !h-8 !px-3",children:"Approve"}),e.jsx(G,{variant:"contained",color:"error",size:"small",startIcon:e.jsx(Kr,{className:"!w-4 !h-4"}),onClick:()=>S(C),disabled:T?.toUpperCase()!=="P"&&T?.toUpperCase()!=="PENDING",className:"!text-xs !h-8 !px-3",children:"Reject"})]})]})]},C.id)})}),e.jsx("div",{className:"!mt-4 !pt-4 !border-t !border-gray-200 !flex !justify-end",children:e.jsx(G,{variant:"outlined",size:"small",onClick:()=>{s(!1),a("/workflows/approvals")},children:"View All"})})]})}),e.jsxs(ol,{open:r,onClose:v,maxWidth:"sm",fullWidth:!0,className:"!rounded-lg",children:[e.jsxs(gg,{className:"!flex !items-center !gap-3 !pb-4 !border-b !border-gray-200 !relative",children:[e.jsx("div",{className:`!w-12 !h-12 !rounded-full !flex !items-center !justify-center !shrink-0 ${i==="approve"?"!bg-green-100":"!bg-red-100"}`,children:i==="approve"?e.jsx(No,{className:"!w-6 !h-6 !text-green-600"}):e.jsx(Kr,{className:"!w-6 !h-6 !text-red-600"})}),e.jsxs("div",{className:"!flex-1",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900",children:i==="approve"?"Approve Request?":"Reject Request?"}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mt-1",children:i==="approve"?e.jsxs(e.Fragment,{children:["Are you sure you want to approve this"," ",l?.request_type?.replaceAll("_"," ").toLowerCase()||"request"," ","from"," ",e.jsx("span",{className:"!font-semibold !text-gray-900",children:l?.requester?.name||"User"}),"?"]}):e.jsxs(e.Fragment,{children:["Are you sure you want to reject this"," ",l?.request_type?.toLowerCase()||"request"," ","from"," ",e.jsx("span",{className:"!font-semibold !text-gray-900",children:l?.requester?.name||"User"}),"?"]})})]}),e.jsx(Ws,{onClick:v,className:"!absolute !top-2 !right-2 !bg-white !rounded-full !shadow-md hover:!bg-gray-100 !border !border-gray-200",size:"small",children:e.jsx(Kr,{className:"!w-4 !h-4 !text-gray-600"})})]}),e.jsxs(Pp,{className:"!p-4",children:[l&&e.jsxs("div",{className:"!mb-4 !pb-4 !border-b !border-gray-200",children:[e.jsx(f,{variant:"subtitle2",className:"!font-semibold !text-gray-700 !mb-3",children:"Request Details"}),l.reference_details?e.jsxs("div",{className:"!bg-gray-50 !rounded-md !p-4 !border !border-gray-200",children:[l.request_type==="ORDER_APPROVAL"&&e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[l.reference_details.order_number&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Order Number"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.reference_details.order_number})]}),l.reference_details.customer_name&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Customer Name"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.reference_details.customer_name})]}),l.reference_details.customer_code&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Customer Code"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.reference_details.customer_code})]}),l.reference_details.salesperson_name&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Salesperson"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.reference_details.salesperson_name})]}),l.reference_details.total_amount&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Total Amount"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-primary-600",children:l.reference_details.total_amount})]}),l.reference_details.order_date&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Order Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.reference_details.order_date})]}),l.reference_details.payment_method&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Payment Method"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.reference_details.payment_method})]}),l.reference_details.status&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Order Status"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.reference_details.status})]})]}),l.request_type==="ASSET_MOVEMENT_APPROVAL"&&e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[l.reference_details.movement_number&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Movement Number"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.reference_details.movement_number})]}),l.reference_details.movement_type&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Movement Type"}),e.jsx(f,{variant:"body2",className:"!font-semibold !capitalize !text-gray-900",children:l.reference_details.movement_type})]}),l.reference_details.from_location&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"From Location"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.reference_details.from_location})]}),l.reference_details.to_location&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"To Location"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.reference_details.to_location})]}),l.reference_details.performed_by&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Performed By"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.reference_details.performed_by})]}),l.reference_details.movement_date&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Movement Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.reference_details.movement_date})]}),l.reference_details.assets&&e.jsxs("div",{className:"!space-y-1 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Assets"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.reference_details.assets})]}),l.reference_details.notes&&e.jsxs("div",{className:"!space-y-1 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Notes"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.reference_details.notes})]})]})]}):e.jsx("div",{className:"!bg-gray-50 !rounded-md !p-4 !border !border-gray-200",children:e.jsx(f,{variant:"body2",className:"!text-gray-600 !text-center",children:"No request details available"})})]}),e.jsx(oe,{name:"remarks",multiline:!0,rows:3,label:i==="approve"?"Approval Remarks":"Rejection Remarks",placeholder:i==="approve"?"Enter approval remarks...":"Enter rejection remarks...",formik:j,required:!0})]}),e.jsxs(Cp,{className:"!px-6 !py-4 !gap-2",children:[e.jsx(G,{variant:"outlined",onClick:v,children:"Cancel"}),e.jsx(G,{variant:"contained",color:i==="approve"?"success":"error",startIcon:i==="approve"?e.jsx(No,{className:"!w-4 !h-4"}):e.jsx(Kr,{className:"!w-4 !h-4"}),onClick:()=>j.handleSubmit(),disabled:x.isPending||!j.isValid||!j.values.remarks.trim(),children:x.isPending?i==="approve"?"Approving...":"Rejecting...":i==="approve"?"Yes, Approve":"Yes, Reject"})]})]})]})},a1={async getNotifications(t){const s={};t?.page&&(s.page=t.page),t?.limit&&(s.limit=t.limit),t?.type&&(s.type=t.type),t?.category&&(s.category=t.category),t?.is_read!==void 0&&(s.is_read=t.is_read),t?.priority&&(s.priority=t.priority);const a=await ie.get("/notifications",{params:s});return{data:a.data.data.notifications||[],pagination:a.data.pagination||{page:1,limit:20,total:0,total_pages:0},unread_count:a.data.data.unread_count||0}},async getNotificationById(t){return(await ie.get(`/notifications/${t}`)).data.data},async createNotification(t){return(await ie.post("/notifications",t)).data.data},async markAsRead(t){return(await ie.put(`/notifications/${t}/read`)).data.data},async markAllAsRead(){return(await ie.put("/notifications/read-all")).data.data||{count:0}},async deleteNotification(t){await ie.delete(`/notifications/${t}`)},async clearAll(){return(await ie.delete("/notifications/clear-all")).data.data||{count:0}},async getUnreadCount(){return(await ie.get("/notifications/unread-count")).data.data||{count:0}}},yye=t=>st({queryKey:["notifications",t],queryFn:()=>a1.getNotifications(t)}),vye=()=>{const t=is();return Nu({mutationFn:s=>a1.markAsRead(s),onSuccess:()=>{t.invalidateQueries({queryKey:["notifications"]}),t.invalidateQueries({queryKey:["notifications","unread-count"]})}})},jye=()=>{const t=is();return Nu({mutationFn:()=>a1.markAllAsRead(),onSuccess:()=>{t.invalidateQueries({queryKey:["notifications"]}),t.invalidateQueries({queryKey:["notifications","unread-count"]})}})},Nye=()=>{const t=is();return Nu({mutationFn:()=>a1.clearAll(),onSuccess:()=>{t.invalidateQueries({queryKey:["notifications"]}),t.invalidateQueries({queryKey:["notifications","unread-count"]})}})},_ye=({onNotificationClick:t})=>{const[s,a]=g.useState(null),r=g.useRef(null),n=Fs(),i=!!s,{data:o,isLoading:l,refetch:c}=yye({limit:20}),m=vye(),d=jye(),p=Nye(),x=o?.data||[],j=o?.unread_count||0,_=E=>{a(E.currentTarget)},S=()=>{a(null)},v=async E=>{E.is_read||await m.mutateAsync(E.id),E.action_url&&n(E.action_url),t?.(E),S()},y=async()=>{try{await d.mutateAsync(),c()}catch(E){console.error("Failed to mark all as read:",E)}},N=async()=>{try{await p.mutateAsync(),S(),c()}catch(E){console.error("Failed to clear all notifications:",E)}},C=E=>{switch(E){case"success":return e.jsx(mt,{className:"!text-green-500"});case"warning":return e.jsx(Pg,{className:"!text-yellow-500"});case"error":return e.jsx(iw,{className:"!text-red-500"});default:return e.jsx($le,{className:"!text-blue-500"})}},P=E=>{if(!E)return"Just now";const D=new Date,T=new Date(E),A=D.getTime()-T.getTime(),I=Math.floor(A/6e4),F=Math.floor(A/36e5),z=Math.floor(A/864e5);return I<1?"Just now":I<60?`${I}m ago`:F<24?`${F}h ago`:z<7?`${z}d ago`:T.toLocaleDateString()};return e.jsxs("div",{className:"relative",ref:r,children:[e.jsx(T4,{badgeContent:j,color:"error",max:99,children:e.jsx(Ws,{onClick:_,className:"!p-1.5 !rounded-md !bg-gray-100 !text-gray-600 hover:!text-gray-900 hover:!bg-gray-100","aria-label":"notifications","aria-controls":i?"notifications-menu":void 0,"aria-haspopup":"true","aria-expanded":i?"true":void 0,children:e.jsx(TT,{className:"!text-gray-600"})})}),e.jsxs(Mv,{id:"notifications-menu",anchorEl:s,open:i,onClose:S,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},slotProps:{paper:{className:"!mt-2 !ml-1 !min-w-[400px] !max-w-[400px] !max-h-[600px] relative",sx:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",overflow:"visible","&::before":{content:'""',position:"absolute",top:-8,right:16,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"8px solid white",zIndex:1,pointerEvents:"none"},"&::after":{content:'""',position:"absolute",top:-9,right:16,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"8px solid #e5e7eb",zIndex:0,pointerEvents:"none"}}},list:{className:"!py-2 !relative"}},children:[e.jsxs(b,{className:"!px-4 !py-3 !border-b !border-gray-200 !flex !items-center !justify-between !bg-gray-50",children:[e.jsx(f,{variant:"h6",className:"!text-base !font-semibold !text-gray-900",children:"Notifications"}),j>0&&e.jsx(ii,{size:"small",onClick:y,className:"!text-xs !text-blue-600 hover:!text-blue-700 !normal-case",children:"Mark all as read"})]}),e.jsx(b,{className:"!max-h-[450px] !overflow-y-auto",children:l?e.jsx(b,{className:"!p-4 !space-y-3",children:[1,2,3].map(E=>e.jsxs(b,{className:"!flex !gap-3",children:[e.jsx(X,{variant:"circular",width:40,height:40}),e.jsxs(b,{className:"!flex-1",children:[e.jsx(X,{width:"60%",height:20}),e.jsx(X,{width:"100%",height:16,className:"!mt-2"}),e.jsx(X,{width:"40%",height:12,className:"!mt-1"})]})]},E))}):x.length===0?e.jsxs(b,{className:"!p-8 !text-center",children:[e.jsx(TT,{className:"!text-gray-400 !mb-2"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No notifications"})]}):x.map(E=>e.jsxs(Z,{onClick:()=>v(E),className:`!px-4 !py-3 !border-b !border-gray-100 hover:!bg-gray-50 ${E.is_read?"":"!bg-blue-50"}`,children:[e.jsx(Yb,{className:"!min-w-0 !mr-3",children:C(E.type)}),e.jsx(Gb,{primary:e.jsxs(b,{className:"!flex !items-start !justify-between !gap-2",children:[e.jsx(f,{variant:"body2",className:`!font-medium !text-sm ${E.is_read?"!text-gray-700":"!text-gray-900"}`,children:E.title}),!E.is_read&&e.jsx(Dle,{className:"!text-blue-500 !text-xs"})]}),secondary:e.jsxs(e.Fragment,{children:[e.jsx(f,{component:"span",variant:"body2",className:"!text-xs !text-wrap !text-gray-500 !mt-1 !block",children:E.message}),e.jsx(f,{component:"span",variant:"caption",className:"!text-xs !text-gray-400 !mt-1 !block",children:P(E.createdate)})]})})]},E.id))}),x.length>0&&!l&&[e.jsx(or,{},"divider"),e.jsx(b,{className:"!px-4 !py-2 !flex !justify-center",children:e.jsx(ii,{size:"small",onClick:N,className:"!text-xs !text-gray-600 hover:!text-gray-900 !normal-case",children:"Clear all notifications"})},"clear-all")]]})]})},wye=Ne(T4)(({theme:t})=>({"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:`0 0 0 2px ${t.palette.background.paper}`,borderRadius:"50%",minWidth:"10px",height:"10px","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}})),Sye=({sidebarOpen:t,toggleSidebar:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(!1),o=Fs(),l=!!a,{user:c,isLoading:m,logout:d,isLoggingOut:p}=PA(),{data:x}=eS({page:1,limit:100,status:"P"},{retry:!1,refetchOnMount:!1,refetchOnWindowFocus:!1}),j=x?.pagination?.total_count||0,_=D=>{r(D.currentTarget)},S=()=>{r(null)},v=()=>{try{d(),S()}catch(D){console.error("Logout failed:",D)}},y=()=>{o("/profile"),S()},N=()=>{o("/settings/system"),S()},C=()=>c?.name?c.name.split(" ").map(D=>D[0]).join("").toUpperCase().slice(0,2):"U",P=()=>c?.name??"User",E=()=>c?.role?.name??"User";return e.jsxs("header",{className:"bg-white border-b border-gray-200 h-[67px]",children:[e.jsxs("div",{className:"flex items-center justify-between h-full px-4",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("button",{onClick:s,className:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 sm:hidden",children:t?e.jsx(sce,{size:20}):e.jsx(Jle,{size:20})})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T4,{badgeContent:j,color:"error",max:99,invisible:j===0,children:e.jsx(Ws,{onClick:()=>i(!0),className:"!p-1.5 !rounded-md !bg-gray-100 !text-gray-600 hover:!text-gray-900 hover:!bg-gray-100","aria-label":"approvals","aria-controls":n?"approvals-drawer":void 0,"aria-haspopup":"true","aria-expanded":n?"true":void 0,children:e.jsx(Ele,{className:"!text-gray-600"})})}),e.jsx(_ye,{onNotificationClick:D=>{console.log("Notification clicked:",D)}}),e.jsxs("div",{className:"relative",children:[e.jsx(Ws,{onClick:_,className:"!p-2 !rounded-md !bg-gray-50 !text-gray-700 hover:!bg-gray-100","aria-label":"user menu","aria-controls":l?"user-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0,children:m?e.jsx(X,{variant:"circular",width:40,height:40,sx:{bgcolor:"grey.200"}}):e.jsx(wye,{overlap:"rectangular",anchorOrigin:{vertical:"bottom",horizontal:"left"},variant:"dot",children:e.jsx(ot,{alt:P(),src:c?.profile_image||void 0,className:"!w-9 !h-9 !text-sm !font-medium",sx:{bgcolor:"primary.main",borderRadius:"5px"},children:C()})})}),e.jsxs(Mv,{id:"user-menu",anchorEl:a,open:l,onClose:S,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},slotProps:{paper:{className:"!mt-2 !min-w-[240px] relative",sx:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",overflow:"visible"}},list:{className:"!px-0 !py-1 !relative"}},children:[e.jsx(b,{sx:{position:"absolute",top:-8,right:16,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"8px solid white",zIndex:1,pointerEvents:"none"}}),e.jsx(b,{sx:{position:"absolute",top:-9,right:16,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"8px solid #e5e7eb",zIndex:0,pointerEvents:"none"}}),e.jsxs(b,{className:"!px-4 !py-3 !border-b !border-gray-200 !bg-gray-50",children:[e.jsxs(b,{className:"!flex !items-center !gap-3 !mb-2",children:[m?e.jsx(X,{variant:"circular",width:40,height:40,sx:{bgcolor:"grey.200"}}):e.jsx(ot,{alt:P(),src:c?.profile_image||void 0,sx:{width:40,height:40,bgcolor:"primary.main",fontSize:"1rem",fontWeight:500},children:C()}),e.jsxs(b,{className:"!flex-1",children:[e.jsx(f,{variant:"body2",className:"!text-sm !font-medium !text-gray-900",sx:{fontWeight:500},children:m?e.jsx(X,{width:120,height:16}):P()}),e.jsx(f,{variant:"caption",className:"!text-xs !text-gray-500",children:m?e.jsx(X,{width:80,height:12}):E()})]})]}),e.jsx(f,{variant:"caption",className:"!text-xs !text-gray-500",children:m?e.jsx(X,{width:150,height:12}):c?.email||"user@example.com"})]}),e.jsxs(Z,{onClick:y,className:"!px-4 !py-2",children:[e.jsx(Yb,{className:"!min-w-0 !mr-3",children:e.jsx(kle,{fontSize:"small",className:"!text-gray-500"})}),e.jsx(Gb,{primary:"My Profile",primaryTypographyProps:{className:"!text-sm !text-gray-700"}})]}),e.jsxs(Z,{onClick:N,className:"!px-4 !py-2",children:[e.jsx(Yb,{className:"!min-w-0 !mr-3",children:e.jsx(pu,{fontSize:"small",className:"!text-gray-500"})}),e.jsx(Gb,{primary:"Settings",primaryTypographyProps:{className:"!text-sm !text-gray-700"}})]}),e.jsx(or,{className:"!my-1"}),e.jsxs(Z,{onClick:v,disabled:p,className:"!px-4 !py-2",sx:{"&.Mui-disabled":{opacity:.5}},children:[e.jsx(Yb,{className:"!min-w-0 !mr-3",children:e.jsx(Ule,{fontSize:"small",className:"!text-red-600"})}),e.jsx(Gb,{primary:p?"Signing out...":"Logout",primaryTypographyProps:{className:"!text-sm !text-red-600"}})]})]})]})]})]}),e.jsx(bye,{open:n,setOpen:i})]})},Cye=()=>{const t=Ze("dashboard"),s=Ze("company"),a=Ze("user"),r=Ze("role"),n=Ze("depot"),i=Ze("zone"),o=Ze("currency"),l=Ze("route"),c=Ze("route-type"),m=Ze("outlet"),d=Ze("outlet-group"),p=Ze("asset-type"),x=Ze("asset-master"),j=Ze("warehouse"),_=Ze("vehicle"),S=Ze("brand"),v=Ze("product-category"),y=Ze("product-sub-category"),N=Ze("unit-of-measurement"),C=Ze("subunit-of-measurement"),P=Ze("product"),E=Ze("pricelist"),D=Ze("sales-target-group"),T=Ze("sales-target"),A=Ze("sales-bonus-rule"),I=Ze("kpi-target"),F=Ze("survey"),z=Ze("promotions"),O=Ze("order"),K=Ze("delivery"),W=Ze("return"),B=Ze("payment"),q=Ze("invoice"),H=Ze("credit-note"),Q=Ze("visit"),V=Ze("asset-movement"),M=Ze("maintenance"),R=Ze("installation"),$=Ze("inspection"),Y=Ze("van-stock"),J=Ze("stock-movement"),te=Ze("stock-transfer"),ee=Ze("batch-lots"),ne=Ze("inventory-items"),he=Ze("inventory-management"),de=Ze("competitor"),ae=Ze("customer-complaint"),xe=Ze("customer-category"),ge=Ze("customer-type"),le=Ze("customer-channel"),me=Ze("product-flavour"),Ae=Ze("product-volume"),Ce=Ze("product-shelf-life"),_e=Ze("product-type"),Ie=Ze("product-target-group"),et=Ze("product-web-order"),ke=Ze("cooler-type"),He=Ze("cooler-sub-type"),be=Ze("tax-master"),Ge=Ze("location"),at=Ze("route-effectiveness"),vt=Ze("erp-sync"),dt=Ze("report"),ft=Ze("approval"),Mt=Ze("exception"),ye=Ze("alert"),Le=Ze("profile"),ze=Ze("login-history"),jt=Ze("token"),es=Ze("setting"),Qt=g.useMemo(()=>({dashboard:t,company:s,user:a,role:r,depot:n,zone:i,currency:o,route:l,"route-type":c,outlet:m,"outlet-group":d,"asset-type":p,"asset-master":x,warehouse:j,vehicle:_,brand:S,"product-category":v,"product-sub-category":y,"unit-of-measurement":N,"subunit-of-measurement":C,product:P,pricelist:E,"sales-target-group":D,"sales-target":T,"sales-bonus-rule":A,"kpi-target":I,survey:F,promotions:z,order:O,delivery:K,return:W,payment:B,invoice:q,"credit-note":H,visit:Q,"asset-movement":V,maintenance:M,installation:R,inspection:$,"van-stock":Y,"stock-movement":J,"stock-transfer":te,"batch-lots":ee,"inventory-items":ne,"inventory-management":he,competitor:de,"customer-complaint":ae,"customer-category":xe,"customer-type":ge,"customer-channel":le,"product-flavour":me,"product-volume":Ae,"product-shelf-life":Ce,"product-type":_e,"product-target-group":Ie,"product-web-order":et,"cooler-type":ke,"cooler-sub-type":He,"tax-master":be,location:Ge,"route-effectiveness":at,"erp-sync":vt,report:dt,approval:ft,exception:Mt,alert:ye,profile:Le,"login-history":ze,token:jt,setting:es}),[t,s,a,r,n,i,o,l,c,m,d,p,x,j,_,S,v,y,N,C,P,E,D,T,A,I,F,z,O,K,W,B,q,H,Q,V,M,R,$,Y,J,te,ee,ne,he,de,ae,xe,ge,le,me,Ae,Ce,_e,Ie,et,ke,He,be,Ge,at,vt,dt,ft,Mt,ye,Le,ze,jt,es]),rt=g.useCallback(hs=>{const cs=gae[hs];if(!cs)return!0;const Ns=Qt[cs];return Ns?.isRead||Ns?.isCreate||Ns?.isUpdate||Ns?.isDelete||!1},[Qt]),zt=g.useCallback(hs=>hs.map(cs=>{if(cs.children&&cs.children.length>0){const Ns=zt(cs.children);return Ns.length>0?{...cs,children:Ns}:null}return rt(cs.id)?cs:null}).filter(cs=>cs!==null),[rt]),_t=g.useMemo(()=>Object.values(Qt).some(hs=>hs?.isLoading),[Qt]);return{hasPermission:rt,filterMenuItems:zt,isLoading:_t}},Pye=()=>{const t=Fs(),s=yi(),[a,r]=g.useState(new Set),[n,i]=g.useState(""),{filterMenuItems:o,isLoading:l}=Cye(),c=_=>_?s.pathname===_||s.pathname.startsWith(_+"/"):!1,m=(_,S)=>S.trim()?_.toLowerCase().includes(S.toLowerCase()):!0,d=g.useMemo(()=>o(y9),[o]),p=g.useMemo(()=>{if(!n.trim())return d;const _=n.toLowerCase();return d.map(S=>{const v=S.children?.map(y=>{const N=m(y.label,_),C=y.children?.filter(E=>m(E.label,_)),P=C&&C.length>0;return N||P?{...y,children:P?C:y.children}:null}).filter(Boolean);return v&&v.length>0?{...S,children:v}:null}).filter(Boolean)},[n,d]);g.useEffect(()=>{(S=>{S.forEach(v=>{v.children&&v.children.forEach(y=>{y.children&&y.children.some(C=>c(C.href))&&r(C=>C.has(y.id)?C:new Set(C).add(y.id))})})})(d)},[s.pathname,d]),g.useEffect(()=>{if(n.trim()){const _=new Set;p.forEach(S=>{S.children?.forEach(v=>{v.children&&v.children.length>0&&_.add(v.id)})}),r(_)}},[n,p]);const x=_=>{r(S=>{const v=new Set(S);return v.has(_)?v.delete(_):v.add(_),v})},j=g.useCallback(_=>{if(!_)return;const S=_,v=s.pathname,y={forceReload:Date.now()};S===v?t(S,{replace:!0,state:y}):t(S,{replace:!1,state:y}),n.trim()&&setTimeout(()=>{i("")},100)},[t,s.pathname,n]);return e.jsxs("div",{className:"h-screen w-72 bg-white border-r border-gray-200 flex flex-col transition-all duration-300 ease-in-out",children:[e.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center gap-2",children:[e.jsx("img",{src:"/sfa.png",alt:"DCC-SFA Logo",className:"h-[42px] w-auto object-contain"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-bold text-[#004080] text-xl leading-tight",children:"DCC-SFA"}),e.jsx("span",{className:"font-medium text-[#666666] text-xs leading-tight",children:"Your Reliable IT Partner"})]})]}),e.jsx("div",{className:"",children:e.jsx("input",{type:"text",placeholder:"Search menu...",value:n,className:"!w-full !p-2 px-2.5 placeholder:text-sm rounded-none outline-none border-b border-gray-200",onChange:_=>i(_.target.value)})}),e.jsx("div",{className:"flex flex-col overflow-y-auto",children:l?e.jsx("div",{className:"p-2 space-y-2",children:[1,2,3,4,5,6,7,8,9,10].map(_=>e.jsxs("div",{className:"flex items-center gap-2 p-2",children:[e.jsx(X,{variant:"rectangular",width:24,height:24,className:"!rounded"}),e.jsx(X,{variant:"text",width:"80%",height:24})]},_))}):p.length===0?e.jsx("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:e.jsx("span",{className:"text-sm text-gray-500 text-center",children:n.trim()?`No menu items found matching "${n}"`:"No menu items available"})}):p.map(_=>e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm px-2 py-2 leading-tight font-medium uppercase text-gray-600",children:_.label}),_.children&&_.children.length>0&&e.jsx("div",{className:"flex flex-col p-1",children:_.children.map(S=>{const v=S.children?.some(P=>c(P.href)),y=c(S.href)||v,N=a.has(S.id),C=S.children&&S.children.length>0;return e.jsxs(yt.Fragment,{children:[e.jsxs(fE,{onClick:()=>C?x(S.id):j(S.href),className:`group !justify-between !cursor-pointer !mb-0.5 !flex !items-center hover:!bg-blue-200 !rounded !p-1.5 !transition-colors !duration-300 ${y?"!bg-blue-200":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[S.icon&&e.jsx("div",{className:`flex items-center h-8 w-8 justify-center rounded transition-colors duration-300 ease-in-out ${y?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 group-hover:bg-blue-600 group-hover:text-white"}`,children:e.jsx(S.icon,{className:`pointer-events-none transition-colors duration-300 ${y?"text-white":"text-gray-600 group-hover:text-white"}`})}),e.jsx("span",{className:`text-sm truncate !font-medium transition-colors duration-300 ease-in-out flex items-center gap-1 ${y?"text-blue-600 !font-semibold":"text-gray-600 group-hover:text-blue-600"}`,children:S.label?.length>22?S.label?.slice(0,22)+"...":S.label})]}),S.children&&S.children.length>0&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Mle,{fontSize:"small",className:`transition-all duration-300 ease-in-out ${N?"rotate-90":""} ${y?"text-blue-600":"text-gray-600 group-hover:text-blue-600"}`})})]},S.id),S.children&&S.children.length>0&&e.jsx(__,{in:N,timeout:"auto",unmountOnExit:!0,children:e.jsx("div",{className:"flex flex-col",children:S.children.map(P=>{const E=c(P.href);return e.jsx(fE,{onClick:D=>{D.stopPropagation(),j(P.href)},className:"group !justify-between !cursor-pointer !flex !items-center hover:!bg-transparent !rounded !p-0 !pl-10 !transition-colors !duration-300",children:e.jsxs("div",{className:"flex relative items-center gap-2",children:[e.jsx("div",{className:"absolute z-0 left-1 top-0 h-full border-l-2 border-dotted border-gray-300"}),e.jsx("span",{className:`text-2xl z-10 transition-colors duration-300 ${E?"text-blue-600":"text-gray-600 group-hover:text-blue-600"}`,children:""}),e.jsx("span",{className:`text-sm truncate transition-colors !font-medium duration-300 ease-in-out flex items-center gap-1 ${E?"text-blue-600 !font-semibold":"text-gray-600 group-hover:text-blue-600"}`,children:P.label})]})},P.id)})})})]},S.id)})})]})},_.id))})]})};var MN={exports:{}};var F8;function kye(){return F8||(F8=1,(function(t){(function(){var s={}.hasOwnProperty;function a(){for(var i="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(i=n(i,r(l)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return a.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var l in i)s.call(i,l)&&i[l]&&(o=n(o,l));return o}function n(i,o){return o?i?i+" "+o:i+o:i}t.exports?(a.default=a,t.exports=a):window.classNames=a})()})(MN)),MN.exports}var Eye=kye();const lr=no(Eye),Tye=({navItem:t,navLink:s,id:a})=>{const[r,n]=g.useState([]),[i,o]=g.useState(""),{state:l}=yi();g.useEffect(()=>{l&&o(l)},[l]);const c=Fs(),m=(d,p,x)=>{if(d.stopPropagation(),x!==0)c(r[x-1].navLink,{state:i});else if(r.length>1)c(r[x+1].navLink,{state:i});else return;n(r.filter(j=>j.id!==p))};return g.useEffect(()=>{n(d=>{const p=d.findIndex(_=>_.navItem===t);if(p!==-1){if(d[p].id===a&&d[p].navLink===s)return d;const _=[...d];return _[p]={id:a,navItem:t,navLink:s},_}const x=d.findIndex(_=>_.id===a);if(x!==-1){const _=[...d];return _[x]={id:a,navItem:t,navLink:s},_}if(typeof t=="string"&&/^\d+$/.test(t)&&d.length>0){const _=d[d.length-1];if(_&&_.id!==a){const S=[...d];return S[S.length-1]={..._,navItem:`${_.navItem} ${t}`,navLink:s,id:a},S}return d}return[...d,{id:a,navItem:t,navLink:s}]})},[a,t,s]),g.useEffect(()=>{document.title=t},[t]),e.jsx("div",{className:"flex !p-0 items-center gap-1 border-b overflow-x-auta border-gray-300",children:e.jsx("div",{className:"flex items-center hide-scrollbar gap-0.5 w-[84vw] transition-all duration-300 overflow-x-auto overflow-y-hidden breadcrambs rounded-lg px-0.5 py-1",children:r.filter(d=>r?.some(p=>p.navItem===d.navItem)).map((d,p)=>e.jsx(Re,{label:d.navItem?d.navItem?.replaceAll("-"," "):"Executive Dashboard",className:lr("!rounded-md flex items-center !capitalize !text-white px-2 py-1",d.id===a?"!bg-blue-600":"!bg-blue-300"),onClick:()=>c(d.navLink,{state:i}),onDelete:x=>m(x,d.id,p),deleteIcon:e.jsx(Ale,{className:"!text-white"})},d.id))})})},Mye=async t=>{try{return(await ie.get("/currencies",{params:t})).data}catch(s){throw console.error("Error fetching currencies:",s),new Error(s.response?.data?.message||"Failed to fetch currencies")}},Dye=async t=>{try{return(await ie.post("/currencies",t)).data}catch(s){throw console.error("Error creating currency:",s),new Error(s.response?.data?.message||"Failed to create currency")}},Rye=async(t,s)=>{try{return(await ie.put(`/currencies/${t}`,s)).data}catch(a){throw console.error("Error updating currency:",a),new Error(a.response?.data?.message||"Failed to update currency")}},Aye=async t=>{try{return(await ie.delete(`/currencies/${t}`)).data}catch(s){throw console.error("Error deleting currency:",s),new Error(s.response?.data?.message||"Failed to delete currency")}},$l={all:["currencies"],lists:()=>[...$l.all,"list"],list:t=>[...$l.lists(),t],details:()=>[...$l.all,"detail"],detail:t=>[...$l.details(),t]},ec=(t,s)=>st({queryKey:$l.list(t||{}),queryFn:()=>Mye(t),staleTime:300*1e3,...s}),Iye=t=>{const s=is();return Te({mutationFn:Dye,loadingMessage:"Creating currency...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:$l.lists()})},onError:t?.onError})},Oye=t=>{const s=is();return Te({mutationFn:({id:a,...r})=>Rye(a,r),loadingMessage:"Updating currency...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:$l.lists()}),s.invalidateQueries({queryKey:$l.detail(r.id)})},onError:t?.onError})},Fye=t=>{const s=is();return Te({mutationFn:Aye,loadingMessage:"Deleting currency...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:$l.lists()})},onError:t?.onError})},Lye=async()=>{try{return(await ie.get("/settings")).data}catch(t){throw t}},$ye=async(t,s)=>{try{return(await ie.put(`/settings/${t}`,s,{headers:s instanceof FormData?{"Content-Type":"multipart/form-data"}:{"Content-Type":"application/json"}})).data}catch(a){throw a}},$O={all:["settings"],detail:()=>[...$O.all,"detail"]},ku=()=>st({queryKey:$O.detail(),queryFn:()=>Lye(),staleTime:300*1e3}),zye=()=>Te({mutationFn:({id:t,settingsData:s})=>$ye(t,s),loadingMessage:"Updating settings...",invalidateQueries:[["settings"]]}),qye=({children:t})=>{const{data:s,isLoading:a,error:r}=ec({limit:1e3}),{data:n,isLoading:i,error:o}=ku(),l=s?.data||[],m=n?.data?.currency_id||1,d={currencies:l,defaultCurrencyId:m,isLoading:a||i,error:r?.message||o?.message||null};return e.jsx(zO.Provider,{value:d,children:t})},zO=g.createContext(void 0),Bye=()=>{const t=g.useContext(zO);if(t===void 0)throw new Error("useCurrencyContext must be used within a CurrencyProvider");return t},Uye=()=>{const[t,s]=g.useState(!1),[a,r]=g.useState(0),n=yi(),i=g.useRef(null),o=g.useRef(""),l=g.useRef(null),c=()=>s(!t);g.useEffect(()=>{const p=n.pathname+n.search,j=n.state?.forceReload??null,_=o.current!==p,S=l.current!==j;(_||S)&&(_&&(o.current=p),S&&j!==null&&(l.current=j),r(v=>v+1),i.current&&i.current.scrollTo({top:0,behavior:"smooth"}))},[n.pathname,n.search,n.key,n.state]);const m=`${n.pathname}${n.search}${n.key||a}${n.state?.forceReload||""}`,d=()=>{const p=n.pathname.split("/").filter(Boolean),x=p[p.length-1]||"",j=/^\d+$/.test(x);return n.pathname==="/"||n.pathname==="/dashboard/executive"?"Executive Dashboard":j&&p.length>1?`${p[p.length-2].split("-").map(v=>v.charAt(0).toUpperCase()+v.slice(1)).join(" ")} @${x}`:x.split("-").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" ")||""};return e.jsx(qye,{children:e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(Pye,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Sye,{sidebarOpen:t,toggleSidebar:c}),e.jsx(Tye,{id:n.pathname,navItem:d(),navLink:n.pathname}),e.jsx("main",{ref:i,className:"flex-1 overflow-auto p-5",children:e.jsx(wU,{},m)})]})]})})},Vye=nt({email:ce().matches(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Please enter a valid email address").required("Email is required"),password:ce().min(6,"Password must be at least 6 characters").required("Password is required")}),Hye=()=>{const t=Fs(),s=yi(),a=is(),r=s.state?.from?.pathname||"/",n=ice({onSuccess:l=>{l.success&&(window.dispatchEvent(new Event("auth-change")),a.invalidateQueries({queryKey:Fl.profile()}),setTimeout(()=>{t(r,{replace:!0})},100))}});g.useEffect(()=>{Yi.isAuthenticated()&&t(r,{replace:!0})},[t,r]);const i=pt({initialValues:{email:"",password:"",rememberMe:!1},validationSchema:Vye,onSubmit:async l=>{await o(l)}}),o=async l=>{console.log(l),l.rememberMe?localStorage.setItem("dcc_sfa_remember_email",l.email):localStorage.removeItem("dcc_sfa_remember_email");const c={email:l.email,password:l.password};n.mutate(c)};return g.useEffect(()=>{const l=localStorage.getItem("dcc_sfa_remember_email");l&&(i.setFieldValue("email",l),i.setFieldValue("rememberMe",!0))},[]),e.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",children:[e.jsx("div",{className:"w-full lg:w-1/2 bg-white p-4 sm:p-6 lg:p-8",children:e.jsxs("div",{className:"bg-gradient-to-br min-h-[400px] lg:h-full rounded-lg from-blue-600 via-blue-700 to-blue-800 flex flex-col justify-center items-center p-6 sm:p-8 lg:p-10 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white rounded-full"}),e.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 bg-white rounded-full"}),e.jsx("div",{className:"absolute bottom-32 left-32 w-40 h-40 bg-white rounded-full"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 bg-white rounded-full"})]}),e.jsxs("div",{className:"relative z-10 text-center mb-8 lg:mb-12",children:[e.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-white mb-3 lg:mb-4",children:"Streamline your sales force operations."}),e.jsx("p",{className:"text-blue-100 text-sm sm:text-base",children:"Access your SFA dashboard to manage orders, customers, and field operations."})]}),e.jsxs("div",{className:"relative z-10 w-full max-w-4xl bg-white rounded-xl lg:rounded-2xl shadow-xl lg:shadow-2xl py-4 sm:py-6 lg:py-6 px-4 sm:px-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 sm:p-4",children:[e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Total Orders"}),e.jsx("div",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"1,247"}),e.jsx("div",{className:"text-xs text-green-600",children:"+15.2%"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-3 sm:p-4",children:[e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Active Customers"}),e.jsx("div",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"856"}),e.jsx("div",{className:"text-xs text-green-600",children:"+8.7%"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-3 sm:p-4",children:[e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Field Visits"}),e.jsx("div",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"324"}),e.jsx("div",{className:"text-xs text-orange-600",children:"This Week"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:"Product Categories"}),e.jsx("div",{className:"flex items-center justify-center h-20 sm:h-24 bg-white rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg sm:text-xl font-bold text-blue-600 mb-1",children:"2,847 Units"}),e.jsx("div",{className:"text-xs text-gray-600 px-2",children:"Beverages: 35% | Snacks: 28% | Dairy: 22% | Others: 15%"})]})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4",children:[e.jsx("div",{className:"text-xs sm:text-sm font-semibold text-gray-900 mb-2 sm:mb-3",children:"Recent Orders"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-blue-600 font-bold",children:"B"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900 text-xs sm:text-sm truncate",children:"Coca-Cola 500ml Pack"}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:"Order #ORD-2024-001"})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[e.jsx("div",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:"TZS 245.50"}),e.jsx("div",{className:"text-xs text-green-600",children:"Delivered"})]})]}),e.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-orange-600 text-lg font-bold",children:"S"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900 text-xs sm:text-sm truncate",children:"Snack Mix Variety Pack"}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:"Order #ORD-2024-002"})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[e.jsx("div",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:"TZS 189.75"}),e.jsx("div",{className:"text-xs text-blue-600",children:"Processing"})]})]})]})]})]})]})}),e.jsxs("div",{className:"w-full lg:w-1/2 bg-white flex flex-col justify-center px-4 sm:px-6 lg:px-12 xl:px-32 py-6 sm:py-8 lg:py-12",children:[e.jsx("div",{className:"mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm sm:text-lg",children:"D"})}),e.jsx("span",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"DCC-SFA"})]})}),e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Enter your email and password to access your account."})]}),e.jsxs("form",{onSubmit:i.handleSubmit,noValidate:!0,className:"space-y-4 sm:space-y-6",children:[e.jsx(oe,{name:"email",type:"email",label:"Email",placeholder:"Enter your email",formik:i,required:!0,className:"!mt-4"}),e.jsx(oe,{name:"password",type:"password",label:"Password",placeholder:"Enter your password",formik:i,required:!0,className:"!mt-6"}),e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0",children:e.jsx(On,{control:e.jsx(qo,{name:"rememberMe",checked:i.values.rememberMe,onChange:i.handleChange,size:"small",sx:{color:"#6b7280","&.Mui-checked":{color:"#3b82f6"}}}),label:e.jsx("span",{className:"text-gray-700 text-xs sm:text-sm font-medium",children:"Remember Me"})})}),e.jsx(G,{type:"submit",variant:"contained",fullWidth:!0,disabled:!i.isValid||n.isPending,loading:n.isPending,className:"!py-2 sm:!py-3 disabled:!text-gray-200 !text-sm sm:!text-base !font-semibold !rounded-lg !bg-gradient-to-r !from-blue-600 !to-blue-700 hover:!from-blue-700 hover:!to-blue-800 !shadow-md hover:!shadow-lg !transition-all !duration-200",children:n.isPending?"Signing In...":"Log In"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 sm:gap-0 mt-8 sm:mt-12 text-xs text-gray-500",children:[e.jsxs("span",{className:"text-center sm:text-left",children:["Copyright  ",new Date().getFullYear()," DCC Sales Force Automation System."]}),e.jsx(TJ,{component:xx,to:"/privacy-policy",className:"text-gray-500 hover:text-gray-700 no-underline hover:underline transition-colors text-center sm:text-right",children:"Privacy Policy"})]})]})]})},Wye=()=>e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm sm:text-lg",children:"D"})}),e.jsx("span",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"DCC-SFA"})]}),e.jsx(xx,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-blue-600 text-blue-600 rounded-md text-sm font-medium hover:bg-blue-50 transition-colors",children:"Back to Login"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 sm:px-8 py-8 sm:py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:"Privacy Policy"}),e.jsx("p",{className:"text-blue-100 text-lg sm:text-xl max-w-2xl mx-auto",children:"Your privacy is important to us. This policy explains how we collect, use, and protect your information."}),e.jsxs("div",{className:"mt-6 text-sm text-blue-200",children:["Last updated: January 15, ",new Date().getFullYear()]})]})}),e.jsx("div",{className:"px-6 sm:px-8 py-8 sm:py-12",children:e.jsxs("div",{className:"prose prose-lg max-w-none",children:[e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"1"})}),"Introduction"]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:'DCC Sales Force Automation System ("DCC-SFA", "we", "us", or "our") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our sales force automation platform and related services.'}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By using our services, you agree to the collection and use of information in accordance with this policy. If you do not agree with the terms of this Privacy Policy, please do not access or use our services."})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"2"})}),"Information We Collect"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Personal Information"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsx("li",{children:"Name, email address, and contact information"}),e.jsx("li",{children:"Company and job title information"}),e.jsx("li",{children:"User credentials and authentication data"}),e.jsx("li",{children:"Profile information and preferences"}),e.jsx("li",{children:"Communication records and support interactions"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Business Information"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsx("li",{children:"Customer and prospect data"}),e.jsx("li",{children:"Sales orders and transaction records"}),e.jsx("li",{children:"Product catalogs and pricing information"}),e.jsx("li",{children:"Route and territory management data"}),e.jsx("li",{children:"Performance metrics and analytics"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Technical Information"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsx("li",{children:"Device information and IP addresses"}),e.jsx("li",{children:"Browser type and version"}),e.jsx("li",{children:"Usage patterns and system logs"}),e.jsx("li",{children:"Cookies and similar tracking technologies"}),e.jsx("li",{children:"Location data (when permitted)"})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"3"})}),"How We Use Your Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Service Delivery"}),e.jsxs("ul",{className:"list-disc list-inside text-blue-800 space-y-2 text-sm",children:[e.jsx("li",{children:"Provide and maintain our platform"}),e.jsx("li",{children:"Process transactions and orders"}),e.jsx("li",{children:"Manage user accounts and permissions"}),e.jsx("li",{children:"Deliver customer support"})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"Business Operations"}),e.jsxs("ul",{className:"list-disc list-inside text-green-800 space-y-2 text-sm",children:[e.jsx("li",{children:"Generate reports and analytics"}),e.jsx("li",{children:"Improve system performance"}),e.jsx("li",{children:"Conduct research and development"}),e.jsx("li",{children:"Ensure system security"})]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-3",children:"Communication"}),e.jsxs("ul",{className:"list-disc list-inside text-purple-800 space-y-2 text-sm",children:[e.jsx("li",{children:"Send important notifications"}),e.jsx("li",{children:"Provide system updates"}),e.jsx("li",{children:"Share marketing materials"}),e.jsx("li",{children:"Respond to inquiries"})]})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-900 mb-3",children:"Legal Compliance"}),e.jsxs("ul",{className:"list-disc list-inside text-orange-800 space-y-2 text-sm",children:[e.jsx("li",{children:"Comply with legal obligations"}),e.jsx("li",{children:"Protect against fraud"}),e.jsx("li",{children:"Enforce our terms of service"}),e.jsx("li",{children:"Respond to legal requests"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"4"})}),"Information Sharing and Disclosure"]}),e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-yellow-600 text-xl",children:""})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"We Do Not Sell Your Data"}),e.jsx("p",{className:"text-yellow-700 mt-1",children:"We do not sell, trade, or rent your personal information to third parties for marketing purposes."})]})]})}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We may share your information only in the following limited circumstances:"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:""})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Service Providers"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"With trusted third-party service providers who assist us in operating our platform, conducting business, or serving users."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:""})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Legal Requirements"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"When required by law or to protect our rights, property, or safety, or that of our users."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:""})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Business Transfers"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"In connection with any merger, sale of assets, or acquisition of our business."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:""})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Consent"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"With your explicit consent for any other purpose not covered in this policy."})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"5"})}),"Data Security"]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"Security Measures"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-600",children:""}),e.jsx("span",{className:"text-green-800 text-sm",children:"Encryption in transit and at rest"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-600",children:""}),e.jsx("span",{className:"text-green-800 text-sm",children:"Multi-factor authentication"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-600",children:""}),e.jsx("span",{className:"text-green-800 text-sm",children:"Role-based access controls"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-600",children:""}),e.jsx("span",{className:"text-green-800 text-sm",children:"Regular security audits"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-600",children:""}),e.jsx("span",{className:"text-green-800 text-sm",children:"Intrusion detection systems"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-600",children:""}),e.jsx("span",{className:"text-green-800 text-sm",children:"Secure data backups"})]})]})]})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"While we implement industry-standard security measures to protect your information, no method of transmission over the internet or electronic storage is 100% secure. We cannot guarantee absolute security but are committed to maintaining the highest standards of data protection."})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"6"})}),"Your Rights and Choices"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Access and Portability"}),e.jsx("p",{className:"text-blue-800 text-sm",children:"Request access to your personal data and receive it in a portable format."})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Correction"}),e.jsx("p",{className:"text-green-800 text-sm",children:"Update or correct inaccurate personal information in your account."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"Deletion"}),e.jsx("p",{className:"text-purple-800 text-sm",children:"Request deletion of your personal data, subject to legal requirements."})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:"Communication Preferences"}),e.jsx("p",{className:"text-orange-800 text-sm",children:"Opt out of marketing communications while receiving essential service updates."})]})]})]}),e.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"How to Exercise Your Rights"}),e.jsx("p",{className:"text-gray-700 text-sm mb-3",children:'To exercise any of these rights, please contact us using the information provided in the "Contact Us" section below. We will respond to your request within 30 days.'}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Email: privacy@dcc-sfa.com"})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"7"})}),"Data Retention"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We retain your personal information only for as long as necessary to fulfill the purposes outlined in this Privacy Policy, unless a longer retention period is required or permitted by law."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),e.jsxs("span",{className:"text-gray-700 text-sm",children:[e.jsx("strong",{children:"Account Information:"})," Retained while your account is active and for 3 years after closure"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),e.jsxs("span",{className:"text-gray-700 text-sm",children:[e.jsx("strong",{children:"Transaction Records:"})," Retained for 7 years for accounting and legal compliance"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),e.jsxs("span",{className:"text-gray-700 text-sm",children:[e.jsx("strong",{children:"Communication Logs:"})," Retained for 2 years for customer support purposes"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),e.jsxs("span",{className:"text-gray-700 text-sm",children:[e.jsx("strong",{children:"Analytics Data:"})," Retained for 1 year in aggregated, anonymized form"]})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"8"})}),"Cookies and Tracking Technologies"]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Types of Cookies We Use"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-white text-lg",children:""})}),e.jsx("h4",{className:"font-semibold text-blue-900 text-sm",children:"Essential"}),e.jsx("p",{className:"text-blue-800 text-xs",children:"Required for basic functionality"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-white text-lg",children:""})}),e.jsx("h4",{className:"font-semibold text-green-900 text-sm",children:"Functional"}),e.jsx("p",{className:"text-green-800 text-xs",children:"Remember your preferences"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-white text-lg",children:""})}),e.jsx("h4",{className:"font-semibold text-purple-900 text-sm",children:"Analytics"}),e.jsx("p",{className:"text-purple-800 text-xs",children:"Help us improve our service"})]})]})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"You can control cookie preferences through your browser settings. However, disabling certain cookies may affect the functionality of our platform. We use cookies to enhance your experience, remember your preferences, and analyze how our platform is used."})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"9"})}),"International Data Transfers"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Your information may be transferred to and processed in countries other than your country of residence. These countries may have different data protection laws than your country."}),e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Safeguards for International Transfers"}),e.jsxs("ul",{className:"list-disc list-inside text-blue-800 text-sm space-y-1",children:[e.jsx("li",{children:"Standard contractual clauses approved by relevant authorities"}),e.jsx("li",{children:"Adequacy decisions from data protection authorities"}),e.jsx("li",{children:"Certification schemes and codes of conduct"}),e.jsx("li",{children:"Binding corporate rules for intra-group transfers"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"10"})}),"Children's Privacy"]}),e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-yellow-600 text-xl",children:""})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Age Restriction"}),e.jsx("p",{className:"text-yellow-700 mt-1",children:"Our services are not intended for children under 16 years of age. We do not knowingly collect personal information from children under 16. If you are a parent or guardian and believe your child has provided us with personal information, please contact us."})]})]})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"11"})}),"Changes to This Privacy Policy"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We may update this Privacy Policy from time to time to reflect changes in our practices, technology, legal requirements, or other factors. When we make changes, we will:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"1"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:'Update the "Last Updated" date'}),e.jsx("p",{className:"text-gray-700 text-sm",children:"We will revise the date at the top of this policy to indicate when changes were made."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"2"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Notify Users of Material Changes"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"For significant changes, we will provide notice through email or platform notifications."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"3"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Provide Review Period"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"We will give you reasonable time to review changes before they take effect."})]})]})]}),e.jsx("div",{className:"mt-6 bg-blue-50 rounded-lg p-4",children:e.jsx("p",{className:"text-blue-800 text-sm",children:e.jsx("strong",{children:"Your continued use of our services after any changes to this Privacy Policy constitutes acceptance of the updated policy."})})})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"12"})}),"Contact Us"]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-2",children:"Questions About This Privacy Policy?"}),e.jsx("p",{className:"text-blue-800",children:"We're here to help. Contact our privacy team for any questions or concerns."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white text-lg",children:""})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Email"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"privacy@dcc-sfa.com"})]})]}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Send us an email and we'll respond within 24-48 hours."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white text-lg",children:""})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Address"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"DCC-SFA Privacy Office"})]})]}),e.jsxs("p",{className:"text-gray-700 text-sm",children:["123 Business District",e.jsx("br",{}),"Suite 456, Tech City",e.jsx("br",{}),"Country, Postal Code"]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Data Protection Officer"}),e.jsx("p",{className:"text-gray-700 text-sm mb-2",children:"For complex privacy matters or data protection concerns, contact our Data Protection Officer:"}),e.jsx("p",{className:"text-blue-600 font-medium",children:"dpo@dcc-sfa.com"})]})})]})]})]})})]}),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"D"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"DCC-SFA"})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Copyright  2025 DCC Sales Force Automation System. All rights reserved."}),e.jsxs("div",{className:"flex justify-center space-x-6 text-sm",children:[e.jsx(xx,{to:"/login",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Back to Login"}),e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsx("span",{className:"text-gray-500",children:"Privacy Policy"})]})]})})]})]});function Ig(t){return t+.5|0}const Ac=(t,s,a)=>Math.max(Math.min(t,a),s);function gf(t){return Ac(Ig(t*2.55),0,255)}function Vc(t){return Ac(Ig(t*255),0,255)}function Ol(t){return Ac(Ig(t/2.55)/100,0,1)}function L8(t){return Ac(Ig(t*100),0,100)}const Ii={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Cw=[..."0123456789ABCDEF"],Yye=t=>Cw[t&15],Gye=t=>Cw[(t&240)>>4]+Cw[t&15],Nb=t=>(t&240)>>4===(t&15),Kye=t=>Nb(t.r)&&Nb(t.g)&&Nb(t.b)&&Nb(t.a);function Qye(t){var s=t.length,a;return t[0]==="#"&&(s===4||s===5?a={r:255&Ii[t[1]]*17,g:255&Ii[t[2]]*17,b:255&Ii[t[3]]*17,a:s===5?Ii[t[4]]*17:255}:(s===7||s===9)&&(a={r:Ii[t[1]]<<4|Ii[t[2]],g:Ii[t[3]]<<4|Ii[t[4]],b:Ii[t[5]]<<4|Ii[t[6]],a:s===9?Ii[t[7]]<<4|Ii[t[8]]:255})),a}const Zye=(t,s)=>t<255?s(t):"";function Xye(t){var s=Kye(t)?Yye:Gye;return t?"#"+s(t.r)+s(t.g)+s(t.b)+Zye(t.a,s):void 0}const Jye=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function qO(t,s,a){const r=s*Math.min(a,1-a),n=(i,o=(i+t/30)%12)=>a-r*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function eve(t,s,a){const r=(n,i=(n+t/60)%6)=>a-a*s*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function tve(t,s,a){const r=qO(t,1,.5);let n;for(s+a>1&&(n=1/(s+a),s*=n,a*=n),n=0;n<3;n++)r[n]*=1-s-a,r[n]+=s;return r}function sve(t,s,a,r,n){return t===n?(s-a)/r+(s<a?6:0):s===n?(a-t)/r+2:(t-s)/r+4}function LS(t){const a=t.r/255,r=t.g/255,n=t.b/255,i=Math.max(a,r,n),o=Math.min(a,r,n),l=(i+o)/2;let c,m,d;return i!==o&&(d=i-o,m=l>.5?d/(2-i-o):d/(i+o),c=sve(a,r,n,d,i),c=c*60+.5),[c|0,m||0,l]}function $S(t,s,a,r){return(Array.isArray(s)?t(s[0],s[1],s[2]):t(s,a,r)).map(Vc)}function zS(t,s,a){return $S(qO,t,s,a)}function ave(t,s,a){return $S(tve,t,s,a)}function rve(t,s,a){return $S(eve,t,s,a)}function BO(t){return(t%360+360)%360}function nve(t){const s=Jye.exec(t);let a=255,r;if(!s)return;s[5]!==r&&(a=s[6]?gf(+s[5]):Vc(+s[5]));const n=BO(+s[2]),i=+s[3]/100,o=+s[4]/100;return s[1]==="hwb"?r=ave(n,i,o):s[1]==="hsv"?r=rve(n,i,o):r=zS(n,i,o),{r:r[0],g:r[1],b:r[2],a}}function ive(t,s){var a=LS(t);a[0]=BO(a[0]+s),a=zS(a),t.r=a[0],t.g=a[1],t.b=a[2]}function ove(t){if(!t)return;const s=LS(t),a=s[0],r=L8(s[1]),n=L8(s[2]);return t.a<255?`hsla(${a}, ${r}%, ${n}%, ${Ol(t.a)})`:`hsl(${a}, ${r}%, ${n}%)`}const $8={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},z8={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lve(){const t={},s=Object.keys(z8),a=Object.keys($8);let r,n,i,o,l;for(r=0;r<s.length;r++){for(o=l=s[r],n=0;n<a.length;n++)i=a[n],l=l.replace(i,$8[i]);i=parseInt(z8[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let _b;function cve(t){_b||(_b=lve(),_b.transparent=[0,0,0,0]);const s=_b[t.toLowerCase()];return s&&{r:s[0],g:s[1],b:s[2],a:s.length===4?s[3]:255}}const dve=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function uve(t){const s=dve.exec(t);let a=255,r,n,i;if(s){if(s[7]!==r){const o=+s[7];a=s[8]?gf(o):Ac(o*255,0,255)}return r=+s[1],n=+s[3],i=+s[5],r=255&(s[2]?gf(r):Ac(r,0,255)),n=255&(s[4]?gf(n):Ac(n,0,255)),i=255&(s[6]?gf(i):Ac(i,0,255)),{r,g:n,b:i,a}}}function mve(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ol(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const DN=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,vm=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function pve(t,s,a){const r=vm(Ol(t.r)),n=vm(Ol(t.g)),i=vm(Ol(t.b));return{r:Vc(DN(r+a*(vm(Ol(s.r))-r))),g:Vc(DN(n+a*(vm(Ol(s.g))-n))),b:Vc(DN(i+a*(vm(Ol(s.b))-i))),a:t.a+a*(s.a-t.a)}}function wb(t,s,a){if(t){let r=LS(t);r[s]=Math.max(0,Math.min(r[s]+r[s]*a,s===0?360:1)),r=zS(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function UO(t,s){return t&&Object.assign(s||{},t)}function q8(t){var s={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(s={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(s.a=Vc(t[3]))):(s=UO(t,{r:0,g:0,b:0,a:1}),s.a=Vc(s.a)),s}function hve(t){return t.charAt(0)==="r"?uve(t):nve(t)}class Lx{constructor(s){if(s instanceof Lx)return s;const a=typeof s;let r;a==="object"?r=q8(s):a==="string"&&(r=Qye(s)||cve(s)||hve(s)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var s=UO(this._rgb);return s&&(s.a=Ol(s.a)),s}set rgb(s){this._rgb=q8(s)}rgbString(){return this._valid?mve(this._rgb):void 0}hexString(){return this._valid?Xye(this._rgb):void 0}hslString(){return this._valid?ove(this._rgb):void 0}mix(s,a){if(s){const r=this.rgb,n=s.rgb;let i;const o=a===i?.5:a,l=2*o-1,c=r.a-n.a,m=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-m,r.r=255&m*r.r+i*n.r+.5,r.g=255&m*r.g+i*n.g+.5,r.b=255&m*r.b+i*n.b+.5,r.a=o*r.a+(1-o)*n.a,this.rgb=r}return this}interpolate(s,a){return s&&(this._rgb=pve(this._rgb,s._rgb,a)),this}clone(){return new Lx(this.rgb)}alpha(s){return this._rgb.a=Vc(s),this}clearer(s){const a=this._rgb;return a.a*=1-s,this}greyscale(){const s=this._rgb,a=Ig(s.r*.3+s.g*.59+s.b*.11);return s.r=s.g=s.b=a,this}opaquer(s){const a=this._rgb;return a.a*=1+s,this}negate(){const s=this._rgb;return s.r=255-s.r,s.g=255-s.g,s.b=255-s.b,this}lighten(s){return wb(this._rgb,2,s),this}darken(s){return wb(this._rgb,2,-s),this}saturate(s){return wb(this._rgb,1,s),this}desaturate(s){return wb(this._rgb,1,-s),this}rotate(s){return ive(this._rgb,s),this}}function El(){}const fve=(()=>{let t=0;return()=>t++})();function xa(t){return t==null}function Sr(t){if(Array.isArray&&Array.isArray(t))return!0;const s=Object.prototype.toString.call(t);return s.slice(0,7)==="[object"&&s.slice(-6)==="Array]"}function sa(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function pn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ao(t,s){return pn(t)?t:s}function Bs(t,s){return typeof t>"u"?s:t}const xve=(t,s)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/s,VO=(t,s)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*s:+t;function qa(t,s,a){if(t&&typeof t.call=="function")return t.apply(a,s)}function wa(t,s,a,r){let n,i,o;if(Sr(t))for(i=t.length,n=0;n<i;n++)s.call(a,t[n],n);else if(sa(t))for(o=Object.keys(t),i=o.length,n=0;n<i;n++)s.call(a,t[o[n]],o[n])}function $y(t,s){let a,r,n,i;if(!t||!s||t.length!==s.length)return!1;for(a=0,r=t.length;a<r;++a)if(n=t[a],i=s[a],n.datasetIndex!==i.datasetIndex||n.index!==i.index)return!1;return!0}function zy(t){if(Sr(t))return t.map(zy);if(sa(t)){const s=Object.create(null),a=Object.keys(t),r=a.length;let n=0;for(;n<r;++n)s[a[n]]=zy(t[a[n]]);return s}return t}function HO(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function gve(t,s,a,r){if(!HO(t))return;const n=s[t],i=a[t];sa(n)&&sa(i)?$x(n,i,r):s[t]=zy(i)}function $x(t,s,a){const r=Sr(s)?s:[s],n=r.length;if(!sa(t))return t;a=a||{};const i=a.merger||gve;let o;for(let l=0;l<n;++l){if(o=r[l],!sa(o))continue;const c=Object.keys(o);for(let m=0,d=c.length;m<d;++m)i(c[m],t,o,a)}return t}function ix(t,s){return $x(t,s,{merger:bve})}function bve(t,s,a){if(!HO(t))return;const r=s[t],n=a[t];sa(r)&&sa(n)?ix(r,n):Object.prototype.hasOwnProperty.call(s,t)||(s[t]=zy(n))}const B8={"":t=>t,x:t=>t.x,y:t=>t.y};function yve(t){const s=t.split("."),a=[];let r="";for(const n of s)r+=n,r.endsWith("\\")?r=r.slice(0,-1)+".":(a.push(r),r="");return a}function vve(t){const s=yve(t);return a=>{for(const r of s){if(r==="")break;a=a&&a[r]}return a}}function gu(t,s){return(B8[s]||(B8[s]=vve(s)))(t)}function qS(t){return t.charAt(0).toUpperCase()+t.slice(1)}const zx=t=>typeof t<"u",Jc=t=>typeof t=="function",U8=(t,s)=>{if(t.size!==s.size)return!1;for(const a of t)if(!s.has(a))return!1;return!0};function jve(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Sa=Math.PI,Qa=2*Sa,Nve=Qa+Sa,qy=Number.POSITIVE_INFINITY,_ve=Sa/180,Mr=Sa/2,Ad=Sa/4,V8=Sa*2/3,WO=Math.log10,sl=Math.sign;function ox(t,s,a){return Math.abs(t-s)<a}function H8(t){const s=Math.round(t);t=ox(t,s,t/1e3)?s:t;const a=Math.pow(10,Math.floor(WO(t))),r=t/a;return(r<=1?1:r<=2?2:r<=5?5:10)*a}function wve(t){const s=[],a=Math.sqrt(t);let r;for(r=1;r<a;r++)t%r===0&&(s.push(r),s.push(t/r));return a===(a|0)&&s.push(a),s.sort((n,i)=>n-i).pop(),s}function Sve(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function qx(t){return!Sve(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Cve(t,s){const a=Math.round(t);return a-s<=t&&a+s>=t}function Pve(t,s,a){let r,n,i;for(r=0,n=t.length;r<n;r++)i=t[r][a],isNaN(i)||(s.min=Math.min(s.min,i),s.max=Math.max(s.max,i))}function zl(t){return t*(Sa/180)}function kve(t){return t*(180/Sa)}function W8(t){if(!pn(t))return;let s=1,a=0;for(;Math.round(t*s)/s!==t;)s*=10,a++;return a}function YO(t,s){const a=s.x-t.x,r=s.y-t.y,n=Math.sqrt(a*a+r*r);let i=Math.atan2(r,a);return i<-.5*Sa&&(i+=Qa),{angle:i,distance:n}}function Pw(t,s){return Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2))}function Eve(t,s){return(t-s+Nve)%Qa-Sa}function oi(t){return(t%Qa+Qa)%Qa}function Bx(t,s,a,r){const n=oi(t),i=oi(s),o=oi(a),l=oi(i-n),c=oi(o-n),m=oi(n-i),d=oi(n-o);return n===i||n===o||r&&i===o||l>c&&m<d}function cn(t,s,a){return Math.max(s,Math.min(a,t))}function Tve(t){return cn(t,-32768,32767)}function ql(t,s,a,r=1e-6){return t>=Math.min(s,a)-r&&t<=Math.max(s,a)+r}function BS(t,s,a){a=a||(o=>t[o]<s);let r=t.length-1,n=0,i;for(;r-n>1;)i=n+r>>1,a(i)?n=i:r=i;return{lo:n,hi:r}}const Xd=(t,s,a,r)=>BS(t,a,r?n=>{const i=t[n][s];return i<a||i===a&&t[n+1][s]===a}:n=>t[n][s]<a),Mve=(t,s,a)=>BS(t,a,r=>t[r][s]>=a);function Dve(t,s,a){let r=0,n=t.length;for(;r<n&&t[r]<s;)r++;for(;n>r&&t[n-1]>a;)n--;return r>0||n<t.length?t.slice(r,n):t}const GO=["push","pop","shift","splice","unshift"];function Rve(t,s){if(t._chartjs){t._chartjs.listeners.push(s);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),GO.forEach(a=>{const r="_onData"+qS(a),n=t[a];Object.defineProperty(t,a,{configurable:!0,enumerable:!1,value(...i){const o=n.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),o}})})}function Y8(t,s){const a=t._chartjs;if(!a)return;const r=a.listeners,n=r.indexOf(s);n!==-1&&r.splice(n,1),!(r.length>0)&&(GO.forEach(i=>{delete t[i]}),delete t._chartjs)}function KO(t){const s=new Set(t);return s.size===t.length?t:Array.from(s)}const QO=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function ZO(t,s){let a=[],r=!1;return function(...n){a=n,r||(r=!0,QO.call(window,()=>{r=!1,t.apply(s,a)}))}}function Ave(t,s){let a;return function(...r){return s?(clearTimeout(a),a=setTimeout(t,s,r)):t.apply(this,r),s}}const US=t=>t==="start"?"left":t==="end"?"right":"center",an=(t,s,a)=>t==="start"?s:t==="end"?a:(s+a)/2,Ive=(t,s,a,r)=>t===(r?"left":"right")?a:t==="center"?(s+a)/2:s;function Ove(t,s,a){const r=s.length;let n=0,i=r;if(t._sorted){const{iScale:o,vScale:l,_parsed:c}=t,m=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:p,max:x,minDefined:j,maxDefined:_}=o.getUserBounds();if(j){if(n=Math.min(Xd(c,d,p).lo,a?r:Xd(s,d,o.getPixelForValue(p)).lo),m){const S=c.slice(0,n+1).reverse().findIndex(v=>!xa(v[l.axis]));n-=Math.max(0,S)}n=cn(n,0,r-1)}if(_){let S=Math.max(Xd(c,o.axis,x,!0).hi+1,a?0:Xd(s,d,o.getPixelForValue(x),!0).hi+1);if(m){const v=c.slice(S-1).findIndex(y=>!xa(y[l.axis]));S+=Math.max(0,v)}i=cn(S,n,r)-n}else i=r-n}return{start:n,count:i}}function Fve(t){const{xScale:s,yScale:a,_scaleRanges:r}=t,n={xmin:s.min,xmax:s.max,ymin:a.min,ymax:a.max};if(!r)return t._scaleRanges=n,!0;const i=r.xmin!==s.min||r.xmax!==s.max||r.ymin!==a.min||r.ymax!==a.max;return Object.assign(r,n),i}const Sb=t=>t===0||t===1,G8=(t,s,a)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-s)*Qa/a)),K8=(t,s,a)=>Math.pow(2,-10*t)*Math.sin((t-s)*Qa/a)+1,lx={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Mr)+1,easeOutSine:t=>Math.sin(t*Mr),easeInOutSine:t=>-.5*(Math.cos(Sa*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Sb(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Sb(t)?t:G8(t,.075,.3),easeOutElastic:t=>Sb(t)?t:K8(t,.075,.3),easeInOutElastic(t){return Sb(t)?t:t<.5?.5*G8(t*2,.1125,.45):.5+.5*K8(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let s=1.70158;return(t/=.5)<1?.5*(t*t*(((s*=1.525)+1)*t-s)):.5*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)},easeInBounce:t=>1-lx.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?lx.easeInBounce(t*2)*.5:lx.easeOutBounce(t*2-1)*.5+.5};function VS(t){if(t&&typeof t=="object"){const s=t.toString();return s==="[object CanvasPattern]"||s==="[object CanvasGradient]"}return!1}function Q8(t){return VS(t)?t:new Lx(t)}function RN(t){return VS(t)?t:new Lx(t).saturate(.5).darken(.1).hexString()}const Lve=["x","y","borderWidth","radius","tension"],$ve=["color","borderColor","backgroundColor"];function zve(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:s=>s!=="onProgress"&&s!=="onComplete"&&s!=="fn"}),t.set("animations",{colors:{type:"color",properties:$ve},numbers:{type:"number",properties:Lve}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:s=>s|0}}}})}function qve(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Z8=new Map;function Bve(t,s){s=s||{};const a=t+JSON.stringify(s);let r=Z8.get(a);return r||(r=new Intl.NumberFormat(t,s),Z8.set(a,r)),r}function HS(t,s,a){return Bve(s,a).format(t)}const Uve={values(t){return Sr(t)?t:""+t},numeric(t,s,a){if(t===0)return"0";const r=this.chart.options.locale;let n,i=t;if(a.length>1){const m=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(m<1e-4||m>1e15)&&(n="scientific"),i=Vve(t,a)}const o=WO(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:n,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),HS(t,r,c)}};function Vve(t,s){let a=s.length>3?s[2].value-s[1].value:s[1].value-s[0].value;return Math.abs(a)>=1&&t!==Math.floor(t)&&(a=t-Math.floor(t)),a}var XO={formatters:Uve};function Hve(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(s,a)=>a.lineWidth,tickColor:(s,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:XO.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:s=>!s.startsWith("before")&&!s.startsWith("after")&&s!=="callback"&&s!=="parser",_indexable:s=>s!=="borderDash"&&s!=="tickBorderDash"&&s!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:s=>s!=="backdropPadding"&&s!=="callback",_indexable:s=>s!=="backdropPadding"})}const bu=Object.create(null),kw=Object.create(null);function cx(t,s){if(!s)return t;const a=s.split(".");for(let r=0,n=a.length;r<n;++r){const i=a[r];t=t[i]||(t[i]=Object.create(null))}return t}function AN(t,s,a){return typeof s=="string"?$x(cx(t,s),a):$x(cx(t,""),s)}class Wve{constructor(s,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,n)=>RN(n.backgroundColor),this.hoverBorderColor=(r,n)=>RN(n.borderColor),this.hoverColor=(r,n)=>RN(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(s),this.apply(a)}set(s,a){return AN(this,s,a)}get(s){return cx(this,s)}describe(s,a){return AN(kw,s,a)}override(s,a){return AN(bu,s,a)}route(s,a,r,n){const i=cx(this,s),o=cx(this,r),l="_"+a;Object.defineProperties(i,{[l]:{value:i[a],writable:!0},[a]:{enumerable:!0,get(){const c=this[l],m=o[n];return sa(c)?Object.assign({},m,c):Bs(c,m)},set(c){this[l]=c}}})}apply(s){s.forEach(a=>a(this))}}var xr=new Wve({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[zve,qve,Hve]);function Yve(t){return!t||xa(t.size)||xa(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function X8(t,s,a,r,n){let i=s[n];return i||(i=s[n]=t.measureText(n).width,a.push(n)),i>r&&(r=i),r}function Id(t,s,a){const r=t.currentDevicePixelRatio,n=a!==0?Math.max(a/2,.5):0;return Math.round((s-n)*r)/r+n}function J8(t,s){!s&&!t||(s=s||t.getContext("2d"),s.save(),s.resetTransform(),s.clearRect(0,0,t.width,t.height),s.restore())}function Ew(t,s,a,r){JO(t,s,a,r,null)}function JO(t,s,a,r,n){let i,o,l,c,m,d,p,x;const j=s.pointStyle,_=s.rotation,S=s.radius;let v=(_||0)*_ve;if(j&&typeof j=="object"&&(i=j.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(a,r),t.rotate(v),t.drawImage(j,-j.width/2,-j.height/2,j.width,j.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),j){default:n?t.ellipse(a,r,n/2,S,0,0,Qa):t.arc(a,r,S,0,Qa),t.closePath();break;case"triangle":d=n?n/2:S,t.moveTo(a+Math.sin(v)*d,r-Math.cos(v)*S),v+=V8,t.lineTo(a+Math.sin(v)*d,r-Math.cos(v)*S),v+=V8,t.lineTo(a+Math.sin(v)*d,r-Math.cos(v)*S),t.closePath();break;case"rectRounded":m=S*.516,c=S-m,o=Math.cos(v+Ad)*c,p=Math.cos(v+Ad)*(n?n/2-m:c),l=Math.sin(v+Ad)*c,x=Math.sin(v+Ad)*(n?n/2-m:c),t.arc(a-p,r-l,m,v-Sa,v-Mr),t.arc(a+x,r-o,m,v-Mr,v),t.arc(a+p,r+l,m,v,v+Mr),t.arc(a-x,r+o,m,v+Mr,v+Sa),t.closePath();break;case"rect":if(!_){c=Math.SQRT1_2*S,d=n?n/2:c,t.rect(a-d,r-c,2*d,2*c);break}v+=Ad;case"rectRot":p=Math.cos(v)*(n?n/2:S),o=Math.cos(v)*S,l=Math.sin(v)*S,x=Math.sin(v)*(n?n/2:S),t.moveTo(a-p,r-l),t.lineTo(a+x,r-o),t.lineTo(a+p,r+l),t.lineTo(a-x,r+o),t.closePath();break;case"crossRot":v+=Ad;case"cross":p=Math.cos(v)*(n?n/2:S),o=Math.cos(v)*S,l=Math.sin(v)*S,x=Math.sin(v)*(n?n/2:S),t.moveTo(a-p,r-l),t.lineTo(a+p,r+l),t.moveTo(a+x,r-o),t.lineTo(a-x,r+o);break;case"star":p=Math.cos(v)*(n?n/2:S),o=Math.cos(v)*S,l=Math.sin(v)*S,x=Math.sin(v)*(n?n/2:S),t.moveTo(a-p,r-l),t.lineTo(a+p,r+l),t.moveTo(a+x,r-o),t.lineTo(a-x,r+o),v+=Ad,p=Math.cos(v)*(n?n/2:S),o=Math.cos(v)*S,l=Math.sin(v)*S,x=Math.sin(v)*(n?n/2:S),t.moveTo(a-p,r-l),t.lineTo(a+p,r+l),t.moveTo(a+x,r-o),t.lineTo(a-x,r+o);break;case"line":o=n?n/2:Math.cos(v)*S,l=Math.sin(v)*S,t.moveTo(a-o,r-l),t.lineTo(a+o,r+l);break;case"dash":t.moveTo(a,r),t.lineTo(a+Math.cos(v)*(n?n/2:S),r+Math.sin(v)*S);break;case!1:t.closePath();break}t.fill(),s.borderWidth>0&&t.stroke()}}function Ux(t,s,a){return a=a||.5,!s||t&&t.x>s.left-a&&t.x<s.right+a&&t.y>s.top-a&&t.y<s.bottom+a}function r1(t,s){t.save(),t.beginPath(),t.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),t.clip()}function n1(t){t.restore()}function Gve(t,s,a,r,n){if(!s)return t.lineTo(a.x,a.y);if(n==="middle"){const i=(s.x+a.x)/2;t.lineTo(i,s.y),t.lineTo(i,a.y)}else n==="after"!=!!r?t.lineTo(s.x,a.y):t.lineTo(a.x,s.y);t.lineTo(a.x,a.y)}function Kve(t,s,a,r){if(!s)return t.lineTo(a.x,a.y);t.bezierCurveTo(r?s.cp1x:s.cp2x,r?s.cp1y:s.cp2y,r?a.cp2x:a.cp1x,r?a.cp2y:a.cp1y,a.x,a.y)}function Qve(t,s){s.translation&&t.translate(s.translation[0],s.translation[1]),xa(s.rotation)||t.rotate(s.rotation),s.color&&(t.fillStyle=s.color),s.textAlign&&(t.textAlign=s.textAlign),s.textBaseline&&(t.textBaseline=s.textBaseline)}function Zve(t,s,a,r,n){if(n.strikethrough||n.underline){const i=t.measureText(r),o=s-i.actualBoundingBoxLeft,l=s+i.actualBoundingBoxRight,c=a-i.actualBoundingBoxAscent,m=a+i.actualBoundingBoxDescent,d=n.strikethrough?(c+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(o,d),t.lineTo(l,d),t.stroke()}}function Xve(t,s){const a=t.fillStyle;t.fillStyle=s.color,t.fillRect(s.left,s.top,s.width,s.height),t.fillStyle=a}function Vx(t,s,a,r,n,i={}){const o=Sr(s)?s:[s],l=i.strokeWidth>0&&i.strokeColor!=="";let c,m;for(t.save(),t.font=n.string,Qve(t,i),c=0;c<o.length;++c)m=o[c],i.backdrop&&Xve(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),xa(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(m,a,r,i.maxWidth)),t.fillText(m,a,r,i.maxWidth),Zve(t,a,r,m,i),r+=Number(n.lineHeight);t.restore()}function By(t,s){const{x:a,y:r,w:n,h:i,radius:o}=s;t.arc(a+o.topLeft,r+o.topLeft,o.topLeft,1.5*Sa,Sa,!0),t.lineTo(a,r+i-o.bottomLeft),t.arc(a+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,Sa,Mr,!0),t.lineTo(a+n-o.bottomRight,r+i),t.arc(a+n-o.bottomRight,r+i-o.bottomRight,o.bottomRight,Mr,0,!0),t.lineTo(a+n,r+o.topRight),t.arc(a+n-o.topRight,r+o.topRight,o.topRight,0,-Mr,!0),t.lineTo(a+o.topLeft,r)}const Jve=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,e1e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function t1e(t,s){const a=(""+t).match(Jve);if(!a||a[1]==="normal")return s*1.2;switch(t=+a[2],a[3]){case"px":return t;case"%":t/=100;break}return s*t}const s1e=t=>+t||0;function WS(t,s){const a={},r=sa(s),n=r?Object.keys(s):s,i=sa(t)?r?o=>Bs(t[o],t[s[o]]):o=>t[o]:()=>t;for(const o of n)a[o]=s1e(i(o));return a}function eF(t){return WS(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Xm(t){return WS(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ro(t){const s=eF(t);return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function dn(t,s){t=t||{},s=s||xr.font;let a=Bs(t.size,s.size);typeof a=="string"&&(a=parseInt(a,10));let r=Bs(t.style,s.style);r&&!(""+r).match(e1e)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const n={family:Bs(t.family,s.family),lineHeight:t1e(Bs(t.lineHeight,s.lineHeight),a),size:a,style:r,weight:Bs(t.weight,s.weight),string:""};return n.string=Yve(n),n}function Cb(t,s,a,r){let n,i,o;for(n=0,i=t.length;n<i;++n)if(o=t[n],o!==void 0&&o!==void 0)return o}function a1e(t,s,a){const{min:r,max:n}=t,i=VO(s,(n-r)/2),o=(l,c)=>a&&l===0?0:l+c;return{min:o(r,-Math.abs(i)),max:o(n,i)}}function Eu(t,s){return Object.assign(Object.create(t),s)}function YS(t,s=[""],a,r,n=()=>t[0]){const i=a||t;typeof r>"u"&&(r=rF("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:n,override:l=>YS([l,...t],s,i,r)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return sF(l,c,()=>u1e(c,s,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return tM(l).includes(c)},ownKeys(l){return tM(l)},set(l,c,m){const d=l._storage||(l._storage=n());return l[c]=d[c]=m,delete l._keys,!0}})}function bp(t,s,a,r){const n={_cacheable:!1,_proxy:t,_context:s,_subProxy:a,_stack:new Set,_descriptors:tF(t,r),setContext:i=>bp(t,i,a,r),override:i=>bp(t.override(i),s,a,r)};return new Proxy(n,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return sF(i,o,()=>n1e(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function tF(t,s={scriptable:!0,indexable:!0}){const{_scriptable:a=s.scriptable,_indexable:r=s.indexable,_allKeys:n=s.allKeys}=t;return{allKeys:n,scriptable:a,indexable:r,isScriptable:Jc(a)?a:()=>a,isIndexable:Jc(r)?r:()=>r}}const r1e=(t,s)=>t?t+qS(s):s,GS=(t,s)=>sa(s)&&t!=="adapters"&&(Object.getPrototypeOf(s)===null||s.constructor===Object);function sF(t,s,a){if(Object.prototype.hasOwnProperty.call(t,s)||s==="constructor")return t[s];const r=a();return t[s]=r,r}function n1e(t,s,a){const{_proxy:r,_context:n,_subProxy:i,_descriptors:o}=t;let l=r[s];return Jc(l)&&o.isScriptable(s)&&(l=i1e(s,l,t,a)),Sr(l)&&l.length&&(l=o1e(s,l,t,o.isIndexable)),GS(s,l)&&(l=bp(l,n,i&&i[s],o)),l}function i1e(t,s,a,r){const{_proxy:n,_context:i,_subProxy:o,_stack:l}=a;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=s(i,o||r);return l.delete(t),GS(t,c)&&(c=KS(n._scopes,n,t,c)),c}function o1e(t,s,a,r){const{_proxy:n,_context:i,_subProxy:o,_descriptors:l}=a;if(typeof i.index<"u"&&r(t))return s[i.index%s.length];if(sa(s[0])){const c=s,m=n._scopes.filter(d=>d!==c);s=[];for(const d of c){const p=KS(m,n,t,d);s.push(bp(p,i,o&&o[t],l))}}return s}function aF(t,s,a){return Jc(t)?t(s,a):t}const l1e=(t,s)=>t===!0?s:typeof t=="string"?gu(s,t):void 0;function c1e(t,s,a,r,n){for(const i of s){const o=l1e(a,i);if(o){t.add(o);const l=aF(o._fallback,a,n);if(typeof l<"u"&&l!==a&&l!==r)return l}else if(o===!1&&typeof r<"u"&&a!==r)return null}return!1}function KS(t,s,a,r){const n=s._rootScopes,i=aF(s._fallback,a,r),o=[...t,...n],l=new Set;l.add(r);let c=eM(l,o,a,i||a,r);return c===null||typeof i<"u"&&i!==a&&(c=eM(l,o,i,c,r),c===null)?!1:YS(Array.from(l),[""],n,i,()=>d1e(s,a,r))}function eM(t,s,a,r,n){for(;a;)a=c1e(t,s,a,r,n);return a}function d1e(t,s,a){const r=t._getTarget();s in r||(r[s]={});const n=r[s];return Sr(n)&&sa(a)?a:n||{}}function u1e(t,s,a,r){let n;for(const i of s)if(n=rF(r1e(i,t),a),typeof n<"u")return GS(t,n)?KS(a,r,t,n):n}function rF(t,s){for(const a of s){if(!a)continue;const r=a[t];if(typeof r<"u")return r}}function tM(t){let s=t._keys;return s||(s=t._keys=m1e(t._scopes)),s}function m1e(t){const s=new Set;for(const a of t)for(const r of Object.keys(a).filter(n=>!n.startsWith("_")))s.add(r);return Array.from(s)}const p1e=Number.EPSILON||1e-14,yp=(t,s)=>s<t.length&&!t[s].skip&&t[s],nF=t=>t==="x"?"y":"x";function h1e(t,s,a,r){const n=t.skip?s:t,i=s,o=a.skip?s:a,l=Pw(i,n),c=Pw(o,i);let m=l/(l+c),d=c/(l+c);m=isNaN(m)?0:m,d=isNaN(d)?0:d;const p=r*m,x=r*d;return{previous:{x:i.x-p*(o.x-n.x),y:i.y-p*(o.y-n.y)},next:{x:i.x+x*(o.x-n.x),y:i.y+x*(o.y-n.y)}}}function f1e(t,s,a){const r=t.length;let n,i,o,l,c,m=yp(t,0);for(let d=0;d<r-1;++d)if(c=m,m=yp(t,d+1),!(!c||!m)){if(ox(s[d],0,p1e)){a[d]=a[d+1]=0;continue}n=a[d]/s[d],i=a[d+1]/s[d],l=Math.pow(n,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),a[d]=n*o*s[d],a[d+1]=i*o*s[d])}}function x1e(t,s,a="x"){const r=nF(a),n=t.length;let i,o,l,c=yp(t,0);for(let m=0;m<n;++m){if(o=l,l=c,c=yp(t,m+1),!l)continue;const d=l[a],p=l[r];o&&(i=(d-o[a])/3,l[`cp1${a}`]=d-i,l[`cp1${r}`]=p-i*s[m]),c&&(i=(c[a]-d)/3,l[`cp2${a}`]=d+i,l[`cp2${r}`]=p+i*s[m])}}function g1e(t,s="x"){const a=nF(s),r=t.length,n=Array(r).fill(0),i=Array(r);let o,l,c,m=yp(t,0);for(o=0;o<r;++o)if(l=c,c=m,m=yp(t,o+1),!!c){if(m){const d=m[s]-c[s];n[o]=d!==0?(m[a]-c[a])/d:0}i[o]=l?m?sl(n[o-1])!==sl(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}f1e(t,n,i),x1e(t,i,s)}function Pb(t,s,a){return Math.max(Math.min(t,a),s)}function b1e(t,s){let a,r,n,i,o,l=Ux(t[0],s);for(a=0,r=t.length;a<r;++a)o=i,i=l,l=a<r-1&&Ux(t[a+1],s),i&&(n=t[a],o&&(n.cp1x=Pb(n.cp1x,s.left,s.right),n.cp1y=Pb(n.cp1y,s.top,s.bottom)),l&&(n.cp2x=Pb(n.cp2x,s.left,s.right),n.cp2y=Pb(n.cp2y,s.top,s.bottom)))}function y1e(t,s,a,r,n){let i,o,l,c;if(s.spanGaps&&(t=t.filter(m=>!m.skip)),s.cubicInterpolationMode==="monotone")g1e(t,n);else{let m=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)l=t[i],c=h1e(m,l,t[Math.min(i+1,o-(r?0:1))%o],s.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,m=l}s.capBezierPoints&&b1e(t,a)}function QS(){return typeof window<"u"&&typeof document<"u"}function ZS(t){let s=t.parentNode;return s&&s.toString()==="[object ShadowRoot]"&&(s=s.host),s}function Uy(t,s,a){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*s.parentNode[a])):r=t,r}const i1=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function v1e(t,s){return i1(t).getPropertyValue(s)}const j1e=["top","right","bottom","left"];function nu(t,s,a){const r={};a=a?"-"+a:"";for(let n=0;n<4;n++){const i=j1e[n];r[i]=parseFloat(t[s+"-"+i+a])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const N1e=(t,s,a)=>(t>0||s>0)&&(!a||!a.shadowRoot);function _1e(t,s){const a=t.touches,r=a&&a.length?a[0]:t,{offsetX:n,offsetY:i}=r;let o=!1,l,c;if(N1e(n,i,t.target))l=n,c=i;else{const m=s.getBoundingClientRect();l=r.clientX-m.left,c=r.clientY-m.top,o=!0}return{x:l,y:c,box:o}}function qd(t,s){if("native"in t)return t;const{canvas:a,currentDevicePixelRatio:r}=s,n=i1(a),i=n.boxSizing==="border-box",o=nu(n,"padding"),l=nu(n,"border","width"),{x:c,y:m,box:d}=_1e(t,a),p=o.left+(d&&l.left),x=o.top+(d&&l.top);let{width:j,height:_}=s;return i&&(j-=o.width+l.width,_-=o.height+l.height),{x:Math.round((c-p)/j*a.width/r),y:Math.round((m-x)/_*a.height/r)}}function w1e(t,s,a){let r,n;if(s===void 0||a===void 0){const i=t&&ZS(t);if(!i)s=t.clientWidth,a=t.clientHeight;else{const o=i.getBoundingClientRect(),l=i1(i),c=nu(l,"border","width"),m=nu(l,"padding");s=o.width-m.width-c.width,a=o.height-m.height-c.height,r=Uy(l.maxWidth,i,"clientWidth"),n=Uy(l.maxHeight,i,"clientHeight")}}return{width:s,height:a,maxWidth:r||qy,maxHeight:n||qy}}const Ic=t=>Math.round(t*10)/10;function S1e(t,s,a,r){const n=i1(t),i=nu(n,"margin"),o=Uy(n.maxWidth,t,"clientWidth")||qy,l=Uy(n.maxHeight,t,"clientHeight")||qy,c=w1e(t,s,a);let{width:m,height:d}=c;if(n.boxSizing==="content-box"){const x=nu(n,"border","width"),j=nu(n,"padding");m-=j.width+x.width,d-=j.height+x.height}return m=Math.max(0,m-i.width),d=Math.max(0,r?m/r:d-i.height),m=Ic(Math.min(m,o,c.maxWidth)),d=Ic(Math.min(d,l,c.maxHeight)),m&&!d&&(d=Ic(m/2)),(s!==void 0||a!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,m=Ic(Math.floor(d*r))),{width:m,height:d}}function sM(t,s,a){const r=s||1,n=Ic(t.height*r),i=Ic(t.width*r);t.height=Ic(t.height),t.width=Ic(t.width);const o=t.canvas;return o.style&&(a||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==n||o.width!==i?(t.currentDevicePixelRatio=r,o.height=n,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const C1e=(function(){let t=!1;try{const s={get passive(){return t=!0,!1}};QS()&&(window.addEventListener("test",null,s),window.removeEventListener("test",null,s))}catch{}return t})();function aM(t,s){const a=v1e(t,s),r=a&&a.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Bd(t,s,a,r){return{x:t.x+a*(s.x-t.x),y:t.y+a*(s.y-t.y)}}function P1e(t,s,a,r){return{x:t.x+a*(s.x-t.x),y:r==="middle"?a<.5?t.y:s.y:r==="after"?a<1?t.y:s.y:a>0?s.y:t.y}}function k1e(t,s,a,r){const n={x:t.cp2x,y:t.cp2y},i={x:s.cp1x,y:s.cp1y},o=Bd(t,n,a),l=Bd(n,i,a),c=Bd(i,s,a),m=Bd(o,l,a),d=Bd(l,c,a);return Bd(m,d,a)}const E1e=function(t,s){return{x(a){return t+t+s-a},setWidth(a){s=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,r){return a-r},leftForLtr(a,r){return a-r}}},T1e=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,s){return t+s},leftForLtr(t,s){return t}}};function Jm(t,s,a){return t?E1e(s,a):T1e()}function iF(t,s){let a,r;(s==="ltr"||s==="rtl")&&(a=t.canvas.style,r=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",s,"important"),t.prevTextDirection=r)}function oF(t,s){s!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",s[0],s[1]))}function lF(t){return t==="angle"?{between:Bx,compare:Eve,normalize:oi}:{between:ql,compare:(s,a)=>s-a,normalize:s=>s}}function rM({start:t,end:s,count:a,loop:r,style:n}){return{start:t%a,end:s%a,loop:r&&(s-t+1)%a===0,style:n}}function M1e(t,s,a){const{property:r,start:n,end:i}=a,{between:o,normalize:l}=lF(r),c=s.length;let{start:m,end:d,loop:p}=t,x,j;if(p){for(m+=c,d+=c,x=0,j=c;x<j&&o(l(s[m%c][r]),n,i);++x)m--,d--;m%=c,d%=c}return d<m&&(d+=c),{start:m,end:d,loop:p,style:t.style}}function cF(t,s,a){if(!a)return[t];const{property:r,start:n,end:i}=a,o=s.length,{compare:l,between:c,normalize:m}=lF(r),{start:d,end:p,loop:x,style:j}=M1e(t,s,a),_=[];let S=!1,v=null,y,N,C;const P=()=>c(n,C,y)&&l(n,C)!==0,E=()=>l(i,y)===0||c(i,C,y),D=()=>S||P(),T=()=>!S||E();for(let A=d,I=d;A<=p;++A)N=s[A%o],!N.skip&&(y=m(N[r]),y!==C&&(S=c(y,n,i),v===null&&D()&&(v=l(y,n)===0?A:I),v!==null&&T()&&(_.push(rM({start:v,end:A,loop:x,count:o,style:j})),v=null),I=A,C=y));return v!==null&&_.push(rM({start:v,end:p,loop:x,count:o,style:j})),_}function dF(t,s){const a=[],r=t.segments;for(let n=0;n<r.length;n++){const i=cF(r[n],t.points,s);i.length&&a.push(...i)}return a}function D1e(t,s,a,r){let n=0,i=s-1;if(a&&!r)for(;n<s&&!t[n].skip;)n++;for(;n<s&&t[n].skip;)n++;for(n%=s,a&&(i+=n);i>n&&t[i%s].skip;)i--;return i%=s,{start:n,end:i}}function R1e(t,s,a,r){const n=t.length,i=[];let o=s,l=t[s],c;for(c=s+1;c<=a;++c){const m=t[c%n];m.skip||m.stop?l.skip||(r=!1,i.push({start:s%n,end:(c-1)%n,loop:r}),s=o=m.stop?c:null):(o=c,l.skip&&(s=c)),l=m}return o!==null&&i.push({start:s%n,end:o%n,loop:r}),i}function A1e(t,s){const a=t.points,r=t.options.spanGaps,n=a.length;if(!n)return[];const i=!!t._loop,{start:o,end:l}=D1e(a,n,i,r);if(r===!0)return nM(t,[{start:o,end:l,loop:i}],a,s);const c=l<o?l+n:l,m=!!t._fullLoop&&o===0&&l===n-1;return nM(t,R1e(a,o,c,m),a,s)}function nM(t,s,a,r){return!r||!r.setContext||!a?s:I1e(t,s,a,r)}function I1e(t,s,a,r){const n=t._chart.getContext(),i=iM(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,c=a.length,m=[];let d=i,p=s[0].start,x=p;function j(_,S,v,y){const N=l?-1:1;if(_!==S){for(_+=c;a[_%c].skip;)_-=N;for(;a[S%c].skip;)S+=N;_%c!==S%c&&(m.push({start:_%c,end:S%c,loop:v,style:y}),d=y,p=S%c)}}for(const _ of s){p=l?p:_.start;let S=a[p%c],v;for(x=p+1;x<=_.end;x++){const y=a[x%c];v=iM(r.setContext(Eu(n,{type:"segment",p0:S,p1:y,p0DataIndex:(x-1)%c,p1DataIndex:x%c,datasetIndex:o}))),O1e(v,d)&&j(p,x-1,_.loop,d),S=y,d=v}p<x-1&&j(p,x-1,_.loop,d)}return m}function iM(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function O1e(t,s){if(!s)return!1;const a=[],r=function(n,i){return VS(i)?(a.includes(i)||a.push(i),a.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(s,r)}function kb(t,s,a){return t.options.clip?t[a]:s[a]}function F1e(t,s){const{xScale:a,yScale:r}=t;return a&&r?{left:kb(a,s,"left"),right:kb(a,s,"right"),top:kb(r,s,"top"),bottom:kb(r,s,"bottom")}:s}function uF(t,s){const a=s._clip;if(a.disabled)return!1;const r=F1e(s,t.chartArea);return{left:a.left===!1?0:r.left-(a.left===!0?0:a.left),right:a.right===!1?t.width:r.right+(a.right===!0?0:a.right),top:a.top===!1?0:r.top-(a.top===!0?0:a.top),bottom:a.bottom===!1?t.height:r.bottom+(a.bottom===!0?0:a.bottom)}}class L1e{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(s,a,r,n){const i=a.listeners[n],o=a.duration;i.forEach(l=>l({chart:s,initial:a.initial,numSteps:o,currentStep:Math.min(r-a.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=QO.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(s=Date.now()){let a=0;this._charts.forEach((r,n)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(s),l=!0):(i[o]=i[i.length-1],i.pop());l&&(n.draw(),this._notify(n,r,s,"progress")),i.length||(r.running=!1,this._notify(n,r,s,"complete"),r.initial=!1),a+=i.length}),this._lastDate=s,a===0&&(this._running=!1)}_getAnims(s){const a=this._charts;let r=a.get(s);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(s,r)),r}listen(s,a,r){this._getAnims(s).listeners[a].push(r)}add(s,a){!a||!a.length||this._getAnims(s).items.push(...a)}has(s){return this._getAnims(s).items.length>0}start(s){const a=this._charts.get(s);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((r,n)=>Math.max(r,n._duration),0),this._refresh())}running(s){if(!this._running)return!1;const a=this._charts.get(s);return!(!a||!a.running||!a.items.length)}stop(s){const a=this._charts.get(s);if(!a||!a.items.length)return;const r=a.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();a.items=[],this._notify(s,a,Date.now(),"complete")}remove(s){return this._charts.delete(s)}}var Ml=new L1e;const oM="transparent",$1e={boolean(t,s,a){return a>.5?s:t},color(t,s,a){const r=Q8(t||oM),n=r.valid&&Q8(s||oM);return n&&n.valid?n.mix(r,a).hexString():s},number(t,s,a){return t+(s-t)*a}};class z1e{constructor(s,a,r,n){const i=a[r];n=Cb([s.to,n,i,s.from]);const o=Cb([s.from,i,n]);this._active=!0,this._fn=s.fn||$1e[s.type||typeof o],this._easing=lx[s.easing]||lx.linear,this._start=Math.floor(Date.now()+(s.delay||0)),this._duration=this._total=Math.floor(s.duration),this._loop=!!s.loop,this._target=a,this._prop=r,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(s,a,r){if(this._active){this._notify(!1);const n=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,s.duration)),this._total+=i,this._loop=!!s.loop,this._to=Cb([s.to,a,n,s.from]),this._from=Cb([s.from,n,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(s){const a=s-this._start,r=this._duration,n=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||a<r),!this._active){this._target[n]=l,this._notify(!0);return}if(a<0){this._target[n]=i;return}c=a/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[n]=this._fn(i,l,c)}wait(){const s=this._promises||(this._promises=[]);return new Promise((a,r)=>{s.push({res:a,rej:r})})}_notify(s){const a=s?"res":"rej",r=this._promises||[];for(let n=0;n<r.length;n++)r[n][a]()}}class mF{constructor(s,a){this._chart=s,this._properties=new Map,this.configure(a)}configure(s){if(!sa(s))return;const a=Object.keys(xr.animation),r=this._properties;Object.getOwnPropertyNames(s).forEach(n=>{const i=s[n];if(!sa(i))return;const o={};for(const l of a)o[l]=i[l];(Sr(i.properties)&&i.properties||[n]).forEach(l=>{(l===n||!r.has(l))&&r.set(l,o)})})}_animateOptions(s,a){const r=a.options,n=B1e(s,r);if(!n)return[];const i=this._createAnimations(n,r);return r.$shared&&q1e(s.options.$animations,r).then(()=>{s.options=r},()=>{}),i}_createAnimations(s,a){const r=this._properties,n=[],i=s.$animations||(s.$animations={}),o=Object.keys(a),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const m=o[c];if(m.charAt(0)==="$")continue;if(m==="options"){n.push(...this._animateOptions(s,a));continue}const d=a[m];let p=i[m];const x=r.get(m);if(p)if(x&&p.active()){p.update(x,d,l);continue}else p.cancel();if(!x||!x.duration){s[m]=d;continue}i[m]=p=new z1e(x,s,m,d),n.push(p)}return n}update(s,a){if(this._properties.size===0){Object.assign(s,a);return}const r=this._createAnimations(s,a);if(r.length)return Ml.add(this._chart,r),!0}}function q1e(t,s){const a=[],r=Object.keys(s);for(let n=0;n<r.length;n++){const i=t[r[n]];i&&i.active()&&a.push(i.wait())}return Promise.all(a)}function B1e(t,s){if(!s)return;let a=t.options;if(!a){t.options=s;return}return a.$shared&&(t.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function lM(t,s){const a=t&&t.options||{},r=a.reverse,n=a.min===void 0?s:0,i=a.max===void 0?s:0;return{start:r?i:n,end:r?n:i}}function U1e(t,s,a){if(a===!1)return!1;const r=lM(t,a),n=lM(s,a);return{top:n.end,right:r.end,bottom:n.start,left:r.start}}function V1e(t){let s,a,r,n;return sa(t)?(s=t.top,a=t.right,r=t.bottom,n=t.left):s=a=r=n=t,{top:s,right:a,bottom:r,left:n,disabled:t===!1}}function pF(t,s){const a=[],r=t._getSortedDatasetMetas(s);let n,i;for(n=0,i=r.length;n<i;++n)a.push(r[n].index);return a}function cM(t,s,a,r={}){const n=t.keys,i=r.mode==="single";let o,l,c,m;if(s===null)return;let d=!1;for(o=0,l=n.length;o<l;++o){if(c=+n[o],c===a){if(d=!0,r.all)continue;break}m=t.values[c],pn(m)&&(i||s===0||sl(s)===sl(m))&&(s+=m)}return!d&&!r.all?0:s}function H1e(t,s){const{iScale:a,vScale:r}=s,n=a.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,m,d;for(c=0,m=o.length;c<m;++c)d=o[c],l[c]={[n]:d,[i]:t[d]};return l}function IN(t,s){const a=t&&t.options.stacked;return a||a===void 0&&s.stack!==void 0}function W1e(t,s,a){return`${t.id}.${s.id}.${a.stack||a.type}`}function Y1e(t){const{min:s,max:a,minDefined:r,maxDefined:n}=t.getUserBounds();return{min:r?s:Number.NEGATIVE_INFINITY,max:n?a:Number.POSITIVE_INFINITY}}function G1e(t,s,a){const r=t[s]||(t[s]={});return r[a]||(r[a]={})}function dM(t,s,a,r){for(const n of s.getMatchingVisibleMetas(r).reverse()){const i=t[n.index];if(a&&i>0||!a&&i<0)return n.index}return null}function uM(t,s){const{chart:a,_cachedMeta:r}=t,n=a._stacks||(a._stacks={}),{iScale:i,vScale:o,index:l}=r,c=i.axis,m=o.axis,d=W1e(i,o,r),p=s.length;let x;for(let j=0;j<p;++j){const _=s[j],{[c]:S,[m]:v}=_,y=_._stacks||(_._stacks={});x=y[m]=G1e(n,d,S),x[l]=v,x._top=dM(x,o,!0,r.type),x._bottom=dM(x,o,!1,r.type);const N=x._visualValues||(x._visualValues={});N[l]=v}}function ON(t,s){const a=t.scales;return Object.keys(a).filter(r=>a[r].axis===s).shift()}function K1e(t,s){return Eu(t,{active:!1,dataset:void 0,datasetIndex:s,index:s,mode:"default",type:"dataset"})}function Q1e(t,s,a){return Eu(t,{active:!1,dataIndex:s,parsed:void 0,raw:void 0,element:a,index:s,mode:"default",type:"data"})}function Jh(t,s){const a=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){s=s||t._parsed;for(const n of s){const i=n._stacks;if(!i||i[r]===void 0||i[r][a]===void 0)return;delete i[r][a],i[r]._visualValues!==void 0&&i[r]._visualValues[a]!==void 0&&delete i[r]._visualValues[a]}}}const FN=t=>t==="reset"||t==="none",mM=(t,s)=>s?t:Object.assign({},t),Z1e=(t,s,a)=>t&&!s.hidden&&s._stacked&&{keys:pF(a,!0),values:null};class o1{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(s,a){this.chart=s,this._ctx=s.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const s=this._cachedMeta;this.configure(),this.linkScales(),s._stacked=IN(s.vScale,s),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(s){this.index!==s&&Jh(this._cachedMeta),this.index=s}linkScales(){const s=this.chart,a=this._cachedMeta,r=this.getDataset(),n=(p,x,j,_)=>p==="x"?x:p==="r"?_:j,i=a.xAxisID=Bs(r.xAxisID,ON(s,"x")),o=a.yAxisID=Bs(r.yAxisID,ON(s,"y")),l=a.rAxisID=Bs(r.rAxisID,ON(s,"r")),c=a.indexAxis,m=a.iAxisID=n(c,i,o,l),d=a.vAxisID=n(c,o,i,l);a.xScale=this.getScaleForId(i),a.yScale=this.getScaleForId(o),a.rScale=this.getScaleForId(l),a.iScale=this.getScaleForId(m),a.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(s){return this.chart.scales[s]}_getOtherScale(s){const a=this._cachedMeta;return s===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const s=this._cachedMeta;this._data&&Y8(this._data,this),s._stacked&&Jh(s)}_dataCheck(){const s=this.getDataset(),a=s.data||(s.data=[]),r=this._data;if(sa(a)){const n=this._cachedMeta;this._data=H1e(a,n)}else if(r!==a){if(r){Y8(r,this);const n=this._cachedMeta;Jh(n),n._parsed=[]}a&&Object.isExtensible(a)&&Rve(a,this),this._syncList=[],this._data=a}}addElements(){const s=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(s.dataset=new this.datasetElementType)}buildOrUpdateElements(s){const a=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const i=a._stacked;a._stacked=IN(a.vScale,a),a.stack!==r.stack&&(n=!0,Jh(a),a.stack=r.stack),this._resyncElements(s),(n||i!==a._stacked)&&(uM(this,a._parsed),a._stacked=IN(a.vScale,a))}configure(){const s=this.chart.config,a=s.datasetScopeKeys(this._type),r=s.getOptionScopes(this.getDataset(),a,!0);this.options=s.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(s,a){const{_cachedMeta:r,_data:n}=this,{iScale:i,_stacked:o}=r,l=i.axis;let c=s===0&&a===n.length?!0:r._sorted,m=s>0&&r._parsed[s-1],d,p,x;if(this._parsing===!1)r._parsed=n,r._sorted=!0,x=n;else{Sr(n[s])?x=this.parseArrayData(r,n,s,a):sa(n[s])?x=this.parseObjectData(r,n,s,a):x=this.parsePrimitiveData(r,n,s,a);const j=()=>p[l]===null||m&&p[l]<m[l];for(d=0;d<a;++d)r._parsed[d+s]=p=x[d],c&&(j()&&(c=!1),m=p);r._sorted=c}o&&uM(this,x)}parsePrimitiveData(s,a,r,n){const{iScale:i,vScale:o}=s,l=i.axis,c=o.axis,m=i.getLabels(),d=i===o,p=new Array(n);let x,j,_;for(x=0,j=n;x<j;++x)_=x+r,p[x]={[l]:d||i.parse(m[_],_),[c]:o.parse(a[_],_)};return p}parseArrayData(s,a,r,n){const{xScale:i,yScale:o}=s,l=new Array(n);let c,m,d,p;for(c=0,m=n;c<m;++c)d=c+r,p=a[d],l[c]={x:i.parse(p[0],d),y:o.parse(p[1],d)};return l}parseObjectData(s,a,r,n){const{xScale:i,yScale:o}=s,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,m=new Array(n);let d,p,x,j;for(d=0,p=n;d<p;++d)x=d+r,j=a[x],m[d]={x:i.parse(gu(j,l),x),y:o.parse(gu(j,c),x)};return m}getParsed(s){return this._cachedMeta._parsed[s]}getDataElement(s){return this._cachedMeta.data[s]}applyStack(s,a,r){const n=this.chart,i=this._cachedMeta,o=a[s.axis],l={keys:pF(n,!0),values:a._stacks[s.axis]._visualValues};return cM(l,o,i.index,{mode:r})}updateRangeFromParsed(s,a,r,n){const i=r[a.axis];let o=i===null?NaN:i;const l=n&&r._stacks[a.axis];n&&l&&(n.values=l,o=cM(n,i,this._cachedMeta.index)),s.min=Math.min(s.min,o),s.max=Math.max(s.max,o)}getMinMax(s,a){const r=this._cachedMeta,n=r._parsed,i=r._sorted&&s===r.iScale,o=n.length,l=this._getOtherScale(s),c=Z1e(a,r,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:p}=Y1e(l);let x,j;function _(){j=n[x];const S=j[l.axis];return!pn(j[s.axis])||d>S||p<S}for(x=0;x<o&&!(!_()&&(this.updateRangeFromParsed(m,s,j,c),i));++x);if(i){for(x=o-1;x>=0;--x)if(!_()){this.updateRangeFromParsed(m,s,j,c);break}}return m}getAllParsedValues(s){const a=this._cachedMeta._parsed,r=[];let n,i,o;for(n=0,i=a.length;n<i;++n)o=a[n][s.axis],pn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(s){const a=this._cachedMeta,r=a.iScale,n=a.vScale,i=this.getParsed(s);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(s){const a=this._cachedMeta;this.update(s||"default"),a._clip=V1e(Bs(this.options.clip,U1e(a.xScale,a.yScale,this.getMaxOverflow())))}update(s){}draw(){const s=this._ctx,a=this.chart,r=this._cachedMeta,n=r.data||[],i=a.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||n.length-l,m=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(s,i,l,c),d=l;d<l+c;++d){const p=n[d];p.hidden||(p.active&&m?o.push(p):p.draw(s,i))}for(d=0;d<o.length;++d)o[d].draw(s,i)}getStyle(s,a){const r=a?"active":"default";return s===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(s||0,r)}getContext(s,a,r){const n=this.getDataset();let i;if(s>=0&&s<this._cachedMeta.data.length){const o=this._cachedMeta.data[s];i=o.$context||(o.$context=Q1e(this.getContext(),s,o)),i.parsed=this.getParsed(s),i.raw=n.data[s],i.index=i.dataIndex=s}else i=this.$context||(this.$context=K1e(this.chart.getContext(),this.index)),i.dataset=n,i.index=i.datasetIndex=this.index;return i.active=!!a,i.mode=r,i}resolveDatasetElementOptions(s){return this._resolveElementOptions(this.datasetElementType.id,s)}resolveDataElementOptions(s,a){return this._resolveElementOptions(this.dataElementType.id,a,s)}_resolveElementOptions(s,a="default",r){const n=a==="active",i=this._cachedDataOpts,o=s+"-"+a,l=i[o],c=this.enableOptionSharing&&zx(r);if(l)return mM(l,c);const m=this.chart.config,d=m.datasetElementScopeKeys(this._type,s),p=n?[`${s}Hover`,"hover",s,""]:[s,""],x=m.getOptionScopes(this.getDataset(),d),j=Object.keys(xr.elements[s]),_=()=>this.getContext(r,n,a),S=m.resolveNamedOptions(x,j,_,p);return S.$shared&&(S.$shared=c,i[o]=Object.freeze(mM(S,c))),S}_resolveAnimations(s,a,r){const n=this.chart,i=this._cachedDataOpts,o=`animation-${a}`,l=i[o];if(l)return l;let c;if(n.options.animation!==!1){const d=this.chart.config,p=d.datasetAnimationScopeKeys(this._type,a),x=d.getOptionScopes(this.getDataset(),p);c=d.createResolver(x,this.getContext(s,r,a))}const m=new mF(n,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(m)),m}getSharedOptions(s){if(s.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},s))}includeOptions(s,a){return!a||FN(s)||this.chart._animationsDisabled}_getSharedOptions(s,a){const r=this.resolveDataElementOptions(s,a),n=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(a,i)||i!==n;return this.updateSharedOptions(i,a,r),{sharedOptions:i,includeOptions:o}}updateElement(s,a,r,n){FN(n)?Object.assign(s,r):this._resolveAnimations(a,n).update(s,r)}updateSharedOptions(s,a,r){s&&!FN(a)&&this._resolveAnimations(void 0,a).update(s,r)}_setStyle(s,a,r,n){s.active=n;const i=this.getStyle(a,n);this._resolveAnimations(a,r,n).update(s,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(s,a,r){this._setStyle(s,r,"active",!1)}setHoverStyle(s,a,r){this._setStyle(s,r,"active",!0)}_removeDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!1)}_setDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!0)}_resyncElements(s){const a=this._data,r=this._cachedMeta.data;for(const[l,c,m]of this._syncList)this[l](c,m);this._syncList=[];const n=r.length,i=a.length,o=Math.min(i,n);o&&this.parse(0,o),i>n?this._insertElements(n,i-n,s):i<n&&this._removeElements(i,n-i)}_insertElements(s,a,r=!0){const n=this._cachedMeta,i=n.data,o=s+a;let l;const c=m=>{for(m.length+=a,l=m.length-1;l>=o;l--)m[l]=m[l-a]};for(c(i),l=s;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(n._parsed),this.parse(s,a),r&&this.updateElements(i,s,a,"reset")}updateElements(s,a,r,n){}_removeElements(s,a){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(s,a);r._stacked&&Jh(r,n)}r.data.splice(s,a)}_sync(s){if(this._parsing)this._syncList.push(s);else{const[a,r,n]=s;this[a](r,n)}this.chart._dataChanges.push([this.index,...s])}_onDataPush(){const s=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-s,s])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(s,a){a&&this._sync(["_removeElements",s,a]);const r=arguments.length-2;r&&this._sync(["_insertElements",s,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function X1e(t,s){if(!t._cache.$bar){const a=t.getMatchingVisibleMetas(s);let r=[];for(let n=0,i=a.length;n<i;n++)r=r.concat(a[n].controller.getAllParsedValues(t));t._cache.$bar=KO(r.sort((n,i)=>n-i))}return t._cache.$bar}function J1e(t){const s=t.iScale,a=X1e(s,t.type);let r=s._length,n,i,o,l;const c=()=>{o===32767||o===-32768||(zx(l)&&(r=Math.min(r,Math.abs(o-l)||r)),l=o)};for(n=0,i=a.length;n<i;++n)o=s.getPixelForValue(a[n]),c();for(l=void 0,n=0,i=s.ticks.length;n<i;++n)o=s.getPixelForTick(n),c();return r}function eje(t,s,a,r){const n=a.barThickness;let i,o;return xa(n)?(i=s.min*a.categoryPercentage,o=a.barPercentage):(i=n*r,o=1),{chunk:i/r,ratio:o,start:s.pixels[t]-i/2}}function tje(t,s,a,r){const n=s.pixels,i=n[t];let o=t>0?n[t-1]:null,l=t<n.length-1?n[t+1]:null;const c=a.categoryPercentage;o===null&&(o=i-(l===null?s.end-s.start:l-i)),l===null&&(l=i+i-o);const m=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/r,ratio:a.barPercentage,start:m}}function sje(t,s,a,r){const n=a.parse(t[0],r),i=a.parse(t[1],r),o=Math.min(n,i),l=Math.max(n,i);let c=o,m=l;Math.abs(o)>Math.abs(l)&&(c=l,m=o),s[a.axis]=m,s._custom={barStart:c,barEnd:m,start:n,end:i,min:o,max:l}}function hF(t,s,a,r){return Sr(t)?sje(t,s,a,r):s[a.axis]=a.parse(t,r),s}function pM(t,s,a,r){const n=t.iScale,i=t.vScale,o=n.getLabels(),l=n===i,c=[];let m,d,p,x;for(m=a,d=a+r;m<d;++m)x=s[m],p={},p[n.axis]=l||n.parse(o[m],m),c.push(hF(x,p,i,m));return c}function LN(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function aje(t,s,a){return t!==0?sl(t):(s.isHorizontal()?1:-1)*(s.min>=a?1:-1)}function rje(t){let s,a,r,n,i;return t.horizontal?(s=t.base>t.x,a="left",r="right"):(s=t.base<t.y,a="bottom",r="top"),s?(n="end",i="start"):(n="start",i="end"),{start:a,end:r,reverse:s,top:n,bottom:i}}function nje(t,s,a,r){let n=s.borderSkipped;const i={};if(!n){t.borderSkipped=i;return}if(n===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:m,bottom:d}=rje(t);n==="middle"&&a&&(t.enableBorderRadius=!0,(a._top||0)===r?n=m:(a._bottom||0)===r?n=d:(i[hM(d,o,l,c)]=!0,n=m)),i[hM(n,o,l,c)]=!0,t.borderSkipped=i}function hM(t,s,a,r){return r?(t=ije(t,s,a),t=fM(t,a,s)):t=fM(t,s,a),t}function ije(t,s,a){return t===s?a:t===a?s:t}function fM(t,s,a){return t==="start"?s:t==="end"?a:t}function oje(t,{inflateAmount:s},a){t.inflateAmount=s==="auto"?a===1?.33:0:s}class lje extends o1{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(s,a,r,n){return pM(s,a,r,n)}parseArrayData(s,a,r,n){return pM(s,a,r,n)}parseObjectData(s,a,r,n){const{iScale:i,vScale:o}=s,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,m=i.axis==="x"?l:c,d=o.axis==="x"?l:c,p=[];let x,j,_,S;for(x=r,j=r+n;x<j;++x)S=a[x],_={},_[i.axis]=i.parse(gu(S,m),x),p.push(hF(gu(S,d),_,o,x));return p}updateRangeFromParsed(s,a,r,n){super.updateRangeFromParsed(s,a,r,n);const i=r._custom;i&&a===this._cachedMeta.vScale&&(s.min=Math.min(s.min,i.min),s.max=Math.max(s.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(s){const a=this._cachedMeta,{iScale:r,vScale:n}=a,i=this.getParsed(s),o=i._custom,l=LN(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(i[n.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const s=this._cachedMeta;s.stack=this.getDataset().stack}update(s){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,s)}updateElements(s,a,r,n){const i=n==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),m=l.isHorizontal(),d=this._getRuler(),{sharedOptions:p,includeOptions:x}=this._getSharedOptions(a,n);for(let j=a;j<a+r;j++){const _=this.getParsed(j),S=i||xa(_[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(j),v=this._calculateBarIndexPixels(j,d),y=(_._stacks||{})[l.axis],N={horizontal:m,base:S.base,enableBorderRadius:!y||LN(_._custom)||o===y._top||o===y._bottom,x:m?S.head:v.center,y:m?v.center:S.head,height:m?v.size:Math.abs(S.size),width:m?Math.abs(S.size):v.size};x&&(N.options=p||this.resolveDataElementOptions(j,s[j].active?"active":n));const C=N.options||s[j].options;nje(N,C,y,o),oje(N,C,d.ratio),this.updateElement(s[j],j,N,n)}}_getStacks(s,a){const{iScale:r}=this._cachedMeta,n=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(a),c=l&&l[r.axis],m=d=>{const p=d._parsed.find(j=>j[r.axis]===c),x=p&&p[d.vScale.axis];if(xa(x)||isNaN(x))return!0};for(const d of n)if(!(a!==void 0&&m(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===s))break;return o.length||o.push(void 0),o}_getStackCount(s){return this._getStacks(void 0,s).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const s=this.chart.scales,a=this.chart.options.indexAxis;return Object.keys(s).filter(r=>s[r].axis===a).shift()}_getAxis(){const s={},a=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)s[Bs(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,a)]=!0;return Object.keys(s)}_getStackIndex(s,a,r){const n=this._getStacks(s,r),i=a!==void 0?n.indexOf(a):-1;return i===-1?n.length-1:i}_getRuler(){const s=this.options,a=this._cachedMeta,r=a.iScale,n=[];let i,o;for(i=0,o=a.data.length;i<o;++i)n.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const l=s.barThickness;return{min:l||J1e(a),pixels:n,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:s.grouped,ratio:l?1:s.categoryPercentage*s.barPercentage}}_calculateBarValuePixels(s){const{_cachedMeta:{vScale:a,_stacked:r,index:n},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(s),m=c._custom,d=LN(m);let p=c[a.axis],x=0,j=r?this.applyStack(a,c,r):p,_,S;j!==p&&(x=j-p,j=p),d&&(p=m.barStart,j=m.barEnd-m.barStart,p!==0&&sl(p)!==sl(m.barEnd)&&(x=0),x+=p);const v=!xa(i)&&!d?i:x;let y=a.getPixelForValue(v);if(this.chart.getDataVisibility(s)?_=a.getPixelForValue(x+j):_=y,S=_-y,Math.abs(S)<o){S=aje(S,a,l)*o,p===l&&(y-=S/2);const N=a.getPixelForDecimal(0),C=a.getPixelForDecimal(1),P=Math.min(N,C),E=Math.max(N,C);y=Math.max(Math.min(y,E),P),_=y+S,r&&!d&&(c._stacks[a.axis]._visualValues[n]=a.getValueForPixel(_)-a.getValueForPixel(y))}if(y===a.getPixelForValue(l)){const N=sl(S)*a.getLineWidthForValue(l)/2;y+=N,S-=N}return{size:S,base:y,head:_,center:_+S/2}}_calculateBarIndexPixels(s,a){const r=a.scale,n=this.options,i=n.skipNull,o=Bs(n.maxBarThickness,1/0);let l,c;const m=this._getAxisCount();if(a.grouped){const d=i?this._getStackCount(s):a.stackCount,p=n.barThickness==="flex"?tje(s,a,n,d*m):eje(s,a,n,d*m),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,j=this._getAxis().indexOf(Bs(x,this.getFirstScaleIdForIndexAxis())),_=this._getStackIndex(this.index,this._cachedMeta.stack,i?s:void 0)+j;l=p.start+p.chunk*_+p.chunk/2,c=Math.min(o,p.chunk*p.ratio)}else l=r.getPixelForValue(this.getParsed(s)[r.axis],s),c=Math.min(o,a.min*a.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const s=this._cachedMeta,a=s.vScale,r=s.data,n=r.length;let i=0;for(;i<n;++i)this.getParsed(i)[a.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}function cje(t,s,a){let r=1,n=1,i=0,o=0;if(s<Qa){const l=t,c=l+s,m=Math.cos(l),d=Math.sin(l),p=Math.cos(c),x=Math.sin(c),j=(C,P,E)=>Bx(C,l,c,!0)?1:Math.max(P,P*a,E,E*a),_=(C,P,E)=>Bx(C,l,c,!0)?-1:Math.min(P,P*a,E,E*a),S=j(0,m,p),v=j(Mr,d,x),y=_(Sa,m,p),N=_(Sa+Mr,d,x);r=(S-y)/2,n=(v-N)/2,i=-(S+y)/2,o=-(v+N)/2}return{ratioX:r,ratioY:n,offsetX:i,offsetY:o}}class dje extends o1{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:s=>s!=="spacing",_indexable:s=>s!=="spacing"&&!s.startsWith("borderDash")&&!s.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const a=s.data,{labels:{pointStyle:r,textAlign:n,color:i,useBorderRadius:o,borderRadius:l}}=s.legend.options;return a.labels.length&&a.datasets.length?a.labels.map((c,m)=>{const p=s.getDatasetMeta(0).controller.getStyle(m);return{text:c,fillStyle:p.backgroundColor,fontColor:i,hidden:!s.getDataVisibility(m),lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:p.borderWidth,strokeStyle:p.borderColor,textAlign:n,pointStyle:r,borderRadius:o&&(l||p.borderRadius),index:m}}):[]}},onClick(s,a,r){r.chart.toggleDataVisibility(a.index),r.chart.update()}}}};constructor(s,a){super(s,a),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(s,a){const r=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=r;else{let i=c=>+r[c];if(sa(r[s])){const{key:c="value"}=this._parsing;i=m=>+gu(r[m],c)}let o,l;for(o=s,l=s+a;o<l;++o)n._parsed[o]=i(o)}}_getRotation(){return zl(this.options.rotation-90)}_getCircumference(){return zl(this.options.circumference)}_getRotationExtents(){let s=Qa,a=-Qa;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const n=this.chart.getDatasetMeta(r).controller,i=n._getRotation(),o=n._getCircumference();s=Math.min(s,i),a=Math.max(a,i+o)}return{rotation:s,circumference:a-s}}update(s){const a=this.chart,{chartArea:r}=a,n=this._cachedMeta,i=n.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-o)/2,0),c=Math.min(xve(this.options.cutout,l),1),m=this._getRingWeight(this.index),{circumference:d,rotation:p}=this._getRotationExtents(),{ratioX:x,ratioY:j,offsetX:_,offsetY:S}=cje(p,d,c),v=(r.width-o)/x,y=(r.height-o)/j,N=Math.max(Math.min(v,y)/2,0),C=VO(this.options.radius,N),P=Math.max(C*c,0),E=(C-P)/this._getVisibleDatasetWeightTotal();this.offsetX=_*C,this.offsetY=S*C,n.total=this.calculateTotal(),this.outerRadius=C-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*m,0),this.updateElements(i,0,i.length,s)}_circumference(s,a){const r=this.options,n=this._cachedMeta,i=this._getCircumference();return a&&r.animation.animateRotate||!this.chart.getDataVisibility(s)||n._parsed[s]===null||n.data[s].hidden?0:this.calculateCircumference(n._parsed[s]*i/Qa)}updateElements(s,a,r,n){const i=n==="reset",o=this.chart,l=o.chartArea,m=o.options.animation,d=(l.left+l.right)/2,p=(l.top+l.bottom)/2,x=i&&m.animateScale,j=x?0:this.innerRadius,_=x?0:this.outerRadius,{sharedOptions:S,includeOptions:v}=this._getSharedOptions(a,n);let y=this._getRotation(),N;for(N=0;N<a;++N)y+=this._circumference(N,i);for(N=a;N<a+r;++N){const C=this._circumference(N,i),P=s[N],E={x:d+this.offsetX,y:p+this.offsetY,startAngle:y,endAngle:y+C,circumference:C,outerRadius:_,innerRadius:j};v&&(E.options=S||this.resolveDataElementOptions(N,P.active?"active":n)),y+=C,this.updateElement(P,N,E,n)}}calculateTotal(){const s=this._cachedMeta,a=s.data;let r=0,n;for(n=0;n<a.length;n++){const i=s._parsed[n];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(n)&&!a[n].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(s){const a=this._cachedMeta.total;return a>0&&!isNaN(s)?Qa*(Math.abs(s)/a):0}getLabelAndValue(s){const a=this._cachedMeta,r=this.chart,n=r.data.labels||[],i=HS(a._parsed[s],r.options.locale);return{label:n[s]||"",value:i}}getMaxBorderWidth(s){let a=0;const r=this.chart;let n,i,o,l,c;if(!s){for(n=0,i=r.data.datasets.length;n<i;++n)if(r.isDatasetVisible(n)){o=r.getDatasetMeta(n),s=o.data,l=o.controller;break}}if(!s)return 0;for(n=0,i=s.length;n<i;++n)c=l.resolveDataElementOptions(n),c.borderAlign!=="inner"&&(a=Math.max(a,c.borderWidth||0,c.hoverBorderWidth||0));return a}getMaxOffset(s){let a=0;for(let r=0,n=s.length;r<n;++r){const i=this.resolveDataElementOptions(r);a=Math.max(a,i.offset||0,i.hoverOffset||0)}return a}_getRingWeightOffset(s){let a=0;for(let r=0;r<s;++r)this.chart.isDatasetVisible(r)&&(a+=this._getRingWeight(r));return a}_getRingWeight(s){return Math.max(Bs(this.chart.data.datasets[s].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class uje extends o1{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(s){const a=this._cachedMeta,{dataset:r,data:n=[],_dataset:i}=a,o=this.chart._animationsDisabled;let{start:l,count:c}=Ove(a,n,o);this._drawStart=l,this._drawCount=c,Fve(a)&&(l=0,c=n.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=n;const m=this.resolveDatasetElementOptions(s);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:m},s),this.updateElements(n,l,c,s)}updateElements(s,a,r,n){const i=n==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:m}=this._cachedMeta,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(a,n),x=o.axis,j=l.axis,{spanGaps:_,segment:S}=this.options,v=qx(_)?_:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||n==="none",N=a+r,C=s.length;let P=a>0&&this.getParsed(a-1);for(let E=0;E<C;++E){const D=s[E],T=y?D:{};if(E<a||E>=N){T.skip=!0;continue}const A=this.getParsed(E),I=xa(A[j]),F=T[x]=o.getPixelForValue(A[x],E),z=T[j]=i||I?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[j],E);T.skip=isNaN(F)||isNaN(z)||I,T.stop=E>0&&Math.abs(A[x]-P[x])>v,S&&(T.parsed=A,T.raw=m.data[E]),p&&(T.options=d||this.resolveDataElementOptions(E,D.active?"active":n)),y||this.updateElement(D,E,T,n),P=A}}getMaxOverflow(){const s=this._cachedMeta,a=s.dataset,r=a.options&&a.options.borderWidth||0,n=s.data||[];if(!n.length)return r;const i=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,i,o)/2}draw(){const s=this._cachedMeta;s.dataset.updateControlPoints(this.chart.chartArea,s.iScale.axis),super.draw()}}function Od(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class XS{static override(s){Object.assign(XS.prototype,s)}options;constructor(s){this.options=s||{}}init(){}formats(){return Od()}parse(){return Od()}format(){return Od()}add(){return Od()}diff(){return Od()}startOf(){return Od()}endOf(){return Od()}}var mje={_date:XS};function pje(t,s,a,r){const{controller:n,data:i,_sorted:o}=t,l=n._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&s===l.axis&&s!=="r"&&o&&i.length){const m=l._reversePixels?Mve:Xd;if(r){if(n._sharedOptions){const d=i[0],p=typeof d.getRange=="function"&&d.getRange(s);if(p){const x=m(i,s,a-p),j=m(i,s,a+p);return{lo:x.lo,hi:j.hi}}}}else{const d=m(i,s,a);if(c){const{vScale:p}=n._cachedMeta,{_parsed:x}=t,j=x.slice(0,d.lo+1).reverse().findIndex(S=>!xa(S[p.axis]));d.lo-=Math.max(0,j);const _=x.slice(d.hi).findIndex(S=>!xa(S[p.axis]));d.hi+=Math.max(0,_)}return d}}return{lo:0,hi:i.length-1}}function l1(t,s,a,r,n){const i=t.getSortedVisibleDatasetMetas(),o=a[s];for(let l=0,c=i.length;l<c;++l){const{index:m,data:d}=i[l],{lo:p,hi:x}=pje(i[l],s,o,n);for(let j=p;j<=x;++j){const _=d[j];_.skip||r(_,m,j)}}}function hje(t){const s=t.indexOf("x")!==-1,a=t.indexOf("y")!==-1;return function(r,n){const i=s?Math.abs(r.x-n.x):0,o=a?Math.abs(r.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function $N(t,s,a,r,n){const i=[];return!n&&!t.isPointInArea(s)||l1(t,a,s,function(l,c,m){!n&&!Ux(l,t.chartArea,0)||l.inRange(s.x,s.y,r)&&i.push({element:l,datasetIndex:c,index:m})},!0),i}function fje(t,s,a,r){let n=[];function i(o,l,c){const{startAngle:m,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:p}=YO(o,{x:s.x,y:s.y});Bx(p,m,d)&&n.push({element:o,datasetIndex:l,index:c})}return l1(t,a,s,i),n}function xje(t,s,a,r,n,i){let o=[];const l=hje(a);let c=Number.POSITIVE_INFINITY;function m(d,p,x){const j=d.inRange(s.x,s.y,n);if(r&&!j)return;const _=d.getCenterPoint(n);if(!(!!i||t.isPointInArea(_))&&!j)return;const v=l(s,_);v<c?(o=[{element:d,datasetIndex:p,index:x}],c=v):v===c&&o.push({element:d,datasetIndex:p,index:x})}return l1(t,a,s,m),o}function zN(t,s,a,r,n,i){return!i&&!t.isPointInArea(s)?[]:a==="r"&&!r?fje(t,s,a,n):xje(t,s,a,r,n,i)}function xM(t,s,a,r,n){const i=[],o=a==="x"?"inXRange":"inYRange";let l=!1;return l1(t,a,s,(c,m,d)=>{c[o]&&c[o](s[a],n)&&(i.push({element:c,datasetIndex:m,index:d}),l=l||c.inRange(s.x,s.y,n))}),r&&!l?[]:i}var gje={modes:{index(t,s,a,r){const n=qd(s,t),i=a.axis||"x",o=a.includeInvisible||!1,l=a.intersect?$N(t,n,i,r,o):zN(t,n,i,!1,r,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const d=l[0].index,p=m.data[d];p&&!p.skip&&c.push({element:p,datasetIndex:m.index,index:d})}),c):[]},dataset(t,s,a,r){const n=qd(s,t),i=a.axis||"xy",o=a.includeInvisible||!1;let l=a.intersect?$N(t,n,i,r,o):zN(t,n,i,!1,r,o);if(l.length>0){const c=l[0].datasetIndex,m=t.getDatasetMeta(c).data;l=[];for(let d=0;d<m.length;++d)l.push({element:m[d],datasetIndex:c,index:d})}return l},point(t,s,a,r){const n=qd(s,t),i=a.axis||"xy",o=a.includeInvisible||!1;return $N(t,n,i,r,o)},nearest(t,s,a,r){const n=qd(s,t),i=a.axis||"xy",o=a.includeInvisible||!1;return zN(t,n,i,a.intersect,r,o)},x(t,s,a,r){const n=qd(s,t);return xM(t,n,"x",a.intersect,r)},y(t,s,a,r){const n=qd(s,t);return xM(t,n,"y",a.intersect,r)}}};const fF=["left","top","right","bottom"];function ef(t,s){return t.filter(a=>a.pos===s)}function gM(t,s){return t.filter(a=>fF.indexOf(a.pos)===-1&&a.box.axis===s)}function tf(t,s){return t.sort((a,r)=>{const n=s?r:a,i=s?a:r;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function bje(t){const s=[];let a,r,n,i,o,l;for(a=0,r=(t||[]).length;a<r;++a)n=t[a],{position:i,options:{stack:o,stackWeight:l=1}}=n,s.push({index:a,box:n,pos:i,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&i+o,stackWeight:l});return s}function yje(t){const s={};for(const a of t){const{stack:r,pos:n,stackWeight:i}=a;if(!r||!fF.includes(n))continue;const o=s[r]||(s[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return s}function vje(t,s){const a=yje(t),{vBoxMaxWidth:r,hBoxMaxHeight:n}=s;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:c}=l.box,m=a[l.stack],d=m&&l.stackWeight/m.weight;l.horizontal?(l.width=d?d*r:c&&s.availableWidth,l.height=n):(l.width=r,l.height=d?d*n:c&&s.availableHeight)}return a}function jje(t){const s=bje(t),a=tf(s.filter(m=>m.box.fullSize),!0),r=tf(ef(s,"left"),!0),n=tf(ef(s,"right")),i=tf(ef(s,"top"),!0),o=tf(ef(s,"bottom")),l=gM(s,"x"),c=gM(s,"y");return{fullSize:a,leftAndTop:r.concat(i),rightAndBottom:n.concat(c).concat(o).concat(l),chartArea:ef(s,"chartArea"),vertical:r.concat(n).concat(c),horizontal:i.concat(o).concat(l)}}function bM(t,s,a,r){return Math.max(t[a],s[a])+Math.max(t[r],s[r])}function xF(t,s){t.top=Math.max(t.top,s.top),t.left=Math.max(t.left,s.left),t.bottom=Math.max(t.bottom,s.bottom),t.right=Math.max(t.right,s.right)}function Nje(t,s,a,r){const{pos:n,box:i}=a,o=t.maxPadding;if(!sa(n)){a.size&&(t[n]-=a.size);const p=r[a.stack]||{size:0,count:1};p.size=Math.max(p.size,a.horizontal?i.height:i.width),a.size=p.size/p.count,t[n]+=a.size}i.getPadding&&xF(o,i.getPadding());const l=Math.max(0,s.outerWidth-bM(o,t,"left","right")),c=Math.max(0,s.outerHeight-bM(o,t,"top","bottom")),m=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,a.horizontal?{same:m,other:d}:{same:d,other:m}}function _je(t){const s=t.maxPadding;function a(r){const n=Math.max(s[r]-t[r],0);return t[r]+=n,n}t.y+=a("top"),t.x+=a("left"),a("right"),a("bottom")}function wje(t,s){const a=s.maxPadding;function r(n){const i={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{i[o]=Math.max(s[o],a[o])}),i}return r(t?["left","right"]:["top","bottom"])}function bf(t,s,a,r){const n=[];let i,o,l,c,m,d;for(i=0,o=t.length,m=0;i<o;++i){l=t[i],c=l.box,c.update(l.width||s.w,l.height||s.h,wje(l.horizontal,s));const{same:p,other:x}=Nje(s,a,l,r);m|=p&&n.length,d=d||x,c.fullSize||n.push(l)}return m&&bf(n,s,a,r)||d}function Eb(t,s,a,r,n){t.top=a,t.left=s,t.right=s+r,t.bottom=a+n,t.width=r,t.height=n}function yM(t,s,a,r){const n=a.padding;let{x:i,y:o}=s;for(const l of t){const c=l.box,m=r[l.stack]||{placed:0,weight:1},d=l.stackWeight/m.weight||1;if(l.horizontal){const p=s.w*d,x=m.size||c.height;zx(m.start)&&(o=m.start),c.fullSize?Eb(c,n.left,o,a.outerWidth-n.right-n.left,x):Eb(c,s.left+m.placed,o,p,x),m.start=o,m.placed+=p,o=c.bottom}else{const p=s.h*d,x=m.size||c.width;zx(m.start)&&(i=m.start),c.fullSize?Eb(c,i,n.top,x,a.outerHeight-n.bottom-n.top):Eb(c,i,s.top+m.placed,x,p),m.start=i,m.placed+=p,i=c.right}}s.x=i,s.y=o}var Hi={addBox(t,s){t.boxes||(t.boxes=[]),s.fullSize=s.fullSize||!1,s.position=s.position||"top",s.weight=s.weight||0,s._layers=s._layers||function(){return[{z:0,draw(a){s.draw(a)}}]},t.boxes.push(s)},removeBox(t,s){const a=t.boxes?t.boxes.indexOf(s):-1;a!==-1&&t.boxes.splice(a,1)},configure(t,s,a){s.fullSize=a.fullSize,s.position=a.position,s.weight=a.weight},update(t,s,a,r){if(!t)return;const n=ro(t.options.layout.padding),i=Math.max(s-n.width,0),o=Math.max(a-n.height,0),l=jje(t.boxes),c=l.vertical,m=l.horizontal;wa(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const d=c.reduce((S,v)=>v.box.options&&v.box.options.display===!1?S:S+1,0)||1,p=Object.freeze({outerWidth:s,outerHeight:a,padding:n,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),x=Object.assign({},n);xF(x,ro(r));const j=Object.assign({maxPadding:x,w:i,h:o,x:n.left,y:n.top},n),_=vje(c.concat(m),p);bf(l.fullSize,j,p,_),bf(c,j,p,_),bf(m,j,p,_)&&bf(c,j,p,_),_je(j),yM(l.leftAndTop,j,p,_),j.x+=j.w,j.y+=j.h,yM(l.rightAndBottom,j,p,_),t.chartArea={left:j.left,top:j.top,right:j.left+j.w,bottom:j.top+j.h,height:j.h,width:j.w},wa(l.chartArea,S=>{const v=S.box;Object.assign(v,t.chartArea),v.update(j.w,j.h,{left:0,top:0,right:0,bottom:0})})}};class gF{acquireContext(s,a){}releaseContext(s){return!1}addEventListener(s,a,r){}removeEventListener(s,a,r){}getDevicePixelRatio(){return 1}getMaximumSize(s,a,r,n){return a=Math.max(0,a||s.width),r=r||s.height,{width:a,height:Math.max(0,n?Math.floor(a/n):r)}}isAttached(s){return!0}updateConfig(s){}}class Sje extends gF{acquireContext(s){return s&&s.getContext&&s.getContext("2d")||null}updateConfig(s){s.options.animation=!1}}const iy="$chartjs",Cje={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vM=t=>t===null||t==="";function Pje(t,s){const a=t.style,r=t.getAttribute("height"),n=t.getAttribute("width");if(t[iy]={initial:{height:r,width:n,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",vM(n)){const i=aM(t,"width");i!==void 0&&(t.width=i)}if(vM(r))if(t.style.height==="")t.height=t.width/(s||2);else{const i=aM(t,"height");i!==void 0&&(t.height=i)}return t}const bF=C1e?{passive:!0}:!1;function kje(t,s,a){t&&t.addEventListener(s,a,bF)}function Eje(t,s,a){t&&t.canvas&&t.canvas.removeEventListener(s,a,bF)}function Tje(t,s){const a=Cje[t.type]||t.type,{x:r,y:n}=qd(t,s);return{type:a,chart:s,native:t,x:r!==void 0?r:null,y:n!==void 0?n:null}}function Vy(t,s){for(const a of t)if(a===s||a.contains(s))return!0}function Mje(t,s,a){const r=t.canvas,n=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Vy(l.addedNodes,r),o=o&&!Vy(l.removedNodes,r);o&&a()});return n.observe(document,{childList:!0,subtree:!0}),n}function Dje(t,s,a){const r=t.canvas,n=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Vy(l.removedNodes,r),o=o&&!Vy(l.addedNodes,r);o&&a()});return n.observe(document,{childList:!0,subtree:!0}),n}const Hx=new Map;let jM=0;function yF(){const t=window.devicePixelRatio;t!==jM&&(jM=t,Hx.forEach((s,a)=>{a.currentDevicePixelRatio!==t&&s()}))}function Rje(t,s){Hx.size||window.addEventListener("resize",yF),Hx.set(t,s)}function Aje(t){Hx.delete(t),Hx.size||window.removeEventListener("resize",yF)}function Ije(t,s,a){const r=t.canvas,n=r&&ZS(r);if(!n)return;const i=ZO((l,c)=>{const m=n.clientWidth;a(l,c),m<n.clientWidth&&a()},window),o=new ResizeObserver(l=>{const c=l[0],m=c.contentRect.width,d=c.contentRect.height;m===0&&d===0||i(m,d)});return o.observe(n),Rje(t,i),o}function qN(t,s,a){a&&a.disconnect(),s==="resize"&&Aje(t)}function Oje(t,s,a){const r=t.canvas,n=ZO(i=>{t.ctx!==null&&a(Tje(i,t))},t);return kje(r,s,n),n}class Fje extends gF{acquireContext(s,a){const r=s&&s.getContext&&s.getContext("2d");return r&&r.canvas===s?(Pje(s,a),r):null}releaseContext(s){const a=s.canvas;if(!a[iy])return!1;const r=a[iy].initial;["height","width"].forEach(i=>{const o=r[i];xa(o)?a.removeAttribute(i):a.setAttribute(i,o)});const n=r.style||{};return Object.keys(n).forEach(i=>{a.style[i]=n[i]}),a.width=a.width,delete a[iy],!0}addEventListener(s,a,r){this.removeEventListener(s,a);const n=s.$proxies||(s.$proxies={}),o={attach:Mje,detach:Dje,resize:Ije}[a]||Oje;n[a]=o(s,a,r)}removeEventListener(s,a){const r=s.$proxies||(s.$proxies={}),n=r[a];if(!n)return;({attach:qN,detach:qN,resize:qN}[a]||Eje)(s,a,n),r[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(s,a,r,n){return S1e(s,a,r,n)}isAttached(s){const a=s&&ZS(s);return!!(a&&a.isConnected)}}function Lje(t){return!QS()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Sje:Fje}let tc=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(s){const{x:a,y:r}=this.getProps(["x","y"],s);return{x:a,y:r}}hasValue(){return qx(this.x)&&qx(this.y)}getProps(s,a){const r=this.$animations;if(!a||!r)return this;const n={};return s.forEach(i=>{n[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),n}};function $je(t,s){const a=t.options.ticks,r=zje(t),n=Math.min(a.maxTicksLimit||r,r),i=a.major.enabled?Bje(s):[],o=i.length,l=i[0],c=i[o-1],m=[];if(o>n)return Uje(s,m,i,o/n),m;const d=qje(i,s,n);if(o>0){let p,x;const j=o>1?Math.round((c-l)/(o-1)):null;for(Tb(s,m,d,xa(j)?0:l-j,l),p=0,x=o-1;p<x;p++)Tb(s,m,d,i[p],i[p+1]);return Tb(s,m,d,c,xa(j)?s.length:c+j),m}return Tb(s,m,d),m}function zje(t){const s=t.options.offset,a=t._tickSize(),r=t._length/a+(s?0:1),n=t._maxLength/a;return Math.floor(Math.min(r,n))}function qje(t,s,a){const r=Vje(t),n=s.length/a;if(!r)return Math.max(n,1);const i=wve(r);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>n)return c}return Math.max(n,1)}function Bje(t){const s=[];let a,r;for(a=0,r=t.length;a<r;a++)t[a].major&&s.push(a);return s}function Uje(t,s,a,r){let n=0,i=a[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(s.push(t[o]),n++,i=a[n*r])}function Tb(t,s,a,r,n){const i=Bs(r,0),o=Math.min(Bs(n,t.length),t.length);let l=0,c,m,d;for(a=Math.ceil(a),n&&(c=n-r,a=c/Math.floor(c/a)),d=i;d<0;)l++,d=Math.round(i+l*a);for(m=Math.max(i,0);m<o;m++)m===d&&(s.push(t[m]),l++,d=Math.round(i+l*a))}function Vje(t){const s=t.length;let a,r;if(s<2)return!1;for(r=t[0],a=1;a<s;++a)if(t[a]-t[a-1]!==r)return!1;return r}const Hje=t=>t==="left"?"right":t==="right"?"left":t,NM=(t,s,a)=>s==="top"||s==="left"?t[s]+a:t[s]-a,_M=(t,s)=>Math.min(s||t,t);function wM(t,s){const a=[],r=t.length/s,n=t.length;let i=0;for(;i<n;i+=r)a.push(t[Math.floor(i)]);return a}function Wje(t,s,a){const r=t.ticks.length,n=Math.min(s,r-1),i=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(n),m;if(!(a&&(r===1?m=Math.max(c-i,o-c):s===0?m=(t.getPixelForTick(1)-c)/2:m=(c-t.getPixelForTick(n-1))/2,c+=n<s?m:-m,c<i-l||c>o+l)))return c}function Yje(t,s){wa(t,a=>{const r=a.gc,n=r.length/2;let i;if(n>s){for(i=0;i<n;++i)delete a.data[r[i]];r.splice(0,n)}})}function sf(t){return t.drawTicks?t.tickLength:0}function SM(t,s){if(!t.display)return 0;const a=dn(t.font,s),r=ro(t.padding);return(Sr(t.text)?t.text.length:1)*a.lineHeight+r.height}function Gje(t,s){return Eu(t,{scale:s,type:"scale"})}function Kje(t,s,a){return Eu(t,{tick:a,index:s,type:"tick"})}function Qje(t,s,a){let r=US(t);return(a&&s!=="right"||!a&&s==="right")&&(r=Hje(r)),r}function Zje(t,s,a,r){const{top:n,left:i,bottom:o,right:l,chart:c}=t,{chartArea:m,scales:d}=c;let p=0,x,j,_;const S=o-n,v=l-i;if(t.isHorizontal()){if(j=an(r,i,l),sa(a)){const y=Object.keys(a)[0],N=a[y];_=d[y].getPixelForValue(N)+S-s}else a==="center"?_=(m.bottom+m.top)/2+S-s:_=NM(t,a,s);x=l-i}else{if(sa(a)){const y=Object.keys(a)[0],N=a[y];j=d[y].getPixelForValue(N)-v+s}else a==="center"?j=(m.left+m.right)/2-v+s:j=NM(t,a,s);_=an(r,o,n),p=a==="left"?-Mr:Mr}return{titleX:j,titleY:_,maxWidth:x,rotation:p}}class Ip extends tc{constructor(s){super(),this.id=s.id,this.type=s.type,this.options=void 0,this.ctx=s.ctx,this.chart=s.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(s){this.options=s.setContext(this.getContext()),this.axis=s.axis,this._userMin=this.parse(s.min),this._userMax=this.parse(s.max),this._suggestedMin=this.parse(s.suggestedMin),this._suggestedMax=this.parse(s.suggestedMax)}parse(s,a){return s}getUserBounds(){let{_userMin:s,_userMax:a,_suggestedMin:r,_suggestedMax:n}=this;return s=Ao(s,Number.POSITIVE_INFINITY),a=Ao(a,Number.NEGATIVE_INFINITY),r=Ao(r,Number.POSITIVE_INFINITY),n=Ao(n,Number.NEGATIVE_INFINITY),{min:Ao(s,r),max:Ao(a,n),minDefined:pn(s),maxDefined:pn(a)}}getMinMax(s){let{min:a,max:r,minDefined:n,maxDefined:i}=this.getUserBounds(),o;if(n&&i)return{min:a,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,m=l.length;c<m;++c)o=l[c].controller.getMinMax(this,s),n||(a=Math.min(a,o.min)),i||(r=Math.max(r,o.max));return a=i&&a>r?r:a,r=n&&a>r?a:r,{min:Ao(a,Ao(r,a)),max:Ao(r,Ao(a,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const s=this.chart.data;return this.options.labels||(this.isHorizontal()?s.xLabels:s.yLabels)||s.labels||[]}getLabelItems(s=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(s))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){qa(this.options.beforeUpdate,[this])}update(s,a,r){const{beginAtZero:n,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=s,this.maxHeight=a,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=a1e(this,i,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?wM(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=$je(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let s=this.options.reverse,a,r;this.isHorizontal()?(a=this.left,r=this.right):(a=this.top,r=this.bottom,s=!s),this._startPixel=a,this._endPixel=r,this._reversePixels=s,this._length=r-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){qa(this.options.afterUpdate,[this])}beforeSetDimensions(){qa(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){qa(this.options.afterSetDimensions,[this])}_callHooks(s){this.chart.notifyPlugins(s,this.getContext()),qa(this.options[s],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){qa(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(s){const a=this.options.ticks;let r,n,i;for(r=0,n=s.length;r<n;r++)i=s[r],i.label=qa(a.callback,[i.value,r,s],this)}afterTickToLabelConversion(){qa(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){qa(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const s=this.options,a=s.ticks,r=_M(this.ticks.length,s.ticks.maxTicksLimit),n=a.minRotation||0,i=a.maxRotation;let o=n,l,c,m;if(!this._isVisible()||!a.display||n>=i||r<=1||!this.isHorizontal()){this.labelRotation=n;return}const d=this._getLabelSizes(),p=d.widest.width,x=d.highest.height,j=cn(this.chart.width-p,0,this.maxWidth);l=s.offset?this.maxWidth/r:j/(r-1),p+6>l&&(l=j/(r-(s.offset?.5:1)),c=this.maxHeight-sf(s.grid)-a.padding-SM(s.title,this.chart.options.font),m=Math.sqrt(p*p+x*x),o=kve(Math.min(Math.asin(cn((d.highest.height+6)/l,-1,1)),Math.asin(cn(c/m,-1,1))-Math.asin(cn(x/m,-1,1)))),o=Math.max(n,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){qa(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){qa(this.options.beforeFit,[this])}fit(){const s={width:0,height:0},{chart:a,options:{ticks:r,title:n,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=SM(n,a.options.font);if(l?(s.width=this.maxWidth,s.height=sf(i)+c):(s.height=this.maxHeight,s.width=sf(i)+c),r.display&&this.ticks.length){const{first:m,last:d,widest:p,highest:x}=this._getLabelSizes(),j=r.padding*2,_=zl(this.labelRotation),S=Math.cos(_),v=Math.sin(_);if(l){const y=r.mirror?0:v*p.width+S*x.height;s.height=Math.min(this.maxHeight,s.height+y+j)}else{const y=r.mirror?0:S*p.width+v*x.height;s.width=Math.min(this.maxWidth,s.width+y+j)}this._calculatePadding(m,d,v,S)}}this._handleMargins(),l?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=s.height):(this.width=s.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(s,a,r,n){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,m=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,j=0;c?m?(x=n*s.width,j=r*a.height):(x=r*s.height,j=n*a.width):i==="start"?j=a.width:i==="end"?x=s.width:i!=="inner"&&(x=s.width/2,j=a.width/2),this.paddingLeft=Math.max((x-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((j-p+o)*this.width/(this.width-p),0)}else{let d=a.height/2,p=s.height/2;i==="start"?(d=0,p=s.height):i==="end"&&(d=a.height,p=0),this.paddingTop=d+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){qa(this.options.afterFit,[this])}isHorizontal(){const{axis:s,position:a}=this.options;return a==="top"||a==="bottom"||s==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(s){this.beforeTickToLabelConversion(),this.generateTickLabels(s);let a,r;for(a=0,r=s.length;a<r;a++)xa(s[a].label)&&(s.splice(a,1),r--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let s=this._labelSizes;if(!s){const a=this.options.ticks.sampleSize;let r=this.ticks;a<r.length&&(r=wM(r,a)),this._labelSizes=s=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return s}_computeLabelSizes(s,a,r){const{ctx:n,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(a/_M(a,r));let m=0,d=0,p,x,j,_,S,v,y,N,C,P,E;for(p=0;p<a;p+=c){if(_=s[p].label,S=this._resolveTickFontOptions(p),n.font=v=S.string,y=i[v]=i[v]||{data:{},gc:[]},N=S.lineHeight,C=P=0,!xa(_)&&!Sr(_))C=X8(n,y.data,y.gc,C,_),P=N;else if(Sr(_))for(x=0,j=_.length;x<j;++x)E=_[x],!xa(E)&&!Sr(E)&&(C=X8(n,y.data,y.gc,C,E),P+=N);o.push(C),l.push(P),m=Math.max(C,m),d=Math.max(P,d)}Yje(i,a);const D=o.indexOf(m),T=l.indexOf(d),A=I=>({width:o[I]||0,height:l[I]||0});return{first:A(0),last:A(a-1),widest:A(D),highest:A(T),widths:o,heights:l}}getLabelForValue(s){return s}getPixelForValue(s,a){return NaN}getValueForPixel(s){}getPixelForTick(s){const a=this.ticks;return s<0||s>a.length-1?null:this.getPixelForValue(a[s].value)}getPixelForDecimal(s){this._reversePixels&&(s=1-s);const a=this._startPixel+s*this._length;return Tve(this._alignToPixels?Id(this.chart,a,0):a)}getDecimalForPixel(s){const a=(s-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:s,max:a}=this;return s<0&&a<0?a:s>0&&a>0?s:0}getContext(s){const a=this.ticks||[];if(s>=0&&s<a.length){const r=a[s];return r.$context||(r.$context=Kje(this.getContext(),s,r))}return this.$context||(this.$context=Gje(this.chart.getContext(),this))}_tickSize(){const s=this.options.ticks,a=zl(this.labelRotation),r=Math.abs(Math.cos(a)),n=Math.abs(Math.sin(a)),i=this._getLabelSizes(),o=s.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*r>l*n?l/r:c/n:c*n<l*r?c/r:l/n}_isVisible(){const s=this.options.display;return s!=="auto"?!!s:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(s){const a=this.axis,r=this.chart,n=this.options,{grid:i,position:o,border:l}=n,c=i.offset,m=this.isHorizontal(),p=this.ticks.length+(c?1:0),x=sf(i),j=[],_=l.setContext(this.getContext()),S=_.display?_.width:0,v=S/2,y=function(q){return Id(r,q,S)};let N,C,P,E,D,T,A,I,F,z,O,K;if(o==="top")N=y(this.bottom),T=this.bottom-x,I=N-v,z=y(s.top)+v,K=s.bottom;else if(o==="bottom")N=y(this.top),z=s.top,K=y(s.bottom)-v,T=N+v,I=this.top+x;else if(o==="left")N=y(this.right),D=this.right-x,A=N-v,F=y(s.left)+v,O=s.right;else if(o==="right")N=y(this.left),F=s.left,O=y(s.right)-v,D=N+v,A=this.left+x;else if(a==="x"){if(o==="center")N=y((s.top+s.bottom)/2+.5);else if(sa(o)){const q=Object.keys(o)[0],H=o[q];N=y(this.chart.scales[q].getPixelForValue(H))}z=s.top,K=s.bottom,T=N+v,I=T+x}else if(a==="y"){if(o==="center")N=y((s.left+s.right)/2);else if(sa(o)){const q=Object.keys(o)[0],H=o[q];N=y(this.chart.scales[q].getPixelForValue(H))}D=N-v,A=D-x,F=s.left,O=s.right}const W=Bs(n.ticks.maxTicksLimit,p),B=Math.max(1,Math.ceil(p/W));for(C=0;C<p;C+=B){const q=this.getContext(C),H=i.setContext(q),Q=l.setContext(q),V=H.lineWidth,M=H.color,R=Q.dash||[],$=Q.dashOffset,Y=H.tickWidth,J=H.tickColor,te=H.tickBorderDash||[],ee=H.tickBorderDashOffset;P=Wje(this,C,c),P!==void 0&&(E=Id(r,P,V),m?D=A=F=O=E:T=I=z=K=E,j.push({tx1:D,ty1:T,tx2:A,ty2:I,x1:F,y1:z,x2:O,y2:K,width:V,color:M,borderDash:R,borderDashOffset:$,tickWidth:Y,tickColor:J,tickBorderDash:te,tickBorderDashOffset:ee}))}return this._ticksLength=p,this._borderValue=N,j}_computeLabelItems(s){const a=this.axis,r=this.options,{position:n,ticks:i}=r,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:m,padding:d,mirror:p}=i,x=sf(r.grid),j=x+d,_=p?-d:j,S=-zl(this.labelRotation),v=[];let y,N,C,P,E,D,T,A,I,F,z,O,K="middle";if(n==="top")D=this.bottom-_,T=this._getXAxisLabelAlignment();else if(n==="bottom")D=this.top+_,T=this._getXAxisLabelAlignment();else if(n==="left"){const B=this._getYAxisLabelAlignment(x);T=B.textAlign,E=B.x}else if(n==="right"){const B=this._getYAxisLabelAlignment(x);T=B.textAlign,E=B.x}else if(a==="x"){if(n==="center")D=(s.top+s.bottom)/2+j;else if(sa(n)){const B=Object.keys(n)[0],q=n[B];D=this.chart.scales[B].getPixelForValue(q)+j}T=this._getXAxisLabelAlignment()}else if(a==="y"){if(n==="center")E=(s.left+s.right)/2-j;else if(sa(n)){const B=Object.keys(n)[0],q=n[B];E=this.chart.scales[B].getPixelForValue(q)}T=this._getYAxisLabelAlignment(x).textAlign}a==="y"&&(c==="start"?K="top":c==="end"&&(K="bottom"));const W=this._getLabelSizes();for(y=0,N=l.length;y<N;++y){C=l[y],P=C.label;const B=i.setContext(this.getContext(y));A=this.getPixelForTick(y)+i.labelOffset,I=this._resolveTickFontOptions(y),F=I.lineHeight,z=Sr(P)?P.length:1;const q=z/2,H=B.color,Q=B.textStrokeColor,V=B.textStrokeWidth;let M=T;o?(E=A,T==="inner"&&(y===N-1?M=this.options.reverse?"left":"right":y===0?M=this.options.reverse?"right":"left":M="center"),n==="top"?m==="near"||S!==0?O=-z*F+F/2:m==="center"?O=-W.highest.height/2-q*F+F:O=-W.highest.height+F/2:m==="near"||S!==0?O=F/2:m==="center"?O=W.highest.height/2-q*F:O=W.highest.height-z*F,p&&(O*=-1),S!==0&&!B.showLabelBackdrop&&(E+=F/2*Math.sin(S))):(D=A,O=(1-z)*F/2);let R;if(B.showLabelBackdrop){const $=ro(B.backdropPadding),Y=W.heights[y],J=W.widths[y];let te=O-$.top,ee=0-$.left;switch(K){case"middle":te-=Y/2;break;case"bottom":te-=Y;break}switch(T){case"center":ee-=J/2;break;case"right":ee-=J;break;case"inner":y===N-1?ee-=J:y>0&&(ee-=J/2);break}R={left:ee,top:te,width:J+$.width,height:Y+$.height,color:B.backdropColor}}v.push({label:P,font:I,textOffset:O,options:{rotation:S,color:H,strokeColor:Q,strokeWidth:V,textAlign:M,textBaseline:K,translation:[E,D],backdrop:R}})}return v}_getXAxisLabelAlignment(){const{position:s,ticks:a}=this.options;if(-zl(this.labelRotation))return s==="top"?"left":"right";let n="center";return a.align==="start"?n="left":a.align==="end"?n="right":a.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(s){const{position:a,ticks:{crossAlign:r,mirror:n,padding:i}}=this.options,o=this._getLabelSizes(),l=s+i,c=o.widest.width;let m,d;return a==="left"?n?(d=this.right+i,r==="near"?m="left":r==="center"?(m="center",d+=c/2):(m="right",d+=c)):(d=this.right-l,r==="near"?m="right":r==="center"?(m="center",d-=c/2):(m="left",d=this.left)):a==="right"?n?(d=this.left+i,r==="near"?m="right":r==="center"?(m="center",d-=c/2):(m="left",d-=c)):(d=this.left+l,r==="near"?m="left":r==="center"?(m="center",d+=c/2):(m="right",d=this.right)):m="right",{textAlign:m,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const s=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:s.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:s.width}}drawBackground(){const{ctx:s,options:{backgroundColor:a},left:r,top:n,width:i,height:o}=this;a&&(s.save(),s.fillStyle=a,s.fillRect(r,n,i,o),s.restore())}getLineWidthForValue(s){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const n=this.ticks.findIndex(i=>i.value===s);return n>=0?a.setContext(this.getContext(n)).lineWidth:0}drawGrid(s){const a=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(s));let i,o;const l=(c,m,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(m.x,m.y),r.stroke(),r.restore())};if(a.display)for(i=0,o=n.length;i<o;++i){const c=n[i];a.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),a.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:s,ctx:a,options:{border:r,grid:n}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const l=n.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let m,d,p,x;this.isHorizontal()?(m=Id(s,this.left,o)-o/2,d=Id(s,this.right,l)+l/2,p=x=c):(p=Id(s,this.top,o)-o/2,x=Id(s,this.bottom,l)+l/2,m=d=c),a.save(),a.lineWidth=i.width,a.strokeStyle=i.color,a.beginPath(),a.moveTo(m,p),a.lineTo(d,x),a.stroke(),a.restore()}drawLabels(s){if(!this.options.ticks.display)return;const r=this.ctx,n=this._computeLabelArea();n&&r1(r,n);const i=this.getLabelItems(s);for(const o of i){const l=o.options,c=o.font,m=o.label,d=o.textOffset;Vx(r,m,0,d,c,l)}n&&n1(r)}drawTitle(){const{ctx:s,options:{position:a,title:r,reverse:n}}=this;if(!r.display)return;const i=dn(r.font),o=ro(r.padding),l=r.align;let c=i.lineHeight/2;a==="bottom"||a==="center"||sa(a)?(c+=o.bottom,Sr(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=o.top;const{titleX:m,titleY:d,maxWidth:p,rotation:x}=Zje(this,c,a,l);Vx(s,r.text,0,0,i,{color:r.color,maxWidth:p,rotation:x,textAlign:Qje(l,a,n),textBaseline:"middle",translation:[m,d]})}draw(s){this._isVisible()&&(this.drawBackground(),this.drawGrid(s),this.drawBorder(),this.drawTitle(),this.drawLabels(s))}_layers(){const s=this.options,a=s.ticks&&s.ticks.z||0,r=Bs(s.grid&&s.grid.z,-1),n=Bs(s.border&&s.border.z,0);return!this._isVisible()||this.draw!==Ip.prototype.draw?[{z:a,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:a,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(s){const a=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let i,o;for(i=0,o=a.length;i<o;++i){const l=a[i];l[r]===this.id&&(!s||l.type===s)&&n.push(l)}return n}_resolveTickFontOptions(s){const a=this.options.ticks.setContext(this.getContext(s));return dn(a.font)}_maxDigits(){const s=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/s}}class Mb{constructor(s,a,r){this.type=s,this.scope=a,this.override=r,this.items=Object.create(null)}isForType(s){return Object.prototype.isPrototypeOf.call(this.type.prototype,s.prototype)}register(s){const a=Object.getPrototypeOf(s);let r;e2e(a)&&(r=this.register(a));const n=this.items,i=s.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+s);return i in n||(n[i]=s,Xje(s,o,r),this.override&&xr.override(s.id,s.overrides)),o}get(s){return this.items[s]}unregister(s){const a=this.items,r=s.id,n=this.scope;r in a&&delete a[r],n&&r in xr[n]&&(delete xr[n][r],this.override&&delete bu[r])}}function Xje(t,s,a){const r=$x(Object.create(null),[a?xr.get(a):{},xr.get(s),t.defaults]);xr.set(s,r),t.defaultRoutes&&Jje(s,t.defaultRoutes),t.descriptors&&xr.describe(s,t.descriptors)}function Jje(t,s){Object.keys(s).forEach(a=>{const r=a.split("."),n=r.pop(),i=[t].concat(r).join("."),o=s[a].split("."),l=o.pop(),c=o.join(".");xr.route(i,n,c,l)})}function e2e(t){return"id"in t&&"defaults"in t}class t2e{constructor(){this.controllers=new Mb(o1,"datasets",!0),this.elements=new Mb(tc,"elements"),this.plugins=new Mb(Object,"plugins"),this.scales=new Mb(Ip,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...s){this._each("register",s)}remove(...s){this._each("unregister",s)}addControllers(...s){this._each("register",s,this.controllers)}addElements(...s){this._each("register",s,this.elements)}addPlugins(...s){this._each("register",s,this.plugins)}addScales(...s){this._each("register",s,this.scales)}getController(s){return this._get(s,this.controllers,"controller")}getElement(s){return this._get(s,this.elements,"element")}getPlugin(s){return this._get(s,this.plugins,"plugin")}getScale(s){return this._get(s,this.scales,"scale")}removeControllers(...s){this._each("unregister",s,this.controllers)}removeElements(...s){this._each("unregister",s,this.elements)}removePlugins(...s){this._each("unregister",s,this.plugins)}removeScales(...s){this._each("unregister",s,this.scales)}_each(s,a,r){[...a].forEach(n=>{const i=r||this._getRegistryForType(n);r||i.isForType(n)||i===this.plugins&&n.id?this._exec(s,i,n):wa(n,o=>{const l=r||this._getRegistryForType(o);this._exec(s,l,o)})})}_exec(s,a,r){const n=qS(s);qa(r["before"+n],[],r),a[s](r),qa(r["after"+n],[],r)}_getRegistryForType(s){for(let a=0;a<this._typedRegistries.length;a++){const r=this._typedRegistries[a];if(r.isForType(s))return r}return this.plugins}_get(s,a,r){const n=a.get(s);if(n===void 0)throw new Error('"'+s+'" is not a registered '+r+".");return n}}var Oo=new t2e;class s2e{constructor(){this._init=void 0}notify(s,a,r,n){if(a==="beforeInit"&&(this._init=this._createDescriptors(s,!0),this._notify(this._init,s,"install")),this._init===void 0)return;const i=n?this._descriptors(s).filter(n):this._descriptors(s),o=this._notify(i,s,a,r);return a==="afterDestroy"&&(this._notify(i,s,"stop"),this._notify(this._init,s,"uninstall"),this._init=void 0),o}_notify(s,a,r,n){n=n||{};for(const i of s){const o=i.plugin,l=o[r],c=[a,n,i.options];if(qa(l,c,o)===!1&&n.cancelable)return!1}return!0}invalidate(){xa(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(s){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(s);return this._notifyStateChanges(s),a}_createDescriptors(s,a){const r=s&&s.config,n=Bs(r.options&&r.options.plugins,{}),i=a2e(r);return n===!1&&!a?[]:n2e(s,i,n,a)}_notifyStateChanges(s){const a=this._oldCache||[],r=this._cache,n=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(n(a,r),s,"stop"),this._notify(n(r,a),s,"start")}}function a2e(t){const s={},a=[],r=Object.keys(Oo.plugins.items);for(let i=0;i<r.length;i++)a.push(Oo.getPlugin(r[i]));const n=t.plugins||[];for(let i=0;i<n.length;i++){const o=n[i];a.indexOf(o)===-1&&(a.push(o),s[o.id]=!0)}return{plugins:a,localIds:s}}function r2e(t,s){return!s&&t===!1?null:t===!0?{}:t}function n2e(t,{plugins:s,localIds:a},r,n){const i=[],o=t.getContext();for(const l of s){const c=l.id,m=r2e(r[c],n);m!==null&&i.push({plugin:l,options:i2e(t.config,{plugin:l,local:a[c]},m,o)})}return i}function i2e(t,{plugin:s,local:a},r,n){const i=t.pluginScopeKeys(s),o=t.getOptionScopes(r,i);return a&&s.defaults&&o.push(s.defaults),t.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Tw(t,s){const a=xr.datasets[t]||{};return((s.datasets||{})[t]||{}).indexAxis||s.indexAxis||a.indexAxis||"x"}function o2e(t,s){let a=t;return t==="_index_"?a=s:t==="_value_"&&(a=s==="x"?"y":"x"),a}function l2e(t,s){return t===s?"_index_":"_value_"}function CM(t){if(t==="x"||t==="y"||t==="r")return t}function c2e(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Mw(t,...s){if(CM(t))return t;for(const a of s){const r=a.axis||c2e(a.position)||t.length>1&&CM(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function PM(t,s,a){if(a[s+"AxisID"]===t)return{axis:s}}function d2e(t,s){if(s.data&&s.data.datasets){const a=s.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(a.length)return PM(t,"x",a[0])||PM(t,"y",a[0])}return{}}function u2e(t,s){const a=bu[t.type]||{scales:{}},r=s.scales||{},n=Tw(t.type,s),i=Object.create(null);return Object.keys(r).forEach(o=>{const l=r[o];if(!sa(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Mw(o,l,d2e(o,t),xr.scales[l.type]),m=l2e(c,n),d=a.scales||{};i[o]=ix(Object.create(null),[{axis:c},l,d[c],d[m]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||Tw(l,s),d=(bu[l]||{}).scales||{};Object.keys(d).forEach(p=>{const x=o2e(p,c),j=o[x+"AxisID"]||x;i[j]=i[j]||Object.create(null),ix(i[j],[{axis:x},r[j],d[p]])})}),Object.keys(i).forEach(o=>{const l=i[o];ix(l,[xr.scales[l.type],xr.scale])}),i}function vF(t){const s=t.options||(t.options={});s.plugins=Bs(s.plugins,{}),s.scales=u2e(t,s)}function jF(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function m2e(t){return t=t||{},t.data=jF(t.data),vF(t),t}const kM=new Map,NF=new Set;function Db(t,s){let a=kM.get(t);return a||(a=s(),kM.set(t,a),NF.add(a)),a}const af=(t,s,a)=>{const r=gu(s,a);r!==void 0&&t.add(r)};class p2e{constructor(s){this._config=m2e(s),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(s){this._config.type=s}get data(){return this._config.data}set data(s){this._config.data=jF(s)}get options(){return this._config.options}set options(s){this._config.options=s}get plugins(){return this._config.plugins}update(){const s=this._config;this.clearCache(),vF(s)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(s){return Db(s,()=>[[`datasets.${s}`,""]])}datasetAnimationScopeKeys(s,a){return Db(`${s}.transition.${a}`,()=>[[`datasets.${s}.transitions.${a}`,`transitions.${a}`],[`datasets.${s}`,""]])}datasetElementScopeKeys(s,a){return Db(`${s}-${a}`,()=>[[`datasets.${s}.elements.${a}`,`datasets.${s}`,`elements.${a}`,""]])}pluginScopeKeys(s){const a=s.id,r=this.type;return Db(`${r}-plugin-${a}`,()=>[[`plugins.${a}`,...s.additionalOptionScopes||[]]])}_cachedScopes(s,a){const r=this._scopeCache;let n=r.get(s);return(!n||a)&&(n=new Map,r.set(s,n)),n}getOptionScopes(s,a,r){const{options:n,type:i}=this,o=this._cachedScopes(s,r),l=o.get(a);if(l)return l;const c=new Set;a.forEach(d=>{s&&(c.add(s),d.forEach(p=>af(c,s,p))),d.forEach(p=>af(c,n,p)),d.forEach(p=>af(c,bu[i]||{},p)),d.forEach(p=>af(c,xr,p)),d.forEach(p=>af(c,kw,p))});const m=Array.from(c);return m.length===0&&m.push(Object.create(null)),NF.has(a)&&o.set(a,m),m}chartOptionScopes(){const{options:s,type:a}=this;return[s,bu[a]||{},xr.datasets[a]||{},{type:a},xr,kw]}resolveNamedOptions(s,a,r,n=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=EM(this._resolverCache,s,n);let c=o;if(f2e(o,a)){i.$shared=!1,r=Jc(r)?r():r;const m=this.createResolver(s,r,l);c=bp(o,r,m)}for(const m of a)i[m]=c[m];return i}createResolver(s,a,r=[""],n){const{resolver:i}=EM(this._resolverCache,s,r);return sa(a)?bp(i,a,void 0,n):i}}function EM(t,s,a){let r=t.get(s);r||(r=new Map,t.set(s,r));const n=a.join();let i=r.get(n);return i||(i={resolver:YS(s,a),subPrefixes:a.filter(l=>!l.toLowerCase().includes("hover"))},r.set(n,i)),i}const h2e=t=>sa(t)&&Object.getOwnPropertyNames(t).some(s=>Jc(t[s]));function f2e(t,s){const{isScriptable:a,isIndexable:r}=tF(t);for(const n of s){const i=a(n),o=r(n),l=(o||i)&&t[n];if(i&&(Jc(l)||h2e(l))||o&&Sr(l))return!0}return!1}var x2e="4.5.1";const g2e=["top","bottom","left","right","chartArea"];function TM(t,s){return t==="top"||t==="bottom"||g2e.indexOf(t)===-1&&s==="x"}function MM(t,s){return function(a,r){return a[t]===r[t]?a[s]-r[s]:a[t]-r[t]}}function DM(t){const s=t.chart,a=s.options.animation;s.notifyPlugins("afterRender"),qa(a&&a.onComplete,[t],s)}function b2e(t){const s=t.chart,a=s.options.animation;qa(a&&a.onProgress,[t],s)}function _F(t){return QS()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const oy={},RM=t=>{const s=_F(t);return Object.values(oy).filter(a=>a.canvas===s).pop()};function y2e(t,s,a){const r=Object.keys(t);for(const n of r){const i=+n;if(i>=s){const o=t[n];delete t[n],(a>0||i>s)&&(t[i+a]=o)}}}function v2e(t,s,a,r){return!a||t.type==="mouseout"?null:r?s:t}let c1=class{static defaults=xr;static instances=oy;static overrides=bu;static registry=Oo;static version=x2e;static getChart=RM;static register(...s){Oo.add(...s),AM()}static unregister(...s){Oo.remove(...s),AM()}constructor(s,a){const r=this.config=new p2e(a),n=_F(s),i=RM(n);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Lje(n)),this.platform.updateConfig(r);const l=this.platform.acquireContext(n,o.aspectRatio),c=l&&l.canvas,m=c&&c.height,d=c&&c.width;if(this.id=fve(),this.ctx=l,this.canvas=c,this.width=d,this.height=m,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new s2e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ave(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],oy[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ml.listen(this,"complete",DM),Ml.listen(this,"progress",b2e),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:s,maintainAspectRatio:a},width:r,height:n,_aspectRatio:i}=this;return xa(s)?a&&i?i:n?r/n:null:s}get data(){return this.config.data}set data(s){this.config.data=s}get options(){return this._options}set options(s){this.config.options=s}get registry(){return Oo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():sM(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return J8(this.canvas,this.ctx),this}stop(){return Ml.stop(this),this}resize(s,a){Ml.running(this)?this._resizeBeforeDraw={width:s,height:a}:this._resize(s,a)}_resize(s,a){const r=this.options,n=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,s,a,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,sM(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),qa(r.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const a=this.options.scales||{};wa(a,(r,n)=>{r.id=n})}buildOrUpdateScales(){const s=this.options,a=s.scales,r=this.scales,n=Object.keys(r).reduce((o,l)=>(o[l]=!1,o),{});let i=[];a&&(i=i.concat(Object.keys(a).map(o=>{const l=a[o],c=Mw(o,l),m=c==="r",d=c==="x";return{options:l,dposition:m?"chartArea":d?"bottom":"left",dtype:m?"radialLinear":d?"category":"linear"}}))),wa(i,o=>{const l=o.options,c=l.id,m=Mw(c,l),d=Bs(l.type,o.dtype);(l.position===void 0||TM(l.position,m)!==TM(o.dposition))&&(l.position=o.dposition),n[c]=!0;let p=null;if(c in r&&r[c].type===d)p=r[c];else{const x=Oo.getScale(d);p=new x({id:c,type:d,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(l,s)}),wa(n,(o,l)=>{o||delete r[l]}),wa(r,o=>{Hi.configure(this,o,o.options),Hi.addBox(this,o)})}_updateMetasets(){const s=this._metasets,a=this.data.datasets.length,r=s.length;if(s.sort((n,i)=>n.index-i.index),r>a){for(let n=a;n<r;++n)this._destroyDatasetMeta(n);s.splice(a,r-a)}this._sortedMetasets=s.slice(0).sort(MM("order","index"))}_removeUnreferencedMetasets(){const{_metasets:s,data:{datasets:a}}=this;s.length>a.length&&delete this._stacks,s.forEach((r,n)=>{a.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const s=[],a=this.data.datasets;let r,n;for(this._removeUnreferencedMetasets(),r=0,n=a.length;r<n;r++){const i=a[r];let o=this.getDatasetMeta(r);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=l,o.indexAxis=i.indexAxis||Tw(l,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const c=Oo.getController(l),{datasetElementType:m,dataElementType:d}=xr.datasets[l];Object.assign(c,{dataElementType:Oo.getElement(d),datasetElementType:m&&Oo.getElement(m)}),o.controller=new c(this,r),s.push(o.controller)}}return this._updateMetasets(),s}_resetElements(){wa(this.data.datasets,(s,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(s){const a=this.config;a.update();const r=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:s,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let m=0,d=this.data.datasets.length;m<d;m++){const{controller:p}=this.getDatasetMeta(m),x=!n&&i.indexOf(p)===-1;p.buildOrUpdateElements(x),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),n||wa(i,m=>{m.reset()}),this._updateDatasets(s),this.notifyPlugins("afterUpdate",{mode:s}),this._layers.sort(MM("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){wa(this.scales,s=>{Hi.removeBox(this,s)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const s=this.options,a=new Set(Object.keys(this._listeners)),r=new Set(s.events);(!U8(a,r)||!!this._responsiveListeners!==s.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:s}=this,a=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:i}of a){const o=r==="_removeElements"?-i:i;y2e(s,n,o)}}_getUniformDataChanges(){const s=this._dataChanges;if(!s||!s.length)return;this._dataChanges=[];const a=this.data.datasets.length,r=i=>new Set(s.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),n=r(0);for(let i=1;i<a;i++)if(!U8(n,r(i)))return;return Array.from(n).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(s){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Hi.update(this,this.width,this.height,s);const a=this.chartArea,r=a.width<=0||a.height<=0;this._layers=[],wa(this.boxes,n=>{r&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,i)=>{n._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(s){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:s,cancelable:!0})!==!1){for(let a=0,r=this.data.datasets.length;a<r;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,r=this.data.datasets.length;a<r;++a)this._updateDataset(a,Jc(s)?s({datasetIndex:a}):s);this.notifyPlugins("afterDatasetsUpdate",{mode:s})}}_updateDataset(s,a){const r=this.getDatasetMeta(s),n={meta:r,index:s,mode:a,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(r.controller._update(a),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ml.has(this)?this.attached&&!Ml.running(this)&&Ml.start(this):(this.draw(),DM({chart:this})))}draw(){let s;if(this._resizeBeforeDraw){const{width:r,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const a=this._layers;for(s=0;s<a.length&&a[s].z<=0;++s)a[s].draw(this.chartArea);for(this._drawDatasets();s<a.length;++s)a[s].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(s){const a=this._sortedMetasets,r=[];let n,i;for(n=0,i=a.length;n<i;++n){const o=a[n];(!s||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const s=this.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a)this._drawDataset(s[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(s){const a=this.ctx,r={meta:s,index:s.index,cancelable:!0},n=uF(this,s);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(n&&r1(a,n),s.controller.draw(),n&&n1(a),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(s){return Ux(s,this.chartArea,this._minPadding)}getElementsAtEventForMode(s,a,r,n){const i=gje.modes[a];return typeof i=="function"?i(this,s,r,n):[]}getDatasetMeta(s){const a=this.data.datasets[s],r=this._metasets;let n=r.filter(i=>i&&i._dataset===a).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:s,_dataset:a,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=Eu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(s){const a=this.data.datasets[s];if(!a)return!1;const r=this.getDatasetMeta(s);return typeof r.hidden=="boolean"?!r.hidden:!a.hidden}setDatasetVisibility(s,a){const r=this.getDatasetMeta(s);r.hidden=!a}toggleDataVisibility(s){this._hiddenIndices[s]=!this._hiddenIndices[s]}getDataVisibility(s){return!this._hiddenIndices[s]}_updateVisibility(s,a,r){const n=r?"show":"hide",i=this.getDatasetMeta(s),o=i.controller._resolveAnimations(void 0,n);zx(a)?(i.data[a].hidden=!r,this.update()):(this.setDatasetVisibility(s,r),o.update(i,{visible:r}),this.update(l=>l.datasetIndex===s?n:void 0))}hide(s,a){this._updateVisibility(s,a,!1)}show(s,a){this._updateVisibility(s,a,!0)}_destroyDatasetMeta(s){const a=this._metasets[s];a&&a.controller&&a.controller._destroy(),delete this._metasets[s]}_stop(){let s,a;for(this.stop(),Ml.remove(this),s=0,a=this.data.datasets.length;s<a;++s)this._destroyDatasetMeta(s)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:s,ctx:a}=this;this._stop(),this.config.clearCache(),s&&(this.unbindEvents(),J8(s,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete oy[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...s){return this.canvas.toDataURL(...s)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const s=this._listeners,a=this.platform,r=(i,o)=>{a.addEventListener(this,i,o),s[i]=o},n=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};wa(this.options.events,i=>r(i,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const s=this._responsiveListeners,a=this.platform,r=(c,m)=>{a.addEventListener(this,c,m),s[c]=m},n=(c,m)=>{s[c]&&(a.removeEventListener(this,c,m),delete s[c])},i=(c,m)=>{this.canvas&&this.resize(c,m)};let o;const l=()=>{n("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),r("attach",l)},a.isAttached(this.canvas)?l():o()}unbindEvents(){wa(this._listeners,(s,a)=>{this.platform.removeEventListener(this,a,s)}),this._listeners={},wa(this._responsiveListeners,(s,a)=>{this.platform.removeEventListener(this,a,s)}),this._responsiveListeners=void 0}updateHoverStyle(s,a,r){const n=r?"set":"remove";let i,o,l,c;for(a==="dataset"&&(i=this.getDatasetMeta(s[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),l=0,c=s.length;l<c;++l){o=s[l];const m=o&&this.getDatasetMeta(o.datasetIndex).controller;m&&m[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(s){const a=this._active||[],r=s.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!$y(r,a)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,a))}notifyPlugins(s,a,r){return this._plugins.notify(this,s,a,r)}isPluginEnabled(s){return this._plugins._cache.filter(a=>a.plugin.id===s).length===1}_updateHoverStyles(s,a,r){const n=this.options.hover,i=(c,m)=>c.filter(d=>!m.some(p=>d.datasetIndex===p.datasetIndex&&d.index===p.index)),o=i(a,s),l=r?s:i(s,a);o.length&&this.updateHoverStyle(o,n.mode,!1),l.length&&n.mode&&this.updateHoverStyle(l,n.mode,!0)}_eventHandler(s,a){const r={event:s,replay:a,cancelable:!0,inChartArea:this.isPointInArea(s)},n=o=>(o.options.events||this.options.events).includes(s.native.type);if(this.notifyPlugins("beforeEvent",r,n)===!1)return;const i=this._handleEvent(s,a,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(i||r.changed)&&this.render(),this}_handleEvent(s,a,r){const{_active:n=[],options:i}=this,o=a,l=this._getActiveElements(s,n,r,o),c=jve(s),m=v2e(s,this._lastEvent,r,c);r&&(this._lastEvent=null,qa(i.onHover,[s,l,this],this),c&&qa(i.onClick,[s,l,this],this));const d=!$y(l,n);return(d||a)&&(this._active=l,this._updateHoverStyles(l,n,a)),this._lastEvent=m,d}_getActiveElements(s,a,r,n){if(s.type==="mouseout")return[];if(!r)return a;const i=this.options.hover;return this.getElementsAtEventForMode(s,i.mode,i,n)}};function AM(){return wa(c1.instances,t=>t._plugins.invalidate())}function j2e(t,s,a){const{startAngle:r,x:n,y:i,outerRadius:o,innerRadius:l,options:c}=s,{borderWidth:m,borderJoinStyle:d}=c,p=Math.min(m/o,oi(r-a));if(t.beginPath(),t.arc(n,i,o-m/2,r+p/2,a-p/2),l>0){const x=Math.min(m/l,oi(r-a));t.arc(n,i,l+m/2,a-x/2,r+x/2,!0)}else{const x=Math.min(m/2,o*oi(r-a));if(d==="round")t.arc(n,i,x,a-Sa/2,r+Sa/2,!0);else if(d==="bevel"){const j=2*x*x,_=-j*Math.cos(a+Sa/2)+n,S=-j*Math.sin(a+Sa/2)+i,v=j*Math.cos(r+Sa/2)+n,y=j*Math.sin(r+Sa/2)+i;t.lineTo(_,S),t.lineTo(v,y)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function N2e(t,s,a){const{startAngle:r,pixelMargin:n,x:i,y:o,outerRadius:l,innerRadius:c}=s;let m=n/l;t.beginPath(),t.arc(i,o,l,r-m,a+m),c>n?(m=n/c,t.arc(i,o,c,a+m,r-m,!0)):t.arc(i,o,n,a+Mr,r-Mr),t.closePath(),t.clip()}function _2e(t){return WS(t,["outerStart","outerEnd","innerStart","innerEnd"])}function w2e(t,s,a,r){const n=_2e(t.options.borderRadius),i=(a-s)/2,o=Math.min(i,r*s/2),l=c=>{const m=(a-Math.min(i,c))*r/2;return cn(c,0,Math.min(i,m))};return{outerStart:l(n.outerStart),outerEnd:l(n.outerEnd),innerStart:cn(n.innerStart,0,o),innerEnd:cn(n.innerEnd,0,o)}}function jm(t,s,a,r){return{x:a+t*Math.cos(s),y:r+t*Math.sin(s)}}function Hy(t,s,a,r,n,i){const{x:o,y:l,startAngle:c,pixelMargin:m,innerRadius:d}=s,p=Math.max(s.outerRadius+r+a-m,0),x=d>0?d+r+a+m:0;let j=0;const _=n-c;if(r){const B=d>0?d-r:0,q=p>0?p-r:0,H=(B+q)/2,Q=H!==0?_*H/(H+r):_;j=(_-Q)/2}const S=Math.max(.001,_*p-a/Sa)/p,v=(_-S)/2,y=c+v+j,N=n-v-j,{outerStart:C,outerEnd:P,innerStart:E,innerEnd:D}=w2e(s,x,p,N-y),T=p-C,A=p-P,I=y+C/T,F=N-P/A,z=x+E,O=x+D,K=y+E/z,W=N-D/O;if(t.beginPath(),i){const B=(I+F)/2;if(t.arc(o,l,p,I,B),t.arc(o,l,p,B,F),P>0){const V=jm(A,F,o,l);t.arc(V.x,V.y,P,F,N+Mr)}const q=jm(O,N,o,l);if(t.lineTo(q.x,q.y),D>0){const V=jm(O,W,o,l);t.arc(V.x,V.y,D,N+Mr,W+Math.PI)}const H=(N-D/x+(y+E/x))/2;if(t.arc(o,l,x,N-D/x,H,!0),t.arc(o,l,x,H,y+E/x,!0),E>0){const V=jm(z,K,o,l);t.arc(V.x,V.y,E,K+Math.PI,y-Mr)}const Q=jm(T,y,o,l);if(t.lineTo(Q.x,Q.y),C>0){const V=jm(T,I,o,l);t.arc(V.x,V.y,C,y-Mr,I)}}else{t.moveTo(o,l);const B=Math.cos(I)*p+o,q=Math.sin(I)*p+l;t.lineTo(B,q);const H=Math.cos(F)*p+o,Q=Math.sin(F)*p+l;t.lineTo(H,Q)}t.closePath()}function S2e(t,s,a,r,n){const{fullCircles:i,startAngle:o,circumference:l}=s;let c=s.endAngle;if(i){Hy(t,s,a,r,c,n);for(let m=0;m<i;++m)t.fill();isNaN(l)||(c=o+(l%Qa||Qa))}return Hy(t,s,a,r,c,n),t.fill(),c}function C2e(t,s,a,r,n){const{fullCircles:i,startAngle:o,circumference:l,options:c}=s,{borderWidth:m,borderJoinStyle:d,borderDash:p,borderDashOffset:x,borderRadius:j}=c,_=c.borderAlign==="inner";if(!m)return;t.setLineDash(p||[]),t.lineDashOffset=x,_?(t.lineWidth=m*2,t.lineJoin=d||"round"):(t.lineWidth=m,t.lineJoin=d||"bevel");let S=s.endAngle;if(i){Hy(t,s,a,r,S,n);for(let v=0;v<i;++v)t.stroke();isNaN(l)||(S=o+(l%Qa||Qa))}_&&N2e(t,s,S),c.selfJoin&&S-o>=Sa&&j===0&&d!=="miter"&&j2e(t,s,S),i||(Hy(t,s,a,r,S,n),t.stroke())}class P2e extends tc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:s=>s!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(s){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,a,r){const n=this.getProps(["x","y"],r),{angle:i,distance:o}=YO(n,{x:s,y:a}),{startAngle:l,endAngle:c,innerRadius:m,outerRadius:d,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),x=(this.options.spacing+this.options.borderWidth)/2,j=Bs(p,c-l),_=Bx(i,l,c)&&l!==c,S=j>=Qa||_,v=ql(o,m+x,d+x);return S&&v}getCenterPoint(s){const{x:a,y:r,startAngle:n,endAngle:i,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:c,spacing:m}=this.options,d=(n+i)/2,p=(o+l+m+c)/2;return{x:a+Math.cos(d)*p,y:r+Math.sin(d)*p}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:a,circumference:r}=this,n=(a.offset||0)/4,i=(a.spacing||0)/2,o=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=r>Qa?Math.floor(r/Qa):0,r===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const l=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(l)*n,Math.sin(l)*n);const c=1-Math.sin(Math.min(Sa,r||0)),m=n*c;s.fillStyle=a.backgroundColor,s.strokeStyle=a.borderColor,S2e(s,this,m,i,o),C2e(s,this,m,i,o),s.restore()}}function wF(t,s,a=s){t.lineCap=Bs(a.borderCapStyle,s.borderCapStyle),t.setLineDash(Bs(a.borderDash,s.borderDash)),t.lineDashOffset=Bs(a.borderDashOffset,s.borderDashOffset),t.lineJoin=Bs(a.borderJoinStyle,s.borderJoinStyle),t.lineWidth=Bs(a.borderWidth,s.borderWidth),t.strokeStyle=Bs(a.borderColor,s.borderColor)}function k2e(t,s,a){t.lineTo(a.x,a.y)}function E2e(t){return t.stepped?Gve:t.tension||t.cubicInterpolationMode==="monotone"?Kve:k2e}function SF(t,s,a={}){const r=t.length,{start:n=0,end:i=r-1}=a,{start:o,end:l}=s,c=Math.max(n,o),m=Math.min(i,l),d=n<o&&i<o||n>l&&i>l;return{count:r,start:c,loop:s.loop,ilen:m<c&&!d?r+m-c:m-c}}function T2e(t,s,a,r){const{points:n,options:i}=s,{count:o,start:l,loop:c,ilen:m}=SF(n,a,r),d=E2e(i);let{move:p=!0,reverse:x}=r||{},j,_,S;for(j=0;j<=m;++j)_=n[(l+(x?m-j:j))%o],!_.skip&&(p?(t.moveTo(_.x,_.y),p=!1):d(t,S,_,x,i.stepped),S=_);return c&&(_=n[(l+(x?m:0))%o],d(t,S,_,x,i.stepped)),!!c}function M2e(t,s,a,r){const n=s.points,{count:i,start:o,ilen:l}=SF(n,a,r),{move:c=!0,reverse:m}=r||{};let d=0,p=0,x,j,_,S,v,y;const N=P=>(o+(m?l-P:P))%i,C=()=>{S!==v&&(t.lineTo(d,v),t.lineTo(d,S),t.lineTo(d,y))};for(c&&(j=n[N(0)],t.moveTo(j.x,j.y)),x=0;x<=l;++x){if(j=n[N(x)],j.skip)continue;const P=j.x,E=j.y,D=P|0;D===_?(E<S?S=E:E>v&&(v=E),d=(p*d+P)/++p):(C(),t.lineTo(P,E),_=D,p=0,S=v=E),y=E}C()}function Dw(t){const s=t.options,a=s.borderDash&&s.borderDash.length;return!t._decimated&&!t._loop&&!s.tension&&s.cubicInterpolationMode!=="monotone"&&!s.stepped&&!a?M2e:T2e}function D2e(t){return t.stepped?P1e:t.tension||t.cubicInterpolationMode==="monotone"?k1e:Bd}function R2e(t,s,a,r){let n=s._path;n||(n=s._path=new Path2D,s.path(n,a,r)&&n.closePath()),wF(t,s.options),t.stroke(n)}function A2e(t,s,a,r){const{segments:n,options:i}=s,o=Dw(s);for(const l of n)wF(t,i,l.style),t.beginPath(),o(t,s,l,{start:a,end:a+r-1})&&t.closePath(),t.stroke()}const I2e=typeof Path2D=="function";function O2e(t,s,a,r){I2e&&!s.options.segment?R2e(t,s,a,r):A2e(t,s,a,r)}class d1 extends tc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:s=>s!=="borderDash"&&s!=="fill"};constructor(s){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,s&&Object.assign(this,s)}updateControlPoints(s,a){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const n=r.spanGaps?this._loop:this._fullLoop;y1e(this._points,r,s,n,a),this._pointsUpdated=!0}}set points(s){this._points=s,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=A1e(this,this.options.segment))}first(){const s=this.segments,a=this.points;return s.length&&a[s[0].start]}last(){const s=this.segments,a=this.points,r=s.length;return r&&a[s[r-1].end]}interpolate(s,a){const r=this.options,n=s[a],i=this.points,o=dF(this,{property:a,start:n,end:n});if(!o.length)return;const l=[],c=D2e(r);let m,d;for(m=0,d=o.length;m<d;++m){const{start:p,end:x}=o[m],j=i[p],_=i[x];if(j===_){l.push(j);continue}const S=Math.abs((n-j[a])/(_[a]-j[a])),v=c(j,_,S,r.stepped);v[a]=s[a],l.push(v)}return l.length===1?l[0]:l}pathSegment(s,a,r){return Dw(this)(s,this,a,r)}path(s,a,r){const n=this.segments,i=Dw(this);let o=this._loop;a=a||0,r=r||this.points.length-a;for(const l of n)o&=i(s,this,l,{start:a,end:a+r-1});return!!o}draw(s,a,r,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(s.save(),O2e(s,this,r,n),s.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function IM(t,s,a,r){const n=t.options,{[a]:i}=t.getProps([a],r);return Math.abs(s-i)<n.radius+n.hitRadius}class F2e extends tc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(s){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,a,r){const n=this.options,{x:i,y:o}=this.getProps(["x","y"],r);return Math.pow(s-i,2)+Math.pow(a-o,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(s,a){return IM(this,s,"x",a)}inYRange(s,a){return IM(this,s,"y",a)}getCenterPoint(s){const{x:a,y:r}=this.getProps(["x","y"],s);return{x:a,y:r}}size(s){s=s||this.options||{};let a=s.radius||0;a=Math.max(a,a&&s.hoverRadius||0);const r=a&&s.borderWidth||0;return(a+r)*2}draw(s,a){const r=this.options;this.skip||r.radius<.1||!Ux(this,a,this.size(r)/2)||(s.strokeStyle=r.borderColor,s.lineWidth=r.borderWidth,s.fillStyle=r.backgroundColor,Ew(s,r,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}function CF(t,s){const{x:a,y:r,base:n,width:i,height:o}=t.getProps(["x","y","base","width","height"],s);let l,c,m,d,p;return t.horizontal?(p=o/2,l=Math.min(a,n),c=Math.max(a,n),m=r-p,d=r+p):(p=i/2,l=a-p,c=a+p,m=Math.min(r,n),d=Math.max(r,n)),{left:l,top:m,right:c,bottom:d}}function Oc(t,s,a,r){return t?0:cn(s,a,r)}function L2e(t,s,a){const r=t.options.borderWidth,n=t.borderSkipped,i=eF(r);return{t:Oc(n.top,i.top,0,a),r:Oc(n.right,i.right,0,s),b:Oc(n.bottom,i.bottom,0,a),l:Oc(n.left,i.left,0,s)}}function $2e(t,s,a){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,i=Xm(n),o=Math.min(s,a),l=t.borderSkipped,c=r||sa(n);return{topLeft:Oc(!c||l.top||l.left,i.topLeft,0,o),topRight:Oc(!c||l.top||l.right,i.topRight,0,o),bottomLeft:Oc(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:Oc(!c||l.bottom||l.right,i.bottomRight,0,o)}}function z2e(t){const s=CF(t),a=s.right-s.left,r=s.bottom-s.top,n=L2e(t,a/2,r/2),i=$2e(t,a/2,r/2);return{outer:{x:s.left,y:s.top,w:a,h:r,radius:i},inner:{x:s.left+n.l,y:s.top+n.t,w:a-n.l-n.r,h:r-n.t-n.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,i.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(n.b,n.r))}}}}function BN(t,s,a,r){const n=s===null,i=a===null,l=t&&!(n&&i)&&CF(t,r);return l&&(n||ql(s,l.left,l.right))&&(i||ql(a,l.top,l.bottom))}function q2e(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function B2e(t,s){t.rect(s.x,s.y,s.w,s.h)}function UN(t,s,a={}){const r=t.x!==a.x?-s:0,n=t.y!==a.y?-s:0,i=(t.x+t.w!==a.x+a.w?s:0)-r,o=(t.y+t.h!==a.y+a.h?s:0)-n;return{x:t.x+r,y:t.y+n,w:t.w+i,h:t.h+o,radius:t.radius}}class U2e extends tc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(s){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,s&&Object.assign(this,s)}draw(s){const{inflateAmount:a,options:{borderColor:r,backgroundColor:n}}=this,{inner:i,outer:o}=z2e(this),l=q2e(o.radius)?By:B2e;s.save(),(o.w!==i.w||o.h!==i.h)&&(s.beginPath(),l(s,UN(o,a,i)),s.clip(),l(s,UN(i,-a,o)),s.fillStyle=r,s.fill("evenodd")),s.beginPath(),l(s,UN(i,a)),s.fillStyle=n,s.fill(),s.restore()}inRange(s,a,r){return BN(this,s,a,r)}inXRange(s,a){return BN(this,s,null,a)}inYRange(s,a){return BN(this,null,s,a)}getCenterPoint(s){const{x:a,y:r,base:n,horizontal:i}=this.getProps(["x","y","base","horizontal"],s);return{x:i?(a+n)/2:a,y:i?r:(r+n)/2}}getRange(s){return s==="x"?this.width/2:this.height/2}}function V2e(t,s,a){const r=t.segments,n=t.points,i=s.points,o=[];for(const l of r){let{start:c,end:m}=l;m=u1(c,m,n);const d=Rw(a,n[c],n[m],l.loop);if(!s.segments){o.push({source:l,target:d,start:n[c],end:n[m]});continue}const p=dF(s,d);for(const x of p){const j=Rw(a,i[x.start],i[x.end],x.loop),_=cF(l,n,j);for(const S of _)o.push({source:S,target:x,start:{[a]:OM(d,j,"start",Math.max)},end:{[a]:OM(d,j,"end",Math.min)}})}}return o}function Rw(t,s,a,r){if(r)return;let n=s[t],i=a[t];return t==="angle"&&(n=oi(n),i=oi(i)),{property:t,start:n,end:i}}function H2e(t,s){const{x:a=null,y:r=null}=t||{},n=s.points,i=[];return s.segments.forEach(({start:o,end:l})=>{l=u1(o,l,n);const c=n[o],m=n[l];r!==null?(i.push({x:c.x,y:r}),i.push({x:m.x,y:r})):a!==null&&(i.push({x:a,y:c.y}),i.push({x:a,y:m.y}))}),i}function u1(t,s,a){for(;s>t;s--){const r=a[s];if(!isNaN(r.x)&&!isNaN(r.y))break}return s}function OM(t,s,a,r){return t&&s?r(t[a],s[a]):t?t[a]:s?s[a]:0}function PF(t,s){let a=[],r=!1;return Sr(t)?(r=!0,a=t):a=H2e(t,s),a.length?new d1({points:a,options:{tension:0},_loop:r,_fullLoop:r}):null}function FM(t){return t&&t.fill!==!1}function W2e(t,s,a){let n=t[s].fill;const i=[s];let o;if(!a)return n;for(;n!==!1&&i.indexOf(n)===-1;){if(!pn(n))return n;if(o=t[n],!o)return!1;if(o.visible)return n;i.push(n),n=o.fill}return!1}function Y2e(t,s,a){const r=Z2e(t);if(sa(r))return isNaN(r.value)?!1:r;let n=parseFloat(r);return pn(n)&&Math.floor(n)===n?G2e(r[0],s,n,a):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function G2e(t,s,a,r){return(t==="-"||t==="+")&&(a=s+a),a===s||a<0||a>=r?!1:a}function K2e(t,s){let a=null;return t==="start"?a=s.bottom:t==="end"?a=s.top:sa(t)?a=s.getPixelForValue(t.value):s.getBasePixel&&(a=s.getBasePixel()),a}function Q2e(t,s,a){let r;return t==="start"?r=a:t==="end"?r=s.options.reverse?s.min:s.max:sa(t)?r=t.value:r=s.getBaseValue(),r}function Z2e(t){const s=t.options,a=s.fill;let r=Bs(a&&a.target,a);return r===void 0&&(r=!!s.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function X2e(t){const{scale:s,index:a,line:r}=t,n=[],i=r.segments,o=r.points,l=J2e(s,a);l.push(PF({x:null,y:s.bottom},r));for(let c=0;c<i.length;c++){const m=i[c];for(let d=m.start;d<=m.end;d++)eNe(n,o[d],l)}return new d1({points:n,options:{}})}function J2e(t,s){const a=[],r=t.getMatchingVisibleMetas("line");for(let n=0;n<r.length;n++){const i=r[n];if(i.index===s)break;i.hidden||a.unshift(i.dataset)}return a}function eNe(t,s,a){const r=[];for(let n=0;n<a.length;n++){const i=a[n],{first:o,last:l,point:c}=tNe(i,s,"x");if(!(!c||o&&l)){if(o)r.unshift(c);else if(t.push(c),!l)break}}t.push(...r)}function tNe(t,s,a){const r=t.interpolate(s,a);if(!r)return{};const n=r[a],i=t.segments,o=t.points;let l=!1,c=!1;for(let m=0;m<i.length;m++){const d=i[m],p=o[d.start][a],x=o[d.end][a];if(ql(n,p,x)){l=n===p,c=n===x;break}}return{first:l,last:c,point:r}}class kF{constructor(s){this.x=s.x,this.y=s.y,this.radius=s.radius}pathSegment(s,a,r){const{x:n,y:i,radius:o}=this;return a=a||{start:0,end:Qa},s.arc(n,i,o,a.end,a.start,!0),!r.bounds}interpolate(s){const{x:a,y:r,radius:n}=this,i=s.angle;return{x:a+Math.cos(i)*n,y:r+Math.sin(i)*n,angle:i}}}function sNe(t){const{chart:s,fill:a,line:r}=t;if(pn(a))return aNe(s,a);if(a==="stack")return X2e(t);if(a==="shape")return!0;const n=rNe(t);return n instanceof kF?n:PF(n,r)}function aNe(t,s){const a=t.getDatasetMeta(s);return a&&t.isDatasetVisible(s)?a.dataset:null}function rNe(t){return(t.scale||{}).getPointPositionForValue?iNe(t):nNe(t)}function nNe(t){const{scale:s={},fill:a}=t,r=K2e(a,s);if(pn(r)){const n=s.isHorizontal();return{x:n?r:null,y:n?null:r}}return null}function iNe(t){const{scale:s,fill:a}=t,r=s.options,n=s.getLabels().length,i=r.reverse?s.max:s.min,o=Q2e(a,s,i),l=[];if(r.grid.circular){const c=s.getPointPositionForValue(0,i);return new kF({x:c.x,y:c.y,radius:s.getDistanceFromCenterForValue(o)})}for(let c=0;c<n;++c)l.push(s.getPointPositionForValue(c,o));return l}function VN(t,s,a){const r=sNe(s),{chart:n,index:i,line:o,scale:l,axis:c}=s,m=o.options,d=m.fill,p=m.backgroundColor,{above:x=p,below:j=p}=d||{},_=n.getDatasetMeta(i),S=uF(n,_);r&&o.points.length&&(r1(t,a),oNe(t,{line:o,target:r,above:x,below:j,area:a,scale:l,axis:c,clip:S}),n1(t))}function oNe(t,s){const{line:a,target:r,above:n,below:i,area:o,scale:l,clip:c}=s,m=a._loop?"angle":s.axis;t.save();let d=i;i!==n&&(m==="x"?(LM(t,r,o.top),HN(t,{line:a,target:r,color:n,scale:l,property:m,clip:c}),t.restore(),t.save(),LM(t,r,o.bottom)):m==="y"&&($M(t,r,o.left),HN(t,{line:a,target:r,color:i,scale:l,property:m,clip:c}),t.restore(),t.save(),$M(t,r,o.right),d=n)),HN(t,{line:a,target:r,color:d,scale:l,property:m,clip:c}),t.restore()}function LM(t,s,a){const{segments:r,points:n}=s;let i=!0,o=!1;t.beginPath();for(const l of r){const{start:c,end:m}=l,d=n[c],p=n[u1(c,m,n)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(d.x,a),t.lineTo(d.x,d.y)),o=!!s.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(p.x,a)}t.lineTo(s.first().x,a),t.closePath(),t.clip()}function $M(t,s,a){const{segments:r,points:n}=s;let i=!0,o=!1;t.beginPath();for(const l of r){const{start:c,end:m}=l,d=n[c],p=n[u1(c,m,n)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(a,d.y),t.lineTo(d.x,d.y)),o=!!s.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(a,p.y)}t.lineTo(a,s.first().y),t.closePath(),t.clip()}function HN(t,s){const{line:a,target:r,property:n,color:i,scale:o,clip:l}=s,c=V2e(a,r,n);for(const{source:m,target:d,start:p,end:x}of c){const{style:{backgroundColor:j=i}={}}=m,_=r!==!0;t.save(),t.fillStyle=j,lNe(t,o,l,_&&Rw(n,p,x)),t.beginPath();const S=!!a.pathSegment(t,m);let v;if(_){S?t.closePath():zM(t,r,x,n);const y=!!r.pathSegment(t,d,{move:S,reverse:!0});v=S&&y,v||zM(t,r,p,n)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function lNe(t,s,a,r){const n=s.chart.chartArea,{property:i,start:o,end:l}=r||{};if(i==="x"||i==="y"){let c,m,d,p;i==="x"?(c=o,m=n.top,d=l,p=n.bottom):(c=n.left,m=o,d=n.right,p=l),t.beginPath(),a&&(c=Math.max(c,a.left),d=Math.min(d,a.right),m=Math.max(m,a.top),p=Math.min(p,a.bottom)),t.rect(c,m,d-c,p-m),t.clip()}}function zM(t,s,a,r){const n=s.interpolate(a,r);n&&t.lineTo(n.x,n.y)}var cNe={id:"filler",afterDatasetsUpdate(t,s,a){const r=(t.data.datasets||[]).length,n=[];let i,o,l,c;for(o=0;o<r;++o)i=t.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof d1&&(c={visible:t.isDatasetVisible(o),index:o,fill:Y2e(l,o,r),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,n.push(c);for(o=0;o<r;++o)c=n[o],!(!c||c.fill===!1)&&(c.fill=W2e(n,o,a.propagate))},beforeDraw(t,s,a){const r=a.drawTime==="beforeDraw",n=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=n.length-1;o>=0;--o){const l=n[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),r&&l.fill&&VN(t.ctx,l,i))}},beforeDatasetsDraw(t,s,a){if(a.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let n=r.length-1;n>=0;--n){const i=r[n].$filler;FM(i)&&VN(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,s,a){const r=s.meta.$filler;!FM(r)||a.drawTime!=="beforeDatasetDraw"||VN(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qM=(t,s)=>{let{boxHeight:a=s,boxWidth:r=s}=t;return t.usePointStyle&&(a=Math.min(a,s),r=t.pointStyleWidth||Math.min(r,s)),{boxWidth:r,boxHeight:a,itemHeight:Math.max(s,a)}},dNe=(t,s)=>t!==null&&s!==null&&t.datasetIndex===s.datasetIndex&&t.index===s.index;class BM extends tc{constructor(s){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,a,r){this.maxWidth=s,this.maxHeight=a,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const s=this.options.labels||{};let a=qa(s.generateLabels,[this.chart],this)||[];s.filter&&(a=a.filter(r=>s.filter(r,this.chart.data))),s.sort&&(a=a.sort((r,n)=>s.sort(r,n,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:s,ctx:a}=this;if(!s.display){this.width=this.height=0;return}const r=s.labels,n=dn(r.font),i=n.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=qM(r,i);let m,d;a.font=n.string,this.isHorizontal()?(m=this.maxWidth,d=this._fitRows(o,i,l,c)+10):(d=this.maxHeight,m=this._fitCols(o,n,l,c)+10),this.width=Math.min(m,s.maxWidth||this.maxWidth),this.height=Math.min(d,s.maxHeight||this.maxHeight)}_fitRows(s,a,r,n){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],m=this.lineWidths=[0],d=n+l;let p=s;i.textAlign="left",i.textBaseline="middle";let x=-1,j=-d;return this.legendItems.forEach((_,S)=>{const v=r+a/2+i.measureText(_.text).width;(S===0||m[m.length-1]+v+2*l>o)&&(p+=d,m[m.length-(S>0?0:1)]=0,j+=d,x++),c[S]={left:0,top:j,row:x,width:v,height:n},m[m.length-1]+=v+l}),p}_fitCols(s,a,r,n){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],m=this.columnSizes=[],d=o-s;let p=l,x=0,j=0,_=0,S=0;return this.legendItems.forEach((v,y)=>{const{itemWidth:N,itemHeight:C}=uNe(r,a,i,v,n);y>0&&j+C+2*l>d&&(p+=x+l,m.push({width:x,height:j}),_+=x+l,S++,x=j=0),c[y]={left:_,top:j,col:S,width:N,height:C},x=Math.max(x,N),j+=C+l}),p+=x,m.push({width:x,height:j}),p}adjustHitBoxes(){if(!this.options.display)return;const s=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:r,labels:{padding:n},rtl:i}}=this,o=Jm(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=an(r,this.left+n,this.right-this.lineWidths[l]);for(const m of a)l!==m.row&&(l=m.row,c=an(r,this.left+n,this.right-this.lineWidths[l])),m.top+=this.top+s+n,m.left=o.leftForLtr(o.x(c),m.width),c+=m.width+n}else{let l=0,c=an(r,this.top+s+n,this.bottom-this.columnSizes[l].height);for(const m of a)m.col!==l&&(l=m.col,c=an(r,this.top+s+n,this.bottom-this.columnSizes[l].height)),m.top=c,m.left+=this.left+n,m.left=o.leftForLtr(o.x(m.left),m.width),c+=m.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const s=this.ctx;r1(s,this),this._draw(),n1(s)}}_draw(){const{options:s,columnSizes:a,lineWidths:r,ctx:n}=this,{align:i,labels:o}=s,l=xr.color,c=Jm(s.rtl,this.left,this.width),m=dn(o.font),{padding:d}=o,p=m.size,x=p/2;let j;this.drawTitle(),n.textAlign=c.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=m.string;const{boxWidth:_,boxHeight:S,itemHeight:v}=qM(o,p),y=function(D,T,A){if(isNaN(_)||_<=0||isNaN(S)||S<0)return;n.save();const I=Bs(A.lineWidth,1);if(n.fillStyle=Bs(A.fillStyle,l),n.lineCap=Bs(A.lineCap,"butt"),n.lineDashOffset=Bs(A.lineDashOffset,0),n.lineJoin=Bs(A.lineJoin,"miter"),n.lineWidth=I,n.strokeStyle=Bs(A.strokeStyle,l),n.setLineDash(Bs(A.lineDash,[])),o.usePointStyle){const F={radius:S*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:I},z=c.xPlus(D,_/2),O=T+x;JO(n,F,z,O,o.pointStyleWidth&&_)}else{const F=T+Math.max((p-S)/2,0),z=c.leftForLtr(D,_),O=Xm(A.borderRadius);n.beginPath(),Object.values(O).some(K=>K!==0)?By(n,{x:z,y:F,w:_,h:S,radius:O}):n.rect(z,F,_,S),n.fill(),I!==0&&n.stroke()}n.restore()},N=function(D,T,A){Vx(n,A.text,D,T+v/2,m,{strikethrough:A.hidden,textAlign:c.textAlign(A.textAlign)})},C=this.isHorizontal(),P=this._computeTitleHeight();C?j={x:an(i,this.left+d,this.right-r[0]),y:this.top+d+P,line:0}:j={x:this.left+d,y:an(i,this.top+P+d,this.bottom-a[0].height),line:0},iF(this.ctx,s.textDirection);const E=v+d;this.legendItems.forEach((D,T)=>{n.strokeStyle=D.fontColor,n.fillStyle=D.fontColor;const A=n.measureText(D.text).width,I=c.textAlign(D.textAlign||(D.textAlign=o.textAlign)),F=_+x+A;let z=j.x,O=j.y;c.setWidth(this.width),C?T>0&&z+F+d>this.right&&(O=j.y+=E,j.line++,z=j.x=an(i,this.left+d,this.right-r[j.line])):T>0&&O+E>this.bottom&&(z=j.x=z+a[j.line].width+d,j.line++,O=j.y=an(i,this.top+P+d,this.bottom-a[j.line].height));const K=c.x(z);if(y(K,O,D),z=Ive(I,z+_+x,C?z+F:this.right,s.rtl),N(c.x(z),O,D),C)j.x+=F+d;else if(typeof D.text!="string"){const W=m.lineHeight;j.y+=EF(D,W)+d}else j.y+=E}),oF(this.ctx,s.textDirection)}drawTitle(){const s=this.options,a=s.title,r=dn(a.font),n=ro(a.padding);if(!a.display)return;const i=Jm(s.rtl,this.left,this.width),o=this.ctx,l=a.position,c=r.size/2,m=n.top+c;let d,p=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),d=this.top+m,p=an(s.align,p,this.right-x);else{const _=this.columnSizes.reduce((S,v)=>Math.max(S,v.height),0);d=m+an(s.align,this.top,this.bottom-_-s.labels.padding-this._computeTitleHeight())}const j=an(l,p,p+x);o.textAlign=i.textAlign(US(l)),o.textBaseline="middle",o.strokeStyle=a.color,o.fillStyle=a.color,o.font=r.string,Vx(o,a.text,j,d,r)}_computeTitleHeight(){const s=this.options.title,a=dn(s.font),r=ro(s.padding);return s.display?a.lineHeight+r.height:0}_getLegendItemAt(s,a){let r,n,i;if(ql(s,this.left,this.right)&&ql(a,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(n=i[r],ql(s,n.left,n.left+n.width)&&ql(a,n.top,n.top+n.height))return this.legendItems[r]}return null}handleEvent(s){const a=this.options;if(!hNe(s.type,a))return;const r=this._getLegendItemAt(s.x,s.y);if(s.type==="mousemove"||s.type==="mouseout"){const n=this._hoveredItem,i=dNe(n,r);n&&!i&&qa(a.onLeave,[s,n,this],this),this._hoveredItem=r,r&&!i&&qa(a.onHover,[s,r,this],this)}else r&&qa(a.onClick,[s,r,this],this)}}function uNe(t,s,a,r,n){const i=mNe(r,t,s,a),o=pNe(n,r,s.lineHeight);return{itemWidth:i,itemHeight:o}}function mNe(t,s,a,r){let n=t.text;return n&&typeof n!="string"&&(n=n.reduce((i,o)=>i.length>o.length?i:o)),s+a.size/2+r.measureText(n).width}function pNe(t,s,a){let r=t;return typeof s.text!="string"&&(r=EF(s,a)),r}function EF(t,s){const a=t.text?t.text.length:0;return s*a}function hNe(t,s){return!!((t==="mousemove"||t==="mouseout")&&(s.onHover||s.onLeave)||s.onClick&&(t==="click"||t==="mouseup"))}var fNe={id:"legend",_element:BM,start(t,s,a){const r=t.legend=new BM({ctx:t.ctx,options:a,chart:t});Hi.configure(t,r,a),Hi.addBox(t,r)},stop(t){Hi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,s,a){const r=t.legend;Hi.configure(t,r,a),r.options=a},afterUpdate(t){const s=t.legend;s.buildLabels(),s.adjustHitBoxes()},afterEvent(t,s){s.replay||t.legend.handleEvent(s.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,s,a){const r=s.datasetIndex,n=a.chart;n.isDatasetVisible(r)?(n.hide(r),s.hidden=!0):(n.show(r),s.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const s=t.data.datasets,{labels:{usePointStyle:a,pointStyle:r,textAlign:n,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const m=c.controller.getStyle(a?0:void 0),d=ro(m.borderWidth);return{text:s[c.index].label,fillStyle:m.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:m.borderColor,pointStyle:r||m.pointStyle,rotation:m.rotation,textAlign:n||m.textAlign,borderRadius:o&&(l||m.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class TF extends tc{constructor(s){super(),this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,a){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=s,this.height=this.bottom=a;const n=Sr(r.text)?r.text.length:1;this._padding=ro(r.padding);const i=n*dn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const s=this.options.position;return s==="top"||s==="bottom"}_drawArgs(s){const{top:a,left:r,bottom:n,right:i,options:o}=this,l=o.align;let c=0,m,d,p;return this.isHorizontal()?(d=an(l,r,i),p=a+s,m=i-r):(o.position==="left"?(d=r+s,p=an(l,n,a),c=Sa*-.5):(d=i-s,p=an(l,a,n),c=Sa*.5),m=n-a),{titleX:d,titleY:p,maxWidth:m,rotation:c}}draw(){const s=this.ctx,a=this.options;if(!a.display)return;const r=dn(a.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:m}=this._drawArgs(i);Vx(s,a.text,0,0,r,{color:a.color,maxWidth:c,rotation:m,textAlign:US(a.align),textBaseline:"middle",translation:[o,l]})}}function xNe(t,s){const a=new TF({ctx:t.ctx,options:s,chart:t});Hi.configure(t,a,s),Hi.addBox(t,a),t.titleBlock=a}var gNe={id:"title",_element:TF,start(t,s,a){xNe(t,a)},stop(t){const s=t.titleBlock;Hi.removeBox(t,s),delete t.titleBlock},beforeUpdate(t,s,a){const r=t.titleBlock;Hi.configure(t,r,a),r.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yf={average(t){if(!t.length)return!1;let s,a,r=new Set,n=0,i=0;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),n+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:n/i}},nearest(t,s){if(!t.length)return!1;let a=s.x,r=s.y,n=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const m=c.getCenterPoint(),d=Pw(s,m);d<n&&(n=d,l=c)}}if(l){const c=l.tooltipPosition();a=c.x,r=c.y}return{x:a,y:r}}};function Io(t,s){return s&&(Sr(s)?Array.prototype.push.apply(t,s):t.push(s)),t}function Dl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function bNe(t,s){const{element:a,datasetIndex:r,index:n}=s,i=t.getDatasetMeta(r).controller,{label:o,value:l}=i.getLabelAndValue(n);return{chart:t,label:o,parsed:i.getParsed(n),raw:t.data.datasets[r].data[n],formattedValue:l,dataset:i.getDataset(),dataIndex:n,datasetIndex:r,element:a}}function UM(t,s){const a=t.chart.ctx,{body:r,footer:n,title:i}=t,{boxWidth:o,boxHeight:l}=s,c=dn(s.bodyFont),m=dn(s.titleFont),d=dn(s.footerFont),p=i.length,x=n.length,j=r.length,_=ro(s.padding);let S=_.height,v=0,y=r.reduce((P,E)=>P+E.before.length+E.lines.length+E.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,p&&(S+=p*m.lineHeight+(p-1)*s.titleSpacing+s.titleMarginBottom),y){const P=s.displayColors?Math.max(l,c.lineHeight):c.lineHeight;S+=j*P+(y-j)*c.lineHeight+(y-1)*s.bodySpacing}x&&(S+=s.footerMarginTop+x*d.lineHeight+(x-1)*s.footerSpacing);let N=0;const C=function(P){v=Math.max(v,a.measureText(P).width+N)};return a.save(),a.font=m.string,wa(t.title,C),a.font=c.string,wa(t.beforeBody.concat(t.afterBody),C),N=s.displayColors?o+2+s.boxPadding:0,wa(r,P=>{wa(P.before,C),wa(P.lines,C),wa(P.after,C)}),N=0,a.font=d.string,wa(t.footer,C),a.restore(),v+=_.width,{width:v,height:S}}function yNe(t,s){const{y:a,height:r}=s;return a<r/2?"top":a>t.height-r/2?"bottom":"center"}function vNe(t,s,a,r){const{x:n,width:i}=r,o=a.caretSize+a.caretPadding;if(t==="left"&&n+i+o>s.width||t==="right"&&n-i-o<0)return!0}function jNe(t,s,a,r){const{x:n,width:i}=a,{width:o,chartArea:{left:l,right:c}}=t;let m="center";return r==="center"?m=n<=(l+c)/2?"left":"right":n<=i/2?m="left":n>=o-i/2&&(m="right"),vNe(m,t,s,a)&&(m="center"),m}function VM(t,s,a){const r=a.yAlign||s.yAlign||yNe(t,a);return{xAlign:a.xAlign||s.xAlign||jNe(t,s,a,r),yAlign:r}}function NNe(t,s){let{x:a,width:r}=t;return s==="right"?a-=r:s==="center"&&(a-=r/2),a}function _Ne(t,s,a){let{y:r,height:n}=t;return s==="top"?r+=a:s==="bottom"?r-=n+a:r-=n/2,r}function HM(t,s,a,r){const{caretSize:n,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:c}=a,m=n+i,{topLeft:d,topRight:p,bottomLeft:x,bottomRight:j}=Xm(o);let _=NNe(s,l);const S=_Ne(s,c,m);return c==="center"?l==="left"?_+=m:l==="right"&&(_-=m):l==="left"?_-=Math.max(d,x)+n:l==="right"&&(_+=Math.max(p,j)+n),{x:cn(_,0,r.width-s.width),y:cn(S,0,r.height-s.height)}}function Rb(t,s,a){const r=ro(a.padding);return s==="center"?t.x+t.width/2:s==="right"?t.x+t.width-r.right:t.x+r.left}function WM(t){return Io([],Dl(t))}function wNe(t,s,a){return Eu(t,{tooltip:s,tooltipItems:a,type:"tooltip"})}function YM(t,s){const a=s&&s.dataset&&s.dataset.tooltip&&s.dataset.tooltip.callbacks;return a?t.override(a):t}const MF={beforeTitle:El,title(t){if(t.length>0){const s=t[0],a=s.chart.data.labels,r=a?a.length:0;if(this&&this.options&&this.options.mode==="dataset")return s.dataset.label||"";if(s.label)return s.label;if(r>0&&s.dataIndex<r)return a[s.dataIndex]}return""},afterTitle:El,beforeBody:El,beforeLabel:El,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let s=t.dataset.label||"";s&&(s+=": ");const a=t.formattedValue;return xa(a)||(s+=a),s},labelColor(t){const a=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const a=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:El,afterBody:El,beforeFooter:El,footer:El,afterFooter:El};function Rn(t,s,a,r){const n=t[s].call(a,r);return typeof n>"u"?MF[s].call(a,r):n}class GM extends tc{static positioners=yf;constructor(s){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=s.chart,this.options=s.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(s){this.options=s,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const s=this._cachedAnimations;if(s)return s;const a=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&a.options.animation&&r.animations,i=new mF(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=wNe(this.chart.getContext(),this,this._tooltipItems))}getTitle(s,a){const{callbacks:r}=a,n=Rn(r,"beforeTitle",this,s),i=Rn(r,"title",this,s),o=Rn(r,"afterTitle",this,s);let l=[];return l=Io(l,Dl(n)),l=Io(l,Dl(i)),l=Io(l,Dl(o)),l}getBeforeBody(s,a){return WM(Rn(a.callbacks,"beforeBody",this,s))}getBody(s,a){const{callbacks:r}=a,n=[];return wa(s,i=>{const o={before:[],lines:[],after:[]},l=YM(r,i);Io(o.before,Dl(Rn(l,"beforeLabel",this,i))),Io(o.lines,Rn(l,"label",this,i)),Io(o.after,Dl(Rn(l,"afterLabel",this,i))),n.push(o)}),n}getAfterBody(s,a){return WM(Rn(a.callbacks,"afterBody",this,s))}getFooter(s,a){const{callbacks:r}=a,n=Rn(r,"beforeFooter",this,s),i=Rn(r,"footer",this,s),o=Rn(r,"afterFooter",this,s);let l=[];return l=Io(l,Dl(n)),l=Io(l,Dl(i)),l=Io(l,Dl(o)),l}_createItems(s){const a=this._active,r=this.chart.data,n=[],i=[],o=[];let l=[],c,m;for(c=0,m=a.length;c<m;++c)l.push(bNe(this.chart,a[c]));return s.filter&&(l=l.filter((d,p,x)=>s.filter(d,p,x,r))),s.itemSort&&(l=l.sort((d,p)=>s.itemSort(d,p,r))),wa(l,d=>{const p=YM(s.callbacks,d);n.push(Rn(p,"labelColor",this,d)),i.push(Rn(p,"labelPointStyle",this,d)),o.push(Rn(p,"labelTextColor",this,d))}),this.labelColors=n,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(s,a){const r=this.options.setContext(this.getContext()),n=this._active;let i,o=[];if(!n.length)this.opacity!==0&&(i={opacity:0});else{const l=yf[r.position].call(this,n,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const c=this._size=UM(this,r),m=Object.assign({},l,c),d=VM(this.chart,r,m),p=HM(r,m,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:p.x,y:p.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),s&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(s,a,r,n){const i=this.getCaretPosition(s,r,n);a.lineTo(i.x1,i.y1),a.lineTo(i.x2,i.y2),a.lineTo(i.x3,i.y3)}getCaretPosition(s,a,r){const{xAlign:n,yAlign:i}=this,{caretSize:o,cornerRadius:l}=r,{topLeft:c,topRight:m,bottomLeft:d,bottomRight:p}=Xm(l),{x,y:j}=s,{width:_,height:S}=a;let v,y,N,C,P,E;return i==="center"?(P=j+S/2,n==="left"?(v=x,y=v-o,C=P+o,E=P-o):(v=x+_,y=v+o,C=P-o,E=P+o),N=v):(n==="left"?y=x+Math.max(c,d)+o:n==="right"?y=x+_-Math.max(m,p)-o:y=this.caretX,i==="top"?(C=j,P=C-o,v=y-o,N=y+o):(C=j+S,P=C+o,v=y+o,N=y-o),E=C),{x1:v,x2:y,x3:N,y1:C,y2:P,y3:E}}drawTitle(s,a,r){const n=this.title,i=n.length;let o,l,c;if(i){const m=Jm(r.rtl,this.x,this.width);for(s.x=Rb(this,r.titleAlign,r),a.textAlign=m.textAlign(r.titleAlign),a.textBaseline="middle",o=dn(r.titleFont),l=r.titleSpacing,a.fillStyle=r.titleColor,a.font=o.string,c=0;c<i;++c)a.fillText(n[c],m.x(s.x),s.y+o.lineHeight/2),s.y+=o.lineHeight+l,c+1===i&&(s.y+=r.titleMarginBottom-l)}}_drawColorBox(s,a,r,n,i){const o=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:m}=i,d=dn(i.bodyFont),p=Rb(this,"left",i),x=n.x(p),j=c<d.lineHeight?(d.lineHeight-c)/2:0,_=a.y+j;if(i.usePointStyle){const S={radius:Math.min(m,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},v=n.leftForLtr(x,m)+m/2,y=_+c/2;s.strokeStyle=i.multiKeyBackground,s.fillStyle=i.multiKeyBackground,Ew(s,S,v,y),s.strokeStyle=o.borderColor,s.fillStyle=o.backgroundColor,Ew(s,S,v,y)}else{s.lineWidth=sa(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,s.strokeStyle=o.borderColor,s.setLineDash(o.borderDash||[]),s.lineDashOffset=o.borderDashOffset||0;const S=n.leftForLtr(x,m),v=n.leftForLtr(n.xPlus(x,1),m-2),y=Xm(o.borderRadius);Object.values(y).some(N=>N!==0)?(s.beginPath(),s.fillStyle=i.multiKeyBackground,By(s,{x:S,y:_,w:m,h:c,radius:y}),s.fill(),s.stroke(),s.fillStyle=o.backgroundColor,s.beginPath(),By(s,{x:v,y:_+1,w:m-2,h:c-2,radius:y}),s.fill()):(s.fillStyle=i.multiKeyBackground,s.fillRect(S,_,m,c),s.strokeRect(S,_,m,c),s.fillStyle=o.backgroundColor,s.fillRect(v,_+1,m-2,c-2))}s.fillStyle=this.labelTextColors[r]}drawBody(s,a,r){const{body:n}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:m,boxPadding:d}=r,p=dn(r.bodyFont);let x=p.lineHeight,j=0;const _=Jm(r.rtl,this.x,this.width),S=function(A){a.fillText(A,_.x(s.x+j),s.y+x/2),s.y+=x+i},v=_.textAlign(o);let y,N,C,P,E,D,T;for(a.textAlign=o,a.textBaseline="middle",a.font=p.string,s.x=Rb(this,v,r),a.fillStyle=r.bodyColor,wa(this.beforeBody,S),j=l&&v!=="right"?o==="center"?m/2+d:m+2+d:0,P=0,D=n.length;P<D;++P){for(y=n[P],N=this.labelTextColors[P],a.fillStyle=N,wa(y.before,S),C=y.lines,l&&C.length&&(this._drawColorBox(a,s,P,_,r),x=Math.max(p.lineHeight,c)),E=0,T=C.length;E<T;++E)S(C[E]),x=p.lineHeight;wa(y.after,S)}j=0,x=p.lineHeight,wa(this.afterBody,S),s.y-=i}drawFooter(s,a,r){const n=this.footer,i=n.length;let o,l;if(i){const c=Jm(r.rtl,this.x,this.width);for(s.x=Rb(this,r.footerAlign,r),s.y+=r.footerMarginTop,a.textAlign=c.textAlign(r.footerAlign),a.textBaseline="middle",o=dn(r.footerFont),a.fillStyle=r.footerColor,a.font=o.string,l=0;l<i;++l)a.fillText(n[l],c.x(s.x),s.y+o.lineHeight/2),s.y+=o.lineHeight+r.footerSpacing}}drawBackground(s,a,r,n){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=s,{width:m,height:d}=r,{topLeft:p,topRight:x,bottomLeft:j,bottomRight:_}=Xm(n.cornerRadius);a.fillStyle=n.backgroundColor,a.strokeStyle=n.borderColor,a.lineWidth=n.borderWidth,a.beginPath(),a.moveTo(l+p,c),o==="top"&&this.drawCaret(s,a,r,n),a.lineTo(l+m-x,c),a.quadraticCurveTo(l+m,c,l+m,c+x),o==="center"&&i==="right"&&this.drawCaret(s,a,r,n),a.lineTo(l+m,c+d-_),a.quadraticCurveTo(l+m,c+d,l+m-_,c+d),o==="bottom"&&this.drawCaret(s,a,r,n),a.lineTo(l+j,c+d),a.quadraticCurveTo(l,c+d,l,c+d-j),o==="center"&&i==="left"&&this.drawCaret(s,a,r,n),a.lineTo(l,c+p),a.quadraticCurveTo(l,c,l+p,c),a.closePath(),a.fill(),n.borderWidth>0&&a.stroke()}_updateAnimationTarget(s){const a=this.chart,r=this.$animations,n=r&&r.x,i=r&&r.y;if(n||i){const o=yf[s.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=UM(this,s),c=Object.assign({},o,this._size),m=VM(a,s,c),d=HM(s,c,m,a);(n._to!==d.x||i._to!==d.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(s){const a=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(a);const n={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=ro(a.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;a.enabled&&l&&(s.save(),s.globalAlpha=r,this.drawBackground(i,s,n,a),iF(s,a.textDirection),i.y+=o.top,this.drawTitle(i,s,a),this.drawBody(i,s,a),this.drawFooter(i,s,a),oF(s,a.textDirection),s.restore())}getActiveElements(){return this._active||[]}setActiveElements(s,a){const r=this._active,n=s.map(({datasetIndex:l,index:c})=>{const m=this.chart.getDatasetMeta(l);if(!m)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:m.data[c],index:c}}),i=!$y(r,n),o=this._positionChanged(n,a);(i||o)&&(this._active=n,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(s,a,r=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,i=this._active||[],o=this._getActiveElements(s,i,a,r),l=this._positionChanged(o,s),c=a||!$y(o,i)||l;return c&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:s.x,y:s.y},this.update(!0,a))),c}_getActiveElements(s,a,r,n){const i=this.options;if(s.type==="mouseout")return[];if(!n)return a.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(s,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(s,a){const{caretX:r,caretY:n,options:i}=this,o=yf[i.position].call(this,s,a);return o!==!1&&(r!==o.x||n!==o.y)}}var SNe={id:"tooltip",_element:GM,positioners:yf,afterInit(t,s,a){a&&(t.tooltip=new GM({chart:t,options:a}))},beforeUpdate(t,s,a){t.tooltip&&t.tooltip.initialize(a)},reset(t,s,a){t.tooltip&&t.tooltip.initialize(a)},afterDraw(t){const s=t.tooltip;if(s&&s._willRender()){const a={tooltip:s};if(t.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0})===!1)return;s.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",a)}},afterEvent(t,s){if(t.tooltip){const a=s.replay;t.tooltip.handleEvent(s.event,a,s.inChartArea)&&(s.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,s)=>s.bodyFont.size,boxWidth:(t,s)=>s.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:MF},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const CNe=(t,s,a,r)=>(typeof s=="string"?(a=t.push(s)-1,r.unshift({index:a,label:s})):isNaN(s)&&(a=null),a);function PNe(t,s,a,r){const n=t.indexOf(s);if(n===-1)return CNe(t,s,a,r);const i=t.lastIndexOf(s);return n!==i?a:n}const kNe=(t,s)=>t===null?null:cn(Math.round(t),0,s);function KM(t){const s=this.getLabels();return t>=0&&t<s.length?s[t]:t}class ENe extends Ip{static id="category";static defaults={ticks:{callback:KM}};constructor(s){super(s),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(s){const a=this._addedLabels;if(a.length){const r=this.getLabels();for(const{index:n,label:i}of a)r[n]===i&&r.splice(n,1);this._addedLabels=[]}super.init(s)}parse(s,a){if(xa(s))return null;const r=this.getLabels();return a=isFinite(a)&&r[a]===s?a:PNe(r,s,Bs(a,s),this._addedLabels),kNe(a,r.length-1)}determineDataLimits(){const{minDefined:s,maxDefined:a}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(s||(r=0),a||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const s=this.min,a=this.max,r=this.options.offset,n=[];let i=this.getLabels();i=s===0&&a===i.length-1?i:i.slice(s,a+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=s;o<=a;o++)n.push({value:o});return n}getLabelForValue(s){return KM.call(this,s)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(s){return typeof s!="number"&&(s=this.parse(s)),s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getPixelForTick(s){const a=this.ticks;return s<0||s>a.length-1?null:this.getPixelForValue(a[s].value)}getValueForPixel(s){return Math.round(this._startValue+this.getDecimalForPixel(s)*this._valueRange)}getBasePixel(){return this.bottom}}function TNe(t,s){const a=[],{bounds:n,step:i,min:o,max:l,precision:c,count:m,maxTicks:d,maxDigits:p,includeBounds:x}=t,j=i||1,_=d-1,{min:S,max:v}=s,y=!xa(o),N=!xa(l),C=!xa(m),P=(v-S)/(p+1);let E=H8((v-S)/_/j)*j,D,T,A,I;if(E<1e-14&&!y&&!N)return[{value:S},{value:v}];I=Math.ceil(v/E)-Math.floor(S/E),I>_&&(E=H8(I*E/_/j)*j),xa(c)||(D=Math.pow(10,c),E=Math.ceil(E*D)/D),n==="ticks"?(T=Math.floor(S/E)*E,A=Math.ceil(v/E)*E):(T=S,A=v),y&&N&&i&&Cve((l-o)/i,E/1e3)?(I=Math.round(Math.min((l-o)/E,d)),E=(l-o)/I,T=o,A=l):C?(T=y?o:T,A=N?l:A,I=m-1,E=(A-T)/I):(I=(A-T)/E,ox(I,Math.round(I),E/1e3)?I=Math.round(I):I=Math.ceil(I));const F=Math.max(W8(E),W8(T));D=Math.pow(10,xa(c)?F:c),T=Math.round(T*D)/D,A=Math.round(A*D)/D;let z=0;for(y&&(x&&T!==o?(a.push({value:o}),T<o&&z++,ox(Math.round((T+z*E)*D)/D,o,QM(o,P,t))&&z++):T<o&&z++);z<I;++z){const O=Math.round((T+z*E)*D)/D;if(N&&O>l)break;a.push({value:O})}return N&&x&&A!==l?a.length&&ox(a[a.length-1].value,l,QM(l,P,t))?a[a.length-1].value=l:a.push({value:l}):(!N||A===l)&&a.push({value:A}),a}function QM(t,s,{horizontal:a,minRotation:r}){const n=zl(r),i=(a?Math.sin(n):Math.cos(n))||.001,o=.75*s*(""+t).length;return Math.min(s/i,o)}class MNe extends Ip{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(s,a){return xa(s)||(typeof s=="number"||s instanceof Number)&&!isFinite(+s)?null:+s}handleTickRangeOptions(){const{beginAtZero:s}=this.options,{minDefined:a,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this;const o=c=>n=a?n:c,l=c=>i=r?i:c;if(s){const c=sl(n),m=sl(i);c<0&&m<0?l(0):c>0&&m>0&&o(0)}if(n===i){let c=i===0?1:Math.abs(i*.05);l(i+c),s||o(n-c)}this.min=n,this.max=i}getTickLimit(){const s=this.options.ticks;let{maxTicksLimit:a,stepSize:r}=s,n;return r?(n=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),a=a||11),a&&(n=Math.min(a,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const s=this.options,a=s.ticks;let r=this.getTickLimit();r=Math.max(2,r);const n={maxTicks:r,bounds:s.bounds,min:s.min,max:s.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:a.includeBounds!==!1},i=this._range||this,o=TNe(n,i);return s.bounds==="ticks"&&Pve(o,this,"value"),s.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const s=this.ticks;let a=this.min,r=this.max;if(super.configure(),this.options.offset&&s.length){const n=(r-a)/Math.max(s.length-1,1)/2;a-=n,r+=n}this._startValue=a,this._endValue=r,this._valueRange=r-a}getLabelForValue(s){return HS(s,this.chart.options.locale,this.options.ticks.format)}}class DNe extends MNe{static id="linear";static defaults={ticks:{callback:XO.formatters.numeric}};determineDataLimits(){const{min:s,max:a}=this.getMinMax(!0);this.min=pn(s)?s:0,this.max=pn(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const s=this.isHorizontal(),a=s?this.width:this.height,r=zl(this.options.ticks.minRotation),n=(s?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,i.lineHeight/n))}getPixelForValue(s){return s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getValueForPixel(s){return this._startValue+this.getDecimalForPixel(s)*this._valueRange}}const m1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fn=Object.keys(m1);function ZM(t,s){return t-s}function XM(t,s){if(xa(s))return null;const a=t._adapter,{parser:r,round:n,isoWeekday:i}=t._parseOpts;let o=s;return typeof r=="function"&&(o=r(o)),pn(o)||(o=typeof r=="string"?a.parse(o,r):a.parse(o)),o===null?null:(n&&(o=n==="week"&&(qx(i)||i===!0)?a.startOf(o,"isoWeek",i):a.startOf(o,n)),+o)}function JM(t,s,a,r){const n=Fn.length;for(let i=Fn.indexOf(t);i<n-1;++i){const o=m1[Fn[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((a-s)/(l*o.size))<=r)return Fn[i]}return Fn[n-1]}function RNe(t,s,a,r,n){for(let i=Fn.length-1;i>=Fn.indexOf(a);i--){const o=Fn[i];if(m1[o].common&&t._adapter.diff(n,r,o)>=s-1)return o}return Fn[a?Fn.indexOf(a):0]}function ANe(t){for(let s=Fn.indexOf(t)+1,a=Fn.length;s<a;++s)if(m1[Fn[s]].common)return Fn[s]}function eD(t,s,a){if(!a)t[s]=!0;else if(a.length){const{lo:r,hi:n}=BS(a,s),i=a[r]>=s?a[r]:a[n];t[i]=!0}}function INe(t,s,a,r){const n=t._adapter,i=+n.startOf(s[0].value,r),o=s[s.length-1].value;let l,c;for(l=i;l<=o;l=+n.add(l,1,r))c=a[l],c>=0&&(s[c].major=!0);return s}function tD(t,s,a){const r=[],n={},i=s.length;let o,l;for(o=0;o<i;++o)l=s[o],n[l]=o,r.push({value:l,major:!1});return i===0||!a?r:INe(t,r,n,a)}class sD extends Ip{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(s){super(s),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(s,a={}){const r=s.time||(s.time={}),n=this._adapter=new mje._date(s.adapters.date);n.init(a),ix(r.displayFormats,n.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(s),this._normalized=a.normalized}parse(s,a){return s===void 0?null:XM(this,s)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const s=this.options,a=this._adapter,r=s.time.unit||"day";let{min:n,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(m){!o&&!isNaN(m.min)&&(n=Math.min(n,m.min)),!l&&!isNaN(m.max)&&(i=Math.max(i,m.max))}(!o||!l)&&(c(this._getLabelBounds()),(s.bounds!=="ticks"||s.ticks.source!=="labels")&&c(this.getMinMax(!1))),n=pn(n)&&!isNaN(n)?n:+a.startOf(Date.now(),r),i=pn(i)&&!isNaN(i)?i:+a.endOf(Date.now(),r)+1,this.min=Math.min(n,i-1),this.max=Math.max(n+1,i)}_getLabelBounds(){const s=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return s.length&&(a=s[0],r=s[s.length-1]),{min:a,max:r}}buildTicks(){const s=this.options,a=s.time,r=s.ticks,n=r.source==="labels"?this.getLabelTimestamps():this._generate();s.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const i=this.min,o=this.max,l=Dve(n,i,o);return this._unit=a.unit||(r.autoSkip?JM(a.minUnit,this.min,this.max,this._getLabelCapacity(i)):RNe(this,l.length,a.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:ANe(this._unit),this.initOffsets(n),s.reverse&&l.reverse(),tD(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(s=>+s.value))}initOffsets(s=[]){let a=0,r=0,n,i;this.options.offset&&s.length&&(n=this.getDecimalForValue(s[0]),s.length===1?a=1-n:a=(this.getDecimalForValue(s[1])-n)/2,i=this.getDecimalForValue(s[s.length-1]),s.length===1?r=i:r=(i-this.getDecimalForValue(s[s.length-2]))/2);const o=s.length<3?.5:.25;a=cn(a,0,o),r=cn(r,0,o),this._offsets={start:a,end:r,factor:1/(a+1+r)}}_generate(){const s=this._adapter,a=this.min,r=this.max,n=this.options,i=n.time,o=i.unit||JM(i.minUnit,a,r,this._getLabelCapacity(a)),l=Bs(n.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,m=qx(c)||c===!0,d={};let p=a,x,j;if(m&&(p=+s.startOf(p,"isoWeek",c)),p=+s.startOf(p,m?"day":o),s.diff(r,a,o)>1e5*l)throw new Error(a+" and "+r+" are too far apart with stepSize of "+l+" "+o);const _=n.ticks.source==="data"&&this.getDataTimestamps();for(x=p,j=0;x<r;x=+s.add(x,l,o),j++)eD(d,x,_);return(x===r||n.bounds==="ticks"||j===1)&&eD(d,x,_),Object.keys(d).sort(ZM).map(S=>+S)}getLabelForValue(s){const a=this._adapter,r=this.options.time;return r.tooltipFormat?a.format(s,r.tooltipFormat):a.format(s,r.displayFormats.datetime)}format(s,a){const n=this.options.time.displayFormats,i=this._unit,o=a||n[i];return this._adapter.format(s,o)}_tickFormatFunction(s,a,r,n){const i=this.options,o=i.ticks.callback;if(o)return qa(o,[s,a,r],this);const l=i.time.displayFormats,c=this._unit,m=this._majorUnit,d=c&&l[c],p=m&&l[m],x=r[a],j=m&&p&&x&&x.major;return this._adapter.format(s,n||(j?p:d))}generateTickLabels(s){let a,r,n;for(a=0,r=s.length;a<r;++a)n=s[a],n.label=this._tickFormatFunction(n.value,a,s)}getDecimalForValue(s){return s===null?NaN:(s-this.min)/(this.max-this.min)}getPixelForValue(s){const a=this._offsets,r=this.getDecimalForValue(s);return this.getPixelForDecimal((a.start+r)*a.factor)}getValueForPixel(s){const a=this._offsets,r=this.getDecimalForPixel(s)/a.factor-a.end;return this.min+r*(this.max-this.min)}_getLabelSize(s){const a=this.options.ticks,r=this.ctx.measureText(s).width,n=zl(this.isHorizontal()?a.maxRotation:a.minRotation),i=Math.cos(n),o=Math.sin(n),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*o,h:r*o+l*i}}_getLabelCapacity(s){const a=this.options.time,r=a.displayFormats,n=r[a.unit]||r.millisecond,i=this._tickFormatFunction(s,0,tD(this,[s],this._majorUnit),n),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let s=this._cache.data||[],a,r;if(s.length)return s;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(a=0,r=n.length;a<r;++a)s=s.concat(n[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const s=this._cache.labels||[];let a,r;if(s.length)return s;const n=this.getLabels();for(a=0,r=n.length;a<r;++a)s.push(XM(this,n[a]));return this._cache.labels=this._normalized?s:this.normalize(s)}normalize(s){return KO(s.sort(ZM))}}function Ab(t,s,a){let r=0,n=t.length-1,i,o,l,c;a?(s>=t[r].pos&&s<=t[n].pos&&({lo:r,hi:n}=Xd(t,"pos",s)),{pos:i,time:l}=t[r],{pos:o,time:c}=t[n]):(s>=t[r].time&&s<=t[n].time&&({lo:r,hi:n}=Xd(t,"time",s)),{time:i,pos:l}=t[r],{time:o,pos:c}=t[n]);const m=o-i;return m?l+(c-l)*(s-i)/m:l}class yze extends sD{static id="timeseries";static defaults=sD.defaults;constructor(s){super(s),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const s=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(s);this._minPos=Ab(a,this.min),this._tableRange=Ab(a,this.max)-this._minPos,super.initOffsets(s)}buildLookupTable(s){const{min:a,max:r}=this,n=[],i=[];let o,l,c,m,d;for(o=0,l=s.length;o<l;++o)m=s[o],m>=a&&m<=r&&n.push(m);if(n.length<2)return[{time:a,pos:0},{time:r,pos:1}];for(o=0,l=n.length;o<l;++o)d=n[o+1],c=n[o-1],m=n[o],Math.round((d+c)/2)!==m&&i.push({time:m,pos:o/(l-1)});return i}_generate(){const s=this.min,a=this.max;let r=super.getDataTimestamps();return(!r.includes(s)||!r.length)&&r.splice(0,0,s),(!r.includes(a)||r.length===1)&&r.push(a),r.sort((n,i)=>n-i)}_getTimestampsForTable(){let s=this._cache.all||[];if(s.length)return s;const a=this.getDataTimestamps(),r=this.getLabelTimestamps();return a.length&&r.length?s=this.normalize(a.concat(r)):s=a.length?a:r,s=this._cache.all=s,s}getDecimalForValue(s){return(Ab(this._table,s)-this._minPos)/this._tableRange}getValueForPixel(s){const a=this._offsets,r=this.getDecimalForPixel(s)/a.factor-a.end;return Ab(this._table,r*this._tableRange+this._minPos,!0)}}const ONe=async t=>{const s={};return t?.page&&(s.page=t.page),t?.limit&&(s.limit=t.limit),t?.action&&(s.action=t.action),t?.user_id&&(s.user_id=t.user_id),t?.start_date&&(s.start_date=t.start_date),t?.end_date&&(s.end_date=t.end_date),(await ie.get("/audit-logs",{params:s})).data.data},Aw={all:["audit-logs"],lists:()=>[...Aw.all,"list"],list:t=>[...Aw.lists(),t]},DF=(t,s)=>st({queryKey:Aw.list(t),queryFn:()=>ONe(t),staleTime:180*1e3,...s}),FNe=(t,s)=>t.find(r=>r.id===s)?.code||"TZS",LNe=t=>({USD:"$",EUR:"",GBP:"",JPY:"",INR:"",TZS:"TZS",CAD:"C$",AUD:"A$"})[t]||t,$Ne=(t,s,a=[],r=1)=>{const n=FNe(a,r),i=LNe(n);if(n==="TZS"&&!a.length)return`TZS ${t.toLocaleString()}`;if(s)return s.replace(/[$]|[A-Z]{2,3}/g,o=>o.length>=2?`${i} `:`${i} `);if(n==="INR"){if(t>=1e5){const o=t/1e5;return`${i} ${o.toFixed(1)}L`}return`${i} ${t.toLocaleString("en-IN")}`}return`${i} ${new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}`},Ga=()=>{const{currencies:t,defaultCurrencyId:s}=Bye();return{formatCurrency:(a,r)=>$Ne(a,r,t,s),currencies:t,defaultCurrencyId:s}},zNe=async()=>(await ie.get("/dashboard/statistics")).data.data,qNe=async(t=30)=>(await ie.get("/dashboard/sales-performance",{params:{period:t}})).data.data,BNe=async(t=30,s=5)=>(await ie.get("/dashboard/top-products",{params:{period:t,limit:s}})).data.data,UNe=async()=>(await ie.get("/dashboard/order-status")).data.data,p1=180*1e3,VNe=()=>st({queryKey:["dashboardStatistics"],queryFn:zNe,staleTime:p1}),HNe=(t=30)=>st({queryKey:["salesPerformance",t],queryFn:()=>qNe(t),staleTime:p1}),WNe=(t=30,s=5)=>st({queryKey:["topProducts",t,s],queryFn:()=>BNe(t,s),staleTime:p1}),YNe=()=>st({queryKey:["orderStatus"],queryFn:UNe,staleTime:p1}),RF="label";function aD(t,s){typeof t=="function"?t(s):t&&(t.current=s)}function GNe(t,s){const a=t.options;a&&s&&Object.assign(a,s)}function AF(t,s){t.labels=s}function IF(t,s,a=RF){const r=[];t.datasets=s.map(n=>{const i=t.datasets.find(o=>o[a]===n[a]);return!i||!n.data||r.includes(i)?{...n}:(r.push(i),Object.assign(i,n),i)})}function KNe(t,s=RF){const a={labels:[],datasets:[]};return AF(a,t.labels),IF(a,t.datasets,s),a}function QNe(t,s){const{height:a=150,width:r=300,redraw:n=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:m=[],fallbackContent:d,updateMode:p,...x}=t,j=g.useRef(null),_=g.useRef(null),S=()=>{j.current&&(_.current=new c1(j.current,{type:o,data:KNe(l,i),options:c&&{...c},plugins:m}),aD(s,_.current))},v=()=>{aD(s,null),_.current&&(_.current.destroy(),_.current=null)};return g.useEffect(()=>{!n&&_.current&&c&&GNe(_.current,c)},[n,c]),g.useEffect(()=>{!n&&_.current&&AF(_.current.config.data,l.labels)},[n,l.labels]),g.useEffect(()=>{!n&&_.current&&l.datasets&&IF(_.current.config.data,l.datasets,i)},[n,l.datasets]),g.useEffect(()=>{_.current&&(n?(v(),setTimeout(S)):_.current.update(p))},[n,c,l.labels,l.datasets,p]),g.useEffect(()=>{_.current&&(v(),setTimeout(S))},[o]),g.useEffect(()=>(S(),()=>v()),[]),e.jsx("canvas",{ref:j,role:"img",height:a,width:r,...x,children:d})}const OF=g.forwardRef(QNe);function JS(t,s){return c1.register(s),g.forwardRef((a,r)=>e.jsx(OF,{...a,ref:r,type:t}))}const rD=JS("line",uje),ZNe=JS("bar",lje),XNe=JS("doughnut",dje),JNe=({open:t,onClose:s,request:a,type:r})=>{const n=tS(),i=pt({initialValues:{remarks:""},validationSchema:nt({remarks:ce().required(`${r==="approve"?"Approval":"Rejection"} remarks are required`).trim().min(1,`${r==="approve"?"Approval":"Rejection"} remarks are required`)}),enableReinitialize:!0,onSubmit:async l=>{if(!(!a||!a.approvals?.[0]))try{await n.mutateAsync({request_id:a.id,approval_id:a.approvals[0].id,action:r==="approve"?"A":"R",remarks:l.remarks.trim()}),i.resetForm(),s()}catch(c){console.error("Error taking action on request:",c)}}}),o=()=>{i.resetForm(),s()};return e.jsxs(ol,{open:t,onClose:o,maxWidth:"sm",fullWidth:!0,className:"!rounded-lg",children:[e.jsxs(gg,{className:"!flex !items-center !gap-3 !pb-4 !border-b !border-gray-200 !relative",children:[e.jsx("div",{className:`!w-12 !h-12 !rounded-full !flex !items-center !justify-center !shrink-0 ${r==="approve"?"!bg-green-100":"!bg-red-100"}`,children:r==="approve"?e.jsx(No,{className:"!w-6 !h-6 !text-green-600"}):e.jsx(Kr,{className:"!w-6 !h-6 !text-red-600"})}),e.jsxs("div",{className:"!flex-1",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900",children:r==="approve"?"Approve Request?":"Reject Request?"}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mt-1",children:r==="approve"?e.jsxs(e.Fragment,{children:["Are you sure you want to approve this"," ",a?.request_type?.replaceAll("_"," ").toLowerCase()||"request"," ","from"," ",e.jsx("span",{className:"!font-semibold !text-gray-900",children:a?.requester?.name||"User"}),"?"]}):e.jsxs(e.Fragment,{children:["Are you sure you want to reject this"," ",a?.request_type?.toLowerCase()||"request"," from"," ",e.jsx("span",{className:"!font-semibold !text-gray-900",children:a?.requester?.name||"User"}),"?"]})})]}),e.jsx(Ws,{onClick:o,className:"!absolute !top-2 !right-2 !bg-white !rounded-full !shadow-md hover:!bg-gray-100 !border !border-gray-200",size:"small",children:e.jsx(Kr,{className:"!w-4 !h-4 !text-gray-600"})})]}),e.jsxs(Pp,{className:"!p-4",children:[a&&e.jsxs("div",{className:"!mb-4 !pb-4 !border-b !border-gray-200",children:[e.jsx(f,{variant:"subtitle2",className:"!font-semibold !text-gray-700 !mb-3",children:"Request Details"}),a.reference_details?e.jsxs("div",{className:"!bg-gray-50 !rounded-md !p-4 !border !border-gray-200",children:[a.request_type==="ORDER_APPROVAL"&&e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[a.reference_details.order_number&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Order Number"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.reference_details.order_number})]}),a.reference_details.customer_name&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Customer Name"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.reference_details.customer_name})]}),a.reference_details.customer_code&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Customer Code"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.reference_details.customer_code})]}),a.reference_details.salesperson_name&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Salesperson"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.reference_details.salesperson_name})]}),a.reference_details.total_amount&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Total Amount"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-primary-600",children:a.reference_details.total_amount})]}),a.reference_details.order_date&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Order Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.reference_details.order_date})]}),a.reference_details.payment_method&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Payment Method"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.reference_details.payment_method})]}),a.reference_details.status&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Order Status"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.reference_details.status})]})]}),a.request_type==="ASSET_MOVEMENT_APPROVAL"&&e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[a.reference_details.movement_number&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Movement Number"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.reference_details.movement_number})]}),a.reference_details.movement_type&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Movement Type"}),e.jsx(f,{variant:"body2",className:"!font-semibold !capitalize !text-gray-900",children:a.reference_details.movement_type})]}),a.reference_details.from_location&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"From Location"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.reference_details.from_location})]}),a.reference_details.to_location&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"To Location"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.reference_details.to_location})]}),a.reference_details.performed_by&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Performed By"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.reference_details.performed_by})]}),a.reference_details.movement_date&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Movement Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.reference_details.movement_date})]}),a.reference_details.assets&&e.jsxs("div",{className:"!space-y-1 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Assets"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.reference_details.assets})]}),a.reference_details.notes&&e.jsxs("div",{className:"!space-y-1 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Notes"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.reference_details.notes})]})]})]}):e.jsx("div",{className:"!bg-gray-50 !rounded-md !p-4 !border !border-gray-200",children:e.jsx(f,{variant:"body2",className:"!text-gray-600 !text-center",children:"No request details available"})})]}),e.jsx(oe,{name:"remarks",multiline:!0,rows:3,label:r==="approve"?"Approval Remarks":"Rejection Remarks",placeholder:r==="approve"?"Enter approval remarks...":"Enter rejection remarks...",formik:i,required:!0})]}),e.jsxs(Cp,{className:"!px-6 !py-4 !gap-2",children:[e.jsx(G,{variant:"outlined",onClick:o,children:"Cancel"}),e.jsx(G,{variant:"contained",color:r==="approve"?"success":"error",startIcon:r==="approve"?e.jsx(No,{className:"!w-4 !h-4"}):e.jsx(Kr,{className:"!w-4 !h-4"}),onClick:()=>i.handleSubmit(),disabled:n.isPending||!i.isValid||!i.values.remarks.trim(),children:n.isPending?r==="approve"?"Approving...":"Rejecting...":r==="approve"?"Yes, Approve":"Yes, Reject"})]})]})};c1.register(ENe,DNe,F2e,d1,U2e,P2e,gNe,SNe,fNe,cNe);const nD=()=>{const t=Fs(),{data:s,isLoading:a}=VNe(),{data:r,isLoading:n}=HNe(30),{data:i,isLoading:o}=WNe(30,5),{data:l,isLoading:c}=YNe(),{data:m,isLoading:d}=eS({page:1,limit:10,status:"P"}),{data:p,isLoading:x}=DF({page:1,limit:5}),{formatCurrency:j}=Ga(),[_,S]=g.useState(!1),[v,y]=g.useState(null),[N,C]=g.useState("approve"),P=_e=>{y(_e),C("approve"),S(!0)},E=_e=>{y(_e),C("reject"),S(!0)},D=()=>{S(!1),y(null)},T={primary:"#3b82f6",success:"#10b981",warning:"#f59e0b",danger:"#ef4444",purple:"#8b5cf6"},A=_e=>{const Ie={blue:{bg:"bg-blue-50",text:"text-blue-600",icon:"bg-blue-100",progress:"bg-blue-500"},pink:{bg:"bg-pink-50",text:"text-pink-600",icon:"bg-pink-100",progress:"bg-pink-500"},cyan:{bg:"bg-cyan-50",text:"text-cyan-600",icon:"bg-cyan-100",progress:"bg-cyan-500"},green:{bg:"bg-green-50",text:"text-green-600",icon:"bg-green-100",progress:"bg-green-500"},purple:{bg:"bg-purple-50",text:"text-purple-600",icon:"bg-purple-100",progress:"bg-purple-500"},orange:{bg:"bg-orange-50",text:"text-orange-600",icon:"bg-orange-100",progress:"bg-orange-500"}};return Ie[_e]||Ie.blue},I=[{title:"Total Orders",value:s?.totalOrders.value.toLocaleString()||"0",description:`${s?.totalOrders.growthPercentage||"0"}% This Month`,icon:tce,color:"blue",progress:s?Math.min(s.totalOrders.thisMonth/s.totalOrders.value*100,100):0},{title:"Sales Revenue",value:j(s?.salesRevenue.value||0,s?.salesRevenue.formatted),description:`${s?.salesRevenue.growthPercentage||"0"}% vs Target`,icon:ece,color:"green",progress:s?parseFloat(s.salesRevenue.targetProgress):0},{title:"Deliveries",value:s?.deliveries.value.toLocaleString()||"0",description:`${s?.deliveries.successRate||"0"}% Success Rate`,icon:ace,color:"cyan",progress:s?parseFloat(s.deliveries.successRate):0},{title:"Active Outlets",value:s?.activeOutlets.value.toLocaleString()||"0",description:`${s?.activeOutlets.thisWeek||0} New This Week`,icon:rce,color:"pink",progress:s?Math.min(s.activeOutlets.thisMonth/s.activeOutlets.value*100,100):0}],F=r?.labels||[],z={labels:F,datasets:[{label:"Daily Sales",data:r?.sales||[],borderColor:T.primary,backgroundColor:T.primary+"20",tension:.4,fill:!1}]},O=l?.labels.map(_e=>_e?.charAt(0).toUpperCase()+_e?.slice(1))||[],K={labels:O,datasets:[{data:l?.values||[],backgroundColor:[T.primary,T.success,T.warning,T.danger,T.purple],borderWidth:0}]},W=i?.products.map(_e=>_e.length>15?_e.substring(0,15)+"...":_e)||[],B=i?.products||[],q={labels:W,datasets:[{label:"Units Sold",data:i?.quantities||[],backgroundColor:T.primary,borderColor:T.primary,borderWidth:1}]},H={labels:F,datasets:[{label:"Revenue",data:r?.sales||[],borderColor:T.success,backgroundColor:T.success+"40",tension:.4,fill:!0}]},Q=s?Math.round(s.totalOrders.value/Math.max(F.length,1)):0,V=F.map((_e,Ie)=>Q+Ie%3),M={labels:F,datasets:[{label:"Sales",data:r?.sales||[],type:"bar",backgroundColor:T.warning,borderColor:T.warning,borderWidth:1,yAxisID:"y"},{label:"Orders",data:V,type:"line",borderColor:T.danger,backgroundColor:T.danger+"20",tension:.4,fill:!1,yAxisID:"y1"}]},R=F.length>0,$=O.length>0,Y=W.length>0,J=F.length>0,te=F.length>0,ee={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}},ne={...ee,plugins:{...ee.plugins,tooltip:{callbacks:{label:_e=>`Daily Sales: ${j(_e.parsed.y)}`}}},scales:{x:{ticks:{maxRotation:45,minRotation:45}}}},he={...ee,plugins:{...ee.plugins,tooltip:{callbacks:{label:_e=>{const Ie=_e.dataIndex;return`${B[Ie]||_e.dataset.label}: ${j(_e.parsed.y)}`}}}},scales:{x:{ticks:{maxRotation:45,minRotation:45}}}},de={...ee,plugins:{...ee.plugins,legend:{position:"bottom"},tooltip:{callbacks:{label:_e=>{const Ie=_e.dataset.data.reduce((ke,He)=>ke+He,0),et=(_e.parsed/Ie*100).toFixed(1);return`${_e.label}: ${j(_e.parsed)} (${et}%)`}}}}},ae={...ee,plugins:{...ee.plugins,tooltip:{callbacks:{label:_e=>{const Ie=_e.dataset.label||"",et=_e.parsed.y;return`${Ie}: ${j(et)}`}}}},scales:{x:{ticks:{maxRotation:45,minRotation:45}},y:{type:"linear",display:!0,position:"left"},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1}}}},xe=a||n||o||c||d||x,ge=()=>e.jsx("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{variant:"text",width:280,height:32,className:"!mb-2"}),e.jsx(X,{variant:"text",width:400,height:20})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(X,{variant:"rectangular",width:140,height:28,className:"!rounded-full"}),e.jsx(X,{variant:"rectangular",width:100,height:28,className:"!rounded-full"}),e.jsx(X,{variant:"rectangular",width:150,height:28,className:"!rounded-full"})]})]})}),le=()=>e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx(X,{variant:"text",width:120,height:16}),e.jsx(X,{variant:"circular",width:32,height:32,className:"!bg-gray-200"})]}),e.jsxs("div",{className:"flex items-end gap-2 mb-4",children:[e.jsx(X,{variant:"text",width:100,height:32}),e.jsx(X,{variant:"text",width:140,height:16})]}),e.jsx(X,{variant:"rectangular",width:"100%",height:8,className:"!rounded-full !bg-gray-200"})]}),me=({height:_e=288})=>e.jsx("div",{className:"relative",style:{height:`${_e}px`},children:e.jsx("div",{className:"absolute inset-0 flex flex-col",children:e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-12 flex flex-col justify-between w-12",children:[1,2,3,4,5].map(Ie=>e.jsx(X,{variant:"text",width:40,height:12,className:"!bg-gray-200"},Ie))}),e.jsx("div",{className:"absolute left-12 right-0 top-0 bottom-12 flex items-end justify-between gap-2 px-4",children:[1,2,3,4,5,6,7,8,9,10].map(Ie=>e.jsx(X,{variant:"rectangular",width:"8%",style:{height:`${60+Ie%3*15}%`},className:"!bg-gray-200 !rounded-t"},Ie))}),e.jsx("div",{className:"absolute left-12 right-0 bottom-0 h-12 flex items-center justify-between px-4",children:[1,2,3,4,5,6,7,8,9,10].map(Ie=>e.jsx(X,{variant:"text",width:30,height:12,className:"!bg-gray-200"},Ie))})]})})}),Ae=()=>e.jsxs("div",{className:"h-72 w-full flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(X,{variant:"circular",width:200,height:200,className:"!bg-gray-200"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(X,{variant:"circular",width:100,height:100,className:"!bg-white"})})]}),e.jsx("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2",children:[1,2].map(_e=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"rectangular",width:12,height:12,className:"!bg-gray-200 !rounded"}),e.jsx(X,{variant:"text",width:80,height:14})]},_e))})]}),Ce=()=>e.jsx("div",{className:"space-y-4",children:[1,2,3].map(_e=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx(X,{variant:"text",width:120,height:16}),e.jsx(X,{variant:"text",width:80,height:16})]}),e.jsx(X,{variant:"rectangular",width:"100%",height:8,className:"!rounded-full !bg-gray-200 !mb-1"}),e.jsx(X,{variant:"text",width:150,height:12})]},_e))});return xe?e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(ge,{}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(_e=>e.jsx(le,{},_e))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:e.jsx(me,{height:288})})}),e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"bg-white shadow-sm p-1 rounded-lg border border-gray-100",children:[e.jsx(X,{variant:"text",width:150,height:24,className:"!mb-4"}),e.jsx(Ae,{})]})})]}),e.jsx("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:e.jsx(me,{height:288})}),e.jsx("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:e.jsx(me,{height:288})}),e.jsx("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:e.jsx(me,{height:320})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx(X,{variant:"text",width:180,height:24,className:"!mb-4"}),e.jsx("div",{className:"h-64 w-full flex items-center justify-center",children:e.jsx(X,{variant:"circular",width:200,height:200,className:"!bg-gray-200"})})]}),e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx(X,{variant:"text",width:150,height:24,className:"!mb-4"}),e.jsx(Ce,{})]})]})]}):e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-blue-600 mb-1",children:"Executive Dashboard"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Track your sales performance, orders, and field operations"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:[j(s?.salesRevenue.value||0,s?.salesRevenue.formatted)," ","Revenue MTD"]}),e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:[s?.totalOrders.value.toLocaleString()||"0"," Orders"]}),e.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm font-medium",children:[s?.deliveries.successRate||"0","% Delivery Success"]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:I.map(_e=>{const Ie=A(_e.color);return e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("span",{className:"text-sm text-gray-500 font-medium",children:_e.title}),e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${Ie.icon}`,children:e.jsx(_e.icon,{size:16})})]}),e.jsxs("div",{className:"flex items-end gap-2 mb-4",children:[e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:_e.value}),e.jsx("span",{className:`text-sm font-medium ${Ie.text}`,children:_e.description})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${Ie.progress}`,style:{width:`${Math.min(_e.progress,100)}%`}})})]},_e.title)})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pending Approvals"}),e.jsx(ii,{variant:"outlined",size:"small",onClick:()=>t("/workflows/approvals"),children:"View All"})]}),d?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(_e=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsx(X,{variant:"text",width:"60%",height:20,className:"!mb-2"}),e.jsx(X,{variant:"text",width:"40%",height:16,className:"!mb-3"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"rectangular",width:80,height:24}),e.jsx(X,{variant:"rectangular",width:80,height:24})]})]},_e))}):m?.data&&m.data.length>0?e.jsx("div",{className:"space-y-2 max-h-72 hide-scrollbar overflow-y-auto",children:m.data.map(_e=>{const Ie=_e.requester?.name||`User #${_e.requester_id}`,et=_e.request_type.replace(/_/g," ").replace(/\w\S*/g,be=>be.charAt(0)+be.substr(1).toLowerCase());let ke=`#${_e.reference_id}`;_e.reference_details&&(_e.request_type==="ORDER_APPROVAL"&&_e.reference_details.order_number?ke=_e.reference_details.order_number:_e.request_type==="ASSET_MOVEMENT_APPROVAL"&&_e.reference_details.movement_number&&(ke=_e.reference_details.movement_number));const He=_e.approvals?.[0]?.status||_e.status;return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("div",{className:"flex justify-between items-center gap-2 flex-1 min-w-0",children:e.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:ke})})}),e.jsxs("p",{className:"text-gray-600 text-xs leading-tight block mb-3",children:[e.jsx("span",{className:"font-medium text-gray-800",children:Ie})," ","has requested"," ",e.jsx("span",{className:"font-medium text-gray-800",children:et}),_e.request_type==="ORDER_APPROVAL"&&e.jsxs(e.Fragment,{children:[" ","for order"," ",e.jsx("span",{className:"font-semibold text-blue-600",children:ke})]}),_e.request_type==="ASSET_MOVEMENT_APPROVAL"&&e.jsxs(e.Fragment,{children:[" ","for asset movement"," ",e.jsx("span",{className:"font-semibold text-green-600",children:ke})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:_e.createdate&&e.jsx("span",{className:"text-gray-500 text-xs",children:Xc(_e.createdate.toString())})}),e.jsxs("div",{className:"flex gap-2 shrink-0",children:[e.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",onClick:()=>P(_e),disabled:He?.toUpperCase()!=="P"&&He?.toUpperCase()!=="PENDING",children:"Approve"}),e.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",onClick:()=>E(_e),disabled:He?.toUpperCase()!=="P"&&He?.toUpperCase()!=="PENDING",children:"Reject"})]})]})]},_e.id)})}):e.jsx("div",{className:"h-72 flex items-center justify-center bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400 mx-auto mb-2 flex justify-center",children:e.jsx(DT,{size:48})}),e.jsx("span",{className:"text-gray-500",children:"No pending approvals"})]})})]})}),e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Status"}),c?e.jsx(Ae,{}):$?e.jsx("div",{className:"h-72 w-full flex items-center justify-center",children:e.jsx(XNe,{data:K,options:de})}):e.jsx("div",{className:"h-72 flex items-center justify-center bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400 mx-auto mb-2 flex justify-center",children:e.jsx(DT,{size:48})}),e.jsx("span",{className:"text-gray-500",children:"No order data available"})]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[Y&&e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Selling Products (Last 30 Days)"}),o?e.jsx(me,{height:288}):e.jsx("div",{className:"h-72 w-full",children:e.jsx(ZNe,{data:q,options:he})})]}),J&&e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trend"}),n?e.jsx(me,{height:288}):e.jsx("div",{className:"h-72 w-full",children:e.jsx(rD,{data:H,options:ne})})]})]}),te&&e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales vs Orders Performance"}),n?e.jsx(me,{height:320}):e.jsx("div",{className:"h-80 w-full",children:e.jsx(OF,{type:"bar",data:M,options:ae})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[R&&e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales Performance & Trends"}),n?e.jsx(me,{height:288}):e.jsx("div",{className:"h-72 w-full",children:e.jsx(rD,{data:z,options:ne})})]}),p?.logs&&p.logs.length>0&&e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity Logs"}),x?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(_e=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(X,{variant:"circular",width:40,height:40,className:"!bg-gray-200"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{variant:"text",width:"60%",height:20,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"40%",height:16})]})]}),e.jsx(X,{variant:"text",width:"80%",height:16,className:"!mb-2"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"rectangular",width:60,height:20}),e.jsx(X,{variant:"rectangular",width:80,height:20})]})]},_e))}):e.jsx("div",{className:"space-y-2 max-h-80 hide-scrollbar overflow-y-auto",children:p.logs.slice(0,5).map(_e=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"text-xs flex justify-between items-center  text-gray-500 uppercase tracking-wide mb-2",children:[e.jsx("p",{className:"font-medium",children:_e.table_name?.replaceAll("_"," ")}),e.jsx("span",{className:"text-xs text-gray-500 ml-2",children:new Date(_e.changed_at).toLocaleDateString()})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium text-gray-900",children:_e.user_name}),e.jsxs("span",{className:"mx-1",children:[_e.action==="CREATE"&&e.jsx("span",{className:"text-green-600 font-medium",children:"created"}),_e.action==="UPDATE"&&e.jsx("span",{className:"text-blue-600 font-medium",children:"updated"}),_e.action==="DELETE"&&e.jsx("span",{className:"text-red-600 font-medium",children:"deleted"})]}),e.jsxs("span",{className:"text-gray-600",children:["a ",_e.table_name?.replaceAll("_"," ")," record",_e.record_id&&` (ID: ${_e.record_id})`]})]})]},_e.id))}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end",children:e.jsx(ii,{variant:"outlined",size:"small",onClick:()=>t("/reports/audit-logs"),children:"View All Logs"})})]})]}),e.jsx(JNe,{open:_,onClose:D,request:v,type:N})]})},Xt=({children:t,title:s="Delete Confirmation",description:a="Are you sure you want to delete Admin?",onConfirm:r,onCancel:n,confirmText:i="Delete",cancelText:o="Cancel",placement:l="top",disabled:c=!1})=>{const[m,d]=g.useState(!1),p=g.useRef(null),x=()=>{c||d(!0)},j=()=>{d(!1),n?.()},_=()=>{d(!1),r?.()},S=()=>{j()},v=l==="bottom"?"bottom":"top";return e.jsx(e.Fragment,{children:e.jsx(Oa,{open:m,onClose:j,onOpen:()=>{},disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,placement:v,slotProps:{tooltip:{sx:{minWidth:"320px",maxWidth:"360px",padding:0},className:"!relative !w-auto !min-w-0 !max-w-auto !rounded-lg !my-[2px] !bg-white !shadow-xl !border !border-gray-200"},arrow:{className:"color-white",style:{color:"white"}}},title:e.jsx(BZ,{onClickAway:S,children:e.jsxs("div",{onClick:y=>y.stopPropagation(),children:[e.jsx("div",{className:"pt-4 pb-2 px-4",children:e.jsx("div",{className:"flex items-start gap-3",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2 leading-tight",children:s}),e.jsx("p",{className:"text-sm text-gray-600 text-wrap leading-relaxed",children:a})]})})}),e.jsxs("div",{className:"flex justify-end gap-2 pb-4 px-4",children:[e.jsx(G,{type:"button",size:"small",variant:"outlined",onClick:j,children:o}),e.jsx(G,{type:"button",size:"small",onClick:_,children:i})]})]})}),arrow:!0,children:e.jsx("div",{ref:p,onClick:x,className:`inline-block ${c?"cursor-not-allowed opacity-50":"cursor-pointer"}`,children:t})})})},e_e=({children:t,itemName:s="this item",onConfirm:a,onCancel:r})=>e.jsx(Xt,{title:"Delete Confirmation",description:`Are you sure you want to delete ${s}?`,onConfirm:a,onCancel:r,confirmText:"Delete",cancelText:"Cancel",children:t}),ss=({onClick:t,disabled:s=!1,tooltip:a="Edit",size:r="medium"})=>{const n=e.jsx(Ws,{size:r,onClick:i=>{i.stopPropagation(),t?.()},disabled:s,className:"!bg-blue-100 !rounded hover:!bg-blue-200 !text-blue-600",children:e.jsx(vA,{fontSize:"small"})});return a?e.jsx(Oa,{placement:"top",title:a,arrow:!0,children:n}):n},Ht=({onClick:t,disabled:s=!1,tooltip:a="Delete",size:r="medium",confirmDelete:n=!0,itemName:i="this item"})=>{const o=e.jsx(Ws,{size:r,disabled:s,className:"!bg-red-100 !rounded hover:!bg-red-200 !text-red-600",children:e.jsx(Ty,{fontSize:"small"})}),l=a?e.jsx(Oa,{placement:"top",title:a,arrow:!0,children:o}):o;return n?e.jsx(e_e,{itemName:i,onConfirm:t,children:l}):e.jsx("div",{onClick:c=>c.stopPropagation(),children:l})},Ua=({onClick:t,disabled:s=!1,tooltip:a="Action",size:r="medium",icon:n,color:i="primary"})=>{const o=c=>{switch(c){case"error":return"!bg-red-100 hover:!bg-red-200 !text-red-600";case"warning":return"!bg-orange-100 hover:!bg-orange-200 !text-orange-600";case"success":return"!bg-green-100 hover:!bg-green-200 !text-green-600";case"info":return"!bg-blue-100 hover:!bg-blue-200 !text-blue-600";default:return"!bg-gray-100 hover:!bg-gray-200 !text-gray-600"}},l=e.jsx(Ws,{size:r,onClick:t,disabled:s,className:`!rounded ${o(i)} ${s?"!cursor-not-allowed":""}`,children:n});return a?e.jsx(Oa,{placement:"top",title:a,arrow:!0,children:l}):l},Jt=({value:t="",placeholder:s="Search...",onChange:a,onInputChange:r,onEnterPress:n,className:i="",size:o="small",showClear:l=!0,disabled:c=!1,fullWidth:m=!1,debounceMs:d=300})=>{const[p,x]=g.useState(t||"");g.useEffect(()=>{if(d===0){a?.(p);return}const v=setTimeout(()=>{a?.(p)},d);return()=>clearTimeout(v)},[p,d,a]),g.useEffect(()=>{x(t||"")},[t]);const j=g.useCallback(v=>{const y=v.target.value;x(y),r?.(y)},[r]),_=g.useCallback(()=>{x(""),a?.(""),r?.("")},[a,r]),S=g.useCallback(v=>{v.key==="Enter"&&n&&(v.preventDefault(),n(p))},[n,p]);return e.jsx(Ba,{value:p,onChange:j,onKeyDown:S,placeholder:s,size:o,disabled:c,fullWidth:m,className:i,variant:"outlined",slotProps:{input:{startAdornment:e.jsx(D_,{position:"start",children:e.jsx(NA,{className:"!text-gray-400 !text-xl"})}),endAdornment:l&&p&&e.jsx(D_,{position:"end",children:e.jsx(Rle,{className:"!text-gray-400 !text-xl !cursor-pointer hover:!text-gray-600",onClick:_})}),className:"!text-sm"}}})},Se=({formik:t,name:s="",size:a="small",setValue:r,label:n,value:i,required:o,children:l,fullWidth:c=!1,placeholder:m,onBlur:d,onChange:p,disabled:x,disableClearable:j=!1,..._})=>{const S=g.useMemo(()=>l?yt.Children.toArray(l).filter(A=>yt.isValidElement(A)?A.props.value!==void 0:!1).map(A=>{const I=A.props,F=I.value;let z="";const O=I.children;if(typeof O=="string")z=O;else if(yt.isValidElement(O)){const K=O.props;z=(typeof K?.children=="string"?K.children:K?.children?.toString())||F?.toString()||""}else Array.isArray(O)?z=O.map(K=>typeof K=="string"?K:"").join("")||F?.toString()||"":O!=null?z=String(O):z=F?.toString()||"";return{value:F,label:z||F?.toString()||"",disabled:I.disabled||!1}}).filter(A=>A.value!==void 0&&A.value!==null):[],[l]),v=g.useMemo(()=>i!==void 0?i:t&&s&&t.values[s]||null,[i,t?.values[s],s]),y=g.useMemo(()=>v==null||v===""?null:S.find(T=>T.value===v||String(T.value)===String(v))||null,[v,S]),N=g.useCallback((D,T)=>{const A=T?.value??null;t&&s?t.setFieldValue(s,A):r?r(A):p&&p({target:{name:s,value:A},currentTarget:{name:s,value:A}})},[t,s,r,p]),C=g.useCallback(()=>{t&&s&&(t.setFieldTouched(s,!0),t.handleBlur({target:{name:s}})),d&&d({target:{name:s}})},[t,s,d]),P=g.useMemo(()=>!t||!s?!1:t.touched?.[s]&&t.errors?.[s],[t?.touched?.[s],t?.errors?.[s],s]),E=typeof P=="string"?P:void 0;return e.jsxs(Tv,{fullWidth:c,error:!!P,children:[e.jsx(ir,{options:S,value:y,onChange:N,onBlur:C,getOptionLabel:D=>D&&(D.label||String(D.value))||"",isOptionEqualToValue:(D,T)=>!D||!T?!1:D.value===T.value||String(D.value)===String(T.value),getOptionDisabled:D=>D?.disabled||!1,disabled:x,size:a,fullWidth:c,openOnFocus:!0,selectOnFocus:!0,clearOnBlur:!1,disableClearable:!!j,filterOptions:(D,T)=>!T.inputValue||T.inputValue.trim()===""?D:D.filter(A=>A.label.toLowerCase().includes(T.inputValue.toLowerCase())),sx:{minWidth:"160px"},slotProps:{popper:{style:{zIndex:1300},placement:"bottom-start"},listbox:{style:{maxHeight:"300px"}}},renderInput:D=>e.jsx(Ba,{...D,label:n,placeholder:m,required:o,error:!!P,name:s,size:a,sx:{minWidth:"160px"},slotProps:{input:{...D.InputProps,readOnly:!1},htmlInput:{...D.inputProps,required:!1}}}),renderOption:(D,T)=>g.createElement("li",{...D,key:`${T.value}-${T.label}`},T.label),noOptionsText:"No options available",..._}),E&&e.jsx(R4,{children:E})]})},fe=({title:t,value:s,icon:a,color:r="blue",isLoading:n=!1})=>e.jsx(b,{className:"rounded-lg shadow-sm border p-6 bg-white border-gray-200",children:e.jsxs(b,{className:"flex items-center justify-between",children:[e.jsxs(b,{children:[e.jsx("p",{className:`text-sm font-medium text-${r}-500`,children:t}),n?e.jsx(X,{variant:"text",width:64,height:35,className:"mt-1",sx:{bgcolor:"rgba(229, 231, 235, 1)"}}):e.jsx("p",{className:`text-2xl font-bold mt-1 text-${r}-600`,children:s})]}),e.jsx(b,{className:`w-12 h-12 rounded-full flex items-center justify-center bg-${r}-100`,children:e.jsx(b,{className:`text-${r}-600`,children:a})})]})});function t_e(t,s){const[a,r]=g.useState(()=>{if(typeof window>"u")return s;try{const i=window.localStorage.getItem(t);return i?JSON.parse(i):s}catch{return s}});return[a,i=>{try{const o=i instanceof Function?i(a):i;r(o),typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(o))}catch{}}]}const s_e=t=>{const s=t.map(n=>String(n.id)).sort().join("-");let a=0;for(let n=0;n<s.length;n++){const i=s.charCodeAt(n);a=(a<<5)-a+i,a=a&a}return`table-${Math.abs(a).toString(36)}`},a_e=Ne(t=>e.jsx(q4,{focusVisibleClassName:".Mui-focusVisible",disableRipple:!0,...t}))(({theme:t})=>({width:36,height:22,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(14px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:"#65C466",opacity:1,border:0,...t.applyStyles("dark",{backgroundColor:"#2ECA45"})},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:"#33cf4d",border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:t.palette.grey[100],...t.applyStyles("dark",{color:t.palette.grey[600]})},"&.Mui-disabled + .MuiSwitch-track":{opacity:.7,...t.applyStyles("dark",{opacity:.3})}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:18,height:18},"& .MuiSwitch-track":{borderRadius:22/2,backgroundColor:"#E9E9EA",opacity:1,transition:t.transitions.create(["background-color"],{duration:500}),...t.applyStyles("dark",{backgroundColor:"#39393D"})}}));Ne(t=>e.jsx(q4,{focusVisibleClassName:".Mui-focusVisible",disableRipple:!0,...t}))(({theme:t})=>({width:44,height:24,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"200ms","&.Mui-checked":{transform:"translateX(20px)",color:t.palette.primary.main,"& + .MuiSwitch-track":{backgroundColor:t.palette.primary.main,opacity:.2,border:`2px solid ${t.palette.primary.main}`},"&.Mui-disabled + .MuiSwitch-track":{opacity:.1}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:t.palette.primary.main,border:"3px solid #fff",boxShadow:"0 0 0 6px rgba(25, 118, 210, 0.16)"},"&.Mui-disabled .MuiSwitch-thumb":{color:t.palette.grey[300],...t.applyStyles("dark",{color:t.palette.grey[600]})},"&.Mui-disabled + .MuiSwitch-track":{opacity:.3,...t.applyStyles("dark",{opacity:.1})}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:20,height:20,backgroundColor:"#fff",border:"2px solid #E0E0E0",transition:t.transitions.create(["border-color","transform"],{duration:200})},"& .MuiSwitch-track":{borderRadius:24/2,backgroundColor:"#F5F5F5",border:"2px solid #E0E0E0",opacity:1,transition:t.transitions.create(["background-color","border-color"],{duration:200}),...t.applyStyles("dark",{backgroundColor:"#424242",borderColor:"#616161"})}}));function iD(t,s){return s.split(".").reduce((a,r)=>a&&a[r]!==void 0?a[r]:"",t)}function oD(t,s,a){const r=iD(t,String(a)),n=iD(s,String(a));return n<r?-1:n>r?1:0}function r_e(t,s){return t==="none"?()=>0:t==="desc"?(a,r)=>oD(a,r,s):(a,r)=>-oD(a,r,s)}function lD(t){const{order:s,orderBy:a,onRequestSort:r,columns:n,sortable:i,columnVisibility:o}=t,l=m=>d=>{r(d,m)},c=n.filter(m=>{const d=String(m.id);return o?o[d]!==!1:m.isVisible!==!1});return e.jsx(p9,{children:e.jsx(tu,{children:c.map(m=>e.jsx(Vi,{align:m.numeric?"right":"left",padding:m.disablePadding?"none":"normal",sortDirection:a===m.id&&s!=="none"?s:!1,className:lr(m.className,"!border-b !px-1.5 !border-gray-200 !bg-blue-50 !font-semibold","!whitespace-nowrap !text-gray-700 !p-4 !text-sm",m.numeric&&"!justify-end"),style:{width:m.width},children:i&&m.sortable!==!1?e.jsxs(_se,{IconComponent:Yie,slotProps:{icon:{className:"!w-4 !h-4 !text-primary-500"}},active:a===m.id&&s!=="none",direction:a===m.id&&s!=="none"?s:"asc",onClick:l(m.id),className:lr("hover:!text-blue-600 !flex !justify-between",a===m.id&&s!=="none"&&"!text-blue-600"),children:[m.label,a===m.id&&s!=="none"?e.jsx(b,{component:"span",sx:c9,children:s==="desc"?"sorted descending":"sorted ascending"}):null]}):m.label},String(m.id)))})})}function cD({columns:t,rows:s=3}){const a=Array.from({length:s},(i,o)=>o),r=(i,o)=>{const l=["60%","80%","70%","90%","50%","75%"];return l[o%l.length]},n=t.filter(i=>i.isVisible!==!1);return e.jsx(e.Fragment,{children:a.map((i,o)=>e.jsx(tu,{children:n.map((l,c)=>e.jsx(Vi,{align:l.numeric?"right":"left",padding:l.disablePadding?"none":"normal",className:"!border-b !border-gray-100 !h-[50px]",children:e.jsx(b,{className:"!flex !items-center !gap-1.5",children:e.jsx(b,{className:"!flex-1",children:e.jsx(X,{variant:"text",width:r(l,c),height:20,className:"!bg-gray-100 !rounded"})})})},`skeleton-${o}-${String(l.id)}`))},`skeleton-row-${o}`))})}function ct(t){const{data:s,columns:a,sortable:r=!0,pagination:n=!0,onRowClick:i,loading:o=!1,emptyMessage:l="No data available",getRowId:c=(de,ae)=>de.id??ae,initialOrderBy:m,initialOrder:d="none",stickyHeader:p=!1,maxHeight:x,totalCount:j=0,page:_=0,rowsPerPage:S=6,onPageChange:v,isPermission:y=!0,noAccessMessage:N="You do not have permission to access this content",compact:C=!1,tableId:P}=t,[E,D]=g.useState(d),[T,A]=g.useState(()=>{if(m&&d!=="none"){const de=a.find(ae=>ae.id===m);if(de&&de.sortable!==!1)return m}return""}),I=g.useMemo(()=>new Map(a.map(de=>[String(de.id),de])),[a]),F={};a.forEach(de=>{F[String(de.id)]=de.isVisible!==!1});const z=g.useMemo(()=>s_e(a),[a]),[O,K]=t_e(`table-column-visibility-${P||z}`,F),[W,B]=g.useState(null),q=!!W,H=g.useMemo(()=>o?a.filter(de=>de.isVisible!==!1):a.filter(de=>{const ae=String(de.id);return O[ae]!==!1&&de.isVisible!==!1}),[a,O,o]),Q=g.useMemo(()=>a.filter(de=>de.hideable!==!1),[a]),V=(de,ae)=>{I.get(String(ae))?.sortable!==!1&&(T!==ae?(D("asc"),A(ae)):E==="none"?D("asc"):E==="asc"?D("desc"):(D("none"),A("")))},M=(de,ae,xe)=>{i?.(ae,xe)},R=(de,ae)=>{v?.(ae)},$=de=>{B(de.currentTarget)},Y=()=>{B(null)},J=(de,ae)=>{const xe={...O,[de]:ae};K(xe)},te=g.useMemo(()=>!r||!T||E==="none"?s:[...s].sort(r_e(E,T)),[s,E,T,r]),ee=o&&s.length===0,ne=!y,he=()=>ne?e.jsxs(b,{className:"!flex !flex-col !items-center !justify-center !py-16 !px-4",children:[e.jsx(b,{className:"!mb-4 !p-4 !rounded-full !bg-red-100",children:e.jsx(Moe,{className:"!w-12 !h-12 !text-red-500"})}),e.jsxs(b,{className:"!text-center !max-w-md",children:[e.jsx(b,{className:"!text-lg !font-semibold !text-gray-700 !mb-2",children:"Access Denied"}),e.jsx(b,{className:"!text-sm !text-gray-500",children:N})]})]}):ee?e.jsxs($_,{className:C?"":"!min-w-[750px]",size:"small",stickyHeader:p,children:[e.jsx(lD,{order:E,orderBy:T?String(T):"",onRequestSort:()=>{},columns:a,sortable:r}),e.jsx(z_,{children:e.jsx(cD,{columns:a,rows:6})})]}):e.jsxs($_,{className:C?"":"!min-w-[750px]",size:"small",stickyHeader:p,children:[e.jsx(lD,{order:E,orderBy:T?String(T):"",onRequestSort:V,columns:a,sortable:r,columnVisibility:O}),e.jsx(z_,{children:o?e.jsx(cD,{columns:a,rows:S}):te.length===0?e.jsx(tu,{children:e.jsx(Vi,{colSpan:a.length,align:"center",className:"!py-4 !border-none !text-gray-500 !italic",children:l})}):te.map((de,ae)=>{const xe=c(de,ae);return e.jsx(tu,{hover:!0,onClick:ge=>M(ge,de,ae),tabIndex:-1,className:"!whitespace-nowrap last:!border-b-0 !cursor-pointer hover:!bg-gray-50",children:H.map(ge=>e.jsx(Vi,{align:ge.numeric?"right":"left",padding:ge.disablePadding?"none":"normal",className:"!border-b !p-1.5 !border-gray-100 !text-gray-700 !whitespace-nowrap !text-sm",children:ge.render?ge.render(de[ge.id],de,ae):String(de[ge.id]||"")},String(ge.id)))},String(xe))})})]});return e.jsx(b,{className:"!w-full",children:e.jsxs(la,{elevation:0,className:"!bg-white !shadow-sm !rounded-lg !border !border-gray-100",children:[t.actions&&!Array.isArray(t.actions)&&e.jsxs(e.Fragment,{children:[e.jsxs(b,{className:"!p-3 flex items-start justify-between gap-2",children:[t.actions," ",e.jsx(Ws,{className:"!bg-blue-500/20 !size-9.5 !rounded !mt-px",onClick:$,children:e.jsx(Ole,{className:"!text-blue-500"})})]}),e.jsx(or,{className:"!border-gray-200"})]}),e.jsx(Mv,{anchorEl:W,open:q,onClose:Y,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},slotProps:{paper:{className:"!overflow-y-auto relative",sx:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.1)",overflow:"visible"}}},children:e.jsxs(b,{className:"w-72",children:[e.jsx(f,{variant:"subtitle2",className:"!font-semibold p-1.5 !text-gray-700",children:"Show/Hide Columns"}),e.jsx(or,{className:""}),e.jsx(b,{className:"!space-y-2 p-2",children:Q.map(de=>{const ae=String(de.id),xe=O[ae]!==!1;return e.jsx(On,{control:e.jsx(a_e,{checked:xe,onChange:ge=>J(ae,ge.target.checked)}),label:e.jsx(b,{className:"!flex !items-center !gap-2",children:e.jsx(f,{className:"!text-gray-700",children:de.label})}),labelPlacement:"start",className:"!justify-between !w-full !mx-0"},ae)})})]})}),e.jsx(m9,{style:{maxHeight:x},children:he()}),n&&y&&e.jsx(hse,{rowsPerPageOptions:[],component:"div",showFirstButton:!0,showLastButton:!0,count:j,onPageChange:R,page:_,rowsPerPage:S,className:"!border-t !border-gray-200 [&_.MuiTablePagination-toolbar]:!text-gray-700 [&_.MuiTablePagination-selectIcon]:!text-gray-500"})]})})}const n_e=async t=>{try{return(await ie.get("/api-tokens",{params:t})).data}catch(s){throw s}},i_e=async t=>(await ie.patch(`/api-tokens/${t}/revoke`)).data,o_e=async t=>(await ie.delete(`/api-tokens/${t}`)).data,Fc={all:["api-tokens"],lists:()=>[...Fc.all,"list"],list:t=>[...Fc.lists(),t],details:()=>[...Fc.all,"detail"],detail:t=>[...Fc.details(),t]},l_e=(t,s)=>st({queryKey:Fc.list(t||{}),queryFn:()=>n_e(t),staleTime:300*1e3,...s}),c_e=t=>{const s=is();return Te({mutationFn:i_e,loadingMessage:"Revoking token...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Fc.lists()}),s.invalidateQueries({queryKey:Fc.detail(r)})},onError:t?.onError})},d_e=t=>{const s=is();return Te({mutationFn:o_e,loadingMessage:"Deleting token...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Fc.lists()})},onError:t?.onError})},u_e=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState("all"),[o,l]=g.useState(1),[c]=g.useState(10),{isUpdate:m,isDelete:d,isRead:p}=Ze("token"),{data:x,isLoading:j,error:_}=l_e({search:t,page:o,limit:c,isActive:a==="all"?void 0:a==="active"?"Y":"N",isRevoked:n==="all"?void 0:n==="revoked"?"true":"false"},{enabled:p}),S=x?.data||[],v=x?.meta?.total_count||0,y=(x?.meta?.current_page||1)-1,N=c_e(),C=d_e(),P=x?.stats||{},E=P.total_tokens??S.length,D=P.active_tokens??S.filter(q=>q.is_active==="Y").length,T=P.revoked_tokens??S.filter(q=>q.is_revoked).length,A=P.expired_tokens??S.filter(q=>q.expires_at&&new Date(q.expires_at)<new Date).length,I=g.useCallback(async q=>{try{await N.mutateAsync(q)}catch(H){console.error("Error revoking token:",H)}},[N]),F=g.useCallback(async q=>{try{await C.mutateAsync(q)}catch(H){console.error("Error deleting token:",H)}},[C]),z=g.useCallback(q=>{s(q),l(1)},[]),O=q=>{l(q+1)},K=q=>{if(!q)return"Unknown device";const H=q.toLowerCase();if(H.includes("macintosh")||H.includes("mac os x")){const Q=q.match(/Mac OS X (\d+[._]\d+[._]\d+)/),V=Q?Q[1].replace(/_/g,"."):"";if(H.includes("chrome")){const M=q.match(/Chrome\/(\d+\.\d+\.\d+\.\d+)/),R=M?M[1]:"";return`Mac${V?` (macOS ${V})`:""} - Chrome${R?` ${R}`:""}`}if(H.includes("safari")&&!H.includes("chrome"))return`Mac${V?` (macOS ${V})`:""} - Safari`;if(H.includes("firefox"))return`Mac${V?` (macOS ${V})`:""} - Firefox`}if(H.includes("windows")){let Q="";if(H.includes("windows nt 10.0"))Q="Windows 10";else if(H.includes("windows nt 11.0"))Q="Windows 11";else if(H.includes("windows nt 6.3"))Q="Windows 8.1";else if(H.includes("windows nt 6.2"))Q="Windows 8";else if(H.includes("windows nt 6.1"))Q="Windows 7";else{const V=q.match(/Windows NT (\d+\.\d+)/i);if(V){const M=V[1];M==="10.0"?Q="Windows 10":M==="11.0"?Q="Windows 11":M==="6.3"?Q="Windows 8.1":M==="6.2"?Q="Windows 8":M==="6.1"?Q="Windows 7":Q=`Windows NT ${M}`}else Q="Windows"}if(H.includes("chrome")){const V=q.match(/Chrome\/(\d+\.\d+\.\d+\.\d+)/),M=V?V[1]:"";return`${Q}${M?` - Chrome ${M}`:" - Chrome"}`}if(H.includes("firefox")){const V=q.match(/Firefox\/(\d+\.\d+)/),M=V?V[1]:"";return`${Q}${M?` - Firefox ${M}`:" - Firefox"}`}if(H.includes("edge")){const V=q.match(/Edg\/(\d+\.\d+\.\d+\.\d+)/),M=V?V[1]:"";return`${Q}${M?` - Edge ${M}`:" - Edge"}`}return Q}return H.includes("android")&&H.includes("chrome")?"Android - Chrome":(H.includes("iphone")||H.includes("ipad"))&&H.includes("safari")?"iOS - Safari":H.includes("dart")?"Mobile App (Dart)":q},W=q=>q.is_revoked?"revoked":q.expires_at&&new Date(q.expires_at)<new Date?"expired":q.is_active==="Y"?"active":"inactive",B=[{id:"users_api_tokens_user_idTousers",label:"User",render:(q,H)=>{const Q=H.users_api_tokens_user_idTousers;return e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:Q?.name,className:"!rounded !bg-primary-100 !text-primary-500",children:Q?.name?.charAt(0)||"U"}),e.jsxs(b,{className:"!max-w-xs",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:Q?.name||"Unknown User"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:Q?.email||`ID: ${H.user_id}`})]})]})}},{id:"token_type",label:"Token Type",render:(q,H)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:H.token_type||e.jsx("span",{className:"italic text-gray-400",children:"No Token Type"})})},{id:"device_id",label:"Device",render:(q,H)=>e.jsx(Oa,{title:H.device_id||"No Device",arrow:!0,placement:"top",children:e.jsx(f,{variant:"body2",className:"!text-gray-900",children:H.device_id?K(H.device_id):e.jsx("span",{className:"italic text-gray-400",children:"No Device"})})})},{id:"ip_address",label:"IP Address",render:(q,H)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:H.ip_address&&H.ip_address!==""?H.ip_address?.replace(/^::ffff:/,""):e.jsx("span",{className:"italic text-gray-400",children:"No IP"})})},{id:"is_active",label:"Status",render:(q,H)=>{const Q=W(H),M={active:{label:"Active",color:"success",icon:e.jsx(mt,{})},inactive:{label:"Inactive",color:"default",icon:e.jsx(St,{})},revoked:{label:"Revoked",color:"error",icon:e.jsx(St,{})},expired:{label:"Expired",color:"warning",icon:e.jsx(St,{})}}[Q];return e.jsx(Re,{variant:"outlined",icon:M.icon,label:M.label,size:"small",color:M.color})}},{id:"issued_at",label:"Issued At",render:(q,H)=>Fe(H.issued_at?.toString())||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},{id:"expires_at",label:"Expires At",render:(q,H)=>Fe(H.expires_at?.toString())||e.jsx("span",{className:"italic text-gray-400",children:"No Expiry"})},...m||d||p?[{id:"action",label:"Actions",sortable:!1,render:(q,H)=>{const Q=H.is_revoked,V=H.expires_at&&new Date(H.expires_at)<new Date;return e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[m&&!Q&&!V&&e.jsx(e.Fragment,{children:e.jsx(Xt,{title:"Revoke Token",description:"Are you sure you want to revoke this token? It will no longer be usable.",confirmText:"Revoke",onConfirm:()=>I(H.id),children:e.jsx(Ua,{tooltip:`Revoke Token #${H.id}`,disabled:N.isPending,icon:e.jsx(St,{}),color:"error"})})}),d&&e.jsx(Ht,{onClick:()=>F(H.id),tooltip:`Delete Token #${H.id}`,itemName:`Token #${H.id}`,confirmDelete:!0})]})}}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"API Tokens Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage and monitor API tokens for all users"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Tokens",value:E,icon:e.jsx(koe,{className:"w-6 h-6"}),color:"blue",isLoading:j}),e.jsx(fe,{title:"Active Tokens",value:D,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:j}),e.jsx(fe,{title:"Revoked Tokens",value:T,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:j}),e.jsx(fe,{title:"Expired Tokens",value:A,icon:e.jsx(xA,{className:"w-6 h-6"}),color:"orange",isLoading:j})]}),_&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load API tokens. Please try again."}),e.jsx(ct,{data:S,columns:B,actions:p?e.jsx("div",{className:"flex justify-between gap-3 items-center flex-wrap",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(Jt,{placeholder:"Search API Tokens...",value:t,onChange:z,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:q=>r(q.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(Se,{value:n,onChange:q=>i(q.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Revoked"}),e.jsx(Z,{value:"revoked",children:"Revoked"}),e.jsx(Z,{value:"not-revoked",children:"Not Revoked"})]})]})}):!1,getRowId:q=>q.id,initialOrderBy:"id",loading:j,totalCount:v,page:y,rowsPerPage:c,onPageChange:O,isPermission:p,emptyMessage:t?`No API tokens found matching "${t}"`:"No API tokens found in the system"})]})},m_e=async t=>{try{return(await ie.get("/asset-maintenance",{params:t})).data}catch(s){throw console.error("Error fetching asset maintenances:",s),new Error(s.response?.data?.message||"Failed to fetch asset maintenances")}},p_e=async t=>{try{return(await ie.post("/asset-maintenance",t)).data.data}catch(s){throw console.error("Error creating asset maintenance:",s),new Error(s.response?.data?.message||"Failed to create asset maintenance")}},h_e=async(t,s)=>{try{return(await ie.put(`/asset-maintenance/${t}`,s)).data.data}catch(a){throw console.error("Error updating asset maintenance:",a),new Error(a.response?.data?.message||"Failed to update asset maintenance")}},f_e=async t=>{try{await ie.delete(`/asset-maintenance/${t}`)}catch(s){throw console.error("Error deleting asset maintenance:",s),new Error(s.response?.data?.message||"Failed to delete asset maintenance")}},vf={all:["asset-maintenance"],lists:()=>[...vf.all,"list"],list:t=>[...vf.lists(),t],details:()=>[...vf.all,"detail"],detail:t=>[...vf.details(),t]},x_e=(t,s)=>st({queryKey:vf.list(t),queryFn:()=>m_e(t),staleTime:300*1e3,...s}),g_e=()=>Te({mutationFn:p_e,invalidateQueries:["asset-maintenance"],loadingMessage:"Creating asset maintenance..."}),b_e=()=>Te({mutationFn:({id:t,data:s})=>h_e(t,s),invalidateQueries:["asset-maintenance"],loadingMessage:"Updating asset maintenance..."}),y_e=()=>Te({mutationFn:f_e,invalidateQueries:["asset-maintenance"],loadingMessage:"Deleting asset maintenance..."}),v_e=async t=>{try{return(await ie.get(`/import-export/${t}/template`,{responseType:"blob"})).data}catch(s){throw console.error("Error downloading template:",s),new Error(s.response?.data?.message||"Failed to download template")}},j_e=async(t,s,a={})=>{try{const r=new FormData;return r.append("file",s),a.batchSize&&r.append("batchSize",a.batchSize.toString()),a.skipDuplicates!==void 0&&r.append("skipDuplicates",a.skipDuplicates.toString()),a.updateExisting!==void 0&&r.append("updateExisting",a.updateExisting.toString()),(await ie.post(`/import-export/${t}/import`,r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){throw console.error("Error importing data:",r),new Error(r.response?.data?.message||"Failed to import data")}},N_e=async(t,s)=>{try{return(await ie.get(`/import-export/${t}/export/excel`,{params:s,responseType:"blob"})).data}catch(a){throw console.error("Error exporting to Excel:",a),new Error(a.response?.data?.message||"Failed to export to Excel")}},bs=()=>Te({mutationFn:async t=>{const s=await v_e(t),a=window.URL.createObjectURL(s),r=document.createElement("a");return r.href=a,r.download=`${t}_template_${Date.now()}.xlsx`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a),{success:!0,message:"Template downloaded successfully"}},loadingMessage:"Downloading template..."}),ys=t=>Te({mutationFn:({tableName:s,file:a,options:r})=>j_e(s,a,r),loadingMessage:"Importing data...",onSuccess:t?.onSuccess,onError:t?.onError}),ls=()=>Te({mutationFn:async({tableName:t,filters:s})=>{const a=await N_e(t,s),r=window.URL.createObjectURL(a),n=document.createElement("a");return n.href=r,n.download=`${t}_export_${Date.now()}.xlsx`,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r),{success:!0,message:"Data exported to Excel successfully"}},loadingMessage:"Exporting to Excel..."}),__e=nt({file:ps().required("Please select a file to import")}),w_e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:__e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("asset_maintenance")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"asset_maintenance",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Asset Maintenance",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple asset maintenance records. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},S_e=async t=>{try{return(await ie.get("/asset-master",{params:t})).data}catch(s){throw console.error("Error fetching asset master:",s),new Error(s.response?.data?.message||"Failed to fetch asset master")}},C_e=async(t,s)=>{try{const a=new FormData;if(Object.entries(t).forEach(([n,i])=>{i!=null&&a.append(n,i.toString())}),s&&s.length>0){const n=s.map((i,o)=>({caption:`Asset Image ${o+1}`}));a.append("assetImages",JSON.stringify(n))}return s&&s.length>0&&s.forEach(n=>{a.append("assetImages",n)}),(await ie.post("/asset-master",a,{headers:{"Content-Type":"multipart/form-data"}})).data.data}catch(a){throw console.error("Error creating asset master:",a),new Error(a.response?.data?.message||"Failed to create asset master")}},P_e=async(t,s)=>{try{return(await ie.put(`/asset-master/${t}`,s)).data.data}catch(a){throw console.error("Error updating asset master:",a),new Error(a.response?.data?.message||"Failed to update asset master")}},k_e=async t=>{try{await ie.delete(`/asset-master/${t}`)}catch(s){throw console.error("Error deleting asset master:",s),new Error(s.response?.data?.message||"Failed to delete asset master")}},jf={all:["asset-master"],lists:()=>[...jf.all,"list"],list:t=>[...jf.lists(),t],details:()=>[...jf.all,"detail"],detail:t=>[...jf.details(),t]},h1=(t,s)=>st({queryKey:jf.list(t),queryFn:()=>S_e(t),staleTime:300*1e3,...s}),E_e=()=>Te({mutationFn:({data:t,images:s})=>C_e(t,s),invalidateQueries:["asset-master"],loadingMessage:"Creating asset..."}),T_e=()=>Te({mutationFn:({id:t,data:s})=>P_e(t,s),invalidateQueries:["asset-master"],loadingMessage:"Updating asset..."}),M_e=()=>Te({mutationFn:k_e,invalidateQueries:["asset-master"],loadingMessage:"Deleting asset..."}),D_e=nt({asset_id:Ye().required("Asset is required").positive("Asset ID must be positive"),maintenance_date:Ca().required("Maintenance date is required").max(new Date,"Maintenance date cannot be in the future"),issue_reported:ce().max(1e3,"Issue reported must be less than 1000 characters").optional(),action_taken:ce().max(1e3,"Action taken must be less than 1000 characters").optional(),technician_id:Ye().required("Technician is required").positive("Technician ID must be positive"),cost:Ye().min(0,"Cost must be non-negative").optional(),remarks:ce().max(1e3,"Remarks must be less than 1000 characters").optional(),is_active:ce().oneOf(["Y","N"],"Status must be Active or Inactive").required("Status is required")}),FF=Ne("span")(({theme:t})=>({borderRadius:"50%",width:18,height:18,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#f5f8fa",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))",".Mui-focusVisible &":{outline:`2px auto ${t.palette.primary.main}`,outlineOffset:2},"input:hover ~ &":{backgroundColor:t.primaryColors?.[100]},"input:disabled ~ &":{boxShadow:"none",background:"rgba(206,217,224,.5)"}})),R_e=Ne(FF)(({theme:t})=>({backgroundColor:t.palette.primary.main,backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))","&::before":{display:"block",width:18,height:18,backgroundImage:"radial-gradient(#fff,#fff 28%,transparent 32%)",content:'""'},"input:hover ~ &":{backgroundColor:t.primaryColors?.[700]||"#1d4ed8"}})),dD=t=>e.jsx(Sx,{disableRipple:!0,color:"default",checkedIcon:e.jsx(R_e,{}),icon:e.jsx(FF,{}),...t}),Es=({formik:t,name:s,label:a="Status",required:r=!1,className:n="",disabled:i=!1,value:o,onChange:l})=>{const c=o!==void 0?o:t?.values?.[s]||"Y",m=x=>{const j=x.target.value;t?t.setFieldValue(s,j):l&&l(j)},d=t?.touched?.[s]&&t?.errors?.[s],p=typeof d=="string"?d:void 0;return e.jsxs(Tv,{component:"fieldset",className:`${n}`,error:!!d,disabled:i,children:[e.jsxs(Q7,{component:"legend",className:"!text-gray-700 !text-sm !font-medium",children:[a,r&&e.jsx("span",{children:" *"})]}),e.jsxs(Cx,{row:!0,name:s,value:c,onChange:m,className:"!gap-4 pl-1",children:[e.jsx(On,{value:"Y",control:e.jsx(dD,{}),label:"Active",disabled:i}),e.jsx(On,{value:"N",control:e.jsx(dD,{}),label:"Inactive",disabled:i})]}),p&&e.jsx("span",{className:"!text-red-500 !text-xs !mt-1 !ml-2",children:p})]})},A_e=({selectedMaintenance:t,setSelectedMaintenance:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,{data:i}=h1({page:1,limit:1e3,status:"active"}),o=i?.data||[],{data:l}=Gn({page:1,limit:1e3,isActive:"Y"}),c=l?.data||[],m=g_e(),d=b_e(),p=()=>{s(null),r(!1),x.resetForm()},x=pt({initialValues:{asset_id:t?.asset_id?.toString()||"",maintenance_date:$r(t?.maintenance_date),issue_reported:t?.issue_reported||"",action_taken:t?.action_taken||"",technician_id:t?.technician_id?.toString()||"",cost:t?.cost?.toString()||"",remarks:t?.remarks||"",is_active:t?.is_active||"Y"},validationSchema:D_e,enableReinitialize:!0,onSubmit:async j=>{try{const _={asset_id:Number(j.asset_id),maintenance_date:j.maintenance_date,issue_reported:j.issue_reported,action_taken:j.action_taken,technician_id:Number(j.technician_id),cost:j.cost?Number(j.cost):void 0,remarks:j.remarks,is_active:j.is_active};n&&t?await d.mutateAsync({id:t.id,data:_}):await m.mutateAsync(_),p()}catch(_){console.error("Error submitting asset maintenance:",_)}}});return e.jsx(it,{open:a,setOpen:p,title:n?"Edit Asset Maintenance":"Create Asset Maintenance",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsxs(Se,{name:"asset_id",label:"Asset",formik:x,required:!0,children:[e.jsx(Z,{value:"",children:"Select Asset"}),o.map(j=>e.jsxs(Z,{value:j.id?.toString()||"",children:[j.asset_master_asset_types?.name," (",j.serial_number,")"]},j.id))]}),e.jsxs(Se,{name:"technician_id",label:"Technician",formik:x,required:!0,children:[e.jsx(Z,{value:"",children:"Select Technician"}),c.map(j=>e.jsxs(Z,{value:j.id?.toString()||"",children:[j.name," (",j.email,")"]},j.id))]}),e.jsx(oe,{name:"maintenance_date",label:"Maintenance Date",type:"date",formik:x,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(oe,{name:"cost",label:"Cost",type:"number",placeholder:"Enter maintenance cost",formik:x})]}),e.jsx(oe,{name:"issue_reported",label:"Issue Reported",placeholder:"Describe the issue that was reported",formik:x,multiline:!0,rows:3}),e.jsx(oe,{name:"action_taken",label:"Action Taken",placeholder:"Describe the action taken to resolve the issue",formik:x,multiline:!0,rows:3}),e.jsx(oe,{name:"remarks",label:"Remarks",placeholder:"Enter additional remarks",formik:x,multiline:!0,rows:3}),e.jsx(Es,{name:"is_active",formik:x,required:!0,className:"col-span-2"}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,className:"!mr-3",disabled:m.isPending||d.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:m.isPending||d.isPending,children:[m.isPending||d.isPending?n?"Updating...":"Creating...":n?"Update":"Create"," "]})]})]})})})},I_e=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{formatCurrency:j}=Ga(),{isCreate:_,isUpdate:S,isDelete:v,isRead:y}=Ze("maintenance"),{data:N,isLoading:C,error:P}=x_e({search:t,page:d,limit:x,status:a==="all"?void 0:a},{enabled:y}),E=N?.data||[],D=N?.meta?.total||0,T=(N?.meta?.page||1)-1,A=y_e(),I=ls(),F=N?.stats||{},z=F.total_records??0,O=F.active_records??0,K=F.inactive_records??0,W=F.this_month_records??F.records_this_month??0,B=g.useCallback(()=>{i(null),l(!0)},[]),q=g.useCallback($=>{i($),l(!0)},[]),H=g.useCallback(async $=>{try{await A.mutateAsync($)}catch(Y){console.error("Error deleting asset maintenance:",Y)}},[A]),Q=g.useCallback($=>{s($),p(1)},[]),V=$=>{p($+1)},M=g.useCallback(async()=>{try{const $={search:t,status:a==="all"?void 0:a};await I.mutateAsync({tableName:"asset_maintenance",filters:$})}catch($){console.error("Error exporting asset maintenances:",$)}},[I,t,a]),R=[{id:"asset_info",label:"Asset Info",sortable:!1,render:($,Y)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:Y.asset_maintenance_master?.serial_number||"Asset",className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:Y.asset_maintenance_master?.asset_master_asset_types?.name||"Unknown Asset"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:Y.asset_maintenance_master?.serial_number||`Asset #${Y.asset_id}`})]})]})},{id:"maintenance_details",label:"Maintenance Details",sortable:!1,render:($,Y)=>e.jsxs(b,{className:"flex flex-col gap-1",children:[e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(tl,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:Y.issue_reported||"No issue reported"})]}),e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ks,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:Y.action_taken||"No action taken"})]})]})},{id:"technician",label:"Technician",sortable:!1,render:($,Y)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ot,{alt:Y.asset_maintenance_technician?.name,src:Y.asset_maintenance_technician?.profile_image||"mkx",className:"!rounded !bg-primary-100 !text-primary-500"}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:Y.asset_maintenance_technician?.name||"Unknown Technician"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:Y.asset_maintenance_technician?.email||"Unknown Email"})]})]})},{id:"maintenance_date",label:"Date",sortable:!0,render:($,Y)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ws,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:Fe(Y.maintenance_date)})]})},{id:"cost",label:"Cost",sortable:!0,render:($,Y)=>e.jsx(b,{className:"flex items-center gap-1",children:e.jsx("span",{className:"text-xs",children:Y.cost?j(Number(Y.cost)):e.jsx("span",{className:"italic",children:"No Cost"})})})},{id:"remarks",label:"Remarks",sortable:!0,render:($,Y)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ks,{className:"w-3 h-3 text-gray-400"}),e.jsx(Oa,{title:Y.remarks||"No remarks",placement:"top",arrow:!0,children:e.jsx("span",{className:"text-xs truncate max-w-32",children:Y.remarks||"No remarks"})})]})},{id:"is_active",label:"Active Status",sortable:!0,render:($,Y)=>e.jsx(Re,{icon:Y.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:Y.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:Y.is_active==="Y"?"success":"error"})},...S||v||y?[{id:"action",label:"Actions",sortable:!1,render:($,Y)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[S&&e.jsx(ss,{onClick:()=>q(Y),tooltip:`Edit Maintenance #${Y.id}`}),v&&e.jsx(Ht,{onClick:()=>H(Y.id),tooltip:`Delete Maintenance #${Y.id}`,itemName:`Maintenance #${Y.id}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Asset Maintenance"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track and manage asset maintenance records"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Maintenance",value:z,icon:e.jsx(tl,{className:"w-6 h-6"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Active Maintenance",value:O,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Inactive Maintenance",value:K,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:C}),e.jsx(fe,{title:"This Month",value:W,icon:e.jsx(ws,{className:"w-6 h-6"}),color:"purple",isLoading:C})]}),P&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load asset maintenance records. Please try again."}),e.jsx(ct,{data:E,columns:R,actions:y||_?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[y&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Jt,{placeholder:"Search Maintenance Records...",value:t,onChange:Q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:$=>r($.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[y&&e.jsx(Xt,{title:"Export Asset Maintenance",description:"Are you sure you want to export the current asset maintenance data to Excel? This will include all filtered results.",onConfirm:M,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:I.isPending,children:I.isPending?"Exporting...":"Export"})}),_&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),_&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:B,children:"Create"})]})]}):!1,getRowId:$=>$.id,initialOrderBy:"maintenance_date",loading:C,totalCount:D,page:T,rowsPerPage:x,onPageChange:V,isPermission:y,emptyMessage:t?`No asset maintenance records found matching "${t}"`:"No asset maintenance records found in the system"}),e.jsx(A_e,{selectedMaintenance:n,setSelectedMaintenance:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(w_e,{drawerOpen:c,setDrawerOpen:m})]})},O_e=nt({file:ps().required("Please select a file to import")}),F_e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:O_e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("asset_master")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"asset_master",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Assets",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple assets. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},L_e=async t=>{try{return(await ie.get("/asset-types",{params:t})).data}catch(s){throw console.error("Error fetching asset types:",s),new Error(s.response?.data?.message||"Failed to fetch asset types")}},$_e=async t=>{try{return(await ie.post("/asset-types",t)).data}catch(s){throw console.error("Error creating asset type:",s),new Error(s.response?.data?.message||"Failed to create asset type")}},z_e=async(t,s)=>{try{return(await ie.put(`/asset-types/${t}`,s)).data}catch(a){throw console.error("Error updating asset type:",a),new Error(a.response?.data?.message||"Failed to update asset type")}},q_e=async t=>{try{return(await ie.delete(`/asset-types/${t}`)).data}catch(s){throw console.error("Error deleting asset type:",s),new Error(s.response?.data?.message||"Failed to delete asset type")}},Nf={all:["asset-types"],lists:()=>[...Nf.all,"list"],list:t=>[...Nf.lists(),t],details:()=>[...Nf.all,"detail"],detail:t=>[...Nf.details(),t]},f1=(t,s)=>st({queryKey:Nf.list(t),queryFn:()=>L_e(t),staleTime:300*1e3,...s}),B_e=()=>Te({mutationFn:$_e,invalidateQueries:["asset-types"],loadingMessage:"Creating asset type..."}),U_e=()=>Te({mutationFn:({id:t,...s})=>z_e(t,s),invalidateQueries:["asset-types"],loadingMessage:"Updating asset type..."}),V_e=()=>Te({mutationFn:q_e,invalidateQueries:["asset-types"],loadingMessage:"Deleting asset type..."}),H_e=async t=>{try{return(await ie.get("/asset-sub-types",{params:t})).data}catch(s){throw console.error("Error fetching asset sub types:",s),new Error(s.response?.data?.message||"Failed to fetch asset sub types")}},W_e=async t=>{try{return(await ie.post("/asset-sub-types",t)).data}catch(s){throw console.error("Error creating asset sub type:",s),new Error(s.response?.data?.message||"Failed to create asset sub type")}},Y_e=async(t,s)=>{try{return(await ie.put(`/asset-sub-types/${t}`,s)).data}catch(a){throw console.error("Error updating asset sub type:",a),new Error(a.response?.data?.message||"Failed to update asset sub type")}},G_e=async t=>{try{return(await ie.delete(`/asset-sub-types/${t}`)).data}catch(s){throw console.error("Error deleting asset sub type:",s),new Error(s.response?.data?.message||"Failed to delete asset sub type")}},_f={all:["asset-sub-types"],lists:()=>[..._f.all,"list"],list:t=>[..._f.lists(),t],details:()=>[..._f.all,"detail"],detail:t=>[..._f.details(),t]},LF=(t,s)=>st({queryKey:_f.list(t),queryFn:()=>H_e(t),staleTime:300*1e3,...s}),K_e=()=>Te({mutationFn:W_e,invalidateQueries:["asset-sub-types"],loadingMessage:"Creating asset sub type..."}),Q_e=()=>Te({mutationFn:({id:t,...s})=>Y_e(t,s),invalidateQueries:["asset-sub-types"],loadingMessage:"Updating asset sub type..."}),Z_e=()=>Te({mutationFn:G_e,invalidateQueries:["asset-sub-types"],loadingMessage:"Deleting asset sub type..."}),X_e=nt({name:ce().required("Asset name is required").min(1,"Asset name must be at least 1 character").max(255,"Asset name must not exceed 255 characters"),asset_type_id:Ye().required("Asset type is required").positive("Asset type must be selected"),asset_sub_type_id:Ye().nullable().positive("Asset sub type must be valid").transform((t,s)=>s===""||s===null||s===void 0?null:t),serial_number:ce().required("Serial number is required").min(1,"Serial number must be at least 1 character").max(100,"Serial number must not exceed 100 characters").matches(/^[A-Za-z0-9\-_]+$/,"Serial number can only contain letters, numbers, hyphens, and underscores"),purchase_date:Ca().nullable().transform((t,s)=>s===""||s===null||s===void 0?null:t).max(new Date,"Purchase date cannot be in the future"),warranty_expiry:Ca().nullable().transform((t,s)=>s===""||s===null||s===void 0?null:t).when("purchase_date",(t,s)=>t&&t instanceof Date&&!isNaN(t.getTime())?s.min(t,"Warranty expiry must be after purchase date"):s),current_location:ce().nullable().max(255,"Current location must not exceed 255 characters"),current_status:ce().nullable().oneOf(["Available","In Use","Under Maintenance","Retired","Lost","Damaged",""],"Invalid status selected"),assigned_to:ce().nullable().max(100,"Assigned to must not exceed 100 characters"),warranty_period:ce().oneOf(["1","2","3","4","5"],"Invalid warranty period selected").default("1"),is_active:ce().oneOf(["Y","N"],"Status must be Y or N").default("Y")}),Dr=({name:t="salesperson_id",label:s="Sales Person",required:a=!1,fullWidth:r=!0,size:n="small",formik:i,setValue:o,value:l,nameToSearch:c="",onChange:m,className:d,placeholder:p})=>{const[x,j]=g.useState(""),[_,S]=g.useState(""),[v,y]=g.useState(""),[N,C]=g.useState(!1),[P,E]=g.useState(null),[D,T]=g.useState(!1),A=i?i.values[t]:l,I=A?typeof A=="number"?A.toString():String(A).trim():"";g.useEffect(()=>{const R=setTimeout(()=>{N||(y(_),_&&T(!0))},300);return()=>clearTimeout(R)},[_,N]);const F=yt.useMemo(()=>D||x?v:I&&c&&!D?c:v,[v,c,D,I,x]),z=I?Number(I):void 0,{data:O,isLoading:K}=cA({search:F,user_id:z&&!F?z:void 0}),W=(O?.data||[]).map(R=>({id:R.id,name:R.name,email:R.email,profile_image:R.profile_image}));g.useEffect(()=>{if(I&&!P&&!K&&W.length>0){const R=W.find($=>$.id.toString()===I);R&&(E(R),x||j(R.name),T(!0))}},[I,P,x,W,K]);const B=yt.useMemo(()=>{if(!I)return null;const R=W.find($=>$.id.toString()===I);return R||(P&&P.id.toString()===I?P:null)},[I,W,P]);g.useEffect(()=>{B&&B!==P?(E(B),!x&&B.name&&j(B.name)):!I&&P?(E(null),j("")):P&&!x&&I&&j(P.name)},[B,I,P,x]),g.useEffect(()=>{I?P&&P.id.toString()!==I&&(E(null),j(""),T(!1)):(P||x)&&(j(""),E(null),T(!1))},[I]);const q=yt.useMemo(()=>{const R=[];B&&(W.some(J=>J.id===B.id)||R.push(B));const $=new Set;return B&&$.add(B.id),W.forEach(Y=>{$.has(Y.id)||(R.push(Y),$.add(Y.id))}),R},[W,B,I]),H=i?.touched?.[t]&&i?.errors?.[t],Q=typeof H=="string"?H:void 0,V=g.useCallback((R,$)=>{C(!0),E($);const Y=$?$.id.toString():"";i?i.setFieldValue(t,Y):o&&o(Y),m&&m(R,$),$?(j($.name),S(""),y("")):(j(""),S(""),y("")),setTimeout(()=>C(!1),100)},[i,t,o,m]),M=g.useCallback((R,$,Y)=>{if(Y==="input"){N?j($):(j($),S($));return}Y==="clear"&&(j(""),S(""),y(""))},[N]);return e.jsx(ir,{options:q,getOptionLabel:R=>R.name,value:B,loading:K,onChange:V,inputValue:x,onInputChange:M,isOptionEqualToValue:(R,$)=>R.id===$.id,size:n,fullWidth:r,className:d,filterOptions:R=>R,renderOption:(R,$)=>g.createElement(b,{component:"li",...R,key:$.id,className:"!flex !items-center !gap-2 cursor-pointer py-1 px-2 hover:!bg-gray-50"},e.jsx(ot,{src:$.profile_image||"mkx",alt:$.name,className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(b,{children:[e.jsx("p",{className:"!text-gray-900 !text-sm",children:$.name||""}),$.email&&e.jsx("p",{className:"!text-gray-500 !text-xs",children:$.email})]})),renderInput:R=>e.jsx(Ba,{...R,label:`${s+(a?" *":"")}`,required:!1,error:!!H,helperText:Q,placeholder:p,onBlur:i?.handleBlur,name:t,size:n,className:d}),noOptionsText:v&&!K?"No users found":"Type to search users",loadingText:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(to,{thickness:6,size:16,color:"inherit"})," Loading users..."]})})},J_e=({selectedAsset:t,setSelectedAsset:s,drawerOpen:a,setDrawerOpen:r})=>{const[n,i]=g.useState([]),[o,l]=g.useState([]),c=g.useRef(null),m=!!t,{data:d}=f1({page:1,limit:1e3,isActive:"Y"}),p=d?.data||[],x=pt({initialValues:{name:t?.name||"",asset_type_id:t?.asset_type_id||0,asset_sub_type_id:t?.asset_sub_type_id||0,serial_number:t?.serial_number||"",purchase_date:t?.purchase_date?t.purchase_date.split("T")[0]:null,warranty_expiry:t?.warranty_expiry?t.warranty_expiry.split("T")[0]:null,warranty_period:"1",current_location:t?.current_location||"",current_status:t?.current_status||"Available",assigned_to:t?.assigned_to||"",is_active:t?.is_active||"Y"},validationSchema:X_e,enableReinitialize:!0,onSubmit:async A=>{try{const I={...A,asset_type_id:Number(A.asset_type_id),asset_sub_type_id:A.asset_sub_type_id?Number(A.asset_sub_type_id):null,purchase_date:A.purchase_date||null,warranty_expiry:A.warranty_expiry||null,current_location:A.current_location||null,current_status:A.current_status||null,assigned_to:A.assigned_to||null};m&&t?await y.mutateAsync({id:t.id,data:I}):await v.mutateAsync({data:I,images:n.length>0?n:void 0}),N()}catch(I){console.error("Error submitting asset:",I)}}}),j=x.values.asset_type_id,{data:_}=LF({page:1,limit:1e3,assetTypeId:j?Number(j):void 0}),S=_?.data||[],v=E_e(),y=T_e(),N=()=>{s(null),r(!1),i([]),x.resetForm()},C=A=>{const I=A.target.files;if(I){const F=Array.from(I),z=F.filter(O=>{const K=O.type.startsWith("image/"),W=O.size<=5*1024*1024;return K&&W});z.length!==F.length&&alert("Some files were skipped. Only image files under 5MB are allowed."),i(O=>[...O,...z])}c.current&&(c.current.value="")},P=A=>{i(I=>I.filter((F,z)=>z!==A))},E=A=>{l(I=>I.filter((F,z)=>z!==A))},D=()=>{c.current?.click()};g.useEffect(()=>{a||(i([]),l([]))},[a]),g.useEffect(()=>{t&&t.asset_master_image?l(t.asset_master_image):l([])},[t]),g.useEffect(()=>{const A=x.values.purchase_date,I=x.values.warranty_period;if(A&&I){const F=new Date(A),z=parseInt(I);if(!isNaN(F.getTime())&&!isNaN(z)){const O=new Date(F);O.setFullYear(O.getFullYear()+z);const K=O.toISOString().split("T")[0];x.setFieldValue("warranty_expiry",K)}}},[x.values.purchase_date,x.values.warranty_period]),g.useEffect(()=>{x.values.asset_type_id!==t?.asset_type_id&&x.setFieldValue("asset_sub_type_id","")},[x.values.asset_type_id]);const T=[{value:"Available",label:"Available"},{value:"In Use",label:"In Use"},{value:"Under Maintenance",label:"Under Maintenance"},{value:"Retired",label:"Retired"},{value:"Lost",label:"Lost"},{value:"Damaged",label:"Damaged"}];return e.jsx(it,{open:a,setOpen:N,title:m?"Edit Asset":"Create Asset",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Asset Name",placeholder:"Enter asset name",formik:x,required:!0}),e.jsx(Se,{name:"asset_type_id",label:"Asset Type",formik:x,required:!0,children:p.map(A=>e.jsx(Z,{value:A.id,children:A.name},A.id))}),e.jsx(Se,{name:"asset_sub_type_id",label:"Asset Sub Type",formik:x,disabled:!j,children:S.map(A=>e.jsx(Z,{value:A.id,children:A.name},A.id))}),e.jsx(oe,{name:"serial_number",label:"Serial Number",placeholder:"Enter serial number",formik:x,required:!0}),e.jsx(oe,{name:"purchase_date",label:"Purchase Date",type:"date",formik:x,slotProps:{inputLabel:{shrink:!0}}}),e.jsxs(Se,{name:"warranty_period",label:"Warranty Period",formik:x,children:[e.jsx(Z,{value:"1",children:"1 Year"}),e.jsx(Z,{value:"2",children:"2 Years"}),e.jsx(Z,{value:"3",children:"3 Years"}),e.jsx(Z,{value:"4",children:"4 Years"}),e.jsx(Z,{value:"5",children:"5 Years"})]}),e.jsx(oe,{name:"warranty_expiry",label:"Warranty Expiry",type:"date",formik:x,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(oe,{name:"current_location",label:"Current Location",placeholder:"Enter current location",formik:x}),e.jsx(Se,{name:"current_status",label:"Current Status",formik:x,children:T.map(A=>e.jsx(Z,{value:A.value,children:A.label},A.value))}),e.jsx(Dr,{name:"assigned_to",label:"Assigned To",formik:x,placeholder:"Search user..."}),e.jsx(Es,{name:"is_active",formik:x,required:!0})]}),e.jsx(b,{className:"!space-y-3",children:e.jsxs(b,{className:"!p-3 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-2",children:"Asset Images (Optional)"}),e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-4 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:D,children:[e.jsx(xs,{className:"!mx-auto !mb-2 !text-gray-400 !text-2xl"}),e.jsx(f,{variant:"body2",className:"!mb-1 !text-gray-700",children:m?"Add more images":"Upload images"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:"JPG, PNG, GIF, WEBP (Max 10MB)"}),e.jsx("input",{ref:c,type:"file",accept:"image/*",multiple:!0,onChange:C,className:"!hidden"})]}),(o.length>0||n.length>0)&&e.jsxs(b,{className:"!mt-3 !space-y-2",children:[e.jsxs(f,{variant:"caption",className:"!text-gray-600 !font-medium",children:["Images (",o.length+n.length,")"]}),e.jsxs(b,{className:"!space-y-1",children:[o.map((A,I)=>e.jsxs(b,{className:"!flex !items-center !justify-between !p-2 !bg-blue-50 !rounded !border !border-blue-200",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !flex-1 !min-w-0",children:[e.jsx(ET,{className:"!text-blue-500 !w-4 !h-4"}),e.jsxs(f,{variant:"caption",className:"!truncate !text-blue-700",title:A.caption||`Image ${I+1}`,children:[A.caption||`Image ${I+1}`," (Current)"]})]}),e.jsx(Ws,{size:"small",color:"error",onClick:()=>E(I),className:"!p-1",children:e.jsx(Ty,{fontSize:"inherit"})})]},`existing-${I}`)),n.map((A,I)=>e.jsxs(b,{className:"!flex !items-center !justify-between !p-2 !bg-green-50 !rounded !border !border-green-200",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !flex-1 !min-w-0",children:[e.jsx(ET,{className:"!text-green-500 !w-4 !h-4"}),e.jsxs(f,{variant:"caption",className:"!truncate !text-green-700",title:A.name,children:[A.name," (",(A.size/1024).toFixed(0),"KB)"]})]}),e.jsx(Ws,{size:"small",color:"error",onClick:()=>P(I),className:"!p-1",children:e.jsx(Ty,{fontSize:"inherit"})})]},`new-${I}`))]})]})]})}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:N,className:"!mr-3",disabled:v.isPending||y.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:v.isPending||y.isPending,children:[v.isPending||y.isPending?m?"Updating...":"Creating...":m?"Update":"Create"," "]})]})]})})})},ewe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("asset-master"),{data:y,isLoading:N,error:C}=h1({search:t,page:d,limit:x,status:a==="all"?void 0:a},{enabled:v}),P=y?.data||[],E=y?.meta?.total||0,D=(y?.meta?.page||1)-1,T=M_e(),A=ls(),I=y?.stats?.total_assets??0,F=y?.stats?.active_assets??0,z=y?.stats?.inactive_assets??0,O=y?.stats?.assets_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(R=>{i(R),l(!0)},[]),B=g.useCallback(async R=>{try{await T.mutateAsync(R)}catch($){console.error("Error deleting asset:",$)}},[T]),q=g.useCallback(R=>{s(R),p(1)},[]),H=R=>{p(R+1)},Q=g.useCallback(async()=>{try{const R={search:t,status:a==="all"?void 0:a};await A.mutateAsync({tableName:"asset_master",filters:R})}catch(R){console.error("Error exporting assets:",R)}},[A,t,a]),V=R=>({Available:"success","In Use":"primary","Under Maintenance":"warning",Retired:"secondary",Lost:"error",Damaged:"error"})[R]||"default",M=[{id:"name",label:"Asset Info",render:(R,$)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:$.name||$.serial_number,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:$.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:[$.serial_number,"  ",$.asset_master_asset_types?.name,$.asset_master_asset_sub_types?.name&&e.jsxs("span",{children:["  ",$.asset_master_asset_sub_types.name]})]})]})]})},{id:"current_location",label:"Location",render:(R,$)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ta,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:$.current_location||"Not specified"})]})},{id:"current_status",label:"Status",render:(R,$)=>e.jsx(Re,{label:$.current_status||"Available",color:V($.current_status||"Available"),size:"small"})},{id:"assigned_to",label:"Assigned To",render:(R,$)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(Za,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:$.assigned_to||"Unassigned"})]})},{id:"warranty_expiry",label:"Warranty",render:(R,$)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ws,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:$.warranty_expiry?Fe($.warranty_expiry):"No warranty"})]})},{id:"is_active",label:"Active Status",render:(R,$)=>e.jsx(Re,{icon:$.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:$.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:$.is_active==="Y"?"success":"error"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(R,$)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W($),tooltip:`Edit ${$.serial_number}`}),S&&e.jsx(Ht,{onClick:()=>B($.id),tooltip:`Delete ${$.serial_number}`,itemName:$.serial_number,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Asset Master"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage and track all company assets and equipment"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Assets",value:I,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Assets",value:F,icon:e.jsx(Cg,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Assets",value:z,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"This Month",value:O,icon:e.jsx(tl,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load assets. Please try again."}),e.jsx(ct,{data:P,columns:M,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Assets...",value:t,onChange:q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:R=>r(R.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Assets",description:"Are you sure you want to export the current asset data to Excel? This will include all filtered results.",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:R=>R.id,initialOrderBy:"serial_number",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:H,emptyMessage:t?`No assets found matching "${t}"`:"No assets found in the system"}),e.jsx(J_e,{selectedAsset:n,setSelectedAsset:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(F_e,{drawerOpen:c,setDrawerOpen:m})]})},twe=async t=>{try{return(await ie.get("/asset-movement",{params:t})).data}catch(s){throw console.error("Error fetching asset movements:",s),new Error(s.response?.data?.message||"Failed to fetch asset movements")}},swe=async t=>{try{return(await ie.post("/asset-movement",t)).data.data}catch(s){throw console.error("Error creating asset movement:",s),new Error(s.response?.data?.message||"Failed to create asset movement")}},awe=async(t,s)=>{try{return(await ie.put(`/asset-movement/${t}`,s)).data.data}catch(a){throw console.error("Error updating asset movement:",a),new Error(a.response?.data?.message||"Failed to update asset movement")}},rwe=async t=>{try{await ie.delete(`/asset-movement/${t}`)}catch(s){throw console.error("Error deleting asset movement:",s),new Error(s.response?.data?.message||"Failed to delete asset movement")}},wf={all:["asset-movement"],lists:()=>[...wf.all,"list"],list:t=>[...wf.lists(),t],details:()=>[...wf.all,"detail"],detail:t=>[...wf.details(),t]},nwe=(t,s)=>st({queryKey:wf.list(t),queryFn:()=>twe(t),staleTime:300*1e3,...s}),iwe=()=>Te({mutationFn:swe,invalidateQueries:["asset-movement"],loadingMessage:"Creating asset movement..."}),owe=()=>Te({mutationFn:({id:t,data:s})=>awe(t,s),invalidateQueries:["asset-movement"],loadingMessage:"Updating asset movement..."}),lwe=()=>Te({mutationFn:rwe,invalidateQueries:["asset-movement"],loadingMessage:"Deleting asset movement..."}),cwe=nt({file:ps().required("Please select a file to import")}),dwe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:cwe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("asset_movements")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"asset_movements",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Asset Movements",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple asset movements. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})};function gn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var uwe=typeof Symbol=="function"&&Symbol.observable||"@@observable",uD=uwe,mD=()=>Math.random().toString(36).substring(7).split("").join("."),mwe={INIT:`@@redux/INIT${mD()}`,REPLACE:`@@redux/REPLACE${mD()}`},pD=mwe;function pwe(t){if(typeof t!="object"||t===null)return!1;let s=t;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(t)===s||Object.getPrototypeOf(t)===null}function $F(t,s,a){if(typeof t!="function")throw new Error(gn(2));if(typeof s=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(gn(0));if(typeof s=="function"&&typeof a>"u"&&(a=s,s=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(gn(1));return a($F)(t,s)}let r=t,n=s,i=new Map,o=i,l=0,c=!1;function m(){o===i&&(o=new Map,i.forEach((v,y)=>{o.set(y,v)}))}function d(){if(c)throw new Error(gn(3));return n}function p(v){if(typeof v!="function")throw new Error(gn(4));if(c)throw new Error(gn(5));let y=!0;m();const N=l++;return o.set(N,v),function(){if(y){if(c)throw new Error(gn(6));y=!1,m(),o.delete(N),i=null}}}function x(v){if(!pwe(v))throw new Error(gn(7));if(typeof v.type>"u")throw new Error(gn(8));if(typeof v.type!="string")throw new Error(gn(17));if(c)throw new Error(gn(9));try{c=!0,n=r(n,v)}finally{c=!1}return(i=o).forEach(N=>{N()}),v}function j(v){if(typeof v!="function")throw new Error(gn(10));r=v,x({type:pD.REPLACE})}function _(){const v=p;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(gn(11));function N(){const P=y;P.next&&P.next(d())}return N(),{unsubscribe:v(N)}},[uD](){return this}}}return x({type:pD.INIT}),{dispatch:x,subscribe:p,getState:d,replaceReducer:j,[uD]:_}}function hD(t,s){return function(...a){return s(t.apply(this,a))}}function fD(t,s){if(typeof t=="function")return hD(t,s);if(typeof t!="object"||t===null)throw new Error(gn(16));const a={};for(const r in t){const n=t[r];typeof n=="function"&&(a[r]=hD(n,s))}return a}function zF(...t){return t.length===0?s=>s:t.length===1?t[0]:t.reduce((s,a)=>(...r)=>s(a(...r)))}function hwe(...t){return s=>(a,r)=>{const n=s(a,r);let i=()=>{throw new Error(gn(15))};const o={getState:n.getState,dispatch:(c,...m)=>i(c,...m)},l=t.map(c=>c(o));return i=zF(...l)(n.dispatch),{...n,dispatch:i}}}var WN={exports:{}},YN={};var xD;function fwe(){if(xD)return YN;xD=1;var t=ev();function s(c,m){return c===m&&(c!==0||1/c===1/m)||c!==c&&m!==m}var a=typeof Object.is=="function"?Object.is:s,r=t.useSyncExternalStore,n=t.useRef,i=t.useEffect,o=t.useMemo,l=t.useDebugValue;return YN.useSyncExternalStoreWithSelector=function(c,m,d,p,x){var j=n(null);if(j.current===null){var _={hasValue:!1,value:null};j.current=_}else _=j.current;j=o(function(){function v(E){if(!y){if(y=!0,N=E,E=p(E),x!==void 0&&_.hasValue){var D=_.value;if(x(D,E))return C=D}return C=E}if(D=C,a(N,E))return D;var T=p(E);return x!==void 0&&x(D,T)?(N=E,D):(N=E,C=T)}var y=!1,N,C,P=d===void 0?null:d;return[function(){return v(m())},P===null?void 0:function(){return v(P())}]},[m,d,p,x]);var S=r(c,j[0],j[1]);return i(function(){_.hasValue=!0,_.value=S},[S]),l(S),S},YN}var gD;function xwe(){return gD||(gD=1,WN.exports=fwe()),WN.exports}xwe();var gwe=g.version.startsWith("19"),bwe=Symbol.for(gwe?"react.transitional.element":"react.element"),ywe=Symbol.for("react.portal"),vwe=Symbol.for("react.fragment"),jwe=Symbol.for("react.strict_mode"),Nwe=Symbol.for("react.profiler"),_we=Symbol.for("react.consumer"),wwe=Symbol.for("react.context"),qF=Symbol.for("react.forward_ref"),Swe=Symbol.for("react.suspense"),Cwe=Symbol.for("react.suspense_list"),e3=Symbol.for("react.memo"),Pwe=Symbol.for("react.lazy"),kwe=qF,Ewe=e3;function Twe(t){if(typeof t=="object"&&t!==null){const{$$typeof:s}=t;switch(s){case bwe:switch(t=t.type,t){case vwe:case Nwe:case jwe:case Swe:case Cwe:return t;default:switch(t=t&&t.$$typeof,t){case wwe:case qF:case Pwe:case e3:return t;case _we:return t;default:return s}}case ywe:return s}}}function Mwe(t){return Twe(t)===e3}function Dwe(t,s,a,r,{areStatesEqual:n,areOwnPropsEqual:i,areStatePropsEqual:o}){let l=!1,c,m,d,p,x;function j(N,C){return c=N,m=C,d=t(c,m),p=s(r,m),x=a(d,p,m),l=!0,x}function _(){return d=t(c,m),s.dependsOnOwnProps&&(p=s(r,m)),x=a(d,p,m),x}function S(){return t.dependsOnOwnProps&&(d=t(c,m)),s.dependsOnOwnProps&&(p=s(r,m)),x=a(d,p,m),x}function v(){const N=t(c,m),C=!o(N,d);return d=N,C&&(x=a(d,p,m)),x}function y(N,C){const P=!i(C,m),E=!n(N,c,C,m);return c=N,m=C,P&&E?_():P?S():E?v():x}return function(C,P){return l?y(C,P):j(C,P)}}function Rwe(t,{initMapStateToProps:s,initMapDispatchToProps:a,initMergeProps:r,...n}){const i=s(t,n),o=a(t,n),l=r(t,n);return Dwe(i,o,l,t,n)}function Awe(t,s){const a={};for(const r in t){const n=t[r];typeof n=="function"&&(a[r]=(...i)=>s(n(...i)))}return a}function Iw(t){return function(a){const r=t(a);function n(){return r}return n.dependsOnOwnProps=!1,n}}function bD(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function BF(t,s){return function(r,{displayName:n}){const i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=t,i.dependsOnOwnProps=bD(t);let m=i(l,c);return typeof m=="function"&&(i.mapToProps=m,i.dependsOnOwnProps=bD(m),m=i(l,c)),m},i}}function t3(t,s){return(a,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${s} argument when connecting component ${r.wrappedComponentName}.`)}}function Iwe(t){return t&&typeof t=="object"?Iw(s=>Awe(t,s)):t?typeof t=="function"?BF(t):t3(t,"mapDispatchToProps"):Iw(s=>({dispatch:s}))}function Owe(t){return t?typeof t=="function"?BF(t):t3(t,"mapStateToProps"):Iw(()=>({}))}function Fwe(t,s,a){return{...a,...t,...s}}function Lwe(t){return function(a,{displayName:r,areMergedPropsEqual:n}){let i=!1,o;return function(c,m,d){const p=t(c,m,d);return i?n(p,o)||(o=p):(i=!0,o=p),o}}}function $we(t){return t?typeof t=="function"?Lwe(t):t3(t,"mergeProps"):()=>Fwe}function zwe(t){t()}function qwe(){let t=null,s=null;return{clear(){t=null,s=null},notify(){zwe(()=>{let a=t;for(;a;)a.callback(),a=a.next})},get(){const a=[];let r=t;for(;r;)a.push(r),r=r.next;return a},subscribe(a){let r=!0;const n=s={callback:a,next:null,prev:s};return n.prev?n.prev.next=n:t=n,function(){!r||t===null||(r=!1,n.next?n.next.prev=n.prev:s=n.prev,n.prev?n.prev.next=n.next:t=n.next)}}}}var yD={notify(){},get:()=>[]};function UF(t,s){let a,r=yD,n=0,i=!1;function o(S){d();const v=r.subscribe(S);let y=!1;return()=>{y||(y=!0,v(),p())}}function l(){r.notify()}function c(){_.onStateChange&&_.onStateChange()}function m(){return i}function d(){n++,a||(a=s?s.addNestedSub(c):t.subscribe(c),r=qwe())}function p(){n--,a&&n===0&&(a(),a=void 0,r.clear(),r=yD)}function x(){i||(i=!0,d())}function j(){i&&(i=!1,p())}const _={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:m,trySubscribe:x,tryUnsubscribe:j,getListeners:()=>r};return _}var Bwe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uwe=Bwe(),Vwe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Hwe=Vwe(),Wwe=()=>Uwe||Hwe?g.useLayoutEffect:g.useEffect,Wy=Wwe();function vD(t,s){return t===s?t!==0||s!==0||1/t===1/s:t!==t&&s!==s}function GN(t,s){if(vD(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;const a=Object.keys(t),r=Object.keys(s);if(a.length!==r.length)return!1;for(let n=0;n<a.length;n++)if(!Object.prototype.hasOwnProperty.call(s,a[n])||!vD(t[a[n]],s[a[n]]))return!1;return!0}var Ywe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Gwe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Kwe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},VF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Qwe={[kwe]:Kwe,[Ewe]:VF};function jD(t){return Mwe(t)?VF:Qwe[t.$$typeof]||Ywe}var Zwe=Object.defineProperty,Xwe=Object.getOwnPropertyNames,ND=Object.getOwnPropertySymbols,Jwe=Object.getOwnPropertyDescriptor,e4e=Object.getPrototypeOf,_D=Object.prototype;function Ow(t,s){if(typeof s!="string"){if(_D){const i=e4e(s);i&&i!==_D&&Ow(t,i)}let a=Xwe(s);ND&&(a=a.concat(ND(s)));const r=jD(t),n=jD(s);for(let i=0;i<a.length;++i){const o=a[i];if(!Gwe[o]&&!(n&&n[o])&&!(r&&r[o])){const l=Jwe(s,o);try{Zwe(t,o,l)}catch{}}}}return t}var t4e=Symbol.for("react-redux-context"),s4e=typeof globalThis<"u"?globalThis:{};function a4e(){if(!g.createContext)return{};const t=s4e[t4e]??=new Map;let s=t.get(g.createContext);return s||(s=g.createContext(null),t.set(g.createContext,s)),s}var HF=a4e(),r4e=[null,null];function n4e(t,s,a){Wy(()=>t(...s),a)}function i4e(t,s,a,r,n,i){t.current=r,a.current=!1,n.current&&(n.current=null,i())}function o4e(t,s,a,r,n,i,o,l,c,m,d){if(!t)return()=>{};let p=!1,x=null;const j=()=>{if(p||!l.current)return;const S=s.getState();let v,y;try{v=r(S,n.current)}catch(N){y=N,x=N}y||(x=null),v===i.current?o.current||m():(i.current=v,c.current=v,o.current=!0,d())};return a.onStateChange=j,a.trySubscribe(),j(),()=>{if(p=!0,a.tryUnsubscribe(),a.onStateChange=null,x)throw x}}function l4e(t,s){return t===s}function c4e(t,s,a,{pure:r,areStatesEqual:n=l4e,areOwnPropsEqual:i=GN,areStatePropsEqual:o=GN,areMergedPropsEqual:l=GN,forwardRef:c=!1,context:m=HF}={}){const d=m,p=Owe(t),x=Iwe(s),j=$we(a),_=!!t;return v=>{const y=v.displayName||v.name||"Component",N=`Connect(${y})`,C={shouldHandleStateChanges:_,displayName:N,wrappedComponentName:y,WrappedComponent:v,initMapStateToProps:p,initMapDispatchToProps:x,initMergeProps:j,areStatesEqual:n,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:l};function P(T){const[A,I,F]=g.useMemo(()=>{const{reactReduxForwardedRef:ge,...le}=T;return[T.context,ge,le]},[T]),z=g.useMemo(()=>{let ge=d;return A?.Consumer,ge},[A,d]),O=g.useContext(z),K=!!T.store&&!!T.store.getState&&!!T.store.dispatch,W=!!O&&!!O.store,B=K?T.store:O.store,q=W?O.getServerState:B.getState,H=g.useMemo(()=>Rwe(B.dispatch,C),[B]),[Q,V]=g.useMemo(()=>{if(!_)return r4e;const ge=UF(B,K?void 0:O.subscription),le=ge.notifyNestedSubs.bind(ge);return[ge,le]},[B,K,O]),M=g.useMemo(()=>K?O:{...O,subscription:Q},[K,O,Q]),R=g.useRef(void 0),$=g.useRef(F),Y=g.useRef(void 0),J=g.useRef(!1),te=g.useRef(!1),ee=g.useRef(void 0);Wy(()=>(te.current=!0,()=>{te.current=!1}),[]);const ne=g.useMemo(()=>()=>Y.current&&F===$.current?Y.current:H(B.getState(),F),[B,F]),he=g.useMemo(()=>le=>Q?o4e(_,B,Q,H,$,R,J,te,Y,V,le):()=>{},[Q]);n4e(i4e,[$,R,J,F,Y,V]);let de;try{de=g.useSyncExternalStore(he,ne,q?()=>H(q(),F):ne)}catch(ge){throw ee.current&&(ge.message+=`
The error may be correlated with this previous error:
${ee.current.stack}

`),ge}Wy(()=>{ee.current=void 0,Y.current=void 0,R.current=de});const ae=g.useMemo(()=>g.createElement(v,{...de,ref:I}),[I,v,de]);return g.useMemo(()=>_?g.createElement(z.Provider,{value:M},ae):ae,[z,ae,M])}const D=g.memo(P);if(D.WrappedComponent=v,D.displayName=P.displayName=N,c){const A=g.forwardRef(function(F,z){return g.createElement(D,{...F,reactReduxForwardedRef:z})});return A.displayName=N,A.WrappedComponent=v,Ow(A,v)}return Ow(D,v)}}var WF=c4e;function d4e(t){const{children:s,context:a,serverState:r,store:n}=t,i=g.useMemo(()=>{const c=UF(n);return{store:n,subscription:c,getServerState:r?()=>r:void 0}},[n,r]),o=g.useMemo(()=>n.getState(),[n]);Wy(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=a||HF;return g.createElement(l.Provider,{value:i},s)}var u4e=d4e,m4e="Invariant failed";function p4e(t,s){throw new Error(m4e)}var bo=function(s){var a=s.top,r=s.right,n=s.bottom,i=s.left,o=r-i,l=n-a,c={top:a,right:r,bottom:n,left:i,width:o,height:l,x:i,y:a,center:{x:(r+i)/2,y:(n+a)/2}};return c},s3=function(s,a){return{top:s.top-a.top,left:s.left-a.left,bottom:s.bottom+a.bottom,right:s.right+a.right}},wD=function(s,a){return{top:s.top+a.top,left:s.left+a.left,bottom:s.bottom-a.bottom,right:s.right-a.right}},h4e=function(s,a){return{top:s.top+a.y,left:s.left+a.x,bottom:s.bottom+a.y,right:s.right+a.x}},KN={top:0,right:0,bottom:0,left:0},a3=function(s){var a=s.borderBox,r=s.margin,n=r===void 0?KN:r,i=s.border,o=i===void 0?KN:i,l=s.padding,c=l===void 0?KN:l,m=bo(s3(a,n)),d=bo(wD(a,o)),p=bo(wD(d,c));return{marginBox:m,borderBox:bo(a),paddingBox:d,contentBox:p,margin:n,border:o,padding:c}},Oi=function(s){var a=s.slice(0,-2),r=s.slice(-2);if(r!=="px")return 0;var n=Number(a);return isNaN(n)&&p4e(),n},f4e=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Yy=function(s,a){var r=s.borderBox,n=s.border,i=s.margin,o=s.padding,l=h4e(r,a);return a3({borderBox:l,border:n,margin:i,padding:o})},Gy=function(s,a){return a===void 0&&(a=f4e()),Yy(s,a)},YF=function(s,a){var r={top:Oi(a.marginTop),right:Oi(a.marginRight),bottom:Oi(a.marginBottom),left:Oi(a.marginLeft)},n={top:Oi(a.paddingTop),right:Oi(a.paddingRight),bottom:Oi(a.paddingBottom),left:Oi(a.paddingLeft)},i={top:Oi(a.borderTopWidth),right:Oi(a.borderRightWidth),bottom:Oi(a.borderBottomWidth),left:Oi(a.borderLeftWidth)};return a3({borderBox:s,margin:r,padding:n,border:i})},GF=function(s){var a=s.getBoundingClientRect(),r=window.getComputedStyle(s);return YF(a,r)},Wx=function(s){var a=[],r=null,n=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];a=l,!r&&(r=requestAnimationFrame(function(){r=null,s.apply(void 0,a)}))};return n.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},n};function KF(t,s){}KF.bind(null,"warn");KF.bind(null,"error");function Hc(){}function x4e(t,s){return{...t,...s}}function Wi(t,s,a){const r=s.map(n=>{const i=x4e(a,n.options);return t.addEventListener(n.eventName,n.fn,i),function(){t.removeEventListener(n.eventName,n.fn,i)}});return function(){r.forEach(i=>{i()})}}const g4e="Invariant failed";class Ky extends Error{}Ky.prototype.toString=function(){return this.message};function Ft(t,s){throw new Ky(g4e)}class b4e extends yt.Component{constructor(...s){super(...s),this.callbacks=null,this.unbind=Hc,this.onWindowError=a=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),a.error instanceof Ky&&a.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=a=>{this.callbacks=a}}componentDidMount(){this.unbind=Wi(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(s){if(s instanceof Ky){this.setState({});return}throw s}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const y4e=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Qy=t=>t+1,v4e=t=>`
  You have lifted an item in position ${Qy(t.source.index)}
`,QF=(t,s)=>{const a=t.droppableId===s.droppableId,r=Qy(t.index),n=Qy(s.index);return a?`
      You have moved the item from position ${r}
      to position ${n}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${s.droppableId}
    in position ${n}
  `},ZF=(t,s,a)=>s.droppableId===a.droppableId?`
      The item ${t}
      has been combined with ${a.draggableId}`:`
      The item ${t}
      in list ${s.droppableId}
      has been combined with ${a.draggableId}
      in list ${a.droppableId}
    `,j4e=t=>{const s=t.destination;if(s)return QF(t.source,s);const a=t.combine;return a?ZF(t.draggableId,t.source,a):"You are over an area that cannot be dropped on"},SD=t=>`
  The item has returned to its starting position
  of ${Qy(t.index)}
`,N4e=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${SD(t.source)}
    `;const s=t.destination,a=t.combine;return s?`
      You have dropped the item.
      ${QF(t.source,s)}
    `:a?`
      You have dropped the item.
      ${ZF(t.draggableId,t.source,a)}
    `:`
    The item has been dropped while not over a drop area.
    ${SD(t.source)}
  `},ly={dragHandleUsageInstructions:y4e,onDragStart:v4e,onDragUpdate:j4e,onDragEnd:N4e};function _4e(t,s){return!!(t===s||Number.isNaN(t)&&Number.isNaN(s))}function XF(t,s){if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(!_4e(t[a],s[a]))return!1;return!0}function na(t,s){const a=g.useState(()=>({inputs:s,result:t()}))[0],r=g.useRef(!0),n=g.useRef(a),o=r.current||!!(s&&n.current.inputs&&XF(s,n.current.inputs))?n.current:{inputs:s,result:t()};return g.useEffect(()=>{r.current=!1,n.current=o},[o]),o.result}function ms(t,s){return na(()=>t,s)}const qr={x:0,y:0},Qr=(t,s)=>({x:t.x+s.x,y:t.y+s.y}),di=(t,s)=>({x:t.x-s.x,y:t.y-s.y}),Wc=(t,s)=>t.x===s.x&&t.y===s.y,Op=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),yu=(t,s,a=0)=>t==="x"?{x:s,y:a}:{x:a,y:s},Yx=(t,s)=>Math.sqrt((s.x-t.x)**2+(s.y-t.y)**2),CD=(t,s)=>Math.min(...s.map(a=>Yx(t,a))),JF=t=>s=>({x:t(s.x),y:t(s.y)});var w4e=(t,s)=>{const a=bo({top:Math.max(s.top,t.top),right:Math.min(s.right,t.right),bottom:Math.min(s.bottom,t.bottom),left:Math.max(s.left,t.left)});return a.width<=0||a.height<=0?null:a};const Og=(t,s)=>({top:t.top+s.y,left:t.left+s.x,bottom:t.bottom+s.y,right:t.right+s.x}),PD=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],S4e={top:0,right:0,bottom:0,left:0},C4e=(t,s)=>s?Og(t,s.scroll.diff.displacement):t,P4e=(t,s,a)=>a&&a.increasedBy?{...t,[s.end]:t[s.end]+a.increasedBy[s.line]}:t,k4e=(t,s)=>s&&s.shouldClipSubject?w4e(s.pageMarginBox,t):bo(t);var vp=({page:t,withPlaceholder:s,axis:a,frame:r})=>{const n=C4e(t.marginBox,r),i=P4e(n,a,s),o=k4e(i,r);return{page:t,withPlaceholder:s,active:o}},r3=(t,s)=>{t.frame||Ft();const a=t.frame,r=di(s,a.scroll.initial),n=Op(r),i={...a,scroll:{initial:a.scroll.initial,current:s,diff:{value:r,displacement:n},max:a.scroll.max}},o=vp({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:i});return{...t,frame:i,subject:o}};function zr(t,s=XF){let a=null;function r(...n){if(a&&a.lastThis===this&&s(n,a.lastArgs))return a.lastResult;const i=t.apply(this,n);return a={lastResult:i,lastArgs:n,lastThis:this},i}return r.clear=function(){a=null},r}const eL=zr(t=>t.reduce((s,a)=>(s[a.descriptor.id]=a,s),{})),tL=zr(t=>t.reduce((s,a)=>(s[a.descriptor.id]=a,s),{})),x1=zr(t=>Object.values(t)),E4e=zr(t=>Object.values(t));var Fp=zr((t,s)=>E4e(s).filter(r=>t===r.descriptor.droppableId).sort((r,n)=>r.descriptor.index-n.descriptor.index));function n3(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function g1(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var b1=zr((t,s)=>s.filter(a=>a.descriptor.id!==t.descriptor.id)),T4e=({isMovingForward:t,draggable:s,destination:a,insideDestination:r,previousImpact:n})=>{if(!a.isCombineEnabled||!n3(n))return null;function o(j){const _={type:"COMBINE",combine:{draggableId:j,droppableId:a.descriptor.id}};return{...n,at:_}}const l=n.displaced.all,c=l.length?l[0]:null;if(t)return c?o(c):null;const m=b1(s,r);if(!c){if(!m.length)return null;const j=m[m.length-1];return o(j.descriptor.id)}const d=m.findIndex(j=>j.descriptor.id===c);d===-1&&Ft();const p=d-1;if(p<0)return null;const x=m[p];return o(x.descriptor.id)},Lp=(t,s)=>t.descriptor.droppableId===s.descriptor.id;const sL={point:qr,value:0},Gx={invisible:{},visible:{},all:[]},M4e={displaced:Gx,displacedBy:sL,at:null};var Xi=(t,s)=>a=>t<=a&&a<=s,aL=t=>{const s=Xi(t.top,t.bottom),a=Xi(t.left,t.right);return r=>{if(s(r.top)&&s(r.bottom)&&a(r.left)&&a(r.right))return!0;const i=s(r.top)||s(r.bottom),o=a(r.left)||a(r.right);if(i&&o)return!0;const c=r.top<t.top&&r.bottom>t.bottom,m=r.left<t.left&&r.right>t.right;return c&&m?!0:c&&o||m&&i}},D4e=t=>{const s=Xi(t.top,t.bottom),a=Xi(t.left,t.right);return r=>s(r.top)&&s(r.bottom)&&a(r.left)&&a(r.right)};const i3={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},rL={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var R4e=t=>s=>{const a=Xi(s.top,s.bottom),r=Xi(s.left,s.right);return n=>t===i3?a(n.top)&&a(n.bottom):r(n.left)&&r(n.right)};const A4e=(t,s)=>{const a=s.frame?s.frame.scroll.diff.displacement:qr;return Og(t,a)},I4e=(t,s,a)=>s.subject.active?a(s.subject.active)(t):!1,O4e=(t,s,a)=>a(s)(t),o3=({target:t,destination:s,viewport:a,withDroppableDisplacement:r,isVisibleThroughFrameFn:n})=>{const i=r?A4e(t,s):t;return I4e(i,s,n)&&O4e(i,a,n)},F4e=t=>o3({...t,isVisibleThroughFrameFn:aL}),nL=t=>o3({...t,isVisibleThroughFrameFn:D4e}),L4e=t=>o3({...t,isVisibleThroughFrameFn:R4e(t.destination.axis)}),$4e=(t,s,a)=>{if(typeof a=="boolean")return a;if(!s)return!0;const{invisible:r,visible:n}=s;if(r[t])return!1;const i=n[t];return i?i.shouldAnimate:!0};function z4e(t,s){const a=t.page.marginBox,r={top:s.point.y,right:0,bottom:0,left:s.point.x};return bo(s3(a,r))}function Kx({afterDragging:t,destination:s,displacedBy:a,viewport:r,forceShouldAnimate:n,last:i}){return t.reduce(function(l,c){const m=z4e(c,a),d=c.descriptor.id;if(l.all.push(d),!F4e({target:m,destination:s,viewport:r,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const x=$4e(d,i,n),j={draggableId:d,shouldAnimate:x};return l.visible[d]=j,l},{all:[],visible:{},invisible:{}})}function q4e(t,s){if(!t.length)return 0;const a=t[t.length-1].descriptor.index;return s.inHomeList?a:a+1}function kD({insideDestination:t,inHomeList:s,displacedBy:a,destination:r}){const n=q4e(t,{inHomeList:s});return{displaced:Gx,displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:n}}}}function Zy({draggable:t,insideDestination:s,destination:a,viewport:r,displacedBy:n,last:i,index:o,forceShouldAnimate:l}){const c=Lp(t,a);if(o==null)return kD({insideDestination:s,inHomeList:c,displacedBy:n,destination:a});const m=s.find(_=>_.descriptor.index===o);if(!m)return kD({insideDestination:s,inHomeList:c,displacedBy:n,destination:a});const d=b1(t,s),p=s.indexOf(m),x=d.slice(p);return{displaced:Kx({afterDragging:x,destination:a,displacedBy:n,last:i,viewport:r.frame,forceShouldAnimate:l}),displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:o}}}}function ed(t,s){return!!s.effected[t]}var B4e=({isMovingForward:t,destination:s,draggables:a,combine:r,afterCritical:n})=>{if(!s.isCombineEnabled)return null;const i=r.draggableId,l=a[i].descriptor.index;return ed(i,n)?t?l:l-1:t?l+1:l},U4e=({isMovingForward:t,isInHomeList:s,insideDestination:a,location:r})=>{if(!a.length)return null;const n=r.index,i=t?n+1:n-1,o=a[0].descriptor.index,l=a[a.length-1].descriptor.index,c=s?l:l+1;return i<o||i>c?null:i},V4e=({isMovingForward:t,isInHomeList:s,draggable:a,draggables:r,destination:n,insideDestination:i,previousImpact:o,viewport:l,afterCritical:c})=>{const m=o.at;if(m||Ft(),m.type==="REORDER"){const p=U4e({isMovingForward:t,isInHomeList:s,location:m.destination,insideDestination:i});return p==null?null:Zy({draggable:a,insideDestination:i,destination:n,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:p})}const d=B4e({isMovingForward:t,destination:n,displaced:o.displaced,draggables:r,combine:m.combine,afterCritical:c});return d==null?null:Zy({draggable:a,insideDestination:i,destination:n,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:d})},H4e=({displaced:t,afterCritical:s,combineWith:a,displacedBy:r})=>{const n=!!(t.visible[a]||t.invisible[a]);return ed(a,s)?n?qr:Op(r.point):n?r.point:qr},W4e=({afterCritical:t,impact:s,draggables:a})=>{const r=g1(s);r||Ft();const n=r.draggableId,i=a[n].page.borderBox.center,o=H4e({displaced:s.displaced,afterCritical:t,combineWith:n,displacedBy:s.displacedBy});return Qr(i,o)};const iL=(t,s)=>s.margin[t.start]+s.borderBox[t.size]/2,Y4e=(t,s)=>s.margin[t.end]+s.borderBox[t.size]/2,l3=(t,s,a)=>s[t.crossAxisStart]+a.margin[t.crossAxisStart]+a.borderBox[t.crossAxisSize]/2,ED=({axis:t,moveRelativeTo:s,isMoving:a})=>yu(t.line,s.marginBox[t.end]+iL(t,a),l3(t,s.marginBox,a)),TD=({axis:t,moveRelativeTo:s,isMoving:a})=>yu(t.line,s.marginBox[t.start]-Y4e(t,a),l3(t,s.marginBox,a)),G4e=({axis:t,moveInto:s,isMoving:a})=>yu(t.line,s.contentBox[t.start]+iL(t,a),l3(t,s.contentBox,a));var K4e=({impact:t,draggable:s,draggables:a,droppable:r,afterCritical:n})=>{const i=Fp(r.descriptor.id,a),o=s.page,l=r.axis;if(!i.length)return G4e({axis:l,moveInto:r.page,isMoving:o});const{displaced:c,displacedBy:m}=t,d=c.all[0];if(d){const x=a[d];if(ed(d,n))return TD({axis:l,moveRelativeTo:x.page,isMoving:o});const j=Yy(x.page,m.point);return TD({axis:l,moveRelativeTo:j,isMoving:o})}const p=i[i.length-1];if(p.descriptor.id===s.descriptor.id)return o.borderBox.center;if(ed(p.descriptor.id,n)){const x=Yy(p.page,Op(n.displacedBy.point));return ED({axis:l,moveRelativeTo:x,isMoving:o})}return ED({axis:l,moveRelativeTo:p.page,isMoving:o})},Fw=(t,s)=>{const a=t.frame;return a?Qr(s,a.scroll.diff.displacement):s};const Q4e=({impact:t,draggable:s,droppable:a,draggables:r,afterCritical:n})=>{const i=s.page.borderBox.center,o=t.at;return!a||!o?i:o.type==="REORDER"?K4e({impact:t,draggable:s,draggables:r,droppable:a,afterCritical:n}):W4e({impact:t,draggables:r,afterCritical:n})};var y1=t=>{const s=Q4e(t),a=t.droppable;return a?Fw(a,s):s},oL=(t,s)=>{const a=di(s,t.scroll.initial),r=Op(a);return{frame:bo({top:s.y,bottom:s.y+t.frame.height,left:s.x,right:s.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:s,diff:{value:a,displacement:r}}}};function MD(t,s){return t.map(a=>s[a])}function Z4e(t,s){for(let a=0;a<s.length;a++){const r=s[a].visible[t];if(r)return r}return null}var X4e=({impact:t,viewport:s,destination:a,draggables:r,maxScrollChange:n})=>{const i=oL(s,Qr(s.scroll.current,n)),o=a.frame?r3(a,Qr(a.frame.scroll.current,n)):a,l=t.displaced,c=Kx({afterDragging:MD(l.all,r),destination:a,displacedBy:t.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),m=Kx({afterDragging:MD(l.all,r),destination:o,displacedBy:t.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),d={},p={},x=[l,c,m];return l.all.forEach(_=>{const S=Z4e(_,x);if(S){p[_]=S;return}d[_]=!0}),{...t,displaced:{all:l.all,invisible:d,visible:p}}},J4e=(t,s)=>Qr(t.scroll.diff.displacement,s),c3=({pageBorderBoxCenter:t,draggable:s,viewport:a})=>{const r=J4e(a,t),n=di(r,s.page.borderBox.center);return Qr(s.client.borderBox.center,n)},lL=({draggable:t,destination:s,newPageBorderBoxCenter:a,viewport:r,withDroppableDisplacement:n,onlyOnMainAxis:i=!1})=>{const o=di(a,t.page.borderBox.center),c={target:Og(t.page.borderBox,o),destination:s,withDroppableDisplacement:n,viewport:r};return i?L4e(c):nL(c)},eSe=({isMovingForward:t,draggable:s,destination:a,draggables:r,previousImpact:n,viewport:i,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:c})=>{if(!a.isEnabled)return null;const m=Fp(a.descriptor.id,r),d=Lp(s,a),p=T4e({isMovingForward:t,draggable:s,destination:a,insideDestination:m,previousImpact:n})||V4e({isMovingForward:t,isInHomeList:d,draggable:s,draggables:r,destination:a,insideDestination:m,previousImpact:n,viewport:i,afterCritical:c});if(!p)return null;const x=y1({impact:p,draggable:s,droppable:a,draggables:r,afterCritical:c});if(lL({draggable:s,destination:a,newPageBorderBoxCenter:x,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:c3({pageBorderBoxCenter:x,draggable:s,viewport:i}),impact:p,scrollJumpRequest:null};const _=di(x,o),S=X4e({impact:p,viewport:i,destination:a,draggables:r,maxScrollChange:_});return{clientSelection:l,impact:S,scrollJumpRequest:_}};const fn=t=>{const s=t.subject.active;return s||Ft(),s};var tSe=({isMovingForward:t,pageBorderBoxCenter:s,source:a,droppables:r,viewport:n})=>{const i=a.subject.active;if(!i)return null;const o=a.axis,l=Xi(i[o.start],i[o.end]),c=x1(r).filter(d=>d!==a).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>aL(n.frame)(fn(d))).filter(d=>{const p=fn(d);return t?i[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<i[o.crossAxisStart]}).filter(d=>{const p=fn(d),x=Xi(p[o.start],p[o.end]);return l(p[o.start])||l(p[o.end])||x(i[o.start])||x(i[o.end])}).sort((d,p)=>{const x=fn(d)[o.crossAxisStart],j=fn(p)[o.crossAxisStart];return t?x-j:j-x}).filter((d,p,x)=>fn(d)[o.crossAxisStart]===fn(x[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const m=c.filter(d=>Xi(fn(d)[o.start],fn(d)[o.end])(s[o.line]));return m.length===1?m[0]:m.length>1?m.sort((d,p)=>fn(d)[o.start]-fn(p)[o.start])[0]:c.sort((d,p)=>{const x=CD(s,PD(fn(d))),j=CD(s,PD(fn(p)));return x!==j?x-j:fn(d)[o.start]-fn(p)[o.start]})[0]};const DD=(t,s)=>{const a=t.page.borderBox.center;return ed(t.descriptor.id,s)?di(a,s.displacedBy.point):a},sSe=(t,s)=>{const a=t.page.borderBox;return ed(t.descriptor.id,s)?Og(a,Op(s.displacedBy.point)):a};var aSe=({pageBorderBoxCenter:t,viewport:s,destination:a,insideDestination:r,afterCritical:n})=>r.filter(o=>nL({target:sSe(o,n),destination:a,viewport:s.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const c=Yx(t,Fw(a,DD(o,n))),m=Yx(t,Fw(a,DD(l,n)));return c<m?-1:m<c?1:o.descriptor.index-l.descriptor.index})[0]||null,Fg=zr(function(s,a){const r=a[s.line];return{value:r,point:yu(s.line,r)}});const rSe=(t,s,a)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return yu(r.line,s[r.line]);const n=t.subject.page.contentBox[r.size],c=Fp(t.descriptor.id,a).reduce((m,d)=>m+d.client.marginBox[r.size],0)+s[r.line]-n;return c<=0?null:yu(r.line,c)},cL=(t,s)=>({...t,scroll:{...t.scroll,max:s}}),dL=(t,s,a)=>{const r=t.frame;Lp(s,t)&&Ft(),t.subject.withPlaceholder&&Ft();const n=Fg(t.axis,s.displaceBy).point,i=rSe(t,n,a),o={placeholderSize:n,increasedBy:i,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const d=vp({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:t.frame});return{...t,subject:d}}const l=i?Qr(r.scroll.max,i):r.scroll.max,c=cL(r,l),m=vp({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:c});return{...t,subject:m,frame:c}},nSe=t=>{const s=t.subject.withPlaceholder;s||Ft();const a=t.frame;if(!a){const o=vp({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:o}}const r=s.oldFrameMaxScroll;r||Ft();const n=cL(a,r),i=vp({page:t.subject.page,axis:t.axis,frame:n,withPlaceholder:null});return{...t,subject:i,frame:n}};var iSe=({previousPageBorderBoxCenter:t,moveRelativeTo:s,insideDestination:a,draggable:r,draggables:n,destination:i,viewport:o,afterCritical:l})=>{if(!s){if(a.length)return null;const p={displaced:Gx,displacedBy:sL,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},x=y1({impact:p,draggable:r,droppable:i,draggables:n,afterCritical:l}),j=Lp(r,i)?i:dL(i,r,n);return lL({draggable:r,destination:j,newPageBorderBoxCenter:x,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const c=t[i.axis.line]<=s.page.borderBox.center[i.axis.line],m=(()=>{const p=s.descriptor.index;return s.descriptor.id===r.descriptor.id||c?p:p+1})(),d=Fg(i.axis,r.displaceBy);return Zy({draggable:r,insideDestination:a,destination:i,viewport:o,displacedBy:d,last:Gx,index:m})},oSe=({isMovingForward:t,previousPageBorderBoxCenter:s,draggable:a,isOver:r,draggables:n,droppables:i,viewport:o,afterCritical:l})=>{const c=tSe({isMovingForward:t,pageBorderBoxCenter:s,source:r,droppables:i,viewport:o});if(!c)return null;const m=Fp(c.descriptor.id,n),d=aSe({pageBorderBoxCenter:s,viewport:o,destination:c,insideDestination:m,afterCritical:l}),p=iSe({previousPageBorderBoxCenter:s,destination:c,draggable:a,draggables:n,moveRelativeTo:d,insideDestination:m,viewport:o,afterCritical:l});if(!p)return null;const x=y1({impact:p,draggable:a,droppable:c,draggables:n,afterCritical:l});return{clientSelection:c3({pageBorderBoxCenter:x,draggable:a,viewport:o}),impact:p,scrollJumpRequest:null}},hi=t=>{const s=t.at;return s?s.type==="REORDER"?s.destination.droppableId:s.combine.droppableId:null};const lSe=(t,s)=>{const a=hi(t);return a?s[a]:null};var cSe=({state:t,type:s})=>{const a=lSe(t.impact,t.dimensions.droppables),r=!!a,n=t.dimensions.droppables[t.critical.droppable.id],i=a||n,o=i.axis.direction,l=o==="vertical"&&(s==="MOVE_UP"||s==="MOVE_DOWN")||o==="horizontal"&&(s==="MOVE_LEFT"||s==="MOVE_RIGHT");if(l&&!r)return null;const c=s==="MOVE_DOWN"||s==="MOVE_RIGHT",m=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:p,droppables:x}=t.dimensions;return l?eSe({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:m,destination:i,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):oSe({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:m,isOver:i,draggables:p,droppables:x,viewport:t.viewport,afterCritical:t.afterCritical})};function Ud(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function uL(t){const s=Xi(t.top,t.bottom),a=Xi(t.left,t.right);return function(n){return s(n.y)&&a(n.x)}}function dSe(t,s){return t.left<s.right&&t.right>s.left&&t.top<s.bottom&&t.bottom>s.top}function uSe({pageBorderBox:t,draggable:s,candidates:a}){const r=s.page.borderBox.center,n=a.map(i=>{const o=i.axis,l=yu(i.axis.line,t.center[o.line],i.page.borderBox.center[o.crossAxisLine]);return{id:i.descriptor.id,distance:Yx(r,l)}}).sort((i,o)=>o.distance-i.distance);return n[0]?n[0].id:null}function mSe({pageBorderBox:t,draggable:s,droppables:a}){const r=x1(a).filter(n=>{if(!n.isEnabled)return!1;const i=n.subject.active;if(!i||!dSe(t,i))return!1;if(uL(i)(t.center))return!0;const o=n.axis,l=i.center[o.crossAxisLine],c=t[o.crossAxisStart],m=t[o.crossAxisEnd],d=Xi(i[o.crossAxisStart],i[o.crossAxisEnd]),p=d(c),x=d(m);return!p&&!x?!0:p?c<l:m>l});return r.length?r.length===1?r[0].descriptor.id:uSe({pageBorderBox:t,draggable:s,candidates:r}):null}const mL=(t,s)=>bo(Og(t,s));var pSe=(t,s)=>{const a=t.frame;return a?mL(s,a.scroll.diff.value):s};function pL({displaced:t,id:s}){return!!(t.visible[s]||t.invisible[s])}function hSe({draggable:t,closest:s,inHomeList:a}){return s?a&&s.descriptor.index>t.descriptor.index?s.descriptor.index-1:s.descriptor.index:null}var fSe=({pageBorderBoxWithDroppableScroll:t,draggable:s,destination:a,insideDestination:r,last:n,viewport:i,afterCritical:o})=>{const l=a.axis,c=Fg(a.axis,s.displaceBy),m=c.value,d=t[l.start],p=t[l.end],j=b1(s,r).find(S=>{const v=S.descriptor.id,y=S.page.borderBox.center[l.line],N=ed(v,o),C=pL({displaced:n,id:v});return N?C?p<=y:d<y-m:C?p<=y+m:d<y})||null,_=hSe({draggable:s,closest:j,inHomeList:Lp(s,a)});return Zy({draggable:s,insideDestination:r,destination:a,viewport:i,last:n,displacedBy:c,index:_})};const xSe=4;var gSe=({draggable:t,pageBorderBoxWithDroppableScroll:s,previousImpact:a,destination:r,insideDestination:n,afterCritical:i})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=Fg(r.axis,t.displaceBy),c=l.value,m=s[o.start],d=s[o.end],x=b1(t,n).find(_=>{const S=_.descriptor.id,v=_.page.borderBox,N=v[o.size]/xSe,C=ed(S,i),P=pL({displaced:a.displaced,id:S});return C?P?d>v[o.start]+N&&d<v[o.end]-N:m>v[o.start]-c+N&&m<v[o.end]-c-N:P?d>v[o.start]+c+N&&d<v[o.end]+c-N:m>v[o.start]+N&&m<v[o.end]-N});return x?{displacedBy:l,displaced:a.displaced,at:{type:"COMBINE",combine:{draggableId:x.descriptor.id,droppableId:r.descriptor.id}}}:null},hL=({pageOffset:t,draggable:s,draggables:a,droppables:r,previousImpact:n,viewport:i,afterCritical:o})=>{const l=mL(s.page.borderBox,t),c=mSe({pageBorderBox:l,draggable:s,droppables:r});if(!c)return M4e;const m=r[c],d=Fp(m.descriptor.id,a),p=pSe(m,l);return gSe({pageBorderBoxWithDroppableScroll:p,draggable:s,previousImpact:n,destination:m,insideDestination:d,afterCritical:o})||fSe({pageBorderBoxWithDroppableScroll:p,draggable:s,destination:m,insideDestination:d,last:n.displaced,viewport:i,afterCritical:o})},d3=(t,s)=>({...t,[s.descriptor.id]:s});const bSe=({previousImpact:t,impact:s,droppables:a})=>{const r=hi(t),n=hi(s);if(!r||r===n)return a;const i=a[r];if(!i.subject.withPlaceholder)return a;const o=nSe(i);return d3(a,o)};var ySe=({draggable:t,draggables:s,droppables:a,previousImpact:r,impact:n})=>{const i=bSe({previousImpact:r,impact:n,droppables:a}),o=hi(n);if(!o)return i;const l=a[o];if(Lp(t,l)||l.subject.withPlaceholder)return i;const c=dL(l,t,s);return d3(i,c)},dx=({state:t,clientSelection:s,dimensions:a,viewport:r,impact:n,scrollJumpRequest:i})=>{const o=r||t.viewport,l=a||t.dimensions,c=s||t.current.client.selection,m=di(c,t.initial.client.selection),d={offset:m,selection:c,borderBoxCenter:Qr(t.initial.client.borderBoxCenter,m)},p={selection:Qr(d.selection,o.scroll.current),borderBoxCenter:Qr(d.borderBoxCenter,o.scroll.current),offset:Qr(d.offset,o.scroll.diff.value)},x={client:d,page:p};if(t.phase==="COLLECTING")return{...t,dimensions:l,viewport:o,current:x};const j=l.draggables[t.critical.draggable.id],_=n||hL({pageOffset:p.offset,draggable:j,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),S=ySe({draggable:j,impact:_,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return{...t,current:x,dimensions:{draggables:l.draggables,droppables:S},impact:_,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function vSe(t,s){return t.map(a=>s[a])}var fL=({impact:t,viewport:s,draggables:a,destination:r,forceShouldAnimate:n})=>{const i=t.displaced,o=vSe(i.all,a),l=Kx({afterDragging:o,destination:r,displacedBy:t.displacedBy,viewport:s.frame,forceShouldAnimate:n,last:i});return{...t,displaced:l}},xL=({impact:t,draggable:s,droppable:a,draggables:r,viewport:n,afterCritical:i})=>{const o=y1({impact:t,draggable:s,draggables:r,droppable:a,afterCritical:i});return c3({pageBorderBoxCenter:o,draggable:s,viewport:n})},gL=({state:t,dimensions:s,viewport:a})=>{t.movementMode!=="SNAP"&&Ft();const r=t.impact,n=a||t.viewport,i=s||t.dimensions,{draggables:o,droppables:l}=i,c=o[t.critical.draggable.id],m=hi(r);m||Ft();const d=l[m],p=fL({impact:r,viewport:n,destination:d,draggables:o}),x=xL({impact:p,draggable:c,droppable:d,draggables:o,viewport:n,afterCritical:t.afterCritical});return dx({impact:p,clientSelection:x,state:t,dimensions:i,viewport:n})},jSe=t=>({index:t.index,droppableId:t.droppableId}),bL=({draggable:t,home:s,draggables:a,viewport:r})=>{const n=Fg(s.axis,t.displaceBy),i=Fp(s.descriptor.id,a),o=i.indexOf(t);o===-1&&Ft();const l=i.slice(o+1),c=l.reduce((x,j)=>(x[j.descriptor.id]=!0,x),{}),m={inVirtualList:s.descriptor.mode==="virtual",displacedBy:n,effected:c};return{impact:{displaced:Kx({afterDragging:l,destination:s,displacedBy:n,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:n,at:{type:"REORDER",destination:jSe(t.descriptor)}},afterCritical:m}},NSe=(t,s)=>({draggables:t.draggables,droppables:d3(t.droppables,s)}),_Se=({draggable:t,offset:s,initialWindowScroll:a})=>{const r=Yy(t.client,s),n=Gy(r,a);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:n}},wSe=t=>{const s=t.frame;return s||Ft(),s},SSe=({additions:t,updatedDroppables:s,viewport:a})=>{const r=a.scroll.diff.value;return t.map(n=>{const i=n.descriptor.droppableId,o=s[i],c=wSe(o).scroll.diff.value,m=Qr(r,c);return _Se({draggable:n,offset:m,initialWindowScroll:a.scroll.initial})})},CSe=({state:t,published:s})=>{const a=s.modified.map(y=>{const N=t.dimensions.droppables[y.droppableId];return r3(N,y.scroll)}),r={...t.dimensions.droppables,...eL(a)},n=tL(SSe({additions:s.additions,updatedDroppables:r,viewport:t.viewport})),i={...t.dimensions.draggables,...n};s.removals.forEach(y=>{delete i[y]});const o={droppables:r,draggables:i},l=hi(t.impact),c=l?o.droppables[l]:null,m=o.draggables[t.critical.draggable.id],d=o.droppables[t.critical.droppable.id],{impact:p,afterCritical:x}=bL({draggable:m,home:d,draggables:i,viewport:t.viewport}),j=c&&c.isCombineEnabled?t.impact:p,_=hL({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:j,viewport:t.viewport,afterCritical:x}),S={...t,phase:"DRAGGING",impact:_,onLiftImpact:p,dimensions:o,afterCritical:x,forceShouldAnimate:!1};return t.phase==="COLLECTING"?S:{...S,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const Lw=t=>t.movementMode==="SNAP",QN=(t,s,a)=>{const r=NSe(t.dimensions,s);return!Lw(t)||a?dx({state:t,dimensions:r}):gL({state:t,dimensions:r})};function ZN(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const RD={phase:"IDLE",completed:null,shouldFlush:!1};var PSe=(t=RD,s)=>{if(s.type==="FLUSH")return{...RD,shouldFlush:!0};if(s.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&Ft();const{critical:a,clientSelection:r,viewport:n,dimensions:i,movementMode:o}=s.payload,l=i.draggables[a.draggable.id],c=i.droppables[a.droppable.id],m={selection:r,borderBoxCenter:l.client.borderBox.center,offset:qr},d={client:m,page:{selection:Qr(m.selection,n.scroll.initial),borderBoxCenter:Qr(m.selection,n.scroll.initial),offset:Qr(m.selection,n.scroll.diff.value)}},p=x1(i.droppables).every(S=>!S.isFixedOnPage),{impact:x,afterCritical:j}=bL({draggable:l,home:c,draggables:i.draggables,viewport:n});return{phase:"DRAGGING",isDragging:!0,critical:a,movementMode:o,dimensions:i,initial:d,current:d,isWindowScrollAllowed:p,impact:x,afterCritical:j,onLiftImpact:x,viewport:n,scrollJumpRequest:null,forceShouldAnimate:null}}if(s.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&Ft(),{...t,phase:"COLLECTING"});if(s.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||Ft(),CSe({state:t,published:s.payload});if(s.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Ud(t)||Ft();const{client:a}=s.payload;return Wc(a,t.current.client.selection)?t:dx({state:t,clientSelection:a,impact:Lw(t)?t.impact:null})}if(s.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return ZN(t);Ud(t)||Ft();const{id:a,newScroll:r}=s.payload,n=t.dimensions.droppables[a];if(!n)return t;const i=r3(n,r);return QN(t,i,!1)}if(s.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Ud(t)||Ft();const{id:a,isEnabled:r}=s.payload,n=t.dimensions.droppables[a];n||Ft(),n.isEnabled===r&&Ft();const i={...n,isEnabled:r};return QN(t,i,!0)}if(s.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Ud(t)||Ft();const{id:a,isCombineEnabled:r}=s.payload,n=t.dimensions.droppables[a];n||Ft(),n.isCombineEnabled===r&&Ft();const i={...n,isCombineEnabled:r};return QN(t,i,!0)}if(s.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Ud(t)||Ft(),t.isWindowScrollAllowed||Ft();const a=s.payload.newScroll;if(Wc(t.viewport.scroll.current,a))return ZN(t);const r=oL(t.viewport,a);return Lw(t)?gL({state:t,viewport:r}):dx({state:t,viewport:r})}if(s.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ud(t))return t;const a=s.payload.maxScroll;if(Wc(a,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:a}};return{...t,viewport:r}}if(s.type==="MOVE_UP"||s.type==="MOVE_DOWN"||s.type==="MOVE_LEFT"||s.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Ft();const a=cSe({state:t,type:s.type});return a?dx({state:t,impact:a.impact,clientSelection:a.clientSelection,scrollJumpRequest:a.scrollJumpRequest}):t}if(s.type==="DROP_PENDING"){const a=s.payload.reason;return t.phase!=="COLLECTING"&&Ft(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:a}}if(s.type==="DROP_ANIMATE"){const{completed:a,dropDuration:r,newHomeClientOffset:n}=s.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||Ft(),{phase:"DROP_ANIMATING",completed:a,dropDuration:r,newHomeClientOffset:n,dimensions:t.dimensions}}if(s.type==="DROP_COMPLETE"){const{completed:a}=s.payload;return{phase:"IDLE",completed:a,shouldFlush:!1}}return t};function ba(t,s){return t instanceof Object&&"type"in t&&t.type===s}const kSe=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),ESe=t=>({type:"LIFT",payload:t}),TSe=t=>({type:"INITIAL_PUBLISH",payload:t}),MSe=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),DSe=()=>({type:"COLLECTION_STARTING",payload:null}),RSe=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),ASe=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),ISe=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),yL=t=>({type:"MOVE",payload:t}),OSe=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),FSe=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),LSe=()=>({type:"MOVE_UP",payload:null}),$Se=()=>({type:"MOVE_DOWN",payload:null}),zSe=()=>({type:"MOVE_RIGHT",payload:null}),qSe=()=>({type:"MOVE_LEFT",payload:null}),u3=()=>({type:"FLUSH",payload:null}),BSe=t=>({type:"DROP_ANIMATE",payload:t}),m3=t=>({type:"DROP_COMPLETE",payload:t}),vL=t=>({type:"DROP",payload:t}),USe=t=>({type:"DROP_PENDING",payload:t}),jL=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var VSe=t=>({getState:s,dispatch:a})=>r=>n=>{if(!ba(n,"LIFT")){r(n);return}const{id:i,clientSelection:o,movementMode:l}=n.payload,c=s();c.phase==="DROP_ANIMATING"&&a(m3({completed:c.completed})),s().phase!=="IDLE"&&Ft(),a(u3()),a(kSe({draggableId:i,movementMode:l}));const d={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:x,viewport:j}=t.startPublishing(d);a(TSe({critical:p,dimensions:x,clientSelection:o,movementMode:l,viewport:j}))},HSe=t=>()=>s=>a=>{ba(a,"INITIAL_PUBLISH")&&t.dragging(),ba(a,"DROP_ANIMATE")&&t.dropping(a.payload.completed.result.reason),(ba(a,"FLUSH")||ba(a,"DROP_COMPLETE"))&&t.resting(),s(a)};const p3={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Qx={opacity:{drop:0,combining:.7},scale:{drop:.75}},NL={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Fd=`${NL.outOfTheWay}s ${p3.outOfTheWay}`,ux={fluid:`opacity ${Fd}`,snap:`transform ${Fd}, opacity ${Fd}`,drop:t=>{const s=`${t}s ${p3.drop}`;return`transform ${s}, opacity ${s}`},outOfTheWay:`transform ${Fd}`,placeholder:`height ${Fd}, width ${Fd}, margin ${Fd}`},AD=t=>Wc(t,qr)?void 0:`translate(${t.x}px, ${t.y}px)`,$w={moveTo:AD,drop:(t,s)=>{const a=AD(t);if(a)return s?`${a} scale(${Qx.scale.drop})`:a}},{minDropTime:zw,maxDropTime:_L}=NL,WSe=_L-zw,ID=1500,YSe=.6;var GSe=({current:t,destination:s,reason:a})=>{const r=Yx(t,s);if(r<=0)return zw;if(r>=ID)return _L;const n=r/ID,i=zw+WSe*n,o=a==="CANCEL"?i*YSe:i;return Number(o.toFixed(2))},KSe=({impact:t,draggable:s,dimensions:a,viewport:r,afterCritical:n})=>{const{draggables:i,droppables:o}=a,l=hi(t),c=l?o[l]:null,m=o[s.descriptor.droppableId],d=xL({impact:t,draggable:s,draggables:i,afterCritical:n,droppable:c||m,viewport:r});return di(d,s.client.borderBox.center)},QSe=({draggables:t,reason:s,lastImpact:a,home:r,viewport:n,onLiftImpact:i})=>!a.at||s!=="DROP"?{impact:fL({draggables:t,impact:i,destination:r,viewport:n,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:a.at.type==="REORDER"?{impact:a,didDropInsideDroppable:!0}:{impact:{...a,displaced:Gx},didDropInsideDroppable:!0};const ZSe=({getState:t,dispatch:s})=>a=>r=>{if(!ba(r,"DROP")){a(r);return}const n=t(),i=r.payload.reason;if(n.phase==="COLLECTING"){s(USe({reason:i}));return}if(n.phase==="IDLE")return;n.phase==="DROP_PENDING"&&n.isWaiting&&Ft(),n.phase==="DRAGGING"||n.phase==="DROP_PENDING"||Ft();const l=n.critical,c=n.dimensions,m=c.draggables[n.critical.draggable.id],{impact:d,didDropInsideDroppable:p}=QSe({reason:i,lastImpact:n.impact,afterCritical:n.afterCritical,onLiftImpact:n.onLiftImpact,home:n.dimensions.droppables[n.critical.droppable.id],viewport:n.viewport,draggables:n.dimensions.draggables}),x=p?n3(d):null,j=p?g1(d):null,_={index:l.draggable.index,droppableId:l.droppable.id},S={draggableId:m.descriptor.id,type:m.descriptor.type,source:_,reason:i,mode:n.movementMode,destination:x,combine:j},v=KSe({impact:d,draggable:m,dimensions:c,viewport:n.viewport,afterCritical:n.afterCritical}),y={critical:n.critical,afterCritical:n.afterCritical,result:S,impact:d};if(!(!Wc(n.current.client.offset,v)||!!S.combine)){s(m3({completed:y}));return}const C=GSe({current:n.current.client.offset,destination:v,reason:i});s(BSe({newHomeClientOffset:v,dropDuration:C,completed:y}))};var wL=()=>({x:window.pageXOffset,y:window.pageYOffset});function XSe(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:s=>{s.target!==window&&s.target!==window.document||t()}}}function JSe({onWindowScroll:t}){function s(){t(wL())}const a=Wx(s),r=XSe(a);let n=Hc;function i(){return n!==Hc}function o(){i()&&Ft(),n=Wi(window,[r])}function l(){i()||Ft(),a.cancel(),n(),n=Hc}return{start:o,stop:l,isActive:i}}const e3e=t=>ba(t,"DROP_COMPLETE")||ba(t,"DROP_ANIMATE")||ba(t,"FLUSH"),t3e=t=>{const s=JSe({onWindowScroll:a=>{t.dispatch(OSe({newScroll:a}))}});return a=>r=>{!s.isActive()&&ba(r,"INITIAL_PUBLISH")&&s.start(),s.isActive()&&e3e(r)&&s.stop(),a(r)}};var s3e=t=>{let s=!1,a=!1;const r=setTimeout(()=>{a=!0}),n=i=>{s||a||(s=!0,t(i),clearTimeout(r))};return n.wasCalled=()=>s,n},a3e=()=>{const t=[],s=n=>{const i=t.findIndex(l=>l.timerId===n);i===-1&&Ft();const[o]=t.splice(i,1);o.callback()};return{add:n=>{const i=setTimeout(()=>s(i)),o={timerId:i,callback:n};t.push(o)},flush:()=>{if(!t.length)return;const n=[...t];t.length=0,n.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const r3e=(t,s)=>t==null&&s==null?!0:t==null||s==null?!1:t.droppableId===s.droppableId&&t.index===s.index,n3e=(t,s)=>t==null&&s==null?!0:t==null||s==null?!1:t.draggableId===s.draggableId&&t.droppableId===s.droppableId,i3e=(t,s)=>{if(t===s)return!0;const a=t.draggable.id===s.draggable.id&&t.draggable.droppableId===s.draggable.droppableId&&t.draggable.type===s.draggable.type&&t.draggable.index===s.draggable.index,r=t.droppable.id===s.droppable.id&&t.droppable.type===s.droppable.type;return a&&r},rf=(t,s)=>{s()},Ib=(t,s)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:s});function XN(t,s,a,r){if(!t){a(r(s));return}const n=s3e(a);t(s,{announce:n}),n.wasCalled()||a(r(s))}var o3e=(t,s)=>{const a=a3e();let r=null;const n=(p,x)=>{r&&Ft(),rf("onBeforeCapture",()=>{const j=t().onBeforeCapture;j&&j({draggableId:p,mode:x})})},i=(p,x)=>{r&&Ft(),rf("onBeforeDragStart",()=>{const j=t().onBeforeDragStart;j&&j(Ib(p,x))})},o=(p,x)=>{r&&Ft();const j=Ib(p,x);r={mode:x,lastCritical:p,lastLocation:j.source,lastCombine:null},a.add(()=>{rf("onDragStart",()=>XN(t().onDragStart,j,s,ly.onDragStart))})},l=(p,x)=>{const j=n3(x),_=g1(x);r||Ft();const S=!i3e(p,r.lastCritical);S&&(r.lastCritical=p);const v=!r3e(r.lastLocation,j);v&&(r.lastLocation=j);const y=!n3e(r.lastCombine,_);if(y&&(r.lastCombine=_),!S&&!v&&!y)return;const N={...Ib(p,r.mode),combine:_,destination:j};a.add(()=>{rf("onDragUpdate",()=>XN(t().onDragUpdate,N,s,ly.onDragUpdate))})},c=()=>{r||Ft(),a.flush()},m=p=>{r||Ft(),r=null,rf("onDragEnd",()=>XN(t().onDragEnd,p,s,ly.onDragEnd))};return{beforeCapture:n,beforeStart:i,start:o,update:l,flush:c,drop:m,abort:()=>{if(!r)return;const p={...Ib(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};m(p)}}},l3e=(t,s)=>{const a=o3e(t,s);return r=>n=>i=>{if(ba(i,"BEFORE_INITIAL_CAPTURE")){a.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(ba(i,"INITIAL_PUBLISH")){const l=i.payload.critical;a.beforeStart(l,i.payload.movementMode),n(i),a.start(l,i.payload.movementMode);return}if(ba(i,"DROP_COMPLETE")){const l=i.payload.completed.result;a.flush(),n(i),a.drop(l);return}if(n(i),ba(i,"FLUSH")){a.abort();return}const o=r.getState();o.phase==="DRAGGING"&&a.update(o.critical,o.impact)}};const c3e=t=>s=>a=>{if(!ba(a,"DROP_ANIMATION_FINISHED")){s(a);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&Ft(),t.dispatch(m3({completed:r.completed}))},d3e=t=>{let s=null,a=null;function r(){a&&(cancelAnimationFrame(a),a=null),s&&(s(),s=null)}return n=>i=>{if((ba(i,"FLUSH")||ba(i,"DROP_COMPLETE")||ba(i,"DROP_ANIMATION_FINISHED"))&&r(),n(i),!ba(i,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(jL())}};a=requestAnimationFrame(()=>{a=null,s=Wi(window,[o])})}};var u3e=t=>()=>s=>a=>{(ba(a,"DROP_COMPLETE")||ba(a,"FLUSH")||ba(a,"DROP_ANIMATE"))&&t.stopPublishing(),s(a)},m3e=t=>{let s=!1;return()=>a=>r=>{if(ba(r,"INITIAL_PUBLISH")){s=!0,t.tryRecordFocus(r.payload.critical.draggable.id),a(r),t.tryRestoreFocusRecorded();return}if(a(r),!!s){if(ba(r,"FLUSH")){s=!1,t.tryRestoreFocusRecorded();return}if(ba(r,"DROP_COMPLETE")){s=!1;const n=r.payload.completed.result;n.combine&&t.tryShiftRecord(n.draggableId,n.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const p3e=t=>ba(t,"DROP_COMPLETE")||ba(t,"DROP_ANIMATE")||ba(t,"FLUSH");var h3e=t=>s=>a=>r=>{if(p3e(r)){t.stop(),a(r);return}if(ba(r,"INITIAL_PUBLISH")){a(r);const n=s.getState();n.phase!=="DRAGGING"&&Ft(),t.start(n);return}a(r),t.scroll(s.getState())};const f3e=t=>s=>a=>{if(s(a),!ba(a,"PUBLISH_WHILE_DRAGGING"))return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(vL({reason:r.reason})))},x3e=zF;var g3e=({dimensionMarshal:t,focusMarshal:s,styleMarshal:a,getResponders:r,announce:n,autoScroller:i})=>$F(PSe,x3e(hwe(HSe(a),u3e(t),VSe(t),ZSe,c3e,d3e,f3e,h3e(i),t3e,m3e(s),l3e(r,n))));const JN=()=>({additions:{},removals:{},modified:{}});function b3e({registry:t,callbacks:s}){let a=JN(),r=null;const n=()=>{r||(s.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:m,modified:d}=a,p=Object.keys(c).map(_=>t.draggable.getById(_).getDimension(qr)).sort((_,S)=>_.descriptor.index-S.descriptor.index),x=Object.keys(d).map(_=>{const v=t.droppable.getById(_).callbacks.getScrollWhileDragging();return{droppableId:_,scroll:v}}),j={additions:p,removals:Object.keys(m),modified:x};a=JN(),s.publish(j)}))};return{add:c=>{const m=c.descriptor.id;a.additions[m]=c,a.modified[c.descriptor.droppableId]=!0,a.removals[m]&&delete a.removals[m],n()},remove:c=>{const m=c.descriptor;a.removals[m.id]=!0,a.modified[m.droppableId]=!0,a.additions[m.id]&&delete a.additions[m.id],n()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,a=JN())}}}var SL=({scrollHeight:t,scrollWidth:s,height:a,width:r})=>{const n=di({x:s,y:t},{x:r,y:a});return{x:Math.max(0,n.x),y:Math.max(0,n.y)}},CL=()=>{const t=document.documentElement;return t||Ft(),t},PL=()=>{const t=CL();return SL({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},y3e=()=>{const t=wL(),s=PL(),a=t.y,r=t.x,n=CL(),i=n.clientWidth,o=n.clientHeight,l=r+i,c=a+o;return{frame:bo({top:a,left:r,right:l,bottom:c}),scroll:{initial:t,current:t,max:s,diff:{value:qr,displacement:qr}}}},v3e=({critical:t,scrollOptions:s,registry:a})=>{const r=y3e(),n=r.scroll.current,i=t.droppable,o=a.droppable.getAllByType(i.type).map(d=>d.callbacks.getDimensionAndWatchScroll(n,s)),l=a.draggable.getAllByType(t.draggable.type).map(d=>d.getDimension(n));return{dimensions:{draggables:tL(l),droppables:eL(o)},critical:t,viewport:r}};function OD(t,s,a){return!(a.descriptor.id===s.id||a.descriptor.type!==s.type||t.droppable.getById(a.descriptor.droppableId).descriptor.mode!=="virtual")}var j3e=(t,s)=>{let a=null;const r=b3e({callbacks:{publish:s.publishWhileDragging,collectionStarting:s.collectionStarting},registry:t}),n=(x,j)=>{t.droppable.exists(x)||Ft(),a&&s.updateDroppableIsEnabled({id:x,isEnabled:j})},i=(x,j)=>{a&&(t.droppable.exists(x)||Ft(),s.updateDroppableIsCombineEnabled({id:x,isCombineEnabled:j}))},o=(x,j)=>{a&&(t.droppable.exists(x)||Ft(),s.updateDroppableScroll({id:x,newScroll:j}))},l=(x,j)=>{a&&t.droppable.getById(x).callbacks.scroll(j)},c=()=>{if(!a)return;r.stop();const x=a.critical.droppable;t.droppable.getAllByType(x.type).forEach(j=>j.callbacks.dragStopped()),a.unsubscribe(),a=null},m=x=>{a||Ft();const j=a.critical.draggable;x.type==="ADDITION"&&OD(t,j,x.value)&&r.add(x.value),x.type==="REMOVAL"&&OD(t,j,x.value)&&r.remove(x.value)};return{updateDroppableIsEnabled:n,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:x=>{a&&Ft();const j=t.draggable.getById(x.draggableId),_=t.droppable.getById(j.descriptor.droppableId),S={draggable:j.descriptor,droppable:_.descriptor},v=t.subscribe(m);return a={critical:S,unsubscribe:v},v3e({critical:S,registry:t,scrollOptions:x.scrollOptions})},stopPublishing:c}},kL=(t,s)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===s?!1:t.completed.result.reason==="DROP",N3e=t=>{window.scrollBy(t.x,t.y)};const _3e=zr(t=>x1(t).filter(s=>!(!s.isEnabled||!s.frame))),w3e=(t,s)=>_3e(s).find(r=>(r.frame||Ft(),uL(r.frame.pageMarginBox)(t)))||null;var S3e=({center:t,destination:s,droppables:a})=>{if(s){const n=a[s];return n.frame?n:null}return w3e(t,a)};const Zx={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var C3e=(t,s,a=()=>Zx)=>{const r=a(),n=t[s.size]*r.startFromPercentage,i=t[s.size]*r.maxScrollAtPercentage;return{startScrollingFrom:n,maxScrollValueAt:i}},EL=({startOfRange:t,endOfRange:s,current:a})=>{const r=s-t;return r===0?0:(a-t)/r},h3=1,P3e=(t,s,a=()=>Zx)=>{const r=a();if(t>s.startScrollingFrom)return 0;if(t<=s.maxScrollValueAt)return r.maxPixelScroll;if(t===s.startScrollingFrom)return h3;const i=1-EL({startOfRange:s.maxScrollValueAt,endOfRange:s.startScrollingFrom,current:t}),o=r.maxPixelScroll*r.ease(i);return Math.ceil(o)},k3e=(t,s,a)=>{const r=a(),n=r.durationDampening.accelerateAt,i=r.durationDampening.stopDampeningAt,o=s,l=i,m=Date.now()-o;if(m>=i)return t;if(m<n)return h3;const d=EL({startOfRange:n,endOfRange:l,current:m}),p=t*r.ease(d);return Math.ceil(p)},FD=({distanceToEdge:t,thresholds:s,dragStartTime:a,shouldUseTimeDampening:r,getAutoScrollerOptions:n})=>{const i=P3e(t,s,n);return i===0?0:r?Math.max(k3e(i,a,n),h3):i},LD=({container:t,distanceToEdges:s,dragStartTime:a,axis:r,shouldUseTimeDampening:n,getAutoScrollerOptions:i})=>{const o=C3e(t,r,i);return s[r.end]<s[r.start]?FD({distanceToEdge:s[r.end],thresholds:o,dragStartTime:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i}):-1*FD({distanceToEdge:s[r.start],thresholds:o,dragStartTime:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i})},E3e=({container:t,subject:s,proposedScroll:a})=>{const r=s.height>t.height,n=s.width>t.width;return!n&&!r?a:n&&r?null:{x:n?0:a.x,y:r?0:a.y}};const T3e=JF(t=>t===0?0:t);var TL=({dragStartTime:t,container:s,subject:a,center:r,shouldUseTimeDampening:n,getAutoScrollerOptions:i})=>{const o={top:r.y-s.top,right:s.right-r.x,bottom:s.bottom-r.y,left:r.x-s.left},l=LD({container:s,distanceToEdges:o,dragStartTime:t,axis:i3,shouldUseTimeDampening:n,getAutoScrollerOptions:i}),c=LD({container:s,distanceToEdges:o,dragStartTime:t,axis:rL,shouldUseTimeDampening:n,getAutoScrollerOptions:i}),m=T3e({x:c,y:l});if(Wc(m,qr))return null;const d=E3e({container:s,subject:a,proposedScroll:m});return d?Wc(d,qr)?null:d:null};const M3e=JF(t=>t===0?0:t>0?1:-1),f3=(()=>{const t=(s,a)=>s<0?s:s>a?s-a:0;return({current:s,max:a,change:r})=>{const n=Qr(s,r),i={x:t(n.x,a.x),y:t(n.y,a.y)};return Wc(i,qr)?null:i}})(),ML=({max:t,current:s,change:a})=>{const r={x:Math.max(s.x,t.x),y:Math.max(s.y,t.y)},n=M3e(a),i=f3({max:r,current:s,change:n});return!i||n.x!==0&&i.x===0||n.y!==0&&i.y===0},x3=(t,s)=>ML({current:t.scroll.current,max:t.scroll.max,change:s}),D3e=(t,s)=>{if(!x3(t,s))return null;const a=t.scroll.max,r=t.scroll.current;return f3({current:r,max:a,change:s})},g3=(t,s)=>{const a=t.frame;return a?ML({current:a.scroll.current,max:a.scroll.max,change:s}):!1},R3e=(t,s)=>{const a=t.frame;return!a||!g3(t,s)?null:f3({current:a.scroll.current,max:a.scroll.max,change:s})};var A3e=({viewport:t,subject:s,center:a,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:i})=>{const o=TL({dragStartTime:r,container:t.frame,subject:s,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});return o&&x3(t,o)?o:null},I3e=({droppable:t,subject:s,center:a,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:i})=>{const o=t.frame;if(!o)return null;const l=TL({dragStartTime:r,container:o.pageMarginBox,subject:s,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});return l&&g3(t,l)?l:null},$D=({state:t,dragStartTime:s,shouldUseTimeDampening:a,scrollWindow:r,scrollDroppable:n,getAutoScrollerOptions:i})=>{const o=t.current.page.borderBoxCenter,c=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const p=t.viewport,x=A3e({dragStartTime:s,viewport:p,subject:c,center:o,shouldUseTimeDampening:a,getAutoScrollerOptions:i});if(x){r(x);return}}const m=S3e({center:o,destination:hi(t.impact),droppables:t.dimensions.droppables});if(!m)return;const d=I3e({dragStartTime:s,droppable:m,subject:c,center:o,shouldUseTimeDampening:a,getAutoScrollerOptions:i});d&&n(m.descriptor.id,d)},O3e=({scrollWindow:t,scrollDroppable:s,getAutoScrollerOptions:a=()=>Zx})=>{const r=Wx(t),n=Wx(s);let i=null;const o=m=>{i||Ft();const{shouldUseTimeDampening:d,dragStartTime:p}=i;$D({state:m,scrollWindow:r,scrollDroppable:n,dragStartTime:p,shouldUseTimeDampening:d,getAutoScrollerOptions:a})};return{start:m=>{i&&Ft();const d=Date.now();let p=!1;const x=()=>{p=!0};$D({state:m,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:x,scrollDroppable:x,getAutoScrollerOptions:a}),i={dragStartTime:d,shouldUseTimeDampening:p},p&&o(m)},stop:()=>{i&&(r.cancel(),n.cancel(),i=null)},scroll:o}},F3e=({move:t,scrollDroppable:s,scrollWindow:a})=>{const r=(l,c)=>{const m=Qr(l.current.client.selection,c);t({client:m})},n=(l,c)=>{if(!g3(l,c))return c;const m=R3e(l,c);if(!m)return s(l.descriptor.id,c),null;const d=di(c,m);return s(l.descriptor.id,d),di(c,d)},i=(l,c,m)=>{if(!l||!x3(c,m))return m;const d=D3e(c,m);if(!d)return a(m),null;const p=di(m,d);return a(p),di(m,p)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const m=hi(l.impact);m||Ft();const d=n(l.dimensions.droppables[m],c);if(!d)return;const p=l.viewport,x=i(l.isWindowScrollAllowed,p,d);x&&r(l,x)}},L3e=({scrollDroppable:t,scrollWindow:s,move:a,getAutoScrollerOptions:r})=>{const n=O3e({scrollWindow:s,scrollDroppable:t,getAutoScrollerOptions:r}),i=F3e({move:a,scrollWindow:s,scrollDroppable:t});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){n.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:n.start,stop:n.stop}};const jp="data-rfd",Np=(()=>{const t=`${jp}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),qw=(()=>{const t=`${jp}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),$3e=(()=>{const t=`${jp}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),zD={contextId:`${jp}-scroll-container-context-id`},z3e=t=>s=>`[${s}="${t}"]`,nf=(t,s)=>t.map(a=>{const r=a.styles[s];return r?`${a.selector} { ${r} }`:""}).join(" "),q3e="pointer-events: none;";var B3e=t=>{const s=z3e(t),a=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:s(Np.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:q3e,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${ux.outOfTheWay};
    `;return{selector:s(qw.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),n={selector:s($3e.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,a,n,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:nf(o,"always"),resting:nf(o,"resting"),dragging:nf(o,"dragging"),dropAnimating:nf(o,"dropAnimating"),userCancel:nf(o,"userCancel")}};const fi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g.useLayoutEffect:g.useEffect,e_=()=>{const t=document.querySelector("head");return t||Ft(),t},qD=t=>{const s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.type="text/css",s};function U3e(t,s){const a=na(()=>B3e(t),[t]),r=g.useRef(null),n=g.useRef(null),i=ms(zr(p=>{const x=n.current;x||Ft(),x.textContent=p}),[]),o=ms(p=>{const x=r.current;x||Ft(),x.textContent=p},[]);fi(()=>{!r.current&&!n.current||Ft();const p=qD(s),x=qD(s);return r.current=p,n.current=x,p.setAttribute(`${jp}-always`,t),x.setAttribute(`${jp}-dynamic`,t),e_().appendChild(p),e_().appendChild(x),o(a.always),i(a.resting),()=>{const j=_=>{const S=_.current;S||Ft(),e_().removeChild(S),_.current=null};j(r),j(n)}},[s,o,i,a.always,a.resting,t]);const l=ms(()=>i(a.dragging),[i,a.dragging]),c=ms(p=>{if(p==="DROP"){i(a.dropAnimating);return}i(a.userCancel)},[i,a.dropAnimating,a.userCancel]),m=ms(()=>{n.current&&i(a.resting)},[i,a.resting]);return na(()=>({dragging:l,dropping:c,resting:m}),[l,c,m])}function DL(t,s){return Array.from(t.querySelectorAll(s))}var RL=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function v1(t){return t instanceof RL(t).HTMLElement}function V3e(t,s){const a=`[${Np.contextId}="${t}"]`,r=DL(document,a);if(!r.length)return null;const n=r.find(i=>i.getAttribute(Np.draggableId)===s);return!n||!v1(n)?null:n}function H3e(t){const s=g.useRef({}),a=g.useRef(null),r=g.useRef(null),n=g.useRef(!1),i=ms(function(x,j){const _={id:x,focus:j};return s.current[x]=_,function(){const v=s.current;v[x]!==_&&delete v[x]}},[]),o=ms(function(x){const j=V3e(t,x);j&&j!==document.activeElement&&j.focus()},[t]),l=ms(function(x,j){a.current===x&&(a.current=j)},[]),c=ms(function(){r.current||n.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const x=a.current;x&&o(x)}))},[o]),m=ms(function(x){a.current=null;const j=document.activeElement;j&&j.getAttribute(Np.draggableId)===x&&(a.current=x)},[]);return fi(()=>(n.current=!0,function(){n.current=!1;const x=r.current;x&&cancelAnimationFrame(x)}),[]),na(()=>({register:i,tryRecordFocus:m,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,m,c,l])}function W3e(){const t={draggables:{},droppables:{}},s=[];function a(p){return s.push(p),function(){const j=s.indexOf(p);j!==-1&&s.splice(j,1)}}function r(p){s.length&&s.forEach(x=>x(p))}function n(p){return t.draggables[p]||null}function i(p){const x=n(p);return x||Ft(),x}const o={register:p=>{t.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,x)=>{const j=t.draggables[x.descriptor.id];j&&j.uniqueId===p.uniqueId&&(delete t.draggables[x.descriptor.id],t.draggables[p.descriptor.id]=p)},unregister:p=>{const x=p.descriptor.id,j=n(x);j&&p.uniqueId===j.uniqueId&&(delete t.draggables[x],t.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:i,findById:n,exists:p=>!!n(p),getAllByType:p=>Object.values(t.draggables).filter(x=>x.descriptor.type===p)};function l(p){return t.droppables[p]||null}function c(p){const x=l(p);return x||Ft(),x}const m={register:p=>{t.droppables[p.descriptor.id]=p},unregister:p=>{const x=l(p.descriptor.id);x&&p.uniqueId===x.uniqueId&&delete t.droppables[p.descriptor.id]},getById:c,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(t.droppables).filter(x=>x.descriptor.type===p)};function d(){t.draggables={},t.droppables={},s.length=0}return{draggable:o,droppable:m,subscribe:a,clean:d}}function Y3e(){const t=na(W3e,[]);return g.useEffect(()=>function(){t.clean()},[t]),t}var b3=yt.createContext(null),Xy=()=>{const t=document.body;return t||Ft(),t};const G3e={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},K3e=t=>`rfd-announcement-${t}`;function Q3e(t){const s=na(()=>K3e(t),[t]),a=g.useRef(null);return g.useEffect(function(){const i=document.createElement("div");return a.current=i,i.id=s,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),je(i.style,G3e),Xy().appendChild(i),function(){setTimeout(function(){const c=Xy();c.contains(i)&&c.removeChild(i),i===a.current&&(a.current=null)})}},[s]),ms(n=>{const i=a.current;if(i){i.textContent=n;return}},[])}const Z3e={separator:"::"};function y3(t,s=Z3e){const a=yt.useId();return na(()=>`${t}${s.separator}${a}`,[s.separator,t,a])}function X3e({contextId:t,uniqueId:s}){return`rfd-hidden-text-${t}-${s}`}function J3e({contextId:t,text:s}){const a=y3("hidden-text",{separator:"-"}),r=na(()=>X3e({contextId:t,uniqueId:a}),[a,t]);return g.useEffect(function(){const i=document.createElement("div");return i.id=r,i.textContent=s,i.style.display="none",Xy().appendChild(i),function(){const l=Xy();l.contains(i)&&l.removeChild(i)}},[r,s]),r}var j1=yt.createContext(null);function AL(t){const s=g.useRef(t);return g.useEffect(()=>{s.current=t}),s}function eCe(){let t=null;function s(){return!!t}function a(o){return o===t}function r(o){t&&Ft();const l={abandon:o};return t=l,l}function n(){t||Ft(),t=null}function i(){t&&(t.abandon(),n())}return{isClaimed:s,isActive:a,claim:r,release:n,tryAbandon:i}}function Xx(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const tCe=9,sCe=13,v3=27,IL=32,aCe=33,rCe=34,nCe=35,iCe=36,oCe=37,lCe=38,cCe=39,dCe=40,uCe={[sCe]:!0,[tCe]:!0};var OL=t=>{uCe[t.keyCode]&&t.preventDefault()};const N1=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})(),FL=0,BD=5;function mCe(t,s){return Math.abs(s.x-t.x)>=BD||Math.abs(s.y-t.y)>=BD}const UD={type:"IDLE"};function pCe({cancel:t,completed:s,getPhase:a,setPhase:r}){return[{eventName:"mousemove",fn:n=>{const{button:i,clientX:o,clientY:l}=n;if(i!==FL)return;const c={x:o,y:l},m=a();if(m.type==="DRAGGING"){n.preventDefault(),m.actions.move(c);return}m.type!=="PENDING"&&Ft();const d=m.point;if(!mCe(d,c))return;n.preventDefault();const p=m.actions.fluidLift(c);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:n=>{const i=a();if(i.type!=="DRAGGING"){t();return}n.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),s()}},{eventName:"mousedown",fn:n=>{a().type==="DRAGGING"&&n.preventDefault(),t()}},{eventName:"keydown",fn:n=>{if(a().type==="PENDING"){t();return}if(n.keyCode===v3){n.preventDefault(),t();return}OL(n)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{a().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:n=>{const i=a();if(i.type==="IDLE"&&Ft(),i.actions.shouldRespectForcePress()){t();return}n.preventDefault()}},{eventName:N1,fn:t}]}function hCe(t){const s=g.useRef(UD),a=g.useRef(Hc),r=na(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==FL||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const x=t.findClosestDraggableId(p);if(!x)return;const j=t.tryGetLock(x,o,{sourceEvent:p});if(!j)return;p.preventDefault();const _={x:p.clientX,y:p.clientY};a.current(),m(j,_)}}),[t]),n=na(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const p=t.findClosestDraggableId(d);if(!p)return;const x=t.findOptionsForDraggable(p);x&&(x.shouldRespectForcePress||t.canGetLock(p)&&d.preventDefault())}}),[t]),i=ms(function(){const p={passive:!1,capture:!0};a.current=Wi(window,[n,r],p)},[n,r]),o=ms(()=>{s.current.type!=="IDLE"&&(s.current=UD,a.current(),i())},[i]),l=ms(()=>{const d=s.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),c=ms(function(){const p={capture:!0,passive:!1},x=pCe({cancel:l,completed:o,getPhase:()=>s.current,setPhase:j=>{s.current=j}});a.current=Wi(window,x,p)},[l,o]),m=ms(function(p,x){s.current.type!=="IDLE"&&Ft(),s.current={type:"PENDING",point:x,actions:p},c()},[c]);fi(function(){return i(),function(){a.current()}},[i])}function fCe(){}const xCe={[rCe]:!0,[aCe]:!0,[iCe]:!0,[nCe]:!0};function gCe(t,s){function a(){s(),t.cancel()}function r(){s(),t.drop()}return[{eventName:"keydown",fn:n=>{if(n.keyCode===v3){n.preventDefault(),a();return}if(n.keyCode===IL){n.preventDefault(),r();return}if(n.keyCode===dCe){n.preventDefault(),t.moveDown();return}if(n.keyCode===lCe){n.preventDefault(),t.moveUp();return}if(n.keyCode===cCe){n.preventDefault(),t.moveRight();return}if(n.keyCode===oCe){n.preventDefault(),t.moveLeft();return}if(xCe[n.keyCode]){n.preventDefault();return}OL(n)}},{eventName:"mousedown",fn:a},{eventName:"mouseup",fn:a},{eventName:"click",fn:a},{eventName:"touchstart",fn:a},{eventName:"resize",fn:a},{eventName:"wheel",fn:a,options:{passive:!0}},{eventName:N1,fn:a}]}function bCe(t){const s=g.useRef(fCe),a=na(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==IL)return;const o=t.findClosestDraggableId(i);if(!o)return;const l=t.tryGetLock(o,d,{sourceEvent:i});if(!l)return;i.preventDefault();let c=!0;const m=l.snapLift();s.current();function d(){c||Ft(),c=!1,s.current(),r()}s.current=Wi(window,gCe(m,d),{capture:!0,passive:!1})}}),[t]),r=ms(function(){const i={passive:!1,capture:!0};s.current=Wi(window,[a],i)},[a]);fi(function(){return r(),function(){s.current()}},[r])}const t_={type:"IDLE"},yCe=120,vCe=.15;function jCe({cancel:t,getPhase:s}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:a=>{a.preventDefault()}},{eventName:"keydown",fn:a=>{if(s().type!=="DRAGGING"){t();return}a.keyCode===v3&&a.preventDefault(),t()}},{eventName:N1,fn:t}]}function NCe({cancel:t,completed:s,getPhase:a}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const n=a();if(n.type!=="DRAGGING"){t();return}n.hasMoved=!0;const{clientX:i,clientY:o}=r.touches[0],l={x:i,y:o};r.preventDefault(),n.actions.move(l)}},{eventName:"touchend",fn:r=>{const n=a();if(n.type!=="DRAGGING"){t();return}r.preventDefault(),n.actions.drop({shouldBlockNextClick:!0}),s()}},{eventName:"touchcancel",fn:r=>{if(a().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const n=a();n.type==="IDLE"&&Ft();const i=r.touches[0];if(!i||!(i.force>=vCe))return;const l=n.actions.shouldRespectForcePress();if(n.type==="PENDING"){l&&t();return}if(l){if(n.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:N1,fn:t}]}function _Ce(t){const s=g.useRef(t_),a=g.useRef(Hc),r=ms(function(){return s.current},[]),n=ms(function(j){s.current=j},[]),i=na(()=>({eventName:"touchstart",fn:function(j){if(j.defaultPrevented)return;const _=t.findClosestDraggableId(j);if(!_)return;const S=t.tryGetLock(_,l,{sourceEvent:j});if(!S)return;const v=j.touches[0],{clientX:y,clientY:N}=v,C={x:y,y:N};a.current(),p(S,C)}}),[t]),o=ms(function(){const j={capture:!0,passive:!1};a.current=Wi(window,[i],j)},[i]),l=ms(()=>{const x=s.current;x.type!=="IDLE"&&(x.type==="PENDING"&&clearTimeout(x.longPressTimerId),n(t_),a.current(),o())},[o,n]),c=ms(()=>{const x=s.current;l(),x.type==="DRAGGING"&&x.actions.cancel({shouldBlockNextClick:!0}),x.type==="PENDING"&&x.actions.abort()},[l]),m=ms(function(){const j={capture:!0,passive:!1},_={cancel:c,completed:l,getPhase:r},S=Wi(window,NCe(_),j),v=Wi(window,jCe(_),j);a.current=function(){S(),v()}},[c,r,l]),d=ms(function(){const j=r();j.type!=="PENDING"&&Ft();const _=j.actions.fluidLift(j.point);n({type:"DRAGGING",actions:_,hasMoved:!1})},[r,n]),p=ms(function(j,_){r().type!=="IDLE"&&Ft();const S=setTimeout(d,yCe);n({type:"PENDING",point:_,actions:j,longPressTimerId:S}),m()},[m,r,n,d]);fi(function(){return o(),function(){a.current();const _=r();_.type==="PENDING"&&(clearTimeout(_.longPressTimerId),n(t_))}},[r,o,n]),fi(function(){return Wi(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const wCe=["input","button","textarea","select","option","optgroup","video","audio"];function LL(t,s){if(s==null)return!1;if(wCe.includes(s.tagName.toLowerCase()))return!0;const r=s.getAttribute("contenteditable");return r==="true"||r===""?!0:s===t?!1:LL(t,s.parentElement)}function SCe(t,s){const a=s.target;return v1(a)?LL(t,a):!1}var CCe=t=>bo(t.getBoundingClientRect()).center;function PCe(t){return t instanceof RL(t).Element}const kCe=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function $L(t,s){return t==null?null:t[kCe](s)?t:$L(t.parentElement,s)}function ECe(t,s){return t.closest?t.closest(s):$L(t,s)}function TCe(t){return`[${Np.contextId}="${t}"]`}function MCe(t,s){const a=s.target;if(!PCe(a))return null;const r=TCe(t),n=ECe(a,r);return!n||!v1(n)?null:n}function DCe(t,s){const a=MCe(t,s);return a?a.getAttribute(Np.draggableId):null}function RCe(t,s){const a=`[${qw.contextId}="${t}"]`,n=DL(document,a).find(i=>i.getAttribute(qw.id)===s);return!n||!v1(n)?null:n}function ACe(t){t.preventDefault()}function Ob({expected:t,phase:s,isLockActive:a,shouldWarn:r}){return!(!a()||t!==s)}function zL({lockAPI:t,store:s,registry:a,draggableId:r}){if(t.isClaimed())return!1;const n=a.draggable.findById(r);return!(!n||!n.options.isEnabled||!kL(s.getState(),r))}function ICe({lockAPI:t,contextId:s,store:a,registry:r,draggableId:n,forceSensorStop:i,sourceEvent:o}){if(!zL({lockAPI:t,store:a,registry:r,draggableId:n}))return null;const c=r.draggable.getById(n),m=RCe(s,c.descriptor.id);if(!m||o&&!c.options.canDragInteractiveElements&&SCe(m,o))return null;const d=t.claim(i||Hc);let p="PRE_DRAG";function x(){return c.options.shouldRespectForcePress}function j(){return t.isActive(d)}function _(E,D){Ob({expected:E,phase:p,isLockActive:j,shouldWarn:!0})&&a.dispatch(D())}const S=_.bind(null,"DRAGGING");function v(E){function D(){t.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(D(),Ft()),a.dispatch(ESe(E.liftActionArgs)),p="DRAGGING";function T(A,I={shouldBlockNextClick:!1}){if(E.cleanup(),I.shouldBlockNextClick){const F=Wi(window,[{eventName:"click",fn:ACe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(F)}D(),a.dispatch(vL({reason:A}))}return{isActive:()=>Ob({expected:"DRAGGING",phase:p,isLockActive:j,shouldWarn:!1}),shouldRespectForcePress:x,drop:A=>T("DROP",A),cancel:A=>T("CANCEL",A),...E.actions}}function y(E){const D=Wx(A=>{S(()=>yL({client:A}))});return{...v({liftActionArgs:{id:n,clientSelection:E,movementMode:"FLUID"},cleanup:()=>D.cancel(),actions:{move:D}}),move:D}}function N(){const E={moveUp:()=>S(LSe),moveRight:()=>S(zSe),moveDown:()=>S($Se),moveLeft:()=>S(qSe)};return v({liftActionArgs:{id:n,clientSelection:CCe(m),movementMode:"SNAP"},cleanup:Hc,actions:E})}function C(){Ob({expected:"PRE_DRAG",phase:p,isLockActive:j,shouldWarn:!0})&&t.release()}return{isActive:()=>Ob({expected:"PRE_DRAG",phase:p,isLockActive:j,shouldWarn:!1}),shouldRespectForcePress:x,fluidLift:y,snapLift:N,abort:C}}const OCe=[hCe,bCe,_Ce];function FCe({contextId:t,store:s,registry:a,customSensors:r,enableDefaultSensors:n}){const i=[...n?OCe:[],...r||[]],o=g.useState(()=>eCe())[0],l=ms(function(v,y){Xx(v)&&!Xx(y)&&o.tryAbandon()},[o]);fi(function(){let v=s.getState();return s.subscribe(()=>{const N=s.getState();l(v,N),v=N})},[o,s,l]),fi(()=>o.tryAbandon,[o.tryAbandon]);const c=ms(S=>zL({lockAPI:o,registry:a,store:s,draggableId:S}),[o,a,s]),m=ms((S,v,y)=>ICe({lockAPI:o,registry:a,contextId:t,store:s,draggableId:S,forceSensorStop:v||null,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null}),[t,o,a,s]),d=ms(S=>DCe(t,S),[t]),p=ms(S=>{const v=a.draggable.findById(S);return v?v.options:null},[a.draggable]),x=ms(function(){o.isClaimed()&&(o.tryAbandon(),s.getState().phase!=="IDLE"&&s.dispatch(u3()))},[o,s]),j=ms(()=>o.isClaimed(),[o]),_=na(()=>({canGetLock:c,tryGetLock:m,findClosestDraggableId:d,findOptionsForDraggable:p,tryReleaseLock:x,isLockClaimed:j}),[c,m,d,p,x,j]);for(let S=0;S<i.length;S++)i[S](_)}const LCe=t=>({onBeforeCapture:s=>{const a=()=>{t.onBeforeCapture&&t.onBeforeCapture(s)};ng.flushSync(a)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),$Ce=t=>({...Zx,...t.autoScrollerOptions,durationDampening:{...Zx.durationDampening,...t.autoScrollerOptions}});function of(t){return t.current||Ft(),t.current}function zCe(t){const{contextId:s,setCallbacks:a,sensors:r,nonce:n,dragHandleUsageInstructions:i}=t,o=g.useRef(null),l=AL(t),c=ms(()=>LCe(l.current),[l]),m=ms(()=>$Ce(l.current),[l]),d=Q3e(s),p=J3e({contextId:s,text:i}),x=U3e(s,n),j=ms(F=>{of(o).dispatch(F)},[]),_=na(()=>fD({publishWhileDragging:MSe,updateDroppableScroll:RSe,updateDroppableIsEnabled:ASe,updateDroppableIsCombineEnabled:ISe,collectionStarting:DSe},j),[j]),S=Y3e(),v=na(()=>j3e(S,_),[S,_]),y=na(()=>L3e({scrollWindow:N3e,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:m,...fD({move:yL},j)}),[v.scrollDroppable,j,m]),N=H3e(s),C=na(()=>g3e({announce:d,autoScroller:y,dimensionMarshal:v,focusMarshal:N,getResponders:c,styleMarshal:x}),[d,y,v,N,c,x]);o.current=C;const P=ms(()=>{const F=of(o);F.getState().phase!=="IDLE"&&F.dispatch(u3())},[]),E=ms(()=>{const F=of(o).getState();return F.phase==="DROP_ANIMATING"?!0:F.phase==="IDLE"?!1:F.isDragging},[]),D=na(()=>({isDragging:E,tryAbort:P}),[E,P]);a(D);const T=ms(F=>kL(of(o).getState(),F),[]),A=ms(()=>Ud(of(o).getState()),[]),I=na(()=>({marshal:v,focus:N,contextId:s,canLift:T,isMovementAllowed:A,dragHandleUsageInstructionsId:p,registry:S}),[s,v,p,N,T,A,S]);return FCe({contextId:s,store:C,registry:S,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),g.useEffect(()=>P,[P]),yt.createElement(j1.Provider,{value:I},yt.createElement(u4e,{context:b3,store:C},t.children))}function qCe(){return yt.useId()}function _1(t){const s=qCe(),a=t.dragHandleUsageInstructions||ly.dragHandleUsageInstructions;return yt.createElement(b4e,null,r=>yt.createElement(zCe,{nonce:t.nonce,contextId:s,setCallbacks:r,dragHandleUsageInstructions:a,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const VD={dragging:5e3,dropAnimating:4500},BCe=(t,s)=>s?ux.drop(s.duration):t?ux.snap:ux.fluid,UCe=(t,s)=>{if(t)return s?Qx.opacity.drop:Qx.opacity.combining},VCe=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function HCe(t){const a=t.dimension.client,{offset:r,combineWith:n,dropping:i}=t,o=!!n,l=VCe(t),c=!!i,m=c?$w.drop(r,o):$w.moveTo(r);return{position:"fixed",top:a.marginBox.top,left:a.marginBox.left,boxSizing:"border-box",width:a.borderBox.width,height:a.borderBox.height,transition:BCe(l,i),transform:m,opacity:UCe(o,c),zIndex:c?VD.dropAnimating:VD.dragging,pointerEvents:"none"}}function WCe(t){return{transform:$w.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function YCe(t){return t.type==="DRAGGING"?HCe(t):WCe(t)}function GCe(t,s,a=qr){const r=window.getComputedStyle(s),n=s.getBoundingClientRect(),i=YF(n,r),o=Gy(i,a),l={client:i,tagName:s.tagName.toLowerCase(),display:r.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:t,placeholder:l,displaceBy:c,client:i,page:o}}function KCe(t){const s=y3("draggable"),{descriptor:a,registry:r,getDraggableRef:n,canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}=t,c=na(()=>({canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}),[i,l,o]),m=ms(j=>{const _=n();return _||Ft(),GCe(a,_,j)},[a,n]),d=na(()=>({uniqueId:s,descriptor:a,options:c,getDimension:m}),[a,m,c,s]),p=g.useRef(d),x=g.useRef(!0);fi(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),fi(()=>{if(x.current){x.current=!1;return}const j=p.current;p.current=d,r.draggable.update(d,j)},[d,r.draggable])}var j3=yt.createContext(null);function Jy(t){const s=g.useContext(t);return s||Ft(),s}function QCe(t){t.preventDefault()}const ZCe=t=>{const s=g.useRef(null),a=ms((D=null)=>{s.current=D},[]),r=ms(()=>s.current,[]),{contextId:n,dragHandleUsageInstructionsId:i,registry:o}=Jy(j1),{type:l,droppableId:c}=Jy(j3),m=na(()=>({id:t.draggableId,index:t.index,type:l,droppableId:c}),[t.draggableId,t.index,l,c]),{children:d,draggableId:p,isEnabled:x,shouldRespectForcePress:j,canDragInteractiveElements:_,isClone:S,mapped:v,dropAnimationFinished:y}=t;if(!S){const D=na(()=>({descriptor:m,registry:o,getDraggableRef:r,canDragInteractiveElements:_,shouldRespectForcePress:j,isEnabled:x}),[m,o,r,_,j,x]);KCe(D)}const N=na(()=>x?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":n,draggable:!1,onDragStart:QCe}:null,[n,i,p,x]),C=ms(D=>{v.type==="DRAGGING"&&v.dropping&&D.propertyName==="transform"&&ng.flushSync(y)},[y,v]),P=na(()=>{const D=YCe(v),T=v.type==="DRAGGING"&&v.dropping?C:void 0;return{innerRef:a,draggableProps:{"data-rfd-draggable-context-id":n,"data-rfd-draggable-id":p,style:D,onTransitionEnd:T},dragHandleProps:N}},[n,N,p,v,C,a]),E=na(()=>({draggableId:m.id,type:m.type,source:{index:m.index,droppableId:m.droppableId}}),[m.droppableId,m.id,m.index,m.type]);return yt.createElement(yt.Fragment,null,d(P,v.snapshot,E))};var qL=(t,s)=>t===s,BL=t=>{const{combine:s,destination:a}=t;return a?a.droppableId:s?s.droppableId:null};const XCe=t=>t.combine?t.combine.draggableId:null,JCe=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function e5e(){const t=zr((n,i)=>({x:n,y:i})),s=zr((n,i,o=null,l=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:n,draggingOver:o,combineWith:l,combineTargetFor:null})),a=zr((n,i,o,l,c=null,m=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:m,mode:i,offset:n,dimension:o,forceShouldAnimate:d,snapshot:s(i,l,c,m,null)}}));return(n,i)=>{if(Xx(n)){if(n.critical.draggable.id!==i.draggableId)return null;const o=n.current.client.offset,l=n.dimensions.draggables[i.draggableId],c=hi(n.impact),m=JCe(n.impact),d=n.forceShouldAnimate;return a(t(o.x,o.y),n.movementMode,l,i.isClone,c,m,d)}if(n.phase==="DROP_ANIMATING"){const o=n.completed;if(o.result.draggableId!==i.draggableId)return null;const l=i.isClone,c=n.dimensions.draggables[i.draggableId],m=o.result,d=m.mode,p=BL(m),x=XCe(m),_={duration:n.dropDuration,curve:p3.drop,moveTo:n.newHomeClientOffset,opacity:x?Qx.opacity.drop:null,scale:x?Qx.scale.drop:null};return{mapped:{type:"DRAGGING",offset:n.newHomeClientOffset,dimension:c,dropping:_,draggingOver:p,combineWith:x,mode:d,forceShouldAnimate:null,snapshot:s(d,l,p,x,_)}}}return null}}function UL(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const t5e={mapped:{type:"SECONDARY",offset:qr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:UL(null)}};function s5e(){const t=zr((o,l)=>({x:o,y:l})),s=zr(UL),a=zr((o,l=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:s(l)}})),r=o=>o?a(qr,o,!0):null,n=(o,l,c,m)=>{const d=c.displaced.visible[o],p=!!(m.inVirtualList&&m.effected[o]),x=g1(c),j=x&&x.draggableId===o?l:null;if(!d){if(!p)return r(j);if(c.displaced.invisible[o])return null;const v=Op(m.displacedBy.point),y=t(v.x,v.y);return a(y,j,!0)}if(p)return r(j);const _=c.displacedBy.point,S=t(_.x,_.y);return a(S,j,d.shouldAnimate)};return(o,l)=>{if(Xx(o))return o.critical.draggable.id===l.draggableId?null:n(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===l.draggableId?null:n(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const a5e=()=>{const t=e5e(),s=s5e();return(r,n)=>t(r,n)||s(r,n)||t5e},r5e={dropAnimationFinished:jL},n5e=WF(a5e,r5e,null,{context:b3,areStatePropsEqual:qL})(ZCe);function VL(t){return Jy(j3).isUsingCloneFor===t.draggableId&&!t.isClone?null:yt.createElement(n5e,t)}function td(t){const s=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,a=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return yt.createElement(VL,je({},t,{isClone:!1,isEnabled:s,canDragInteractiveElements:a,shouldRespectForcePress:r}))}const HL=t=>s=>t===s,i5e=HL("scroll"),o5e=HL("auto"),HD=(t,s)=>s(t.overflowX)||s(t.overflowY),l5e=t=>{const s=window.getComputedStyle(t),a={overflowX:s.overflowX,overflowY:s.overflowY};return HD(a,i5e)||HD(a,o5e)},c5e=()=>!1,WL=t=>t==null?null:t===document.body?c5e()?t:null:t===document.documentElement?null:l5e(t)?t:WL(t.parentElement);var Bw=t=>({x:t.scrollLeft,y:t.scrollTop});const YL=t=>t?window.getComputedStyle(t).position==="fixed"?!0:YL(t.parentElement):!1;var d5e=t=>{const s=WL(t),a=YL(t);return{closestScrollable:s,isFixedOnPage:a}},u5e=({descriptor:t,isEnabled:s,isCombineEnabled:a,isFixedOnPage:r,direction:n,client:i,page:o,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:x,client:j}=l,_=SL({scrollHeight:x.scrollHeight,scrollWidth:x.scrollWidth,height:j.paddingBox.height,width:j.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:j,scrollSize:x,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:_,diff:{value:qr,displacement:qr}}}})(),m=n==="vertical"?i3:rL,d=vp({page:o,withPlaceholder:null,axis:m,frame:c});return{descriptor:t,isCombineEnabled:a,isFixedOnPage:r,axis:m,isEnabled:s,client:i,page:o,frame:c,subject:d}};const m5e=(t,s)=>{const a=GF(t);if(!s||t!==s)return a;const r=a.paddingBox.top-s.scrollTop,n=a.paddingBox.left-s.scrollLeft,i=r+s.scrollHeight,o=n+s.scrollWidth,c=s3({top:r,right:o,bottom:i,left:n},a.border);return a3({borderBox:c,margin:a.margin,border:a.border,padding:a.padding})};var p5e=({ref:t,descriptor:s,env:a,windowScroll:r,direction:n,isDropDisabled:i,isCombineEnabled:o,shouldClipSubject:l})=>{const c=a.closestScrollable,m=m5e(t,c),d=Gy(m,r),p=(()=>{if(!c)return null;const j=GF(c),_={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:j,page:Gy(j,r),scroll:Bw(c),scrollSize:_,shouldClipSubject:l}})();return u5e({descriptor:s,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:a.isFixedOnPage,direction:n,client:m,page:d,closest:p})};const h5e={passive:!1},f5e={passive:!0};var WD=t=>t.shouldPublishImmediately?h5e:f5e;const Fb=t=>t&&t.env.closestScrollable||null;function x5e(t){const s=g.useRef(null),a=Jy(j1),r=y3("droppable"),{registry:n,marshal:i}=a,o=AL(t),l=na(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),c=g.useRef(l),m=na(()=>zr((P,E)=>{s.current||Ft();const D={x:P,y:E};i.updateDroppableScroll(l.id,D)}),[l.id,i]),d=ms(()=>{const P=s.current;return!P||!P.env.closestScrollable?qr:Bw(P.env.closestScrollable)},[]),p=ms(()=>{const P=d();m(P.x,P.y)},[d,m]),x=na(()=>Wx(p),[p]),j=ms(()=>{const P=s.current,E=Fb(P);if(P&&E||Ft(),P.scrollOptions.shouldPublishImmediately){p();return}x()},[x,p]),_=ms((P,E)=>{s.current&&Ft();const D=o.current,T=D.getDroppableRef();T||Ft();const A=d5e(T),I={ref:T,descriptor:l,env:A,scrollOptions:E};s.current=I;const F=p5e({ref:T,descriptor:l,env:A,windowScroll:P,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),z=A.closestScrollable;return z&&(z.setAttribute(zD.contextId,a.contextId),z.addEventListener("scroll",j,WD(I.scrollOptions))),F},[a.contextId,l,j,o]),S=ms(()=>{const P=s.current,E=Fb(P);return P&&E||Ft(),Bw(E)},[]),v=ms(()=>{const P=s.current;P||Ft();const E=Fb(P);s.current=null,E&&(x.cancel(),E.removeAttribute(zD.contextId),E.removeEventListener("scroll",j,WD(P.scrollOptions)))},[j,x]),y=ms(P=>{const E=s.current;E||Ft();const D=Fb(E);D||Ft(),D.scrollTop+=P.y,D.scrollLeft+=P.x},[]),N=na(()=>({getDimensionAndWatchScroll:_,getScrollWhileDragging:S,dragStopped:v,scroll:y}),[v,_,S,y]),C=na(()=>({uniqueId:r,descriptor:l,callbacks:N}),[N,l,r]);fi(()=>(c.current=C.descriptor,n.droppable.register(C),()=>{s.current&&v(),n.droppable.unregister(C)}),[N,l,v,C,i,n.droppable]),fi(()=>{s.current&&i.updateDroppableIsEnabled(c.current.id,!t.isDropDisabled)},[t.isDropDisabled,i]),fi(()=>{s.current&&i.updateDroppableIsCombineEnabled(c.current.id,t.isCombineEnabled)},[t.isCombineEnabled,i])}function s_(){}const YD={width:0,height:0,margin:S4e},g5e=({isAnimatingOpenOnMount:t,placeholder:s,animate:a})=>t||a==="close"?YD:{height:s.client.borderBox.height,width:s.client.borderBox.width,margin:s.client.margin},b5e=({isAnimatingOpenOnMount:t,placeholder:s,animate:a})=>{const r=g5e({isAnimatingOpenOnMount:t,placeholder:s,animate:a});return{display:s.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?ux.placeholder:null}},y5e=t=>{const s=g.useRef(null),a=ms(()=>{s.current&&(clearTimeout(s.current),s.current=null)},[]),{animate:r,onTransitionEnd:n,onClose:i,contextId:o}=t,[l,c]=g.useState(t.animate==="open");g.useEffect(()=>l?r!=="open"?(a(),c(!1),s_):s.current?s_:(s.current=setTimeout(()=>{s.current=null,c(!1)}),a):s_,[r,l,a]);const m=ms(p=>{p.propertyName==="height"&&(n(),r==="close"&&i())},[r,i,n]),d=b5e({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return yt.createElement(t.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":o,onTransitionEnd:m,ref:t.innerRef})};var v5e=yt.memo(y5e);class j5e extends yt.PureComponent{constructor(...s){super(...s),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(s,a){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)}}const N5e=t=>{const s=g.useContext(j1);s||Ft();const{contextId:a,isMovementAllowed:r}=s,n=g.useRef(null),i=g.useRef(null),{children:o,droppableId:l,type:c,mode:m,direction:d,ignoreContainerClipping:p,isDropDisabled:x,isCombineEnabled:j,snapshot:_,useClone:S,updateViewportMaxScroll:v,getContainerForClone:y}=t,N=ms(()=>n.current,[]),C=ms((z=null)=>{n.current=z},[]);ms(()=>i.current,[]);const P=ms((z=null)=>{i.current=z},[]),E=ms(()=>{r()&&v({maxScroll:PL()})},[r,v]);x5e({droppableId:l,type:c,mode:m,direction:d,isDropDisabled:x,isCombineEnabled:j,ignoreContainerClipping:p,getDroppableRef:N});const D=na(()=>yt.createElement(j5e,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:z,data:O,animate:K})=>yt.createElement(v5e,{placeholder:O,onClose:z,innerRef:P,animate:K,contextId:a,onTransitionEnd:E})),[a,E,t.placeholder,t.shouldAnimatePlaceholder,P]),T=na(()=>({innerRef:C,placeholder:D,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":a}}),[a,l,D,C]),A=S?S.dragging.draggableId:null,I=na(()=>({droppableId:l,type:c,isUsingCloneFor:A}),[l,A,c]);function F(){if(!S)return null;const{dragging:z,render:O}=S,K=yt.createElement(VL,{draggableId:z.draggableId,index:z.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(W,B)=>O(W,B,z));return uf.createPortal(K,y())}return yt.createElement(j3.Provider,{value:I},o(T,_),F())};function _5e(){return document.body||Ft(),document.body}const GD={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:_5e},GL=t=>{let s={...t},a;for(a in GD)t[a]===void 0&&(s={...s,[a]:GD[a]});return s},a_=(t,s)=>t===s.droppable.type,KD=(t,s)=>s.draggables[t.draggable.id],w5e=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},s={...t,shouldAnimatePlaceholder:!1},a=zr(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=zr((i,o,l,c,m,d)=>{const p=m.descriptor.id;if(m.descriptor.droppableId===i){const _=d?{render:d,dragging:a(m.descriptor)}:null,S={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!1,snapshot:S,useClone:_}}if(!o)return s;if(!c)return t;const j={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!0,snapshot:j,useClone:null}});return(i,o)=>{const l=GL(o),c=l.droppableId,m=l.type,d=!l.isDropDisabled,p=l.renderClone;if(Xx(i)){const x=i.critical;if(!a_(m,x))return s;const j=KD(x,i.dimensions),_=hi(i.impact)===c;return r(c,d,_,_,j,p)}if(i.phase==="DROP_ANIMATING"){const x=i.completed;if(!a_(m,x.critical))return s;const j=KD(x.critical,i.dimensions);return r(c,d,BL(x.result)===c,hi(x.impact)===c,j,p)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const x=i.completed;if(!a_(m,x.critical))return s;const j=hi(x.impact)===c,_=!!(x.impact.at&&x.impact.at.type==="COMBINE"),S=x.critical.droppable.id===c;return j?_?t:s:S?t:s}return s}},S5e={updateViewportMaxScroll:FSe},sd=WF(w5e,S5e,(t,s,a)=>({...GL(a),...t,...s}),{context:b3,areStatePropsEqual:qL})(N5e),C5e=nt({asset_ids:dl().of(Ye().positive("Asset ID must be a positive number")).min(1,"At least one asset must be selected").required("Asset selection is required"),from_direction:ce().oneOf(["outlet","depot"],"From direction must be outlet or depot").required("From direction is required"),from_outlet:Ye().positive("From outlet must be a positive number").nullable().when("from_direction",{is:"outlet",then:t=>t.required("From outlet is required when direction is outlet"),otherwise:t=>t.notRequired()}),from_depot:Ye().positive("From depot must be a positive number").nullable().when("from_direction",{is:"depot",then:t=>t.required("From depot is required when direction is depot"),otherwise:t=>t.notRequired()}),to_direction:ce().oneOf(["outlet","depot"],"To direction must be outlet or depot").required("To direction is required"),to_outlet:Ye().positive("To outlet must be a positive number").nullable().when("to_direction",{is:"outlet",then:t=>t.required("To outlet is required when direction is outlet"),otherwise:t=>t.notRequired()}),to_depot:Ye().positive("To depot must be a positive number").nullable().when("to_direction",{is:"depot",then:t=>t.required("To depot is required when direction is depot"),otherwise:t=>t.notRequired()}),movement_type:ce().oneOf(["transfer","maintenance","repair","disposal","return","installation"],"Movement type must be one of: transfer, maintenance, repair, disposal, return, installation").nullable(),movement_date:Ca().required("Movement date is required").max(new Date,"Movement date cannot be in the future"),performed_by:Ye().positive("Performed by must be a positive number").required("Performed by is required"),priority:ce().oneOf(["low","medium","high","urgent"],"Priority must be low, medium, high, or urgent").default("medium"),notes:ce().max(1e3,"Notes must be less than 1000 characters").nullable(),is_active:ce().oneOf(["Y","N"],"Active status must be Y or N").required("Active status is required")}),P5e=async t=>{try{return(await ie.get("/customers",{params:t})).data}catch(s){throw s}},k5e=async t=>{try{return(await ie.get(`/customers/${t}`)).data}catch(s){throw s}},E5e=async t=>(await ie.post("/customers",t)).data,T5e=async(t,s)=>(await ie.put(`/customers/${t}`,s)).data,M5e=async t=>(await ie.delete(`/customers/${t}`)).data,D5e=async t=>{try{return(await ie.get("/customers-dropdown",{params:t})).data}catch(s){throw s}},R5e=async t=>{try{return(await ie.get(`/customers/${t}/relations`)).data}catch(s){throw s}},yo={all:["customers"],lists:()=>[...yo.all,"list"],list:t=>[...yo.lists(),t],details:()=>[...yo.all,"detail"],detail:t=>[...yo.details(),t]},$p=(t,s)=>st({queryKey:yo.list(t||{}),queryFn:()=>P5e(t),staleTime:300*1e3,...s}),A5e=t=>st({queryKey:yo.detail(t),queryFn:()=>k5e(t),enabled:!!t,staleTime:300*1e3}),I5e=t=>st({queryKey:[...yo.detail(t),"relations"],queryFn:()=>R5e(t),enabled:!!t,staleTime:300*1e3}),O5e=(t,s)=>st({queryKey:["customers","dropdown",t],queryFn:()=>D5e(t),staleTime:300*1e3,...s}),F5e=t=>{const s=is();return Te({mutationFn:E5e,loadingMessage:"Creating customer...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:yo.lists()})},onError:t?.onError})},L5e=t=>{const s=is();return Te({mutationFn:({id:a,...r})=>T5e(a,r),loadingMessage:"Updating customer...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:yo.lists()}),s.invalidateQueries({queryKey:yo.detail(r.id)})},onError:t?.onError})},$5e=t=>{const s=is();return Te({mutationFn:M5e,loadingMessage:"Deleting customer...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:yo.lists()})},onError:t?.onError})},Yn=({name:t,label:s,required:a=!1,fullWidth:r=!0,formik:n,setValue:i,value:o,nameToSearch:l="",onChange:c})=>{const[m,d]=g.useState(""),[p,x]=g.useState(""),[j,_]=g.useState(""),[S,v]=g.useState(!1),[y,N]=g.useState(null),[C,P]=g.useState(!1),E=g.useRef(!1),D=n?n.values[t]:o,T=D?typeof D=="number"?D.toString():String(D).trim():"";g.useEffect(()=>{const V=setTimeout(()=>{S||(_(p),p&&P(!0))},300);return()=>clearTimeout(V)},[p,S]);const A=yt.useMemo(()=>C||m?j:T&&l&&!C?l:j,[j,l,C,T,m]),I=T?Number(T):void 0,{data:F,isLoading:z}=O5e({search:A,customer_id:I&&!A?I:void 0}),O=(F?.data||[]).map(V=>({id:V.id,name:V.name,code:V.code}));g.useEffect(()=>{if(!E.current&&T&&!y&&!z&&O.length>0){const V=O.find(M=>M.id.toString()===T);V&&(E.current=!0,N(V),m||d(V.name),P(!0),setTimeout(()=>{E.current=!1},100))}},[T,z,O.length]);const K=yt.useMemo(()=>{if(!T)return null;const V=O.find(M=>M.id.toString()===T);return V||(y&&y.id.toString()===T?y:null)},[T,O,y]);g.useEffect(()=>{!T&&(y||m)&&(d(""),N(null),P(!1))},[T]);const W=yt.useMemo(()=>{const V=[];K&&(O.some($=>$.id===K.id)||V.push(K));const M=new Set;return K&&M.add(K.id),O.forEach(R=>{M.has(R.id)||(V.push(R),M.add(R.id))}),V},[O,K]),B=n?.touched?.[t]&&n?.errors?.[t],q=typeof B=="string"?B:void 0,H=g.useCallback((V,M)=>{v(!0),N(M);const R=M?M.id.toString():"";n?n.setFieldValue(t,R):i&&i(R),c&&c(V,M),M?d(M.name):(d(""),_("")),setTimeout(()=>v(!1),100)},[n,t,i,c]),Q=g.useCallback((V,M,R)=>{if(R==="input"){S?d(M):(d(M),x(M));return}R==="clear"&&(d(""),x(""),_(""))},[S]);return e.jsx(ir,{options:W,getOptionLabel:V=>V.name,value:K,loading:z,onChange:H,inputValue:m,onInputChange:Q,isOptionEqualToValue:(V,M)=>V.id===M.id,size:"small",fullWidth:r,filterOptions:V=>V,renderOption:(V,M)=>g.createElement(b,{component:"li",...V,key:M.id,className:"!flex !items-center !gap-2 cursor-pointer py-1 px-2 hover:!bg-gray-50"},e.jsx(ot,{src:M.name||"mkx",alt:M.name,className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(b,{children:[e.jsx("p",{className:"!text-gray-900 !text-sm",children:M.name||""}),M.code&&e.jsx("p",{className:"!text-gray-500 !text-xs",children:M.code})]})),renderInput:V=>e.jsx(Ba,{...V,label:`${s+(a?" *":"")}`,required:!1,error:!!B,require:!0,helperText:q,onBlur:n?.handleBlur,name:t,size:"small"}),noOptionsText:j&&!z?"No customers found":"Type to search customers",loadingText:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(to,{thickness:6,size:16,color:"inherit"})," Loading customers..."]})})},z5e=async t=>{try{return(await ie.get("/depots",{params:t})).data}catch(s){throw console.error("Error fetching depots:",s),new Error(s.response?.data?.message||"Failed to fetch depots")}},q5e=async t=>{try{return(await ie.get(`/depots/${t}`)).data}catch(s){throw console.error("Error fetching depot:",s),new Error(s.response?.data?.message||"Failed to fetch depot")}},B5e=async t=>{try{return(await ie.post("/depots",t)).data}catch(s){throw console.error("Error creating depot:",s),new Error(s.response?.data?.message||"Failed to create depot")}},U5e=async(t,s)=>{try{return(await ie.put(`/depots/${t}`,s)).data}catch(a){throw console.error("Error updating depot:",a),new Error(a.response?.data?.message||"Failed to update depot")}},V5e=async t=>{try{return(await ie.delete(`/depots/${t}`)).data}catch(s){throw console.error("Error deleting depot:",s),new Error(s.response?.data?.message||"Failed to delete depot")}},Am={all:["depots"],lists:()=>[...Am.all,"list"],list:t=>[...Am.lists(),t],details:()=>[...Am.all,"detail"],detail:t=>[...Am.details(),t]},_i=(t,s)=>st({queryKey:Am.list(t),queryFn:()=>z5e(t),staleTime:300*1e3,...s}),H5e=(t,s)=>st({queryKey:Am.detail(t),queryFn:()=>q5e(t),enabled:!!t,staleTime:300*1e3,...s}),W5e=()=>Te({mutationFn:B5e,invalidateQueries:["depots"],loadingMessage:"Creating depot..."}),Y5e=()=>Te({mutationFn:({id:t,...s})=>U5e(t,s),invalidateQueries:["depots"],loadingMessage:"Updating depot..."}),G5e=()=>Te({mutationFn:V5e,invalidateQueries:["depots"],loadingMessage:"Deleting depot..."}),Uw=({name:t="depot_id",label:s="Depot",required:a=!1,fullWidth:r=!0,size:n="small",formik:i,setValue:o,value:l,nameToSearch:c="",onChange:m,className:d,placeholder:p})=>{const[x,j]=g.useState(""),[_,S]=g.useState(""),[v,y]=g.useState(""),[N,C]=g.useState(!1),[P,E]=g.useState(null),[D,T]=g.useState(!1),A=i?i.values[t]:l,I=A?typeof A=="number"?A.toString():String(A).trim():"";g.useEffect(()=>{const R=setTimeout(()=>{N||(y(_),_&&T(!0))},300);return()=>clearTimeout(R)},[_,N]);const F=yt.useMemo(()=>D||x?v:I&&c&&!D?c:v,[v,c,D,I,x]),z=I?Number(I):void 0,{data:O,isLoading:K}=_i({page:1,limit:50,search:F,isActive:"Y",depot_id:z&&!F?z:void 0}),W=(O?.data||[]).map(R=>({id:R.id,name:R.name,code:R.code}));g.useEffect(()=>{if(I&&!P&&!K&&W.length>0){const R=W.find($=>$.id.toString()===I);R&&(E(R),x||j(R.name),T(!0))}},[I,P,x,W,K]);const B=yt.useMemo(()=>{if(!I)return null;const R=W.find($=>$.id.toString()===I);return R||(P&&P.id.toString()===I?P:null)},[I,W,P]);g.useEffect(()=>{B&&B!==P?(E(B),!x&&B.name&&j(B.name)):!I&&P?(E(null),j("")):P&&!x&&I&&j(P.name)},[B,I,P,x]),g.useEffect(()=>{I?P&&P.id.toString()!==I&&(E(null),j(""),T(!1)):(P||x)&&(j(""),E(null),T(!1))},[I]);const q=yt.useMemo(()=>{const R=[];B&&(W.some(J=>J.id===B.id)||R.push(B));const $=new Set;return B&&$.add(B.id),W.forEach(Y=>{$.has(Y.id)||(R.push(Y),$.add(Y.id))}),R},[W,B,I]),H=i?.touched?.[t]&&i?.errors?.[t],Q=typeof H=="string"?H:void 0,V=g.useCallback((R,$)=>{C(!0),E($);const Y=$?$.id.toString():"";i?i.setFieldValue(t,Y):o&&o(Y),m&&m(R,$),$?(j($.name),S(""),y("")):(j(""),S(""),y("")),setTimeout(()=>C(!1),100)},[i,t,o,m]),M=g.useCallback((R,$)=>{j($),S($)},[]);return e.jsx(ir,{fullWidth:r,size:n,options:q,getOptionLabel:R=>R.name,isOptionEqualToValue:(R,$)=>R.id===$?.id,renderOption:(R,$)=>g.createElement(b,{component:"li",...R,key:$.id,className:"!flex !items-center !gap-2 cursor-pointer py-1 px-2 hover:!bg-gray-50"},e.jsx(ot,{src:"mkx",alt:$.name,className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(b,{children:[e.jsx("p",{className:"!text-gray-900 !text-sm",children:$.name||""}),e.jsx("p",{className:"!text-gray-500 !text-xs",children:$.code})]})),renderInput:R=>e.jsx(Ba,{...R,label:`${s+(a?" *":"")}`,required:!1,placeholder:p,error:!!H,helperText:Q,className:d}),inputValue:x,value:B,onInputChange:M,onChange:V,noOptionsText:v&&!K?"No depots found":"Type to search depots",loadingText:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(to,{thickness:6,size:16,color:"inherit"})," Loading depots..."]}),loading:K,filterOptions:R=>R})},K5e=({selectedMovement:t,setSelectedMovement:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,[i,o]=g.useState([]),[l,c]=g.useState("");g.useEffect(()=>{t?.asset_ids?o(t.asset_ids):o([])},[t]);const{data:m}=h1({page:1,limit:1e3,status:"active"}),d=m?.data||[],p=iwe(),x=owe(),j=g.useMemo(()=>new Map(d.map(D=>[D.id,D])),[d]),_=g.useMemo(()=>i.map(D=>j.get(D)).filter(Boolean),[j,i]),S=g.useMemo(()=>{const D=new Set(i),T=l.trim().toLowerCase();return d.filter(A=>{if(D.has(A.id))return!1;if(!T)return!0;const I=A.name?.toLowerCase()||"",F=A.serial_number?.toLowerCase()||"",z=A.asset_master_asset_types?.name?.toLowerCase()||"";return I.includes(T)||F.includes(T)||z.includes(T)})},[l,d,i]),v=()=>{s(null),r(!1),o([]),c(""),C.resetForm()},y=g.useCallback(D=>{const{destination:T,source:A,draggableId:I}=D;if(!T||T.droppableId===A.droppableId&&T.index===A.index)return;const F=parseInt(I,10);if(!Number.isNaN(F)){if(A.droppableId==="available-assets"&&T.droppableId==="selected-assets"){if(i.includes(F))return;const z=Array.from(i);z.splice(T.index,0,F),o(z);return}if(A.droppableId==="selected-assets"&&T.droppableId==="available-assets"){o(i.filter(z=>z!==F));return}if(A.droppableId==="selected-assets"&&T.droppableId==="selected-assets"){const z=Array.from(i),[O]=z.splice(A.index,1);z.splice(T.index,0,O),o(z)}}},[i,o]),N=(D,T)=>{C.setFieldValue(D,T),D==="from_direction"?(C.setFieldValue("from_outlet",""),C.setFieldValue("from_depot","")):D==="to_direction"&&(C.setFieldValue("to_outlet",""),C.setFieldValue("to_depot",""))},C=pt({initialValues:{asset_ids:t?.asset_ids,from_direction:t?.from_direction||"",from_outlet:t?.from_customer_id?.toString()||"",from_depot:t?.from_depot_id?.toString()||"",to_direction:t?.to_direction||"",to_outlet:t?.to_customer_id?.toString()||"",to_depot:t?.to_depot_id?.toString()||"",movement_type:t?.movement_type||"",movement_date:$r(t?.movement_date),performed_by:t?.performed_by?.toString()||"",notes:t?.notes||"",is_active:t?.is_active||"Y",priority:"medium"},validationSchema:C5e,enableReinitialize:!0,onSubmit:async D=>{try{if(i.length===0){alert("Please select at least one asset for the movement");return}const T={asset_ids:i,from_direction:D.from_direction,from_customer_id:D.from_direction==="outlet"?Number(D.from_outlet):null,from_depot_id:D.from_direction==="depot"?Number(D.from_depot):null,to_direction:D.to_direction,to_customer_id:D.to_direction==="outlet"?Number(D.to_outlet):null,to_depot_id:D.to_direction==="depot"?Number(D.to_depot):null,movement_type:D.movement_type,movement_date:D.movement_date,performed_by:Number(D.performed_by),notes:D.notes,priority:D.priority,is_active:D.is_active};n&&t?await x.mutateAsync({id:t.id,data:T}):await p.mutateAsync(T),v()}catch(T){console.error("Error submitting asset movement:",T)}}});g.useEffect(()=>{C.setFieldValue("asset_ids",i)},[i,C.setFieldValue]);const P=[{value:"installation",label:"Installation"},{value:"transfer",label:"Transfer"},{value:"maintenance",label:"Maintenance"},{value:"repair",label:"Repair"},{value:"disposal",label:"Disposal"},{value:"return",label:"Return"}],E=({asset:D})=>e.jsxs("div",{className:"!flex !items-center !gap-3 !p-2 !pr-3 !bg-white !border !border-gray-200 !rounded-lg !mb-2 hover:!border-blue-300 hover:!shadow-md",children:[e.jsx(qv,{className:"!w-5 !h-5 !text-gray-400 !cursor-grab !flex-shrink-0"}),e.jsx(ot,{className:"!w-9 !h-9 !bg-blue-100 !text-blue-600",children:e.jsx($t,{className:"w-4 h-4"})}),e.jsxs(b,{className:"!flex-1 !min-w-0",children:[e.jsx(f,{variant:"body2",className:"!font-medium !text-gray-900",children:D.name||`Asset ${D.id}`}),e.jsxs(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:[D.serial_number||"No Serial"," "," ",D.asset_master_asset_types?.name||"Unknown Type"]})]})]});return e.jsx(it,{open:a,setOpen:v,title:n?"Edit Asset Movement":"Create Asset Movement",size:"large",children:e.jsx(b,{className:"!p-4",children:e.jsxs("form",{onSubmit:C.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(Se,{name:"movement_type",label:"Movement Type",formik:C,children:P.map(D=>e.jsx(Z,{value:D.value,children:D.label},D.value))}),e.jsxs(Se,{name:"priority",label:"Priority",formik:C,children:[e.jsx(Z,{value:"low",children:"Low"}),e.jsx(Z,{value:"medium",children:"Medium"}),e.jsx(Z,{value:"high",children:"High"}),e.jsx(Z,{value:"urgent",children:"Urgent"})]}),e.jsxs(Se,{name:"from_direction",label:"From Direction",formik:C,required:!0,onChange:D=>N("from_direction",D.target.value),children:[e.jsx(Z,{value:"outlet",children:"Outlet"}),e.jsx(Z,{value:"depot",children:"Depot"})]}),e.jsxs(Se,{name:"to_direction",label:"To Direction",formik:C,required:!0,onChange:D=>N("to_direction",D.target.value),children:[e.jsx(Z,{value:"outlet",children:"Outlet"}),e.jsx(Z,{value:"depot",children:"Depot"})]}),C.values.from_direction==="outlet"&&e.jsx(Yn,{name:"from_outlet",label:"From Outlet",formik:C,required:!0}),C.values.from_direction==="depot"&&e.jsx(Uw,{name:"from_depot",label:"From Depot",formik:C,required:!0}),C.values.to_direction==="outlet"&&e.jsx(Yn,{name:"to_outlet",label:"To Outlet",formik:C,required:!0}),C.values.to_direction==="depot"&&e.jsx(Uw,{name:"to_depot",label:"To Depot",formik:C,required:!0}),e.jsx(oe,{name:"movement_date",label:"Movement Date",type:"date",formik:C,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(Dr,{name:"performed_by",label:"Performed By",formik:C,required:!0}),e.jsx(b,{className:"col-span-2",children:e.jsx(_1,{onDragEnd:y,children:e.jsxs("div",{className:"!grid !grid-cols-2 !gap-4 !h-[400px]",children:[e.jsxs(b,{className:"!border !border-gray-200 !rounded-t-lg !flex !flex-col !overflow-hidden",children:[e.jsxs(b,{className:"!p-2 !border-b !border-gray-200 !bg-gray-50",children:[e.jsxs(f,{variant:"subtitle1",className:"!font-semibold !text-blue-600",children:["Available Assets (",S.length,")"]}),e.jsx("p",{className:"!text-gray-500 !text-xs !block !mt-1",children:"Drag assets from the left panel to select"}),e.jsx(b,{className:"!mt-2",children:e.jsx(Jt,{placeholder:"Search Assets...",value:l,onChange:c,className:"!w-full"})})]}),e.jsx(b,{className:"!flex-1 !overflow-hidden",children:e.jsx(sd,{droppableId:"available-assets",children:(D,T)=>e.jsxs("div",{...D.droppableProps,ref:D.innerRef,className:`!h-full !p-2 !overflow-y-auto ${T.isDraggingOver?"!bg-blue-50":""}`,style:{transition:"background-color 0.2s ease"},children:[S.length>0?S.map((A,I)=>e.jsx(td,{draggableId:A.id.toString(),index:I,children:F=>e.jsx("div",{ref:F.innerRef,...F.draggableProps,...F.dragHandleProps,style:{...F.draggableProps.style},children:e.jsx(E,{asset:A})})},A.id)):e.jsxs(b,{className:"!p-8 !text-center !h-full !flex !flex-col !justify-center !items-center",children:[e.jsx($t,{className:"!w-12 !h-12 !text-gray-300 !mb-2"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:l?"No assets found":"All assets are selected"})]}),D.placeholder]})})})]}),e.jsxs(b,{className:"!border !border-gray-200 !rounded-t-lg !flex !flex-col !overflow-hidden",children:[e.jsxs(b,{className:"!p-2 !border-b !border-gray-200 !bg-gray-50",children:[e.jsxs(f,{variant:"subtitle1",className:"!font-semibold !text-green-600",children:["Selected Assets (",_.length,")"]}),e.jsx("p",{className:"!text-gray-500 !text-xs !block !mt-1",children:"Drag assets from the right panel to reorder"})]}),e.jsx(b,{className:"!flex-1 !overflow-hidden",children:e.jsx(sd,{droppableId:"selected-assets",children:(D,T)=>e.jsxs("div",{...D.droppableProps,ref:D.innerRef,className:`!h-full !p-2 !overflow-y-auto ${T.isDraggingOver?"!bg-green-50":""}`,style:{transition:"background-color 0.2s ease"},children:[_.length>0?_.map((A,I)=>e.jsx(td,{draggableId:A.id.toString(),index:I,children:F=>e.jsx("div",{ref:F.innerRef,...F.draggableProps,...F.dragHandleProps,style:{...F.draggableProps.style},children:e.jsx(E,{asset:A})})},`${A.id}-${I}`)):e.jsxs(b,{className:"!p-8 !text-center !h-full !flex !flex-col !justify-center !items-center",children:[e.jsx($t,{className:"!w-12 !h-12 !text-gray-300 !mb-2"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No assets selected"})]}),D.placeholder]})})})]})]})})}),e.jsx(Es,{name:"is_active",formik:C,required:!0,className:"col-span-2"})]}),e.jsx(oe,{name:"notes",label:"Notes",placeholder:"Enter additional notes about the movement",formik:C,multiline:!0,rows:3}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:v,className:"!mr-3",disabled:p.isPending||x.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:p.isPending||x.isPending,children:[p.isPending||x.isPending?n?"Updating...":"Creating...":n?"Update":"Create"," "]})]})]})})})},Q5e=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("asset-movement"),{data:y,isLoading:N,error:C}=nwe({search:t,page:d,limit:x,status:a==="all"?void 0:a},{enabled:v}),P=y?.data||[],E=y?.meta?.total||0,D=(y?.meta?.page||1)-1,T=lwe(),A=ls(),I=y?.stats||{},F=I.total_records??0,z=I.active_records??0,O=I.inactive_records??0,K=I.this_month_records??0,W=g.useCallback(()=>{i(null),l(!0)},[]),B=g.useCallback($=>{i($),l(!0)},[]),q=g.useCallback(async $=>{try{await T.mutateAsync($)}catch(Y){console.error("Error deleting asset movement:",Y)}},[T]),H=g.useCallback($=>{s($),p(1)},[]),Q=$=>{p($+1)},V=g.useCallback(async()=>{try{const $={search:t,status:a==="all"?void 0:a};await A.mutateAsync({tableName:"asset_movements",filters:$})}catch($){console.error("Error exporting asset movements:",$)}},[A,t,a]),M=$=>{const Y=$.toLowerCase();return{transfer:"primary",maintenance:"warning",repair:"error",disposal:"secondary",return:"success",other:"default"}[Y]||"default"},R=[{id:"asset_info",label:"Asset Info",render:($,Y)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsxs(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:["Asset Movement #",Y.id]}),e.jsxs(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:[Y.asset_ids?.length||0," asset(s) moved"]})]})]})},{id:"movement_details",label:"Movement Details",render:($,Y)=>e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ta,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:Y.from_direction==="depot"?Y.asset_movement_from_depot?.name:Y.asset_movement_from_customer?.name})]}),e.jsx(rw,{className:"w-3 h-3 text-gray-400"}),e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ta,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:Y.to_direction==="depot"?Y.asset_movement_to_depot?.name:Y.asset_movement_to_customer?.name})]})]})},{id:"movement_type",label:"Type",render:($,Y)=>e.jsx(Re,{label:Y.movement_type||"Other",variant:"outlined",color:M(Y.movement_type||"other"),size:"small",className:"!capitalize"})},{id:"performed_by",label:"Performed By",render:($,Y)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{className:"!rounded !bg-primary-100 !text-primary-500",children:Y.asset_movements_performed_by?.name?.charAt(0)||"U"}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:Y.asset_movements_performed_by?.name||"Unknown User"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:Y.asset_movements_performed_by?.email||"Unknown Email"})]})]})},{id:"movement_date",label:"Date",render:($,Y)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ws,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:Fe(Y.movement_date)})]})},{id:"notes",label:"Notes",render:($,Y)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ks,{className:"w-3 h-3 text-gray-400"}),e.jsx(Oa,{title:Y.notes||"No notes",placement:"top",arrow:!0,children:e.jsx("span",{className:"text-xs truncate max-w-32",children:Y.notes||"No notes"})})]})},{id:"status",label:"Approval Status",render:($,Y)=>{const J=Y.status||"unknown",te=J.toLowerCase(),ee=te==="a"?e.jsx(mt,{}):te==="p"?e.jsx(jA,{}):te==="r"?e.jsx(St,{}):e.jsx(Lle,{}),ne=te==="a"?"success":te==="p"?"warning":te==="r"?"error":"default",he=te==="p"?"Pending":te==="a"?"Approved":te==="r"?"Rejected":J;return e.jsx(Re,{icon:ee,label:he,variant:"outlined",color:ne,size:"small",className:"!capitalize"})}},{id:"is_active",label:"Status",render:($,Y)=>e.jsx(Re,{icon:Y.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:Y.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:Y.is_active==="Y"?"success":"error"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:($,Y)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[Y.contract_url&&e.jsx(Ua,{tooltip:"View Contract",color:"info",size:"medium",icon:e.jsx(ks,{className:"!w-5 !h-5"}),onClick:()=>{const J=Y.contract_url?.replace(/[`'"]/g,"").trim();J&&window.open(J,"_blank","noopener,noreferrer")}}),_&&e.jsx(ss,{onClick:()=>B(Y),tooltip:`Edit Movement #${Y.id}`}),S&&e.jsx(Ht,{onClick:()=>q(Y.id),tooltip:`Delete Movement #${Y.id}`,itemName:`Movement #${Y.id}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Asset Movement"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track and manage asset movements across locations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Movements",value:F,icon:e.jsx(rw,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Movements",value:z,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Movements",value:O,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"This Month",value:K,icon:e.jsx(ws,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load asset movements. Please try again."}),e.jsx(ct,{data:P,columns:R,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[v&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Jt,{placeholder:"Search Movements...",value:t,onChange:H,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:$=>r($.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Asset Movements",description:"Are you sure you want to export the current asset movement data to Excel? This will include all filtered results.",onConfirm:V,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:W,children:"Create"})]})]}):!1,getRowId:$=>$.id,initialOrderBy:"movement_date",loading:N,totalCount:E,page:D,rowsPerPage:x,onPageChange:Q,isPermission:v,emptyMessage:t?`No asset movements found matching "${t}"`:"No asset movements found in the system"}),e.jsx(K5e,{selectedMovement:n,setSelectedMovement:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(dwe,{drawerOpen:c,setDrawerOpen:m})]})},Z5e=nt({file:ps().required("Please select a file to import")}),X5e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:Z5e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("asset_types")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"asset_types",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Asset Types",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple asset types. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},J5e=nt({name:ce().required("Asset type name is required").min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters"),description:ce().max(255,"Description must be less than 255 characters"),category:ce().max(50,"Category must be less than 50 characters"),brand:ce().max(100,"Brand must be less than 100 characters"),is_active:ce().required("Status is required")}),e6e=({selectedAssetType:t,setSelectedAssetType:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=B_e(),l=U_e(),c=pt({initialValues:{name:t?.name||"",description:t?.description||"",category:t?.category||"",brand:t?.brand||"",is_active:t?.is_active||"Y"},validationSchema:J5e,enableReinitialize:!0,onSubmit:async m=>{try{const d={name:m.name,description:m.description,category:m.category,brand:m.brand,is_active:m.is_active};n&&t?await l.mutateAsync({id:t.id,...d}):await o.mutateAsync(d),i()}catch(d){console.error("Error saving asset type:",d)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Asset Type":"Create Asset Type",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"name",label:"Asset Type Name",placeholder:"Enter asset type name",formik:c,required:!0})}),e.jsx(oe,{name:"category",label:"Category",placeholder:"Enter category",formik:c}),e.jsx(oe,{name:"brand",label:"Brand",placeholder:"Enter brand",formik:c}),e.jsx(Es,{name:"is_active",formik:c,required:!0}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:c,multiline:!0,rows:3})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:[o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"," "]})]})]})})})},t6e=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("asset-type"),{data:y,isFetching:N,error:C}=f1({search:t,page:d,limit:x,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total_count||0,D=(y?.meta?.current_page||1)-1,T=V_e(),A=ls(),I=y?.stats?.total_asset_types??P.length,F=y?.stats?.active_asset_types??P.filter(M=>M.is_active==="Y").length,z=y?.stats?.inactive_asset_types??P.filter(M=>M.is_active==="N").length,O=y?.stats?.new_asset_types??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(R){console.error("Error deleting asset type:",R)}},[T]),q=g.useCallback(M=>{s(M),p(1)},[]),H=M=>{p(M+1)},Q=g.useCallback(async()=>{try{const M={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"asset_types",filters:M})}catch(M){console.error("Error exporting asset types:",M)}},[A,t,a]),V=[{id:"name",label:"Asset Type Name",render:(M,R)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:R.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsxs(b,{className:"!max-w-xs",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:R.name}),R.description&&e.jsx(Oa,{title:R.description,placement:"top",arrow:!0,children:e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",maxWidth:"300px",cursor:"help"},children:R.description})})]})]})},{id:"category",label:"Category",render:(M,R)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:R.category||e.jsx("span",{className:"italic text-gray-400",children:"No Category"})})},{id:"brand",label:"Brand",render:(M,R)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:R.brand||e.jsx("span",{className:"italic text-gray-400",children:"No Brand"})})},{id:"is_active",label:"Status",render:M=>e.jsx(Re,{icon:M==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,R)=>Fe(R.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(M,R)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(R),tooltip:`Edit ${R.name}`}),S&&e.jsx(Ht,{onClick:()=>B(R.id),tooltip:`Delete ${R.name}`,itemName:R.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Asset Types Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage asset types, categories, and brands for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Asset Types",value:I,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Types",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Types",value:z,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:O,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load asset types. Please try again."}),e.jsx(ct,{data:P,columns:V,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Asset Types...",value:t,onChange:q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:M=>{r(M.target.value),p(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Asset Types",description:"Are you sure you want to export the current asset types data to Excel? This will include all filtered results.",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:H,emptyMessage:t?`No asset types found matching "${t}"`:"No asset types found in the system"}),e.jsx(e6e,{selectedAssetType:n,setSelectedAssetType:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(X5e,{drawerOpen:c,setDrawerOpen:m})]})},s6e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=pt({initialValues:{file:null},validationSchema:nt({file:ps().required("Please select a file to import")}),onSubmit:async()=>{a&&await v()}}),x=async()=>{try{await m.mutateAsync("asset_sub_types")}catch(y){console.error("Failed to download template:",y)}},j=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),p.setFieldValue("file",N)}},_=()=>{r(null),i(null),l("upload"),p.resetForm(),s(!1)},S=()=>{r(null),i(null),l("upload"),p.setFieldValue("file",null),c.current&&(c.current.value="")},v=async()=>{if(a)try{await d.mutateAsync({tableName:"asset_sub_types",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Error importing asset sub types:",y)}};return e.jsx(it,{open:t,setOpen:_,title:"Import Asset Sub Types",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:p.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple asset sub types. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:x,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:S,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:j,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:_,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:_,children:"Done"})]})]})})})},a6e=nt({name:ce().required("Asset sub type name is required").min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters"),description:ce().max(255,"Description must be less than 255 characters"),asset_type_id:Ye().required("Asset type is required").positive("Asset type must be a positive number").integer("Asset type must be an integer"),model:ce().max(50,"Model must be less than 50 characters"),manufacturer:ce().max(100,"Manufacturer must be less than 100 characters"),specifications:ce().max(500,"Specifications must be less than 500 characters"),is_active:ce().required("Status is required")}),r6e=({selectedAssetSubType:t,setSelectedAssetSubType:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,{data:i}=f1({page:1,limit:1e3}),o=i?.data||[],l=()=>{s(null),r(!1),d.resetForm()},c=K_e(),m=Q_e(),d=pt({initialValues:{name:t?.name||"",description:t?.description||"",asset_type_id:t?.asset_type_id||"",is_active:t?.is_active||"Y"},validationSchema:a6e,enableReinitialize:!0,onSubmit:async p=>{try{const x={name:p.name,description:p.description,asset_type_id:p.asset_type_id?Number(p.asset_type_id):void 0,is_active:p.is_active};n&&t?await m.mutateAsync({id:t.id,...x}):await c.mutateAsync(x),l()}catch(x){console.error("Error saving asset sub type:",x)}}});return e.jsx(it,{open:a,setOpen:l,title:n?"Edit Asset Sub Type":"Create Asset Sub Type",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:d.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"name",label:"Asset Sub Type Name",placeholder:"Enter asset sub type name",formik:d,required:!0})}),e.jsx(Se,{name:"asset_type_id",label:"Asset Type",placeholder:"Select asset type",formik:d,required:!0,children:o.map(p=>e.jsx(Z,{value:p.id,children:p.name},p.id))}),e.jsx(Es,{name:"is_active",formik:d,required:!0,className:"col-span-2"}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:d,multiline:!0,rows:3})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:l,className:"!mr-3",disabled:c.isPending||m.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:c.isPending||m.isPending,children:[c.isPending||m.isPending?n?"Updating...":"Creating...":n?"Update":"Create"," "]})]})]})})})},n6e=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("asset-type"),{data:y,isFetching:N,error:C}=LF({search:t,page:d,limit:x,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total_count||0,D=(y?.meta?.current_page||1)-1,T=Z_e(),A=ls(),I=y?.stats?.total_asset_sub_types??P.length,F=y?.stats?.active_asset_sub_types??P.filter(M=>M.is_active==="Y").length,z=y?.stats?.inactive_asset_sub_types??P.filter(M=>M.is_active==="N").length,O=y?.stats?.new_asset_sub_types??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(R){console.error("Error deleting asset sub type:",R)}},[T]),q=g.useCallback(M=>{s(M),p(1)},[]),H=M=>{p(M+1)},Q=g.useCallback(async()=>{try{const M={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"asset_sub_types",filters:M})}catch(M){console.error("Error exporting asset sub types:",M)}},[A,t,a]),V=[{id:"name",label:"Asset Sub Type Name",render:(M,R)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:R.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsxs(b,{className:"!max-w-xs",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:R.name}),R.description&&e.jsx(Oa,{title:R.description,placement:"top",arrow:!0,children:e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",maxWidth:"300px",cursor:"help"},children:R.description})})]})]})},{id:"is_active",label:"Status",render:M=>e.jsx(Re,{icon:M==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,R)=>Fe(R.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(M,R)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(R),tooltip:`Edit ${R.name}`}),S&&e.jsx(Ht,{onClick:()=>B(R.id),tooltip:`Delete ${R.name}`,itemName:R.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Asset Sub Types Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage asset sub types for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Asset Sub Types",value:I,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Types",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Types",value:z,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:O,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load asset sub types. Please try again."}),e.jsx(ct,{data:P,columns:V,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Asset Sub Types...",value:t,onChange:q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:M=>{r(M.target.value),p(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Asset Sub Types",description:"Are you sure you want to export the current asset sub types data to Excel? This will include all filtered results.",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:H,emptyMessage:t?`No asset sub types found matching "${t}"`:"No asset sub types found in the system"}),e.jsx(r6e,{selectedAssetSubType:n,setSelectedAssetSubType:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(s6e,{drawerOpen:c,setDrawerOpen:m})]})},Lg={async getBatchLots(t){return(await ie.get("/batch-lots",{params:t})).data},async getBatchLotById(t){return(await ie.get(`/batch-lots/${t}`)).data},async fetchBatchLotById(t){return(await ie.get(`/batch-lots/${t}`)).data},async createBatchLot(t){return(await ie.post("/batch-lots",t)).data},async updateBatchLot(t){const{id:s,...a}=t;return(await ie.put(`/batch-lots/${s}`,a)).data},async deleteBatchLot(t){return(await ie.delete(`/batch-lots/${t}`)).data},async getBatchLotsDropdown(t){return(await ie.get("/batch-lots-dropdown",{params:t})).data}},w1="batchLots",i6e=(t,s)=>st({queryKey:[w1,t],queryFn:()=>Lg.getBatchLots(t),enabled:s?.enabled}),o6e=()=>{const t=is();return Nu({mutationFn:s=>Lg.createBatchLot(s),onSuccess:()=>{t.invalidateQueries({queryKey:[w1]}),It.success("Batch lot created successfully")},onError:s=>{It.error(s?.response?.data?.message||"Failed to create batch lot")}})},l6e=()=>{const t=is();return Nu({mutationFn:s=>Lg.updateBatchLot(s),onSuccess:()=>{t.invalidateQueries({queryKey:[w1]}),It.success("Batch lot updated successfully")},onError:s=>{It.error(s?.response?.data?.message||"Failed to update batch lot")}})},c6e=()=>{const t=is();return Nu({mutationFn:s=>Lg.deleteBatchLot(s),onSuccess:()=>{t.invalidateQueries({queryKey:[w1]}),It.success("Batch lot deleted successfully")},onError:s=>{It.error(s?.response?.data?.message||"Failed to delete batch lot")}})},d6e=t=>st({queryKey:["batchLot",t],queryFn:()=>Lg.fetchBatchLotById(t),enabled:!!t,staleTime:300*1e3}),u6e=nt({file:ps().required("Please select a file to import")}),m6e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:u6e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("batch_lots")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"batch_lots",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Batch Lots",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple batch lots. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},p6e=nt({batch_number:ce().required("Batch number is required").max(50,"Batch number must not exceed 50 characters"),lot_number:ce().max(50,"Lot number must not exceed 50 characters").nullable(),manufacturing_date:Ca().required("Manufacturing date is required").max(new Date,"Manufacturing date cannot be in the future"),expiry_date:Ca().required("Expiry date is required").min(ww("manufacturing_date"),"Expiry date must be after manufacturing date").min(new Date,"Expiry date must be a future date"),quantity:Ye().required("Quantity is required").positive("Quantity must be positive").integer("Quantity must be a whole number"),remaining_quantity:Ye().positive("Remaining quantity must be positive").integer("Remaining quantity must be a whole number").max(ww("quantity"),"Remaining quantity cannot exceed total quantity").nullable(),supplier_name:ce().max(255,"Supplier name must not exceed 255 characters").nullable(),purchase_price:Ye().positive("Purchase price must be positive").nullable(),quality_grade:ce().oneOf(["A","B","C","D","F"],"Quality grade must be A, B, C, D, or F").nullable(),storage_location:ce().max(100,"Storage location must not exceed 100 characters").nullable(),is_active:ce().oneOf(["Y","N"],"Status must be Y or N").required("Status is required")}),h6e=({selectedBatchLot:t,setSelectedBatchLot:s,drawerOpen:a,setDrawerOpen:r})=>{const[n,i]=g.useState([]),o=g.useRef(!1),l=!!t,c=()=>{s(null),r(!1),i([]),o.current=!1,p.resetForm()},m=o6e(),d=l6e();yt.useEffect(()=>{a||(o.current=!1)},[a]);const p=pt({initialValues:{batch_number:t?.batch_number||"",lot_number:t?.lot_number||"",manufacturing_date:t?.manufacturing_date?new Date(t.manufacturing_date).toISOString().split("T")[0]:"",expiry_date:t?.expiry_date?new Date(t.expiry_date).toISOString().split("T")[0]:"",quantity:t?.quantity||"",remaining_quantity:t?.remaining_quantity||"",supplier_name:t?.supplier_name||"",purchase_price:t?.purchase_price||"",quality_grade:t?.quality_grade||"A",storage_location:t?.storage_location||"",is_active:t?.is_active||"Y"},validationSchema:p6e,enableReinitialize:!0,onSubmit:async x=>{try{const j={batch_number:x.batch_number,lot_number:x.lot_number,manufacturing_date:x.manufacturing_date,expiry_date:x.expiry_date,quantity:Number(x.quantity),remaining_quantity:x.remaining_quantity?Number(x.remaining_quantity):void 0,supplier_name:x.supplier_name,purchase_price:x.purchase_price?Number(x.purchase_price):void 0,quality_grade:x.quality_grade,storage_location:x.storage_location,is_active:x.is_active,products:n.filter(_=>_.product_id>0&&_.quantity>0).map(_=>({product_id:_.product_id,quantity:_.quantity}))};l&&t?await d.mutateAsync({id:t.id,...j}):await m.mutateAsync(j),c()}catch(j){console.error("Error saving batch lot:",j)}}});return e.jsx(it,{open:a,setOpen:c,title:l?"Edit Batch Lot":"Create Batch Lot",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:p.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"batch_number",label:"Batch Number",placeholder:"Enter batch number",formik:p,required:!0}),e.jsx(oe,{name:"lot_number",label:"Lot Number",placeholder:"Enter lot number (optional)",formik:p}),e.jsx(oe,{name:"manufacturing_date",label:"Manufacturing Date",type:"date",formik:p,required:!0}),e.jsx(oe,{name:"expiry_date",label:"Expiry Date",type:"date",formik:p,required:!0}),e.jsx(oe,{name:"quantity",label:"Total Quantity",placeholder:"Enter total quantity",formik:p,type:"number",required:!0}),e.jsx(oe,{name:"remaining_quantity",label:"Remaining Quantity",placeholder:"Enter remaining quantity",formik:p,type:"number"}),e.jsx(oe,{name:"purchase_price",label:"Purchase Price",placeholder:"Enter purchase price",formik:p,type:"number"}),e.jsx(oe,{name:"storage_location",label:"Storage Location",placeholder:"Enter storage location",formik:p}),e.jsx(oe,{name:"supplier_name",label:"Supplier Name",placeholder:"Enter supplier name",formik:p,className:"md:!col-span-2"}),e.jsx(Es,{name:"is_active",label:"Status",formik:p})]}),e.jsxs(b,{className:"!flex !justify-end !gap-3 !pt-4",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:c,disabled:m.isPending||d.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:m.isPending||d.isPending,children:m.isPending||d.isPending?l?"Updating...":"Creating...":l?"Update":"Create"})]})]})})})},f6e=()=>{const t=Fs(),[s,a]=g.useState(""),[r,n]=g.useState("all"),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,d]=g.useState(!1),[p,x]=g.useState(1),[j]=g.useState(10),{isCreate:_,isUpdate:S,isDelete:v,isRead:y}=Ze("batch-lots"),{data:N}=ku(),{data:C}=ec({limit:1e3}),P=N?.data,E=C?.data||[],D=P?.currency_id||1,T=E.find(ae=>ae.id===D),{data:A,isFetching:I,error:F}=i6e({search:s,page:p,limit:j,status:r==="all"?void 0:r},{enabled:y}),z=ae=>{if(ae==null)return"N/A";const xe=T?.code||"INR",le={USD:"en-US",EUR:"de-DE",GBP:"en-GB",JPY:"ja-JP",CNY:"zh-CN",AUD:"en-AU",CAD:"en-CA",INR:"en-IN",AED:"ar-AE",SAR:"ar-SA"}[xe]||"en-IN";return new Intl.NumberFormat(le,{style:"currency",currency:xe,minimumFractionDigits:2,maximumFractionDigits:2}).format(ae)},O=A?.data||[],K=A?.meta?.total_count||0,W=(A?.meta?.current_page||1)-1,B=c6e(),q=ls(),H=A?.stats?.total_batch_lots??O.length,Q=A?.stats?.active_batch_lots??O.filter(ae=>ae.is_active==="Y").length,V=A?.stats?.expiring_batch_lots??0,M=A?.stats?.expired_batch_lots??0,R=g.useCallback(()=>{o(null),c(!0)},[]),$=g.useCallback(ae=>{t(`/masters/batch-lots/${ae}`)},[t]),Y=g.useCallback(ae=>{o(ae),c(!0)},[]),J=g.useCallback(async ae=>{try{await B.mutateAsync(ae)}catch(xe){console.error("Error deleting batch lot:",xe)}},[B]),te=g.useCallback(ae=>{a(ae),x(1)},[]),ee=ae=>{x(ae+1)},ne=g.useCallback(async()=>{try{const ae={search:s,status:r==="all"?void 0:r};await q.mutateAsync({tableName:"batch_lots",filters:ae})}catch(ae){console.error("Error exporting batch lots:",ae)}},[q,s,r]),he=ae=>{const xe=new Date,ge=new Date(ae),le=Math.ceil((ge.getTime()-xe.getTime())/(1e3*60*60*24));return le<0?{status:"expired",color:"error",label:"Expired",icon:e.jsx(St,{})}:le<=30?{status:"expiring",color:"warning",label:`${le}d left`,icon:e.jsx(Pg,{})}:{status:"valid",color:"success",label:"Valid",icon:e.jsx(mt,{})}},de=[{id:"batch_number",label:"Batch Info",render:(ae,xe)=>e.jsxs(b,{className:"!flex !gap-2 !items-center !cursor-pointer hover:!opacity-80 !transition-opacity",onClick:()=>$(xe.id),children:[e.jsx(ot,{alt:xe.batch_number,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium hover:!text-primary-600 !transition-colors",children:xe.batch_number}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:xe.lot_number?`Lot: ${xe.lot_number}`:"No lot number"})]})]})},{id:"products",label:"Products",render:(ae,xe)=>e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center text-sm text-gray-900",children:[e.jsx($t,{className:"w-4 h-4 text-gray-400 mr-2"}),xe.products?.length||0," product(s)"]}),xe.products&&xe.products.length>0&&e.jsxs(b,{className:"flex items-center text-xs text-gray-500 mt-1",children:[e.jsx(ty,{className:"w-4 h-4 text-gray-400 mr-2"}),xe.products[0]?.name||"Unknown",xe.products.length>1&&` +${xe.products.length-1} more`]})]})},{id:"dates",label:"Dates",render:(ae,xe)=>e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center text-sm text-gray-900",children:[e.jsx(ia,{className:"w-4 h-4 text-gray-400 mr-2"}),Fe(xe.expiry_date?.toString())]}),e.jsxs(b,{className:"flex items-center text-xs text-gray-500 mt-1",children:[e.jsx(ws,{className:"w-4 h-4 text-gray-400 mr-2"}),"Mfg: ",Fe(xe.manufacturing_date?.toString())]})]})},{id:"quantity",label:"Quantity",render:(ae,xe)=>e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center text-sm text-gray-900",children:[e.jsx($t,{className:"w-4 h-4 text-gray-400 mr-2"}),Number(xe.quantity).toLocaleString()," total"]}),e.jsxs(b,{className:"flex items-center text-sm text-gray-500 mt-1",children:[e.jsx(ty,{className:"w-4 h-4 text-gray-400 mr-2"}),Number(xe.remaining_quantity).toLocaleString()," remaining"]})]})},{id:"supplier",label:"Supplier",render:(ae,xe)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:xe.supplier_name||e.jsx("span",{className:"!text-gray-500 italic",children:"no supplier"})})},{id:"storage",label:"Storage",render:(ae,xe)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:xe.storage_location||e.jsx("span",{className:"!text-gray-500 italic",children:"no location"})})},{id:"purchase_price",label:"Purchase Price",render:(ae,xe)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:z(xe.purchase_price)})},{id:"expiry_status",label:"Expiry Status",render:(ae,xe)=>{const ge=he(xe.expiry_date||"");return e.jsx(Re,{icon:ge.icon,label:ge.label,size:"small",variant:"outlined",color:ge.color})}},{id:"is_active",label:"Status",render:ae=>e.jsx(Re,{icon:ae==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:ae==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:ae==="Y"?"success":"error"})},{id:"createdate",label:"Created",render:(ae,xe)=>e.jsx(f,{variant:"body2",className:"!text-gray-500",children:Fe(xe.createdate?.toString())})},...S||v||y?[{id:"action",label:"Actions",sortable:!1,render:(ae,xe)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[y&&e.jsx(Ua,{onClick:()=>$(xe.id),tooltip:`View ${xe.batch_number}`,icon:e.jsx(kn,{fontSize:"small"}),color:"info"}),S&&e.jsx(ss,{onClick:()=>Y(xe),tooltip:`Edit ${xe.batch_number}`}),v&&e.jsx(Ht,{onClick:()=>J(xe.id),tooltip:`Delete ${xe.batch_number}`,itemName:xe.batch_number,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Batch & Lot Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track batch numbers, lot numbers, expiry dates, and inventory levels"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Batch Lots",value:H,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue",isLoading:I}),e.jsx(fe,{title:"Active Batches",value:Q,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:I}),e.jsx(fe,{title:"Expiring Soon",value:V,icon:e.jsx(ia,{className:"w-6 h-6"}),color:"orange",isLoading:I}),e.jsx(fe,{title:"Expired",value:M,icon:e.jsx(ty,{className:"w-6 h-6"}),color:"red",isLoading:I})]}),F&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load batch lots. Please try again."}),e.jsx(ct,{data:O,columns:de,actions:y||_?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:y&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Batch Lots...",value:s,onChange:te,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:r,onChange:ae=>{n(ae.target.value),x(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[y&&e.jsx(Xt,{title:"Export Batch Lots",description:"Are you sure you want to export the current batch lots data to Excel? This will include all filtered results.",onConfirm:ne,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:q.isPending,children:q.isPending?"Exporting...":"Export"})}),_&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>d(!0),children:"Import"}),_&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:R,children:"Create"})]})]}):!1,getRowId:ae=>ae.id,initialOrderBy:"expiry_date",loading:I,totalCount:K,page:W,rowsPerPage:j,isPermission:y,onPageChange:ee,emptyMessage:s?`No batch lots found matching "${s}"`:"No batch lots found in the system"}),e.jsx(h6e,{selectedBatchLot:i,setSelectedBatchLot:o,drawerOpen:l,setDrawerOpen:c}),e.jsx(m6e,{drawerOpen:m,setDrawerOpen:d})]})},x6e=()=>{const{id:t}=Br(),{data:s,isLoading:a,error:r}=d6e(Number(t)),n=s?.data,i=n?.products||[],o=d=>d==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),l=d=>{const p=new Date,x=new Date(d),j=Math.ceil((x.getTime()-p.getTime())/(1e3*60*60*24));return j<0?{status:"expired",color:"error",label:"Expired",icon:e.jsx(St,{})}:j<=30?{status:"expiring",color:"warning",label:`${j} days left`,icon:e.jsx(Pg,{})}:{status:"valid",color:"success",label:"Valid",icon:e.jsx(mt,{})}};if(a)return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !items-center !gap-3",children:e.jsxs(b,{className:"!flex-1",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(X,{variant:"text",width:250,height:32}),e.jsx(X,{variant:"rectangular",width:80,height:24,className:"!rounded-full"})]}),e.jsx(X,{variant:"text",width:300,height:20,className:"!mt-1"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[1,2,3,4].map(d=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:[e.jsx(X,{variant:"text",width:100,height:20}),e.jsx(X,{variant:"text",width:150,height:32,className:"!mt-2"})]},d))}),e.jsx(X,{variant:"rectangular",height:400,className:"!rounded-lg !shadow !border !border-gray-200"})]});if(r)return e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load batch lot details. Please try again."});if(!n)return e.jsx(lt,{severity:"warning",className:"!mb-4",children:"Batch lot not found."});const c=l(n.expiry_date),m=[{id:"name",label:"Product Info",render:(d,p)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:p.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!font-medium",children:p.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:p.code})]})]})},{id:"category",label:"Category",render:(d,p)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:p.category?.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(br,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!font-medium",children:p.category?.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:p.sub_category?.name})]})]})},{id:"volume",label:"Volume",render:d=>e.jsx(f,{variant:"body2",className:"!font-medium",children:d?.name})},{id:"brand",label:"Brand",render:d=>e.jsx(f,{variant:"body2",className:"!font-medium",children:d?.name})},{id:"quantity",label:"Quantity",render:d=>e.jsx(f,{variant:"body2",className:"!font-medium",children:Number(d).toLocaleString()})},{id:"base_price",label:"Base Price",render:d=>e.jsx(f,{variant:"body2",className:"!font-medium",children:o(Number(d))})}];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !items-center !gap-3",children:e.jsxs(b,{className:"!flex-1",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(f,{variant:"h5",className:"!font-bold !text-gray-900",children:n.batch_number}),e.jsx(Re,{icon:n.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:n.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:n.is_active==="Y"?"success":"error"}),e.jsx(Re,{icon:c.icon,label:c.label,size:"small",color:c.color,variant:"outlined",className:"!pl-1"})]}),e.jsx(f,{variant:"body2",className:"!text-gray-500 !mt-1",children:n.lot_number&&`Lot Number: ${n.lot_number}`})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Total Quantity"}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:n.quantity.toLocaleString()})]}),e.jsx(ot,{className:"!bg-blue-100",children:e.jsx(fA,{className:"text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Remaining"}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:n.remaining_quantity.toLocaleString()})]}),e.jsx(ot,{className:"!bg-green-100",children:e.jsx(ty,{className:"text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Products"}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:i.length})]}),e.jsx(ot,{className:"!bg-purple-100",children:e.jsx($t,{className:"text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Expiry Status"}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:c.label})]}),e.jsx(ot,{className:`!bg-${c.color==="error"?"red":c.color==="warning"?"orange":"green"}-100`,children:e.jsx(ia,{className:`text-${c.color==="error"?"red":c.color==="warning"?"orange":"green"}-600`})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6 mb-6",children:[e.jsx(f,{variant:"h6",className:"!font-bold !mb-4 !text-gray-900",children:"Batch Lot Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(ws,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Manufacturing Date"})]}),e.jsx(f,{variant:"body1",className:"!font-medium",children:Fe(n.manufacturing_date?.toString())})]}),e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(ws,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Expiry Date"})]}),e.jsx(f,{variant:"body1",className:"!font-medium",children:Fe(n.expiry_date?.toString())})]}),n.supplier_name&&e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(Hn,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Supplier"})]}),e.jsx(f,{variant:"body1",className:"!font-medium",children:n.supplier_name})]}),n.purchase_price&&e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(Cr,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Purchase Price"})]}),e.jsx(f,{variant:"body1",className:"!font-medium",children:o(Number(n.purchase_price))})]}),n.storage_location&&e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(ta,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Storage Location"})]}),e.jsx(f,{variant:"body1",className:"!font-medium",children:n.storage_location})]}),e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(Za,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Created Date"})]}),e.jsx(f,{variant:"body1",className:"!font-medium",children:Fe(n.createdate?.toString())})]})]})]}),e.jsx(ct,{data:i,columns:m,getRowId:d=>d.id,initialOrderBy:"name",emptyMessage:"No products found for this batch lot",pagination:!1})]})},g6e=async t=>{try{return(await ie.get("/brands",{params:t})).data}catch(s){throw console.error("Error fetching brands:",s),new Error(s.response?.data?.message||"Failed to fetch brands")}},b6e=async t=>{try{return(await ie.post("/brands",t)).data.data}catch(s){throw console.error("Error creating brand:",s),new Error(s.response?.data?.message||"Failed to create brand")}},y6e=async(t,s)=>{try{return(await ie.put(`/brands/${t}`,s)).data.data}catch(a){throw console.error("Error updating brand:",a),new Error(a.response?.data?.message||"Failed to update brand")}},v6e=async t=>{try{await ie.delete(`/brands/${t}`)}catch(s){throw console.error("Error deleting brand:",s),new Error(s.response?.data?.message||"Failed to delete brand")}},Sf={all:["brands"],lists:()=>[...Sf.all,"list"],list:t=>[...Sf.lists(),t],details:()=>[...Sf.all,"detail"],detail:t=>[...Sf.details(),t]},KL=(t,s)=>st({queryKey:Sf.list(t),queryFn:()=>g6e(t),staleTime:300*1e3,...s}),j6e=()=>Te({mutationFn:b6e,invalidateQueries:["brands"],loadingMessage:"Creating brand..."}),N6e=()=>Te({mutationFn:({id:t,data:s})=>y6e(t,s),invalidateQueries:["brands"],loadingMessage:"Updating brand..."}),_6e=()=>Te({mutationFn:v6e,invalidateQueries:["brands"],loadingMessage:"Deleting brand..."}),w6e=nt({file:ps().required("Please select a file to import")}),S6e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:w6e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("brands")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"brands",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Brands",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple brands. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},C6e=nt({name:ce().required("Brand name is required").min(2,"Brand name must be at least 2 characters").max(100,"Brand name must not exceed 100 characters").trim(),description:ce().max(500,"Description must not exceed 500 characters").nullable().transform(t=>t===""?null:t),is_active:ce().required("Status is required").oneOf(["Y","N"],"Status must be either Active or Inactive")}),P6e=({selectedBrand:t,setSelectedBrand:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=j6e(),l=N6e(),c=pt({initialValues:{name:t?.name||"",description:t?.description||"",is_active:t?.is_active||"Y"},validationSchema:C6e,enableReinitialize:!0,onSubmit:async m=>{try{const d={name:m.name,description:m.description,is_active:m.is_active};n&&t?await l.mutateAsync({id:t.id,data:d}):await o.mutateAsync(d),i()}catch(d){console.error("Error saving brand:",d)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Brand":"Create Brand",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"name",label:"Brand Name",placeholder:"Enter brand name",formik:c,required:!0})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:c,multiline:!0,rows:3})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(Es,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:[o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"," "]})]})]})})})},k6e=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("brand"),{data:y,isFetching:N,error:C}=KL({search:t,page:d,limit:x,status:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total||0,D=(y?.meta?.page||1)-1,T=_6e(),A=ls(),I=y?.stats?.total_brands??0,F=y?.stats?.active_brands??0,z=y?.stats?.inactive_brands??0,O=y?.stats?.new_brands_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(R){console.error("Error deleting brand:",R)}},[T]),q=g.useCallback(M=>{s(M),p(1)},[]),H=M=>{p(M+1)},Q=g.useCallback(async()=>{try{const M={search:t,status:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"brands",filters:M})}catch(M){console.error("Error exporting brands:",M)}},[A,t,a]),V=[{id:"name",label:"Brand Name",render:(M,R)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:R.name,className:"!rounded !bg-primary-100 !text-primary-500",src:R.logo||void 0,children:e.jsx(br,{className:"w-5 h-5"})}),e.jsxs(b,{className:"!max-w-xs",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:R.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:["Code: ",R.code]})]})]})},{id:"description",label:"Description",render:(M,R)=>R.description?e.jsx(Oa,{title:R.description,placement:"top",arrow:!0,children:e.jsx(f,{variant:"body2",className:"!text-gray-900 !max-w-xs !truncate",children:R.description})}):e.jsx("span",{className:"italic text-gray-400",children:"No Description"})},{id:"is_active",label:"Status",render:M=>e.jsx(Re,{icon:M==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,R)=>Fe(R.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(M,R)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(R),tooltip:`Edit ${R.name}`}),S&&e.jsx(Ht,{onClick:()=>B(R.id),tooltip:`Delete ${R.name}`,itemName:R.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Brands Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage brands for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Brands",value:I,icon:e.jsx(br,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Brands",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Brands",value:z,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:O,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load brands. Please try again."}),e.jsx(ct,{data:P,columns:V,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Brands...",value:t,onChange:q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:M=>r(M.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Brands",description:"Are you sure you want to export the current brands data to Excel? This will include all filtered results.",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:H,emptyMessage:t?`No brands found matching "${t}"`:"No brands found in the system"}),e.jsx(P6e,{selectedBrand:n,setSelectedBrand:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(S6e,{drawerOpen:c,setDrawerOpen:m})]})},E6e=async t=>(await ie.get("/company",{params:t})).data,T6e=async t=>(await ie.post("/company",t,{headers:t instanceof FormData?{"Content-Type":"multipart/form-data"}:void 0})).data,M6e=async(t,s)=>(await ie.put(`/company/${t}`,s,{headers:s instanceof FormData?{"Content-Type":"multipart/form-data"}:void 0})).data,D6e=async t=>(await ie.delete(`/company/${t}`)).data,Cf={all:["companies"],lists:()=>[...Cf.all,"list"],list:t=>[...Cf.lists(),t],details:()=>[...Cf.all,"detail"],detail:t=>[...Cf.details(),t]},QL=(t,s)=>st({queryKey:Cf.list(t),queryFn:()=>E6e(t),staleTime:300*1e3,...s}),R6e=t=>Te({mutationFn:s=>T6e(s),loadingMessage:"Creating company...",invalidateQueries:["companies"],onSuccess:t?.onSuccess,onError:t?.onError}),A6e=t=>Te({mutationFn:({id:s,companyData:a})=>M6e(s,a),loadingMessage:"Updating company...",invalidateQueries:["companies"],onSuccess:t?.onSuccess,onError:t?.onError}),I6e=t=>Te({mutationFn:s=>D6e(s),loadingMessage:"Deleting company...",invalidateQueries:["companies"],onSuccess:t?.onSuccess,onError:t?.onError}),O6e=nt({name:ce().required("Company name is required").min(2,"Company name must be at least 2 characters").max(100,"Company name must not exceed 100 characters"),address:ce().max(500,"Address must not exceed 500 characters"),city:ce().max(100,"City must not exceed 100 characters"),state:ce().max(100,"State must not exceed 100 characters"),country:ce().max(100,"Country must not exceed 100 characters"),zipcode:ce().matches(/^[0-9]{5,10}$/,"Invalid zip code format").max(10,"Zip code must not exceed 10 characters"),phone_number:ce().matches(/^[0-9+\-\s()]+$/,"Invalid phone number format"),email:ce().email("Invalid email format"),website:ce().url("Invalid website URL"),is_active:ce().required("Status is required")}),F6e=({selectedCompany:t,setSelectedCompany:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,[i,o]=g.useState(null),l=R6e({onSuccess:()=>{m()}}),c=A6e({onSuccess:()=>{m()}}),m=()=>{s(null),r(!1),o(null),d.resetForm()},d=pt({initialValues:{name:t?.name||"",address:t?.address||"",city:t?.city||"",state:t?.state||"",country:t?.country||"",zipcode:t?.zipcode||"",phone_number:t?.phone_number||"",email:t?.email||"",website:t?.website||"",is_active:t?.is_active||"Y"},validationSchema:O6e,enableReinitialize:!0,onSubmit:async j=>{try{const _=new FormData;_.append("name",j.name),_.append("address",j.address||""),_.append("city",j.city||""),_.append("state",j.state||""),_.append("country",j.country||""),_.append("zipcode",j.zipcode||""),_.append("phone_number",j.phone_number||""),_.append("email",j.email||""),_.append("website",j.website||""),_.append("is_active",j.is_active),i&&_.append("logo",i),n&&t?await c.mutateAsync({id:t.id,companyData:_}):await l.mutateAsync(_)}catch(_){console.error("Error saving company:",_)}}}),p=j=>{const _=j.target.files?.[0];_&&o(_)},x=()=>{o(null);const j=document.getElementById("logo-upload");j&&(j.value="")};return e.jsx(it,{open:a,setOpen:m,title:n?"Edit Company":"Create Company",size:"large",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:d.handleSubmit,className:"!space-y-6",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center mb-4 cursor-pointer hover:border-blue-500 transition-colors",children:[e.jsx("input",{type:"file",id:"logo-upload",accept:"image/*",onChange:p,className:"hidden"}),e.jsx("label",{htmlFor:"logo-upload",className:"cursor-pointer",children:i?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:URL.createObjectURL(i),alt:"Logo preview",className:"h-24 w-24 object-cover rounded"})}),e.jsx("p",{className:"text-sm text-gray-600",children:i.name}),e.jsx("button",{type:"button",onClick:j=>{j.preventDefault(),j.stopPropagation(),x()},className:"text-red-600 text-sm hover:underline",children:"Remove"})]}):t?.logo?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:t.logo,alt:"Current logo",className:"h-24 w-24 object-cover rounded"})}),e.jsx("p",{className:"text-sm text-gray-600",children:"Current Logo"}),e.jsx("p",{className:"text-xs text-blue-600",children:"Click to change"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("svg",{className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload company logo"}),e.jsx("p",{className:"text-xs text-gray-400",children:"PNG, JPG, GIF up to 10MB"})]})})]}),e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Company Name",placeholder:"Enter company name",formik:d,required:!0,className:"md:!col-span-2"}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"address",label:"Address",placeholder:"Enter company address",formik:d,multiline:!0,rows:3})}),e.jsx(oe,{name:"city",label:"City",placeholder:"Enter city",formik:d}),e.jsx(oe,{name:"state",label:"State",placeholder:"Enter state",formik:d}),e.jsx(oe,{name:"country",label:"Country",placeholder:"Enter country",formik:d}),e.jsx(oe,{name:"zipcode",label:"Zip Code",placeholder:"Enter zip code",formik:d}),e.jsx(oe,{name:"phone_number",label:"Phone Number",placeholder:"Enter phone number",formik:d,type:"tel"}),e.jsx(oe,{name:"email",label:"Email",placeholder:"Enter email address",formik:d,type:"email"}),e.jsx(oe,{name:"website",label:"Website",placeholder:"Enter website URL",formik:d,type:"url"}),e.jsxs(Se,{name:"is_active",label:"Status",formik:d,required:!0,children:[e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,className:"!capitalize",children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",className:"!capitalize",disableElevation:!0,disabled:d.isSubmitting||l.isPending||c.isPending,children:d.isSubmitting||l.isPending||c.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},L6e=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(1),[d]=g.useState(10),{isCreate:p,isUpdate:x,isDelete:j,isRead:_}=Ze("company"),{data:S,isFetching:v}=QL({page:c,limit:d,search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:_}),y=I6e(),C=(S?.data||[]).filter(F=>{const z=t===""||F.name.toLowerCase().includes(t.toLowerCase())||F.code.toLowerCase().includes(t.toLowerCase())||F.email?.toLowerCase().includes(t.toLowerCase())||F.city?.toLowerCase().includes(t.toLowerCase()),O=a==="all"||a==="active"&&F.is_active==="Y"||a==="inactive"&&F.is_active==="N";return z&&O}),P=g.useCallback(()=>{i(null),l(!0)},[]),E=g.useCallback(F=>{i(F),l(!0)},[]),D=g.useCallback(F=>{y.mutate(F)},[y]),T=g.useCallback(F=>{s(F),m(1)},[]),A=F=>m(F+1),I=[{id:"name",label:"Company & Logo",render:(F,z)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:z.name,src:z.logo,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Pn,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:z.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:z.code})]})]})},{id:"email",label:"Contact",render:(F,z)=>e.jsxs(b,{className:"space-y-1",children:[z.email?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(dp,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:z.email})]}):e.jsx("span",{className:"italic text-gray-400",children:"No Email"}),z.phone_number&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Sg,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:z.phone_number})]})]})},{id:"location",label:"Location",render:(F,z)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ta,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:[z.city,z.state,z.country].filter(Boolean).join(", ")||"No Location"})]})},{id:"website",label:"Website",render:(F,z)=>z.website?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(jT,{className:"w-3 h-3 text-gray-400"}),e.jsx("a",{href:z.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-xs",children:"Visit Site"})]}):e.jsx("span",{className:"italic text-gray-400",children:"No Website"})},{id:"is_active",label:"Status",render:F=>e.jsx(Re,{icon:F==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:F==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:F==="Y"?"success":"error"})},{id:"created_at",label:"Created Date",render:(F,z)=>Fe(z.created_at)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...x||j?[{id:"action",label:"Actions",sortable:!1,render:(F,z)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[x&&e.jsx(ss,{onClick:()=>E(z),tooltip:`Edit ${z.name}`}),j&&e.jsx(Ht,{onClick:()=>D(z.id),tooltip:`Delete ${z.name}`,itemName:z.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Companies Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage your company database and organizational structure"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Companies",value:S?.stats?.total_companies||0,icon:e.jsx(Pn,{className:"w-6 h-6"}),color:"blue",isLoading:v}),e.jsx(fe,{title:"Active Companies",value:S?.stats?.active_companies||0,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:v}),e.jsx(fe,{title:"Inactive Companies",value:S?.stats?.inactive_companies||0,icon:e.jsx(ya,{className:"w-6 h-6"}),color:"red",isLoading:v}),e.jsx(fe,{title:"New This Month",value:S?.stats?.new_companies||0,icon:e.jsx(jT,{className:"w-6 h-6"}),color:"purple",isLoading:v})]}),e.jsx(ct,{data:C,columns:I,actions:_||p?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex items-center flex-wrap gap-2",children:_&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Companies",value:t,onChange:T,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(Se,{value:a,onChange:F=>r(F.target.value),className:"!min-w-32",size:"small",children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),p&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:P,children:"Create"})]}):!1,getRowId:F=>F.id,initialOrderBy:"name",loading:v,totalCount:S?.meta?.total||0,page:c-1,rowsPerPage:d,isPermission:_,onPageChange:A,emptyMessage:t?`No companies found matching "${t}"`:"No companies found in the system"}),e.jsx(F6e,{selectedCompany:n,setSelectedCompany:i,drawerOpen:o,setDrawerOpen:l})]})},$6e=async t=>{try{return(await ie.get("/competitor-activity",{params:t})).data}catch(s){throw console.error("Error fetching competitor activities:",s),new Error(s.response?.data?.message||"Failed to fetch competitor activities")}},z6e=async t=>{try{const s=t instanceof FormData?{headers:{"Content-Type":"multipart/form-data"}}:{headers:{"Content-Type":"application/json"}};return(await ie.post("/competitor-activity",t,s)).data.data}catch(s){throw console.error("Error creating competitor activity:",s),new Error(s.response?.data?.message||"Failed to create competitor activity")}},q6e=async(t,s)=>{try{const a=s instanceof FormData?{headers:{"Content-Type":"multipart/form-data"}}:{headers:{"Content-Type":"application/json"}};return(await ie.put(`/competitor-activity/${t}`,s,a)).data.data}catch(a){throw console.error("Error updating competitor activity:",a),new Error(a.response?.data?.message||"Failed to update competitor activity")}},B6e=async t=>{try{await ie.delete(`/competitor-activity/${t}`)}catch(s){throw console.error("Error deleting competitor activity:",s),new Error(s.response?.data?.message||"Failed to delete competitor activity")}},Pf={all:["competitor-activity"],lists:()=>[...Pf.all,"list"],list:t=>[...Pf.lists(),t],details:()=>[...Pf.all,"detail"],detail:t=>[...Pf.details(),t]},U6e=(t,s)=>st({queryKey:Pf.list(t),queryFn:()=>$6e(t),staleTime:300*1e3,...s}),V6e=t=>Te({mutationFn:z6e,invalidateQueries:["competitor-activity"],loadingMessage:"Creating competitor activity...",...t}),H6e=t=>Te({mutationFn:({id:s,data:a})=>q6e(s,a),invalidateQueries:["competitor-activity"],loadingMessage:"Updating competitor activity...",...t}),W6e=()=>Te({mutationFn:B6e,invalidateQueries:["competitor-activity"],loadingMessage:"Deleting competitor activity..."}),Y6e=nt({file:ps().required("Please select a file to import")}),G6e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:Y6e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("competitor_activity")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"competitor_activity",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Competitor Activities",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple competitor activities. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},K6e=async t=>{try{return(await ie.get("/reports/visits",{params:t})).data}catch(s){throw s}},Q6e=async t=>{try{return(await ie.get(`/reports/visits/${t}`)).data}catch(s){throw s}},Z6e=async t=>(await ie.post("/visits",t)).data,X6e=async(t,s)=>(await ie.put(`/reports/visits/${t}`,s)).data,J6e=async t=>(await ie.delete(`/reports/visits/${t}`)).data,Ho={all:["visits"],lists:()=>[...Ho.all,"list"],list:t=>[...Ho.lists(),t],details:()=>[...Ho.all,"detail"],detail:t=>[...Ho.details(),t]},N3=(t,s)=>st({queryKey:Ho.list(t||{}),queryFn:()=>K6e(t),staleTime:300*1e3,enabled:s?.enabled??!0}),ePe=t=>st({queryKey:Ho.detail(t),queryFn:()=>Q6e(t),enabled:!!t,staleTime:300*1e3}),tPe=t=>{const s=is();return Te({mutationFn:Z6e,loadingMessage:"Creating visit...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Ho.lists()})},onError:t?.onError})},sPe=t=>{const s=is();return Te({mutationFn:({id:a,...r})=>X6e(a,r),loadingMessage:"Updating visit...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Ho.lists()}),s.invalidateQueries({queryKey:Ho.detail(r.id)})},onError:t?.onError})},aPe=t=>{const s=is();return Te({mutationFn:J6e,loadingMessage:"Deleting visit...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Ho.lists()})},onError:t?.onError})},rPe=nt({customer_id:Ye().required("Customer is required"),visit_id:Ye().positive("Visit ID must be a positive number").nullable(),brand_name:ce().required("Brand name is required").max(255,"Brand name must be less than 255 characters"),product_name:ce().max(255,"Product name must be less than 255 characters").nullable(),observed_price:Ye().min(0,"Observed price must be a positive number").nullable(),promotion_details:ce().max(1e3,"Promotion details must be less than 1000 characters").nullable(),visibility_score:Ye().min(0,"Visibility score must be at least 0").max(100,"Visibility score must be at most 100").nullable(),remarks:ce().max(1e3,"Remarks must be less than 1000 characters").nullable(),is_active:ce().oneOf(["Y","N"],"Active status must be Y or N").required("Active status is required")}),nPe=({selectedActivity:t,setSelectedActivity:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,{data:i}=N3({page:1,limit:1e3,status:"completed"}),o=i?.data||[],l=V6e(),c=H6e(),m=()=>{s(null),r(!1),d.resetForm()},d=pt({initialValues:{customer_id:t?.customer_id?.toString()||"",visit_id:t?.visit_id?.toString()||"",brand_name:t?.brand_name||"",product_name:t?.product_name||"",observed_price:t?.observed_price?.toString()||"",promotion_details:t?.promotion_details||"",visibility_score:t?.visibility_score?.toString()||"",image_url:t?.image_url||"",remarks:t?.remarks||"",is_active:t?.is_active||"Y"},validationSchema:rPe,enableReinitialize:!0,onSubmit:async p=>{try{const x=new FormData;if(x.append("customer_id",p.customer_id.toString()),p.visit_id&&p.visit_id!==""&&x.append("visit_id",p.visit_id),x.append("brand_name",p.brand_name),x.append("product_name",p.product_name),p.observed_price&&p.observed_price!==""&&Number(p.observed_price)>0&&x.append("observed_price",p.observed_price.toString()),x.append("promotion_details",p.promotion_details),p.visibility_score&&p.visibility_score!==""){const j=Number(p.visibility_score);j>=0&&j<=100&&x.append("visibility_score",p.visibility_score.toString())}if(x.append("remarks",p.remarks),x.append("is_active",p.is_active),p.image_url&&p.image_url.startsWith("data:image/")){const j=p.image_url.split(",")[1],_=atob(j),S=new Array(_.length);for(let C=0;C<_.length;C++)S[C]=_.charCodeAt(C);const v=new Uint8Array(S),y=new Blob([v],{type:"image/jpeg"}),N=new File([y],"competition-image.jpg",{type:"image/jpeg"});x.append("image",N)}n&&t?await c.mutateAsync({id:t.id,data:x}):await l.mutateAsync(x),m()}catch(x){console.error("Error submitting competitor activity:",x)}}});return e.jsx(it,{open:a,setOpen:m,title:n?"Edit Competitor Activity":"Create Competitor Activity",size:"large",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:d.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(Yn,{name:"customer_id",label:"Customer",formik:d,required:!0}),e.jsx(Se,{name:"visit_id",label:"Visit (Optional)",formik:d,children:o.map(p=>e.jsx(Z,{value:p.id?.toString()||"",children:`Visit #${p.id} - ${p.purpose||"General"}`},p.id))}),e.jsxs(b,{className:"md:!col-span-2",children:[e.jsx(f,{component:"label",className:"!text-gray-700 !text-sm !font-medium !mb-2 !block",children:"Competition Image"}),e.jsxs(b,{className:"!border-2 flex items-center justify-center !border-dashed !border-gray-300 !rounded !p-3 !text-center !cursor-pointer hover:!border-blue-400 !transition-colors",component:"label",sx:{"&:hover":{backgroundColor:"rgba(59, 130, 246, 0.05)"}},children:[e.jsx("input",{type:"file",name:"image_url",accept:"image/*",hidden:!0,onChange:p=>{const x=p.target.files?.[0];if(x){const j=new FileReader;j.onloadend=()=>{d.setFieldValue("image_url",j.result)},j.readAsDataURL(x)}else d.setFieldValue("image_url","");d.handleChange(p)}}),d.values.image_url?e.jsxs(b,{className:"!relative",children:[e.jsx("img",{src:d.values.image_url,alt:"Competition image",className:"!max-h-20 !max-w-xs !rounded !mx-auto !border !border-gray-200"}),e.jsx(Ws,{size:"small",className:"!absolute !h-6 !w-6 !top-1 !right-1  !text-red-600",onClick:p=>{p.preventDefault(),d.setFieldValue("image_url","")},sx:{position:"absolute"},children:e.jsx(Lr,{})})]}):e.jsxs(b,{className:"!py-4",children:[e.jsx(b,{className:"!text-2xl !text-gray-400 !mb-1",children:""}),e.jsx(f,{className:"!text-gray-600 !text-xs !mb-1",children:"Click to upload image"}),e.jsx(f,{className:"!text-gray-400 !text-xs",children:"PNG, JPG, GIF up to 10MB"})]})]}),d.touched.image_url&&d.errors.image_url&&e.jsx(f,{className:"!text-red-500 !text-xs !mt-1",children:d.errors.image_url})]}),e.jsx(oe,{name:"brand_name",label:"Brand Name",placeholder:"Enter competitor brand name",formik:d,required:!0}),e.jsx(oe,{name:"product_name",label:"Product Name",placeholder:"Enter product name (optional)",formik:d}),e.jsx(oe,{name:"observed_price",label:"Observed Price",type:"number",placeholder:"Enter observed price",formik:d}),e.jsx(oe,{name:"visibility_score",label:"Visibility Score",type:"number",placeholder:"Enter visibility score (0-100)",formik:d}),e.jsx(Es,{name:"is_active",label:"Status",formik:d})]}),e.jsx(oe,{name:"promotion_details",label:"Promotion Details",placeholder:"Enter promotion details",formik:d,multiline:!0,rows:3}),e.jsx(oe,{name:"remarks",label:"Remarks",placeholder:"Enter additional remarks",formik:d,multiline:!0,rows:3}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,className:"!mr-3",disabled:l.isPending||c.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:l.isPending||c.isPending,children:[l.isPending||c.isPending?n?"Updating...":"Creating...":n?"Update":"Create"," "]})]})]})})})},iPe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{formatCurrency:j}=Ga(),{isCreate:_,isUpdate:S,isDelete:v,isRead:y}=Ze("competitor"),{data:N,isLoading:C,error:P}=U6e({search:t,page:d,limit:x,status:a==="all"?void 0:a},{enabled:y}),E=N?.data||[],D=N?.meta?.total||0,T=(N?.meta?.page||1)-1,A=W6e(),I=ls(),F=N?.stats?.total_records??0,z=N?.stats?.active_records??0,O=N?.stats?.inactive_records??0,K=N?.stats?.records_this_month??0,W=g.useCallback(()=>{i(null),l(!0)},[]),B=g.useCallback($=>{i($),l(!0)},[]),q=g.useCallback(async $=>{try{await A.mutateAsync($)}catch(Y){console.error("Error deleting competitor activity:",Y)}},[A]),H=g.useCallback($=>{s($),p(1)},[]),Q=$=>{p($+1)},V=g.useCallback(async()=>{try{const $={search:t,status:a==="all"?void 0:a};await I.mutateAsync({tableName:"competitor_activity",filters:$})}catch($){console.error("Error exporting competitor activities:",$)}},[I,t,a]),M=$=>$==null?"default":$>=80?"success":$>=60?"primary":$>=40?"warning":"error",R=[{id:"customer_info",label:"Customer Info",render:($,Y)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:Y.competitor_activity_customers?.name||"Customer",className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Pn,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:Y.competitor_activity_customers?.name||"Unknown Customer"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:Y.competitor_activity_customers?.code||`Customer #${Y.customer_id}`})]})]})},{id:"brand_product",label:"Brand & Product",render:($,Y)=>e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:Y.brand_name}),Y.product_name&&e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:Y.product_name})]})},{id:"price",label:"Price",render:($,Y)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(Cr,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs font-medium",children:Y.observed_price?`${j(Number(Y.observed_price))}`:"N/A"})]})},{id:"visibility_score",label:"Visibility",render:($,Y)=>e.jsx(b,{className:"flex items-center gap-1",children:e.jsx(Re,{variant:"outlined",label:Y.visibility_score?`${Y.visibility_score}%`:"N/A",color:M(Y.visibility_score??null),size:"small"})})},{id:"promotion",label:"Promotion",render:($,Y)=>e.jsx(Oa,{title:Y.promotion_details||"No promotion details",placement:"top",arrow:!0,children:e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(nl,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs truncate max-w-24",children:Y.promotion_details||"None"})]})})},{id:"visit_info",label:"Visit Info",render:($,Y)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ws,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:Y.visits?Fe(Y.visits.visit_date):"No visit"})]})},{id:"image",label:"Image",render:($,Y)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(Soe,{className:"w-3 h-3 text-gray-400"}),Y.image_url?e.jsx("button",{onClick:()=>window.open(Y.image_url,"_blank"),className:"text-xs text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",title:"Click to view image",children:"Available"}):e.jsx("span",{className:"text-xs italic text-gray-500",children:"No Image"})]})},{id:"is_active",label:"Active Status",render:($,Y)=>e.jsx(Re,{icon:Y.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:Y.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:Y.is_active==="Y"?"success":"error"})},...S||v||y?[{id:"action",label:"Actions",sortable:!1,render:($,Y)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[S&&e.jsx(ss,{onClick:()=>B(Y),tooltip:`Edit Activity #${Y.id}`}),v&&e.jsx(Ht,{onClick:()=>q(Y.id),tooltip:`Delete Activity #${Y.id}`,itemName:`Activity #${Y.id}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Competitor Activities"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track competitor activities, pricing, and market intelligence"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Activities",value:F,icon:e.jsx(nl,{className:"w-6 h-6"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Active Activities",value:z,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Inactive Activities",value:O,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:C}),e.jsx(fe,{title:"This Month",value:K,icon:e.jsx(ws,{className:"w-6 h-6"}),color:"purple",isLoading:C})]}),P&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load competitor activities. Please try again."}),e.jsx(ct,{data:E,columns:R,actions:e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Jt,{placeholder:"Search Activities...",value:t,onChange:H,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:$=>r($.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xt,{title:"Export Competitor Activities",description:"Are you sure you want to export the current competitor activity data to Excel? This will include all filtered results.",onConfirm:V,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:I.isPending,children:I.isPending?"Exporting...":"Export"})}),_&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),_&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:W,children:"Create"})]})]}),getRowId:$=>$.id,initialOrderBy:"createdate",loading:C,totalCount:D,page:T,rowsPerPage:x,onPageChange:Q,isPermission:y,emptyMessage:t?`No competitor activities found matching "${t}"`:"No competitor activities found in the system"}),e.jsx(nPe,{selectedActivity:n,setSelectedActivity:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(G6e,{drawerOpen:c,setDrawerOpen:m})]})},oPe=async t=>{try{return(await ie.get("/customer-category",{params:t})).data}catch(s){throw console.error("Error fetching customer categories:",s),new Error(s.response?.data?.message||"Failed to fetch customer categories")}},lPe=async t=>{try{return(await ie.get(`/customer-category/${t}`)).data.data}catch(s){throw console.error("Error fetching customer category:",s),new Error(s.response?.data?.message||"Failed to fetch customer category")}},cPe=async t=>{try{const s=await ie.post("/customer-category/bulk",t);if(s.data?.results?.created?.[0])return s.data.results.created[0];if(s.data?.results?.updated?.[0])return s.data.results.updated[0];if(s.data?.data)return s.data.data;if(s.data)return s.data;throw new Error("Invalid response structure from API")}catch(s){throw console.error("Error creating customer category:",s),new Error(s.response?.data?.message)}},dPe=async(t,s)=>{try{const a=await ie.post("/customer-category/bulk",{id:t,...s});if(a.data?.results?.updated?.[0])return a.data.results.updated[0];if(a.data?.results?.created?.[0])return a.data.results.created[0];if(a.data?.data)return a.data.data;if(a.data)return a.data;throw new Error("Invalid response structure from API")}catch(a){throw console.error("Error updating customer category:",a),new Error(a.response?.data?.message||"Failed to update customer category")}},uPe=async t=>{try{await ie.delete(`/customer-category/${t}`)}catch(s){throw console.error("Error deleting customer category:",s),new Error(s.response?.data?.message||"Failed to delete customer category")}},Im={all:["customer-category"],lists:()=>[...Im.all,"list"],list:t=>[...Im.lists(),t],details:()=>[...Im.all,"detail"],detail:t=>[...Im.details(),t]},_3=(t,s)=>st({queryKey:Im.list(t),queryFn:()=>oPe(t),staleTime:300*1e3,...s}),mPe=(t,s)=>st({queryKey:Im.detail(t),queryFn:()=>lPe(t),enabled:!!t,staleTime:300*1e3,...s}),pPe=()=>Te({mutationFn:cPe,invalidateQueries:["customer-category"],loadingMessage:"Creating customer category..."}),hPe=()=>Te({mutationFn:({id:t,data:s})=>dPe(t,s),invalidateQueries:["customer-category"],loadingMessage:"Updating customer category..."}),fPe=()=>Te({mutationFn:uPe,invalidateQueries:["customer-category"],loadingMessage:"Deleting customer category..."}),xPe=async t=>{try{return(await ie.get("/product-categories",{params:t})).data}catch(s){throw console.error("Error fetching product categories:",s),new Error(s.response?.data?.message||"Failed to fetch product categories")}},gPe=async t=>{try{return(await ie.post("/product-categories",t)).data.data}catch(s){throw console.error("Error creating product category:",s),new Error(s.response?.data?.message||"Failed to create product category")}},bPe=async(t,s)=>{try{return(await ie.put(`/product-categories/${t}`,s)).data.data}catch(a){throw console.error("Error updating product category:",a),new Error(a.response?.data?.message||"Failed to update product category")}},yPe=async t=>{try{await ie.delete(`/product-categories/${t}`)}catch(s){throw console.error("Error deleting product category:",s),new Error(s.response?.data?.message||"Failed to delete product category")}},vPe=async t=>{try{return(await ie.get("/product-categories-dropdown",{params:t})).data}catch(s){throw console.error("Error fetching product categories dropdown:",s),new Error(s.response?.data?.message||"Failed to fetch product categories dropdown")}},kf={all:["product-categories"],lists:()=>[...kf.all,"list"],list:t=>[...kf.lists(),t],details:()=>[...kf.all,"detail"],detail:t=>[...kf.details(),t]},zp=(t,s)=>st({queryKey:kf.list(t),queryFn:()=>xPe(t),staleTime:300*1e3,...s}),jPe=()=>Te({mutationFn:gPe,invalidateQueries:["product-categories"],loadingMessage:"Creating product category..."}),NPe=()=>Te({mutationFn:({id:t,data:s})=>bPe(t,s),invalidateQueries:["product-categories"],loadingMessage:"Updating product category..."}),_Pe=()=>Te({mutationFn:yPe,invalidateQueries:["product-categories"],loadingMessage:"Deleting product category..."}),wPe=(t,s)=>st({queryKey:["product-categories","dropdown",t],queryFn:()=>vPe(t),staleTime:300*1e3,...s}),vu=({name:t="category_id",label:s="Product Category",required:a=!1,fullWidth:r=!0,size:n="small",formik:i,setValue:o,value:l,nameToSearch:c="",onChange:m,className:d,disabled:p=!1})=>{const[x,j]=g.useState(""),[_,S]=g.useState(""),[v,y]=g.useState(!1),[N,C]=g.useState(null),[P,E]=g.useState(!1),D=i?i.values[t]:l,T=D?typeof D=="number"?D.toString():String(D).trim():"";g.useEffect(()=>{const V=setTimeout(()=>{v||(S(x),x&&E(!0))},300);return()=>clearTimeout(V)},[x,v]);const A=yt.useMemo(()=>P||x?_:T&&c&&!P?c:_,[_,c,P,T,x]),I=T?Number(T):void 0,{data:F,isLoading:z}=wPe({search:A,category_id:I&&!A?I:void 0}),O=(F?.data||[]).map(V=>({id:V.id,category_name:V.category_name}));g.useEffect(()=>{if(T&&!N&&!z&&O.length>0){const V=O.find(M=>M.id.toString()===T);V&&(C(V),x||j(V.category_name),E(!0))}},[T,N,x,O,z]);const K=yt.useMemo(()=>{if(!T)return null;const V=O.find(M=>M.id.toString()===T);return V||(N&&N.id.toString()===T?N:null)},[T,O,N]);g.useEffect(()=>{K&&K!==N?(C(K),!x&&K.category_name&&j(K.category_name)):!T&&N?(C(null),j("")):N&&!x&&T&&j(N.category_name)},[K,T,N,x]),g.useEffect(()=>{T?N&&N.id.toString()!==T&&(C(null),j(""),E(!1)):(N||x)&&(j(""),C(null),E(!1))},[T]);const W=yt.useMemo(()=>{const V=[];K&&(O.some($=>$.id===K.id)||V.push(K));const M=new Set;return K&&M.add(K.id),O.forEach(R=>{M.has(R.id)||(V.push(R),M.add(R.id))}),V},[O,K,T]),B=i?.touched?.[t]&&i?.errors?.[t],q=typeof B=="string"?B:void 0,H=g.useCallback((V,M)=>{y(!0),C(M);const R=M?M.id.toString():"";i?i.setFieldValue(t,R):o&&o(R),m&&m(V,M),M||(j(""),S("")),setTimeout(()=>y(!1),100)},[i,t,o,m]),Q=g.useCallback((V,M,R)=>{if(R==="reset"||R==="clear"){y(!0),j(""),S(""),setTimeout(()=>y(!1),100);return}j(M)},[]);return e.jsx(ir,{options:W,getOptionLabel:V=>V.category_name,value:K,loading:z,onChange:H,inputValue:x,onInputChange:Q,isOptionEqualToValue:(V,M)=>V.id===M.id,size:n,fullWidth:r,className:d,disabled:p,filterOptions:V=>V,renderOption:(V,M)=>g.createElement(b,{component:"li",...V,key:M.id,className:"!flex !items-center !gap-2 cursor-pointer py-1 px-2 hover:!bg-gray-50"},e.jsx(ot,{src:M.category_name||"mkx",alt:M.category_name,className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsx(b,{children:e.jsx("p",{className:"!text-gray-900 !text-sm",children:M.category_name||""})})),renderInput:V=>e.jsx(Ba,{...V,label:s,required:a,error:!!B,helperText:q,onBlur:i?.handleBlur,name:t,size:n,className:d,disabled:p}),noOptionsText:_&&!z?"No categories found":"Type to search categories",loadingText:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(to,{thickness:6,size:16,color:"inherit"})," Loading categories..."]})})},SPe=nt({category_name:ce().required("Category name is required").min(2,"Category name must be at least 2 characters").max(255,"Category name must be less than 255 characters"),category_code:ce().required("Category code is required").min(2,"Category code must be at least 2 characters").max(50,"Category code must be less than 50 characters"),level:ce().required("Category level is required").min(1,"Category level must be at least 1 character").max(10,"Category level must be less than 10 characters"),is_active:ce().oneOf(["Y","N"]).required("Status is required")}),CPe=["Monthly Sales Amount ()","Quarterly Sales Amount ()","Monthly Sales Quantity (Crates)","Monthly Sales Quantity (Cases)","Monthly Sales Quantity (Units)","Quarterly Sales Quantity (Crates)","Order Frequency per Month","Order Frequency per Quarter","Payment Terms (Days)","Credit Limit ()","Purchase History (Months Active)","Average Order Value ()","Last Order Days Ago"],PPe=[{value:">=",label:"Greater than or equal (>=)"},{value:"<=",label:"Less than or equal (<=)"},{value:">",label:"Greater than (>)"},{value:"<",label:"Less than (<)"},{value:"=",label:"Equal (=)"},{value:"!=",label:"Not equal (!=)"}],kPe=t=>{switch(t){case"Monthly Sales Amount ()":case"Quarterly Sales Amount ()":case"Average Order Value ()":case"Credit Limit ()":return"e.g., 50000";case"Monthly Sales Quantity (Crates)":case"Monthly Sales Quantity (Cases)":case"Monthly Sales Quantity (Units)":case"Quarterly Sales Quantity (Crates)":return"e.g., 1";case"Order Frequency per Month":case"Order Frequency per Quarter":case"Purchase History (Months Active)":return"e.g., 4";case"Payment Terms (Days)":case"Last Order Days Ago":return"e.g., 30";default:return"Enter threshold value"}},EPe=t=>{switch(t){case"Monthly Sales Amount ()":return"Enter amount in rupees (e.g., 50000 for 50,000)";case"Quarterly Sales Amount ()":return"Enter amount in rupees for 3 months (e.g., 150000 for 1.5L)";case"Monthly Sales Quantity (Crates)":return"Enter number of crates per month (e.g., 1 for 1 crate/month)";case"Monthly Sales Quantity (Cases)":return"Enter number of cases per month (e.g., 24 for 24 cases/month)";case"Monthly Sales Quantity (Units)":return"Enter number of individual units per month";case"Quarterly Sales Quantity (Crates)":return"Enter number of crates for 3 months";case"Order Frequency per Month":return"Enter number of orders per month (e.g., 4 for weekly orders)";case"Order Frequency per Quarter":return"Enter number of orders for 3 months";case"Payment Terms (Days)":return"Enter credit period in days (e.g., 30 for 30-day credit)";case"Credit Limit ()":return"Enter credit limit in rupees";case"Purchase History (Months Active)":return"Enter months since first purchase";case"Average Order Value ()":return"Enter average order value in rupees";case"Last Order Days Ago":return"Enter days since last order (e.g., 7 for last week)";default:return""}},TPe=({selectedCustomerCategory:t,setSelectedCustomerCategory:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,[i,o]=g.useState([]),[l,c]=g.useState(null),[m,d]=g.useState({_index:0,condition_type:"",condition_operator:">=",threshold_value:"",product_category_id:"",condition_description:"",is_active:"Y"}),{data:p}=zp({limit:1e3}),x=p?.data||[],{data:j,isLoading:_}=mPe(t?.id||0,{enabled:n&&!!t?.id});g.useEffect(()=>{if(j&&n){const A=j.conditions?.map((I,F)=>({_index:F,id:I.id,condition_type:I.condition_type||"",condition_operator:I.condition_operator||">=",threshold_value:I.threshold_value?.toString()||"",product_category_id:I.product_category_id?.toString()||"",condition_description:I.condition_description||"",is_active:I.is_active||"Y"}))||[];o(A)}else o([]);c(null),d({_index:0,condition_type:"",condition_operator:">=",threshold_value:"",product_category_id:"",condition_description:"",is_active:"Y"})},[j,n]);const S=()=>{s(null),r(!1),o([]),c(null),d({_index:0,condition_type:"",condition_operator:">=",threshold_value:"",product_category_id:"",condition_description:"",is_active:"Y"}),D.resetForm()},v=pPe(),y=hPe(),N=()=>{if(!m.condition_type.trim()){It.error("Condition type is required");return}if(!m.threshold_value.trim()){It.error(`Threshold value is required for ${m.condition_type}`);return}const A=parseFloat(m.threshold_value);if(isNaN(A)||A<0){It.error("Please enter a valid positive number for threshold value");return}if(m.condition_type.includes("Days")&&A>365){It.error("Days cannot exceed 365 for this condition type");return}if(m.condition_type.includes("Months")&&A>12){It.error("Months cannot exceed 12 for this condition type");return}if(i.some(z=>z.condition_type===m.condition_type&&z.condition_operator===m.condition_operator)){It.error("A condition with this type and operator already exists");return}const F={_index:i.length,condition_type:m.condition_type,condition_operator:m.condition_operator,threshold_value:m.threshold_value,product_category_id:m.product_category_id,condition_description:m.condition_description,is_active:m.is_active};o([...i,F]),d({_index:i.length+1,condition_type:"",condition_operator:">=",threshold_value:"",product_category_id:"",condition_description:"",is_active:"Y"}),c(null),It.success("Condition added successfully")},C=A=>{const I=i.filter((F,z)=>z!==A).map((F,z)=>({...F,_index:z}));o(I),c(null)},P=A=>{if(i.some((z,O)=>O!==A&&z.condition_type===m.condition_type&&z.condition_operator===m.condition_operator)){It.error("A condition with this type and operator already exists");return}const F=[...i];F[A]={...m,_index:A,id:i[A].id},o(F),d({_index:i.length,condition_type:"",condition_operator:">=",threshold_value:"",product_category_id:"",condition_description:"",is_active:"Y"}),c(null)},E=A=>{c(A._index),d({_index:A._index,id:A.id,condition_type:A.condition_type,condition_operator:A.condition_operator,threshold_value:A.threshold_value,product_category_id:A.product_category_id,condition_description:A.condition_description,is_active:A.is_active})},D=pt({initialValues:{category_name:t?.category_name||"",category_code:t?.category_code||"",level:t?.level||0,is_active:t?.is_active||"Y"},validationSchema:SPe,enableReinitialize:!0,onSubmit:async A=>{try{const I={category_name:A.category_name,category_code:A.category_code,level:Number(A.level),is_active:A.is_active,conditions:i.map(F=>({...F.id&&{id:F.id},condition_type:F.condition_type,condition_operator:F.condition_operator,threshold_value:Number(F.threshold_value),product_category_id:F.product_category_id?Number(F.product_category_id):null,condition_description:F.condition_description||null,is_active:F.is_active}))};n&&t?await y.mutateAsync({id:t.id,data:I}):await v.mutateAsync(I),S()}catch(I){console.error("Error saving customer category:",I)}}}),T=[{id:"condition_type",label:"Condition Type",render:(A,I)=>e.jsx(f,{variant:"body2",className:l===I._index?"!font-bold !text-primary-600":"",onClick:()=>E(I),style:{cursor:"pointer"},children:I.condition_type||"-"})},{id:"condition_operator",label:"Operator",render:(A,I)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:I.condition_operator||"-"})},{id:"threshold_value",label:"Threshold Value",render:(A,I)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:I.threshold_value||"-"})},{id:"product_category",label:"Product Category",render:(A,I)=>{const F=x.find(z=>z.id===Number(I.product_category_id));return e.jsx(f,{variant:"body2",className:"!text-gray-700",children:F?.category_name||"-"})}},{id:"actions",label:"Actions",sortable:!1,render:(A,I)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ss,{onClick:()=>E(I),tooltip:"Edit condition",size:"small"}),e.jsx(Ht,{onClick:()=>C(I._index),tooltip:"Remove condition",confirmDelete:!0,size:"small",itemName:"condition"})]})}];return e.jsx(it,{open:a,setOpen:S,title:n?"Edit Customer Category":"Create Customer Category",size:"large",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:D.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 lg:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"category_name",label:"Category Name",placeholder:"Enter category name",formik:D,required:!0}),e.jsx(oe,{name:"category_code",label:"Category Code",placeholder:"Enter category code",formik:D,required:!0}),e.jsx(oe,{type:"number",name:"level",label:"Category Level",placeholder:"Enter category level",formik:D,required:!0}),e.jsx(Es,{name:"is_active",formik:D,className:"col-span-2"})]}),e.jsxs(b,{className:"!space-y-4 !mt-6",children:[e.jsxs(b,{className:"!flex !justify-between !items-center",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Category Conditions"}),e.jsx(G,{type:"button",variant:"outlined",startIcon:e.jsx(os,{}),onClick:N,size:"small",children:"Add Condition"})]}),e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4 !bg-gray-50 !rounded-lg",children:[e.jsx(Se,{value:m.condition_type,onChange:A=>d({...m,condition_type:A.target.value}),label:"Condition Type",size:"small",fullWidth:!0,children:CPe.map(A=>e.jsx(Z,{value:A,children:A},A))}),e.jsx(Se,{value:m.condition_operator,onChange:A=>d({...m,condition_operator:A.target.value}),label:"Operator",size:"small",fullWidth:!0,children:PPe.map(A=>e.jsx(Z,{value:A.value,children:A.label},A.value))}),e.jsx(oe,{value:m.threshold_value,onChange:A=>d({...m,threshold_value:A.target.value}),label:"Threshold Value",placeholder:kPe(m.condition_type),helperText:EPe(m.condition_type),type:"number",size:"small",fullWidth:!0}),e.jsx(vu,{value:m.product_category_id,onChange:(A,I)=>d({...m,product_category_id:I?I.id.toString():""}),label:"Product Category (Optional)",size:"small",fullWidth:!0}),e.jsxs(b,{className:"!bg-blue-50 col-span-2 !border !border-blue-200 !rounded-lg !p-4",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-semibold !text-blue-900 !mb-2",children:[e.jsx(zle,{fontSize:"small"})," How Conditions Work:"]}),e.jsxs(f,{variant:"body2",className:"!text-blue-800 !mb-2",children:[e.jsx("strong",{children:"Example 1:"}),' "Monthly Sales Quantity (Crates)  1"  Customers who buy at least 1 crate per month']}),e.jsxs(f,{variant:"body2",className:"!text-blue-800 !mb-2",children:[e.jsx("strong",{children:"Example 2:"}),' "Monthly Sales Amount ()  50000"  Customers with monthly sales of 50,000 or more']}),e.jsxs(f,{variant:"body2",className:"!text-blue-800",children:[e.jsx("strong",{children:"Note:"})," All conditions are evaluated based on customer's purchase history and behavior patterns."]})]}),e.jsx(b,{className:"md:!col-span-2 !flex !items-center !gap-4",children:l!==null&&e.jsxs(b,{className:"!flex !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>P(l),children:"Update"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{c(null),d({_index:i.length,condition_type:"",condition_operator:">=",threshold_value:"",product_category_id:"",condition_description:"",is_active:"Y"})},children:"Cancel"})]})})]}),_&&n?e.jsx(b,{className:"!mt-4",children:e.jsx(b,{className:"!bg-white !rounded-lg !border !border-gray-200 !p-4",children:e.jsx(b,{className:"!space-y-3",children:[1,2,3].map(A=>e.jsxs(b,{className:"!flex !items-center !gap-4 !pb-3 !border-b !border-gray-100 last:!border-0",children:[e.jsx(X,{variant:"text",width:"20%",height:24,className:"!flex-1"}),e.jsx(X,{variant:"text",width:"15%",height:24,className:"!flex-1"}),e.jsx(X,{variant:"text",width:"15%",height:24,className:"!flex-1"}),e.jsx(X,{variant:"text",width:"20%",height:24,className:"!flex-1"}),e.jsx(X,{variant:"circular",width:32,height:32,className:"!flex-shrink-0"})]},A))})})}):i.length>0&&e.jsx(b,{className:"!mt-4",children:e.jsx(ct,{data:i,columns:T,getRowId:A=>A._index.toString(),pagination:!1,sortable:!1,emptyMessage:"No conditions added yet."})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:S,className:"!mr-3",disabled:v.isPending||y.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:v.isPending||y.isPending,children:v.isPending||y.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},MPe=nt({file:ps().required("Please select a file to import")}),DPe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:MPe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("customer_category")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"customer_category",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Outlet Categories",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple outlet categories. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},RPe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("customer-category"),{data:y,isLoading:N,error:C}=_3({search:t,page:d,limit:x,is_active:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total||0,D=(y?.meta?.page||1)-1,T=fPe(),A=ls(),I=y?.stats,F=I?.total_categories||P.length,z=I?.active_categories||P.filter(R=>R.is_active==="Y").length,O=I?.inactive_categories||P.filter(R=>R.is_active==="N").length,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(()=>{m(!0)},[]),B=g.useCallback(R=>{i(R),l(!0)},[]),q=g.useCallback(async R=>{try{await T.mutateAsync(R)}catch($){console.error("Error deleting customer category:",$)}},[T]),H=g.useCallback(R=>{s(R),p(1)},[]),Q=R=>{p(R+1)},V=g.useCallback(async()=>{try{const R={search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"customer_category",filters:R})}catch(R){console.error("Error exporting customer categories:",R)}},[A,t,a]),M=[{id:"category_name",label:"Category Name",render:(R,$)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:$.category_name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(aa,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:$.category_name}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:$.category_code})]})]})},{id:"conditions",label:"Conditions",render:(R,$)=>e.jsxs(f,{variant:"body2",className:"!text-gray-700",children:[$.conditions?.length||0," condition(s)"]})},{id:"level",label:"Level",render:R=>e.jsx(Re,{label:R,className:"!px-5",size:"small",variant:"outlined"})},{id:"is_active",label:"Status",render:R=>e.jsx(Re,{icon:R==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:R==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:R==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(R,$)=>Fe($.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(R,$)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>B($),tooltip:`Edit ${$.category_name}`}),S&&e.jsx(Ht,{onClick:()=>q($.id),tooltip:`Delete ${$.category_name}`,itemName:$.category_name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Customer Category Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage customer categories and their conditions"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Categories",value:F,icon:e.jsx(aa,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Categories",value:z,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Categories",value:O,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"Total Conditions",value:P.reduce((R,$)=>R+($.conditions?.length||0),0),icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load customer categories. Please try again."}),e.jsx(ct,{data:P,columns:M,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Customer Categories...",value:t,onChange:H,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:R=>r(R.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[v&&e.jsx(Xt,{title:"Export Customer Categories",description:"Are you sure you want to export the current customer categories data to Excel? This will include all filtered results.",onConfirm:V,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsxs(e.Fragment,{children:[e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:W,children:"Import"}),e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]})]}):!1,getRowId:R=>R.id,initialOrderBy:"category_name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:Q,emptyMessage:t?`No customer categories found matching "${t}"`:"No customer categories found in the system"}),e.jsx(TPe,{selectedCustomerCategory:n,setSelectedCustomerCategory:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(DPe,{drawerOpen:c,setDrawerOpen:m})]})},APe=async t=>{try{return(await ie.get("/customer-types",{params:t})).data}catch(s){throw console.error("Error fetching customer types:",s),new Error(s.response?.data?.message||"Failed to fetch customer types")}},IPe=async t=>{try{return(await ie.get(`/customer-types/${t}`)).data.data}catch(s){throw console.error("Error fetching customer type:",s),new Error(s.response?.data?.message||"Failed to fetch customer type")}},OPe=async t=>{try{return(await ie.post("/customer-types",t)).data}catch(s){throw console.error("Error creating customer type:",s),new Error(s.response?.data?.message||"Failed to create customer type")}},FPe=async(t,s)=>{try{return(await ie.put(`/customer-types/${t}`,s)).data}catch(a){throw console.error("Error updating customer type:",a),new Error(a.response?.data?.message||"Failed to update customer type")}},LPe=async t=>{try{await ie.delete(`/customer-types/${t}`)}catch(s){throw console.error("Error deleting customer type:",s),new Error(s.response?.data?.message||"Failed to delete customer type")}},Om={all:["customer-type"],lists:()=>[...Om.all,"list"],list:t=>[...Om.lists(),t],details:()=>[...Om.all,"detail"],detail:t=>[...Om.details(),t]},w3=(t,s)=>st({queryKey:Om.list(t),queryFn:()=>APe(t),staleTime:300*1e3,...s}),$Pe=(t,s)=>st({queryKey:Om.detail(t),queryFn:()=>IPe(t),enabled:!!t,staleTime:300*1e3,...s}),zPe=()=>Te({mutationFn:async t=>await OPe(t),invalidateQueries:["customer-type"],loadingMessage:"Creating customer type..."}),qPe=()=>Te({mutationFn:async({id:t,data:s})=>await FPe(t,s),invalidateQueries:["customer-type"],loadingMessage:"Updating customer type..."}),BPe=()=>Te({mutationFn:LPe,invalidateQueries:["customer-type"],loadingMessage:"Deleting customer type..."}),UPe=nt({type_name:ce().required("Type name is required").min(2,"Type name must be at least 2 characters").max(255,"Type name must be less than 255 characters"),is_active:ce().oneOf(["Y","N"]).required("Status is required")}),VPe=({selectedCustomerType:t,setSelectedCustomerType:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),m.resetForm()},o=zPe(),l=qPe(),{data:c}=$Pe(t?.id||0,{enabled:n&&!!t?.id}),m=pt({initialValues:{type_name:t?.type_name||"",is_active:t?.is_active||"Y"},validationSchema:UPe,enableReinitialize:!0,onSubmit:async d=>{try{const p={type_name:d.type_name,is_active:d.is_active};n&&t?await l.mutateAsync({id:t.id,data:p}):await o.mutateAsync(p),i()}catch(p){console.error("Error saving customer type:",p)}}});return yt.useEffect(()=>{c&&n&&m.setValues({type_name:c.type_name||"",is_active:c.is_active||"Y"})},[c,n]),e.jsx(it,{open:a,setOpen:i,title:n?"Edit Customer Type":"Create Customer Type",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:m.handleSubmit,className:"!space-y-5",children:[e.jsxs(b,{className:"!grid !grid-cols-1 !gap-5",children:[e.jsx(oe,{name:"type_name",label:"Type Name",placeholder:"Enter type name",formik:m,required:!0}),e.jsx(b,{children:e.jsx(Es,{name:"is_active",formik:m,required:!0})})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},HPe=nt({file:ps().required("Please select a file to import")}),WPe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:HPe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("customer_type")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"customer_type",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Customer Types",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple customer types. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},YPe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("customer-type"),{data:y,isLoading:N,error:C}=w3({search:t,page:d,limit:x,is_active:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total||0,D=(y?.meta?.page||1)-1,T=BPe(),A=ls(),I=y?.stats,F=I?.total||P.length,z=I?.active||P.filter($=>$.is_active==="Y").length,O=I?.inactive||P.filter($=>$.is_active==="N").length,K=I?.new_this_month||0,W=g.useCallback(()=>{i(null),l(!0)},[]),B=g.useCallback(()=>{m(!0)},[]),q=g.useCallback($=>{i($),l(!0)},[]),H=g.useCallback(async $=>{try{await T.mutateAsync($)}catch(Y){console.error("Error deleting customer type:",Y)}},[T]),Q=g.useCallback($=>{s($),p(1)},[]),V=$=>{p($+1)},M=g.useCallback(async()=>{try{const $={search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"customer_type",filters:$})}catch($){console.error("Error exporting customer types:",$)}},[A,t,a]),R=[{id:"type_name",label:"Type Name",render:($,Y)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:Y.type_name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(br,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:Y.type_name}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:Y.type_code})]})]})},{id:"is_active",label:"Status",render:$=>e.jsx(Re,{icon:$==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:$==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:$==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:($,Y)=>Fe(Y.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:($,Y)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>q(Y),tooltip:`Edit ${Y.type_name}`}),S&&e.jsx(Ht,{onClick:()=>H(Y.id),tooltip:`Delete ${Y.type_name}`,itemName:Y.type_name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Customer Type Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage customer types and their associations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Types",value:F,icon:e.jsx(br,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Types",value:z,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Types",value:O,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:K,icon:e.jsx(Pn,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load customer types. Please try again."}),e.jsx(ct,{data:P,columns:R,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Customer Types...",value:t,onChange:Q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:$=>r($.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[v&&e.jsx(Xt,{title:"Export Customer Types",description:"Are you sure you want to export the current customer types data to Excel? This will include all filtered results.",onConfirm:M,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsxs(e.Fragment,{children:[e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:B,children:"Import"}),e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:W,children:"Create"})]})]})]}):!1,getRowId:$=>$.id,initialOrderBy:"type_name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:V,emptyMessage:t?`No customer types found matching "${t}"`:"No customer types found in the system"}),e.jsx(VPe,{selectedCustomerType:n,setSelectedCustomerType:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(WPe,{drawerOpen:c,setDrawerOpen:m})]})},GPe=async t=>{try{return(await ie.get("/customer-channels",{params:t})).data}catch(s){throw console.error("Error fetching customer channels:",s),new Error(s.response?.data?.message||"Failed to fetch customer channels")}},KPe=async t=>{try{return(await ie.get(`/customer-channels/${t}`)).data.data}catch(s){throw console.error("Error fetching customer channel:",s),new Error(s.response?.data?.message||"Failed to fetch customer channel")}},QPe=async t=>{try{return(await ie.post("/customer-channels",t)).data}catch(s){throw console.error("Error creating customer channel:",s),new Error(s.response?.data?.message||"Failed to create customer channel")}},ZPe=async(t,s)=>{try{return(await ie.put(`/customer-channels/${t}`,s)).data}catch(a){throw console.error("Error updating customer channel:",a),new Error(a.response?.data?.message||"Failed to update customer channel")}},XPe=async t=>{try{await ie.delete(`/customer-channels/${t}`)}catch(s){throw console.error("Error deleting customer channel:",s),new Error(s.response?.data?.message||"Failed to delete customer channel")}},Fm={all:["customer-channel"],lists:()=>[...Fm.all,"list"],list:t=>[...Fm.lists(),t],details:()=>[...Fm.all,"detail"],detail:t=>[...Fm.details(),t]},S3=(t,s)=>st({queryKey:Fm.list(t),queryFn:()=>GPe(t),staleTime:300*1e3,...s}),JPe=(t,s)=>st({queryKey:Fm.detail(t),queryFn:()=>KPe(t),enabled:!!t,staleTime:300*1e3,...s}),eke=()=>Te({mutationFn:async t=>await QPe(t),invalidateQueries:["customer-channel"],loadingMessage:"Creating outlet channel..."}),tke=()=>Te({mutationFn:async({id:t,data:s})=>await ZPe(t,s),invalidateQueries:["customer-channel"],loadingMessage:"Updating outlet channel..."}),ske=()=>Te({mutationFn:XPe,invalidateQueries:["customer-channel"],loadingMessage:"Deleting outlet channel..."}),ake=nt({channel_name:ce().required("Channel name is required").min(2,"Channel name must be at least 2 characters").max(255,"Channel name must be less than 255 characters"),is_active:ce().oneOf(["Y","N"]).required("Status is required")}),rke=({selectedCustomerChannel:t,setSelectedCustomerChannel:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),m.resetForm()},o=eke(),l=tke(),{data:c}=JPe(t?.id||0,{enabled:n&&!!t?.id}),m=pt({initialValues:{channel_name:t?.channel_name||"",is_active:t?.is_active||"Y"},validationSchema:ake,enableReinitialize:!0,onSubmit:async d=>{try{const p={channel_name:d.channel_name,is_active:d.is_active};n&&t?await l.mutateAsync({id:t.id,data:p}):await o.mutateAsync(p),i()}catch(p){console.error("Error saving outlet channel:",p)}}});return yt.useEffect(()=>{c&&n&&m.setValues({channel_name:c.channel_name||"",is_active:c.is_active||"Y"})},[c,n]),e.jsx(it,{open:a,setOpen:i,title:n?"Edit Outlet Channel":"Create Outlet Channel",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:m.handleSubmit,className:"!space-y-4",children:[e.jsx(oe,{name:"channel_name",label:"Channel Name",placeholder:"Enter channel name",formik:m,required:!0}),e.jsx(Es,{name:"is_active",label:"Status",formik:m,required:!0}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2 !mt-6 !pt-4",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},nke=nt({file:ps().required("Please select a file to import")}),ike=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:nke,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("customer_channel")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"customer_channel",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Outlet Channels",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple outlet channels. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},oke=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("customer-channel"),{data:y,isLoading:N,error:C}=S3({search:t,page:d,limit:x,is_active:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total||0,D=(y?.meta?.page||1)-1,T=ske(),A=ls(),I=y?.stats,F=I?.total||P.length,z=I?.active||P.filter($=>$.is_active==="Y").length,O=I?.inactive||P.filter($=>$.is_active==="N").length,K=I?.new_this_month||0,W=g.useCallback(()=>{i(null),l(!0)},[]),B=g.useCallback(()=>{m(!0)},[]),q=g.useCallback($=>{i($),l(!0)},[]),H=g.useCallback(async $=>{try{await T.mutateAsync($)}catch(Y){console.error("Error deleting outlet channel:",Y)}},[T]),Q=g.useCallback($=>{s($),p(1)},[]),V=$=>{p($+1)},M=g.useCallback(async()=>{try{const $={search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"customer_channel",filters:$})}catch($){console.error("Error exporting outlet channels:",$)}},[A,t,a]),R=[{id:"channel_name",label:"Channel Name",render:($,Y)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:Y.channel_name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(br,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:Y.channel_name}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:Y.channel_code})]})]})},{id:"is_active",label:"Status",render:$=>e.jsx(Re,{icon:$==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:$==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:$==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:($,Y)=>Fe(Y.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:($,Y)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>q(Y),tooltip:`Edit ${Y.channel_name}`}),S&&e.jsx(Ht,{onClick:()=>H(Y.id),tooltip:`Delete ${Y.channel_name}`,itemName:Y.channel_name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Outlet Channel Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage outlet channels and their associations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Channels",value:F,icon:e.jsx(br,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Channels",value:z,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Channels",value:O,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:K,icon:e.jsx(Pn,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load outlet channels. Please try again."}),e.jsx(ct,{data:P,columns:R,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Outlet Channels...",value:t,onChange:Q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:$=>r($.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[v&&e.jsx(Xt,{title:"Export Outlet Channels",description:"Are you sure you want to export the current outlet channels data to Excel? This will include all filtered results.",onConfirm:M,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsxs(e.Fragment,{children:[e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:B,children:"Import"}),e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:W,children:"Create"})]})]})]}):!1,getRowId:$=>$.id,initialOrderBy:"channel_name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:V,emptyMessage:t?`No outlet channels found matching "${t}"`:"No outlet channels found in the system"}),e.jsx(rke,{selectedCustomerChannel:n,setSelectedCustomerChannel:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(ike,{drawerOpen:c,setDrawerOpen:m})]})},lke=async t=>{try{return(await ie.get("/customer-complaints",{params:t})).data}catch(s){throw console.error("Error fetching customer complaints:",s),new Error(s.response?.data?.message||"Failed to fetch customer complaints")}},cke=async t=>{try{return(await ie.post("/customer-complaints",t)).data}catch(s){throw console.error("Error creating customer complaint:",s),new Error(s.response?.data?.message||"Failed to create customer complaint")}},dke=async(t,s)=>{try{return(await ie.post("/customer-complaints",{id:t,...s})).data}catch(a){throw console.error("Error updating customer complaint:",a),new Error(a.response?.data?.message||"Failed to update customer complaint")}},uke=async t=>{try{return(await ie.delete(`/customer-complaints/${t}`)).data}catch(s){throw console.error("Error deleting customer complaint:",s),new Error(s.response?.data?.message||"Failed to delete customer complaint")}},Ef={all:["customer-complaints"],lists:()=>[...Ef.all,"list"],list:t=>[...Ef.lists(),t],details:()=>[...Ef.all,"detail"],detail:t=>[...Ef.details(),t]},mke=(t,s)=>st({queryKey:Ef.list(t),queryFn:()=>lke(t),staleTime:300*1e3,...s}),pke=()=>Te({mutationFn:cke,invalidateQueries:["customer-complaints"],loadingMessage:"Creating customer complaint..."}),hke=()=>Te({mutationFn:({id:t,...s})=>dke(t,s),invalidateQueries:["customer-complaints"],loadingMessage:"Updating customer complaint..."}),fke=()=>Te({mutationFn:uke,invalidateQueries:["customer-complaints"],loadingMessage:"Deleting customer complaint..."}),xke=nt({file:ps().required("Please select a file to import")}),gke=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:xke,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("customer_complaints")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"customer_complaints",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Customer Complaints",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple customer complaints. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},bke=nt({customer_id:Ye().required("Customer is required"),complaint_title:ce().required("Complaint title is required").max(255,"Complaint title must be less than 255 characters"),complaint_description:ce().required("Complaint description is required").min(10,"Complaint description must be at least 10 characters"),status:ce().oneOf(["P","R","C"],"Invalid status"),submitted_by:Ye().required("Submitted by is required")}),yke=({selectedComplaint:t,setSelectedComplaint:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=pke(),l=hke(),c=pt({initialValues:{customer_id:t?.customer_id||0,complaint_title:t?.complaint_title||"",complaint_description:t?.complaint_description||"",status:t?.status||"P",submitted_by:t?.submitted_by_user?.id||""},validationSchema:bke,enableReinitialize:!0,onSubmit:async m=>{try{const d={customer_id:m.customer_id,complaint_title:m.complaint_title,complaint_description:m.complaint_description,status:m.status,submitted_by:m.submitted_by};n&&t?await l.mutateAsync({id:t.id,...d}):await o.mutateAsync(d),i()}catch(d){console.error("Error saving customer complaint:",d)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Customer Complaint":"Create Customer Complaint",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-4",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsx(Yn,{name:"customer_id",label:"Customer",formik:c,required:!0,nameToSearch:t?.customer?.name||""}),e.jsx(oe,{name:"complaint_title",label:"Complaint Title",placeholder:"Enter complaint title",formik:c,required:!0}),e.jsx(Dr,{name:"submitted_by",label:"Submitted By",formik:c,required:!0}),e.jsxs(Se,{name:"status",label:"Status",formik:c,required:!0,children:[e.jsx(Z,{value:"P",children:"Pending"}),e.jsx(Z,{value:"R",children:"Resolved"}),e.jsx(Z,{value:"C",children:"Closed"})]}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"complaint_description",label:"Complaint Description",placeholder:"Enter complaint description",formik:c,multiline:!0,rows:4,required:!0})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},vke=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("customer-complaint"),{data:y,isFetching:N,error:C}=mke({page:d,limit:x,search:t,status:a!=="all"?a:void 0},{enabled:v}),P=y?.data||[],E=y?.pagination,D=fke(),T=ls(),A=g.useCallback($=>{s($),p(1)},[]),I=g.useCallback($=>{r($),p(1)},[]),F=$=>{p($+1)},z=g.useCallback(()=>{i(null),l(!0)},[]),O=g.useCallback($=>{i($),l(!0)},[]),K=g.useCallback(async $=>{try{await D.mutateAsync($)}catch(Y){console.error("Error deleting customer complaint:",Y)}},[D]),W=g.useCallback(async()=>{try{const $={search:t,status:a!=="all"?a:void 0};await T.mutateAsync({tableName:"customer_complaints",filters:$})}catch($){console.error("Error exporting customer complaints:",$)}},[T,t,a]),B=$=>{switch($?.toUpperCase()){case"P":return"warning";case"R":return"success";case"C":return"default";default:return"default"}},q=$=>{switch($?.toUpperCase()){case"P":return"Pending";case"R":return"Resolved";case"C":return"Closed";default:return $||"N/A"}},H=[{id:"complaint_title",label:"Title",render:($,Y)=>e.jsx(f,{variant:"body2",className:"!font-medium !text-gray-900",children:Y.complaint_title||"N/A"})},{id:"customer",label:"Customer",render:($,Y)=>e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(ot,{className:"!w-10 !h-10 !rounded !bg-primary-100 !text-primary-500 !text-xs",children:e.jsx(Za,{className:"!w-4 !h-4"})}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-medium !text-gray-900",children:Y.customer?.name||`Customer #${Y.customer_id}`}),Y.customer?.code&&e.jsx(f,{variant:"caption",className:"!text-gray-500",children:Y.customer.code})]})]})},{id:"complaint_description",label:"Complaint Description",render:($,Y)=>e.jsx(Oa,{title:Y.complaint_description,placement:"top",arrow:!0,children:e.jsx(f,{variant:"body2",className:"!text-gray-900 !max-w-md",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:Y.complaint_description})})},{id:"submitted_by_user",label:"Submitted By",render:($,Y)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:Y.submitted_by_user?.name||"N/A"})},{id:"status",label:"Status",render:($,Y)=>e.jsx(Re,{label:q(Y.status),color:B(Y.status),size:"small",variant:"outlined",className:"!capitalize"})},{id:"createdate",label:"Created Date",render:($,Y)=>Fe(String(Y.createdate||""))||"N/A"},..._||S||v?[{id:"actions",label:"Actions",sortable:!1,render:($,Y)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>O(Y),tooltip:`Edit complaint #${Y.id}`}),S&&e.jsx(Ht,{onClick:()=>K(Y.id),tooltip:`Delete complaint #${Y.id}`,itemName:`complaint #${Y.id}`,confirmDelete:!0})]})}]:[]],Q=E?.total_count||P.length,V=P.filter($=>$.status==="P").length,M=P.filter($=>$.status==="R").length,R=P.filter($=>$.status==="C").length;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs("div",{children:[e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:"Customer Complaints"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"View and manage customer complaints"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Complaints",value:Q,icon:e.jsx(bN,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Pending Complaints",value:V,icon:e.jsx(Uc,{className:"w-6 h-6"}),color:"orange",isLoading:N}),e.jsx(fe,{title:"Resolved Complaints",value:M,icon:e.jsx(bN,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Closed Complaints",value:R,icon:e.jsx(bN,{className:"w-6 h-6"}),color:"gray",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load customer complaints. Please try again."}),e.jsx(ct,{data:P,columns:H,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[v&&e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx(Jt,{placeholder:"Search complaints...",value:t,onChange:A,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:$=>I($.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"P",children:"Pending"}),e.jsx(Z,{value:"R",children:"Resolved"}),e.jsx(Z,{value:"C",children:"Closed"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Customer Complaints",description:"Are you sure you want to export the current customer complaints data to Excel? This will include all filtered results.",onConfirm:W,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:T.isPending,children:T.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:z,children:"Create"})]})]}):!1,getRowId:$=>$.id,initialOrderBy:"createdate",loading:N,totalCount:E?.total_count||0,page:d-1,rowsPerPage:x,onPageChange:F,isPermission:v,emptyMessage:t||a!=="all"?"No complaints found matching your filters":"No customer complaints found in the system"}),e.jsx(yke,{selectedComplaint:n,setSelectedComplaint:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(gke,{drawerOpen:c,setDrawerOpen:m})]})},jke=nt({file:ps().required("Please select a file to import")}),Nke=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:jke,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("currencies")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"currencies",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Currencies",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple currencies. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center !space-x-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},_ke=nt({name:ce().required("Currency name is required").min(2,"Currency name must be at least 2 characters").max(100,"Currency name must be less than 100 characters").trim(),code:ce().required("Currency code is required").length(3,"Currency code must be exactly 3 characters").matches(/^[A-Z]{3}$/,"Currency code must be exactly 3 capital letters (e.g., USD, EUR, INR)").trim(),symbol:ce().max(10,"Currency symbol must be less than 10 characters").nullable().optional(),exchange_rate_to_base:Ye().positive("Exchange rate must be positive").max(1e12,"Exchange rate exceeds maximum allowed value").nullable().optional(),is_base:ce().oneOf(["Y","N"],"Must be Y or N").required("Base currency status is required"),is_active:ce().oneOf(["Y","N"],"Must be Y or N").required("Active status is required")}),wke=({selectedCurrency:t,setSelectedCurrency:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=Iye(),l=Oye(),c=pt({initialValues:{name:t?.name||"",code:t?.code||"",symbol:t?.symbol||"",exchange_rate_to_base:t?.exchange_rate_to_base||"",is_base:t?.is_base||"N",is_active:t?.is_active||"Y"},validationSchema:_ke,enableReinitialize:!0,onSubmit:async m=>{try{const d={name:m.name,code:m.code,symbol:m.symbol,exchange_rate_to_base:m.exchange_rate_to_base?Number(m.exchange_rate_to_base):void 0,is_base:m.is_base,is_active:m.is_active};n&&t?await l.mutateAsync({id:t.id,...d}):await o.mutateAsync(d),i()}catch(d){console.error("Error saving currency:",d)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Currency":"Create Currency",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Currency Name",placeholder:"Enter currency name",formik:c,required:!0}),e.jsx(oe,{name:"code",label:"Currency Code",placeholder:"Enter currency code (e.g., USD, EUR, INR)",formik:c,required:!0}),e.jsx(oe,{name:"symbol",label:"Currency Symbol",placeholder:"Enter currency symbol (e.g., $, , )",formik:c}),e.jsx(oe,{name:"exchange_rate_to_base",label:"Exchange Rate to Base",placeholder:"Enter exchange rate",type:"number",formik:c}),e.jsxs(Se,{name:"is_base",label:"Is Base Currency",formik:c,required:!0,children:[e.jsx(Z,{value:"N",children:"No"}),e.jsx(Z,{value:"Y",children:"Yes"})]}),e.jsx(Es,{name:"is_active",formik:c,required:!0,className:"col-span-2"})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:o.isPending||l.isPending,children:o.isPending?"Creating...":l.isPending?"Updating...":n?"Update Currency":"Create Currency"})]})]})})})},Ske=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState("all"),[o,l]=g.useState(null),[c,m]=g.useState(!1),[d,p]=g.useState(!1),[x,j]=g.useState(1),[_]=g.useState(10),{isCreate:S,isUpdate:v,isDelete:y,isRead:N}=Ze("currency"),{data:C,isFetching:P,error:E}=ec({search:t,page:x,limit:_,status:a==="all"?void 0:a==="active"?"active":"inactive"},{enabled:N}),D=C?.data||[],T=C?.meta?.total||0,A=(C?.meta?.page||1)-1,I=Fye(),F=ls(),z=C?.stats?.total_currencies??0,O=C?.stats?.active_currencies??0,K=C?.stats?.inactive_currencies??0,W=C?.stats?.base_currencies??0,B=g.useCallback(()=>{l(null),m(!0)},[]),q=g.useCallback($=>{l($),m(!0)},[]),H=g.useCallback(async $=>{try{await I.mutateAsync($)}catch(Y){console.error("Error deleting currency:",Y)}},[I]),Q=g.useCallback($=>{s($),j(1)},[]),V=$=>{j($+1)},M=g.useCallback(async()=>{try{const $={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await F.mutateAsync({tableName:"currencies",filters:$})}catch($){console.error("Error exporting currencies:",$)}},[F,t,a]),R=[{id:"name",label:"Currency & Code",render:($,Y)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:Y.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Cr,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:Y.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:Y.code})]})]})},{id:"symbol",label:"Symbol",render:$=>e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-mono",children:$||"N/A"})},{id:"exchange_rate_to_base",label:"Exchange Rate",render:$=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:$?Number($).toFixed(2):"N/A"})},{id:"is_base",label:"Base Currency",render:$=>e.jsx(Re,{icon:$==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:$==="Y"?"Yes":"No",size:"small",variant:"outlined",color:$==="Y"?"success":"default"})},{id:"is_active",label:"Status",render:$=>e.jsx(Re,{icon:$==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:$==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:$==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:($,Y)=>Fe(Y.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...v||y||N?[{id:"action",label:"Actions",sortable:!1,render:($,Y)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[v&&e.jsx(ss,{onClick:()=>q(Y),tooltip:`Edit ${Y.name}`}),y&&e.jsx(Ht,{onClick:()=>H(Y.id),tooltip:`Delete ${Y.name}`,itemName:Y.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Currency Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage currency settings, exchange rates, and base currency configuration"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Currencies",value:z,icon:e.jsx(Cr,{className:"w-6 h-6"}),color:"blue",isLoading:P}),e.jsx(fe,{title:"Active Currencies",value:O,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:P}),e.jsx(fe,{title:"Inactive Currencies",value:K,icon:e.jsx(ya,{className:"w-6 h-6"}),color:"red",isLoading:P}),e.jsx(fe,{title:"Base Currencies",value:W,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:P})]}),E&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load currencies. Please try again."}),e.jsx(ct,{data:D,columns:R,actions:N||S?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex items-center flex-wrap gap-2",children:N&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Currencies",value:t,onChange:Q,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(Se,{value:a,onChange:$=>r($.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(Se,{value:n,onChange:$=>i($.target.value),className:"!min-w-40",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Types"}),e.jsx(Z,{value:"base",children:"Base Currency"}),e.jsx(Z,{value:"non-base",children:"Non-Base"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[N&&e.jsx(Xt,{title:"Export Currencies",description:"Are you sure you want to export the current currencies data to Excel? This will include all filtered results.",onConfirm:M,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:F.isPending,children:F.isPending?"Exporting...":"Export"})}),S&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>p(!0),children:"Import"}),S&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:B,children:"Create"})]})]}):!1,getRowId:$=>$.id,initialOrderBy:"name",loading:P,totalCount:T,page:A,rowsPerPage:_,isPermission:N,onPageChange:V,emptyMessage:t?`No currencies found matching "${t}"`:"No currencies found in the system"}),e.jsx(wke,{selectedCurrency:o,setSelectedCurrency:l,drawerOpen:c,setDrawerOpen:m}),e.jsx(Nke,{drawerOpen:d,setDrawerOpen:p})]})},Cke=nt({file:ps().required("Please select a file to import")}),Pke=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:Cke,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("depots")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"depots",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Depots",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple depots. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},kke=nt({parent_id:Ye().required("Company is required").positive("Invalid company"),code:ce().max(20,"Depot code must be less than 20 characters"),name:ce().required("Depot name is required").min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters"),address:ce().max(255,"Address must be less than 255 characters"),city:ce().max(50,"City must be less than 50 characters"),state:ce().max(50,"State must be less than 50 characters"),phone_number:ce().matches(/^[0-9+\-\s()]+$/,"Invalid phone number format").min(8,"Phone number must be at least 8 digits").max(16,"Phone number is too long"),email:ce().email("Invalid email format"),manager_id:Ye().positive("Invalid manager"),supervisor_id:Ye().positive("Invalid supervisor"),coordinator_id:Ye().positive("Invalid coordinator"),latitude:Ye().min(-90,"Invalid latitude").max(90,"Invalid latitude"),longitude:Ye().min(-180,"Invalid longitude").max(180,"Invalid longitude"),is_active:ce().required("Status is required")}),Eke=({selectedDepot:t,setSelectedDepot:s,drawerOpen:a,setDrawerOpen:r,companies:n})=>{const i=!!t,o=()=>{s(null),r(!1),m.resetForm()},l=W5e(),c=Y5e(),m=pt({initialValues:{parent_id:n?.[0]?.id||"",code:t?.code||"",name:t?.name||"",address:t?.address||"",city:t?.city||"",state:t?.state||"",zipcode:t?.zipcode||"",phone_number:t?.phone_number||"",email:t?.email||"",manager_id:t?.manager_id?.toString()||"",supervisor_id:"",coordinator_id:t?.coordinator_id?.toString()||"",latitude:t?.latitude?.toString()||"",longitude:t?.longitude?.toString()||"",is_active:t?.is_active||"Y"},validationSchema:kke,enableReinitialize:!0,onSubmit:async d=>{try{const p={parent_id:Number(d.parent_id),code:d.code||void 0,name:d.name,address:d.address,city:d.city,state:d.state,zipcode:d.zipcode,phone_number:d.phone_number,email:d.email,manager_id:d.manager_id?Number(d.manager_id):void 0,coordinator_id:d.coordinator_id?Number(d.coordinator_id):void 0,latitude:d.latitude?Number(d.latitude):void 0,longitude:d.longitude?Number(d.longitude):void 0,is_active:d.is_active};i&&t?await c.mutateAsync({id:t.id,...p}):await l.mutateAsync(p),o()}catch(p){console.error("Error saving depot:",p)}}});return e.jsx(it,{open:a,setOpen:o,title:i?"Edit Depot":"Create Depot",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:m.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(Se,{name:"parent_id",label:"Company",formik:m,required:!0,disabled:!0,children:n.map(d=>e.jsxs(Z,{value:d.id.toString(),children:[d.name," (",d.code,")"]},d.id))}),e.jsx(oe,{name:"name",label:"Depot Name",placeholder:"Enter depot name",formik:m,required:!0}),e.jsx(oe,{name:"code",label:"Depot Code",placeholder:"Enter depot code",formik:m,helperText:"Leave empty to auto-generate depot code"}),e.jsx(oe,{name:"email",label:"Email",placeholder:"Enter email address",formik:m,type:"email"}),e.jsx(oe,{name:"city",label:"City",placeholder:"Enter city",formik:m}),e.jsx(oe,{name:"state",label:"State",placeholder:"Enter state",formik:m}),e.jsx(oe,{type:"number",name:"zipcode",label:"Zip Code",placeholder:"Enter zip code",formik:m}),e.jsx(oe,{name:"phone_number",label:"Phone Number",placeholder:"Enter phone number",formik:m,type:"number"}),e.jsx(Dr,{name:"manager_id",label:"Manager",formik:m}),e.jsx(Dr,{name:"coordinator_id",label:"Coordinator",formik:m}),e.jsx(oe,{name:"latitude",label:"Latitude",placeholder:"Enter latitude",formik:m,type:"number",slotProps:{htmlInput:{inputMode:"decimal",pattern:"[+-]?[0-9]*\\.?[0-9]*",step:"any",onKeyPress:d=>{!/[0-9.-]/.test(d.key)&&d.key!=="Backspace"&&d.key!=="Delete"&&d.key!=="Tab"&&d.key!=="Enter"&&d.preventDefault()}}}}),e.jsx(oe,{name:"longitude",label:"Longitude",placeholder:"Enter longitude",formik:m,type:"number",slotProps:{htmlInput:{inputMode:"decimal",pattern:"[+-]?[0-9]*\\.?[0-9]*",step:"any",onKeyPress:d=>{!/[0-9.-]/.test(d.key)&&d.key!=="Backspace"&&d.key!=="Delete"&&d.key!=="Tab"&&d.key!=="Enter"&&d.preventDefault()}}}}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"address",label:"Address",placeholder:"Enter depot address",formik:m,multiline:!0,rows:3})}),e.jsx(Es,{name:"is_active",label:"Status",formik:m,required:!0})]}),e.jsxs(b,{className:"!flex !justify-end items-center ",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:o,className:"!mr-3",disabled:l.isPending||c.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:l.isPending||c.isPending,children:[l.isPending||c.isPending?i?"Updating...":"Creating...":i?"Update":"Create"," "]})]})]})})})},Tke=()=>{const t=Fs(),[s,a]=g.useState(""),[r,n]=g.useState("all"),[i,o]=g.useState("all"),[l,c]=g.useState(null),[m,d]=g.useState(!1),[p,x]=g.useState(!1),[j,_]=g.useState(1),[S]=g.useState(10),{isCreate:v,isUpdate:y,isDelete:N,isRead:C}=Ze("depot"),{data:P,isFetching:E,error:D}=_i({search:s,page:j,limit:S,isActive:r==="all"?void 0:r==="active"?"Y":"N",parent_id:i==="all"?void 0:Number(i)},{enabled:C}),{data:T}=QL({page:1,limit:100}),A=P?.data||[],I=T?.data||[],F=P?.meta?.total_count||0,z=(P?.meta?.current_page||1)-1,O=G5e(),K=ls(),W=P?.stats?.total_depots??A.length,B=P?.stats?.active_depots??A.filter(ee=>ee.is_active==="Y").length,q=P?.stats?.inactive_depots??A.filter(ee=>ee.is_active==="N").length,H=P?.stats?.new_depots??0,Q=g.useCallback(()=>{c(null),d(!0)},[]),V=g.useCallback(ee=>{c(ee),d(!0)},[]),M=g.useCallback(ee=>{t(`/masters/depots/${ee.id}`)},[t]),R=g.useCallback(async ee=>{try{await O.mutateAsync(ee)}catch(ne){console.error("Error deleting depot:",ne)}},[O]),$=g.useCallback(ee=>{a(ee),_(1)},[]),Y=ee=>{_(ee+1)},J=g.useCallback(async()=>{try{const ee={search:s,isActive:r==="all"?void 0:r==="active"?"Y":"N",parent_id:i==="all"?void 0:Number(i)};await K.mutateAsync({tableName:"depots",filters:ee})}catch(ee){console.error("Error exporting depots:",ee)}},[K,s,r,i]),te=[{id:"name",label:"Depot & Code",render:(ee,ne)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:ne.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Pn,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:ne.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:ne.code})]})]})},{id:"depot_companies",label:"Company",render:(ee,ne)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:ne.depot_companies?.name||"No Company"})},{id:"contact",label:"Contact",render:(ee,ne)=>e.jsxs(b,{className:"space-y-1",children:[ne.email?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(dp,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:ne.email})]}):e.jsx("span",{className:"italic text-gray-400",children:"No Email"}),ne.phone_number&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Sg,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:ne.phone_number})]})]})},{id:"location",label:"Location",render:(ee,ne)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ta,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:[ne.city,ne.state].filter(Boolean).join(", ")||"No Location"})]})},{id:"is_active",label:"Status",render:ee=>e.jsx(Re,{icon:ee==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:ee==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:ee==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(ee,ne)=>Fe(ne.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...y||N||C?[{id:"action",label:"Actions",sortable:!1,render:(ee,ne)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[C&&e.jsx(Ua,{onClick:()=>M(ne),tooltip:`View ${ne.name}`,icon:e.jsx(kn,{fontSize:"small"}),color:"info"}),y&&e.jsx(ss,{onClick:()=>V(ne),tooltip:`Edit ${ne.name}`}),N&&e.jsx(Ht,{onClick:()=>R(ne.id),tooltip:`Delete ${ne.name}`,itemName:ne.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Depot Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage depot locations, staff assignments, and operational details"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Depots",value:W,icon:e.jsx(Pn,{className:"w-6 h-6"}),color:"blue",isLoading:E}),e.jsx(fe,{title:"Active Depots",value:B,icon:e.jsx(_o,{className:"w-6 h-6"}),color:"green",isLoading:E}),e.jsx(fe,{title:"Inactive Depots",value:q,icon:e.jsx(ya,{className:"w-6 h-6"}),color:"red",isLoading:E}),e.jsx(fe,{title:"New This Month",value:H,icon:e.jsx(aa,{className:"w-6 h-6"}),color:"purple",isLoading:E})]}),D&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load depots. Please try again."}),e.jsx(ct,{data:A,columns:te,actions:C||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Jt,{placeholder:"Search Depots...",value:s,onChange:$,debounceMs:400,showClear:!0,className:"!w-80"}),C&&e.jsxs(e.Fragment,{children:[e.jsxs(Se,{value:r,onChange:ee=>n(ee.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(Se,{value:i,onChange:ee=>o(ee.target.value),className:"!w-68",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Companies"}),I.map(ee=>e.jsx(Z,{value:ee.id.toString(),children:ee.name},ee.id))]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[C&&e.jsx(Xt,{title:"Export Depots",description:"Are you sure you want to export the current depot data to Excel? This will include all filtered results.",onConfirm:J,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:K.isPending,children:K.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>x(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:ee=>ee.id,initialOrderBy:"name",loading:E,totalCount:F,page:z,rowsPerPage:S,isPermission:C,onPageChange:Y,emptyMessage:s?`No depots found matching "${s}"`:"No depots found in the system"}),e.jsx(Eke,{selectedDepot:l,setSelectedDepot:c,drawerOpen:m,setDrawerOpen:d,companies:I}),e.jsx(Pke,{drawerOpen:p,setDrawerOpen:x})]})},Mke=()=>{const{id:t}=Br(),s=Fs(),{data:a,isLoading:r,error:n,isFetching:i}=H5e(Number(t)),o=a?.data,l=()=>{s("/masters/depots")};if(r||i)return e.jsxs("div",{className:"!flex !items-start !gap-4",children:[e.jsxs("div",{className:"!flex-2 !flex !flex-col !gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-3 !right-3",children:e.jsx(X,{variant:"circular",width:10,height:10,className:"!bg-green-200"})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(X,{variant:"circular",width:96,height:96,className:"!mx-auto !border-3 !border-white"})}),e.jsx(X,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(X,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-2 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"30%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"60%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"70%",height:14})]})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4,5,6].map(m=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(X,{variant:"text",width:`${40+m*8}%`,height:12}),e.jsx(X,{variant:"text",width:`${60+m*6}%`,height:16})]},m))})]})]})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(m=>e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(X,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"40%",height:12})]}),e.jsx(X,{variant:"text",width:80,height:16,className:"!text-right"})]})},m))})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:150,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(m=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(X,{variant:"text",width:"40%",height:12,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"80%",height:16})]},m))})]})]})]})]});if(n||!o)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ia,{className:"w-5 h-5"}),e.jsx(f,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load depot details"})]}),e.jsx(f,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:l,className:"mt-4",children:"Back to Depots"})]});const c=({title:m,children:d,icon:p})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[p&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(p,{className:"!text-primary-500"})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:m})]}),d]})]});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${o.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ot,{className:lr("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":o.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":o.is_active!=="Y"}),children:e.jsx(Pn,{className:"!w-8 !h-8"})})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:o.name}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mb-3",children:o.code}),e.jsx("div",{className:"!flex !justify-center !gap-2 !mb-4",children:e.jsx(Re,{icon:o.is_active==="Y"?e.jsx(mt,{fontSize:"small"}):e.jsx(pu,{fontSize:"small"}),label:o.is_active==="Y"?"Active":"Inactive",size:"small",color:o.is_active==="Y"?"success":"error"})}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[o.depot_companies&&e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Company"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:[o.depot_companies.name," (",o.depot_companies.code,")"]})]}),o.createdate&&e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Created Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(typeof o.createdate=="string"?o.createdate:String(o.createdate||""))})]})]})]}),e.jsx(c,{title:"Depot Information",icon:Pn,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Depot Code"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.code})]}),o.depot_companies&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Company"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.depot_companies.name})]}),o.address&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Address"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.address})]}),o.city&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"City"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.city})]}),o.state&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"State"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.state})]}),o.zipcode&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Zip Code"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.zipcode})]}),o.phone_number&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Phone Number"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.phone_number})]}),o.email&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Email"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.email})]}),o.createdate&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Created Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(typeof o.createdate=="string"?o.createdate:String(o.createdate||""))})]}),o.updatedate&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Last Updated"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(typeof o.updatedate=="string"?o.updatedate:String(o.updatedate||""))})]})]})})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsx(c,{title:"Staff Assignment",icon:aa,children:e.jsxs("div",{className:"!space-y-3",children:[o.depots_manager&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(_o,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Manager"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:o.depots_manager.name})]})]}),e.jsx("div",{className:"!text-right",children:e.jsx(f,{variant:"caption",className:"!text-gray-500 !block",children:o.depots_manager.email})})]})}),o.depots_supervisior&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(_o,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Supervisor"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:o.depots_supervisior.name})]})]}),e.jsx("div",{className:"!text-right",children:e.jsx(f,{variant:"caption",className:"!text-gray-500 !block",children:o.depots_supervisior.email})})]})}),o.depots_coodrinator&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(_o,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Coordinator"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:o.depots_coodrinator.name})]})]}),e.jsx("div",{className:"!text-right",children:e.jsx(f,{variant:"caption",className:"!text-gray-500 !block",children:o.depots_coodrinator.email})})]})}),!o.depots_manager&&!o.depots_supervisior&&!o.depots_coodrinator&&e.jsxs("div",{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(aa,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(f,{variant:"body2",children:"No staff assigned to this depot yet."})]})]})}),e.jsx(c,{title:"Location Details",icon:ta,children:e.jsx("div",{className:"!space-y-3",children:o.city||o.state?e.jsxs(e.Fragment,{children:[o.city&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsx("div",{className:"!flex !items-center !justify-between",children:e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"City"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:o.city})]})})}),o.state&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsx("div",{className:"!flex !items-center !justify-between",children:e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"State"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:o.state})]})})}),o.zipcode&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsx("div",{className:"!flex !items-center !justify-between",children:e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Zip Code"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:o.zipcode})]})})}),(o.latitude||o.longitude)&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsx("div",{className:"!flex !items-center !justify-between",children:e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Coordinates"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:o.latitude&&o.longitude?`${o.latitude}, ${o.longitude}`:o.latitude?`Lat: ${o.latitude}`:o.longitude?`Lng: ${o.longitude}`:"Not available"})]})})})]}):e.jsxs("div",{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(ta,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(f,{variant:"body2",children:"No location details available for this depot."})]})})}),(o.email||o.phone_number)&&e.jsx(c,{title:"Contact Information",icon:dp,children:e.jsxs("div",{className:"!space-y-3",children:[o.email&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(dp,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Email"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:o.email})]})]})}),o.phone_number&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Sg,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Phone Number"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:o.phone_number})]})]})})]})})]})]}),e.jsx("div",{className:"!mt-4",children:e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:l,children:"Back to Depots"})})]})},Dke=async t=>{try{return(await ie.get("/kpi-targets",{params:t})).data}catch(s){throw console.error("Error fetching KPI targets:",s),new Error(s.response?.data?.message||"Failed to fetch KPI targets")}},Rke=async t=>{try{return(await ie.post("/kpi-targets",t)).data.data}catch(s){throw console.error("Error creating KPI target:",s),new Error(s.response?.data?.message||"Failed to create KPI target")}},Ake=async(t,s)=>{try{return(await ie.put(`/kpi-targets/${t}`,s)).data.data}catch(a){throw console.error("Error updating KPI target:",a),new Error(a.response?.data?.message||"Failed to update KPI target")}},Ike=async t=>{try{await ie.delete(`/kpi-targets/${t}`)}catch(s){throw console.error("Error deleting KPI target:",s),new Error(s.response?.data?.message||"Failed to delete KPI target")}},Tf={all:["kpi-targets"],lists:()=>[...Tf.all,"list"],list:t=>[...Tf.lists(),t],details:()=>[...Tf.all,"detail"],detail:t=>[...Tf.details(),t]},Oke=(t,s)=>st({queryKey:Tf.list(t),queryFn:()=>Dke(t),staleTime:300*1e3,...s}),Fke=()=>Te({mutationFn:Rke,invalidateQueries:["kpi-targets"],loadingMessage:"Creating KPI target..."}),Lke=()=>Te({mutationFn:({id:t,data:s})=>Ake(t,s),invalidateQueries:["kpi-targets"],loadingMessage:"Updating KPI target..."}),$ke=()=>Te({mutationFn:Ike,invalidateQueries:["kpi-targets"],loadingMessage:"Deleting KPI target..."}),zke=nt({file:ps().required("Please select a file to import")}),qke=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:zke,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("employee_kpi_targets")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"employee_kpi_targets",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import KPI Targets",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple KPI targets. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},Bke=nt({employee_id:Ye().required("Employee is required").positive("Employee must be selected"),kpi_name:ce().required("KPI name is required").min(2,"KPI name must be at least 2 characters").max(100,"KPI name must not exceed 100 characters").trim(),target_value:Ye().required("Target value is required").min(0,"Target value must be non-negative").typeError("Target value must be a valid number"),measure_unit:ce().nullable().max(50,"Measure unit must not exceed 50 characters").trim(),period_start:Ca().required("Period start date is required").typeError("Period start must be a valid date"),period_end:Ca().required("Period end date is required").typeError("Period end must be a valid date").when("period_start",(t,s)=>t&&t[0]?s.min(t[0],"Period end date must be after period start date"):s),is_active:ce().oneOf(["Y","N"],"Status must be Y or N").default("Y")}),Uke=({selectedKpiTarget:t,setSelectedKpiTarget:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,{data:i}=Gn({page:1,limit:1e3,isActive:"Y"}),o=i?.data||[],l=Fke(),c=Lke(),m=()=>{s(null),r(!1),d.resetForm()},d=pt({initialValues:{employee_id:t?.employee_id||0,kpi_name:t?.kpi_name||"",target_value:t?.target_value||"",measure_unit:t?.measure_unit||"",period_start:t?.period_start?t.period_start.split("T")[0]:"",period_end:t?.period_end?t.period_end.split("T")[0]:"",is_active:t?.is_active||"Y"},validationSchema:Bke,enableReinitialize:!0,onSubmit:async p=>{try{const x={...p,employee_id:Number(p.employee_id),target_value:p.target_value.toString(),measure_unit:p.measure_unit};n&&t?await c.mutateAsync({id:t.id,data:x}):await l.mutateAsync(x),m()}catch(x){console.error("Error submitting KPI target:",x)}}});return e.jsx(it,{open:a,setOpen:m,title:n?"Edit KPI Target":"Create KPI Target",size:"large",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:d.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(Se,{name:"employee_id",label:"Employee",formik:d,required:!0,children:o.map(p=>e.jsxs(Z,{value:p.id,children:[p.name," (",p.email,")"]},p.id))}),e.jsx(oe,{name:"kpi_name",label:"KPI Name",placeholder:"Enter KPI name",formik:d,required:!0}),e.jsx(oe,{name:"target_value",label:"Target Value",type:"number",placeholder:"Enter target value",formik:d,required:!0}),e.jsx(oe,{name:"measure_unit",label:"Measure Unit",placeholder:"e.g., USD, %, visits",formik:d}),e.jsx(oe,{name:"period_start",label:"Period Start",type:"date",formik:d,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(oe,{name:"period_end",label:"Period End",type:"date",formik:d,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(Es,{name:"is_active",formik:d,required:!0})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,className:"!mr-3",disabled:l.isPending||c.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:l.isPending||c.isPending,children:l.isPending||c.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},Vke=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("kpi-target"),{data:y,isLoading:N,error:C}=Oke({search:t,page:d,limit:x,is_active:a==="all"?void 0:a},{enabled:v}),P=y?.data||[],E=y?.meta?.total_count||0,D=(y?.meta?.current_page||1)-1,T=y?.stats||{total_targets:0,active_targets:0,inactive_targets:0,targets_this_month:0},A=$ke(),I=ls(),F=T?.total_targets??P.length,z=T?.active_targets??P.filter(R=>R.is_active==="Y").length,O=T?.inactive_targets??P.filter(R=>R.is_active==="N").length,K=T?.targets_this_month??0,W=g.useCallback(()=>{i(null),l(!0)},[]),B=g.useCallback(R=>{i(R),l(!0)},[]),q=g.useCallback(async R=>{try{await A.mutateAsync(R)}catch($){console.error("Error deleting KPI target:",$)}},[A]),H=g.useCallback(R=>{s(R),p(1)},[]),Q=R=>{p(R+1)},V=g.useCallback(async()=>{try{const R={search:t,is_active:a==="all"?void 0:a};await I.mutateAsync({tableName:"employee_kpi_targets",filters:R})}catch(R){console.error("Error exporting KPI targets:",R)}},[I,t,a]),M=[{id:"kpi_info",label:"KPI Info",render:(R,$)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:$.kpi_name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(nl,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:$.kpi_name}),e.jsxs(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:["Target: ",$.target_value," ",$.measure_unit||""]})]})]})},{id:"employee",label:"Employee",render:(R,$)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(Za,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:$.employee?.name||"Unknown Employee"})]})},{id:"period",label:"Period",render:(R,$)=>{const Y=Fe($.period_start),J=Fe($.period_end);return e.jsx(b,{className:"flex flex-col items-start",children:e.jsxs(b,{className:"flex items-center gap-1 mb-0.5",children:[e.jsx(ws,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-xs font-medium text-gray-800",children:[Y," - ",J]})]})})}},{id:"measure_unit",label:"Unit",render:(R,$)=>e.jsx(Re,{label:$.measure_unit||"N/A",size:"small",variant:"outlined"})},{id:"is_active",label:"Status",render:(R,$)=>e.jsx(Re,{icon:$.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:$.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:$.is_active==="Y"?"success":"error"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(R,$)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>B($),tooltip:`Edit ${$.kpi_name}`}),S&&e.jsx(Ht,{onClick:()=>q($.id),tooltip:`Delete ${$.kpi_name}`,itemName:$.kpi_name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"KPI Targets"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage employee KPI targets and performance goals"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Targets",value:F,icon:e.jsx(nl,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Targets",value:z,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Targets",value:O,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"This Month",value:K,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load KPI targets. Please try again."}),e.jsx(ct,{data:P,columns:M,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[v&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Jt,{placeholder:"Search KPI Targets...",value:t,onChange:H,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:R=>r(R.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[v&&e.jsx(Xt,{title:"Export KPI Targets",description:"Are you sure you want to export the current KPI targets data to Excel? This will include all filtered results.",onConfirm:V,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:I.isPending,children:I.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:W,children:"Create"})]})]}):!1,getRowId:R=>R.id,initialOrderBy:"kpi_name",loading:N,totalCount:E,page:D,rowsPerPage:x,onPageChange:Q,isPermission:v,emptyMessage:t?`No KPI targets found matching "${t}"`:"No KPI targets found in the system"}),e.jsx(Uke,{selectedKpiTarget:n,setSelectedKpiTarget:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(qke,{drawerOpen:c,setDrawerOpen:m})]})},Hke=async t=>{try{return(await ie.get("/login-history",{params:t})).data}catch(s){throw console.error("Error fetching login history:",s),new Error(s.response?.data?.message||"Failed to fetch login history")}},Wke=async t=>{try{return(await ie.delete(`/login-history/${t}`)).data}catch(s){throw console.error("Error deleting login history:",s),new Error(s.response?.data?.message||"Failed to delete login history")}},Mf={all:["login-history"],lists:()=>[...Mf.all,"list"],list:t=>[...Mf.lists(),t],details:()=>[...Mf.all,"detail"],detail:t=>[...Mf.details(),t]},Yke=(t,s)=>st({queryKey:Mf.list(t),queryFn:()=>Hke(t),staleTime:300*1e3,...s}),Gke=()=>Te({mutationFn:Wke,invalidateQueries:["login-history"],loadingMessage:"Deleting login history..."}),Kke=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(1),[o]=g.useState(10),{isDelete:l,isRead:c}=Ze("login-history"),{data:m,isLoading:d,error:p}=Yke({search:t,page:n,limit:o,login_status:a==="all"?void 0:a==="active"?"success":"failed"},{enabled:c}),x=m?.data||[],j=m?.meta?.total_count||0,_=(m?.meta?.current_page||1)-1,S=Gke(),v=ls(),y=m?.stats?.total_logins??x.length,N=m?.stats?.successful_logins??x.filter(F=>F.login_status==="success").length,C=m?.stats?.failed_logins??0,P=m?.stats?.today_logins??0,E=g.useCallback(async F=>{try{await S.mutateAsync(F)}catch(z){console.error("Error deleting login history:",z)}},[S]),D=g.useCallback(F=>{s(F),i(1)},[]),T=F=>{i(F+1)},A=g.useCallback(async()=>{try{const F={search:t,login_status:a==="all"?void 0:a==="active"?"success":"failed"};await v.mutateAsync({tableName:"login_history",filters:F})}catch(F){console.error("Error exporting login history:",F)}},[v,t,a]),I=[{id:"user",label:"User",sortable:!1,render:(F,z)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:z.user?.name,className:"!rounded !bg-primary-100 !text-primary-500",children:z.user?.name?.charAt(0)||"U"}),e.jsxs(b,{className:"!max-w-xs",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:z.user?.name||"Unknown User"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:z.user?.email||`ID: ${z.user_id}`})]})]})},{id:"login_time",label:"Login Time",sortable:!0,render:F=>e.jsx(f,{variant:"body2",children:F?Xc(F):"N/A"})},{id:"ip_address",label:"IP Address",sortable:!0,render:F=>e.jsx(f,{variant:"body2",className:"font-mono text-sm",children:F?.replace(/^::ffff:/,"")||"N/A"})},{id:"device_info",label:"Device",sortable:!1,render:F=>e.jsx(Oa,{title:F||"N/A",placement:"top",arrow:!0,children:e.jsx(f,{variant:"body2",className:"max-w-[200px] truncate text-gray-600",children:F||"N/A"})})},{id:"login_status",label:"Login Status",sortable:!0,render:F=>e.jsx(Re,{icon:F==="success"?e.jsx(mt,{}):e.jsx(St,{}),label:F==="success"?"Success":"Failed",size:"small",variant:"outlined",color:F==="success"?"success":"error"})},{id:"failure_reason",label:"Failure Reason",sortable:!1,render:F=>e.jsx(f,{variant:"body2",className:"text-gray-600",children:F||"N/A"})},...l||c?[{id:"action",label:"Action",sortable:!1,render:(F,z)=>e.jsx("div",{className:"!flex !gap-2 !items-center",children:l&&e.jsx(Ht,{onClick:()=>E(z.id),tooltip:"Delete login history",itemName:"login history",confirmDelete:!0})})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Login History"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Monitor login activities across your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Logins",value:y,icon:e.jsx(Z4,{className:"w-6 h-6"}),color:"blue",isLoading:d}),e.jsx(fe,{title:"Successful",value:N,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:d}),e.jsx(fe,{title:"Failed",value:C,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:d}),e.jsx(fe,{title:"Today's Logins",value:P,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:d})]}),p&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load login history. Please try again."}),e.jsx(ct,{data:x,columns:I,actions:c?e.jsxs("div",{className:"flex justify-between gap-3 items-center flex-wrap",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(Jt,{placeholder:"Search by IP, device, OS, or user...",value:t,onChange:D,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:F=>r(F.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Successful"}),e.jsx(Z,{value:"inactive",children:"Failed"})]})]}),e.jsx("div",{className:"flex gap-2 items-center",children:e.jsx(Xt,{title:"Export Login History",description:"Are you sure you want to export the current login history data to Excel? This will include all filtered results.",onConfirm:A,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:v.isPending,children:v.isPending?"Exporting...":"Export"})})})]}):!1,getRowId:F=>F.id,initialOrderBy:"login_time",loading:d,totalCount:j,page:_,rowsPerPage:o,onPageChange:T,isPermission:c,emptyMessage:t?`No login history found matching "${t}"`:"No login history found in the system"})]})},Qke=async t=>{try{return(await ie.get("/routes",{params:t})).data}catch(s){throw s}},Zke=async t=>{try{return(await ie.get(`/routes/${t}`)).data}catch(s){throw s}},Xke=async t=>(await ie.post("/routes",t)).data,Jke=async(t,s)=>(await ie.put(`/routes/${t}`,s)).data,eEe=async(t,s)=>(await ie({method:"DELETE",url:`/routes/${t}`,data:{force:s||void 0}})).data,tEe=async t=>(await ie.get("/route-assignments",{params:t})).data,sEe=async t=>(await ie.get(`/route-assignments/${t}`)).data,aEe=async(t,s)=>(await ie.post(`/route-assignments/${t}`,{route_ids:s})).data,Wo={all:["routes"],lists:()=>[...Wo.all,"list"],list:t=>[...Wo.lists(),t],details:()=>[...Wo.all,"detail"],detail:t=>[...Wo.details(),t]},Lc={all:["route-assignments"],lists:()=>[...Lc.all,"list"],list:t=>[...Lc.lists(),t],details:()=>[...Lc.all,"detail"],detail:t=>[...Lc.details(),t]},Tu=(t,s)=>st({queryKey:Wo.list(t||{}),queryFn:()=>Qke(t),staleTime:300*1e3,...s}),rEe=t=>st({queryKey:Wo.detail(t),queryFn:()=>Zke(t),enabled:!!t,staleTime:300*1e3}),nEe=t=>{const s=is();return Te({mutationFn:Xke,loadingMessage:"Creating route...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Wo.lists()})},onError:t?.onError})},iEe=t=>{const s=is();return Te({mutationFn:({id:a,...r})=>Jke(a,r),loadingMessage:"Updating route...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Wo.lists()}),s.invalidateQueries({queryKey:Wo.detail(r.id)})},onError:t?.onError})},oEe=t=>{const s=is();return Te({mutationFn:({id:a,force:r})=>eEe(a,r),loadingMessage:"Deleting route...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Wo.lists()})},onError:t?.onError})},lEe=(t,s)=>st({queryKey:Lc.list(t||{}),queryFn:()=>tEe(t),staleTime:300*1e3,...s}),cEe=t=>st({queryKey:Lc.detail(t),queryFn:()=>sEe(t),enabled:!!t,staleTime:300*1e3}),ZL=(t,s)=>{const a=is();return Te({mutationFn:r=>aEe(t,r),loadingMessage:"Updating route assignments...",onSuccess:(r,n)=>{a.invalidateQueries({queryKey:Lc.lists()}),a.invalidateQueries({queryKey:Lc.detail(t)})},onError:s?.onError})},dEe=async t=>{try{return(await ie.get("/zones",{params:t})).data}catch(s){throw console.error("Error fetching zones:",s),new Error(s.response?.data?.message||"Failed to fetch zones")}},uEe=async t=>{try{return(await ie.post("/zones",t)).data}catch(s){throw console.error("Error creating zone:",s),new Error(s.response?.data?.message||"Failed to create zone")}},mEe=async(t,s)=>{try{return(await ie.put(`/zones/${t}`,s)).data}catch(a){throw console.error("Error updating zone:",a),new Error(a.response?.data?.message||"Failed to update zone")}},pEe=async t=>{try{return(await ie.delete(`/zones/${t}`)).data}catch(s){throw console.error("Error deleting zone:",s),new Error(s.response?.data?.message||"Failed to delete zone")}},hEe=async t=>{try{return(await ie.get("/zone/supervisors",{params:t?{search:t}:{}})).data}catch(s){throw console.error("Error fetching supervisors:",s),new Error(s.response?.data?.message||"Failed to fetch supervisors")}},Ui={all:["zones"],lists:()=>[...Ui.all,"list"],list:t=>[...Ui.lists(),t],details:()=>[...Ui.all,"detail"],detail:t=>[...Ui.details(),t],supervisors:()=>[...Ui.all,"supervisors"],supervisor:t=>[...Ui.supervisors(),t]},ul=(t,s)=>st({queryKey:Ui.list(t||{}),queryFn:()=>dEe(t),staleTime:300*1e3,...s}),fEe=t=>st({queryKey:Ui.supervisor(""),queryFn:()=>hEe(t),staleTime:600*1e3}),xEe=t=>{const s=is();return Te({mutationFn:uEe,loadingMessage:"Creating zone...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Ui.lists()})},onError:t?.onError})},gEe=t=>{const s=is();return Te({mutationFn:({id:a,...r})=>mEe(a,r),loadingMessage:"Updating zone...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Ui.lists()}),s.invalidateQueries({queryKey:Ui.detail(r.id)})},onError:t?.onError})},bEe=t=>{const s=is();return Te({mutationFn:pEe,loadingMessage:"Deleting zone...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Ui.lists()})},onError:t?.onError})},yEe=nt({file:ps().required("Please select a file to import")}),vEe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:yEe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("customers")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"customers",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Customers",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple customers. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successfully Imported"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-2",children:"Errors Found:"}),e.jsx(b,{className:"!max-h-40 !overflow-y-auto !bg-red-50 !p-3 !rounded-lg",children:n.errors.map((y,N)=>e.jsx(f,{variant:"caption",className:"!text-red-700 !block !mb-1",children:y},N))})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),a&&o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import"}),n&&o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,className:"!bg-green-600 hover:!bg-green-700",children:"Done"})]})]})})})},jEe=nt().shape({name:ce().required("Outlet name is required").min(2,"Outlet name must be at least 2 characters").max(100,"Outlet name must be at most 100 characters"),depot_id:ce().required("Depot is required").matches(/^\d+$/,"Depot must be a valid number"),zones_id:ce().nullable(),type:ce().nullable(),contact_person:ce().max(100,"Contact person name must be at most 100 characters").nullable(),phone_number:ce().matches(/^[\+]?[1-9][\d]{0,15}$/,"Invalid phone number format").nullable(),email:ce().email("Invalid email format").nullable(),address:ce().max(500,"Address must be at most 500 characters").nullable(),city:ce().max(100,"City must be at most 100 characters").nullable(),state:ce().max(100,"State must be at most 100 characters").nullable(),zipcode:ce().max(20,"Zipcode must be at most 20 characters").nullable(),latitude:ce().matches(/^-?([1-8]?[1-9]|[1-9]0)\.{1}\d{1,6}$/,"Invalid latitude format").nullable(),longitude:ce().matches(/^-?([1]?[1-7][1-9]|[1]?[1-8][0]|[1-9]?[0-9])\.{1}\d{1,6}$/,"Invalid longitude format").nullable(),credit_limit:ce().matches(/^\d+(\.\d{1,2})?$/,"Invalid credit limit format").nullable(),outstanding_amount:ce().matches(/^\d+(\.\d{1,2})?$/,"Invalid outstanding amount format").nullable(),route_id:ce().nullable(),salesperson_id:ce().nullable(),last_visit_date:ce().nullable(),is_active:ce().oneOf(["Y","N"],"Status must be Y or N").required("Status is required")}),NEe=({selectedOutlet:t,setSelectedOutlet:s,drawerOpen:a,setDrawerOpen:r,routes:n,zones:i})=>{const o=!!t,l=()=>{s(null),r(!1),_.resetForm()},c=F5e(),m=L5e(),{data:d}=w3({limit:1e3,is_active:"Y"}),{data:p}=S3({limit:1e3,is_active:"Y"}),x=d?.data||[],j=p?.data||[],_=pt({initialValues:{name:t?.name||"",code:t?.code||"",depot_id:t?.depot_id?.toString()||"",zones_id:t?.zones_id?.toString()||"",customer_type_id:t?.customer_type_id?.toString()||"",customer_channel_id:t?.customer_channel_id?.toString()||"",type:t?.type||"Retail",internal_code_one:t?.internal_code_one||"",internal_code_two:t?.internal_code_two||"",contact_person:t?.contact_person||"",phone_number:t?.phone_number||"",email:t?.email||"",address:t?.address||"",city:t?.city||"",state:t?.state||"",zipcode:t?.zipcode||"",latitude:t?.latitude||"",longitude:t?.longitude||"",credit_limit:t?.credit_limit||"",outstanding_amount:t?.outstanding_amount||"0",route_id:t?.route_id?.toString()||"",salesperson_id:t?.salesperson_id?.toString()||"",nfc_tag_code:t?.nfc_tag_code||"",last_visit_date:t?.last_visit_date?t.last_visit_date.split("T")[0]:"",is_active:t?.is_active||"Y"},validationSchema:jEe,enableReinitialize:!0,onSubmit:async S=>{try{const v={name:S.name,code:S.code,depot_id:S.depot_id?Number(S.depot_id):void 0,zones_id:S.zones_id?Number(S.zones_id):void 0,customer_type_id:S.customer_type_id?Number(S.customer_type_id):void 0,customer_channel_id:S.customer_channel_id?Number(S.customer_channel_id):void 0,type:S.type,internal_code_one:S.internal_code_one,internal_code_two:S.internal_code_two,contact_person:S.contact_person,phone_number:S.phone_number,email:S.email,address:S.address,city:S.city,state:S.state,zipcode:S.zipcode,latitude:S.latitude,longitude:S.longitude,credit_limit:S.credit_limit,outstanding_amount:S.outstanding_amount||"0",route_id:S.route_id?Number(S.route_id):void 0,salesperson_id:S.salesperson_id?Number(S.salesperson_id):void 0,nfc_tag_code:S.nfc_tag_code,last_visit_date:S.last_visit_date?new Date(S.last_visit_date).toISOString():void 0,is_active:S.is_active};o&&t?await m.mutateAsync({id:t.id,...v}):await c.mutateAsync(v),l()}catch(v){console.log("Error saving customer:",v)}}});return e.jsx(it,{open:a,setOpen:l,title:o?"Edit Outlet":"Create Outlet",children:e.jsx(b,{className:"!p-4",children:e.jsxs("form",{onSubmit:_.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Outlet Name",placeholder:"Enter outlet name",formik:_,required:!0}),e.jsx(oe,{name:"code",label:"Outlet Code",placeholder:"Enter outlet code",helperText:"Leave empty to auto-generate outlet code",formik:_}),e.jsx(Uw,{name:"depot_id",label:"Depot",formik:_,required:!0}),e.jsx(Se,{name:"zones_id",label:"Zone",formik:_,children:i.map(S=>e.jsx(Z,{value:S.id.toString(),children:S.name},S.id))}),e.jsx(Se,{name:"customer_type_id",label:"Customer Type",formik:_,children:x.map(S=>e.jsx(Z,{value:S.id.toString(),children:S.type_name},S.id))}),e.jsx(Se,{name:"customer_channel_id",label:"Customer Channel",formik:_,children:j.map(S=>e.jsx(Z,{value:S.id.toString(),children:S.channel_name},S.id))}),e.jsx(oe,{name:"contact_person",label:"Contact Person",placeholder:"Enter contact person name",formik:_}),e.jsx(oe,{name:"phone_number",label:"Phone Number",placeholder:"Enter phone number",formik:_}),e.jsx(oe,{name:"email",label:"Email",type:"email",placeholder:"Enter email address",formik:_}),e.jsx(oe,{name:"internal_code_one",label:"Internal Code One",placeholder:"Enter internal code one",formik:_}),e.jsx(oe,{name:"internal_code_two",label:"Internal Code Two",placeholder:"Enter internal code two",formik:_}),e.jsx(Se,{name:"route_id",label:"Route",formik:_,children:n.map(S=>e.jsxs(Z,{value:S.id.toString(),children:[S.name," (",S.code,")"]},S.id))}),e.jsx(Dr,{name:"salesperson_id",label:"Sales Person",formik:_}),e.jsx(oe,{name:"city",label:"City",placeholder:"Enter city",formik:_}),e.jsx(oe,{name:"state",label:"State",placeholder:"Enter state",formik:_}),e.jsx(oe,{name:"zipcode",label:"Zip Code",placeholder:"Enter zip code",formik:_}),e.jsx(oe,{name:"latitude",label:"Latitude",placeholder:"Enter latitude",formik:_}),e.jsx(oe,{name:"longitude",label:"Longitude",placeholder:"Enter longitude",formik:_}),e.jsx(oe,{name:"credit_limit",label:"Credit Limit",placeholder:"Enter credit limit",formik:_}),e.jsx(oe,{name:"outstanding_amount",label:"Outstanding Amount",placeholder:"Enter outstanding amount",formik:_}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(Es,{name:"is_active",formik:_,required:!0})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"address",label:"Address",placeholder:"Enter full address",formik:_,multiline:!0,rows:3})})]}),e.jsxs(b,{className:"!flex !justify-end items-center !gap-4",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:l,disabled:c.isPending||m.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:c.isPending||m.isPending,children:c.isPending?"Creating...":m.isPending?"Updating...":o?"Update":"Create"})]})]})})})},_Ee=["Retail","Wholesale","Corporate","Industrial","Healthcare","Automotive","Restaurant","Service","Manufacturing","Distribution"],wEe=t=>{switch((t||"").toLowerCase()){case"retail":return"primary";case"wholesale":return"success";case"corporate":return"warning";case"industrial":return"default";case"healthcare":return"info";case"automotive":return"error";case"restaurant":return"warning";case"service":return"secondary";case"manufacturing":return"info";case"distribution":return"success";default:return"default"}},XL=t=>{switch((t||"").toLowerCase()){case"retail":return e.jsx(ky,{className:"w-4 h-4"});case"wholesale":return e.jsx(aa,{className:"w-4 h-4"});case"corporate":return e.jsx(vs,{className:"w-4 h-4"});case"industrial":return e.jsx(vs,{className:"w-4 h-4"});case"healthcare":return e.jsx(aa,{className:"w-4 h-4"});case"automotive":return e.jsx(vs,{className:"w-4 h-4"});case"restaurant":return e.jsx(aa,{className:"w-4 h-4"});case"service":return e.jsx(vs,{className:"w-4 h-4"});case"manufacturing":return e.jsx(vs,{className:"w-4 h-4"});case"distribution":return e.jsx(vs,{className:"w-4 h-4"});default:return e.jsx(ky,{className:"w-4 h-4"})}},SEe=()=>{const t=Fs(),[s,a]=g.useState(""),[r,n]=g.useState("all"),[i,o]=g.useState("all"),[l,c]=g.useState(null),[m,d]=g.useState(!1),[p,x]=g.useState(!1),[j,_]=g.useState(1),[S]=g.useState(10),{isCreate:v,isUpdate:y,isDelete:N,isRead:C}=Ze("outlet"),{data:P}=ku(),{data:E}=ec({limit:1e3}),T=P?.data?.currency_id||"",{data:A,isFetching:I,error:F}=$p({search:s,page:j,limit:S,isActive:r==="all"?void 0:r==="active"?"Y":"N",type:i==="all"?void 0:i},{enabled:C}),{data:z}=Tu({page:1,limit:100,status:"active"}),{data:O}=ul({page:1,limit:100,isActive:"Y"}),K=A?.data||[],W=z?.data||[],B=O?.data||[],q=A?.meta?.total||0,H=(A?.meta?.page||1)-1,Q=$5e(),V=ls(),M=A?.stats?.total_customers??0,R=A?.stats?.active_customers??0,$=A?.stats?.total_credit_limit??0,Y=A?.stats?.total_outstanding_amount??0,J=g.useCallback(()=>{c(null),d(!0)},[]),te=g.useCallback(le=>{c(le),d(!0)},[]),ee=g.useCallback(async le=>{try{await Q.mutateAsync(le)}catch(me){console.error("Error deleting outlet:",me)}},[Q]),ne=g.useCallback(le=>{a(le),_(1)},[]),he=g.useCallback(async()=>{try{const le={search:s,isActive:r==="all"?void 0:r==="active"?"Y":"N",type:i==="all"?void 0:i};await V.mutateAsync({tableName:"customers",filters:le})}catch(le){console.error("Error exporting customers:",le)}},[V,s,r,i]),de=le=>{_(le+1)},ae=le=>(E?.data||[]).find(Ce=>Ce.id===Number(le))?.code||"USD",xe=le=>{if(!le)return"N/A";const me=ae(T);return new Intl.NumberFormat("en-US",{style:"currency",currency:me}).format(parseFloat(le))},ge=[{id:"name",label:"Outlet Name",render:(le,me)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",onClick:()=>t(`/masters/outlets/${me.id}`),children:[e.jsx(ot,{alt:me.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(ky,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:me.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:me.code})]})]})},{id:"customer_type.type_name",label:"Outlet Type",render:(le,me)=>e.jsx(Re,{icon:XL(me.customer_type?.type_name||""),label:me.customer_type?.type_name||"N/A",size:"small",variant:"outlined",className:"!capitalize !px-1",color:wEe(me.customer_type?.type_name||"")})},{id:"customer_channel.channel_name",label:"Outlet Channel",render:(le,me)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:me.customer_channel?.channel_name||"N/A"})},{id:"email",label:"Email",render:(le,me)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:me.email||e.jsx("span",{className:"!text-gray-500 !text-xs italic",children:"No Email"})})},{id:"row.city",label:"Location",render:(le,me)=>e.jsx(b,{children:e.jsxs(b,{className:"flex items-center text-gray-900",children:[e.jsx(ta,{className:"w-4 h-4 text-gray-400 mr-2"}),me.city&&me.state&&me.zipcode?`${me.city}${me.state?`, ${me.state}`:""}${me.zipcode?`, ${me.zipcode}`:""}`:me.city?me.city:me.state?me.state:me.zipcode?me.zipcode:"N/A"]})})},{id:"customer_routes.name",label:"Route",render:(le,me)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:me.customer_routes?.name||e.jsx("span",{className:"!text-gray-500 !text-xs italic",children:"No Route"})})},{id:"customer_users.name",label:"Salesperson",render:(le,me)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:me.customer_users?.name||e.jsx("span",{className:"!text-gray-500 !text-xs italic",children:"No Salesperson"})})},{id:"credit_limit",label:"Credit Limit",render:(le,me)=>e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:xe(me.credit_limit??"0")})},{id:"outstanding_amount",label:"Outstanding",render:(le,me)=>e.jsx(f,{variant:"body2",className:"!text-red-600 !font-medium",children:xe(me.outstanding_amount)})},{id:"is_active",label:"Status",render:le=>e.jsx(Re,{icon:le==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:le==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:le==="Y"?"success":"error"})},...y||N||C?[{id:"action",label:"Actions",sortable:!1,render:(le,me)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[y&&e.jsx(ss,{onClick:()=>te(me),tooltip:`Edit ${me.name}`}),N&&e.jsx(Ht,{onClick:()=>ee(me.id),tooltip:`Delete ${me.name}`,itemName:me.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Outlets Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage customer outlets, distributors, retailers, and wholesalers"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Outlets",value:M,icon:e.jsx(ky,{className:"w-6 h-6"}),color:"blue",isLoading:I}),e.jsx(fe,{title:"Active Outlets",value:R,icon:e.jsx(_o,{className:"w-6 h-6"}),color:"green",isLoading:I}),e.jsx(fe,{title:"Total Credit Limit",value:xe($.toString()),icon:e.jsx(Mp,{className:"w-6 h-6"}),color:"purple",isLoading:I}),e.jsx(fe,{title:"Outstanding Amount",value:xe(Y.toString()),icon:e.jsx(Uc,{className:"w-6 h-6"}),color:"red",isLoading:I})]}),F&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load outlets. Please try again."}),e.jsx(ct,{data:K,columns:ge,actions:C||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex items-center flex-wrap gap-2",children:C&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Outlets",value:s,onChange:ne,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(Se,{value:r,onChange:le=>n(le.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(Se,{value:i,onChange:le=>o(le.target.value),className:"!min-w-40",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Types"}),_Ee.map(le=>e.jsx(Z,{value:le,children:le},le))]})]})}),v&&e.jsxs("div",{className:"flex items-center gap-2",children:[C&&e.jsx(Xt,{title:"Export Customers",description:"Are you sure you want to export the current customers data to Excel? This will include all filtered results.",onConfirm:he,confirmText:"Export",cancelText:"Cancel",children:e.jsx(G,{variant:"outlined",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(Nt,{}),disabled:V.isPending,children:V.isPending?"Exporting...":"Export"})}),C&&e.jsx(G,{variant:"outlined",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(fs,{}),onClick:()=>x(!0),children:"Import"}),e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:J,children:"Create"})]})]}):!1,getRowId:le=>le.id,initialOrderBy:"name",loading:I,totalCount:q,page:H,rowsPerPage:S,isPermission:C,onPageChange:de,emptyMessage:s?`No outlets found matching "${s}"`:"No outlets found in the system"}),e.jsx(NEe,{selectedOutlet:l,setSelectedOutlet:c,drawerOpen:m,setDrawerOpen:d,routes:W,zones:B}),e.jsx(vEe,{drawerOpen:p,setDrawerOpen:x})]})};function Nm(t){const{children:s,value:a,index:r,...n}=t;return e.jsx("div",{role:"tabpanel",hidden:a!==r,id:`outlet-tabpanel-${r}`,"aria-labelledby":`outlet-tab-${r}`,...n,children:a===r&&e.jsx(b,{children:s})})}const CEe=()=>{const{id:t}=Br(),[s,a]=g.useState(0),{data:r,isLoading:n,error:i}=A5e(Number(t)),o=r?.data,l=o?.customer||o||{},c=o?.documents||[],m=o?.assets||[],d=o?.transactions||[],p=o?.feedbacks||[],x=o?.complaints||[],j=(T,A)=>{a(A)};if(n)return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !items-center !gap-3",children:e.jsxs(b,{className:"!flex-1",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(X,{variant:"text",width:200,height:32}),e.jsx(X,{variant:"rectangular",width:80,height:24,className:"!rounded-full"}),e.jsx(X,{variant:"rectangular",width:100,height:24,className:"!rounded-full"})]}),e.jsx(X,{variant:"text",width:300,height:20,className:"!mt-1"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[1,2,3,4].map(T=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{variant:"text",width:100,height:16}),e.jsx(X,{variant:"text",width:120,height:28,className:"!mt-1"}),e.jsx(X,{variant:"text",width:80,height:16,className:"!mt-2"})]}),e.jsx(X,{variant:"circular",width:48,height:48})]})},T))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx(X,{variant:"text",width:150,height:24,className:"!mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(T=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(X,{variant:"circular",width:16,height:16}),e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{variant:"text",width:80,height:16}),e.jsx(X,{variant:"text",width:120,height:20,className:"!mt-1"})]})]},T))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx(X,{variant:"text",width:150,height:24,className:"!mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(T=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(X,{variant:"circular",width:16,height:16}),e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{variant:"text",width:80,height:16}),e.jsx(X,{variant:"text",width:120,height:20,className:"!mt-1"})]})]},T))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx(b,{children:e.jsxs(jo,{value:0,children:[e.jsx(Cs,{icon:e.jsx(ow,{}),label:"Assets (0)",iconPosition:"start",className:"!py-0 !min-h-14",disabled:!0}),e.jsx(Cs,{icon:e.jsx(tx,{}),label:"Asset History (0)",iconPosition:"start",className:"!py-0 !min-h-14",disabled:!0}),e.jsx(Cs,{icon:e.jsx(MT,{}),label:"Transactions (0)",iconPosition:"start",className:"!py-0 !min-h-14",disabled:!0}),e.jsx(Cs,{icon:e.jsx(kT,{}),label:"Feedbacks (0)",iconPosition:"start",className:"!py-0 !min-h-14",disabled:!0}),e.jsx(Cs,{icon:e.jsx(iw,{}),label:"Complaints (0)",iconPosition:"start",className:"!py-0 !min-h-14",disabled:!0}),e.jsx(Cs,{icon:e.jsx(nw,{}),label:"Attachments (0)",iconPosition:"start",className:"!py-0 !min-h-14",disabled:!0})]})}),e.jsxs(b,{className:"p-4",children:[e.jsx(b,{className:"mb-4",children:e.jsx(X,{variant:"rectangular",width:"100%",height:48,className:"!rounded"})}),[1,2,3,4,5].map(T=>e.jsxs(b,{className:"flex items-center gap-4 mb-3",children:[e.jsx(X,{variant:"rectangular",width:40,height:40,className:"!rounded"}),e.jsx(X,{variant:"text",width:150,height:20}),e.jsx(X,{variant:"text",width:120,height:20}),e.jsx(X,{variant:"text",width:100,height:20}),e.jsx(X,{variant:"text",width:100,height:20}),e.jsx(X,{variant:"rectangular",width:80,height:24,className:"!rounded-full"})]},T))]})]})]});if(i||!l)return e.jsx(b,{className:"p-6",children:e.jsx(lt,{severity:"error",children:"Failed to load outlet details. Please try again."})});const _=[{id:"document_type",label:"Document Type",render:(T,A)=>e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"!bg-blue-100 !text-blue-600 !w-8 !h-8",children:e.jsx(ks,{className:"w-4 h-4"})}),e.jsx(f,{variant:"body2",className:"!font-medium",children:A.document_type})]})},{id:"document_number",label:"Document Number",render:T=>e.jsx(f,{variant:"body2",children:T||e.jsx("span",{className:"text-gray-400",children:"N/A"})})},{id:"issue_date",label:"Issue Date",render:T=>e.jsx(f,{variant:"body2",children:T?Fe(T):"-"})},{id:"expiry_date",label:"Expiry Date",render:T=>e.jsx(f,{variant:"body2",children:T?Fe(T):"-"})},{id:"is_verified",label:"Verification Status",render:T=>e.jsx(Re,{icon:T?e.jsx(Qle,{fontSize:"small"}):e.jsx(Pg,{fontSize:"small"}),label:T?"Verified":"Pending",size:"small",color:T?"success":"warning"})},{id:"is_active",label:"Status",render:T=>e.jsx(Re,{icon:T==="Y"?e.jsx(mt,{}):e.jsx(PT,{}),label:T==="Y"?"Active":"Inactive",size:"small",color:T==="Y"?"success":"error"})}],S=[{id:"code",label:"Asset Code",render:(T,A)=>e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"!bg-purple-100 !text-purple-600 !w-8 !h-8",children:e.jsx($t,{className:"w-4 h-4"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!font-medium",children:A.code}),A.asset_types&&e.jsx(f,{variant:"caption",className:"!text-gray-500",children:A.asset_types.name})]})]})},{id:"brand",label:"Brand & Model",render:(T,A)=>e.jsxs(b,{children:[e.jsx(f,{variant:"body2",children:A.brand||e.jsx("span",{className:"text-gray-400",children:"No Brand"})}),A.model&&e.jsx(f,{variant:"caption",className:"!text-gray-500",children:A.model})]})},{id:"serial_number",label:"Serial Number",render:T=>e.jsx(f,{variant:"body2",children:T||e.jsx("span",{className:"text-gray-400",children:"N/A"})})},{id:"capacity",label:"Capacity",render:T=>e.jsx(f,{variant:"body2",children:T||e.jsx("span",{className:"text-gray-400",children:"-"})})},{id:"status",label:"Status",render:T=>e.jsx(Re,{label:T||"working",size:"small",className:"!capitalize",color:T==="working"?"success":"default"})},{id:"install_date",label:"Install Date",render:T=>e.jsx(f,{variant:"body2",children:T?Fe(T):"-"})}],v=[{id:"change_date",label:"Change Date",render:T=>e.jsx(f,{variant:"body2",children:T?Fe(T):"-"})},{id:"change_type",label:"Change Type",render:T=>e.jsx(Re,{label:T||"Update",size:"small",className:"!capitalize"})},{id:"old_status",label:"Old Status",render:T=>e.jsx(f,{variant:"body2",className:"!text-gray-600",children:T||"-"})},{id:"new_status",label:"New Status",render:T=>e.jsx(f,{variant:"body2",className:"!font-medium",children:T||"-"})},{id:"remarks",label:"Remarks",render:T=>e.jsx(f,{variant:"body2",className:"!max-w-xs !truncate",children:T||e.jsx("span",{className:"text-gray-400",children:"No remarks"})})}],y=m.flatMap(T=>(T.customer_assets_history||[]).map(A=>({...A,asset_code:T.code,asset_type:T.asset_types?.name}))),N=[{id:"transaction_date",label:"Date",render:T=>e.jsx(f,{variant:"body2",children:T?Fe(T):"-"})},{id:"transaction_type",label:"Type",render:T=>e.jsx(Re,{label:T||"N/A",size:"small",className:"!capitalize"})},{id:"amount",label:"Amount",render:T=>e.jsx(f,{variant:"body2",className:"!font-medium",children:T?D(T):"-"})},{id:"status",label:"Status",render:T=>e.jsx(Re,{label:T||"Pending",size:"small",className:"!capitalize",color:T==="completed"||T==="paid"?"success":T==="pending"?"warning":"default"})},{id:"description",label:"Description",render:T=>e.jsx(f,{variant:"body2",className:"!max-w-xs !truncate",children:T||e.jsx("span",{className:"text-gray-400",children:"No description"})})}],C=[{id:"feedback_date",label:"Date",render:T=>e.jsx(f,{variant:"body2",children:T?Fe(T):"-"})},{id:"rating",label:"Rating",render:T=>e.jsxs(b,{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(A=>e.jsx(f,{variant:"body2",className:A<=(T||0)?"!text-yellow-500":"!text-gray-300",children:""},A)),T&&e.jsxs(f,{variant:"caption",className:"!text-gray-500 !ml-1",children:["(",T,")"]})]})},{id:"feedback_type",label:"Type",render:T=>e.jsx(Re,{label:T||"General",size:"small",className:"!capitalize"})},{id:"comment",label:"Comment",render:T=>e.jsx(f,{variant:"body2",className:"!max-w-xs !truncate",children:T||e.jsx("span",{className:"text-gray-400",children:"No comment"})})},{id:"status",label:"Status",render:T=>e.jsx(Re,{label:T||"Active",size:"small",className:"!capitalize",color:T==="resolved"?"success":"default"})}],P=[{id:"complaint_date",label:"Date",render:T=>e.jsx(f,{variant:"body2",children:T?Fe(T):"-"})},{id:"complaint_type",label:"Type",render:T=>e.jsx(Re,{label:T||"General",size:"small",className:"!capitalize",color:"error"})},{id:"priority",label:"Priority",render:T=>e.jsx(Re,{label:T||"Medium",size:"small",className:"!capitalize",color:T==="high"||T==="urgent"?"error":T==="medium"?"warning":"default"})},{id:"description",label:"Description",render:T=>e.jsx(f,{variant:"body2",className:"!max-w-xs !truncate",children:T||e.jsx("span",{className:"text-gray-400",children:"No description"})})},{id:"status",label:"Status",render:T=>e.jsx(Re,{label:T||"Open",size:"small",className:"!capitalize",color:T==="resolved"||T==="closed"?"success":T==="in_progress"?"warning":"error"})}],E=T=>{switch((T||"").toLowerCase()){case"retail":return"primary";case"wholesale":return"success";case"corporate":return"warning";case"industrial":return"default";case"healthcare":return"info";case"automotive":return"error";case"restaurant":return"warning";case"service":return"secondary";case"manufacturing":return"info";case"distribution":return"success";default:return"default"}},D=T=>T?new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(parseFloat(T)):"0";return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !items-center !gap-3",children:e.jsxs(b,{className:"!flex-1",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(f,{variant:"h5",className:"!font-bold !text-gray-900",children:l.name}),e.jsx(Re,{icon:l.is_active==="Y"?e.jsx(mt,{}):e.jsx(PT,{}),label:l.is_active==="Y"?"Active":"Inactive",size:"small",color:l.is_active==="Y"?"success":"error"}),l.type&&e.jsx(Re,{icon:XL(l.type||""),label:l.type||"N/A",size:"small",variant:"outlined",className:"!capitalize !px-1",color:E(l.type||"")})]}),e.jsxs(f,{variant:"body2",className:"!text-gray-500 !mt-1",children:["Code: ",l.code,l.short_name&&`  Short: ${l.short_name}`,l.email&&`  ${l.email}`,l.nfc_tag_code&&`  NFC: ${l.nfc_tag_code}`]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Customer Type",value:l.customer_type?.type_name||"N/A",icon:e.jsx(Pn,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Category",value:l.customer_category?.category_name||"N/A",icon:e.jsx(Kle,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"Zone",value:l.customer_zones?.name||"N/A",icon:e.jsx(Ble,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Channel",value:l.customer_channel?.channel_name||"N/A",icon:e.jsx(jA,{className:"w-6 h-6"}),color:"orange"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(X4,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Contact Person"}),e.jsx(f,{variant:"body1",className:"!font-medium",children:l.contact_person||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Wle,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Phone Number"}),e.jsx(f,{variant:"body1",className:"!font-medium",children:l.phone_number||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ta,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Address"}),e.jsx(f,{variant:"body1",className:"!font-medium",children:l.address||"N/A"}),l.city&&e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:[l.city,", ",l.state," ",l.zipcode]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-4",children:"Business Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Mp,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Credit Limit"}),e.jsx(f,{variant:"body1",className:"!font-medium",children:l.credit_limit?D(l.credit_limit):"Not Set"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Vle,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Outstanding Amount"}),e.jsx(f,{variant:"body1",className:"!font-medium",children:l.outstanding_amount?D(l.outstanding_amount):"0"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ws,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Last Visit Date"}),e.jsx(f,{variant:"body1",className:"!font-medium",children:l.last_visit_date?Fe(l.last_visit_date):"No visits yet"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx(b,{children:e.jsxs(jo,{value:s,onChange:j,className:"!min-h-14",children:[e.jsx(Cs,{icon:e.jsx(ow,{}),label:`Assets (${m.length})`,iconPosition:"start",className:"!py-0 !min-h-14",sx:{"& .MuiButtonBase-root":{padding:1}}}),e.jsx(Cs,{icon:e.jsx(tx,{}),label:`Asset History (${y.length})`,iconPosition:"start",className:"!py-0 !min-h-14",sx:{"& .MuiButtonBase-root":{padding:1}}}),e.jsx(Cs,{icon:e.jsx(MT,{}),label:`Transactions (${d.length})`,iconPosition:"start",className:"!py-0 !min-h-14",sx:{"& .MuiButtonBase-root":{padding:1}}}),e.jsx(Cs,{icon:e.jsx(kT,{}),label:`Feedbacks (${p.length})`,iconPosition:"start",className:"!py-0 !min-h-14",sx:{"& .MuiButtonBase-root":{padding:1}}}),e.jsx(Cs,{icon:e.jsx(iw,{}),label:`Complaints (${x.length})`,iconPosition:"start",className:"!py-0 !min-h-14",sx:{"& .MuiButtonBase-root":{padding:1}}}),e.jsx(Cs,{icon:e.jsx(nw,{}),label:`Attachments (${c.length})`,iconPosition:"start",className:"!py-0 !min-h-14",sx:{"& .MuiButtonBase-root":{padding:1}}})]})}),e.jsx(Nm,{value:s,index:0,children:e.jsx(ct,{data:m,columns:S,getRowId:T=>T.id,initialOrderBy:"createdate",emptyMessage:"No assets found for this outlet",pagination:!1})}),e.jsx(Nm,{value:s,index:1,children:e.jsx(ct,{data:y,columns:v,getRowId:T=>T.id,initialOrderBy:"change_date",emptyMessage:"No asset history found",pagination:!1})}),e.jsx(Nm,{value:s,index:2,children:e.jsx(ct,{data:d,columns:N,getRowId:T=>T.id,initialOrderBy:"transaction_date",emptyMessage:"No transactions found for this outlet",pagination:!1})}),e.jsx(Nm,{value:s,index:3,children:e.jsx(ct,{data:p,columns:C,getRowId:T=>T.id,initialOrderBy:"feedback_date",emptyMessage:"No feedbacks found for this outlet",pagination:!1})}),e.jsx(Nm,{value:s,index:4,children:e.jsx(ct,{data:x,columns:P,getRowId:T=>T.id,initialOrderBy:"complaint_date",emptyMessage:"No complaints found for this outlet",pagination:!1})}),e.jsx(Nm,{value:s,index:5,children:e.jsx(ct,{data:c,columns:_,getRowId:T=>T.id,initialOrderBy:"createdate",emptyMessage:"No attachments found for this outlet",pagination:!1})})]})]})},PEe=async t=>{try{return(await ie.get("/customer-groups",{params:t})).data}catch(s){throw s}},kEe=async t=>(await ie.post("/customer-groups",t)).data,EEe=async(t,s)=>(await ie.put(`/customer-groups/${t}`,s)).data,TEe=async t=>(await ie.delete(`/customer-groups/${t}`)).data,Bl={all:["outletGroups"],lists:()=>[...Bl.all,"list"],list:t=>[...Bl.lists(),t],details:()=>[...Bl.all,"detail"],detail:t=>[...Bl.details(),t]},MEe=(t,s)=>st({queryKey:Bl.list(t||{}),queryFn:()=>PEe(t),staleTime:300*1e3,...s}),DEe=t=>{const s=is();return Te({mutationFn:kEe,loadingMessage:"Creating outlet group...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Bl.lists()})},onError:t?.onError})},REe=t=>{const s=is();return Te({mutationFn:({id:a,...r})=>EEe(a,r),loadingMessage:"Updating outlet group...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Bl.lists()}),s.invalidateQueries({queryKey:Bl.detail(r.id)})},onError:t?.onError})},AEe=t=>{const s=is();return Te({mutationFn:TEe,loadingMessage:"Deleting outlet group...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Bl.lists()})},onError:t?.onError})},IEe=nt().shape({name:ce().required("Outlet group name is required").min(2,"Outlet group name must be at least 2 characters").max(255,"Outlet group name must be at most 255 characters"),description:ce().max(500,"Description must be at most 500 characters").nullable(),discount_percentage:Ye().min(0,"Discount percentage must be at least 0").max(100,"Discount percentage must be at most 100").nullable(),credit_terms:Ye().min(0,"Credit terms must be at least 0").integer("Credit terms must be a whole number").nullable(),payment_terms:ce().max(100,"Payment terms must be at most 100 characters").nullable(),price_group:ce().max(50,"Price group must be at most 50 characters").nullable(),is_active:ce().oneOf(["Y","N"],"Status must be Y or N").required("Status is required")}),OEe=({selectedOutletGroup:t,setSelectedOutletGroup:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,[i,o]=g.useState(0),[l,c]=g.useState([]),[m,d]=g.useState([]),[p,x]=g.useState([]),[j,_]=g.useState([]),S=()=>{s(null),r(!1),V.resetForm(),o(0),c([]),d([]),x([]),_([])},v=DEe(),y=REe(),{data:N}=_i({page:1,limit:1e3,isActive:"Y"},{enabled:a}),C=N?.data||[],{data:P}=ul({page:1,limit:1e3,isActive:"Y"},{enabled:a}),E=P?.data||[],{data:D}=Tu({page:1,limit:1e3,status:"active"},{enabled:a}),T=D?.data||[],{data:A}=_3({page:1,limit:1e3,is_active:"Y"},{enabled:a}),I=A?.data||[],{data:F}=$p({page:1,limit:1e3,isActive:"Y"}),z=F?.data||[],O=M=>(R,$)=>{const Y=$.inputValue.toLowerCase();return Y?R.filter(J=>M.some(te=>J[te]?.toLowerCase().includes(Y))):R},K=(M,R,$,Y,J)=>M.map(te=>{const ee=R.find(ne=>$(ne)===te);return ee?e.jsxs(b,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsx(f,{variant:"body2",children:Y(ee)}),e.jsx(Ws,{size:"small",onClick:()=>J(te),children:e.jsx(Lr,{fontSize:"small"})})]},te):null}),W=()=>t?.members?z.filter(M=>t.members?.some(R=>R.customer_id===M.id)):[],B=()=>t?.routes?t.routes.map(M=>M.id):[],q=()=>t?.depots?t.depots.map(M=>M.id):[],H=()=>t?.zones?t.zones.map(M=>M.id):[],Q=()=>t?.customer_categories?t.customer_categories.map(M=>M.id):[],V=pt({initialValues:{name:t?.name||"",description:t?.description||"",discount_percentage:t?.discount_percentage||"",credit_terms:t?.credit_terms||"",payment_terms:t?.payment_terms||"",price_group:t?.price_group||"",is_active:t?.is_active||"Y",selectedCustomers:W(),routes:B(),depots:q(),zones:H(),customer_categories:Q(),customerGroups:t?.members?.map(M=>({customer_id:M.customer_id,is_active:"Y"}))||[]},validationSchema:IEe,enableReinitialize:!0,onSubmit:async M=>{try{const R={name:M.name,description:M.description,discount_percentage:M.discount_percentage?Number(M.discount_percentage):void 0,credit_terms:M.credit_terms?Number(M.credit_terms):void 0,payment_terms:M.payment_terms,price_group:M.price_group,is_active:M.is_active,customerGroups:M.customerGroups,routes:M.routes,depots:M.depots,zones:M.zones,customer_categories:M.customer_categories};n&&t?await y.mutateAsync({id:t.id,...R}):await v.mutateAsync(R),S()}catch(R){console.error("Error saving outlet group:",R)}}});return g.useEffect(()=>{V.values.selectedCustomers&&V.setFieldValue("customerGroups",V.values.selectedCustomers.map(M=>({customer_id:M.id,is_active:"Y"})))},[V.values.selectedCustomers]),g.useEffect(()=>{V.setFieldValue("routes",p)},[p]),g.useEffect(()=>{V.setFieldValue("depots",l)},[l]),g.useEffect(()=>{V.setFieldValue("zones",m)},[m]),g.useEffect(()=>{V.setFieldValue("customer_categories",j)},[j]),g.useEffect(()=>{t&&(x(B()),c(q()),d(H()),_(Q()))},[t]),e.jsx(it,{open:a,setOpen:S,title:n?"Edit Outlet Group":"Create Outlet Group",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:V.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Group Name",placeholder:"Enter outlet group name",formik:V,required:!0}),e.jsx(oe,{name:"discount_percentage",label:"Discount Percentage (%)",type:"number",placeholder:"Enter discount percentage",formik:V}),e.jsx(oe,{name:"credit_terms",label:"Credit Terms (Days)",type:"number",placeholder:"Enter credit terms in days",formik:V}),e.jsx(oe,{name:"payment_terms",label:"Payment Terms",placeholder:"Enter payment terms",formik:V}),e.jsx(oe,{name:"price_group",label:"Price Group",placeholder:"Enter price group",formik:V}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(Es,{name:"is_active",formik:V,required:!0})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter group description",formik:V,multiline:!0,rows:3})}),e.jsxs(b,{className:"md:!col-span-2",children:[e.jsxs(f,{variant:"body2",className:"!mb-2 !font-medium !text-gray-700",children:["Outlets ",e.jsx("span",{children:"*"})]}),e.jsx(b,{className:"!mb-3 !border !border-gray-400/50 !rounded",children:e.jsxs(jo,{value:i,onChange:(M,R)=>o(R),variant:"scrollable",scrollButtons:"auto",className:"!min-h-9.5",children:[e.jsx(Cs,{label:`Depots${l.length?` (${l.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Cs,{label:`Zones${m.length?` (${m.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Cs,{label:`Routes${p.length?` (${p.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Cs,{label:`Category${j.length?` (${j.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Cs,{label:`Outlets${V.values.selectedCustomers?.length?` (${V.values.selectedCustomers.length})`:""}`,className:"!min-h-9.5"})]})}),e.jsxs(b,{className:"!mb-3",children:[i===0&&e.jsx(ir,{multiple:!0,options:C,getOptionLabel:M=>`${M.name} ${M.code?`(${M.code})`:""}`,value:C.filter(M=>l.includes(M.id)),onChange:(M,R)=>{c(R.map($=>$.id))},size:"small",fullWidth:!0,filterOptions:O(["name","code"]),renderInput:M=>e.jsx(Ba,{...M,placeholder:"Search and select Depots...",size:"small"}),renderTags:()=>null}),i===1&&e.jsx(ir,{multiple:!0,options:E,getOptionLabel:M=>M.name||"",value:E.filter(M=>m.includes(M.id)),onChange:(M,R)=>{d(R.map($=>$.id))},size:"small",fullWidth:!0,filterOptions:O(["name"]),renderInput:M=>e.jsx(Ba,{...M,placeholder:"Search and select Zones...",size:"small"}),renderTags:()=>null}),i===2&&e.jsx(ir,{multiple:!0,options:T,getOptionLabel:M=>`${M.name||M.code||`Route ${M.id}`} ${M.code?`(${M.code})`:""}`,value:T.filter(M=>p.includes(M.id)),onChange:(M,R)=>{x(R.map($=>$.id))},size:"small",fullWidth:!0,filterOptions:O(["name","code"]),renderInput:M=>e.jsx(Ba,{...M,placeholder:"Search and select Routes...",size:"small"}),renderTags:()=>null}),i===3&&e.jsx(ir,{multiple:!0,options:I,getOptionLabel:M=>`${M.category_name||""} ${M.category_code?`(${M.category_code})`:""}`,value:I.filter(M=>j.includes(M.id)),onChange:(M,R)=>{_(R.map($=>$.id))},size:"small",fullWidth:!0,filterOptions:O(["category_name","category_code"]),renderInput:M=>e.jsx(Ba,{...M,placeholder:"Search and select Category...",size:"small"}),renderTags:()=>null}),i===4&&e.jsx(ir,{multiple:!0,size:"small",id:"customers-autocomplete",options:z,value:V.values.selectedCustomers,onChange:(M,R)=>{V.setFieldValue("selectedCustomers",R)},getOptionLabel:M=>`${M.name} (${M.code})`,filterOptions:O(["name","code"]),renderInput:M=>e.jsx(Ba,{...M,placeholder:"Search and select Outlets...",size:"small",error:V.touched.customerGroups&&!!V.errors.customerGroups,helperText:V.touched.customerGroups&&typeof V.errors.customerGroups=="string"?V.errors.customerGroups:""}),renderTags:()=>null,renderOption:(M,R)=>e.jsxs(b,{component:"li",...M,children:[e.jsx(ot,{src:"MKX",alt:R.name,className:"!mr-2 !rounded !bg-primary-200 !text-primary-600",children:R.name.slice(0,2).toUpperCase()}),e.jsxs(b,{className:"!flex !flex-col",children:[e.jsx(f,{variant:"body2",className:"!font-medium",children:R.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:R.code})]})]}),isOptionEqualToValue:(M,R)=>M.id===R.id})]}),i===0&&l.length>0||i===1&&m.length>0||i===2&&p.length>0||i===3&&j.length>0||i===4&&(V.values.selectedCustomers?.length||0)>0?e.jsx(b,{className:"!mt-3 !border !border-gray-200 !rounded",children:e.jsxs(b,{className:"!max-h-52 !overflow-y-auto",children:[i===0&&K(l,C,M=>M.id,M=>`${M.name}${M.code?` (${M.code})`:""}`,M=>c(l.filter(R=>R!==M))),i===1&&K(m,E,M=>M.id,M=>M.name,M=>d(m.filter(R=>R!==M))),i===2&&K(p,T,M=>M.id,M=>`${M.name||M.code||`Route ${M.id}`}${M.code?` (${M.code})`:""}`,M=>x(p.filter(R=>R!==M))),i===3&&K(j,I,M=>M.id,M=>`${M.category_name}${M.category_code?` (${M.category_code})`:""}`,M=>_(j.filter(R=>R!==M))),i===4&&K((V.values.selectedCustomers||[]).map(M=>M.id),V.values.selectedCustomers||[],M=>M.id,M=>`${M.name}${M.code?` (${M.code})`:""}`,M=>V.setFieldValue("selectedCustomers",V.values.selectedCustomers.filter(R=>R.id!==M)))]})}):null]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-3 !items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:S,disabled:v.isPending||y.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:v.isPending||y.isPending,children:v.isPending?"Creating...":y.isPending?"Updating...":n?"Update":"Create"})]})]})})})},FEe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(1),[d]=g.useState(10),{isCreate:p,isUpdate:x,isDelete:j,isRead:_}=Ze("outlet-group"),{formatCurrency:S}=Ga(),{data:v,isFetching:y,error:N}=MEe({search:t,page:c,limit:d,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:_}),C=v?.data||[],P=v?.meta?.total||0,E=(v?.meta?.page||1)-1,D=AEe(),T=v?.stats?.total_groups??C.length,A=v?.stats?.active_groups??C.filter(Q=>Q.is_active==="Y").length,I=v?.stats?.inactive_groups??C.filter(Q=>Q.is_active==="N").length,F=Number(v?.stats?.avg_discount)?.toFixed(2)??0,z=g.useCallback(()=>{i(null),l(!0)},[]),O=g.useCallback(Q=>{i(Q),l(!0)},[]),K=g.useCallback(async Q=>{try{await D.mutateAsync(Q)}catch(V){console.error("Error deleting outlet group:",V)}},[D]),W=g.useCallback(Q=>{s(Q),m(1)},[]),B=Q=>{m(Q+1)},q=Q=>Q==null?"N/A":`${S(Number(Q||"0"))}%`,H=[{id:"name",label:"Group Name",render:(Q,V)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:V.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(aa,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:V.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:V.code})]})]})},{id:"description",label:"Description",render:(Q,V)=>e.jsx(f,{variant:"body2",className:"!text-gray-700 !max-w-xs !truncate",children:V.description||"No Description"})},{id:"discount_percentage",label:"Discount %",render:(Q,V)=>e.jsxs(b,{className:"flex items-center",children:[e.jsx(up,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:V.discount_percentage?q(V.discount_percentage):"0"})]})},{id:"credit_terms",label:"Credit Terms",render:(Q,V)=>e.jsxs(b,{className:"flex items-center",children:[e.jsx(ws,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx(f,{variant:"body2",className:"!text-gray-700",children:V.credit_terms?`${V.credit_terms} days`:"N/A"})]})},{id:"payment_terms",label:"Payment Terms",render:(Q,V)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:V.payment_terms||"N/A"})},{id:"price_group",label:"Price Group",render:(Q,V)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:V.price_group||"N/A"})},{id:"members_count",label:"Members",render:(Q,V)=>e.jsxs(b,{className:"flex items-center",children:[e.jsx(aa,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:V.members_count||0})]})},{id:"is_active",label:"Status",render:Q=>e.jsx(Re,{icon:Q==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:Q==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:Q==="Y"?"success":"error"})},...x||j||_?[{id:"action",label:"Actions",sortable:!1,render:(Q,V)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[x&&e.jsx(ss,{onClick:()=>O(V),tooltip:`Edit ${V.name}`}),j&&e.jsx(Ht,{onClick:()=>K(V.id),tooltip:`Delete ${V.name}`,itemName:V.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Outlet Groups Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage outlet groups with pricing, discounts, and credit terms"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Groups",value:T,icon:e.jsx(aa,{className:"w-6 h-6"}),color:"blue",isLoading:y}),e.jsx(fe,{title:"Active Groups",value:A,icon:e.jsx(_o,{className:"w-6 h-6"}),color:"green",isLoading:y}),e.jsx(fe,{title:"Inactive Groups",value:I,icon:e.jsx(aa,{className:"w-6 h-6"}),color:"red",isLoading:y}),e.jsx(fe,{title:"Avg Discount %",value:F,icon:e.jsx(up,{className:"w-6 h-6"}),color:"purple",isLoading:y})]}),N&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load outlet groups. Please try again."}),e.jsx(ct,{data:C,columns:H,actions:_||p?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex items-center flex-wrap gap-2",children:_&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Outlet Groups",value:t,onChange:W,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(Se,{value:a,onChange:Q=>r(Q.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),p&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:z,children:"Create"})]}):!1,getRowId:Q=>Q.id,initialOrderBy:"name",loading:y,totalCount:P,page:E,rowsPerPage:d,isPermission:_,onPageChange:B,emptyMessage:t?`No outlet groups found matching "${t}"`:"No outlet groups found in the system"}),e.jsx(OEe,{selectedOutletGroup:n,setSelectedOutletGroup:i,drawerOpen:o,setDrawerOpen:l})]})},LEe=async t=>{try{return(await ie.get("/price-lists",{params:t})).data}catch(s){throw console.error("Error fetching price lists:",s),new Error(s.response?.data?.message||"Failed to fetch price lists")}},$Ee=async t=>{try{return(await ie.post("/price-lists",t)).data.data}catch(s){throw console.error("Error creating price list:",s),new Error(s.response?.data?.message||"Failed to create price list")}},zEe=async(t,s)=>{try{return(await ie.put(`/price-lists/${t}`,s)).data.data}catch(a){throw console.error("Error updating price list:",a),new Error(a.response?.data?.message||"Failed to update price list")}},qEe=async t=>{try{await ie.delete(`/price-lists/${t}`)}catch(s){throw console.error("Error deleting price list:",s),new Error(s.response?.data?.message||"Failed to delete price list")}},Df={all:["price-lists"],lists:()=>[...Df.all,"list"],list:t=>[...Df.lists(),t],details:()=>[...Df.all,"detail"],detail:t=>[...Df.details(),t]},BEe=(t,s)=>st({queryKey:Df.list(t),queryFn:()=>LEe(t),staleTime:300*1e3,...s}),UEe=()=>Te({mutationFn:$Ee,invalidateQueries:["price-lists"],loadingMessage:"Creating price list..."}),VEe=()=>Te({mutationFn:({id:t,data:s})=>zEe(t,s),invalidateQueries:["price-lists"],loadingMessage:"Updating price list..."}),HEe=()=>Te({mutationFn:qEe,invalidateQueries:["price-lists"],loadingMessage:"Deleting price list..."}),WEe=nt({file:ps().required("Please select a file to import")}),YEe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:WEe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("pricelists")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"pricelists",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Price Lists",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple price lists. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},GEe=nt({product_id:Ye().required("Product is required").positive("Product ID must be positive"),unit_price:Ye().required("Unit price is required").min(0,"Unit price must be non-negative"),uom:ce().nullable().max(50,"UOM must not exceed 50 characters"),discount_percent:Ye().nullable().min(0,"Discount percent must be non-negative").max(100,"Discount percent cannot exceed 100"),effective_from:Ca().nullable().transform((t,s)=>s===""||s===null?null:t),effective_to:Ca().nullable().transform((t,s)=>s===""||s===null?null:t).when("effective_from",(t,s)=>t&&t[0]?s.min(t[0],"Effective to date must be after effective from date"):s),is_active:ce().oneOf(["Y","N"],"Status must be Y or N").default("Y")}),KEe=nt({name:ce().required("Name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters").trim(),description:ce().nullable().max(255,"Description must not exceed 255 characters").trim(),currency_code:ce().nullable().max(10,"Currency code must not exceed 10 characters").trim().uppercase(),valid_from:Ca().nullable().transform((t,s)=>s===""||s===null?null:t),valid_to:Ca().nullable().transform((t,s)=>s===""||s===null?null:t).when("valid_from",(t,s)=>t&&t[0]?s.min(t[0],"Valid to date must be after valid from date"):s),is_active:ce().oneOf(["Y","N"],"Status must be Y or N").default("Y"),priceListItems:dl().of(GEe).nullable()}),QEe=async t=>{try{return(await ie.get("/products",{params:t})).data}catch(s){throw s}},ZEe=async t=>{try{return(await ie.get(`/products/${t}`)).data}catch(s){throw s}},XEe=async t=>(await ie.post("/products",t)).data,JEe=async(t,s)=>(await ie.put(`/products/${t}`,s)).data,eTe=async t=>(await ie.delete(`/products/${t}`)).data,tTe=async t=>{try{return(await ie.get("/products-dropdown",{params:t})).data}catch(s){throw s}},Yo={all:["products"],lists:()=>[...Yo.all,"list"],list:t=>[...Yo.lists(),t],details:()=>[...Yo.all,"detail"],detail:t=>[...Yo.details(),t]},Mu=(t,s)=>st({queryKey:Yo.list(t||{}),queryFn:()=>QEe(t),staleTime:300*1e3,...s}),sTe=t=>st({queryKey:Yo.detail(t),queryFn:()=>ZEe(t),enabled:!!t,staleTime:300*1e3}),aTe=t=>{const s=is();return Te({mutationFn:XEe,loadingMessage:"Creating product...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Yo.lists()})},onError:t?.onError})},rTe=t=>{const s=is();return Te({mutationFn:({id:a,...r})=>JEe(a,r),loadingMessage:"Updating product...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Yo.lists()}),s.invalidateQueries({queryKey:Yo.detail(r.id)})},onError:t?.onError})},nTe=t=>{const s=is();return Te({mutationFn:eTe,loadingMessage:"Deleting product...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Yo.lists()})},onError:t?.onError})},iTe=(t,s)=>st({queryKey:["products","dropdown",t],queryFn:()=>tTe(t),staleTime:300*1e3,...s}),wo=({name:t="product_id",label:s="Product",required:a=!1,fullWidth:r=!0,size:n="small",formik:i,setValue:o,value:l,nameToSearch:c="",onChange:m,className:d,disabled:p=!1})=>{const[x,j]=g.useState(""),[_,S]=g.useState(""),[v,y]=g.useState(""),[N,C]=g.useState(!1),[P,E]=g.useState(null),[D,T]=g.useState(!1),A=g.useRef(!1),I=i?i.values[t]:l,F=I?typeof I=="number"?I.toString():String(I).trim():"";g.useEffect(()=>{const $=setTimeout(()=>{N||(y(_),_&&T(!0))},300);return()=>clearTimeout($)},[_,N]);const z=yt.useMemo(()=>D||x?v:F&&c&&!D?c:v,[v,c,D,F,x]),O=F?Number(F):void 0,{data:K,isLoading:W}=iTe({search:z,product_id:O&&!z?O:void 0}),B=(K?.data||[]).map($=>({id:$.id,name:$.name,code:$.code,batch_lot:$.batch_lot}));g.useEffect(()=>{if(!A.current&&F&&!P&&!W&&B.length>0){const $=B.find(Y=>Y.id.toString()===F);$&&(A.current=!0,E($),x||j($.name),T(!0),setTimeout(()=>{A.current=!1},100))}},[F,W,B.length]);const q=yt.useMemo(()=>{if(!F)return null;const $=B.find(Y=>Y.id.toString()===F);return $||(P&&P.id.toString()===F?P:null)},[F,B,P]);g.useEffect(()=>{!F&&(P||x)&&(j(""),E(null),T(!1))},[F]);const H=yt.useMemo(()=>{const $=[];q&&(B.some(te=>te.id===q.id)||$.push(q));const Y=new Set;return q&&Y.add(q.id),B.forEach(J=>{Y.has(J.id)||($.push(J),Y.add(J.id))}),$},[B,q]),Q=i?.touched?.[t]&&i?.errors?.[t],V=typeof Q=="string"?Q:void 0,M=g.useCallback(($,Y)=>{C(!0),E(Y);const J=Y?Y.id.toString():"";i?i.setFieldValue(t,J):o&&o(J),m&&m($,Y),Y?j(Y.name):(j(""),y("")),setTimeout(()=>C(!1),100)},[i,t,o,m]),R=g.useCallback(($,Y,J)=>{if(J==="input"){N?j(Y):(j(Y),S(Y));return}J==="clear"&&(j(""),S(""),y(""))},[N]);return e.jsx(ir,{options:H,getOptionLabel:$=>$.name,value:q,loading:W,onChange:M,inputValue:x,onInputChange:R,isOptionEqualToValue:($,Y)=>$.id===Y.id,size:n,fullWidth:r,className:d,disabled:p,filterOptions:$=>$,renderOption:($,Y)=>g.createElement(b,{component:"li",...$,key:Y.id,className:"!flex !items-center !gap-2 cursor-pointer py-1 px-2 hover:!bg-gray-50"},e.jsx(ot,{src:Y.name||"mkx",alt:Y.name,className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(b,{children:[e.jsx("p",{className:"!text-gray-900 !text-sm",children:Y.name||""}),Y.code&&e.jsx("p",{className:"!text-gray-500 !text-xs",children:Y.code})]})),renderInput:$=>e.jsx(Ba,{...$,label:s,required:a,error:!!Q,helperText:V,onBlur:i?.handleBlur,name:t,size:n,className:d,disabled:p}),noOptionsText:v&&!W?"No products found":"Type to search products",loadingText:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(to,{thickness:6,size:16,color:"inherit"})," Loading products..."]})})},oTe=({selectedPriceList:t,setSelectedPriceList:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,[i,o]=g.useState([]),l=UEe(),c=VEe(),m=()=>{s(null),r(!1),o([]),d.resetForm()};yt.useEffect(()=>{if(t?.pricelist_item){const y=t.pricelist_item.map(N=>({product_id:N.product_id,unit_price:N.unit_price,uom:N.uom||"",discount_percent:N.discount_percent||"",effective_from:N.effective_from?N.effective_from.split("T")[0]:"",effective_to:N.effective_to?N.effective_to.split("T")[0]:"",is_active:N.is_active}));o(y)}else o([])},[t]);const d=pt({initialValues:{name:t?.name||"",description:t?.description||"",currency_code:t?.currency_code||"INR",valid_from:t?.valid_from?t.valid_from.split("T")[0]:"",valid_to:t?.valid_to?t.valid_to.split("T")[0]:"",is_active:t?.is_active||"Y"},validationSchema:KEe,enableReinitialize:!0,onSubmit:async y=>{try{const N={...y,currency_code:y.currency_code||"INR",valid_from:y.valid_from,valid_to:y.valid_to,description:y.description,priceListItems:i.filter(C=>C.product_id!=="").map(C=>({product_id:Number(C.product_id),unit_price:C.unit_price,uom:C.uom,discount_percent:C.discount_percent,effective_from:C.effective_from,effective_to:C.effective_to,is_active:C.is_active}))};n&&t?await c.mutateAsync({id:t.id,data:N}):await l.mutateAsync(N),m()}catch(N){console.error("Error submitting price list:",N)}}}),p=()=>{const y={product_id:"",unit_price:"",uom:"",discount_percent:"",effective_from:"",effective_to:"",is_active:"Y"};o([...i,y])},x=y=>{const N=i.filter((C,P)=>P!==y);o(N)},j=(y,N,C)=>{const P=[...i];P[y]={...P[y],[N]:C},o(P)},_=i.map((y,N)=>({...y,_index:N})),S=[{id:"product_id",label:"Product",render:(y,N)=>e.jsx(wo,{value:N.product_id,onChange:(C,P)=>j(N._index,"product_id",P?P.id:""),size:"small",className:"!min-w-40"})},{id:"unit_price",label:"Unit Price",render:(y,N)=>e.jsx(oe,{value:N.unit_price,onChange:C=>j(N._index,"unit_price",C.target.value),placeholder:"0.00",type:"number",size:"small",className:"!min-w-24"})},{id:"uom",label:"UOM",render:(y,N)=>e.jsx(oe,{value:N.uom,onChange:C=>j(N._index,"uom",C.target.value),placeholder:"Unit",size:"small",className:"!min-w-20"})},{id:"discount_percent",label:"Discount %",render:(y,N)=>e.jsx(oe,{value:N.discount_percent,onChange:C=>j(N._index,"discount_percent",C.target.value),placeholder:"0",type:"number",size:"small",className:"!min-w-20"})},{id:"effective_from",label:"Effective From",render:(y,N)=>e.jsx(oe,{value:N.effective_from,onChange:C=>j(N._index,"effective_from",C.target.value),type:"date",size:"small",className:"!min-w-32"})},{id:"effective_to",label:"Effective To",render:(y,N)=>e.jsx(oe,{value:N.effective_to,onChange:C=>j(N._index,"effective_to",C.target.value),type:"date",size:"small",className:"!min-w-32"})},{id:"is_active",label:"Status",render:(y,N)=>e.jsxs(Se,{value:N.is_active,onChange:C=>j(N._index,"is_active",C.target.value),size:"small",className:"!min-w-20",children:[e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]})},{id:"actions",label:"Actions",sortable:!1,render:(y,N)=>e.jsx(Ht,{onClick:()=>x(N._index),tooltip:"Remove item",confirmDelete:!0,itemName:"price list item"})}],v=[{value:"INR",label:"INR - Indian Rupee"},{value:"USD",label:"USD - US Dollar"},{value:"EUR",label:"EUR - Euro"},{value:"GBP",label:"GBP - British Pound"},{value:"JPY",label:"JPY - Japanese Yen"},{value:"AUD",label:"AUD - Australian Dollar"},{value:"CAD",label:"CAD - Canadian Dollar"}];return e.jsx(it,{open:a,setOpen:m,title:n?"Edit Price List":"Create Price List",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:d.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"name",label:"Price List Name",placeholder:"Enter price list name",formik:d,required:!0})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:d,multiline:!0,rows:3})}),e.jsx(Se,{name:"currency_code",label:"Currency",formik:d,required:!0,children:v.map(y=>e.jsx(Z,{value:y.value,children:y.label},y.value))}),e.jsxs(Se,{name:"is_active",label:"Status",formik:d,required:!0,children:[e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]}),e.jsx(oe,{name:"valid_from",label:"Valid From",type:"date",formik:d,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(oe,{name:"valid_to",label:"Valid To",type:"date",formik:d,slotProps:{inputLabel:{shrink:!0}}})]}),e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !justify-between !items-center",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Price List Items"}),e.jsx(G,{type:"button",variant:"outlined",startIcon:e.jsx(os,{}),onClick:p,size:"small",children:"Add Item"})]}),i.length>0&&e.jsx(ct,{compact:!0,data:_,columns:S,getRowId:y=>y._index.toString(),pagination:!1,sortable:!1,emptyMessage:"No price list items added yet."}),i.length===0&&e.jsx(b,{className:"!text-center !py-8 !text-gray-500",children:e.jsx(f,{variant:"body2",children:'No price list items added yet. Click "Add Item" to get started.'})})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,disabled:l.isPending||c.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:l.isPending||c.isPending,children:l.isPending||c.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},lTe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("pricelist"),{data:y,isFetching:N,error:C}=BEe({search:t,page:d,limit:x,status:a==="all"?void 0:a},{enabled:v}),P=y?.data||[],E=y?.meta?.total||0,D=(y?.meta?.page||1)-1,T=y?.stats||{},A=HEe(),I=ls(),F=T.total_price_lists??P.length,z=T.active_price_lists??P.filter(R=>R.is_active==="Y").length,O=T.inactive_price_lists??P.filter(R=>R.is_active==="N").length,K=T.new_price_lists_this_month??0,W=g.useCallback(()=>{i(null),l(!0)},[]),B=g.useCallback(R=>{i(R),l(!0)},[]),q=g.useCallback(async R=>{try{await A.mutateAsync(R)}catch($){console.error("Error deleting price list:",$)}},[A]),H=g.useCallback(R=>{s(R),p(1)},[]),Q=R=>{p(R+1)},V=g.useCallback(async()=>{try{const R={search:t,status:a==="all"?void 0:a};await I.mutateAsync({tableName:"pricelists",filters:R})}catch(R){console.error("Error exporting price lists:",R)}},[I,t,a]),M=[{id:"price_list_info",label:"Price List Info",render:(R,$)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:$.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(ks,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:$.name}),$.description&&e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:$.description})]})]})},{id:"currency_code",label:"Currency",render:(R,$)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(Cr,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs font-medium",children:$.currency_code||"INR"})]})},{id:"validity_period",label:"Validity Period",render:(R,$)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ws,{className:"w-3 h-3 text-gray-400"}),e.jsx(b,{className:"text-xs",children:$.valid_from||$.valid_to?e.jsx("span",{children:$.valid_from&&$.valid_to?e.jsxs(e.Fragment,{children:[Fe($.valid_from),e.jsx("span",{className:"mx-1 text-gray-400",children:""}),Fe($.valid_to)]}):$.valid_from?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:"From"})," ",Fe($.valid_from)]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:"Until"})," ",Fe($.valid_to)]})}):e.jsx("span",{className:"text-gray-400 italic",children:"No validity period"})})]})},{id:"items_count",label:"Items",render:(R,$)=>e.jsx(Re,{label:`${$.pricelist_item?.length||0} items`,size:"small",variant:"outlined",color:"primary"})},{id:"is_active",label:"Status",render:(R,$)=>e.jsx(Re,{icon:$.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:$.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:$.is_active==="Y"?"success":"error"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(R,$)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>B($),tooltip:`Edit ${$.name}`}),S&&e.jsx(Ht,{onClick:()=>q($.id),tooltip:`Delete ${$.name}`,itemName:$.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Price Lists"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage pricing lists and product pricing strategies"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Price Lists",value:F,icon:e.jsx(ks,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Lists",value:z,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Lists",value:O,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"This Month",value:K,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load price lists. Please try again."}),e.jsx(ct,{data:P,columns:M,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Price Lists...",value:t,onChange:H,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:R=>r(R.target.value),className:"!w-32",children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Price Lists",description:"Are you sure you want to export the current price lists data to Excel? This will include all filtered results.",onConfirm:V,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:I.isPending,children:I.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:W,children:"Create"})]})]}):!1,getRowId:R=>R.id,initialOrderBy:"name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:Q,emptyMessage:t?`No price lists found matching "${t}"`:"No price lists found in the system"}),e.jsx(oTe,{selectedPriceList:n,setSelectedPriceList:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(YEe,{drawerOpen:c,setDrawerOpen:m})]})},cTe=nt({file:ps().required("Please select a file to import")}),dTe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:cTe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("product_categories")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"product_categories",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Product Categories",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple product categories. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},uTe=nt({category_name:ce().min(2,"Category name must be at least 2 characters").max(100,"Category name must not exceed 100 characters").required("Category name is required"),description:ce().max(500,"Description must not exceed 500 characters").optional(),is_active:ce().oneOf(["Y","N"],"Status must be either Active or Inactive").required("Status is required")}),mTe=({selectedProductCategory:t,setSelectedProductCategory:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=jPe(),l=NPe(),c=pt({initialValues:{category_name:t?.category_name||"",description:t?.description||"",is_active:t?.is_active||"Y"},validationSchema:uTe,enableReinitialize:!0,onSubmit:async m=>{try{const d={category_name:m.category_name,description:m.description,is_active:m.is_active};n&&t?await l.mutateAsync({id:t.id,data:d}):await o.mutateAsync(d),i()}catch(d){console.error("Error saving product category:",d)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Product Category":"Create Product Category",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"category_name",label:"Category Name",placeholder:"Enter category name",formik:c,required:!0})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:c,multiline:!0,rows:3})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(Es,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:[o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"," "]})]})]})})})},pTe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("product-category"),{data:y,isFetching:N,error:C}=zp({search:t,page:d,limit:x,status:a==="all"?void 0:a==="active"?"active":"inactive"},{enabled:v}),P=y?.data||[],E=y?.meta?.total||0,D=(y?.meta?.page||1)-1,T=_Pe(),A=ls(),I=y?.stats?.total_product_categories??0,F=y?.stats?.active_product_categories??0,z=y?.stats?.inactive_product_categories??0,O=y?.stats?.new_product_categories_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(R){console.error("Error deleting product category:",R)}},[T]),q=g.useCallback(M=>{s(M),p(1)},[]),H=M=>{p(M+1)},Q=g.useCallback(async()=>{try{const M={search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"product_categories",filters:M})}catch(M){console.error("Error exporting product categories:",M)}},[A,t,a]),V=[{id:"category_name",label:"Category Name",render:(M,R)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:R.category_name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsxs(b,{className:"!max-w-xs",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:R.category_name}),R.description&&e.jsx(Oa,{title:R.description,placement:"top",arrow:!0,children:e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",title:R.description,sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",maxWidth:"300px",cursor:"help"},children:R.description})})]})]})},{id:"is_active",label:"Status",render:M=>e.jsx(Re,{icon:M==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,R)=>Fe(R.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(M,R)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(R),tooltip:`Edit ${R.category_name}`}),S&&e.jsx(Ht,{onClick:()=>B(R.id),tooltip:`Delete ${R.category_name}`,itemName:R.category_name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Product Categories Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product categories for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Categories",value:I,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Categories",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Categories",value:z,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:O,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load product categories. Please try again."}),e.jsx(ct,{data:P,columns:V,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Product Categories...",value:t,onChange:q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:M=>{r(M.target.value),p(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Product Categories",description:"Are you sure you want to export the current product categories data to Excel? This will include all filtered results.",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"category_name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:H,emptyMessage:t?`No product categories found matching "${t}"`:"No product categories found in the system"}),e.jsx(mTe,{selectedProductCategory:n,setSelectedProductCategory:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(dTe,{drawerOpen:c,setDrawerOpen:m})]})},hTe=nt({file:ps().required("Please select a file to import")}),fTe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:hTe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("products")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"products",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Products",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple products. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},xTe=async t=>{try{return(await ie.get("/product-sub-categories",{params:t})).data}catch(s){throw console.error("Error fetching product sub categories:",s),new Error(s.response?.data?.message||"Failed to fetch product sub categories")}},gTe=async t=>{try{return(await ie.post("/product-sub-categories",t)).data.data}catch(s){throw console.error("Error creating product sub category:",s),new Error(s.response?.data?.message||"Failed to create product sub category")}},bTe=async(t,s)=>{try{return(await ie.put(`/product-sub-categories/${t}`,s)).data.data}catch(a){throw console.error("Error updating product sub category:",a),new Error(a.response?.data?.message||"Failed to update product sub category")}},yTe=async t=>{try{await ie.delete(`/product-sub-categories/${t}`)}catch(s){throw console.error("Error deleting product sub category:",s),new Error(s.response?.data?.message||"Failed to delete product sub category")}},Rf={all:["product-sub-categories"],lists:()=>[...Rf.all,"list"],list:t=>[...Rf.lists(),t],details:()=>[...Rf.all,"detail"],detail:t=>[...Rf.details(),t]},JL=(t,s)=>st({queryKey:Rf.list(t),queryFn:()=>xTe(t),staleTime:300*1e3,...s}),vTe=()=>Te({mutationFn:gTe,invalidateQueries:["product-sub-categories"],loadingMessage:"Creating product sub category..."}),jTe=()=>Te({mutationFn:({id:t,data:s})=>bTe(t,s),invalidateQueries:["product-sub-categories"],loadingMessage:"Updating product sub category..."}),NTe=()=>Te({mutationFn:yTe,invalidateQueries:["product-sub-categories"],loadingMessage:"Deleting product sub category..."}),_Te=async t=>{try{return(await ie.get("/route-types",{params:t})).data}catch(s){throw console.error("Error fetching route types:",s),new Error(s.response?.data?.message||"Failed to fetch route types")}},wTe=async t=>{try{return(await ie.post("/route-types",t)).data.data}catch(s){throw console.error("Error creating route type:",s),new Error(s.response?.data?.message||"Failed to create route type")}},STe=async(t,s)=>{try{return(await ie.put(`/route-types/${t}`,s)).data.data}catch(a){throw console.error("Error updating route type:",a),new Error(a.response?.data?.message||"Failed to update route type")}},CTe=async t=>{try{await ie.delete(`/route-types/${t}`)}catch(s){throw console.error("Error deleting route type:",s),new Error(s.response?.data?.message||"Failed to delete route type")}},Af={all:["routeTypes"],lists:()=>[...Af.all,"list"],list:t=>[...Af.lists(),t],details:()=>[...Af.all,"detail"],detail:t=>[...Af.details(),t]},C3=(t,s)=>st({queryKey:Af.list(t),queryFn:()=>_Te(t),staleTime:300*1e3,...s}),PTe=()=>Te({mutationFn:t=>wTe(t),invalidateQueries:["routeTypes"],loadingMessage:"Creating route type..."}),kTe=()=>Te({mutationFn:({id:t,data:s})=>STe(t,s),invalidateQueries:["routeTypes"],loadingMessage:"Updating route type..."}),ETe=()=>Te({mutationFn:CTe,invalidateQueries:["routeTypes"],loadingMessage:"Deleting route type..."}),TTe=async t=>{try{return(await ie.get("/tax-masters",{params:t})).data}catch(s){throw console.error("Error fetching tax masters:",s),new Error(s.response?.data?.message||"Failed to fetch tax masters")}},MTe=async t=>{try{return(await ie.get(`/tax-masters/${t}`)).data.data}catch(s){throw console.error("Error fetching tax master:",s),new Error(s.response?.data?.message||"Failed to fetch tax master")}},DTe=async t=>{try{return(await ie.post("/tax-masters",t)).data}catch(s){throw console.error("Error creating tax master:",s),new Error(s.response?.data?.message||"Failed to create tax master")}},RTe=async(t,s)=>{try{return(await ie.put(`/tax-masters/${t}`,s)).data}catch(a){throw console.error("Error updating tax master:",a),new Error(a.response?.data?.message||"Failed to update tax master")}},ATe=async t=>{try{await ie.delete(`/tax-masters/${t}`)}catch(s){throw console.error("Error deleting tax master:",s),new Error(s.response?.data?.message||"Failed to delete tax master")}},Lm={all:["tax-master"],lists:()=>[...Lm.all,"list"],list:t=>[...Lm.lists(),t],details:()=>[...Lm.all,"detail"],detail:t=>[...Lm.details(),t]},e$=(t,s)=>st({queryKey:Lm.list(t),queryFn:()=>TTe(t),staleTime:300*1e3,...s}),ITe=(t,s)=>st({queryKey:Lm.detail(t),queryFn:()=>MTe(t),enabled:!!t,staleTime:300*1e3,...s}),OTe=()=>Te({mutationFn:async t=>await DTe(t),invalidateQueries:["tax-master"],loadingMessage:"Creating tax master..."}),FTe=()=>Te({mutationFn:async({id:t,data:s})=>await RTe(t,s),invalidateQueries:["tax-master"],loadingMessage:"Updating tax master..."}),LTe=()=>Te({mutationFn:ATe,invalidateQueries:["tax-master"],loadingMessage:"Deleting tax master..."}),$Te=async t=>{try{return(await ie.get("/unit-measurement",{params:t})).data}catch(s){throw console.error("Error fetching unit of measurement:",s),new Error(s.response?.data?.message||"Failed to fetch unit of measurement")}},zTe=async t=>{try{return(await ie.post("/unit-measurement",t)).data.data}catch(s){throw console.error("Error creating unit of measurement:",s),new Error(s.response?.data?.message||"Failed to create unit of measurement")}},qTe=async(t,s)=>{try{return(await ie.put(`/unit-measurement/${t}`,s)).data.data}catch(a){throw console.error("Error updating unit of measurement:",a),new Error(a.response?.data?.message||"Failed to update unit of measurement")}},BTe=async t=>{try{await ie.delete(`/unit-measurement/${t}`)}catch(s){throw console.error("Error deleting unit of measurement:",s),new Error(s.response?.data?.message||"Failed to delete unit of measurement")}},If={all:["unit-of-measurement"],lists:()=>[...If.all,"list"],list:t=>[...If.lists(),t],details:()=>[...If.all,"detail"],detail:t=>[...If.details(),t]},S1=(t,s)=>st({queryKey:If.list(t),queryFn:()=>$Te(t),staleTime:300*1e3,...s}),UTe=()=>Te({mutationFn:zTe,invalidateQueries:["unit-of-measurement"],loadingMessage:"Creating unit of measurement..."}),VTe=()=>Te({mutationFn:({id:t,data:s})=>qTe(t,s),invalidateQueries:["unit-of-measurement"],loadingMessage:"Updating unit of measurement..."}),HTe=()=>Te({mutationFn:BTe,invalidateQueries:["unit-of-measurement"],loadingMessage:"Deleting unit of measurement..."}),WTe=async t=>{try{return(await ie.get("/subunits",{params:t})).data}catch(s){throw console.error("Error fetching sub unit of measurements:",s),new Error(s.response?.data?.message||"Failed to fetch sub unit of measurements")}},YTe=async t=>{try{return(await ie.post("/subunits",t)).data.data}catch(s){throw console.error("Error creating sub unit of measurement:",s),new Error(s.response?.data?.message||"Failed to create sub unit of measurement")}},GTe=async(t,s)=>{try{return(await ie.put(`/subunits/${t}`,s)).data.data}catch(a){throw console.error("Error updating sub unit of measurement:",a),new Error(a.response?.data?.message||"Failed to update sub unit of measurement")}},KTe=async t=>{try{await ie.delete(`/subunits/${t}`)}catch(s){throw console.error("Error deleting sub unit of measurement:",s),new Error(s.response?.data?.message||"Failed to delete sub unit of measurement")}},QTe=async()=>{try{return(await ie.get("/subunits/lookup/units-of-measurement")).data.data}catch(t){throw console.error("Error fetching units of measurement:",t),new Error(t.response?.data?.message||"Failed to fetch units of measurement")}},ZTe=async()=>{try{return(await ie.get("/subunits/lookup/products")).data.data}catch(t){throw console.error("Error fetching products:",t),new Error(t.response?.data?.message||"Failed to fetch products")}},Dc={all:["sub-unit-of-measurements"],lists:()=>[...Dc.all,"list"],list:t=>[...Dc.lists(),t],details:()=>[...Dc.all,"detail"],detail:t=>[...Dc.details(),t],lookup:()=>[...Dc.all,"lookup"]},t$=(t,s)=>st({queryKey:Dc.list(t),queryFn:()=>WTe(t),staleTime:300*1e3,...s}),XTe=t=>st({queryKey:[...Dc.lookup(),"units-of-measurement"],queryFn:QTe,staleTime:900*1e3,...t}),JTe=t=>st({queryKey:[...Dc.lookup(),"products"],queryFn:ZTe,staleTime:900*1e3,...t}),e8e=()=>Te({mutationFn:YTe,invalidateQueries:["sub-unit-of-measurements"],loadingMessage:"Creating sub unit of measurement..."}),t8e=()=>Te({mutationFn:({id:t,data:s})=>GTe(t,s),invalidateQueries:["sub-unit-of-measurements"],loadingMessage:"Updating sub unit of measurement..."}),s8e=()=>Te({mutationFn:KTe,invalidateQueries:["sub-unit-of-measurements"],loadingMessage:"Deleting sub unit of measurement..."}),a8e=nt().shape({name:ce().required("Product name is required").min(1,"Product name must be at least 1 character").max(255,"Product name must be at most 255 characters"),description:ce().max(1e3,"Description cannot exceed 1000 characters").nullable(),category_id:Ye().required("Category is required").min(1,"Please select a valid category"),sub_category_id:Ye().required("Sub-category is required").min(1,"Please select a valid sub-category"),brand_id:Ye().required("Brand is required").min(1,"Please select a valid brand"),unit_of_measurement:Ye().required("Unit of measurement is required").min(1,"Please select a valid unit of measurement"),base_price:Ye().min(0,"Base price must be at least 0").nullable(),tax_rate:Ye().min(0,"Tax rate must be at least 0").max(100,"Tax rate cannot exceed 100%").nullable(),route_type_id:Ye().min(1,"Please select a valid route type").nullable(),outlet_group_id:Ye().min(1,"Please select a valid outlet group").nullable(),tracking_type:ce().oneOf(["None","Batch","Serial"],"Tracking type must be None, Batch, or Serial").nullable(),batch_lots_id:Ye().min(1,"Please select a valid batch lot").nullable(),is_active:ce().oneOf(["Y","N"],"Status must be Y or N").required("Status is required")}),r8e=async t=>{try{return(await ie.get("/product-flavours",{params:t})).data}catch(s){throw console.error("Error fetching product flavours:",s),new Error(s.response?.data?.message||"Failed to fetch product flavours")}},n8e=async t=>{try{return(await ie.post("/product-flavours",t)).data}catch(s){throw console.error("Error creating product flavour:",s),new Error(s.response?.data?.message||"Failed to create product flavour")}},i8e=async(t,s)=>{try{return(await ie.put(`/product-flavours/${t}`,s)).data}catch(a){throw console.error("Error updating product flavour:",a),new Error(a.response?.data?.message||"Failed to update product flavour")}},o8e=async t=>{try{return(await ie.delete(`/product-flavours/${t}`)).data}catch(s){throw console.error("Error deleting product flavour:",s),new Error(s.response?.data?.message||"Failed to delete product flavour")}},l8e=async t=>{try{return(await ie.get("/product-flavours-dropdown",{params:t})).data}catch(s){throw console.error("Error fetching product flavours dropdown:",s),new Error(s.response?.data?.message||"Failed to fetch product flavours dropdown")}},c8e=async t=>{try{return(await ie.get("/product-shelf-life",{params:t})).data}catch(s){throw console.error("Error fetching product shelf life:",s),new Error(s.response?.data?.message||"Failed to fetch product shelf life")}},d8e=async t=>{try{return(await ie.post("/product-shelf-life",t)).data}catch(s){throw console.error("Error creating product shelf life:",s),new Error(s.response?.data?.message||"Failed to create product shelf life")}},u8e=async(t,s)=>{try{return(await ie.put(`/product-shelf-life/${t}`,s)).data}catch(a){throw console.error("Error updating product shelf life:",a),new Error(a.response?.data?.message||"Failed to update product shelf life")}},m8e=async t=>{try{return(await ie.delete(`/product-shelf-life/${t}`)).data}catch(s){throw console.error("Error deleting product shelf life:",s),new Error(s.response?.data?.message||"Failed to delete product shelf life")}},p8e=async t=>{try{return(await ie.get("/product-shelf-life-dropdown",{params:t})).data}catch(s){throw console.error("Error fetching product shelf life dropdown:",s),new Error(s.response?.data?.message||"Failed to fetch product shelf life dropdown")}},h8e=async t=>{try{return(await ie.get("/product-target-groups",{params:t})).data}catch(s){throw console.error("Error fetching product target groups:",s),new Error(s.response?.data?.message||"Failed to fetch product target groups")}},f8e=async t=>{try{return(await ie.post("/product-target-groups",t)).data}catch(s){throw console.error("Error creating product target group:",s),new Error(s.response?.data?.message||"Failed to create product target group")}},x8e=async(t,s)=>{try{return(await ie.put(`/product-target-groups/${t}`,s)).data}catch(a){throw console.error("Error updating product target group:",a),new Error(a.response?.data?.message||"Failed to update product target group")}},g8e=async t=>{try{return(await ie.delete(`/product-target-groups/${t}`)).data}catch(s){throw console.error("Error deleting product target group:",s),new Error(s.response?.data?.message||"Failed to delete product target group")}},b8e=async t=>{try{return(await ie.get("/product-target-groups-dropdown",{params:t})).data}catch(s){throw console.error("Error fetching product target groups dropdown:",s),new Error(s.response?.data?.message||"Failed to fetch product target groups dropdown")}},y8e=async t=>{try{return(await ie.get("/product-types",{params:t})).data}catch(s){throw console.error("Error fetching product types:",s),new Error(s.response?.data?.message||"Failed to fetch product types")}},v8e=async t=>{try{return(await ie.post("/product-types",t)).data}catch(s){throw console.error("Error creating product type:",s),new Error(s.response?.data?.message||"Failed to create product type")}},j8e=async(t,s)=>{try{return(await ie.put(`/product-types/${t}`,s)).data}catch(a){throw console.error("Error updating product type:",a),new Error(a.response?.data?.message||"Failed to update product type")}},N8e=async t=>{try{return(await ie.delete(`/product-types/${t}`)).data}catch(s){throw console.error("Error deleting product type:",s),new Error(s.response?.data?.message||"Failed to delete product type")}},_8e=async t=>{try{return(await ie.get("/product-types-dropdown",{params:t})).data}catch(s){throw console.error("Error fetching product types dropdown:",s),new Error(s.response?.data?.message||"Failed to fetch product types dropdown")}},w8e=async t=>{try{return(await ie.get("/product-volumes",{params:t})).data}catch(s){throw console.error("Error fetching product volumes:",s),new Error(s.response?.data?.message||"Failed to fetch product volumes")}},S8e=async t=>{try{return(await ie.post("/product-volumes",t)).data}catch(s){throw console.error("Error creating product volume:",s),new Error(s.response?.data?.message||"Failed to create product volume")}},C8e=async(t,s)=>{try{return(await ie.put(`/product-volumes/${t}`,s)).data}catch(a){throw console.error("Error updating product volume:",a),new Error(a.response?.data?.message||"Failed to update product volume")}},P8e=async t=>{try{return(await ie.delete(`/product-volumes/${t}`)).data}catch(s){throw console.error("Error deleting product volume:",s),new Error(s.response?.data?.message||"Failed to delete product volume")}},k8e=async t=>{try{return(await ie.get("/product-volumes-dropdown",{params:t})).data}catch(s){throw console.error("Error fetching product volumes dropdown:",s),new Error(s.response?.data?.message||"Failed to fetch product volumes dropdown")}},E8e=async t=>{try{return(await ie.get("/product-web-orders",{params:t})).data}catch(s){throw console.error("Error fetching product web orders:",s),new Error(s.response?.data?.message||"Failed to fetch product web orders")}},T8e=async t=>{try{return(await ie.post("/product-web-orders",t)).data}catch(s){throw console.error("Error creating product web order:",s),new Error(s.response?.data?.message||"Failed to create product web order")}},M8e=async(t,s)=>{try{return(await ie.put(`/product-web-orders/${t}`,s)).data}catch(a){throw console.error("Error updating product web order:",a),new Error(a.response?.data?.message||"Failed to update product web order")}},D8e=async t=>{try{return(await ie.delete(`/product-web-orders/${t}`)).data}catch(s){throw console.error("Error deleting product web order:",s),new Error(s.response?.data?.message||"Failed to delete product web order")}},R8e=async t=>{try{return(await ie.get("/product-web-orders-dropdown",{params:t})).data}catch(s){throw console.error("Error fetching product web orders dropdown:",s),new Error(s.response?.data?.message||"Failed to fetch product web orders dropdown")}},A8e=({selectedProduct:t,setSelectedProduct:s,drawerOpen:a,setDrawerOpen:r})=>{const[n,i]=g.useState([]),o=g.useRef(!1),l=!!t,c=()=>{s(null),r(!1),i([]),H.resetForm(),o.current=!1},m=aTe(),d=rTe(),{data:p}=JL({limit:1e3,status:"active"}),{data:x}=KL({limit:1e3,status:"active"}),{data:j}=S1({limit:1e3,status:"active"}),{data:_}=C3({limit:1e3,status:"active"}),{data:S}=e$({limit:1e3,isActive:"Y"}),v=p?.data||[],y=x?.data||[],N=j?.data||[],C=_?.data||[],P=S?.data||[],{data:E}=st({queryKey:["product-types-dropdown"],queryFn:()=>_8e()}),{data:D}=st({queryKey:["product-target-groups-dropdown"],queryFn:()=>b8e()}),{data:T}=st({queryKey:["product-web-orders-dropdown"],queryFn:()=>R8e()}),{data:A}=st({queryKey:["product-volumes-dropdown"],queryFn:()=>k8e()}),{data:I}=st({queryKey:["product-flavours-dropdown"],queryFn:()=>l8e()}),{data:F}=st({queryKey:["product-shelf-life-dropdown"],queryFn:()=>p8e()}),z=E?.data||[],O=D?.data||[],K=T?.data||[],W=A?.data||[],B=I?.data||[],q=F?.data||[],H=pt({initialValues:{name:t?.name||"",description:t?.description||"",category_id:t?.category_id||"",sub_category_id:t?.sub_category_id||"",brand_id:t?.brand_id||"",unit_of_measurement:t?.unit_of_measurement||"",subunit_id:t?.subunit_id||"",base_price:t?.base_price?Number(t.base_price):"",tax_id:t?.tax_id||"",route_type_id:t?.route_type_id||"",outlet_group_id:t?.outlet_group_id||"",tracking_type:t?.tracking_type||"None",product_type_id:t?.product_type_id||"",product_target_group_id:t?.product_target_group_id||"",product_web_order_id:t?.product_web_order_id||"",volume_id:t?.volume_id||"",flavour_id:t?.flavour_id||"",shelf_life_id:t?.shelf_life_id||"",weight_in_grams:t?.weight_in_grams?Number(t.weight_in_grams):"",volume_in_liters:t?.volume_in_liters?Number(t.volume_in_liters):"",is_active:t?.is_active||"Y"},validationSchema:a8e,enableReinitialize:!0,onSubmit:async R=>{try{const $={name:R.name,description:R.description,category_id:Number(R.category_id),sub_category_id:Number(R.sub_category_id),brand_id:Number(R.brand_id),unit_of_measurement:Number(R.unit_of_measurement),subunit_id:Number(R.subunit_id),base_price:R.base_price?Number(R.base_price):void 0,tax_id:R.tax_id?Number(R.tax_id):void 0,route_type_id:R.route_type_id?Number(R.route_type_id):void 0,outlet_group_id:R.outlet_group_id?Number(R.outlet_group_id):void 0,tracking_type:R.tracking_type&&R.tracking_type!==""&&R.tracking_type!=="None"?R.tracking_type:null,batch_lots:n.filter(Y=>Y.batch_lot_id>0).map(Y=>({batch_lot_id:Y.batch_lot_id,quantity:Y.quantity||0})),product_type_id:R.product_type_id?Number(R.product_type_id):void 0,product_target_group_id:R.product_target_group_id?Number(R.product_target_group_id):void 0,product_web_order_id:R.product_web_order_id?Number(R.product_web_order_id):void 0,volume_id:R.volume_id?Number(R.volume_id):void 0,flavour_id:R.flavour_id?Number(R.flavour_id):void 0,shelf_life_id:R.shelf_life_id?Number(R.shelf_life_id):void 0,weight_in_grams:R.weight_in_grams?Number(R.weight_in_grams):void 0,volume_in_liters:R.volume_in_liters?Number(R.volume_in_liters):void 0,is_active:R.is_active};l&&t?await d.mutateAsync({id:t.id,...$}):await m.mutateAsync($),c()}catch($){console.error("Error saving product:",$)}}}),{data:Q}=t$(H.values.unit_of_measurement?{limit:1e3,isActive:"Y",unitOfMeasurementId:Number(H.values.unit_of_measurement)}:{limit:1e3,isActive:"Y"}),V=Q?.data||[],M=R=>{const $=R.target.value;H.setFieldValue("unit_of_measurement",$),H.setFieldValue("subunit_id","")};return e.jsx(it,{open:a,setOpen:c,title:l?"Edit Product":"Create Product",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:H.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Product Name",placeholder:"Enter product name",formik:H,required:!0}),e.jsx(vu,{name:"category_id",label:"Category",formik:H,required:!0}),e.jsx(Se,{name:"sub_category_id",label:"Sub-Category",formik:H,required:!0,children:v.map(R=>e.jsx(Z,{value:R.id,children:R.sub_category_name},R.id))}),e.jsx(Se,{name:"brand_id",label:"Brand",formik:H,required:!0,children:y.map(R=>e.jsx(Z,{value:R.id,children:R.name},R.id))}),e.jsx(Se,{name:"unit_of_measurement",label:"Unit of Measurement",formik:H,required:!0,onChange:M,children:N.map(R=>e.jsxs(Z,{value:R.id,children:[R.name," ",R.symbol&&`(${R.symbol})`]},R.id))}),e.jsx(Se,{name:"subunit_id",label:"Sub Unit of Measurement",formik:H,disabled:!H.values.unit_of_measurement,loading:Q===void 0,children:V.map(R=>e.jsxs(Z,{value:R.id,children:[R.name," ",R.code&&`(${R.code})`]},R.id))}),e.jsx(oe,{name:"base_price",label:"Base Price",type:"number",placeholder:"Enter base price",formik:H}),e.jsx(Se,{name:"tax_id",label:"Tax Rate",formik:H,children:P.map(R=>e.jsxs(Z,{value:R.id,children:[R.name," (",R.code,") -"," ",R.tax_rate?`${R.tax_rate}%`:"0%"]},R.id))}),e.jsx(Se,{name:"route_type_id",label:"Route Type",formik:H,children:C.map(R=>e.jsx(Z,{value:R.id,children:R.name},R.id))}),e.jsxs(Se,{name:"tracking_type",label:"Batch/Serial",formik:H,children:[e.jsx(Z,{value:"None",children:"None"}),e.jsx(Z,{value:"Batch",children:"Batch"}),e.jsx(Z,{value:"Serial",children:"Serial"})]}),e.jsx(Se,{name:"product_type_id",label:"Product Type",formik:H,children:z.map(R=>e.jsx(Z,{value:R.id,children:R.name},R.id))}),e.jsx(Se,{name:"product_target_group_id",label:"Product Target Group",formik:H,children:O.map(R=>e.jsx(Z,{value:R.id,children:R.name},R.id))}),e.jsx(Se,{name:"product_web_order_id",label:"Web Order",formik:H,children:K.map(R=>e.jsx(Z,{value:R.id,children:R.name},R.id))}),e.jsx(Se,{name:"volume_id",label:"Volume",formik:H,children:W.map(R=>e.jsx(Z,{value:R.id,children:R.name},R.id))}),e.jsx(Se,{name:"flavour_id",label:"Flavour",formik:H,children:B.map(R=>e.jsx(Z,{value:R.id,children:R.name},R.id))}),e.jsx(Se,{name:"shelf_life_id",label:"Shelf Life",formik:H,children:q.map(R=>e.jsx(Z,{value:R.id,children:R.name},R.id))}),e.jsx(oe,{name:"weight_in_grams",label:"Weight (grams)",type:"number",placeholder:"Enter weight in grams",formik:H}),e.jsx(oe,{name:"volume_in_liters",label:"Volume (liters)",type:"number",placeholder:"Enter volume in liters",formik:H}),e.jsx(Es,{name:"is_active",label:"Status",formik:H}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter product description",formik:H,multiline:!0,rows:3})})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:c,disabled:m.isPending||d.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:m.isPending||d.isPending,children:m.isPending?"Creating...":d.isPending?"Updating...":l?"Update":"Create"})]})]})})})},I8e=()=>{const t=Fs(),[s,a]=g.useState(""),[r,n]=g.useState("all"),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,d]=g.useState(!1),[p,x]=g.useState(1),[j]=g.useState(10),{isCreate:_,isUpdate:S,isDelete:v,isRead:y}=Ze("product"),{formatCurrency:N}=Ga(),{data:C,isFetching:P,error:E}=Mu({search:s,page:p,limit:j,status:r==="all"?void 0:r==="active"?"active":"inactive"},{enabled:y}),D=C?.data||[],T=C?.meta?.total||0,A=(C?.meta?.page||1)-1,I=nTe(),F=ls(),z=C?.stats?.total_products??0,O=C?.stats?.active_products??0,K=C?.stats?.inactive_products??0,W=C?.stats?.new_products_this_month??0,B=g.useCallback(()=>{o(null),c(!0)},[]),q=g.useCallback(J=>{t(`/masters/products/${J}`)},[t]),H=g.useCallback(J=>{o(J),c(!0)},[]),Q=g.useCallback(async J=>{try{await I.mutateAsync(J)}catch(te){console.error("Error deleting product:",te)}},[I]),V=g.useCallback(J=>{a(J),x(1)},[]),M=J=>{x(J+1)},R=g.useCallback(async()=>{try{const J={search:s,status:r==="all"?void 0:r==="active"?"active":"inactive"};await F.mutateAsync({tableName:"products",filters:J})}catch(J){console.error("Error exporting products:",J)}},[F,s,r]),$=J=>J==null?"N/A":`${Number(J||"0").toFixed(2)}%`,Y=[{id:"name",label:"Product Info",render:(J,te)=>e.jsxs(b,{className:"!flex !gap-2 !items-center !cursor-pointer hover:!opacity-80 !transition-opacity",onClick:()=>q(te.id),children:[e.jsx(ot,{alt:te.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium hover:!text-primary-600 !transition-colors",children:te.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:te.code})]})]})},{id:"category",label:"Category & Brand",render:(J,te)=>e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center text-sm mt-1",children:[e.jsx(vs,{className:"w-4 h-4 text-gray-400 mr-2"}),te.product_brand?.name||"N/A"]}),e.jsxs(b,{className:"flex items-center text-xs text-gray-900",children:[e.jsx(br,{className:"w-4 h-4 text-gray-400 mr-2"}),te.product_category?.category_name||"N/A"," ",te.product_sub_category?.sub_category_name&&e.jsx("span",{className:"text-gray-500 pl-0.5",children:` ${te.product_sub_category?.sub_category_name}`})]})]})},{id:"pricing",label:"Pricing",render:(J,te)=>e.jsxs(b,{children:[e.jsx(b,{className:"flex items-center text-sm text-gray-900",children:te.base_price!==null&&te.base_price!==void 0?N(te.base_price):"N/A"}),e.jsxs(b,{className:"flex items-center text-sm text-gray-500 mt-1",children:[e.jsx(up,{className:"w-4 h-4 text-gray-400 mr-2"}),$(te.tax_rate||0)]})]})},{id:"unit_of_measurement",label:"Unit",render:(J,te)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:te.product_unit?.name||"N/A"})},{id:"product_subunit.name",label:"Sub Unit",render:(J,te)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:te.product_subunit?.name||"N/A"})},{id:"product_type",label:"Product Type",render:(J,te)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:te.product_type?.name||"N/A"})},{id:"tracking_type",label:"Tracking Type",render:(J,te)=>e.jsx(f,{variant:"body2",className:"!text-gray-700 uppercase",children:te.tracking_type||"NONE"})},{id:"target_group",label:"Target Group",render:(J,te)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:te.product_target_group?.name||e.jsx("span",{className:"!text-gray-500 italic",children:"no target group"})})},{id:"web_order",label:"Web Order",render:(J,te)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:te.product_web_order?.name||e.jsx("span",{className:"!text-gray-500 italic",children:"no web order"})})},{id:"volume",label:"Volume",render:(J,te)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:te.volume?.name||e.jsx("span",{className:"!text-gray-500 italic",children:"no volume"})})},{id:"flavour",label:"Flavour",render:(J,te)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:te.flavour?.name||e.jsx("span",{className:"!text-gray-500 italic",children:"no flavour"})})},{id:"shelf_life",label:"Shelf Life",render:(J,te)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:te.shelf_life?.name||e.jsx("span",{className:"!text-gray-500 italic",children:"no shelf life"})})},{id:"weight_in_grams",label:"Weight (g)",render:(J,te)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:te.weight_in_grams!==null&&te.weight_in_grams!==void 0?`${Number(te.weight_in_grams).toLocaleString()} g`:e.jsx("span",{className:"!text-gray-500 italic",children:"no weight"})})},{id:"volume_in_liters",label:"Volume (L)",render:(J,te)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:te.volume_in_liters!==null&&te.volume_in_liters!==void 0?`${Number(te.volume_in_liters).toFixed(2)} L`:e.jsx("span",{className:"!text-gray-500 italic",children:"no volume"})})},{id:"description",label:"Description",render:(J,te)=>e.jsx(f,{variant:"body2",className:"!text-gray-700 !max-w-xs !truncate",children:te.description||e.jsx("span",{className:"!text-gray-500 italic",children:"no description"})})},{id:"is_active",label:"Status",render:J=>e.jsx(Re,{icon:J==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:J==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:J==="Y"?"success":"error"})},{id:"createdate",label:"Created",render:(J,te)=>e.jsx(f,{variant:"body2",className:"!text-gray-500",children:Fe(te.createdate?.toString())})},...S||v||y?[{id:"action",label:"Actions",sortable:!1,render:(J,te)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[y&&e.jsx(Ua,{onClick:()=>q(te.id),tooltip:`View ${te.name}`,icon:e.jsx(kn,{fontSize:"small"}),color:"info"}),S&&e.jsx(ss,{onClick:()=>H(te),tooltip:`Edit ${te.name}`}),v&&e.jsx(Ht,{onClick:()=>Q(te.id),tooltip:`Delete ${te.name}`,itemName:te.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Products Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage your product catalog with pricing and inventory details"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Products",value:z,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue",isLoading:P}),e.jsx(fe,{title:"Active Products",value:O,icon:e.jsx($t,{className:"w-6 h-6"}),color:"green",isLoading:P}),e.jsx(fe,{title:"Inactive Products",value:K,icon:e.jsx($t,{className:"w-6 h-6"}),color:"red",isLoading:P}),e.jsx(fe,{title:"New This Month",value:W,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:P})]}),E&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load products. Please try again."}),e.jsx(ct,{data:D,columns:Y,actions:y||_?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex items-center flex-wrap gap-2",children:y&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Products",value:s,onChange:V,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(Se,{value:r,onChange:J=>{n(J.target.value),x(1)},className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[y&&e.jsx(Xt,{title:"Export Products",description:"Are you sure you want to export the current products data to Excel? This will include all filtered results.",onConfirm:R,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:F.isPending,children:F.isPending?"Exporting...":"Export"})}),_&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>d(!0),children:"Import"}),_&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:B,children:"Create"})]})]}):!1,getRowId:J=>J.id,initialOrderBy:"name",loading:P,totalCount:T,page:A,rowsPerPage:j,isPermission:y,onPageChange:M,emptyMessage:s?`No products found matching "${s}"`:"No products found in the system"}),e.jsx(A8e,{selectedProduct:i,setSelectedProduct:o,drawerOpen:l,setDrawerOpen:c}),e.jsx(fTe,{drawerOpen:m,setDrawerOpen:d})]})},O8e=()=>{const{id:t}=Br(),{data:s,isLoading:a,error:r}=sTe(Number(t)),{data:n}=ku(),{data:i}=ec({limit:1e3}),o=n?.data,l=i?.data||[],c=o?.currency_id||1,m=l.find(S=>S.id===c),d=s?.data,p=d?.batch_lots||[],x=S=>{if(S==null)return"N/A";const v=m?.code||"INR",N={USD:"en-US",EUR:"de-DE",GBP:"en-GB",JPY:"ja-JP",CNY:"zh-CN",AUD:"en-AU",CAD:"en-CA",INR:"en-IN",AED:"ar-AE",SAR:"ar-SA"}[v]||"en-IN";return new Intl.NumberFormat(N,{style:"currency",currency:v,minimumFractionDigits:2,maximumFractionDigits:2}).format(S)},j=S=>S==null?"N/A":`${Number(S||"0").toFixed(2)}%`;if(a)return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !items-center !gap-3",children:e.jsxs(b,{className:"!flex-1",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(X,{variant:"text",width:250,height:32}),e.jsx(X,{variant:"rectangular",width:80,height:24,className:"!rounded-full"})]}),e.jsx(X,{variant:"text",width:300,height:20,className:"!mt-1"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[1,2,3,4].map(S=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:[e.jsx(X,{variant:"text",width:100,height:20}),e.jsx(X,{variant:"text",width:150,height:32,className:"!mt-2"})]},S))}),e.jsx(X,{variant:"rectangular",height:400,className:"!rounded-lg !shadow !border !border-gray-200"})]});if(r)return e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load product details. Please try again."});if(!d)return e.jsx(lt,{severity:"warning",className:"!mb-4",children:"Product not found."});const _=[{id:"batch_number",label:"Batch Number",render:(S,v)=>e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!font-medium",children:S}),v.lot_number&&e.jsxs(f,{variant:"caption",className:"!text-gray-500",children:["Lot: ",v.lot_number]})]})},{id:"quantity",label:"Quantity",render:S=>e.jsx(f,{variant:"body2",children:Number(S).toLocaleString()})},{id:"remaining_quantity",label:"Remaining",render:S=>e.jsx(Re,{label:Number(S).toLocaleString(),size:"small",color:Number(S)>0?"success":"error"})},{id:"manufacturing_date",label:"Mfg Date",render:S=>e.jsx(f,{variant:"body2",children:Fe(S?.toString())})},{id:"expiry_date",label:"Expiry Date",render:S=>e.jsx(f,{variant:"body2",children:Fe(S?.toString())})}];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !items-center !gap-3",children:e.jsxs(b,{className:"!flex-1",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(f,{variant:"h5",className:"!font-bold !text-gray-900",children:d.name}),e.jsx(Re,{icon:d.is_active==="Y"?e.jsx(Da,{className:"w-4 h-4"}):e.jsx(ya,{className:"w-4 h-4"}),label:d.is_active==="Y"?"Active":"Inactive",size:"small",color:d.is_active==="Y"?"success":"error"})]}),e.jsxs(f,{variant:"body2",className:"!text-gray-500 !mt-1",children:["Product Code: ",d.code]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Base Price"}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:x(d.base_price||0)})]}),e.jsx(ot,{className:"!bg-green-100",children:e.jsx(vs,{className:"text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Volume"}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:d.volume_in_liters!==null&&d.volume_in_liters!==void 0?`${Number(d.volume_in_liters).toFixed(2)} L`:"N/A"})]}),e.jsx(ot,{className:"!bg-blue-100",children:e.jsx(gN,{className:"text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Batch Lots"}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:p.length})]}),e.jsx(ot,{className:"!bg-purple-100",children:e.jsx(fA,{className:"text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Shelf Life"}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:d.shelf_life?.name||"N/A"})]}),e.jsx(ot,{className:"!bg-orange-100",children:e.jsx(ws,{className:"text-orange-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6 mb-6",children:[e.jsx(f,{variant:"h6",className:"!font-bold !mb-4 !text-gray-900",children:"Product Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(br,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Category"})]}),e.jsx(f,{variant:"body1",className:"!font-medium",children:d.product_category?.category_name||"N/A"})]}),e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(br,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Sub-Category"})]}),e.jsx(f,{variant:"body1",className:"!font-medium",children:d.product_sub_category?.sub_category_name||"N/A"})]}),e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(vs,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Brand"})]}),e.jsx(f,{variant:"body1",className:"!font-medium",children:d.product_brand?.name||"N/A"})]}),e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx($t,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Unit of Measurement"})]}),e.jsx(f,{variant:"body1",className:"!font-medium",children:d.product_unit?.name||"N/A"})]}),e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(Uoe,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Tracking Type"})]}),e.jsx(Re,{label:d.tracking_type||"None",size:"small",variant:"outlined"})]}),d.product_type&&e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx($t,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Product Type"})]}),e.jsx(f,{variant:"body1",className:"!font-medium",children:d.product_type.name})]}),d.product_target_group&&e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(Za,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Target Group"})]}),e.jsx(f,{variant:"body1",className:"!font-medium",children:d.product_target_group.name})]}),d.volume&&e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(gN,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Volume"})]}),e.jsx(f,{variant:"body1",className:"!font-medium",children:d.volume.name})]}),d.flavour&&e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(br,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Flavour"})]}),e.jsx(f,{variant:"body1",className:"!font-medium",children:d.flavour.name})]}),d.shelf_life&&e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(ws,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Shelf Life"})]}),e.jsx(f,{variant:"body1",className:"!font-medium",children:d.shelf_life.name})]}),d.vat_percentage!==null&&d.vat_percentage!==void 0&&e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(up,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"VAT %"})]}),e.jsx(f,{variant:"body1",className:"!font-medium",children:j(d.vat_percentage)})]}),d.weight_in_grams!==null&&d.weight_in_grams!==void 0&&e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(jle,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Weight"})]}),e.jsxs(f,{variant:"body1",className:"!font-medium",children:[Number(d.weight_in_grams).toLocaleString()," g"]})]}),d.volume_in_liters!==null&&d.volume_in_liters!==void 0&&e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-2 mb-1",children:[e.jsx(gN,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Volume"})]}),e.jsxs(f,{variant:"body1",className:"!font-medium",children:[Number(d.volume_in_liters).toFixed(2)," L"]})]})]}),d.description&&e.jsxs(b,{className:"!mt-6",children:[e.jsx(f,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Description"}),e.jsx(f,{variant:"body1",className:"!text-gray-700",children:d.description})]})]}),e.jsx(ct,{data:p,actions:e.jsx(b,{children:e.jsxs(f,{variant:"body1",className:"!font-semibold",children:["Batch Lots (",p.length,")"]})}),columns:_,getRowId:S=>S.id,initialOrderBy:"batch_number",emptyMessage:"No batch lots found for this product",pagination:!1})]})},F8e=async t=>{try{return(await ie.get("/promotions",{params:t})).data}catch(s){throw s}},L8e=async t=>{try{return(await ie.get(`/promotions/${t}`)).data}catch(s){throw s}},$8e=async t=>(await ie.post("/promotions",t)).data,z8e=async(t,s)=>(await ie.put(`/promotions/${t}`,s)).data,q8e=async t=>(await ie.delete(`/promotions/${t}`)).data,B8e=async t=>(await ie.patch(`/promotions/${t}/activate`)).data,U8e=async t=>(await ie.patch(`/promotions/${t}/deactivate`)).data,V8e=async t=>(await ie.post("/promotions/calculate",t)).data,H8e=async t=>(await ie.post("/promotions/apply",t)).data,W8e=async(t,s)=>(await ie.post(`/promotions/${t}/settle-period`,s)).data,Nn={all:["promotions"],lists:()=>[...Nn.all,"list"],list:t=>[...Nn.lists(),t],details:()=>[...Nn.all,"detail"],detail:t=>[...Nn.details(),t]},Y8e=(t,s)=>st({queryKey:Nn.list(t),queryFn:()=>F8e(t),staleTime:300*1e3,...s}),s$=(t,s)=>st({queryKey:Nn.detail(t),queryFn:()=>L8e(t),enabled:!!t,staleTime:300*1e3,...s}),G8e=t=>{const s=is();return Te({mutationFn:$8e,loadingMessage:"Creating promotion...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Nn.lists()}),a?.data?.id&&s.invalidateQueries({queryKey:Nn.detail(a.data.id)})},onError:t?.onError})},K8e=t=>{const s=is();return Te({mutationFn:({id:a,data:r})=>z8e(a,r),loadingMessage:"Updating promotion...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Nn.lists()}),s.invalidateQueries({queryKey:Nn.detail(r.id)})},onError:t?.onError})},Q8e=(t,s)=>{const a=is();return Te({mutationFn:()=>B8e(t),loadingMessage:"Activating promotion...",onSuccess:r=>{a.invalidateQueries({queryKey:Nn.lists()}),a.invalidateQueries({queryKey:Nn.detail(t)}),s?.onSuccess?.(r)},onError:s?.onError})},Z8e=(t,s)=>{const a=is();return Te({mutationFn:()=>U8e(t),loadingMessage:"Deactivating promotion...",onSuccess:r=>{a.invalidateQueries({queryKey:Nn.lists()}),a.invalidateQueries({queryKey:Nn.detail(t)}),s?.onSuccess?.(r)},onError:s?.onError})},X8e=t=>Te({mutationFn:V8e,loadingMessage:"Calculating eligible promotions...",onSuccess:t?.onSuccess,onError:t?.onError}),J8e=t=>Te({mutationFn:H8e,loadingMessage:"Applying promotion...",onSuccess:t?.onSuccess,onError:t?.onError}),eMe=(t,s)=>{const a=is();return Te({mutationFn:r=>W8e(t,r),loadingMessage:"Settling period promotion...",onSuccess:(r,n)=>{a.invalidateQueries({queryKey:Nn.detail(t)}),s?.onSuccess?.(r,n)},onError:s?.onError})},tMe=["Price","Quantity"],sMe=["Free Product","Percent","Amount"],aMe=["Cash","Credit","Both"],rMe=["(B) Distributor Channel","(C) Customer Channel"],nMe=["All","Invoice","Waybill","Order"],iMe=["Normal","Exclusive","Priority"],oMe=["Normal","Override","Combine"],lMe=nt({name:ce().required("Name is required"),start_date:ce().required("Start date is required"),finish_date:ce().required("Finish date is required").test("is-after-start","Finish date must be after start date",function(t){const{start_date:s}=this.parent;return!t||!s?!0:new Date(t)>=new Date(s)}),description:ce(),is_active:ce().oneOf(["Y","N"]).required()}),a$=({selectedPromotion:t,setSelectedPromotion:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,{data:i,isLoading:o}=s$(t?.id||null,{enabled:!!t?.id}),{data:l}=Mu({limit:1e3},{enabled:a}),c=l?.data||[],{data:m}=_i({limit:1e3,isActive:"Y"},{enabled:a}),d=m?.data||[],{data:p}=ul({limit:1e3,isActive:"Y"},{enabled:a}),x=p?.data||[],{data:j}=$p({limit:1e3,isActive:"Y"},{enabled:a}),_=j?.data||[],{data:S}=w3({limit:1e3,is_active:"Y"},{enabled:a}),v=S?.data||[],{data:y}=_3({limit:1e3,is_active:"Y"},{enabled:a}),N=y?.data||[],{data:C}=S3({limit:1e3,is_active:"Y"},{enabled:a}),P=C?.data||[],{data:E}=Tu({limit:1e3,status:"Active"},{enabled:a}),D=E?.data||[],{data:T}=Gn({limit:1e3,isActive:"Y"},{enabled:a}),A=T?.data||[],{data:I}=zp({limit:1e3},{enabled:a}),F=I?.data||[],{data:z}=S1({limit:1e3},{enabled:a}),O=z?.data||[],K=G8e(),W=K8e(),[B,q]=g.useState([]),[H,Q]=g.useState([]),[V,M]=g.useState([]),[R,$]=g.useState(0),[Y,J]=g.useState([]),[te,ee]=g.useState([]),[ne,he]=g.useState([]),[de,ae]=g.useState([]),[xe,ge]=g.useState([]),[le,me]=g.useState([]),[Ae,Ce]=g.useState([]),[_e,Ie]=g.useState([]),[et,ke]=g.useState(null),[He,be]=g.useState(0),[Ge,at]=g.useState("Price"),[vt,dt]=g.useState(0),[ft,Mt]=g.useState(""),[ye,Le]=g.useState(""),[ze,jt]=g.useState("n. Prod. Gr."),[es,Qt]=g.useState(""),[rt,zt]=g.useState(""),[_t,hs]=g.useState("Free Product"),[cs,Ns]=g.useState(""),[Gs,Is]=g.useState(null),[Ds,pa]=g.useState({group:"",product:"",at_least:"",unit:"unit"}),[ha,oa]=g.useState({}),qt=g.useRef(null);g.useEffect(()=>{if(!i?.data||!n){q(qe=>qe.length>0?[]:qe),Q(qe=>qe.length>0?[]:qe),M(qe=>qe.length>0?[]:qe),J(qe=>qe.length>0?[]:qe),ee(qe=>qe.length>0?[]:qe),he(qe=>qe.length>0?[]:qe),ge(qe=>qe.length>0?[]:qe),me(qe=>qe.length>0?[]:qe),Ce(qe=>qe.length>0?[]:qe),Ie(qe=>qe.length>0?[]:qe);return}const ue=i.data;if(ue.conditions&&Array.isArray(ue.conditions)){const qe=[];ue.conditions.forEach((At,Ee)=>{if(At.promotion_condition_products&&Array.isArray(At.promotion_condition_products)&&At.promotion_condition_products.length>0){const Ue=At.promotion_condition_products[0];qe.push({_index:Ee,id:At.id,product_id:Ue.product_id,product_group:Ue.product_group,min_quantity:Number(Ue.condition_quantity)||0,unit:"unit",type:At.condition_type==="PRICE"?"Price":(At.condition_type==="QUANTITY","Quantity")})}}),q(At=>{const Ee=JSON.stringify(At),Ue=JSON.stringify(qe);return Ee!==Ue?qe:At})}else q(qe=>qe.length>0?[]:qe);const Me=[];ue.depots&&Array.isArray(ue.depots)&&ue.depots.forEach(qe=>{qe.depot_id&&Me.push(qe.depot_id)}),J(qe=>{const At=qe.sort().join(","),Ee=Me.sort().join(",");return At!==Ee?Me:qe});const Oe=[];ue.routes&&Array.isArray(ue.routes)&&ue.routes.forEach(qe=>{qe.route_id&&Oe.push(qe.route_id)}),he(qe=>{const At=qe.sort().join(","),Ee=Oe.sort().join(",");return At!==Ee?Oe:qe});const xt=[];ue.salespersons&&Array.isArray(ue.salespersons)&&ue.salespersons.forEach(qe=>{qe.salesperson_id&&xt.push(qe.salesperson_id)}),ae(qe=>{const At=qe.sort().join(","),Ee=xt.sort().join(",");return At!==Ee?xt:qe});const Ct=[];if(ue.zones&&Array.isArray(ue.zones)&&ue.zones.forEach(qe=>{qe.zone_id&&Ct.push(qe.zone_id)}),ee(qe=>{const At=qe.sort().join(","),Ee=Ct.sort().join(",");return At!==Ee?Ct:qe}),ue.customer_exclusions&&Array.isArray(ue.customer_exclusions)){const qe=[];ue.customer_exclusions.forEach(At=>{At.customer_id&&qe.push(At.customer_id)}),ge(At=>{const Ee=At.sort().join(","),Ue=qe.sort().join(",");return Ee!==Ue?qe:At})}else ge(qe=>qe.length>0?[]:qe);if(ue.customer_categories&&Array.isArray(ue.customer_categories)){const qe=[];ue.customer_categories.forEach(Ee=>{Ee.customer_category_id&&qe.push(Ee.customer_category_id)}),Ce(Ee=>{const Ue=Ee.sort().join(","),Dt=qe.sort().join(",");return Ue!==Dt?qe:Ee});const At=[];qe.forEach((Ee,Ue)=>{At.push({_index:Ue,id:Ee,outlet_condition:"Distributor",dist:"",outlet_value:"",start:ue.start_date?new Date(ue.start_date).toISOString().split("T")[0]:"",finish:ue.end_date?new Date(ue.end_date).toISOString().split("T")[0]:"",group:Ee.toString(),distributor_id:Me.length>0?Me[0].toString():""})}),Q(Ee=>{const Ue=JSON.stringify(Ee),Dt=JSON.stringify(At);return Ue!==Dt?At:Ee})}else Q(qe=>qe.length>0?[]:qe),Ce(qe=>qe.length>0?[]:qe);const Kt=[];ue.customer_types&&Array.isArray(ue.customer_types)&&ue.customer_types.forEach(qe=>{qe.customer_type_id&&Kt.push(qe.customer_type_id)}),me(qe=>{const At=qe.sort().join(","),Ee=Kt.sort().join(",");return At!==Ee?Kt:qe});const as=[];if(ue.customer_channels&&Array.isArray(ue.customer_channels)&&ue.customer_channels.forEach(qe=>{qe.customer_channel_id&&as.push(qe.customer_channel_id)}),Ie(qe=>{const At=qe.sort().join(","),Ee=as.sort().join(",");return At!==Ee?as:qe}),ue.levels&&Array.isArray(ue.levels)){const qe=[];ue.levels.forEach(At=>{At.promotion_benefit_level&&Array.isArray(At.promotion_benefit_level)&&At.promotion_benefit_level.forEach(Ee=>{if(Ee.product_id){const Ue=Ee.benefit_type==="FREE_PRODUCT"?"Free Product":Ee.benefit_type==="PERCENT"?"Percent":"Amount";qe.push({_index:qe.length,id:Ee.id,level_id:At.id,type:Ue,application:Ee.condition_type||"n. Prod. Gr.",gift:`${Ee.benefit_value||""} ${Ee.promotion_benefit_products?.name||""}`,product_id:Ee.product_id,product_name:Ee.promotion_benefit_products?.name||"",benefit_value:Number(Ee.benefit_value)||0,gift_limit:Number(Ee.gift_limit)||0})}})}),M(At=>{const Ee=JSON.stringify(At),Ue=JSON.stringify(qe);return Ee!==Ue?qe:At})}else M(qe=>qe.length>0?[]:qe)},[i?.data?.id,n]);const zs=()=>{pa({group:"",product:"",at_least:"0",unit:"unit"}),at("Price"),be(0)},Bt=()=>{s(null),r(!1),q([]),Q([]),M([]),ke(null),Is(null),J([]),ee([]),he([]),ae([]),ge([]),me([]),Ce([]),Ie([]),Qt(""),zt(""),Mt(""),Le(""),jt("n. Prod. Gr."),Ns(""),at("Price"),be(0),Ut.resetForm(),zs()},Ut=pt({initialValues:{name:t?.name||"",short_name:t?.name||"",code:t?.code||"",pay_type:"Cash",scope:"(B) Distributor Channel",slip_type:"All",mandatory:!1,prom_conflict:"Normal",degree:"1",nr:"1",reg_disc_conf:"Normal",conflict_with_constant_disc:!1,start_date:t?.start_date?new Date(t.start_date).toISOString().split("T")[0]:"",finish_date:t?.end_date?new Date(t.end_date).toISOString().split("T")[0]:"",platform:["Mobile"],group:"",dist_comp_participation_min:"0",dist_comp_participation_max:"100",quantity_type:"Price",description:t?.description||"",is_active:t?.is_active||"Y"},validationSchema:lMe,enableReinitialize:!0,onSubmit:async ue=>{try{const Me=(Rs,Fa)=>Array.from(new Set(Rs.filter(Ha=>Ha[Fa]).map(Ha=>Number(Ha[Fa])))),Oe=Me(H,"distributor_id"),xt=Array.from(new Set([...Y,...Oe])),Ct=xt.length>0?xt:void 0,Kt=Me(H,"group"),as=Array.from(new Set([...Ae,...Kt])),qe=as.length>0?as:void 0,At=ne.length>0?ne:void 0,Ee=te.length>0?te:void 0,Ue=de.length>0?de:void 0,Dt=xe.length>0?xe:void 0,Zt=le.length>0?le:void 0,Yt=_e.length>0?_e:void 0,Vs=B.filter(Rs=>Rs.product_id||Rs.product_group).map(Rs=>{const Fa=Rs.product_id?c.find(Jr=>Jr.id===Rs.product_id):null,Ha=F.length>0?F[0].id:null;return{product_id:Rs.product_group?void 0:Rs.product_id,category_id:Fa?.category_id||Ha,product_group:Rs.product_group,min_quantity:Rs.min_quantity||0,min_value:Rs.min_quantity||0,quantity_type:(Rs.type||"Quantity").toUpperCase()}}),Qs=V.filter(Rs=>Rs.product_id).map(Rs=>({benefit_type:Rs.type==="Free Product"?"FREE_PRODUCT":Rs.type==="Percent"?"PERCENT":"AMOUNT",product_id:Rs.product_id,benefit_value:Rs.benefit_value||0,condition_type:Rs.application,gift_limit:Rs.gift_limit||0})),mr={name:ue.name,description:ue.description,start_date:ue.start_date,end_date:ue.finish_date,platforms:["Mobile"],quantity_type:(ue.quantity_type||"QUANTITY").toUpperCase(),product_conditions:Vs.length>0?Vs:void 0,location_areas:Ct,routes:At,zones:Ee,salespersons:Ue,customer_exclusions:Dt,outlet1_groups:qe,customer_types:Zt,customer_channels:Yt,levels:Qs.length>0?[{level_number:1,threshold_value:0,discount_type:"PERCENTAGE",discount_value:0,benefits:Qs}]:void 0};if(n&&t){const Rs=Me(H,"distributor_id"),Fa=Array.from(new Set([...Y,...Rs])),Ha=Fa.length>0?Fa:void 0,Jr=Me(H,"group"),Ps=Array.from(new Set([...Ae,...Jr])),Xa=Ps.length>0?Ps:void 0,Pr=ne.length>0?ne:void 0,Ts=te.length>0?te:void 0,jr=de.length>0?de:void 0,lo=xe.length>0?xe:void 0,Ja=le.length>0?le:void 0,Ra=_e.length>0?_e:void 0;await W.mutateAsync({id:t.id,data:{name:ue.name,start_date:ue.start_date,end_date:ue.finish_date,description:ue.description,is_active:ue.is_active,platforms:["Mobile"],quantity_type:(ue.quantity_type||"QUANTITY").toUpperCase(),product_conditions:Vs.length>0?Vs:void 0,location_areas:Ha,routes:Pr,zones:Ts,salespersons:jr,customer_exclusions:lo,outlet1_groups:Xa,customer_types:Ja,customer_channels:Ra,levels:Qs.length>0?[{level_number:1,threshold_value:0,discount_type:"PERCENTAGE",discount_value:0,benefits:Qs}]:void 0}})}else await K.mutateAsync(mr);Bt(),J([]),ee([]),he([]),ae([]),ge([]),me([]),Ce([]),Ie([])}catch(Me){console.error("Error saving promotion:",Me)}}}),ds=()=>{if(!Ds.group&&!Ds.product){oa({...ha,productCondition_new:"Product or Product Category must be selected"}),setTimeout(()=>{qt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);return}if(!Ds.at_least||parseFloat(Ds.at_least)<=0){oa({...ha,productCondition_quantity_new:"At least value must be greater than 0"}),setTimeout(()=>{qt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);return}const ue={_index:B.length,product_group:Ds.group,product_id:Ds.product?parseInt(Ds.product):void 0,min_quantity:parseFloat(Ds.at_least)||0,unit:Ge==="Quantity"?Ds.unit:void 0,type:Ge};q([...B,ue]),zs(),oa({})},ve=ue=>{q(B.filter((Me,Oe)=>Oe!==ue))},Pe=(ue,Me,Oe)=>{const xt=[...B];xt[ue]={...xt[ue],[Me]:Oe},q(xt)},Be=ue=>{M(V.filter((Me,Oe)=>Oe!==ue))},gt=(ue,Me,Oe)=>{const xt=[...V];xt[ue]={...xt[ue],[Me]:Oe},M(xt)};return o&&n?e.jsx(it,{open:a,setOpen:Bt,title:n?"Edit Promotion":"Create Promotion",size:"extra-large",children:e.jsxs(b,{className:"!p-4",children:[e.jsxs(b,{className:"!grid !grid-cols-2 !gap-3",children:[e.jsxs(la,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(X,{variant:"text",width:"60%",height:28,className:"!mb-2"}),e.jsxs(b,{className:"!grid !grid-cols-2 !gap-4",children:[e.jsx(X,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:56,className:"!rounded"})]})]}),e.jsxs(la,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(X,{variant:"text",width:"50%",height:28,className:"!mb-2"}),e.jsx(X,{variant:"rectangular",height:48,className:"!rounded !mb-3"}),e.jsx(X,{variant:"rectangular",height:40,className:"!rounded !mb-3"}),e.jsxs(b,{className:"!max-h-64 !overflow-hidden !border !border-gray-200 !rounded !p-2",children:[e.jsx(X,{variant:"rectangular",height:32,className:"!rounded !mb-2"}),e.jsx(X,{variant:"rectangular",height:32,className:"!rounded !mb-2"}),e.jsx(X,{variant:"rectangular",height:32,className:"!rounded !mb-2"}),e.jsx(X,{variant:"rectangular",height:32,className:"!rounded !mb-2"}),e.jsx(X,{variant:"rectangular",height:32,className:"!rounded !mb-2"})]})]}),e.jsxs(la,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(X,{variant:"text",width:"70%",height:28,className:"!mb-2"}),e.jsxs(b,{className:"!mb-2",children:[e.jsx(X,{variant:"text",width:"30%",height:20,className:"!mb-1"}),e.jsxs(b,{className:"!flex !gap-4",children:[e.jsx(X,{variant:"rectangular",width:100,height:40,className:"!rounded"}),e.jsx(X,{variant:"rectangular",width:100,height:40,className:"!rounded"}),e.jsx(X,{variant:"rectangular",width:100,height:40,className:"!rounded"})]})]}),e.jsxs(b,{className:"!space-y-2 !mt-2",children:[e.jsxs(b,{className:"!grid !grid-cols-2 !gap-4",children:[e.jsx(X,{variant:"rectangular",height:40,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:40,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:40,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:40,className:"!rounded"})]}),e.jsxs(b,{className:"!flex !gap-2",children:[e.jsx(X,{variant:"rectangular",width:80,height:36,className:"!rounded"}),e.jsx(X,{variant:"rectangular",width:80,height:36,className:"!rounded"}),e.jsx(X,{variant:"rectangular",width:80,height:36,className:"!rounded"})]})]})]}),e.jsxs(la,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(X,{variant:"text",width:"40%",height:28,className:"!mb-2"}),e.jsxs(b,{className:"!mb-4",children:[e.jsx(X,{variant:"text",width:"20%",height:20,className:"!mb-1"}),e.jsxs(b,{className:"!flex !gap-4",children:[e.jsx(X,{variant:"rectangular",width:120,height:40,className:"!rounded"}),e.jsx(X,{variant:"rectangular",width:120,height:40,className:"!rounded"}),e.jsx(X,{variant:"rectangular",width:120,height:40,className:"!rounded"})]})]}),e.jsxs(b,{className:"!space-y-4 !mt-2",children:[e.jsxs(b,{className:"!grid !grid-cols-2 !gap-4",children:[e.jsx(X,{variant:"rectangular",height:40,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:40,className:"!rounded"})]}),e.jsx(X,{variant:"rectangular",height:48,className:"!rounded"}),e.jsx(X,{variant:"rectangular",height:40,className:"!rounded"}),e.jsxs(b,{className:"!flex !gap-2",children:[e.jsx(X,{variant:"rectangular",width:80,height:36,className:"!rounded"}),e.jsx(X,{variant:"rectangular",width:80,height:36,className:"!rounded"}),e.jsx(X,{variant:"rectangular",width:80,height:36,className:"!rounded"})]})]})]})]}),e.jsxs(b,{className:"!mt-2 !flex !gap-2 !justify-end !col-span-2",children:[e.jsx(X,{variant:"rectangular",width:100,height:40,className:"!rounded"}),e.jsx(X,{variant:"rectangular",width:100,height:40,className:"!rounded"})]})]})}):e.jsx(it,{open:a,setOpen:Bt,title:n?"Edit Promotion":"Create Promotion",size:"extra-large",children:e.jsxs(b,{className:"!p-4",children:[Object.keys(ha).length>0&&e.jsx(b,{ref:qt,children:e.jsxs(lt,{severity:"error",className:"!mb-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-semibold !mb-1",children:"Please fix the following errors:"}),e.jsx("ul",{className:"!list-disc !list-inside !space-y-1",children:Object.values(ha).map((ue,Me)=>e.jsx("li",{className:"!text-sm",children:ue},Me))})]})}),e.jsxs("form",{onSubmit:Ut.handleSubmit,className:"!grid !grid-cols-2 !gap-3",children:[e.jsxs(la,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2 !text-base",children:"Header Information"}),e.jsxs(b,{className:"!grid !grid-cols-2 !gap-4",children:[e.jsx(oe,{name:"name",label:"Name",formik:Ut,required:!0,fullWidth:!0}),e.jsx(oe,{name:"short_name",label:"Short Name",formik:Ut,fullWidth:!0}),e.jsx(oe,{name:"code",label:"Code",formik:Ut,required:!0,fullWidth:!0}),e.jsx(Se,{name:"pay_type",label:"Pay Type",formik:Ut,fullWidth:!0,children:aMe.map(ue=>e.jsx(Z,{value:ue,children:ue},ue))}),e.jsx(Se,{name:"scope",label:"Scope",formik:Ut,fullWidth:!0,children:rMe.map(ue=>e.jsx(Z,{value:ue,children:ue},ue))}),e.jsx(Se,{name:"slip_type",label:"Slip Type",formik:Ut,fullWidth:!0,children:nMe.map(ue=>e.jsx(Z,{value:ue,children:ue},ue))}),e.jsx(Se,{name:"prom_conflict",label:"Prom. Conflict",formik:Ut,fullWidth:!0,children:iMe.map(ue=>e.jsx(Z,{value:ue,children:ue},ue))}),e.jsx(oe,{name:"degree",label:"Degree",type:"number",formik:Ut,fullWidth:!0}),e.jsx(oe,{name:"nr",label:"Nr",type:"number",formik:Ut,fullWidth:!0}),e.jsx(Se,{name:"reg_disc_conf",label:"Reg.Disc. Conf.",formik:Ut,fullWidth:!0,children:oMe.map(ue=>e.jsx(Z,{value:ue,children:ue},ue))}),e.jsx(oe,{name:"start_date",label:"Start",type:"date",formik:Ut,required:!0,fullWidth:!0}),e.jsx(oe,{name:"finish_date",label:"Finish",type:"date",formik:Ut,required:!0,fullWidth:!0})]})]}),e.jsxs(la,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2 !text-base",children:"Suitable Outlets"}),e.jsx(b,{className:"!mb-3 !border !border-gray-400/50 !rounded",children:e.jsxs(jo,{value:R,onChange:(ue,Me)=>{$(Me)},variant:"scrollable",scrollButtons:"auto",className:"!min-h-9.5",children:[e.jsx(Cs,{label:`Depots ${Y.length>0?`(${Y.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Cs,{label:`Zones ${te.length>0?`(${te.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Cs,{label:`Routes ${ne.length>0?`(${ne.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Cs,{label:`Sales Persons ${de.length>0?`(${de.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Cs,{label:`Outlet ${xe.length>0?`(${xe.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Cs,{label:`Customer Type ${le.length>0?`(${le.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Cs,{label:`Customer Category ${Ae.length>0?`(${Ae.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Cs,{label:`Customer Channel ${_e.length>0?`(${_e.length})`:""}`,className:"!min-h-9.5"})]})}),e.jsxs(b,{className:"!mb-3",children:[R===0&&e.jsx(ir,{multiple:!0,options:d,getOptionLabel:ue=>`${ue.name} (${ue.code})`,value:d.filter(ue=>Y.includes(ue.id)),onChange:(ue,Me)=>{J(Me.map(Oe=>Oe.id))},size:"small",fullWidth:!0,filterOptions:(ue,Me)=>ue.filter(xt=>{const Ct=Me.inputValue.toLowerCase();return xt.name?.toLowerCase().includes(Ct)||xt.code?.toLowerCase().includes(Ct)}),renderInput:ue=>e.jsx(Ba,{...ue,placeholder:"Search and select Depots...",size:"small"}),renderTags:()=>null}),R===1&&e.jsx(ir,{multiple:!0,options:x,getOptionLabel:ue=>ue.name,value:x.filter(ue=>te.includes(ue.id)),onChange:(ue,Me)=>{ee(Me.map(Oe=>Oe.id))},size:"small",fullWidth:!0,filterOptions:(ue,Me)=>ue.filter(xt=>{const Ct=Me.inputValue.toLowerCase();return xt.name?.toLowerCase().includes(Ct)}),renderInput:ue=>e.jsx(Ba,{...ue,placeholder:"Search and select Zones...",size:"small"}),renderTags:()=>null}),R===2&&e.jsx(ir,{multiple:!0,options:D,getOptionLabel:ue=>`${ue.name||ue.code||`Route ${ue.id}`} ${ue.code?`(${ue.code})`:""}`,value:D.filter(ue=>ne.includes(ue.id)),onChange:(ue,Me)=>{he(Me.map(Oe=>Oe.id))},size:"small",fullWidth:!0,filterOptions:(ue,Me)=>ue.filter(xt=>{const Ct=Me.inputValue.toLowerCase();return xt.name?.toLowerCase().includes(Ct)||xt.code?.toLowerCase().includes(Ct)}),renderInput:ue=>e.jsx(Ba,{...ue,placeholder:"Search and select Routes...",size:"small"}),renderTags:()=>null}),R===3&&e.jsx(ir,{multiple:!0,options:A,getOptionLabel:ue=>`${ue.name} ${ue.email?`(${ue.email})`:""}`,value:A.filter(ue=>de.includes(ue.id)),onChange:(ue,Me)=>{ae(Me.map(Oe=>Oe.id))},size:"small",fullWidth:!0,filterOptions:(ue,Me)=>ue.filter(xt=>{const Ct=Me.inputValue.toLowerCase();return xt.name?.toLowerCase().includes(Ct)||xt.email?.toLowerCase().includes(Ct)}),renderInput:ue=>e.jsx(Ba,{...ue,placeholder:"Search and select Sales Persons...",size:"small"}),renderTags:()=>null}),R===4&&e.jsx(ir,{multiple:!0,options:_,getOptionLabel:ue=>`${ue.name} (${ue.code})`,value:_.filter(ue=>xe.includes(ue.id)),onChange:(ue,Me)=>{ge(Me.map(Oe=>Oe.id))},size:"small",fullWidth:!0,filterOptions:(ue,Me)=>ue.filter(xt=>{const Ct=Me.inputValue.toLowerCase();return xt.name?.toLowerCase().includes(Ct)||xt.code?.toLowerCase().includes(Ct)}),renderInput:ue=>e.jsx(Ba,{...ue,placeholder:"Search and select Outlets...",size:"small"}),renderTags:()=>null}),R===5&&e.jsx(ir,{multiple:!0,options:v,getOptionLabel:ue=>`${ue.type_name} (${ue.type_code})`,value:v.filter(ue=>le.includes(ue.id)),onChange:(ue,Me)=>{me(Me.map(Oe=>Oe.id))},size:"small",fullWidth:!0,filterOptions:(ue,Me)=>ue.filter(xt=>{const Ct=Me.inputValue.toLowerCase();return xt.type_name?.toLowerCase().includes(Ct)||xt.type_code?.toLowerCase().includes(Ct)}),renderInput:ue=>e.jsx(Ba,{...ue,placeholder:"Search and select Customer Types...",size:"small"}),renderTags:()=>null}),R===6&&e.jsx(ir,{multiple:!0,options:N,getOptionLabel:ue=>`${ue.category_name} (${ue.category_code})`,value:N.filter(ue=>Ae.includes(ue.id)),onChange:(ue,Me)=>{Ce(Me.map(Oe=>Oe.id))},size:"small",fullWidth:!0,filterOptions:(ue,Me)=>ue.filter(xt=>{const Ct=Me.inputValue.toLowerCase();return xt.category_name?.toLowerCase().includes(Ct)||xt.category_code?.toLowerCase().includes(Ct)}),renderInput:ue=>e.jsx(Ba,{...ue,placeholder:"Search and select Customer Categories...",size:"small"}),renderTags:()=>null}),R===7&&e.jsx(ir,{multiple:!0,options:P,getOptionLabel:ue=>`${ue.channel_name} (${ue.channel_code})`,value:P.filter(ue=>_e.includes(ue.id)),onChange:(ue,Me)=>{Ie(Me.map(Oe=>Oe.id))},size:"small",fullWidth:!0,filterOptions:(ue,Me)=>ue.filter(xt=>{const Ct=Me.inputValue.toLowerCase();return xt.channel_name?.toLowerCase().includes(Ct)||xt.channel_code?.toLowerCase().includes(Ct)}),renderInput:ue=>e.jsx(Ba,{...ue,placeholder:"Search and select Customer Channels...",size:"small"}),renderTags:()=>null})]}),(R===0&&Y.length>0||R===1&&te.length>0||R===2&&ne.length>0||R===3&&de.length>0||R===4&&xe.length>0||R===5&&le.length>0||R===6&&Ae.length>0||R===7&&_e.length>0)&&e.jsx(b,{className:"!mt-3 !border !border-gray-200 !rounded",children:e.jsxs(b,{className:"!max-h-52 !overflow-y-auto",children:[R===0&&Y.map(ue=>{const Me=d.find(Oe=>Oe.id===ue);return Me?e.jsxs(b,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsxs(f,{variant:"body2",children:[Me.name," (",Me.code,")"]}),e.jsx(Ws,{size:"small",onClick:()=>{J(Y.filter(Oe=>Oe!==ue))},children:e.jsx(Lr,{fontSize:"small"})})]},ue):null}),R===1&&te.map(ue=>{const Me=x.find(Oe=>Oe.id===ue);return Me?e.jsxs(b,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsx(f,{variant:"body2",children:Me.name}),e.jsx(Ws,{size:"small",onClick:()=>{ee(te.filter(Oe=>Oe!==ue))},children:e.jsx(Lr,{fontSize:"small"})})]},ue):null}),R===2&&ne.map(ue=>{const Me=D.find(Oe=>Oe.id===ue);return Me?e.jsxs(b,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsxs(f,{variant:"body2",children:[Me.name||Me.code||`Route ${Me.id}`," ",Me.code?`(${Me.code})`:""]}),e.jsx(Ws,{size:"small",onClick:()=>{he(ne.filter(Oe=>Oe!==ue))},children:e.jsx(Lr,{fontSize:"small"})})]},ue):null}),R===3&&de.map(ue=>{const Me=A.find(Oe=>Oe.id===ue);return Me?e.jsxs(b,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsxs(f,{variant:"body2",children:[Me.name," ",Me.email?`(${Me.email})`:""]}),e.jsx(Ws,{size:"small",onClick:()=>{ae(de.filter(Oe=>Oe!==ue))},children:e.jsx(Lr,{fontSize:"small"})})]},ue):null}),R===4&&xe.map(ue=>{const Me=_.find(Oe=>Oe.id===ue);return Me?e.jsxs(b,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsxs(f,{variant:"body2",children:[Me.name," (",Me.code,")"]}),e.jsx(Ws,{size:"small",onClick:()=>{ge(xe.filter(Oe=>Oe!==ue))},children:e.jsx(Lr,{fontSize:"small"})})]},ue):null}),R===5&&le.map(ue=>{const Me=v.find(Oe=>Oe.id===ue);return Me?e.jsxs(b,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsxs(f,{variant:"body2",children:[Me.type_name," (",Me.type_code,")"]}),e.jsx(Ws,{size:"small",onClick:()=>{me(le.filter(Oe=>Oe!==ue))},children:e.jsx(Lr,{fontSize:"small"})})]},ue):null}),R===6&&Ae.map(ue=>{const Me=N.find(Oe=>Oe.id===ue);return Me?e.jsxs(b,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsxs(f,{variant:"body2",children:[Me.category_name," (",Me.category_code,")"]}),e.jsx(Ws,{size:"small",onClick:()=>{Ce(Ae.filter(Oe=>Oe!==ue))},children:e.jsx(Lr,{fontSize:"small"})})]},ue):null}),R===7&&_e.map(ue=>{const Me=P.find(Oe=>Oe.id===ue);return Me?e.jsxs(b,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsxs(f,{variant:"body2",className:"!text-sm",children:[Me.channel_name," (",Me.channel_code,")"]}),e.jsx(Ws,{size:"small",onClick:()=>{Ie(_e.filter(Oe=>Oe!==ue))},children:e.jsx(Lr,{fontSize:"small"})})]},ue):null})]})})]}),e.jsxs(la,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(f,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2 !text-base",children:["Promotion Product Condition"," ",e.jsxs("span",{className:"!text-gray-500",children:["(",B.length||0,")"]})]}),e.jsxs(b,{className:"!mb-2",children:[e.jsx(f,{className:"!mb-1 !text-xs !font-medium",children:"Type"}),e.jsx(Cx,{value:Ge,onChange:ue=>{const Me=ue.target.value;at(Me),pa({...Ds,product:"",group:"",unit:Me==="Price"?void 0:Ds.unit||"unit"})},row:!0,children:tMe.map(ue=>e.jsx(On,{value:ue,control:e.jsx(Sx,{}),label:ue},ue))})]}),B.length>0&&e.jsx(b,{className:"!mb-4",children:e.jsx(ct,{data:B.map((ue,Me)=>({id:ue._index,type:ue.type||"Quantity",product_group:ue.product_group||ue.product_id&&c.find(Oe=>Oe.id===ue.product_id)?.name||"-",at_least:ue.type==="Price"?`${ue.min_quantity||0}`:`${ue.min_quantity||0} ${ue.unit||"unit"}`,_index:Me})),columns:[{id:"type",label:"Type"},{id:"product_group",label:"Product/Category"},{id:"at_least",label:"At least"},{id:"actions",label:"Actions",render:(ue,Me)=>e.jsxs(b,{className:"!flex !gap-2",children:[e.jsx(ss,{onClick:()=>{const Oe=B[Me._index];ke(Me._index),pa({group:Oe.product_group||"",product:Oe.product_id?.toString()||"",at_least:Oe.min_quantity?.toString()||"",unit:Oe.type==="Price"?void 0:Oe.unit||"unit"}),at(Oe.type||"Quantity"),Oe.product_id?be(0):Oe.product_group&&be(1)},tooltip:"Edit condition",size:"small"}),e.jsx(Ht,{onClick:()=>ve(Me._index),tooltip:"Delete condition",size:"small"})]})}],pagination:!1,sortable:!1,compact:!0})}),e.jsxs(b,{className:"!space-y-4 !mt-2",children:[e.jsxs(b,{className:"!grid !grid-cols-2 !gap-4",children:[e.jsx(oe,{type:"number",value:Ds.at_least||"",onChange:ue=>pa({...Ds,at_least:ue.target.value}),label:`At least (${Ge==="Quantity"?"Quantity":"Price"})`,size:"small",fullWidth:!0}),Ge==="Quantity"&&e.jsxs(Se,{value:Ds.unit,onChange:ue=>pa({...Ds,unit:ue.target.value}),size:"small",fullWidth:!0,children:[e.jsx(Z,{value:"unit",children:"unit"}),O.map(ue=>e.jsx(Z,{value:ue.name,children:ue.name},ue.id))]})]}),e.jsx(b,{className:"rounded border border-gray-400/50",children:e.jsxs(jo,{value:He,onChange:(ue,Me)=>{be(Me),pa({...Ds,product:"",group:""})},variant:"scrollable",scrollButtons:"auto",className:"!min-h-9.5",children:[e.jsx(Cs,{label:"Product",className:"!min-h-9.5"}),e.jsx(Cs,{label:"Product Category",className:"!min-h-9.5"})]})}),He===0?e.jsx(wo,{label:"Product",value:Ds.product,onChange:(ue,Me)=>{const Oe=Me?Me.id.toString():"";pa({...Ds,product:Oe,group:""})},fullWidth:!0,size:"small"}):e.jsx(vu,{label:"Product Category",value:Ds.group,nameToSearch:Ds.group||"",onChange:(ue,Me)=>{const Oe=Me?Me.category_name:"";pa({...Ds,group:Oe,product:""})},fullWidth:!0,size:"small"}),e.jsxs(b,{className:"!flex !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{if(et!==null){const ue=et;Pe(ue,"product_group",Ds.group),Pe(ue,"product_id",Ds.product?parseInt(Ds.product):void 0),Pe(ue,"min_quantity",parseFloat(Ds.at_least)||0),Pe(ue,"unit",Ge==="Quantity"?Ds.unit:void 0),Pe(ue,"type",Ge),ke(null),zs(),oa({})}},disabled:et===null,children:"Update"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:ds,children:"New"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{et!==null&&(ve(et),ke(null),zs())},disabled:et===null,children:"Del"})]})]})]}),e.jsxs(la,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(f,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2 !text-base",children:["GIFT ",e.jsxs("span",{className:"!text-gray-500",children:["(",V.length,")"]})]}),e.jsxs(b,{className:"!mb-2",children:[e.jsx(f,{className:"!mb-1 !text-xs !font-medium",children:"Type"}),e.jsx(Cx,{value:_t,onChange:ue=>{const Me=ue.target.value;if(hs(Me),Me==="Percent"&&es){const Oe=parseFloat(es);!isNaN(Oe)&&Oe>100?Ns("Percent value cannot be more than 100"):Ns("")}else Ns("")},row:!0,children:sMe.map(ue=>e.jsx(On,{value:ue,control:e.jsx(Sx,{}),label:ue},ue))})]}),V.length>0&&e.jsx(b,{className:"!mb-4",children:e.jsx(ct,{data:V.map((ue,Me)=>({id:Me,type:ue.type,application:ue.application,gift:ue.gift,_index:Me})),columns:[{id:"type",label:"Type"},{id:"application",label:"Application"},{id:"gift",label:"Gift",render:(ue,Me)=>{const Oe=V[Me._index];return Oe.product_name?`${Oe.benefit_value||""} ${Oe.product_name}`:Oe.gift}},{id:"actions",label:"Actions",render:(ue,Me)=>e.jsxs(b,{className:"!flex !gap-2",children:[e.jsx(ss,{onClick:()=>{const Oe=V[Me._index];Is(Me._index),Qt(Oe.benefit_value?.toString()||""),zt(Oe.gift_limit?.toString()||""),jt(Oe.application||"n. Prod. Gr."),Oe.type==="Free Product"?(Mt(Oe.product_id?.toString()||""),Le(Oe.product_name||""),dt(0)):(Mt(Oe.product_id?.toString()||""),Le(Oe.product_name||""),dt(1)),hs(Oe.type)},tooltip:"Edit gift",size:"small"}),e.jsx(Ht,{onClick:()=>Be(Me._index),tooltip:"Delete gift",size:"small"})]})}],pagination:!1,sortable:!1,compact:!0})}),e.jsxs(b,{className:"!space-y-4 !mt-2",children:[e.jsxs(b,{className:"!grid !grid-cols-2 !gap-4",children:[e.jsxs(b,{children:[e.jsx(oe,{label:`${_t==="Free Product"?"Free Product":_t==="Percent"?"Discount (Percent)":"Discount (Amount)"}`,type:"number",value:es||"",onChange:ue=>{const Me=ue.target.value;if(Qt(Me),_t==="Percent"){const Oe=parseFloat(Me);Me&&!isNaN(Oe)&&Oe>100?Ns("Percent value cannot be more than 100"):Ns("")}else Ns("")},fullWidth:!0,size:"small",error:!!cs}),cs&&e.jsx(f,{variant:"caption",className:"!text-red-500 !mt-1 !block",children:cs})]})," ",_t==="Percent"&&e.jsx(oe,{label:"Maximum Amount",type:"number",value:rt,onChange:ue=>zt(ue.target.value),fullWidth:!0,size:"small"})]}),e.jsx(b,{className:"rounded border border-gray-400/50",children:e.jsxs(jo,{value:vt,onChange:(ue,Me)=>{dt(Me),Mt("")},variant:"scrollable",scrollButtons:"auto",className:"!min-h-9.5",children:[e.jsx(Cs,{label:"Product",className:"!min-h-9.5"}),e.jsx(Cs,{label:"Product Category",className:"!min-h-9.5"})]})}),vt===0?e.jsx(wo,{label:"Product",value:ft,onChange:(ue,Me)=>{const Oe=Me?Me.id.toString():"";Mt(Oe),Le(Me?.name||"")},fullWidth:!0,size:"small"}):e.jsx(vu,{label:"Product Category",value:ye,nameToSearch:ye||"",onChange:(ue,Me)=>{const Oe=Me?Me.category_name:"";Mt(Oe),Le(Oe)},fullWidth:!0,size:"small"}),e.jsxs(b,{className:"!flex !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{if(!ft){oa({...ha,gift_update:"Product or Product Category must be selected"}),setTimeout(()=>{qt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);return}if(!es||parseFloat(es)<=0){oa({...ha,gift_disc_update:"Discount value must be greater than 0"}),setTimeout(()=>{qt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);return}if(_t==="Percent"){const ue=parseFloat(es);if(!isNaN(ue)&&ue>100){Ns("Percent value cannot be more than 100"),oa({...ha,gift_disc_update:"Percent value cannot be more than 100"}),setTimeout(()=>{qt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);return}}Gs!==null&&ft&&(gt(Gs,"type",_t),gt(Gs,"application",ze),gt(Gs,"gift",es?`${es} ${ye}`:""),gt(Gs,"product_id",parseInt(ft)),gt(Gs,"product_name",ye),gt(Gs,"benefit_value",parseFloat(es)||0),gt(Gs,"gift_limit",parseFloat(rt)||0),Is(null),Qt(""),zt(""),Mt(""),Le(""),jt("n. Prod. Gr."),Ns(""),oa({}))},disabled:!!cs||Gs===null,children:"Update"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{if(!ft){oa({...ha,gift_new:"Product or Product Category must be selected"}),setTimeout(()=>{qt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);return}if(!es||parseFloat(es)<=0){oa({...ha,gift_disc_new:"Discount value must be greater than 0"}),setTimeout(()=>{qt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);return}if(_t==="Percent"){const Me=parseFloat(es);if(!isNaN(Me)&&Me>100){Ns("Percent value cannot be more than 100"),oa({...ha,gift_disc_new:"Percent value cannot be more than 100"}),setTimeout(()=>{qt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);return}}const ue={_index:V.length,type:_t,application:ze,gift:es?`${es} ${ye||""}`:"",product_id:ft?parseInt(ft):void 0,product_name:ye,benefit_value:parseFloat(es)||0,gift_limit:parseFloat(rt)||0};M([...V,ue]),Qt("0"),zt("0"),Mt(""),Le(""),jt("n. Prod. Gr."),Ns(""),Is(null),oa({})},disabled:!!cs,children:"New"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{Gs!==null&&(Be(Gs),Is(null),Qt("0"),zt("0"),Mt(""),Le(""),jt("n. Prod. Gr."),Ns(""))},disabled:Gs===null,children:"Del"})]})]})]}),e.jsxs(b,{className:"!mt-2 !flex !gap-2 !justify-end !col-span-2",children:[e.jsx(G,{type:"button",variant:"outlined",size:"medium",onClick:Bt,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",size:"medium",disabled:K.isPending||W.isPending,children:n?"Update Promotion":"Create Promotion"})]})]})]})})},cMe=()=>{const t=Fs(),[s,a]=g.useState(""),[r,n]=g.useState("all"),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,d]=g.useState(1),[p]=g.useState(10),{isCreate:x,isUpdate:j,isDelete:_,isRead:S}=Ze("promotions"),{data:v,isFetching:y,error:N}=Y8e({search:s,page:m,limit:p,is_active:r==="all"?void 0:r==="active"?"Y":"N"}),C=v?.data||[],P=v?.pagination?.total_count||0,E=(v?.pagination?.current_page||1)-1,D=ls(),T=Te({mutationFn:V=>q8e(V),loadingMessage:"Deleting promotion...",invalidateQueries:[["promotions"]]}),A=v?.stats?.total_promotions||v?.pagination?.total_count||0,I=v?.stats?.active_promotions||C.filter(V=>V.is_active==="Y").length,F=v?.stats?.inactive_promotions||C.filter(V=>V.is_active==="N").length,z=v?.stats?.promotions_this_month||0,O=g.useCallback(()=>{o(null),c(!0)},[]),K=g.useCallback(V=>{o(V),c(!0)},[]),W=g.useCallback(async V=>{try{await T.mutateAsync(V)}catch(M){console.error("Error deleting promotion:",M)}},[T]),B=g.useCallback(V=>{a(V),d(1)},[]),q=V=>{d(V+1)},H=g.useCallback(async()=>{try{const V={search:s,status:r==="all"?void 0:r==="active"?"Y":"N"};await D.mutateAsync({tableName:"promotions",filters:V})}catch(V){console.error("Error exporting promotions:",V)}},[D,s,r]),Q=[{id:"name",label:"Promotion Info",render:(V,M)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",onClick:()=>t(`/masters/promotions/${M.id}`),children:[e.jsx(ot,{alt:M.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(br,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:M.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:M.code})]})]})},{id:"start_date",label:"Start Date",render:(V,M)=>e.jsx(b,{children:Fe(M.start_date)})},{id:"end_date",label:"End Date",render:(V,M)=>e.jsx(b,{children:Fe(M.end_date)})},{id:"is_active",label:"Status",render:V=>e.jsx(Re,{icon:V==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:V==="Y"?"Active":"Inactive",size:"small",color:V==="Y"?"success":"error"})},{id:"createdate",label:"Created",render:(V,M)=>e.jsx(f,{variant:"body2",className:"!text-gray-500",children:Fe(M.createdate?.toString())})},...j||_||S?[{id:"action",label:"Actions",sortable:!1,render:(V,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center !justify-center",children:[j&&e.jsx(ss,{onClick:()=>K(M),tooltip:"Edit promotion"}),S&&e.jsx(Ua,{onClick:()=>t(`/masters/promotions/${M.id}`),tooltip:"View promotion",icon:e.jsx(kn,{fontSize:"small"}),color:"info"}),_&&e.jsx(Ht,{onClick:()=>W(M.id),tooltip:"Delete promotion",confirmDelete:!0,itemName:"promotion"})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Promotions Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage promotional offers, discounts, and special deals for your products"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Promotions",value:A,icon:e.jsx(br,{className:"w-6 h-6"}),color:"blue",isLoading:y}),e.jsx(fe,{title:"Active Promotions",value:I,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:y}),e.jsx(fe,{title:"Inactive Promotions",value:F,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:y}),e.jsx(fe,{title:"New This Month",value:z,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:y})]}),N&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load promotions. Please try again."}),e.jsx(ct,{data:C,columns:Q,actions:S||x?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:S&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Promotions...",value:s,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:r,onChange:V=>{n(V.target.value),d(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[S&&e.jsx(Xt,{title:"Export Promotions",description:"Are you sure you want to export the current promotions data to Excel? This will include all filtered results.",onConfirm:H,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:D.isPending,children:D.isPending?"Exporting...":"Export"})}),x&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:O,children:"Create"})]})]}):!1,getRowId:V=>V.id,initialOrderBy:"name",loading:y,totalCount:P,page:E,rowsPerPage:p,isPermission:S,onPageChange:q,emptyMessage:s?`No promotions found matching "${s}"`:"No promotions found in the system"}),e.jsx(a$,{selectedPromotion:i,setSelectedPromotion:o,drawerOpen:l,setDrawerOpen:c})]})},Vd=t=>t?t.replace(/_/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" "):"";function lf(t){const{children:s,value:a,index:r,...n}=t;return e.jsx("div",{role:"tabpanel",hidden:a!==r,id:`promotion-tabpanel-${r}`,"aria-labelledby":`promotion-tab-${r}`,...n,children:a===r&&e.jsx(b,{className:"!p-3",children:s})})}const dMe=()=>{const{id:t}=Br(),s=Fs(),[a,r]=g.useState(0),[n,i]=g.useState(!1),[o,l]=g.useState(null),{data:c,isLoading:m,error:d}=s$(Number(t)),p=c?.data,x=Number(t),j=Q8e(x,{onSuccess:()=>{console.log("Promotion activated successfully")}}),_=Z8e(x,{onSuccess:()=>{console.log("Promotion deactivated successfully")}}),S=X8e({onSuccess:F=>{console.log("Eligible promotions calculated:",F)}}),v=J8e({onSuccess:F=>{console.log("Promotion applied successfully:",F)}}),y=eMe(x,{onSuccess:F=>{console.log("Period promotion settled successfully:",F)}}),N=()=>{s("/masters/promotions")},C=()=>{l(p),i(!0)},P=(F,z)=>{r(z)},E=()=>{p?.is_active==="Y"?_.mutate(void 0):j.mutate(void 0)},D=()=>{console.warn("Calculate Eligible Promotions requires order data. This feature needs additional implementation.")},T=()=>{console.warn("Apply Promotion requires order data. This feature needs additional implementation.")},A=()=>{console.warn("Settle Period Promotion requires period dates and customer IDs. This feature needs additional implementation.")};if(m)return e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-2",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx(X,{variant:"circular",width:96,height:96,className:"!mx-auto !mb-4 !border-3 !border-white"}),e.jsx(X,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(X,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-yellow-50"})]})}),e.jsx("div",{className:"flex-4 !space-y-4",children:[1,2,3].map(F=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(X,{variant:"text",width:200,height:24}),e.jsx(X,{variant:"text",width:"100%",height:16,className:"!mt-2"})]},F))})]});if(d||!p)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Pg,{className:"w-5 h-5"}),e.jsx(f,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load promotion details"})]}),e.jsx(f,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:N,className:"mt-4",children:"Back to Promotions"})]});const I=({title:F,children:z,icon:O})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[O&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(O,{className:"!text-primary-500"})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:F})]}),z]})]});return e.jsxs(e.Fragment,{children:[e.jsxs(b,{className:"!mb-3 !flex !items-center !gap-3",children:[e.jsxs(b,{className:"!flex-1",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(f,{variant:"h5",className:"!font-bold !text-gray-900",children:p.name}),e.jsx(Re,{icon:p.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:p.is_active==="Y"?"Active":"Inactive",size:"small",color:p.is_active==="Y"?"success":"error"}),e.jsx(Re,{label:p.code,size:"small",variant:"outlined"})]}),e.jsx(f,{variant:"body2",className:"!text-gray-500 !mt-1",children:p.description||"No description provided"})]}),e.jsxs(b,{className:"!flex !gap-2",children:[e.jsx(ss,{onClick:C,tooltip:"Edit promotion"}),e.jsx(Ht,{onClick:()=>{},tooltip:"Delete promotion",confirmDelete:!0,itemName:"promotion"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"!flex-2 flex flex-col gap-4",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${p.is_active==="Y"?"!bg-green-400":"!bg-red-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ot,{className:`!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg ${p.is_active==="Y"?"!bg-gradient-to-br !from-green-400 !to-green-600 !text-white":"!bg-gradient-to-br !from-red-400 !to-red-600 !text-white"}`,children:e.jsx(J4,{className:"!w-8 !h-8"})})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:p.name}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mb-3",children:p.code}),e.jsx(Re,{icon:p.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),color:p.is_active==="Y"?"success":"error",label:p.is_active==="Y"?"Active":"Inactive",size:"small"}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Start Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(p.start_date)})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"End Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(p.end_date)})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Created"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:p.createdate?Fe(p.createdate.toString()):"N/A"})]})]})]})}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsx(I,{title:"Promotion Information",icon:Vn,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Type"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:p.type||"N/A"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Status"}),e.jsx("div",{className:"!mt-1",children:e.jsx(Re,{icon:p.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),color:p.is_active==="Y"?"success":"error",label:p.is_active==="Y"?"Active":"Inactive",size:"small"})})]}),e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Description"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:p.description||"No description provided"})]})]})}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200",children:[e.jsx(b,{children:e.jsxs(jo,{value:a,onChange:P,className:"!min-h-0",visibleScrollbar:!0,sx:{"& .MuiTab-root":{minHeight:"36px",padding:"10px 12px",fontSize:"0.875rem",textTransform:"none","& .MuiTab-iconWrapper":{marginRight:"6px",fontSize:"1rem"}}},children:[e.jsx(Cs,{icon:e.jsx(Vn,{}),label:"Overview",iconPosition:"start"}),e.jsx(Cs,{icon:e.jsx(Hle,{}),label:`Eligibility (${(p.depots?.length||0)+(p.salespersons?.length||0)+(p.routes?.length||0)+(p.zones?.length||0)})`,iconPosition:"start"}),e.jsx(Cs,{icon:e.jsx(ow,{}),label:`Conditions (${p.conditions?.length||0})`,iconPosition:"start"}),e.jsx(Cs,{icon:e.jsx(Tle,{}),label:`Levels & Benefits (${p.levels?.length||0})`,iconPosition:"start"}),e.jsx(Cs,{icon:e.jsx(cp,{}),label:"Actions",iconPosition:"start"})]})}),e.jsx(lf,{value:a,index:0,children:e.jsxs("div",{className:"!space-y-4",children:[e.jsxs(la,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !mb-3",children:"Channels & Platforms"}),p.channels&&p.channels.length>0?e.jsx("div",{className:"!flex !flex-wrap !gap-2",children:p.channels.map(F=>e.jsx(Re,{label:F.channel_type,size:"small",color:"primary",variant:"outlined"},F.id))}):e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No channels assigned"})]}),e.jsxs(la,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !mb-3",children:"Period Information"}),e.jsxs("div",{className:"!grid !grid-cols-2 !gap-4",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase",children:"Start Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold",children:Fe(p.start_date)})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase",children:"End Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold",children:Fe(p.end_date)})]})]})]})]})}),e.jsx(lf,{value:a,index:1,children:e.jsxs("div",{className:"!space-y-4",children:[e.jsxs(la,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(f,{variant:"h6",className:"!font-semibold !mb-3",children:["Depots (",p.depots?.length||0,")"]}),p.depots&&p.depots.length>0?e.jsx(ct,{data:p.depots.map(F=>({id:F.id,name:F.depots?.name||"N/A",code:F.depots?.code||"N/A"})),columns:[{id:"name",label:"Depot Name"},{id:"code",label:"Code"}],pagination:!1,sortable:!1}):e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No depots assigned"})]}),e.jsxs(la,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(f,{variant:"h6",className:"!font-semibold !mb-3",children:["Salespersons (",p.salespersons?.length||0,")"]}),p.salespersons&&p.salespersons.length>0?e.jsx(ct,{data:p.salespersons.map(F=>({id:F.id,name:F.promotion_salesperson_users?.name||"N/A",email:F.promotion_salesperson_users?.email||"N/A"})),columns:[{id:"name",label:"Name"},{id:"email",label:"Email"}],pagination:!1,sortable:!1}):e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No salespersons assigned"})]}),e.jsxs(la,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(f,{variant:"h6",className:"!font-semibold !mb-3",children:["Routes (",p.routes?.length||0,")"]}),p.routes&&p.routes.length>0?e.jsx(ct,{data:p.routes.map(F=>({id:F.id,name:F.promotion_route?.name||"N/A",code:F.promotion_route?.code||"N/A"})),columns:[{id:"name",label:"Route Name"},{id:"code",label:"Code"}],pagination:!1,sortable:!1}):e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No routes assigned"})]}),e.jsxs(la,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(f,{variant:"h6",className:"!font-semibold !mb-3",children:["Zones (",p.zones?.length||0,")"]}),p.zones&&p.zones.length>0?e.jsx(ct,{data:p.zones.map(F=>({id:F.id,name:F.promotion_zones_zones?.name||"N/A",code:F.promotion_zones_zones?.code||"N/A"})),columns:[{id:"name",label:"Zone Name"},{id:"code",label:"Code"}],pagination:!1,sortable:!1}):e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No zones assigned"})]}),e.jsxs(la,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(f,{variant:"h6",className:"!font-semibold !mb-3",children:["Customer Categories (",p.customer_categories?.length||0,")"]}),p.customer_categories&&p.customer_categories.length>0?e.jsx(ct,{data:p.customer_categories.map(F=>({id:F.id,name:F.promotion_customer_categorys?.category_name||"N/A",code:F.promotion_customer_categorys?.category_code||"N/A"})),columns:[{id:"name",label:"Category Name"},{id:"code",label:"Code"}],pagination:!1,sortable:!1}):e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No customer categories assigned"})]}),e.jsxs(la,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(f,{variant:"h6",className:"!font-semibold !mb-3",children:["Customer Exclusions (",p.customer_exclusions?.length||0,")"]}),p.customer_exclusions&&p.customer_exclusions.length>0?e.jsxs(f,{variant:"body2",children:[p.customer_exclusions.length," customer(s) excluded"]}):e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No customer exclusions"})]})]})}),e.jsx(lf,{value:a,index:2,children:e.jsx("div",{className:"!space-y-4",children:p.conditions&&p.conditions.length>0?p.conditions.map(F=>e.jsxs(la,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(f,{variant:"h6",className:"!font-semibold !mb-3",children:["Condition ",F.id]}),e.jsxs("div",{className:"!grid !grid-cols-2 !gap-4 !mb-3",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase",children:"Type"}),e.jsx(f,{variant:"body2",className:"!font-semibold",children:Vd(F.condition_type)})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase",children:"Applies To"}),e.jsx(f,{variant:"body2",className:"!font-semibold",children:Vd(F.applies_to_type)})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase",children:"Min Value"}),e.jsx(f,{variant:"body2",className:"!font-semibold",children:F.min_value})]})]}),F.promotion_condition_products&&F.promotion_condition_products.length>0?e.jsx(ct,{data:F.promotion_condition_products.map(z=>({id:z.id,type:Vd(F.condition_type),product_group:z.product_group||(z.product_id?`Product ID: ${z.product_id}`:z.category_id?`Category ID: ${z.category_id}`:"N/A"),at_least:z.condition_quantity})),columns:[{id:"type",label:"Type"},{id:"product_group",label:"Product/Category"},{id:"at_least",label:"At least"}],pagination:!1,sortable:!1}):null]},F.id)):e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No conditions defined"})})}),e.jsx(lf,{value:a,index:3,children:e.jsx("div",{className:"!space-y-4",children:p.levels&&p.levels.length>0?p.levels.map((F,z)=>e.jsxs(la,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(f,{variant:"h6",className:"!font-semibold !mb-3",children:["Level ",F.level_number]}),e.jsxs("div",{className:"!grid !grid-cols-2 !gap-4 !mb-3",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase",children:"Threshold Value"}),e.jsx(f,{variant:"body2",className:"!font-semibold",children:F.threshold_value})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase",children:"Discount Type"}),e.jsx(f,{variant:"body2",className:"!font-semibold",children:Vd(F.discount_type)})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase",children:"Discount Value"}),e.jsx(f,{variant:"body2",className:"!font-semibold",children:F.discount_value})]})]}),F.promotion_benefit_level&&F.promotion_benefit_level.length>0?e.jsxs("div",{children:[e.jsx(f,{variant:"subtitle2",className:"!mb-2",children:"Benefits:"}),e.jsx(ct,{data:F.promotion_benefit_level.map(O=>({id:O.id,type:O.benefit_type,product:O.promotion_benefit_products?.name||"N/A",value:O.benefit_value,gift_limit:O.gift_limit})),columns:[{id:"type",label:"Type",render:O=>Vd(O)},{id:"product",label:"Product"},{id:"value",label:"Value"},{id:"gift_limit",label:"Gift Limit"}],pagination:!1,sortable:!1})]}):null]},F.id)):e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No levels defined"})})}),e.jsx(lf,{value:a,index:4,children:e.jsx("div",{className:"!space-y-4",children:e.jsxs(la,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !mb-3",children:"Promotion Actions"}),e.jsxs("div",{className:"!space-y-2",children:[e.jsx(G,{variant:p.is_active==="Y"?"outlined":"contained",startIcon:p.is_active==="Y"?e.jsx(St,{}):e.jsx(mt,{}),fullWidth:!0,onClick:E,disabled:j.isPending||_.isPending,children:j.isPending||_.isPending?"Processing...":p.is_active==="Y"?"Deactivate Promotion":"Activate Promotion"}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(_A,{}),fullWidth:!0,onClick:D,disabled:S.isPending,children:S.isPending?"Calculating...":"Calculate Eligible Promotions"}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(mt,{}),fullWidth:!0,onClick:T,disabled:v.isPending,children:v.isPending?"Applying...":"Apply Promotion"}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(ws,{}),fullWidth:!0,onClick:A,disabled:y.isPending,children:y.isPending?"Settling...":"Settle Period Promotion"})]})]})})})]})]})]}),e.jsx(a$,{selectedPromotion:o,setSelectedPromotion:l,drawerOpen:n,setDrawerOpen:i})]})},uMe=nt({file:ps().required("Please select a file to import")}),mMe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:uMe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("product_sub_categories")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"product_sub_categories",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Product Sub Categories",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple product sub categories. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},pMe=nt({sub_category_name:ce().min(2,"Sub category name must be at least 2 characters").max(100,"Sub category name must not exceed 100 characters").required("Sub category name is required"),product_category_id:Ye().required("Product category is required").positive("Product category must be selected"),description:ce().max(500,"Description must not exceed 500 characters").optional(),is_active:ce().oneOf(["Y","N"],"Status must be either Active or Inactive").required("Status is required")}),hMe=({selectedProductSubCategory:t,setSelectedProductSubCategory:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=vTe(),l=jTe(),c=pt({initialValues:{sub_category_name:t?.sub_category_name||"",product_category_id:t?.product_category_id||0,description:t?.description||"",is_active:t?.is_active||"Y"},validationSchema:pMe,enableReinitialize:!0,onSubmit:async m=>{try{const d={sub_category_name:m.sub_category_name,product_category_id:m.product_category_id,description:m.description,is_active:m.is_active};n&&t?await l.mutateAsync({id:t.id,data:d}):await o.mutateAsync(d),i()}catch(d){console.error("Error saving product sub category:",d)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Product Sub Category":"Create Product Sub Category",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"sub_category_name",label:"Sub Category Name",placeholder:"Enter sub category name",formik:c,required:!0})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(vu,{name:"product_category_id",label:"Product Category",formik:c,required:!0,fullWidth:!0})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:c,multiline:!0,rows:3})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(Es,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:[o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"," "]})]})]})})})},fMe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("product-sub-category"),{data:y,isFetching:N,error:C}=JL({search:t,page:d,limit:x,status:a==="all"?void 0:a==="active"?"active":"inactive"},{enabled:v}),P=y?.data||[],E=y?.meta?.total||0,D=(y?.meta?.page||1)-1,T=NTe(),A=ls(),I=y?.stats?.total_sub_categories??0,F=y?.stats?.active_sub_categories??0,z=y?.stats?.inactive_sub_categories??0,O=y?.stats?.new_sub_categories_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(R){console.error("Error deleting product sub category:",R)}},[T]),q=g.useCallback(M=>{s(M),p(1)},[]),H=M=>{p(M+1)},Q=g.useCallback(async()=>{try{const M={search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"product_sub_categories",filters:M})}catch(M){console.error("Error exporting product sub categories:",M)}},[A,t,a]),V=[{id:"sub_category_name",label:"Sub Category Name",render:(M,R)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:R.sub_category_name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsxs(b,{className:"!max-w-xs",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:R.sub_category_name}),R.description&&e.jsx(Oa,{title:R.description,placement:"top",arrow:!0,children:e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",title:R.description,sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",maxWidth:"300px",cursor:"help"},children:R.description})})]})]})},{id:"product_category",label:"Product Category",render:(M,R)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:R.product_category?.category_name||e.jsx("span",{className:"italic text-gray-400",children:"No Category"})})},{id:"is_active",label:"Status",render:M=>e.jsx(Re,{icon:M==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,R)=>Fe(R.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(M,R)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(R),tooltip:`Edit ${R.sub_category_name}`}),S&&e.jsx(Ht,{onClick:()=>B(R.id),tooltip:`Delete ${R.sub_category_name}`,itemName:R.sub_category_name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Product Sub Categories Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product sub categories for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Sub Categories",value:I,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Sub Categories",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Sub Categories",value:z,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:O,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load product sub categories. Please try again."}),e.jsx(ct,{data:P,columns:V,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Product Sub Categories...",value:t,onChange:q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:M=>r(M.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Product Sub Categories",description:"Are you sure you want to export the current product sub categories data to Excel? This will include all filtered results.",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"sub_category_name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:H,emptyMessage:t?`No product sub categories found matching "${t}"`:"No product sub categories found in the system"}),e.jsx(hMe,{selectedProductSubCategory:n,setSelectedProductSubCategory:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(mMe,{drawerOpen:c,setDrawerOpen:m})]})},Of={all:["product-flavours"],lists:()=>[...Of.all,"list"],list:t=>[...Of.lists(),t],details:()=>[...Of.all,"detail"],detail:t=>[...Of.details(),t]},xMe=(t,s)=>st({queryKey:Of.list(t),queryFn:()=>r8e(t),staleTime:300*1e3,...s}),gMe=()=>Te({mutationFn:n8e,invalidateQueries:["product-flavours"],loadingMessage:"Creating product flavour..."}),bMe=()=>Te({mutationFn:({id:t,...s})=>i8e(t,s),invalidateQueries:["product-flavours"],loadingMessage:"Updating product flavour..."}),yMe=()=>Te({mutationFn:o8e,invalidateQueries:["product-flavours"],loadingMessage:"Deleting product flavour..."}),vMe=nt({file:ps().required("Please select a file to import")}),jMe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:vMe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("product_flavours")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"product_flavours",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Product Flavours",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple product flavours. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},NMe=nt({name:ce().required("Flavour name is required").min(2,"Name must be at least 2 characters").max(255,"Name must be less than 255 characters"),code:ce().max(100,"Code must be less than 100 characters"),is_active:ce().required("Status is required")}),_Me=({selectedFlavour:t,setSelectedFlavour:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=gMe(),l=bMe(),c=pt({initialValues:{name:t?.name||"",code:t?.code||"",is_active:t?.is_active||"Y"},validationSchema:NMe,enableReinitialize:!0,onSubmit:async m=>{try{const d={name:m.name,code:m.code,is_active:m.is_active};n&&t?await l.mutateAsync({id:t.id,...d}):await o.mutateAsync(d),i()}catch(d){console.error("Error saving product flavour:",d)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Product Flavour":"Create Product Flavour",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Flavour Name",placeholder:"Enter flavour name",formik:c,required:!0}),e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:c,disabled:n}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(Es,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},wMe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("product-flavour"),{data:y,isFetching:N,error:C}=xMe({search:t,page:d,limit:x,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total_count||0,D=(y?.meta?.current_page||1)-1,T=yMe(),A=ls(),I=y?.stats?.total_product_flavours??P.length,F=y?.stats?.active_product_flavours??P.filter(M=>M.is_active==="Y").length,z=y?.stats?.inactive_product_flavours??P.filter(M=>M.is_active==="N").length,O=y?.stats?.new_product_flavours_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(R){console.error("Error deleting product flavour:",R)}},[T]),q=g.useCallback(M=>{s(M),p(1)},[]),H=M=>{p(M+1)},Q=g.useCallback(async()=>{try{const M={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"product_flavours",filters:M})}catch(M){console.error("Error exporting product flavours:",M)}},[A,t,a]),V=[{id:"name",label:"Flavour Name",render:(M,R)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:R.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(vT,{className:"w-5 h-5"})}),e.jsx(f,{variant:"body1",className:"!text-gray-900",children:R.name})]})},{id:"code",label:"Code",render:(M,R)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:R.code||e.jsx("span",{className:"italic text-gray-400",children:"No Code"})})},{id:"is_active",label:"Status",render:M=>e.jsx(Re,{icon:M==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,R)=>Fe(R.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(M,R)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(R),tooltip:`Edit ${R.name}`}),S&&e.jsx(Ht,{onClick:()=>B(R.id),tooltip:`Delete ${R.name}`,itemName:R.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Product Flavours Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product flavours for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Flavours",value:I,icon:e.jsx(vT,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Flavours",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Flavours",value:z,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:O,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load product flavours. Please try again."}),e.jsx(ct,{data:P,columns:V,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Product Flavours...",value:t,onChange:q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:M=>{r(M.target.value),p(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Product Flavours",description:"Are you sure you want to export the current product flavours data to Excel?",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:H,emptyMessage:t?`No product flavours found matching "${t}"`:"No product flavours found in the system"}),e.jsx(_Me,{selectedFlavour:n,setSelectedFlavour:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(jMe,{drawerOpen:c,setDrawerOpen:m})]})},Ff={all:["product-volumes"],lists:()=>[...Ff.all,"list"],list:t=>[...Ff.lists(),t],details:()=>[...Ff.all,"detail"],detail:t=>[...Ff.details(),t]},SMe=(t,s)=>st({queryKey:Ff.list(t),queryFn:()=>w8e(t),staleTime:300*1e3,...s}),CMe=()=>Te({mutationFn:S8e,invalidateQueries:["product-volumes"],loadingMessage:"Creating product volume..."}),PMe=()=>Te({mutationFn:({id:t,...s})=>C8e(t,s),invalidateQueries:["product-volumes"],loadingMessage:"Updating product volume..."}),kMe=()=>Te({mutationFn:P8e,invalidateQueries:["product-volumes"],loadingMessage:"Deleting product volume..."}),EMe=nt({file:ps().required("Please select a file to import")}),TMe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:EMe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("product_volumes")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"product_volumes",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Product Volumes",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple product volumes. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},MMe=nt({name:ce().required("Volume name is required").min(2,"Name must be at least 2 characters").max(255,"Name must be less than 255 characters"),code:ce().max(100,"Code must be less than 100 characters"),is_active:ce().required("Status is required")}),DMe=({selectedVolume:t,setSelectedVolume:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=CMe(),l=PMe(),c=pt({initialValues:{name:t?.name||"",code:t?.code||"",is_active:t?.is_active||"Y"},validationSchema:MMe,enableReinitialize:!0,onSubmit:async m=>{try{const d={name:m.name,code:m.code,is_active:m.is_active};n&&t?await l.mutateAsync({id:t.id,...d}):await o.mutateAsync(d),i()}catch(d){console.error("Error saving product volume:",d)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Product Volume":"Create Product Volume",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Volume Name",placeholder:"Enter volume name",formik:c,required:!0}),e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:c,disabled:n}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(Es,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},RMe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("product-volume"),{data:y,isFetching:N,error:C}=SMe({search:t,page:d,limit:x,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total_count||0,D=(y?.meta?.current_page||1)-1,T=kMe(),A=ls(),I=y?.stats?.total_product_volumes??P.length,F=y?.stats?.active_product_volumes??P.filter(M=>M.is_active==="Y").length,z=y?.stats?.inactive_product_volumes??P.filter(M=>M.is_active==="N").length,O=y?.stats?.new_product_volumes_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(R){console.error("Error deleting product volume:",R)}},[T]),q=g.useCallback(M=>{s(M),p(1)},[]),H=M=>{p(M+1)},Q=g.useCallback(async()=>{try{const M={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"product_volumes",filters:M})}catch(M){console.error("Error exporting product volumes:",M)}},[A,t,a]),V=[{id:"name",label:"Volume Name",render:(M,R)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:R.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsx(f,{variant:"body1",className:"!text-gray-900",children:R.name})]})},{id:"code",label:"Code",render:(M,R)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:R.code||e.jsx("span",{className:"italic text-gray-400",children:"No Code"})})},{id:"is_active",label:"Status",render:M=>e.jsx(Re,{icon:M==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,R)=>Fe(R.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(M,R)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(R),tooltip:`Edit ${R.name}`}),S&&e.jsx(Ht,{onClick:()=>B(R.id),tooltip:`Delete ${R.name}`,itemName:R.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Product Volumes Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product volumes for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Volumes",value:I,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Volumes",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Volumes",value:z,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:O,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load product volumes. Please try again."}),e.jsx(ct,{data:P,columns:V,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Product Volumes...",value:t,onChange:q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:M=>{r(M.target.value),p(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Product Volumes",description:"Are you sure you want to export the current product volumes data to Excel?",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:H,emptyMessage:t?`No product volumes found matching "${t}"`:"No product volumes found in the system"}),e.jsx(DMe,{selectedVolume:n,setSelectedVolume:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(TMe,{drawerOpen:c,setDrawerOpen:m})]})},Lf={all:["product-shelf-life"],lists:()=>[...Lf.all,"list"],list:t=>[...Lf.lists(),t],details:()=>[...Lf.all,"detail"],detail:t=>[...Lf.details(),t]},AMe=(t,s)=>st({queryKey:Lf.list(t),queryFn:()=>c8e(t),staleTime:300*1e3,...s}),IMe=()=>Te({mutationFn:d8e,invalidateQueries:["product-shelf-life"],loadingMessage:"Creating product shelf life..."}),OMe=()=>Te({mutationFn:({id:t,...s})=>u8e(t,s),invalidateQueries:["product-shelf-life"],loadingMessage:"Updating product shelf life..."}),FMe=()=>Te({mutationFn:m8e,invalidateQueries:["product-shelf-life"],loadingMessage:"Deleting product shelf life..."}),LMe=nt({file:ps().required("Please select a file to import")}),$Me=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:LMe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("product_shelf_life")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"product_shelf_life",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Product Shelf Life",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple product shelf life. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},zMe=nt({name:ce().required("Shelf life name is required").min(2,"Name must be at least 2 characters").max(255,"Name must be less than 255 characters"),code:ce().max(100,"Code must be less than 100 characters"),is_active:ce().required("Status is required")}),qMe=({selectedShelfLife:t,setSelectedShelfLife:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=IMe(),l=OMe(),c=pt({initialValues:{name:t?.name||"",code:t?.code||"",is_active:t?.is_active||"Y"},validationSchema:zMe,enableReinitialize:!0,onSubmit:async m=>{try{const d={name:m.name,code:m.code,is_active:m.is_active};n&&t?await l.mutateAsync({id:t.id,...d}):await o.mutateAsync(d),i()}catch(d){console.error("Error saving product shelf life:",d)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Product Shelf Life":"Create Product Shelf Life",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Shelf Life Name",placeholder:"Enter shelf life name",formik:c,required:!0}),e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:c,disabled:n}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(Es,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},BMe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("product-shelf-life"),{data:y,isFetching:N,error:C}=AMe({search:t,page:d,limit:x,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total_count||0,D=(y?.meta?.current_page||1)-1,T=FMe(),A=ls(),I=y?.stats?.total_product_shelf_life??P.length,F=y?.stats?.active_product_shelf_life??P.filter(M=>M.is_active==="Y").length,z=y?.stats?.inactive_product_shelf_life??P.filter(M=>M.is_active==="N").length,O=y?.stats?.new_product_shelf_life_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(R){console.error("Error deleting product shelf life:",R)}},[T]),q=g.useCallback(M=>{s(M),p(1)},[]),H=M=>{p(M+1)},Q=g.useCallback(async()=>{try{const M={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"product_shelf_life",filters:M})}catch(M){console.error("Error exporting product shelf life:",M)}},[A,t,a]),V=[{id:"name",label:"Shelf Life Name",render:(M,R)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:R.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(As,{className:"w-5 h-5"})}),e.jsx(f,{variant:"body1",className:"!text-gray-900",children:R.name})]})},{id:"code",label:"Code",render:(M,R)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:R.code||e.jsx("span",{className:"italic text-gray-400",children:"No Code"})})},{id:"is_active",label:"Status",render:M=>e.jsx(Re,{icon:M==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,R)=>Fe(R.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(M,R)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(R),tooltip:`Edit ${R.name}`}),S&&e.jsx(Ht,{onClick:()=>B(R.id),tooltip:`Delete ${R.name}`,itemName:R.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Product Shelf Life Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product shelf life for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Shelf Life",value:I,icon:e.jsx(As,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Shelf Life",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Shelf Life",value:z,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:O,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load product shelf life. Please try again."}),e.jsx(ct,{data:P,columns:V,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Product Shelf Life...",value:t,onChange:q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:M=>{r(M.target.value),p(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Product Shelf Life",description:"Are you sure you want to export the current product shelf life data to Excel?",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:H,emptyMessage:t?`No product shelf life found matching "${t}"`:"No product shelf life found in the system"}),e.jsx(qMe,{selectedShelfLife:n,setSelectedShelfLife:i,drawerOpen:o,setDrawerOpen:l}),e.jsx($Me,{drawerOpen:c,setDrawerOpen:m})]})},$f={all:["product-types"],lists:()=>[...$f.all,"list"],list:t=>[...$f.lists(),t],details:()=>[...$f.all,"detail"],detail:t=>[...$f.details(),t]},UMe=(t,s)=>st({queryKey:$f.list(t),queryFn:()=>y8e(t),staleTime:300*1e3,...s}),VMe=()=>Te({mutationFn:v8e,invalidateQueries:["product-types"],loadingMessage:"Creating product type..."}),HMe=()=>Te({mutationFn:({id:t,...s})=>j8e(t,s),invalidateQueries:["product-types"],loadingMessage:"Updating product type..."}),WMe=()=>Te({mutationFn:N8e,invalidateQueries:["product-types"],loadingMessage:"Deleting product type..."}),YMe=nt({file:ps().required("Please select a file to import")}),GMe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:YMe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("product_type")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"product_type",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Product Types",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple product types. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},KMe=nt({name:ce().required("Product type name is required").min(2,"Name must be at least 2 characters").max(255,"Name must be less than 255 characters"),code:ce().max(100,"Code must be less than 100 characters"),is_active:ce().required("Status is required")}),QMe=({selectedProductType:t,setSelectedProductType:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=VMe(),l=HMe(),c=pt({initialValues:{name:t?.name||"",code:t?.code||"",is_active:t?.is_active||"Y"},validationSchema:KMe,enableReinitialize:!0,onSubmit:async m=>{try{const d={name:m.name,code:m.code,is_active:m.is_active};n&&t?await l.mutateAsync({id:t.id,...d}):await o.mutateAsync(d),i()}catch(d){console.error("Error saving product type:",d)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Product Type":"Create Product Type",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Product Type Name",placeholder:"Enter product type name",formik:c,required:!0}),e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:c,disabled:n}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(Es,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},ZMe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("product-type"),{data:y,isFetching:N,error:C}=UMe({search:t,page:d,limit:x,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total_count||0,D=(y?.meta?.current_page||1)-1,T=WMe(),A=ls(),I=y?.stats?.total_product_types??P.length,F=y?.stats?.active_product_types??P.filter(M=>M.is_active==="Y").length,z=y?.stats?.inactive_product_types??P.filter(M=>M.is_active==="N").length,O=y?.stats?.new_product_types_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(R){console.error("Error deleting product type:",R)}},[T]),q=g.useCallback(M=>{s(M),p(1)},[]),H=M=>{p(M+1)},Q=g.useCallback(async()=>{try{const M={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"product_type",filters:M})}catch(M){console.error("Error exporting product types:",M)}},[A,t,a]),V=[{id:"name",label:"Product Type Name",render:(M,R)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:R.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsx(f,{variant:"body1",className:"!text-gray-900",children:R.name})]})},{id:"code",label:"Code",render:(M,R)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:R.code||e.jsx("span",{className:"italic text-gray-400",children:"No Code"})})},{id:"is_active",label:"Status",render:M=>e.jsx(Re,{icon:M==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,R)=>Fe(R.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(M,R)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(R),tooltip:`Edit ${R.name}`}),S&&e.jsx(Ht,{onClick:()=>B(R.id),tooltip:`Delete ${R.name}`,itemName:R.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Product Types Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product types for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Product Types",value:I,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Types",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Types",value:z,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:O,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load product types. Please try again."}),e.jsx(ct,{data:P,columns:V,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Product Types...",value:t,onChange:q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:M=>{r(M.target.value),p(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Product Types",description:"Are you sure you want to export the current product types data to Excel?",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:H,emptyMessage:t?`No product types found matching "${t}"`:"No product types found in the system"}),e.jsx(QMe,{selectedProductType:n,setSelectedProductType:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(GMe,{drawerOpen:c,setDrawerOpen:m})]})},zf={all:["product-target-groups"],lists:()=>[...zf.all,"list"],list:t=>[...zf.lists(),t],details:()=>[...zf.all,"detail"],detail:t=>[...zf.details(),t]},XMe=(t,s)=>st({queryKey:zf.list(t),queryFn:()=>h8e(t),staleTime:300*1e3,...s}),JMe=()=>Te({mutationFn:f8e,invalidateQueries:["product-target-groups"],loadingMessage:"Creating product target group..."}),eDe=()=>Te({mutationFn:({id:t,...s})=>x8e(t,s),invalidateQueries:["product-target-groups"],loadingMessage:"Updating product target group..."}),tDe=()=>Te({mutationFn:g8e,invalidateQueries:["product-target-groups"],loadingMessage:"Deleting product target group..."}),sDe=nt({file:ps().required("Please select a file to import")}),aDe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:sDe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("product_target_group")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"product_target_group",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Product Target Groups",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple product target groups. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},rDe=nt({name:ce().required("Product target group name is required").min(2,"Name must be at least 2 characters").max(255,"Name must be less than 255 characters"),code:ce().max(100,"Code must be less than 100 characters"),is_active:ce().required("Status is required")}),nDe=({selectedProductTargetGroup:t,setSelectedProductTargetGroup:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=JMe(),l=eDe(),c=pt({initialValues:{name:t?.name||"",code:t?.code||"",is_active:t?.is_active||"Y"},validationSchema:rDe,enableReinitialize:!0,onSubmit:async m=>{try{const d={name:m.name,code:m.code,is_active:m.is_active};n&&t?await l.mutateAsync({id:t.id,...d}):await o.mutateAsync(d),i()}catch(d){console.error("Error saving product target group:",d)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Product Target Group":"Create Product Target Group",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Product Target Group Name",placeholder:"Enter product target group name",formik:c,required:!0}),e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:c,disabled:n}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(Es,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},iDe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("product-target-group"),{data:y,isLoading:N,error:C}=XMe({search:t,page:d,limit:x,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total_count||0,D=(y?.meta?.page||1)-1,T=tDe(),A=ls(),I=y?.stats?.total_product_target_groups??P.length,F=y?.stats?.active_product_target_groups??P.filter(M=>M.is_active==="Y").length,z=y?.stats?.inactive_product_target_groups??P.filter(M=>M.is_active==="N").length,O=y?.stats?.new_product_target_groups_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(R){console.error("Error deleting product target group:",R)}},[T]),q=g.useCallback(M=>{s(M),p(1)},[]),H=M=>{p(M+1)},Q=g.useCallback(async()=>{try{const M={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"product_target_group",filters:M})}catch(M){console.error("Error exporting product target groups:",M)}},[A,t,a]),V=[{id:"name",label:"Target Group Name",render:(M,R)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:R.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsx(f,{variant:"body1",className:"!text-gray-900",children:R.name})]})},{id:"code",label:"Code",render:(M,R)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:R.code||e.jsx("span",{className:"italic text-gray-400",children:"No Code"})})},{id:"is_active",label:"Status",render:M=>e.jsx(Re,{icon:M==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,R)=>Fe(R.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(M,R)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(R),tooltip:`Edit ${R.name}`}),S&&e.jsx(Ht,{onClick:()=>B(R.id),tooltip:`Delete ${R.name}`,itemName:R.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Product Target Groups Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product target groups for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Target Groups",value:I,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Groups",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Groups",value:z,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:O,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load product target groups. Please try again."}),e.jsx(ct,{data:P,columns:V,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Product Target Groups...",value:t,onChange:q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:M=>{r(M.target.value),p(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Product Target Groups",description:"Are you sure you want to export the current product target groups data to Excel?",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:H,emptyMessage:t?`No product target groups found matching "${t}"`:"No product target groups found in the system"}),e.jsx(nDe,{selectedProductTargetGroup:n,setSelectedProductTargetGroup:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(aDe,{drawerOpen:c,setDrawerOpen:m})]})},qf={all:["product-web-orders"],lists:()=>[...qf.all,"list"],list:t=>[...qf.lists(),t],details:()=>[...qf.all,"detail"],detail:t=>[...qf.details(),t]},oDe=(t,s)=>st({queryKey:qf.list(t),queryFn:()=>E8e(t),staleTime:300*1e3,...s}),lDe=()=>Te({mutationFn:T8e,invalidateQueries:["product-web-orders"],loadingMessage:"Creating product web order..."}),cDe=()=>Te({mutationFn:({id:t,...s})=>M8e(t,s),invalidateQueries:["product-web-orders"],loadingMessage:"Updating product web order..."}),dDe=()=>Te({mutationFn:D8e,invalidateQueries:["product-web-orders"],loadingMessage:"Deleting product web order..."}),uDe=nt({file:ps().required("Please select a file to import")}),mDe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:uDe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("product_web_order")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"product_web_order",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Product Web Orders",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple product web orders. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},pDe=nt({name:ce().required("Product web order name is required").min(2,"Name must be at least 2 characters").max(255,"Name must be less than 255 characters"),code:ce().max(100,"Code must be less than 100 characters"),is_active:ce().required("Status is required")}),hDe=({selectedProductWebOrder:t,setSelectedProductWebOrder:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=lDe(),l=cDe(),c=pt({initialValues:{name:t?.name||"",code:t?.code||"",is_active:t?.is_active||"Y"},validationSchema:pDe,enableReinitialize:!0,onSubmit:async m=>{try{const d={name:m.name,code:m.code,is_active:m.is_active};n&&t?await l.mutateAsync({id:t.id,...d}):await o.mutateAsync(d),i()}catch(d){console.error("Error saving product web order:",d)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Product Web Order":"Create Product Web Order",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Product Web Order Name",placeholder:"Enter product web order name",formik:c,required:!0}),e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:c}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(Es,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},fDe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("product-web-order"),{data:y,isLoading:N,error:C}=oDe({search:t,page:d,limit:x,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total_count||0,D=(y?.meta?.current_page||1)-1,T=dDe(),A=ls(),I=y?.stats?.total_product_web_orders??P.length,F=y?.stats?.active_product_web_orders??P.filter(M=>M.is_active==="Y").length,z=y?.stats?.inactive_product_web_orders??P.filter(M=>M.is_active==="N").length,O=y?.stats?.new_product_web_orders_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(R){console.error("Error deleting product web order:",R)}},[T]),q=g.useCallback(M=>{s(M),p(1)},[]),H=M=>{p(M+1)},Q=g.useCallback(async()=>{try{const M={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"product_web_order",filters:M})}catch(M){console.error("Error exporting product web orders:",M)}},[A,t,a]),V=[{id:"name",label:"Web Order Name",render:(M,R)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:R.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsx(f,{variant:"body1",className:"!text-gray-900",children:R.name})]})},{id:"code",label:"Code",render:(M,R)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:R.code||e.jsx("span",{className:"italic text-gray-400",children:"No Code"})})},{id:"is_active",label:"Status",render:M=>e.jsx(Re,{icon:M==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,R)=>Fe(R.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(M,R)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(R),tooltip:`Edit ${R.name}`}),S&&e.jsx(Ht,{onClick:()=>B(R.id),tooltip:`Delete ${R.name}`,itemName:R.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Product Web Orders Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product web orders for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Web Orders",value:I,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Orders",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Orders",value:z,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:O,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load product web orders. Please try again."}),e.jsx(ct,{data:P,columns:V,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Product Web Orders...",value:t,onChange:q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:M=>{r(M.target.value),p(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Product Web Orders",description:"Are you sure you want to export the current product web orders data to Excel?",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:H,emptyMessage:t?`No product web orders found matching "${t}"`:"No product web orders found in the system"}),e.jsx(hDe,{selectedProductWebOrder:n,setSelectedProductWebOrder:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(mDe,{drawerOpen:c,setDrawerOpen:m})]})},xDe=async t=>{try{return(await ie.get("/cooler-types",{params:t})).data}catch(s){throw console.error("Error fetching cooler types:",s),new Error(s.response?.data?.message||"Failed to fetch cooler types")}},gDe=async t=>{try{return(await ie.post("/cooler-types",t)).data}catch(s){throw console.error("Error creating cooler type:",s),new Error(s.response?.data?.message||"Failed to create cooler type")}},bDe=async(t,s)=>{try{return(await ie.put(`/cooler-types/${t}`,s)).data}catch(a){throw console.error("Error updating cooler type:",a),new Error(a.response?.data?.message||"Failed to update cooler type")}},yDe=async t=>{try{return(await ie.delete(`/cooler-types/${t}`)).data}catch(s){throw console.error("Error deleting cooler type:",s),new Error(s.response?.data?.message||"Failed to delete cooler type")}},vDe=async()=>{try{return(await ie.get("/cooler-types-dropdown")).data}catch(t){throw console.error("Error fetching cooler types dropdown:",t),new Error(t.response?.data?.message||"Failed to fetch cooler types dropdown")}},Hd={all:["cooler-types"],lists:()=>[...Hd.all,"list"],list:t=>[...Hd.lists(),t],details:()=>[...Hd.all,"detail"],detail:t=>[...Hd.details(),t],dropdown:()=>[...Hd.all,"dropdown"]},jDe=(t,s)=>st({queryKey:Hd.list(t),queryFn:()=>xDe(t),staleTime:300*1e3,...s}),NDe=()=>Te({mutationFn:gDe,invalidateQueries:["cooler-types"],loadingMessage:"Creating cooler type..."}),_De=()=>Te({mutationFn:({id:t,...s})=>bDe(t,s),invalidateQueries:["cooler-types"],loadingMessage:"Updating cooler type..."}),wDe=()=>Te({mutationFn:yDe,invalidateQueries:["cooler-types"],loadingMessage:"Deleting cooler type..."}),P3=t=>st({queryKey:Hd.dropdown(),queryFn:()=>vDe(),staleTime:600*1e3,...t}),SDe=nt({file:ps().required("Please select a file to import")}),CDe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:SDe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("cooler_types")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"cooler_types",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Cooler Types",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple cooler types. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},PDe=nt({name:ce().required("Cooler type name is required").min(2,"Name must be at least 2 characters").max(255,"Name must be less than 255 characters"),code:ce().max(100,"Code must be less than 100 characters"),description:ce(),is_active:ce().required("Status is required")}),kDe=({selectedCoolerType:t,setSelectedCoolerType:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=NDe(),l=_De(),c=pt({initialValues:{name:t?.name||"",code:t?.code||"",description:t?.description||"",is_active:t?.is_active||"Y"},validationSchema:PDe,enableReinitialize:!0,onSubmit:async m=>{try{const d={name:m.name,code:m.code,description:m.description,is_active:m.is_active};n&&t?await l.mutateAsync({id:t.id,...d}):await o.mutateAsync(d),i()}catch(d){console.error("Error saving cooler type:",d)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Cooler Type":"Create Cooler Type",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Cooler Type Name",placeholder:"Enter cooler type name",formik:c,required:!0}),e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:c}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:c,multiline:!0,rows:3})}),e.jsx(Es,{name:"is_active",formik:c,required:!0,className:"col-span-2"})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},EDe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("cooler-type"),{data:y,isFetching:N,error:C}=jDe({search:t,page:d,limit:x,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total_count||0,D=(y?.meta?.current_page||1)-1,T=wDe(),A=ls(),I=y?.stats,F=I?.total_cooler_types??P.length,z=I?.active_cooler_types??P.filter(R=>R.is_active==="Y").length,O=I?.inactive_cooler_types??P.filter(R=>R.is_active==="N").length,K=I?.new_cooler_types??0,W=g.useCallback(()=>{i(null),l(!0)},[]),B=g.useCallback(R=>{i(R),l(!0)},[]),q=g.useCallback(async R=>{try{await T.mutateAsync(R)}catch($){console.error("Error deleting cooler type:",$)}},[T]),H=g.useCallback(R=>{s(R),p(1)},[]),Q=R=>{p(R+1)},V=g.useCallback(async()=>{try{const R={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"cooler_types",filters:R})}catch(R){console.error("Error exporting cooler types:",R)}},[A,t,a]),M=[{id:"name",label:"Cooler Type Name",render:(R,$)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:$.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900",children:$.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:$.code})]})]})},{id:"description",label:"Description",render:(R,$)=>e.jsx(f,{variant:"body2",className:"!text-gray-600",children:$.description||e.jsx("span",{className:"italic text-gray-400",children:"No Description"})})},{id:"is_active",label:"Status",render:R=>e.jsx(Re,{icon:R==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:R==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:R==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(R,$)=>Fe($.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(R,$)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>B($),tooltip:`Edit ${$.name}`}),S&&e.jsx(Ht,{onClick:()=>q($.id),tooltip:`Delete ${$.name}`,itemName:$.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Cooler Types Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage cooler types for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Cooler Types",value:F,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Types",value:z,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Types",value:O,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:K,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load cooler types. Please try again."}),e.jsx(ct,{data:P,columns:M,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Cooler Types...",value:t,onChange:H,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:R=>{r(R.target.value),p(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Cooler Types",description:"Are you sure you want to export the current cooler types data to Excel?",onConfirm:V,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:W,children:"Create"})]})]}):!1,getRowId:R=>R.id,initialOrderBy:"name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:Q,emptyMessage:t?`No cooler types found matching "${t}"`:"No cooler types found in the system"}),e.jsx(kDe,{selectedCoolerType:n,setSelectedCoolerType:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(CDe,{drawerOpen:c,setDrawerOpen:m})]})},TDe=async t=>{try{return(await ie.get("/cooler-sub-types",{params:t})).data}catch(s){throw console.error("Error fetching cooler sub types:",s),new Error(s.response?.data?.message||"Failed to fetch cooler sub types")}},MDe=async t=>{try{return(await ie.post("/cooler-sub-types",t)).data}catch(s){throw console.error("Error creating cooler sub type:",s),new Error(s.response?.data?.message||"Failed to create cooler sub type")}},DDe=async(t,s)=>{try{return(await ie.put(`/cooler-sub-types/${t}`,s)).data}catch(a){throw console.error("Error updating cooler sub type:",a),new Error(a.response?.data?.message||"Failed to update cooler sub type")}},RDe=async t=>{try{return(await ie.delete(`/cooler-sub-types/${t}`)).data}catch(s){throw console.error("Error deleting cooler sub type:",s),new Error(s.response?.data?.message||"Failed to delete cooler sub type")}},ADe=async t=>{try{return(await ie.get("/cooler-sub-types-dropdown",{params:{cooler_type_id:t}})).data}catch(s){throw console.error("Error fetching cooler sub types dropdown:",s),new Error(s.response?.data?.message||"Failed to fetch cooler sub types dropdown")}},Wd={all:["cooler-sub-types"],lists:()=>[...Wd.all,"list"],list:t=>[...Wd.lists(),t],details:()=>[...Wd.all,"detail"],detail:t=>[...Wd.details(),t],dropdown:()=>[...Wd.all,"dropdown"]},IDe=(t,s)=>st({queryKey:Wd.list(t),queryFn:()=>TDe(t),staleTime:300*1e3,...s}),ODe=()=>Te({mutationFn:MDe,invalidateQueries:["cooler-sub-types"],loadingMessage:"Creating cooler sub type..."}),FDe=()=>Te({mutationFn:({id:t,...s})=>DDe(t,s),invalidateQueries:["cooler-sub-types"],loadingMessage:"Updating cooler sub type..."}),LDe=()=>Te({mutationFn:RDe,invalidateQueries:["cooler-sub-types"],loadingMessage:"Deleting cooler sub type..."}),$De=(t,s)=>st({queryKey:[...Wd.dropdown(),t],queryFn:()=>ADe(t),staleTime:600*1e3,enabled:!0,...s}),zDe=nt({file:ps().required("Please select a file to import")}),qDe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:zDe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("cooler_sub_types")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"cooler_sub_types",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Cooler Sub Types",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple cooler sub types. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},BDe=nt({name:ce().required("Sub Type is required").min(2,"Sub Type must be at least 2 characters").max(255,"Sub Type must be less than 255 characters"),code:ce().max(100,"Code must be less than 100 characters"),cooler_type_id:Ye().required("Cooler Type is required").integer("Cooler Type must be a valid integer"),description:ce(),is_active:ce().required("Status is required")}),UDe=({selectedCoolerSubType:t,setSelectedCoolerSubType:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,{data:i}=P3(),o=()=>{s(null),r(!1),m.resetForm()},l=ODe(),c=FDe(),m=pt({initialValues:{name:t?.name||"",code:t?.code||"",cooler_type_id:t?.cooler_type_id||"",description:t?.description||"",is_active:t?.is_active||"Y"},validationSchema:BDe,enableReinitialize:!0,onSubmit:async d=>{try{const p={name:d.name,code:d.code,cooler_type_id:Number(d.cooler_type_id),description:d.description,is_active:d.is_active};n&&t?await c.mutateAsync({id:t.id,...p}):await l.mutateAsync(p),o()}catch(p){console.error("Error saving cooler sub type:",p)}}});return e.jsx(it,{open:a,setOpen:o,title:n?"Edit Cooler Sub Type":"Create Cooler Sub Type",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:m.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"name",label:"Sub Type",placeholder:"Enter sub type",formik:m,required:!0})}),e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:m}),e.jsxs(Se,{name:"cooler_type_id",label:"Cooler Type",formik:m,required:!0,children:[e.jsx(Z,{value:"",children:"Select Cooler Type"}),i?.data?.map(d=>e.jsx(Z,{value:d.id,children:d.name},d.id))]}),e.jsx(Es,{name:"is_active",formik:m,required:!0,className:"col-span-2"}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:m,multiline:!0,rows:3})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:o,className:"!mr-3",disabled:l.isPending||c.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:l.isPending||c.isPending,children:l.isPending||c.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},VDe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(0),[o,l]=g.useState(null),[c,m]=g.useState(!1),[d,p]=g.useState(!1),[x,j]=g.useState(1),[_]=g.useState(10),{isCreate:S,isUpdate:v,isDelete:y,isRead:N}=Ze("cooler-sub-type"),{data:C}=P3(),{data:P,isFetching:E,error:D}=IDe({search:t,page:x,limit:_,isActive:a==="all"?void 0:a==="active"?"Y":"N",coolerTypeId:n?Number(n):void 0},{enabled:N}),T=P?.data||[],A=P?.meta?.total_count||0,I=(P?.meta?.current_page||1)-1,F=LDe(),z=ls(),O=P?.stats,K=O?.total_cooler_sub_types??T.length,W=O?.active_cooler_sub_types??T.filter(J=>J.is_active==="Y").length,B=O?.inactive_cooler_sub_types??T.filter(J=>J.is_active==="N").length,q=O?.new_cooler_sub_types??0,H=g.useCallback(()=>{l(null),m(!0)},[]),Q=g.useCallback(J=>{l(J),m(!0)},[]),V=g.useCallback(async J=>{try{await F.mutateAsync(J)}catch(te){console.error("Error deleting cooler sub type:",te)}},[F]),M=g.useCallback(J=>{s(J),j(1)},[]),R=J=>{j(J+1)},$=g.useCallback(async()=>{try{const J={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N",coolerTypeId:n?Number(n):void 0};await z.mutateAsync({tableName:"cooler_sub_types",filters:J})}catch(J){console.error("Error exporting cooler sub types:",J)}},[z,t,a,n]),Y=[{id:"name",label:"Sub Type",render:(J,te)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:te.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900",children:te.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:te.code})]})]})},{id:"cooler_type",label:"Cooler Type",render:(J,te)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:te.cooler_type?.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsxs(b,{className:"!max-w-xs",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900",children:te.cooler_type?.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:te.cooler_type?.code})]})]})},{id:"description",label:"Description",render:(J,te)=>e.jsx(f,{variant:"body2",className:"!text-gray-600",children:te.description||e.jsx("span",{className:"italic text-gray-400",children:"No Description"})})},{id:"is_active",label:"Status",render:J=>e.jsx(Re,{icon:J==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:J==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:J==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(J,te)=>Fe(te.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...v||y||N?[{id:"action",label:"Actions",sortable:!1,render:(J,te)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[v&&e.jsx(ss,{onClick:()=>Q(te),tooltip:`Edit ${te.name}`}),y&&e.jsx(Ht,{onClick:()=>V(te.id),tooltip:`Delete ${te.name}`,itemName:te.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Cooler Sub Types Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage cooler sub types for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Cooler Sub Types",value:K,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue",isLoading:E}),e.jsx(fe,{title:"Active Sub Types",value:W,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:E}),e.jsx(fe,{title:"Inactive Sub Types",value:B,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:E}),e.jsx(fe,{title:"New This Month",value:q,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:E})]}),D&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load cooler sub types. Please try again."}),e.jsx(ct,{data:T,columns:Y,actions:N||S?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:N&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Cooler Sub Types...",value:t,onChange:M,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:n,onChange:J=>{i(J.target.value===""?0:Number(J.target.value)),j(1)},className:"!w-48",disableClearable:!0,children:[e.jsx(Z,{value:"0",children:"All Cooler Types"}),C?.data?.map(J=>e.jsx(Z,{value:J.id,children:J.name},J.id))]}),e.jsxs(Se,{value:a,onChange:J=>{r(J.target.value),j(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[N&&e.jsx(Xt,{title:"Export Cooler Sub Types",description:"Are you sure you want to export the current cooler sub types data to Excel?",onConfirm:$,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:z.isPending,children:z.isPending?"Exporting...":"Export"})}),S&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>p(!0),children:"Import"}),S&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:H,children:"Create"})]})]}):!1,getRowId:J=>J.id,initialOrderBy:"name",loading:E,totalCount:A,page:I,rowsPerPage:_,isPermission:N,onPageChange:R,emptyMessage:t?`No cooler sub types found matching "${t}"`:"No cooler sub types found in the system"}),e.jsx(UDe,{selectedCoolerSubType:o,setSelectedCoolerSubType:l,drawerOpen:c,setDrawerOpen:m}),e.jsx(qDe,{drawerOpen:d,setDrawerOpen:p})]})},HDe=nt({name:ce().required("Tax name is required").min(2,"Tax name must be at least 2 characters").max(255,"Tax name must be less than 255 characters"),code:ce().required("Tax code is required").min(2,"Tax code must be at least 2 characters").max(100,"Tax code must be less than 100 characters"),tax_rate:Ye().required("Tax rate is required").min(0,"Tax rate must be at least 0").max(100,"Tax rate must be at most 100"),description:ce().max(500,"Description must be less than 500 characters"),is_active:ce().oneOf(["Y","N"]).required("Status is required")}),WDe=({selectedTaxMaster:t,setSelectedTaxMaster:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),m.resetForm()},o=OTe(),l=FTe(),{data:c}=ITe(t?.id||0,{enabled:n&&!!t?.id}),m=pt({initialValues:{name:t?.name||"",code:t?.code||"",tax_rate:t?.tax_rate||0,description:t?.description||"",is_active:t?.is_active||"Y"},validationSchema:HDe,enableReinitialize:!0,onSubmit:async d=>{try{const p={name:d.name,code:d.code,tax_rate:Number(d.tax_rate),description:d.description,is_active:d.is_active};n&&t?await l.mutateAsync({id:t.id,data:p}):await o.mutateAsync(p),i()}catch(p){console.error("Error saving tax master:",p)}}});return yt.useEffect(()=>{c&&n&&m.setValues({name:c.name||"",code:c.code||"",tax_rate:c.tax_rate||0,description:c.description||"",is_active:c.is_active||"Y"})},[c,n]),e.jsx(it,{open:a,setOpen:i,title:n?"Edit Tax Master":"Create Tax Master",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:m.handleSubmit,className:"!space-y-4",children:[e.jsx(oe,{name:"name",label:"Tax Name",placeholder:"Enter tax name",formik:m,required:!0}),e.jsx(oe,{name:"code",label:"Tax Code",placeholder:"Enter tax code",formik:m,required:!0,disabled:n}),e.jsx(oe,{name:"tax_rate",label:"Tax Rate (%)",type:"number",placeholder:"Enter tax rate (0-100)",formik:m,required:!0,inputProps:{min:0,max:100,step:.01}}),e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description (optional)",formik:m,multiline:!0,rows:3}),e.jsx(Es,{name:"is_active",label:"Status",formik:m,required:!0}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2 !mt-6 !pt-4",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},YDe=nt({file:ps().required("Please select a file to import")}),GDe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:YDe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("tax_master")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"tax_master",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Tax Masters",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple tax masters. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},KDe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("tax-master"),{data:y,isFetching:N,error:C}=e$({search:t,page:d,limit:x,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total||0,D=(y?.meta?.page||1)-1,T=LTe(),A=ls(),I=y?.stats,F=I?.total||P.length,z=I?.active||P.filter(R=>R.is_active==="Y").length,O=I?.inactive||P.filter(R=>R.is_active==="N").length,K=I?.new_this_month||0,W=g.useCallback(()=>{i(null),l(!0)},[]),B=g.useCallback(R=>{i(R),l(!0)},[]),q=g.useCallback(async R=>{try{await T.mutateAsync(R)}catch($){console.error("Error deleting tax master:",$)}},[T]),H=g.useCallback(R=>{s(R),p(1)},[]),Q=R=>{p(R+1)},V=g.useCallback(async()=>{try{const R={search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"tax_master",filters:R})}catch(R){console.error("Error exporting tax masters:",R)}},[A,t,a]),M=[{id:"name",label:"Tax Name",render:(R,$)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:$.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Zr,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:$.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:$.code})]})]})},{id:"tax_rate",label:"Tax Rate (%)",render:R=>e.jsxs(f,{variant:"body2",className:"!font-medium",children:[R,"%"]})},{id:"description",label:"Description",render:R=>R?e.jsx(f,{variant:"body2",className:"!text-gray-600",children:R.length>50?`${R.substring(0,50)}...`:R}):e.jsx("span",{className:"italic text-gray-400",children:"No description"})},{id:"is_active",label:"Status",render:R=>e.jsx(Re,{icon:R==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:R==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:R==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(R,$)=>Fe($.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(R,$)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>B($),tooltip:`Edit ${$.name}`}),S&&e.jsx(Ht,{onClick:()=>q($.id),tooltip:`Delete ${$.name}`,itemName:$.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Tax Master Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage tax rates and their configurations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Taxes",value:F,icon:e.jsx(Zr,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Taxes",value:z,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Taxes",value:O,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:K,icon:e.jsx(Pn,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load tax masters. Please try again."}),e.jsx(ct,{data:P,columns:M,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Tax Masters...",value:t,onChange:H,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:R=>r(R.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[v&&e.jsxs(e.Fragment,{children:[e.jsx(Xt,{title:"Export Tax Masters",description:"Are you sure you want to export the current tax masters data to Excel? This will include all filtered results.",onConfirm:V,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"})]}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:W,children:"Create"})]})]}):!1,getRowId:R=>R.id,initialOrderBy:"name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:Q,emptyMessage:t?`No tax masters found matching "${t}"`:"No tax masters found in the system"}),e.jsx(WDe,{selectedTaxMaster:n,setSelectedTaxMaster:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(GDe,{drawerOpen:c,setDrawerOpen:m})]})},QDe=async()=>{try{return(await ie.get("/roles-dropdown")).data}catch(t){throw t}},ZDe=async t=>{try{return(await ie.get("/roles",{params:t})).data}catch(s){throw s}},XDe=async t=>(await ie.post("/roles",t)).data,JDe=async(t,s)=>(await ie.put(`/roles/${t}`,s)).data,eRe=async t=>(await ie.delete(`/roles/${t}`)).data,$m={all:["roles"],lists:()=>[...$m.all,"list"],list:t=>[...$m.lists(),t],details:()=>[...$m.all,"detail"],detail:t=>[...$m.details(),t]},k3=t=>st({queryKey:[...$m.all,"dropdown"],queryFn:()=>QDe(),staleTime:300*1e3,...t}),tRe=(t,s)=>st({queryKey:$m.list(t),queryFn:()=>ZDe(t),staleTime:300*1e3,...s}),sRe=t=>Te({mutationFn:s=>XDe(s),loadingMessage:"Creating role...",invalidateQueries:["roles"],onSuccess:t?.onSuccess,onError:t?.onError}),aRe=t=>Te({mutationFn:({id:s,roleData:a})=>JDe(s,a),loadingMessage:"Updating role...",invalidateQueries:["roles"],onSuccess:t?.onSuccess,onError:t?.onError}),rRe=t=>Te({mutationFn:s=>eRe(s),loadingMessage:"Deleting role...",invalidateQueries:["roles"],onSuccess:t?.onSuccess,onError:t?.onError}),nRe=async()=>{try{return(await ie.get("/permissions/by-module")).data}catch(t){throw t}},Pm={all:["permissions"],lists:()=>[...Pm.all,"list"],list:t=>[...Pm.lists(),t],details:()=>[...Pm.all,"detail"],detail:t=>[...Pm.details(),t],modules:()=>[...Pm.all,"modules"]},iRe=t=>st({queryKey:Pm.modules(),queryFn:()=>nRe(),staleTime:900*1e3,...t}),oRe=nt({name:ce().required("Role name is required").min(2,"Role name must be at least 2 characters").max(50,"Role name must not exceed 50 characters"),description:ce().max(200,"Description must not exceed 200 characters"),is_active:ce().required("Status is required"),permissions:dl().min(1,"At least one permission must be selected")}),lRe=({selectedRole:t,setSelectedRole:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,[i,o]=g.useState(""),{data:l,isLoading:c,error:m}=iRe(),d=l?.data||[],p=g.useMemo(()=>{if(!i.trim())return d;const F=i.toLowerCase();return d.map(z=>({...z,permissions:z.permissions.filter(O=>O.name.toLowerCase().includes(F))})).filter(z=>z.permissions.length>0)},[d,i]),x=sRe({onSuccess:()=>{y()}}),j=aRe({onSuccess:()=>{y()}}),_={name:t?.name||"",description:t?.description||"",is_active:t?.is_active||"Y",permissions:t?.permissions?.filter(F=>F.is_active==="Y").map(F=>F.permission_id)||[]},S=pt({initialValues:_,validationSchema:oRe,enableReinitialize:!0,onSubmit:async F=>{try{n&&t?await j.mutateAsync({id:t.id,roleData:{name:F.name,description:F.description,is_active:F.is_active,permissions:F.permissions}}):await x.mutateAsync({name:F.name,description:F.description,is_active:F.is_active,permissions:F.permissions})}catch(z){console.error("Error saving role:",z)}}}),v=F=>{F.preventDefault(),S.handleSubmit()},y=()=>{r(!1),S.resetForm(),s(null)},N=(F,z)=>{const O=S.values.permissions;z?S.setFieldValue("permissions",[...O,F]):S.setFieldValue("permissions",O.filter(K=>K!==F))},C=(F,z)=>{const O=F.map(W=>W.id),K=S.values.permissions;if(z){const W=[...K];O.forEach(B=>{W.includes(B)||W.push(B)}),S.setFieldValue("permissions",W)}else S.setFieldValue("permissions",K.filter(W=>!O.includes(W)))},P=F=>F.map(O=>O.id).every(O=>S.values.permissions.includes(O)),E=F=>{const z=F.map(K=>K.id),O=z.filter(K=>S.values.permissions.includes(K)).length;return O>0&&O<z.length},D=()=>{const F=new Set;return p.forEach(z=>{z.permissions.forEach(O=>{F.add(O.action)})}),Array.from(F).sort()},T=()=>{const F=p.flatMap(z=>z.permissions.map(O=>O.id));return F.length>0&&F.every(z=>S.values.permissions.includes(z))},A=()=>{const F=p.flatMap(O=>O.permissions.map(K=>K.id)),z=F.filter(O=>S.values.permissions.includes(O)).length;return z>0&&z<F.length},I=F=>{if(F.target.checked){const z=p.flatMap(O=>O.permissions.map(K=>K.id));S.setFieldValue("permissions",z)}else S.setFieldValue("permissions",[])};return e.jsxs("div",{children:[e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:()=>r(!0),children:"Create"}),e.jsx(it,{open:a,setOpen:y,title:n?`Edit Role: ${t?.name}`:"Create New Role",children:e.jsxs(b,{component:"form",onSubmit:v,className:"p-4",children:[e.jsxs(b,{className:"space-y-4",children:[e.jsx("p",{className:"!font-semibold !text-gray-900",children:"Role Information"}),e.jsx("div",{className:"flex sm:flex-row flex-col sm:gap-4 gap-2",children:e.jsx(oe,{name:"name",formik:S,label:"Role Name",placeholder:"Enter role name",required:!0})}),e.jsx(Es,{name:"is_active",formik:S,required:!0,className:"col-span-2"}),e.jsx(oe,{name:"description",formik:S,label:"Description",placeholder:"Enter role description",multiline:!0,className:"!my-2",rows:3})]}),e.jsxs(b,{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between py-3 mb-2",children:[e.jsx("p",{className:"!font-semibold !text-gray-900",children:"Permissions"}),e.jsx(b,{children:e.jsx(oe,{name:"permissionSearch",label:"Search Permissions",placeholder:"Search by permission name...",value:i,onChange:F=>o(F.target.value),className:"!w-full"})})]}),S.errors.permissions&&S.touched.permissions&&e.jsx(lt,{severity:"error",className:"!mb-4",children:S.errors.permissions}),m&&e.jsx(lt,{severity:"warning",className:"!mb-4",children:"Failed to load permissions from server. Using default permissions."}),c&&e.jsx("div",{className:"!flex !justify-center !py-4",children:e.jsx("p",{className:"!text-gray-500",children:"Loading permissions..."})}),e.jsx(m9,{component:la,className:"!shadow-none !border !border-gray-200",children:e.jsxs($_,{size:"small",className:"!min-w-full",children:[e.jsx(p9,{children:e.jsxs(tu,{className:"!bg-gray-50",children:[e.jsx(Vi,{className:"!font-semibold !text-gray-700 !py-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qo,{size:"small",checked:T(),indeterminate:A(),onChange:I,className:"!text-primary-600"}),"Module"]})}),D().map(F=>e.jsx(Vi,{align:"center",className:"!font-semibold !capitalize !text-gray-700 !py-3 !min-w-[100px]",children:F},F))]})}),e.jsx(z_,{children:p.length===0?e.jsx(tu,{children:e.jsx(Vi,{colSpan:D().length+1,className:"!text-center !py-8",children:e.jsx("p",{className:"!text-gray-500",children:i.trim()?`No permissions found matching "${i}"`:"No permissions available"})})}):p.map(F=>e.jsxs(tu,{className:"hover:!bg-gray-50",children:[e.jsx(Vi,{className:"!py-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qo,{size:"small",checked:P(F.permissions),indeterminate:E(F.permissions),onChange:z=>C(F.permissions,z.target.checked),className:"!text-primary-600"}),e.jsx("span",{className:"!font-medium !text-gray-900 !capitalize",children:F.module})]})}),D().map(z=>{const O=F.permissions.find(K=>K.action===z);return e.jsx(Vi,{align:"center",className:"!py-2",children:O?e.jsx(q4,{size:"small",checked:S.values.permissions.includes(O.id),onChange:K=>N(O.id,K.target.checked),className:"!text-primary-600"}):e.jsx("span",{className:"text-gray-300",children:""})},z)})]},F.module))})]})})]}),e.jsxs("div",{className:"flex gap-4 justify-end pt-4",children:[e.jsx(G,{variant:"outlined",onClick:y,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:x.isPending||j.isPending,children:n?"Update Role":"Create Role"})]})]})})]})},cRe=nt({file:ps().required("Please select a file to import")}),dRe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:cRe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("roles")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"roles",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Roles",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple roles. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},uRe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(1),[o]=g.useState(10),[l,c]=g.useState(null),[m,d]=g.useState(!1),[p,x]=g.useState(!1),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("role"),{data:y,isFetching:N,error:C}=tRe({search:t,page:n,limit:o,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total||0,D=(y?.meta?.page||1)-1,T=y?.stats,A=rRe(),I=ls(),F=[{id:"name",label:"Role Name",render:(B,q)=>e.jsx("span",{className:"font-semibold",children:q.name})},{id:"is_active",label:"Status",render:B=>e.jsx(Re,{icon:B==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:B==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:B==="Y"?"success":"error"})},{id:"user_role",label:"Users Count",render:(B,q)=>e.jsxs(b,{className:"!flex !gap-1 !items-center",children:[e.jsx(Fle,{className:"!text-gray-500 !text-sm"}),e.jsx(f,{variant:"body2",className:"!text-gray-700",children:q.user_role?.length||0})]})},{id:"permissions",label:"Permissions",render:(B,q)=>e.jsxs(f,{variant:"body2",className:"!text-gray-700",children:[q.permissions?.filter(H=>H.is_active==="Y").length||0," active"]})},{id:"description",label:"Description",render:(B,q)=>q.description?e.jsx(Oa,{title:q.description,placement:"top",arrow:!0,children:e.jsx(b,{component:"span",className:"!block !max-w-[200px] !truncate",children:q.description})}):e.jsx("span",{className:"italic text-gray-400",children:"No Description"})},..._||S||v?[{id:"action",label:"Actions",width:"120px",sortable:!1,render:(B,q)=>e.jsxs(b,{className:"!flex !gap-1",children:[_&&e.jsx(ss,{onClick:()=>z(q),tooltip:`Edit ${q.name}`}),S&&e.jsx(Ht,{onClick:()=>O(q.id),tooltip:`Delete ${q.name}`,itemName:q.name,confirmDelete:!0})]})}]:[]],z=g.useCallback(B=>{c(B),console.log(B),d(!0)},[]),O=g.useCallback(async B=>{try{await A.mutateAsync(B)}catch(q){console.error("Error deleting role:",q)}},[A]),K=g.useCallback(async()=>{try{const B={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await I.mutateAsync({tableName:"roles",filters:B})}catch(B){console.error("Error exporting roles:",B)}},[I,t,a]),W=g.useCallback(B=>{s(B),i(1)},[]);return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Role & Permissions Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage system roles and their associated permissions"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Roles",value:T?.total_roles||0,icon:e.jsx(xA,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Roles",value:T?.active_roles||0,icon:e.jsx(Qoe,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Roles",value:T?.inactive_roles||0,icon:e.jsx(Xoe,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:T?.new_roles||0,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load roles. Please try again."}),e.jsx(ct,{data:P,columns:F,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[v&&e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx(Jt,{placeholder:"Search Roles",value:t,onChange:W,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(Se,{value:a,onChange:B=>{r(B.target.value),i(1)},className:"!min-w-32",size:"small",placeholder:"Status",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),j&&e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Roles",description:"Are you sure you want to export current roles data to Excel? This will include all filtered results.",onConfirm:K,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:I.isPending,children:I.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>x(!0),children:"Import"}),e.jsx(lRe,{selectedRole:l,setSelectedRole:c,setDrawerOpen:d,drawerOpen:m}),e.jsx(dRe,{drawerOpen:p,setDrawerOpen:x})]})]}):!1,getRowId:B=>B.id,initialOrderBy:"name",loading:N,pagination:!0,totalCount:E,page:D,rowsPerPage:o,onPageChange:B=>i(B+1),isPermission:v,emptyMessage:t?`No roles found matching "${t}"`:"No roles found in the system"})]})},mRe=nt({file:ps().required("Please select a file to import")}),pRe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:mRe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("routes")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"routes",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Routes",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple routes. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},hRe=nt({parent_id:ce().required("Zone is required").test("is-number","Zone must be a valid selection",t=>t?!isNaN(Number(t)):!1),depot_id:ce().required("Depot is required").test("is-number","Depot must be a valid selection",t=>t?!isNaN(Number(t)):!1),route_type_id:ce().required("Route type is required").test("is-number","Route type must be a valid selection",t=>t?!isNaN(Number(t)):!1),name:ce().required("Route name is required").min(2,"Route name must be at least 2 characters").max(100,"Route name must not exceed 100 characters").trim(),description:ce().max(500,"Description must not exceed 500 characters").trim(),salesperson_id:ce().test("is-number-or-empty","Salesperson must be a valid selection",t=>!t||!isNaN(Number(t))),start_location:ce().max(200,"Start location must not exceed 200 characters").trim(),end_location:ce().max(200,"End location must not exceed 200 characters").trim(),starting_latitude:ce().test("is-lat-or-empty","Starting latitude must be between -90 and 90",t=>{if(!t)return!0;const s=Number(t);return!isNaN(s)&&s>=-90&&s<=90}),starting_longitude:ce().test("is-lng-or-empty","Starting longitude must be between -180 and 180",t=>{if(!t)return!0;const s=Number(t);return!isNaN(s)&&s>=-180&&s<=180}),ending_latitude:ce().test("is-lat-or-empty","Ending latitude must be between -90 and 90",t=>{if(!t)return!0;const s=Number(t);return!isNaN(s)&&s>=-90&&s<=90}),ending_longitude:ce().test("is-lng-or-empty","Ending longitude must be between -180 and 180",t=>{if(!t)return!0;const s=Number(t);return!isNaN(s)&&s>=-180&&s<=180}),estimated_distance:ce().test("is-positive-number-or-empty","Distance must be a positive number",t=>{if(!t)return!0;const s=Number(t);return!isNaN(s)&&s>0}),estimated_time:ce().test("is-positive-integer-or-empty","Time must be a positive integer",t=>{if(!t)return!0;const s=Number(t);return!isNaN(s)&&s>0&&Number.isInteger(s)}),is_active:ce().required("Status is required").oneOf(["Y","N"],"Status must be either Active or Inactive")}),fRe=({selectedRoute:t,setSelectedRoute:s,drawerOpen:a,setDrawerOpen:r,depots:n,zones:i})=>{const o=!!t,[l,c]=g.useState(""),m=()=>{s(null),r(!1),y.resetForm()},d=nEe(),p=iEe(),{data:x}=C3({status:"active"}),j=x?.data||[],{data:_,isFetching:S}=cA({search:l}),v=_?.data||[],y=pt({initialValues:{parent_id:t?.parent_id?.toString()||"",depot_id:t?.depot_id?.toString()||"",route_type_id:t?.route_type_id?.toString()||"",name:t?.name||"",description:t?.description||"",sales_persons:t?.salespersons?.map(I=>I.user.id)||[],start_location:t?.start_location||"",end_location:t?.end_location||"",starting_latitude:t?.starting_latitude?.toString()||"",starting_longitude:t?.starting_longitude?.toString()||"",ending_latitude:t?.ending_latitude?.toString()||"",ending_longitude:t?.ending_longitude?.toString()||"",estimated_distance:t?.estimated_distance?.toString()||"",estimated_time:t?.estimated_time?.toString()||"",is_active:t?.is_active||"Y"},validationSchema:hRe,enableReinitialize:!0,onSubmit:async I=>{try{const F={parent_id:Number(I.parent_id),depot_id:Number(I.depot_id),route_type_id:Number(I.route_type_id),name:I.name,description:I.description,salespersons:I.sales_persons?.map(z=>({user_id:z}))||[],start_location:I.start_location,end_location:I.end_location,starting_latitude:I.starting_latitude||void 0,starting_longitude:I.starting_longitude||void 0,ending_latitude:I.ending_latitude||void 0,ending_longitude:I.ending_longitude||void 0,estimated_distance:I.estimated_distance?Number(I.estimated_distance):void 0,estimated_time:I.estimated_time?Number(I.estimated_time):void 0,is_active:I.is_active};o&&t?await p.mutateAsync({id:t.id,...F}):await d.mutateAsync(F),m()}catch(F){console.error("Error saving route:",F)}}}),N=g.useMemo(()=>(t?.salespersons||[]).map(F=>({id:F.user.id,name:F.user.name,email:F.user.email,profile_image:F.user.profile_image||null})).filter(F=>!!F.id),[t?.salespersons]),C=g.useMemo(()=>{const I=new Map;return v.forEach(F=>I.set(F.id,F)),N.forEach(F=>{I.has(F.id)||I.set(F.id,F)}),I},[N,v]),P=y.values.sales_persons||[],E=g.useMemo(()=>P.map(I=>C.get(I)).filter(Boolean),[P,C]),D=g.useMemo(()=>{const I=new Set(P);return v.filter(F=>!I.has(F.id))},[P,v]),T=g.useCallback(I=>{const{destination:F,source:z,draggableId:O}=I;if(!F||F.droppableId===z.droppableId&&F.index===z.index)return;const K=parseInt(O,10);if(!Number.isNaN(K)){if(z.droppableId==="available-users"&&F.droppableId==="assigned-users"){if(P.includes(K))return;const W=Array.from(P);W.splice(F.index,0,K),y.setFieldValue("sales_persons",W);return}if(z.droppableId==="assigned-users"&&F.droppableId==="available-users"){y.setFieldValue("sales_persons",P.filter(W=>W!==K));return}if(z.droppableId==="assigned-users"&&F.droppableId==="assigned-users"){const W=Array.from(P),[B]=W.splice(z.index,1);W.splice(F.index,0,B),y.setFieldValue("sales_persons",W)}}},[P,y]),A=g.useCallback(({user:I})=>e.jsxs("div",{className:"!flex !items-center !gap-3 !p-2 !pr-3 !bg-white !border !border-gray-200 !rounded-lg !mb-2 hover:!border-blue-300 hover:!shadow-md",children:[e.jsx(qv,{className:"!w-5 !h-5 !text-gray-400 !cursor-grab !flex-shrink-0"}),e.jsx(ot,{className:"!w-9 !h-9 !bg-blue-100 !text-blue-600",children:I.profile_image?e.jsx("img",{src:I.profile_image,alt:I.name,className:"w-full h-full object-cover"}):e.jsx(Za,{className:"w-4 h-4"})}),e.jsxs(b,{className:"!flex-1 !min-w-0",children:[e.jsx(f,{variant:"body2",className:"!font-medium !text-gray-900",children:I.name||`User ${I.id}`}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:I.email||"No Email"})]})]}),[]);return e.jsx(it,{open:a,setOpen:m,title:o?"Edit Route":"Create Route",size:"large",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:y.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(Se,{name:"depot_id",label:"Depot",formik:y,required:!0,children:n.map(I=>e.jsxs(Z,{value:I.id.toString(),children:[I.name," (",I.code,")"]},I.id))}),e.jsx(Se,{name:"parent_id",label:"Zone",formik:y,required:!0,children:i.map(I=>e.jsx(Z,{value:I.id.toString(),children:I.name},I.id))}),e.jsx(Se,{name:"route_type_id",label:"Route Type",formik:y,required:!0,children:j.map(I=>e.jsx(Z,{value:I.id.toString(),children:I.name},I.id))}),e.jsx(oe,{name:"name",label:"Route Name",placeholder:"Enter route name",formik:y,required:!0}),e.jsx(oe,{name:"start_location",label:"Start Location",placeholder:"Enter starting point",formik:y}),e.jsx(oe,{name:"end_location",label:"End Location",placeholder:"Enter ending point",formik:y}),e.jsx(oe,{name:"starting_latitude",label:"Start Latitude",type:"number",placeholder:"e.g., 6.927079",formik:y,slotProps:{htmlInput:{step:"0.000001",min:"-90",max:"90"}}}),e.jsx(oe,{name:"starting_longitude",label:"Start Longitude",type:"number",placeholder:"e.g., 79.861244",formik:y,slotProps:{htmlInput:{step:"0.000001",min:"-180",max:"180"}}}),e.jsx(oe,{name:"ending_latitude",label:"End Latitude",type:"number",placeholder:"e.g., 6.900000",formik:y,slotProps:{htmlInput:{step:"0.000001",min:"-90",max:"90"}}}),e.jsx(oe,{name:"ending_longitude",label:"End Longitude",type:"number",placeholder:"e.g., 79.850000",formik:y,slotProps:{htmlInput:{step:"0.000001",min:"-180",max:"180"}}}),e.jsx(oe,{name:"estimated_distance",label:"Estimated Distance (km)",type:"number",placeholder:"Enter distance in kilometers",formik:y,slotProps:{htmlInput:{step:"0.1",min:"0"}}}),e.jsx(oe,{name:"estimated_time",label:"Estimated Time (minutes)",type:"number",placeholder:"Enter time in minutes",formik:y,slotProps:{htmlInput:{min:"0"}}}),e.jsxs(b,{className:"md:!col-span-2",children:[e.jsx(f,{variant:"subtitle2",className:"!font-semibold !mb-2",children:"Salespersons"}),e.jsx(_1,{onDragEnd:T,children:e.jsxs("div",{className:"!grid !grid-cols-2 !gap-4 !h-[420px]",children:[e.jsxs(b,{className:"!border !border-gray-200 !rounded-t-lg !flex !flex-col !overflow-hidden",children:[e.jsxs(b,{className:"!p-2 !border-b !border-gray-200 !bg-gray-50",children:[e.jsxs(f,{variant:"subtitle1",className:"!font-semibold !text-blue-600",children:["Available (",D.length,")"]}),e.jsx(b,{className:"!mt-2",children:e.jsx(Jt,{placeholder:"Search Users...",value:l,onChange:c,className:"!w-full"})}),S&&e.jsx(f,{variant:"caption",className:"!text-gray-500",children:"Loading..."})]}),e.jsx(b,{className:"!flex-1 !overflow-hidden",children:e.jsx(sd,{droppableId:"available-users",children:(I,F)=>e.jsxs("div",{...I.droppableProps,ref:I.innerRef,className:`!h-full !p-2 !overflow-y-auto ${F.isDraggingOver?"!bg-blue-50":""}`,style:{transition:"background-color 0.2s ease"},children:[D.length>0?D.map((z,O)=>e.jsx(td,{draggableId:z.id.toString(),index:O,children:K=>e.jsx("div",{ref:K.innerRef,...K.draggableProps,...K.dragHandleProps,style:{...K.draggableProps.style},children:e.jsx(A,{user:z})})},z.id)):e.jsxs(b,{className:"!p-8 !text-center !h-full !flex !flex-col !justify-center !items-center",children:[e.jsx(Za,{className:"!w-12 !h-12 !text-gray-300 !mb-2"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:l?"No users found":"All users are assigned"})]}),I.placeholder]})})})]}),e.jsxs(b,{className:"!border !border-gray-200 !rounded-t-lg !flex !flex-col !overflow-hidden",children:[e.jsxs(b,{className:"!p-2 !border-b !border-gray-200 !bg-gray-50",children:[e.jsxs(f,{variant:"subtitle1",className:"!font-semibold !text-green-600",children:["Assigned (",E.length,")"]}),e.jsx("p",{className:"!text-gray-500 !text-xs !block !mt-1",children:"Drag to reorder"})]}),e.jsx(b,{className:"!flex-1 !overflow-hidden",children:e.jsx(sd,{droppableId:"assigned-users",children:(I,F)=>e.jsxs("div",{...I.droppableProps,ref:I.innerRef,className:`!h-full !p-2 !overflow-y-auto ${F.isDraggingOver?"!bg-green-50":""}`,style:{transition:"background-color 0.2s ease"},children:[E.length>0?E.map((z,O)=>e.jsx(td,{draggableId:z.id.toString(),index:O,children:K=>e.jsx("div",{ref:K.innerRef,...K.draggableProps,...K.dragHandleProps,style:{...K.draggableProps.style},children:e.jsx(A,{user:z})})},`${z.id}-${O}`)):e.jsxs(b,{className:"!p-8 !text-center !h-full !flex !flex-col !justify-center !items-center",children:[e.jsx(Za,{className:"!w-12 !h-12 !text-gray-300 !mb-2"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No assigned users"}),e.jsx(f,{variant:"caption",className:"!text-gray-400 !block !mt-1",children:"Drag users from the left panel to assign"})]}),I.placeholder]})})})]})]})})]}),e.jsx(b,{children:e.jsx(Es,{name:"is_active",formik:y,required:!0})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter route description",formik:y,multiline:!0,rows:3})})]}),e.jsxs(b,{className:"!flex !justify-end !gap-3 !pt-4",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:d.isPending||p.isPending,children:o?"Update Route":"Create Route"})]})]})})})},xRe=()=>{const t=Fs(),[s,a]=g.useState(""),[r,n]=g.useState("all"),[i,o]=g.useState("all"),[l,c]=g.useState(null),[m,d]=g.useState(!1),[p,x]=g.useState(!1),[j,_]=g.useState(1),[S]=g.useState(10),{isCreate:v,isUpdate:y,isDelete:N,isRead:C}=Ze("route"),{data:P,isFetching:E,error:D}=Tu({search:s,page:j,limit:S,status:r==="all"?void 0:r==="active"?"active":"inactive",depot_id:i==="all"?void 0:Number(i)},{enabled:C}),{data:T}=_i({page:1,limit:100,isActive:"Y"}),{data:A}=ul({page:1,limit:100,isActive:"Y"}),I=P?.data||[],F=T?.data||[],z=A?.data||[],O=P?.meta?.total||0,K=(P?.meta?.page||1)-1,W=oEe(),B=ls(),q=P?.stats?.total_routes??I.length,H=P?.stats?.active_routes??I.filter(he=>he.is_active==="Y").length,Q=P?.stats?.inactive_routes??I.filter(he=>he.is_active==="N").length,V=P?.stats?.routes_this_month||0,M=g.useCallback(()=>{c(null),d(!0)},[]),R=g.useCallback(async()=>{try{const he={search:s,isActive:r==="all"?void 0:r==="active"?"Y":"N"};await B.mutateAsync({tableName:"routes",filters:he})}catch(he){console.error("Error exporting routes:",he)}},[B,s,r]),$=g.useCallback(he=>{c(he),d(!0)},[]),Y=g.useCallback(he=>{t(`/masters/routes/${he.id}`)},[t]),J=g.useCallback(async he=>{try{await W.mutateAsync({id:he})}catch(de){console.error("Error deleting route:",de)}},[W]),te=g.useCallback(he=>{a(he),_(1)},[]),ee=he=>{_(he+1)},ne=[{id:"name",label:"Route & Code",render:(he,de)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:de.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(wn,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:de.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:de.code})]})]})},{id:"depot",label:"Depot",render:(he,de)=>e.jsxs(b,{className:"!flex !items-center !gap-2",children:[e.jsx(ot,{className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Pn,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!font-medium",children:de.route_depots?.name||"N/A"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:de.route_depots?.code||""})]})]})},{id:"zone",label:"Zone",render:(he,de)=>e.jsxs(b,{className:"!flex !items-center !gap-2",children:[e.jsx(ot,{className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(mA,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!font-medium",children:de.route_zones?.name||"N/A"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:de.route_zones?.code||""})]})]})},{id:"salesperson",label:"Sales Person",render:(he,de)=>e.jsx(b,{className:"!flex !items-center !gap-2",children:de.salespersons&&de.salespersons.length>0?e.jsx(e.Fragment,{children:e.jsx(b,{className:"!flex !items-center !gap-2",children:e.jsx(B7,{max:3,children:de.salespersons.map(ae=>e.jsx(Oa,{title:`${ae.user.name} (${ae.role})`,arrow:!0,placement:"top",children:e.jsx(ot,{alt:ae.user.name,src:"mkx",className:"!bg-primary-100 !text-primary-600",children:ae.user.name.charAt(0).toUpperCase()},ae.id)}))})})}):e.jsxs(e.Fragment,{children:[e.jsx(St,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Unassigned"})]})})},{id:"description",label:"Description",render:(he,de)=>e.jsx(Oa,{title:de.description,placement:"top",arrow:!0,children:e.jsx(f,{variant:"body2",className:"!text-gray-600 !max-w-xs !truncate",children:de.description||"No description"})})},{id:"is_active",label:"Status",render:he=>e.jsx(Re,{icon:he==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:he==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:he==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(he,de)=>Fe(de.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...y||N||C?[{id:"action",label:"Actions",sortable:!1,render:(he,de)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[C&&e.jsx(Ua,{onClick:()=>Y(de),tooltip:`View ${de.name}`,icon:e.jsx(kn,{fontSize:"small"}),color:"info"}),y&&e.jsx(ss,{onClick:()=>$(de),tooltip:`Edit ${de.name}`}),N&&e.jsx(Ht,{onClick:()=>J(de.id),tooltip:`Delete ${de.name}`,itemName:de.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Route Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage sales routes, assignments, and territory coverage"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Routes",value:q,icon:e.jsx(wn,{className:"w-6 h-6"}),color:"blue",isLoading:E}),e.jsx(fe,{title:"Active Routes",value:H,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:E}),e.jsx(fe,{title:"Inactive Routes",value:Q,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:E}),e.jsx(fe,{title:"New This Month",value:V,icon:e.jsx(Py,{className:"w-6 h-6"}),color:"purple",isLoading:E})]}),D&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load routes. Please try again."}),e.jsx(ct,{data:I,columns:ne,actions:C||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex items-center flex-wrap gap-2",children:C&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Routes",value:s,onChange:te,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(Se,{value:r,onChange:he=>n(he.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(Se,{value:i,onChange:he=>o(he.target.value),className:"!min-w-60",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Depots"}),F.map(he=>e.jsx(Z,{value:he.id.toString(),children:he.name},he.id))]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Routes",description:"Are you sure you want to export the current routes data to Excel? This will include all filtered results.",onConfirm:R,confirmText:"Export",cancelText:"Cancel",children:e.jsx(G,{variant:"outlined",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(Nt,{}),disabled:B.isPending,children:B.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(fs,{}),onClick:()=>x(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:M,children:"Create"})]})]}):!1,getRowId:he=>he.id,initialOrderBy:"name",loading:E,totalCount:O,page:K,rowsPerPage:S,isPermission:C,onPageChange:ee,emptyMessage:s?`No routes found matching "${s}"`:"No routes found in the system"}),e.jsx(fRe,{selectedRoute:l,setSelectedRoute:c,drawerOpen:m,setDrawerOpen:d,depots:F,zones:z}),e.jsx(pRe,{drawerOpen:p,setDrawerOpen:x})]})},r$=({open:t,user:s,routes:a,selectedRouteIds:r,setSelectedRouteIds:n,onClose:i,onSave:o,loading:l})=>{const[c,m]=g.useState(""),d=g.useMemo(()=>new Map(a.map(S=>[S.id,S])),[a]),p=g.useMemo(()=>r.map(S=>d.get(S)).filter(Boolean),[d,r]),x=g.useMemo(()=>{const S=new Set(r),v=c.trim().toLowerCase();return a.filter(y=>{if(S.has(y.id))return!1;if(!v)return!0;const N=y.name?.toLowerCase()||"",C=y.code?.toLowerCase()||"";return N.includes(v)||C.includes(v)})},[c,a,r]),j=g.useCallback(S=>{const{destination:v,source:y,draggableId:N}=S;if(!v||v.droppableId===y.droppableId&&v.index===y.index)return;const C=parseInt(N,10);if(!Number.isNaN(C)){if(y.droppableId==="available-routes"&&v.droppableId==="assigned-routes"){if(r.includes(C))return;const P=Array.from(r);P.splice(v.index,0,C),n(P);return}if(y.droppableId==="assigned-routes"&&v.droppableId==="available-routes"){n(r.filter(P=>P!==C));return}if(y.droppableId==="assigned-routes"&&v.droppableId==="assigned-routes"){const P=Array.from(r),[E]=P.splice(y.index,1);P.splice(v.index,0,E),n(P)}}},[r,n]),_=({route:S})=>e.jsxs("div",{className:"!flex !items-center !gap-3 !p-2 !pr-3 !bg-white !border !border-gray-200 !rounded-lg !mb-2 hover:!border-blue-300 hover:!shadow-md",children:[e.jsx(qv,{className:"!w-5 !h-5 !text-gray-400 !cursor-grab !flex-shrink-0"}),e.jsx(ot,{className:"!w-9 !h-9 !bg-blue-100 !text-blue-600",children:e.jsx(wn,{className:"w-4 h-4"})}),e.jsxs(b,{className:"!flex-1 !min-w-0",children:[e.jsx(f,{variant:"body2",className:"!font-medium !text-gray-900",children:S.name||`Route ${S.id}`}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:S.code||"No Code"})]})]});return e.jsx(it,{open:t,setOpen:S=>{S||i()},title:`Assign Routes${s?` - ${s.name}`:""}`,size:"large",children:e.jsxs(b,{className:"!p-4 select-none",children:[e.jsx(_1,{onDragEnd:j,children:e.jsxs("div",{className:"!grid !grid-cols-2 !gap-4 !h-[520px]",children:[e.jsxs(b,{className:"!border !border-gray-200 !rounded-t-lg !flex !flex-col !overflow-hidden",children:[e.jsxs(b,{className:"!p-2 !border-b !border-gray-200 !bg-gray-50",children:[e.jsxs(f,{variant:"subtitle1",className:"!font-semibold !text-blue-600",children:["Available Routes (",x.length,")"]}),e.jsx("p",{className:"!text-gray-500 !text-xs !block !mt-1",children:"Drag routes from the left panel to assign"}),e.jsx(b,{className:"!mt-2",children:e.jsx(Jt,{placeholder:"Search Routes...",value:c,onChange:m,className:"!w-full"})})]}),e.jsx(b,{className:"!flex-1 !overflow-hidden",children:e.jsx(sd,{droppableId:"available-routes",children:(S,v)=>e.jsxs("div",{...S.droppableProps,ref:S.innerRef,className:`!h-full !p-2 !overflow-y-auto ${v.isDraggingOver?"!bg-blue-50":""}`,style:{transition:"background-color 0.2s ease"},children:[x.length>0?x.map((y,N)=>e.jsx(td,{draggableId:y.id.toString(),index:N,children:C=>e.jsx("div",{ref:C.innerRef,...C.draggableProps,...C.dragHandleProps,style:{...C.draggableProps.style},children:e.jsx(_,{route:y})})},y.id)):e.jsxs(b,{className:"!p-8 !text-center !h-full !flex !flex-col !justify-center !items-center",children:[e.jsx(wn,{className:"!w-12 !h-12 !text-gray-300 !mb-2"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:c?"No routes found":"All routes are assigned"})]}),S.placeholder]})})})]}),e.jsxs(b,{className:"!border !border-gray-200 !rounded-t-lg !flex !flex-col !overflow-hidden",children:[e.jsxs(b,{className:"!p-2 !border-b !border-gray-200 !bg-gray-50",children:[e.jsxs(f,{variant:"subtitle1",className:"!font-semibold !text-green-600",children:["Assigned Routes (",p.length,")"]}),e.jsx("p",{className:"!text-gray-500 !text-xs !block !mt-1",children:"Drag routes from the right panel to reorder"})]}),e.jsx(b,{className:"!flex-1 !overflow-hidden",children:e.jsx(sd,{droppableId:"assigned-routes",children:(S,v)=>e.jsxs("div",{...S.droppableProps,ref:S.innerRef,className:`!h-full !p-2 !overflow-y-auto ${v.isDraggingOver?"!bg-green-50":""}`,style:{transition:"background-color 0.2s ease"},children:[p.length>0?p.map((y,N)=>e.jsx(td,{draggableId:y.id.toString(),index:N,children:C=>e.jsx("div",{ref:C.innerRef,...C.draggableProps,...C.dragHandleProps,style:{...C.draggableProps.style},children:e.jsx(_,{route:y,showIndex:N+1})})},`${y.id}-${N}`)):e.jsxs(b,{className:"!p-8 !text-center !h-full !flex !flex-col !justify-center !items-center",children:[e.jsx(wn,{className:"!w-12 !h-12 !text-gray-300 !mb-2"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No assigned routes"}),e.jsx(f,{variant:"caption",className:"!text-gray-400 !block !mt-1",children:"Drag routes from the left panel to assign"})]}),S.placeholder]})})})]})]})}),e.jsxs(b,{className:"!flex !justify-end !gap-3 !mt-3",children:[e.jsx(G,{variant:"outlined",onClick:i,children:"Cancel"}),e.jsx(G,{variant:"contained",onClick:o,loading:l,children:"Save"})]})]})})},gRe=()=>{const t=Fs(),{isRead:s,isUpdate:a}=Ze("route"),[r,n]=g.useState(""),[i,o]=g.useState(1),[l]=g.useState(12),[c,m]=g.useState(!1),[d,p]=g.useState(null),[x,j]=g.useState([]),{data:_,isFetching:S}=lEe({page:i,limit:l,search:r},{enabled:s}),{data:v}=Tu({page:1,limit:500,status:"active"},{enabled:s}),y=_?.data||[],N=v?.data||[],C=_?.stats?.total_salespersons||0,P=_?.stats?.total_assigned_routes||0,E=_?.stats?.total_routes||0,D=_?.stats?.total_unassigned_routes||0,T=_?.meta?.total_pages||_?.meta?.totalPages||(_?.meta?.total?Math.ceil(_.meta.total/l):1),A=ZL(d?.id||0),I=g.useCallback(W=>{p(W);const B=(W.assigned_routes||[]).map(q=>q.id).filter(Boolean);j(B),m(!0)},[]),F=g.useCallback(()=>{m(!1),p(null),j([])},[]),z=g.useCallback(async()=>{d&&(await A.mutateAsync(x),F())},[F,x,d,A]),O=g.useCallback(W=>{n(W),o(1)},[]),K=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[1,2,3,4].map(W=>e.jsx("div",{className:"bg-white shadow-sm p-4 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(X,{variant:"circular",width:40,height:40,className:"!bg-gray-200"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{variant:"text",width:"40%",height:16,className:"!bg-gray-200"}),e.jsx(X,{variant:"text",width:"60%",height:24,className:"!bg-gray-300 !mt-1"})]})]})},W))}),e.jsx("div",{className:"bg-white shadow-sm p-4 rounded-lg border border-gray-100 mb-4",children:e.jsx("div",{className:"flex items-center flex-wrap gap-4",children:e.jsx(X,{variant:"rectangular",width:320,height:40,className:"!bg-gray-200 !rounded-lg"})})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-5",children:[1,2,3,4,5,6].map(W=>e.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-start p-4 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx(X,{variant:"circular",width:48,height:48,className:"!bg-gray-200"}),e.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[e.jsx(X,{variant:"text",width:70,height:20,className:"!bg-gray-300"}),e.jsx(X,{variant:"text",width:85,height:14,className:"!bg-gray-200 !mt-1"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"rectangular",width:60,height:32,className:"!bg-gray-200 !rounded"}),e.jsx(X,{variant:"rectangular",width:60,height:32,className:"!bg-gray-200 !rounded"})]})]}),e.jsxs("div",{className:"px-4 flex justify-between items-center pb-4",children:[e.jsx(X,{variant:"text",width:"45%",height:14,className:"!bg-gray-200"}),e.jsx("div",{className:"!mt-2",children:e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(B=>e.jsx(X,{variant:"circular",width:24,height:24,className:"!bg-gray-200"},B))})})]})]},W))}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsx(X,{variant:"rectangular",width:300,height:40,className:"!bg-gray-200 !rounded"})})]});return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Route Assignment Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Assign routes to salespersons and manage coverage"})]})}),s&&S&&e.jsx(K,{}),s&&!S&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{icon:e.jsx(wn,{}),title:"All Routes",value:E,color:"purple",isLoading:S}),e.jsx(fe,{icon:e.jsx(wn,{}),title:"Assigned Routes",value:P,color:"green",isLoading:S}),e.jsx(fe,{icon:e.jsx(wn,{}),title:"Unassigned Routes",value:D,color:"red",isLoading:S}),e.jsx(fe,{icon:e.jsx(X4,{}),title:"Total Salespersons",value:C,color:"blue",isLoading:S})]}),!s&&e.jsx("div",{className:"col-span-full text-center py-12",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"You do not have permission to view route assignments"})}),s&&!S&&e.jsx("div",{className:"bg-white shadow-sm p-4 rounded-lg border border-gray-100 mb-4",children:e.jsx("div",{className:"flex items-center flex-wrap gap-4",children:e.jsx(Jt,{placeholder:"Search Salesperson...",value:r,onChange:O,className:"!w-80"})})}),s&&!S&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-5",children:y.map(W=>e.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-100 transition-shadow hover:shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-start p-4 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx(ot,{src:W.profile_image||"mkx",alt:W.name,className:"!bg-blue-100 !text-blue-600",children:W.name?.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx(f,{variant:"body1",className:"!font-semibold !text-gray-800 !truncate",children:W.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !truncate",children:W.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{size:"small",variant:"outlined",onClick:()=>t(`/masters/route-assignments/${W.id}`),children:"Details"}),a&&e.jsx(G,{size:"small",variant:"outlined",onClick:()=>I(W),children:"Assign"})]})]}),e.jsxs("div",{className:"px-4 flex justify-between items-center pb-4",children:[e.jsxs(f,{variant:"body2",className:"!text-gray-500",children:["Assigned Routes: ",W.assigned_routes_count||0]}),e.jsx(b,{className:"!mt-2",children:e.jsx(B7,{max:10,spacing:"small",className:"!text-xs",children:W.assigned_routes.map(B=>e.jsx(Oa,{title:B.name||B.code||`Route ${B.id}`,arrow:!0,placement:"top",children:e.jsx(ot,{className:"!bg-primary-100 !text-primary-600 !w-6 !h-6 !text-[10px]",children:(B.name||B.code||"R").charAt(0).toUpperCase()})},`${W.id}-${B.id}`))})})]})]},W.id))}),s&&!S&&y.length===0&&e.jsx("div",{className:"col-span-full text-center py-12",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"No salespersons found"})}),s&&!S&&y.length>0&&T>1&&e.jsx("div",{className:"flex justify-center mt-6",children:e.jsx(zee,{count:T,page:i,onChange:(W,B)=>o(B),color:"primary",showFirstButton:!0,showLastButton:!0})}),e.jsx(r$,{open:c,user:d,routes:N,selectedRouteIds:x,setSelectedRouteIds:j,onClose:F,onSave:z,loading:A.isPending})]})},bRe=()=>{const t=Fs(),{id:s}=Br(),a=Number(s)||0,{isRead:r}=Ze("route"),{data:n,isFetching:i,isLoading:o}=cEe(a),l=n?.data||null,{data:c}=Tu({page:1,limit:500,status:"active"},{enabled:r}),m=c?.data||[],[d,p]=g.useState(!1),[x,j]=g.useState([]);g.useEffect(()=>{if(!l)return;const P=(l.assigned_routes||[]).map(E=>E.id).filter(Boolean);j(P)},[l]);const _=ZL(a),S=g.useCallback(()=>{p(!1)},[]),v=g.useCallback(async()=>{await _.mutateAsync(x),S()},[S,x,_]);if(!r)return e.jsx("div",{className:"col-span-full text-center py-12",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"You do not have permission to view route assignments"})});const y=o||i,N=()=>e.jsx("div",{className:"bg-white shadow-sm p-4 rounded-lg border border-gray-100",children:e.jsxs(b,{className:"!flex !items-center !justify-between !gap-3 !flex-wrap",children:[e.jsxs(b,{className:"!flex !items-center !gap-3 !min-w-0",children:[e.jsx(X,{variant:"circular",width:48,height:48,className:"!bg-gray-300"}),e.jsxs(b,{className:"!min-w-0",children:[e.jsx(X,{variant:"text",width:200,height:24,className:"!bg-gray-300 !mb-2"}),e.jsx(X,{variant:"text",width:150,height:16,className:"!bg-gray-200"})]})]}),e.jsxs(b,{className:"!text-right",children:[e.jsx(X,{variant:"text",width:80,height:16,className:"!bg-gray-300 !mb-1"}),e.jsx(X,{variant:"text",width:60,height:20,className:"!bg-gray-300"})]})]})}),C=()=>e.jsxs("div",{className:"bg-white shadow-sm p-4 rounded-lg border border-gray-100",children:[e.jsx(b,{className:"!flex !items-center !justify-between !gap-3 !flex-wrap !mb-3",children:e.jsxs(b,{children:[e.jsx(X,{variant:"text",width:100,height:24,className:"!bg-gray-300 !mb-1"}),e.jsx(X,{variant:"text",width:140,height:14,className:"!bg-gray-200"})]})}),e.jsx(b,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[1,2,3,4,5,6].map(P=>e.jsx(b,{className:"!p-3 !bg-white !rounded-lg !border !border-gray-200",children:e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(X,{variant:"circular",width:40,height:40,className:"!bg-gray-300"}),e.jsxs(b,{className:"!min-w-0",children:[e.jsx(X,{variant:"text",width:120,height:16,className:"!bg-gray-300 !mb-1"}),e.jsx(X,{variant:"text",width:80,height:12,className:"!bg-gray-200"})]})]})},P))})]});return e.jsxs("div",{className:"flex flex-col gap-4",children:[y?e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsx(C,{})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white shadow-sm p-4 rounded-lg border border-gray-100",children:e.jsxs(b,{className:"!flex !items-center !justify-between !gap-3 !flex-wrap",children:[e.jsxs(b,{className:"!flex !items-center !gap-3 !min-w-0",children:[e.jsx(ot,{src:l?.profile_image||"mkx",alt:l?.name||"Salesperson",className:"!bg-blue-100 !text-blue-600 !w-12 !h-12",children:e.jsx(Za,{className:"w-5 h-5"})}),e.jsxs(b,{className:"!min-w-0",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900 !truncate",children:l?.name||""}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !truncate !block",children:l?.email||""})]})]}),e.jsxs(b,{className:"!text-right",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500",children:"Assigned Routes"}),e.jsx(f,{variant:"body2",className:"!font-semibold",children:l?.assigned_routes_count||l?.assigned_routes?.length||0})]})]})}),e.jsxs("div",{className:"bg-white shadow-sm p-4 rounded-lg border border-gray-100",children:[e.jsx(b,{className:"!flex !items-center !justify-between !gap-3 !flex-wrap !mb-3",children:e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-semibold",children:"Routes"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:"Click a route to view details"})]})}),e.jsx(b,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:(l?.assigned_routes||[]).length>0?(l?.assigned_routes||[]).map(P=>e.jsx(b,{role:"button",tabIndex:0,onClick:()=>t(`/masters/routes/${P.id}`),className:"!p-3 !bg-white !rounded-lg !border !border-gray-200 hover:!shadow-sm transition-shadow cursor-pointer",children:e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(ot,{className:"!bg-primary-100 !text-primary-600 !w-10 !h-10",children:e.jsx(wn,{className:"w-4 h-4"})}),e.jsxs(b,{className:"!min-w-0",children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !truncate",children:P.name||`Route ${P.id}`}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !truncate !block",children:P.code||"No Code"})]})]})},P.id)):e.jsx(b,{className:"col-span-full !p-10 !text-center !border !border-dashed !border-gray-200 !rounded-lg",children:e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No routes assigned"})})})]})]}),e.jsx(r$,{open:d,user:l,routes:m,selectedRouteIds:x,setSelectedRouteIds:j,onClose:S,onSave:v,loading:_.isPending})]})},yRe=()=>{const{id:t}=Br(),s=Fs(),{formatCurrency:a}=Ga(),{data:r,isLoading:n,error:i,isFetching:o}=rEe(Number(t)),l=r?.data,c=()=>{s("/masters/routes")},m=x=>{switch(x?.toLowerCase()){case"completed":return"success";case"in_progress":return"warning";case"planned":return"info";case"cancelled":return"error";default:return"default"}},d=x=>x?x.charAt(0).toUpperCase()+x.slice(1).replace("_"," "):"Unknown";if(n||o)return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"!flex-2 flex flex-col gap-4",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-3 !right-3",children:e.jsx(X,{variant:"circular",width:10,height:10,className:"!bg-green-200"})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(X,{variant:"circular",width:96,height:96,className:"!mx-auto !border-3 !border-white"})}),e.jsx(X,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(X,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-2 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"30%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"60%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"70%",height:14})]})]})]})}),e.jsx("div",{className:"!flex-4 !space-y-4",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4,5,6].map(x=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(X,{variant:"text",width:`${40+x*8}%`,height:12}),e.jsx(X,{variant:"text",width:`${60+x*6}%`,height:16})]},x))})]})]})})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 lg:!grid-cols-3 !gap-4",children:[1,2,3].map(x=>e.jsxs("div",{className:"!p-5 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(X,{variant:"text",width:"60%",height:20,className:"!mb-2"}),e.jsx(X,{variant:"text",width:"40%",height:12,className:"!mb-3"}),e.jsxs("div",{className:"!space-y-2",children:[e.jsx(X,{variant:"text",width:"50%",height:10}),e.jsx(X,{variant:"text",width:"70%",height:14}),e.jsx(X,{variant:"text",width:"45%",height:10}),e.jsx(X,{variant:"text",width:"80%",height:14})]})]},x))})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!space-y-4",children:[1,2].map(x=>e.jsxs("div",{className:"!p-5 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(X,{variant:"text",width:"40%",height:20,className:"!mb-3"}),e.jsx("div",{className:"!grid !grid-cols-2 md:!grid-cols-4 !gap-4 !mt-4",children:[1,2,3,4,5,6].map(j=>e.jsxs("div",{children:[e.jsx(X,{variant:"text",width:"60%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"80%",height:14})]},j))})]},x))})]})]})]});if(i||!l)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ia,{className:"w-5 h-5"}),e.jsx(f,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load route details"})]}),e.jsx(f,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:c,className:"mt-4",children:"Back to Routes"})]});const p=({title:x,children:j,icon:_})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[_&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(_,{className:"!text-primary-500"})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:x})]}),j]})]});return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"!flex-2 flex flex-col gap-4",children:e.jsxs("div",{className:"!bg-white !rounded-lg !pb-9 !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${l.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ot,{className:lr("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":l.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":l.is_active!=="Y"}),children:e.jsx(wn,{className:"!w-8 !h-8"})})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:l.name}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mb-3",children:l.code}),e.jsx("div",{className:"!flex !justify-center !gap-2 !mb-4",children:e.jsx(Re,{icon:l.is_active==="Y"?e.jsx(mt,{fontSize:"small"}):e.jsx(pu,{fontSize:"small"}),label:l.is_active==="Y"?"Active":"Inactive",size:"small",color:l.is_active==="Y"?"success":"error"})}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[l.route_depots&&e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Depot"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:[l.route_depots.name," (",l.route_depots.code,")"]})]}),l.createdate&&e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Created Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(typeof l.createdate=="string"?l.createdate:String(l.createdate||""))})]})]})]})}),e.jsx("div",{className:"!flex-4 !space-y-4",children:e.jsx(p,{title:"Route Information",icon:wn,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Route Code"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.code})]}),l.route_depots&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Depot"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.route_depots.name})]}),l.route_zones&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Zone"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.route_zones.name})]}),l.routes_route_type&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Route Type"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.routes_route_type.name})]}),l.routes_salesperson&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Salesperson"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.routes_salesperson.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:l.routes_salesperson.email})]}),l.start_location&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Start Location"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.start_location})]}),l.end_location&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"End Location"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.end_location})]}),l.estimated_distance&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Estimated Distance"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:[l.estimated_distance," km"]})]}),l.estimated_time&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Estimated Time"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:[l.estimated_time," minutes"]})]}),l.description&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Description"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.description})]})]})})})]}),l.all_customers&&l.all_customers.length>0&&e.jsx(p,{title:`All Assigned Outlets (${l.all_customers.length})`,icon:aa,children:e.jsxs("div",{className:"!space-y-4",children:[e.jsxs("div",{className:"!grid !grid-cols-2 md:!grid-cols-4 !gap-4 !mb-6",children:[e.jsxs("div",{className:"!bg-blue-50 !p-4 !rounded-lg !text-center",children:[e.jsx(f,{variant:"h4",className:"!text-blue-600 !font-bold",children:l.all_customers.length}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Outlets"})]}),e.jsxs("div",{className:"!bg-green-50 !p-4 !rounded-lg !text-center",children:[e.jsx(f,{variant:"h4",className:"!text-green-600 !font-bold",children:l.all_customers.filter(x=>x.customer_depot).length}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"With Depot"})]}),e.jsxs("div",{className:"!bg-purple-50 !p-4 !rounded-lg !text-center",children:[e.jsx(f,{variant:"h4",className:"!text-purple-600 !font-bold",children:l.all_customers.filter(x=>x.customer_zones).length}),e.jsx(f,{variant:"caption",className:"!text-purple-600",children:"With Zone"})]}),e.jsxs("div",{className:"!bg-orange-50 !p-4 !rounded-lg !text-center",children:[e.jsx(f,{variant:"h4",className:"!text-orange-600 !font-bold",children:new Set(l.all_customers.map(x=>x.customer_type_customer?.type_name).filter(Boolean)).size}),e.jsx(f,{variant:"caption",className:"!text-orange-600",children:"Customer Types"})]})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 lg:!grid-cols-3 !gap-4",children:l.all_customers.map(x=>e.jsxs("div",{className:"!p-5 !bg-gray-50 !rounded-md !border !border-gray-200 !hover:!shadow-md !transition-shadow",children:[e.jsx("div",{className:"!flex !items-start !justify-between",children:e.jsx("div",{className:"!flex-1",children:e.jsxs("div",{className:"!flex !items-center !justify-between !gap-2 !mb-2 !flex-wrap",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !capitalize !text-gray-900",children:x.name}),x.customer_type_customer&&e.jsx(Re,{label:x.customer_type_customer.type_name,size:"small",color:"primary",variant:"outlined"})]})})}),e.jsxs("div",{className:"!space-y-3",children:[(x.phone_number||x.email)&&e.jsxs("div",{className:"!space-y-2",children:[x.phone_number&&e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Sg,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:x.phone_number})]}),x.email&&e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(dp,{className:"w-4 h-4 text-gray-400"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !break-all",children:x.email})]})]}),(x.customer_depot||x.customer_zones||x.customer_channel_customer||x.customer_category_customer)&&e.jsxs("div",{className:"!space-y-2",children:[x.customer_depot&&e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(mA,{className:"w-4 h-4 text-gray-400"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Depot:"," ",e.jsx("span",{className:"!font-semibold",children:x.customer_depot.name})]})]}),x.customer_zones&&e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(ta,{className:"w-4 h-4 text-gray-400"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Zone:"," ",e.jsx("span",{className:"!font-semibold",children:x.customer_zones.name})]})]}),x.customer_channel_customer&&e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(aa,{className:"w-4 h-4 text-gray-400"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Channel:"," ",e.jsx("span",{className:"!font-semibold",children:x.customer_channel_customer.channel_name})]})]}),x.customer_category_customer&&e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(br,{className:"w-4 h-4 text-gray-400"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Category:"," ",e.jsx("span",{className:"!font-semibold",children:x.customer_category_customer.category_name})]})]})]}),(x.city||x.state||x.address)&&e.jsxs("div",{className:"!border-t border-gray-200 !pt-3",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1",children:"Address"}),e.jsx(f,{variant:"body2",className:"!text-gray-700 !text-sm",children:[x.address,x.city,x.state,x.zipcode].filter(Boolean).join(", ")||"No address available"})]})]})]},x.id))})]})}),!l.all_customers&&l.customer_routes&&l.customer_routes.length>0&&e.jsx(p,{title:"Assigned Customers",icon:aa,children:e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 lg:!grid-cols-3 !gap-4",children:l.customer_routes.map(x=>e.jsxs("div",{className:"!p-5 !bg-gray-50 !rounded-md !border !border-gray-200 !hover:!shadow-md !transition-shadow",children:[e.jsx("div",{className:"!flex !items-start !justify-between !mb-3",children:e.jsxs("div",{className:"!flex-1",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-2 !flex-wrap",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900",children:x.name}),x.code&&e.jsx(f,{variant:"caption",className:"!text-gray-500 !bg-gray-200 !px-2 !py-0.5 !rounded !font-medium",children:x.code}),e.jsx(Re,{label:x.is_active==="Y"?"Active":"Inactive",size:"small",color:x.is_active==="Y"?"success":"error"})]}),x.type&&e.jsxs(f,{variant:"body2",className:"!text-gray-600 !mb-3",children:["Type:"," ",e.jsx("span",{className:"!font-semibold",children:x.type})]})]})}),e.jsxs("div",{className:"!space-y-3",children:[x.contact_person&&e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Contact Person"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:x.contact_person})]}),e.jsxs("div",{className:"!grid !grid-cols-1 !gap-2",children:[x.phone_number&&e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Phone Number"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:x.phone_number})]}),x.email&&e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Email"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !break-all",children:x.email})]})]}),(x.city||x.state||x.zipcode)&&e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Location"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:[x.city,x.state,x.zipcode].filter(Boolean).join(", ")||"N/A"})]}),x.address&&e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Address"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:x.address})]})]})]},x.id))})}),l.visit_routes&&l.visit_routes.length>0?e.jsx(p,{title:"Visits History",icon:As,children:e.jsx("div",{className:"!space-y-4",children:l.visit_routes.map(x=>e.jsxs("div",{className:"!p-5 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx("div",{className:"!flex !items-start !justify-between !mb-3",children:e.jsxs("div",{className:"!flex-1",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-2",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900",children:x.visit_customers?.name||"Unknown Customer"}),x.visit_customers?.code&&e.jsx(f,{variant:"caption",className:"!text-gray-500 !bg-gray-200 !px-2 !py-0.5 !rounded",children:x.visit_customers.code}),e.jsx(Re,{label:d(x.status),size:"small",color:m(x.status)})]}),x.visits_salesperson&&e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Salesperson: ",x.visits_salesperson.name," (",x.visits_salesperson.email,")"]})]})}),e.jsxs("div",{className:"!grid !grid-cols-2 md:!grid-cols-4 !gap-4 !mt-4",children:[x.visit_date&&e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Visit Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(typeof x.visit_date=="string"?x.visit_date:String(x.visit_date||""))})]}),x.visit_time&&e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Visit Time"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:x.visit_time})]}),x.purpose&&e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Purpose"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:x.purpose})]}),x.duration&&e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Duration"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:[x.duration," min"]})]}),x.orders_created!==null&&x.orders_created!==void 0&&e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Orders Created"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:x.orders_created})]}),x.amount_collected&&e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Amount Collected"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-primary-600",children:a(Number(x.amount_collected))})]}),x.next_visit_date&&e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Next Visit"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(typeof x.next_visit_date=="string"?x.next_visit_date:String(x.next_visit_date||""))})]})]}),(x.check_in_time||x.check_out_time)&&e.jsx("div",{className:"!mt-4 !pt-4 !border-t !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-6",children:[x.check_in_time&&e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(As,{className:"w-4 h-4 text-primary-500"}),e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block",children:"Check-in"}),e.jsx(f,{variant:"body2",className:"!font-medium !text-gray-900",children:Fe(typeof x.check_in_time=="string"?x.check_in_time:String(x.check_in_time||""))})]})]}),x.check_out_time&&e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(As,{className:"w-4 h-4 text-primary-500"}),e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block",children:"Check-out"}),e.jsx(f,{variant:"body2",className:"!font-medium !text-gray-900",children:Fe(typeof x.check_out_time=="string"?x.check_out_time:String(x.check_out_time||""))})]})]})]})}),x.visit_notes&&e.jsxs("div",{className:"!mt-4 !pt-4 !border-t !border-gray-200",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Visit Notes"}),e.jsx(f,{variant:"body2",className:"!text-gray-700 !bg-white !p-3 !rounded !border !border-gray-200",children:x.visit_notes})]}),x.customer_feedback&&e.jsxs("div",{className:"!mt-4 !pt-4 !border-t !border-gray-200",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Customer Feedback"}),e.jsx(f,{variant:"body2",className:"!text-gray-700 !bg-white !p-3 !rounded !border !border-gray-200",children:x.customer_feedback})]})]},x.id))})}):e.jsx(p,{title:"Visits History",icon:As,children:e.jsxs("div",{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(As,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(f,{variant:"body2",children:"No visits recorded for this route yet."})]})})]})},vRe=nt({file:ps().required("Please select a file to import")}),jRe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:vRe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("route_type")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"route_type",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Route Types",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple route types. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},NRe=nt().shape({name:ce().required("Route type name is required").min(1,"Route type name must be at least 1 character").max(100,"Route type name must be at most 100 characters").trim(),is_active:ce().oneOf(["Y","N"],"Status must be Y or N").required("Status is required")}),_Re=({selectedRouteType:t,setSelectedRouteType:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=PTe(),o=kTe(),l=()=>{s(null),r(!1),c.resetForm()},c=pt({initialValues:{name:t?.name||"",is_active:t?.is_active||"Y"},validationSchema:NRe,enableReinitialize:!0,onSubmit:async m=>{try{n&&t?await o.mutateAsync({id:t.id,data:m}):await i.mutateAsync(m),l()}catch(d){console.error("Error saving route type:",d)}}});return e.jsx(it,{open:a,setOpen:l,title:n?"Edit Route Type":"Create Route Type",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-5",children:[e.jsxs(b,{className:"!grid !grid-cols-1 !gap-5",children:[e.jsx(oe,{name:"name",label:"Route Type Name",placeholder:"Enter route type name",formik:c,required:!0}),e.jsx(Es,{name:"is_active",formik:c,required:!0})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:l,className:"!mr-3",disabled:i.isPending||o.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:i.isPending||o.isPending,children:i.isPending||o.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},wRe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("route-type"),{data:y,isLoading:N,error:C}=C3({search:t,page:d,limit:x,status:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total||0,D=(y?.meta?.page||1)-1,T=ETe(),A=ls(),I=y?.stats?.total_route_types??0,F=y?.stats?.active_route_types??0,z=y?.stats?.inactive_route_types??0,O=y?.stats?.route_types_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(R){console.error("Error deleting route type:",R)}},[T]),q=g.useCallback(M=>{s(M),p(1)},[]),H=M=>{p(M+1)},Q=g.useCallback(async()=>{try{const M={search:t,status:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"route_type",filters:M})}catch(M){console.error("Error exporting route types:",M)}},[A,t,a]),V=[{id:"name",label:"Route Type Name",render:(M,R)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(b,{className:"!w-8 !h-8 !rounded !bg-primary-100 !flex !items-center !justify-center",children:e.jsx(wn,{className:"w-4 h-4 text-primary-500"})}),e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:R.name})]})},{id:"is_active",label:"Status",render:(M,R)=>e.jsx(Re,{icon:R.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:R.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:R.is_active==="Y"?"success":"error"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(M,R)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(R),tooltip:`Edit ${R.name}`}),S&&e.jsx(Ht,{onClick:()=>B(R.id),tooltip:`Delete ${R.name}`,itemName:R.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Route Types"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage and configure route types for your delivery routes"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Route Types",value:I,icon:e.jsx(wn,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Route Types",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Route Types",value:z,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"This Month",value:O,icon:e.jsx(wn,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load route types. Please try again."}),e.jsx(ct,{data:P,columns:V,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Route Types...",value:t,onChange:q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:M=>r(M.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Route Types",description:"Are you sure you want to export the current route types data to Excel? This will include all filtered results.",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:H,emptyMessage:t?`No route types found matching "${t}"`:"No route types found in the system"}),e.jsx(_Re,{selectedRouteType:n,setSelectedRouteType:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(jRe,{drawerOpen:c,setDrawerOpen:m})]})},SRe=async t=>{try{return(await ie.get("/sales-bonus-rule",{params:t})).data}catch(s){throw console.error("Error fetching sales bonus rules:",s),new Error(s.response?.data?.message||"Failed to fetch sales bonus rules")}},CRe=async t=>{try{return(await ie.post("/sales-bonus-rule",t)).data.data}catch(s){throw console.error("Error creating sales bonus rule:",s),new Error(s.response?.data?.message||"Failed to create sales bonus rule")}},PRe=async(t,s)=>{try{return(await ie.put(`/sales-bonus-rule/${t}`,s)).data.data}catch(a){throw console.error("Error updating sales bonus rule:",a),new Error(a.response?.data?.message||"Failed to update sales bonus rule")}},kRe=async t=>{try{await ie.delete(`/sales-bonus-rule/${t}`)}catch(s){throw console.error("Error deleting sales bonus rule:",s),new Error(s.response?.data?.message||"Failed to delete sales bonus rule")}},Bf={all:["sales-bonus-rules"],lists:()=>[...Bf.all,"list"],list:t=>[...Bf.lists(),t],details:()=>[...Bf.all,"detail"],detail:t=>[...Bf.details(),t]},ERe=(t,s)=>st({queryKey:Bf.list(t),queryFn:()=>SRe(t),staleTime:300*1e3,...s}),TRe=()=>Te({mutationFn:CRe,invalidateQueries:["sales-bonus-rules"],loadingMessage:"Creating sales bonus rule..."}),MRe=()=>Te({mutationFn:({id:t,data:s})=>PRe(t,s),invalidateQueries:["sales-bonus-rules"],loadingMessage:"Updating sales bonus rule..."}),DRe=()=>Te({mutationFn:kRe,invalidateQueries:["sales-bonus-rules"],loadingMessage:"Deleting sales bonus rule..."}),RRe=nt({file:ps().required("Please select a file to import")}),ARe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:RRe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("sales_bonus_rules")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"sales_bonus_rules",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Sales Bonus Rules",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple sales bonus rules. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},IRe=async t=>{try{return(await ie.get("/sales-targets",{params:t})).data}catch(s){throw console.error("Error fetching sales targets:",s),new Error(s.response?.data?.message||"Failed to fetch sales targets")}},ORe=async t=>{try{return(await ie.post("/sales-targets",t)).data.data}catch(s){throw console.error("Error creating sales target:",s),new Error(s.response?.data?.message||"Failed to create sales target")}},FRe=async(t,s)=>{try{return(await ie.put(`/sales-targets/${t}`,s)).data.data}catch(a){throw console.error("Error updating sales target:",a),new Error(a.response?.data?.message||"Failed to update sales target")}},LRe=async t=>{try{await ie.delete(`/sales-targets/${t}`)}catch(s){throw console.error("Error deleting sales target:",s),new Error(s.response?.data?.message||"Failed to delete sales target")}},Uf={all:["sales-targets"],lists:()=>[...Uf.all,"list"],list:t=>[...Uf.lists(),t],details:()=>[...Uf.all,"detail"],detail:t=>[...Uf.details(),t]},n$=(t,s)=>st({queryKey:Uf.list(t),queryFn:()=>IRe(t),staleTime:300*1e3,...s}),$Re=()=>Te({mutationFn:ORe,invalidateQueries:["sales-targets"],loadingMessage:"Creating sales target..."}),zRe=()=>Te({mutationFn:({id:t,data:s})=>FRe(t,s),invalidateQueries:["sales-targets"],loadingMessage:"Updating sales target..."}),qRe=()=>Te({mutationFn:LRe,invalidateQueries:["sales-targets"],loadingMessage:"Deleting sales target..."}),BRe=nt().shape({sales_target_id:Ye().required("Sales target is required").min(1,"Please select a valid sales target"),achievement_min_percent:Ye().required("Minimum achievement percentage is required").min(0,"Minimum achievement percentage must be at least 0").max(100,"Minimum achievement percentage cannot exceed 100").test("less-than-max","Minimum achievement percentage must be less than maximum achievement percentage",function(t){const{achievement_max_percent:s}=this.parent;return!s||!t||t<s}),achievement_max_percent:Ye().required("Maximum achievement percentage is required").min(0,"Maximum achievement percentage must be at least 0").max(100,"Maximum achievement percentage cannot exceed 100").test("greater-than-min","Maximum achievement percentage must be greater than minimum achievement percentage",function(t){const{achievement_min_percent:s}=this.parent;return!s||!t||t>s}),bonus_amount:Ye().nullable().min(0,"Bonus amount must be non-negative").test("bonus-or-percent","Either bonus amount or bonus percentage must be provided",function(t){const{bonus_percent:s}=this.parent;return t||s}),bonus_percent:Ye().nullable().min(0,"Bonus percentage must be non-negative").max(100,"Bonus percentage cannot exceed 100").test("bonus-or-percent","Either bonus amount or bonus percentage must be provided",function(t){const{bonus_amount:s}=this.parent;return t||s}),is_active:ce().required("Status is required").oneOf(["Y","N"],"Status must be either Active (Y) or Inactive (N)")}),URe=({selectedRule:t,setSelectedRule:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,{data:i}=n$({page:1,limit:1e3,is_active:"Y"}),o=i?.data||[],l=TRe(),c=MRe(),m=()=>{s(null),r(!1),d.resetForm()},d=pt({initialValues:{sales_target_id:t?.sales_target_id||0,achievement_min_percent:t?.achievement_min_percent||"",achievement_max_percent:t?.achievement_max_percent||"",bonus_amount:t?.bonus_amount||"",bonus_percent:t?.bonus_percent||"",is_active:t?.is_active||"Y"},validationSchema:BRe,enableReinitialize:!0,onSubmit:async p=>{try{const x={...p,sales_target_id:Number(p.sales_target_id),achievement_min_percent:Number(p.achievement_min_percent),achievement_max_percent:Number(p.achievement_max_percent),bonus_amount:p.bonus_amount?Number(p.bonus_amount):void 0,bonus_percent:p.bonus_percent?Number(p.bonus_percent):void 0};n&&t?await c.mutateAsync({id:t.id,data:x}):await l.mutateAsync(x),m()}catch(x){console.error("Error submitting sales bonus rule:",x)}}});return e.jsx(it,{open:a,setOpen:m,title:n?"Edit Sales Bonus Rule":"Create Sales Bonus Rule",size:"large",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:d.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(Se,{name:"sales_target_id",label:"Sales Target",formik:d,required:!0,children:o.map(p=>e.jsxs(Z,{value:p.id,children:[p.sales_target_group?.group_name||"Unknown Group"," -"," ",p.product_category?.category_name||"Unknown Category"," "]},p.id))}),e.jsx(oe,{name:"achievement_min_percent",label:"Minimum Achievement %",type:"number",placeholder:"Enter minimum achievement percentage",formik:d,required:!0,inputProps:{min:0,max:100,step:.01}}),e.jsx(oe,{name:"achievement_max_percent",label:"Maximum Achievement %",type:"number",placeholder:"Enter maximum achievement percentage",formik:d,required:!0,inputProps:{min:0,max:100,step:.01}}),e.jsx(oe,{name:"bonus_amount",label:"Bonus Amount",type:"number",placeholder:"Enter bonus amount (optional)",formik:d,inputProps:{min:0,step:.01}}),e.jsx(oe,{name:"bonus_percent",label:"Bonus Percentage",type:"number",placeholder:"Enter bonus percentage (optional)",formik:d,inputProps:{min:0,max:100,step:.01}}),e.jsx(Es,{name:"is_active",formik:d,required:!0,className:"col-span-2"})]}),e.jsxs(b,{className:"!bg-blue-50 !p-4 !rounded-lg",children:[e.jsx("h4",{className:"!text-sm !font-medium !text-blue-900 !mb-2",children:"Rule Information"}),e.jsxs("ul",{className:"!text-sm !text-blue-800 !space-y-1",children:[e.jsx("li",{children:" Either bonus amount or bonus percentage must be provided"}),e.jsx("li",{children:" Minimum achievement percentage must be less than maximum"}),e.jsx("li",{children:" Achievement percentages should be between 0% and 100%"}),e.jsx("li",{children:" Bonus percentage should be between 0% and 100%"})]})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,className:"!mr-3",disabled:l.isPending||c.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:l.isPending||c.isPending,children:l.isPending||c.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},VRe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("sales-bonus-rule"),{data:y}=ku(),{data:N}=ec({limit:1e3}),C=y?.data,P=N?.data||[],E=C?.currency_id||1,D=P.find(he=>he.id===E),{data:T,isLoading:A,error:I}=ERe({search:t,page:d,limit:x,status:a==="all"?void 0:a==="active"?"active":"inactive"},{enabled:v}),F=he=>{if(he==null)return"No amount";const de=D?.code||"INR",xe={USD:"en-US",EUR:"de-DE",GBP:"en-GB",JPY:"ja-JP",CNY:"zh-CN",AUD:"en-AU",CAD:"en-CA",INR:"en-IN",AED:"ar-AE",SAR:"ar-SA"}[de]||"en-IN";return new Intl.NumberFormat(xe,{style:"currency",currency:de,minimumFractionDigits:2,maximumFractionDigits:2}).format(he)},z=T?.data||[],O=T?.meta?.total||0,K=(T?.meta?.page||1)-1,W=DRe(),B=ls(),q=T?.stats||{},H=q.total_rules??0,Q=q.active_rules??0,V=q.inactive_rules??0,M=q.sales_bonus_rules_this_month??0,R=g.useCallback(()=>{i(null),l(!0)},[]),$=g.useCallback(he=>{i(he),l(!0)},[]),Y=g.useCallback(async he=>{try{await W.mutateAsync(he)}catch(de){console.error("Error deleting sales bonus rule:",de)}},[W]),J=g.useCallback(he=>{s(he),p(1)},[]),te=he=>{p(he+1)},ee=g.useCallback(async()=>{try{const he={search:t,status:a==="all"?void 0:a==="active"?"active":"inactive"};await B.mutateAsync({tableName:"sales_bonus_rules",filters:he})}catch(he){console.error("Error exporting sales bonus rules:",he)}},[B,t,a]),ne=[{id:"rule_info",label:"Rule Info",sortable:!1,render:(he,de)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:`Rule ${de.id}`,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(bT,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsxs(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:["Rule #",de.id]}),e.jsxs(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:[de.sales_targets?.sales_targets_groups?.group_name||"Unknown Group"," ","-"," ",de.sales_targets?.sales_targets_product_categories?.category_name||"Unknown Category"]})]})]})},{id:"achievement_min_percent",label:"Min Achievement %",render:(he,de)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(up,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-xs",children:[de.achievement_min_percent,"%"]})]})},{id:"achievement_max_percent",label:"Max Achievement %",render:(he,de)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(up,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-xs",children:[de.achievement_max_percent,"%"]})]})},{id:"bonus_amount",label:"Bonus Amount",render:(he,de)=>e.jsx(b,{className:"flex flex-col items-start",children:e.jsx(f,{variant:"body2",className:"!text-gray-900",children:F(de.bonus_amount)})})},{id:"bonus_percent",label:"Bonus Percent",render:(he,de)=>e.jsx(b,{className:"flex flex-col items-start",children:de.bonus_percent?e.jsxs(f,{variant:"body2",className:"!text-gray-900",children:[de.bonus_percent,"%"]}):e.jsx(f,{variant:"body2",className:"!text-gray-400 italic",children:"No percent"})})},{id:"is_active",label:"Status",render:(he,de)=>e.jsx(Re,{icon:de.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:de.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:de.is_active==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(he,de)=>Fe(de.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(he,de)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>$(de),tooltip:`Edit Rule ${de.id}`}),S&&e.jsx(Ht,{onClick:()=>Y(de.id),tooltip:`Delete Rule ${de.id}`,itemName:`Rule ${de.id}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Sales Bonus Rules Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage bonus rules for sales target achievements"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Rules",value:H,icon:e.jsx(bT,{className:"w-6 h-6"}),color:"blue",isLoading:A}),e.jsx(fe,{title:"Active Rules",value:Q,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:A}),e.jsx(fe,{title:"Inactive Rules",value:V,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:A}),e.jsx(fe,{title:"This Month",value:M,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:A})]}),I&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load sales bonus rules. Please try again."}),e.jsx(ct,{data:z,columns:ne,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[v&&e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx(Jt,{placeholder:"Search Sales Bonus Rules",value:t,onChange:J,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(Se,{value:a,onChange:he=>r(he.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[v&&e.jsx(Xt,{title:"Export Sales Bonus Rules",description:"Are you sure you want to export the current sales bonus rules data to Excel? This will include all filtered results.",onConfirm:ee,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:B.isPending,children:B.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:R,children:"Create"})]})]}):!1,getRowId:he=>he.id,initialOrderBy:"achievement_min_percent",loading:A,totalCount:O,page:K,rowsPerPage:x,onPageChange:te,isPermission:v,emptyMessage:t?`No sales bonus rules found matching "${t}"`:"No sales bonus rules found in the system"}),e.jsx(URe,{selectedRule:n,setSelectedRule:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(ARe,{drawerOpen:c,setDrawerOpen:m})]})},HRe=async t=>{try{return(await ie.get("/sales-target-groups",{params:t})).data}catch(s){throw console.error("Error fetching sales target groups:",s),new Error(s.response?.data?.message||"Failed to fetch sales target groups")}},WRe=async t=>{try{return(await ie.get(`/sales-target-groups/${t}`)).data}catch(s){throw console.error("Error fetching sales target group:",s),new Error(s.response?.data?.message||"Failed to fetch sales target group")}},YRe=async t=>{try{return(await ie.post("/sales-target-groups",t)).data}catch(s){throw console.error("Error creating sales target group:",s),new Error(s.response?.data?.message||"Failed to create sales target group")}},GRe=async(t,s)=>{try{return(await ie.post("/sales-target-groups",{...s,id:t})).data}catch(a){throw console.error("Error updating sales target group:",a),new Error(a.response?.data?.message||"Failed to update sales target group")}},KRe=async t=>{try{return(await ie.delete(`/sales-target-groups/${t}`)).data}catch(s){throw console.error("Error deleting sales target group:",s),new Error(s.response?.data?.message||"Failed to delete sales target group")}},Go={all:["salesTargetGroups"],lists:()=>[...Go.all,"list"],list:t=>[...Go.lists(),t],details:()=>[...Go.all,"detail"],detail:t=>[...Go.details(),t]},i$=(t,s)=>st({queryKey:Go.list(t||{}),queryFn:()=>HRe(t),staleTime:300*1e3,...s}),QRe=t=>st({queryKey:Go.detail(t),queryFn:()=>WRe(t),enabled:!!t,staleTime:300*1e3}),ZRe=t=>{const s=is();return Te({mutationFn:YRe,loadingMessage:"Creating sales target group...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Go.lists()})},onError:t?.onError})},XRe=t=>{const s=is();return Te({mutationFn:({id:a,...r})=>GRe(a,r),loadingMessage:"Updating sales target group...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Go.lists()}),s.invalidateQueries({queryKey:Go.detail(r.id)})},onError:t?.onError})},JRe=t=>{const s=is();return Te({mutationFn:KRe,loadingMessage:"Deleting sales target group...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Go.lists()})},onError:t?.onError})},e7e=nt({file:ps().required("Please select a file to import")}),t7e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:e7e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("sales_target_groups")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"sales_target_groups",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Sales Target Groups",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple sales target groups. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},s7e=nt({group_name:ce().required("Group name is required").min(2,"Group name must be at least 2 characters").max(255,"Group name must be less than 255 characters").trim(),description:ce().max(500,"Description must be less than 500 characters").nullable().optional(),is_active:ce().oneOf(["Y","N"],"Must be Y or N").required("Active status is required"),salesTargetMember:dl().of(nt({id:Ye().optional(),sales_person_id:Ye().required("Sales person is required").positive("Sales person ID must be positive"),is_active:ce().oneOf(["Y","N"],"Must be Y or N").default("Y")})).min(1,"At least one sales person must be selected").optional()}),a7e=({open:t,onClose:s,group:a})=>{const r=!!a,[n,i]=g.useState([]),{data:o}=QRe(a?.id||0),l=ZRe(),c=XRe(),m=()=>{s(),i([]),d.resetForm()};yt.useEffect(()=>{if(a&&o?.data){const v=o.data.sales_target_group_members?.map(y=>({sales_person_id:y.sales_person_id,is_active:y.is_active,id:y.id}))||[];i(v),d.setFieldValue("members",v)}else i([]),d.setFieldValue("members",[])},[a,o]);const d=pt({initialValues:{group_name:a?.group_name||"",description:a?.description||"",is_active:a?.is_active||"Y",members:[]},validationSchema:s7e,enableReinitialize:!0,onSubmit:async v=>{try{const y={...v,description:v.description,salesTargetMember:n.filter(N=>N.sales_person_id!=="").map(N=>({sales_person_id:Number(N.sales_person_id),is_active:N.is_active,...N.id&&{id:N.id}}))};r&&a?await c.mutateAsync({id:a.id,...y}):await l.mutateAsync(y),m()}catch(y){console.log("Error submitting sales target group:",y)}}}),p=()=>{const v={sales_person_id:"",is_active:"Y",id:null},y=[...n,v];i(y),d.setFieldValue("members",y)},x=v=>{const y=n.filter((N,C)=>C!==v);i(y),d.setFieldValue("members",y)},j=(v,y,N)=>{const C=[...n];C[v]={...C[v],[y]:N},i(C),d.setFieldValue("members",C)},_=n.map((v,y)=>({...v,_index:y})),S=[{id:"sales_person_id",label:"Sales Person",width:300,render:(v,y)=>e.jsx(Dr,{name:"sales_person_id",label:"Sales Person",value:y.sales_person_id,setValue:N=>j(y._index,"sales_person_id",N.toString()),size:"small",fullWidth:!0})},{id:"is_active",label:"Status",width:120,render:(v,y)=>e.jsxs(Se,{value:y.is_active,onChange:N=>j(y._index,"is_active",N.target.value),size:"small",fullWidth:!0,label:"Status",disableClearable:!0,children:[e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]})},{id:"actions",label:"Actions",sortable:!1,width:50,render:(v,y)=>e.jsx(Ht,{onClick:()=>x(y._index),tooltip:"Remove member",confirmDelete:!0,size:"medium",itemName:"member"})}];return e.jsx(it,{open:t,setOpen:m,title:r?"Edit Sales Target Group":"Create Sales Target Group",size:"medium",children:e.jsx(b,{className:"!p-4",children:e.jsxs("form",{onSubmit:d.handleSubmit,className:"!space-y-4",children:[e.jsxs(b,{className:"!grid !grid-cols-1 !gap-5",children:[e.jsx(oe,{name:"group_name",label:"Group Name",placeholder:"Enter group name",formik:d,required:!0}),e.jsx(Es,{name:"is_active",formik:d,required:!0}),e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter group description",formik:d,multiline:!0,rows:3})]}),e.jsxs(b,{className:"!space-y-3",children:[e.jsxs(b,{className:"!flex !justify-between !items-center",children:[e.jsx(f,{variant:"body1",className:"!font-semibold !text-gray-900",children:"Group Members"}),e.jsx(G,{type:"button",variant:"outlined",startIcon:e.jsx(Gr,{}),onClick:p,size:"small",children:"Add Member"})]}),n.length>0&&e.jsx(ct,{data:_,columns:S,getRowId:v=>v._index.toString(),pagination:!1,sortable:!1,emptyMessage:"No members added yet."}),n.length===0&&e.jsxs(b,{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(aa,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(f,{variant:"body2",children:'No members added yet. Click "Add Member" to get started.'})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2 !pt-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,disabled:l.isPending||c.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:l.isPending||c.isPending,children:l.isPending||c.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},r7e=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("sales-target-group"),{data:y,isLoading:N,error:C}=i$({search:t,page:d,limit:x,status:a==="all"?void 0:a==="active"?"active":"inactive"},{enabled:v}),P=y?.data||[],E=y?.meta?.total||0,D=(y?.meta?.page||1)-1,T=JRe(),A=ls(),I=y?.stats?.total_groups??0,F=y?.stats?.active_groups??0,z=y?.stats?.inactive_groups??0,O=y?.stats?.sales_target_groups_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(R){console.error("Error deleting sales target group:",R)}},[T]),q=g.useCallback(M=>{s(M),p(1)},[]),H=M=>{p(M+1)},Q=g.useCallback(async()=>{try{const M={search:t,status:a?a==="all"?void 0:a==="active"?"active":"inactive":void 0};await A.mutateAsync({tableName:"sales_target_groups",filters:M})}catch(M){console.error("Error exporting sales target groups:",M)}},[A,t,a]),V=[{id:"group_name",label:"Group Name",render:(M,R)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:R.group_name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(aa,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:R.group_name}),R.description&&e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:R.description})]})]})},{id:"sales_target_group_members",label:"Members",render:(M,R)=>e.jsxs(f,{variant:"body2",className:"!text-gray-900",children:[R.sales_target_group_members?.length||0," members"]})},{id:"is_active",label:"Status",render:M=>e.jsx(Re,{icon:M==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,R)=>Fe(R.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(M,R)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(R),tooltip:`Edit ${R.group_name}`}),S&&e.jsx(Ht,{onClick:()=>B(R.id),tooltip:`Delete ${R.group_name}`,itemName:R.group_name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Sales Target Groups Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage sales target groups and assign sales personnel to groups"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Groups",value:I,icon:e.jsx(aa,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Groups",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Groups",value:z,icon:e.jsx(ya,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"This Month",value:O,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load sales target groups. Please try again."}),e.jsx(ct,{data:P,columns:V,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex items-center flex-wrap gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Sales Target Groups",value:t,onChange:q,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(Se,{value:a,onChange:M=>r(M.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[v&&e.jsx(Xt,{title:"Export Sales Target Groups",description:"Are you sure you want to export the current sales target groups data to Excel? This will include all filtered results.",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"group_name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:H,emptyMessage:t?`No sales target groups found matching "${t}"`:"No sales target groups found in the system"}),e.jsx(a7e,{open:o,onClose:()=>{l(!1),i(null)},group:n}),e.jsx(t7e,{drawerOpen:c,setDrawerOpen:m})]})},n7e=nt({file:ps().required("Please select a file to import")}),i7e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:n7e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("sales-targets")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"sales_targets",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Sales Targets",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple sales targets. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},o7e=nt({sales_target_group_id:Ye().required("Sales target group is required").positive("Sales target group must be selected"),product_category_id:Ye().required("Product category is required").positive("Product category must be selected"),target_quantity:Ye().required("Target quantity is required").min(1,"Target quantity must be at least 1").typeError("Target quantity must be a valid number"),target_amount:Ye().nullable().min(0,"Target amount must be non-negative").typeError("Target amount must be a valid number"),start_date:Ca().required("Start date is required").typeError("Start date must be a valid date"),end_date:Ca().required("End date is required").typeError("End date must be a valid date").when("start_date",(t,s)=>t&&t[0]?s.min(t[0],"End date must be after start date"):s),is_active:ce().oneOf(["Y","N"],"Status must be Y or N").default("Y")}),l7e=({selectedTarget:t,setSelectedTarget:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,{data:i}=i$({page:1,status:"active",limit:1e3}),o=i?.data||[],{data:l}=zp({page:1,status:"active",limit:1e3}),c=l?.data||[],m=$Re(),d=zRe(),p=()=>{s(null),r(!1),x.resetForm()},x=pt({initialValues:{sales_target_group_id:t?.sales_target_group_id||0,product_category_id:t?.product_category_id||0,target_quantity:t?.target_quantity||"",target_amount:t?.target_amount||"",start_date:t?.start_date?t.start_date.split("T")[0]:"",end_date:t?.end_date?t.end_date.split("T")[0]:"",is_active:t?.is_active||"Y"},validationSchema:o7e,enableReinitialize:!0,onSubmit:async j=>{try{const _={...j,sales_target_group_id:Number(j.sales_target_group_id),product_category_id:Number(j.product_category_id),target_quantity:Number(j.target_quantity),target_amount:j.target_amount?Number(j.target_amount):void 0};n&&t?await d.mutateAsync({id:t.id,data:_}):await m.mutateAsync(_),p()}catch(_){console.error("Error submitting sales target:",_)}}});return e.jsx(it,{open:a,setOpen:p,title:n?"Edit Sales Target":"Create Sales Target",size:"large",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(Se,{name:"sales_target_group_id",label:"Sales Target Group",formik:x,required:!0,children:o.map(j=>e.jsx(Z,{value:j.id,children:j.group_name},j.id))}),e.jsx(Se,{name:"product_category_id",label:"Product Category",formik:x,required:!0,children:c.map(j=>e.jsx(Z,{value:j.id,children:j.category_name},j.id))}),e.jsx(oe,{name:"target_quantity",label:"Target Quantity",type:"number",placeholder:"Enter target quantity",formik:x,required:!0}),e.jsx(oe,{name:"target_amount",label:"Target Amount",type:"number",placeholder:"Enter target amount (optional)",formik:x}),e.jsx(oe,{name:"start_date",label:"Start Date",type:"date",formik:x,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(oe,{name:"end_date",label:"End Date",type:"date",formik:x,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(Es,{name:"is_active",formik:x,required:!0})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,className:"!mr-3",disabled:m.isPending||d.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:m.isPending||d.isPending,children:m.isPending||d.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},c7e=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{formatCurrency:j}=Ga(),{isCreate:_,isUpdate:S,isDelete:v,isRead:y}=Ze("sales-target"),{data:N,isLoading:C,error:P}=n$({search:t,page:d,limit:x,is_active:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:y}),E=N?.data||[],D=N?.meta?.total_count||0,T=N?.meta?.current_page||1,A=qRe(),I=ls(),F=N?.stats||{},z=F.total_sales_targets??E.length,O=F.active_sales_targets??E.filter($=>$.is_active==="Y").length,K=F.inactive_sales_targets??E.filter($=>$.is_active==="N").length,W=F.sales_targets_this_month??0,B=g.useCallback(()=>{i(null),l(!0)},[]),q=g.useCallback($=>{i($),l(!0)},[]),H=g.useCallback(async $=>{try{await A.mutateAsync($)}catch(Y){console.error("Error deleting sales target:",Y)}},[A]),Q=g.useCallback($=>{s($),p(1)},[]),V=$=>{p($+1)},M=g.useCallback(async()=>{try{const $={search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"};await I.mutateAsync({tableName:"sales_targets",filters:$})}catch($){console.error("Error exporting sales targets:",$)}},[I,t,a]),R=[{id:"target_info",label:"Target Info",sortable:!1,render:($,Y)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:`Target ${Y.id}`,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(nl,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:Y.sales_target_group?.group_name||"Unknown Group"}),e.jsxs(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:["Qty: ",Y.target_quantity," | Amount:"," ",Y.target_amount?j(Y.target_amount):"N/A"]})]})]})},{id:"product_category",label:"Product Category",sortable:!1,render:($,Y)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx($t,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:Y.product_category?.category_name||"Unknown Category"})]})},{id:"period",label:"Period",sortable:!1,render:($,Y)=>{const J=Fe(Y.start_date),te=Fe(Y.end_date);return e.jsx(b,{className:"flex flex-col items-start",children:e.jsxs(b,{className:"flex items-center gap-1 mb-0.5",children:[e.jsx(ws,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-xs font-medium text-gray-800",children:[J," - ",te]})]})})}},{id:"target_quantity",label:"Quantity",render:($,Y)=>e.jsx(Re,{label:Y.target_quantity,size:"small",variant:"outlined",color:"primary"})},{id:"target_amount",label:"Amount",render:($,Y)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:Y.target_amount?j(Y.target_amount):"N/A"})},{id:"is_active",label:"Status",render:($,Y)=>e.jsx(Re,{icon:Y.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:Y.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:Y.is_active==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:($,Y)=>Fe(Y.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...S||v||y?[{id:"action",label:"Actions",sortable:!1,render:($,Y)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[S&&e.jsx(ss,{onClick:()=>q(Y),tooltip:`Edit Target ${Y.id}`}),v&&e.jsx(Ht,{onClick:()=>H(Y.id),tooltip:`Delete Target ${Y.id}`,itemName:`Target ${Y.id}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Sales Targets Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage sales targets for groups and product categories"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Targets",value:z,icon:e.jsx(nl,{className:"w-6 h-6"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Active Targets",value:O,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Inactive Targets",value:K,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:C}),e.jsx(fe,{title:"This Month",value:W,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:C})]}),P&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load sales targets. Please try again."}),e.jsx(ct,{data:E,columns:R,actions:y||_?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[y&&e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx(Jt,{placeholder:"Search Sales Targets",value:t,onChange:Q,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(Se,{value:a,onChange:$=>r($.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[y&&e.jsx(Xt,{title:"Export Sales Targets",description:"Are you sure you want to export the current sales targets data to Excel? This will include all filtered results.",onConfirm:M,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:I.isPending,children:I.isPending?"Exporting...":"Export"})}),_&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),_&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:B,children:"Create"})]})]}):!1,getRowId:$=>$.id,initialOrderBy:"target_quantity",loading:C,totalCount:D,page:T,rowsPerPage:x,onPageChange:V,isPermission:y,emptyMessage:t?`No sales targets found matching "${t}"`:"No sales targets found in the system"}),e.jsx(l7e,{selectedTarget:n,setSelectedTarget:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(i7e,{drawerOpen:c,setDrawerOpen:m})]})},d7e=async t=>{try{return(await ie.get("/stock-movements",{params:t})).data}catch(s){throw new Error(s.response?.data?.message||"Failed to fetch stock movements")}},u7e=async t=>{try{return(await ie.post("/stock-movements",t)).data}catch(s){throw new Error(s.response?.data?.message||"Failed to save stock movement")}},m7e=async t=>{try{return(await ie.delete(`/stock-movements/${t}`)).data}catch(s){throw new Error(s.response?.data?.message||"Failed to delete stock movement")}},$c={all:["stockMovements"],lists:()=>[...$c.all,"list"],list:t=>[...$c.lists(),t],details:()=>[...$c.all,"detail"],detail:t=>[...$c.details(),t]},p7e=(t,s)=>st({queryKey:$c.list(t||{}),queryFn:()=>d7e(t),staleTime:300*1e3,...s}),h7e=t=>{const s=is();return Te({mutationFn:u7e,loadingMessage:"Saving stock movement...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:$c.lists()}),r.id&&s.invalidateQueries({queryKey:$c.detail(r.id)})},onError:t?.onError})},f7e=t=>{const s=is();return Te({mutationFn:m7e,loadingMessage:"Deleting stock movement...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:$c.lists()})},onError:t?.onError})},x7e=nt({file:ps().required("Please select a file to import")}),g7e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:x7e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("stock_movements")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"stock_movements",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Stock Movements",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple stock movements. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},b7e=async t=>{try{return(await ie.get("/van-inventory",{params:t})).data}catch(s){throw console.error("Error fetching van inventory:",s),new Error(s.response?.data?.message||"Failed to fetch van inventory")}},y7e=async t=>{try{return(await ie.get(`/van-inventory/${t}`)).data}catch(s){throw console.error("Error fetching van inventory:",s),new Error(s.response?.data?.message||"Failed to fetch van inventory")}},v7e=async t=>{try{return(await ie.post("/van-inventory",t)).data}catch(s){throw console.error("Error creating van inventory:",s),new Error(s.response?.data?.message||"Failed to create van inventory")}},j7e=async(t,s)=>{try{return(await ie.post("/van-inventory",{id:t,...s})).data}catch(a){throw console.error("Error updating van inventory:",a),new Error(a.response?.data?.message||"Failed to update van inventory")}},N7e=async t=>{try{return(await ie.delete(`/van-inventory/${t}`)).data}catch(s){throw console.error("Error deleting van inventory:",s),new Error(s.response?.data?.message||"Failed to delete van inventory")}},zm={all:["van-inventory"],lists:()=>[...zm.all,"list"],list:t=>[...zm.lists(),t],details:()=>[...zm.all,"detail"],detail:t=>[...zm.details(),t]},o$=(t,s)=>st({queryKey:zm.list(t),queryFn:()=>b7e(t),staleTime:300*1e3,...s}),l$=(t,s)=>st({queryKey:zm.detail(t),queryFn:()=>y7e(t),enabled:!!t,staleTime:300*1e3,...s}),_7e=()=>Te({mutationFn:v7e,invalidateQueries:["van-inventory"],loadingMessage:"Creating van inventory..."}),w7e=()=>Te({mutationFn:({id:t,...s})=>j7e(t,s),invalidateQueries:["van-inventory"],loadingMessage:"Updating van inventory..."}),S7e=()=>Te({mutationFn:N7e,invalidateQueries:["van-inventory"],loadingMessage:"Deleting van inventory..."}),C7e=nt({product_id:Ye().required("Product is required").min(1,"Please select a valid product"),batch_id:Ye().nullable().min(1,"Batch ID must be a positive number"),serial_id:Ye().nullable().min(1,"Serial ID must be a positive number"),movement_type:ce().required("Movement type is required").min(2,"Movement type must be at least 2 characters").max(50,"Movement type must be less than 50 characters"),reference_type:ce().nullable().max(50,"Reference type must be less than 50 characters"),reference_id:Ye().nullable().min(1,"Reference ID must be a positive number"),from_location_id:Ye().nullable().min(1,"From location ID must be a positive number"),to_location_id:Ye().nullable().min(1,"To location ID must be a positive number").test("different-locations","From and To locations cannot be the same",function(t){const{from_location_id:s}=this.parent;return t&&s&&t===s?this.createError({message:"From and To locations cannot be the same",path:"to_location_id"}):!0}),quantity:Ye().required("Quantity is required").min(1,"Quantity must be a positive number").integer("Quantity must be a whole number"),movement_date:Ca().nullable().typeError("Please enter a valid date"),remarks:ce().nullable().max(1e3,"Remarks must be less than 1000 characters"),van_inventory_id:Ye().nullable().min(1,"Van inventory ID must be a positive number"),is_active:ce().required("Status is required").oneOf(["Y","N"],"Status must be Active or Inactive")}),P7e=({open:t,onClose:s,movement:a})=>{const r=!!a,{data:n}=o$({limit:1e3}),i=n?.data||[],o=h7e(),l=x=>{switch(x){case"L":return"Load";case"U":return"Unload";default:return x}},c=x=>{switch(x){case"D":return"Draft";case"A":return"Confirmed";case"C":return"Canceled";default:return x}},m=x=>{if(!x)return"";try{return new Date(x).toLocaleDateString()}catch{return""}},d=()=>{s(),p.resetForm()},p=pt({initialValues:{product_id:a?.product_id||"",batch_id:a?.batch_id||"",serial_id:a?.serial_id||"",movement_type:a?.movement_type||"",reference_type:a?.reference_type||"",reference_id:a?.reference_id||"",from_location_id:a?.from_location_id||"",to_location_id:a?.to_location_id||"",quantity:a?.quantity||"",movement_date:a?.movement_date||"",remarks:a?.remarks||"",van_inventory_id:a?.van_inventory_id||"",is_active:a?.is_active||"Y"},validationSchema:C7e,enableReinitialize:!0,onSubmit:async x=>{try{const j={...r&&a?{id:a.id}:{},product_id:Number(x.product_id),batch_id:x.batch_id?Number(x.batch_id):null,serial_id:x.serial_id?Number(x.serial_id):null,movement_type:x.movement_type,reference_type:x.reference_type||null,reference_id:x.reference_id?Number(x.reference_id):null,from_location_id:x.from_location_id?Number(x.from_location_id):null,to_location_id:x.to_location_id?Number(x.to_location_id):null,quantity:Number(x.quantity),movement_date:x.movement_date||null,remarks:x.remarks||null,van_inventory_id:x.van_inventory_id?Number(x.van_inventory_id):null,is_active:x.is_active};await o.mutateAsync(j),d()}catch(j){console.log("Error submitting stock movement:",j)}}});return e.jsx(it,{open:t,setOpen:d,title:r?"Edit Stock Movement":"Create Stock Movement",size:"large",children:e.jsx(b,{className:"!p-4",children:e.jsxs("form",{onSubmit:p.handleSubmit,className:"!space-y-4",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5",children:[e.jsx(wo,{name:"product_id",label:"Product",formik:p,required:!0}),e.jsxs(Se,{name:"movement_type",label:"Movement Type",formik:p,required:!0,children:[e.jsx(Z,{value:"IN",children:"Stock In"}),e.jsx(Z,{value:"OUT",children:"Stock Out"}),e.jsx(Z,{value:"TRANSFER",children:"Transfer"})]}),e.jsx(oe,{name:"reference_type",label:"Reference Type",placeholder:"e.g., ORDER, PURCHASE, ADJUSTMENT",formik:p}),e.jsx(oe,{name:"reference_id",label:"Reference ID",placeholder:"Optional",formik:p,type:"number"}),e.jsx(oe,{name:"quantity",label:"Quantity",placeholder:"Enter quantity",formik:p,type:"number",required:!0}),e.jsx(oe,{name:"movement_date",label:"Movement Date",type:"date",formik:p,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(Se,{name:"van_inventory_id",label:"Van Inventory",formik:p,children:i.map(x=>{const j=[x.user?.name||"Unknown User",l(x.loading_type||"L"),c(x.status||"D"),x.vehicle?.vehicle_number?`- ${x.vehicle.vehicle_number}`:"",x.document_date?`(${m(x.document_date)})`:""].filter(Boolean).join(" ");return e.jsx(Z,{value:x.id,children:j},x.id)})}),e.jsx(Es,{name:"is_active",formik:p,required:!0,className:"col-span-2"})]}),e.jsxs(b,{className:"!space-y-3",children:[e.jsx(f,{variant:"body1",className:"!font-semibold !text-gray-900",children:"Remarks"}),e.jsx(oe,{name:"remarks",label:"Remarks",placeholder:"Enter any additional remarks about this movement",formik:p,multiline:!0,rows:3})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2 !pt-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:d,disabled:o.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending,children:o.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},k7e=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n]=g.useState("all"),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,d]=g.useState(!1),[p,x]=g.useState(1),[j]=g.useState(10),{isCreate:_,isUpdate:S,isDelete:v,isRead:y}=Ze("stock-movement"),{data:N,isLoading:C,error:P}=p7e({search:t,page:p,limit:j,status:a==="all"?void 0:a==="active"?"active":"inactive",movement_type:n==="all"?void 0:n},{enabled:y}),E=N?.data||[],D=N?.meta?.total||0,T=(N?.meta?.page||1)-1,A=f7e(),I=ls(),F=N?.stats?.total_stock_movements??0,z=N?.stats?.stock_movements_this_month??0,O=N?.stats?.total_in_movements??0,K=N?.stats?.total_out_movements??0,W=g.useCallback(()=>{o(null),c(!0)},[]),B=g.useCallback($=>{o($),c(!0)},[]),q=g.useCallback(async $=>{try{await A.mutateAsync($)}catch(Y){console.error("Error deleting stock movement:",Y)}},[A]),H=g.useCallback($=>{s($),x(1)},[]),Q=$=>{x($+1)},V=g.useCallback(async()=>{try{const $={search:t,status:a==="all"?void 0:a==="active"?"active":"inactive",movement_type:n==="all"?void 0:n};await I.mutateAsync({tableName:"stock_movements",filters:$})}catch($){console.error("Error exporting stock movements:",$)}},[I,t,a,n]),M=$=>{switch($?.toUpperCase()){case"IN":return e.jsx(xT,{className:"w-4 h-4 text-green-600"});case"OUT":return e.jsx(gT,{className:"w-4 h-4 text-red-600"});case"TRANSFER":return e.jsx(fN,{className:"w-4 h-4 text-blue-600"});default:return e.jsx(fN,{className:"w-4 h-4 text-gray-600"})}},R=[{id:"movement_type",label:"Movement",render:($,Y)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:Y.movement_type,className:"!rounded !bg-primary-100 !text-primary-600",sx:{width:32,height:32},children:M(Y.movement_type)}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:Vd(Y.movement_type)}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:Y.reference_type?`${Vd(Y.reference_type)} #${String(Y.reference_id)}`:"Direct Movement"})]})]})},{id:"product",label:"Product",render:($,Y)=>e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:Y.product?.name||`ID: ${Y.product_id}`}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:Y.product?.code||"No Code"})]})},{id:"quantity",label:"Quantity",render:($,Y)=>e.jsx(b,{className:"!text-center",children:e.jsxs(f,{variant:"body2",className:`${Y.movement_type?.toUpperCase()==="IN"?"!text-green-600":Y.movement_type?.toUpperCase()==="OUT"?"!text-red-600":"!text-blue-600"}`,children:[Y.movement_type?.toUpperCase()==="IN"?"+":Y.movement_type?.toUpperCase()==="OUT"?"-":""," ",Y.quantity]})})},{id:"locations",label:"Locations",render:($,Y)=>e.jsxs(b,{children:[Y.from_location&&e.jsxs(f,{variant:"caption",className:"!text-gray-500 !block",children:["From: ",Y.from_location.name]}),Y.to_location&&e.jsxs(f,{variant:"caption",className:"!text-gray-500 !block",children:["To: ",Y.to_location.name]}),!Y.from_location&&!Y.to_location&&e.jsx(f,{variant:"caption",className:"!text-gray-400 !italic",children:"No location specified"})]})},{id:"movement_date",label:"Date",render:($,Y)=>Fe(Y.movement_date)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},{id:"is_active",label:"Active",render:$=>e.jsx(Re,{icon:$==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:$==="Y"?"Active":"Inactive",size:"small",className:"w-20",variant:"outlined",color:$==="Y"?"success":"error"})},{id:"createdate",label:"Created",render:($,Y)=>Fe(Y.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...S||v||y?[{id:"action",label:"Actions",sortable:!1,render:($,Y)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[S&&e.jsx(ss,{onClick:()=>B(Y),tooltip:`Edit movement ${Y.id}`}),v&&e.jsx(Ht,{onClick:()=>q(Y.id),tooltip:`Delete movement ${Y.id}`,itemName:`movement ${Y.id}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Stock Movements Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track and manage all stock movements including in, out, and transfer operations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Movements",value:F,icon:e.jsx(fN,{className:"w-6 h-6"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Stock In",value:O,icon:e.jsx(xT,{className:"w-6 h-6"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Stock Out",value:K,icon:e.jsx(gT,{className:"w-6 h-6"}),color:"red",isLoading:C}),e.jsx(fe,{title:"This Month",value:z,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:C})]}),P&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load stock movements. Please try again."}),e.jsx(ct,{data:E,columns:R,actions:y||_?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[y&&e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx(Jt,{placeholder:"Search Stock Movements",value:t,onChange:H,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(Se,{value:a,onChange:$=>r($.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[y&&e.jsx(Xt,{title:"Export Stock Movements",description:"Are you sure you want to export the current stock movements data to Excel? This will include all filtered results.",onConfirm:V,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:I.isPending,children:I.isPending?"Exporting...":"Export"})}),_&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>d(!0),children:"Import"}),_&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:W,children:"Create"})]})]}):!1,getRowId:$=>$.id,initialOrderBy:"createdate",loading:C,totalCount:D,page:T,rowsPerPage:j,onPageChange:Q,isPermission:y,emptyMessage:t?`No stock movements found matching "${t}"`:"No stock movements found in the system"}),e.jsx(P7e,{open:l,onClose:()=>{c(!1),o(null)},movement:i}),e.jsx(g7e,{drawerOpen:m,setDrawerOpen:d})]})},E7e=async t=>{try{return(await ie.get("/stock-transfer-requests",{params:t})).data}catch(s){throw console.error("Error fetching stock transfer requests:",s),new Error(s.response?.data?.message||"Failed to fetch stock transfer requests")}},T7e=async t=>{try{return(await ie.get(`/stock-transfer-requests/${t}`)).data}catch(s){throw console.error("Error fetching stock transfer request:",s),new Error(s.response?.data?.message||"Failed to fetch stock transfer request")}},M7e=async t=>{try{return(await ie.post("/stock-transfer-requests",t)).data}catch(s){throw console.error("Error upserting stock transfer request:",s),new Error(s.response?.data?.message||"Failed to save stock transfer request")}},D7e=async t=>{try{return(await ie.delete(`/stock-transfer-requests/${t}`)).data}catch(s){throw console.error("Error deleting stock transfer request:",s),new Error(s.response?.data?.message||"Failed to delete stock transfer request")}},Ul={all:["stockTransferRequests"],lists:()=>[...Ul.all,"list"],list:t=>[...Ul.lists(),t],details:()=>[...Ul.all,"detail"],detail:t=>[...Ul.details(),t]},R7e=(t,s)=>st({queryKey:Ul.list(t||{}),queryFn:()=>E7e(t),staleTime:300*1e3,...s}),A7e=t=>st({queryKey:Ul.detail(t),queryFn:()=>T7e(t),enabled:!!t,staleTime:300*1e3}),I7e=t=>{const s=is();return Te({mutationFn:M7e,loadingMessage:"Saving stock transfer request...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Ul.lists()}),r.id&&s.invalidateQueries({queryKey:Ul.detail(r.id)})},onError:t?.onError})},O7e=t=>{const s=is();return Te({mutationFn:D7e,loadingMessage:"Deleting stock transfer request...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Ul.lists()})},onError:t?.onError})},F7e=nt({file:ps().required("Please select a file to import")}),L7e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:F7e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("stock_transfer_requests")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"stock_transfer_requests",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Stock Transfer Requests",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple stock transfer requests. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},$7e=async t=>{try{return(await ie.get("/warehouses",{params:t})).data}catch(s){throw console.error("Error fetching warehouses:",s),new Error(s.response?.data?.message||"Failed to fetch warehouses")}},z7e=async t=>{try{return(await ie.post("/warehouses",t)).data}catch(s){throw console.error("Error creating warehouse:",s),new Error(s.response?.data?.message||"Failed to create warehouse")}},q7e=async(t,s)=>{try{return(await ie.put(`/warehouses/${t}`,s)).data}catch(a){throw console.error("Error updating warehouse:",a),new Error(a.response?.data?.message||"Failed to update warehouse")}},B7e=async t=>{try{return(await ie.delete(`/warehouses/${t}`)).data}catch(s){throw console.error("Error deleting warehouse:",s),new Error(s.response?.data?.message||"Failed to delete warehouse")}},Vf={all:["warehouses"],lists:()=>[...Vf.all,"list"],list:t=>[...Vf.lists(),t],details:()=>[...Vf.all,"detail"],detail:t=>[...Vf.details(),t]},c$=(t,s)=>st({queryKey:Vf.list(t),queryFn:()=>$7e(t),staleTime:300*1e3,...s}),U7e=()=>Te({mutationFn:z7e,invalidateQueries:["warehouses"],loadingMessage:"Creating warehouse..."}),V7e=()=>Te({mutationFn:({id:t,...s})=>q7e(t,s),invalidateQueries:["warehouses"],loadingMessage:"Updating warehouse..."}),H7e=()=>Te({mutationFn:B7e,invalidateQueries:["warehouses"],loadingMessage:"Deleting warehouse..."}),W7e=nt({source_type:ce().required("Source type is required").min(2,"Source type must be at least 2 characters").max(50,"Source type must be less than 50 characters"),source_id:Ye().required("Source ID is required").positive("Source ID must be a positive number").integer("Source ID must be an integer"),destination_type:ce().required("Destination type is required").min(2,"Destination type must be at least 2 characters").max(50,"Destination type must be less than 50 characters"),destination_id:Ye().required("Destination ID is required").positive("Destination ID must be a positive number").integer("Destination ID must be an integer").test("different-from-source","Source and destination cannot be the same",function(t){const{source_id:s}=this.parent;return t!==s}),requested_by:Ye().required("Requested by is required").positive("Requested by must be a positive number").integer("Requested by must be an integer"),status:ce().oneOf(["pending","approved","rejected","in_progress","completed"],"Invalid status").optional(),approved_by:Ye().positive("Approved by must be a positive number").integer("Approved by must be an integer").nullable().optional(),approved_at:Ca().nullable().optional(),is_active:ce().oneOf(["Y","N"],"Must be Y or N").default("Y"),stock_transfer_lines:dl().of(nt({product_id:Ye().required("Product ID is required").positive("Product ID must be a positive number").integer("Product ID must be an integer"),batch_id:Ye().positive("Batch ID must be a positive number").integer("Batch ID must be an integer").nullable().optional(),quantity:Ye().required("Quantity is required").positive("Quantity must be a positive number").min(1,"Quantity must be at least 1")})).min(1,"At least one transfer line is required").required("Transfer lines are required")}),Y7e=({open:t,onClose:s,request:a})=>{const r=!!a,[n,i]=g.useState([]),{data:o}=Gn({limit:1e3}),{data:l}=c$({limit:1e3}),{data:c}=A7e(a?.id||0),m=o?.data||[],d=l?.data||[],p=I7e(),x=()=>{s(),i([]),j.resetForm()};yt.useEffect(()=>{if(a&&c?.data){const C=c.data.transfer_lines?.map(P=>({product_id:P.product_id,batch_id:P.batch_id||"",quantity:P.quantity,id:P.id}))||[];i(C),j.setFieldValue("stock_transfer_lines",C)}else i([]),j.setFieldValue("stock_transfer_lines",[])},[a,c]);const j=pt({initialValues:{source_type:a?.source_type||"",source_id:a?.source_id||"",destination_type:a?.destination_type||"",destination_id:a?.destination_id||"",requested_by:a?.requested_by||"",status:a?.status||"pending",approved_by:a?.approved_by||"",approved_at:a?.approved_at||"",is_active:a?.is_active||"Y",stock_transfer_lines:[]},validationSchema:W7e,enableReinitialize:!0,onSubmit:async C=>{try{const P={...r&&a?{id:a.id}:{},source_type:C.source_type,source_id:Number(C.source_id),destination_type:C.destination_type,destination_id:Number(C.destination_id),requested_by:Number(C.requested_by),status:C.status,approved_by:C.approved_by?Number(C.approved_by):null,approved_at:C.approved_at||null,is_active:C.is_active,stock_transfer_lines:n.filter(E=>E.product_id!==""&&E.quantity!=="").map(E=>({product_id:Number(E.product_id),batch_id:E.batch_id?Number(E.batch_id):null,quantity:Number(E.quantity),...E.id&&{id:E.id}}))};await p.mutateAsync(P),x()}catch(P){console.log("Error submitting stock transfer request:",P)}}}),_=()=>{const C={product_id:"",batch_id:"",quantity:0,id:null},P=[...n,C];i(P),j.setFieldValue("stock_transfer_lines",P)},S=C=>{const P=n.filter((E,D)=>D!==C);i(P),j.setFieldValue("stock_transfer_lines",P)},v=(C,P,E)=>{const D=[...n];P==="quantity"?D[C]={...D[C],[P]:E===""?0:Number(E)}:D[C]={...D[C],[P]:E},i(D),j.setFieldValue("stock_transfer_lines",D)},y=n.map((C,P)=>({...C,_index:P})),N=[{id:"product_id",label:"Product",width:300,render:(C,P)=>e.jsx(wo,{value:P.product_id,onChange:(E,D)=>v(P._index,"product_id",D?D.id:""),size:"small",fullWidth:!0,label:"Product"})},{id:"batch_id",label:"Batch ID",width:150,render:(C,P)=>e.jsx(oe,{value:P.batch_id,onChange:E=>v(P._index,"batch_id",E.target.value),size:"small",fullWidth:!0,label:"Batch ID",type:"number",placeholder:"Optional"})},{id:"quantity",label:"Quantity",width:120,render:(C,P)=>e.jsx(oe,{value:P.quantity||0,onChange:E=>v(P._index,"quantity",E.target.value),size:"small",fullWidth:!0,label:"Quantity",type:"number",required:!0})},{id:"actions",label:"Actions",sortable:!1,width:50,render:(C,P)=>e.jsx(Ht,{onClick:()=>S(P._index),tooltip:"Remove line",confirmDelete:!0,size:"medium",itemName:"transfer line"})}];return e.jsx(it,{open:t,setOpen:x,title:r?"Edit Stock Transfer Request":"Create Stock Transfer Request",size:"large",children:e.jsx(b,{className:"!p-4",children:e.jsxs("form",{onSubmit:j.handleSubmit,className:"!space-y-4",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5",children:[e.jsx(oe,{name:"source_type",label:"Source Type",placeholder:"e.g., Warehouse, Store",formik:j,required:!0}),e.jsx(Se,{name:"source_id",label:"Source Location",formik:j,required:!0,children:d.map(C=>e.jsx(Z,{value:C.id,children:C.name},C.id))}),e.jsx(oe,{name:"destination_type",label:"Destination Type",placeholder:"e.g., Warehouse, Store",formik:j,required:!0}),e.jsx(Se,{name:"destination_id",label:"Destination Location",formik:j,required:!0,children:d.map(C=>e.jsx(Z,{value:C.id,children:C.name},C.id))}),e.jsx(Se,{name:"requested_by",label:"Requested By",formik:j,required:!0,children:m.map(C=>e.jsxs(Z,{value:C.id,children:[C.name," (",C.email,")"]},C.id))}),e.jsxs(Se,{name:"status",label:"Status",formik:j,children:[e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"approved",children:"Approved"}),e.jsx(Z,{value:"rejected",children:"Rejected"}),e.jsx(Z,{value:"in_progress",children:"In Progress"}),e.jsx(Z,{value:"completed",children:"Completed"})]}),e.jsxs(Se,{name:"approved_by",label:"Approved By",formik:j,children:[e.jsx(Z,{value:"",children:"Not Approved"}),m.map(C=>e.jsxs(Z,{value:C.id,children:[C.name," (",C.email,")"]},C.id))]}),e.jsx(oe,{name:"approved_at",label:"Approved At",type:"datetime-local",formik:j}),e.jsxs(Se,{name:"is_active",label:"Status",formik:j,required:!0,children:[e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]})]}),e.jsxs(b,{className:"!space-y-3",children:[e.jsxs(b,{className:"!flex !justify-between !items-center",children:[e.jsx(f,{variant:"body1",className:"!font-semibold !text-gray-900",children:"Transfer Lines"}),e.jsx(G,{type:"button",variant:"outlined",startIcon:e.jsx(Gr,{}),onClick:_,size:"small",children:"Add Line"})]}),n.length>0&&e.jsx(ct,{data:y,columns:N,getRowId:C=>C._index.toString(),pagination:!1,sortable:!1,emptyMessage:"No transfer lines added yet."}),n.length===0&&e.jsxs(b,{className:"!text-center !py-8 !text-gray-500",children:[e.jsx($t,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(f,{variant:"body2",children:'No transfer lines added yet. Click "Add Line" to get started.'})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2 !pt-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:x,disabled:p.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:p.isPending,children:p.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},G7e=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("stock-transfer"),{data:y,isLoading:N,error:C}=R7e({search:t,page:d,limit:x,status:a==="all"?void 0:a==="active"?"active":"inactive"},{enabled:v}),P=y?.data||[],E=y?.meta?.total||0,D=(y?.meta?.page||1)-1,T=O7e(),A=ls(),I=y?.stats?.total_requests??0,F=y?.stats?.active_requests??0,z=y?.stats?.inactive_requests??0,O=y?.stats?.requests_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback($=>{i($),l(!0)},[]),B=g.useCallback(async $=>{try{await T.mutateAsync($)}catch(Y){console.error("Error deleting stock transfer request:",Y)}},[T]),q=g.useCallback($=>{s($),p(1)},[]),H=$=>{p($+1)},Q=g.useCallback(async()=>{try{const $={search:t,status:a==="all"?void 0:a==="active"?"active":"inactive"};await A.mutateAsync({tableName:"stock_transfer_requests",filters:$})}catch($){console.error("Error exporting stock transfer requests:",$)}},[A,t,a]),V=$=>{switch($?.toLowerCase()){case"pending":return"warning";case"approved":return"success";case"rejected":return"error";case"in_progress":return"info";case"completed":return"success";default:return"default"}},M=$=>{switch($?.toLowerCase()){case"pending":return"Pending";case"approved":return"Approved";case"rejected":return"Rejected";case"in_progress":return"In Progress";case"completed":return"Completed";default:return $||"Unknown"}},R=[{id:"request_number",label:"Request Number",render:($,Y)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:Y.request_number,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Hn,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:Y.request_number}),e.jsxs(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:[Y.source_type,"  ",Y.destination_type]})]})]})},{id:"source",label:"Source",render:($,Y)=>e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:Y.source?.name||`ID: ${Y.source_id}`}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:Y.source_type})]})},{id:"destination",label:"Destination",render:($,Y)=>e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:Y.destination?.name||`ID: ${Y.destination_id}`}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:Y.destination_type})]})},{id:"requested_by_user",label:"Requested By",render:($,Y)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:Y.requested_by_user?.name||"Unknown",className:"!rounded !bg-primary-100 !text-primary-600",sx:{width:32,height:32},children:Y.requested_by_user?.name?.charAt(0)||"?"}),e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:Y.requested_by_user?.name||"Unknown User"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:Y.requested_by_user?.email||`ID: ${Y.requested_by}`})]})]})},{id:"status",label:"Status",render:($,Y)=>e.jsx(Re,{label:M(Y.status||"pending"),size:"small",className:"w-24",variant:"outlined",color:V(Y.status||"pending")})},{id:"transfer_lines",label:"Items",render:($,Y)=>e.jsxs(f,{variant:"body2",className:"!text-gray-900",children:[Y.transfer_lines?.length||0," items"]})},{id:"is_active",label:"Active",render:$=>e.jsx(Re,{icon:$==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:$==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:$==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:($,Y)=>Fe(Y.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:($,Y)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(Y),tooltip:`Edit ${Y.request_number}`}),S&&e.jsx(Ht,{onClick:()=>B(Y.id),tooltip:`Delete ${Y.request_number}`,itemName:Y.request_number,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Stock Transfer Requests Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage stock transfer requests between warehouses and locations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Requests",value:I,icon:e.jsx(Hn,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Requests",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Requests",value:z,icon:e.jsx(ya,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"This Month",value:O,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load stock transfer requests. Please try again."}),e.jsx(ct,{data:P,columns:R,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[v&&e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx(Jt,{placeholder:"Search Stock Transfer Requests",value:t,onChange:q,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(Se,{value:a,onChange:$=>r($.target.value),className:"!min-w-32",size:"small",children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[v&&e.jsx(Xt,{title:"Export Stock Transfer Requests",description:"Are you sure you want to export the current stock transfer requests data to Excel? This will include all filtered results.",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:$=>$.id,initialOrderBy:"request_number",loading:N,totalCount:E,page:D,rowsPerPage:x,onPageChange:H,isPermission:v,emptyMessage:t?`No stock transfer requests found matching "${t}"`:"No stock transfer requests found in the system"}),e.jsx(Y7e,{open:o,onClose:()=>{l(!1),i(null)},request:n}),e.jsx(L7e,{drawerOpen:c,setDrawerOpen:m})]})},K7e=async t=>{try{return(await ie.get("/surveys",{params:t})).data}catch(s){throw s}},Q7e=async t=>{try{return(await ie.get(`/surveys/${t}`)).data.data}catch(s){throw s}},Z7e=async t=>(await ie.post("/surveys",t)).data,X7e=async t=>(await ie.delete(`/surveys/${t}`)).data,Vl={all:["surveys"],lists:()=>[...Vl.all,"list"],list:t=>[...Vl.lists(),t],details:()=>[...Vl.all,"detail"],detail:t=>[...Vl.details(),t]},d$=(t,s)=>st({queryKey:Vl.list(t||{}),queryFn:()=>K7e(t),staleTime:300*1e3,...s}),J7e=t=>st({queryKey:Vl.detail(t),queryFn:()=>Q7e(t),enabled:!!t,staleTime:300*1e3}),e9e=t=>{const s=is();return Te({mutationFn:Z7e,loadingMessage:"Saving survey...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Vl.lists()}),r.id&&s.invalidateQueries({queryKey:Vl.detail(r.id)})},onError:t?.onError})},t9e=t=>{const s=is();return Te({mutationFn:X7e,loadingMessage:"Deleting survey...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Vl.lists()})},onError:t?.onError})},s9e=nt({file:ps().required("Please select a file to import")}),a9e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:s9e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("surveys")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"surveys",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Surveys",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple surveys. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},r9e=nt().shape({title:ce().required("Survey title is required").min(2,"Survey title must be at least 2 characters").max(255,"Survey title must be at most 255 characters"),description:ce().max(1e3,"Description must be at most 1000 characters").nullable(),category:ce().oneOf(["cooler_inspection","customer_feedback","outlet_audit","competitor_analysis","brand_visibility","general"],"Category must be a valid survey category").required("Category is required"),target_roles:ce().nullable(),expires_at:Ca().nullable(),is_active:ce().oneOf(["Y","N"],"Status must be Y or N").required("Status is required"),fields:dl().of(nt().shape({label:ce().required("Field label is required"),field_type:ce().oneOf(["text","textarea","number","select","checkbox","radio","date","time","photo","signature"],"Invalid field type").required("Field type is required"),options:ce().nullable(),is_required:TO(),sort_order:Ye().integer()})).optional()}),n9e=({selectedSurvey:t,setSelectedSurvey:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,[i,o]=g.useState([]),{data:l,isLoading:c}=k3(),m=l?.data||[],d=()=>{s(null),r(!1),o([]),x.resetForm()},p=e9e();yt.useEffect(()=>{if(t?.fields&&t.fields.length>0){const N=t.fields.map(C=>({label:C.label,field_type:C.field_type||"text",options:C.options||null,is_required:C.is_required??!1,sort_order:C.sort_order||0,id:C.id||null}));o(N)}else o([])},[t]);const x=pt({initialValues:{title:t?.title||"",description:t?.description||"",category:t?.category||"general",target_roles:t?.target_roles!==null&&t?.target_roles!==void 0?String(t.target_roles):"",expires_at:t?.expires_at?new Date(t.expires_at).toISOString().split("T")[0]:"",is_active:t?.is_active||"Y"},validationSchema:r9e,enableReinitialize:!0,onSubmit:async N=>{try{const C={...n&&t?{id:t.id}:{},title:N.title,description:N.description,category:N.category,target_roles:N.target_roles&&N.target_roles!==""?Number(N.target_roles):void 0,expires_at:N.expires_at?new Date(N.expires_at).toISOString():void 0,is_active:N.is_active,survey_fields:i.filter(P=>P.label.trim()!=="").map((P,E)=>({...P.id?{id:P.id}:{},label:P.label.trim(),field_type:P.field_type,options:P.options||null,is_required:P.is_required,sort_order:P.sort_order||E+1}))};await p.mutateAsync(C),d()}catch(C){console.error("Error saving survey:",C)}}}),j=()=>{const N={label:"",field_type:"text",options:null,is_required:!1,sort_order:i.length+1,id:null};o([...i,N])},_=N=>{const C=i.filter((P,E)=>E!==N);o(C)},S=(N,C,P)=>{const E=[...i];E[N]={...E[N],[C]:P},o(E)},v=i.map((N,C)=>({...N,_index:C})),y=[{id:"label",label:"Label",width:200,render:(N,C)=>e.jsx(oe,{value:C.label,onChange:P=>S(C._index,"label",P.target.value),size:"small",fullWidth:!0,label:"Field Label",placeholder:"Enter field label"})},{id:"field_type",label:"Type",width:150,render:(N,C)=>e.jsxs(Se,{value:C.field_type,onChange:P=>S(C._index,"field_type",P.target.value),size:"small",fullWidth:!0,label:"Field Type",children:[e.jsx(Z,{value:"text",children:"Text"}),e.jsx(Z,{value:"number",children:"Number"}),e.jsx(Z,{value:"checkbox",children:"Checkbox"}),e.jsx(Z,{value:"radio",children:"Radio"})]})},{id:"options",label:"Options",width:200,render:(N,C)=>e.jsx(oe,{value:C.options||"",onChange:P=>S(C._index,"options",P.target.value),size:"small",fullWidth:!0,label:"Options",placeholder:"Comma-separated for select/radio",disabled:C.field_type!=="radio"&&C.field_type!=="checkbox"})},{id:"is_required",label:"Required",width:100,render:(N,C)=>e.jsxs(Se,{value:C.is_required?"true":"false",onChange:P=>S(C._index,"is_required",P.target.value==="true"),size:"small",fullWidth:!0,label:"Required",children:[e.jsx(Z,{value:"true",children:"Yes"}),e.jsx(Z,{value:"false",children:"No"})]})},{id:"actions",label:"Actions",sortable:!1,width:80,render:(N,C)=>e.jsx(Ht,{onClick:()=>_(C._index),tooltip:"Remove field",confirmDelete:!0,size:"medium",itemName:"field"})}];return e.jsx(it,{open:a,setOpen:d,title:n?"Edit Survey":"Create Survey",size:"large",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"title",label:"Survey Title",placeholder:"Enter survey title",formik:x,required:!0}),e.jsxs(Se,{name:"category",label:"Category",formik:x,required:!0,children:[e.jsx(Z,{value:"general",children:"General"}),e.jsx(Z,{value:"cooler_inspection",children:"Cooler Inspection"}),e.jsx(Z,{value:"customer_feedback",children:"Customer Feedback"}),e.jsx(Z,{value:"outlet_audit",children:"Outlet Audit"}),e.jsx(Z,{value:"competitor_analysis",children:"Competitor Analysis"}),e.jsx(Z,{value:"brand_visibility",children:"Brand Visibility"})]}),e.jsxs(Se,{name:"target_roles",label:"Target Role",formik:x,disabled:c,children:[e.jsx(Z,{value:"",children:"Select a role (Optional)"}),m.map(N=>e.jsx(Z,{value:String(N.id),children:N.name},N.id))]}),e.jsx(oe,{name:"expires_at",label:"Expiry Date",placeholder:"Select expiry date",formik:x,type:"date"}),e.jsx(Es,{name:"is_active",formik:x,required:!0,className:"col-span-2"}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter survey description",formik:x,multiline:!0,rows:4})})]}),e.jsxs(b,{className:"!space-y-3",children:[e.jsxs(b,{className:"!flex !justify-between !items-center",children:[e.jsx(f,{variant:"body1",className:"!font-semibold !text-gray-900",children:"Survey Fields"}),e.jsx(G,{type:"button",variant:"outlined",startIcon:e.jsx(Gr,{}),onClick:j,size:"small",children:"Add Field"})]}),i.length>0&&e.jsx(ct,{data:v,columns:y,getRowId:N=>N._index.toString(),pagination:!1,sortable:!1,emptyMessage:"No survey fields added yet."}),i.length===0&&e.jsxs(b,{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(ks,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(f,{variant:"body2",children:'No survey fields added yet. Click "Add Field" to get started.'})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:d,className:"!mr-3",disabled:p.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:p.isPending,children:[p.isPending?n?"Updating...":"Creating...":n?"Update":"Create"," ","Survey"]})]})]})})})},i9e=()=>{const t=Fs(),[s,a]=g.useState(""),[r,n]=g.useState("all"),[i,o]=g.useState("all"),[l,c]=g.useState(null),[m,d]=g.useState(!1),[p,x]=g.useState(!1),[j,_]=g.useState(1),[S]=g.useState(10),{isCreate:v,isUpdate:y,isDelete:N,isRead:C}=Ze("survey"),{data:P,isLoading:E,error:D}=d$({search:s,page:j,limit:S,status:r==="all"?void 0:r,category:i==="all"?void 0:i},{enabled:C}),T=P?.data||[],A=P?.meta?.total||0,I=(P?.meta?.page||1)-1,F=t9e(),z=ls(),O=P?.stats?.total_surveys??T.length,K=P?.stats?.published_surveys??0,W=P?.stats?.active_surveys??0,B=P?.stats?.total_responses??0,q=g.useCallback(()=>{c(null),d(!0)},[]),H=g.useCallback(ee=>{c(ee),d(!0)},[]),Q=g.useCallback(ee=>{t(`/masters/surveys/${ee.id}`)},[t]),V=g.useCallback(async ee=>{try{await F.mutateAsync(ee)}catch(ne){console.error("Error deleting survey:",ne)}},[F]),M=g.useCallback(ee=>{a(ee),_(1)},[]),R=ee=>{_(ee+1)},$=g.useCallback(async()=>{try{const ee={search:s,status:r==="all"?void 0:r,category:i==="all"?void 0:i};await z.mutateAsync({tableName:"surveys",filters:ee})}catch(ee){console.error("Error exporting surveys:",ee)}},[z,s,r,i]),Y=ee=>({cooler_inspection:"primary",customer_feedback:"success",outlet_audit:"secondary",competitor_analysis:"error",brand_visibility:"warning",general:"default"})[ee]||"default",J=ee=>({cooler_inspection:"Cooler Inspection",customer_feedback:"Customer Feedback",outlet_audit:"Outlet Audit",competitor_analysis:"Competitor Analysis",brand_visibility:"Brand Visibility",general:"General"})[ee]||ee,te=[{id:"title",label:"Survey Info",render:(ee,ne)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:ne.title,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(ks,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:ne.title}),ne.description&&e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",title:ne.description,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",cursor:"help",width:"250px"},children:ne.description})]})]})},{id:"category",label:"Category",render:(ee,ne)=>e.jsx(Re,{label:J(ne.category),color:Y(ne.category),size:"small"})},{id:"target_roles",label:"Target Roles",render:(ee,ne)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(aa,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:ne.target_roles||"No roles specified"})]})},{id:"status",label:"Status",render:(ee,ne)=>e.jsxs(b,{className:"flex gap-2 items-center",children:[e.jsx(Re,{icon:ne.is_published?e.jsx(My,{fontSize:"small"}):e.jsx(lw,{fontSize:"small"}),label:ne.is_published?"Published":"Draft",size:"small",variant:"outlined",color:ne.is_published?"success":"warning"}),e.jsx(Re,{icon:ne.is_active==="Y"?e.jsx(mt,{fontSize:"small"}):e.jsx(St,{fontSize:"small"}),label:ne.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:ne.is_active==="Y"?"success":"error"})]})},{id:"response_count",label:"Responses",render:(ee,ne)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(Qc,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs font-medium",children:ne.response_count||0})]})},{id:"createdate",label:"Created Date",render:(ee,ne)=>Fe(typeof ne.createdate=="string"?ne.createdate:ne.createdate?.toString()||"")||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...y||N||C?[{id:"action",label:"Actions",sortable:!1,render:(ee,ne)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[C&&e.jsx(Ua,{onClick:()=>Q(ne),tooltip:`View ${ne.title}`,icon:e.jsx(kn,{fontSize:"small"}),color:"info"}),y&&e.jsx(ss,{onClick:()=>H(ne),tooltip:`Edit ${ne.title}`}),N&&e.jsx(Ht,{onClick:()=>V(ne.id),tooltip:`Delete ${ne.title}`,itemName:ne.title,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Survey Builder"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Create and manage dynamic surveys for field operations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Surveys",value:O,icon:e.jsx(ks,{className:"w-6 h-6"}),color:"blue",isLoading:E}),e.jsx(fe,{title:"Published",value:K,icon:e.jsx(My,{className:"w-6 h-6"}),color:"green",isLoading:E}),e.jsx(fe,{title:"Active",value:W,icon:e.jsx(pu,{className:"w-6 h-6"}),color:"purple",isLoading:E}),e.jsx(fe,{title:"Total Responses",value:B,icon:e.jsx(Qc,{className:"w-6 h-6"}),color:"teal",isLoading:E})]}),D&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load surveys. Please try again."}),e.jsx(ct,{data:T,columns:te,actions:C||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[C&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Jt,{placeholder:"Search Surveys...",value:s,onChange:M,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:r,onChange:ee=>n(ee.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"published",children:"Published"}),e.jsx(Z,{value:"draft",children:"Draft"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(Se,{value:i,onChange:ee=>o(ee.target.value),className:"!w-68",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Categories"}),e.jsx(Z,{value:"cooler_inspection",children:"Cooler Inspection"}),e.jsx(Z,{value:"customer_feedback",children:"Customer Feedback"}),e.jsx(Z,{value:"outlet_audit",children:"Outlet Audit"}),e.jsx(Z,{value:"competitor_analysis",children:"Competitor Analysis"}),e.jsx(Z,{value:"brand_visibility",children:"Brand Visibility"}),e.jsx(Z,{value:"general",children:"General"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[C&&e.jsx(Xt,{title:"Export Surveys",description:"Are you sure you want to export the current survey data to Excel? This will include all filtered results.",onConfirm:$,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:z.isPending,children:z.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>x(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:q,children:"Create"})]})]}):!1,getRowId:ee=>ee.id,initialOrderBy:"title",loading:E,totalCount:A,page:I,rowsPerPage:S,onPageChange:R,isPermission:C,emptyMessage:s?`No surveys found matching "${s}"`:"No surveys found in the system"}),e.jsx(n9e,{selectedSurvey:l,setSelectedSurvey:c,drawerOpen:m,setDrawerOpen:d}),e.jsx(a9e,{drawerOpen:p,setDrawerOpen:x})]})},o9e=()=>{const{id:t}=Br(),s=Fs(),{data:a,isLoading:r,error:n,isFetching:i}=J7e(Number(t)),o=()=>{s("/masters/surveys")},l=p=>({cooler_inspection:"primary",customer_feedback:"success",outlet_audit:"secondary",competitor_analysis:"error",brand_visibility:"warning",general:"default"})[p]||"default",c=p=>({cooler_inspection:"Cooler Inspection",customer_feedback:"Customer Feedback",outlet_audit:"Outlet Audit",competitor_analysis:"Competitor Analysis",brand_visibility:"Brand Visibility",general:"General"})[p]||p,m=p=>({text:"Text",textarea:"Textarea",number:"Number",select:"Select",checkbox:"Checkbox",radio:"Radio",date:"Date",time:"Time",photo:"Photo",signature:"Signature"})[p]||p;if(r||i)return e.jsxs("div",{className:"!flex !items-start !gap-4",children:[e.jsxs("div",{className:"!flex-2 !flex !flex-col !gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-3 !right-3",children:e.jsx(X,{variant:"circular",width:10,height:10,className:"!bg-green-200"})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(X,{variant:"circular",width:96,height:96,className:"!mx-auto !border-3 !border-white"})}),e.jsx(X,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(X,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-2 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"30%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"60%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"70%",height:14})]})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4].map(p=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(X,{variant:"text",width:`${40+p*8}%`,height:12}),e.jsx(X,{variant:"text",width:`${60+p*6}%`,height:16})]},p))})]})]})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(p=>e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(X,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"40%",height:12})]}),e.jsx(X,{variant:"text",width:80,height:16,className:"!text-right"})]})},p))})]})]}),e.jsx("div",{className:"!flex-4 !space-y-4",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(p=>e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(X,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"40%",height:12})]}),e.jsx(X,{variant:"text",width:80,height:16,className:"!text-right"})]})},p))})]})]})})]})]});if(n||!a)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ia,{className:"w-5 h-5"}),e.jsx(f,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load survey details"})]}),e.jsx(f,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:o,className:"mt-4",children:"Back to Surveys"})]});const d=({title:p,children:x,icon:j})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[j&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(j,{className:"!text-primary-500"})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:p})]}),x]})]});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${a.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ot,{className:lr("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":a.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":a.is_active!=="Y"}),children:e.jsx(ks,{className:"!w-8 !h-8"})})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:a.title}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mb-3",children:c(a.category)}),e.jsxs("div",{className:"!flex !justify-center !gap-2 !mb-4",children:[e.jsx(Re,{icon:a.is_published?e.jsx(My,{fontSize:"small"}):e.jsx(lw,{fontSize:"small"}),label:a.is_published?"Published":"Draft",size:"small",color:a.is_published?"success":"warning"}),e.jsx(Re,{icon:a.is_active==="Y"?e.jsx(mt,{fontSize:"small"}):e.jsx(pu,{fontSize:"small"}),label:a.is_active==="Y"?"Active":"Inactive",size:"small",color:a.is_active==="Y"?"success":"error"})]}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Response Count"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:[a.response_count||0," responses"]})]}),a.expires_at&&e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Expires At"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(typeof a.expires_at=="string"?a.expires_at:a.expires_at?.toString()||"")})]})]})]}),e.jsx(d,{title:"Survey Information",icon:ks,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Category"}),e.jsx(Re,{label:c(a.category),color:l(a.category),size:"small"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Target Roles"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.target_roles||"All Roles"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Created Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.createdate?Fe(typeof a.createdate=="string"?a.createdate:a.createdate?.toString()||""):"Not available"})]}),a.published_at&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Published Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(typeof a.published_at=="string"?a.published_at:a.published_at?.toString()||"")})]}),a.description&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Description"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.description})]})]})})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsx(d,{title:"Survey Fields",icon:pu,children:a.fields&&a.fields.length>0?e.jsx("div",{className:"!space-y-3",children:a.fields.map((p,x)=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between !mb-2",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:p.label}),p.is_required&&e.jsx(Re,{label:"Required",size:"small",color:"error",className:"!text-xs"})]}),e.jsx(Re,{label:m(p.field_type||"text"),size:"small",color:"primary"})]}),p.options&&e.jsxs(f,{variant:"caption",className:"!text-gray-500 !block !mt-1",children:["Options: ",p.options]}),p.sort_order&&e.jsxs(f,{variant:"caption",className:"!text-gray-400 !block !mt-1",children:["Order: ",p.sort_order]})]},p.id||x))}):e.jsxs("div",{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(ks,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(f,{variant:"body2",children:"No fields added to this survey yet."})]})}),e.jsx(d,{title:"Statistics",icon:Qc,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Total Responses"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:"Number of completed surveys"})]}),e.jsx(f,{variant:"h6",className:"!font-bold !text-primary-600",children:a.response_count||0})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Total Fields"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:"Number of survey fields"})]}),e.jsx(f,{variant:"h6",className:"!font-bold !text-blue-600",children:a.fields?.length||0})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Status"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:"Current survey status"})]}),e.jsx(Re,{label:a.is_active==="Y"?"Active":"Inactive",color:a.is_active==="Y"?"success":"error",size:"small"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Publication Status"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:"Survey visibility"})]}),e.jsx(Re,{icon:a.is_published?e.jsx(My,{fontSize:"small"}):e.jsx(lw,{fontSize:"small"}),label:a.is_published?"Published":"Draft",size:"small",color:a.is_published?"success":"warning"})]})})]})})]})]}),e.jsx("div",{className:"!mt-4",children:e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:o,children:"Back to Surveys"})})]})},l9e=nt({file:ps().required("Please select a file to import")}),c9e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:l9e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("unit_of_measurement")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"unit_of_measurement",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Units of Measurement",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple units of measurement. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},d9e=nt({name:ce().required("Unit name is required").min(2,"Unit name must be at least 2 characters").max(100,"Unit name must not exceed 100 characters").trim(),description:ce().max(500,"Description must not exceed 500 characters").nullable().transform(t=>t===""?null:t),category:ce().max(50,"Category must not exceed 50 characters").nullable().transform(t=>t===""?null:t),symbol:ce().max(10,"Symbol must not exceed 10 characters").nullable().transform(t=>t===""?null:t),is_active:ce().required("Status is required").oneOf(["Y","N"],"Status must be either Active or Inactive")}),u9e=({selectedUnit:t,setSelectedUnit:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=UTe(),l=VTe(),c=pt({initialValues:{name:t?.name||"",description:t?.description||"",category:t?.category||"",symbol:t?.symbol||"",is_active:t?.is_active||"Y"},validationSchema:d9e,enableReinitialize:!0,onSubmit:async m=>{try{const d={name:m.name,description:m.description,category:m.category,symbol:m.symbol,is_active:m.is_active};n&&t?await l.mutateAsync({id:t.id,data:d}):await o.mutateAsync(d),i()}catch(d){console.error("Error saving unit of measurement:",d)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Unit of Measurement":"Create Unit of Measurement",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"name",label:"Unit Name",placeholder:"Enter unit name",formik:c,required:!0})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:c,multiline:!0,rows:3})}),e.jsx(oe,{name:"category",label:"Category",placeholder:"Enter category (e.g., Weight, Volume, Length)",formik:c}),e.jsx(oe,{name:"symbol",label:"Symbol",placeholder:"Enter symbol (e.g., kg, L, m)",formik:c}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(Es,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:[o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"," "]})]})]})})})},m9e=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("unit-of-measurement"),{data:y,isFetching:N,error:C}=S1({search:t,page:d,limit:x,status:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total||0,D=(y?.meta?.page||1)-1,T=HTe(),A=ls(),I=y?.stats?.total_units??0,F=y?.stats?.active_units??0,z=y?.stats?.inactive_units??0,O=y?.stats?.new_units_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(R){console.error("Error deleting unit of measurement:",R)}},[T]),q=g.useCallback(M=>{s(M),p(1)},[]),H=M=>{p(M+1)},Q=g.useCallback(async()=>{try{const M={search:t,status:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"unit_of_measurement",filters:M})}catch(M){console.error("Error exporting units of measurement:",M)}},[A,t,a]),V=[{id:"name",label:"Unit Name",render:(M,R)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:R.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(_T,{className:"w-5 h-5"})}),e.jsxs(b,{className:"!max-w-xs",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:R.name}),R.symbol&&e.jsxs(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:["Symbol: ",R.symbol]}),R.category&&e.jsxs(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:["Category: ",R.category]})]})]})},{id:"description",label:"Description",render:(M,R)=>e.jsx(Oa,{title:R.description,placement:"top",arrow:!0,children:e.jsx(f,{variant:"body2",className:"!text-gray-900 !max-w-xs !truncate",children:R.description})})},{id:"is_active",label:"Status",render:M=>e.jsx(Re,{icon:M==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,R)=>Fe(R.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(M,R)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(R),tooltip:`Edit ${R.name}`}),S&&e.jsx(Ht,{onClick:()=>B(R.id),tooltip:`Delete ${R.name}`,itemName:R.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Unit of Measurement Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage units of measurement for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Units",value:I,icon:e.jsx(_T,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Units",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Units",value:z,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:O,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load units of measurement. Please try again."}),e.jsx(ct,{data:P,columns:V,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[v&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Jt,{placeholder:"Search Units of Measurement...",value:t,onChange:q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:M=>{r(M.target.value),p(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Units of Measurement",description:"Are you sure you want to export the current units of measurement data to Excel? This will include all filtered results.",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"name",loading:N,totalCount:E,page:D,rowsPerPage:x,onPageChange:H,isPermission:v,emptyMessage:t?`No units of measurement found matching "${t}"`:"No units of measurement found in the system"}),e.jsx(u9e,{selectedUnit:n,setSelectedUnit:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(c9e,{drawerOpen:c,setDrawerOpen:m})]})},p9e=nt({file:ps().required("Please select a file to import")}),h9e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:p9e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("subunits")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"subunits",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Sub Units of Measurement",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple sub units of measurement. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},f9e=nt({name:ce().min(2,"Sub unit name must be at least 2 characters").max(100,"Sub unit name must not exceed 100 characters").required("Sub unit name is required"),code:ce().min(2,"Code must be at least 2 characters").max(20,"Code must not exceed 20 characters").matches(/^[A-Z0-9]+$/,"Code must contain only uppercase letters and numbers").optional(),description:ce().max(500,"Description must not exceed 500 characters").optional(),unit_of_measurement_id:Ye().required("Unit of measurement is required").positive("Unit of measurement must be selected"),product_id:Ye().required("Product is required").positive("Product must be selected"),is_active:ce().oneOf(["Y","N"],"Status must be either Active or Inactive").required("Status is required")}),x9e=({formik:t,setValue:s,onChange:a,name:r="unit_of_measurement_id",label:n="Unit of Measurement",placeholder:i="Select unit of measurement...",fullWidth:o=!0,size:l="small",disabled:c=!1,error:m=!1,helperText:d})=>{const{data:p=[],isLoading:x}=XTe(),j=p.map(C=>({value:C.id,label:`${C.name}`,disabled:!1})),_=t?.values[r]||"",S=j.find(C=>C.value===_)||null,v=C=>{t&&(t.setFieldValue(r,C?.value||""),t.setFieldTouched(r,!0)),s&&s(C?.value||""),a&&a(C)},y=m||t?.touched[r]&&!!t?.errors[r],N=d||t?.touched[r]&&t?.errors[r];return e.jsx(ir,{options:j,value:S,onChange:(C,P)=>v(P),loading:x,disabled:c,size:l,fullWidth:o,renderInput:C=>e.jsx(Ba,{...C,label:n,placeholder:i,error:y,helperText:N,InputProps:{...C.InputProps,startAdornment:e.jsxs(e.Fragment,{children:[S&&e.jsx(ot,{sx:{width:24,height:24,fontSize:"0.75rem",bgcolor:"primary.main",color:"primary.contrastText",mr:1},children:S.label.charAt(0).toUpperCase()}),C.InputProps.startAdornment]}),endAdornment:e.jsxs(e.Fragment,{children:[x?e.jsx(to,{color:"inherit",size:20}):null,C.InputProps.endAdornment]})}}),renderOption:(C,P)=>e.jsxs(b,{component:"li",...C,sx:{"& > img":{mr:2,flexShrink:0}},children:[e.jsx(ot,{sx:{width:24,height:24,fontSize:"0.75rem",bgcolor:"primary.main",color:"primary.contrastText",mr:2},children:P.label.charAt(0).toUpperCase()}),P.label]}),isOptionEqualToValue:(C,P)=>C.value===P?.value,getOptionLabel:C=>C.label,noOptionsText:"No units of measurement found",loadingText:"Loading units of measurement..."})},g9e=({formik:t,setValue:s,onChange:a,name:r="product_id",label:n="Product",placeholder:i="Select product...",fullWidth:o=!0,size:l="small",disabled:c=!1,error:m=!1,helperText:d})=>{const{data:p=[],isLoading:x}=JTe(),j=p.map(C=>({value:C.id,label:`${C.name} (${C.code})`,disabled:!1})),_=t?.values[r]||"",S=j.find(C=>C.value===_)||null,v=C=>{t&&(t.setFieldValue(r,C?.value||""),t.setFieldTouched(r,!0)),s&&s(C?.value||""),a&&a(C)},y=m||t?.touched[r]&&!!t?.errors[r],N=d||t?.touched[r]&&t?.errors[r];return e.jsx(ir,{options:j,value:S,onChange:(C,P)=>v(P),loading:x,disabled:c,size:l,fullWidth:o,renderInput:C=>e.jsx(Ba,{...C,label:n,placeholder:i,error:y,helperText:N,InputProps:{...C.InputProps,startAdornment:e.jsxs(e.Fragment,{children:[S&&e.jsx(ot,{sx:{width:24,height:24,fontSize:"0.75rem",bgcolor:"secondary.main",color:"secondary.contrastText",mr:1},children:S.label.charAt(0).toUpperCase()}),C.InputProps.startAdornment]}),endAdornment:e.jsxs(e.Fragment,{children:[x?e.jsx(to,{color:"inherit",size:20}):null,C.InputProps.endAdornment]})}}),renderOption:(C,P)=>e.jsxs(b,{component:"li",...C,sx:{"& > img":{mr:2,flexShrink:0}},children:[e.jsx(ot,{sx:{width:24,height:24,fontSize:"0.75rem",bgcolor:"secondary.main",color:"secondary.contrastText",mr:2},children:P.label.charAt(0).toUpperCase()}),P.label]}),isOptionEqualToValue:(C,P)=>C.value===P?.value,getOptionLabel:C=>C.label,noOptionsText:"No products found",loadingText:"Loading products..."})},b9e=({selectedSubUnit:t,setSelectedSubUnit:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=e8e(),l=t8e(),c=pt({initialValues:{name:t?.name||"",code:t?.code||"",description:t?.description||"",unit_of_measurement_id:t?.unit_of_measurement_id||0,product_id:t?.product_id||0,is_active:t?.is_active||"Y"},validationSchema:f9e,enableReinitialize:!0,onSubmit:async d=>{try{n&&t?await l.mutateAsync({id:t.id,data:d}):await o.mutateAsync(d),i()}catch(p){console.error("Error saving sub unit of measurement:",p)}}}),m=o.isPending||l.isPending;return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Sub Unit of Measurement":"Create Sub Unit of Measurement",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"name",label:"Sub Unit Name",placeholder:"Enter sub unit name",formik:c,required:!0})}),e.jsx(b,{className:"md:!col-span-1",children:e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:c,helperText:"Leave empty to auto-generate"})}),e.jsx(b,{className:"md:!col-span-1",children:e.jsx(x9e,{name:"unit_of_measurement_id",label:"Unit of Measurement",formik:c})}),e.jsx(b,{className:"md:!col-span-1",children:e.jsx(g9e,{formik:c})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:c,multiline:!0,rows:3})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(Es,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:m,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:m,loading:m,children:m?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},y9e=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("unit-of-measurement"),{data:y,isFetching:N,error:C}=t$({search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N",page:d,limit:x},{enabled:v}),P=s8e(),E=ls(),D=y?.data||[],T=y?.meta?.total||0,A=(y?.meta?.page||1)-1,I=y?.stats,F=g.useCallback(H=>{s(H),p(1)},[]),z=H=>{p(H+1)},O=g.useCallback(H=>{i(H),l(!0)},[]),K=g.useCallback(async H=>{try{await P.mutateAsync(H.id)}catch(Q){console.error("Error deleting sub unit of measurement:",Q)}},[P]),W=g.useCallback(()=>{i(null),l(!0)},[]),B=g.useCallback(async()=>{try{const H={search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"};await E.mutateAsync({tableName:"subunits",filters:H})}catch(H){console.error("Error exporting sub units of measurement:",H)}},[E,t,a]),q=[{id:"name",label:"Sub Unit Name",render:(H,Q)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:Q.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Cy,{className:"w-5 h-5"})}),e.jsxs(b,{className:"!max-w-xs",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:Q.name||"Unknown"}),e.jsx(f,{variant:"caption",color:"text.secondary",children:Q.code||"No Code"})]})]})},{id:"description",label:"Description",render:(H,Q)=>Q.description?e.jsx(Oa,{title:Q.description,placement:"top",arrow:!0,children:e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",maxWidth:"300px",cursor:"help"},children:Q.description})}):"-"},{id:"unit_of_measurement_id",label:"Unit of Measurement",render:(H,Q)=>e.jsx(Re,{label:Q.subunits_unit_of_measurement?.name||"-",size:"small",variant:"outlined"})},{id:"is_active",label:"Status",render:H=>e.jsx(Re,{icon:H==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:H==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:H==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(H,Q)=>Fe(Q.createdate)},..._||S?[{id:"actions",label:"Actions",sortable:!1,render:(H,Q)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>O(Q),tooltip:`Edit ${Q.name}`}),S&&e.jsx(Xt,{title:"Delete Sub Unit",description:`Are you sure you want to delete "${Q.name||"this sub unit"}"? This action cannot be undone.`,onConfirm:()=>K(Q),children:e.jsx(Oa,{title:"Delete Sub Unit",children:e.jsx(Ht,{})})})]})}]:[]];return v?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Sub Units of Measurement Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage sub units of measurement for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Sub Units",value:I?.total_sub_units||0,icon:e.jsx(Cy,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Sub Units",value:I?.active_sub_units||0,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Sub Units",value:I?.inactive_sub_units||0,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:I?.new_sub_units_this_month||0,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load sub units of measurement. Please try again."}),e.jsx(ct,{data:D,columns:q,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search sub units...",value:t,onChange:F,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:H=>r(H.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Sub Units",description:"Are you sure you want to export the current sub units of measurement data to Excel? This will include all filtered results.",onConfirm:B,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:E.isPending,children:E.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:W,children:"Create"})]})]}):!1,getRowId:H=>H.id,initialOrderBy:"name",loading:N,totalCount:T,page:A,rowsPerPage:x,isPermission:v,onPageChange:z,emptyMessage:t?"No sub units found matching your search criteria.":"No sub units of measurement found."}),e.jsx(b9e,{selectedSubUnit:n,setSelectedSubUnit:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(h9e,{drawerOpen:c,setDrawerOpen:m})]}):e.jsx(lt,{severity:"warning",children:"You don't have permission to view sub units of measurement."})},v9e=nt({name:ce().required("Name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters"),role_id:Ye().required("Role is required").positive("Please select a valid role"),phone_number:ce().matches(/^[0-9+\-\s()]+$/,"Invalid phone number format"),employee_id:ce().max(50,"Employee Code must not exceed 50 characters"),reporting_to:Ye().required("Reporting to is required"),password:ce().when("isEdit",{is:!1,then:t=>t.required("Password is required").min(6,"Password must be at least 6 characters"),otherwise:t=>t.min(6,"Password must be at least 6 characters")}),is_active:ce().required("Status is required")}),j9e=({selectedUser:t,setSelectedUser:s,drawerOpen:a,setDrawerOpen:r})=>{const[n,i]=g.useState(null),o=!!t,{data:l,isLoading:c}=k3({enabled:a}),m=l?.data||[],d=Pie({onSuccess:()=>{v()}}),p=kie({onSuccess:()=>{v()}}),x={name:t?.name||"",email:t?.email||"",role_id:t?.role_id||"",phone_number:t?.phone_number||"",employee_id:t?.employee_id||"",address:t?.address||"",joining_date:$r(t?.joining_date),reporting_to:t?.reporting_to||"",password:"",is_active:t?.is_active||"Y",isEdit:!!t},j=pt({initialValues:x,validationSchema:v9e,enableReinitialize:!0,onSubmit:async N=>{try{const C=new FormData;C.append("name",N.name),C.append("email",N.email),C.append("role_id",N.role_id.toString()),C.append("phone_number",N.phone_number),C.append("employee_id",N.employee_id),C.append("address",N.address),C.append("joining_date",N.joining_date),C.append("reporting_to",N.reporting_to.toString()),C.append("is_active",N.is_active),N.password&&C.append("password",N.password),n&&C.append("profile_image",n),o&&t?await p.mutateAsync({id:t.id,userData:C}):await d.mutateAsync(C)}catch(C){console.error("Error saving user:",C)}}}),_=N=>{const C=N.target.files?.[0];C&&i(C)},S=N=>{N.preventDefault(),j.handleSubmit()},v=()=>{r(!1),j.resetForm(),s(null),i(null)},y=()=>{i(null)};return e.jsx(it,{open:a,setOpen:v,title:o?`Edit User: ${t?.name}`:"Create New User",children:e.jsxs(b,{component:"form",onSubmit:S,className:"p-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center mb-4 cursor-pointer flex flex-col items-center gap-2 hover:bg-gray-50",onClick:()=>document.getElementById("file-upload")?.click(),children:[e.jsx("input",{id:"file-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:_}),n?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{variant:"body2",children:n.name}),e.jsx(Ws,{size:"small",onClick:y,children:e.jsx(Lr,{fontSize:"small"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{variant:"contained",sx:{mb:1},children:"Upload file"}),e.jsx(f,{variant:"body2",color:"text.secondary",children:"JPG, GIF or PNG. Max size of 10MB"})]})]}),e.jsxs(b,{className:"mb-6 flex flex-col gap-2",children:[e.jsx("p",{className:"!font-semibold !mb-4 !text-gray-900",children:"User Information"}),e.jsxs("div",{className:"flex mb-4 sm:flex-row flex-col sm:gap-4 gap-2",children:[e.jsx(oe,{name:"name",formik:j,label:"Full Name",placeholder:"Enter full name",required:!0}),e.jsx(oe,{name:"employee_id",formik:j,label:"User Code",placeholder:"Enter user code"})]}),e.jsxs("div",{className:"flex mb-4 sm:flex-row flex-col sm:gap-4 gap-2",children:[e.jsx(oe,{name:"email",formik:j,label:"Email",placeholder:"Enter email address",type:"email"}),e.jsx(Se,{name:"role_id",formik:j,label:"Role",fullWidth:!0,required:!0,children:c?e.jsx(Z,{disabled:!0,children:"Loading roles..."}):m.map(N=>e.jsx(Z,{value:N.id,children:N.name},N.id))})]}),e.jsxs("div",{className:"flex mb-4 sm:flex-row flex-col sm:gap-4 gap-2",children:[e.jsx(oe,{name:"phone_number",formik:j,label:"Phone Number",placeholder:"Enter phone number"}),e.jsx(oe,{name:"joining_date",formik:j,label:"Joining Date",type:"date"})]}),e.jsx(Dr,{name:"reporting_to",label:"Reporting Manager",formik:j,required:!0}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(Es,{name:"is_active",formik:j,required:!0})}),e.jsx(oe,{name:"address",formik:j,label:"Address",placeholder:"Enter address",multiline:!0,rows:3}),!o&&e.jsx(oe,{name:"password",formik:j,label:"Password",placeholder:"Enter password",type:"password",required:!0,className:"!mt-4"}),o&&e.jsx(oe,{name:"password",formik:j,label:"New Password (Optional)",placeholder:"Enter new password to change",type:"password",className:"!mt-4"})]}),e.jsxs("div",{className:"flex gap-4 justify-end",children:[e.jsx(G,{variant:"outlined",onClick:v,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:d.isPending||p.isPending,children:d.isPending||p.isPending?"Saving...":o?"Update":"Create"})]})]})})},N9e=nt({file:ps().required("Please select a file to import")}),_9e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:N9e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("users")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"users",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Users",size:"medium",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple users. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},w9e=()=>{const t=Fs(),[s,a]=g.useState(""),[r,n]=g.useState("all"),[i,o]=g.useState(1),[l]=g.useState(10),[c,m]=g.useState(null),[d,p]=g.useState(!1),[x,j]=g.useState(!1),{isCreate:_,isUpdate:S,isDelete:v,isRead:y}=Ze("user"),{data:N,isFetching:C,error:P}=Gn({search:s,page:i,limit:l,isActive:r==="all"?void 0:r==="active"?"Y":r==="inactive"?"N":void 0},{enabled:y}),E=N?.data||[],D={total:N?.meta?.total||0,page:N?.meta?.page||1,limit:N?.meta?.limit||10,totalPages:N?.meta?.totalPages||0},T=[{id:"name",label:"Name & Avatar",render:(H,Q)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",onClick:()=>q(Q),children:[e.jsx(ot,{alt:Q.name,src:Q.profile_image||"mkx",className:lr("!rounded",{"!bg-primary-100 !text-primary-600":Q.is_active==="Y","!bg-gray-200 !text-gray-600":Q.is_active!=="Y"}),children:Q.name.split(" ").map(V=>V[0]).join("")?.slice(0,2)}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:Q.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:Q.role?.name})]})]})},{id:"email",label:"Email Address",render:(H,Q)=>Q.email||e.jsx("span",{className:"italic text-gray-400",children:" No Email "})},{id:"role",label:"Role",render:(H,Q)=>Q.role?.name||e.jsx("span",{className:"italic text-gray-400",children:" No Role "})},{id:"is_active",label:"Status",render:H=>e.jsx(Re,{icon:H==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:H==="Y"?"Active":"Inactive",size:"small",variant:"outlined",className:"!text-start !justify-start",color:H==="Y"?"success":"error"})},{id:"phone_number",label:"Phone",render:(H,Q)=>Q.phone_number||e.jsx("span",{className:"italic text-gray-400",children:" No Phone "})},{id:"address",label:"Address",render:(H,Q)=>Q.address?e.jsx(Oa,{title:Q.address,placement:"top",arrow:!0,children:e.jsx("span",{className:"truncate text-ellipsis max-w-72",children:Q.address})}):e.jsx("span",{className:"italic text-gray-400",children:" No Address "})},{id:"joining_date",label:"Join Date",render:(H,Q)=>Fe(Q.joining_date)||e.jsx("span",{className:"italic text-gray-400",children:" No Date "})},{id:"reporting_to",label:"Reports To",render:(H,Q)=>Q.reporting_manager?.name||e.jsx("span",{className:"italic text-gray-400",children:" No Reports To "})},...S||v?[{id:"action",label:"Actions",sortable:!1,render:(H,Q)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[S&&e.jsx(ss,{onClick:()=>z(Q),tooltip:`Edit ${Q.name}`}),v&&e.jsx(Ht,{onClick:()=>O(Q.id),tooltip:`Delete ${Q.name}`,itemName:Q.name,confirmDelete:!0})]})}]:[]],A=Eie(),I=ls(),F=g.useCallback(()=>{m(null),p(!0)},[]),z=g.useCallback(H=>{m(H),p(!0)},[]),O=g.useCallback(H=>{A.mutate(H)},[A]),K=g.useCallback(H=>{a(H),o(1)},[]),W=H=>o(H+1),B=g.useCallback(async()=>{try{const H={search:s,isActive:r==="all"?void 0:r==="active"?"Y":"N"};await I.mutateAsync({tableName:"users",filters:H})}catch(H){console.error("Error exporting users:",H)}},[I,s,r]),q=g.useCallback(H=>{t(`/masters/users/${H.id}`)},[t]);return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Users Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage users, roles, and access across your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Users",value:N?.stats?.total_users||0,icon:e.jsx(aa,{className:"w-6 h-6"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Active Users",value:N?.stats?.active_users||0,icon:e.jsx(_o,{className:"w-6 h-6"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Inactive Users",value:N?.stats?.inactive_users||0,icon:e.jsx(xle,{className:"w-6 h-6"}),color:"red",isLoading:C}),e.jsx(fe,{title:"New This Month",value:N?.stats?.new_users||0,icon:e.jsx(bA,{className:"w-6 h-6"}),color:"purple",isLoading:C})]}),P&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load users. Please try again."}),e.jsx(ct,{data:E,columns:T,actions:y||_?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx(Jt,{placeholder:"Search Users",value:s,onChange:K,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),y&&e.jsxs(Se,{value:r,onChange:H=>n(H.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),_&&e.jsxs("div",{className:"flex items-center gap-2",children:[y&&e.jsx(Xt,{title:"Export Users",description:"Are you sure you want to export the current users data to Excel? This will include all filtered results.",onConfirm:B,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:I.isPending,children:I.isPending?"Exporting...":"Export"})}),_&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>j(!0),children:"Import"}),e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:F,children:"Create"})]})]}):!1,getRowId:H=>H.id,initialOrderBy:"name",loading:C,totalCount:D.total,page:i-1,rowsPerPage:l,isPermission:y,onPageChange:W,emptyMessage:s?`No users found matching "${s}"`:"No users found in the system"}),e.jsx(j9e,{selectedUser:c,setSelectedUser:m,drawerOpen:d,setDrawerOpen:p}),e.jsx(_9e,{drawerOpen:x,setDrawerOpen:j})]})},S9e=()=>{const{id:t}=Br();if(!t||isNaN(parseInt(t,10)))throw new Error("Invalid user ID");const s=parseInt(t,10),{data:a,isLoading:r,error:n}=Cie(s),i=a?.data;if(r)return e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-2",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-5 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-4 !right-4",children:e.jsx(X,{variant:"circular",width:12,height:12,className:"!bg-green-200"})}),e.jsx(X,{variant:"circular",width:96,height:96,className:"!mx-auto !mb-4 !border-3 !border-white"}),e.jsx(X,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(X,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-3 !text-left",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"50%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"70%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"80%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"35%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"60%",height:14})]})]})]})}),e.jsx("div",{className:"flex-4 !space-y-4",children:[1,2,3].map(p=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-5 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-20 !h-20 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-10 !translate-x-10"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1 !bg-blue-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-blue-200"})}),e.jsx(X,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5",children:[1,2,3,4].map(x=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(X,{variant:"text",width:`${50+x*8}%`,height:12}),e.jsx(X,{variant:"text",width:`${60+x*6}%`,height:16})]},x))})]})]},p))})]});if(n){if(n?.response?.status===404)throw new Error("User not found");return e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsx(lt,{severity:"error",className:"!mb-3",children:"Failed to load user details. Please try again."}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"If this problem persists, please contact your system administrator."})]})})}if(!i)throw new Error("User not found");const o=p=>p.split(" ").map(x=>x[0]).join("")?.slice(0,2),l=p=>p.split("_").map(x=>x.charAt(0).toUpperCase()+x.slice(1).toLowerCase()).join(" "),c=p=>({CREATE:"created",UPDATE:"updated",DELETE:"deleted"})[p]||p.toLowerCase(),m=p=>{if(!p)return"Unknown device";const x=p.toLowerCase();if(x.includes("macintosh")||x.includes("mac os x")){const j=p.match(/Mac OS X (\d+[._]\d+[._]\d+)/),_=j?j[1].replace(/_/g,"."):"";if(x.includes("chrome")){const S=p.match(/Chrome\/(\d+\.\d+\.\d+\.\d+)/),v=S?S[1]:"";return`Mac${_?` (macOS ${_})`:""} - Chrome${v?` ${v}`:""}`}if(x.includes("safari")&&!x.includes("chrome"))return`Mac${_?` (macOS ${_})`:""} - Safari`;if(x.includes("firefox"))return`Mac${_?` (macOS ${_})`:""} - Firefox`}if(x.includes("windows")){if(x.includes("chrome"))return"Windows - Chrome";if(x.includes("firefox"))return"Windows - Firefox";if(x.includes("edge"))return"Windows - Edge"}return x.includes("android")&&x.includes("chrome")?"Android - Chrome":(x.includes("iphone")||x.includes("ipad"))&&x.includes("safari")?"iOS - Safari":x.includes("dart")?"Mobile App (Dart)":p},d=({title:p,children:x,icon:j,className:_=""})=>e.jsxs("div",{className:`!bg-white !rounded-lg !shadow !border !border-gray-200 !p-5 !relative !overflow-hidden ${_}`,children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-3 !mb-3",children:[j&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(j,{className:"!text-primary-500"})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:p})]}),e.jsx("div",{className:"!mt-1",children:x})]})]});return e.jsxs("div",{className:"!grid !grid-cols-1 lg:!grid-cols-12 !gap-5 !items-start",children:[e.jsxs("div",{className:"lg:!col-span-4 flex flex-col gap-5",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-5 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${i.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ot,{src:i.profile_image||void 0,className:lr("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-green-400 !to-green-600 !text-white":i.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":i.is_active==="N"}),children:o(i.name)})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:i.name}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mb-3",children:i.role?.name||"No Role Assigned"}),e.jsx(Re,{icon:i.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:i.is_active==="Y"?"Active":"Inactive",color:i.is_active==="Y"?"success":"error",size:"small",variant:"outlined"}),e.jsxs("div",{className:"!space-y-1 !text-left",children:[e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Employee ID"}),e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:i.employee_id||"N/A"})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Contact"}),e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:i.email})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Phone"}),e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:i.phone_number||"N/A"})]})]})]}),e.jsx(d,{title:"Role & Organization",icon:Gle,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Role"}),e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:i.role?.name||"Not assigned"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Company"}),e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:i.company?.name||"Not assigned"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Depot"}),e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:i.depot?.name||"Not assigned"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Zone"}),e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:i.zone?.name||"Not assigned"})]}),e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Reports To"}),e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:i.reporting_manager?.name||"Not assigned"})]})]})})]}),e.jsxs("div",{className:"lg:!col-span-8 flex flex-col gap-5",children:[e.jsx(d,{title:"Personal Information",icon:X4,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5 !mt-2",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Full Name"}),e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:i.name})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Email Address"}),e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:i.email})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Phone Number"}),e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:i.phone_number||"Not provided"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Employee ID"}),e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:i.employee_id||"Not provided"})]}),e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Address"}),e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:i.address||"Not provided"})]})]})}),e.jsx(d,{title:"Activity & Status",icon:CT,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Current Status"}),e.jsx("div",{className:"!mt-1",children:e.jsx(Re,{icon:i.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:i.is_active==="Y"?"Active":"Inactive",color:i.is_active==="Y"?"success":"error",size:"small",variant:"outlined"})})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Join Date"}),e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:Fe(i.joining_date)||"N/A"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Last Login"}),e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:Fe(i.last_login)||"Never"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Member Since"}),e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:Fe(i.created_at)||"N/A"})]})]})}),i.recent_activities&&e.jsx(d,{title:"Recent Audit Logs",icon:tx,children:i.recent_activities.audit_logs.length>0?e.jsx("div",{className:"!space-y-3",children:i.recent_activities.audit_logs.map(p=>{const x=()=>{switch(p.action){case"CREATE":return e.jsx(os,{className:"!text-sm"});case"UPDATE":return e.jsx(vA,{className:"!text-sm"});case"DELETE":return e.jsx(Ty,{className:"!text-sm"});default:return e.jsx(tx,{className:"!text-sm"})}};return e.jsx(b,{className:"!border !border-gray-200 !shadow-sm !rounded-lg !p-4 !bg-gradient-to-br !from-white !to-gray-50 hover:!shadow-md !transition-shadow !duration-200",children:e.jsxs("div",{className:"!flex !items-start !gap-3",children:[e.jsx("div",{className:`!flex-shrink-0 !w-10 !h-10 !rounded-lg !flex !items-center !justify-center ${p.action==="CREATE"?"!bg-green-100":p.action==="UPDATE"?"!bg-blue-100":"!bg-red-100"}`,children:x()}),e.jsxs("div",{className:"!flex-1 !min-w-0",children:[e.jsx("div",{className:"!flex !items-center !gap-2 !mb-2 !flex-wrap",children:e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:l(p.table_name)})}),e.jsxs(f,{variant:"body2",className:"!text-gray-700 !mb-2",children:[e.jsx("span",{className:"!font-semibold !text-gray-900",children:i.name})," ","has ",c(p.action)," the"," ",e.jsx("span",{className:"!font-bold !text-gray-900",children:l(p.table_name)})]}),e.jsxs("div",{className:"!flex !flex-wrap !items-center !gap-3 !text-xs !text-gray-500",children:[p.changed_at&&e.jsxs("div",{className:"!flex !items-center !gap-1",children:[e.jsx(CT,{className:"!text-xs"}),e.jsx("span",{className:"!font-medium",children:Xc(p.changed_at)})]}),p.ip_address&&e.jsxs("div",{className:"!flex !items-center !gap-1",children:[e.jsx(qle,{className:"!text-xs"}),e.jsx("span",{className:"!font-medium",children:p.ip_address})]}),p.device_info&&e.jsxs("div",{className:"!flex !items-center !gap-1",children:[e.jsx(Ile,{className:"!text-xs"}),e.jsx("span",{className:"!font-medium",children:m(p.device_info)})]})]})]})]})},p.id)})}):e.jsxs(b,{className:"!text-center !py-8",children:[e.jsx(tx,{className:"!text-gray-300 !text-6xl !mb-3 !mx-auto"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No audit logs found"})]})})]})]})},C9e=nt({file:ps().required("Please select a file to import")}),P9e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:C9e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("van_inventory")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"van_inventory",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Van Inventory",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple van inventory records. Download the sample file to see the required format. Make sure User IDs and Product IDs exist in the system."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},k9e=async t=>{const s=new URLSearchParams;t?.page!==void 0&&s.append("page",t.page.toString()),t?.limit!==void 0&&s.append("limit",t.limit.toString()),t?.product_id!==void 0&&s.append("product_id",t.product_id.toString()),t?.include_expired_batches!==void 0&&s.append("include_expired_batches",t.include_expired_batches.toString()),t?.batch_status&&s.append("batch_status",t.batch_status),t?.serial_status&&s.append("serial_status",t.serial_status);const a=s.toString(),r=`/inventory-item-salesperson${a?`?${a}`:""}`;return(await ie.get(r)).data},u$=async(t,s)=>{const a=new URLSearchParams;s?.page!==void 0&&a.append("page",s.page.toString()),s?.limit!==void 0&&a.append("limit",s.limit.toString()),s?.product_id!==void 0&&a.append("product_id",s.product_id.toString()),s?.include_expired_batches!==void 0&&a.append("include_expired_batches",s.include_expired_batches.toString()),s?.batch_status&&a.append("batch_status",s.batch_status),s?.serial_status&&a.append("serial_status",s.serial_status);const r=a.toString(),n=`/inventory-item-salesperson/${t}${r?`?${r}`:""}`;return(await ie.get(n)).data},E9e=async(t,s)=>{const a=new URLSearchParams;s&&a.append("search",s);const r=a.toString(),n=`/inventory-items-dropdown/${t}${r?`?${r}`:""}`;return(await ie.get(n)).data},qm={all:["inventory-items"],lists:()=>[...qm.all,"list"],list:t=>[...qm.lists(),t],details:()=>[...qm.all,"detail"],detail:t=>[...qm.details(),t]},T9e=(t,s)=>st({queryKey:qm.list(t),queryFn:async()=>{const a={page:t?.page,limit:t?.limit,product_id:t?.product_id,include_expired_batches:t?.include_expired_batches,batch_status:t?.batch_status,serial_status:t?.serial_status};return t?.salesperson_id?await u$(t.salesperson_id,a):await k9e(a)},staleTime:300*1e3,...s}),E3=(t,s)=>st({queryKey:qm.detail(t),queryFn:async()=>await u$(t),enabled:!!t,staleTime:300*1e3,...s}),M9e=async t=>{try{return(await ie.get("/vehicles",{params:t})).data}catch(s){throw console.error("Error fetching vehicles:",s),new Error(s.response?.data?.message||"Failed to fetch vehicles")}},D9e=async t=>{try{return(await ie.post("/vehicles",t)).data}catch(s){throw console.error("Error creating vehicle:",s),new Error(s.response?.data?.message||"Failed to create vehicle")}},R9e=async(t,s)=>{try{return(await ie.put(`/vehicles/${t}`,s)).data}catch(a){throw console.error("Error updating vehicle:",a),new Error(a.response?.data?.message||"Failed to update vehicle")}},A9e=async t=>{try{return(await ie.delete(`/vehicles/${t}`)).data}catch(s){throw console.error("Error deleting vehicle:",s),new Error(s.response?.data?.message||"Failed to delete vehicle")}},Hf={all:["vehicles"],lists:()=>[...Hf.all,"list"],list:t=>[...Hf.lists(),t],details:()=>[...Hf.all,"detail"],detail:t=>[...Hf.details(),t]},T3=(t,s)=>st({queryKey:Hf.list(t),queryFn:()=>M9e(t),staleTime:300*1e3,...s}),I9e=()=>Te({mutationFn:D9e,invalidateQueries:["vehicles"],loadingMessage:"Creating vehicle..."}),O9e=()=>Te({mutationFn:({id:t,...s})=>R9e(t,s),invalidateQueries:["vehicles"],loadingMessage:"Updating vehicle..."}),F9e=()=>Te({mutationFn:A9e,invalidateQueries:["vehicles"],loadingMessage:"Deleting vehicle..."}),L9e=nt({user_id:Ye().required("Van Inventory User is required").positive("Van Inventory User ID must be a positive number").integer("Van Inventory User ID must be an integer"),loading_type:ce().oneOf(["L","U"],"Loading Type must be Load (L) or Unload (U)").required("Loading Type is required"),status:ce().oneOf(["D","A","C"],"Status must be Draft (D), Confirmed (A), or Canceled (C)").required("Status is required"),document_date:ce().required("Document date is required"),vehicle_id:Ye().positive("Vehicle ID must be a positive number").integer("Vehicle ID must be an integer").nullable().optional(),location_type:ce().oneOf(["van","warehouse","depot","store"],"Invalid location type").default("van").optional(),location_id:Ye().positive("Location ID must be a positive number").integer("Location ID must be an integer").nullable().optional(),is_active:ce().oneOf(["Y","N"],"Must be Y or N").default("Y").required("Active status is required")}),$9e={remaining_quantity:0,total_quantity:0,batch_number:"",lot_number:"",manufacturing_date:"",expiry_date:"",quantity:null},z9e=({isOpen:t,setIsOpen:s,selectedRowIndex:a,setSelectedRowIndex:r,formik:n,quantity:i=null,inventoryByProductId:o,isUnloadType:l=!1})=>{const[c,m]=g.useState([]),[d,p]=g.useState("");g.useEffect(()=>{if(!t||a===null)return;const P=n.values.van_inventory_items[a];if(!P){m([]);return}const E=P.product_batches||[];if(E.length>0){console.log("ManageBatch - Loading existing batches:",E),m(E);return}if(l&&P.product_id&&o&&o[P.product_id]&&o[P.product_id].batches.length>0){const D=o[P.product_id].batches.map(T=>({...T,quantity:0}));console.log("ManageBatch - Initializing unload batches:",D),m(D);return}m([])},[t,a]);const x=g.useCallback(()=>{s(!1),m([]),r(null),p("")},[s,r]),j=g.useCallback(P=>{m(E=>E.filter((D,T)=>T!==P))},[]),_=g.useCallback((P,E,D)=>{m(T=>{const A=[...T];if(P==="quantity"){const I=Number(i),F=Number.isFinite(I)&&I>0,z=A.reduce((H,Q,V)=>V===E?H:H+(Number(Q.quantity)||0),0),O=F?Math.max(0,I-z):Number.POSITIVE_INFINITY,K=Number(D),W=Number.isFinite(K)?K:0,B=l&&A[E].batch_remaining_quantity?Number(A[E].batch_remaining_quantity):Number.POSITIVE_INFINITY,q=Math.min(Math.max(0,W),O,B);return A[E]={...A[E],quantity:q},A}return A[E]={...A[E],[P]:D},A})},[i,l]),S=g.useCallback(()=>{m(P=>[...P,{...$9e}])},[]),v=g.useCallback(()=>{if(a===null)return;const P=Number(i),E=Number.isFinite(P)&&P>0,D=c.reduce((O,K)=>O+(Number(K.quantity)||0),0);if(E&&D>P){It.error(`Total batch quantity (${D}) cannot exceed item quantity (${P})`);return}const T=c.findIndex(O=>{const K=(O.batch_number||"").trim(),W=(O.manufacturing_date||"").trim(),B=(O.expiry_date||"").trim(),q=Number(O.quantity);return!K||!W||!B||!Number.isFinite(q)||q<=0});if(T!==-1){It.error(`Please fill Batch Number, MFG Date, EXP Date and Quantity (> 0) for row ${T+1}.`);return}const A=new Set,I=c.findIndex(O=>{const K=`${(O.batch_number||"").trim().toLowerCase()}|${(O.lot_number||"").trim().toLowerCase()}`;return A.has(K)?!0:(A.add(K),!1)});if(I!==-1){It.error(`Duplicate batch entry found at row ${I+1}.`);return}const F=c.map(O=>({...O,batch_number:(O.batch_number||"").trim(),lot_number:(O.lot_number||"").trim(),quantity:Number(O.quantity)||0,manufacturing_date:(O.manufacturing_date||"").trim(),expiry_date:(O.expiry_date||"").trim()})),z=[...n.values.van_inventory_items];z[a]={...z[a],quantity:l?D:z[a].quantity,product_batches:F},n.setFieldValue("van_inventory_items",z),x()},[a,c,n,x,i,l]),y=g.useMemo(()=>{if(!d.trim())return c;const P=d.toLowerCase();return c?.filter(E=>E.batch_number?.toLowerCase().includes(P)||E.lot_number?.toLowerCase().includes(P))},[c,d]),N=g.useMemo(()=>{if(a===null)return!1;const P=Number(i),E=Number.isFinite(P)&&P>0,D=c.reduce((I,F)=>I+(Number(F.quantity)||0),0);if(E){if(D!==P)return!1}else if(c.length===0)return!1;if(c.some(I=>{const F=(I.batch_number||"").trim(),z=(I.manufacturing_date||"").trim(),O=(I.expiry_date||"").trim(),K=Number(I.quantity);return!F||!z||!O||!Number.isFinite(K)||K<=0}))return!1;const A=new Set;for(const I of c){const F=`${(I.batch_number||"").trim().toLowerCase()}|${(I.lot_number||"").trim().toLowerCase()}`;if(A.has(F))return!1;A.add(F)}return!0},[a,c,i]),C=g.useMemo(()=>[{id:"batch_number",label:"Batch Number",render:(P,E,D)=>l?e.jsx("span",{className:"text-gray-900",children:E.batch_number}):e.jsx(oe,{value:E.batch_number,onChange:T=>_("batch_number",D,T.target.value),size:"small",className:"!w-52",placeholder:"Enter batch number",fullWidth:!0})},{id:"manufacturing_date",label:"MFG Date",render:(P,E,D)=>l?e.jsx("span",{className:"text-gray-900",children:Fe(E.manufacturing_date)}):e.jsx(oe,{type:"date",value:E.manufacturing_date,onChange:T=>_("manufacturing_date",D,T.target.value),className:"!w-52",size:"small",placeholder:"Enter manufacturing date"})},{id:"expiry_date",label:"EXP Date",render:(P,E,D)=>l?e.jsx("span",{className:"text-gray-900",children:Fe(E.expiry_date)}):e.jsx(oe,{type:"date",value:E.expiry_date,onChange:T=>_("expiry_date",D,T.target.value),className:"!w-52",size:"small",placeholder:"Enter expiry date"})},{id:"available_quantity",label:"Available",isVisible:l,render:(P,E)=>l?e.jsx("span",{className:"text-gray-600",children:E.batch_remaining_quantity||0}):null},{id:"quantity",label:l?"Unload Quantity":"Quantity",render:(P,E,D)=>e.jsx(oe,{type:"number",value:E.quantity,onChange:T=>_("quantity",D,T.target.value),size:"small",className:"!w-32",placeholder:l?"Enter unload quantity":"Enter quantity",fullWidth:!0,inputProps:{min:0,max:l&&E.batch_remaining_quantity||void 0}})},{id:"actions",label:"Actions",render:(P,E,D)=>e.jsx(Ht,{onClick:()=>j(D),tooltip:`Delete ${E.batch_number||"batch"}`,itemName:E.batch_number||"batch",confirmDelete:!0})}],[_,j,l]);return e.jsxs(ol,{open:t,onClose:x,slotProps:{paper:{className:"!min-w-[60%] !max-w-[60%]"}},children:[e.jsxs("div",{className:"flex justify-between items-center !p-2",children:[e.jsxs("p",{className:"!font-semibold text-lg !text-gray-900",children:["Batch Information (",i,")"]}),e.jsx(Ua,{icon:e.jsx(Lr,{}),onClick:x,size:"small","aria-label":"Close dialog"})]}),e.jsx(or,{}),e.jsxs(b,{className:"!p-2 min-h-[40vh]",children:[e.jsxs("div",{className:"flex justify-between items-center pb-2",children:[e.jsx(Jt,{placeholder:"Search Batch",value:d,onChange:P=>p(P)}),!l&&e.jsx(G,{variant:"contained",color:"primary",startIcon:e.jsx(Gr,{size:16}),onClick:S,children:"Add Batch"})]}),e.jsx(ct,{stickyHeader:!0,maxHeight:"50vh",columns:C,data:y,compact:!0,pagination:!1,sortable:!1})]}),e.jsxs(b,{className:"!p-2 !flex !justify-end !border-t gap-2 !border-gray-300",children:[e.jsx(G,{variant:"outlined",color:"info",onClick:x,children:"Cancel"}),e.jsx(G,{variant:"contained",color:"primary",onClick:v,disabled:!N,children:"Update"})]})]})},q9e={serial_number:"",quantity:1,product_id:0},B9e=({isOpen:t,setIsOpen:s,selectedRowIndex:a,setSelectedRowIndex:r,formik:n,quantity:i=null,inventoryByProductId:o,isUnloadType:l=!1})=>{const[c,m]=g.useState([]);g.useEffect(()=>{if(!t||a===null)return;const S=n.values.van_inventory_items[a];if(!S){m([]);return}let v=S.product_serials||[];if(v.length===0&&l&&o&&typeof S.product_id=="number"){const y=o[S.product_id];y&&y.serials.length>0&&(v=y.serials.map(N=>({...N,selected:!1})))}if(l)console.log("ManageSerial - Loading unload serials:",v),m(v);else{const y=v.length,N=Number(i),C=y>0?y:Number.isFinite(N)&&N>0?N:0,P=Array.from({length:C},(E,D)=>{const T=v[D];return{...q9e,...T||{},product_id:Number(S.product_id||0),quantity:1,serial_number:T?.serial_number||""}});console.log("ManageSerial - Loading load serials:",{desiredCount:C,existingSerialsCount:y,quantity:N,normalizedSerials:P}),m(P)}},[t,a]);const d=g.useCallback(()=>{s(!1),m([]),r(null)},[s,r]),p=g.useCallback((S,v,y)=>{m(N=>{const C=[...N];return S==="selected"&&l?C[v].selected=!!y:S!=="selected"&&(C[v]={...C[v],[S]:S==="quantity"?Number(y)||0:y}),C})},[l]),x=g.useMemo(()=>{if(a===null)return!1;if(l)return c.filter(P=>P.selected).length>0;const S=Number(i);if(Number.isFinite(S)&&S>0){if(c.length!==S)return!1}else if(c.length===0)return!1;const y=c.map(C=>(C.serial_number||"").trim());if(y.some(C=>C.length===0))return!1;const N=new Set;for(const C of y){const P=C.toLowerCase();if(N.has(P))return!1;N.add(P)}return!0},[a,c,i,l]),j=g.useCallback(()=>{if(a===null)return;if(l){const E=c.filter(T=>T.selected);if(E.length===0){It.error("Please select at least one serial number.");return}console.log("ManageSerial - Saving unload serials:",{selectedRowIndex:a,selectedCount:E.length,serials:E});const D=[...n.values.van_inventory_items];D[a]={...D[a],quantity:E.length,product_serials:E.map(T=>({...T,serial_number:(T.serial_number||"").trim(),quantity:1,selected:!0}))},n.setFieldValue("van_inventory_items",D),d();return}const S=Number(i);if(Number.isFinite(S)&&S>0&&c.length!==S){It.error(`Serial count (${c.length}) must match item quantity (${S}).`);return}const v=c.map(E=>(E.serial_number||"").trim()),y=v.findIndex(E=>E.length===0);if(y!==-1){It.error(`Serial number is required for row ${y+1}.`);return}const N=new Set,C=v.findIndex(E=>{const D=E.toLowerCase();return N.has(D)?!0:(N.add(D),!1)});if(C!==-1){It.error(`Duplicate serial number found: ${v[C]}`);return}const P=[...n.values.van_inventory_items];P[a]={...P[a],product_serials:c.map(E=>({...E,serial_number:(E.serial_number||"").trim(),quantity:1}))},n.setFieldValue("van_inventory_items",P),d()},[a,c,n,d,i,l]),_=g.useMemo(()=>{const S=[];return l&&S.push({id:"selected",label:"Select",width:80,render:(v,y,N)=>e.jsx("input",{type:"checkbox",checked:y.selected||!1,onChange:C=>p("selected",N,C.target.checked),className:"w-4 h-4"})}),S.push({id:"serial_number",label:"Serial Number",render:(v,y,N)=>l?e.jsx("span",{className:"text-gray-900",children:y.serial_number}):e.jsx(oe,{value:y.serial_number,onChange:C=>p("serial_number",N,C.target.value),size:"small",placeholder:"Enter serial number",fullWidth:!0})}),S.push({id:"quantity",label:"Quantity",render:(v,y)=>e.jsx(oe,{type:"number",value:y.quantity,disabled:!0,size:"small",placeholder:"1",fullWidth:!0,slotProps:{input:{inputProps:{min:1,max:1}}}})}),S},[p,l]);return e.jsxs(ol,{open:t,onClose:d,slotProps:{paper:{className:"!min-w-[60%] !max-w-[60%]"}},children:[e.jsxs("div",{className:"flex justify-between items-center !p-2",children:[e.jsx("p",{className:"!font-semibold text-lg !text-gray-900",children:l?"Select Serials to Unload":`Serial Information (${i})`}),e.jsx(Ua,{icon:e.jsx(Lr,{}),onClick:d,size:"small","aria-label":"Close dialog"})]}),e.jsx(or,{}),e.jsx(b,{className:"!p-2 min-h-[40vh]",children:e.jsx(ct,{stickyHeader:!0,maxHeight:"50vh",columns:_,data:c,compact:!0,pagination:!1,sortable:!1})}),e.jsxs(b,{className:"!p-2 !flex !justify-end !border-t gap-2 !border-gray-300",children:[e.jsx(G,{variant:"outlined",color:"info",onClick:d,children:"Cancel"}),e.jsx(G,{variant:"contained",color:"primary",onClick:j,disabled:!x,children:"Update"})]})]})};let U9e=0;const V9e=()=>`temp-${Date.now()}-${U9e++}`,H9e=({selectedVanInventory:t,setSelectedVanInventory:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=g.useRef(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(null),[x,j]=g.useState(null),_=_7e(),S=w7e(),{data:v}=l$(t?.id||0),{data:y}=Mu({limit:1e3,status:"active"}),{data:N}=T3({limit:1e3,isActive:"Y"}),{data:C}=_i({limit:1e3,isActive:"Y"}),P=pt({initialValues:{user_id:t?.user_id||"",loading_type:t?.loading_type||"L",status:t?.status||"A",document_date:t?.document_date||new Date().toISOString().split("T")[0],vehicle_id:t?.vehicle_id||"",location_type:t?.location_type||"van",location_id:t?.location_id||"",is_active:t?.is_active||"Y",van_inventory_items:[]},validationSchema:L9e,enableReinitialize:!0,onSubmit:async J=>{try{if(J.van_inventory_items.length===0){It.error("Please add at least one item to the van inventory.");return}if(J.van_inventory_items.filter(ae=>ae.batch_lot_id&&ae.quantity!=null&&ae.remaining_quantity!=null&&Number(ae.quantity)>ae.remaining_quantity).length>0)return It.error("Some items have quantities exceeding available stock. Please adjust before submitting."),!1;if(J.van_inventory_items.filter(ae=>!ae.product_id||ae.quantity==null).length>0)return It.error("Please complete all fields (Product, Batch, and Quantity) for all items before submitting."),!1;const ne=J.van_inventory_items.some(ae=>ae.tracking_type?.toLowerCase()==="batch"&&ae.product_batches&&Array.isArray(ae.product_batches)&&ae.product_batches.length>0&&ae.quantity!=null&&Number(ae.quantity)!==ae.product_batches.reduce((xe,ge)=>xe+(ge.quantity??0),0)),he=J.van_inventory_items.some(ae=>ae.tracking_type?.toLowerCase()==="serial"&&ae.product_serials&&Array.isArray(ae.product_serials)&&ae.product_serials.length>0&&ae.quantity!=null&&Number(ae.quantity)!==ae.product_serials.length);if(ne||he)return It.error("Quantity mismatch detected. Please ensure the quantity matches the selected batch quantities or serial numbers."),!1;const de={...n&&t?{id:t.id}:{},user_id:Number(J.user_id),loading_type:J.loading_type,status:J.status,document_date:J.document_date||new Date().toISOString().split("T")[0],vehicle_id:J.vehicle_id?Number(J.vehicle_id):null,location_type:J.location_type,location_id:J.location_id?Number(J.location_id):null,is_active:J.is_active,van_inventory_items:J.van_inventory_items.filter(ae=>ae.product_id&&ae.quantity!=null).map(ae=>{const xe=ae.tracking_type?.toLowerCase()==="batch"&&ae.product_batches&&Array.isArray(ae.product_batches)&&ae.product_batches.length>0?ae.product_batches.filter(ge=>ge?.quantity&&ge?.quantity>0):null;return{product_id:Number(ae.product_id),product_name:ae.product_name||null,product_serials:ae.tracking_type?.toLowerCase()==="serial"&&ae.product_serials&&Array.isArray(ae.product_serials)&&ae.product_serials.length>0?ae.product_serials:null,product_batches:xe,quantity:Number(ae.quantity),notes:ae.notes||null,tracking_type:ae.tracking_type||null,batch_lot_id:ae.batch_lot_id?Number(ae.batch_lot_id):null,...ae.id&&{id:ae.id}}})};n&&t?await S.mutateAsync({id:t.id,...de}):await _.mutateAsync(de),H()}catch(te){console.error("Error saving van inventory:",te),It.error("Failed to save van inventory. Please try again.");return}}}),E=P.values.user_id?Number(P.values.user_id):0,D=P.values.loading_type==="U",{data:T,isLoading:A,refetch:I}=E3(E,{enabled:!!E&&a&&D}),F=g.useMemo(()=>y?.data||[],[y]),z=g.useMemo(()=>N?.data||[],[N]),O=g.useMemo(()=>C?.data||[],[C]),K=g.useMemo(()=>D?T?.data?(T.data.products||[]).map(ee=>({id:ee.product_id,name:ee.product_name,code:ee.product_code,tracking_type:ee.tracking_type,unit_price:0})):[]:F,[D,T,F]),W=g.useMemo(()=>{const J={};return!D||!T?.data||(T.data.products||[]).forEach(ne=>{const he=(ne.batches||[]).map(ae=>({batch_lot_id:ae.batch_lot_id,total_quantity:ae.total_quantity,batch_number:ae.batch_number,lot_number:ae.lot_number,manufacturing_date:ae.manufacturing_date,expiry_date:ae.expiry_date,batch_total_quantity:ae.total_quantity,batch_remaining_quantity:ae.remaining_quantity,remaining_quantity:ae.remaining_quantity,supplier_name:ae.supplier_name,quality_grade:ae.quality_grade,days_until_expiry:ae.days_until_expiry,is_expired:ae.is_expired,is_expiring_soon:ae.is_expiring_soon,quantity:null})),de=(ne.serials||[]).map(ae=>({id:ae.serial_id,product_id:ne.product_id,serial_number:ae.serial_number,quantity:1,selected:!1}));J[ne.product_id]={batches:he,serials:de}}),J},[D,T]),B=v?.data,q=B?.id,H=()=>{r(!1),s(null),P.resetForm(),i.current=null};g.useEffect(()=>{if(!a){i.current=null;return}if(i.current!==q)if(n&&B&&q){console.log("Loading van inventory items:",B);const J=new Map;B.items?.forEach(ee=>{const ne=J.get(ee.product_id),he=F.find(ae=>ae.id===ee.product_id),de=ee.tracking_type||he?.tracking_type||null;if(ne)ne.quantity=(Number(ne.quantity)||0)+(ee.quantity??0),de==="batch"&&ee.batch_lot_id&&(ne.product_batches||(ne.product_batches=[]),ne.product_batches.push({batch_lot_id:ee.batch_lot_id,batch_number:ee.batch_number||"",lot_number:ee.lot_number||"",quantity:ee.quantity??0,remaining_quantity:ee.product_remaining_quantity??0,total_quantity:ee.batch_total_remaining_quantity??0,manufacturing_date:"",expiry_date:ee.expiry_date||""})),de==="serial"&&ee.product_serials&&Array.isArray(ee.product_serials)&&(ne.product_serials||(ne.product_serials=[]),ne.product_serials.push(...ee.product_serials.map(ae=>({id:ae.id,product_id:ee.product_id,serial_number:ae.serial_number,quantity:1,selected:!0}))));else{const ae={product_id:ee.product_id,product_name:ee.product_name||null,quantity:ee.quantity??null,notes:ee.notes||null,batch_lot_id:ee.batch_lot_id??null,batch_number:ee.batch_number||null,lot_number:ee.lot_number||null,remaining_quantity:ee.product_remaining_quantity??null,total_quantity:ee.batch_total_remaining_quantity??null,tracking_type:de,id:ee.id,tempId:`edit-${ee.id}`,product_batches:[],product_serials:[]};de==="batch"&&ee.batch_lot_id&&(ae.product_batches=[{batch_lot_id:ee.batch_lot_id,batch_number:ee.batch_number||"",lot_number:ee.lot_number||"",quantity:ee.quantity??0,remaining_quantity:ee.product_remaining_quantity??0,total_quantity:ee.batch_total_remaining_quantity??0,manufacturing_date:"",expiry_date:ee.expiry_date||""}]),de==="serial"&&ee.product_serials&&Array.isArray(ee.product_serials)&&(ae.product_serials=ee.product_serials.map(xe=>({id:xe.id,product_id:ee.product_id,serial_number:xe.serial_number,quantity:1,selected:!0}))),J.set(ee.product_id,ae)}});const te=Array.from(J.values());console.log("Processed items for form:",te),P.setFieldValue("van_inventory_items",te),i.current=q}else n||i.current!==0&&(P.setFieldValue("van_inventory_items",[]),i.current=0)},[a,n,q,B,F]),g.useEffect(()=>{D&&E>0&&a&&I()},[D,E,a,I]);const Q=g.useCallback(()=>{const J={product_id:null,quantity:null,id:null,batch_lot_id:null,batch_number:null,lot_number:null,remaining_quantity:null,total_quantity:null,product_batches:[],product_serials:[],tempId:V9e()};P.setFieldValue("van_inventory_items",[...P.values.van_inventory_items||[],J])},[P]),V=g.useCallback(J=>{const te=(P.values.van_inventory_items||[]).filter((ee,ne)=>ne!==J);P.setFieldValue("van_inventory_items",te)},[P]),M=g.useCallback((J,te,ee)=>{const ne=P.values.van_inventory_items||[],he=ne[J];if(!he)return;const de=[...ne];if(te==="product_id"){const ae=ee===""||ee===null?null:Number(ee),xe=K.find(me=>me.id===ae);let ge=[],le=[];if(D&&ae&&W[ae]){const me=W[ae];ge=me.batches.map(Ae=>({...Ae,quantity:0})),le=me.serials.map(Ae=>({...Ae,selected:!1}))}de[J]={...he,product_id:ae,product_name:xe?.name||null,batch_lot_id:null,batch_number:null,tracking_type:xe?.tracking_type||null,lot_number:null,remaining_quantity:null,total_quantity:null,quantity:(D&&(xe?.tracking_type==="batch"||xe?.tracking_type==="serial"),null),notes:"",product_batches:ge,product_serials:le}}else te==="quantity"?de[J]={...he,quantity:ee===""||ee===null?null:Number(ee)}:de[J]={...he,[te]:ee===""||ee===null?null:ee};P.setFieldValue("van_inventory_items",de)},[P,K,D,W]),R=g.useCallback(J=>{const te=P.values.van_inventory_items[J];te?(p(J),j(te.quantity),l(!0)):(p(null),j(null),l(!1))},[P.values.van_inventory_items]),$=g.useCallback(J=>{const te=P.values.van_inventory_items[J];te?(p(J),j(te.quantity),m(!0)):(p(null),j(null),m(!1))},[P.values.van_inventory_items]),Y=g.useMemo(()=>[{id:"product_id",label:"Product",width:450,render:(J,te,ee)=>e.jsx(Se,{name:`van_inventory_items[${ee}].product_id`,value:te.product_id??"",onChange:ne=>{const he=ne.target.value;M(ee,"product_id",he===""||he===null?null:Number(he))},fullWidth:!0,size:"small",placeholder:D?A?"Loading inventory...":K.length===0?"No products in van inventory":"Select product from van inventory":"Select product",disableClearable:!1,children:K.map(ne=>e.jsxs(Z,{value:ne.id,children:[ne.name,ne.code&&` [${ne.code}]`]},ne.id))})},{id:"tracking_type",label:"Tracking Type",width:300,render:(J,te,ee)=>e.jsxs(b,{className:"flex justify-between items-center",children:[e.jsx(f,{variant:"body2",className:"!text-gray-700 uppercase",children:J??"None"}),e.jsxs(b,{className:"flex justify-end items-center gap-2",children:[J&&J.toLowerCase()==="batch"||J&&J.toLowerCase()==="serial"?e.jsxs(G,{startIcon:e.jsx(J4,{}),variant:"text",onClick:()=>{if(!te.product_id){It.error("Please select a product first");return}if(P.values.loading_type==="L"&&(!te.quantity||te.quantity===""||te.quantity==="0")){It.error("Please enter quantity before selecting batch/serial");return}J&&J.toLowerCase()==="batch"?R(ee):$(ee)},children:["Select"," ",J&&J.toLowerCase()==="batch"?"Batch":J&&J.toLowerCase()==="serial"?"Serial":"None"]}):null,(te.tracking_type==="serial"&&te.product_serials?.length!==te.quantity||te.tracking_type==="batch"&&te.product_batches?.reduce((ne,he)=>ne+(he.quantity??0),0)!==te.quantity)&&e.jsx(Oa,{placement:"top",color:"error",title:te.tracking_type==="serial"?`Mismatch: ${te.product_serials?.length||0} serial number(s) assigned, but quantity is ${te.quantity}. Please select serials to match the quantity.`:`Mismatch: ${te.product_batches?.reduce((ne,he)=>ne+(he.quantity??0),0)||0} units in batches, but quantity is ${te.quantity}. Please adjust batch quantities to match.`,arrow:!0,children:e.jsx(Xle,{color:"error",fontSize:"small"})})]})]})},{id:"quantity",label:`${P.values.loading_type==="L"?"Load":"Unload"} Quantity`,width:250,render:(J,te,ee)=>{const ne=(te.tracking_type==="batch"||te.tracking_type==="serial")&&D;return e.jsx(oe,{name:`van_inventory_items[${ee}].quantity`,type:"number",value:te.quantity??"",onChange:he=>{const de=he.target.value;M(ee,"quantity",de===""?null:de)},size:"small",fullWidth:!0,placeholder:"Enter Quantity",disabled:ne})}},{id:"action",label:"Actions",width:80,sortable:!1,render:(J,te,ee)=>e.jsx(Ht,{onClick:()=>V(ee),tooltip:"Remove item"})}],[K,P.values.loading_type,M,V,R,$,D,A]);return e.jsxs(it,{open:a,setOpen:H,title:n?"Edit Van Stock":"Load/Unload Stock to Van",size:"large",children:[e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:P.handleSubmit,className:"!space-y-3",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(Dr,{name:"user_id",label:"Van Inventory User",formik:P,required:!0}),e.jsxs(Se,{name:"loading_type",label:"Type",formik:P,required:!0,children:[e.jsx(Z,{value:"L",children:"Load"}),e.jsx(Z,{value:"U",children:"Unload"})]}),e.jsxs(Se,{name:"status",label:"Status",formik:P,required:!0,children:[e.jsx(Z,{value:"D",children:"Draft"}),e.jsx(Z,{value:"A",children:"Confirmed"}),e.jsx(Z,{value:"C",children:"Canceled"})]}),e.jsx(oe,{name:"document_date",label:"Document Date",type:"date",formik:P,required:!0}),e.jsx(Se,{name:"vehicle_id",label:"Vehicle",formik:P,placeholder:"Select Vehicle",children:z.map(J=>e.jsxs(Z,{value:J.id,children:[J.vehicle_number," (",J.type,")"]},J.id))}),e.jsx(Se,{name:"location_id",label:"Location/Depot",formik:P,placeholder:"Select Location/Depot",children:O.map(J=>e.jsxs(Z,{value:J.id,children:[J.name," (",J.code,")"]},J.id))})]}),e.jsx(Es,{name:"is_active",label:"Active Status",formik:P,required:!0}),e.jsx(ct,{data:P.values.van_inventory_items,compact:!0,actions:e.jsxs(b,{className:"!flex !justify-between !items-center",children:[e.jsxs(f,{variant:"body1",className:"!font-semibold",children:["Inventory Items"," "]}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:Q,startIcon:e.jsx(Gr,{size:16}),children:"Add Item"})]}),columns:Y,getRowId:J=>J.tempId||J.id?.toString()||"unknown",pagination:!1,emptyMessage:D?"No items added. For Unload type, only products in user's van inventory are available.":"No items added. Click 'Add Item' to add inventory items"}),e.jsxs(b,{className:"!flex !justify-end !gap-3 !mt-6",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:H,disabled:_.isPending||S.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:_.isPending||S.isPending,children:_.isPending||S.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})}),e.jsx(z9e,{isOpen:o,setIsOpen:l,selectedRowIndex:d,setSelectedRowIndex:p,formik:P,quantity:x,inventoryByProductId:D?W:void 0,isUnloadType:D}),e.jsx(B9e,{isOpen:c,setIsOpen:m,selectedRowIndex:d,setSelectedRowIndex:p,formik:P,quantity:x,inventoryByProductId:D?W:void 0,isUnloadType:D})]})},W9e=({open:t,onClose:s,vanInventory:a})=>{const[r,n]=g.useState(!1),[i,o]=g.useState(!1),{data:l,isLoading:c,error:m}=l$(a?.id||0),d=l?.data||a;g.useEffect(()=>{t&&(n(!1),o(!1))},[t]),g.useEffect(()=>{if(m&&!r&&t){const P=setTimeout(()=>{o(!0)},2e3);return()=>clearTimeout(P)}},[m,r,t]);const p=()=>{n(!0),s()},x=P=>({D:"bg-yellow-100 text-yellow-800",A:"bg-green-100 text-green-800",C:"bg-red-100 text-red-800"})[P]||"bg-gray-100 text-gray-800",j=P=>({D:"Draft",A:"Confirmed",C:"Canceled"})[P]||P,_=P=>{switch(P){case"D":return e.jsx(ks,{className:"w-4 h-4"});case"A":return e.jsx(Da,{className:"w-4 h-4"});case"C":return e.jsx(ya,{className:"w-4 h-4"});default:return e.jsx(ks,{className:"w-4 h-4"})}},S=P=>{switch(P){case"L":return"Load";case"U":return"Unload";default:return P}},v=P=>P==="L"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800",y=()=>{p()};if(c)return e.jsx(it,{open:t,setOpen:p,title:"Van Inventory Details",size:"large",children:e.jsxs("div",{className:"!p-6 !space-y-6",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx(X,{variant:"circular",width:96,height:96,className:"!mx-auto !mb-4"}),e.jsx(X,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-2"}),e.jsx(X,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(X,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto"})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[1,2,3,4].map(P=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(X,{variant:"text",width:"40%",height:20,className:"!mb-4"}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(E=>e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(X,{variant:"text",width:"30%",height:16}),e.jsx(X,{variant:"text",width:"40%",height:16})]},E))})]},P))})]})});if(m||!d&&i)return e.jsx(it,{open:t,setOpen:p,title:"Van Inventory Details",size:"large",children:e.jsxs("div",{className:"!p-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ya,{className:"w-5 h-5"}),e.jsx(f,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load van inventory details"})]}),e.jsx(f,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:y,className:"mt-4",children:"Back to Van Inventory"})]})});if(!d)return e.jsx(it,{open:t,setOpen:p,title:"Van Inventory Details",size:"large",children:e.jsx("div",{className:"!p-6",children:e.jsx(f,{variant:"body2",className:"!text-gray-500 text-center",children:"No van inventory data available"})})});const N=({title:P,children:E,icon:D})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-2 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[D&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(D,{className:"!text-primary-500"})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:P})]}),E]})]}),C=[{id:"product_name",label:"Product",render:(P,E)=>e.jsx(f,{variant:"body2",className:"!font-medium !text-gray-900",children:E.product_name||`Product #${E.product_id}`})},{id:"tracking_type",label:"Tracking Type",render:(P,E)=>{const D=(E.tracking_type||"").toString().toLowerCase(),T=D||(Array.isArray(E.product_serials)?"serial":Array.isArray(E.product_batches)||E.batch_number||E.batch_lot_id?"batch":"");return e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(f,{variant:"body2",className:"!text-gray-700 uppercase",children:T||"None"})})}},{id:"quantity",label:"Quantity",render:(P,E)=>e.jsx(f,{variant:"body2",className:"!text-gray-700",children:E.quantity})}];return e.jsx(it,{open:t,setOpen:p,title:"Van Inventory Details",size:"large",children:e.jsxs("div",{className:"!p-5 mb-10 !space-y-5",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${d.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ot,{className:lr("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":d.loading_type==="L","!bg-gradient-to-br !from-purple-400 !to-purple-600 !text-white":d.loading_type==="U"}),children:e.jsx(Hn,{className:"!w-8 !h-8"})})}),e.jsxs(f,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:["Van Inventory #",d.id]}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mb-3",children:d.user?.name||"Unknown User"}),e.jsxs("div",{className:"!flex !justify-center !gap-2 !mb-4",children:[e.jsx(Re,{icon:_(d.status||"D"),label:j(d.status||"D"),className:`${x(d.status||"D")} font-semibold`,size:"small"}),e.jsx(Re,{label:S(d.loading_type||"L"),className:`${v(d.loading_type||"L")} font-semibold`,size:"small"})]}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Total Items"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:[d.items?.length||0," items"]})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Document Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(d.document_date)||"N/A"})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Last Updated"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(d.last_updated)||"N/A"})]})]})]}),e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(N,{title:"User Information",icon:Za,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"User Name:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d.user?.name||"N/A"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Email:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d.user?.email||"N/A"})]})]})}),e.jsx(N,{title:"Vehicle Information",icon:Hn,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Vehicle Number:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d.vehicle?.vehicle_number||"No Vehicle"})]}),d.vehicle&&e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Vehicle Type:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:d.vehicle.type||"N/A"})]})]})}),e.jsx(N,{title:"Inventory Information",icon:Vn,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Type:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:S(d.loading_type||"L")})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Status:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:j(d.status||"D")})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Document Date:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(d.document_date)||"N/A"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Active Status:"}),e.jsx(f,{variant:"body2",className:`!font-semibold ${d.is_active==="Y"?"!text-green-600":"!text-red-600"}`,children:d.is_active==="Y"?"Active":"Inactive"})]})]})}),e.jsx(N,{title:"Location Information",icon:ta,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Location Type:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:d.location_type||"Van"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Location ID:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d.location_id||"N/A"})]})]})})]}),e.jsx(N,{title:"Inventory Items",icon:$t,children:e.jsx("div",{className:"!space-y-2",children:d.items&&d.items.length>0?e.jsx(ct,{data:d.items,columns:C,getRowId:P=>P.id?.toString()||`${P.product_id}-${P.batch_lot_id||""}-${P.batch_number||""}`,pagination:!1,compact:!0,sortable:!1,emptyMessage:"No items found"}):e.jsx(f,{variant:"body2",className:"!text-gray-500 !text-center !py-4",children:"No items found"})})})]})})},Y9e=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState("all"),[o,l]=g.useState(void 0),[c,m]=g.useState(null),[d,p]=g.useState(!1),[x,j]=g.useState(!1),[_,S]=g.useState(!1),[v,y]=g.useState(1),[N]=g.useState(10),{isCreate:C,isUpdate:P,isDelete:E,isRead:D}=Ze("van-stock"),{data:T,isLoading:A,error:I}=o$({search:t,page:v,limit:N,status:a==="all"?void 0:a==="active"?"active":"inactive",loading_type:n==="all"?void 0:n==="load"?"L":"U",user_id:o},{enabled:D}),F=T?.data||[],z=T?.meta?.total||0,O=(T?.meta?.page||1)-1,K=S7e(),W=ls(),B=T?.stats?.total_records??0,q=T?.stats?.active_records??0,H=T?.stats?.inactive_records??0,Q=T?.stats?.van_inventory??0,V=g.useCallback(()=>{m(null),p(!0)},[]),M=g.useCallback(ge=>{m(ge),j(!0)},[]),R=g.useCallback(async ge=>{try{await K.mutateAsync(ge)}catch(le){console.error("Error deleting van inventory:",le)}},[K]),$=g.useCallback(ge=>{s(ge),y(1)},[]),Y=g.useCallback((ge,le)=>{l(le?le.id:void 0),y(1)},[]),J=g.useCallback(ge=>{r(ge),y(1)},[]),te=g.useCallback(ge=>{i(ge),y(1)},[]),ee=ge=>{y(ge+1)},ne=g.useCallback(async()=>{try{const ge={search:t,status:a==="all"?void 0:a==="active"?"active":"inactive",user_id:o};await W.mutateAsync({tableName:"van_inventory",filters:{...ge,user_id:o}})}catch(ge){console.error("Error exporting van inventory:",ge)}},[W,t,a]),he=ge=>{switch(ge){case"L":return"Load";case"U":return"Unload";default:return ge}},de=ge=>{switch(ge){case"D":return"Draft";case"A":return"Confirmed";case"C":return"Canceled";default:return ge}},ae=ge=>{switch(ge){case"D":return"warning";case"A":return"success";case"C":return"error";default:return"default"}},xe=[{id:"user_id",label:"User",render:(ge,le)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:le.user?.name||"Unknown",className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Hn,{className:"w-5 h-5"})}),e.jsxs(b,{className:"!max-w-xs",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:le.user?.name||"Unknown User"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:le.user?.email||"No email"})]})]})},{id:"loading_type",label:"Type",render:(ge,le)=>e.jsx(Re,{label:he(le.loading_type||"L"),size:"small",className:"w-24",variant:"outlined",color:le.loading_type==="L"?"success":"error",icon:le.loading_type==="L"?e.jsx(fs,{}):e.jsx(Nt,{})})},{id:"status",label:"Status",render:(ge,le)=>e.jsx(Re,{label:de(le.status||"D"),size:"small",className:"w-24",variant:"outlined",color:ae(le.status||"D")})},{id:"items",label:"Items",render:(ge,le)=>e.jsxs(f,{variant:"body2",className:"!text-gray-900",children:[le.items?.length||0," items"]})},{id:"vehicle",label:"Vehicle",render:(ge,le)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:le.vehicle?.vehicle_number||"No Vehicle"})},{id:"document_date",label:"Document Date",render:(ge,le)=>Fe(le.document_date)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},{id:"is_active",label:"Active",render:ge=>e.jsx(Re,{icon:ge==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:ge==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:ge==="Y"?"success":"error"})},{id:"last_updated",label:"Last Updated",render:(ge,le)=>{const me=Fe(le.last_updated);return me?e.jsx("span",{children:me}):e.jsx("span",{className:"italic text-gray-400",children:"No Date"})}},...P||E||D?[{id:"id",label:"Actions",sortable:!1,render:(ge,le)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[D&&e.jsx(e.Fragment,{children:e.jsx(Ua,{onClick:()=>M(le),tooltip:"Manage van inventory items",icon:e.jsx(kn,{fontSize:"small"}),color:"info"})}),E&&e.jsx(Ht,{onClick:()=>R(le.id),tooltip:`Delete Van Inventory #${le.id}`,itemName:`Van Inventory #${le.id}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Van Stock Load/Unload"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage van inventory, stock levels, and load/unload operations for sales personnel"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Records",value:B,icon:e.jsx(Hn,{className:"w-6 h-6"}),color:"blue",isLoading:A}),e.jsx(fe,{title:"Active Records",value:q,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:A}),e.jsx(fe,{title:"Inactive Records",value:H,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:A}),e.jsx(fe,{title:"New This Month",value:Q,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:A})]}),I&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load van inventory. Please try again."}),e.jsx(ct,{data:F,columns:xe,actions:D||C?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[D&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Jt,{placeholder:"Search Van Inventory...",value:t,onChange:$,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:ge=>J(ge.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(Se,{value:n,onChange:ge=>te(ge.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Types"}),e.jsx(Z,{value:"load",children:"Load"}),e.jsx(Z,{value:"unload",children:"Unload"})]}),e.jsx(b,{className:"!w-70",children:e.jsx(Dr,{label:"",placeholder:"Select User",value:o,onChange:Y,fullWidth:!0,size:"small"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[D&&e.jsx(Xt,{title:"Export Van Inventory",description:"Are you sure you want to export the current van inventory data to Excel? This will include all filtered results.",onConfirm:ne,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:W.isPending,children:W.isPending?"Exporting...":"Export"})}),C&&e.jsx(G,{variant:"outlined",startIcon:e.jsx(fs,{}),onClick:()=>S(!0),children:"Import"}),C&&e.jsx(G,{variant:"contained",startIcon:e.jsx(os,{}),onClick:V,children:"Create"})]})]}):!1,getRowId:ge=>ge.id,initialOrderBy:"last_updated",loading:A,totalCount:z,page:O,rowsPerPage:N,onPageChange:ee,isPermission:D,emptyMessage:t?`No van inventory found matching "${t}"`:"No van inventory found in the system"}),e.jsx(H9e,{selectedVanInventory:c,setSelectedVanInventory:m,drawerOpen:d,setDrawerOpen:p}),e.jsx(W9e,{open:x,onClose:()=>{j(!1),m(null)},vanInventory:c}),e.jsx(P9e,{drawerOpen:_,setDrawerOpen:S})]})},G9e=nt({file:ps().required("Please select a file to import")}),K9e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:G9e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("vehicles")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"vehicles",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Vehicles",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple vehicles. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},Q9e=nt({vehicle_number:ce().required("Vehicle number is required").min(1,"Vehicle number must be at least 1 character").max(20,"Vehicle number must be less than 20 characters"),type:ce().required("Vehicle type is required").max(20,"Type must be less than 20 characters"),make:ce().max(50,"Make must be less than 50 characters"),model:ce().max(50,"Model must be less than 50 characters"),capacity:Ye().positive("Capacity must be a positive number"),mileage:Ye().positive("Mileage must be a positive number"),is_active:ce().required("Status is required")}),Z9e=({selectedVehicle:t,setSelectedVehicle:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=I9e(),l=O9e(),c=pt({initialValues:{vehicle_number:t?.vehicle_number||"",type:t?.type||"",make:t?.make||"",model:t?.model||"",year:t?.year?t.year.toString():"",capacity:t?.capacity||"",fuel_type:t?.fuel_type||"",status:t?.status||"available",mileage:t?.mileage||"",is_active:t?.is_active||"Y"},validationSchema:Q9e,enableReinitialize:!0,onSubmit:async m=>{try{const d={vehicle_number:m.vehicle_number,type:m.type,make:m.make,model:m.model,year:m.year?Number(m.year):void 0,capacity:m.capacity?Number(m.capacity):void 0,fuel_type:m.fuel_type,status:m.status,mileage:m.mileage?Number(m.mileage):void 0,is_active:m.is_active};n&&t?await l.mutateAsync({id:t.id,...d}):await o.mutateAsync(d),i()}catch(d){console.error("Error saving vehicle:",d)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Vehicle":"Create Vehicle",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"vehicle_number",label:"Vehicle Number",placeholder:"Enter vehicle number",formik:c,required:!0}),e.jsxs(Se,{name:"type",label:"Vehicle Type",formik:c,required:!0,children:[e.jsx(Z,{value:"Truck",children:"Truck"}),e.jsx(Z,{value:"Trailer",children:"Trailer"}),e.jsx(Z,{value:"Van",children:"Van"}),e.jsx(Z,{value:"Pickup",children:"Pickup"}),e.jsx(Z,{value:"Motorcycle",children:"Motorcycle"}),e.jsx(Z,{value:"Car",children:"Car"}),e.jsx(Z,{value:"Bus",children:"Bus"}),e.jsx(Z,{value:"Other",children:"Other"})]}),e.jsx(oe,{name:"make",label:"Make",placeholder:"Enter vehicle make",formik:c}),e.jsx(oe,{name:"model",label:"Model",placeholder:"Enter vehicle model",formik:c}),e.jsx(oe,{name:"year",label:"Year",placeholder:"Select manufacturing year",type:"year",formik:c}),e.jsx(oe,{name:"capacity",label:"Capacity",placeholder:"Enter capacity (tons)",type:"number",formik:c}),e.jsxs(Se,{name:"fuel_type",label:"Fuel Type",formik:c,children:[e.jsx(Z,{value:"Petrol",children:"Petrol"}),e.jsx(Z,{value:"Diesel",children:"Diesel"}),e.jsx(Z,{value:"Electric",children:"Electric"}),e.jsx(Z,{value:"Hybrid",children:"Hybrid"}),e.jsx(Z,{value:"CNG",children:"CNG"}),e.jsx(Z,{value:"LPG",children:"LPG"}),e.jsx(Z,{value:"Other",children:"Other"})]}),e.jsxs(Se,{name:"status",label:"Status",formik:c,children:[e.jsx(Z,{value:"available",children:"Available"}),e.jsx(Z,{value:"in-use",children:"In Use"}),e.jsx(Z,{value:"maintenance",children:"Maintenance"}),e.jsx(Z,{value:"out-of-service",children:"Out of Service"})]}),e.jsx(oe,{name:"mileage",label:"Mileage (km)",placeholder:"Enter current mileage",type:"number",formik:c}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(Es,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(b,{className:"!flex !justify-end items-center ",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:[o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"," ","Vehicle"]})]})]})})})},X9e=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("vehicle"),{data:y,isFetching:N,error:C}=T3({search:t,page:d,limit:x,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total_count||0,D=(y?.meta?.current_page||1)-1,T=F9e(),A=ls(),I=y?.stats?.total_vehicles??P.length,F=y?.stats?.active_vehicles??P.filter(M=>M.is_active==="Y").length,z=y?.stats?.inactive_vehicles??P.filter(M=>M.is_active==="N").length,O=y?.stats?.new_vehicles??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(R){console.error("Error deleting vehicle:",R)}},[T]),q=g.useCallback(M=>{s(M),p(1)},[]),H=M=>{p(M+1)},Q=g.useCallback(async()=>{try{const M={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"vehicles",filters:M})}catch(M){console.error("Error exporting vehicles:",M)}},[A,t,a]),V=[{id:"vehicle_number",label:"Vehicle Number",render:(M,R)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:R.vehicle_number,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(yT,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:R.vehicle_number}),R.type&&e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block",children:R.type})]})]})},{id:"make",label:"Make & Model",render:(M,R)=>e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900",children:R.make||e.jsx("span",{className:"italic text-gray-400",children:"No Make"})}),R.model&&e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block",children:R.model})]})},{id:"year",label:"Year",render:M=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:M||e.jsx("span",{className:"italic text-gray-400",children:"-"})})},{id:"fuel_type",label:"Fuel Type",render:M=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:M||e.jsx("span",{className:"italic text-gray-400",children:"-"})})},{id:"status",label:"Status",render:M=>e.jsx(Re,{label:M||"available",size:"small",variant:"outlined",className:"!capitalize",color:M==="available"?"success":"default"})},{id:"is_active",label:"Active",render:M=>e.jsx(Re,{icon:M==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,R)=>Fe(R.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(M,R)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(R),tooltip:`Edit ${R.vehicle_number}`}),S&&e.jsx(Ht,{onClick:()=>B(R.id),tooltip:`Delete ${R.vehicle_number}`,itemName:R.vehicle_number,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Vehicle Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage vehicles, fleet tracking, and maintenance schedules"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Vehicles",value:I,icon:e.jsx(yT,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Vehicles",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Vehicles",value:z,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:O,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load vehicles. Please try again."}),e.jsx(ct,{data:P,columns:V,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Vehicles...",value:t,onChange:q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:M=>r(M.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Vehicles",description:"Are you sure you want to export the current vehicles data to Excel? This will include all filtered results.",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"vehicle_number",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:H,emptyMessage:t?`No vehicles found matching "${t}"`:"No vehicles found in the system"}),e.jsx(Z9e,{selectedVehicle:n,setSelectedVehicle:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(K9e,{drawerOpen:c,setDrawerOpen:m})]})},J9e=nt({file:ps().required("Please select a file to import")}),eAe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:J9e,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("warehouses")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"warehouses",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Warehouses",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple warehouses. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},tAe=nt({name:ce().required("Warehouse name is required").min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters"),type:ce().max(50,"Type must be less than 50 characters"),location:ce().max(255,"Location must be less than 255 characters"),is_active:ce().required("Status is required")}),sAe=({selectedWarehouse:t,setSelectedWarehouse:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=U7e(),l=V7e(),c=pt({initialValues:{name:t?.name||"",type:t?.type||"",location:t?.location||"",is_active:t?.is_active||"Y"},validationSchema:tAe,enableReinitialize:!0,onSubmit:async m=>{try{const d={name:m.name,type:m.type,location:m.location,is_active:m.is_active};n&&t?await l.mutateAsync({id:t.id,...d}):await o.mutateAsync(d),i()}catch(d){console.error("Error saving warehouse:",d)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Warehouse":"Create Warehouse",size:"medium",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"name",label:"Warehouse Name",placeholder:"Enter warehouse name",formik:c,required:!0})}),e.jsx(oe,{name:"type",label:"Warehouse Type",placeholder:"Enter warehouse type (e.g., Storage, Distribution)",formik:c}),e.jsxs(Se,{name:"is_active",label:"Status",formik:c,required:!0,children:[e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"location",label:"Location",placeholder:"Enter warehouse location",formik:c,multiline:!0,rows:3})})]}),e.jsxs(b,{className:"!flex !justify-end items-center ",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:[o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"," ","Warehouse"]})]})]})})})},aAe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(1),[x]=g.useState(10),{isCreate:j,isUpdate:_,isDelete:S,isRead:v}=Ze("warehouse"),{data:y,isFetching:N,error:C}=c$({search:t,page:d,limit:x,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:v}),P=y?.data||[],E=y?.meta?.total||0,D=(y?.meta?.page||1)-1,T=H7e(),A=ls(),I=y?.stats?.total_warehouses??P.length,F=y?.stats?.active_warehouses??P.filter(M=>M.is_active==="Y").length,z=y?.stats?.inactive_warehouses??P.filter(M=>M.is_active==="N").length,O=y?.stats?.new_warehouses??0,K=g.useCallback(()=>{i(null),l(!0)},[]),W=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(R){console.error("Error deleting warehouse:",R)}},[T]),q=g.useCallback(M=>{s(M),p(1)},[]),H=M=>{p(M+1)},Q=g.useCallback(async()=>{try{const M={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await A.mutateAsync({tableName:"warehouses",filters:M})}catch(M){console.error("Error exporting warehouses:",M)}},[A,t,a]),V=[{id:"name",label:"Warehouse Name",render:(M,R)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:R.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(ST,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900",children:R.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:R.location})]})]})},{id:"type",label:"Type",render:(M,R)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:R.type||e.jsx("span",{className:"italic text-gray-400",children:"No Type"})})},{id:"is_active",label:"Status",render:M=>e.jsx(Re,{icon:M==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,R)=>Fe(R.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||v?[{id:"action",label:"Actions",sortable:!1,render:(M,R)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(ss,{onClick:()=>W(R),tooltip:`Edit ${R.name}`}),S&&e.jsx(Ht,{onClick:()=>B(R.id),tooltip:`Delete ${R.name}`,itemName:R.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Warehouse Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage warehouses, storage facilities, and distribution centers"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Warehouses",value:I,icon:e.jsx(ST,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Warehouses",value:F,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Inactive Warehouses",value:z,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:N}),e.jsx(fe,{title:"New This Month",value:O,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),C&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load warehouses. Please try again."}),e.jsx(ct,{data:P,columns:V,actions:v||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Warehouses...",value:t,onChange:q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:M=>r(M.target.value),className:"!w-32",children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Xt,{title:"Export Warehouses",description:"Are you sure you want to export the current warehouses data to Excel? This will include all filtered results.",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>m(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"name",loading:N,totalCount:E,page:D,rowsPerPage:x,isPermission:v,onPageChange:H,emptyMessage:t?`No warehouses found matching "${t}"`:"No warehouses found in the system"}),e.jsx(sAe,{selectedWarehouse:n,setSelectedWarehouse:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(eAe,{drawerOpen:c,setDrawerOpen:m})]})},rAe=nt({parent_id:Ye().required("Depot is required").positive("Invalid depot"),code:ce().max(20,"Zone code must be less than 20 characters"),name:ce().required("Zone name is required").min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters"),description:ce().max(255,"Description must be less than 255 characters"),supervisor_id:Ye().positive("Invalid supervisor"),is_active:ce().required("Status is required")}),nAe=({selectedZone:t,setSelectedZone:s,drawerOpen:a,setDrawerOpen:r,depots:n})=>{const i=!!t,{data:o,isLoading:l}=fEe(),c=o?.data||[],m=()=>{s(null),r(!1),x.resetForm()},d=xEe(),p=gEe(),x=pt({initialValues:{parent_id:t?.parent_id?.toString()||"",code:t?.code||"",name:t?.name||"",description:t?.description||"",supervisor_id:t?.supervisor_id?.toString()||"",is_active:t?.is_active||"Y"},validationSchema:rAe,enableReinitialize:!0,onSubmit:async j=>{try{const _={parent_id:Number(j.parent_id),code:j.code||void 0,name:j.name,description:j.description,supervisor_id:j.supervisor_id?Number(j.supervisor_id):void 0,is_active:j.is_active};i&&t?await p.mutateAsync({id:t.id,..._}):await d.mutateAsync(_),m()}catch(_){console.error("Error saving zone:",_)}}});return e.jsx(it,{open:a,setOpen:m,title:i?"Edit Zone":"Create Zone",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(Se,{name:"parent_id",label:"Depot",formik:x,required:!0,children:n.map(j=>e.jsxs(Z,{value:j.id.toString(),children:[j.name," (",j.code,")"]},j.id))}),e.jsx(oe,{name:"name",label:"Zone Name",placeholder:"Enter zone name",formik:x,required:!0}),e.jsx(oe,{name:"code",label:"Zone Code",placeholder:"Enter zone code",formik:x,helperText:"Leave empty to auto-generate zone code"}),e.jsx(Se,{name:"supervisor_id",label:"Zone Supervisor",formik:x,disabled:l,children:c.map(j=>e.jsxs(Z,{value:j.id.toString(),children:[j.name," ",j.employee_id&&`(${j.employee_id})`]},j.id))}),e.jsx(Es,{name:"is_active",formik:x,required:!0,className:"col-span-2"}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter zone description",formik:x,multiline:!0,rows:3})})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,disabled:d.isPending||p.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:d.isPending||p.isPending,children:d.isPending?"Creating...":p.isPending?"Updating...":i?"Update":"Create"})]})]})})})},iAe=nt({file:ps().required("Please select a file to import")}),oAe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:iAe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("zones")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"zones",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Zones",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple zones. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},lAe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState("all"),[o,l]=g.useState(null),[c,m]=g.useState(!1),[d,p]=g.useState(!1),[x,j]=g.useState(1),[_]=g.useState(10),{isCreate:S,isUpdate:v,isDelete:y,isRead:N}=Ze("zone"),{data:C,isFetching:P,error:E}=ul({search:t,page:x,limit:_,isActive:a==="all"?void 0:a==="active"?"Y":"N",parent_id:n==="all"?void 0:Number(n)},{enabled:N}),{data:D}=_i({page:1,limit:100}),T=C?.data||[],A=D?.data||[],I=C?.meta?.total||0,F=(C?.meta?.page||1)-1,z=bEe(),O=ls(),K=C?.stats?.total_zones??T.length,W=C?.stats?.active_zones??T.filter(J=>J.is_active==="Y").length,B=C?.stats?.inactive_zones??T.filter(J=>J.is_active==="N").length,q=C?.stats?.new_zones||0,H=g.useCallback(()=>{l(null),m(!0)},[]),Q=g.useCallback(J=>{l(J),m(!0)},[]),V=g.useCallback(async J=>{try{await z.mutateAsync(J)}catch(te){console.error("Error deleting zone:",te)}},[z]),M=g.useCallback(J=>{s(J),j(1)},[]),R=J=>{j(J+1)},$=g.useCallback(async()=>{try{const J={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N",parent_id:n==="all"?void 0:Number(n)};await O.mutateAsync({tableName:"zones",filters:J})}catch(J){console.error("Error exporting zones:",J)}},[O,t,a,n]),Y=[{id:"name",label:"Zone & Code",render:(J,te)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:te.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(ta,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:te.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:te.code})]})]})},{id:"zone_depots",label:"Depot",render:(J,te)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:te.zone_depots?.name||"No Depot"})},{id:"description",label:"Description",render:J=>J?e.jsx(Oa,{title:J,placement:"top",arrow:!0,children:e.jsx(b,{component:"span",className:"!block !max-w-[200px] !truncate",children:e.jsx(f,{variant:"body2",className:"!text-gray-600",children:J})})}):e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"No description"})},{id:"supervisor_id",label:"Supervisor",render:(J,te)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(Za,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:te.supervisor?.name||e.jsx("span",{className:"text-xs italic text-gray-500",children:"No Supervisor"})})]})},{id:"is_active",label:"Status",render:J=>e.jsx(Re,{icon:J==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:J==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:J==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(J,te)=>Fe(te.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...v||y||N?[{id:"action",label:"Actions",sortable:!1,render:(J,te)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[v&&e.jsx(ss,{onClick:()=>Q(te),tooltip:`Edit ${te.name}`}),y&&e.jsx(Ht,{onClick:()=>V(te.id),tooltip:`Delete ${te.name}`,itemName:te.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Zone Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage zone territories, supervisor assignments, and operational areas"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Zones",value:K,icon:e.jsx(ta,{className:"w-6 h-6"}),color:"blue",isLoading:P}),e.jsx(fe,{title:"Active Zones",value:W,icon:e.jsx(_o,{className:"w-6 h-6"}),color:"green",isLoading:P}),e.jsx(fe,{title:"Inactive Zones",value:B,icon:e.jsx(ya,{className:"w-6 h-6"}),color:"red",isLoading:P}),e.jsx(fe,{title:"New This Month",value:q,icon:e.jsx(Pn,{className:"w-6 h-6"}),color:"purple",isLoading:P})]}),E&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load zones. Please try again."}),e.jsx(ct,{data:T,columns:Y,actions:N||S?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex items-center flex-wrap gap-2",children:N&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Zones",value:t,onChange:M,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(Se,{value:a,onChange:J=>r(J.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(Se,{value:n,onChange:J=>i(J.target.value),className:"!min-w-60",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Depots"}),A.map(J=>e.jsx(Z,{value:J.id.toString(),children:J.name},J.id))]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[N&&e.jsx(Xt,{title:"Export Zones",description:"Are you sure you want to export the current zones data to Excel? This will include all filtered results.",onConfirm:$,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:O.isPending,children:O.isPending?"Exporting...":"Export"})}),S&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>p(!0),children:"Import"}),S&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:H,children:"Create"})]})]}):!1,getRowId:J=>J.id,initialOrderBy:"name",loading:P,totalCount:I,page:F,rowsPerPage:_,isPermission:N,onPageChange:R,emptyMessage:t?`No zones found matching "${t}"`:"No zones found in the system"}),e.jsx(nAe,{selectedZone:o,setSelectedZone:l,drawerOpen:c,setDrawerOpen:m,depots:A}),e.jsx(oAe,{drawerOpen:d,setDrawerOpen:p})]})},cAe=()=>{const t=Fs();return e.jsx("div",{className:"flex items-center justify-center min-h-full bg-gray-50",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"mb-6 flex justify-center",children:e.jsx(Cle,{})}),e.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"The page you're looking for doesn't exist or has been moved."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(G,{variant:"outlined",onClick:()=>t(-1),className:"!capitalize",children:"Go Back"}),e.jsx(G,{variant:"contained",onClick:()=>t("/"),startIcon:e.jsx(hA,{className:"w-4 h-4"}),className:"!capitalize",children:"Go Home"})]})]})})},dAe=nt({name:ce().required("Name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters"),email:ce().required("Email is required").email("Invalid email format"),phone_number:ce().matches(/^[0-9+\-\s()]+$/,"Invalid phone number format"),address:ce().max(500,"Address must not exceed 500 characters"),joining_date:ce(),password:ce().min(6,"Password must be at least 6 characters")}),uAe=()=>{const[t,s]=g.useState(!1),[a,r]=g.useState(null),[n,i]=g.useState(null),{data:o,isLoading:l,error:c,refetch:m}=Q4(),d=Tie({onSuccess:()=>{s(!1),r(null),i(null),m()}}),p={name:o?.name||"",email:o?.email||"",phone_number:o?.phone_number||"",address:o?.address||"",joining_date:$r(o?.joining_date),password:""},x=pt({initialValues:p,validationSchema:dAe,enableReinitialize:!0,onSubmit:async N=>{try{const C=new FormData;C.append("name",N.name),C.append("phone_number",N.phone_number),C.append("address",N.address),C.append("joining_date",N.joining_date),N.password&&C.append("password",N.password),a&&C.append("profile_image",a),await d.mutateAsync(C)}catch(C){console.error("Error updating profile:",C)}}}),j=N=>{const C=N.target.files?.[0];if(C){r(C);const P=URL.createObjectURL(C);i(P)}},_=()=>{t&&(x.resetForm(),r(null),i(null)),s(!t)},S=N=>{N.preventDefault(),x.handleSubmit()},v=()=>{r(null),n&&(URL.revokeObjectURL(n),i(null))};if(l)return e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-gray-600",children:"Loading profile..."})});if(c)return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:["Error loading profile: ",c.message]})});if(!o)return e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-700 px-4 py-3 rounded",children:"No user data available"})});const y=n||o.profile_image||void 0;return e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("div",{className:"bg-white shadow-sm p-6 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-blue-600 mb-1",children:"My Profile"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Manage your personal information and account settings"})]}),e.jsx("div",{className:"flex gap-2",children:t?e.jsxs(e.Fragment,{children:[e.jsx(G,{variant:"outlined",color:"secondary",onClick:_,children:"Cancel"}),e.jsx(G,{variant:"contained",color:"success",onClick:S,disabled:d.isPending,children:d.isPending?"Saving...":"Save Changes"})]}):e.jsx(G,{variant:"contained",color:"primary",onClick:_,children:"Edit Profile"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"bg-white shadow-sm p-6 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(ot,{alt:o.name,src:y,className:"!w-32 !h-32 !rounded-xl !text-4xl !font-bold !bg-blue-500",children:o.name.split(" ").map(N=>N[0]).join("").toUpperCase()}),t&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"file",id:"profile-image-upload",accept:"image/*",onChange:j,className:"hidden"}),e.jsx("button",{type:"button",onClick:()=>document.getElementById("profile-image-upload")?.click(),className:"absolute size-10 flex cursor-pointer items-center justify-center -bottom-2 -right-2 bg-blue-600 text-white hover:bg-blue-700 p-2 rounded-xl shadow-lg transition-colors",children:e.jsx(Yle,{fontSize:"small"})})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:o.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o.email}),e.jsx("span",{className:`mt-3 px-3 py-1 rounded-full text-xs font-medium ${o.is_active==="Y"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:o.is_active==="Y"?"Active":"Inactive"}),a&&e.jsxs("div",{className:"mt-4 w-full text-center",children:[e.jsxs("p",{className:"text-xs text-gray-600",children:["New image: ",a.name]}),e.jsx("button",{type:"button",onClick:v,className:"text-red-600 text-sm hover:underline mt-1",children:"Remove"})]})]})})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white shadow-sm p-6 rounded-lg border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),e.jsxs("form",{onSubmit:S,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(oe,{name:"name",label:"Full Name",formik:x,disabled:!t,fullWidth:!0}),e.jsx(oe,{name:"phone_number",label:"Phone Number",formik:x,disabled:!t,fullWidth:!0}),e.jsx(oe,{name:"role",label:"Role",value:o.role?.name||"No Role Assigned",disabled:!0,fullWidth:!0}),e.jsx(oe,{name:"joining_date",label:"Joining Date",type:"date",formik:x,disabled:!t,fullWidth:!0}),t&&e.jsx(oe,{name:"password",label:"New Password (Optional)",type:"password",formik:x,fullWidth:!0,helperText:"Leave blank to keep current password"})]}),e.jsx("div",{className:"mt-4",children:e.jsx(oe,{name:"address",label:"Address",formik:x,disabled:!t,multiline:!0,rows:3,fullWidth:!0})})]})]})})]})]})},mAe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),t?.status&&s.append("status",t.status),(await ie.get(`/reports/orders-invoices-returns?${s.toString()}`)).data.data},pAe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),t?.status&&s.append("status",t.status);const a=await ie.get(`/reports/orders-invoices-returns/export?${s.toString()}`,{responseType:"blob"}),r=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`Orders_Invoices_Returns_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},hAe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.salesperson_id&&s.append("salesperson_id",t.salesperson_id.toString()),t?.product_category_id&&s.append("product_category_id",t.product_category_id.toString()),t?.sales_target_group_id&&s.append("sales_target_group_id",t.sales_target_group_id.toString()),(await ie.get(`/reports/sales-vs-target?${s.toString()}`)).data.data},fAe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.salesperson_id&&s.append("salesperson_id",t.salesperson_id.toString()),t?.product_category_id&&s.append("product_category_id",t.product_category_id.toString()),t?.sales_target_group_id&&s.append("sales_target_group_id",t.sales_target_group_id.toString());const a=await ie.get(`/reports/sales-vs-target/export?${s.toString()}`,{responseType:"blob"}),r=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`Sales_Vs_Target_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},xAe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.asset_type_id&&s.append("asset_type_id",t.asset_type_id.toString()),t?.asset_status&&s.append("asset_status",t.asset_status),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),(await ie.get(`/reports/asset-movement-status?${s.toString()}`)).data.data},gAe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.asset_type_id&&s.append("asset_type_id",t.asset_type_id.toString()),t?.asset_status&&s.append("asset_status",t.asset_status),t?.customer_id&&s.append("customer_id",t.customer_id.toString());const a=await ie.get(`/reports/asset-movement-status/export?${s.toString()}`,{responseType:"blob"}),r=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`Asset_Movement_Status_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},bAe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.salesperson_id&&s.append("salesperson_id",t.salesperson_id.toString()),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),t?.status&&s.append("status",t.status),(await ie.get(`/reports/visit-frequency-completion?${s.toString()}`)).data.data},yAe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.salesperson_id&&s.append("salesperson_id",t.salesperson_id.toString()),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),t?.status&&s.append("status",t.status);const a=await ie.get(`/reports/visit-frequency-completion/export?${s.toString()}`,{responseType:"blob"}),r=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`Visit_Frequency_Completion_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},vAe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.promotion_id&&s.append("promotion_id",t.promotion_id.toString()),t?.depot_id&&s.append("depot_id",t.depot_id.toString()),t?.zone_id&&s.append("zone_id",t.zone_id.toString()),(await ie.get(`/reports/promo-effectiveness?${s.toString()}`)).data.data},jAe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.promotion_id&&s.append("promotion_id",t.promotion_id.toString()),t?.depot_id&&s.append("depot_id",t.depot_id.toString()),t?.zone_id&&s.append("zone_id",t.zone_id.toString());const a=await ie.get(`/reports/promo-effectiveness/export?${s.toString()}`,{responseType:"blob"}),r=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`Promo_Effectiveness_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},NAe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.zone_id&&s.append("zone_id",t.zone_id.toString()),t?.depot_id&&s.append("depot_id",t.depot_id.toString()),t?.route_id&&s.append("route_id",t.route_id.toString()),(await ie.get(`/reports/region-territory-sales?${s.toString()}`)).data.data},_Ae=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.zone_id&&s.append("zone_id",t.zone_id.toString()),t?.depot_id&&s.append("depot_id",t.depot_id.toString()),t?.route_id&&s.append("route_id",t.route_id.toString());const a=await ie.get(`/reports/region-territory-sales/export?${s.toString()}`,{responseType:"blob"}),r=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`Region_Territory_Sales_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},wAe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.salesperson_id&&s.append("salesperson_id",t.salesperson_id.toString()),t?.depot_id&&s.append("depot_id",t.depot_id.toString()),t?.zone_id&&s.append("zone_id",t.zone_id.toString()),(await ie.get(`/reports/rep-productivity?${s.toString()}`)).data.data},SAe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.salesperson_id&&s.append("salesperson_id",t.salesperson_id.toString()),t?.depot_id&&s.append("depot_id",t.depot_id.toString()),t?.zone_id&&s.append("zone_id",t.zone_id.toString());const a=await ie.get(`/reports/rep-productivity/export?${s.toString()}`,{responseType:"blob"}),r=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`Rep_Productivity_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},CAe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),t?.brand_name&&s.append("brand_name",t.brand_name),(await ie.get(`/reports/competitor-analysis?${s.toString()}`)).data.data},PAe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),t?.brand_name&&s.append("brand_name",t.brand_name);const a=await ie.get(`/reports/competitor-analysis/export?${s.toString()}`,{responseType:"blob"}),r=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`Competitor_Analysis_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},kAe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),t?.invoice_status&&s.append("invoice_status",t.invoice_status),(await ie.get(`/reports/outstanding-collection?${s.toString()}`)).data.data},EAe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),t?.invoice_status&&s.append("invoice_status",t.invoice_status);const a=await ie.get(`/reports/outstanding-collection/export?${s.toString()}`,{responseType:"blob"}),r=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`Outstanding_Collection_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},TAe=async t=>{const s=new URLSearchParams;return t?.page&&s.append("page",t.page.toString()),t?.limit&&s.append("limit",t.limit.toString()),t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.user_id&&s.append("user_id",t.user_id.toString()),t?.action_type&&s.append("action_type",t.action_type),t?.search&&s.append("search",t.search),(await ie.get(`/reports/attendance-history?${s.toString()}`)).data},MAe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.user_id&&s.append("user_id",t.user_id.toString()),t?.action_type&&s.append("action_type",t.action_type),t?.search&&s.append("search",t.search);const a=await ie.get(`/reports/attendance-history/export?${s.toString()}`,{responseType:"blob"}),r=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`Attendance_History_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}catch(s){throw console.error("Error exporting attendance history report to Excel:",s),s}},fr={all:["reports"],lists:()=>[...fr.all,"list"],ordersInvoicesReturns:t=>[...fr.lists(),"orders-invoices-returns",t],salesVsTarget:t=>[...fr.lists(),"sales-vs-target",t],assetMovementStatus:t=>[...fr.lists(),"asset-movement-status",t],visitFrequencyCompletion:t=>[...fr.lists(),"visit-frequency-completion",t],promoEffectiveness:t=>[...fr.lists(),"promo-effectiveness",t],regionTerritorySales:t=>[...fr.lists(),"region-territory-sales",t],repProductivity:t=>[...fr.lists(),"rep-productivity",t],competitorAnalysis:t=>[...fr.lists(),"competitor-analysis",t],outstandingCollection:t=>[...fr.lists(),"outstanding-collection",t],attendanceHistory:t=>[...fr.lists(),"attendance-history",t]},DAe=(t,s)=>st({queryKey:fr.ordersInvoicesReturns(t),queryFn:()=>mAe(t),staleTime:120*1e3,...s}),RAe=(t,s)=>st({queryKey:fr.salesVsTarget(t),queryFn:()=>hAe(t),staleTime:300*1e3,...s}),AAe=(t,s)=>st({queryKey:fr.assetMovementStatus(t),queryFn:()=>xAe(t),staleTime:180*1e3,...s}),IAe=(t,s)=>st({queryKey:fr.visitFrequencyCompletion(t),queryFn:()=>bAe(t),staleTime:180*1e3,...s}),OAe=(t,s)=>st({queryKey:fr.promoEffectiveness(t),queryFn:()=>vAe(t),staleTime:300*1e3,...s}),FAe=(t,s)=>st({queryKey:fr.regionTerritorySales(t),queryFn:()=>NAe(t),staleTime:180*1e3,...s}),LAe=(t,s)=>st({queryKey:fr.repProductivity(t),queryFn:()=>wAe(t),staleTime:180*1e3,...s}),$Ae=(t,s)=>st({queryKey:fr.competitorAnalysis(t),queryFn:()=>CAe(t),staleTime:180*1e3,...s}),zAe=(t,s)=>st({queryKey:fr.outstandingCollection(t),queryFn:()=>kAe(t),staleTime:180*1e3,...s}),qAe=(t,s)=>st({queryKey:fr.attendanceHistory(t),queryFn:()=>TAe(t),staleTime:180*1e3,...s}),BAe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState(""),[n,i]=g.useState(void 0),[o,l]=g.useState("all"),{isRead:c}=Ze("report"),{data:m,isLoading:d}=AAe({start_date:t,end_date:a,asset_type_id:n,asset_status:o==="all"?void 0:o},{enabled:c}),{data:p}=f1(),x=p?.data||[],j=m?.summary||{total_assets:0,total_movements:0,total_customer_assets:0,total_warranty_claims:0},_=g.useCallback(async()=>{try{await gAe({start_date:t,end_date:a,asset_type_id:n,asset_status:o==="all"?void 0:o})}catch(C){console.error("Error exporting report to Excel:",C)}},[t,a,n,o]),S=[{id:"serial_number",label:"Serial Number",render:C=>e.jsx("span",{className:"font-semibold text-sm",children:C})},{id:"asset_type",label:"Asset Type",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"category",label:"Category",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"brand",label:"Brand",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"current_location",label:"Location",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"current_status",label:"Status",render:C=>{const P=String(C||"").toLowerCase();let E="default";return P==="active"||P==="working"?E="success":P==="maintenance"||P==="pending"?E="warning":P==="retired"||P==="decommissioned"?E="error":(P==="available"||P==="in_stock")&&(E="info"),e.jsx(Re,{label:C,size:"small",className:"!capitalize",color:E,variant:"outlined"})}},{id:"assigned_to",label:"Assigned To",render:C=>e.jsx("span",{className:"text-sm",children:C})}],v=[{id:"asset_serial",label:"Asset Serial",render:C=>e.jsx("span",{className:"font-semibold text-sm",children:C})},{id:"asset_type",label:"Asset Type",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"from_location",label:"From",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"to_location",label:"To",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"movement_type",label:"Type",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"movement_date",label:"Movement Date",render:C=>Fe(C)||"N/A"},{id:"performed_by",label:"Performed By",render:(C,P)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(aa,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:P.performed_by||"N/A"}),e.jsx("span",{className:"text-xs text-gray-500",children:P.performed_by_email||"N/A"})]})]})},{id:"notes",label:"Notes",render:C=>e.jsx("span",{className:"text-sm max-w-xs truncate",title:C,children:C})}],y=[{id:"customer_name",label:"Customer",render:(C,P)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:P.customer_name}),e.jsx("span",{className:"text-xs text-gray-500",children:P.customer_code})]})},{id:"asset_type",label:"Asset Type",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"serial_number",label:"Serial Number",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"capacity",label:"Capacity",numeric:!0,render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"install_date",label:"Install Date",render:C=>Fe(C)||"N/A"},{id:"status",label:"Status",render:C=>{const P=String(C||"").toLowerCase();let E="default";return P==="working"||P==="active"?E="success":P==="maintenance"||P==="down"?E="warning":(P==="broken"||P==="damaged")&&(E="error"),e.jsx(Re,{label:C,size:"small",className:"!capitalize",color:E})}},{id:"technician_name",label:"Technician",render:C=>e.jsx("span",{className:"text-sm",children:C})}],N=[{id:"asset_serial",label:"Asset Serial",render:C=>e.jsx("span",{className:"font-semibold text-sm",children:C})},{id:"asset_type",label:"Asset Type",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"claim_date",label:"Claim Date",render:C=>Fe(C)||"N/A"},{id:"issue_description",label:"Issue",render:C=>e.jsx("span",{className:"text-sm max-w-xs truncate",title:C,children:C})},{id:"claim_status",label:"Status",render:C=>{const P=String(C||"").toLowerCase();let E="default";return P==="resolved"||P==="completed"?E="success":P==="pending"||P==="in_progress"?E="warning":P==="rejected"||P==="denied"?E="error":P==="under_review"&&(E="info"),e.jsx(Re,{label:C,size:"small",className:"!capitalize",color:E})}},{id:"resolved_date",label:"Resolved Date",render:C=>Fe(C)||"N/A"}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(b,{className:"!mb-3 !flex !justify-between !items-center",children:[e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Asset Movement/Status Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track asset movements, status, and warranty claims"})]}),c&&e.jsx(Xt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:_,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),c&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,setValue:s}),e.jsx(oe,{type:"date",label:"End Date",value:a,setValue:r}),e.jsxs(Se,{label:"Asset Type",value:n?.toString()||"all",onChange:C=>i(C.target.value&&C.target.value!=="all"?parseInt(C.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Asset Types"}),x.map(C=>e.jsx(Z,{value:C.id.toString(),children:C.name},C.id))]}),e.jsxs(Se,{label:"Status",value:o,onChange:C=>l(C.target.value),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"working",children:"Working"}),e.jsx(Z,{value:"maintenance",children:"Maintenance"}),e.jsx(Z,{value:"retired",children:"Retired"}),e.jsx(Z,{value:"available",children:"Available"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Total Assets",value:j.total_assets,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Movements",value:j.total_movements,icon:e.jsx(NT,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"Customer Assets",value:j.total_customer_assets,icon:e.jsx(aa,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Warranty Claims",value:j.total_warranty_claims,icon:e.jsx(ks,{className:"w-6 h-6"}),color:"orange"})]}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx($t,{className:"w-5 h-5"})," Asset Master (",m?.data?.assets?.length||0,")"]}),columns:S,data:m?.data?.assets||[],loading:d,pagination:!1,isPermission:c}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(NT,{className:"w-5 h-5"})," Asset Movements (",m?.data?.movements?.length||0,")"]}),columns:v,data:m?.data?.movements||[],loading:d,pagination:!1,isPermission:c}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(aa,{className:"w-5 h-5"})," Customer Assets (",m?.data?.customer_assets?.length||0,")"]}),columns:y,data:m?.data?.customer_assets||[],loading:d,pagination:!1,isPermission:c}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(ks,{className:"w-5 h-5"})," Warranty Claims (",m?.data?.warranty_claims?.length||0,")"]}),columns:N,data:m?.data?.warranty_claims||[],loading:d,pagination:!1,isPermission:c})]})},UAe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState(""),[n,i]=g.useState(void 0),[o,l]=g.useState("all"),[c,m]=g.useState(1),[d]=g.useState(10),{isRead:p}=Ze("report"),{data:x,isLoading:j}=qAe({page:c,limit:d,start_date:t,end_date:a,user_id:n,action_type:o==="all"?void 0:o},{enabled:p}),_=x?.stats||{total_history_records:0,punch_in_count:0,punch_out_count:0,history_this_month:0},S=x?.meta||{current_page:1,total_count:0},v=E=>{m(E+1)},y=g.useCallback(async()=>{try{await MAe({start_date:t,end_date:a,user_id:n,action_type:o==="all"?void 0:o})}catch(E){console.error("Error exporting report to Excel:",E)}},[t,a,n,o]),N=g.useCallback((E,D)=>{i(D?.id||void 0),m(1)},[]),C=g.useCallback(()=>{m(1)},[]),P=[{id:"attendance.user.name",label:"Employee",sortable:!0,render:(E,D)=>{const T=D.attendance?.user;return T?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ot,{className:"w-10 h-10 !rounded !bg-blue-100",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:T.name?T.name.split(" ").map(A=>A[0]).join("").toUpperCase().slice(0,2):"U"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:T.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:[T.employee_id||`ID: ${T.id}`,"  ",T.email]})]})]}):e.jsx("span",{className:"text-sm text-gray-500",children:"N/A"})}},{id:"action_type",label:"Action",render:E=>{const D=String(E||"").toLowerCase();let T="default";return D==="punch_in"?T="success":D==="punch_out"&&(T="info"),e.jsx(Re,{label:E?.replace(/_/g," "),size:"small",className:"!capitalize !text-xs",color:T,variant:"outlined"})}},{id:"action_time",label:"Date & Time",render:E=>e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-sm font-medium",children:E?Xc(E):"N/A"})})},{id:"address",label:"Location",render:E=>e.jsx("div",{className:"flex items-center gap-1 max-w-md",children:E?e.jsxs(e.Fragment,{children:[e.jsx(ta,{className:"w-3 h-3 text-gray-500 flex-shrink-0"}),e.jsx("span",{className:"text-xs text-gray-600 truncate",children:E})]}):e.jsx("span",{className:"text-xs text-gray-400",children:"N/A"})})}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(b,{className:"!flex !justify-between !items-center",children:[e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Attendance History Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"View and analyze employee attendance history records"})]}),e.jsx(Xt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:y,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,setValue:E=>{s(E),C()}}),e.jsx(oe,{type:"date",label:"End Date",value:a,setValue:E=>{r(E),C()}}),e.jsx(b,{className:"!w-full",children:e.jsx(Dr,{label:"Employee",placeholder:"Select Employee",value:n,onChange:N,fullWidth:!0,size:"small"})}),e.jsxs(Se,{label:"Action Type",value:o,onChange:E=>{l(E.target.value),C()},disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Actions"}),e.jsx(Z,{value:"punch_in",children:"Punch In"}),e.jsx(Z,{value:"punch_out",children:"Punch Out"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Total History Records",value:_.total_history_records,icon:e.jsx(aa,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Punch In",value:_.punch_in_count,icon:e.jsx(As,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Punch Out",value:_.punch_out_count,icon:e.jsx(As,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"This Month",value:_.history_this_month,icon:e.jsx(As,{className:"w-6 h-6"}),color:"orange"})]}),e.jsx(ct,{columns:P,data:x?.data||[],loading:j,totalCount:S.total_count||0,page:S.current_page-1||0,rowsPerPage:d,onPageChange:v,emptyMessage:"No attendance history records found"})]})},VAe=()=>{const[t,s]=g.useState(1),[a]=g.useState(10),[r,n]=g.useState(""),[i,o]=g.useState(""),[l,c]=g.useState("all"),[m,d]=g.useState("all"),{isRead:p}=Ze("report"),{data:x,isLoading:j}=DF({page:t,limit:a,start_date:r===""?void 0:r,end_date:i===""?void 0:i,action:l==="all"?void 0:l,user_id:m==="all"?void 0:parseInt(m)},{enabled:p}),_=ls(),S=x?.logs||[],v=x?.statistics||{total_logs:0,by_action:{CREATE:0,UPDATE:0,DELETE:0}},y=x?.pagination||{total:0},N=g.useCallback(async()=>{try{const E={start_date:r===""?void 0:r,end_date:i===""?void 0:i,action:l==="all"?void 0:l,user_id:m==="all"?void 0:parseInt(m)};await _.mutateAsync({tableName:"audit_logs",filters:E})}catch(E){console.error("Error exporting audit logs:",E)}},[_,r,i,l,m]),C=()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[1,2,3,4].map(E=>e.jsx("div",{className:"bg-white shadow-sm p-6 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{variant:"text",width:"60%",height:20,className:"!mb-2"}),e.jsx(X,{variant:"text",width:"40%",height:32})]}),e.jsx(X,{variant:"circular",width:48,height:48,className:"!bg-gray-100"})]})},E))}),P=[{id:"user_name",label:"User",render:(E,D)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-lg text-blue-600",children:D.user_name?.charAt(0).toUpperCase()||"U"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:D.user_name}),e.jsx("div",{className:"text-xs text-gray-500",children:D.user_email})]})]})},{id:"changed_at",label:"Date & Time",render:E=>e.jsx("span",{className:"text-sm text-gray-700",children:Xc(E)})},{id:"table_name",label:"Table",render:E=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(uoe,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium",children:E})]})},{id:"record_id",label:"Record ID",numeric:!0,render:E=>e.jsx("span",{className:"text-sm",children:E})},{id:"action",label:"Action",render:E=>{const D=A=>{switch(A){case"CREATE":return e.jsx(ks,{className:"w-4 h-4 text-green-600"});case"UPDATE":return e.jsx(wT,{className:"w-4 h-4 text-blue-600"});case"DELETE":return e.jsx(Ey,{className:"w-4 h-4 text-red-600"});default:return e.jsx(Vn,{className:"w-4 h-4 text-gray-600"})}},T=A=>{switch(A){case"CREATE":return"success";case"UPDATE":return"info";case"DELETE":return"error";default:return"default"}};return e.jsxs("div",{className:"flex items-center gap-2",children:[D(E),e.jsx(Re,{label:E,size:"small",color:T(E),variant:"outlined"})]})}},{id:"ip_address",label:"IP Address",render:E=>e.jsx(Oa,{title:E||"N/A",placement:"top",arrow:!0,children:e.jsx("span",{className:"text-sm text-gray-600 font-mono",children:E||"N/A"})})},{id:"device_info",label:"Device",render:E=>e.jsx(Oa,{title:E||"N/A",placement:"top",arrow:!0,children:e.jsx(f,{variant:"body2",className:"text-gray-600",children:E?E.substring(0,30)+"...":"N/A"})})}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"!font-bold text-xl !text-gray-900",children:"Audit Logs"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track and monitor all system activities and changes"})]}),p&&e.jsx(Xt,{title:"Export Audit Logs",description:"Are you sure you want to export the current audit logs data to Excel? This will include all filtered results.",onConfirm:N,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Co,{}),disabled:_.isPending,children:_.isPending?"Exporting...":"Export"})})]}),p&&e.jsx("div",{className:"bg-white shadow-sm p-4 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsx("div",{children:e.jsx(oe,{type:"date",value:r,setValue:n,placeholder:"Start Date",label:"Start Date"})}),e.jsx("div",{children:e.jsx(oe,{type:"date",value:i,setValue:o,placeholder:"End Date",label:"End Date"})}),e.jsxs(Se,{label:"Action",value:l,onChange:E=>c(E.target.value),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Actions"}),e.jsx(Z,{value:"CREATE",children:"Create"}),e.jsx(Z,{value:"UPDATE",children:"Update"}),e.jsx(Z,{value:"DELETE",children:"Delete"})]}),e.jsx(Dr,{label:"User",value:m||"all",setValue:d})]})}),j?e.jsx(C,{}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Total Logs",value:v.total_logs,icon:e.jsx(Z4,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Created",value:v.by_action.CREATE,icon:e.jsx(ks,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Updated",value:v.by_action.UPDATE,icon:e.jsx(wT,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Deleted",value:v.by_action.DELETE,icon:e.jsx(Ey,{className:"w-6 h-6"}),color:"red"})]}),e.jsx(ct,{columns:P,data:S,loading:j,pagination:!0,page:t-1,rowsPerPage:a,totalCount:y.total,onPageChange:E=>s(E+1),isPermission:p})]})},HAe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState(""),[n,i]=g.useState(void 0),[o,l]=g.useState(""),{formatCurrency:c}=Ga(),{isRead:m}=Ze("report"),{data:d,isLoading:p}=$Ae({start_date:t,end_date:a,customer_id:n,brand_name:o},{enabled:m}),x=d?.summary||{total_observations:0,unique_brands:0,unique_customers:0,avg_visibility_score:0},j=d?.data?.activities||[],_=d?.data?.brands_summary||[],S=g.useCallback(async()=>{try{await PAe({start_date:t,end_date:a,customer_id:n,brand_name:o})}catch(N){console.error("Error exporting report to Excel:",N)}},[t,a,n,o]),v=[{id:"brand_name",label:"Brand",render:N=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Uc,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"font-semibold text-sm",children:N})]})},{id:"product_name",label:"Product",render:N=>e.jsx("span",{className:"text-sm",children:N})},{id:"customer_name",label:"Customer",render:(N,C)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:C.customer_name}),e.jsx("span",{className:"text-xs text-gray-500",children:C.customer_address})]})},{id:"observed_price",label:"Price",numeric:!0,render:N=>c(Number(N))},{id:"visibility_score",label:"Visibility",numeric:!0,render:N=>e.jsx(Re,{label:N,size:"small",color:Number(N)>=7?"success":Number(N)>=5?"warning":"error",variant:"outlined"})},{id:"promotion_details",label:"Promotion",render:N=>e.jsx("span",{className:"text-sm",children:N})},{id:"visit_status",label:"Visit Status",render:N=>{const C=String(N||"").toLowerCase();let P="default";return C==="completed"?P="success":C==="planned"?P="info":C==="cancelled"&&(P="error"),e.jsx(Re,{label:N,size:"small",className:"!capitalize",color:P,variant:"outlined"})}}],y=[{id:"brand_name",label:"Brand",render:N=>e.jsx("span",{className:"font-semibold text-sm",children:N})},{id:"observation_count",label:"Observations",numeric:!0,render:N=>e.jsx("span",{className:"font-semibold text-sm",children:N})},{id:"avg_price",label:"Avg Price",numeric:!0,render:N=>c(Number(N))},{id:"avg_visibility",label:"Avg Visibility",numeric:!0,render:N=>e.jsx(Re,{label:Number(N).toFixed(1),size:"small",color:Number(N)>=7?"success":Number(N)>=5?"warning":"error",variant:"outlined"})}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(b,{className:"!mb-3 !flex !justify-between !items-center",children:[e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Competitor Analysis Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track competitor activities and market insights"})]}),e.jsx(Xt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:S,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,setValue:s}),e.jsx(oe,{type:"date",label:"End Date",value:a,setValue:r}),e.jsx(Yn,{name:"customer_id",label:"Customer",value:n?.toString()||"all",setValue:i}),e.jsx(oe,{label:"Brand Name",value:o,setValue:l,placeholder:"Search by brand"})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Total Observations",value:x.total_observations,icon:e.jsx(goe,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Unique Brands",value:x.unique_brands,icon:e.jsx(Uc,{className:"w-6 h-6"}),color:"orange"}),e.jsx(fe,{title:"Customers",value:x.unique_customers,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"Avg Visibility",value:x.avg_visibility_score.toFixed(1),icon:e.jsx(vs,{className:"w-6 h-6"}),color:"green"})]}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(Uc,{className:"w-5 h-5"}),"Competitor Activities (",j.length,")"]}),columns:v,data:j,loading:p,pagination:!1,isPermission:m}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(vs,{className:"w-5 h-5"})," Brands Summary (",_.length,")"]}),columns:y,data:_,loading:p,pagination:!1,isPermission:m})]})},WAe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState(""),[n,i]=g.useState(void 0),[o,l]=g.useState("all"),{formatCurrency:c}=Ga(),{isRead:m}=Ze("report"),{data:d,isLoading:p}=DAe({start_date:t,end_date:a,customer_id:n,status:o==="all"?void 0:o?.toUpperCase()},{enabled:m}),x=d?.summary||{total_orders:0,total_invoices:0,total_returns:0,total_order_value:0,total_invoice_value:0},j=d?.status_breakdown||{pending_orders:0,completed_orders:0,pending_invoices:0,paid_invoices:0,pending_returns:0,completed_returns:0},_=d?.statistics||{average_order_value:0,average_invoice_value:0,conversion_rate:0,return_rate:0},S=g.useCallback(async()=>{try{await pAe({start_date:t,end_date:a,customer_id:n,status:o==="all"?void 0:o?.toUpperCase()})}catch(C){console.error("Error exporting report to Excel:",C)}},[t,a,n,o]),v=[{id:"order_number",label:"Order Info",render:(C,P)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(ks,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:P.order_number}),e.jsxs("span",{className:"text-xs text-gray-500",children:[P.order_type||"Regular Order","  0 Items"]})]})]})},{id:"customer_name",label:"Customer",render:(C,P)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:P.customer_name}),e.jsx("span",{className:"text-xs text-gray-500",children:P.customer_code})]})},{id:"salesperson",label:"Salesperson",render:(C,P)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-semibold text-blue-600",children:P.salesperson_name?.split(" ").map(E=>E[0]).join("").toUpperCase().slice(0,2)||"U"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:P.salesperson_name||"N/A"}),e.jsx("span",{className:"text-xs text-gray-500",children:P.salesperson_email||"N/A"})]})]})},{id:"order_date",label:"Order Date",render:C=>Fe(C)||"N/A"},{id:"status",label:"Status",render:C=>{const P=String(C||"").toLowerCase();let E="default";return P==="delivered"||P==="completed"||P==="approved"?E="success":P==="processing"||P==="in_progress"||P==="ready"?E="warning":P==="shipped"||P==="dispatched"||P==="in_transit"||P==="confirmed"?E="info":P==="pending"||P==="draft"||P==="pending_approval"?E="default":(P==="cancelled"||P==="failed"||P==="rejected")&&(E="error"),e.jsx(Re,{icon:P==="pending"?e.jsx(yN,{fontSize:"small"}):e.jsx(mt,{fontSize:"small"}),label:C,size:"small",className:"!capitalize",color:E,variant:"outlined"})}},{id:"total_amount",label:"Amount",numeric:!0,render:C=>c(Number(C))}],y=[{id:"invoice_number",label:"Invoice Number",render:(C,P)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(ks,{className:"w-5 h-5 text-green-600"})}),e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"font-semibold text-sm",children:P.invoice_number})})]})},{id:"customer_name",label:"Customer",render:(C,P)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:P.customer_name}),e.jsx("span",{className:"text-xs text-gray-500",children:P.customer_code})]})},{id:"invoice_date",label:"Invoice Date",render:C=>Fe(C)||"N/A"},{id:"due_date",label:"Due Date",render:C=>Fe(C)||"N/A"},{id:"status",label:"Status",render:C=>{const P=String(C||"").toLowerCase();let E="default";return P==="paid"||P==="paid_in_full"||P==="completed"?E="success":P==="pending"||P==="unpaid"||P==="overdue"?E="error":P==="sent"||P==="draft"||P==="partial"||P==="processing"?E="warning":(P==="cancelled"||P==="void")&&(E="default"),e.jsx(Re,{icon:P==="pending"?e.jsx(yN,{fontSize:"small"}):e.jsx(mt,{fontSize:"small"}),label:C,size:"small",variant:"outlined",className:"!capitalize",color:E})}},{id:"total_amount",label:"Amount",numeric:!0,render:C=>c(Number(C))},{id:"balance_due",label:"Balance Due",numeric:!0,render:C=>e.jsx("span",{className:`font-semibold ${Number(C)>0?"text-red-600":"text-green-600"}`,children:c(Number(C))})}],N=[{id:"customer_name",label:"Customer",render:(C,P)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:P.customer_name}),e.jsx("span",{className:"text-xs text-gray-500",children:P.customer_code})]})},{id:"product_name",label:"Product"},{id:"return_date",label:"Return Date",render:C=>Fe(C)||"N/A"},{id:"reason",label:"Reason",render:C=>e.jsx("span",{className:"text-sm max-w-xs truncate",title:C,children:C})},{id:"status",label:"Status",render:C=>{const P=String(C||"").toLowerCase();let E="default";return P==="completed"||P==="processed"?E="success":P==="pending"||P==="approval"||P==="awaiting_approval"?E="warning":P==="rejected"||P==="failed"||P==="cancelled"?E="error":(P==="in_progress"||P==="processing")&&(E="info"),e.jsx(Re,{icon:P==="pending"?e.jsx(yN,{fontSize:"small"}):e.jsx(mt,{fontSize:"small"}),label:C,size:"small",variant:"outlined",className:"!capitalize",color:E})}}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(b,{className:"!mb-3 !flex !justify-between !items-center flex-wrap gap-4",children:[e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Orders, Invoices & Returns Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Comprehensive report on orders, invoices, and returns"})]}),m&&e.jsx(Xt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel? This will include all filtered results with Orders, Invoices, and Returns data.",onConfirm:S,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),m&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,setValue:s}),e.jsx(oe,{type:"date",label:"End Date",value:a,setValue:r}),e.jsx(Yn,{name:"customer_id",label:"Customer",value:n,setValue:C=>i(C?parseInt(C.toString()):void 0),onChange:(C,P)=>i(P?P.id:void 0),fullWidth:!1}),e.jsx("div",{children:e.jsxs(Se,{label:"Status",value:o,fullWidth:!0,onChange:C=>l(C.target.value),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"completed",children:"Completed"}),e.jsx(Z,{value:"delivered",children:"Delivered"}),e.jsx(Z,{value:"paid",children:"Paid"}),e.jsx(Z,{value:"unpaid",children:"Unpaid"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.total_orders})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(mu,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Invoices"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.total_invoices})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(ks,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Returns"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.total_returns})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Hl,{className:"w-6 h-6 text-red-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c(x.total_order_value+x.total_invoice_value)})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(vs,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:[e.jsx("h2",{className:"!font-bold text-lg !text-gray-900 !mb-4",children:"Key Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg Order Value"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:c(_.average_order_value)})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg Invoice Value"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:c(_.average_invoice_value)})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Conversion Rate"}),e.jsxs("p",{className:"text-xl font-bold text-green-600",children:[_.conversion_rate.toFixed(2),"%"]})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Return Rate"}),e.jsxs("p",{className:"text-xl font-bold text-red-600",children:[_.return_rate.toFixed(2),"%"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:[e.jsx("h2",{className:"!font-bold text-lg !text-gray-900 !mb-4",children:"Status Breakdown"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Orders"}),e.jsx("p",{className:"text-lg font-bold text-orange-600",children:j.pending_orders})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Completed Orders"}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:j.completed_orders})]}),e.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Invoices"}),e.jsx("p",{className:"text-lg font-bold text-yellow-600",children:j.pending_invoices})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Paid Invoices"}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:j.paid_invoices})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Returns"}),e.jsx("p",{className:"text-lg font-bold text-red-600",children:j.pending_returns})]}),e.jsxs("div",{className:"text-center p-3 bg-emerald-50 rounded-lg border border-emerald-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Completed Returns"}),e.jsx("p",{className:"text-lg font-bold text-emerald-600",children:j.completed_returns})]})]})]}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(mu,{className:"w-5 h-5"})," Orders (",d?.data?.orders?.length||0,")"]}),data:d?.data?.orders||[],columns:v,loading:p,pagination:!1,isPermission:m}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(ks,{className:"w-5 h-5"})," Invoices (",d?.data?.invoices?.length||0,")"]}),data:d?.data?.invoices||[],columns:y,loading:p,pagination:!1,isPermission:m}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(Hl,{className:"w-5 h-5"})," Returns (",d?.data?.returns?.length||0,")"]}),data:d?.data?.returns||[],columns:N,loading:p,pagination:!1,isPermission:m})]})},YAe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState(""),[n,i]=g.useState(void 0),[o,l]=g.useState("all"),{formatCurrency:c}=Ga(),{isRead:m}=Ze("report"),{data:d,isLoading:p}=zAe({start_date:t,end_date:a,customer_id:n,invoice_status:o!=="all"?o:void 0},{enabled:m}),{data:x}=$p(),j=x?.data||[],_=d?.summary||{total_outstanding_amount:0,total_outstanding_invoices:0,total_customers_with_outstanding:0,total_collections:0,total_collection_count:0,avg_days_overdue:0},S=d?.data?.outstanding_invoices||[],v=d?.data?.customer_summary||[],y=d?.data?.collections||[],N=g.useCallback(async()=>{try{await EAe({start_date:t,end_date:a,customer_id:n,invoice_status:o!=="all"?o:void 0})}catch(D){console.error("Error exporting report to Excel:",D)}},[t,a,n,o]),C=[{id:"invoice_number",label:"Invoice#",render:D=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(Zr,{className:"w-5 h-5 text-red-600"})}),e.jsx("span",{className:"font-semibold text-sm",children:D})]})},{id:"customer_name",label:"Customer",render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"salesperson_name",label:"Salesperson",render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"invoice_date",label:"Invoice Date",render:D=>Fe(D)||"N/A"},{id:"due_date",label:"Due Date",render:D=>Fe(D)||"N/A"},{id:"balance_due",label:"Balance Due",numeric:!0,render:D=>c(Number(D))},{id:"days_overdue",label:"Days Overdue",numeric:!0,render:D=>{const T=Number(D);let A="default";return T===0?A="success":T<=30?A="warning":A="error",e.jsx(Re,{label:T,size:"small",color:A,variant:"outlined"})}},{id:"status",label:"Status",render:D=>{const T=String(D||"").toLowerCase();let A="default";return T==="paid"||T==="completed"?A="success":T==="overdue"||T==="pending"?A="error":A="warning",e.jsx(Re,{label:D,size:"small",className:"!capitalize",color:A,variant:"outlined"})}}],P=[{id:"customer_name",label:"Customer",render:D=>e.jsx("span",{className:"font-semibold text-sm",children:D})},{id:"invoice_count",label:"Invoice Count",numeric:!0,render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"total_outstanding",label:"Total Outstanding",numeric:!0,render:D=>c(Number(D))},{id:"avg_days_overdue",label:"Avg Days Overdue",numeric:!0,render:D=>{const T=Number(D);let A="default";return T===0?A="success":T<=30?A="warning":A="error",e.jsx(Re,{label:T.toFixed(0),size:"small",color:A,variant:"outlined"})}}],E=[{id:"payment_number",label:"Payment#",render:D=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Da,{className:"w-5 h-5 text-green-600"})}),e.jsx("span",{className:"font-semibold text-sm",children:D})]})},{id:"payment_date",label:"Date",render:D=>Fe(D)||"N/A"},{id:"customer_name",label:"Customer",render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"amount",label:"Amount",numeric:!0,render:D=>c(Number(D))},{id:"method",label:"Method",render:D=>e.jsx("span",{className:"text-sm capitalize",children:D})},{id:"collected_by",label:"Collected By",render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"reference_number",label:"Reference",render:D=>e.jsx("span",{className:"text-sm",children:D})}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(b,{className:"!mb-3 !flex !justify-between !items-center",children:[e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Outstanding & Collection Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track outstanding invoices and payment collections"})]}),e.jsx(Xt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:N,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-"}),variant:"outlined",children:"Export to Excel"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,setValue:s}),e.jsx(oe,{type:"date",label:"End Date",value:a,setValue:r}),e.jsxs(Se,{label:"Customer",value:n?.toString()||"all",onChange:D=>i(D.target.value&&D.target.value!=="all"?parseInt(D.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Customers"}),j.map(D=>e.jsx(Z,{value:D.id.toString(),children:D.name},D.id))]}),e.jsxs(Se,{label:"Invoice Status",value:o,onChange:D=>l(D.target.value),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"draft",children:"Draft"}),e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"overdue",children:"Overdue"}),e.jsx(Z,{value:"paid",children:"Paid"}),e.jsx(Z,{value:"completed",children:"Completed"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:[e.jsx(fe,{title:"Outstanding Amount",value:c(_.total_outstanding_amount),icon:e.jsx(Uc,{className:"w-6 h-6"}),color:"red"}),e.jsx(fe,{title:"Outstanding Invoices",value:_.total_outstanding_invoices,icon:e.jsx(Zr,{className:"w-6 h-6"}),color:"orange"}),e.jsx(fe,{title:"Customers with Outstanding",value:_.total_customers_with_outstanding,icon:e.jsx(aa,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"Total Collections",value:c(_.total_collections),icon:e.jsx(vs,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Collection Count",value:_.total_collection_count,icon:e.jsx(ks,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Avg Days Overdue",value:_.avg_days_overdue.toFixed(1),icon:e.jsx(As,{className:"w-6 h-6"}),color:"yellow"})]}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(Zr,{className:"w-5 h-5"}),"Outstanding Invoices (",S.length,")"]}),columns:C,data:S,loading:p,pagination:!1,isPermission:m}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(aa,{className:"w-5 h-5"}),"Customer Summary (",v.length,")"]}),columns:P,data:v,loading:p,pagination:!1,isPermission:m}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(Da,{className:"w-5 h-5"}),"Collections (",y.length,")"]}),columns:E,data:y,loading:p,pagination:!1,isPermission:m})]})},GAe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState(""),[n,i]=g.useState(void 0),[o,l]=g.useState(void 0),{isRead:c}=Ze("report"),{data:m,isLoading:d}=OAe({start_date:t,end_date:a,depot_id:n,zone_id:o},{enabled:c}),{data:p}=_i({limit:1e3,isActive:"Y"}),{data:x}=ul({limit:1e3,isActive:"Y"}),j=p?.data||[],_=x?.data||[],S=m?.summary||{total_promotions:0,active_promotions:0,upcoming_promotions:0,expired_promotions:0},v=g.useCallback(async()=>{try{await jAe({start_date:t,end_date:a,depot_id:n,zone_id:o})}catch(P){console.error("Error exporting report to Excel:",P)}},[t,a,n,o]),y=[{id:"name",label:"Promotion",render:(P,E)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(br,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:E.name}),e.jsx("span",{className:"text-xs text-gray-500",children:E.code})]})]})},{id:"type",label:"Type",render:P=>e.jsx("span",{className:"text-sm",children:P})},{id:"start_date",label:"Start Date",render:P=>Fe(P)||"N/A"},{id:"end_date",label:"End Date",render:P=>Fe(P)||"N/A"},{id:"depot_name",label:"Depot",render:P=>e.jsx("span",{className:"text-sm",children:P})},{id:"zone_name",label:"Zone",render:P=>e.jsx("span",{className:"text-sm",children:P})},{id:"total_products",label:"Products",numeric:!0,render:P=>e.jsx("span",{className:"font-semibold text-sm",children:P})},{id:"total_parameters",label:"Parameters",numeric:!0,render:P=>e.jsx("span",{className:"font-semibold text-sm",children:P})},{id:"status",label:"Status",render:P=>{const E=String(P||"").toLowerCase();let D="default";return E==="active"||E==="running"?D="success":E==="upcoming"?D="info":E==="expired"&&(D="error"),e.jsx(Re,{label:P,size:"small",className:"!capitalize",color:D,variant:"outlined"})}}],N=[{id:"promotion_name",label:"Promotion",render:(P,E)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:E.promotion_name}),e.jsx("span",{className:"text-xs text-gray-500",children:E.promotion_code})]})},{id:"product_name",label:"Product",render:(P,E)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx($t,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:E.product_name}),e.jsx("span",{className:"text-xs text-gray-500",children:E.product_code})]})]})}],C=[{id:"promotion_name",label:"Promotion",render:(P,E)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:E.promotion_name}),e.jsx("span",{className:"text-xs text-gray-500",children:E.promotion_code})]})},{id:"param_name",label:"Parameter Name",render:P=>e.jsx("span",{className:"text-sm",children:P})},{id:"param_type",label:"Type",render:P=>e.jsx("span",{className:"text-sm",children:P})},{id:"param_value",label:"Value",render:P=>e.jsx("span",{className:"text-sm max-w-xs truncate",title:P,children:P})},{id:"param_category",label:"Category",render:P=>e.jsx("span",{className:"text-sm",children:P})}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(b,{className:"!mb-3 !flex !justify-between !items-center",children:[e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Promo Effectiveness Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track promotion performance and effectiveness"})]}),e.jsx(Xt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:v,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,setValue:s}),e.jsx(oe,{type:"date",label:"End Date",value:a,setValue:r}),e.jsxs(Se,{label:"Depot",value:n?.toString()||"all",onChange:P=>i(P.target.value&&P.target.value!=="all"?parseInt(P.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Depots"}),j.map(P=>e.jsx(Z,{value:P.id.toString(),children:P.name},P.id))]}),e.jsxs(Se,{label:"Zone",value:o?.toString()||"all",onChange:P=>l(P.target.value&&P.target.value!=="all"?parseInt(P.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Zones"}),_.map(P=>e.jsx(Z,{value:P.id.toString(),children:P.name},P.id))]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Total Promotions",value:S.total_promotions,icon:e.jsx(br,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"Active",value:S.active_promotions,icon:e.jsx(Da,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Upcoming",value:S.upcoming_promotions,icon:e.jsx(As,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Expired",value:S.expired_promotions,icon:e.jsx(ya,{className:"w-6 h-6"}),color:"red"})]}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(br,{className:"w-5 h-5"}),"Promotions (",m?.data?.promotions?.length||0,")"]}),columns:y,data:m?.data?.promotions||[],loading:d,pagination:!1}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx($t,{className:"w-5 h-5"})," Promotion Products (",m?.data?.products?.length||0,")"]}),columns:N,data:m?.data?.products||[],loading:d,pagination:!1}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(Cg,{className:"w-5 h-5"})," Promotion Parameters (",m?.data?.parameters?.length||0,")"]}),columns:C,data:m?.data?.parameters||[],loading:d,pagination:!1})]})},KAe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState(""),[n,i]=g.useState(void 0),[o,l]=g.useState(void 0),{formatCurrency:c}=Ga(),{isRead:m}=Ze("report"),{data:d,isLoading:p}=FAe({start_date:t,end_date:a,depot_id:n,zone_id:o},{enabled:m}),{data:x}=_i({limit:1e3,isActive:"Y"}),{data:j}=ul({limit:1e3,isActive:"Y"}),_=x?.data||[],S=j?.data||[],v=d?.summary||{total_zones:0,total_customers:0,total_orders:0,total_collection:0},y=g.useCallback(async()=>{try{await _Ae({start_date:t,end_date:a,depot_id:n,zone_id:o})}catch(E){console.error("Error exporting report to Excel:",E)}},[t,a,n,o]),N=d?.data?.zones?.flatMap(E=>E.routes||[])||[],C=[{id:"name",label:"Territory",render:(E,D)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(ta,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:D.name}),e.jsx("span",{className:"text-xs text-gray-500",children:D.code})]})]})},{id:"depot_name",label:"Depot",render:E=>e.jsx("span",{className:"text-sm",children:E})},{id:"customer_count",label:"Customers",numeric:!0,render:E=>e.jsx("span",{className:"font-semibold text-sm",children:E})},{id:"route_count",label:"Routes",numeric:!0,render:E=>e.jsx("span",{className:"font-semibold text-sm",children:E})},{id:"total_orders",label:"Orders",numeric:!0,render:E=>e.jsx("span",{className:"font-semibold text-sm",children:E})},{id:"total_order_value",label:"Order Value",numeric:!0,render:E=>c(Number(E))},{id:"total_invoices",label:"Invoices",numeric:!0,render:E=>e.jsx("span",{className:"font-semibold text-sm",children:E})},{id:"total_invoice_value",label:"Invoice Value",numeric:!0,render:E=>c(Number(E))},{id:"total_collection",label:"Collection",numeric:!0,render:E=>e.jsx("span",{className:"font-semibold text-green-600",children:c(Number(E))})}],P=[{id:"route_name",label:"Route",render:(E,D)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:D.route_name}),e.jsx("span",{className:"text-xs text-gray-500",children:D.route_code})]})},{id:"salesperson_name",label:"Sales Person",render:E=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(aa,{className:"w-5 h-5 text-purple-600"})}),e.jsx("span",{className:"font-semibold text-sm",children:E})]})},{id:"customers",label:"Customers",numeric:!0,render:E=>e.jsx("span",{className:"font-semibold text-sm",children:E})},{id:"orders",label:"Orders",numeric:!0,render:E=>e.jsx("span",{className:"font-semibold text-sm",children:E})},{id:"order_value",label:"Order Value",numeric:!0,render:E=>c(Number(E))},{id:"invoices",label:"Invoices",numeric:!0,render:E=>e.jsx("span",{className:"font-semibold text-sm",children:E})},{id:"invoice_value",label:"Invoice Value",numeric:!0,render:E=>c(Number(E))}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(b,{className:"!mb-3 !flex !justify-between !items-center",children:[e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Region/Territory Sales Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track sales performance across territories and routes"})]}),e.jsx(Xt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:y,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,setValue:s}),e.jsx(oe,{type:"date",label:"End Date",value:a,setValue:r}),e.jsxs(Se,{label:"Depot",value:n?.toString()||"all",onChange:E=>i(E.target.value&&E.target.value!=="all"?parseInt(E.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Depots"}),_.map(E=>e.jsx(Z,{value:E.id.toString(),children:E.name},E.id))]}),e.jsxs(Se,{label:"Territory",value:o?.toString()||"all",onChange:E=>l(E.target.value&&E.target.value!=="all"?parseInt(E.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Territories"}),S.map(E=>e.jsx(Z,{value:E.id.toString(),children:E.name},E.id))]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-5",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Territories"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:v.total_zones})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ta,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Customers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:v.total_customers})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(aa,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:v.total_orders})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(mu,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Collection"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:c(v.total_collection)})]}),e.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center",children:e.jsx(vs,{className:"w-6 h-6 text-emerald-600"})})]})})]}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(ta,{className:"w-5 h-5"}),"Territory Performance (",d?.data?.zones?.length||0,")"]}),columns:C,data:d?.data?.zones||[],loading:p,pagination:!1,isPermission:m}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(vs,{className:"w-5 h-5"})," Route Performance (",N.length,")"]}),columns:P,data:N,loading:p,pagination:!1,isPermission:m})]})},QAe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState(""),[n,i]=g.useState(void 0),[o,l]=g.useState(void 0),{formatCurrency:c}=Ga(),{isRead:m}=Ze("report"),{data:d,isLoading:p}=LAe({start_date:t,end_date:a,salesperson_id:n,depot_id:o},{enabled:m}),{data:x}=_i({limit:1e3,isActive:"Y"}),j=x?.data||[],_=d?.summary||{total_reps:0,total_visits:0,completed_tasks:0,total_orders:0,total_order_value:0,total_collection:0};console.log(n);const S=d?.data?.reps||[],v=g.useCallback(async()=>{try{await SAe({start_date:t,end_date:a,salesperson_id:n,depot_id:o})}catch(N){console.error("Error exporting report to Excel:",N)}},[t,a,n,o]),y=[{id:"name",label:"Rep Name",render:(N,C)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Za,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:C.name}),e.jsx("span",{className:"text-xs text-gray-500",children:C.email})]})]})},{id:"employee_id",label:"Employee ID",render:N=>e.jsx("span",{className:"text-sm",children:N})},{id:"depot_name",label:"Depot",render:N=>e.jsx("span",{className:"text-sm",children:N})},{id:"total_visits",label:"Visits",numeric:!0,render:N=>e.jsx("span",{className:"font-semibold text-sm",children:N})},{id:"total_orders",label:"Orders",numeric:!0,render:N=>e.jsx("span",{className:"font-semibold text-sm",children:N})},{id:"order_value",label:"Order Value",numeric:!0,render:N=>c(Number(N))},{id:"total_collection",label:"Collection",numeric:!0,render:N=>e.jsx("span",{className:"font-semibold text-green-600",children:c(Number(N))})},{id:"days_active",label:"Days Active",numeric:!0,render:N=>e.jsx("span",{className:"text-sm",children:N})},{id:"productivity_score",label:"Score",numeric:!0,render:N=>e.jsx(Re,{label:N,size:"small",className:"!font-semibold",color:N>50?"success":N>25?"warning":"error"})}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(b,{className:"!mb-3 !flex !justify-between !items-center",children:[e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Rep Productivity Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track individual sales rep performance and productivity"})]}),e.jsx(Xt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:v,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,onChange:N=>s(N.target.value)}),e.jsx(oe,{type:"date",label:"End Date",value:a,onChange:N=>r(N.target.value)}),e.jsx(Dr,{label:"Sales Rep",value:n?.toString()||"all",setValue:i}),e.jsxs(Se,{label:"Depot",value:o?.toString()||"all",onChange:N=>l(N.target.value&&N.target.value!=="all"?parseInt(N.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Depots"}),j.map(N=>e.jsx(Z,{value:N.id.toString(),children:N.name},N.id))]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-5",children:[e.jsx(fe,{title:"Total Reps",value:_.total_reps,icon:e.jsx(Za,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Total Visits",value:_.total_visits,icon:e.jsx(ws,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"Total Orders",value:_.total_orders,icon:e.jsx(mu,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Completed Tasks",value:_.completed_tasks,icon:e.jsx(Da,{className:"w-6 h-6"}),color:"emerald"}),e.jsx(fe,{title:"Order Value",value:c(_.total_order_value),icon:e.jsx(_A,{className:"w-6 h-6"}),color:"orange"}),e.jsx(fe,{title:"Total Collection",value:c(_.total_collection),icon:e.jsx(cp,{className:"w-6 h-6"}),color:"teal"})]}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(Za,{className:"w-5 h-5"}),"Rep Performance (",S.length,")"]}),columns:y,data:S,loading:p,pagination:!1,isPermission:m})]})},ZAe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState(""),[n,i]=g.useState(void 0),[o,l]=g.useState(void 0),{formatCurrency:c}=Ga(),{isRead:m}=Ze("report"),{data:d,isLoading:p}=RAe({start_date:t,end_date:a,salesperson_id:n,product_category_id:o},{enabled:m}),{data:x}=zp(),{data:j}=Gn(),_=x?.data||[],S=j?.data||[],v=d?.summary||{total_salespeople:0,total_categories:0,total_target_amount:0,total_actual_sales:0},y=d?.performance||[],N=d?.category_performance||[],C=g.useCallback(async()=>{try{await fAe({start_date:t,end_date:a,salesperson_id:n,product_category_id:o})}catch(D){console.error("Error exporting report to Excel:",D)}},[t,a,n,o]),P=[{id:"salesperson_name",label:"Sales Person",render:(D,T)=>{const A=T.salesperson_name||"N/A",I=A.split(" ").map(F=>F[0]).join("").toUpperCase().slice(0,2)||"U";return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-semibold text-blue-600",children:I})}),e.jsx("span",{className:"font-semibold text-sm",children:A})]})}},{id:"category_name",label:"Category",render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"target_amount",label:"Target",numeric:!0,render:D=>c(Number(D))},{id:"actual_sales",label:"Actual Sales",numeric:!0,render:D=>c(Number(D))},{id:"achievement_percentage",label:"Achievement %",numeric:!0,render:D=>{const T=Number(D);let A="default";return T>=100?A="success":T>=75?A="info":T>=50?A="warning":A="error",e.jsx(Re,{label:`${T.toFixed(1)}%`,size:"small",variant:"outlined",color:A})}},{id:"gap",label:"Gap",numeric:!0,render:D=>e.jsxs("span",{className:`font-semibold ${Number(D)>=0?"text-green-600":"text-red-600"}`,children:[Number(D)>=0?"+":""," ",c(Number(D))]})}],E=[{id:"category_name",label:"Category",render:D=>e.jsx("span",{className:"font-semibold text-sm",children:D})},{id:"target_amount",label:"Target",numeric:!0,render:D=>c(Number(D))},{id:"actual_sales",label:"Actual Sales",numeric:!0,render:D=>c(Number(D))},{id:"achievement_percentage",label:"Achievement %",numeric:!0,render:D=>{const T=Number(D);let A="default";return T>=100?A="success":T>=75?A="info":T>=50?A="warning":A="error",e.jsx(Re,{label:`${T.toFixed(1)}%`,size:"small",variant:"outlined",color:A})}},{id:"gap",label:"Gap",numeric:!0,render:D=>e.jsxs("span",{className:`font-semibold ${Number(D)>=0?"text-green-600":"text-red-600"}`,children:[Number(D)>=0?"+":""," ",c(Number(D))]})}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(b,{className:"!mb-3 !flex !justify-between !items-center",children:[e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Sales vs Target Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track sales performance against targets"})]}),m&&e.jsx(Xt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:C,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),m&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{children:e.jsx(oe,{type:"date",value:t,setValue:s,placeholder:"Start Date",label:"Start Date"})}),e.jsx("div",{children:e.jsx(oe,{type:"date",value:a,setValue:r,placeholder:"End Date",label:"End Date"})}),e.jsx("div",{children:e.jsxs(Se,{label:"Sales Person",fullWidth:!0,value:n?n.toString():"all",onChange:D=>i(D.target.value==="all"?void 0:parseInt(D.target.value)),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Salespeople"}),S.map(D=>e.jsx(Z,{value:D.id.toString(),children:D.name},D.id))]})}),e.jsx("div",{children:e.jsxs(Se,{value:o?o.toString():"all",fullWidth:!0,label:"Product Category",onChange:D=>l(D.target.value==="all"?void 0:parseInt(D.target.value)),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Categories"}),_.map(D=>e.jsx(Z,{value:D.id.toString(),children:D.category_name},D.id))]})})]})}),m&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Sales Person",value:v.total_salespeople,icon:e.jsx(aa,{className:"w-6 h-6"}),color:"blue",isLoading:p}),e.jsx(fe,{title:"Categories",value:v.total_categories,icon:e.jsx(Qc,{className:"w-6 h-6"}),color:"purple",isLoading:p}),e.jsx(fe,{title:"Target Amount",value:c(v.total_target_amount).toLocaleString(),icon:e.jsx(nl,{className:"w-6 h-6"}),color:"orange",isLoading:p}),e.jsx(fe,{title:"Actual Sales",value:c(v.total_actual_sales),icon:e.jsx(vs,{className:"w-6 h-6"}),color:"green",isLoading:p})]}),e.jsx(ct,{columns:P,actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(aa,{className:"w-5 h-5"})," Performance by Sales Person (",y.length,")"]}),data:y,loading:p,pagination:!1,isPermission:m}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(Qc,{className:"w-5 h-5"})," Performance by Category (",N.length,")"]}),columns:E,data:N,loading:p,pagination:!1,isPermission:m})]})},XAe=async t=>{try{return(await ie.get("/survey-responses",{params:t})).data}catch(s){throw s}},JAe=async t=>{try{return(await ie.get(`/survey-responses/${t}`)).data.data}catch(s){throw s}},eIe=async t=>(await ie.delete(`/survey-responses/${t}`)).data,Jd={all:["survey-responses"],lists:()=>[...Jd.all,"list"],list:t=>[...Jd.lists(),t],details:()=>[...Jd.all,"detail"],detail:t=>[...Jd.details(),t]},tIe=(t,s)=>st({queryKey:Jd.list(t||{}),queryFn:()=>XAe(t),staleTime:300*1e3,...s}),sIe=t=>st({queryKey:Jd.detail(t),queryFn:()=>JAe(t),enabled:!!t,staleTime:300*1e3}),aIe=t=>{const s=is();return Te({mutationFn:eIe,loadingMessage:"Deleting survey response...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Jd.lists()})},onError:t?.onError})},rIe=()=>{const t=Fs(),[s,a]=g.useState(""),[r,n]=g.useState("all"),[i,o]=g.useState(void 0),[l,c]=g.useState(1),[m]=g.useState(10),{isRead:d}=Ze("report"),{data:p,isLoading:x,error:j}=tIe({search:s,page:l,limit:m,status:r==="all"?void 0:r,survey_id:i},{enabled:d}),{data:_}=d$({limit:1e3}),S=_?.data||[],v=p?.data||[],y=p?.meta?.total||0,N=(p?.meta?.page||1)-1,C=aIe(),P=ls(),E=p?.stats?.total_records??v.length,D=p?.stats?.active_records??0,T=p?.stats?.inactive_records??0,A=p?.stats?.records_this_month??0,I=g.useCallback(B=>{t(`/reports/survey-responses/${B.id}`)},[t]),F=g.useCallback(async B=>{try{await C.mutateAsync(B)}catch(q){console.error("Error deleting survey response:",q)}},[C]),z=g.useCallback(B=>{a(B),c(1)},[]),O=B=>{c(B+1)},K=g.useCallback(async()=>{try{const B={search:s,status:r==="all"?void 0:r,survey_id:i};await P.mutateAsync({tableName:"survey_responses",filters:B})}catch(B){console.error("Error exporting survey responses:",B)}},[P,s,r,i]),W=[{id:"survey",label:"Survey Info",render:(B,q)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:q.survey?.name||"Survey",className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(ks,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900 !leading-tight !font-semibold",children:q.survey?.name||`Survey #${q.parent_id}`}),q.survey?.description&&e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",title:q.survey.description,style:{display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",cursor:"help",width:"250px"},children:q.survey.description})]})]})},{id:"customer",label:"Customer",render:(B,q)=>{const H=q.customer||q.survey_response_customer;return H?e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:H.name||"Survey",src:"mkx",className:"!rounded !bg-primary-100 !text-primary-500"}),e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!leading-tight !font-semibold",children:H.name}),H.code&&e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:H.code})]})]}):e.jsx("span",{className:"text-xs text-gray-400 italic",children:"No customer"})}},{id:"submitted_user",label:"Submitted By",render:(B,q)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:q.submitted_user?.name||"Survey",src:"mkx",className:"!rounded !bg-primary-100 !text-primary-500"}),e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900 !leading-tight !font-semibold",children:q.submitted_user?.name}),q?.submitted_user?.email&&e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:q.submitted_user.email})]})]})},{id:"submitted_at",label:"Submitted At",render:(B,q)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ws,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:q.submitted_at?Fe(typeof q.submitted_at=="string"?q.submitted_at:q.submitted_at?.toString()||""):"Not submitted"})]})},{id:"answers_count",label:"Answers",render:(B,q)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(Qc,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs font-medium",children:q.answers?.length||0})]})},{id:"location",label:"Location",render:(B,q)=>q.location?e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ta,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:q.location})]}):e.jsx("span",{className:"text-xs text-gray-400 italic",children:"No location"})},{id:"status",label:"Status",render:(B,q)=>e.jsx(Re,{icon:q.is_active==="Y"?e.jsx(mt,{fontSize:"small"}):e.jsx(nw,{fontSize:"small"}),label:q.is_active==="Y"?"Active":"Inactive",size:"small",color:q.is_active==="Y"?"success":"error",variant:"outlined"})},{id:"action",label:"Actions",sortable:!1,render:(B,q)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[e.jsx(Ua,{onClick:()=>I(q),tooltip:`View ${q.survey?.name||"Response"}`,icon:e.jsx(kn,{fontSize:"small"}),color:"info"}),e.jsx(Ht,{onClick:()=>F(q.id),tooltip:"Delete response",itemName:"survey response",confirmDelete:!0})]})}];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Survey Responses"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"View and manage survey responses submitted by users"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Responses",value:E,icon:e.jsx(ks,{className:"w-6 h-6"}),color:"blue",isLoading:x}),e.jsx(fe,{title:"Active",value:D,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:x}),e.jsx(fe,{title:"Inactive",value:T,icon:e.jsx(ks,{className:"w-6 h-6"}),color:"red",isLoading:x}),e.jsx(fe,{title:"This Month",value:A,icon:e.jsx(ws,{className:"w-6 h-6"}),color:"teal",isLoading:x})]}),j&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load survey responses. Please try again."}),e.jsx(ct,{data:v,columns:W,actions:e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Jt,{placeholder:"Search Responses...",value:s,onChange:z,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:r,onChange:B=>n(B.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(Se,{value:i||"all",onChange:B=>o(B.target.value==="all"?void 0:Number(B.target.value)),className:"!w-68",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Surveys"}),S.map(B=>e.jsx(Z,{value:B.id,children:B.title},B.id))]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Xt,{title:"Export Survey Responses",description:"Are you sure you want to export the current survey response data to Excel? This will include all filtered results.",onConfirm:K,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:P.isPending,children:P.isPending?"Exporting...":"Export"})})})]}),getRowId:B=>B.id,initialOrderBy:"submitted_at",loading:x,totalCount:y,page:N,rowsPerPage:m,onPageChange:O,emptyMessage:s?`No responses found matching "${s}"`:"No survey responses found in the system"})]})},nIe=()=>{const{id:t}=Br(),s=Fs(),{formatCurrency:a}=Ga(),{data:r,isLoading:n,error:i,isFetching:o}=sIe(Number(t)),l=()=>{s("/reports/survey-responses")},c=p=>{if(!p)return null;try{const x=JSON.parse(p);return Array.isArray(x)?x.join(", "):typeof x=="object"&&x!==null?JSON.stringify(x,null,2):p}catch{return p}},m=p=>({text:"Text",textarea:"Textarea",number:"Number",select:"Select",checkbox:"Checkbox",radio:"Radio",date:"Date",time:"Time",photo:"Photo",signature:"Signature"})[p]||p;if(n||o)return e.jsxs("div",{className:"!flex !items-start !gap-4",children:[e.jsxs("div",{className:"!flex-2 !flex !flex-col !gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-3 !right-3",children:e.jsx(X,{variant:"circular",width:10,height:10,className:"!bg-green-200"})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(X,{variant:"circular",width:96,height:96,className:"!mx-auto !border-3 !border-white"})}),e.jsx(X,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(X,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-2 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"30%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"60%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"70%",height:14})]})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4].map(p=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(X,{variant:"text",width:`${40+p*8}%`,height:12}),e.jsx(X,{variant:"text",width:`${60+p*6}%`,height:16})]},p))})]})]})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(p=>e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(X,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"40%",height:12})]}),e.jsx(X,{variant:"text",width:80,height:16,className:"!text-right"})]})},p))})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(p=>e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(X,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"40%",height:12})]}),e.jsx(X,{variant:"text",width:80,height:16,className:"!text-right"})]})},p))})]})]})]})]});if(i||!r)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ia,{className:"w-5 h-5"}),e.jsx(f,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load survey response details"})]}),e.jsx(f,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:l,className:"mt-4",children:"Back to Survey Responses"})]});const d=({title:p,children:x,icon:j})=>e.jsxs("div",{className:"!bg-white mt-4 !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[j&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(j,{className:"!text-primary-500"})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:p})]}),x]})]});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${r.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ot,{className:lr("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":r.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":r.is_active!=="Y"}),children:e.jsx(ks,{className:"!w-8 !h-8"})})}),e.jsxs(f,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:["Response #",r.id]}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mb-3",children:r.survey?.name||`Survey #${r.parent_id}`}),e.jsx(Re,{label:r.is_active==="Y"?"Active":"Inactive",className:`${r.is_active==="Y"?"!bg-green-100 !text-green-800":"!bg-gray-100 !text-gray-800"} font-semibold`,size:"small"}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Submitted At"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:r.submitted_at?Fe(typeof r.submitted_at=="string"?r.submitted_at:r.submitted_at?.toString()||""):"Not submitted"})]}),r.location&&e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Location"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:r.location})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Total Answers"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:[r.answers?.length||0," answers"]})]})]})]}),e.jsx(d,{title:"Response Statistics",icon:Qc,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Total Answers"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:"Number of fields answered"})]}),e.jsx(f,{variant:"h6",className:"!font-bold !text-primary-600",children:r.answers?.length||0})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Status"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:"Current response status"})]}),e.jsx(Re,{variant:"outlined",label:r.is_active==="Y"?"Active":"Inactive",color:r.is_active==="Y"?"success":"error",size:"small"})]})})]})})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsx(d,{title:"Response Information",icon:ks,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Survey"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:r.survey?.name||`Survey #${r.parent_id}`}),r.survey?.description&&e.jsx(f,{variant:"caption",className:"!text-gray-500",children:r.survey.description})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Submitted By"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:r.submitted_user?.name||`User #${r.submitted_by}`}),r.submitted_user?.email&&e.jsx(f,{variant:"caption",className:"!text-gray-500",children:r.submitted_user.email})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Submitted Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:r.submitted_at?Fe(typeof r.submitted_at=="string"?r.submitted_at:r.submitted_at?.toString()||""):"Not available"})]}),r.location&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Location"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:r.location})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Created Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:r.createdate?Fe(typeof r.createdate=="string"?r.createdate:r.createdate?.toString()||""):"Not available"})]})]})}),e.jsx(d,{title:"Survey Answers",icon:Qc,children:r.answers&&r.answers.length>0?e.jsx("div",{className:"!space-y-3",children:r.answers.map((p,x)=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx("div",{className:"!flex !items-center !justify-between !mb-2",children:e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:p.field?.name||`Field #${p.field_id}`}),p.field?.type&&e.jsx(Re,{label:m(p.field.type),size:"small",color:"primary",className:"!text-xs"})]})}),e.jsx(f,{variant:"body1",className:"!text-gray-700 !mt-2 !p-2 !bg-white !rounded !border !border-gray-200",children:c(p?.answer||"")||e.jsx("span",{className:"!text-gray-400 italic",children:"No answer provided"})})]},p.id||x))}):e.jsxs("div",{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(ks,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(f,{variant:"body2",children:"No answers provided for this response."})]})})]})]}),(r.customer||r.survey_response_customer)&&e.jsx(d,{title:"Customer Information",icon:Za,children:(()=>{const p=r.customer||r.survey_response_customer;return p?e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 lg:!grid-cols-3 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Name"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:p.name})]}),p.code&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Code"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:p.code})]}),p.type&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Type"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:p.type})]}),p.contact_person&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Contact Person"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:p.contact_person})]}),p.phone_number&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Phone Number"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:p.phone_number})]}),p.email&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Email"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !break-all",children:p.email})]}),(p.city||p.state||p.zipcode)&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Location"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:[p.city,p.state,p.zipcode].filter(Boolean).join(", ")||"N/A"})]}),p.address&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2 lg:!col-span-3",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Address"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:p.address})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Credit Limit"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a(Number(p.credit_limit))})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Outstanding Amount"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-red-600",children:a(Number(p.outstanding_amount))})]}),e.jsxs("div",{className:"!space-y-0.5 flex flex-col items-start",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Status"}),e.jsx(Re,{label:p.is_active==="Y"?"Active":"Inactive",size:"small",color:p.is_active==="Y"?"success":"error",variant:"outlined"})]})]}):null})()}),e.jsx("div",{className:"!mt-4",children:e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:l,children:"Back to Survey Responses"})})]})},iIe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState(""),[n,i]=g.useState(void 0),[o,l]=g.useState(void 0),[c,m]=g.useState("all"),{isRead:d}=Ze("report"),{data:p,isLoading:x}=IAe({start_date:t,end_date:a,salesperson_id:n,customer_id:o,status:c==="all"?void 0:c},{enabled:d}),{data:j}=$p(),{data:_}=Gn(),S=j?.data||[],v=_?.data||[],y=p?.summary||{total_visits:0,completed_visits:0,total_tasks:0,completed_tasks:0,avg_duration_minutes:0,gps_logs_count:0},N=g.useCallback(async()=>{try{await yAe({start_date:t,end_date:a,salesperson_id:n,customer_id:o,status:c==="all"?void 0:c})}catch(D){console.error("Error exporting report to Excel:",D)}},[t,a,n,o,c]),C=[{id:"customer_name",label:"Customer",render:(D,T)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:T.customer_name}),e.jsx("span",{className:"text-xs text-gray-500",children:T.customer_code})]})},{id:"salesperson_name",label:"Sales Person",render:(D,T)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-semibold text-blue-600",children:T.salesperson_name?.split(" ").map(A=>A[0]).join("").toUpperCase().slice(0,2)||"U"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:T.salesperson_name}),e.jsx("span",{className:"text-xs text-gray-500",children:T.salesperson_email})]})]})},{id:"route_name",label:"Route",render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"visit_date",label:"Visit Date",render:D=>Fe(D)||"N/A"},{id:"purpose",label:"Purpose",render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"status",label:"Status",render:D=>{const T=String(D||"").toLowerCase();let A="default";return T==="completed"||T==="closed"?A="success":T==="in_progress"||T==="started"?A="warning":T==="planned"||T==="scheduled"?A="info":(T==="cancelled"||T==="no_show")&&(A="error"),e.jsx(Re,{label:D,size:"small",className:"!capitalize",color:A,variant:"outlined"})}},{id:"duration_minutes",label:"Duration",numeric:!0,render:D=>e.jsxs("span",{className:"text-sm",children:[D," min"]})},{id:"orders_created",label:"Orders",numeric:!0,render:D=>e.jsx("span",{className:"font-semibold text-sm",children:D})},{id:"completion_rate",label:"Tasks Complete",numeric:!0,render:D=>e.jsx(Re,{label:`${D}%`,size:"small",color:Number(D)>=100?"success":Number(D)>=75?"info":"warning",variant:"outlined"})}],P=[{id:"customer_name",label:"Customer",render:D=>e.jsx("span",{className:"font-semibold text-sm",children:D})},{id:"visit_date",label:"Visit Date",render:D=>Fe(D)||"N/A"},{id:"task_type",label:"Task Type",render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"description",label:"Description",render:D=>e.jsx("span",{className:"text-sm max-w-xs truncate",title:D,children:D})},{id:"due_date",label:"Due Date",render:D=>Fe(D)||"N/A"},{id:"status",label:"Status",render:D=>{const T=String(D||"").toLowerCase();let A="default";return T==="completed"||T==="done"?A="success":T==="in_progress"||T==="started"?A="warning":T==="pending"&&(A="info"),e.jsx(Re,{label:D,size:"small",className:"!capitalize",color:A,variant:"outlined"})}}],E=[{id:"user_name",label:"User",render:D=>e.jsx("span",{className:"font-semibold text-sm",children:D})},{id:"log_time",label:"Log Time",render:D=>Fe(D)||"N/A"},{id:"latitude",label:"Latitude",numeric:!0,render:D=>e.jsx("span",{className:"text-sm",children:Number(D).toFixed(6)})},{id:"longitude",label:"Longitude",numeric:!0,render:D=>e.jsx("span",{className:"text-sm",children:Number(D).toFixed(6)})},{id:"speed_kph",label:"Speed",numeric:!0,render:D=>e.jsxs("span",{className:"text-sm",children:[Number(D).toFixed(1)," km/h"]})},{id:"battery_level",label:"Battery",numeric:!0,render:D=>{const T=Number(D),A=T>50?"text-green-600":T>20?"text-yellow-600":"text-red-600";return e.jsxs("span",{className:`text-sm ${A}`,children:[T,"%"]})}}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(b,{className:"!mb-3 !flex !justify-between !items-center",children:[e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Visit Frequency/Completion Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track visit patterns, completion rates, and GPS logs"})]}),d&&e.jsx(Xt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:N,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),d&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,setValue:s}),e.jsx(oe,{type:"date",label:"End Date",value:a,setValue:r}),e.jsxs(Se,{label:"Salesperson",value:n?.toString()||"all",onChange:D=>i(D.target.value&&D.target.value!=="all"?parseInt(D.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Salespeople"}),v.map(D=>e.jsx(Z,{value:D.id.toString(),children:D.name},D.id))]}),e.jsxs(Se,{label:"Customer",value:o?.toString()||"all",onChange:D=>l(D.target.value&&D.target.value!=="all"?parseInt(D.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Customers"}),S.map(D=>e.jsxs(Z,{value:D.id.toString(),children:[D.name," (",D.code,")"]},D.id))]}),e.jsxs(Se,{label:"Status",value:c,onChange:D=>m(D.target.value),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"planned",children:"Planned"}),e.jsx(Z,{value:"in_progress",children:"In Progress"}),e.jsx(Z,{value:"completed",children:"Completed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-5",children:[e.jsx(fe,{title:"Total Visits",value:y.total_visits,icon:e.jsx(ws,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Completed",value:y.completed_visits,icon:e.jsx(Da,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Tasks Completed",value:`${y.completed_tasks}/${y.total_tasks}`,icon:e.jsx(nl,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"Avg Duration",value:`${y.avg_duration_minutes} min`,icon:e.jsx(As,{className:"w-6 h-6"}),color:"orange"}),e.jsx(fe,{title:"GPS Logs",value:y.gps_logs_count,icon:e.jsx(ta,{className:"w-6 h-6"}),color:"indigo"})]}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(ws,{className:"w-5 h-5"})," Visits (",p?.data?.visits?.length||0,")"]}),columns:C,data:p?.data?.visits||[],loading:x,pagination:!1,isPermission:d}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(nl,{className:"w-5 h-5"}),"Visit Tasks (",p?.data?.tasks?.length||0,")"]}),columns:P,data:p?.data?.tasks||[],loading:x,pagination:!1}),e.jsx(ct,{actions:e.jsxs(b,{className:"flex font-bold items-center gap-2",children:[e.jsx(ta,{className:"w-5 h-5"})," GPS Logs (",p?.data?.gps_logs?.length||0,")"]}),columns:E,data:p?.data?.gps_logs||[],loading:x,pagination:!1,isPermission:d})]})},oIe=async t=>{const s=new URLSearchParams;return t?.user_id&&s.append("user_id",t.user_id.toString()),t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),(await ie.get(`/tracking/gps?${s.toString()}`)).data.data},lIe=async()=>(await ie.get("/tracking/gps/realtime")).data.data,cIe=async t=>(await ie.post("/tracking/gps",t)).data.data,dIe=async t=>{const s={};return t?.start_date&&(s.start_date=t.start_date),t?.end_date&&(s.end_date=t.end_date),t?.salesperson_id&&(s.salesperson_id=t.salesperson_id),t?.route_id&&(s.route_id=t.route_id),t?.depot_id&&(s.depot_id=t.depot_id),(await ie.get("/tracking/route-effectiveness",{params:s})).data.data},Ll={all:["gps-tracking"],lists:()=>[...Ll.all,"list"],list:t=>[...Ll.lists(),t],realtime:()=>[...Ll.all,"realtime"],path:(t,s)=>[...Ll.all,"path",t,s],routeEffectiveness:t=>[...Ll.all,"route-effectiveness",t]},uIe=(t,s)=>st({queryKey:Ll.list(t),queryFn:()=>oIe(t),staleTime:180*1e3,enabled:s?.enabled!==!1}),mIe=t=>st({queryKey:Ll.realtime(),queryFn:()=>lIe(),staleTime:30*1e3,refetchInterval:t?.enabled!==!1?3e4:!1,enabled:t?.enabled!==!1}),pIe=()=>Te({mutationFn:t=>cIe(t),invalidateQueries:[...Array.from(Ll.realtime())],loadingMessage:"Creating GPS log..."}),hIe=(t,s)=>st({queryKey:Ll.routeEffectiveness(t),queryFn:()=>dIe(t),staleTime:300*1e3,enabled:s?.enabled!==!1}),fIe=({open:t,onClose:s,rep:a,onOpenMaps:r})=>a?e.jsx(it,{open:t,setOpen:s,title:"GPS Tracking Details",size:"large",anchor:"right",children:e.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 p-6 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(aa,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:a.user_name}),e.jsxs("div",{className:"space-y-1 mt-2",children:[a.user_email&&e.jsx("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:e.jsx("span",{children:a.user_email})}),a.employee_id&&e.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"Employee ID:"}),e.jsxs("span",{className:"font-medium",children:["#",a.employee_id]})]})]})]}),e.jsx("div",{className:"px-4 py-2 bg-green-600 text-white rounded-full text-sm font-medium",children:"Active"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ta,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h4",{className:"font-semibold text-gray-700",children:"Location"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Latitude:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:Number(a.latitude).toFixed(6)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Longitude:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:Number(a.longitude).toFixed(6)})]}),a.accuracy_meters&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Accuracy:"}),e.jsxs("span",{className:"ml-2 font-medium text-gray-900",children:["",a.accuracy_meters,"m"]})]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx(cp,{className:"w-5 h-5 text-orange-600"})}),e.jsx("h4",{className:"font-semibold text-gray-700",children:"Speed & Movement"})]}),e.jsx("div",{className:"space-y-2 text-sm",children:a.speed_kph!==null?e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Current Speed:"}),e.jsxs("span",{className:"ml-2 font-medium text-gray-900 text-lg",children:[a.speed_kph.toFixed(1)," km/h"]})]}):e.jsx("span",{className:"text-gray-400 italic",children:"No speed data"})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(uA,{className:"w-5 h-5 text-purple-600"})}),e.jsx("h4",{className:"font-semibold text-gray-700",children:"Device Information"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[a.battery_level!==null?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-gray-500",children:"Battery:"}),e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${a.battery_level>50?"bg-green-600":a.battery_level>20?"bg-orange-600":"bg-red-600"}`,style:{width:`${a.battery_level}%`}})}),e.jsxs("span",{className:"font-medium text-gray-900 w-12 text-right",children:[a.battery_level,"%"]})]})]}):e.jsx("span",{className:"text-gray-400 italic",children:"No battery data"}),a.network_type&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Network:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:a.network_type})]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:e.jsx(As,{className:"w-5 h-5 text-indigo-600"})}),e.jsx("h4",{className:"font-semibold text-gray-700",children:"Last Update"})]}),e.jsx("div",{className:"text-sm",children:a.last_update?e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:Fe(a.last_update)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Real-time tracking active"})]}):e.jsx("span",{className:"text-gray-400 italic",children:"No timestamp available"})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ta,{className:"w-5 h-5 text-blue-600"}),e.jsx("h4",{className:"font-semibold text-gray-700",children:"Live Location Map"})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("iframe",{src:`https://maps.google.com/maps?q=${Number(a.latitude)},${Number(a.longitude)}&z=16&output=embed`,width:"100%",height:"300",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Location Map",className:"w-full"}),e.jsxs("div",{className:"absolute bottom-4 right-4 bg-white p-2 rounded-lg shadow-md border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>r(Number(a.latitude),Number(a.longitude)),children:[e.jsx(ta,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-xs text-blue-600 ml-1",children:"Open in Maps"})]})]}),e.jsx("div",{className:"p-3 bg-gray-50 text-sm text-gray-600",children:e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Coordinates:"}),e.jsxs("span",{className:"font-mono text-xs",children:[Number(a.latitude).toFixed(6),","," ",Number(a.longitude).toFixed(6)]})]})})]})]})}):null,xIe=({open:t,onClose:s,onSubmit:a,isLoading:r})=>{const[n,i]=g.useState({latitude:"24.7136",longitude:"46.6753",accuracy_meters:"10",speed_kph:"45.5",battery_level:"85",network_type:"4G"}),o=()=>{a({latitude:parseFloat(n.latitude),longitude:parseFloat(n.longitude),accuracy_meters:n.accuracy_meters?parseInt(n.accuracy_meters):void 0,speed_kph:n.speed_kph?parseFloat(n.speed_kph):void 0,battery_level:n.battery_level?parseFloat(n.battery_level):void 0,network_type:n.network_type})};return e.jsxs(ol,{open:t,onClose:s,maxWidth:"sm",fullWidth:!0,children:[e.jsx(gg,{className:"!font-bold !text-xl",children:"Create Test GPS Log"}),e.jsx(or,{}),e.jsx(Pp,{className:"!pt-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Latitude ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"any",value:n.latitude,onChange:l=>i({...n,latitude:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Longitude ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"any",value:n.longitude,onChange:l=>i({...n,longitude:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accuracy (meters)"}),e.jsx("input",{type:"number",value:n.accuracy_meters,onChange:l=>i({...n,accuracy_meters:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Speed (km/h)"}),e.jsx("input",{type:"number",value:n.speed_kph,onChange:l=>i({...n,speed_kph:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Battery Level (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:n.battery_level,onChange:l=>i({...n,battery_level:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Network Type"}),e.jsx("input",{type:"text",value:n.network_type,onChange:l=>i({...n,network_type:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors"})]})]})}),e.jsx(or,{}),e.jsxs(Cp,{className:"!px-6 !py-4",children:[e.jsx(G,{onClick:s,variant:"text",color:"primary",children:"Cancel"}),e.jsx(G,{onClick:o,variant:"contained",color:"primary",loading:r,loadingText:"Creating...",disabled:r,children:"Create GPS Log"})]})]})},gIe=()=>{const[t,s]=g.useState(!1),[a,r]=g.useState(!1),[n,i]=g.useState(null),[o,l]=g.useState({latitude:"24.7136",longitude:"46.6753",accuracy_meters:"10",speed_kph:"45.5",battery_level:"85",network_type:"4G"}),{isRead:c}=Ze("location"),{data:m,isLoading:d}=mIe({enabled:c}),{data:p,isLoading:x}=uIe({user_id:void 0},{enabled:c}),j=pIe(),_=m?.gps_data||[],S=p?.data?.gps_logs||[],v=_.filter(T=>T.latitude&&T.longitude),y=m?.summary||{total_users:0,users_with_location:0,timestamp:new Date().toISOString()},N=d||x,C=T=>{T.latitude&&T.longitude?(i(T),r(!0)):on.warning("GPS is not active for this representative")},P=(T,A)=>{const I=`https://www.google.com/maps?q=${T},${A}`;window.open(I,"_blank")},E=()=>{j.mutate({latitude:parseFloat(o.latitude),longitude:parseFloat(o.longitude),accuracy_meters:o.accuracy_meters?parseInt(o.accuracy_meters):void 0,speed_kph:o.speed_kph?parseFloat(o.speed_kph):void 0,battery_level:o.battery_level?parseFloat(o.battery_level):void 0,network_type:o.network_type}),s(!1)},D=()=>e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-5",children:[1,2,3,4,5,6].map(T=>e.jsx("div",{className:"bg-white shadow-sm p-6 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(X,{variant:"circular",width:48,height:48,className:"!bg-gray-100"}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(X,{variant:"text",width:"60%",height:24}),e.jsx(X,{variant:"text",width:"20%",height:16})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{variant:"text",width:"80%",height:20}),e.jsx(X,{variant:"text",width:"70%",height:20}),e.jsx(X,{variant:"text",width:"75%",height:20}),e.jsx(X,{variant:"text",width:"50%",height:16})]})]})]})},T))});return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"!font-bold text-xl !text-gray-900",children:"Representatives Location Tracking"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Real-time GPS tracking and location history for sales representatives"})]}),c&&e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 border border-blue-500 text-blue-700 rounded-full bg-blue-50",children:[e.jsx(As,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:["Last Update: ",Fe(y.timestamp)]})]})})]}),c&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Total Reps",value:y.total_users,icon:e.jsx(aa,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Active Now",value:y.users_with_location,icon:e.jsx(Py,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Avg Speed",value:v.length>0?`${Math.round(v.reduce((T,A)=>T+(A.speed_kph||0),0)/v.length)} km/h`:"0 km/h",icon:e.jsx(cp,{className:"w-6 h-6"}),color:"orange",isLoading:N}),e.jsx(fe,{title:"Tracking Points",value:S.length,icon:e.jsx(ta,{className:"w-6 h-6"}),color:"purple",isLoading:N})]}),!c&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(ta,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"You do not have permission to view location tracking data"})]}),c&&e.jsx(e.Fragment,{children:N?e.jsx(D,{}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-5",children:[_.map(T=>e.jsx("div",{className:"bg-white shadow-sm p-6 rounded-lg border border-gray-100 transition-shadow cursor-pointer hover:shadow-md",onClick:()=>C(T),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${T.latitude&&T.longitude?"bg-green-100":"bg-gray-100"}`,children:T.latitude&&T.longitude?e.jsx(ta,{className:"w-6 h-6 text-green-600"}):e.jsx(ta,{className:"w-6 h-6 text-gray-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 truncate",children:T.user_name}),T.employee_id&&e.jsxs("span",{className:"text-xs text-gray-500",children:["#",T.employee_id]})]}),T.latitude&&T.longitude?e.jsxs("div",{className:"flex items-center gap-4 pt-1",children:[T.speed_kph!==null&&e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(cp,{className:"w-4 h-4 text-orange-500"}),e.jsxs("span",{className:"text-gray-700 font-medium",children:[T.speed_kph.toFixed(0)," km/h"]})]}),T.battery_level!==null&&e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(uA,{className:"w-4 h-4 text-purple-500"}),e.jsxs("span",{className:"text-gray-700 font-medium",children:[T.battery_level,"%"]})]}),T.last_update&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 ml-auto",children:[e.jsx(As,{className:"w-3 h-3"}),Fe(T.last_update)]})]}):e.jsx("div",{className:"text-sm text-gray-500 italic",children:"No location data available"})]})]})},T.user_id)),_.length===0&&!N&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(ta,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No GPS data available"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"No sales representatives are currently being tracked"})]})]})}),e.jsxs(ol,{open:t,onClose:()=>s(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(gg,{className:"!font-bold !text-xl",children:"Create Test GPS Log"}),e.jsx(or,{}),e.jsx(Pp,{className:"!pt-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Latitude ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"any",value:o.latitude,onChange:T=>{l({...o,latitude:T.target.value})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Longitude ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"any",value:o.longitude,onChange:T=>l({...o,longitude:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accuracy (meters)"}),e.jsx("input",{type:"number",value:o.accuracy_meters,onChange:T=>l({...o,accuracy_meters:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Speed (km/h)"}),e.jsx("input",{type:"number",value:o.speed_kph,onChange:T=>l({...o,speed_kph:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Battery Level (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:o.battery_level,onChange:T=>l({...o,battery_level:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Network Type"}),e.jsx("input",{type:"text",value:o.network_type,onChange:T=>l({...o,network_type:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors"})]})]})}),e.jsx(or,{}),e.jsxs(Cp,{className:"!px-6 !py-4",children:[e.jsx(G,{onClick:()=>s(!1),variant:"text",color:"primary",children:"Cancel"}),e.jsx(G,{onClick:E,variant:"contained",color:"primary",loading:j.isPending,loadingText:"Creating...",disabled:j.isPending,children:"Create GPS Log"})]})]}),e.jsx(xIe,{open:t,onClose:()=>s(!1),onSubmit:E,isLoading:j.isPending}),e.jsx(fIe,{open:a,onClose:()=>r(!1),rep:n,onOpenMaps:P})]})},bIe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState(""),[n,i]=g.useState(void 0),[o,l]=g.useState(void 0),{isRead:c}=Ze("route-effectiveness"),{data:m,isLoading:d}=hIe({start_date:t,end_date:a,salesperson_id:n,depot_id:o},{enabled:c}),{data:p}=_i({isActive:"Y"}),x=p?.data||[],j=m?.summary||{total_routes:0,missed_visits:0,avg_completion_rate:"0",avg_efficiency_score:"0"},_=m?.routes||[],S=[{id:"route_name",label:"Route",render:(v,y)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(ta,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:y.route_name}),e.jsx("span",{className:"text-xs text-gray-500",children:y.route_code})]})]})},{id:"salesperson_name",label:"Salesperson",render:v=>e.jsx("span",{className:"text-sm",children:v})},{id:"depot_name",label:"Depot",render:v=>e.jsx("span",{className:"text-sm",children:v})},{id:"total_customers",label:"Customers",numeric:!0,render:v=>e.jsx("span",{className:"font-semibold text-sm",children:v})},{id:"completed_visits",label:"Completed",numeric:!0,render:v=>e.jsx("span",{className:"font-semibold text-sm",children:v})},{id:"missed_visits",label:"Missed",numeric:!0,render:v=>e.jsx("span",{className:"font-semibold text-sm",children:v})},{id:"completion_rate",label:"Completion Rate",numeric:!0,render:v=>{const y=Number(v);return e.jsx(Re,{label:`${v}%`,size:"small",variant:"outlined",color:y>=80?"success":y>=60?"warning":"error",className:"w-20"})}},{id:"efficiency_score",label:"Efficiency",numeric:!0,render:v=>{const y=Number(v);return e.jsx(Re,{label:`${v}%`,size:"small",variant:"outlined",color:y>=80?"success":y>=60?"warning":"error"})}}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h2",{className:"!font-bold text-xl !text-gray-900",children:"Route Effectiveness"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Analyze route performance and effectiveness metrics"})]})}),c&&e.jsx("div",{className:"bg-white shadow-sm p-4 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{children:e.jsx(oe,{type:"date",value:t,onChange:v=>s(v.target.value),placeholder:"Start Date",label:"Start Date"})}),e.jsx("div",{children:e.jsx(oe,{type:"date",value:a,onChange:v=>r(v.target.value),placeholder:"End Date",label:"End Date"})}),e.jsx(Dr,{label:"Sales Person",value:n?.toString()||"all",setValue:i}),e.jsxs(Se,{label:"Depot",value:o?.toString()||"all",onChange:v=>l(v.target.value&&v.target.value!=="all"?parseInt(v.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Depots"}),x.map(v=>e.jsx(Z,{value:v.id.toString(),children:v.name},v.id))]})]})}),c&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Total Routes",value:j.total_routes,icon:e.jsx(Py,{className:"w-6 h-6"}),color:"blue",isLoading:d}),e.jsx(fe,{title:"Completion Rate",value:`${j.avg_completion_rate}%`,icon:e.jsx(nl,{className:"w-6 h-6"}),color:"green",isLoading:d}),e.jsx(fe,{title:"Efficiency Score",value:`${j.avg_efficiency_score}%`,icon:e.jsx(cp,{className:"w-6 h-6"}),color:"purple",isLoading:d}),e.jsx(fe,{title:"Missed Visits",value:j.missed_visits,icon:e.jsx(Uc,{className:"w-6 h-6"}),color:"orange",isLoading:d})]}),c&&e.jsx(ct,{columns:S,actions:e.jsxs(b,{children:["Route Performance (",_.length,")"]}),data:_,loading:d,pagination:!1,isPermission:c}),!c&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(Py,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"You do not have permission to view route effectiveness data"})]}),c&&!d&&_.length>0&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:_.slice(0,4).map(v=>e.jsxs("div",{className:"bg-white shadow-sm p-6 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:v.route_name}),e.jsx("p",{className:"text-sm text-gray-500",children:v.route_code})]}),e.jsx(Re,{label:`${v.efficiency_score}%`,color:Number(v.efficiency_score)>=80?"success":Number(v.efficiency_score)>=60?"warning":"error",size:"small",variant:"outlined"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[e.jsx(aa,{className:"w-4 h-4"}),"Customers"]}),e.jsx("span",{className:"font-medium",children:v.total_customers})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[e.jsx(Da,{className:"w-4 h-4"}),"Completed"]}),e.jsx("span",{className:"font-medium",children:v.completed_visits})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[e.jsx(Uc,{className:"w-4 h-4"}),"Missed"]}),e.jsx("span",{className:"font-medium text-red-600",children:v.missed_visits})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[e.jsx(ta,{className:"w-4 h-4"}),"Distance"]}),e.jsxs("span",{className:"font-medium",children:[v.actual_distance_km," km"]})]})]})]},v.route_id))})]})},yIe=async t=>{try{const s={...t};return s.inspector_id!==void 0&&(s.inspector_id===null&&(s.inspector_id="null"),delete s.inspected_by),(await ie.get("/cooler-inspections",{params:s})).data}catch(s){throw console.error("Error fetching cooler inspections:",s),new Error(s.response?.data?.message||"Failed to fetch cooler inspections")}},vIe=async t=>{try{return(await ie.get(`/cooler-inspections/${t}`)).data.data}catch(s){throw console.error("Error fetching cooler inspection:",s),new Error(s.response?.data?.message||"Failed to fetch cooler inspection")}},jIe=async t=>{try{return(await ie.post("/cooler-inspections",t)).data.data}catch(s){throw console.error("Error creating cooler inspection:",s),new Error(s.response?.data?.message||"Failed to create cooler inspection")}},NIe=async(t,s)=>{try{return(await ie.put(`/cooler-inspections/${t}`,s)).data}catch(a){throw console.error("Error updating cooler inspection:",a),new Error(a.response?.data?.message||"Failed to update cooler inspection")}},_Ie=async t=>{try{await ie.delete(`/cooler-inspections/${t}`)}catch(s){throw console.error("Error deleting cooler inspection:",s),new Error(s.response?.data?.message||"Failed to delete cooler inspection")}},wIe=async(t,s,a)=>{try{return(await ie.patch(`/cooler-inspections/${t}/status`,{status:s,value:a})).data}catch(r){throw console.error("Error updating cooler inspection status:",r),new Error(r.response?.data?.message||"Failed to update cooler inspection status")}},Bm={all:["cooler-inspections"],lists:()=>[...Bm.all,"list"],list:t=>[...Bm.lists(),t],details:()=>[...Bm.all,"detail"],detail:t=>[...Bm.details(),t]},SIe=(t,s)=>st({queryKey:Bm.list(t),queryFn:()=>yIe(t),staleTime:300*1e3,...s}),CIe=(t,s)=>st({queryKey:Bm.detail(t),queryFn:()=>vIe(t),enabled:!!t,staleTime:300*1e3,...s}),PIe=()=>Te({mutationFn:jIe,invalidateQueries:["cooler-inspections"],loadingMessage:"Creating cooler inspection..."}),kIe=()=>Te({mutationFn:({id:t,...s})=>NIe(t,s),invalidateQueries:["cooler-inspections"],loadingMessage:"Updating cooler inspection..."}),EIe=()=>Te({mutationFn:_Ie,invalidateQueries:["cooler-inspections"],loadingMessage:"Deleting cooler inspection..."}),TIe=()=>Te({mutationFn:({id:t,status:s,value:a})=>wIe(t,s,a),invalidateQueries:["cooler-inspections"],loadingMessage:"Updating cooler inspection status..."}),MIe=nt({file:ps().required("Please select a file to import")}),DIe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:MIe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("cooler_inspections")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"cooler_inspections",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Cooler Inspections",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple cooler inspections. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},RIe=async t=>{try{const s={...t};return s.technician_id===null&&(s.technician_id="null"),(await ie.get("/cooler-installations",{params:s})).data}catch(s){throw console.error("Error fetching cooler installations:",s),new Error(s.response?.data?.message||"Failed to fetch cooler installations")}},AIe=async t=>{try{return(await ie.get(`/cooler-installations/${t}`)).data.data}catch(s){throw console.error("Error fetching cooler installation:",s),new Error(s.response?.data?.message||"Failed to fetch cooler installation")}},IIe=async t=>(await ie.post("/cooler-installations",t)).data.data,OIe=async(t,s)=>(await ie.put(`/cooler-installations/${t}`,s)).data.data,FIe=async t=>{await ie.delete(`/cooler-installations/${t}`)},LIe=async(t,s,a)=>{try{return(await ie.patch(`/cooler-installations/${t}/status`,{status:s,value:a})).data}catch(r){throw console.error("Error updating cooler status:",r),new Error(r.response?.data?.message||"Failed to update cooler status")}},Um={all:["cooler-installations"],lists:()=>[...Um.all,"list"],list:t=>[...Um.lists(),t],details:()=>[...Um.all,"detail"],detail:t=>[...Um.details(),t]},m$=(t,s)=>st({queryKey:Um.list(t),queryFn:()=>RIe(t),staleTime:300*1e3,...s}),$Ie=(t,s)=>st({queryKey:Um.detail(t),queryFn:()=>AIe(t),enabled:!!t,staleTime:300*1e3,...s}),zIe=()=>Te({mutationFn:IIe,invalidateQueries:["cooler-installations"],loadingMessage:"Creating cooler installation..."}),qIe=()=>Te({mutationFn:({id:t,...s})=>OIe(t,s),invalidateQueries:["cooler-installations"],loadingMessage:"Updating cooler installation..."}),BIe=()=>Te({mutationFn:FIe,invalidateQueries:["cooler-installations"],loadingMessage:"Deleting cooler installation..."}),UIe=()=>Te({mutationFn:({id:t,status:s,value:a})=>LIe(t,s,a),invalidateQueries:["cooler-installations"],loadingMessage:"Updating cooler status..."}),VIe=nt({cooler_id:Ye().required("Cooler is required").positive("Please select a valid cooler"),inspected_by:Ye().required("Inspector is required").positive("Please select a valid inspector"),visit_id:Ye().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).nullable().positive("Please select a valid visit"),inspection_date:Ca().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Inspection date must be a valid date").max(new Date,"Inspection date cannot be in the future").min(new Date(new Date().setFullYear(new Date().getFullYear()-30)),"Inspection date cannot be more than 30 years ago").nullable(),temperature:Ye().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Temperature must be a number").min(-50,"Temperature must be at least -50C").max(50,"Temperature must be at most 50C").nullable(),is_working:ce().oneOf(["Y","N"],"Please select working status").required("Working status is required"),issues:ce().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).max(2e3,"Issues must be less than 2000 characters").nullable(),images:ce().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).max(2e3,"Images must be less than 2000 characters").nullable(),latitude:Ye().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Latitude must be a number").min(-90,"Latitude must be between -90 and 90").max(90,"Latitude must be between -90 and 90").nullable(),longitude:Ye().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Longitude must be a number").min(-180,"Longitude must be between -180 and 180").max(180,"Longitude must be between -180 and 180").nullable(),action_required:ce().oneOf(["Y","N"],"Please select action required status").required("Action required status is required"),action_taken:ce().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).max(2e3,"Action taken must be less than 2000 characters").nullable(),next_inspection_due:Ca().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Next inspection due must be a valid date").min(new Date,"Next inspection due must be in the future").max(new Date(new Date().setFullYear(new Date().getFullYear()+5)),"Next inspection due cannot be more than 5 years in the future").nullable().when("inspection_date",([t],s)=>t&&t!=="undefined"&&t!==""?s.min(t,"Next inspection due must be after inspection date"):s),is_active:ce().oneOf(["Y","N"],"Please select active status").required("Active status is required")}),HIe=({selectedInspection:t,setSelectedInspection:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),_.resetForm()},o=PIe(),l=kIe(),{data:c}=m$({limit:1e3}),{data:m}=Gn({limit:1e3}),{data:d}=N3({limit:1e3}),p=c?.data||[],x=m?.data||[],j=d?.data||[],_=pt({initialValues:{cooler_id:t?.cooler_id||"",inspected_by:t?.inspected_by||"",inspection_date:t?.inspection_date?$r(t.inspection_date):"",temperature:t?.temperature||"",is_working:t?.is_working||"Y",issues:t?.issues||"",images:t?.images||"",latitude:t?.latitude||"",longitude:t?.longitude||"",action_required:t?.action_required||"N",action_taken:t?.action_taken||"",next_inspection_due:t?.next_inspection_due?$r(t.next_inspection_due):"",visit_id:t?.visit_id||"",is_active:t?.is_active||"Y"},validationSchema:VIe,enableReinitialize:!0,onSubmit:async S=>{try{const v={cooler_id:Number(S.cooler_id),inspected_by:Number(S.inspected_by),inspection_date:S.inspection_date,temperature:S.temperature?Number(S.temperature):void 0,is_working:S.is_working,issues:S.issues,images:S.images,latitude:S.latitude?Number(S.latitude):void 0,longitude:S.longitude?Number(S.longitude):void 0,action_required:S.action_required,action_taken:S.action_taken,next_inspection_due:S.next_inspection_due,visit_id:S.visit_id?Number(S.visit_id):void 0,is_active:S.is_active};n&&t?await l.mutateAsync({id:t.id,...v}):await o.mutateAsync(v),i()}catch(v){console.error("Error saving cooler inspection:",v)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Cooler Inspection":"Create Cooler Inspection",children:e.jsx(b,{className:"!p-4",children:e.jsxs("form",{onSubmit:_.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(Se,{name:"cooler_id",label:"Cooler",formik:_,fullWidth:!0,children:p.map(S=>e.jsxs(Z,{value:S.id,children:[S.code," - ",S.brand," ",S.model," (",S.customer?.name,")"]},S.id))}),e.jsx(Se,{name:"inspected_by",label:"Inspector",formik:_,fullWidth:!0,children:x.map(S=>e.jsxs(Z,{value:S.id,children:[S.name," (",S.email,")"]},S.id))}),e.jsx(oe,{name:"inspection_date",label:"Inspection Date",formik:_,type:"date",required:!0}),e.jsx(oe,{name:"temperature",label:"Temperature (C)",placeholder:"Enter temperature",formik:_,type:"number"}),e.jsxs(Se,{name:"is_working",label:"Working Status",formik:_,required:!0,children:[e.jsx(Z,{value:"Y",children:"Working"}),e.jsx(Z,{value:"N",children:"Not Working"})]}),e.jsxs(Se,{name:"action_required",label:"Action Required",formik:_,required:!0,children:[e.jsx(Z,{value:"Y",children:"Yes"}),e.jsx(Z,{value:"N",children:"No"})]}),e.jsx(oe,{name:"latitude",label:"Latitude",placeholder:"Enter latitude",formik:_,type:"number",slotProps:{htmlInput:{inputMode:"decimal",pattern:"[+-]?[0-9]*\\.?[0-9]*",step:"any",onKeyPress:S=>{!/[0-9.-]/.test(S.key)&&S.key!=="Backspace"&&S.key!=="Delete"&&S.key!=="Tab"&&S.key!=="Enter"&&S.preventDefault()}}}}),e.jsx(oe,{name:"longitude",label:"Longitude",placeholder:"Enter longitude",formik:_,type:"number",slotProps:{htmlInput:{inputMode:"decimal",pattern:"[+-]?[0-9]*\\.?[0-9]*",step:"any",onKeyPress:S=>{!/[0-9.-]/.test(S.key)&&S.key!=="Backspace"&&S.key!=="Delete"&&S.key!=="Tab"&&S.key!=="Enter"&&S.preventDefault()}}}}),e.jsx(oe,{name:"next_inspection_due",label:"Next Inspection Due",formik:_,type:"date"}),e.jsx(Se,{name:"visit_id",label:"Visit",formik:_,children:j.map(S=>e.jsx(Z,{value:S.id,children:`Visit #${S.id} - ${S.customer?.name} (${S.visit_date?$r(S.visit_date):"No date"})`},S.id))}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"issues",label:"Issues Found",placeholder:"Describe any issues found during inspection...",formik:_,multiline:!0,rows:3})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"action_taken",label:"Action Taken",placeholder:"Describe any actions taken to resolve issues...",formik:_,multiline:!0,rows:3})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"images",label:"Images",placeholder:"Image URLs or file paths (comma-separated)...",formik:_,multiline:!0,rows:2})}),e.jsx(Es,{name:"is_active",label:"Status",formik:_})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},WIe=()=>{const t=Fs(),[s,a]=g.useState(""),[r,n]=g.useState("all"),[i,o]=g.useState("all"),[l,c]=g.useState("all"),[m,d]=g.useState("all"),[p,x]=g.useState(null),[j,_]=g.useState(!1),[S,v]=g.useState(!1),[y,N]=g.useState(1),[C]=g.useState(10),{isCreate:P,isUpdate:E,isDelete:D,isRead:T}=Ze("inspection"),{data:A,isLoading:I,error:F}=SIe({search:s,page:y,limit:C,isActive:r==="all"?void 0:r==="Y"?"Y":"N",isWorking:i==="all"?void 0:i,actionRequired:l==="all"?void 0:l,inspector_id:m==="all"||m===""||!m?void 0:Number(m)},{enabled:T}),z=A?.data||[],O=A?.meta?.total_count||0,K=(A?.meta?.current_page||1)-1,W=EIe(),B=ls(),q=A?.stats,H=q?.total_inspections??0,Q=q?.active_inspections??0,V=q?.inactive_inspections??0,M=q?.new_inspections_this_month??0,R=g.useCallback(()=>{x(null),_(!0)},[]),$=g.useCallback(ge=>{x(ge),_(!0)},[]),Y=g.useCallback(ge=>{t(`/transactions/inspections/${ge.id}`)},[t]),J=g.useCallback(async ge=>{try{await W.mutateAsync(ge)}catch(le){console.error("Error deleting cooler inspection:",le)}},[W]),te=g.useCallback(ge=>{a(ge),N(1)},[]),ee=g.useCallback((ge,le)=>{d(le?String(le.id):"all"),N(1)},[]),ne=ge=>{N(ge+1)},he=g.useCallback(async()=>{try{const ge={search:s,isActive:r==="all"?void 0:r==="Y"?"Y":"N",isWorking:i==="all"?void 0:i,actionRequired:l==="all"?void 0:l,inspector_id:m==="all"||m===""||!m?void 0:Number(m)};await B.mutateAsync({tableName:"cooler_inspections",filters:ge})}catch(ge){console.error("Error exporting cooler inspections:",ge)}},[B,s,r,i,l,m]),de=ge=>{switch(ge){case"Y":return"success";case"N":return"error";default:return"default"}},ae=ge=>{switch(ge){case"Y":return"success";case"N":return"error";default:return"default"}},xe=[{id:"cooler_info",label:"Cooler Info",render:(ge,le)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:le.cooler?.code,className:"!rounded !bg-blue-100 !text-blue-500",children:e.jsx(Ex,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:le.cooler?.code||"Unknown Cooler"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:le.cooler?.brand&&le.cooler?.model?`${le.cooler.brand} ${le.cooler.model}`:"Unknown Model"})]})]})},{id:"customer",label:"Customer",render:(ge,le)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ot,{alt:le.cooler?.customer?.name||"Customer",src:"mkx",className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(b,{className:"flex flex-col",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:le.cooler?.customer?.name||"Unknown Customer"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:le.cooler?.customer?.code??""})]})]})},{id:"inspection_details",label:"Inspection Details",render:(ge,le)=>e.jsxs(b,{className:"flex flex-col gap-1",children:[e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ws,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:le.inspection_date?Fe(le.inspection_date):"Not inspected"})]}),le.temperature&&e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(Bv,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-xs",children:[le.temperature,"C"]})]})]})},{id:"working_status",label:"Working Status",render:(ge,le)=>e.jsx(Re,{icon:le.is_working==="Y"?e.jsx(No,{}):e.jsx(Lr,{}),label:le.is_working==="Y"?"Working":"Not Working",size:"small",variant:"outlined",color:de(le.is_working)})},{id:"action_required",label:"Action Required",render:(ge,le)=>e.jsx(Re,{label:le.action_required==="Y"?"Yes":"No",size:"small",icon:le.action_required==="Y"?e.jsx(No,{}):e.jsx(Lr,{}),variant:"outlined",color:ae(le.action_required)})},{id:"inspector",label:"Inspector",render:(ge,le)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ot,{alt:le.inspector?.name||"Inspector",src:le.inspector?.profile_image||"mkx",className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(b,{className:"flex flex-col",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:le.inspector?.name||"No inspector"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:le.inspector?.email||"No email"})]})]})},{id:"location",label:"Location",render:(ge,le)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ta,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:le.latitude&&le.longitude?`${le.latitude.toFixed(4)}, ${le.longitude.toFixed(4)}`:e.jsx("span",{className:"italic text-sm",children:"No Location"})})]})},{id:"next_inspection",label:"Next Inspection",render:(ge,le)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ws,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:le.next_inspection_due?Fe(le.next_inspection_due):e.jsx("span",{className:"italic text-sm",children:"No Date"})})]})},{id:"is_active",label:"Active Status",render:(ge,le)=>e.jsx(Re,{icon:le.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:le.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:le.is_active==="Y"?"success":"error"})},...T||E||D?[{id:"action",label:"Actions",sortable:!1,render:(ge,le)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[T&&e.jsx(Ua,{onClick:()=>Y(le),tooltip:"View cooler inspection details",icon:e.jsx(kn,{}),color:"success"}),E&&e.jsx(ss,{onClick:()=>$(le),tooltip:`Edit Inspection ${le.id}`}),D&&e.jsx(Ht,{onClick:()=>J(le.id),tooltip:`Delete Inspection ${le.id}`,itemName:`Inspection ${le.id}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Cooler Inspections"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track and manage cooler inspections across installations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Inspections",value:H,icon:e.jsx(tl,{className:"w-6 h-6"}),color:"blue",isLoading:I}),e.jsx(fe,{title:"Active Inspections",value:Q,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:I}),e.jsx(fe,{title:"Inactive Inspections",value:V,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:I}),e.jsx(fe,{title:"This Month",value:M,icon:e.jsx(ws,{className:"w-6 h-6"}),color:"purple",isLoading:I})]}),F&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load cooler inspections. Please try again."}),e.jsx(ct,{data:z,columns:xe,actions:T||P?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:T&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Cooler Inspections...",value:s,onChange:te,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:r,onChange:ge=>n(ge.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]}),e.jsxs(Se,{value:i,onChange:ge=>o(ge.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Working"}),e.jsx(Z,{value:"Y",children:"Working"}),e.jsx(Z,{value:"N",children:"Not Working"})]}),e.jsxs(Se,{value:l,onChange:ge=>c(ge.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Action"}),e.jsx(Z,{value:"Y",children:"Action Required"}),e.jsx(Z,{value:"N",children:"No Action"})]}),e.jsx(Dr,{label:"",value:m==="all"||m==="null"?void 0:m,onChange:ee,fullWidth:!0,size:"small",className:"!w-60",placeholder:"Select Inspector"})]})}),T&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xt,{title:"Export Cooler Inspections",description:"Are you sure you want to export the current cooler inspections data to Excel? This will include all filtered results.",onConfirm:he,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:B.isPending,children:B.isPending?"Exporting...":"Export"})}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>v(!0),children:"Import"}),P&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:R,children:"Create"})]})]}):!1,getRowId:ge=>ge.id,initialOrderBy:"inspection_date",loading:I,totalCount:O,page:K,rowsPerPage:C,isPermission:T,onPageChange:ne,emptyMessage:s?`No cooler inspections found matching "${s}"`:"No cooler inspections found in the system"}),e.jsx(HIe,{selectedInspection:p,setSelectedInspection:x,drawerOpen:j,setDrawerOpen:_}),e.jsx(DIe,{drawerOpen:S,setDrawerOpen:v})]})},YIe=()=>{const{id:t}=Br(),s=Fs(),{data:a,isLoading:r,error:n,isFetching:i}=CIe(Number(t)),o=a,l=TIe(),c=async(S,v)=>{try{await l.mutateAsync({id:o?.id||0,status:S,value:v})}catch(y){console.error("Error updating status:",y)}},m=S=>({Y:"!bg-green-100 !text-green-800",N:"!bg-red-100 !text-red-800"})[S]||"bg-gray-100 text-gray-800",d=S=>({Y:"Working",N:"Not Working"})[S]||"Unknown",p=S=>({Y:"!bg-yellow-100 !text-yellow-800",N:"!bg-green-100 !text-green-800"})[S]||"!bg-gray-100 !text-gray-800",x=S=>({Y:"Action Required",N:"No Action Required"})[S]||"Unknown",j=()=>{s("/transactions/inspections")};if(r||i)return e.jsxs("div",{className:"!flex !items-start !gap-4",children:[e.jsxs("div",{className:"!flex-2 !flex !flex-col !gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-3 !right-3",children:e.jsx(X,{variant:"circular",width:10,height:10,className:"!bg-green-200"})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(X,{variant:"circular",width:96,height:96,className:"!mx-auto !border-3 !border-white"})}),e.jsx(X,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(X,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-2 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"30%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"60%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"70%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"25%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:14})]})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4].map(S=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(X,{variant:"text",width:`${40+S*8}%`,height:12}),e.jsx(X,{variant:"text",width:`${60+S*6}%`,height:16}),S===1&&e.jsx(X,{variant:"text",width:"50%",height:12,className:"!mt-1"})]},S))})]})]})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(S=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(X,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"40%",height:12})]}),e.jsx(X,{variant:"text",width:80,height:16,className:"!text-right"})]}),e.jsx(X,{variant:"text",width:"70%",height:12,className:"!mt-1"})]},S))})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:150,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2].map(S=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(X,{variant:"text",width:"70%",height:16,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:12})]}),e.jsxs("div",{className:"!text-right",children:[e.jsx(X,{variant:"text",width:80,height:16,className:"!mb-1"}),e.jsx(X,{variant:"rectangular",width:60,height:20,className:"!rounded-full"})]})]}),e.jsxs("div",{className:"!flex !items-center !justify-between !text-xs",children:[e.jsx(X,{variant:"text",width:"30%",height:10}),e.jsx(X,{variant:"text",width:"40%",height:10})]})]},S))})]})]})]})]});if(n||!o)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ia,{className:"w-5 h-5"}),e.jsx(f,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load cooler inspection details"})]}),e.jsx(f,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:j,className:"mt-4",children:"Back to Cooler Inspections"})]});const _=({title:S,children:v,icon:y})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[y&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(y,{className:"!text-primary-500"})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:S})]}),v]})]});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${o.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ot,{className:lr("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":o.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":o.is_active!=="Y"}),children:e.jsx(tl,{className:"!w-8 !h-8"})})}),e.jsxs(f,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:["Inspection #",o.id]}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mb-3",children:o.cooler?.code||"Unknown Cooler"}),e.jsx(Re,{label:d(o.is_working),className:`${m(o.is_working)} font-semibold`,size:"small"}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Inspection Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.inspection_date?Fe(o.inspection_date):"Not inspected"})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Temperature"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.temperature?`${o.temperature}C`:"Not monitored"})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Action Required"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:x(o.action_required)})]})]})]}),e.jsx(_,{title:"Inspection Details",icon:ws,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(ws,{className:"!text-blue-500 !w-4 !h-4"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Inspection Date"})]}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-blue-600",children:o.inspection_date?Fe(o.inspection_date):"Not inspected"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Bv,{className:"!text-green-500 !w-4 !h-4"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Temperature"})]}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-green-600",children:o.temperature?`${o.temperature}C`:"Not monitored"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(ws,{className:"!text-orange-500 !w-4 !h-4"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Next Inspection Due"})]}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-orange-600",children:o.next_inspection_due?Fe(o.next_inspection_due):"Not scheduled"})]})}),o.latitude&&o.longitude&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(ta,{className:"!text-purple-500 !w-4 !h-4"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Location"})]}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-purple-600",children:[o.latitude.toFixed(4),","," ",o.longitude.toFixed(4)]})]})})]})})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsx(_,{title:"Cooler Information",icon:Ex,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Cooler Code"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.cooler?.code||"Unknown Cooler"}),e.jsxs(f,{variant:"caption",className:"!text-gray-500",children:[o.cooler?.brand," ",o.cooler?.model]})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.cooler?.customer?.name||"Unknown Customer"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:o.cooler?.customer?.code})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Inspector"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.inspector?.name||"No inspector assigned"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:o.inspector?.email})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Serial Number"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !font-mono",children:o.cooler?.serial_number||"Not provided"})]}),o.issues&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Issues Found"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.issues})]})]})}),e.jsx(_,{title:"Status & Actions",icon:tl,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Working Status"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:"Operational status"})]}),e.jsx(Re,{label:d(o.is_working),className:`${m(o.is_working)} font-semibold`,size:"small"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Action Required"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:"Maintenance status"})]}),e.jsx(Re,{label:x(o.action_required),className:`${p(o.action_required)} font-semibold`,size:"small"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Inspection Status"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:"System status"})]}),e.jsx(Re,{label:o.is_active==="Y"?"Active":"Inactive",color:o.is_active==="Y"?"success":"error",size:"small"})]})}),o.action_taken&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsx("div",{className:"!flex !items-center !justify-between",children:e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Action Taken"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:o.action_taken})]})})})]})}),e.jsx(_,{title:"Status Management",icon:tl,children:e.jsxs("div",{className:"!space-y-4",children:[e.jsxs("div",{className:"!space-y-2",children:[e.jsx(f,{variant:"subtitle2",className:"!font-semibold !text-gray-900",children:"Working Status"}),e.jsxs("div",{className:"!grid !grid-cols-1 sm:!grid-cols-2 !gap-2",children:[e.jsx(G,{variant:o.is_working==="Y"?"contained":"outlined",color:"success",onClick:()=>o.is_working!=="Y"&&c("is_working","Y"),disabled:l.isPending,className:"!w-full",size:"small",children:"Set Working"}),e.jsx(G,{variant:o.is_working==="N"?"contained":"outlined",color:"error",onClick:()=>o.is_working!=="N"&&c("is_working","N"),disabled:l.isPending,className:"!w-full",size:"small",children:"Set Not Working"})]})]}),e.jsxs("div",{className:"!space-y-2",children:[e.jsx(f,{variant:"subtitle2",className:"!font-semibold !text-gray-900",children:"Action Required"}),e.jsxs("div",{className:"!grid !grid-cols-1 sm:!grid-cols-2 !gap-2",children:[e.jsx(G,{variant:o.action_required==="N"?"contained":"outlined",color:"success",onClick:()=>o.action_required!=="N"&&c("action_required","N"),disabled:l.isPending,className:"!w-full",size:"small",children:"Set No Action Required"}),e.jsx(G,{variant:o.action_required==="Y"?"contained":"outlined",color:"warning",onClick:()=>o.action_required!=="Y"&&c("action_required","Y"),disabled:l.isPending,className:"!w-full",size:"small",children:"Set Action Required"})]})]}),e.jsxs("div",{className:"!space-y-2",children:[e.jsx(f,{variant:"subtitle2",className:"!font-semibold !text-gray-900",children:"Active Status"}),e.jsxs("div",{className:"!grid !grid-cols-1 sm:!grid-cols-2 !gap-2",children:[e.jsx(G,{variant:o.is_active==="Y"?"contained":"outlined",color:"success",onClick:()=>o.is_active!=="Y"&&c("is_active","Y"),disabled:l.isPending,className:"!w-full",size:"small",children:"Set Active"}),e.jsx(G,{variant:o.is_active==="N"?"contained":"outlined",color:"error",onClick:()=>o.is_active!=="N"&&c("is_active","N"),disabled:l.isPending,className:"!w-full",size:"small",children:"Set Inactive"})]})]})]})})]})]})})},GIe=nt({file:ps().required("Please select a file to import")}),KIe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:GIe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("cooler_installations")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"cooler_installations",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Cooler Installations",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple cooler installations. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},QIe=nt({customer_id:Ye().required("Customer is required").positive("Customer must be selected"),asset_master_id:Ye().required("Cooler is required").positive("Cooler must be selected"),code:ce().min(2,"Cooler code must be at least 2 characters").max(50,"Cooler code must be less than 50 characters"),brand:ce().max(100,"Brand must be less than 100 characters"),model:ce().max(100,"Model must be less than 100 characters"),serial_number:ce().max(100,"Serial number must be less than 100 characters"),capacity:Ye().min(0,"Capacity must be non-negative"),install_date:Ca().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Installation date must be a valid date").max(new Date,"Installation date cannot be in the future").min(new Date(new Date().setFullYear(new Date().getFullYear()-30)),"Installation date cannot be more than 30 years ago").nullable(),last_service_date:Ca().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Last service date must be a valid date").max(new Date,"Last service date cannot be in the future").nullable().when("install_date",([t],s)=>t&&t!=="undefined"&&t!==""?s.min(t,"Last service date cannot be before installation date"):s),next_service_due:Ca().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Next service due must be a valid date").min(new Date,"Next service due must be in the future").max(new Date(new Date().setFullYear(new Date().getFullYear()+5)),"Next service due cannot be more than 5 years in the future").nullable().when("last_service_date",([t],s)=>t&&t!=="undefined"&&t!==""?s.min(t,"Next service due must be after last service date"):s),status:ce().max(20,"Status must be less than 20 characters"),temperature:Ye().typeError("Temperature must be a number").min(-30,"Temperature cannot be below -30C").max(50,"Temperature cannot be above 50C").nullable(),energy_rating:ce().matches(/^(A\+\+|A\+|A|B|C|D|E|F|G)$/i,"Energy rating must be one of: A++, A+, A, B, C, D, E, F, G").max(10,"Energy rating must be less than 10 characters"),warranty_expiry:Ca().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Warranty expiry must be a valid date").min(new Date,"Warranty expiry cannot be in the past").max(new Date(new Date().setFullYear(new Date().getFullYear()+20)),"Warranty expiry cannot be more than 20 years in the future").nullable(),maintenance_contract:ce().max(100,"Maintenance contract must be less than 100 characters"),technician_id:Ye().positive("Technician must be selected"),last_scanned_date:Ca().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Last scanned date must be a valid date").max(new Date,"Last scanned date cannot be in the future").min(new Date(new Date().setFullYear(new Date().getFullYear()-2)),"Last scanned date cannot be more than 2 years ago").nullable(),is_active:ce().oneOf(["Y","N"],"Status must be Active or Inactive").required("Status is required")}),ZIe=({selectedInstallation:t,setSelectedInstallation:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),c.resetForm()},o=zIe(),l=qIe(),c=pt({initialValues:{customer_id:t?.customer_id||"",asset_master_id:t?.asset_master_id||"",code:t?.code||"",brand:t?.brand||"",model:t?.model||"",serial_number:t?.serial_number||"",capacity:t?.capacity||"",install_date:t?.install_date?$r(t.install_date):"",last_service_date:t?.last_service_date?$r(t.last_service_date):"",next_service_due:t?.next_service_due?$r(t.next_service_due):"",cooler_type_id:t?.cooler_type_id||"",cooler_sub_type_id:t?.cooler_sub_type_id||"",status:t?.status||"working",temperature:t?.temperature||"",energy_rating:t?.energy_rating||"",warranty_expiry:t?.warranty_expiry?$r(t.warranty_expiry):"",maintenance_contract:t?.maintenance_contract||"",technician_id:t?.technician_id||"",last_scanned_date:t?.last_scanned_date?$r(t.last_scanned_date):"",is_active:t?.is_active||"Y"},validationSchema:QIe,enableReinitialize:!0,onSubmit:async v=>{v.cooler_type_id||c.setFieldValue("cooler_sub_type_id","");try{const y={customer_id:Number(v.customer_id),asset_master_id:v.asset_master_id?Number(v.asset_master_id):void 0,code:v.code||void 0,brand:v.brand,model:v.model,serial_number:v.serial_number,capacity:v.capacity?Number(v.capacity):void 0,install_date:v.install_date,last_service_date:v.last_service_date,next_service_due:v.next_service_due,cooler_type_id:v.cooler_type_id?Number(v.cooler_type_id):void 0,cooler_sub_type_id:v.cooler_sub_type_id?Number(v.cooler_sub_type_id):void 0,status:v.status,temperature:v.temperature?Number(v.temperature):void 0,energy_rating:v.energy_rating,warranty_expiry:v.warranty_expiry,maintenance_contract:v.maintenance_contract,technician_id:v.technician_id?Number(v.technician_id):void 0,last_scanned_date:v.last_scanned_date,is_active:v.is_active};n&&t?await l.mutateAsync({id:t.id,...y}):await o.mutateAsync(y),i()}catch(y){console.error("Error saving cooler installation:",y)}}}),{data:m}=P3(),d=c.values.cooler_type_id?Number(c.values.cooler_type_id):void 0,{data:p}=$De(d),{data:x}=h1({page:1,limit:1e3,status:"active"}),j=m?.data||[],_=p?.data||[],S=x?.data||[];return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Cooler Installation":"Create Cooler Installation",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(Se,{name:"asset_master_id",label:"Cooler",formik:c,required:!0,children:S.map(v=>e.jsxs(Z,{value:v.id,children:[v.serial_number," - ",v.current_status]},v.id))}),e.jsx(oe,{name:"code",label:"Cooler Code",placeholder:"Enter cooler code",formik:c,helperText:"Leave empty to auto-generate cooler code"}),e.jsx(Yn,{name:"customer_id",label:"Outlet",formik:c,required:!0}),e.jsx(oe,{name:"brand",label:"Brand",placeholder:"Enter cooler brand",formik:c}),e.jsx(oe,{name:"model",label:"Model",placeholder:"Enter cooler model",formik:c}),e.jsx(oe,{name:"serial_number",label:"Serial Number",placeholder:"Enter serial number",formik:c}),e.jsx(oe,{name:"capacity",label:"Capacity (Liters)",placeholder:"Enter capacity",formik:c,type:"number"}),e.jsx(oe,{name:"install_date",label:"Installation Date",formik:c,type:"date"}),e.jsx(Se,{name:"cooler_type_id",label:"Cooler Type",formik:c,onChange:v=>{c.setFieldValue("cooler_type_id",v.target.value),c.setFieldValue("cooler_sub_type_id","")},children:j.map(v=>e.jsx(Z,{value:v.id,children:v.name},v.id))}),e.jsx(Se,{name:"cooler_sub_type_id",label:"Cooler Sub Type",formik:c,disabled:!c.values.cooler_type_id,children:_.map(v=>e.jsx(Z,{value:v.id,children:v.name},v.id))}),e.jsxs(Se,{name:"status",label:"Status",formik:c,children:[e.jsx(Z,{value:"working",children:"Working"}),e.jsx(Z,{value:"maintenance",children:"Maintenance"}),e.jsx(Z,{value:"broken",children:"Broken"}),e.jsx(Z,{value:"offline",children:"Offline"})]}),e.jsx(oe,{name:"temperature",label:"Temperature (C)",placeholder:"Enter current temperature",formik:c,type:"number"}),e.jsx(oe,{name:"energy_rating",label:"Energy Rating",placeholder:"e.g., A++, A+, A",formik:c}),e.jsx(oe,{name:"last_service_date",label:"Last Service Date",formik:c,type:"date"}),e.jsx(oe,{name:"next_service_due",label:"Next Service Due",formik:c,type:"date"}),e.jsx(oe,{name:"warranty_expiry",label:"Warranty Expiry",formik:c,type:"date"}),e.jsx(Dr,{name:"technician_id",label:"Technician",formik:c,placeholder:"Search technician..."}),e.jsx(oe,{name:"last_scanned_date",label:"Last Scanned Date",formik:c,type:"date"}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"maintenance_contract",label:"Maintenance Contract",placeholder:"Enter maintenance contract details",formik:c,multiline:!0,rows:3})}),e.jsx(Es,{name:"is_active",label:"Status",formik:c,required:!0})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},XIe=()=>{const t=Fs(),[s,a]=g.useState(""),[r,n]=g.useState("all"),[i,o]=g.useState("all"),[l,c]=g.useState("all"),[m,d]=g.useState(null),[p,x]=g.useState(!1),[j,_]=g.useState(!1),[S,v]=g.useState(1),[y]=g.useState(10),{isCreate:N,isUpdate:C,isDelete:P,isRead:E}=Ze("installation"),{data:D,isLoading:T,isFetching:A,error:I}=m$({search:s,page:S,limit:y,isActive:r==="all"?void 0:r,status:i==="all"?void 0:i,technician_id:l==="all"||l===""||!l?void 0:Number(l)},{enabled:E}),F=D?.data||[],z=D?.meta?.total_count||0,O=(D?.meta?.page||1)-1,K=BIe(),W=ls(),B=D?.stats,q=B?.total_coolers??0,H=B?.active_coolers??0,Q=B?.inactive_coolers??0,V=B?.new_coolers_this_month??0,M=g.useCallback(()=>{d(null),x(!0)},[]),R=g.useCallback(ae=>{d(ae),x(!0)},[]),$=g.useCallback(ae=>{t(`/transactions/installations/${ae.id}`)},[t]),Y=g.useCallback(async ae=>{try{await K.mutateAsync(ae)}catch(xe){console.error("Error deleting cooler installation:",xe)}},[K]),J=g.useCallback(ae=>{a(ae),v(1)},[]),te=g.useCallback((ae,xe)=>{c(xe?String(xe.id):"all"),v(1)},[]),ee=ae=>{v(ae+1)},ne=g.useCallback(async()=>{try{const ae={search:s,isActive:r==="all"?void 0:r,status:i==="all"?void 0:i,technician_id:l==="all"||l===""||!l?void 0:Number(l)};await W.mutateAsync({tableName:"cooler_installations",filters:ae})}catch(ae){console.error("Error exporting cooler installations:",ae)}},[W,s,r]),he=ae=>{switch(ae){case"working":return"success";case"maintenance":return"warning";case"broken":return"error";case"offline":return"default";default:return"default"}},de=[{id:"cooler_info",label:"Cooler Info",sortable:!1,render:(ae,xe)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:xe.code,className:"!rounded !bg-blue-100 !text-blue-500",children:e.jsx(Ex,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:xe.code}),e.jsxs(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:[xe.brand?`${xe.brand}`:"Unknown Brand",xe.model?` ${xe.model}`:""]})]})]})},{id:"customer",label:"Customer",sortable:!1,render:(ae,xe)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ot,{alt:xe.customer?.name||"Customer",src:"mkx",className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(b,{className:"flex flex-col",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:xe.customer?.name||"Unknown Customer"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:xe.customer?.code??""})]})]})},{id:"asset",label:"Cooler",sortable:!1,render:(ae,xe)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx($t,{className:"w-4 h-4 text-gray-400"}),e.jsxs(b,{className:"flex flex-col",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:xe.asset_master?.serial_number||"No Asset"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:xe.asset_master?.current_status||"Unknown Status"})]})]})},{id:"installation_details",label:"Installation Details",sortable:!1,render:(ae,xe)=>e.jsxs(b,{className:"flex flex-col gap-1",children:[e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ws,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:xe.install_date?Fe(xe.install_date):"Not installed"})]}),xe.capacity&&e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx($t,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-xs",children:[xe.capacity,"L"]})]})]})},{id:"cooler_type",label:"Cooler Type",render:(ae,xe)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:xe.cooler_type?.name||e.jsx("span",{className:"italic text-gray-400",children:"No Type"})})},{id:"cooler_sub_type",label:"Cooler Sub Type",render:(ae,xe)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:xe.cooler_sub_type?.name||e.jsx("span",{className:"italic text-gray-400",children:"No Sub Type"})})},{id:"status",label:"Status",render:(ae,xe)=>e.jsx(Re,{label:xe.status||"Unknown",size:"small",variant:"outlined",color:he(xe.status),className:"!capitalize"})},{id:"temperature",label:"Temperature",render:(ae,xe)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(Bv,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:xe.temperature?`${xe.temperature}C`:"N/A"})]})},{id:"technician",label:"Technician",sortable:!1,render:(ae,xe)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ot,{alt:xe.technician?.name||"Technician",src:xe.technician?.profile_image||"mkx",className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(b,{className:"flex flex-col",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:xe.technician?.name||"No technician"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:xe.technician?.email||"No email"})]})]})},{id:"next_service",label:"Next Service",render:(ae,xe)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ws,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:xe.next_service_due?Fe(xe.next_service_due):"N/A"})]})},{id:"is_active",label:"Active Status",render:(ae,xe)=>e.jsx(Re,{icon:xe.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:xe.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:xe.is_active==="Y"?"success":"error"})},...E||C||P?[{id:"action",label:"Actions",sortable:!1,render:(ae,xe)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[E&&e.jsx(Ua,{onClick:()=>$(xe),tooltip:"View cooler installation details",icon:e.jsx(kn,{}),color:"success"}),C&&e.jsx(ss,{onClick:()=>R(xe),tooltip:`Edit Installation ${xe.code}`}),P&&e.jsx(Ht,{onClick:()=>Y(xe.id),tooltip:`Delete Installation ${xe.code}`,itemName:`Installation ${xe.code}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Cooler Installations"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track and manage cooler installations across customers"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Installations",value:q,icon:e.jsx(Ex,{className:"w-6 h-6"}),color:"blue",isLoading:T||A}),e.jsx(fe,{title:"Active Installations",value:H,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:T||A}),e.jsx(fe,{title:"Inactive Installations",value:Q,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:T||A}),e.jsx(fe,{title:"This Month",value:V,icon:e.jsx(ws,{className:"w-6 h-6"}),color:"purple",isLoading:T||A})]}),I&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load cooler installations. Please try again."}),e.jsx(ct,{data:F,columns:de,actions:E||N?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:E&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Cooler Installations...",value:s,onChange:J,debounceMs:400,className:"!w-52"}),e.jsxs(Se,{value:r,onChange:ae=>n(ae.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]}),e.jsxs(Se,{value:i,onChange:ae=>o(ae.target.value),className:"!w-50",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"working",children:"Working"}),e.jsx(Z,{value:"maintenance",children:"Maintenance"}),e.jsx(Z,{value:"broken",children:"Broken"}),e.jsx(Z,{value:"offline",children:"Offline"})]}),e.jsx(Dr,{label:"",placeholder:"Select Technician",value:l==="all"||l==="null"?void 0:l,onChange:te,fullWidth:!0,size:"small",className:"!w-60"})]})}),E&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xt,{title:"Export Cooler Installations",description:"Are you sure you want to export the current cooler installations data to Excel? This will include all filtered results.",onConfirm:ne,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:W.isPending,children:W.isPending?"Exporting...":"Export"})}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>_(!0),children:"Import"})]}),N&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:M,children:"Create"})]}):!1,getRowId:ae=>ae.id,initialOrderBy:"install_date",loading:T||A,totalCount:z,page:O,rowsPerPage:y,isPermission:E,onPageChange:ee,emptyMessage:s?`No cooler installations found matching "${s}"`:"No cooler installations found in the system"}),e.jsx(ZIe,{selectedInstallation:m,setSelectedInstallation:d,drawerOpen:p,setDrawerOpen:x}),e.jsx(KIe,{drawerOpen:j,setDrawerOpen:_})]})},JIe=()=>{const{id:t}=Br(),s=Fs(),{data:a,isLoading:r,error:n,isFetching:i}=$Ie(Number(t)),o=a,l=UIe(),c=()=>{s("/transactions/installations")},m=async(j,_)=>{try{await l.mutateAsync({id:o?.id||0,status:j,value:_})}catch(S){console.error("Error updating status:",S)}},d=j=>{switch(j){case"working":return"success";case"maintenance":return"warning";case"broken":return"error";case"offline":return"default";default:return"default"}},p=j=>{switch(j){case"working":return"Working";case"maintenance":return"Maintenance";case"broken":return"Broken";case"offline":return"Offline";default:return"Unknown"}};if(r||i)return e.jsxs("div",{className:"!flex !items-start !gap-4",children:[e.jsxs("div",{className:"!flex-2 !flex !flex-col !gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-3 !right-3",children:e.jsx(X,{variant:"circular",width:10,height:10,className:"!bg-green-200"})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(X,{variant:"circular",width:96,height:96,className:"!mx-auto !border-3 !border-white"})}),e.jsx(X,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(X,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-2 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"30%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"60%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"70%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"25%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:14})]})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4].map(j=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(X,{variant:"text",width:`${40+j*8}%`,height:12}),e.jsx(X,{variant:"text",width:`${60+j*6}%`,height:16}),j===1&&e.jsx(X,{variant:"text",width:"50%",height:12,className:"!mt-1"})]},j))})]})]})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(j=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(X,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"40%",height:12})]}),e.jsx(X,{variant:"text",width:80,height:16,className:"!text-right"})]}),e.jsx(X,{variant:"text",width:"70%",height:12,className:"!mt-1"})]},j))})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:150,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2].map(j=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(X,{variant:"text",width:"70%",height:16,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:12})]}),e.jsxs("div",{className:"!text-right",children:[e.jsx(X,{variant:"text",width:80,height:16,className:"!mb-1"}),e.jsx(X,{variant:"rectangular",width:60,height:20,className:"!rounded-full"})]})]}),e.jsxs("div",{className:"!flex !items-center !justify-between !text-xs",children:[e.jsx(X,{variant:"text",width:"30%",height:10}),e.jsx(X,{variant:"text",width:"40%",height:10})]})]},j))})]})]})]})]});if(n||!o)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ia,{className:"w-5 h-5"}),e.jsx(f,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load cooler installation details"})]}),e.jsx(f,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:c,className:"mt-4",children:"Back to Cooler Installations"})]});const x=({title:j,children:_,icon:S})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[S&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(S,{className:"!text-primary-500"})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:j})]}),_]})]});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex lg:!flex-row flex-col items-start gap-4",children:[e.jsxs("div",{className:"lg:!flex-2 !w-full !flex-1 !flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${o.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ot,{className:lr("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":o.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":o.is_active!=="Y"}),children:e.jsx(Ex,{className:"!w-8 !h-8"})})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:o.code}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mb-3",children:o.brand&&o.model?`${o.brand} ${o.model}`:"Unknown Model"}),e.jsx(Re,{label:p(o.status),color:d(o.status),size:"small"}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Capacity"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.capacity?`${o.capacity}L`:"Not specified"})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Temperature"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.temperature?`${o.temperature}C`:"Not monitored"})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Energy Rating"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.energy_rating||"Not rated"})]})]})]}),e.jsx(x,{title:"Installation Details",icon:ws,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(ws,{className:"!text-blue-500 !w-4 !h-4"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Installation Date"})]}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-blue-600",children:o.install_date?Fe(o.install_date):"Not installed"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(tl,{className:"!text-green-500 !w-4 !h-4"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Last Service Date"})]}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-green-600",children:o.last_service_date?Fe(o.last_service_date):"No service history"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(ws,{className:"!text-orange-500 !w-4 !h-4"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Next Service Due"})]}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-orange-600",children:o.next_service_due?Fe(o.next_service_due):"Not scheduled"})]})}),o.last_scanned_date&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Bv,{className:"!text-purple-500 !w-4 !h-4"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Last Scanned"})]}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-purple-600",children:Fe(o.last_scanned_date)})]})})]})})]}),e.jsxs("div",{className:"lg:!flex-4 !w-full !flex-1 !space-y-4",children:[e.jsx(x,{title:"Cooler Information",icon:$t,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:"Customer"}),e.jsxs(f,{variant:"body1",className:"!text-gray-800",children:[o.customer?.name||"Unknown Customer"," (",o.customer?.code,")"]})]}),e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:"Technician"}),e.jsx(f,{variant:"body1",className:"!text-gray-800",children:o.technician?.name||"No technician assigned"})]}),e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:"Brand & Model"}),e.jsx(f,{variant:"body1",className:"!text-gray-800",children:o.brand&&o.model?`${o.brand} ${o.model}`:"Unknown Brand & Model"})]}),e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:"Serial Number"}),e.jsx(f,{variant:"body1",className:"!text-gray-800",children:o.serial_number||"Not provided"})]}),e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:"Cooler Type"}),e.jsx(f,{variant:"body1",className:"!text-gray-800",children:o.cooler_type?.name||"Not specified"})]}),e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:"Cooler Sub Type"}),e.jsx(f,{variant:"body1",className:"!text-gray-800",children:o.cooler_sub_type?.name||"Not specified"})]}),o.maintenance_contract&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(f,{variant:"body2",className:"!font-bold !text-gray-900",children:"Maintenance Contract"}),e.jsx(f,{variant:"body1",className:"!text-gray-800",children:o.maintenance_contract})]})]})}),e.jsx(x,{title:"Warranty & Service History",icon:tl,children:e.jsxs("div",{className:"!space-y-3",children:[o.warranty_expiry&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"subtitle2",className:"!font-semibold !text-gray-900",children:"Warranty Expiry"}),e.jsx(f,{variant:"body1",className:"!text-gray-800",children:Fe(o.warranty_expiry)})]}),e.jsx(Re,{label:new Date(o.warranty_expiry)>new Date?"Active":"Expired",color:new Date(o.warranty_expiry)>new Date?"success":"error",size:"small"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"subtitle2",className:"!font-semibold !text-gray-900",children:"Current Status"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Operational status"})]}),e.jsx(Re,{label:p(o.status),color:d(o.status),size:"small"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Installation Status"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:"System status"})]}),e.jsx(Re,{label:o.is_active==="Y"?"Active":"Inactive",color:o.is_active==="Y"?"success":"error",size:"small"})]})})]})}),e.jsx(x,{title:"Status Management",icon:tl,children:e.jsxs("div",{className:"!space-y-4",children:[e.jsxs("div",{className:"!space-y-2",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Operational Status"}),e.jsx("div",{className:"!grid !grid-cols-1 sm:!grid-cols-2 lg:!grid-cols-4 !gap-2",children:["working","maintenance","broken","offline"].map(j=>e.jsxs(G,{variant:o.status===j?"contained":"outlined",color:j==="working"?"success":j==="maintenance"?"warning":j==="broken"?"error":"secondary",onClick:()=>o.status!==j&&m("status",j),disabled:l.isPending,className:"!capitalize !w-full",size:"small",children:["Set ",j]}))})]}),e.jsxs("div",{className:"!space-y-2",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Active Status"}),e.jsxs("div",{className:"!grid !grid-cols-1 sm:!grid-cols-2 !gap-2",children:[e.jsx(G,{variant:o.is_active==="Y"?"contained":"outlined",color:"success",onClick:()=>o.is_active!=="Y"&&m("is_active","Y"),disabled:l.isPending,className:"!w-full",size:"small",children:"Set Active"}),e.jsx(G,{variant:o.is_active==="N"?"contained":"outlined",color:"error",onClick:()=>o.is_active!=="N"&&m("is_active","N"),disabled:l.isPending,className:"!w-full",size:"small",children:"Set Inactive"})]})]})]})})]})]})})},eOe=async t=>{try{return(await ie.get("/transaction/credit-notes",{params:t})).data}catch(s){throw s}},tOe=async t=>{try{return(await ie.get(`/transaction/credit-notes/${t}`)).data}catch(s){throw s}},sOe=async t=>(await ie.post("/transaction/credit-notes",t)).data,aOe=async(t,s)=>(await ie.post("/transaction/credit-notes",{...s,id:t})).data,rOe=async t=>(await ie.delete(`/transaction/credit-notes/${t}`)).data,Ko={all:["creditNotes"],lists:()=>[...Ko.all,"list"],list:t=>[...Ko.lists(),t],details:()=>[...Ko.all,"detail"],detail:t=>[...Ko.details(),t]},nOe=(t,s)=>st({queryKey:Ko.list(t||{}),queryFn:()=>eOe(t),staleTime:300*1e3,enabled:s?.enabled??!0}),p$=t=>st({queryKey:Ko.detail(t),queryFn:()=>tOe(t),enabled:!!t,staleTime:300*1e3}),iOe=t=>{const s=is();return Te({mutationFn:sOe,loadingMessage:"Creating credit note...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Ko.lists()})},onError:t?.onError})},oOe=t=>{const s=is();return Te({mutationFn:({id:a,...r})=>aOe(a,r),loadingMessage:"Updating credit note...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Ko.lists()}),s.invalidateQueries({queryKey:Ko.detail(r.id)})},onError:t?.onError})},lOe=t=>{const s=is();return Te({mutationFn:rOe,loadingMessage:"Deleting credit note...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Ko.lists()})},onError:t?.onError})},cOe=nt({file:ps().required("Please select a file to import")}),dOe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:cOe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("credit_notes")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"credit_notes",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Credit Notes",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple credit notes. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},uOe=async t=>{try{return(await ie.get("/orders",{params:t})).data}catch(s){throw s}},mOe=async t=>{try{return(await ie.get(`/orders/${t}`)).data}catch(s){throw s}},pOe=async t=>(await ie.post("/orders",t)).data,hOe=async(t,s)=>(await ie.put(`/orders/${t}`,s)).data,fOe=async t=>(await ie.delete(`/orders/${t}`)).data,Qo={all:["orders"],lists:()=>[...Qo.all,"list"],list:t=>[...Qo.lists(),t],details:()=>[...Qo.all,"detail"],detail:t=>[...Qo.details(),t]},C1=(t,s)=>st({queryKey:Qo.list(t||{}),queryFn:()=>uOe(t),staleTime:300*1e3,enabled:s?.enabled??!0}),h$=t=>st({queryKey:Qo.detail(t),queryFn:()=>mOe(t),enabled:!!t,staleTime:300*1e3}),xOe=t=>{const s=is();return Te({mutationFn:pOe,loadingMessage:"Creating order...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Qo.lists()})},onError:t?.onError})},gOe=t=>{const s=is();return Te({mutationFn:({id:a,...r})=>hOe(a,r),loadingMessage:"Updating order...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Qo.lists()}),s.invalidateQueries({queryKey:Qo.detail(r.id)})},onError:t?.onError})},bOe=t=>{const s=is();return Te({mutationFn:fOe,loadingMessage:"Deleting order...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Qo.lists()})},onError:t?.onError})},yOe=nt({parent_id:Ye().positive("Parent ID must be a positive number").required("Parent ID is required"),customer_id:Ye().positive("Customer ID must be a positive number").required("Customer ID is required"),currency_id:Ye().positive("Currency ID must be a positive number").required("Currency ID is required"),credit_note_date:Ca().required("Credit note date is required"),due_date:Ca().min(ww("credit_note_date"),"Due date must be after credit note date").required("Due date is required"),status:ce().oneOf(["draft","pending","approved","rejected","cancelled"],"Invalid status").required("Status is required"),reason:ce().min(5,"Reason must be at least 5 characters").max(500,"Reason must be less than 500 characters").required("Reason is required"),payment_method:ce().oneOf(["cash","credit","cheque","bank_transfer"],"Invalid payment method").required("Payment method is required"),subtotal:Ye().min(0,"Subtotal must be non-negative").required("Subtotal is required"),discount_amount:Ye().min(0,"Discount amount must be non-negative").required("Discount amount is required"),tax_amount:Ye().min(0,"Tax amount must be non-negative").required("Tax amount is required"),shipping_amount:Ye().min(0,"Shipping amount must be non-negative").required("Shipping amount is required"),total_amount:Ye().min(0,"Total amount must be non-negative").required("Total amount is required"),amount_applied:Ye().min(0,"Amount applied must be non-negative").required("Amount applied is required"),balance_due:Ye().min(0,"Balance due must be non-negative").required("Balance due is required"),notes:ce().max(1e3,"Notes must be less than 1000 characters"),billing_address:ce().max(500,"Billing address must be less than 500 characters"),is_active:ce().oneOf(["Y","N"],"Must be Y or N").required("Is active is required"),creditNoteItems:dl().of(nt({product_id:Ye().positive("Product ID must be a positive number").required("Product ID is required"),quantity:Ye().positive("Quantity must be positive").required("Quantity is required"),unit_price:Ye().min(0,"Unit price must be non-negative").required("Unit price is required"),discount_amount:Ye().min(0,"Discount amount must be non-negative"),tax_amount:Ye().min(0,"Tax amount must be non-negative"),notes:ce().max(500,"Notes must be less than 500 characters")})).min(1,"At least one credit note item is required")}),vOe=({open:t,onClose:s,creditNote:a})=>{const r=!!a,[n,i]=g.useState([]),{data:o}=C1({limit:1e3}),{data:l}=ec({limit:1e3}),{data:c}=p$(a?.id||0),m=o?.data||[],d=l?.data||[],p=iOe(),x=oOe(),j=()=>{s(),i([]),_.resetForm()};yt.useEffect(()=>{if(a&&c?.data){const A=c.data.creditNoteItems?.map(I=>({product_id:I.product_id,quantity:I.quantity?.toString()||"1",unit_price:I.unit_price?.toString()||"0",discount_amount:(I.discount_amount||0).toString(),tax_amount:(I.tax_amount||0).toString(),notes:I.notes||""}))||[];i(A),_.setFieldValue("creditNoteItems",A),_.setFieldValue("credit_note_date",$r(c.data.credit_note_date)),_.setFieldValue("due_date",$r(c.data.due_date))}else i([]),_.setFieldValue("creditNoteItems",[])},[a,c]);const _=pt({initialValues:{parent_id:a?.parent_id?.toString()||"",customer_id:a?.customer_id?.toString()||"",currency_id:a?.currency_id?.toString()||l?.data?.[0]?.id?.toString()||"",credit_note_date:$r(a?.credit_note_date),due_date:$r(a?.due_date),status:a?.status||"draft",reason:a?.reason||"",payment_method:a?.payment_method||"credit",subtotal:a?.subtotal||0,discount_amount:a?.discount_amount||0,tax_amount:a?.tax_amount||0,shipping_amount:a?.shipping_amount||0,total_amount:a?.total_amount||0,amount_applied:a?.amount_applied||0,balance_due:a?.balance_due||0,notes:a?.notes||"",billing_address:a?.billing_address||"",is_active:a?.is_active||"Y",creditNoteItems:[]},validationSchema:yOe,enableReinitialize:!0,onSubmit:async A=>{try{const I={...A,credit_note_date:new Date(A.credit_note_date).toISOString(),parent_id:Number(A.parent_id),customer_id:Number(A.customer_id),currency_id:A.currency_id?Number(A.currency_id):void 0,due_date:new Date(A.due_date).toISOString(),notes:A.notes,billing_address:A.billing_address,creditNoteItems:n.filter(F=>F.product_id!=="").map(F=>({product_id:Number(F.product_id),quantity:Number(F.quantity),unit_price:Number(F.unit_price),discount_amount:Number(F.discount_amount)||0,tax_amount:Number(F.tax_amount)||0,notes:F.notes}))};r&&a?await x.mutateAsync({id:a.id,...I}):await p.mutateAsync(I),j()}catch(I){console.log("Error submitting credit note:",I)}}}),S=()=>{const A={product_id:"",quantity:"1",unit_price:"0",discount_amount:"0",tax_amount:"0",notes:""},I=[...n,A];i(I),_.setFieldValue("creditNoteItems",I)},v=A=>{const I=n.filter((F,z)=>z!==A);i(I),_.setFieldValue("creditNoteItems",I)},y=(A,I,F)=>{const z=[...n];z[A]={...z[A],[I]:F},i(z),_.setFieldValue("creditNoteItems",z)},N=n.map((A,I)=>({...A,_index:I})),C=[{id:"product_id",label:"Product",render:(A,I)=>e.jsx(wo,{value:I.product_id,onChange:(F,z)=>y(I._index,"product_id",z?z.id.toString():""),size:"small",className:"!min-w-60"})},{id:"quantity",label:"Quantity",render:(A,I)=>e.jsx(oe,{value:I.quantity,onChange:F=>y(I._index,"quantity",F.target.value),placeholder:"1",type:"number",size:"small",className:"!min-w-20"})},{id:"unit_price",label:"Unit Price",render:(A,I)=>e.jsx(oe,{value:I.unit_price,onChange:F=>y(I._index,"unit_price",F.target.value),placeholder:"0.00",type:"number",size:"small",className:"!min-w-32"})},{id:"discount_amount",label:"Discount Amount",render:(A,I)=>e.jsx(oe,{value:I.discount_amount,onChange:F=>y(I._index,"discount_amount",F.target.value),placeholder:"0.00",type:"number",size:"small",className:"!min-w-20"})},{id:"tax_amount",label:"Tax Amount",render:(A,I)=>e.jsx(oe,{value:I.tax_amount,onChange:F=>y(I._index,"tax_amount",F.target.value),placeholder:"0.00",type:"number",size:"small",className:"!min-w-20"})},{id:"actions",label:"Actions",sortable:!1,render:(A,I)=>e.jsx(Ht,{onClick:()=>v(I._index),tooltip:"Remove item",confirmDelete:!0,size:"medium",itemName:"credit note item"})}],P=A=>(l?.data||[]).find(z=>z.id===Number(A))?.code||"USD",E=(A,I)=>A==null?`${I} 0.00`:new Intl.NumberFormat("en-US",{style:"currency",currency:I}).format(A),T=(()=>{const A=n.reduce((B,q)=>B+Number(q.quantity)*Number(q.unit_price),0),I=n.reduce((B,q)=>B+Number(q.discount_amount),0),F=n.reduce((B,q)=>B+Number(q.tax_amount),0),z=0,O=A-I+F+z,K=0,W=O-K;return{subtotal:A,discount_amount:I,tax_amount:F,shipping_amount:z,total_amount:O,amount_applied:K,balance_due:W}})();return e.jsx(it,{open:t,setOpen:j,title:r?"Edit Credit Note":"Create Credit Note",size:"larger",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:_.handleSubmit,className:"!space-y-5",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5",children:[e.jsx(b,{className:"md:!col-span-2",children:e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Credit Note Information"})}),e.jsx(Se,{name:"parent_id",label:"Related Order",formik:_,required:!0,children:m.map(A=>e.jsxs(Z,{value:A.id?.toString()||"",children:[A.order_number," - ",A.customer?.name]},A.id))}),e.jsx(Yn,{name:"customer_id",label:"Customer",formik:_,required:!0}),e.jsx(oe,{name:"credit_note_date",label:"Credit Note Date",type:"date",formik:_,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(oe,{name:"due_date",label:"Due Date",type:"date",formik:_,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(Se,{name:"currency_id",label:"Currency",formik:_,required:!0,children:d.map(A=>e.jsxs(Z,{value:A.id?.toString()||"",children:[A.code," - ",A.name]},A.id))}),e.jsxs(Se,{name:"status",label:"Status",formik:_,required:!0,children:[e.jsx(Z,{value:"draft",children:"Draft"}),e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"approved",children:"Approved"}),e.jsx(Z,{value:"rejected",children:"Rejected"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]}),e.jsx(oe,{name:"reason",label:"Reason",placeholder:"Enter reason for credit note",formik:_,required:!0}),e.jsxs(Se,{name:"payment_method",label:"Payment Method",formik:_,required:!0,children:[e.jsx(Z,{value:"cash",children:"Cash"}),e.jsx(Z,{value:"credit",children:"Credit"}),e.jsx(Z,{value:"cheque",children:"Cheque"}),e.jsx(Z,{value:"bank_transfer",children:"Bank Transfer"})]}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"billing_address",label:"Billing Address",placeholder:"Enter billing address",formik:_,multiline:!0,rows:3})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"notes",label:"Notes",placeholder:"Enter credit note notes",formik:_,multiline:!0,rows:3})})]}),e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !justify-between !items-center",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Credit Note Items"}),e.jsx(G,{type:"button",variant:"outlined",startIcon:e.jsx(Gr,{}),onClick:S,size:"small",children:"Add Item"})]}),n.length>0&&e.jsx(ct,{data:N,columns:C,getRowId:A=>A._index.toString(),pagination:!1,sortable:!1,emptyMessage:"No credit note items added yet."}),n.length===0&&e.jsxs(b,{className:"!text-center !py-8 !text-gray-500",children:[e.jsx($t,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(f,{variant:"body2",children:'No items added yet. Click "Add Item" to get started.'})]}),n.length>0&&e.jsxs(b,{className:"!bg-gray-50 !rounded-lg !mt-4",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2",children:"Credit Note Summary"}),e.jsxs(b,{className:"!space-y-2",children:[e.jsxs(b,{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",children:"Subtotal:"}),e.jsx(f,{variant:"body2",children:E(T.subtotal,P(_.values.currency_id))})]}),e.jsxs(b,{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",children:"Discount:"}),e.jsxs(f,{variant:"body2",children:["-",E(T.discount_amount,P(_.values.currency_id))]})]}),e.jsxs(b,{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",children:"Tax:"}),e.jsx(f,{variant:"body2",children:E(T.tax_amount,P(_.values.currency_id))})]}),e.jsxs(b,{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",children:"Shipping:"}),e.jsx(f,{variant:"body2",children:E(T.shipping_amount,P(_.values.currency_id))})]}),e.jsx(b,{className:"!border-t !border-gray-300 !pt-2 !mt-2",children:e.jsxs(b,{className:"!flex !justify-between",children:[e.jsx(f,{variant:"subtitle2",className:"!font-bold",children:"Total Amount:"}),e.jsx(f,{variant:"subtitle2",className:"!font-bold",children:E(T.total_amount,P(_.values.currency_id))})]})}),e.jsxs(b,{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",children:"Amount Applied:"}),e.jsx(f,{variant:"body2",children:E(T.amount_applied,P(_.values.currency_id))})]}),e.jsx(b,{className:"!border-t !border-gray-300 !pt-2 !mt-2",children:e.jsxs(b,{className:"!flex !justify-between",children:[e.jsx(f,{variant:"subtitle2",className:"!font-bold",children:"Balance Due:"}),e.jsx(f,{variant:"subtitle2",className:"!font-bold",children:E(T.balance_due,P(_.values.currency_id))})]})})]})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:j,disabled:p.isPending||x.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:p.isPending||x.isPending,children:p.isPending||x.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},jOe=({open:t,onClose:s,creditNote:a})=>{const{data:r,isLoading:n,error:i}=p$(a?.id||0),o=r?.data||a,l=_=>({draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[_]||"bg-gray-100 text-gray-800",c=_=>({draft:"Draft",pending:"Pending",approved:"Approved",rejected:"Rejected",cancelled:"Cancelled"})[_]||_,m=_=>{switch(_){case"draft":return e.jsx(ks,{className:"w-4 h-4"});case"pending":return e.jsx(As,{className:"w-4 h-4"});case"approved":return e.jsx(Da,{className:"w-4 h-4"});case"rejected":return e.jsx(ya,{className:"w-4 h-4"});case"cancelled":return e.jsx(ya,{className:"w-4 h-4"});default:return e.jsx(ks,{className:"w-4 h-4"})}},d=_=>{if(_==null)return"N/A";const S=o?.currency?.code||"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:S}).format(_)},p=_=>!_.due_date||!_.balance_due?!1:new Date(_.due_date)<new Date&&_.balance_due>0,x=()=>{s()};if(n)return e.jsx(it,{open:t,setOpen:s,title:"Credit Note Details",size:"large",children:e.jsxs("div",{className:"!p-6 !space-y-6",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx(X,{variant:"circular",width:96,height:96,className:"!mx-auto !mb-4"}),e.jsx(X,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-2"}),e.jsx(X,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(X,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto"})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[1,2,3,4].map(_=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(X,{variant:"text",width:"40%",height:20,className:"!mb-4"}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(S=>e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(X,{variant:"text",width:"30%",height:16}),e.jsx(X,{variant:"text",width:"40%",height:16})]},S))})]},_))})]})});if(i||!o)return e.jsx(it,{open:t,setOpen:s,title:"Credit Note Details",size:"large",children:e.jsxs("div",{className:"!p-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ia,{className:"w-5 h-5"}),e.jsx(f,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load credit note details"})]}),e.jsx(f,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:x,className:"mt-4",children:"Back to Credit Notes"})]})});const j=({title:_,children:S,icon:v})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[v&&e.jsx("div",{className:"!p-1.5 !w-8 !h-8 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(v,{className:"!text-primary-500"})}),e.jsx(f,{variant:"subtitle1",className:"!font-bold !text-gray-900",children:_})]}),S]})]});return e.jsx(it,{open:t,setOpen:s,title:"Credit Note Details",size:"large",children:e.jsxs("div",{className:"!p-5 mb-10 !space-y-5",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${o.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ot,{className:lr("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-green-400 !to-green-600 !text-white":o.status==="approved","!bg-gradient-to-br !from-yellow-400 !to-yellow-600 !text-white":o.status==="pending","!bg-gradient-to-br !from-red-400 !to-red-600 !text-white":o.status==="rejected"||o.status==="cancelled","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":o.status==="draft"}),children:e.jsx(Zr,{className:"!w-8 !h-8"})})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:o.credit_note_number}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mb-3",children:o.customer?.name||"Unknown Customer"}),e.jsxs("div",{className:"!flex !justify-center !gap-2 !mb-4",children:[e.jsx(Re,{icon:m(o.status||"draft"),label:c(o.status||"draft"),className:`${l(o.status||"draft")} font-semibold`,size:"small"}),p(o)&&e.jsx(Re,{label:"OVERDUE",className:"!bg-red-100 !text-red-800 !font-bold",size:"small"})]}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Total Amount"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d(o.total_amount)})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Amount Applied"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-green-600",children:d(o.amount_applied)})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Balance Due"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-red-600",children:d(o.balance_due)})]})]})]}),e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(j,{title:"Credit Note Information",icon:Vn,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Credit Note Date:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(o.credit_note_date)})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Due Date:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(o.due_date)})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Payment Method:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:o.payment_method?.replaceAll("_"," ")||"N/A"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Related Order:"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:["#",o.parent_id]})]})]})}),e.jsx(j,{title:"Customer Information",icon:$t,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Customer Name:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.customer?.name||"N/A"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Customer ID:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.customer?.id||"N/A"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Customer Code:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.customer?.code||"N/A"})]})]})}),e.jsx(j,{title:"Amount Breakdown",icon:Cr,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Subtotal:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d(o.subtotal)})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Discount:"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-green-600",children:["-",d(o.discount_amount)]})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Tax:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d(o.tax_amount)})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Shipping:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d(o.shipping_amount)})]}),e.jsx("div",{className:"!border-t !border-gray-300 !pt-2 !mt-2",children:e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"subtitle2",className:"!font-bold",children:"Total:"}),e.jsx(f,{variant:"subtitle2",className:"!font-bold",children:d(o.total_amount)})]})})]})}),e.jsx(j,{title:"Credit Note Items",icon:$t,children:e.jsx("div",{className:"!space-y-2",children:o.creditNoteItems&&o.creditNoteItems.length>0?o.creditNoteItems.map((_,S)=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !justify-between !items-start !mb-1",children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:_.product_name||_.product?.name||`Product #${_.product_id}`}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d(_.total_amount)})]}),e.jsxs("div",{className:"!flex !justify-between !text-xs !text-gray-500",children:[e.jsxs("span",{children:["Qty: ",_.quantity||"N/A"," "," ",d(_.unit_price)]}),_.discount_amount&&_.discount_amount>0&&e.jsxs("span",{className:"!text-green-600",children:["Discount: -",d(_.discount_amount)]})]}),_.notes&&e.jsx(f,{variant:"caption",className:"!text-gray-600 !block !mt-1",children:_.notes})]},_.id||S)):e.jsx(f,{variant:"body2",className:"!text-gray-500 !text-center !py-4",children:"No items found"})})})]}),(o.reason||o.notes||o.billing_address)&&e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[o.reason&&e.jsx(j,{title:"Reason for Credit Note",icon:ks,children:e.jsx(f,{variant:"body2",className:"!text-gray-700",children:o.reason})}),o.notes&&e.jsx(j,{title:"Notes",icon:ks,children:e.jsx(f,{variant:"body2",className:"!text-gray-700",children:o.notes})}),o.billing_address&&e.jsx(j,{title:"Billing Address",icon:Vn,children:e.jsx(f,{variant:"body2",className:"!text-gray-700",children:o.billing_address})})]}),e.jsx("div",{className:"!flex !justify-end",children:e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:x,children:"Back to Credit Notes"})})]})})},NOe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,p]=g.useState(!1),[x,j]=g.useState(1),[_]=g.useState(10),{isCreate:S,isUpdate:v,isDelete:y,isRead:N}=Ze("credit-note"),{data:C,isLoading:P,error:E}=nOe({search:t,page:x,limit:_,status:a==="all"?void 0:a},{enabled:N}),D=C?.data||[],T=C?.meta?.total||0,A=(C?.meta?.page||1)-1,I=lOe(),F=ls(),z=D.length,O=D.reduce((ee,ne)=>ee+(ne.total_amount||0),0),K=z>0?O/z:0,W=D.filter(ee=>ee.status==="pending").length,B=g.useCallback(()=>{i(null),l(!0)},[]),q=g.useCallback(ee=>{i(ee),l(!0)},[]),H=g.useCallback(ee=>{i(ee),m(!0)},[]),Q=g.useCallback(async ee=>{try{await I.mutateAsync(ee)}catch(ne){console.error("Error deleting credit note:",ne)}},[I]),V=g.useCallback(ee=>{s(ee),j(1)},[]),M=ee=>{j(ee+1)},R=g.useCallback(async()=>{try{const ee={search:t,status:a==="all"?void 0:a};await F.mutateAsync({tableName:"credit_notes",filters:ee})}catch(ee){console.error("Error exporting credit notes:",ee)}},[F,t,a]),$=ee=>ee==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ee),Y=ee=>({draft:"default",pending:"warning",approved:"success",rejected:"error",cancelled:"error"})[ee]||"default",J=ee=>{switch(ee){case"draft":return e.jsx($t,{className:"w-4 h-4"});case"pending":return e.jsx(As,{className:"w-4 h-4"});case"approved":return e.jsx(Da,{className:"w-4 h-4"});case"rejected":return e.jsx(ya,{className:"w-4 h-4"});case"cancelled":return e.jsx(ya,{className:"w-4 h-4"});default:return e.jsx($t,{className:"w-4 h-4"})}},te=[{id:"credit_note_info",label:"Credit Note Info",render:(ee,ne)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:ne.credit_note_number,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Zr,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !cursor-pointer !hover:!text-primary-500 !hover:!underline",onClick:()=>H(ne),children:ne.credit_note_number}),e.jsxs(f,{variant:"caption",className:"!text-gray-500 !capitalize !text-xs !block !mt-0.5",children:[ne.status||"draft","  ",ne.creditNoteItems?.length||0," items"]})]})]})},{id:"customer",label:"Customer",render:(ee,ne)=>e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:ne.customer?.name||"N/A"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:ne.customer?.code||"N/A"})]})},{id:"order",label:"Related Order",render:(ee,ne)=>e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:ne.order?.order_number||"N/A"}),e.jsxs(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:["Order ID: ",ne.parent_id]})]})},{id:"status",label:"Status",render:(ee,ne)=>e.jsx(Re,{icon:J(ne.status||"draft"),label:ne.status||"draft",size:"small",variant:"outlined",color:Y(ne.status||"draft")})},{id:"dates",label:"Dates",render:(ee,ne)=>e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center text-sm text-gray-900",children:[e.jsx(ws,{className:"w-4 h-4 text-gray-400 mr-1"}),"Credit Note:"," ",ne.credit_note_date?new Date(ne.credit_note_date).toLocaleDateString():"N/A"]}),ne.due_date&&e.jsxs(b,{className:"flex items-center text-sm text-gray-500 mt-1",children:[e.jsx(As,{className:"w-4 h-4 text-gray-400 mr-1"}),"Due: ",new Date(ne.due_date).toLocaleDateString()]})]})},{id:"amount",label:"Amount",render:(ee,ne)=>e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:$(ne.total_amount)}),e.jsxs(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:["Subtotal: ",$(ne.subtotal)]}),ne.discount_amount&&ne.discount_amount>0&&e.jsxs(f,{variant:"caption",className:"!text-green-600 !text-xs !block !mt-0.5",children:["Discount: -",$(ne.discount_amount)]})]})},{id:"reason",label:"Reason",render:(ee,ne)=>e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:ne.reason||"N/A"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 capitalize !text-xs !block !mt-0.5",children:ne.payment_method?.replaceAll("_"," ")||"N/A"})]})},...v||y?[{id:"action",label:"Actions",sortable:!1,render:(ee,ne)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[v&&e.jsx(ss,{onClick:()=>q(ne),tooltip:`Edit ${ne.credit_note_number}`}),y&&e.jsx(Ht,{onClick:()=>Q(ne.id),tooltip:`Delete ${ne.credit_note_number}`,itemName:ne.credit_note_number,confirmDelete:!0})]})}]:[]];return E?e.jsxs(lt,{severity:"error",className:"mb-4",children:["Error loading credit notes: ",E.message]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Credit Notes Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage credit notes, track refunds, and process adjustments"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Credit Notes",value:z,icon:e.jsx(Zr,{className:"w-6 h-6"}),color:"blue",isLoading:P}),e.jsx(fe,{title:"Total Value",value:$(O),icon:e.jsx(Cr,{className:"w-6 h-6"}),color:"green",isLoading:P}),e.jsx(fe,{title:"Avg Credit Note Value",value:$(K),icon:e.jsx(Cr,{className:"w-6 h-6"}),color:"purple",isLoading:P}),e.jsx(fe,{title:"Pending Approval",value:W,icon:e.jsx(ia,{className:"w-6 h-6"}),color:"orange",isLoading:P})]}),E&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load credit notes. Please try again."}),e.jsx(ct,{data:D,columns:te,actions:N||S?e.jsxs("div",{className:"flex justify-between gap-3 items-center flex-wrap",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-3",children:N&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Credit Notes...",value:t,onChange:V,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:ee=>r(ee.target.value),className:"!w-40",children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"draft",children:"Draft"}),e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"approved",children:"Approved"}),e.jsx(Z,{value:"rejected",children:"Rejected"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]})]})}),N&&e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Xt,{title:"Export Credit Notes",description:"Are you sure you want to export the current credit notes data to Excel? This will include all filtered results.",onConfirm:R,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:F.isPending,children:F.isPending?"Exporting...":"Export"})}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>p(!0),children:"Import"})]}),S&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:B,children:"Create"})]}):!1,getRowId:ee=>ee.id,initialOrderBy:"credit_note_number",loading:P,totalCount:T,page:A,rowsPerPage:_,isPermission:N,onPageChange:M,emptyMessage:t?`No credit notes found matching "${t}"`:"No credit notes found in the system"}),e.jsx(vOe,{open:o,onClose:()=>l(!1),creditNote:n}),e.jsx(dOe,{drawerOpen:d,setDrawerOpen:p}),e.jsx(jOe,{open:c,onClose:()=>m(!1),creditNote:n})]})},_Oe=async t=>{try{return(await ie.get("/delivery-schedules",{params:t})).data}catch(s){throw console.error("Error fetching delivery schedules:",s),new Error(s.response?.data?.message||"Failed to fetch delivery schedules")}},wOe=async t=>{try{return(await ie.post("/delivery-schedules",t)).data}catch(s){throw console.error("Error creating delivery schedule:",s),new Error(s.response?.data?.message||"Failed to create delivery schedule")}},SOe=async(t,s)=>{try{return(await ie.put(`/delivery-schedules/${t}`,s)).data}catch(a){throw console.error("Error updating delivery schedule:",a),new Error(a.response?.data?.message||"Failed to update delivery schedule")}},COe=async t=>{try{return(await ie.delete(`/delivery-schedules/${t}`)).data}catch(s){throw console.error("Error deleting delivery schedule:",s),new Error(s.response?.data?.message||"Failed to delete delivery schedule")}},Wf={all:["delivery-schedules"],lists:()=>[...Wf.all,"list"],list:t=>[...Wf.lists(),t],details:()=>[...Wf.all,"detail"],detail:t=>[...Wf.details(),t]},POe=(t,s)=>st({queryKey:Wf.list(t),queryFn:()=>_Oe(t),staleTime:300*1e3,...s}),kOe=()=>Te({mutationFn:wOe,invalidateQueries:["delivery-schedules"],loadingMessage:"Creating delivery schedule..."}),EOe=()=>Te({mutationFn:({id:t,...s})=>SOe(t,s),invalidateQueries:["delivery-schedules"],loadingMessage:"Updating delivery schedule..."}),TOe=()=>Te({mutationFn:COe,invalidateQueries:["delivery-schedules"],loadingMessage:"Deleting delivery schedule..."}),MOe=nt({file:ps().required("Please select a file to import")}),DOe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:MOe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("delivery_schedules")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"delivery_schedules",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Delivery Schedules",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple delivery schedules. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing delivery schedules..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},ROe=nt({order_id:Ye().required("Order ID is required").positive("Order ID must be a positive number"),customer_id:Ye().required("Customer ID is required").positive("Customer ID must be a positive number"),scheduled_date:Ca().required("Scheduled date is required").min(new Date,"Scheduled date cannot be in the past"),scheduled_time_slot:ce().optional().max(50,"Time slot must be less than 50 characters"),assigned_vehicle_id:Ye().optional().positive("Vehicle ID must be a positive number"),assigned_driver_id:Ye().optional().positive("Driver ID must be a positive number"),status:ce().optional().oneOf(["scheduled","in_transit","delivered","failed","cancelled","rescheduled","returned","refunded"],"Invalid status"),priority:ce().optional().oneOf(["low","medium","high","urgent"],"Invalid priority"),delivery_instructions:ce().optional().max(500,"Delivery instructions must be less than 500 characters"),actual_delivery_time:ce().optional().test("is-valid-date","Actual delivery time must be a valid date",t=>{if(!t)return!0;const s=new Date(t);return!isNaN(s.getTime())}),delivery_proof:ce().optional().max(255,"Delivery proof must be less than 255 characters"),customer_signature:ce().optional().max(255,"Customer signature must be less than 255 characters"),failure_reason:ce().optional().max(500,"Failure reason must be less than 500 characters"),rescheduled_date:ce().optional().test("is-valid-date","Rescheduled date must be a valid date",t=>{if(!t)return!0;const s=new Date(t);return!isNaN(s.getTime())}).test("is-future-date","Rescheduled date cannot be in the past",t=>t?new Date(t)>=new Date:!0),is_active:ce().required("Active status is required").oneOf(["Y","N"],"Active status must be Y or N")}),AOe=({selectedDeliverySchedule:t,setSelectedDeliverySchedule:s,drawerOpen:a,setDrawerOpen:r,users:n,vehicles:i,orders:o})=>{const l=!!t,[c,m]=g.useState(null),d=g.useRef(null),p=()=>{s(null),r(!1),m(null),_.resetForm()},x=kOe(),j=EOe(),_=pt({initialValues:{order_id:t?.order_id?.toString()||"",customer_id:t?.customer_id?.toString()||"",scheduled_date:t?.scheduled_date?t.scheduled_date.split("T")[0]:"",scheduled_time_slot:t?.scheduled_time_slot||"",assigned_vehicle_id:t?.assigned_vehicle_id?.toString()||"",assigned_driver_id:t?.assigned_driver_id?.toString()||"",status:t?.status||"scheduled",priority:t?.priority||"medium",delivery_instructions:t?.delivery_instructions||"",actual_delivery_time:t?.actual_delivery_time?t.actual_delivery_time.slice(0,16):"",delivery_proof:t?.delivery_proof||"",failure_reason:t?.failure_reason||"",rescheduled_date:t?.rescheduled_date?t.rescheduled_date.slice(0,16):"",is_active:t?.is_active||"Y"},validationSchema:ROe,enableReinitialize:!0,onSubmit:async N=>{try{const C={order_id:Number(N.order_id),customer_id:Number(N.customer_id),scheduled_date:N.scheduled_date,scheduled_time_slot:N.scheduled_time_slot,assigned_vehicle_id:N.assigned_vehicle_id?Number(N.assigned_vehicle_id):void 0,assigned_driver_id:N.assigned_driver_id?Number(N.assigned_driver_id):void 0,status:N.status,priority:N.priority,delivery_instructions:N.delivery_instructions,actual_delivery_time:N.actual_delivery_time?new Date(N.actual_delivery_time).toISOString():void 0,delivery_proof:N.delivery_proof,failure_reason:N.failure_reason,rescheduled_date:N.rescheduled_date?new Date(N.rescheduled_date).toISOString():void 0,is_active:N.is_active};l&&t?await j.mutateAsync({id:t.id,...C}):await x.mutateAsync(C),p()}catch(C){console.error("Error saving delivery schedule:",C)}}}),S=N=>{const C=N.target.files?.[0];C&&m(C)},v=()=>{m(null),d.current&&(d.current.value="")},y=n;return e.jsx(it,{open:a,setOpen:p,title:l?"Edit Delivery Schedule":"Create Delivery Schedule",size:"large",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:_.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsxs(Se,{name:"order_id",label:"Order",formik:_,required:!0,children:[e.jsx(Z,{value:"",children:"Select Order"}),o.map(N=>e.jsxs(Z,{value:N.id.toString(),children:["#",N.order_number," -"," ",N.customer?.name||"Unknown Customer"]},N.id))]}),e.jsx(Yn,{name:"customer_id",label:"Customer",formik:_,required:!0}),e.jsx(oe,{name:"scheduled_date",label:"Scheduled Date",type:"date",formik:_,required:!0}),e.jsx(oe,{name:"scheduled_time_slot",label:"Scheduled Time Slot",placeholder:"e.g., 9:00 AM - 11:00 AM",formik:_}),e.jsxs(Se,{name:"assigned_vehicle_id",label:"Assigned Vehicle",formik:_,children:[e.jsx(Z,{value:"",children:"Select Vehicle"}),i.map(N=>e.jsxs(Z,{value:N.id.toString(),children:[N.vehicle_number," - ",N.type||"Unknown Type"]},N.id))]}),e.jsxs(Se,{name:"assigned_driver_id",label:"Assigned Driver",formik:_,children:[e.jsx(Z,{value:"",children:"Select Driver"}),y.map(N=>e.jsx(Z,{value:N.id.toString(),children:N.name},N.id))]}),e.jsxs(Se,{name:"status",label:"Status",formik:_,children:[e.jsx(Z,{value:"scheduled",children:"Scheduled"}),e.jsx(Z,{value:"in_transit",children:"In Transit"}),e.jsx(Z,{value:"delivered",children:"Delivered"}),e.jsx(Z,{value:"failed",children:"Failed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"}),e.jsx(Z,{value:"rescheduled",children:"Rescheduled"}),e.jsx(Z,{value:"returned",children:"Returned"}),e.jsx(Z,{value:"refunded",children:"Refunded"})]}),e.jsxs(Se,{name:"priority",label:"Priority",formik:_,children:[e.jsx(Z,{value:"low",children:"Low"}),e.jsx(Z,{value:"medium",children:"Medium"}),e.jsx(Z,{value:"high",children:"High"}),e.jsx(Z,{value:"urgent",children:"Urgent"})]}),e.jsx(oe,{name:"actual_delivery_time",label:"Actual Delivery Time",type:"datetime-local",formik:_}),e.jsx(oe,{name:"delivery_proof",label:"Delivery Proof",placeholder:"e.g., Photo URL or reference number",formik:_}),e.jsx(oe,{name:"rescheduled_date",label:"Rescheduled Date",type:"datetime-local",formik:_}),e.jsxs(Se,{name:"is_active",label:"Active Status",formik:_,required:!0,children:[e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"delivery_instructions",label:"Delivery Instructions",placeholder:"Enter delivery instructions",formik:_,multiline:!0,rows:3})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"failure_reason",label:"Failure Reason",placeholder:"Enter failure reason if delivery failed",formik:_,multiline:!0,rows:3})}),e.jsxs(b,{className:"md:!col-span-2",children:[e.jsx(b,{className:"!mb-2",children:e.jsx("label",{className:"!text-sm !font-medium !text-gray-700",children:"Customer Signature"})}),c?e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(b,{className:"!flex !items-center !gap-3",children:e.jsxs(b,{children:[e.jsx("p",{className:"!text-sm !font-medium !text-gray-900",children:c.name}),e.jsxs("p",{className:"!text-xs !text-gray-500",children:[(c.size/1024).toFixed(1)," KB"]})]})}),e.jsx(G,{color:"error",type:"button",variant:"outlined",size:"small",onClick:v,children:"Remove"})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-4 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>d.current?.click(),children:[e.jsx("p",{className:"!text-gray-600 !mb-2",children:"Click to upload customer signature"}),e.jsx("p",{className:"!text-sm !text-gray-500",children:"PNG, JPG, PDF files only"}),e.jsx("input",{ref:d,type:"file",accept:".png,.jpg,.jpeg,.pdf",onChange:S,className:"!hidden"})]})]})]}),e.jsxs(b,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:x.isPending||j.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:x.isPending||j.isPending,children:x.isPending?"Creating...":j.isPending?"Updating...":l?"Update Delivery Schedule":"Create Delivery Schedule"})]})]})})})},IOe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState("all"),[o,l]=g.useState(null),[c,m]=g.useState(!1),[d,p]=g.useState(!1),[x,j]=g.useState(1),[_]=g.useState(10),{isCreate:S,isUpdate:v,isDelete:y,isRead:N}=Ze("delivery"),{data:C,isLoading:P,error:E}=POe({search:t,page:x,limit:_,status:a==="all"?void 0:a,priority:n==="all"?void 0:n,isActive:"Y"},{enabled:N}),{data:D}=Gn({page:1,limit:1e3}),{data:T}=T3({page:1,limit:1e3}),{data:A}=C1({page:1,limit:1e3}),I=C?.data||[],F=D?.data||[],z=T?.data||[],O=A?.data||[],K=C?.meta?.total||0,W=(C?.meta?.page||1)-1,B=TOe(),q=ls(),H=C?.stats?.total_deliveries??I.length,Q=C?.stats?.active_deliveries??I.filter(me=>me.is_active==="Y").length,V=C?.stats?.inactive_deliveries??I.filter(me=>me.is_active==="N").length,M=C?.stats?.new_deliveries_this_month||0,R=g.useCallback(()=>{l(null),m(!0)},[]),$=g.useCallback(()=>{p(!0)},[]),Y=g.useCallback(async()=>{try{const me={search:t,status:a==="all"?void 0:a,priority:n==="all"?void 0:n,isActive:"Y"};await q.mutateAsync({tableName:"delivery_schedules",filters:me})}catch(me){console.error("Error exporting delivery schedules:",me)}},[q,t,a,n]),J=g.useCallback(me=>{l(me),m(!0)},[]),te=g.useCallback(async me=>{try{await B.mutateAsync(me)}catch(Ae){console.error("Error deleting delivery schedule:",Ae)}},[B]),ee=g.useCallback(me=>{s(me),j(1)},[]),ne=me=>{j(me+1)},he=me=>({scheduled:"bg-blue-100 text-blue-800",in_transit:"bg-yellow-100 text-yellow-800",delivered:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800",rescheduled:"bg-gray-100 text-gray-800",returned:"bg-gray-100 text-gray-800",refunded:"bg-gray-100 text-gray-800"})[me]||"bg-gray-100 text-gray-800",de=me=>({scheduled:"Scheduled",in_transit:"In Transit",delivered:"Delivered",failed:"Failed",cancelled:"Cancelled",rescheduled:"Rescheduled",returned:"Returned",refunded:"Refunded"})[me]||me,ae=me=>({low:"bg-gray-100 text-gray-800",medium:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"})[me]||"bg-gray-100 text-gray-800",xe=me=>({low:"Low",medium:"Medium",high:"High",urgent:"Urgent"})[me]||me,ge=[{id:"order_customer",label:"Order & Customer",render:(me,Ae)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:Ae.customer?.name||"Customer",className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx($t,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsxs(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:["Order #",Ae.order?.order_number||"N/A"]}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:Ae.customer?.name||"Unknown Customer"})]})]})},{id:"scheduled_info",label:"Scheduled Info",render:(me,Ae)=>e.jsxs(b,{children:[Ae.scheduled_date&&e.jsxs(b,{className:"flex items-center gap-1 mb-1",children:[e.jsx(ws,{className:"w-3 h-3 text-gray-400"}),e.jsx(f,{variant:"caption",className:"!text-gray-600",children:new Date(Ae.scheduled_date).toLocaleDateString()})]}),Ae.scheduled_time_slot&&e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(As,{className:"w-3 h-3 text-gray-400"}),e.jsx(f,{variant:"caption",className:"!text-gray-600",children:Ae.scheduled_time_slot})]})]})},{id:"assignment",label:"Vehicle & Driver",render:(me,Ae)=>e.jsxs(b,{children:[Ae.vehicle&&e.jsxs(b,{className:"flex items-center gap-1 mb-1",children:[e.jsx(Hn,{className:"w-3 h-3 text-gray-400"}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[Ae.vehicle.vehicle_number," - ",Ae.vehicle.type]})]}),Ae.driver&&e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(Za,{className:"w-3 h-3 text-gray-400"}),e.jsx(f,{variant:"caption",className:"!text-gray-600",children:Ae.driver.name})]}),!Ae.vehicle&&!Ae.driver&&e.jsx(f,{variant:"caption",className:"!text-gray-400 !italic",children:"Not assigned"})]})},{id:"status_priority",label:"Status & Priority",render:(me,Ae)=>e.jsxs(b,{className:"!space-y-1",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${he(Ae.status||"")}`,children:de(Ae.status||"")}),Ae.priority&&e.jsx("div",{children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ae(Ae.priority)}`,children:xe(Ae.priority)})})]})},{id:"delivery_info",label:"Delivery Info",render:(me,Ae)=>{const Ce=Ae.actual_delivery_time,_e=Ae.failure_reason,Ie=Ae.delivery_instructions;return!Ce&&!_e&&!Ie?e.jsx(f,{variant:"caption",className:"!text-gray-400 !italic",children:"No info"}):e.jsxs(b,{children:[Ce&&e.jsxs(b,{className:"flex items-center gap-1 mb-1",children:[e.jsx(As,{className:"w-3 h-3 text-green-400"}),e.jsxs(f,{variant:"caption",className:"!text-green-600",children:["Delivered:"," ",new Date(Ae.actual_delivery_time).toLocaleString()]})]}),_e&&e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ia,{className:"w-3 h-3 text-red-400"}),e.jsx(f,{variant:"caption",className:"!text-red-600 !truncate",children:Ae.failure_reason})]}),Ie&&e.jsx(f,{variant:"caption",className:"!text-gray-600 !block !mt-1",children:Ae.delivery_instructions?.length&&Ae.delivery_instructions?.length>30?`${Ae.delivery_instructions?.substring(0,30)}...`:Ae.delivery_instructions})]})}},{id:"is_active",label:"Active Status",render:me=>e.jsx(Re,{icon:me==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:me==="Y"?"Active":"Inactive",size:"small",className:"w-26",color:me==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(me,Ae)=>Fe(Ae.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...v||y?[{id:"action",label:"Actions",sortable:!1,render:(me,Ae)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[v&&e.jsx(ss,{onClick:()=>J(Ae),tooltip:`Edit delivery schedule for order ${Ae.order?.order_number}`}),y&&e.jsx(Ht,{onClick:()=>te(Ae.id),tooltip:`Delete delivery schedule for order ${Ae.order?.order_number}`,itemName:`delivery schedule for order ${Ae.order?.order_number}`,confirmDelete:!0})]})}]:[]],le=F;return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Delivery Scheduling"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage delivery schedules, track vehicle assignments, and monitor delivery status"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Deliveries",value:H,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue",isLoading:P}),e.jsx(fe,{title:"Active Deliveries",value:Q,icon:e.jsx(Hn,{className:"w-6 h-6"}),color:"green",isLoading:P}),e.jsx(fe,{title:"Inactive Deliveries",value:V,icon:e.jsx(ya,{className:"w-6 h-6"}),color:"red",isLoading:P}),e.jsx(fe,{title:"New This Month",value:M,icon:e.jsx(ws,{className:"w-6 h-6"}),color:"purple",isLoading:P})]}),E&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load delivery schedules. Please try again."}),e.jsx(ct,{data:I,columns:ge,actions:N||S?e.jsxs("div",{className:"flex justify-between items-center flex-wrap w-full gap-2",children:[e.jsx("div",{className:"flex gap-2 items-center flex-wrap",children:N&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Delivery Schedules",value:t,onChange:ee,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(Se,{value:a,onChange:me=>r(me.target.value),className:"!min-w-40",size:"small",children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"scheduled",children:"Scheduled"}),e.jsx(Z,{value:"in_transit",children:"In Transit"}),e.jsx(Z,{value:"delivered",children:"Delivered"}),e.jsx(Z,{value:"failed",children:"Failed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"}),e.jsx(Z,{value:"rescheduled",children:"Rescheduled"}),e.jsx(Z,{value:"returned",children:"Returned"}),e.jsx(Z,{value:"refunded",children:"Refunded"})]}),e.jsxs(Se,{value:n,onChange:me=>i(me.target.value),className:"!min-w-40",size:"small",children:[e.jsx(Z,{value:"all",children:"All Priority"}),e.jsx(Z,{value:"low",children:"Low"}),e.jsx(Z,{value:"medium",children:"Medium"}),e.jsx(Z,{value:"high",children:"High"}),e.jsx(Z,{value:"urgent",children:"Urgent"})]})]})}),N&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xt,{title:"Export Delivery Schedules",description:"Are you sure you want to export the current delivery schedules data to Excel? This will include all filtered results.",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:q.isPending,children:q.isPending?"Exporting...":"Export"})}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:$,children:"Import"})]}),S&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:R,children:"Schedule"})]}):!1,getRowId:me=>me.id,initialOrderBy:"scheduled_date",loading:P,totalCount:K,page:W,rowsPerPage:_,isPermission:N,onPageChange:ne,emptyMessage:t?`No delivery schedules found matching "${t}"`:"No delivery schedules found in the system"}),e.jsx(AOe,{selectedDeliverySchedule:o,setSelectedDeliverySchedule:l,drawerOpen:c,setDrawerOpen:m,users:le,vehicles:z,orders:O}),e.jsx(DOe,{drawerOpen:d,setDrawerOpen:p})]})},OOe=async t=>{try{return(await ie.get("/invoices",{params:t})).data}catch(s){throw s}},FOe=async t=>{try{return(await ie.get(`/invoices/${t}`)).data}catch(s){throw s}},LOe=async t=>(await ie.post("/invoices",t)).data,$Oe=async(t,s)=>(await ie.put(`/invoices/${t}`,s)).data,zOe=async t=>(await ie.delete(`/invoices/${t}`)).data,Zo={all:["invoices"],lists:()=>[...Zo.all,"list"],list:t=>[...Zo.lists(),t],details:()=>[...Zo.all,"detail"],detail:t=>[...Zo.details(),t]},qOe=(t,s)=>st({queryKey:Zo.list(t||{}),queryFn:()=>OOe(t),staleTime:300*1e3,...s}),P1=t=>st({queryKey:Zo.detail(t),queryFn:()=>FOe(t),enabled:!!t,staleTime:300*1e3}),BOe=t=>{const s=is();return Te({mutationFn:LOe,loadingMessage:"Creating invoice...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Zo.lists()})},onError:t?.onError})},UOe=t=>{const s=is();return Te({mutationFn:({id:a,...r})=>$Oe(a,r),loadingMessage:"Updating invoice...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Zo.lists()}),s.invalidateQueries({queryKey:Zo.detail(r.id)})},onError:t?.onError})},VOe=t=>{const s=is();return Te({mutationFn:zOe,loadingMessage:"Deleting invoice...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Zo.lists()})},onError:t?.onError})},HOe=nt({file:ps().required("Please select a file to import")}),WOe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:HOe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("invoices")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"invoices",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Invoices",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple invoices. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},YOe=({open:t,onClose:s,invoice:a})=>{const{data:r,isLoading:n,error:i}=P1(a?.id||0),o=r?.data||a,l=_=>({draft:"bg-gray-100 text-gray-800",sent:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[_]||"bg-gray-100 text-gray-800",c=_=>({draft:"Draft",sent:"Sent",paid:"Paid",overdue:"Overdue",cancelled:"Cancelled"})[_]||_,m=_=>{switch(_){case"draft":return e.jsx(ks,{className:"w-4 h-4"});case"sent":return e.jsx(As,{className:"w-4 h-4"});case"paid":return e.jsx(Da,{className:"w-4 h-4"});case"overdue":return e.jsx(ia,{className:"w-4 h-4"});case"cancelled":return e.jsx(ya,{className:"w-4 h-4"});default:return e.jsx(ks,{className:"w-4 h-4"})}},d=_=>_==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(_),p=_=>!_.due_date||!_.balance_due?!1:new Date(_.due_date)<new Date&&_.balance_due>0,x=()=>{s()};if(n)return e.jsx(it,{open:t,setOpen:s,title:"Invoice Details",size:"large",children:e.jsxs("div",{className:"!p-6 !space-y-6",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx(X,{variant:"circular",width:96,height:96,className:"!mx-auto !mb-4"}),e.jsx(X,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-2"}),e.jsx(X,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(X,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto"})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[1,2,3,4].map(_=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(X,{variant:"text",width:"40%",height:20,className:"!mb-4"}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(S=>e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(X,{variant:"text",width:"30%",height:16}),e.jsx(X,{variant:"text",width:"40%",height:16})]},S))})]},_))})]})});if(i||!o)return e.jsx(it,{open:t,setOpen:s,title:"Invoice Details",size:"large",children:e.jsxs("div",{className:"!p-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ia,{className:"w-5 h-5"}),e.jsx(f,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load invoice details"})]}),e.jsx(f,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:x,className:"mt-4",children:"Back to Invoices"})]})});const j=({title:_,children:S,icon:v})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[v&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(v,{className:"!text-primary-500"})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:_})]}),S]})]});return e.jsx(it,{open:t,setOpen:s,title:"Invoice Details",size:"large",children:e.jsxs("div",{className:"!p-5 mb-10 !space-y-5",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${o.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ot,{className:lr("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-green-400 !to-green-600 !text-white":o.status==="paid","!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":o.status==="sent","!bg-gradient-to-br !from-red-400 !to-red-600 !text-white":o.status==="overdue","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":o.status==="draft"||o.status==="cancelled"}),children:e.jsx(Zr,{className:"!w-8 !h-8"})})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:o.invoice_number}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mb-3",children:o.customer?.name||"Unknown Customer"}),e.jsxs("div",{className:"!flex !justify-center !gap-2 !mb-4",children:[e.jsx(Re,{icon:m(o.status||"draft"),label:c(o.status||"draft"),className:`${l(o.status||"draft")} font-semibold`,size:"small"}),p(o)&&e.jsx(Re,{label:"OVERDUE",className:"!bg-red-100 !text-red-800 !font-bold",size:"small"})]}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Total Amount"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d(o.total_amount)})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Amount Paid"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-green-600",children:d(o.amount_paid)})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Balance Due"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-red-600",children:d(o.balance_due)})]})]})]}),e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(j,{title:"Invoice Information",icon:Vn,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Invoice Date:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(o.invoice_date)})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Due Date:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(o.due_date)})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Payment Method:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:o.payment_method?.replaceAll("_"," ")||"N/A"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Order Number:"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:["#",o.parent_id]})]})]})}),e.jsx(j,{title:"Customer Information",icon:$t,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Customer Name:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.customer?.name||"N/A"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Customer Code:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.customer?.code||"N/A"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Customer Type:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:o.customer?.type||"N/A"})]})]})}),e.jsx(j,{title:"Amount Breakdown",icon:Cr,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Subtotal:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d(o.subtotal)})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Discount:"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-green-600",children:["-",d(o.discount_amount)]})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Tax:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d(o.tax_amount)})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Shipping:"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d(o.shipping_amount)})]}),e.jsx("div",{className:"!border-t !border-gray-300 !pt-2 !mt-2",children:e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(f,{variant:"subtitle2",className:"!font-bold",children:"Total:"}),e.jsx(f,{variant:"subtitle2",className:"!font-bold",children:d(o.total_amount)})]})})]})}),e.jsx(j,{title:"Invoice Items",icon:$t,children:e.jsx("div",{className:"!space-y-2",children:o.invoice_items&&o.invoice_items.length>0?o.invoice_items.map((_,S)=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !justify-between !items-start !mb-1",children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:_.product_name||`Product #${_.product_id}`}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d(_.unit_price*_.quantity-(_.discount_amount||0)||0)})]}),e.jsxs("div",{className:"!flex !justify-between !text-xs !text-gray-500",children:[e.jsxs("span",{children:["Qty: ",_.quantity,"  ",d(_.unit_price)]}),_.discount_amount&&_.discount_amount>0&&e.jsxs("span",{className:"!text-green-600",children:["Discount: -",d(_.discount_amount)]})]}),_.notes&&e.jsx(f,{variant:"caption",className:"!text-gray-600 !block !mt-1",children:_.notes})]},_.id||S)):e.jsx(f,{variant:"body2",className:"!text-gray-500 !text-center !py-4",children:"No items found"})})})]}),(o.notes||o.billing_address)&&e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[o.notes&&e.jsx(j,{title:"Notes",icon:ks,children:e.jsx(f,{variant:"body2",className:"!text-gray-700",children:o.notes})}),o.billing_address&&e.jsx(j,{title:"Billing Address",icon:Vn,children:e.jsx(f,{variant:"body2",className:"!text-gray-700",children:o.billing_address})})]}),e.jsx("div",{className:"!flex !justify-end",children:e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:x,children:"Back to Invoices"})})]})})},GOe=async t=>(await ie.get(`/invoices/${t}/items`)).data,KOe=async(t,s)=>(await ie.delete(`/invoices/${t}/items/${s}`)).data,QOe=async(t,s)=>(await ie.put(`/invoices/${t}/items`,s)).data,Jx={all:["invoice-items"],lists:()=>[...Jx.all,"list"],list:t=>[...Jx.lists(),t]},ZOe=(t,s)=>st({queryKey:Jx.list(t),queryFn:()=>GOe(t),enabled:s?.enabled!==void 0?s.enabled:!!t,staleTime:0,refetchOnWindowFocus:!1,refetchOnMount:"always",retry:1}),XOe=t=>{const s=is();return Te({mutationFn:({invoiceId:a,itemId:r})=>KOe(a,r),loadingMessage:"Deleting invoice item...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Jx.list(r.invoiceId)})},onError:t?.onError})},JOe=t=>{const s=is();return Te({mutationFn:({invoiceId:a,...r})=>QOe(a,r),loadingMessage:"Updating invoice items...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:Jx.list(r.invoiceId)})},onError:t?.onError})},eFe=nt({product_id:Ye().required("Product is required").min(1,"Please select a valid product"),quantity:Ye().required("Quantity is required").min(.01,"Quantity must be greater than 0").max(999999,"Quantity is too large"),unit_price:Ye().required("Unit price is required").min(.01,"Unit price must be greater than 0").max(999999999,"Unit price is too large"),discount_amount:Ye().min(0,"Discount cannot be negative").max(999999999,"Discount amount is too large"),tax_amount:Ye().min(0,"Tax cannot be negative").max(999999999,"Tax amount is too large"),notes:ce().max(500,"Notes cannot exceed 500 characters")}),tFe=({open:t,onClose:s,invoiceId:a})=>{const[r,n]=g.useState([]),[i,o]=g.useState(null),[l,c]=g.useState(!1),{formatCurrency:m}=Ga(),{data:d,isLoading:p}=Mu({limit:1e3}),{data:x,isLoading:j}=P1(a),{data:_,isLoading:S}=ZOe(a,{enabled:t&&!!a}),v=d?.data||[],y=x?.data,N=_?.data||[],C=p||j||S,P=JOe(),E=XOe();yt.useEffect(()=>{if(N&&N.length>0){const W=N.map(B=>{const q=Number(B.quantity),H=Number(B.unit_price),Q=Number(B.discount_amount||0),V=Number(B.tax_amount||0),M=q*H-Q+V,R=B;return{id:B.id,product_id:B.product_id,product_name:R.invoice_items_products?.name||B.product_name||"",unit:R.invoice_items_products?.product_unit_of_measurement?.name||R.invoice_items_products?.product_unit_of_measurement?.symbol||R.invoice_items_products?.unit_of_measurement?.toString()||B.unit||"pcs",quantity:B.quantity.toString(),unit_price:B.unit_price.toString(),discount_amount:(B.discount_amount||0).toString(),tax_amount:(B.tax_amount||0).toString(),total_amount:B.total_amount?.toString()||M.toString(),notes:B.notes||"",product_code:R.invoice_items_products?.code||""}});n(W)}else n([])},[N,a]),yt.useEffect(()=>{t&&(c(!1),o(null),D.resetForm())},[t,a]);const D=pt({initialValues:{product_id:"",quantity:"1",unit_price:"0",discount_amount:"0",tax_amount:"0",notes:""},validationSchema:eFe,onSubmit:async W=>{try{const B=v.find(H=>H.id===Number(W.product_id));if(!B){It.error("Selected product not found");return}const q={...W,product_name:B.name,unit:B.product_unit?.name?.toString()||"pcs",product_code:B.code,product_id:Number(W.product_id),total_amount:(Number(W.quantity)*Number(W.unit_price)-Number(W.discount_amount)+Number(W.tax_amount)).toString()};if(l&&i){const H=r.map(Q=>Q.id===i.id?{...q,id:i.id}:Q);n(H),c(!1),o(null)}else{const H={...q,id:Date.now()};n([...r,H])}D.resetForm()}catch(B){console.error("Error managing invoice item:",B)}}}),T=W=>{o(W),c(!0),D.setValues({product_id:W.product_id.toString(),quantity:W.quantity,unit_price:W.unit_price,discount_amount:W.discount_amount,tax_amount:W.tax_amount,notes:W.notes})},A=async W=>{try{if(W>1e6){n(r.filter(B=>B.id!==W));return}await E.mutateAsync({invoiceId:a,itemId:W}),n(r.filter(B=>B.id!==W))}catch(B){console.error("Error deleting invoice item:",B)}},I=()=>{c(!1),o(null),D.resetForm()},F=async()=>{try{const W=r.filter(B=>B.product_id!=="").map(B=>({parent_id:a,product_id:Number(B.product_id),quantity:Number(B.quantity),unit_price:Number(B.unit_price),discount_amount:Number(B.discount_amount)||0,tax_amount:Number(B.tax_amount)||0,notes:B.notes}));await P.mutateAsync({invoiceId:a,invoiceItems:W}),s()}catch(W){console.error("Error saving invoice items:",W)}},O=(()=>{const W=r.reduce((Q,V)=>Q+Number(V.quantity)*Number(V.unit_price),0),B=r.reduce((Q,V)=>Q+Number(V.discount_amount),0),q=r.reduce((Q,V)=>Q+Number(V.tax_amount),0),H=W-B+q;return{subtotal:W,totalDiscount:B,totalTax:q,totalAmount:H}})(),K=[{id:"product_name",label:"Product",render:(W,B)=>e.jsxs(b,{className:"!flex !flex-col !gap-1",children:[e.jsx(f,{variant:"caption",className:"!font-medium !text-xs",children:B.product_name}),B.product_code&&e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs",children:B.product_code})]})},{id:"quantity",label:"Quantity",render:(W,B)=>e.jsxs(b,{className:"!flex !gap-1",children:[e.jsx(f,{variant:"caption",className:"!text-xs !font-medium",children:B.quantity}),B.unit&&e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs",children:B.unit})]})},{id:"unit_price",label:"Unit Price",render:(W,B)=>e.jsx(f,{variant:"caption",className:"!text-xs",children:m(Number(B.unit_price))})},{id:"discount_amount",label:"Discount",render:(W,B)=>e.jsxs(f,{variant:"caption",className:"!text-red-600 !text-xs",children:["-",m(Number(B.discount_amount))]})},{id:"tax_amount",label:"Tax",render:(W,B)=>e.jsxs(f,{variant:"caption",className:"!text-green-600 !text-xs",children:["+",m(Number(B.tax_amount))]})},{id:"total_amount",label:"Total",render:(W,B)=>e.jsx(f,{variant:"caption",className:"!font-medium !text-xs",children:m(Number(B.total_amount||0))})},{id:"actions",label:"Actions",sortable:!1,render:(W,B)=>e.jsxs(b,{className:"!flex !gap-1",children:[e.jsx(ss,{onClick:()=>T(B),tooltip:"Edit item",size:"small"}),e.jsx(Xt,{title:"Delete Invoice Item",description:"Are you sure you want to delete this invoice item? This action cannot be undone.",onConfirm:()=>A(B.id),children:e.jsx(Ht,{tooltip:"Delete item",size:"small"})})]})}];return e.jsx(it,{open:t,setOpen:s,title:`Invoice Items - ${y?.invoice_number||"N/A"}`,size:"large",children:e.jsx(b,{className:"!p-4",children:e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!bg-gray-100 !rounded-lg !p-3",children:[e.jsx(f,{variant:"subtitle1",className:"!font-semibold !mb-3 !text-sm",children:"Invoice Information"}),e.jsxs(b,{className:"!grid !grid-cols-2 !gap-3",children:[e.jsxs(b,{children:[e.jsx(f,{variant:"caption",className:"!text-gray-600 !text-xs",children:"Invoice Number"}),C?e.jsx(X,{variant:"text",width:"60%",height:20}):e.jsx(f,{variant:"body2",className:"!font-medium !text-sm",children:y?.invoice_number||"N/A"})]}),e.jsxs(b,{children:[e.jsx(f,{variant:"caption",className:"!text-gray-600 !text-xs",children:"Customer"}),C?e.jsx(X,{variant:"text",width:"80%",height:20}):e.jsx(f,{variant:"body2",className:"!font-medium !text-sm",children:y?.customer?.name||"N/A"})]}),e.jsxs(b,{children:[e.jsx(f,{variant:"caption",className:"!text-gray-600 !text-xs",children:"Invoice Date"}),C?e.jsx(X,{variant:"text",width:"50%",height:20}):e.jsx(f,{variant:"body2",className:"!font-medium !text-sm",children:y?.invoice_date?new Date(y.invoice_date).toLocaleDateString():"N/A"})]}),e.jsxs(b,{children:[e.jsx(f,{variant:"caption",className:"!text-gray-600 !text-xs",children:"Status"}),C?e.jsx(X,{variant:"text",width:"40%",height:20}):e.jsx(f,{variant:"body2",className:"!font-medium capitalize !text-sm",children:y?.status||"N/A"})]})]})]}),e.jsxs(b,{className:"!bg-white !border !border-gray-200 !rounded-lg !p-3",children:[e.jsx(f,{variant:"subtitle1",className:"!font-semibold !mb-3 !text-sm",children:l?"Edit Invoice Item":"Add New Item"}),e.jsxs("form",{onSubmit:D.handleSubmit,className:"!space-y-4",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsx(wo,{name:"product_id",label:"Product",formik:D,required:!0,disabled:l}),e.jsx(oe,{name:"quantity",label:"Quantity",type:"number",formik:D,required:!0,placeholder:"1"}),e.jsx(oe,{name:"unit_price",label:"Unit Price",type:"number",formik:D,required:!0,placeholder:"0.00"}),e.jsx(oe,{name:"discount_amount",label:"Discount Amount",type:"number",formik:D,placeholder:"0.00"}),e.jsx(oe,{name:"tax_amount",label:"Tax Amount",type:"number",formik:D,placeholder:"0.00"}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"notes",label:"Notes",formik:D,placeholder:"Additional notes...",multiline:!0,rows:2})})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2",children:[l&&e.jsx(G,{type:"button",variant:"outlined",onClick:I,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",startIcon:e.jsx(Gr,{}),children:l?"Update Item":"Add Item"})]})]})]}),e.jsxs(b,{children:[e.jsx(b,{className:"!flex !justify-between !items-center !mb-3",children:e.jsxs(f,{variant:"subtitle1",className:"!font-semibold !text-sm",children:["Invoice Items (",r.length,")"]})}),C?e.jsxs(b,{className:"!space-y-2",children:[e.jsx(X,{variant:"rectangular",height:40}),e.jsx(X,{variant:"rectangular",height:40}),e.jsx(X,{variant:"rectangular",height:40})]}):r.length>0?e.jsx(ct,{data:r,columns:K,getRowId:W=>W.id?.toString()||"",pagination:!1,sortable:!1,emptyMessage:"No invoice items found."}):e.jsxs(b,{className:"!text-center !py-6 !text-gray-500",children:[e.jsx($t,{className:"w-10 h-10 text-gray-400 mx-auto mb-2"}),e.jsx(f,{variant:"caption",className:"!text-xs",children:"No items added yet. Add items using the form above."})]})]}),r.length>0&&e.jsxs(b,{className:"!bg-gray-50 !rounded-lg !p-3",children:[e.jsx(f,{variant:"subtitle1",className:"!font-semibold !mb-3 !text-sm",children:"Invoice Summary"}),e.jsxs(b,{className:"!space-y-2",children:[e.jsxs(b,{className:"!flex !justify-between",children:[e.jsx(f,{variant:"caption",className:"!text-xs",children:"Subtotal:"}),e.jsx(f,{variant:"caption",className:"!text-xs",children:m(O.subtotal)})]}),e.jsxs(b,{className:"!flex !justify-between",children:[e.jsx(f,{variant:"caption",className:"!text-xs",children:"Total Discount:"}),e.jsxs(f,{variant:"caption",className:"!text-red-600 !text-xs",children:["-",m(O.totalDiscount)]})]}),e.jsxs(b,{className:"!flex !justify-between",children:[e.jsx(f,{variant:"caption",className:"!text-xs",children:"Total Tax:"}),e.jsxs(f,{variant:"caption",className:"!text-green-600 !text-xs",children:["+",m(O.totalTax)]})]}),e.jsx(b,{className:"!border-t !border-gray-300 !pt-2 !mt-2",children:e.jsxs(b,{className:"!flex !justify-between",children:[e.jsx(f,{variant:"caption",className:"!font-bold !text-xs",children:"Total Amount:"}),e.jsx(f,{variant:"caption",className:"!font-bold !text-xs",children:m(O.totalAmount)})]})})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:s,children:"Close"}),e.jsx(G,{type:"button",variant:"contained",onClick:F,disabled:r.length===0||P.isPending,children:P.isPending?"Saving...":"Save Changes"})]})]})})})},sFe=async t=>{try{return(await ie.get("/payments",{params:t})).data}catch(s){throw console.error("Error fetching payments:",s),new Error(s.response?.data?.message||"Failed to fetch payments")}},aFe=async t=>{try{return(await ie.get(`/payments/${t}`)).data}catch(s){throw console.error("Error fetching payment:",s),new Error(s.response?.data?.message||"Failed to fetch payment")}},rFe=async t=>{try{return(await ie.post("/payments",t)).data}catch(s){throw console.error("Error creating payment:",s),new Error(s.response?.data?.message||"Failed to create payment")}},nFe=async(t,s)=>{try{return(await ie.put(`/payments/${t}`,s)).data}catch(a){throw console.error("Error updating payment:",a),new Error(a.response?.data?.message||"Failed to update payment")}},iFe=async t=>{try{return(await ie.delete(`/payments/${t}`)).data}catch(s){throw console.error("Error deleting payment:",s),new Error(s.response?.data?.message||"Failed to delete payment")}},oFe=async(t,s)=>{try{return(await ie.post(`/payments/${t}/lines`,s)).data}catch(a){throw console.error("Error creating payment line:",a),new Error(a.response?.data?.message||"Failed to create payment line")}},lFe=async t=>{try{return(await ie.get(`/payments/${t}/lines`)).data}catch(s){throw console.error("Error fetching payment lines:",s),new Error(s.response?.data?.message||"Failed to fetch payment lines")}},cFe=async(t,s)=>{try{return(await ie.delete(`/payments/${t}/lines/${s}`)).data}catch(a){throw console.error("Error deleting payment line:",a),new Error(a.response?.data?.message||"Failed to delete payment line")}},dFe=async(t,s)=>{try{return(await ie.post(`/payments/${t}/refunds`,s)).data}catch(a){throw console.error("Error creating payment refund:",a),new Error(a.response?.data?.message||"Failed to create payment refund")}},uFe=async t=>{try{return(await ie.get(`/payments/${t}/refunds`)).data}catch(s){throw console.error("Error fetching payment refunds:",s),new Error(s.response?.data?.message||"Failed to fetch payment refunds")}},mFe=async(t,s,a)=>{try{return(await ie.put(`/payments/${t}/refunds/${s}`,a)).data}catch(r){throw console.error("Error updating payment refund:",r),new Error(r.response?.data?.message||"Failed to update payment refund")}},pFe=async(t,s)=>{try{return(await ie.delete(`/payments/${t}/refunds/${s}`)).data}catch(a){throw console.error("Error deleting payment refund:",a),new Error(a.response?.data?.message||"Failed to delete payment refund")}},zc={all:["payments"],lists:()=>[...zc.all,"list"],list:t=>[...zc.lists(),t],details:()=>[...zc.all,"detail"],detail:t=>[...zc.details(),t]},f$=(t,s)=>st({queryKey:zc.list(t),queryFn:()=>sFe(t),staleTime:300*1e3,...s}),hFe=(t,s)=>st({queryKey:zc.detail(t),queryFn:()=>aFe(t),enabled:!!t,staleTime:300*1e3,...s}),fFe=()=>Te({mutationFn:rFe,invalidateQueries:["payments"],loadingMessage:"Creating payment..."}),xFe=()=>Te({mutationFn:({id:t,...s})=>nFe(t,s),invalidateQueries:["payments"],loadingMessage:"Updating payment..."}),gFe=()=>Te({mutationFn:iFe,invalidateQueries:["payments"],loadingMessage:"Deleting payment..."}),bFe=(t,s)=>st({queryKey:[...zc.detail(t),"lines"],queryFn:()=>lFe(t),enabled:!!t,staleTime:300*1e3,...s}),yFe=()=>Te({mutationFn:({paymentId:t,...s})=>oFe(t,s),invalidateQueries:["payments"],loadingMessage:"Creating payment line..."}),vFe=()=>Te({mutationFn:({paymentId:t,lineId:s})=>cFe(t,s),invalidateQueries:["payments"],loadingMessage:"Deleting payment line..."}),jFe=(t,s)=>st({queryKey:[...zc.detail(t),"refunds"],queryFn:()=>uFe(t),enabled:!!t,staleTime:300*1e3,...s}),NFe=()=>Te({mutationFn:({paymentId:t,...s})=>dFe(t,s),invalidateQueries:["payments"],loadingMessage:"Creating payment refund..."}),_Fe=()=>Te({mutationFn:({paymentId:t,refundId:s,...a})=>mFe(t,s,a),invalidateQueries:["payments"],loadingMessage:"Updating payment refund..."}),wFe=()=>Te({mutationFn:({paymentId:t,refundId:s})=>pFe(t,s),invalidateQueries:["payments"],loadingMessage:"Deleting payment refund..."}),SFe=async t=>(await ie.get(`/invoices/${t}/payment-lines`)).data,CFe=async(t,s)=>(await ie.delete(`/invoices/${t}/payment-lines/${s}`)).data,PFe=async(t,s)=>(await ie.put(`/invoices/${t}/payment-lines`,s)).data,eg={all:["invoice-payment-lines"],lists:()=>[...eg.all,"list"],list:t=>[...eg.lists(),t]},kFe=(t,s)=>st({queryKey:eg.list(t),queryFn:()=>SFe(t),enabled:s?.enabled!==void 0?s.enabled:!!t,staleTime:0,refetchOnWindowFocus:!1,refetchOnMount:"always",retry:1}),EFe=t=>{const s=is();return Te({mutationFn:({invoiceId:a,lineId:r})=>CFe(a,r),loadingMessage:"Deleting payment line...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:eg.list(r.invoiceId)})},onError:t?.onError})},TFe=t=>{const s=is();return Te({mutationFn:({invoiceId:a,...r})=>PFe(a,r),loadingMessage:"Updating payment lines...",onSuccess:(a,r)=>{s.invalidateQueries({queryKey:eg.list(r.invoiceId)})},onError:t?.onError})},MFe=nt({payment_id:Ye().required("Payment is required").min(1,"Please select a valid payment"),amount_applied:Ye().required("Amount applied is required").min(.01,"Amount must be greater than 0").max(999999999,"Amount is too large"),notes:ce().max(500,"Notes cannot exceed 500 characters")}),DFe=({open:t,onClose:s,invoiceId:a})=>{const[r,n]=g.useState([]),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,d]=g.useState(!1),{formatCurrency:p}=Ga(),{data:x,isLoading:j}=P1(a),{data:_,isLoading:S}=f$({limit:1e3}),{data:v,isLoading:y}=kFe(a,{enabled:t&&!!a}),N=x?.data,C=_?.data||[],P=v?.data||[],E=j||S||y,D=TFe(),T=EFe();yt.useEffect(()=>{if(P&&P.length>0){const V=P.map(M=>({id:M.id,payment_id:M.parent_id,invoice_id:a,invoice_number:M.invoice_number||"",invoice_date:M.invoice_date?.split("T")[0]||"",amount_applied:M.amount_applied.toString(),notes:M.notes||"",payment:M.payments?{payment_number:M.payments.payment_number,payment_date:M.payments.payment_date,method:M.payments.method,collected_by_user:M.payments.users_payments_collected_byTousers}:void 0}));n(V)}else n([])},[P,a]),yt.useEffect(()=>{t&&(c(!1),o(null),A.resetForm())},[t,a]);const A=pt({initialValues:{payment_id:"",amount_applied:"",notes:""},validationSchema:MFe,onSubmit:async V=>{try{const M=C.find(he=>he.id===Number(V.payment_id));if(!M){It.error("Selected payment not found");return}const R=Number(M.total_amount),$=Number(V.amount_applied);if($>R){It.error(`Amount applied (${p($)}) cannot exceed payment total (${p(R)})`);return}const Y=Number(N?.total_amount||0),J=r.reduce((he,de)=>he+Number(de.amount_applied),0),te=l?J-Number(i?.amount_applied||0)+$:J+$;if(te>Y){It.error(`Total amount applied (${p(te)}) cannot exceed invoice total (${p(Y)})`);return}if(r.find(he=>he.payment_id===Number(V.payment_id)&&he.id!==i?.id)){It.error("This payment has already been applied to this invoice");return}const ne={...V,payment_id:Number(V.payment_id),invoice_id:a,invoice_number:N?.invoice_number||"",invoice_date:N?.invoice_date?.split("T")[0]||"",payment:M?{payment_number:M.payment_number,payment_date:M.payment_date?.split("T")[0]||"",method:M.method,collected_by_user:M.collected_by_user}:void 0};if(l&&i){const he=r.map(de=>de.id===i.id?{...ne,id:i.id}:de);n(he),c(!1),o(null)}else{const he={...ne,id:Date.now()};n([...r,he])}A.resetForm(),d(!1),It.success(l?"Payment line updated successfully":"Payment line added successfully")}catch(M){console.error("Error managing payment line:",M),It.error("Failed to save payment line. Please try again.")}}}),I=V=>{o(V),c(!0),d(!0),A.setValues({payment_id:V.payment_id.toString(),amount_applied:V.amount_applied,notes:V.notes})},F=async V=>{try{if(V>1e6){n(r.filter(M=>M.id!==V));return}await T.mutateAsync({invoiceId:a,lineId:V}),n(r.filter(M=>M.id!==V))}catch(M){console.error("Error deleting payment line:",M)}},z=()=>{c(!1),o(null),d(!1),A.resetForm()},O=async()=>{try{const V=r.filter(Y=>Y.payment_id!=="");if(V.length===0){It.error("No valid payment lines to save");return}const M=V.map(Y=>Y.payment_id),R=new Set(M);if(M.length!==R.size){It.error("Duplicate payment lines detected. Please remove duplicates before saving.");return}const $=V.map(Y=>({parent_id:Number(Y.payment_id),invoice_id:a,payment_id:Number(Y.payment_id),amount_applied:Number(Y.amount_applied),notes:Y.notes}));await D.mutateAsync({invoiceId:a,paymentLines:$}),It.success("Payment lines saved successfully"),s()}catch(V){console.error("Error saving payment lines:",V),It.error("Failed to save payment lines. Please try again.")}},W=(()=>{const V=r.reduce((Y,J)=>Y+Number(J.amount_applied),0),M=Number(N?.total_amount||0),R=M-V,$=M>0?V/M*100:0;return{totalApplied:V,invoiceTotal:M,balanceDue:R,paymentPercentage:$,isFullyPaid:R<=0,isOverpaid:R<0}})(),B=()=>W.isOverpaid?"error":W.isFullyPaid?"success":W.paymentPercentage>50?"warning":"default",q=()=>W.isOverpaid?"Overpaid":W.isFullyPaid?"Fully Paid":W.paymentPercentage>50?"Partially Paid":"Unpaid",H=()=>W.isOverpaid?e.jsx(ia,{className:"w-4 h-4"}):W.isFullyPaid?e.jsx(Da,{className:"w-4 h-4"}):W.paymentPercentage>50?e.jsx(As,{className:"w-4 h-4"}):e.jsx(ia,{className:"w-4 h-4"}),Q=[{id:"payment_info",label:"Payment Info",render:(V,M)=>e.jsxs(b,{className:"!flex !flex-col",children:[e.jsx(f,{variant:"caption",className:"!font-medium !text-xs",children:M.payment?.payment_number||"N/A"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 capitalize !text-xs",children:M.payment?.method?.replaceAll("_"," ")||"N/A"})]})},{id:"payment_date",label:"Payment Date",render:(V,M)=>e.jsx(f,{variant:"caption",className:"!text-xs",children:M.payment?.payment_date?new Date(M.payment.payment_date).toLocaleDateString():"N/A"})},{id:"collected_by",label:"Collected By",render:(V,M)=>e.jsx(f,{variant:"caption",className:"!text-xs",children:M.payment?.collected_by_user?.name||"N/A"})},{id:"amount_applied",label:"Amount Applied",render:(V,M)=>e.jsx(f,{variant:"caption",className:"!font-medium !text-green-600 !text-xs",children:p(Number(M.amount_applied))})},{id:"notes",label:"Notes",render:(V,M)=>e.jsx(f,{variant:"caption",className:"!text-gray-600 !text-xs",children:M.notes||"N/A"})},{id:"actions",label:"Actions",sortable:!1,render:(V,M)=>e.jsxs(b,{className:"!flex !gap-1",children:[e.jsx(ss,{onClick:()=>I(M),tooltip:"Edit payment line",size:"small"}),e.jsx(Xt,{title:"Delete Payment Line",description:"Are you sure you want to delete this payment line? This action cannot be undone.",onConfirm:()=>F(M.id),children:e.jsx(Ht,{tooltip:"Delete payment line",size:"small"})})]})}];return e.jsx(it,{open:t,setOpen:s,title:`Payment Tracking - ${N?.invoice_number||"N/A"}`,size:"larger",children:e.jsx(b,{className:"!p-4",children:e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!bg-gray-50 !rounded-lg !p-3",children:[e.jsx(f,{variant:"subtitle1",className:"!font-semibold !mb-3 !text-sm",children:"Invoice Information"}),e.jsxs(b,{className:"!grid !grid-cols-2 !gap-3",children:[e.jsxs(b,{children:[e.jsx(f,{variant:"caption",className:"!text-gray-600 !text-xs",children:"Invoice Number"}),E?e.jsx(X,{variant:"text",width:"60%",height:20}):e.jsx(f,{variant:"body2",className:"!font-medium !text-sm",children:N?.invoice_number||"N/A"})]}),e.jsxs(b,{children:[e.jsx(f,{variant:"caption",className:"!text-gray-600 !text-xs",children:"Customer"}),E?e.jsx(X,{variant:"text",width:"80%",height:20}):e.jsx(f,{variant:"body2",className:"!font-medium !text-sm",children:N?.customer?.name||"N/A"})]}),e.jsxs(b,{children:[e.jsx(f,{variant:"caption",className:"!text-gray-600 !text-xs",children:"Invoice Date"}),E?e.jsx(X,{variant:"text",width:"50%",height:20}):e.jsx(f,{variant:"body2",className:"!font-medium !text-sm",children:N?.invoice_date?new Date(N.invoice_date).toLocaleDateString():"N/A"})]}),e.jsxs(b,{children:[e.jsx(f,{variant:"caption",className:"!text-gray-600 !text-xs",children:"Due Date"}),E?e.jsx(X,{variant:"text",width:"50%",height:20}):e.jsx(f,{variant:"body2",className:"!font-medium !text-sm",children:N?.due_date?new Date(N.due_date).toLocaleDateString():"N/A"})]})]})]}),e.jsxs(b,{className:"!bg-white !border !border-gray-200 !rounded-lg !p-3",children:[e.jsx(f,{variant:"subtitle1",className:"!font-semibold !mb-3 !text-sm",children:"Payment Summary"}),e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-4 !gap-3",children:[e.jsxs(b,{className:"!text-center !p-2 !bg-blue-50 !rounded-lg",children:[e.jsx(Cr,{className:"w-6 h-6 text-blue-600 mx-auto mb-1"}),E?e.jsx(X,{variant:"text",width:"80%",height:24,className:"!mx-auto !mb-1"}):e.jsx(f,{variant:"subtitle2",className:"!font-bold !text-blue-900 !text-sm",children:p(W.invoiceTotal)}),e.jsx(f,{variant:"caption",className:"!text-blue-700 !text-xs",children:"Invoice Total"})]}),e.jsxs(b,{className:"!text-center !p-2 !bg-green-50 !rounded-lg",children:[e.jsx(Da,{className:"w-6 h-6 text-green-600 mx-auto mb-1"}),E?e.jsx(X,{variant:"text",width:"80%",height:24,className:"!mx-auto !mb-1"}):e.jsx(f,{variant:"subtitle2",className:"!font-bold !text-green-900 !text-sm",children:p(W.totalApplied)}),e.jsx(f,{variant:"caption",className:"!text-green-700 !text-xs",children:"Total Paid"})]}),e.jsxs(b,{className:"!text-center !p-2 !bg-orange-50 !rounded-lg",children:[e.jsx(ia,{className:"w-6 h-6 text-orange-600 mx-auto mb-1"}),E?e.jsx(X,{variant:"text",width:"80%",height:24,className:"!mx-auto !mb-1"}):e.jsx(f,{variant:"subtitle2",className:"!font-bold !text-orange-900 !text-sm",children:p(Math.abs(W.balanceDue))}),e.jsx(f,{variant:"caption",className:"!text-orange-700 !text-xs",children:W.isOverpaid?"Overpaid":"Balance Due"})]}),e.jsxs(b,{className:"!text-center !p-2 !bg-purple-50 !rounded-lg",children:[e.jsx(vs,{className:"w-6 h-6 text-purple-600 mx-auto mb-1"}),E?e.jsx(X,{variant:"text",width:"80%",height:24,className:"!mx-auto !mb-1"}):e.jsxs(f,{variant:"subtitle2",className:"!font-bold !text-purple-900 !text-sm",children:[W.paymentPercentage.toFixed(1),"%"]}),e.jsx(f,{variant:"caption",className:"!text-purple-700 !text-xs",children:"Paid"})]})]}),e.jsx(b,{className:"!mt-3 !flex !justify-center",children:E?e.jsx(X,{variant:"rectangular",width:100,height:24,className:"!rounded-full"}):e.jsx(Re,{label:q(),icon:H(),color:B(),className:"!font-semibold !text-xs",size:"small"})})]}),m&&e.jsxs(b,{className:"!bg-white !border !border-gray-200 !rounded-lg !p-3",children:[e.jsx(f,{variant:"subtitle1",className:"!font-semibold !mb-3 !text-sm",children:l?"Edit Payment Line":"Add Payment Line"}),e.jsxs("form",{onSubmit:A.handleSubmit,className:"!space-y-4",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs(Se,{name:"payment_id",label:"Payment",formik:A,required:!0,disabled:l,children:[e.jsx(Z,{value:"",children:"Select Payment"}),C.map(V=>e.jsxs(Z,{value:V.id,children:[V.payment_number," - $",Number(V.total_amount).toFixed(2)," (",V.method,")"]},V.id))]}),e.jsx(oe,{name:"amount_applied",label:"Amount Applied",type:"number",formik:A,required:!0,placeholder:"0.00"}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"notes",label:"Notes",formik:A,placeholder:"Payment notes...",multiline:!0,rows:2})})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:z,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",startIcon:e.jsx(Gr,{}),children:l?"Update Payment Line":"Add Payment Line"})]})]})]}),e.jsxs(b,{children:[e.jsxs(b,{className:"!flex !justify-between !items-center !mb-3",children:[e.jsxs(f,{variant:"subtitle1",className:"!font-semibold !text-sm",children:["Payment History (",r.length,")"]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Gr,{}),onClick:()=>d(!0),disabled:m,size:"small",className:"!text-xs",children:"Add Payment Line"})]}),E?e.jsxs(b,{className:"!space-y-2",children:[e.jsx(X,{variant:"rectangular",height:40}),e.jsx(X,{variant:"rectangular",height:40}),e.jsx(X,{variant:"rectangular",height:40})]}):r.length>0?e.jsx(ct,{data:r,columns:Q,getRowId:V=>V.id?.toString()||"",pagination:!1,sortable:!1,emptyMessage:"No payment lines found."}):e.jsxs(b,{className:"!text-center !py-6 !text-gray-500",children:[e.jsx(Mp,{className:"w-10 h-10 text-gray-400 mx-auto mb-2"}),e.jsx(f,{variant:"caption",className:"!text-xs",children:"No payments recorded yet. Add payment lines to track payments against this invoice."})]})]}),W.invoiceTotal>0&&e.jsxs(b,{className:"!bg-white !border !border-gray-200 !rounded-lg !p-3",children:[e.jsx(f,{variant:"subtitle1",className:"!font-semibold !mb-3 !text-sm",children:"Payment Progress"}),e.jsx(b,{className:"!w-full !bg-gray-200 !rounded-full !h-3 !mb-2",children:E?e.jsx(X,{variant:"rectangular",height:12,className:"!rounded-full"}):e.jsx(b,{className:`!h-3 !rounded-full !transition-all !duration-300 ${W.isOverpaid?"!bg-red-500":W.isFullyPaid?"!bg-green-500":W.paymentPercentage>50?"!bg-yellow-500":"!bg-blue-500"}`,style:{width:`${Math.min(W.paymentPercentage,100)}%`}})}),E?e.jsx(X,{variant:"text",width:"60%",height:16,className:"!mx-auto"}):e.jsxs(f,{variant:"caption",className:"!text-gray-600 !text-center !text-xs",children:[W.paymentPercentage.toFixed(1),"% of invoice total paid"]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:s,children:"Close"}),e.jsx(G,{type:"button",variant:"contained",onClick:O,disabled:r.length===0||D.isPending,children:D.isPending?"Saving...":"Save Changes"})]})]})})})},RFe=nt({invoice_number:ce().optional().max(50,"Invoice number must not exceed 50 characters"),parent_id:Ye().required("Order is required").positive("Order must be a positive number"),customer_id:Ye().required("Customer is required").positive("Customer must be a positive number"),currency_id:Ye().optional().positive("Currency must be a positive number"),invoice_date:ce().required("Invoice date is required"),due_date:ce().optional().test("due-date-after-invoice","Due date must be after invoice date",function(t){const{invoice_date:s}=this.parent;return!t||!s?!0:new Date(t)>=new Date(s)}),status:ce().required("Status is required").oneOf(["draft","sent","paid","overdue","cancelled"],"Please select a valid status"),payment_method:ce().optional().oneOf(["cash","credit","debit","check","bank_transfer","online"],"Please select a valid payment method"),subtotal:Ye().required("Subtotal is required").min(0,"Subtotal must be greater than or equal to 0"),discount_amount:Ye().optional().min(0,"Discount amount must be greater than or equal to 0"),tax_amount:Ye().optional().min(0,"Tax amount must be greater than or equal to 0"),shipping_amount:Ye().optional().min(0,"Shipping amount must be greater than or equal to 0"),amount_paid:Ye().optional().min(0,"Amount paid must be greater than or equal to 0"),balance_due:Ye().optional().min(0,"Balance due must be greater than or equal to 0"),notes:ce().optional().max(500,"Notes must not exceed 500 characters"),billing_address:ce().optional().max(500,"Billing address must not exceed 500 characters"),is_active:ce().required("Status is required").oneOf(["Y","N"],"Status must be Active or Inactive")}),AFe=({open:t,onClose:s,invoice:a})=>{const r=!!a,[n,i]=g.useState([]),o=g.useRef(null),{data:l}=C1({limit:1e3}),{data:c}=ec({limit:1e3}),{data:m}=P1(a?.id||0),d=l?.data||[],p=c?.data||[],x=BOe(),j=UOe(),_=()=>{s(),i([]),S.resetForm(),o.current=null};g.useEffect(()=>{const A=a?.id;if(A!==o.current)if(a&&m?.data){const I=m.data.invoice_items?.map(F=>({product_id:F.product_id,quantity:F.quantity.toString(),unit_price:F.unit_price.toString(),notes:F.notes||""}))||[];i(I),o.current=A??null}else a||(i([]),o.current=null)},[a?.id,m?.data]);const S=pt({initialValues:{invoice_number:a?.invoice_number||"",parent_id:a?.parent_id||"",customer_id:a?.customer_id||"",currency_id:a?.currency_id||(p.length>0?p[0].id.toString():""),invoice_date:a?.invoice_date?a.invoice_date.split("T")[0]:"",due_date:a?.due_date?a.due_date.split("T")[0]:"",status:a?.status||"draft",payment_method:a?.payment_method||"credit",subtotal:a?.subtotal||0,total_amount:a?.total_amount||0,balance_due:a?.balance_due||0,notes:a?.notes||"",billing_address:a?.billing_address||"",is_active:a?.is_active||"Y",invoice_items:[]},validationSchema:RFe,enableReinitialize:!0,onSubmit:async A=>{try{const I={...A,invoice_date:new Date(A.invoice_date).toISOString(),parent_id:Number(A.parent_id),customer_id:Number(A.customer_id),currency_id:A.currency_id?Number(A.currency_id):void 0,due_date:A.due_date?new Date(A.due_date).toISOString():void 0,notes:A.notes,billing_address:A.billing_address,subtotal:T.subtotal,total_amount:T.total_amount,balance_due:T.balance_due,invoiceItems:n.filter(F=>F.product_id!=="").map(F=>({product_id:Number(F.product_id),quantity:Number(F.quantity),unit_price:Number(F.unit_price),notes:F.notes}))};r&&a?await j.mutateAsync({id:a.id,...I}):await x.mutateAsync(I),_()}catch(I){console.log("Error submitting invoice:",I)}}}),v=()=>{const A={product_id:"",quantity:"1",unit_price:"0",notes:""},I=[...n,A];i(I)},y=A=>{const I=n.filter((F,z)=>z!==A);i(I)},N=(A,I,F)=>{if(n[A]&&n[A][I]===F)return;const z=[...n];z[A]={...z[A],[I]:F},i(z)},C=yt.useMemo(()=>n.map((A,I)=>({...A,_index:I})),[n]),P=[{id:"product_id",label:"Product",render:(A,I)=>e.jsx(wo,{value:I.product_id,onChange:(F,z)=>N(I._index,"product_id",z?String(z.id):""),size:"small",className:"!min-w-60"})},{id:"quantity",label:"Quantity",render:(A,I)=>e.jsx(oe,{value:I.quantity,onChange:F=>N(I._index,"quantity",F.target.value),placeholder:"1",type:"number",size:"small",className:"!min-w-20"})},{id:"unit_price",label:"Unit Price",render:(A,I)=>e.jsx(oe,{value:I.unit_price,onChange:F=>N(I._index,"unit_price",F.target.value),placeholder:"0.00",type:"number",size:"small",className:"!min-w-32"})},{id:"actions",label:"Actions",sortable:!1,render:(A,I)=>e.jsx(Ht,{onClick:()=>y(I._index),tooltip:"Remove item",confirmDelete:!0,size:"medium",itemName:"invoice item"})}],E=A=>p.find(F=>F.id===Number(A))?.code||"USD",D=(A,I)=>A==null?`${I} 0.00`:new Intl.NumberFormat("en-US",{style:"currency",currency:I}).format(A),T=yt.useMemo(()=>{const A=n.reduce((z,O)=>z+Number(O.quantity)*Number(O.unit_price),0),I=A;return{subtotal:A,total_amount:I,balance_due:I}},[n]);return e.jsx(it,{open:t,setOpen:_,title:r?"Edit Invoice":"Create Invoice",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:S.handleSubmit,className:"!space-y-5 mb-10",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5",children:[e.jsx(b,{className:"md:!col-span-2",children:e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Invoice Information"})}),e.jsx(Se,{name:"parent_id",label:"Order",formik:S,required:!0,children:d.map(A=>e.jsxs(Z,{value:A.id,children:[A.order_number," - ",A.customer?.name]},A.id))}),e.jsx(Yn,{name:"customer_id",label:"Customer",formik:S,required:!0}),e.jsx(oe,{name:"invoice_date",label:"Invoice Date",type:"date",formik:S,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(oe,{name:"due_date",label:"Due Date",type:"date",formik:S,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(Se,{name:"currency_id",label:"Currency",formik:S,required:!0,children:p.map(A=>e.jsxs(Z,{value:A.id,children:[A.code," - ",A.name]},A.id))}),e.jsxs(Se,{name:"status",label:"Status",formik:S,required:!0,children:[e.jsx(Z,{value:"draft",children:"Draft"}),e.jsx(Z,{value:"sent",children:"Sent"}),e.jsx(Z,{value:"paid",children:"Paid"}),e.jsx(Z,{value:"overdue",children:"Overdue"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]}),e.jsxs(Se,{name:"payment_method",label:"Payment Method",formik:S,required:!0,children:[e.jsx(Z,{value:"cash",children:"Cash"}),e.jsx(Z,{value:"credit",children:"Credit"}),e.jsx(Z,{value:"debit",children:"Debit"}),e.jsx(Z,{value:"check",children:"Check"}),e.jsx(Z,{value:"bank_transfer",children:"Bank Transfer"}),e.jsx(Z,{value:"online",children:"Online Payment"})]}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"billing_address",label:"Billing Address",placeholder:"Enter billing address",formik:S,multiline:!0,rows:3})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"notes",label:"Notes",placeholder:"Enter invoice notes",formik:S,multiline:!0,rows:3})})]}),e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !justify-between !items-center",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Invoice Items"}),e.jsx(G,{type:"button",variant:"outlined",startIcon:e.jsx(Gr,{}),onClick:v,size:"small",children:"Add Item"})]}),n.length>0&&e.jsx(ct,{data:C,columns:P,getRowId:A=>A._index.toString(),pagination:!1,sortable:!1,emptyMessage:"No invoice items added yet."}),n.length===0&&e.jsxs(b,{className:"!text-center !py-8 !text-gray-500",children:[e.jsx($t,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(f,{variant:"body2",children:'No items added yet. Click "Add Item" to get started.'})]}),n.length>0&&e.jsxs(b,{className:"!bg-gray-50 !rounded-lg !mt-4",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2",children:"Invoice Summary"}),e.jsx(b,{className:"!space-y-2",children:e.jsxs(b,{className:"!flex !justify-between",children:[e.jsx(f,{variant:"subtitle2",className:"!font-bold",children:"Total Amount:"}),e.jsx(f,{variant:"subtitle2",className:"!font-bold",children:D(T.total_amount,E(S.values.currency_id))})]})})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:_,disabled:x.isPending||j.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:x.isPending||j.isPending,children:x.isPending||j.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},IFe=()=>{const{formatCurrency:t}=Ga(),[s,a]=g.useState(""),[r,n]=g.useState("all"),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,d]=g.useState(!1),[p,x]=g.useState(!1),[j,_]=g.useState(!1),[S,v]=g.useState(!1),[y,N]=g.useState(1),[C]=g.useState(10),{isCreate:P,isUpdate:E,isDelete:D,isRead:T}=Ze("invoice"),{data:A,isLoading:I,error:F}=qOe({search:s,page:y,limit:C,status:r==="all"?void 0:r},{enabled:T}),z=A?.data||[],O=A?.pagination?.total_count||0,K=(A?.pagination?.current_page||1)-1,W=VOe(),B=ls(),q=z.length,H=z.reduce((le,me)=>le+(me.total_amount||0),0),Q=z.reduce((le,me)=>le+(me.amount_paid||0),0),V=z.reduce((le,me)=>le+(me.balance_due||0),0),M=g.useCallback(()=>{o(null),c(!0)},[]),R=g.useCallback(le=>{o(le),c(!0)},[]),$=g.useCallback(le=>{o(le),d(!0)},[]),Y=g.useCallback(le=>{o(le),x(!0)},[]),J=g.useCallback(le=>{o(le),_(!0)},[]),te=g.useCallback(async le=>{try{await W.mutateAsync(le)}catch(me){console.error("Error deleting invoice:",me)}},[W]),ee=g.useCallback(le=>{a(le),N(1)},[]),ne=le=>{N(le+1)},he=g.useCallback(async()=>{try{const le={search:s,status:r==="all"?void 0:r};await B.mutateAsync({tableName:"invoices",filters:le})}catch(le){console.error("Error exporting invoices:",le)}},[B,s,r]),de=le=>({draft:"!bg-gray-100 !text-gray-800",sent:"!bg-blue-100 !text-blue-800",paid:"!bg-green-100 !text-green-800",overdue:"!bg-red-100 !text-red-800",cancelled:"!bg-gray-100 !text-gray-800"})[le]||"!bg-gray-100 !text-gray-800",ae=le=>{switch(le){case"draft":return e.jsx(ks,{className:"w-4 h-4"});case"sent":return e.jsx(As,{className:"w-4 h-4"});case"paid":return e.jsx(Da,{className:"w-4 h-4"});case"overdue":return e.jsx(ia,{className:"w-4 h-4"});case"cancelled":return e.jsx(ya,{className:"w-4 h-4"});default:return e.jsx(ks,{className:"w-4 h-4"})}},xe=le=>!le.due_date||!le.balance_due?!1:new Date(le.due_date)<new Date&&le.balance_due>0,ge=[{id:"invoice_number",label:"Invoice Info",render:(le,me)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:me.invoice_number,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Zr,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:me.invoice_number}),e.jsxs(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:[me.invoice_items?.length||0," items  Order #",me.parent_id]})]})]})},{id:"customer.name",label:"Customer",render:(le,me)=>e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:me.customer?.name||"N/A"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:me.customer?.code||"N/A"})]})},{id:"status",label:"Status",render:(le,me)=>e.jsxs(b,{className:"flex !gap-2 items-center",children:[e.jsx(Re,{icon:ae(me.status||"draft"),label:me.status||"draft",size:"small",className:`!text-xs !capitalize ${de(me.status||"draft")} !min-w-20`}),xe(me)&&e.jsx(Re,{label:"OVERDUE",size:"small",className:"!text-xs !bg-red-100 !text-red-800 !font-bold"})]})},{id:"invoice_date",label:"Dates",render:(le,me)=>e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center text-sm text-gray-900",children:[e.jsx(ws,{className:"w-4 h-4 text-gray-400 mr-1"}),"Invoice:"," ",me.invoice_date?new Date(me.invoice_date).toLocaleDateString():"N/A"]}),me.due_date&&e.jsxs(b,{className:"flex items-center text-sm text-gray-500 mt-1",children:[e.jsx(As,{className:"w-4 h-4 text-gray-400 mr-1"}),"Due: ",new Date(me.due_date).toLocaleDateString()]})]})},{id:"total_amount",label:"Amounts",render:(le,me)=>e.jsxs(b,{children:[e.jsxs(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:["Total: ",t(me.total_amount||0)]}),e.jsxs(f,{variant:"caption",className:"!text-green-600 !text-xs !block !mt-0.5",children:["Paid: ",t(me.amount_paid||0)]}),me.balance_due&&me.balance_due>0&&e.jsxs(f,{variant:"caption",className:"!text-red-600 !text-xs !block !mt-0.5",children:["Balance: ",t(me.balance_due||0)]})]})},{id:"payment_method",label:"Payment Method",render:(le,me)=>e.jsx(f,{variant:"body2",className:"!text-gray-600 !capitalize",children:me.payment_method?.replaceAll("_"," ")||"N/A"})},...T||E||D?[{id:"action",label:"Actions",sortable:!1,render:(le,me)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[T&&e.jsxs(e.Fragment,{children:[e.jsx(Ua,{onClick:()=>$(me),tooltip:"View invoice details",icon:e.jsx(ks,{}),color:"success"}),e.jsx(Ua,{onClick:()=>Y(me),tooltip:"Manage invoice items",icon:e.jsx($t,{}),color:"info"}),e.jsx(Ua,{onClick:()=>J(me),tooltip:"Track payments",icon:e.jsx(Mp,{}),color:"secondary"})]}),E&&e.jsx(ss,{onClick:()=>R(me),tooltip:`Edit ${me.invoice_number}`}),D&&e.jsx(Ht,{onClick:()=>te(me.id),tooltip:`Delete ${me.invoice_number}`,itemName:me.invoice_number,confirmDelete:!0})]})}]:[]];return F?e.jsxs(lt,{severity:"error",className:"mb-4",children:["Error loading invoices: ",F.message]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Invoices Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage customer invoices, track payments, and monitor outstanding balances"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Invoices",value:q,icon:e.jsx(Zr,{className:"w-6 h-6"}),color:"blue",isLoading:I}),e.jsx(fe,{title:"Total Amount",value:t(H),icon:e.jsx(Cr,{className:"w-6 h-6"}),color:"green",isLoading:I}),e.jsx(fe,{title:"Amount Paid",value:t(Q),icon:e.jsx(Da,{className:"w-6 h-6"}),color:"blue",isLoading:I}),e.jsx(fe,{title:"Outstanding Balance",value:t(V),icon:e.jsx(ia,{className:"w-6 h-6"}),color:"red",isLoading:I})]}),F&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load invoices. Please try again."}),e.jsx(ct,{data:z,columns:ge,actions:T||P?e.jsxs("div",{className:"flex justify-between gap-3 items-center flex-wrap",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-3",children:T&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Invoices...",value:s,onChange:ee,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:r,onChange:le=>n(le.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"draft",children:"Draft"}),e.jsx(Z,{value:"sent",children:"Sent"}),e.jsx(Z,{value:"paid",children:"Paid"}),e.jsx(Z,{value:"overdue",children:"Overdue"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]})]})}),T&&e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Xt,{title:"Export Invoices",description:"Are you sure you want to export the current invoices data to Excel? This will include all filtered results.",onConfirm:he,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:B.isPending,children:B.isPending?"Exporting...":"Export"})}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>v(!0),children:"Import"}),P&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:M,children:"Create"})]})]}):!1,getRowId:le=>le.id,initialOrderBy:"invoice_number",loading:I,totalCount:O,page:K,rowsPerPage:C,isPermission:T,onPageChange:ne,emptyMessage:s?`No invoices found matching "${s}"`:"No invoices found in the system"}),l&&e.jsx(AFe,{open:l,onClose:()=>c(!1),invoice:i}),m&&e.jsx(YOe,{open:m,onClose:()=>d(!1),invoice:i}),p&&e.jsx(tFe,{open:p,onClose:()=>x(!1),invoiceId:i?.id||0},`items-management-${i?.id||0}`),j&&e.jsx(DFe,{open:j,onClose:()=>_(!1),invoiceId:i?.id||0},`payment-tracking-${i?.id||0}`),S&&e.jsx(WOe,{drawerOpen:S,setDrawerOpen:v})]})},OFe=nt({file:ps().required("Please select a file to import")}),FFe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:OFe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("orders")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"orders",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Orders",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple orders. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})};nt().shape({product_id:Ye().required("Product is required").positive("Product ID must be positive"),product_name:ce().nullable(),unit:ce().nullable(),quantity:Ye().required("Quantity is required").positive("Quantity must be positive").integer("Quantity must be a whole number"),unit_price:Ye().required("Unit price is required").min(0,"Unit price must be non-negative"),total_amount:Ye().min(0,"Total amount must be non-negative").nullable(),notes:ce().max(500,"Notes must be at most 500 characters").nullable()});const x$=nt().shape({order_number:ce().min(3,"Order number must be at least 3 characters").max(50,"Order number must be at most 50 characters").nullable(),parent_id:Ye().typeError("Customer is required").required("Customer is required").positive("Customer ID must be positive"),salesperson_id:Ye().typeError("Sales Person is required").required("Sales Person is required").positive("Sales Person ID must be positive"),currency_id:Ye().positive("Currency ID must be positive").nullable(),order_date:ce().nullable(),delivery_date:ce().nullable(),status:ce().oneOf(["draft","pending","confirmed","processing","shipped","delivered","cancelled"],"Invalid order status").nullable(),priority:ce().oneOf(["low","medium","high","urgent"],"Invalid priority").nullable(),order_type:ce().oneOf(["regular","urgent","promotional","sample"],"Invalid order type").nullable(),payment_method:ce().oneOf(["cash","credit","cheque","bank_transfer"],"Invalid payment method").nullable(),payment_terms:ce().max(50,"Payment terms must be at most 50 characters").nullable(),subtotal:Ye().min(0,"Subtotal must be non-negative").nullable(),shipping_amount:Ye().min(0,"Shipping amount must be non-negative").nullable(),total_amount:Ye().min(0,"Total amount must be non-negative").nullable(),notes:ce().max(500,"Notes must be at most 500 characters").nullable(),shipping_address:ce().max(500,"Shipping address must be at most 500 characters").nullable(),approval_status:ce().oneOf(["P","A","R"],"Invalid approval status").nullable(),is_active:ce().oneOf(["Y","N"],"Status must be Y or N").required("Status is required"),order_items:ps().nullable()});x$.shape({order_number:ce().min(3,"Order number must be at least 3 characters").max(50,"Order number must be at most 50 characters").nullable(),parent_id:Ye().typeError("Customer is required").required("Customer is required").positive("Customer ID must be positive"),salesperson_id:Ye().typeError("Salesperson is required").required("Salesperson is required").positive("Salesperson ID must be positive"),order_items:ps().nullable()});const LFe=nt().shape({product_id:Ye().required("Product selection is required. Please select a product from the dropdown.").positive("Product ID must be positive").test("is-not-zero","Product selection is required",t=>t!==0),product_name:ce().nullable(),quantity:Ye().required("Quantity is required").positive("Quantity must be positive").integer("Quantity must be a whole number").min(1,"Quantity must be at least 1"),unit_price:Ye().required("Unit price is required").min(0,"Unit price must be non-negative"),notes:ce().max(500,"Notes must be at most 500 characters").nullable()});nt().shape({order_items:dl().of(LFe).min(1,"At least one product must be added to the order").test("has-valid-products","All items must have valid products",function(t){return!t||t.length===0?!1:t.every(s=>{const a=Number(s.product_id),r=Number(s.quantity);return s&&a&&a>0&&!isNaN(a)&&r>0&&s.product_name})})});const g$={all:["salesperson-inventory-items-dropdown"],list:(t,s)=>[...g$.all,t,s]},$Fe=(t,s,a)=>st({queryKey:g$.list(t,s),queryFn:()=>E9e(t,s),enabled:a?.enabled!==void 0?a.enabled:!!t,staleTime:60*1e3}),zFe=({salespersonId:t,name:s="product_id",label:a="Sales Item",required:r=!1,fullWidth:n=!0,size:i="small",formik:o,setValue:l,value:c,nameToSearch:m="",onChange:d,className:p,placeholder:x="Search for a product",disabled:j=!1})=>{const[_,S]=g.useState(""),[v,y]=g.useState(""),[N,C]=g.useState(""),[P,E]=g.useState(!1),[D,T]=g.useState(null),[A,I]=g.useState(!1),F=g.useRef(!1),z=o?o.values[s]:c,O=z?typeof z=="number"?z.toString():String(z).trim():"";g.useEffect(()=>{const M=setTimeout(()=>{P||(C(v),v&&I(!0))},300);return()=>clearTimeout(M)},[v,P]);const K=g.useMemo(()=>A||_?N:O&&m&&!A?m:N,[N,m,A,O,_]),{data:W,isLoading:B}=$Fe(t,K,{enabled:!j&&!!t}),q=g.useMemo(()=>W?.data?W.data:[],[W]);g.useEffect(()=>{if(O&&q.length>0&&!D&&!F.current){F.current=!0;const M=q.find(R=>String(R.product_id)===String(O));M&&(T(M),!A&&!_&&(S(M.name),I(!0))),F.current=!1}},[O,q,D,A,_]);const H=g.useMemo(()=>{if(!O)return null;if(typeof c=="number"&&c>0){const R=q.find($=>$.product_id===c);if(R)return R}const M=q.find(R=>String(R.product_id)===O);return M||(D&&String(D.product_id)===O?D:null)},[O,q,D,c]);g.useEffect(()=>{!O&&(D||_)&&(S(""),T(null),I(!1))},[O]);const Q=(M,R)=>{if(P)return;E(!0),T(R);const $=R?.product_id||0;o?(o.setFieldValue(s,$,!1),o.setFieldTouched(s,!0,!1)):l&&l($),d&&d(M,R),R?S(R.name):(S(""),C(""),y("")),setTimeout(()=>E(!1),150)},V=(M,R,$)=>{$==="input"&&(S(R),P||y(R)),$==="clear"&&(S(""),y(""),C(""),T(null),o&&o.setFieldValue(s,0))};return e.jsx(ir,{id:`sales-items-select-${s}`,options:q,getOptionLabel:M=>M.name,loading:B,value:H,onChange:Q,onInputChange:V,inputValue:_,fullWidth:n,size:i,disabled:j,className:p,isOptionEqualToValue:(M,R)=>R?typeof R=="number"?M.product_id===R:M.product_id===R.product_id:!1,filterOptions:M=>M,renderOption:(M,R)=>g.createElement(b,{component:"li",...M,key:R.id,className:"!flex !items-center !gap-2 cursor-pointer py-1 px-2 hover:!bg-gray-50"},e.jsx(ot,{src:R.name||"mkx",alt:R.name,className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(b,{children:[e.jsx("p",{className:"!text-gray-900 !text-sm",children:R.name||""}),R.code&&e.jsx("p",{className:"!text-gray-500 !text-xs",children:R.code})]})),noOptionsText:t?N&&!B?"No items found":"Type to search items":"Select a salesperson first",loadingText:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(to,{thickness:6,size:16,color:"inherit"})," Loading items..."]}),renderInput:M=>e.jsx(Ba,{...M,label:a,placeholder:x,required:r,error:o&&!!(o.touched[s]&&o.errors[s]),helperText:o&&o.touched[s]&&o.errors[s],InputProps:{...M.InputProps,endAdornment:e.jsxs(yt.Fragment,{children:[B?e.jsx(to,{color:"inherit",size:20}):null,M.InputProps.endAdornment]})}})})},qFe=({isOpen:t,setIsOpen:s,selectedRowIndex:a,setSelectedRowIndex:r,orderItems:n,setOrderItems:i,inventoryByProductId:o})=>{const[l,c]=yt.useState([]);yt.useEffect(()=>{if(a===null)return;const v=n[a];if(!v){c([]);return}const y=v.product_batches||[];if(y.length>0){c(y);return}const N=typeof v.product_id=="number"?v.product_id:null;if(N&&o&&o[N]&&o[N].batches.length>0){const C=o[N].batches.map(P=>({...P,quantity:P.batch_remaining_quantity||P.quantity||0}));c(C);return}c([])},[a,n,o]);const m=yt.useCallback(()=>{s(!1),c([]),r(null)},[s,r]),d=yt.useCallback(v=>{c(y=>y.filter((N,C)=>C!==v))},[]),p=yt.useCallback((v,y,N)=>{c(C=>{const P=[...C];if(v==="quantity"){const E=Number(N),D=Number.isFinite(E)&&E>=0?E:0;return P[y]={...P[y],quantity:D},P}return P[y]={...P[y],[v]:N},P})},[]),x=yt.useCallback(()=>{if(a===null)return;const v=l.filter(D=>{const T=Number(D.quantity);return Number.isFinite(T)&&T>0}),y=v.reduce((D,T)=>D+(Number(T.quantity)||0),0);if(v.length===0||y<=0){It.error("Total batch quantity must be greater than 0.");return}const N=v.findIndex(D=>{const T=(D.batch_number||"").trim(),A=(D.manufacturing_date||"").trim(),I=(D.expiry_date||"").trim(),F=Number(D.quantity);return!T||!A||!I||!Number.isFinite(F)||F<=0});if(N!==-1){It.error(`Please fill Batch Number, MFG Date, EXP Date and Quantity (> 0) for row ${N+1}.`);return}const C=new Set,P=v.findIndex(D=>{const T=`${(D.batch_number||"").trim().toLowerCase()}|${(D.lot_number||"").trim().toLowerCase()}`;return C.has(T)?!0:(C.add(T),!1)});if(P!==-1){It.error(`Duplicate batch entry found at row ${P+1}.`);return}const E=[...n];E[a]={...E[a],quantity:String(y),product_batches:l.map(D=>({...D,batch_number:(D.batch_number||"").trim(),lot_number:(D.lot_number||"").trim(),quantity:Number(D.quantity)||0,manufacturing_date:(D.manufacturing_date||"").trim(),expiry_date:(D.expiry_date||"").trim()}))},i(E),m()},[a,l,n,i,m]),j=yt.useMemo(()=>{if(a===null)return!1;const v=l.filter(P=>{const E=Number(P.quantity);return Number.isFinite(E)&&E>0}),y=v.reduce((P,E)=>P+(Number(E.quantity)||0),0);if(v.length===0||y<=0||v.some(P=>{const E=(P.batch_number||"").trim(),D=(P.manufacturing_date||"").trim(),T=(P.expiry_date||"").trim(),A=Number(P.quantity);return!E||!D||!T||!Number.isFinite(A)||A<=0}))return!1;const C=new Set;for(const P of v){const E=`${(P.batch_number||"").trim().toLowerCase()}|${(P.lot_number||"").trim().toLowerCase()}`;if(C.has(E))return!1;C.add(E)}return!0},[a,l]),_=yt.useMemo(()=>l.reduce((v,y)=>v+(Number(y.quantity)||0),0),[l]),S=yt.useMemo(()=>[{id:"batch_number",label:"Batch Number",render:(v,y)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:y.batch_number})},{id:"manufacturing_date",label:"MFG Date",render:(v,y)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:Fe(y.manufacturing_date)})},{id:"expiry_date",label:"EXP Date",render:(v,y)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:Fe(y.expiry_date)})},{id:"total_quantity",label:"Total Quantity",render:(v,y)=>e.jsx(f,{variant:"body2",className:"!text-gray-600",children:y.batch_remaining_quantity})},{id:"quantity",label:"Quantity",render:(v,y,N)=>e.jsx(oe,{type:"number",value:y.quantity,onChange:C=>{const P=Number(C.target.value),E=Number(y.batch_remaining_quantity??y.quantity??0);if(!Number.isFinite(P)){p("quantity",N,0);return}const D=P>=0?P:0,T=Number.isFinite(E)&&E>0?Math.min(D,E):D;p("quantity",N,T)},size:"small",className:"!w-40",placeholder:"Enter quantity",fullWidth:!0})}],[p,d]);return e.jsxs(ol,{open:t,onClose:m,slotProps:{paper:{className:"!min-w-[60%] !max-w-[60%]"}},children:[e.jsxs("div",{className:"flex justify-between items-center !p-2",children:[e.jsxs("p",{className:"!font-semibold text-lg !text-gray-900",children:["Batch Information (",_,")"]}),e.jsx(Ua,{icon:e.jsx(Lr,{}),onClick:m,size:"small","aria-label":"Close dialog"})]}),e.jsx(or,{}),e.jsx(b,{className:"!p-2 min-h-[40vh]",children:e.jsx(ct,{stickyHeader:!0,maxHeight:"50vh",columns:S,data:l,compact:!0,pagination:!1,sortable:!1,emptyMessage:"No batches in this product"})}),e.jsxs(b,{className:"!p-2 !flex !justify-end !border-t gap-2 !border-gray-300",children:[e.jsx(G,{variant:"outlined",color:"info",onClick:m,children:"Cancel"}),e.jsx(G,{variant:"contained",color:"primary",onClick:x,disabled:!j,children:"Update"})]})]})},QD={serial_number:"",quantity:1,product_id:0},BFe=({isOpen:t,setIsOpen:s,selectedRowIndex:a,setSelectedRowIndex:r,orderItems:n,setOrderItems:i,inventoryByProductId:o})=>{const[l,c]=yt.useState([]);yt.useEffect(()=>{if(!t||a===null)return;const j=n[a];if(!j)return;let _=j.product_serials||[];if(_.length===0&&o&&typeof j.product_id=="number"){const v=o[j.product_id];v&&v.serials.length>0&&(_=v.serials)}const S=_.length>0?_.map(v=>{const N=v.selected!==!1;return{...QD,...v||{},product_id:Number(j.product_id||0),quantity:1,serial_number:v?.serial_number||"",selected:N}}):[{...QD,product_id:Number(j.product_id||0),selected:!0}];c(S)},[t,a,n,o]);const m=yt.useCallback(()=>{s(!1),c([]),r(null)},[s,r]),d=yt.useCallback(j=>{c(_=>{const S=[..._],v=S[j];return S[j]={...v,selected:v.selected===!1},S})},[]),p=yt.useMemo(()=>{if(a===null)return!1;const j=l.filter(v=>v.selected!==!1);if(j.length===0)return!1;const _=j.map(v=>(v.serial_number||"").trim());if(_.some(v=>v.length===0))return!1;const S=new Set;for(const v of _){const y=v.toLowerCase();if(S.has(y))return!1;S.add(y)}return!0},[a,l]),x=yt.useCallback(()=>{if(a===null)return;const j=l.filter(C=>C.selected!==!1),_=j.map(C=>(C.serial_number||"").trim()),S=_.findIndex(C=>C.length===0);if(S!==-1){It.error(`Serial number is required for row ${S+1}.`);return}const v=new Set,y=_.findIndex(C=>{const P=C.toLowerCase();return v.has(P)?!0:(v.add(P),!1)});if(y!==-1){It.error(`Duplicate serial number found: ${_[y]}`);return}const N=[...n];N[a]={...N[a],quantity:String(j.length),product_serials:l.map(C=>({...C,serial_number:(C.serial_number||"").trim(),quantity:1}))},i(N),m()},[a,l,n,i,m]);return e.jsxs(ol,{open:t,onClose:m,slotProps:{paper:{className:"!min-w-[40%] !max-w-[40%]"}},children:[e.jsxs("div",{className:"flex justify-between items-center !p-2",children:[e.jsxs("p",{className:"!font-semibold text-lg !text-gray-900",children:["Serial Information (",l.length,")"]}),e.jsx(Ua,{icon:e.jsx(Lr,{}),onClick:m,size:"small","aria-label":"Close dialog"})]}),e.jsx(or,{}),e.jsx(b,{className:"!p-2 min-h-[40vh]",children:e.jsx("div",{className:"max-h-[50vh] overflow-y-auto flex flex-col gap-2",children:l.map((j,_)=>{const S=j;return e.jsx("div",{className:"flex items-center justify-between border border-gray-200 rounded px-2 py-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qo,{checked:S.selected!==!1,onChange:()=>d(_),size:"small"}),e.jsx("span",{children:j.serial_number})]})},`${j.serial_number}-${_}`)})})}),e.jsxs(b,{className:"!p-2 !flex !justify-end !border-t gap-2 !border-gray-300",children:[e.jsx(G,{variant:"outlined",color:"info",onClick:m,children:"Cancel"}),e.jsx(G,{variant:"contained",color:"primary",onClick:x,disabled:!p,children:"Update"})]})]})},UFe=({open:t,onClose:s,order:a})=>{const r=!!a,[n,i]=g.useState([]),o=g.useRef(null),l=g.useRef(""),c=g.useRef(""),[m,d]=g.useState(!1),[p,x]=g.useState(!1),[j,_]=g.useState(null),{formatCurrency:S,defaultCurrencyId:v}=Ga(),{data:y,isFetching:N}=h$(a?.id||0),C=xOe(),P=gOe(),E=pt({initialValues:{order_number:"",parent_id:0,salesperson_id:0,currency_id:v,order_date:new Date().toISOString().split("T")[0],delivery_date:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],status:"draft",priority:"medium",order_type:"regular",payment_method:"credit",payment_terms:"Net 30",subtotal:0,shipping_amount:0,total_amount:0,notes:"",shipping_address:"",approval_status:"P",is_active:"Y",order_items:[]},validationSchema:x$,onSubmit:async M=>{try{if(n?.length===0){It.error("Please add at least one item to the order before submitting.");return}for(let $=0;$<n.length;$+=1){const Y=n[$];if(!Y.product_id||Y.product_id===0){It.error(`Item ${$+1}: Please select a product`);return}if(!Y.quantity||Number(Y.quantity)<=0){It.error(`Item ${$+1}: Please enter a valid quantity`);return}const J=Number(Y.quantity),te=(Y.tracking_type||"").toLowerCase();if(te==="batch"&&J>0){const ne=(Y.product_batches||[]).filter(de=>{const ae=Number(de.quantity);return Number.isFinite(ae)&&ae>0}),he=ne.reduce((de,ae)=>de+(Number(ae.quantity)||0),0);if(ne.length===0||he===0){It.error(`Item ${$+1}: Please allocate batch quantities to match the ordered quantity.`);return}if(he!==J){It.error(`Item ${$+1}: Batch quantity mismatch (${he}/${J}).`);return}}if(te==="serial"&&J>0){const ne=(Y.product_serials||[]).filter(ae=>ae.selected!==!1);if(ne.length===0){It.error(`Item ${$+1}: Please assign serial numbers to match the ordered quantity.`);return}if(ne.length!==J){It.error(`Item ${$+1}: Serial count mismatch (${ne.length}/${J}).`);return}const he=ne.map(ae=>(ae.serial_number||"").trim().toLowerCase());if(he.some(ae=>!ae)){It.error(`Item ${$+1}: Serial number is required for all rows.`);return}const de=new Set;for(const ae of he){if(de.has(ae)){It.error(`Item ${$+1}: Duplicate serial number "${ae}".`);return}de.add(ae)}}}const R={...M,order_date:new Date(M.order_date).toISOString(),parent_id:Number(M.parent_id),salesperson_id:Number(M.salesperson_id),currency_id:M.currency_id?Number(M.currency_id):void 0,delivery_date:new Date(M.delivery_date).toISOString(),notes:M.notes,shipping_address:M.shipping_address,order_items:n.filter($=>typeof $.product_id=="number"&&$.product_id>0).map($=>{const Y=Number($.unit_price)||0,J=Number($.quantity)||0;return{tracking_type:$.tracking_type||null,product_id:Number($.product_id),product_name:$.product_name||void 0,unit:$.unit||void 0,quantity:J,unit_price:Y,notes:$.notes,product_batches:$.product_batches,product_serials:$.product_serials}})};r&&a?await P.mutateAsync({id:a.id,...R}):await C.mutateAsync(R),I()}catch(R){console.error("Error submitting order:",R)}}}),D=E.values.salesperson_id?Number(E.values.salesperson_id):0;g.useEffect(()=>{a&&t&&E.setValues({order_number:a.order_number||"",parent_id:a.parent_id||0,salesperson_id:a.salesperson_id||0,currency_id:a.currency_id||v,order_date:a.order_date||new Date().toISOString().split("T")[0],delivery_date:a.delivery_date||new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],status:a.status||"draft",priority:a.priority||"medium",order_type:a.order_type||"regular",payment_method:a.payment_method||"credit",payment_terms:a.payment_terms||"Net 30",subtotal:a.subtotal||0,shipping_amount:a.shipping_amount||0,total_amount:a.total_amount||0,notes:a.notes||"",shipping_address:a.shipping_address||"",approval_status:a.approval_status?.slice(0,1)?.toUpperCase()||"P",is_active:a.is_active||"Y",order_items:[]})},[a,t,v]);const{data:T}=E3(D,{enabled:!!D&&t}),A=g.useMemo(()=>{const M={};return T?.data&&(T.data.products||[]).forEach(Y=>{const J=(Y.batches||[]).map(ee=>({batch_lot_id:ee.batch_lot_id,batch_number:ee.batch_number,total_quantity:ee.total_quantity,lot_number:ee.lot_number,remaining_quantity:ee.remaining_quantity||0,manufacturing_date:ee.manufacturing_date,expiry_date:ee.expiry_date,batch_total_quantity:ee.total_quantity,batch_remaining_quantity:ee.remaining_quantity,supplier_name:ee.supplier_name,quality_grade:ee.quality_grade,days_until_expiry:ee.days_until_expiry,is_expired:ee.is_expired,is_expiring_soon:ee.is_expiring_soon,quantity:null})),te=(Y.serials||[]).map(ee=>({id:ee.serial_id,product_id:Y.product_id,serial_number:ee.serial_number,quantity:1}));M[Y.product_id]={batches:J,serials:te}}),M},[T]),I=()=>{s(),i([]),E.resetForm(),c.current="",o.current=null,l.current=""},F=g.useMemo(()=>t&&a?.id?`order-${a.id}`:t?"new-order":"closed",[t,a?.id]);g.useEffect(()=>{if(!t){o.current!==null&&(o.current=null,l.current="",c.current="");return}const M=a?.id,R=y?.data?.id,$=M&&R&&y?.data;if($&&o.current!==M&&y.data){const Y=y.data.order_items?.map(te=>({product_id:te.product_id,product_name:te.product_name||null,unit:te.unit||null,tracking_type:te.tracking_type||null,quantity:te.quantity.toString(),unit_price:te.unit_price.toString(),notes:te.notes||"",product_batches:[],product_serials:[]}))||[],J=JSON.stringify(Y);l.current!==J&&(o.current=M,l.current=J,i(Y))}else!$&&o.current!==null&&!M&&(o.current=null,l.current="",c.current="",i([]))},[F,y?.data?.id,t]);const z=g.useMemo(()=>JSON.stringify(n),[n]);g.useEffect(()=>{if(!t)return;const M=JSON.stringify(E.values.order_items||[]);z!==M&&c.current!==z&&(E.setFieldValue("order_items",n,!1),c.current=z)},[t,z]);const O=()=>{if(!E.values.salesperson_id){It.error("Please select a Sales Person");return}const M={product_id:0,product_name:"",unit:"",tracking_type:null,quantity:"1",unit_price:"0",notes:"",product_batches:[],product_serials:[]},R=[...n,M];i(R),E.setFieldValue("order_items",R,!1),c.current=JSON.stringify(R)},K=M=>{const R=n.filter(($,Y)=>Y!==M);i(R),E.setFieldValue("order_items",R,!1),c.current=JSON.stringify(R)},W=(M,R,$)=>{const Y=[...n];Y[M]={...Y[M],[R]:$},i(Y),E.setFieldValue("order_items",Y,!1),c.current=JSON.stringify(Y)},B=g.useCallback((M,R,$)=>{const Y=[...n],J=$?.tracking_type||null,te=J?J.toString().toLowerCase():null,ee=te==="batch"||te==="serial";Y[M]={...Y[M],product_id:$?$.product_id:0,product_name:$?$.name:"",tracking_type:J,unit_price:$?String($.unit_price):"0",quantity:$&&ee?"0":Y[M].quantity||"1",product_batches:[],product_serials:[]},i(Y),E.setFieldValue("order_items",Y),c.current=JSON.stringify(Y)},[n]),q=n.map((M,R)=>({...M,_index:R})),H=[{id:"product_id",label:"Product",render:(M,R)=>e.jsx(zFe,{salespersonId:D,value:R.product_id,onChange:($,Y)=>B(R._index,$,Y),size:"small",placeholder:"Search for a product",label:"",disabled:!E.values.salesperson_id,className:"!min-w-72"})},{id:"tracking_type",label:"Tracking",render:(M,R)=>{const $=(R.tracking_type||"").toString().toLowerCase(),Y=$==="batch"||$==="serial"?$:null;return e.jsxs(b,{className:"!flex !justify-between !items-center !min-w-52",children:[e.jsx(f,{variant:"body2",className:"!text-gray-700 !uppercase !text-xs",children:$||"none"}),Y&&e.jsx(G,{type:"button",startIcon:e.jsx(J4,{}),variant:"text",size:"small",onClick:()=>{const J=R._index,te=n[J];if(!te||!te.product_id){It.error("Please select a product first");return}_(J),Y==="batch"?d(!0):x(!0)},children:Y==="batch"?"Select Batches":"Select Serials"})]})}},{id:"quantity",label:"Quantity",render:(M,R)=>{const $=(R.tracking_type||"").toString().toLowerCase(),Y=!$||$==="none";return e.jsx(oe,{value:R.quantity,onChange:J=>W(R._index,"quantity",J.target.value),placeholder:"1",type:"number",size:"small",className:"!min-w-20",disabled:!Y})}},{id:"unit_price",label:"Unit Price",render:(M,R)=>e.jsx(oe,{value:R.unit_price,onChange:$=>W(R._index,"unit_price",$.target.value),placeholder:"0.00",type:"number",size:"small",className:"!min-w-32"})},{id:"actions",label:"Actions",sortable:!1,render:(M,R)=>e.jsx(Ht,{onClick:()=>K(R._index),tooltip:"Remove item",confirmDelete:!0,size:"medium",itemName:"order item"})}],V=(()=>{const M=n.reduce((Y,J)=>{const te=Number(J.quantity)||0,ee=Number(J.unit_price)||0;return Y+te*ee},0),R=0,$=M+R;return{subtotal:M,shipping_amount:R,total_amount:$}})();return e.jsxs(it,{open:t,setOpen:I,title:r?"Edit Order":"Create Order",size:"large",children:[e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:E.handleSubmit,className:"!space-y-5",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5",children:[e.jsx(Yn,{name:"parent_id",label:"Customer",formik:E,required:!0}),e.jsx(Dr,{formik:E,required:!0}),e.jsx(oe,{name:"order_date",label:"Order Date",type:"date",formik:E,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(oe,{name:"delivery_date",label:"Delivery Date",type:"date",formik:E,slotProps:{inputLabel:{shrink:!0}}}),e.jsxs(Se,{name:"status",label:"Status",formik:E,required:!0,children:[e.jsx(Z,{value:"draft",children:"Draft"}),e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"confirmed",children:"Confirmed"}),e.jsx(Z,{value:"processing",children:"Processing"}),e.jsx(Z,{value:"shipped",children:"Shipped"}),e.jsx(Z,{value:"delivered",children:"Delivered"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]}),e.jsxs(Se,{name:"priority",label:"Priority",formik:E,required:!0,children:[e.jsx(Z,{value:"low",children:"Low"}),e.jsx(Z,{value:"medium",children:"Medium"}),e.jsx(Z,{value:"high",children:"High"}),e.jsx(Z,{value:"urgent",children:"Urgent"})]}),e.jsxs(Se,{name:"order_type",label:"Order Type",formik:E,required:!0,children:[e.jsx(Z,{value:"regular",children:"Regular"}),e.jsx(Z,{value:"urgent",children:"Urgent"}),e.jsx(Z,{value:"promotional",children:"Promotional"}),e.jsx(Z,{value:"sample",children:"Sample"})]}),e.jsxs(Se,{name:"payment_method",label:"Payment Method",formik:E,required:!0,children:[e.jsx(Z,{value:"cash",children:"Cash"}),e.jsx(Z,{value:"credit",children:"Credit"}),e.jsx(Z,{value:"cheque",children:"Cheque"}),e.jsx(Z,{value:"bank_transfer",children:"Bank Transfer"})]}),e.jsx(oe,{name:"payment_terms",label:"Payment Terms",placeholder:"e.g., Net 30, COD",formik:E}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"shipping_address",label:"Shipping Address",placeholder:"Enter shipping address",formik:E,multiline:!0,rows:3})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"notes",label:"Notes",placeholder:"Enter order notes",formik:E,multiline:!0,rows:3})})]}),e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !justify-between !items-center",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Order Items"}),e.jsx(G,{type:"button",variant:"outlined",startIcon:e.jsx(Gr,{}),onClick:O,size:"small",children:"Add Item"})]}),e.jsx(ct,{data:q,columns:H,getRowId:M=>M._index.toString(),pagination:!1,loading:N||C.isPending||P.isPending,sortable:!1,emptyMessage:'No items added yet. Click "Add Item" to get started.'}),n.length>0&&e.jsx(b,{className:"!bg-gray-50 !rounded-lg !mt-4",children:e.jsxs(b,{className:"!flex !justify-between",children:[e.jsx(f,{variant:"subtitle2",className:"!font-bold",children:"Total:"}),e.jsx(f,{variant:"subtitle2",className:"!font-bold",children:S(V.total_amount)})]})})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:I,disabled:C.isPending||P.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:C.isPending||P.isPending,children:C.isPending||P.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})}),e.jsx(qFe,{isOpen:m,setIsOpen:d,selectedRowIndex:j,setSelectedRowIndex:_,orderItems:n,setOrderItems:i,inventoryByProductId:A}),e.jsx(BFe,{isOpen:p,setIsOpen:x,selectedRowIndex:j,setSelectedRowIndex:_,orderItems:n,setOrderItems:i,quantity:j!==null&&n[j]?n[j].quantity:null,inventoryByProductId:A})]})},VFe=()=>{const t=Fs(),{formatCurrency:s}=Ga(),[a,r]=g.useState(""),[n,i]=g.useState("all"),[o,l]=g.useState(null),[c,m]=g.useState(!1),[d,p]=g.useState(!1),[x,j]=g.useState(1),[_]=g.useState(10),{isCreate:S,isUpdate:v,isDelete:y,isRead:N}=Ze("order"),{data:C,isLoading:P,error:E}=C1({search:a,page:x,limit:_,status:n==="all"?void 0:n},{enabled:N}),D=C?.data||[],T=C?.meta?.total||0,A=(C?.meta?.page||1)-1,I=bOe(),F=ls(),z=C?.stats?.total_orders||0,O=C?.stats?.active_orders||0,K=C?.stats?.orders_this_month||0,W=C?.stats?.inactive_orders||0,B=g.useCallback(()=>{l(null),m(!0)},[]),q=g.useCallback(ne=>{l(ne),m(!0)},[]),H=g.useCallback(async ne=>{try{await I.mutateAsync(ne)}catch(he){console.error("Error deleting order:",he)}},[I]),Q=g.useCallback(ne=>{r(ne),j(1)},[]),V=ne=>{j(ne+1)},M=g.useCallback(async()=>{try{const ne={search:a,status:n==="all"?void 0:n};await F.mutateAsync({tableName:"orders",filters:ne})}catch(ne){console.error("Error exporting orders:",ne)}},[F,a,n]),R=ne=>({draft:"info",pending:"warning",confirmed:"success",processing:"warning",shipped:"info",delivered:"success",cancelled:"error"})[ne]||"default",$=ne=>({low:"info",medium:"warning",high:"success",urgent:"error"})[ne]||"default",Y=ne=>{const he=ne?.slice(0,1)?.toUpperCase();return{P:"warning",A:"success",R:"error"}[he]||"default"},J=ne=>{const he=ne?.slice(0,1)?.toUpperCase();return{P:"Pending",R:"Pending",A:"Approved"}[he]||"Pending"},te=ne=>{switch(ne){case"draft":return e.jsx($t,{className:"w-4 h-4"});case"pending":return e.jsx(As,{className:"w-4 h-4"});case"confirmed":return e.jsx(Da,{className:"w-4 h-4"});case"processing":return e.jsx($t,{className:"w-4 h-4"});case"shipped":return e.jsx(Hn,{className:"w-4 h-4"});case"delivered":return e.jsx(Da,{className:"w-4 h-4"});case"cancelled":return e.jsx(ya,{className:"w-4 h-4"});default:return e.jsx($t,{className:"w-4 h-4"})}},ee=[{id:"order_number",label:"Order Info",render:(ne,he)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:he.order_number,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(ks,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !cursor-pointer !hover:!text-primary-600 !transition-colors",onClick:()=>t(`/transactions/orders/${he.id}`),children:he.order_number}),e.jsxs(f,{variant:"caption",className:"!text-gray-500 !capitalize !text-xs !block !mt-0.5",children:[he.order_type||"regular"," order "," ",he.order_items?.length||0," items"]})]})]})},{id:"customer.name",label:"Customer",render:(ne,he)=>e.jsxs(b,{className:"flex items-center !gap-2",children:[e.jsx(ot,{alt:he.customer?.name,src:he.customer?.profile_image||"mkx",className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:he.customer?.name||"N/A"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:he.customer?.code||"N/A"})]})]})},{id:"salesperson.name",label:"Sales Person",render:(ne,he)=>e.jsxs(b,{className:"flex items-center !gap-2",children:[e.jsx(ot,{alt:he.salesperson?.name,src:he.salesperson?.profile_image||"mkx",className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900 !leading-tight",children:he.salesperson?.name||"N/A"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:he.salesperson?.email||"N/A"})]})]})},{id:"status",label:"Status & Priority",render:(ne,he)=>e.jsxs(b,{className:"flex !gap-2 items-center",children:[e.jsx(Re,{icon:te(he.status||"draft"),label:he.status||"draft",size:"small",variant:"outlined",className:"!text-xs !capitalize !pl-1 !justify-start",color:R(he.status||"draft")}),e.jsx(Re,{label:(he.priority||"medium").toUpperCase(),size:"small",variant:"outlined",className:"!text-xs !capitalize",color:$(he.priority||"medium")})]})},{id:"order_date",label:"Dates",render:(ne,he)=>e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center text-sm text-gray-900",children:[e.jsx(ws,{className:"w-4 h-4 text-gray-400 mr-1"}),"Order: ",he.order_date?Fe(he.order_date):"N/A"]}),he.delivery_date&&e.jsxs(b,{className:"flex items-center text-sm text-gray-500 mt-1",children:[e.jsx(Hn,{className:"w-4 h-4 text-gray-400 mr-1"}),"Delivery: ",Fe(he.delivery_date)]})]})},{id:"total_amount",label:"Amount",render:(ne,he)=>e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:s(he.total_amount||0)}),e.jsxs(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:["Subtotal: ",s(he.subtotal||0)]})]})},{id:"approval",label:"Approval",render:(ne,he)=>e.jsx(b,{children:e.jsx(Re,{label:J(he.approval_status),variant:"outlined",size:"small",icon:he.approval_status?.slice(0,1)?.toUpperCase()==="A"?e.jsx(Da,{className:"w-4 h-4"}):he.approval_status?.slice(0,1)?.toUpperCase()==="R"?e.jsx(ya,{className:"w-4 h-4"}):he.approval_status?.slice(0,1)?.toUpperCase()==="P"?e.jsx(As,{className:"w-4 h-4"}):e.jsx(As,{className:"w-4 h-4"}),className:"!capitalize !pl-0.5",color:Y(he.approval_status||"P")})})},...v||y?[{id:"action",label:"Actions",sortable:!1,render:(ne,he)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[v&&e.jsx(ss,{onClick:()=>q(he),tooltip:`Edit ${he.order_number}`}),y&&e.jsx(Ht,{onClick:()=>H(he.id),tooltip:`Delete ${he.order_number}`,itemName:he.order_number,confirmDelete:!0})]})}]:[]];return E?e.jsxs(lt,{severity:"error",className:"mb-4",children:["Error loading orders: ",E.message]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Order Entry"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage customer orders, track status, and process deliveries"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Orders",value:z,icon:e.jsx(mu,{className:"w-6 h-6"}),color:"blue",isLoading:P}),e.jsx(fe,{title:"Active Orders",value:O,icon:e.jsx(mu,{className:"w-6 h-6"}),color:"green",isLoading:P}),e.jsx(fe,{title:"Inactive Orders",value:W,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:P}),e.jsx(fe,{title:"Orders This Month",value:K,icon:e.jsx(ws,{className:"w-6 h-6"}),color:"purple",isLoading:P})]}),E&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load orders. Please try again."}),e.jsx(ct,{data:D,columns:ee,actions:N||S?e.jsxs("div",{className:"flex justify-between gap-3 items-center flex-wrap",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-3",children:N&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Orders...",value:a,onChange:Q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:n,onChange:ne=>i(ne.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"draft",children:"Draft"}),e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"confirmed",children:"Confirmed"}),e.jsx(Z,{value:"processing",children:"Processing"}),e.jsx(Z,{value:"shipped",children:"Shipped"}),e.jsx(Z,{value:"delivered",children:"Delivered"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]})]})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[N&&e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Xt,{title:"Export Orders",description:"Are you sure you want to export the current orders data to Excel? This will include all filtered results.",onConfirm:M,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:F.isPending,children:F.isPending?"Exporting...":"Export"})}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>p(!0),children:"Import"})]}),S&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:B,children:"Create"})]})]}):!1,getRowId:ne=>ne.id,initialOrderBy:"order_number",loading:P,totalCount:T,page:A,rowsPerPage:_,isPermission:N,onPageChange:V,emptyMessage:a?`No orders found matching "${a}"`:"No orders found in the system"}),e.jsx(UFe,{open:c,onClose:()=>m(!1),order:o}),e.jsx(FFe,{drawerOpen:d,setDrawerOpen:p})]})},HFe=()=>{const{id:t}=Br(),s=Fs(),a=t?parseInt(t,10):0,{data:r,isLoading:n,error:i}=h$(a),o=r?.data,l=N=>({draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",processing:"bg-purple-100 text-purple-800",shipped:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[N]||"bg-gray-100 text-gray-800",c=N=>({draft:"Draft",pending:"Pending",confirmed:"Confirmed",processing:"Processing",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled"})[N]||N,m=N=>{switch(N){case"draft":return e.jsx($t,{className:"w-4 h-4"});case"pending":return e.jsx(As,{className:"w-4 h-4"});case"confirmed":return e.jsx(Da,{className:"w-4 h-4"});case"processing":return e.jsx($t,{className:"w-4 h-4"});case"shipped":return e.jsx(Hn,{className:"w-4 h-4"});case"delivered":return e.jsx(Da,{className:"w-4 h-4"});case"cancelled":return e.jsx(ya,{className:"w-4 h-4"});default:return e.jsx($t,{className:"w-4 h-4"})}},d=N=>({low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"})[N]||"bg-gray-100 text-gray-800",p=N=>{const C=N?.slice(0,1)?.toUpperCase();return{P:"bg-yellow-100 text-yellow-800",A:"bg-green-100 text-green-800",R:"bg-red-100 text-red-800"}[C]||"bg-gray-100 text-gray-800"},x=N=>{const C=N?.slice(0,1)?.toUpperCase();return{P:"Pending",A:"Approved",R:"Rejected"}[C]||N||"N/A"},j=N=>{const C=N?.slice(0,1)?.toUpperCase();return C==="A"?e.jsx(Da,{className:"w-4 h-4"}):C==="R"?e.jsx(ya,{className:"w-4 h-4"}):e.jsx(As,{className:"w-4 h-4"})},_=(N,C="USD")=>N==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:C}).format(N),S=()=>{s("/transactions/orders")};if(n)return e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx(X,{variant:"circular",width:96,height:96,className:"!mx-auto !mb-4"}),e.jsx(X,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-2"}),e.jsx(X,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsxs("div",{className:"!flex !justify-center !gap-2 !mb-4",children:[e.jsx(X,{variant:"rectangular",width:80,height:24}),e.jsx(X,{variant:"rectangular",width:80,height:24}),e.jsx(X,{variant:"rectangular",width:80,height:24})]}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsx(X,{variant:"rectangular",width:"100%",height:60,className:"!mb-2"}),e.jsx(X,{variant:"rectangular",width:"100%",height:60})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(X,{variant:"text",width:"40%",height:24,className:"!mb-4"}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4,5].map(N=>e.jsxs("div",{className:"!space-y-2",children:[e.jsx(X,{variant:"text",width:"60%",height:12}),e.jsx(X,{variant:"text",width:"80%",height:16})]},N))})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(X,{variant:"text",width:"40%",height:24,className:"!mb-4"}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3].map(N=>e.jsxs("div",{className:"!space-y-2",children:[e.jsx(X,{variant:"text",width:"60%",height:12}),e.jsx(X,{variant:"text",width:"80%",height:16})]},N))})]})]}),e.jsxs("div",{className:"!flex-4 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(X,{variant:"text",width:"30%",height:24,className:"!mb-4"}),e.jsx("div",{className:"!space-y-2",children:[1,2,3].map(N=>e.jsx(X,{variant:"rectangular",width:"100%",height:80},N))})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(X,{variant:"text",width:"40%",height:24,className:"!mb-4"}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4,5].map(N=>e.jsxs("div",{className:"!space-y-2",children:[e.jsx(X,{variant:"text",width:"60%",height:12}),e.jsx(X,{variant:"text",width:"80%",height:16})]},N))})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(X,{variant:"text",width:"30%",height:24,className:"!mb-4"}),e.jsx(X,{variant:"rectangular",width:"100%",height:100})]})]})]});if(i||!o)return e.jsxs("div",{className:"!p-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ia,{className:"w-5 h-5"}),e.jsx(f,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load order details"})]}),e.jsx(f,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:S,className:"mt-4",children:"Back to Orders"})]});const v=o?.currency?.code||"USD",y=({title:N,children:C,icon:P})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[P&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(P,{className:"!text-primary-500"})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:N})]}),C]})]});return e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ot,{className:lr("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-green-400 !to-green-600 !text-white":o.status==="delivered","!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":o.status==="confirmed"||o.status==="processing","!bg-gradient-to-br !from-indigo-400 !to-indigo-600 !text-white":o.status==="shipped","!bg-gradient-to-br !from-red-400 !to-red-600 !text-white":o.status==="cancelled","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":o.status==="draft"||o.status==="pending"}),children:e.jsx(mu,{className:"!w-8 !h-8"})})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:o.order_number}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mb-3",children:o.customer?.name||"Unknown Customer"}),e.jsxs("div",{className:"!flex !justify-center !gap-2 !mb-4",children:[e.jsx(Re,{icon:m(o.status||"draft"),label:c(o.status||"draft"),className:`${l(o.status||"draft")} font-semibold`,size:"small"}),e.jsx(Re,{label:(o.priority||"medium").toUpperCase(),className:`${d(o.priority||"medium")} font-semibold`,size:"small"}),e.jsx(Re,{icon:j(o.approval_status||"P"),label:x(o.approval_status||"P"),className:`${p(o.approval_status||"P")} font-semibold`,size:"small"})]}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Total Amount"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:_(o.total_amount,v)})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Items Count"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:[o.order_items?.length||0," items"]})]})]})]}),e.jsx(y,{title:"Order Information",icon:Vn,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Order Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(o.order_date)})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Delivery Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(o.delivery_date)})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Order Type"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:o.order_type||"regular"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Payment Method"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:o.payment_method?.replaceAll("_"," ")||"N/A"})]}),e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Payment Terms"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.payment_terms||"N/A"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Approval Status"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:x(o.approval_status||"P")})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Approved At"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.approved_at?Fe(o.approved_at):"N/A"})]})]})}),e.jsx(y,{title:"Customer Information",icon:$t,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Name"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.customer?.name||"N/A"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Code"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.customer?.code||"N/A"})]}),e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Type"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:o.customer?.type||"N/A"})]})]})})]}),e.jsxs("div",{className:"!flex-4 flex flex-col gap-4",children:[e.jsx(y,{title:"Order Items",icon:$t,children:e.jsx("div",{className:"!space-y-2",children:o.order_items&&o.order_items.length>0?o.order_items.map((N,C)=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !justify-between !items-start !mb-1",children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:N.product_name||`Product #${N.product_id}`}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:_(N.total_amount,v)})]}),e.jsx("div",{className:"!flex !justify-between !text-xs !text-gray-500",children:e.jsxs("span",{children:["Qty: ",N.quantity," "," ",_(N.unit_price,v),N.unit&&` (${N.unit})`]})}),Array.isArray(N.product_batches)&&N.product_batches.length>0&&e.jsxs("div",{className:"!mt-2 !text-xs !text-gray-600",children:[e.jsx("span",{className:"!font-semibold",children:"Batches:"})," ",N.product_batches.filter(P=>Number(P?.quantity||0)>0).map((P,E)=>`${P?.batch_number||P?.lot_number||`Batch ${E+1}`} (${P?.quantity})`).join(", ")||"N/A"]}),Array.isArray(N.product_serials)&&N.product_serials.length>0&&e.jsxs("div",{className:"!mt-1 !text-xs !text-gray-600",children:[e.jsx("span",{className:"!font-semibold",children:"Serials:"})," ",N.product_serials.filter(P=>P?.selected!==!1).map(P=>P?.serial_number).filter(Boolean).join(", ")||"N/A"]}),N.notes&&e.jsx(f,{variant:"caption",className:"!text-gray-600 !block !mt-1",children:N.notes})]},N.id||C)):e.jsx(f,{variant:"body2",className:"!text-gray-500 !text-center !py-4",children:"No items found"})})}),e.jsx(y,{title:"Amount Breakdown",icon:Cr,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Subtotal"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:_(o.subtotal,v)})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Discount"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-green-600",children:["-",_(o.discount_amount,v)]})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Tax"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:_(o.tax_amount,v)})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Shipping"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:_(o.shipping_amount,v)})]}),e.jsx("div",{className:"!space-y-0.5 md:!col-span-2",children:e.jsxs("div",{className:"!border-t !border-gray-300 !pt-2 !mt-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Total"}),e.jsx(f,{variant:"subtitle2",className:"!font-bold",children:_(o.total_amount,v)})]})})]})}),o.notes&&e.jsx(y,{title:"Notes",icon:ks,children:e.jsx(f,{variant:"body2",className:"!text-gray-700",children:o.notes})}),o.shipping_address&&e.jsx(y,{title:"Shipping Address",icon:Vn,children:e.jsx(f,{variant:"body2",className:"!text-gray-700",children:o.shipping_address})})]})]})},WFe=nt({file:ps().required("Please select a file to import")}),YFe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:WFe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("payments")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"payments",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Payments",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple payments. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing payments..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},GFe=nt({customer_id:ce().required("Customer is required").test("is-number","Customer must be selected",t=>t?!isNaN(Number(t))&&Number(t)>0:!1),payment_date:ce().required("Payment date is required").test("is-valid-date","Please enter a valid date",t=>{if(!t)return!1;const s=new Date(t);return!isNaN(s.getTime())}),collected_by:ce().required("Collected by is required").test("is-number","Collector must be selected",t=>t?!isNaN(Number(t))&&Number(t)>0:!1),method:ce().required("Payment method is required").oneOf(["cash","credit","debit","cheque","bank_transfer","online"],"Please select a valid payment method"),total_amount:Ye().required("Total amount is required").min(.01,"Amount must be greater than 0").test("is-positive","Amount must be a positive number",t=>t!==void 0&&t>0),notes:ce().optional().max(500,"Notes must not exceed 500 characters"),currency_id:ce().optional().test("is-number","Currency must be valid",t=>t?!isNaN(Number(t))&&Number(t)>0:!0),is_active:ce().required("Active status is required").oneOf(["Y","N"],"Please select a valid status"),payment_lines:dl().optional().of(nt({invoice_id:Ye().required("Invoice ID is required").min(1,"Invoice ID must be valid"),amount_applied:Ye().required("Amount applied is required").min(.01,"Amount applied must be greater than 0"),notes:ce().optional().max(500,"Payment line notes must not exceed 500 characters")}))}),KFe=({selectedPayment:t,setSelectedPayment:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=()=>{s(null),r(!1),j.resetForm()},o=fFe(),l=xFe(),{data:c}=Gn({limit:1e3}),{data:m}=ku(),p=m?.data?.currency_id||"",x=c?.data||[],j=pt({initialValues:{customer_id:t?.customer_id?.toString()||"",payment_date:t?.payment_date?t.payment_date.split("T")[0]:nr().format("YYYY-MM-DD"),collected_by:t?.collected_by?.toString()||"",method:t?.method||"cash",total_amount:t?.total_amount?.toString()||"",notes:t?.notes||"",currency_id:p||"",is_active:t?.is_active||"Y"},validationSchema:GFe,enableReinitialize:!0,onSubmit:async _=>{try{const S={customer_id:Number(_.customer_id),payment_date:_.payment_date||"",collected_by:Number(_.collected_by),method:_.method||"cash",total_amount:Number(_.total_amount),notes:_.notes,currency_id:Number(_.currency_id),is_active:_.is_active};n&&t?await l.mutateAsync({id:t.id,...S}):await o.mutateAsync(S),i()}catch(S){console.error("Error saving payment:",S)}}});return e.jsx(it,{open:a,setOpen:i,title:n?"Edit Payment":"Create Payment",size:"large",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:j.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(Yn,{name:"customer_id",label:"Customer",formik:j,required:!0}),e.jsx(oe,{name:"payment_date",label:"Payment Date",type:"date",formik:j,required:!0}),e.jsx(Se,{name:"collected_by",label:"Collected By",formik:j,required:!0,children:x.map(_=>e.jsxs(Z,{value:_.id.toString(),children:[_.name," (",_.email,")"]},_.id))}),e.jsxs(Se,{name:"method",label:"Payment Method",formik:j,required:!0,children:[e.jsx(Z,{value:"cash",children:"Cash"}),e.jsx(Z,{value:"credit",children:"Credit Card"}),e.jsx(Z,{value:"debit",children:"Debit Card"}),e.jsx(Z,{value:"cheque",children:"Cheque"}),e.jsx(Z,{value:"bank_transfer",children:"Bank Transfer"}),e.jsx(Z,{value:"online",children:"Online Payment"})]}),e.jsx(oe,{name:"total_amount",label:"Total Amount",type:"number",placeholder:"Enter amount",formik:j,required:!0}),e.jsx(Es,{name:"is_active",formik:j,required:!0,className:"col-span-2"}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"notes",label:"Notes",placeholder:"Enter notes",formik:j,multiline:!0,rows:3})})]}),e.jsxs(b,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:[o.isPending||l.isPending?n?"Updating...":"Creating...":n?"Update":"Create"," "]})]})]})})})},QFe=()=>{const t=Fs(),[s,a]=g.useState(""),[r,n]=g.useState("all"),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,d]=g.useState(!1),[p,x]=g.useState(1),[j]=g.useState(10),{isCreate:_,isUpdate:S,isDelete:v,isRead:y}=Ze("payment"),{data:N,isFetching:C,error:P}=f$({search:s,page:p,limit:j,is_active:r==="all"?void 0:r==="active"?"Y":"N"},{enabled:y}),E=N?.data||[],D=N?.pagination?.total_count||0,T=(N?.pagination?.current_page||1)-1,A=gFe(),I=ls(),F=N?.stats?.total_payments??0,z=N?.stats?.total_amount??0,O={total_payments:F,total_amount:Number(z||0),payments_this_month:N?.stats?.payments_this_month??0,amount_this_month:Number(N?.stats?.amount_this_month||0),pending_collections:N?.stats?.pending_collections??0,overdue_amount:Number(N?.stats?.overdue_amount||0)},K=g.useCallback(()=>{o(null),c(!0)},[]),W=g.useCallback(R=>{o(R),c(!0)},[]),B=g.useCallback(R=>{t(`/transactions/payments/${R.id}`)},[t]),q=g.useCallback(async R=>{try{await A.mutateAsync(R)}catch($){console.error("Error deleting payment:",$)}},[A]),H=g.useCallback(R=>{a(R),x(1)},[]),Q=R=>{x(R+1)},V=g.useCallback(async()=>{try{const R={search:s,isActive:r==="all"?void 0:r==="active"?"Y":"N"};await I.mutateAsync({tableName:"payments",filters:R})}catch(R){console.error("Error exporting payments:",R)}},[I,s,r]),M=[{id:"payment_number",label:"Payment Number",render:(R,$)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:$.payment_number,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Cr,{className:"w-5 h-5"})}),e.jsxs(b,{className:"!max-w-xs",children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:$.payment_number}),$.customer?.name&&e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",title:$.customer.name,sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",maxWidth:"300px",cursor:"help"},children:$.customer.name})]})]})},{id:"payment_date",label:"Payment Date",render:(R,$)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:$.payment_date?Fe($.payment_date):e.jsx("span",{className:"italic text-gray-400",children:"No Date"})})},{id:"method",label:"Payment Method",render:(R,$)=>e.jsx(f,{variant:"body2",className:"!text-gray-900 !capitalize",children:$.method?.replaceAll("_"," ")||e.jsx("span",{className:"italic text-gray-400",children:"No Method"})})},{id:"reference_number",label:"Reference",render:(R,$)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:$.reference_number||e.jsx("span",{className:"italic text-gray-400",children:"No Reference"})})},{id:"collected_by_user",label:"Collected By",render:(R,$)=>e.jsxs(b,{className:"!flex !items-center !gap-2",children:[e.jsx(ot,{alt:$.collected_by_user?.name,className:"!w-10 !h-10 !rounded !bg-green-100 !text-green-600",children:$.collected_by_user?.name?.[0]||"?"}),e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:$.collected_by_user?.name||"Unknown"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs",children:$.collected_by_user?.email||"N/A"})]})]})},{id:"total_amount",label:"Amount",render:(R,$)=>e.jsx(f,{variant:"body2",className:"!text-gray-900",children:$.total_amount?`${$.currency?.code||""} ${$.total_amount.toFixed(2)}`:e.jsx("span",{className:"italic text-gray-400",children:"No Amount"})})},{id:"notes",label:"Notes",render:(R,$)=>e.jsx(f,{variant:"body2",className:"!text-gray-900 !max-w-xs",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:$.notes||e.jsx("span",{className:"italic text-gray-400",children:"No Notes"})})},{id:"is_active",label:"Status",render:R=>e.jsx(Re,{icon:R==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:R==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:R==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(R,$)=>Fe($.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...y||S||v?[{id:"action",label:"Actions",sortable:!1,render:(R,$)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[y&&e.jsx(Ua,{onClick:()=>B($),tooltip:`View ${$.payment_number}`,icon:e.jsx(kn,{}),color:"success"}),S&&e.jsx(ss,{onClick:()=>W($),tooltip:`Edit ${$.payment_number}`}),v&&e.jsx(Ht,{onClick:()=>q($.id),tooltip:`Delete ${$.payment_number}`,itemName:$.payment_number,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Payment Collection Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage payment collections, track transactions, and monitor financial records"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Payments",value:O.total_payments,icon:e.jsx(Cr,{className:"w-6 h-6"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Total Amount",value:O.total_amount.toFixed(2),icon:e.jsx(Cr,{className:"w-6 h-6"}),color:"emerald",isLoading:C}),e.jsx(fe,{title:"Payments This Month",value:O.payments_this_month,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Pending Collections",value:O.pending_collections,icon:e.jsx(St,{className:"w-6 h-6"}),color:"orange",isLoading:C})]}),P&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load payments. Please try again."}),e.jsx(ct,{data:E,columns:M,actions:y||_?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:y&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Payments...",value:s,onChange:H,debounceMs:400,showClear:!0,className:"lg:!min-w-80"}),e.jsxs(Se,{value:r,onChange:R=>n(R.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),y&&e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx(Xt,{title:"Export Payments",description:"Are you sure you want to export the current payments data to Excel? This will include all filtered results.",onConfirm:V,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:I.isPending,children:I.isPending?"Exporting...":"Export"})}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>d(!0),children:"Import"}),_&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:R=>R.id,initialOrderBy:"payment_number",loading:C,totalCount:D,page:T,rowsPerPage:j,isPermission:y,onPageChange:Q,emptyMessage:s?`No payments found matching "${s}"`:"No payments found in the system"}),e.jsx(KFe,{selectedPayment:i,setSelectedPayment:o,drawerOpen:l,setDrawerOpen:c}),e.jsx(YFe,{drawerOpen:m,setDrawerOpen:d})]})},ZFe=nt({invoice_id:ce().required("Invoice ID is required"),amount_applied:Ye().required("Amount applied is required").min(.01,"Amount must be greater than 0"),notes:ce().optional()}),XFe=({paymentId:t,drawerOpen:s,setDrawerOpen:a})=>{const{formatCurrency:r}=Ga(),[n,i]=g.useState(null),{data:o,isLoading:l}=bFe(t),c=o?.data||[],m=yFe(),d=vFe(),p=()=>{i(null),x.resetForm(),a(!1)},x=pt({initialValues:{invoice_id:n?.invoice_id?.toString()||"",amount_applied:n?.amount_applied?.toString()||"",notes:n?.notes||""},validationSchema:ZFe,enableReinitialize:!0,onSubmit:async v=>{try{await m.mutateAsync({paymentId:t,invoice_id:Number(v.invoice_id),amount_applied:Number(v.amount_applied),notes:v.notes}),p()}catch(y){console.error("Error creating payment line:",y)}}}),j=async v=>{try{await d.mutateAsync({paymentId:t,lineId:v})}catch(y){console.error("Error deleting payment line:",y)}},_=c.reduce((v,y)=>v+Number(y.amount_applied||"0"),0),S=({title:v,children:y,icon:N})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-4 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-12 !h-12 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-6 !translate-x-6"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-3",children:[N&&e.jsx("div",{className:"!p-1 !w-8 !h-8 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(N,{className:"!text-primary-500 !w-4 !h-4"})}),e.jsx(f,{variant:"body1",className:"!font-semibold !text-gray-900 !text-sm",children:v})]}),y]})]});return e.jsx(it,{open:s,setOpen:p,title:"Payment Lines Management",size:"large",children:e.jsxs("div",{className:"!p-4 !space-y-4",children:[e.jsx(S,{title:"Payment Lines Summary",icon:Zr,children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx("div",{className:"!p-1.5 !bg-green-100 !rounded-lg",children:e.jsx(Cr,{className:"!text-green-600 !w-4 !h-4"})}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !text-sm",children:"Total Allocated"}),e.jsx(f,{variant:"caption",className:"!text-gray-600 !text-xs",children:r(Number(_||0))})]})]}),e.jsx(Re,{label:`${c.length} lines`,color:"primary",size:"small"})]})}),e.jsx(S,{title:n?"Edit Payment Line":"Add New Payment Line",icon:Gr,children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-3",children:[e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-3 !gap-3",children:[e.jsx(oe,{name:"invoice_id",label:"Invoice ID",placeholder:"Enter invoice ID",formik:x,required:!0,type:"number"}),e.jsx(oe,{name:"amount_applied",label:"Amount Applied",placeholder:"Enter amount",formik:x,required:!0,type:"number"}),e.jsx(oe,{name:"notes",label:"Notes",placeholder:"Optional notes",formik:x})]}),e.jsxs("div",{className:"!flex !justify-end !gap-2 !mt-3",children:[e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:p,disabled:m.isPending||d.isPending,startIcon:e.jsx(Kr,{className:"!w-3 !h-3"}),className:"!text-xs !px-3 !py-1",children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",size:"small",disabled:m.isPending||d.isPending,loading:m.isPending,startIcon:e.jsx(Da,{className:"!w-3 !h-3"}),className:"!text-xs !px-3 !py-1",children:n?"Update Line":"Add Line"})]})]})}),e.jsx(S,{title:`Payment Lines (${c.length})`,icon:Zr,children:l?e.jsx("div",{className:"!space-y-2",children:[1,2,3].map(v=>e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"60%",height:14,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"40%",height:12})]},v))}):c.length===0?e.jsxs("div",{className:"!text-center !py-6",children:[e.jsx(Zr,{className:"!text-gray-400 !text-3xl !mx-auto !mb-2"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs",children:"No payment lines found. Add one above to allocate payment to invoices."})]}):e.jsx("div",{className:"!space-y-2",children:c.map(v=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-lg !border !border-gray-200 !relative",children:[e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !flex-col !gap-1",children:[e.jsxs(f,{variant:"caption",className:"!font-semibold !text-gray-900 !text-xs",children:["Invoice #",v.invoice_number||v.invoice_id]}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs",children:Fe(v.invoice_date)})]}),e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(f,{variant:"caption",className:"!font-semibold !text-green-600 !text-xs",children:r(Number(v.amount_applied||"0"))}),e.jsxs("div",{className:"!flex !items-center !gap-1",children:[e.jsx(G,{variant:"outlined",size:"small",onClick:()=>i(v),className:"!min-w-0 !p-1 !h-6",title:"Edit line",children:e.jsx(gA,{className:"!w-3 !h-3"})}),e.jsx(G,{variant:"outlined",size:"small",onClick:()=>j(v.id),disabled:d.isPending,className:"!min-w-0 !p-1 !h-6 !text-red-500 !border-red-200 hover:!bg-red-50",title:"Delete line",children:e.jsx(Ey,{className:"!w-3 !h-3"})})]})]})]}),v.notes&&e.jsx(f,{variant:"caption",className:"!text-gray-600 !block !mt-1 !text-xs",children:v.notes})]},v.id))})}),(m.error||d.error)&&e.jsx("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-3 text-white relative overflow-hidden shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ia,{className:"w-4 h-4"}),e.jsx(f,{variant:"caption",className:"!text-white !text-xs",children:m.error?.message||d.error?.message||"An error occurred while managing payment lines"})]})})]})})},JFe=nt({refund_date:ce().required("Refund date is required"),amount:Ye().required("Refund amount is required").min(.01,"Amount must be greater than 0"),reason:ce().required("Refund reason is required"),reference_number:ce().optional(),method:ce().optional(),status:ce().required("Status is required"),notes:ce().optional()}),eLe=({paymentId:t,drawerOpen:s,setDrawerOpen:a})=>{const[r,n]=g.useState(null),{data:i,isLoading:o}=jFe(t),l=i?.data||[],c=NFe(),m=_Fe(),d=wFe(),{formatCurrency:p}=Ga(),x=()=>{n(null),j.resetForm(),a(!1)},j=pt({initialValues:{refund_date:r?.refund_date?.split("T")[0]||new Date().toISOString().split("T")[0],amount:r?.amount?.toString()||"",reason:r?.reason||"",reference_number:r?.reference_number||"",method:r?.method||"cash",status:r?.status||"initiated",notes:r?.notes||""},validationSchema:JFe,enableReinitialize:!0,onSubmit:async C=>{try{r?await m.mutateAsync({paymentId:t,refundId:r.id,refund_date:C.refund_date,amount:Number(C.amount),reason:C.reason,reference_number:C.reference_number,method:C.method,status:C.status,notes:C.notes,updatedby:1}):await c.mutateAsync({paymentId:t,refund_date:C.refund_date,amount:Number(C.amount),reason:C.reason,reference_number:C.reference_number,method:C.method,status:C.status,notes:C.notes,createdby:1,log_inst:1}),x()}catch(P){console.error("Error managing payment refund:",P)}}}),_=async C=>{try{await d.mutateAsync({paymentId:t,refundId:C})}catch(P){console.error("Error deleting payment refund:",P)}},S=C=>({completed:"bg-green-100 text-green-800",initiated:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",failed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[C]||"bg-gray-100 text-gray-800",v=C=>({completed:"Completed",initiated:"Initiated",processing:"Processing",failed:"Failed",cancelled:"Cancelled"})[C]||C,y=l.reduce((C,P)=>C+(P.amount||0),0),N=({title:C,children:P,icon:E})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-4 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-12 !h-12 !bg-gradient-to-br !from-blue-100 !to-purple-100 !rounded-full !-translate-y-6 !translate-x-6"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-3",children:[E&&e.jsx("div",{className:"!p-1 !w-8 !h-8 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(E,{className:"!text-primary-500 !w-4 !h-4"})}),e.jsx(f,{variant:"body1",className:"!font-semibold !text-gray-900 !text-sm",children:C})]}),P]})]});return e.jsx(it,{open:s,setOpen:x,title:"Payment Refunds Management",size:"large",children:e.jsxs("div",{className:"!p-4 !space-y-4",children:[e.jsx(N,{title:"Payment Refunds Summary",icon:Hl,children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx("div",{className:"!p-1.5 !bg-red-100 !rounded-lg",children:e.jsx(Cr,{className:"!text-red-600 !w-4 !h-4"})}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !text-sm",children:"Total Refunded"}),e.jsx(f,{variant:"caption",className:"!text-gray-600 !text-xs",children:p(Number(y||"0"))})]})]}),e.jsx(Re,{label:`${l.length} refunds`,color:"primary",size:"small"})]})}),e.jsx(N,{title:r?"Edit Payment Refund":"Add New Payment Refund",icon:Gr,children:e.jsxs("form",{onSubmit:j.handleSubmit,className:"!space-y-4",children:[e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsx(oe,{name:"refund_date",label:"Refund Date",type:"date",formik:j,required:!0}),e.jsx(oe,{name:"amount",label:"Refund Amount",placeholder:"Enter amount",formik:j,required:!0,type:"number"}),e.jsx(oe,{name:"reason",label:"Refund Reason",placeholder:"Enter reason for refund",formik:j,required:!0}),e.jsx(oe,{name:"reference_number",label:"Reference Number",placeholder:"Optional reference number",formik:j}),e.jsxs(Se,{name:"method",label:"Refund Method",formik:j,children:[e.jsx(Z,{value:"cash",children:"Cash"}),e.jsx(Z,{value:"credit",children:"Credit Card"}),e.jsx(Z,{value:"debit",children:"Debit Card"}),e.jsx(Z,{value:"check",children:"Check"}),e.jsx(Z,{value:"bank_transfer",children:"Bank Transfer"}),e.jsx(Z,{value:"online",children:"Online Payment"})]}),e.jsxs(Se,{name:"status",label:"Refund Status",formik:j,required:!0,children:[e.jsx(Z,{value:"initiated",children:"Initiated"}),e.jsx(Z,{value:"processing",children:"Processing"}),e.jsx(Z,{value:"completed",children:"Completed"}),e.jsx(Z,{value:"failed",children:"Failed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]})]}),e.jsx(oe,{name:"notes",label:"Notes",placeholder:"Additional notes",formik:j,multiline:!0,rows:3}),e.jsxs("div",{className:"!flex !justify-end !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:x,disabled:c.isPending||m.isPending||d.isPending,startIcon:e.jsx(Kr,{}),children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:c.isPending||m.isPending||d.isPending,loading:c.isPending||m.isPending,startIcon:e.jsx(Da,{}),children:r?"Update Refund":"Add Refund"})]})]})}),e.jsx(N,{title:`Payment Refunds (${l.length})`,icon:Hl,children:o?e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(C=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"60%",height:16,className:"!mb-2"}),e.jsx(X,{variant:"text",width:"40%",height:14})]},C))}):l.length===0?e.jsxs("div",{className:"!text-center !py-8",children:[e.jsx(Hl,{className:"!text-gray-400 !text-4xl !mx-auto !mb-2"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No payment refunds found. Add one above to process a refund."})]}):e.jsx("div",{className:"!space-y-3",children:l.map(C=>e.jsxs("div",{className:"!p-4 !bg-gray-50 !rounded-lg !border !border-gray-200 !relative",children:[e.jsxs("div",{className:"!flex !items-center !justify-between !mb-2",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:C.reason}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:Fe(C.refund_date)})]}),e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-red-600",children:p(Number(C.amount||"0"))}),e.jsxs("div",{className:"!flex !items-center !gap-1",children:[e.jsx(G,{variant:"outlined",size:"small",onClick:()=>n(C),className:"!min-w-0 !p-1",title:"Edit refund",children:e.jsx(gA,{className:"!w-4 !h-4"})}),e.jsx(G,{variant:"outlined",size:"small",onClick:()=>_(C.id),disabled:d.isPending,className:"!min-w-0 !p-1 !text-red-500 !border-red-200 hover:!bg-red-50",title:"Delete refund",children:e.jsx(Ey,{className:"!w-4 !h-4"})})]})]})]}),e.jsxs("div",{className:"!flex !items-center !justify-between !mb-2",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Mp,{className:"!w-4 !h-4 !text-gray-400"}),e.jsx(f,{variant:"caption",className:"!text-gray-600 !capitalize",children:C.method||"N/A"})]}),e.jsx(Re,{label:v(C.status||""),className:`${S(C.status||"")} font-semibold`,size:"small"})]}),C.reference_number&&e.jsxs(f,{variant:"caption",className:"!text-gray-600 !font-mono !block",children:["Ref: ",C.reference_number]}),C.notes&&e.jsx(f,{variant:"caption",className:"!text-gray-600 !block !mt-2",children:C.notes})]},C.id))})}),(c.error||m.error||d.error)&&e.jsx("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-4 text-white relative overflow-hidden shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ia,{className:"w-5 h-5"}),e.jsx(f,{variant:"caption",className:"!text-white !text-xs",children:c.error?.message||m.error?.message||d.error?.message||"An error occurred while managing payment refunds"})]})})]})})},tLe=()=>{const{id:t}=Br(),s=Fs(),[a,r]=g.useState(!1),[n,i]=g.useState(!1),{formatCurrency:o}=Ga(),{data:l,isLoading:c,error:m}=hFe(Number(t)),d=l?.data,p=v=>({completed:"bg-green-100 text-green-800",paid:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",failed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800",active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800"})[v]||"bg-gray-100 text-gray-800",x=v=>({completed:"Completed",paid:"Paid",pending:"Pending",processing:"Processing",failed:"Failed",cancelled:"Cancelled",active:"Active",inactive:"Inactive"})[v]||v,j=v=>{switch(v?.toLowerCase()){case"cash":return e.jsx(Cr,{className:"w-4 h-4"});case"credit":case"debit":return e.jsx(Mp,{className:"w-4 h-4"});case"bank_transfer":return e.jsx(Hl,{className:"w-4 h-4"});case"online":return e.jsx(Zr,{className:"w-4 h-4"});default:return e.jsx(Cr,{className:"w-4 h-4"})}},_=()=>{s("/transactions/payments")};if(c)return e.jsxs("div",{className:"!flex !items-start !gap-4",children:[e.jsxs("div",{className:"!flex-2 !flex !flex-col !gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-3 !right-3",children:e.jsx(X,{variant:"circular",width:10,height:10,className:"!bg-green-200"})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(X,{variant:"circular",width:96,height:96,className:"!mx-auto !border-3 !border-white"})}),e.jsx(X,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(X,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-2 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"30%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"60%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"70%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"25%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:14})]})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4].map(v=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(X,{variant:"text",width:`${40+v*8}%`,height:12}),e.jsx(X,{variant:"text",width:`${60+v*6}%`,height:16}),v===1&&e.jsx(X,{variant:"text",width:"50%",height:12,className:"!mt-1"})]},v))})]})]})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:200,height:20})]}),e.jsxs("div",{className:"!flex !items-center !justify-between !mb-4",children:[e.jsx(X,{variant:"text",width:120,height:14}),e.jsx(X,{variant:"rectangular",width:100,height:32,className:"!rounded"})]}),e.jsx("div",{className:"!space-y-3",children:[1,2].map(v=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between !mb-2",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(X,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"40%",height:12})]}),e.jsx(X,{variant:"text",width:80,height:16,className:"!text-right"})]}),e.jsx(X,{variant:"text",width:"70%",height:12,className:"!mt-1"})]},v))})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:150,height:20})]}),e.jsxs("div",{className:"!flex !items-center !justify-between !mb-4",children:[e.jsx(X,{variant:"text",width:140,height:14}),e.jsx(X,{variant:"rectangular",width:100,height:32,className:"!rounded"})]}),e.jsx("div",{className:"!space-y-3",children:[1].map(v=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between !mb-2",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(X,{variant:"text",width:"70%",height:16,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:12})]}),e.jsxs("div",{className:"!text-right",children:[e.jsx(X,{variant:"text",width:80,height:16,className:"!mb-1"}),e.jsx(X,{variant:"rectangular",width:60,height:20,className:"!rounded-full"})]})]}),e.jsxs("div",{className:"!flex !items-center !justify-between !text-xs",children:[e.jsx(X,{variant:"text",width:"30%",height:10}),e.jsx(X,{variant:"text",width:"40%",height:10})]})]},v))})]})]})]})]});if(m||!d)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ia,{className:"w-5 h-5"}),e.jsx(f,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load payment details"})]}),e.jsx(f,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:_,className:"mt-4",children:"Back to Payments"})]});const S=({title:v,children:y,icon:N})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[N&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(N,{className:"!text-primary-500"})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:v})]}),y]})]});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${d.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ot,{className:lr("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-green-400 !to-green-600 !text-white":d.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":d.is_active!=="Y"}),children:e.jsx(Cr,{className:"!w-8 !h-8"})})}),e.jsxs(f,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:["Payment #",d.payment_number]}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mb-3",children:d.customer?.name||"Unknown Customer"}),e.jsx(Re,{label:x(d.is_active==="Y"?"active":"inactive"),className:`${p(d.is_active==="Y"?"active":"inactive")} font-semibold`,size:"small"}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Amount"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:o(d.total_amount||0)})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Payment Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d.payment_date?Fe(d.payment_date):"Not specified"})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Method"}),e.jsx(f,{variant:"body2",className:"!font-semibold !capitalize !text-gray-900",children:d.method?.replaceAll("_"," ")})]})]})]}),e.jsx(S,{title:"Payment Information",icon:Vn,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d.customer?.name||"Unknown Customer"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:d.customer?.code})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Collected By"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d.collected_by_user?.name||"Unknown User"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:d.collected_by_user?.email})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Payment Method"}),e.jsxs("div",{className:"!flex !items-center !gap-2 !mt-1",children:[j(d.method),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:d.method?.replaceAll("_"," ")})]})]}),d.currency&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Currency"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:[d.currency.name," (",d.currency.code,")"]})]}),d.reference_number&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Reference Number"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !font-mono",children:d.reference_number})]}),d.notes&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Notes"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:d.notes})]})]})})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsxs(S,{title:"Payment Lines (Invoice Allocations)",icon:Zr,children:[e.jsxs("div",{className:"!flex !items-center !justify-between !mb-4",children:[e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:[d.payment_lines?.length||0," lines allocated"]}),e.jsx(G,{variant:"outlined",size:"small",startIcon:e.jsx(Gr,{}),onClick:()=>r(!0),children:"Manage Lines"})]}),d.payment_lines&&d.payment_lines.length>0?e.jsx("div",{className:"!space-y-2",children:d.payment_lines.map((v,y)=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:v.invoice_number||`Invoice #${v.invoice_id}`}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:Fe(v.invoice_date)})]}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-green-600",children:o(v.amount_applied?.toFixed(2))})]}),v.notes&&e.jsx(f,{variant:"caption",className:"!text-gray-600 !mt-1 !block",children:v.notes})]},v.id||y))}):e.jsxs("div",{className:"!text-center !py-8",children:[e.jsx(Zr,{className:"!text-gray-400 !text-4xl !mx-auto !mb-2"}),e.jsx(f,{variant:"body2",className:"!text-gray-500 !mb-4",children:'No payment lines found. Click "Manage Lines" to allocate this payment to invoices.'}),e.jsx(G,{variant:"contained",startIcon:e.jsx(Gr,{}),onClick:()=>r(!0),children:"Add Payment Line"})]})]}),e.jsxs(S,{title:"Payment Refunds",icon:Hl,children:[e.jsxs("div",{className:"!flex !items-center !justify-between !mb-4",children:[e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:[d.payment_refunds?.length||0," refunds processed"]}),e.jsx(G,{variant:"outlined",size:"small",startIcon:e.jsx(Gr,{}),onClick:()=>i(!0),children:"Manage Refunds"})]}),d.payment_refunds&&d.payment_refunds.length>0?e.jsx("div",{className:"!space-y-2",children:d.payment_refunds.map((v,y)=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between !mb-2",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:v.reason}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:Fe(v.refund_date)})]}),e.jsxs("div",{className:"!text-right",children:[e.jsxs(f,{variant:"body2",className:"!font-semibold !text-red-600",children:["$",v.amount?.toFixed(2)]}),e.jsx(Re,{label:x(v.status||""),className:`${p(v.status||"")} font-semibold`,size:"small"})]})]}),e.jsxs("div",{className:"!flex !items-center !justify-between !text-xs !text-gray-500",children:[e.jsx("span",{className:"!capitalize",children:v.method||"N/A"}),v.reference_number&&e.jsx("span",{className:"!font-mono",children:v.reference_number})]})]},v.id||y))}):e.jsxs("div",{className:"!text-center !py-8",children:[e.jsx(Hl,{className:"!text-gray-400 !text-4xl !mx-auto !mb-2"}),e.jsx(f,{variant:"body2",className:"!text-gray-500 !mb-4",children:'No payment refunds found. Click "Manage Refunds" to process a refund.'}),e.jsx(G,{variant:"contained",startIcon:e.jsx(Gr,{}),onClick:()=>i(!0),children:"Add Payment Refund"})]})]})]})]}),e.jsx(XFe,{paymentId:Number(t),drawerOpen:a,setDrawerOpen:r}),e.jsx(eLe,{paymentId:Number(t),drawerOpen:n,setDrawerOpen:i})]})},sLe=async t=>{try{return(await ie.get("/return-requests",{params:t})).data}catch(s){throw console.error("Error fetching return requests:",s),new Error(s.response?.data?.message||"Failed to fetch return requests")}},aLe=async t=>{try{return(await ie.get(`/return-requests/${t}`)).data}catch(s){throw console.error("Error fetching return request:",s),new Error(s.response?.data?.message||"Failed to fetch return request")}},rLe=async t=>{try{return(await ie.post("/return-requests",t)).data}catch(s){throw console.error("Error creating return request:",s),new Error(s.response?.data?.message||"Failed to create return request")}},nLe=async(t,s)=>{try{return(await ie.put(`/return-requests/${t}`,s)).data}catch(a){throw console.error("Error updating return request:",a),new Error(a.response?.data?.message||"Failed to update return request")}},iLe=async t=>{try{return(await ie.delete(`/return-requests/${t}`)).data}catch(s){throw console.error("Error deleting return request:",s),new Error(s.response?.data?.message||"Failed to delete return request")}},Vm={all:["return-requests"],lists:()=>[...Vm.all,"list"],list:t=>[...Vm.lists(),t],details:()=>[...Vm.all,"detail"],detail:t=>[...Vm.details(),t]},oLe=(t,s)=>st({queryKey:Vm.list(t),queryFn:()=>sLe(t),staleTime:300*1e3,...s}),lLe=(t,s)=>st({queryKey:Vm.detail(t),queryFn:()=>aLe(t),enabled:!!t,staleTime:300*1e3,...s}),cLe=()=>Te({mutationFn:rLe,invalidateQueries:["return-requests"],loadingMessage:"Creating return request..."}),dLe=()=>Te({mutationFn:({id:t,...s})=>nLe(t,s),invalidateQueries:["return-requests"],loadingMessage:"Updating return request..."}),uLe=()=>Te({mutationFn:iLe,invalidateQueries:["return-requests"],loadingMessage:"Deleting return request..."}),mLe=nt({file:ps().required("Please select a file to import")}),pLe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:mLe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("return_requests")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"return_requests",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Return Requests",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple return requests. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing return requests..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},hLe=nt({customer_id:Ye().required("Customer is required").min(1,"Please select a valid customer"),product_id:Ye().required("Product is required").min(1,"Please select a valid product"),serial_id:Ye().nullable().min(1,"Serial ID must be a positive number"),return_date:ce().nullable().test("is-valid-date","Invalid date format",t=>{if(!t)return!0;const s=new Date(t);return!isNaN(s.getTime())}).test("not-future","Return date cannot be in the future",t=>{if(!t)return!0;const s=new Date(t),a=new Date;return a.setHours(23,59,59,999),s<=a}),reason:ce().nullable().max(500,"Reason must be less than 500 characters"),status:ce().nullable().oneOf(["pending","approved","rejected","processing","completed","cancelled"],"Invalid status"),approved_by:Ye().nullable().min(1,"Approved by must be a valid user ID").when("status",{is:"approved",then:t=>t.required("Approved by is required when status is approved"),otherwise:t=>t.nullable()}),approved_date:ce().nullable().test("is-valid-date","Invalid date format",t=>{if(!t)return!0;const s=new Date(t);return!isNaN(s.getTime())}).test("not-future","Approved date cannot be in the future",t=>{if(!t)return!0;const s=new Date(t),a=new Date;return a.setHours(23,59,59,999),s<=a}),resolution_notes:ce().nullable().max(1e3,"Resolution notes must be less than 1000 characters"),is_active:ce().required("Active status is required").oneOf(["Y","N"],"Active status must be Y or N")}),b$=({selectedReturnRequest:t,setSelectedReturnRequest:s,drawerOpen:a,setDrawerOpen:r,users:n})=>{const i=!!t,o=()=>{s(null),r(!1),m.resetForm()},l=cLe(),c=dLe(),m=pt({initialValues:{customer_id:t?.customer_id?.toString()||"",product_id:t?.product_id?.toString()||"",serial_id:t?.serial_id?.toString()||"",return_date:t?.return_date?t.return_date.split("T")[0]:"",reason:t?.reason||"",status:t?.status||"pending",approved_by:t?.approved_by?.toString()||"",approved_date:t?.approved_date?t.approved_date.split("T")[0]:"",resolution_notes:t?.resolution_notes||"",is_active:t?.is_active||"Y"},validationSchema:hLe,enableReinitialize:!0,onSubmit:async d=>{try{const p={customer_id:Number(d.customer_id),product_id:Number(d.product_id),serial_id:d.serial_id?Number(d.serial_id):void 0,return_date:d.return_date,reason:d.reason,status:d.status,approved_by:d.approved_by?Number(d.approved_by):void 0,approved_date:d.approved_date,resolution_notes:d.resolution_notes,is_active:d.is_active};i&&t?await c.mutateAsync({id:t.id,...p}):await l.mutateAsync(p),o()}catch(p){console.error("Error saving return request:",p)}}});return e.jsx(it,{open:a,setOpen:o,title:i?"Edit Return Request":"Create Return Request",size:"large",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:m.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(Yn,{name:"customer_id",label:"Customer",formik:m,required:!0}),e.jsx(wo,{name:"product_id",label:"Product",formik:m,required:!0}),e.jsx(oe,{name:"serial_id",label:"Serial ID",type:"number",placeholder:"Enter serial ID (optional)",formik:m}),e.jsx(oe,{name:"return_date",label:"Return Date",type:"date",formik:m}),e.jsxs(Se,{name:"status",label:"Status",formik:m,children:[e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"approved",children:"Approved"}),e.jsx(Z,{value:"rejected",children:"Rejected"}),e.jsx(Z,{value:"processing",children:"Processing"}),e.jsx(Z,{value:"completed",children:"Completed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]}),e.jsxs(Se,{name:"approved_by",label:"Approved By",formik:m,children:[e.jsx(Z,{value:"",children:"Select Approver"}),n.map(d=>e.jsxs(Z,{value:d.id.toString(),children:[d.name," (",d.email,")"]},d.id))]}),e.jsx(oe,{name:"approved_date",label:"Approved Date",type:"date",formik:m}),e.jsxs(Se,{name:"is_active",label:"Active Status",formik:m,required:!0,children:[e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"reason",label:"Return Reason",placeholder:"Enter reason for return",formik:m,multiline:!0,rows:3})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"resolution_notes",label:"Resolution Notes",placeholder:"Enter resolution notes",formik:m,multiline:!0,rows:3})})]}),e.jsxs(b,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:o,disabled:l.isPending||c.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:l.isPending||c.isPending,children:l.isPending?"Creating...":c.isPending?"Updating...":i?"Update Return Request":"Create Return Request"})]})]})})})},fLe=()=>{const t=Fs(),[s,a]=g.useState(""),[r,n]=g.useState("all"),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,d]=g.useState(!1),[p,x]=g.useState(1),[j]=g.useState(10),{isCreate:_,isUpdate:S,isDelete:v,isRead:y}=Ze("return"),{data:N,isLoading:C,error:P}=oLe({search:s,page:p,limit:j,status:r==="all"?void 0:r,is_active:"Y"},{enabled:y}),{data:E}=Gn({page:1,limit:1e3}),{data:D}=Mu({page:1,limit:1e3}),T=N?.data||[],A=E?.data||[],I=D?.data||[],F=N?.pagination?.total_count||0,z=(N?.pagination?.current_page||1)-1,O=uLe(),K=ls(),W=N?.stats?.total_requests??0,B=N?.stats?.pending_requests??0,q=N?.stats?.approved_requests??0,H=N?.stats?.rejected_requests??0,Q=N?.stats?.processing_requests??0,V=N?.stats?.completed_requests??0,M=N?.stats?.cancelled_requests??0,R=N?.stats?.new_requests_this_month??0,$=g.useCallback(()=>{o(null),c(!0)},[]),Y=g.useCallback(()=>{d(!0)},[]),J=g.useCallback(async()=>{try{const le={search:s,status:r==="all"?void 0:r,isActive:"Y"};await K.mutateAsync({tableName:"return_requests",filters:le})}catch(le){console.error("Error exporting return requests:",le)}},[K,s,r]),te=g.useCallback(le=>{o(le),c(!0)},[]),ee=g.useCallback(le=>{t(`/transactions/returns/${le.id}`)},[t]),ne=g.useCallback(async le=>{try{await O.mutateAsync(le)}catch(me){console.error("Error deleting return request:",me)}},[O]),he=g.useCallback(le=>{a(le),x(1)},[]),de=le=>{x(le+1)},ae=le=>({pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",processing:"bg-blue-100 text-blue-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-gray-100 text-gray-800"})[le]||"bg-gray-100 text-gray-800",xe=le=>({pending:"Pending",approved:"Approved",rejected:"Rejected",processing:"Processing",completed:"Completed",cancelled:"Cancelled"})[le]||le,ge=[{id:"customer_product",label:"Customer & Product",render:(le,me)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:me.customer?.name||"Customer",className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Za,{className:"w-4 h-4"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:me.customer?.name||"Unknown Customer"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:me.product?.name||"Unknown Product"})]})]})},{id:"return_info",label:"Return Info",render:(le,me)=>e.jsxs(b,{children:[me.return_date&&e.jsxs(b,{className:"flex items-center gap-1 mb-1",children:[e.jsx(ws,{className:"w-3 h-3 text-gray-400"}),e.jsx(f,{variant:"caption",className:"!text-gray-600",children:new Date(me.return_date).toLocaleDateString()})]}),me.serial_number&&e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx($t,{className:"w-3 h-3 text-gray-400"}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:["Serial: ",me.serial_number.serial_no]})]})]})},{id:"status_priority",label:"Status",render:(le,me)=>e.jsx(b,{className:"!space-y-1",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ae(me.status||"")}`,children:xe(me.status||"")})})},{id:"reason_notes",label:"Reason & Notes",render:(le,me)=>{const Ae=me.reason,Ce=me.resolution_notes;return!Ae&&!Ce?e.jsx(f,{variant:"caption",className:"!text-gray-400 !italic",children:"No info"}):e.jsxs(b,{children:[Ae&&e.jsxs(b,{className:"flex items-center gap-1 mb-1",children:[e.jsx(ia,{className:"w-3 h-3 text-orange-400"}),e.jsx(f,{variant:"caption",className:"!text-orange-600 !truncate",children:me.reason?.length&&me.reason?.length>30?`${me.reason?.substring(0,30)}...`:me.reason})]}),Ce&&e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ks,{className:"w-3 h-3 text-blue-400"}),e.jsx(f,{variant:"caption",className:"!text-blue-600 !truncate",children:me.resolution_notes?.length&&me.resolution_notes?.length>30?`${me.resolution_notes?.substring(0,30)}...`:me.resolution_notes})]})]})}},{id:"approval_info",label:"Approval Info",render:(le,me)=>e.jsxs(b,{children:[me.approved_user&&e.jsxs(b,{className:"flex items-center gap-1 mb-1",children:[e.jsx(Za,{className:"w-3 h-3 text-green-400"}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:me.approved_user.name})]}),me.approved_date&&e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(As,{className:"w-3 h-3 text-gray-400"}),e.jsx(f,{variant:"caption",className:"!text-gray-600",children:new Date(me.approved_date).toLocaleDateString()})]}),!me.approved_user&&!me.approved_date&&e.jsx(f,{variant:"caption",className:"!text-gray-400 !italic",children:"Not approved"})]})},{id:"is_active",label:"Active Status",render:le=>e.jsx(Re,{icon:le==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:le==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:le==="Y"?"success":"error"})},...y||S||v?[{id:"action",label:"Actions",sortable:!1,render:(le,me)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[y&&e.jsx(Ua,{icon:e.jsx(kn,{}),onClick:()=>ee(me),tooltip:`View return request for ${me.customer?.name}`,color:"success"}),S&&e.jsx(ss,{onClick:()=>te(me),tooltip:`Edit return request for ${me.customer?.name}`}),v&&e.jsx(Ht,{onClick:()=>ne(me.id),tooltip:`Delete return request for ${me.customer?.name}`,itemName:`return request for ${me.customer?.name}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Return Requests"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product return requests, track approval status, and monitor return processing"})]})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 mb-6",children:[e.jsx(fe,{title:"Total",value:W,icon:e.jsx(ks,{className:"w-4 h-4"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Pending",value:B,icon:e.jsx(As,{className:"w-4 h-4"}),color:"yellow",isLoading:C}),e.jsx(fe,{title:"Approved",value:q,icon:e.jsx(mt,{className:"w-4 h-4"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Rejected",value:H,icon:e.jsx(ya,{className:"w-4 h-4"}),color:"red",isLoading:C}),e.jsx(fe,{title:"Processing",value:Q,icon:e.jsx(As,{className:"w-4 h-4"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Completed",value:V,icon:e.jsx(mt,{className:"w-4 h-4"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Cancelled",value:M,icon:e.jsx(ya,{className:"w-4 h-4"}),color:"gray",isLoading:C}),e.jsx(fe,{title:"New",value:R,icon:e.jsx(ws,{className:"w-4 h-4"}),color:"gray",isLoading:C})]}),P&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load return Requests. Please try again."}),e.jsx(ct,{data:T,columns:ge,actions:y||_?e.jsxs("div",{className:"flex justify-between items-center flex-wrap w-full gap-2",children:[e.jsx("div",{className:"flex gap-2 items-center flex-wrap",children:y&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Return Requests",value:s,onChange:he,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(Se,{value:r,onChange:le=>n(le.target.value),className:"!min-w-40",size:"small",children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"approved",children:"Approved"}),e.jsx(Z,{value:"rejected",children:"Rejected"}),e.jsx(Z,{value:"processing",children:"Processing"}),e.jsx(Z,{value:"completed",children:"Completed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]})]})}),y&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xt,{title:"Export Return Requests",description:"Are you sure you want to export the current return requests data to Excel? This will include all filtered results.",onConfirm:J,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:K.isPending,children:K.isPending?"Exporting...":"Export"})}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:Y,children:"Import"})]}),_&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:$,children:"Create"})]}):!1,getRowId:le=>le.id,loading:C,totalCount:F,page:z,rowsPerPage:j,isPermission:y,onPageChange:de,emptyMessage:s?`No return requests found matching "${s}"`:"No return requests found in the system"}),e.jsx(b$,{selectedReturnRequest:i,setSelectedReturnRequest:o,drawerOpen:l,setDrawerOpen:c,users:A,products:I}),e.jsx(pLe,{drawerOpen:m,setDrawerOpen:d})]})},qp={async getWorkflowSteps(t){return(await ie.get(`/workflow/steps/${t}`)).data.data},async executeWorkflowAction(t,s){const a=await ie.post(`/workflow/action/${t}`,s);return{...a.data.data,message:a.data.message}},async getWorkflowTemplates(){return(await ie.get("/workflow/templates")).data.data},async applyWorkflowTemplate(t,s){const a=await ie.post(`/workflow/template/${t}`,{templateId:s});return{workflowSteps:a.data.data,message:a.data.message}},async executeFullWorkflowFlow(t,s="standard_return"){const a=await ie.post(`/workflow/full-flow/${t}`,{templateId:s});return{workflowSteps:a.data.data,message:a.data.message}},async rejectReturnRequest(t,s){const a=await ie.post(`/workflow/reject/${t}`,{rejectionReason:s});return{rejectionStep:a.data.data,message:a.data.message}},async executeNextWorkflowStep(t){const s=await ie.post(`/workflow/next-step/${t}`);return{nextStep:s.data.data,message:s.data.message}}},xLe=t=>st({queryKey:["workflow-steps",t],queryFn:()=>qp.getWorkflowSteps(t),enabled:!!t}),gLe=()=>st({queryKey:["workflow-templates"],queryFn:()=>qp.getWorkflowTemplates()}),bLe=()=>Te({mutationFn:({requestId:t,templateId:s})=>qp.applyWorkflowTemplate(t,s),invalidateQueries:["workflow-steps","return-request"],loadingMessage:"Applying workflow template..."}),yLe=()=>Te({mutationFn:({requestId:t,templateId:s})=>qp.executeFullWorkflowFlow(t,s),invalidateQueries:["workflow-steps","return-request","return-requests"],loadingMessage:"Executing full workflow flow..."}),vLe=()=>Te({mutationFn:({requestId:t,rejectionReason:s})=>qp.rejectReturnRequest(t,s),invalidateQueries:["workflow-steps","return-request","return-requests"],loadingMessage:"Rejecting return request..."}),jLe=()=>Te({mutationFn:({requestId:t})=>qp.executeNextWorkflowStep(t),invalidateQueries:["workflow-steps","return-request","return-requests"],loadingMessage:"Executing next workflow step..."}),NLe=({requestId:t,currentStatus:s,onStatusChange:a})=>{const[r,n]=g.useState(!1),[i,o]=g.useState(!1),[l,c]=g.useState(""),{data:m=[],isLoading:d,refetch:p}=xLe(t),{data:x=[]}=gLe(),j=bLe(),_=yLe(),S=jLe(),v=vLe(),y=O=>{switch(O){case"completed":return e.jsx(Da,{className:"w-5 h-5 text-green-600"});case"in_progress":return e.jsx(As,{className:"w-5 h-5 text-blue-600"});case"pending":return e.jsx(As,{className:"w-5 h-5 text-gray-400"});case"rejected":return e.jsx(Kr,{className:"w-5 h-5 text-red-600"});default:return e.jsx(As,{className:"w-5 h-5 text-gray-400"})}},N=O=>{switch(O){case"completed":return"text-green-600";case"in_progress":return"text-blue-600";case"pending":return"text-gray-400";case"rejected":return"text-red-600";default:return"text-gray-400"}},C=async O=>{try{await j.mutateAsync({requestId:t,templateId:O}),n(!1),p()}catch{}},P=async(O="standard_return")=>{try{await _.mutateAsync({requestId:t,templateId:O}),p(),a&&a("completed")}catch{}},E=async()=>{try{await S.mutateAsync({requestId:t}),p()}catch{}},D=async()=>{if(l.trim())try{await v.mutateAsync({requestId:t,rejectionReason:l.trim()}),o(!1),c(""),p(),a&&a("rejected")}catch{}},T=m.length>0&&m.every(O=>O.status==="completed"),A=m.some(O=>O.status==="pending"||O.status==="in_progress"),I=m.filter(O=>O.status==="pending"||O.status==="in_progress").length===1,F=["completed","rejected","cancelled"].includes(s),z=m.length>0&&A&&!T&&!F;return d?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(O=>e.jsxs("div",{className:"flex items-start gap-3 animate-pulse",children:[e.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},O))}):e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"flex flex-col gap-2",children:m.length>0?m.map(O=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:y(O.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsx(f,{variant:"subtitle2",className:`font-medium ${N(O.status)}`,children:O.step}),O.remarks&&e.jsx(f,{variant:"body2",className:`mt-1 ${O.status==="rejected"?"text-red-600 font-medium":"text-gray-600"}`,children:O.remarks}),O.action_date&&e.jsx(f,{variant:"caption",className:"text-gray-500 mt-1 block",children:Fe(O.action_date)}),O.action_by&&O.action_user&&e.jsxs(f,{variant:"caption",className:"text-gray-500",children:["by ",O.action_user.name]}),!O.action_by&&e.jsx(f,{variant:"caption",className:"text-gray-500",children:"by System"})]})]},O.id)):e.jsxs("div",{className:"text-center py-8 flex flex-col gap-2 items-center text-gray-500",children:[e.jsx(ia,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx(f,{variant:"body2",className:"mb-4",children:"No workflow steps found"}),!F&&e.jsx(G,{variant:"outlined",startIcon:e.jsx(Cg,{}),onClick:()=>n(!0),children:"Apply Workflow Template"})]})}),r&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx(f,{variant:"h6",className:"mb-3 text-blue-900",children:"Select Workflow Template"}),e.jsx("div",{className:"space-y-2 mb-4",children:x.map(O=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded border",children:[e.jsxs("div",{children:[e.jsx(f,{variant:"subtitle2",className:"font-medium",children:O.name}),e.jsx(f,{variant:"caption",className:"text-gray-500",children:O.description})]}),e.jsx(G,{variant:"outlined",size:"small",onClick:()=>C(O.id),disabled:j.isPending,children:"Apply"})]},O.id))}),e.jsx(G,{variant:"outlined",onClick:()=>n(!1),className:"w-full",children:"Cancel"})]}),z&&e.jsxs("div",{className:"grid lg:grid-cols-3 md:grid-cols-2 gap-2 items-center",children:[e.jsx(G,{variant:"contained",className:" bg-purple-600 hover:bg-purple-700 text-white",startIcon:e.jsx(Sle,{}),onClick:()=>P("standard_return"),disabled:_.isPending,children:_.isPending?"Processing...":"Complete the Process"}),e.jsx(G,{variant:I?"contained":"outlined",className:` ${I?"bg-green-600 hover:bg-green-700 text-white":"border-blue-300 text-blue-600 hover:bg-blue-50"}`,startIcon:e.jsx(rw,{}),onClick:E,disabled:S.isPending,children:S.isPending?"Processing...":I?"Complete the Return Process":"Execute Next Step"}),e.jsx(G,{variant:"outlined",className:" border-red-300 text-red-600 hover:bg-red-50",startIcon:e.jsx(Kr,{}),color:"error",onClick:()=>o(!0),disabled:v.isPending,children:v.isPending?"Rejecting...":"Reject Request"})]}),e.jsx(Ev,{open:i,onClose:()=>{o(!1),c("")},"aria-labelledby":"reject-modal-title","aria-describedby":"reject-modal-description",children:e.jsxs("div",{className:"!absolute !top-1/2 !left-1/2 !transform !-translate-x-1/2 !-translate-y-1/2 !w-[90%] sm:!w-[500px] !bg-white !rounded-lg !shadow-2xl !p-0",children:[e.jsxs("div",{className:"!flex !items-center !justify-between !p-4 !pb-3",children:[e.jsx(f,{id:"reject-modal-title",variant:"h6",component:"h2",className:"!font-semibold",children:"Reject Return Request"}),e.jsx(G,{onClick:()=>{o(!1),c("")},className:"!min-w-0 !p-1",children:e.jsx(Kr,{className:"w-5 h-5"})})]}),e.jsx(or,{}),e.jsx("div",{className:"!p-4 !pb-3",children:e.jsx(oe,{label:"Rejection Reason",placeholder:"Please provide a reason for rejecting this return request...",value:l,onChange:O=>c(O.target.value),multiline:!0,rows:4,required:!0,error:!l.trim()&&i,helperText:!l.trim()&&i?"Rejection reason is required":"",className:"!w-full"})}),e.jsx(or,{}),e.jsxs("div",{className:"!flex !gap-2 !justify-end !p-4 !pt-3",children:[e.jsx(G,{variant:"outlined",onClick:()=>{o(!1),c("")},disabled:v.isPending,children:"Cancel"}),e.jsx(G,{variant:"contained",color:"error",onClick:D,className:"!w-24",disabled:!l.trim()||v.isPending,children:v.isPending?"Rejecting...":"Reject"})]})]})})]})},_Le=()=>{const{id:t}=Br(),s=Fs(),[a,r]=g.useState(!1),{data:n,isLoading:i,error:o}=lLe(Number(t)),{data:l}=Gn({page:1,limit:1e3}),{data:c}=Mu({page:1,limit:1e3}),m=n?.data,d=l?.data||[],p=c?.data||[],x=v=>({pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",processing:"bg-blue-100 text-blue-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-gray-100 text-gray-800"})[v]||"bg-gray-100 text-gray-800",j=v=>({pending:"Pending",approved:"Approved",rejected:"Rejected",processing:"Processing",completed:"Completed",cancelled:"Cancelled"})[v]||v,_=()=>{s("/transactions/returns")};if(i)return e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-2",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-4 !right-4",children:e.jsx(X,{variant:"circular",width:12,height:12,className:"!bg-yellow-200"})}),e.jsx(X,{variant:"circular",width:96,height:96,className:"!mx-auto !mb-4 !border-3 !border-white"}),e.jsx(X,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(X,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-yellow-50"}),e.jsxs("div",{className:"!space-y-3 !text-left",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"50%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"70%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"80%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"35%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"60%",height:14})]})]})]})}),e.jsx("div",{className:"flex-4 !space-y-4",children:[1,2,3].map(v=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-20 !h-20 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-10 !translate-x-10"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1 !bg-blue-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-blue-200"})}),e.jsx(X,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4].map(y=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(X,{variant:"text",width:`${50+y*8}%`,height:12}),e.jsx(X,{variant:"text",width:`${60+y*6}%`,height:16})]},y))})]})]},v))})]});if(o||!m)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ia,{className:"w-5 h-5"}),e.jsx(f,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load return request details"})]}),e.jsx(f,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:_,className:"mt-4",children:"Back to Return Requests"})]});const S=({title:v,children:y,icon:N})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[N&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(N,{className:"!text-primary-500"})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:v})]}),y]})]});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${m.status==="completed"?"!bg-green-400":m.status==="approved"?"!bg-blue-400":m.status==="rejected"?"!bg-red-400":"!bg-yellow-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ot,{className:lr("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-green-400 !to-green-600 !text-white":m.status==="completed","!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":m.status==="approved","!bg-gradient-to-br !from-red-400 !to-red-600 !text-white":m.status==="rejected","!bg-gradient-to-br !from-yellow-400 !to-yellow-600 !text-white":m.status==="pending"}),children:e.jsx($t,{className:"!w-8 !h-8"})})}),e.jsxs(f,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:["Return Request #",m.id]}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mb-3",children:m.customer?.name||"Unknown Customer"}),e.jsx(Re,{label:j(m.status||""),className:`${x(m.status||"")} font-semibold`,size:"small"}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Product"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.product?.name||"Unknown Product"})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Return Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.return_date?Fe(m.return_date):"Not specified"})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Created"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(m.createdate)})]})]})]}),e.jsx(S,{title:"Request Information",icon:Vn,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.customer?.name||"Unknown Customer"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:m.customer?.code})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Product"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.product?.name||"Unknown Product"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:m.product?.code})]}),m.serial_number&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Serial Number"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.serial_number.serial_no})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Current Status"}),e.jsx("div",{className:"!mt-1",children:e.jsx(Re,{label:j(m.status||""),className:`${x(m.status||"")} font-semibold`,size:"small"})})]}),e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Reason for Return"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.reason||"No reason provided"})]})]})})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[m.approved_user&&e.jsx(S,{title:"Approval Information",icon:Da,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Approved By"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.approved_user.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:m.approved_user.email})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Approval Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.approved_date?Fe(m.approved_date):"Not approved"})]}),m.resolution_notes&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Resolution Notes"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.resolution_notes})]})]})}),e.jsx(S,{title:"Workflow Timeline",icon:Z4,children:e.jsx(NLe,{requestId:m.id,currentStatus:m.status||"pending",onStatusChange:v=>{window.location.reload()}})})]})]}),e.jsx(b$,{selectedReturnRequest:m,setSelectedReturnRequest:()=>{},drawerOpen:a,setDrawerOpen:r,users:d,products:p})]})},wLe=nt({file:ps().required("Please select a file to import")}),SLe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,r]=g.useState(null),[n,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),d=ys({onSuccess:y=>{i(y.data),l("results")}}),p=()=>{r(null),i(null),l("upload"),x.resetForm(),s(!1)},x=pt({initialValues:{file:null},validationSchema:wLe,onSubmit:async()=>{a&&await S()}}),j=async()=>{try{await m.mutateAsync("visits")}catch(y){console.error("Failed to download template:",y)}},_=y=>{const N=y.target.files?.[0];if(N){if(!N.name.endsWith(".xlsx")&&!N.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}r(N),i(null),l("upload"),x.setFieldValue("file",N)}},S=async()=>{if(a)try{await d.mutateAsync({tableName:"visits",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(y){console.error("Import failed:",y)}},v=()=>{r(null),i(null),l("upload"),x.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(it,{open:t,setOpen:p,title:"Import Visits",size:"large",children:e.jsx(b,{className:"!p-5",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsx(lt,{severity:"info",className:"!mb-4",children:e.jsx(f,{variant:"body2",children:"Upload an Excel file to import multiple visits. Download the sample file to see the required format."})}),e.jsx(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(b,{className:"!flex !items-center !justify-between",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(f,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:j,className:"!shrink-0",children:[e.jsx(Nt,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(b,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(f,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(b,{className:"!space-y-4",children:[e.jsxs(b,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(b,{className:"!flex !items-center !gap-3",children:[e.jsx(Pt,{className:"!text-green-600"}),e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:v,disabled:d.isPending,children:"Remove"})]}),d.isPending&&e.jsxs(b,{className:"!space-y-2",children:[e.jsx(b,{className:"!flex !justify-between !items-center",children:e.jsx(f,{variant:"body2",children:"Importing data..."})}),e.jsx(gs,{})]}),n&&o==="results"&&e.jsxs(b,{className:"!space-y-3 !mt-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(b,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-blue-700",children:n.totalProcessed}),e.jsx(f,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-green-700",children:n.success}),e.jsx(f,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(b,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(f,{variant:"h6",className:"!text-red-700",children:n.failed}),e.jsx(f,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),n.fileInfo&&e.jsxs(b,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(f,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["File: ",n.fileInfo.originalName]}),e.jsxs(f,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",n.fileInfo.rows]})]}),n.errors&&n.errors.length>0&&e.jsxs(b,{className:"!mt-3",children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",n.errors.length,"):"]}),e.jsxs(b,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[n.errors.slice(0,10).map((y,N)=>e.jsxs(f,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",y]},N)),n.errors.length>10&&e.jsxs(f,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",n.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(b,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(xs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(f,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(b,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:p,disabled:d.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||d.isPending,loading:d.isPending,children:d.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:p,children:"Done"})]})]})})})},CLe=nt().shape({customer_id:ce().required("Customer is required"),sales_person_id:ce().required("Salesperson is required"),route_id:ce().nullable(),zones_id:ce().nullable(),visit_date:ce().nullable(),visit_time:ce().nullable(),purpose:ce().max(500,"Purpose must be at most 500 characters").nullable(),status:ce().oneOf(["planned","in_progress","completed","cancelled"],"Invalid status").nullable(),start_latitude:ce().nullable(),start_longitude:ce().nullable(),end_latitude:ce().nullable(),end_longitude:ce().nullable(),orders_created:Ye().min(0,"Orders created must be a positive number").nullable(),amount_collected:ce().nullable(),visit_notes:ce().max(1e3,"Visit notes must be at most 1000 characters").nullable(),customer_feedback:ce().max(1e3,"Customer feedback must be at most 1000 characters").nullable(),next_visit_date:ce().nullable(),is_active:ce().oneOf(["Y","N"],"Status must be Y or N").required("Status is required")}),PLe=({selectedVisit:t,setSelectedVisit:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,i=Tu({limit:1e3,status:"active"}),o=ul({limit:1e3,isActive:"Y"}),l=i?.data?.data||[],c=o?.data?.data||[],m=()=>{s(null),r(!1),x.resetForm()},d=tPe(),p=sPe(),x=pt({initialValues:{customer_id:t?.customer_id?.toString()||"",sales_person_id:t?.sales_person_id?.toString()||"",route_id:t?.route_id?.toString()||"",zones_id:t?.zones_id?.toString()||"",visit_date:$r(t?.visit_date),visit_time:t?.visit_time||"",purpose:t?.purpose||"",status:t?.status||"planned",start_latitude:t?.start_latitude||"",start_longitude:t?.start_longitude||"",end_latitude:t?.end_latitude||"",end_longitude:t?.end_longitude||"",orders_created:t?.orders_created?.toString()||"",amount_collected:t?.amount_collected||"",visit_notes:t?.visit_notes||"",customer_feedback:t?.customer_feedback||"",next_visit_date:$r(t?.next_visit_date),is_active:t?.is_active||"Y"},validationSchema:CLe,enableReinitialize:!0,onSubmit:async v=>{try{const y={customer_id:Number(v.customer_id),sales_person_id:Number(v.sales_person_id),route_id:v.route_id?Number(v.route_id):void 0,zones_id:v.zones_id?Number(v.zones_id):void 0,visit_date:v.visit_date,visit_time:v.visit_time,purpose:v.purpose,status:v.status,start_latitude:v.start_latitude,start_longitude:v.start_longitude,end_latitude:v.end_latitude,end_longitude:v.end_longitude,orders_created:v.orders_created?Number(v.orders_created):void 0,amount_collected:v.amount_collected,visit_notes:v.visit_notes,customer_feedback:v.customer_feedback,next_visit_date:v.next_visit_date,is_active:v.is_active};n&&t?await p.mutateAsync({id:t.id,...y}):await d.mutateAsync(y),m()}catch(y){console.error("Error saving visit:",y)}}}),j=x.values.customer_id?Number(x.values.customer_id):null,{data:_}=I5e(j||0),S=!!j&&!n;return g.useEffect(()=>{if(_?.data&&!n&&j){const v=_.data;v.route_id&&x.setFieldValue("route_id",v.route_id.toString()),v.zones_id&&x.setFieldValue("zones_id",v.zones_id.toString())}},[_,n,j]),e.jsx(it,{open:a,setOpen:m,title:n?"Edit Visit":"Create Visit",size:"large",children:e.jsx(b,{className:"!p-6",children:e.jsxs("form",{onSubmit:x.handleSubmit,className:"!space-y-6",children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(Yn,{name:"customer_id",label:"Customer",formik:x,required:!0}),e.jsx(Dr,{name:"sales_person_id",label:"Sales Person",formik:x,required:!0}),e.jsx(Se,{name:"route_id",label:"Route",formik:x,disabled:S,children:l.map(v=>e.jsxs(Z,{value:v.id.toString(),children:[v.name," (",v.code,")"]},v.id))}),e.jsx(Se,{name:"zones_id",label:"Zone",formik:x,disabled:S,children:c.map(v=>e.jsx(Z,{value:v.id.toString(),children:v.name},v.id))}),e.jsx(oe,{name:"visit_date",label:"Visit Date",type:"date",formik:x}),e.jsx(oe,{name:"visit_time",label:"Visit Time",type:"time",formik:x}),e.jsxs(Se,{name:"status",label:"Status",formik:x,children:[e.jsx(Z,{value:"planned",children:"Planned"}),e.jsx(Z,{value:"in_progress",children:"In Progress"}),e.jsx(Z,{value:"completed",children:"Completed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]}),e.jsx(oe,{name:"orders_created",label:"Orders Created",placeholder:"Enter orders created",type:"number",formik:x}),e.jsx(oe,{type:"number",name:"amount_collected",label:"Amount Collected",placeholder:"Enter amount collected",formik:x}),e.jsx(oe,{name:"next_visit_date",label:"Next Visit Date",type:"date",formik:x}),e.jsx(Es,{name:"is_active",formik:x,required:!0,className:"col-span-2"}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"purpose",label:"Purpose",placeholder:"Enter visit purpose",formik:x,multiline:!0,rows:2})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"visit_notes",label:"Visit Notes",placeholder:"Enter visit notes",formik:x,multiline:!0,rows:3})}),e.jsx(b,{className:"md:!col-span-2",children:e.jsx(oe,{name:"customer_feedback",label:"Customer Feedback",placeholder:"Enter customer feedback",formik:x,multiline:!0,rows:3})})]}),e.jsxs(b,{className:"!flex !justify-end items-center gap-2 flex-wrap",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,disabled:d.isPending||p.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:d.isPending||p.isPending,children:d.isPending?"Creating...":p.isPending?"Updating...":n?"Update Visit":"Create Visit"})]})]})})})},kLe=()=>{const t=Fs(),[s,a]=g.useState(""),[r,n]=g.useState("all"),[i,o]=g.useState("all"),[l,c]=g.useState(null),[m,d]=g.useState(!1),[p,x]=g.useState(!1),[j,_]=g.useState(1),[S]=g.useState(10),{isCreate:v,isUpdate:y,isDelete:N,isRead:C}=Ze("visit"),{data:P,isLoading:E,error:D}=N3({search:s,page:j,limit:S,isActive:r==="all"?void 0:r==="active"?"Y":"N",sales_person_id:i==="all"?void 0:Number(i)},{enabled:C}),{data:T}=Gn({page:1,limit:1e3}),A=P?.data||[],I=T?.data||[],F=P?.meta?.total||0,z=(P?.meta?.page||1)-1,O=aPe(),K=ls(),W=P?.stats?.total_visits??0,B=P?.stats?.active_visits??0,q=P?.stats?.inactive_visits??0,H=P?.stats?.new_visits??0,Q=g.useCallback(()=>{c(null),d(!0)},[]),V=g.useCallback(de=>{c(de),d(!0)},[]),M=g.useCallback(de=>{t(`/transactions/visits/${de.id}`)},[t]),R=g.useCallback(async de=>{try{await O.mutateAsync(de)}catch(ae){console.error("Error deleting visit:",ae)}},[O]),$=g.useCallback(de=>{a(de),_(1)},[]),Y=de=>{_(de+1)},J=g.useCallback(async()=>{try{const de={search:s,status:r==="all"?void 0:r,salesperson:i==="all"?void 0:Number(i)};await K.mutateAsync({tableName:"visits",filters:de})}catch(de){console.error("Error exporting visits:",de)}},[K,s,r,i]),te=de=>({planned:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[de]||"bg-gray-100 text-gray-800",ee=de=>({planned:"Planned",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled"})[de]||de,ne=[{id:"customer",label:"Customer & Purpose",render:(de,ae)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:ae.customer?.name||"Customer",className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Za,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight",children:ae.customer?.name||"Unknown Customer"}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:ae.purpose||"No purpose specified"})]})]})},{id:"salesperson",label:"Sales Person",render:(de,ae)=>e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(_o,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-sm",children:ae.salesperson?.name||e.jsx("span",{className:"text-sm italic text-gray-500",children:"No Sales Person"})})]})},{id:"route_zone",label:"Route & Zone",render:(de,ae)=>e.jsxs(b,{children:[e.jsxs(b,{className:"flex items-center gap-1 mb-1",children:[e.jsx(wn,{className:"w-3 h-3 text-gray-400"}),e.jsx(f,{variant:"caption",className:"!text-gray-600",children:ae.route?.name||"No Route"})]}),e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(ta,{className:"w-3 h-3 text-gray-400"}),e.jsx(f,{variant:"caption",className:"!text-gray-600",children:ae.zone?.name||"No Zone"})]})]})},{id:"visit_details",label:"Visit Details",render:(de,ae)=>e.jsxs(b,{children:[ae.visit_date&&e.jsxs(b,{className:"flex items-center gap-1 mb-1",children:[e.jsx(ws,{className:"w-3 h-3 text-gray-400"}),e.jsx(f,{variant:"caption",className:"!text-gray-600",children:Fe(ae.visit_date)})]}),ae.visit_time&&e.jsxs(b,{className:"flex items-center gap-1",children:[e.jsx(As,{className:"w-3 h-3 text-gray-400"}),e.jsx(f,{variant:"caption",className:"!text-gray-600",children:ae.visit_time})]})]})},{id:"status",label:"Status",render:(de,ae)=>e.jsx("span",{className:`inline-flex px-2 py-1 text-xs capitalize font-semibold rounded-full ${te(ae.status||"")}`,children:ee(ae.status||"")})},{id:"orders_amount",label:"Orders & Amount",render:(de,ae)=>e.jsxs(b,{children:[e.jsxs(f,{variant:"caption",className:"!text-gray-600 !block",children:["Orders: ",ae.orders_created||0]}),e.jsxs(f,{variant:"caption",className:"!text-gray-600 !block",children:["Amount: ",ae.amount_collected||"N/A"]})]})},{id:"is_active",label:"Active Status",render:de=>e.jsx(Re,{icon:de==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:de==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:de==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(de,ae)=>Fe(ae.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...C||y||N?[{id:"action",label:"Actions",sortable:!1,render:(de,ae)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[C&&e.jsx(Ua,{onClick:()=>M(ae),tooltip:`View visit for ${ae.customer?.name}`,icon:e.jsx(kn,{fontSize:"small"}),color:"info"}),y&&e.jsx(ss,{onClick:()=>V(ae),tooltip:`Edit visit for ${ae.customer?.name}`}),N&&e.jsx(Ht,{onClick:()=>R(ae.id),tooltip:`Delete visit for ${ae.customer?.name}`,itemName:`visit for ${ae.customer?.name}`,confirmDelete:!0})]})}]:[]],he=I;return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Visit Logging"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage customer visits, track activities, and monitor field operations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Visits",value:W,icon:e.jsx(Za,{className:"w-6 h-6"}),color:"blue",isLoading:E}),e.jsx(fe,{title:"Active Visits",value:B,icon:e.jsx(_o,{className:"w-6 h-6"}),color:"green",isLoading:E}),e.jsx(fe,{title:"Inactive Visits",value:q,icon:e.jsx(ya,{className:"w-6 h-6"}),color:"red",isLoading:E}),e.jsx(fe,{title:"New This Month",value:H,icon:e.jsx(ws,{className:"w-6 h-6"}),color:"purple",isLoading:E})]}),D&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load visits. Please try again."}),e.jsx(ct,{data:A,columns:ne,actions:C||v?e.jsxs("div",{className:"flex justify-between !items-center gap-2 flex-wrap w-full",children:[e.jsx("div",{className:"flex gap-2 items-center flex-wrap",children:C&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Visits",value:s,onChange:$,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(Se,{value:r,onChange:de=>n(de.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(Se,{value:i,onChange:de=>o(de.target.value),className:"!min-w-60",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Sales Persons"}),he.map(de=>e.jsx(Z,{value:de.id.toString(),children:de.name},de.id))]})]})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[C&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:K.isPending,onClick:J,children:K.isPending?"Exporting...":"Export"}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(fs,{}),onClick:()=>x(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:de=>de.id,initialOrderBy:"visit_date",loading:E,totalCount:F,page:z,rowsPerPage:S,isPermission:C,onPageChange:Y,emptyMessage:s?`No visits found matching "${s}"`:"No visits found in the system"}),e.jsx(PLe,{selectedVisit:l,setSelectedVisit:c,drawerOpen:m,setDrawerOpen:d}),e.jsx(SLe,{drawerOpen:p,setDrawerOpen:x})]})},ELe=()=>{const{id:t}=Br(),s=Fs(),{formatCurrency:a}=Ga(),{data:r,isLoading:n,error:i,isFetching:o}=ePe(Number(t)),l=r?.data,c=()=>{s("/transactions/visit-logging")},m=x=>{switch(x?.toLowerCase()){case"completed":return"success";case"in_progress":return"warning";case"planned":return"info";case"cancelled":return"error";default:return"default"}},d=x=>x?x.charAt(0).toUpperCase()+x.slice(1).replace("_"," "):"Unknown";if(n||o)return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-3 !right-3",children:e.jsx(X,{variant:"circular",width:10,height:10,className:"!bg-green-200"})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(X,{variant:"circular",width:96,height:96,className:"!mx-auto !border-3 !border-white"})}),e.jsx(X,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(X,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(X,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-2 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"30%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"60%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(X,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"70%",height:14})]})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(x=>e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(X,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"40%",height:12})]}),e.jsx(X,{variant:"text",width:80,height:16,className:"!text-right"})]})},x))})]})]})]}),e.jsx("div",{className:"!flex-4 !space-y-4",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4,5,6].map(x=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(X,{variant:"text",width:`${40+x*8}%`,height:12}),e.jsx(X,{variant:"text",width:`${60+x*6}%`,height:16})]},x))})]})]})})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(X,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(X,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 lg:!grid-cols-3 !gap-4",children:[1,2,3,4,5,6].map(x=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(X,{variant:"text",width:`${40+x*8}%`,height:12}),e.jsx(X,{variant:"text",width:`${60+x*6}%`,height:16})]},x))})]})]})]});if(i||!l)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ia,{className:"w-5 h-5"}),e.jsx(f,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load visit details"})]}),e.jsx(f,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:c,className:"mt-4",children:"Back to Visits"})]});const p=({title:x,children:j,icon:_})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[_&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(_,{className:"!text-primary-500"})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:x})]}),j]})]});return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${l.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ot,{className:lr("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":l.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":l.is_active!=="Y"}),children:e.jsx(Za,{className:"!w-8 !h-8"})})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:l.customer?.name||"Unknown Customer"}),e.jsxs(f,{variant:"body2",className:"!text-gray-600 !mb-3",children:["Visit #",l.id]}),e.jsxs("div",{className:"!flex !justify-center !gap-2 !mb-4",children:[e.jsx(Re,{label:d(l.status),size:"small",color:m(l.status)}),e.jsx(Re,{icon:l.is_active==="Y"?e.jsx(mt,{fontSize:"small"}):e.jsx(pu,{fontSize:"small"}),label:l.is_active==="Y"?"Active":"Inactive",size:"small",color:l.is_active==="Y"?"success":"error"})]}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[l.visit_date&&e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Visit Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(typeof l.visit_date=="string"?l.visit_date:String(l.visit_date||""))})]}),l.purpose&&e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Purpose"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.purpose})]})]})]}),e.jsx(p,{title:"Visit Timeline",icon:As,children:e.jsxs("div",{className:"!space-y-3",children:[l.visit_date&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(ws,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Visit Date"}),e.jsxs(f,{variant:"caption",className:"!text-gray-500",children:[Fe(typeof l.visit_date=="string"?l.visit_date:String(l.visit_date||"")),l.visit_time&&` at ${l.visit_time}`]})]})]})}),l.check_in_time&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(As,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Check-in Time"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:Fe(typeof l.check_in_time=="string"?l.check_in_time:String(l.check_in_time||""))})]})]})}),l.check_out_time&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(As,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Check-out Time"}),e.jsx(f,{variant:"caption",className:"!text-gray-500",children:Fe(typeof l.check_out_time=="string"?l.check_out_time:String(l.check_out_time||""))})]})]})}),l.duration&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(As,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Duration"}),e.jsxs(f,{variant:"caption",className:"!text-gray-500",children:[l.duration," minutes"]})]})]})}),!l.visit_date&&!l.check_in_time&&e.jsxs("div",{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(As,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(f,{variant:"body2",children:"No timeline information available."})]})]})})]}),e.jsx("div",{className:"!flex-4 !space-y-4",children:e.jsx(p,{title:"Visit Information",icon:ws,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Visit ID"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:["#",l.id]})]}),l.visit_date&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Visit Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(typeof l.visit_date=="string"?l.visit_date:String(l.visit_date||""))})]}),l.visit_time&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Visit Time"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.visit_time})]}),l.purpose&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Purpose"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.purpose})]}),l.status&&e.jsxs("div",{className:"!space-y-0.5 flex flex-col items-start",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Status"}),e.jsx(Re,{label:d(l.status),size:"small",color:m(l.status)})]}),l.salesperson&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Sales Person"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.salesperson.name})]}),l.route&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Route"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.route.name}),l.route.code&&e.jsxs(f,{variant:"caption",className:"!text-gray-500",children:["Code: ",l.route.code]})]}),l.zone&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Zone"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.zone.name}),l.zone.code&&e.jsxs(f,{variant:"caption",className:"!text-gray-500",children:["Code: ",l.zone.code]})]}),l.orders_created!==null&&l.orders_created!==void 0&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Orders Created"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.orders_created})]}),l.amount_collected&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Amount Collected"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-primary-600",children:a(Number(l.amount_collected))})]}),l.next_visit_date&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Next Visit Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(typeof l.next_visit_date=="string"?l.next_visit_date:String(l.next_visit_date||""))})]}),l.createdate&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Created Date"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(typeof l.createdate=="string"?l.createdate:String(l.createdate||""))})]}),l.updatedate&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Last Updated"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:Fe(typeof l.updatedate=="string"?l.updatedate:String(l.updatedate||""))})]})]})})})]}),l.customer&&e.jsx(p,{title:"Customer Information",icon:Za,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 lg:!grid-cols-3 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Name"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.customer.name})]}),l.customer.code&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Code"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.customer.code})]}),l.customer.type&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Type"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.customer.type})]}),l.customer.contact_person&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Contact Person"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.customer.contact_person})]}),l.customer.phone_number&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Phone Number"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.customer.phone_number})]}),l.customer.email&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Email"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !break-all",children:l.customer.email})]}),(l.customer.city||l.customer.state)&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Location"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:[l.customer.city,l.customer.state,l.customer.zipcode].filter(Boolean).join(", ")||"N/A"})]}),l.customer.address&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2 lg:!col-span-3",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Address"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.customer.address})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Credit Limit"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:a(Number(l.customer.credit_limit))})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Outstanding Amount"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-red-600",children:a(Number(l.customer.outstanding_amount))})]}),e.jsxs("div",{className:"!space-y-0.5 flex flex-col items-start",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Status"}),e.jsx(Re,{label:l.customer.is_active==="Y"?"Active":"Inactive",size:"small",color:l.customer.is_active==="Y"?"success":"error"})]})]})}),(l.start_latitude||l.start_longitude||l.end_latitude||l.end_longitude)&&e.jsx(p,{title:"Location Details",icon:ta,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[(l.start_latitude||l.start_longitude)&&e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !mb-2",children:"Start Location"}),l.start_latitude&&e.jsxs(f,{variant:"caption",className:"!text-gray-600 !block",children:["Latitude: ",l.start_latitude]}),l.start_longitude&&e.jsxs(f,{variant:"caption",className:"!text-gray-600 !block",children:["Longitude: ",l.start_longitude]})]}),(l.end_latitude||l.end_longitude)&&e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900 !mb-2",children:"End Location"}),l.end_latitude&&e.jsxs(f,{variant:"caption",className:"!text-gray-600 !block",children:["Latitude: ",l.end_latitude]}),l.end_longitude&&e.jsxs(f,{variant:"caption",className:"!text-gray-600 !block",children:["Longitude: ",l.end_longitude]})]})]})}),(l.visit_notes||l.customer_feedback)&&e.jsx(p,{title:"Notes & Feedback",icon:_o,children:e.jsxs("div",{className:"!space-y-4",children:[l.visit_notes&&e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Visit Notes"}),e.jsx(f,{variant:"body2",className:"!text-gray-700 !bg-gray-50 !p-3 !rounded !border !border-gray-200",children:l.visit_notes})]}),l.customer_feedback&&e.jsxs("div",{children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Customer Feedback"}),e.jsx(f,{variant:"body2",className:"!text-gray-700 !bg-gray-50 !p-3 !rounded !border !border-gray-200",children:l.customer_feedback})]})]})}),e.jsx("div",{className:"!mt-4",children:e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:c,children:"Back to Visits"})})]})},TLe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState("all"),[o,l]=g.useState("all"),[c,m]=g.useState(1),[d]=g.useState(10),{isRead:p}=Ze("alert"),x=!1,j=[],_=j.filter(D=>D.type==="alert").length,S=j.filter(D=>D.type==="reminder").length,v=j.filter(D=>D.status==="active").length,y=j.filter(D=>D.priority==="high").length,N=D=>{switch(D?.toLowerCase()){case"active":return"success";case"completed":return"info";case"cancelled":return"error";default:return"default"}},C=D=>{switch(D?.toLowerCase()){case"high":return"error";case"medium":return"warning";case"low":return"info";default:return"default"}},P=D=>D==="alert"?e.jsx(ya,{className:"!w-4 !h-4 !text-red-500"}):e.jsx(xN,{className:"!w-4 !h-4 !text-blue-500"}),E=[{id:"type",label:"Type",render:(D,T)=>e.jsxs("div",{className:"!flex !items-center !gap-2",children:[P(T.type),e.jsx(f,{variant:"body2",className:"!capitalize",children:T.type})]})},{id:"title",label:"Title",render:(D,T)=>e.jsx(f,{variant:"body2",className:"!font-medium",children:T.title})},{id:"description",label:"Description",render:(D,T)=>e.jsx(f,{variant:"body2",className:"!max-w-md !truncate !text-gray-600",children:T.description})},{id:"category",label:"Category",render:(D,T)=>e.jsx(Re,{label:T.category,size:"small",className:"!capitalize"})},{id:"priority",label:"Priority",render:(D,T)=>e.jsx(Re,{label:T.priority,color:C(T.priority),size:"small",className:"!capitalize"})},{id:"status",label:"Status",render:(D,T)=>e.jsx(Re,{label:T.status,color:N(T.status),size:"small",className:"!capitalize"})},{id:"scheduled_date",label:"Scheduled Date",render:(D,T)=>T.scheduled_date?Xc(T.scheduled_date):"-"},{id:"trigger_date",label:"Trigger Date",render:(D,T)=>T.trigger_date?Xc(T.trigger_date):"-"},{id:"created_date",label:"Created Date",render:(D,T)=>Fe(T.created_date)}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs("div",{children:[e.jsx(f,{variant:"h5",className:"!font-bold !text-gray-900",children:"Alerts & Reminders"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Configure and manage system alerts and reminders for users and roles"})]})}),p&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Alerts",value:_,icon:e.jsx(ya,{className:"w-6 h-6"}),color:"red",isLoading:x}),e.jsx(fe,{title:"Total Reminders",value:S,icon:e.jsx(xN,{className:"w-6 h-6"}),color:"blue",isLoading:x}),e.jsx(fe,{title:"Active Alerts",value:v,icon:e.jsx(xN,{className:"w-6 h-6"}),color:"green",isLoading:x}),e.jsx(fe,{title:"High Priority",value:y,icon:e.jsx(ya,{className:"w-6 h-6"}),color:"orange",isLoading:x})]}),e.jsx(ct,{columns:E,data:j,loading:x,page:c-1,onPageChange:D=>m(D+1),rowsPerPage:d,isPermission:p,actions:p?e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsx("div",{className:"flex-1 min-w-[250px]",children:e.jsx(Jt,{placeholder:"Search Alerts & Reminders...",value:t,onChange:s,className:"min-w-[300px]"})}),e.jsx("div",{className:"w-[180px]",children:e.jsxs(Se,{label:"Type",value:a,onChange:D=>r(D.target.value),fullWidth:!0,disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Types"}),e.jsx(Z,{value:"alert",children:"Alerts"}),e.jsx(Z,{value:"reminder",children:"Reminders"})]})}),e.jsx("div",{className:"w-[180px]",children:e.jsxs(Se,{label:"Status",value:n,onChange:D=>i(D.target.value),fullWidth:!0,disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"completed",children:"Completed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]})}),e.jsx("div",{className:"w-[180px]",children:e.jsxs(Se,{label:"Priority",value:o,onChange:D=>l(D.target.value),fullWidth:!0,disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Priorities"}),e.jsx(Z,{value:"high",children:"High"}),e.jsx(Z,{value:"medium",children:"Medium"}),e.jsx(Z,{value:"low",children:"Low"})]})})]}):void 0})]})},k1={async getApprovalWorkflowSetups(t){const s={};t?.page&&(s.page=t.page),t?.size&&(s.size=t.size),t?.search&&(s.search=t.search),t?.request_type&&(s.request_type=t.request_type),t?.startDate&&(s.startDate=t.startDate),t?.endDate&&(s.endDate=t.endDate);const a=await ie.get("/approval-workflow-setup",{params:s});return{data:a.data.data||[],pagination:a.data.pagination||{currentPage:1,size:10,totalPages:0,totalCount:0},summary:a.data.summary||{total_workflows:0}}},async getApprovalWorkflowSetupById(t){return(await ie.get(`/approval-workflow-setup/${t}`)).data.data},async createApprovalWorkflowSetup(t){return(await ie.post("/approval-workflow-setup",t)).data.data},async updateApprovalWorkflowSetup(t,s){return(await ie.put(`/approval-workflow-setup/${t}`,s)).data.data},async deleteApprovalWorkflowSetupByRequestType(t){await ie.delete(`/approval-workflow-setup/${t}`)},async deleteApprovalWorkflowSetups(t){await ie.post("/approval-workflow-setup/delete-multiple",{ids:t})},async getApprovalWorkflowSetupsByRequest(t,s,a){const r={request_type:t};return s&&(r.zone_id=s),a&&(r.depot_id=a),(await ie.get("/approval-setup/get-all-workflow",{params:r})).data.data||[]},async getZonesWithWorkflows(t){return(await ie.get(`/zones-with-workflow-setup/${t}`)).data.data||[]},async getDepotsWithWorkflows(t){return(await ie.get(`/depots-with-workflow-setup/${t}`)).data.data||[]}},Rl={all:["approval-workflow-setup"],lists:()=>[...Rl.all,"list"],list:t=>[...Rl.lists(),t],details:()=>[...Rl.all,"detail"],detail:t=>[...Rl.details(),t],byRequest:(t,s,a)=>[...Rl.all,"by-request",t,s,a],zones:t=>[...Rl.all,"zones",t],depots:t=>[...Rl.all,"depots",t]},MLe=(t,s)=>st({queryKey:Rl.list(t),queryFn:()=>k1.getApprovalWorkflowSetups(t),staleTime:300*1e3,...s}),DLe=(t,s,a,r)=>st({queryKey:Rl.byRequest(t,s,a),queryFn:()=>k1.getApprovalWorkflowSetupsByRequest(t,s,a),enabled:!!t,staleTime:300*1e3,...r}),RLe=()=>Te({mutationFn:t=>k1.createApprovalWorkflowSetup(t),invalidateQueries:["approval-workflow-setup"],loadingMessage:"Creating approval workflow setup..."}),ALe=()=>Te({mutationFn:t=>k1.deleteApprovalWorkflowSetupByRequestType(t),invalidateQueries:["approval-workflow-setup"],loadingMessage:"Deleting approval workflow setup..."}),ILe=t=>t.split(" ").map(s=>s[0]).join("").slice(0,2).toUpperCase(),OLe=t=>{const s=["!bg-blue-500","!bg-green-500","!bg-orange-500","!bg-teal-500","!bg-red-500","!bg-purple-500","!bg-pink-500","!bg-indigo-500"],a=t.charCodeAt(0)%s.length;return s[a]},FLe=t=>t?t.startsWith("EMP-")?t:`EMP-${t.padStart(3,"0")}`:"",LLe=({requestType:t,drawerOpen:s,setDrawerOpen:a})=>{const[r,n]=g.useState([]),[i,o]=g.useState(null),[l,c]=g.useState(null),[m,d]=g.useState(""),{data:p}=DLe(t||"",i??void 0,l??void 0),{data:x}=ul({isActive:"Y"}),{data:j}=_i({isActive:"Y"}),{data:_}=sS(),{data:S}=Gn({page:1,limit:1e3,search:m,isActive:"Y"}),v=RLe(),y=x?.data||[],N=j?.data||[],C=_?.data||[],P=S?.data||[],E=g.useMemo(()=>{if(!P)return[];const z=r.map(O=>O.approver_id)||[];return P.filter(O=>!z.includes(O.id)).filter(O=>O.name?.toLowerCase().includes(m?.toLowerCase()||"")).map(O=>({id:O.id,name:O.name,role:O.role?.name||"General",profile_pic:O.profile_image||"",employee_code:O.employee_id||"",department:O.role?.name||""}))},[P,r,m]),D=g.useMemo(()=>r.map(z=>{const O=P.find(K=>K.id===z.approver_id);return{...z,user:O}}),[r,P]),T=pt({initialValues:{request_type:t||"",zone_id:"",depot_id:""},validationSchema:nt({request_type:ce().required("Request type is required")}),enableReinitialize:!0,onSubmit:async z=>{if(!z.request_type)return;const O=r.map((K,W)=>({request_type:z.request_type,sequence:W+1,approver_id:K.approver_id,zone_id:z.zone_id?Number(z.zone_id):null,depot_id:z.depot_id?Number(z.depot_id):null,is_active:K.is_active||"Y"}));if(O.length===0){alert("Please assign at least one approver");return}try{await v.mutateAsync(O),A()}catch(K){console.error("Error creating approval setup:",K)}}});console.log("requestType",r);const A=()=>{a(!1),T.resetForm(),n([]),o(null),c(null),d("")};g.useEffect(()=>{p&&p.length>0?n(p.map(z=>({...z,isNew:!1}))):n([])},[p]);const I=z=>{const{destination:O,source:K,draggableId:W}=z;if(O&&!(O.droppableId===K.droppableId&&O.index===K.index)){if(K.droppableId==="available-users"&&O.droppableId==="assigned-users"){const B=E.find(q=>q.id.toString()===W);if(B){const q=P.find(H=>H.id===B.id);if(q){const H={id:0,request_type:T.values.request_type,sequence:O.index+1,approver_id:q.id,zone_id:T.values.zone_id?Number(T.values.zone_id):null,depot_id:T.values.depot_id?Number(T.values.depot_id):null,is_active:"Y",createdate:null,createdby:null,updatedate:null,updatedby:null,log_inst:null,isNew:!0,tempId:`temp-${Date.now()}-${Math.random()}`,user:q},Q=Array.from(r);Q.splice(O.index,0,H),n(Q.map((V,M)=>({...V,sequence:M+1})))}}}else if(K.droppableId==="assigned-users"&&O.droppableId==="available-users"){const B=parseInt(W);n(q=>q.filter(H=>H.approver_id!==B))}else if(K.droppableId==="assigned-users"&&O.droppableId==="assigned-users"){const B=Array.from(r),[q]=B.splice(K.index,1);B.splice(O.index,0,q),n(B.map((H,Q)=>({...H,sequence:Q+1})))}}},F=({user:z,showSequence:O})=>e.jsxs("div",{className:lr("!flex !items-center !gap-3 !p-2 !pr-3 !bg-white !border !border-gray-200 !rounded-lg !mb-2",{"hover:!border-blue-300 hover:!shadow-md":!0}),children:[e.jsx(qv,{className:"!w-5 !h-5 !text-gray-400 !cursor-grab !flex-shrink-0"}),e.jsx(ot,{alt:z.name,src:z.profile_pic||z.profile_image||void 0,className:lr("!w-10 !h-10 !flex-shrink-0 !text-white !font-medium",OLe(z.name)),children:ILe(z.name)}),e.jsxs(b,{className:"!flex-1 !min-w-0",children:[e.jsxs(f,{variant:"body2",className:"!font-medium !text-gray-900",children:[z.name," ",z.employee_code&&`(${FLe(z.employee_code)})`]}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:z.department||(typeof z.role=="string"?z.role:z.role?.name)||"No Role"})]}),O!==void 0&&e.jsx(b,{className:"!flex-shrink-0 !flex !items-center !justify-center !w-6 !h-6 !rounded-full !bg-primary-500 !text-white !text-xs !font-semibold",children:O})]});return e.jsx(it,{open:s,setOpen:A,title:t?`Manage Approval Setup - ${t.replace(/_/g," ")}`:"Create Approval Setup",size:"large",children:e.jsx(b,{className:"!p-4 select-none",children:e.jsxs("form",{onSubmit:T.handleSubmit,children:[e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 lg:!grid-cols-3 !gap-6",children:[e.jsxs(Se,{name:"request_type",label:"Request Type",formik:T,required:!0,disabled:!!t,children:[e.jsx(Z,{value:"",children:"Select Request Type"}),C.map(z=>e.jsx(Z,{value:z.value,children:z.label},z.value))]}),e.jsxs(Se,{name:"zone_id",label:"Zone (Optional)",formik:T,onChange:z=>{T.setFieldValue("zone_id",z.target.value),o(z.target.value?Number(z.target.value):null)},children:[e.jsx(Z,{value:"",children:"All Zones (Global)"}),y.map(z=>e.jsx(Z,{value:z.id||"",children:z.name},z.id||"global"))]}),e.jsxs(Se,{name:"depot_id",label:"Depot (Optional)",formik:T,onChange:z=>{T.setFieldValue("depot_id",z.target.value),c(z.target.value?Number(z.target.value):null)},children:[e.jsx(Z,{value:"",children:"All Depots (Global)"}),N.map(z=>e.jsx(Z,{value:z.id||"",children:z.name},z.id||"global"))]})]}),e.jsxs(b,{children:[e.jsx("p",{className:"!font-semibold !my-3",children:"Assign Approvers"}),e.jsx(_1,{onDragEnd:I,children:e.jsxs("div",{className:"!grid !grid-cols-2 !gap-4 !h-[500px]",children:[e.jsxs(b,{className:"!border !border-gray-200 !rounded-t-lg !flex !flex-col !overflow-hidden",children:[e.jsxs(b,{className:"!p-2 !border-b !border-gray-200 !bg-gray-50",children:[e.jsxs(f,{variant:"subtitle1",className:"!font-semibold !text-blue-600",children:["Available Users (",E.length,")"]}),e.jsx("p",{className:"!text-gray-500 !text-xs !block !mt-1",children:"Drag users from the left panel to assign"})]}),e.jsx(b,{className:"!flex-1 !overflow-hidden",children:e.jsx(sd,{droppableId:"available-users",children:(z,O)=>e.jsxs("div",{...z.droppableProps,ref:z.innerRef,className:lr("!h-full !p-2 !overflow-y-auto",{"!bg-blue-50":O.isDraggingOver}),style:{transition:"background-color 0.2s ease"},children:[E.length>0?E.map((K,W)=>e.jsx(td,{draggableId:K.id.toString(),index:W,children:B=>e.jsx("div",{ref:B.innerRef,...B.draggableProps,...B.dragHandleProps,style:{...B.draggableProps.style},children:e.jsx(F,{user:K})})},K.id)):e.jsxs(b,{className:"!p-8 !text-center !h-full !flex !flex-col !justify-center !items-center",children:[e.jsx(aa,{className:"!w-12 !h-12 !text-gray-300 !mb-2"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:m?"No users found":"All users are assigned"})]}),z.placeholder]})})})]}),e.jsxs(b,{className:"!border !border-gray-200 !rounded-t-lg !flex !flex-col !overflow-hidden",children:[e.jsxs(b,{className:"!p-2 !border-b !border-gray-200 !bg-gray-50",children:[e.jsxs(f,{variant:"subtitle1",className:"!font-semibold !text-green-600",children:["Assigned Users (",r.length,")"]}),e.jsx("p",{className:"!text-gray-500 !text-xs !block !mt-1",children:"Drag users from the right panel to reorder"})]}),e.jsx(b,{className:"!flex-1 !overflow-hidden",children:e.jsx(sd,{droppableId:"assigned-users",children:(z,O)=>e.jsxs("div",{...z.droppableProps,ref:z.innerRef,className:lr("!h-full !p-2 !overflow-y-auto",{"!bg-green-50":O.isDraggingOver}),style:{transition:"background-color 0.2s ease"},children:[r.length>0?D.filter(K=>K.user!==void 0).map((K,W)=>e.jsx(td,{draggableId:K.approver_id.toString(),index:W,children:B=>e.jsx("div",{ref:B.innerRef,...B.draggableProps,...B.dragHandleProps,style:{...B.draggableProps.style},children:e.jsx(F,{user:{...K.user,employee_code:K.user.employee_id,department:K.user.role?.name||K.user.role||"No Role",role:typeof K.user.role=="string"?K.user.role:K.user.role?.name||"No Role"},showSequence:K.sequence})})},K.tempId||K.id||W)):e.jsxs(b,{className:"!p-8 !text-center !h-full !flex !flex-col !justify-center !items-center",children:[e.jsx(bA,{className:"!w-12 !h-12 !text-gray-300 !mb-2"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No assigned users"}),e.jsx(f,{variant:"caption",className:"!text-gray-400 !block !mt-1",children:"Drag users from the left panel to assign"})]}),z.placeholder]})})})]})]})})]}),e.jsxs(b,{className:"!flex !justify-end !gap-3 !pt-4",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:A,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",color:"primary",loading:v.isPending,loadingText:"Saving...",children:"Create"})]})]})})})},$Le=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState("all"),[o,l]=g.useState(1),[c]=g.useState(10),[m,d]=g.useState(null),[p,x]=g.useState(!1),{isCreate:j,isRead:_,isUpdate:S,isDelete:v}=Ze("approval"),{data:y}=sS(),{data:N,isLoading:C,error:P}=MLe({page:o,size:c,search:t,request_type:n!=="all"?n:void 0},{enabled:_}),E=N?.data||[],D=N?.pagination,T=y?.data||[],A=D?.totalCount||E.length,I=E.filter(Y=>Y.is_active==="Y").length,F=E.filter(Y=>Y.is_active==="N").length,z=E.reduce((Y,J)=>Y+(J.no_of_approvers||0),0),O=E.filter(Y=>a==="all"?!0:a==="active"?Y.is_active==="Y":a==="inactive"?Y.is_active==="N":!0),K=ALe(),W=Y=>{d(Y),x(!0)},B=g.useCallback(async Y=>{try{await K.mutateAsync(Y)}catch(J){console.error("Error deleting approval setup:",J)}},[K]),q=()=>{d(null),x(!0)},H=Y=>{x(Y),Y||d(null)},Q=g.useCallback(Y=>{s(Y),l(1)},[]),V=g.useCallback(Y=>{r(Y),l(1)},[]),M=g.useCallback(Y=>{i(Y),l(1)},[]),R=Y=>{l(Y+1)},$=[{id:"request_type",label:"Request Type",render:(Y,J)=>e.jsx(f,{variant:"body2",className:"!font-medium !capitalize",children:J.request_type.replace(/_/g," ")})},{id:"zones",label:"Zones",render:(Y,J)=>e.jsxs("div",{className:"!flex !flex-wrap !gap-1",children:[J.zones.slice(0,2).map((te,ee)=>e.jsx(Re,{label:te.name,size:"small",variant:"outlined",className:"!text-xs"},ee)),J.zones.length>2&&e.jsx(Re,{label:`+${J.zones.length-2} more`,size:"small",variant:"outlined",className:"!text-xs"})]})},{id:"depots",label:"Depots",render:(Y,J)=>e.jsxs("div",{className:"!flex !flex-wrap !gap-1",children:[J.depots.slice(0,2).map((te,ee)=>e.jsx(Re,{label:te.name,size:"small",variant:"outlined",className:"!text-xs"},ee)),J.depots.length>2&&e.jsx(Re,{label:`+${J.depots.length-2} more`,size:"small",variant:"outlined",className:"!text-xs"})]})},{id:"no_of_approvers",label:"Approvers",render:(Y,J)=>e.jsx(f,{variant:"body2",children:J.no_of_approvers})},{id:"is_active",label:"Status",render:(Y,J)=>e.jsx(Re,{variant:"outlined",icon:J.is_active==="Y"?e.jsx(No,{fontSize:"small"}):e.jsx(ya,{fontSize:"small"}),label:J.is_active==="Y"?"Active":"Inactive",color:J.is_active==="Y"?"success":"error",size:"small"})},...S||v?[{id:"actions",label:"Actions",sortable:!1,render:(Y,J)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[S&&e.jsx(ss,{onClick:()=>W(J.request_type),tooltip:`Manage ${J.request_type.replace(/_/g," ")}`}),v&&e.jsx(Ht,{onClick:()=>B(J.request_type),tooltip:`Delete ${J.request_type.replace(/_/g," ")}`,itemName:J.request_type.replace(/_/g," "),confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs("div",{children:[e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:"Approval Setup"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Configure approval workflows for different request types"})]})}),_&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Workflows",value:A,icon:e.jsx(Cg,{className:"w-6 h-6"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Active Workflows",value:I,icon:e.jsx(Da,{className:"w-6 h-6"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Inactive Workflows",value:F,icon:e.jsx(ya,{className:"w-6 h-6"}),color:"red",isLoading:C}),e.jsx(fe,{title:"Total Approvers",value:z,icon:e.jsx(aa,{className:"w-6 h-6"}),color:"purple",isLoading:C})]}),P&&_&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load approval workflows. Please try again."}),e.jsx(ct,{data:O,columns:$,actions:_||j?e.jsxs("div",{className:"flex justify-between gap-3 items-center flex-wrap",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-3",children:_&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search by request type...",value:t,onChange:Q,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:Y=>V(Y.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(Se,{value:n,onChange:Y=>M(Y.target.value),className:"!w-64",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Request Types"}),T.map(Y=>e.jsx(Z,{value:Y.value,children:Y.label},Y.value))]})]})}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:q,children:"Create"})]}):void 0,getRowId:Y=>Y.request_type,initialOrderBy:"request_type",loading:C,totalCount:a!=="all"?O.length:D?.totalCount||0,page:o-1,rowsPerPage:c,isPermission:_,onPageChange:R,emptyMessage:t||a!=="all"||n!=="all"?"No workflows found matching your filters":"No approval workflows found in the system"}),e.jsx(LLe,{requestType:m,drawerOpen:p,setDrawerOpen:H})]})},zLe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState("all"),[o,l]=g.useState(1),[c]=g.useState(6),[m,d]=g.useState(!1),[p,x]=g.useState("approve"),[j,_]=g.useState(null),{isRead:S,isUpdate:v}=Ze("approval"),{data:y,isLoading:N}=mce({page:o,limit:c,search:t,status:a!=="all"?a:void 0,request_type:n!=="all"?n:void 0},{enabled:S}),{data:C}=sS(),P=y?.data||[],E=y?.pagination,D=y?.stats,T=C?.data||[],A=tS(),I=pt({initialValues:{remarks:""},validationSchema:nt({remarks:ce().required(`${p==="approve"?"Approval":"Rejection"} remarks are required`).trim().min(1,`${p==="approve"?"Approval":"Rejection"} remarks are required`)}),enableReinitialize:!0,onSubmit:async Q=>{if(!(!j||!j.approvals?.[0]))try{await A.mutateAsync({request_id:j.id,approval_id:j.approvals[0].id,action:p==="approve"?"A":"R",remarks:Q.remarks.trim()}),I.resetForm(),d(!1),_(null)}catch(V){console.error("Error taking action on request:",V)}}}),F=Q=>{_(Q),x("approve"),d(!0)},z=Q=>{_(Q),x("reject"),d(!0)},O=()=>{I.resetForm(),d(!1),_(null)},K=Q=>Q.replace(/_/g," ").replace(/\w\S*/g,V=>V.charAt(0).toUpperCase()+V.substr(1)),W=Q=>Q.reference_details?.order_number?Q.reference_details.order_number:Q.reference_id?`#${Q.reference_id}`:`REQ-${Q.id}`,B=Q=>{if(!Q)return"default";switch(Q.toUpperCase()){case"A":case"APPROVED":return"success";case"R":case"REJECTED":return"error";case"P":case"PENDING":return"warning";default:return"default"}},q=Q=>{if(!Q)return"N/A";switch(Q.toUpperCase()){case"A":case"APPROVED":return"Approved";case"R":case"REJECTED":return"Rejected";case"P":case"PENDING":return"Pending";default:return Q}},H=[{id:"reference",label:"Reference",render:(Q,V)=>e.jsx(f,{variant:"body2",className:"!font-medium",children:W(V)})},{id:"request_type",label:"Request Type",render:(Q,V)=>e.jsx(Re,{label:K(V.request_type),size:"small",className:"!capitalize"})},{id:"requester",label:"Requested By",render:(Q,V)=>V.requester?.name||`User #${V.requester_id}`},{id:"status",label:"Status",render:(Q,V)=>{const M=V.approvals?.[0]?.status||V.status;return e.jsx(Re,{label:q(M),color:B(M),size:"small",className:"!capitalize"})}},{id:"createdate",label:"Request Date",render:(Q,V)=>Fe(V.createdate instanceof Date?V.createdate.toISOString():String(V.createdate||""))||"N/A"},...v?[{id:"actions",label:"Actions",sortable:!1,render:(Q,V)=>{const M=V.approvals?.[0]?.status||V.status;return e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[e.jsx(Ua,{onClick:()=>F(V),tooltip:"Approve request",icon:e.jsx(No,{className:"!w-4 !h-4"}),color:"success",disabled:M?.toUpperCase()!=="P"||A.isPending}),e.jsx(Ua,{onClick:()=>z(V),tooltip:"Reject request",icon:e.jsx(Kr,{className:"!w-4 !h-4"}),color:"error",disabled:M?.toUpperCase()!=="P"||A.isPending})]})}}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs("div",{children:[e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:"Approval Requests"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Manage and track approval requests for various business processes"})]})}),S&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Requests",value:D?.total_requests||0,icon:e.jsx(ks,{className:"w-6 h-6"}),color:"blue",isLoading:N}),e.jsx(fe,{title:"Pending Requests",value:D?.pending_requests||0,icon:e.jsx(ia,{className:"w-6 h-6"}),color:"orange",isLoading:N}),e.jsx(fe,{title:"Approved Requests",value:D?.approved_requests||0,icon:e.jsx(Da,{className:"w-6 h-6"}),color:"green",isLoading:N}),e.jsx(fe,{title:"Rejected Requests",value:D?.rejected_requests||0,icon:e.jsx(ya,{className:"w-6 h-6"}),color:"red",isLoading:N})]}),e.jsx(ct,{columns:H,data:P,loading:N,page:o-1,onPageChange:Q=>l(Q+1),rowsPerPage:c,totalCount:E?.total_count||0,isPermission:S,actions:S?e.jsx("div",{className:"flex justify-between gap-3 items-center flex-wrap",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(Jt,{placeholder:"Search requests...",value:t,onChange:s,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:a,onChange:Q=>r(Q.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"P",children:"Pending"}),e.jsx(Z,{value:"A",children:"Approved"}),e.jsx(Z,{value:"R",children:"Rejected"})]}),e.jsxs(Se,{value:n,onChange:Q=>i(Q.target.value),className:"!w-48",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Types"}),T.map(Q=>e.jsx(Z,{value:Q.value,children:Q.label},Q.value))]})]})}):void 0,emptyMessage:t?`No requests found matching "${t}"`:"No approval requests found"}),e.jsxs(ol,{open:m,onClose:O,maxWidth:"sm",fullWidth:!0,className:"!rounded-lg",children:[e.jsxs(gg,{className:"!flex !items-center !gap-3 !pb-4 !border-b !border-gray-200 !relative",children:[e.jsx("div",{className:`!w-12 !h-12 !rounded-full !flex !items-center !justify-center !shrink-0 ${p==="approve"?"!bg-green-100":"!bg-red-100"}`,children:p==="approve"?e.jsx(No,{className:"!w-6 !h-6 !text-green-600"}):e.jsx(Kr,{className:"!w-6 !h-6 !text-red-600"})}),e.jsxs("div",{className:"!flex-1",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900",children:p==="approve"?"Approve Request?":"Reject Request?"}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mt-1",children:p==="approve"?e.jsxs(e.Fragment,{children:["Are you sure you want to approve this"," ",j?.request_type?.replaceAll("_"," ").toLowerCase()||"request"," ","from"," ",e.jsx("span",{className:"!font-semibold !text-gray-900",children:j?.requester?.name||"User"}),"?"]}):e.jsxs(e.Fragment,{children:["Are you sure you want to reject this"," ",j?.request_type?.toLowerCase()||"request"," ","from"," ",e.jsx("span",{className:"!font-semibold !text-gray-900",children:j?.requester?.name||"User"}),"?"]})})]}),e.jsx(Ws,{onClick:O,className:"!absolute !top-2 !right-2 !bg-white !rounded-full !shadow-md hover:!bg-gray-100 !border !border-gray-200",size:"small",children:e.jsx(Kr,{className:"!w-4 !h-4 !text-gray-600"})})]}),e.jsxs(Pp,{className:"!p-4",children:[j&&e.jsxs("div",{className:"!mb-4 !pb-4 !border-b !border-gray-200",children:[e.jsx(f,{variant:"subtitle2",className:"!font-semibold !text-gray-700 !mb-3",children:"Request Details"}),j.reference_details?e.jsx("div",{className:"!bg-gray-50 !rounded-md !p-4 !border !border-gray-200",children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[j.reference_details.order_number&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Order Number"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:j.reference_details.order_number})]}),j.reference_details.customer_name&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Customer Name"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:j.reference_details.customer_name})]}),j.reference_details.total_amount&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Total Amount"}),e.jsx(f,{variant:"body2",className:"!font-semibold !text-primary-600",children:j.reference_details.total_amount})]}),j.reference_id&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Reference ID"}),e.jsxs(f,{variant:"body2",className:"!font-semibold !text-gray-900",children:["#",j.reference_id]})]})]})}):e.jsx("div",{className:"!bg-gray-50 !rounded-md !p-4 !border !border-gray-200",children:e.jsx(f,{variant:"body2",className:"!text-gray-600 !text-center",children:"No request details available"})})]}),e.jsx(oe,{name:"remarks",multiline:!0,rows:3,label:p==="approve"?"Approval Remarks":"Rejection Remarks",placeholder:p==="approve"?"Enter approval remarks...":"Enter rejection remarks...",formik:I,required:!0})]}),e.jsxs(Cp,{className:"!px-6 !py-4 !gap-2",children:[e.jsx(G,{variant:"outlined",onClick:O,children:"Cancel"}),e.jsx(G,{variant:"contained",color:p==="approve"?"success":"error",startIcon:p==="approve"?e.jsx(No,{className:"!w-4 !h-4"}):e.jsx(Kr,{className:"!w-4 !h-4"}),onClick:()=>I.handleSubmit(),disabled:A.isPending||!I.isValid||!I.values.remarks.trim(),children:A.isPending?p==="approve"?"Approving...":"Rejecting...":p==="approve"?"Yes, Approve":"Yes, Reject"})]})]})]})},qLe=()=>{const[t,s]=g.useState(""),[a,r]=g.useState("all"),[n,i]=g.useState("all"),[o,l]=g.useState(1),[c]=g.useState(10),{isRead:m}=Ze("exception"),d=!1,p=[],x=p.length,j=p.filter(C=>C.status==="open").length,_=p.filter(C=>C.status==="resolved").length,S=p.filter(C=>C.severity==="critical").length,v=C=>{switch(C?.toLowerCase()){case"resolved":return"success";case"open":return"error";case"in_progress":return"warning";default:return"default"}},y=C=>{switch(C?.toLowerCase()){case"critical":return"error";case"high":return"warning";case"medium":return"info";case"low":return"default";default:return"default"}},N=[{id:"route_name",label:"Route",render:(C,P)=>e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Hn,{className:"!w-4 !h-4 !text-gray-400"}),e.jsx(f,{variant:"body2",children:P.route_name||`Route #${P.route_id}`})]})},{id:"exception_type",label:"Exception Type",render:(C,P)=>e.jsx(Re,{label:P.exception_type,size:"small",className:"!capitalize"})},{id:"description",label:"Description",render:(C,P)=>e.jsx(f,{variant:"body2",className:"!max-w-md !truncate",children:P.description})},{id:"severity",label:"Severity",render:(C,P)=>e.jsx(Re,{label:P.severity,color:y(P.severity),size:"small",className:"!capitalize"})},{id:"status",label:"Status",render:(C,P)=>e.jsx(Re,{label:P.status,color:v(P.status),size:"small",className:"!capitalize"})},{id:"reported_by",label:"Reported By",render:(C,P)=>P.reported_by_user?.name||`User #${P.reported_by}`},{id:"reported_date",label:"Reported Date",render:(C,P)=>Fe(P.reported_date)},{id:"resolved_date",label:"Resolved Date",render:(C,P)=>P.resolved_date?Fe(P.resolved_date):"-"}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs("div",{children:[e.jsx(f,{variant:"h5",className:"!font-bold !text-gray-900",children:"Route Exceptions"}),e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"Monitor and manage exceptions reported for delivery routes"})]})}),m&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Exceptions",value:x,icon:e.jsx(ia,{className:"w-6 h-6"}),color:"blue",isLoading:d}),e.jsx(fe,{title:"Open Exceptions",value:j,icon:e.jsx(ia,{className:"w-6 h-6"}),color:"red",isLoading:d}),e.jsx(fe,{title:"Resolved Exceptions",value:_,icon:e.jsx(Hn,{className:"w-6 h-6"}),color:"green",isLoading:d}),e.jsx(fe,{title:"Critical Exceptions",value:S,icon:e.jsx(ia,{className:"w-6 h-6"}),color:"orange",isLoading:d})]}),e.jsx(ct,{columns:N,data:p,loading:d,page:o-1,onPageChange:C=>l(C+1),rowsPerPage:c,isPermission:m,actions:m?e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Jt,{placeholder:"Search Route Exceptions...",value:t,className:"!w-64",onChange:s,debounceMs:1e3})}),e.jsx("div",{className:"w-[180px]",children:e.jsxs(Se,{value:a,onChange:C=>r(C.target.value),fullWidth:!0,disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"open",children:"Open"}),e.jsx(Z,{value:"in_progress",children:"In Progress"}),e.jsx(Z,{value:"resolved",children:"Resolved"})]})}),e.jsx("div",{className:"w-[180px]",children:e.jsxs(Se,{value:n,onChange:C=>i(C.target.value),fullWidth:!0,disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Severities"}),e.jsx(Z,{value:"critical",children:"Critical"}),e.jsx(Z,{value:"high",children:"High"}),e.jsx(Z,{value:"medium",children:"Medium"}),e.jsx(Z,{value:"low",children:"Low"})]})})]}):void 0})]})},BLe=nt({name:ce().required("Company name is required"),address:ce(),city:ce(),state:ce(),country:ce(),zipcode:ce(),phone_number:ce(),email:ce().email("Invalid email address"),website:ce().url("Invalid URL"),smtp_host:ce(),smtp_port:Ye().nullable(),smtp_username:ce(),smtp_password:ce(),smtp_mail_from_name:ce(),smtp_mail_from_address:ce().email("Invalid from email address"),currency_id:Ye().nullable()}),ULe=()=>{const{data:t,isLoading:s}=ku(),a=zye(),{data:r}=ec({status:"active",page:1}),[n,i]=g.useState(null),[o,l]=g.useState(null),c=t?.data,m=r?.data||[],d=pt({initialValues:{name:c?.name||"",address:c?.address||"",city:c?.city||"",state:c?.state||"",country:c?.country||"",zipcode:c?.zipcode||"",phone_number:c?.phone_number||"",email:c?.email||"",website:c?.website||"",is_active:c?.is_active||"Y",smtp_mail_from_name:c?.smtp_mail_from_name||"",smtp_mail_from_address:c?.smtp_mail_from_address||"",smtp_host:c?.smtp_host||"",smtp_port:c?.smtp_port||null,smtp_username:c?.smtp_username||"",smtp_password:c?.smtp_password||"",currency_id:c?.currency_id||null},validationSchema:BLe,enableReinitialize:!0,onSubmit:async j=>{try{if(!c?.id)return;const _=new FormData;_.append("name",j.name),_.append("address",j.address||""),_.append("city",j.city||""),_.append("state",j.state||""),_.append("country",j.country||""),_.append("zipcode",j.zipcode||""),_.append("phone_number",j.phone_number||""),_.append("email",j.email||""),_.append("website",j.website||""),_.append("is_active",j.is_active),_.append("smtp_mail_from_name",j.smtp_mail_from_name||""),_.append("smtp_mail_from_address",j.smtp_mail_from_address||""),_.append("smtp_host",j.smtp_host||""),_.append("smtp_port",j.smtp_port?j.smtp_port.toString():""),_.append("smtp_username",j.smtp_username||""),_.append("smtp_password",j.smtp_password||""),_.append("currency_id",j.currency_id?j.currency_id.toString():""),n&&_.append("logo",n),await a.mutateAsync({id:c.id,settingsData:_}),i(null),l(null)}catch(_){console.error("Error updating settings:",_)}}}),p=j=>{const _=j.target.files?.[0];if(_){i(_);const S=new FileReader;S.onloadend=()=>{l(S.result)},S.readAsDataURL(_)}},x=()=>{i(null),l(null)};return s?e.jsxs(b,{children:[e.jsxs(b,{className:"mb-2",children:[e.jsx(X,{variant:"text",width:200,height:32,className:"!mb-1"}),e.jsx(X,{variant:"text",width:400,height:20})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[e.jsxs(b,{className:"flex items-center gap-2 mb-4",children:[e.jsx(X,{variant:"circular",width:20,height:20}),e.jsx(X,{variant:"text",width:180,height:24})]}),e.jsx(or,{className:"!mb-6"}),e.jsxs(b,{className:"mb-6",children:[e.jsx(X,{variant:"text",width:120,height:16,className:"!mb-4"}),e.jsxs(b,{className:"flex items-center gap-4",children:[e.jsx(X,{variant:"circular",width:96,height:96,className:"!bg-gray-200"}),e.jsxs(b,{children:[e.jsx(X,{variant:"rectangular",width:140,height:36}),e.jsx(X,{variant:"text",width:200,height:14,className:"!mt-2"})]})]})]}),e.jsx(b,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4,5,6,7,8,9,10,11].map(j=>e.jsxs(b,{className:"space-y-2",children:[e.jsx(X,{variant:"text",width:"40%",height:14}),e.jsx(X,{variant:"rectangular",width:"100%",height:56})]},j))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[e.jsxs(b,{className:"flex items-center gap-2 mb-4",children:[e.jsx(X,{variant:"circular",width:20,height:20}),e.jsx(X,{variant:"text",width:180,height:24})]}),e.jsx(or,{className:"!mb-6"}),e.jsx(b,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4].map(j=>e.jsxs(b,{className:"space-y-2",children:[e.jsx(X,{variant:"text",width:"40%",height:14}),e.jsx(X,{variant:"rectangular",width:"100%",height:56})]},j))})]}),e.jsxs(b,{className:"flex justify-end gap-3",children:[e.jsx(X,{variant:"rectangular",width:100,height:36}),e.jsx(X,{variant:"rectangular",width:140,height:36})]})]}):c?e.jsxs(b,{children:[e.jsxs(b,{className:"mb-2",children:[e.jsx(f,{variant:"h5",className:"!font-semibold !text-gray-900",children:"System Settings"}),e.jsx(f,{variant:"body2",className:"!text-gray-600 !mt-1",children:"Manage your company settings and configuration"})]}),e.jsxs(b,{component:"form",onSubmit:d.handleSubmit,children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[e.jsxs(b,{className:"flex items-center gap-2 mb-4",children:[e.jsx(Pn,{className:"w-5 h-5 text-primary-600"}),e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Company Information"})]}),e.jsx(or,{className:"!mb-6"}),e.jsxs(b,{className:"mb-6",children:[e.jsx(f,{variant:"body2",className:"!font-medium !text-gray-700 !mb-4",children:"Company Logo"}),e.jsxs(b,{className:"flex items-center gap-4",children:[e.jsx(ot,{src:o||c.logo||void 0,alt:c.name,className:"!w-24 !h-24 !bg-primary-100",children:e.jsx(Pn,{className:"w-12 h-12 text-primary-600"})}),e.jsxs(b,{children:[e.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:p}),e.jsx("label",{htmlFor:"logo-upload",children:e.jsx(G,{variant:"outlined",component:"span",startIcon:e.jsx(mle,{className:"w-4 h-4"}),size:"small",children:n?"Change Logo":"Upload Logo"})}),n&&e.jsx(Ws,{size:"small",onClick:x,className:"!ml-2",children:e.jsx(Kr,{className:"w-4 h-4"})}),e.jsx(f,{variant:"caption",className:"!block !mt-2 !text-gray-500",children:"JPG, PNG or GIF. Max size of 10MB"})]})]})]}),e.jsxs(b,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(oe,{name:"name",formik:d,label:"Company Name",placeholder:"Enter company name",required:!0,fullWidth:!0}),e.jsx(oe,{name:"code",label:"Company Code",value:c.code,disabled:!0,fullWidth:!0}),e.jsx(oe,{name:"address",formik:d,label:"Address",placeholder:"Enter address",fullWidth:!0,className:"md:col-span-2"}),e.jsx(oe,{name:"city",formik:d,label:"City",placeholder:"Enter city",fullWidth:!0}),e.jsx(oe,{name:"state",formik:d,label:"State",placeholder:"Enter state",fullWidth:!0}),e.jsx(oe,{name:"country",formik:d,label:"Country",placeholder:"Enter country",fullWidth:!0}),e.jsx(oe,{name:"zipcode",formik:d,label:"Zip Code",placeholder:"Enter zip code",fullWidth:!0}),e.jsx(oe,{name:"phone_number",formik:d,label:"Phone Number",placeholder:"Enter phone number",fullWidth:!0}),e.jsx(oe,{name:"email",formik:d,label:"Email",placeholder:"Enter email address",type:"email",fullWidth:!0}),e.jsx(oe,{name:"website",formik:d,label:"Website",placeholder:"https://example.com",fullWidth:!0}),e.jsxs(Se,{name:"currency_id",formik:d,label:"Currency",fullWidth:!0,children:[e.jsx(Z,{value:"",children:"Select Currency"}),m.map(j=>e.jsxs(Z,{value:j.id,children:[j.code," - ",j.name]},j.id))]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[e.jsxs(b,{className:"flex items-center gap-2 mb-4",children:[e.jsx(Cg,{className:"w-5 h-5 text-primary-600"}),e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900",children:"SMTP Configuration"})]}),e.jsx(or,{className:"!mb-6"}),e.jsxs(b,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(oe,{name:"smtp_mail_from_name",formik:d,label:"From Name",placeholder:"Company Name",fullWidth:!0}),e.jsx(oe,{name:"smtp_mail_from_address",formik:d,label:"From Email",placeholder:"noreply@company.com",type:"email",fullWidth:!0}),e.jsx(oe,{name:"smtp_host",formik:d,label:"SMTP Host",placeholder:"smtp.example.com",fullWidth:!0}),e.jsx(oe,{name:"smtp_port",formik:d,label:"SMTP Port",placeholder:"587",type:"number",fullWidth:!0}),e.jsx(oe,{name:"smtp_username",formik:d,label:"SMTP Username",placeholder:"Enter SMTP username",fullWidth:!0}),e.jsx(oe,{name:"smtp_password",formik:d,label:"SMTP Password",placeholder:"Enter SMTP password",type:"password",autoComplete:"new-password",fullWidth:!0})]})]}),e.jsxs(b,{className:"flex justify-end gap-3",children:[e.jsx(G,{variant:"outlined",onClick:()=>{d.resetForm(),i(null),l(null)},children:"Reset"}),e.jsx(G,{type:"submit",variant:"contained",loading:a.isPending,startIcon:e.jsx(Da,{className:"w-4 h-4"}),children:"Save Settings"})]})]})]}):e.jsx(b,{children:e.jsx(f,{variant:"h6",className:"!text-gray-900",children:"No settings found"})})},VLe=async t=>{try{return(await ie.get("/promotions",{params:t})).data}catch(s){throw s}},HLe=async t=>{try{return(await ie.get(`/promotions/${t}`)).data}catch(s){throw s}},WLe=async t=>(await ie.post("/promotions",t)).data,YLe=async(t,s)=>(await ie.put(`/promotions/${t}`,s)).data,GLe=async t=>(await ie.delete(`/promotions/${t}`)).data,Hm={all:["promotions"],lists:()=>[...Hm.all,"list"],list:t=>[...Hm.lists(),t],details:()=>[...Hm.all,"detail"],detail:t=>[...Hm.details(),t]},KLe=(t,s)=>st({queryKey:Hm.list(t),queryFn:()=>VLe(t),staleTime:300*1e3,...s}),y$=(t,s)=>st({queryKey:Hm.detail(t),queryFn:()=>HLe(t),enabled:!!t,staleTime:300*1e3,...s}),QLe=()=>Te({mutationFn:t=>WLe(t),invalidateQueries:[["promotions"]],loadingMessage:"Saving..."}),ZLe=()=>Te({mutationFn:({id:t,data:s})=>YLe(t,s),invalidateQueries:[["promotions"]],loadingMessage:"Saving..."}),XLe=()=>Te({mutationFn:t=>GLe(t),invalidateQueries:[["promotions"]],loadingMessage:"Deleting..."}),JLe=["Quantity","Price","Weight"],ZD=["Free Product","Percent","Amount"],e$e=["Cash","Credit","Both"],t$e=["(B) Distributor Channel","(C) Customer Channel"],s$e=["All","Invoice","Waybill","Order"],a$e=["Normal","Exclusive","Priority"],r$e=["Normal","Override","Combine"],n$e=nt({name:ce().required("Name is required"),start_date:ce().required("Start date is required"),finish_date:ce().required("Finish date is required").test("is-after-start","Finish date must be after start date",function(t){const{start_date:s}=this.parent;return!t||!s?!0:new Date(t)>=new Date(s)}),description:ce(),is_active:ce().oneOf(["Y","N"]).required()}),i$e=({selectedPromotion:t,setSelectedPromotion:s,drawerOpen:a,setDrawerOpen:r})=>{const n=!!t,{data:i,isLoading:o}=y$(t?.id||null),{data:l}=Mu({limit:1e3}),c=l?.data||[],{data:m}=_i({limit:1e3}),d=m?.data||[],{data:p}=ul({limit:1e3}),x=p?.data||[],{data:j}=$p({limit:1e3}),_=j?.data||[],{data:S}=zp({limit:1e3}),v=S?.data||[],{data:y}=k3(),N=y?.data||[],{data:C}=S1({limit:1e3}),P=C?.data||[],E=QLe(),D=ZLe(),[T,A]=g.useState([]),[I,F]=g.useState([]),[z,O]=g.useState([]),[K,W]=g.useState(0),[B,q]=g.useState(null),[H,Q]=g.useState({area:"",group:"",distributor_id:"",role:"",slip_limit:!1,disc_limit:!1,date_limit:!1,dc_par:!1}),[V,M]=g.useState(null),[R,$]=g.useState(0),[Y,J]=g.useState(""),[te,ee]=g.useState(""),[ne,he]=g.useState(!1),[de,ae]=g.useState(""),[xe,ge]=g.useState("0.00"),[le,me]=g.useState("Amount"),[Ae,Ce]=g.useState({group:"",dyn_group:"",product:"",quant_group:"",dyn_prod_groups:"",at_least:"",unit:"unit"}),[_e,Ie]=g.useState({});g.useEffect(()=>{(!i?.data||!n)&&(A([]),F([]),O([]))},[i,n]);const et=()=>{s(null),r(!1),ke.resetForm(),A([]),F([]),O([]),q(null),M(null),Q({area:"",group:"",distributor_id:"",role:"",slip_limit:!1,disc_limit:!1,date_limit:!1,dc_par:!1}),Ce({group:"",dyn_group:"",product:"",quant_group:"",dyn_prod_groups:"",at_least:"",unit:"unit"})},ke=pt({initialValues:{disabled:!1,name:t?.name||"",short_name:t?.name||"",code:t?.code||"",pay_type:"",scope:"",slip_type:"All",mandatory:!1,prom_conflict:"Normal",degree:"1",nr:"1",reg_disc_conf:"Normal",conflict_with_constant_disc:!1,start_date:t?.start_date?new Date(t.start_date).toISOString().split("T")[0]:"",finish_date:t?.end_date?new Date(t.end_date).toISOString().split("T")[0]:"",platform:["Mobile"],group:"",dist_comp_participation_min:"0",dist_comp_participation_max:"100",quantity_type:"Quantity",description:t?.description||"",is_active:t?.is_active||"Y"},validationSchema:n$e,enableReinitialize:!0,onSubmit:async ye=>{try{const Le=I.filter(rt=>rt.distributor_id).map(rt=>Number(rt.distributor_id)).filter((rt,zt,_t)=>_t.indexOf(rt)===zt),ze=I.filter(rt=>rt.group).map(rt=>Number(rt.group)).filter((rt,zt,_t)=>_t.indexOf(rt)===zt),jt=T.filter(rt=>rt.product_id||rt.product_group).map(rt=>{const zt=rt.product_id?c.find(hs=>hs.id===rt.product_id):null,_t=v.length>0?v[0].id:1;return{product_id:rt.product_id||1,category_id:zt?.category_id||_t,product_group:rt.product_group,min_quantity:rt.min_quantity||0,min_value:rt.min_quantity||0}}),es=z.filter(rt=>rt.product_id).map(rt=>({benefit_type:rt.type==="Free Product"?"FREE_PRODUCT":"PERCENT",product_id:rt.product_id,benefit_value:rt.benefit_value||0,condition_type:rt.application||null,gift_limit:rt.gift_limit||0})),Qt={name:ye.name,description:ye.description,start_date:ye.start_date,end_date:ye.finish_date,platforms:["Mobile"],quantity_type:ye.quantity_type||"QUANTITY",product_conditions:jt.length>0?jt:void 0,location_areas:Le.length>0?Le:void 0,outlet1_groups:ze.length>0?ze:void 0,levels:es.length>0?[{level_number:1,threshold_value:0,discount_type:"PERCENTAGE",discount_value:0,benefits:es}]:void 0};if(n&&t){const rt=I.filter(_t=>_t.distributor_id).map(_t=>Number(_t.distributor_id)).filter((_t,hs,cs)=>cs.indexOf(_t)===hs),zt=I.filter(_t=>_t.group).map(_t=>Number(_t.group)).filter((_t,hs,cs)=>cs.indexOf(_t)===hs);await D.mutateAsync({id:t.id,data:{name:ye.name,start_date:ye.start_date,end_date:ye.finish_date,description:ye.description,is_active:ye.is_active,platforms:["Mobile"],location_areas:rt.length>0?rt:void 0,outlet1_groups:zt.length>0?zt:void 0}})}else{const rt={...Qt,levels:Qt.levels?Qt.levels.map(zt=>({...zt,benefits:zt.benefits?.map(_t=>({..._t,condition_type:_t.condition_type??void 0}))})):void 0};await E.mutateAsync(rt)}et()}catch(Le){console.error("Error saving updated promotion:",Le)}}}),He=()=>{if(!Ae.group&&!Ae.product){Ie({..._e,productCondition_new:"Product or Group must be selected"});return}if(!Ae.at_least||parseFloat(Ae.at_least)<=0){Ie({..._e,productCondition_quantity_new:"At least value must be greater than 0"});return}const ye={_index:T.length,product_group:Ae.group,product_id:Ae.product?parseInt(Ae.product):void 0,min_quantity:parseFloat(Ae.at_least)||0};A([...T,ye]),Ce({group:"",dyn_group:"",product:"",quant_group:"",dyn_prod_groups:"",at_least:"",unit:"unit"}),Ie({})},be=ye=>{A(T.filter((Le,ze)=>ze!==ye))},Ge=(ye,Le,ze)=>{const jt=[...T];jt[ye]={...jt[ye],[Le]:ze},A(jt)},at=()=>{const ye={_index:I.length,outlet_condition:"Distributor",dist:H.distributor_id&&d.find(Le=>Le.id.toString()===H.distributor_id)?.code||"",outlet_value:"",start:ke.values.start_date,finish:ke.values.finish_date,area:H.area,group:H.group,distributor_id:H.distributor_id,role:H.role,slip_limit:H.slip_limit?"1":"",disc_limit:H.disc_limit?"1":"",date_limit:H.date_limit,dc_par:H.dc_par};F([...I,ye]),Q({area:"",group:"",distributor_id:"",role:"",slip_limit:!1,disc_limit:!1,date_limit:!1,dc_par:!1})},vt=ye=>{F(I.filter((Le,ze)=>ze!==ye))},dt=(ye,Le,ze)=>{const jt=[...I];jt[ye]={...jt[ye],[Le]:ze},F(jt)},ft=ye=>{O(z.filter((Le,ze)=>ze!==ye))},Mt=(ye,Le,ze)=>{const jt=[...z];jt[ye]={...jt[ye],[Le]:ze},O(jt)};return o&&n?e.jsx(it,{open:a,setOpen:et,title:n?"Edit Updated Promotion":"Create Updated Promotion",fullWidth:!0,children:e.jsx(b,{className:"!p-6",children:e.jsx(f,{children:"Loading..."})})}):e.jsx(it,{open:a,setOpen:et,title:n?"Edit Updated Promotion":"Create Updated Promotion",fullWidth:!0,children:e.jsxs(b,{className:"!p-4 !overflow-auto !max-h-[calc(100vh-100px)]",children:[Object.keys(_e).length>0&&e.jsxs(lt,{severity:"error",className:"!mb-4",children:[e.jsx(f,{variant:"subtitle2",className:"!font-semibold !mb-1",children:"Please fix the following errors:"}),e.jsx("ul",{className:"!list-disc !list-inside !space-y-1",children:Object.values(_e).map((ye,Le)=>e.jsx("li",{className:"!text-sm",children:ye},Le))})]}),e.jsxs("form",{onSubmit:ke.handleSubmit,className:"!space-y-3 !grid !grid-cols-2 !gap-3",children:[e.jsxs(la,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2 !text-base",children:"Header Information"}),e.jsxs(b,{className:"!space-y-2 !grid !grid-cols-2 !gap-2",children:[e.jsx(oe,{name:"name",label:"Name",formik:ke,required:!0,fullWidth:!0}),e.jsx(oe,{name:"short_name",label:"Short Name",formik:ke,fullWidth:!0}),e.jsx(oe,{name:"code",label:"Code",formik:ke,required:!0,fullWidth:!0}),e.jsx(Se,{name:"pay_type",label:"Pay Type",formik:ke,fullWidth:!0,children:e$e.map(ye=>e.jsx(Z,{value:ye,children:ye},ye))}),e.jsx(Se,{name:"scope",label:"Scope",formik:ke,fullWidth:!0,children:t$e.map(ye=>e.jsx(Z,{value:ye,children:ye},ye))}),e.jsx(Se,{name:"slip_type",label:"Slip Type",formik:ke,fullWidth:!0,children:s$e.map(ye=>e.jsx(Z,{value:ye,children:ye},ye))}),e.jsx(Se,{name:"prom_conflict",label:"Prom. Conflict",formik:ke,fullWidth:!0,children:a$e.map(ye=>e.jsx(Z,{value:ye,children:ye},ye))}),e.jsx(oe,{name:"degree",label:"Degree",type:"number",formik:ke,fullWidth:!0}),e.jsx(oe,{name:"nr",label:"Nr",type:"number",formik:ke,fullWidth:!0}),e.jsx(Se,{name:"reg_disc_conf",label:"Reg.Disc. Conf.",formik:ke,fullWidth:!0,children:r$e.map(ye=>e.jsx(Z,{value:ye,children:ye},ye))}),e.jsx(On,{control:e.jsx(qo,{checked:ke.values.conflict_with_constant_disc,onChange:ye=>ke.setFieldValue("conflict_with_constant_disc",ye.target.checked)}),className:"!col-span-2",label:"Conflict with Constant disc."}),e.jsx(oe,{name:"start_date",label:"Start",type:"date",formik:ke,required:!0,fullWidth:!0}),e.jsx(oe,{name:"finish_date",label:"Finish",type:"date",formik:ke,required:!0,fullWidth:!0}),e.jsx(oe,{name:"group",label:"Group",formik:ke,fullWidth:!0}),e.jsxs(b,{className:"!flex !gap-2",children:[e.jsx(oe,{name:"dist_comp_participation_min",label:"Dist./Comp. Participation",type:"number",formik:ke,fullWidth:!0}),e.jsx(oe,{name:"dist_comp_participation_max",label:"",type:"number",formik:ke,fullWidth:!0})]}),e.jsxs(b,{className:"!col-span-2 !flex !gap-2",children:[e.jsx(G,{type:"submit",variant:"contained",size:"small",disabled:E.isPending||D.isPending,children:"Save"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:et,children:"Cancel"})]})]})]}),e.jsxs(la,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2 !text-base",children:"Suitable Outlets"}),e.jsx(b,{className:"!mb-3",children:e.jsxs(jo,{value:K,onChange:(ye,Le)=>W(Le),variant:"scrollable",scrollButtons:"auto",children:[e.jsx(Cs,{label:"Depots"}),e.jsx(Cs,{label:"Zones"}),e.jsx(Cs,{label:"Routes"}),e.jsx(Cs,{label:"Outlet"})]})}),e.jsxs(b,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-2 !mb-2",children:[e.jsxs(Se,{value:H.area,onChange:ye=>Q({...H,area:ye.target.value}),label:"Area",fullWidth:!0,children:[e.jsx(Z,{value:"",children:"Select Area"}),x.map(ye=>e.jsx(Z,{value:ye.id.toString(),children:ye.name},ye.id))]}),e.jsx(vu,{value:H.group,onChange:(ye,Le)=>Q({...H,group:Le?Le.id.toString():""}),label:"Group",fullWidth:!0}),e.jsxs(Se,{value:H.distributor_id,onChange:ye=>Q({...H,distributor_id:ye.target.value}),label:"Distributor",fullWidth:!0,children:[e.jsx(Z,{value:"",children:"Select Distributor"}),d.map(ye=>e.jsxs(Z,{value:ye.id.toString(),children:[ye.name," (",ye.code,")"]},ye.id))]}),e.jsxs(Se,{value:H.role,onChange:ye=>Q({...H,role:ye.target.value}),label:"Role",fullWidth:!0,children:[e.jsx(Z,{value:"",children:"Select Role"}),N.map(ye=>e.jsx(Z,{value:ye.id.toString(),children:ye.name},ye.id))]})]}),e.jsxs(b,{className:"!flex !gap-2 !mb-2",children:[e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:at,children:"New"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{if(B!==null){const ye=[...I];ye[B]={...ye[B],area:H.area,group:H.group,distributor_id:H.distributor_id,role:H.role,dist:H.distributor_id&&d.find(Le=>Le.id.toString()===H.distributor_id)?.code||"",slip_limit:H.slip_limit?"1":"",disc_limit:H.disc_limit?"1":"",date_limit:H.date_limit,dc_par:H.dc_par},F(ye),q(null),Q({area:"",group:"",distributor_id:"",role:"",slip_limit:!1,disc_limit:!1,date_limit:!1,dc_par:!1})}},disabled:B===null,children:"Update"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{B!==null&&(vt(B),q(null),Q({area:"",group:"",distributor_id:"",role:"",slip_limit:!1,disc_limit:!1,date_limit:!1,dc_par:!1}))},disabled:B===null,children:"Del"})]}),e.jsxs(b,{className:"!flex !gap-2 !mb-2 !flex-wrap",children:[e.jsx(On,{control:e.jsx(qo,{checked:H.slip_limit,size:"small",onChange:ye=>Q({...H,slip_limit:ye.target.checked})}),label:"Slip Lim."}),e.jsx(On,{control:e.jsx(qo,{checked:H.disc_limit,onChange:ye=>Q({...H,disc_limit:ye.target.checked})}),label:"Disc. Lim."}),e.jsx(On,{control:e.jsx(qo,{checked:H.date_limit,onChange:ye=>Q({...H,date_limit:ye.target.checked})}),label:"Date"}),e.jsx(On,{control:e.jsx(qo,{checked:H.dc_par,onChange:ye=>Q({...H,dc_par:ye.target.checked})}),label:"D/C Par."})]}),I.length>0&&e.jsx(b,{className:"!mt-3",children:e.jsx(ct,{data:I.map((ye,Le)=>({id:ye._index,condition:ye.outlet_condition||"Distributor",dist:ye.dist||"-",outlet_value:ye.outlet_value||"-",location:ye.area&&x.find(ze=>ze.id.toString()===ye.area)?x.find(ze=>ze.id.toString()===ye.area)?.name:"-",distributor:ye.distributor_id&&d.find(ze=>ze.id.toString()===ye.distributor_id)?d.find(ze=>ze.id.toString()===ye.distributor_id)?.name:"-",seller:ye.role&&N.find(ze=>ze.id.toString()===ye.role)?N.find(ze=>ze.id.toString()===ye.role)?.name:"-",start:ye.start||"-",finish:ye.finish||"-",slip_limit:ye.slip_limit||"-",disc_limit:ye.disc_limit||"-",_index:Le,_row:ye})),columns:[{id:"condition",label:"Outlet Condition",render:(ye,Le)=>{const ze=I[Le._index];return e.jsxs(Se,{value:ze.outlet_condition,onChange:jt=>dt(Le._index,"outlet_condition",jt.target.value),size:"small",fullWidth:!1,children:[e.jsx(Z,{value:"Distributor",children:"Distributor"}),e.jsx(Z,{value:"Customer Category",children:"Customer Category"}),e.jsx(Z,{value:"Customer",children:"Customer"})]})}},{id:"dist",label:"Dist.",render:(ye,Le)=>{const ze=I[Le._index];return e.jsx(oe,{value:ze.dist,onChange:jt=>dt(Le._index,"dist",jt.target.value),placeholder:"Dist",size:"small",className:"!w-20",fullWidth:!1})}},{id:"outlet_value",label:"Outlet Value",render:(ye,Le)=>{const ze=I[Le._index];return e.jsxs(Se,{value:ze.outlet_value,onChange:jt=>dt(Le._index,"outlet_value",jt.target.value),size:"small",className:"!w-40",fullWidth:!1,children:[e.jsx(Z,{value:"",children:"Select..."}),_.map(jt=>e.jsxs(Z,{value:jt.id.toString(),children:[jt.name," (",jt.code,")"]},jt.id))]})}},{id:"location",label:"Location"},{id:"distributor",label:"Distributor"},{id:"seller",label:"Seller"},{id:"start",label:"Start",render:(ye,Le)=>{const ze=I[Le._index];return e.jsx(oe,{type:"date",value:ze.start,className:"!w-40",onChange:jt=>dt(Le._index,"start",jt.target.value),size:"small",fullWidth:!1})}},{id:"finish",label:"Finish",render:(ye,Le)=>{const ze=I[Le._index];return e.jsx(oe,{type:"date",value:ze.finish,className:"!w-40",onChange:jt=>dt(Le._index,"finish",jt.target.value),size:"small",fullWidth:!1})}},{id:"slip_limit",label:"Slip Lim.",render:(ye,Le)=>{const ze=I[Le._index];return e.jsx(oe,{value:ze.slip_limit||"",onChange:jt=>dt(Le._index,"slip_limit",jt.target.value),placeholder:"Slip Lim",size:"small",className:"!w-24",fullWidth:!1})}},{id:"disc_limit",label:"Disc. Lim.",render:(ye,Le)=>{const ze=I[Le._index];return e.jsx(oe,{value:ze.disc_limit||"",onChange:jt=>dt(Le._index,"disc_limit",jt.target.value),placeholder:"Disc Lim",size:"small",className:"!w-24",fullWidth:!1})}},{id:"actions",label:"Actions",render:(ye,Le)=>e.jsxs(b,{className:"!flex !gap-2",children:[e.jsx(ss,{onClick:()=>{q(Le._index);const ze=I[Le._index];Q({area:ze.area||"",group:ze.group||"",distributor_id:ze.distributor_id||"",role:ze.role||"",slip_limit:ze.slip_limit==="1",disc_limit:ze.disc_limit==="1",date_limit:ze.date_limit||!1,dc_par:ze.dc_par||!1})},tooltip:"Edit outlet",size:"small"}),e.jsx(Ht,{onClick:()=>vt(Le._index),tooltip:"Delete outlet",size:"small"})]})}],pagination:!1,sortable:!1,compact:!0})})]}),e.jsxs(la,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(f,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2 !text-base",children:"Promotion Product Condition"}),e.jsxs(b,{className:"!mb-2",children:[e.jsx(f,{className:"!mb-1 !text-xs !font-medium",children:"Quantity Type"}),e.jsx(Cx,{value:ke.values.quantity_type,onChange:ye=>ke.setFieldValue("quantity_type",ye.target.value),row:!0,children:JLe.map(ye=>e.jsx(On,{value:ye,control:e.jsx(Sx,{}),label:ye},ye))})]}),T.length>0&&e.jsx(b,{className:"!mb-2",children:e.jsx(ct,{data:T.map((ye,Le)=>({id:ye._index,product_group:ye.product_group||(ye.product_id?c.find(ze=>ze.id===ye.product_id)?.name:"-")||"-",at_least:`${ye.min_quantity||0} ${Ae.unit}`,_index:Le})),columns:[{id:"product_group",label:"Product/Group"},{id:"at_least",label:"At least"},{id:"actions",label:"Actions",render:(ye,Le)=>e.jsxs(b,{className:"!flex !gap-2",children:[e.jsx(ss,{onClick:()=>{const ze=T[Le._index];M(Le._index),Ce({group:ze.product_group||"",dyn_group:"",product:ze.product_id?.toString()||"",quant_group:"",dyn_prod_groups:"",at_least:ze.min_quantity?.toString()||"",unit:Ae.unit})},tooltip:"Edit condition",size:"small"}),e.jsx(Ht,{onClick:()=>be(Le._index),tooltip:"Delete condition",size:"small"})]})}],pagination:!1,sortable:!1,compact:!0})}),e.jsxs(b,{className:"!space-y-2 !mt-2",children:[e.jsxs(b,{className:"!grid !grid-cols-2 !gap-2",children:[e.jsx(vu,{value:Ae.group?v.find(ye=>ye.category_name===Ae.group)?.id.toString():"",nameToSearch:Ae.group||"",onChange:(ye,Le)=>Ce({...Ae,group:Le?Le.category_name:""}),label:"Group",size:"small",fullWidth:!0}),e.jsx(wo,{value:Ae.product,onChange:(ye,Le)=>Ce({...Ae,product:Le?Le.id.toString():""}),label:"Product",size:"small",fullWidth:!0}),e.jsxs(b,{className:"!flex !gap-2",children:[e.jsx(oe,{type:"number",value:Ae.at_least,onChange:ye=>Ce({...Ae,at_least:ye.target.value}),label:"At least",size:"small",className:"!flex-1",fullWidth:!1}),e.jsxs(Se,{value:Ae.unit,onChange:ye=>Ce({...Ae,unit:ye.target.value}),size:"small",className:"!w-24",fullWidth:!1,children:[e.jsx(Z,{value:"unit",children:"unit"}),P.map(ye=>e.jsx(Z,{value:ye.name,children:ye.name},ye.id))]})]})]}),e.jsxs(b,{className:"!flex !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{if(V!==null){const ye=V;Ge(ye,"product_group",Ae.group),Ge(ye,"product_id",Ae.product?parseInt(Ae.product):void 0),Ge(ye,"min_quantity",parseFloat(Ae.at_least)||0),M(null),Ce({group:"",dyn_group:"",product:"",quant_group:"",dyn_prod_groups:"",at_least:"",unit:"unit"}),Ie({})}},disabled:V===null,children:"Update"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:He,children:"New"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{V!==null&&(be(V),M(null),Ce({group:"",dyn_group:"",product:"",quant_group:"",dyn_prod_groups:"",at_least:"",unit:"unit"}))},disabled:V===null,children:"Del"})]})]})]}),e.jsxs(la,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(f,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2 !text-base",children:["GIFT ",e.jsxs("span",{className:"!text-gray-500",children:["(",z.length,")"]})]}),z.length>0&&e.jsx(b,{className:"!mb-4",children:e.jsx(ct,{data:z.map((ye,Le)=>({id:Le,type:ye.type,application:ye.application,gift:ye.gift,_index:Le})),columns:[{id:"type",label:"Type",render:(ye,Le)=>{const ze=z[Le._index];return e.jsx(Se,{value:ze.type,onChange:jt=>Mt(Le._index,"type",jt.target.value),size:"small",fullWidth:!1,children:ZD.map(jt=>e.jsx(Z,{value:jt,children:jt},jt))})}},{id:"application",label:"Application",render:(ye,Le)=>{const ze=z[Le._index];return e.jsx(oe,{value:ze.application,onChange:jt=>Mt(Le._index,"application",jt.target.value),placeholder:"Application",size:"small",fullWidth:!1})}},{id:"gift",label:"Gift",render:(ye,Le)=>{const ze=z[Le._index];return e.jsx(oe,{value:ze.gift,onChange:jt=>Mt(Le._index,"gift",jt.target.value),placeholder:"Gift",size:"small",fullWidth:!1})}},{id:"actions",label:"Actions",render:(ye,Le)=>e.jsx(Ht,{onClick:()=>ft(Le._index),tooltip:"Delete gift",size:"small"})}],pagination:!1,sortable:!1,compact:!0})}),e.jsxs(b,{className:"!space-y-2 !mt-2",children:[e.jsxs(b,{children:[e.jsx(f,{className:"!mb-1 !text-xs !font-medium",children:"Type"}),e.jsx(Cx,{value:le,onChange:ye=>{const Le=ye.target.value;me(Le),z.forEach((ze,jt)=>{Mt(jt,"type",Le)})},row:!0,children:ZD.map(ye=>e.jsx(On,{value:ye,control:e.jsx(Sx,{}),label:ye},ye))})]}),e.jsx(oe,{label:"Disc. (Amount)",type:"number",value:de,onChange:ye=>ae(ye.target.value),fullWidth:!0,size:"small"}),e.jsx(oe,{label:"Maximum",type:"number",value:xe,onChange:ye=>ge(ye.target.value),fullWidth:!0,size:"small"}),e.jsx(b,{children:e.jsxs(jo,{value:R,onChange:(ye,Le)=>$(Le),variant:"scrollable",scrollButtons:"auto",children:[e.jsx(Cs,{label:"Product"}),e.jsx(Cs,{label:"Prod. Group"}),e.jsx(Cs,{label:"Dyn. Prod. Gr."}),e.jsx(Cs,{label:"Conditional Products"}),e.jsx(Cs,{label:"Invoice"})]})}),e.jsx(oe,{label:"Code",value:Y,onChange:ye=>J(ye.target.value),fullWidth:!0,size:"small"}),e.jsx(wo,{label:"Name",value:te,onChange:(ye,Le)=>ee(Le?Le.id.toString():""),fullWidth:!0,size:"small"}),e.jsx(On,{control:e.jsx(qo,{checked:ne,onChange:ye=>he(ye.target.checked),size:"small"}),label:"Product may not be in condition"}),e.jsxs(b,{className:"!flex !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{z.length>0&&Y&&te&&(Mt(z.length-1,"gift",`${de} ${te}`),Mt(z.length-1,"product_id",parseInt(te)),ae(""),J(""),ee(""))},children:"Update"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{const ye={_index:z.length,type:le,application:"n. Prod. Gr.",gift:de?`${de} ${te||""}`:"",product_id:te?parseInt(te):void 0,benefit_value:parseFloat(de)||0,gift_limit:0};O([...z,ye]),ae(""),J(""),ee("")},children:"New"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{z.length>0&&(ft(z.length-1),ae(""),J(""),ee(""))},disabled:z.length===0,children:"Del"})]})]})]})]})]})})},o$e=()=>{const t=Fs(),[s,a]=g.useState(""),[r,n]=g.useState("all"),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,d]=g.useState(1),[p]=g.useState(10),{isCreate:x,isUpdate:j,isDelete:_,isRead:S}=Ze("promotions"),{data:v,isLoading:y,error:N}=KLe({search:s,page:m,limit:p,is_active:r==="all"?void 0:r==="active"?"Y":"N"},{enabled:S}),C=v?.data||[],P=v?.pagination?.total_count||0,E=(v?.pagination?.current_page||1)-1,D=ls(),T=XLe(),A=v?.stats?.total_promotions||v?.pagination?.total_count||0,I=v?.stats?.active_promotions||C.filter(V=>V.is_active==="Y").length,F=v?.stats?.inactive_promotions||C.filter(V=>V.is_active==="N").length,z=v?.stats?.promotions_this_month||0,O=g.useCallback(()=>{o(null),c(!0)},[]),K=g.useCallback(V=>{o(V),c(!0)},[]),W=g.useCallback(async V=>{try{await T.mutateAsync(V)}catch(M){console.error("Error deleting updated promotion:",M)}},[T]),B=g.useCallback(V=>{a(V),d(1)},[]),q=V=>{d(V+1)},H=g.useCallback(async()=>{try{const V={search:s,status:r==="all"?void 0:r==="active"?"Y":"N"};await D.mutateAsync({tableName:"updated-promotions",filters:V})}catch(V){console.error("Error exporting updated promotions:",V)}},[D,s,r]),Q=[{id:"name",label:"Promotion Info",render:(V,M)=>e.jsxs(b,{className:"!flex !gap-2 !items-center",children:[e.jsx(ot,{alt:M.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(br,{className:"w-5 h-5"})}),e.jsxs(b,{children:[e.jsx(f,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:M.name}),e.jsx(f,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:M.code})]})]})},{id:"start_date",label:"Period",render:(V,M)=>e.jsxs(b,{children:[e.jsx(f,{variant:"body2",className:"!text-gray-900",children:Fe(M.start_date)}),e.jsxs(f,{variant:"caption",className:"!text-gray-500",children:["to ",Fe(M.end_date)]})]})},{id:"description",label:"Description",render:(V,M)=>e.jsx(f,{variant:"body2",className:"!text-gray-700 !max-w-xs !truncate",children:M.description||"N/A"})},{id:"is_active",label:"Status",render:(V,M)=>e.jsx(Re,{icon:M.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:M.is_active==="Y"?"Active":"Inactive",size:"small",color:M.is_active==="Y"?"success":"error"})},{id:"createdate",label:"Created",render:(V,M)=>e.jsx(f,{variant:"body2",className:"!text-gray-500",children:Fe(M.createdate?.toString())})},...j||_||S?[{id:"action",label:"Actions",sortable:!1,render:(V,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[j&&e.jsx(ss,{onClick:()=>K(M),tooltip:"Edit updated promotion"}),S&&e.jsx(Ua,{onClick:()=>t(`/masters/updated-promotions/${M.id}`),tooltip:"View updated promotion",icon:e.jsx(kn,{fontSize:"small"}),color:"info"}),_&&e.jsx(Ht,{onClick:()=>W(M.id),tooltip:"Delete updated promotion",confirmDelete:!0,itemName:"updated promotion"})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(b,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Updated Promotions Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage updated promotional offers, discounts, and special deals for your products"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Promotions",value:A,icon:e.jsx(br,{className:"w-6 h-6"}),color:"blue",isLoading:y}),e.jsx(fe,{title:"Active Promotions",value:I,icon:e.jsx(mt,{className:"w-6 h-6"}),color:"green",isLoading:y}),e.jsx(fe,{title:"Inactive Promotions",value:F,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:y}),e.jsx(fe,{title:"New This Month",value:z,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"purple",isLoading:y})]}),N&&e.jsx(lt,{severity:"error",className:"!mb-4",children:"Failed to load updated promotions. Please try again."}),e.jsx(ct,{data:C,columns:Q,actions:S||x?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:S&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{placeholder:"Search Updated Promotions...",value:s,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(Se,{value:r,onChange:V=>{n(V.target.value),d(1)},className:"!w-32",children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[S&&e.jsx(Xt,{title:"Export Updated Promotions",description:"Are you sure you want to export the current updated promotions data to Excel? This will include all filtered results.",onConfirm:H,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Nt,{}),disabled:D.isPending,children:D.isPending?"Exporting...":"Export"})}),x&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(os,{}),onClick:O,children:"Create"})]})]}):!1,getRowId:V=>V.id,initialOrderBy:"name",loading:y,totalCount:P,page:E,rowsPerPage:p,isPermission:S,onPageChange:q,emptyMessage:s?`No updated promotions found matching "${s}"`:"No updated promotions found in the system"}),e.jsx(i$e,{selectedPromotion:i,setSelectedPromotion:o,drawerOpen:l,setDrawerOpen:c})]})},l$e=()=>{const{id:t}=Br(),s=Fs(),{data:a,isLoading:r,error:n,isFetching:i}=y$(Number(t)),o=a?.data,l=()=>{s("/masters/updated-promotions")};if(r||i)return e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(X,{variant:"text",width:200,height:32,className:"!mb-4"}),e.jsx(X,{variant:"rectangular",width:"100%",height:200})]})});if(n||!o)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"!bg-red-50 !border !border-red-200 !rounded-lg !p-6 !mb-6",children:[e.jsx(f,{variant:"h6",className:"!text-red-800 !font-bold !mb-2",children:"Failed to load updated promotion details"}),e.jsx(f,{variant:"body2",className:"!text-red-600",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:l,className:"!mt-4",children:"Back to Updated Promotions"})]});const c=({title:m,children:d,icon:p})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[p&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(p,{className:"!text-primary-500"})}),e.jsx(f,{variant:"h6",className:"!font-bold !text-gray-900",children:m})]}),d]})]});return e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"!mb-6 !flex !items-center !gap-3",children:[e.jsx(G,{variant:"outlined",startIcon:e.jsx(dr,{}),onClick:l,className:"!capitalize",children:"Back"}),e.jsx(f,{variant:"h5",className:"!font-bold !text-gray-900",children:"Updated Promotion Details"})]}),e.jsxs("div",{className:"!grid !grid-cols-1 lg:!grid-cols-3 !gap-6 !mb-6",children:[e.jsxs("div",{className:"lg:!col-span-2 !space-y-6",children:[e.jsx(c,{title:"Promotion Information",icon:br,children:e.jsxs("div",{className:"!space-y-4",children:[e.jsxs("div",{className:"!flex !items-start !gap-4",children:[e.jsx(ot,{alt:o.name,className:"!rounded !bg-primary-100 !text-primary-600 !w-16 !h-16",children:e.jsx(br,{className:"w-8 h-8"})}),e.jsxs("div",{className:"!flex-1",children:[e.jsx(f,{variant:"h5",className:"!font-bold !text-gray-900 !mb-1",children:o.name}),e.jsxs(f,{variant:"body2",className:"!text-gray-500 !mb-2",children:["Code: ",o.code]}),e.jsx(Re,{icon:o.is_active==="Y"?e.jsx(mt,{}):e.jsx(St,{}),label:o.is_active==="Y"?"Active":"Inactive",size:"small",color:o.is_active==="Y"?"success":"error"})]})]}),o.description&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsx(f,{variant:"body2",className:"!text-gray-700 !whitespace-pre-wrap",children:o.description})})]})}),e.jsx(c,{title:"Period & Dates",icon:ws,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1",children:"Start Date"}),e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:Fe(o.start_date)})]}),e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1",children:"Finish Date"}),e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:Fe(o.end_date)})]})]})}),o.conditions&&o.conditions.length>0&&e.jsx(c,{title:"Product Conditions",icon:$t,children:e.jsx("div",{className:"!space-y-4",children:o.conditions.map(m=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs(f,{variant:"body2",className:"!text-gray-900 !font-medium !mb-2",children:[m.condition_type," - ",m.applies_to_type]}),m.promotion_condition_products&&m.promotion_condition_products.length>0&&e.jsx("div",{className:"!space-y-1",children:m.promotion_condition_products.map(d=>e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:["Min: ",d.condition_quantity]},d.id))})]},m.id))})})]}),e.jsxs("div",{className:"!space-y-6",children:[e.jsx(c,{title:"Locations",icon:ta,children:e.jsxs("div",{className:"!space-y-4",children:[o.depots&&o.depots.length>0&&e.jsxs("div",{children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !text-gray-700 !mb-2",children:["Depots (",o.depots.length,")"]}),e.jsx("div",{className:"!space-y-2",children:o.depots.map(m=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:m.depots?.name||`Depot ID: ${m.depot_id}`}),m.depots?.code&&e.jsxs(f,{variant:"caption",className:"!text-gray-500",children:["Code: ",m.depots.code]})]},m.id))})]}),o.routes&&o.routes.length>0&&e.jsxs("div",{children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !text-gray-700 !mb-2",children:["Routes (",o.routes.length,")"]}),e.jsx("div",{className:"!space-y-2",children:o.routes.map(m=>e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:["Route ID: ",m.route_id]})},m.id))})]}),o.customer_categories&&o.customer_categories.length>0&&e.jsxs("div",{children:[e.jsxs(f,{variant:"subtitle2",className:"!font-medium !text-gray-700 !mb-2",children:["Customer Categories (",o.customer_categories.length,")"]}),e.jsx("div",{className:"!space-y-2",children:o.customer_categories.map(m=>e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:["Category ID: ",m.customer_category_id]})},m.id))})]}),(!o.depots||o.depots.length===0)&&(!o.routes||o.routes.length===0)&&(!o.customer_categories||o.customer_categories.length===0)&&e.jsx(f,{variant:"body2",className:"!text-gray-500",children:"No locations assigned"})]})}),o.levels&&o.levels.length>0&&e.jsx(c,{title:"Levels & Benefits",icon:Vn,children:e.jsx("div",{className:"!space-y-4",children:o.levels.map(m=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs(f,{variant:"body2",className:"!text-gray-900 !font-medium !mb-2",children:["Level ",m.level_number," - Threshold:"," ",m.threshold_value]}),e.jsxs(f,{variant:"caption",className:"!text-gray-600",children:["Discount: ",m.discount_type," - ",m.discount_value]}),m.promotion_benefit_level&&m.promotion_benefit_level.length>0&&e.jsx("div",{className:"!mt-2 !space-y-1",children:m.promotion_benefit_level.map(d=>e.jsxs(f,{variant:"caption",className:"!text-gray-600 !block",children:["Benefit: ",d.benefit_type," -"," ",d.benefit_value]},d.id))})]},m.id))})}),e.jsx(c,{title:"Metadata",icon:Vn,children:e.jsxs("div",{className:"!space-y-3",children:[o.createdate&&e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1",children:"Created Date"}),e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:Fe(o.createdate.toString())})]}),o.updatedate&&e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(f,{variant:"caption",className:"!text-gray-500 !block !mb-1",children:"Last Updated"}),e.jsx(f,{variant:"body2",className:"!text-gray-900 !font-medium",children:Fe(o.updatedate.toString())})]})]})})]})]})]})},c$e=()=>{const[t,s]=g.useState(""),a=Fs(),{isRead:r}=Ze("inventory-items"),{formatCurrency:n}=Ga(),{data:i,isLoading:o}=T9e({page:1,limit:50},{enabled:r}),l=o,c=N=>!!N&&"statistics"in N,m=g.useMemo(()=>c(i)?i:null,[i]),d=!!m,p=g.useMemo(()=>m?.data??[],[m]),x=m?.statistics,j=g.useMemo(()=>{const N=p.filter(P=>P.total_quantity>0&&P.total_quantity<=10).length,C=x?.total_quantity?Number(x.total_quantity)*100:0;return{total_items:x?.total_van_inventories||0,low_stock_items:N,total_value:C,active_users:x?.total_salespersons||0,last_updated:new Date().toISOString()}},[x?.total_salespersons,x?.total_van_inventories,x?.total_quantity,p]),_=g.useCallback(N=>{N.salesperson_id&&a(`/masters/inventory-items/${N.salesperson_id}`)},[a]),S=()=>e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-5",children:[1,2,3,4,5,6].map(N=>e.jsx("div",{className:"bg-white shadow-sm p-6 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(X,{variant:"circular",width:48,height:48,className:"!bg-gray-100"}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(X,{variant:"text",width:"60%",height:24}),e.jsx(X,{variant:"text",width:"20%",height:16})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{variant:"text",width:"80%",height:20}),e.jsx(X,{variant:"text",width:"70%",height:20}),e.jsx(X,{variant:"text",width:"75%",height:20}),e.jsx(X,{variant:"text",width:"50%",height:16})]})]})]})},N))}),v=d,y=g.useMemo(()=>p.filter(N=>t?N.salesperson_name?.toLowerCase().includes(t.toLowerCase()):!0),[t,p]);return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"!font-bold text-xl !text-gray-900",children:"Sales Person Inventory"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage and track inventory items by sales representative"})]}),r&&e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 border border-blue-500 text-blue-700 rounded-full bg-blue-50",children:[e.jsx(As,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:["Last Update: ",Fe(j.last_updated)]})]})})]}),r&&e.jsx("div",{className:"bg-white shadow-sm p-4 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex items-center flex-wrap gap-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Jt,{placeholder:"Search Sales Person...",value:t,onChange:s,className:"!w-80"})}),e.jsx("div",{className:"ml-auto flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-100 rounded-full",children:[e.jsx($t,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-sm font-medium text-green-700",children:[j.total_items," Items"]})]})})]})}),r&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Total Inventories",value:j.total_items,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue",isLoading:l}),e.jsx(fe,{title:"Low Stock Alert",value:j.low_stock_items,icon:e.jsx(ia,{className:"w-6 h-6"}),color:"orange",isLoading:l}),e.jsx(fe,{title:"Total Value",value:`${n(j.total_value/1e3)}K`,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"green",isLoading:l}),e.jsx(fe,{title:"Active Reps",value:j.active_users,icon:e.jsx(Za,{className:"w-6 h-6"}),color:"purple",isLoading:l})]}),!r&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx($t,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"You do not have permission to view inventory data"})]}),r&&e.jsx(e.Fragment,{children:l?e.jsx(S,{}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-5",children:[v&&y.map(N=>e.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-100 transition-shadow cursor-pointer hover:shadow-md",onClick:()=>_(N),children:[e.jsx("div",{className:"flex justify-between items-center p-3 gap-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ot,{src:N.salesperson_profile_image||"mkx",alt:N.salesperson_name,className:"!bg-green-100 !text-xl !rounded !text-green-600"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-700 text font-semibold",children:N.salesperson_name}),e.jsx("span",{className:"text-gray-500 text-xs",children:N.salesperson_email})]})]})}),e.jsx("div",{className:"px-4 pb-2",children:e.jsxs("div",{className:"flex flex-col gap-3 pt-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx($t,{className:"!w-4 !h-4 text-blue-500"}),e.jsxs("span",{className:"text-gray-700 font-medium",children:["Van Inventories: ",N.total_van_inventories]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(vs,{className:"!w-4 !h-4 text-green-500"}),e.jsxs("span",{className:"text-gray-700 font-medium",children:["Total Quantity: ",N.total_quantity]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(Cy,{className:"!w-4 !h-4 text-purple-500"}),e.jsxs("span",{className:"text-gray-700 font-medium",children:["Batches: ",N.total_batches]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(pA,{className:"!w-4 !h-4 text-indigo-500"}),e.jsxs("span",{className:"text-gray-700 font-medium",children:["Serials: ",N.total_serials]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx($t,{className:"!w-4 !h-4 text-orange-500"}),e.jsxs("span",{className:"text-gray-700 font-medium",children:["Products: ",N.total_products]})]})]})}),N.total_quantity>0&&N.total_quantity<=10&&e.jsx("div",{className:"p-3 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-2 text-orange-600 text-sm",children:[e.jsx(ia,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Low Quantity Alert"})]})})]},N.salesperson_id)),v&&y.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx($t,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No inventory items found"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:t?"Try adjusting your search":"No inventory items have been added yet"})]})]})})]})},d$e=()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-5",children:Array.from({length:4}).map((t,s)=>e.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-100 p-6 flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(X,{variant:"circular",width:40,height:40}),e.jsx(X,{variant:"rectangular",width:100,height:24})]}),e.jsx(X,{variant:"rectangular",width:60,height:28})]},s))}),u$e=()=>e.jsx("div",{className:"bg-white mb-5 shadow-sm rounded-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx(X,{variant:"circular",width:80,height:80}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4 justify-between",children:[e.jsxs("div",{children:[e.jsx(X,{variant:"text",width:180,height:28}),e.jsx(X,{variant:"text",width:120,height:20})]}),e.jsx(X,{variant:"rectangular",width:64,height:28})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Array.from({length:3}).map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"circular",width:20,height:20}),e.jsx(X,{variant:"text",width:90,height:18})]},s))})]})]})}),m$e=()=>e.jsx(b,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:e.jsx("div",{className:"flex gap-2",children:Array.from({length:3}).map((t,s)=>e.jsx(X,{variant:"rectangular",width:120,height:40,sx:{borderRadius:2}},s))})}),p$e=()=>e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-5",children:Array.from({length:6}).map((t,s)=>e.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-100 p-4 flex flex-col",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4 pb-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(X,{variant:"circular",width:40,height:40}),e.jsxs("div",{children:[e.jsx(X,{variant:"text",width:90,height:18}),e.jsx(X,{variant:"text",width:54,height:14})]})]}),e.jsx(X,{variant:"rectangular",width:64,height:24,sx:{borderRadius:16}})]}),e.jsx("div",{className:"space-y-1 pb-3 px-2",children:Array.from({length:5}).map((a,r)=>e.jsxs("div",{className:"flex items-center justify-between my-1",children:[e.jsx(X,{variant:"text",width:100,height:17}),e.jsx(X,{variant:"text",width:32,height:17})]},r))}),e.jsx(X,{variant:"rectangular",width:"90%",height:18,sx:{mx:2,my:1,borderRadius:2}})]},s))}),XD=({columns:t=6,rows:s=5})=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 shadow-sm px-1 py-3 w-full mb-3",children:[e.jsx("div",{className:"flex gap-2 mb-2",children:Array.from({length:t}).map((a,r)=>e.jsx(X,{width:90,height:18,sx:{borderRadius:2}},r))}),e.jsx("div",{className:"flex flex-col gap-2",children:Array.from({length:s}).map((a,r)=>e.jsx("div",{className:"flex gap-2",children:Array.from({length:t}).map((n,i)=>e.jsx(X,{width:90,height:18,sx:{borderRadius:2}},i))},r))})]});function r_({children:t,value:s,index:a,...r}){return e.jsx("div",{role:"tabpanel",hidden:s!==a,id:`inventory-tabpanel-${a}`,"aria-labelledby":`inventory-tab-${a}`,...r,children:s===a&&e.jsx(b,{sx:{py:3,px:0},children:t})})}const h$e=t=>{switch(t){case"active":return"success";case"expiring_soon":return"warning";case"expired":return"error";default:return"default"}},f$e=t=>t===0?{status:"out_of_stock",color:"error",label:"Out of Stock"}:t<=10?{status:"low_stock",color:"warning",label:"Low Stock"}:{status:"in_stock",color:"success",label:"In Stock"},x$e=()=>{const{id:t}=Br(),s=Fs(),[a,r]=g.useState(0),n=t?Number(t):void 0,{data:i,isLoading:o,error:l}=E3(n,{enabled:n!==void 0}),c=g.useCallback((v,y)=>r(y),[]),m=g.useCallback(()=>s("/masters/inventory-items"),[s]),d=g.useMemo(()=>i?.data||null,[i]),p=g.useMemo(()=>!d?.products||!Array.isArray(d.products)?[]:d.products.map(v=>({...v,product_name:v.product_name??"",batches:v.batches??[],serials:v.serials??[]})),[d]),x=g.useMemo(()=>!Array.isArray(p)||p.length===0?[]:p.flatMap(v=>!v.batches||!Array.isArray(v.batches)?[]:v.batches.map(y=>({...y,product_id:v.product_id}))),[p]),j=g.useMemo(()=>!Array.isArray(p)||p.length===0?[]:p.flatMap(v=>!v.serials||!Array.isArray(v.serials)?[]:v.serials.map(y=>({...y,product_id:v.product_id,warranty_expiry:y.warranty_expiry??null,customer:y.customer}))),[p]),_=g.useMemo(()=>[{id:"batch_number",label:"Batch Number",sortable:!0},{id:"lot_number",label:"Lot Number",sortable:!0},{id:"remaining_quantity",label:"Quantity",sortable:!0},{id:"expiry_date",label:"Expiry Date",sortable:!0,render:v=>v?Fe(v):"N/A"},{id:"status",label:"Status",sortable:!0,render:v=>e.jsx(Re,{label:String(v||"").replace("_"," "),size:"small",color:h$e(String(v)),variant:"outlined",className:"!capitalize"})}],[]),S=g.useMemo(()=>[{id:"serial_number",label:"Serial Number",sortable:!0,render:v=>e.jsx("span",{className:"font-mono text-sm",children:v?String(v):"N/A"})},{id:"status",label:"Status",sortable:!0,render:v=>e.jsx(Re,{label:v?String(v)?.replace("_"," "):"N/A",size:"small",variant:"outlined",className:"!capitalize"})},{id:"warranty_expiry",label:"Warranty Expiry",sortable:!0,render:v=>v?Fe(v):"N/A"},{id:"customer",label:"Customer",sortable:!1,render:(v,y)=>y.customer?`${y.customer.name} (${y.customer.code})`:"N/A"},{id:"sold_date",label:"Sold Date",sortable:!0,render:v=>v?Fe(v):"Not Sold"}],[]);return o?e.jsxs("div",{className:"flex flex-col animate-pulse",children:[e.jsxs("div",{className:"flex items-center mb-5 justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsx(X,{variant:"text",width:220,height:32}),e.jsx(X,{variant:"text",width:160,height:20,sx:{mt:1}})]})}),e.jsx(X,{variant:"rectangular",width:210,height:34,sx:{borderRadius:26}})]}),e.jsx(u$e,{}),e.jsx(d$e,{}),e.jsx(m$e,{}),a===0&&e.jsx(p$e,{}),a===1&&e.jsx(XD,{columns:7,rows:7}),a===2&&e.jsx(XD,{columns:5,rows:7})]}):l||!i?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx($t,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx(f,{variant:"h6",className:"text-gray-600 mb-2",children:"Inventory Not Found"}),e.jsx(f,{variant:"body2",className:"text-gray-500 mb-4",children:"The inventory item you're looking for doesn't exist or you don't have permission to view it."}),e.jsx(G,{onClick:m,children:"Go Back to Inventory"})]}):d?e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center mb-5 justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:[d?.salesperson_name||"Unknown","'s Inventory"]}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Detailed view of all inventory items and stock levels"})]})}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 rounded-full",children:[e.jsx(ws,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Last Updated: ",Fe(new Date().toISOString())]})]})]}),e.jsx("div",{className:"bg-white mb-5 shadow-sm rounded-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx(ot,{src:d?.salesperson_profile_image||void 0,alt:d?.salesperson_name||"Unknown",className:"!w-20 !h-20 !bg-green-100 !text-green-600 !text-2xl",children:d?.salesperson_name?.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-2 justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:d?.salesperson_name||"Unknown"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Sales Representative"})]}),e.jsx(Re,{label:"Active",size:"small",color:"success",variant:"outlined"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(dp,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:d?.salesperson_email||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Sg,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:d?.salesperson_phone||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(ta,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Region: North Zone"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-5",children:[e.jsx(fe,{title:"Total Products",value:d?.total_products||0,icon:e.jsx($t,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Total Quantity",value:d?.total_remaining_quantity||0,icon:e.jsx(vs,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Total Batches",value:d?.total_batches||0,icon:e.jsx(Cy,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"Total Serials",value:d?.total_serials||0,icon:e.jsx(pA,{className:"w-6 h-6"}),color:"orange"})]}),e.jsx(b,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(jo,{value:a,onChange:c,children:[e.jsx(Cs,{label:`Products (${Array.isArray(p)?p.length:0})`}),e.jsx(Cs,{label:`Batches (${d?.total_batches||0})`}),e.jsx(Cs,{label:`Serial Numbers (${d?.total_serials||0})`})]})}),e.jsx(r_,{value:a,index:0,children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-5",children:Array.isArray(p)&&p.map(v=>{const y=f$e(v.total_quantity);return e.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4 pb-0 p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ot,{className:"!bg-blue-100 !rounded-md !text-blue-600",src:"",children:v.product_name?.charAt(0)||"P"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:v.product_name||"Unknown Product"}),e.jsx("p",{className:"text-xs text-gray-500 truncate text-ellipsis w-[90%]",children:v.product_code||"N/A"})]})]}),e.jsx(Re,{label:y.label,size:"small",color:y.color,variant:"outlined"})]}),e.jsxs("div",{className:"space-y-1 pb-3 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Quantity"}),e.jsx("span",{className:"font-medium",children:v.total_remaining_quantity})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Tracking Type"}),e.jsx("span",{className:"font-medium uppercase",children:v.tracking_type})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Van Entries"}),e.jsx("span",{className:"font-medium",children:v.van_inventories?.length||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Batches"}),e.jsx("span",{className:"font-medium",children:v.batches?.length||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Serial Numbers"}),e.jsx("span",{className:"font-medium",children:v.serials?.length||0})]})]}),v.total_quantity>0&&v.total_quantity<=10&&e.jsx("div",{className:"border-t border-gray-100 p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-orange-600 text-sm",children:[e.jsx(ia,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Low Stock Alert"})]})})]},v.product_id)})})}),e.jsx(r_,{value:a,index:1,children:e.jsx(ct,{data:x,columns:_,getRowId:v=>`${v.batch_lot_id}-${v.product_id}`,pagination:!1,emptyMessage:"No batches found"})}),e.jsx(r_,{value:a,index:2,children:e.jsx(ct,{data:j,columns:S,getRowId:v=>v.serial_id,pagination:!1,emptyMessage:"No serial numbers found"})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx($t,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx(f,{variant:"h6",className:"text-gray-600 mb-2",children:"Invalid Inventory Data"}),e.jsx(f,{variant:"body2",className:"text-gray-500 mb-4",children:"The inventory data could not be loaded properly."}),e.jsx(G,{onClick:m,children:"Go Back to Inventory"})]})},g$e=KU([{path:"/login",element:e.jsx(Hye,{})},{path:"/privacy-policy",element:e.jsx(Wye,{})},{path:"/",element:e.jsx(cV,{children:e.jsx(Uye,{})}),errorElement:e.jsx(q_,{showFallback:!0}),children:[{path:"/",element:e.jsx(nD,{})},{path:"/dashboard/executive",element:e.jsx(nD,{})},{path:"/masters/brands",element:e.jsx(Rt,{module:"brand",action:"read",children:e.jsx(k6e,{})})},{path:"/masters/company",element:e.jsx(Rt,{module:"company",action:"read",children:e.jsx(L6e,{})})},{path:"/masters/users",element:e.jsx(Rt,{module:"user",action:"read",children:e.jsx(w9e,{})})},{path:"/masters/users/:id",element:e.jsx(Rt,{module:"user",action:"read",children:e.jsx(S9e,{})})},{path:"/masters/roles",element:e.jsx(Rt,{module:"role",action:"read",children:e.jsx(uRe,{})})},{path:"/masters/depots",element:e.jsx(Rt,{module:"depot",action:"read",children:e.jsx(Tke,{})})},{path:"/masters/depots/:id",element:e.jsx(Rt,{module:"depot",action:"read",children:e.jsx(Mke,{})})},{path:"/masters/zones",element:e.jsx(Rt,{module:"zone",action:"read",children:e.jsx(lAe,{})})},{path:"/masters/currency",element:e.jsx(Rt,{module:"currency",action:"read",children:e.jsx(Ske,{})})},{path:"/masters/routes",element:e.jsx(Rt,{module:"route",action:"read",children:e.jsx(xRe,{})})},{path:"/masters/route-assignments",element:e.jsx(Rt,{module:"route",action:"read",children:e.jsx(gRe,{})})},{path:"/masters/route-assignments/:id",element:e.jsx(Rt,{module:"route",action:"read",children:e.jsx(bRe,{})})},{path:"/masters/routes/:id",element:e.jsx(Rt,{module:"route",action:"read",children:e.jsx(yRe,{})})},{path:"/masters/route-types",element:e.jsx(Rt,{module:"route-type",action:"read",children:e.jsx(wRe,{})})},{path:"/masters/outlets",element:e.jsx(Rt,{module:"outlet",action:"read",children:e.jsx(SEe,{})})},{path:"/masters/outlets/:id",element:e.jsx(Rt,{module:"outlet",action:"read",children:e.jsx(CEe,{})})},{path:"/masters/outlet-groups",element:e.jsx(Rt,{module:"outlet-group",action:"read",children:e.jsx(FEe,{})})},{path:"/masters/outlet-category",element:e.jsx(Rt,{module:"customer-category",action:"read",children:e.jsx(RPe,{})})},{path:"/masters/outlet-type",element:e.jsx(Rt,{module:"customer-type",action:"read",children:e.jsx(YPe,{})})},{path:"/masters/outlet-channel",element:e.jsx(Rt,{module:"customer-channel",action:"read",children:e.jsx(oke,{})})},{path:"/masters/asset-types",element:e.jsx(Rt,{module:"asset-type",action:"read",children:e.jsx(t6e,{})})},{path:"/masters/asset-sub-types",element:e.jsx(Rt,{module:"asset-type",action:"read",children:e.jsx(n6e,{})})},{path:"/masters/asset-master",element:e.jsx(Rt,{module:"asset-master",action:"read",children:e.jsx(ewe,{})})},{path:"/masters/warehouses",element:e.jsx(Rt,{module:"warehouse",action:"read",children:e.jsx(aAe,{})})},{path:"/masters/vehicles",element:e.jsx(Rt,{module:"vehicle",action:"read",children:e.jsx(X9e,{})})},{path:"/masters/products",element:e.jsx(Rt,{module:"product",action:"read",children:e.jsx(I8e,{})})},{path:"/masters/products/:id",element:e.jsx(Rt,{module:"product",action:"read",children:e.jsx(O8e,{})})},{path:"/masters/batch-lots",element:e.jsx(Rt,{module:"batch-lots",action:"read",children:e.jsx(f6e,{})})},{path:"/masters/batch-lots/:id",element:e.jsx(Rt,{module:"batch-lots",action:"read",children:e.jsx(x6e,{})})},{path:"/masters/product-categories",element:e.jsx(Rt,{module:"product-category",action:"read",children:e.jsx(pTe,{})})},{path:"/masters/product-sub-categories",element:e.jsx(Rt,{module:"product-sub-category",action:"read",children:e.jsx(fMe,{})})},{path:"/masters/unit-of-measurement",element:e.jsx(Rt,{module:"unit-of-measurement",action:"read",children:e.jsx(m9e,{})})},{path:"/masters/sub-unit-of-measurement",element:e.jsx(Rt,{module:"unit-of-measurement",action:"read",children:e.jsx(y9e,{})})},{path:"/masters/product-flavours",element:e.jsx(Rt,{module:"product-flavour",action:"read",children:e.jsx(wMe,{})})},{path:"/masters/product-volumes",element:e.jsx(Rt,{module:"product-volume",action:"read",children:e.jsx(RMe,{})})},{path:"/masters/product-shelf-life",element:e.jsx(Rt,{module:"product-shelf-life",action:"read",children:e.jsx(BMe,{})})},{path:"/masters/product-types",element:e.jsx(Rt,{module:"product-type",action:"read",children:e.jsx(ZMe,{})})},{path:"/masters/product-target-groups",element:e.jsx(Rt,{module:"product-target-group",action:"read",children:e.jsx(iDe,{})})},{path:"/masters/product-web-orders",element:e.jsx(Rt,{module:"product-web-order",action:"read",children:e.jsx(fDe,{})})},{path:"/masters/inventory-items",element:e.jsx(Rt,{module:"inventory-items",action:"read",children:e.jsx(c$e,{})})},{path:"/masters/inventory-items/:id",element:e.jsx(Rt,{module:"inventory-items",action:"read",children:e.jsx(x$e,{})})},{path:"/masters/tax-master",element:e.jsx(Rt,{module:"tax-master",action:"read",children:e.jsx(KDe,{})})},{path:"/masters/cooler-types",element:e.jsx(Rt,{module:"cooler-type",action:"read",children:e.jsx(EDe,{})})},{path:"/masters/cooler-sub-types",element:e.jsx(Rt,{module:"cooler-sub-type",action:"read",children:e.jsx(VDe,{})})},{path:"/masters/pricelists",element:e.jsx(Rt,{module:"pricelist",action:"read",children:e.jsx(lTe,{})})},{path:"/masters/promotions",element:e.jsx(Rt,{module:"promotions",action:"read",children:e.jsx(cMe,{})})},{path:"/masters/promotions/:id",element:e.jsx(Rt,{module:"promotions",action:"read",children:e.jsx(dMe,{})})},{path:"/masters/updated-promotions",element:e.jsx(Rt,{module:"updated-promotion",action:"read",children:e.jsx(o$e,{})})},{path:"/masters/updated-promotions/:id",element:e.jsx(Rt,{module:"updated-promotion",action:"read",children:e.jsx(l$e,{})})},{path:"/settings/login-history",element:e.jsx(Rt,{module:"login-history",action:"read",children:e.jsx(Kke,{})})},{path:"/masters/sales-target-groups",element:e.jsx(Rt,{module:"sales-target-group",action:"read",children:e.jsx(r7e,{})})},{path:"/masters/sales-targets",element:e.jsx(Rt,{module:"sales-target",action:"read",children:e.jsx(c7e,{})})},{path:"/masters/sales-bonus-rules",element:e.jsx(Rt,{module:"sales-bonus-rule",action:"read",children:e.jsx(VRe,{})})},{path:"/masters/kpi-targets",element:e.jsx(Rt,{module:"kpi-target",action:"read",children:e.jsx(Vke,{})})},{path:"/masters/surveys",element:e.jsx(Rt,{module:"survey",action:"read",children:e.jsx(i9e,{})})},{path:"/masters/surveys/:id",element:e.jsx(Rt,{module:"survey",action:"read",children:e.jsx(o9e,{})})},{path:"/masters/customer-complaints",element:e.jsx(Rt,{module:"customer-complaint",action:"read",children:e.jsx(vke,{})})},{path:"/transactions/orders",element:e.jsx(Rt,{module:"order",action:"read",children:e.jsx(VFe,{})})},{path:"/transactions/orders/:id",element:e.jsx(Rt,{module:"order",action:"read",children:e.jsx(HFe,{})})},{path:"/transactions/delivery",element:e.jsx(Rt,{module:"delivery",action:"read",children:e.jsx(IOe,{})})},{path:"/transactions/returns",element:e.jsx(Rt,{module:"return",action:"read",children:e.jsx(fLe,{})})},{path:"/transactions/returns/:id",element:e.jsx(Rt,{module:"return",action:"read",children:e.jsx(_Le,{})})},{path:"/transactions/payments",element:e.jsx(Rt,{module:"payment",action:"read",children:e.jsx(QFe,{})})},{path:"/transactions/payments/:id",element:e.jsx(Rt,{module:"payment",action:"read",children:e.jsx(tLe,{})})},{path:"/transactions/invoices",element:e.jsx(Rt,{module:"invoice",action:"read",children:e.jsx(IFe,{})})},{path:"/transactions/credit-notes",element:e.jsx(Rt,{module:"credit-note",action:"read",children:e.jsx(NOe,{})})},{path:"/transactions/visits",element:e.jsx(Rt,{module:"visit",action:"read",children:e.jsx(kLe,{})})},{path:"/transactions/visits/:id",element:e.jsx(Rt,{module:"visit",action:"read",children:e.jsx(ELe,{})})},{path:"/transactions/asset-movement",element:e.jsx(Rt,{module:"asset-movement",action:"read",children:e.jsx(Q5e,{})})},{path:"/transactions/competitor",element:e.jsx(Rt,{module:"competitor",action:"read",children:e.jsx(iPe,{})})},{path:"/transactions/maintenance",element:e.jsx(Rt,{module:"maintenance",action:"read",children:e.jsx(I_e,{})})},{path:"/transactions/installations",element:e.jsx(Rt,{module:"installation",action:"read",children:e.jsx(XIe,{})})},{path:"/transactions/installations/:id",element:e.jsx(Rt,{module:"installation",action:"read",children:e.jsx(JIe,{})})},{path:"/transactions/inspections",element:e.jsx(Rt,{module:"inspection",action:"read",children:e.jsx(WIe,{})})},{path:"/transactions/inspections/:id",element:e.jsx(Rt,{module:"inspection",action:"read",children:e.jsx(YIe,{})})},{path:"/transactions/stock-transfer",element:e.jsx(Rt,{module:"stock-transfer",action:"read",children:e.jsx(G7e,{})})},{path:"/transactions/stock-movements",element:e.jsx(Rt,{module:"stock-movement",action:"read",children:e.jsx(k7e,{})})},{path:"/transactions/van-stock",element:e.jsx(Rt,{module:"van-stock",action:"read",children:e.jsx(Y9e,{})})},{path:"/tracking/location",element:e.jsx(Rt,{module:"report",action:"read",children:e.jsx(gIe,{})})},{path:"/tracking/routes",element:e.jsx(Rt,{module:"route-effectiveness",action:"read",children:e.jsx(bIe,{})})},{path:"/reports/orders",element:e.jsx(Rt,{module:"report",action:"read",children:e.jsx(WAe,{})})},{path:"/reports/sales-target",element:e.jsx(Rt,{module:"report",action:"read",children:e.jsx(ZAe,{})})},{path:"/reports/asset-status",element:e.jsx(Rt,{module:"report",action:"read",children:e.jsx(BAe,{})})},{path:"/reports/visits",element:e.jsx(Rt,{module:"report",action:"read",children:e.jsx(iIe,{})})},{path:"/reports/promos",element:e.jsx(Rt,{module:"report",action:"read",children:e.jsx(GAe,{})})},{path:"/reports/territory",element:e.jsx(Rt,{module:"report",action:"read",children:e.jsx(KAe,{})})},{path:"/reports/productivity",element:e.jsx(Rt,{module:"report",action:"read",children:e.jsx(QAe,{})})},{path:"/reports/competitor",element:e.jsx(Rt,{module:"report",action:"read",children:e.jsx(HAe,{})})},{path:"/reports/collection",element:e.jsx(Rt,{module:"report",action:"read",children:e.jsx(YAe,{})})},{path:"/reports/attendance-history",element:e.jsx(Rt,{module:"report",action:"read",children:e.jsx(UAe,{})})},{path:"/reports/audit-logs",element:e.jsx(Rt,{module:"report",action:"read",children:e.jsx(VAe,{})})},{path:"/reports/survey-responses",element:e.jsx(Rt,{module:"survey",action:"read",children:e.jsx(rIe,{})})},{path:"/reports/survey-responses/:id",element:e.jsx(Rt,{module:"survey",action:"read",children:e.jsx(nIe,{})})},{path:"/workflows/approvals",element:e.jsx(Rt,{module:"approval",action:"read",children:e.jsx(zLe,{})})},{path:"/workflows/approval-setup",element:e.jsx(Rt,{module:"approval",action:"read",children:e.jsx($Le,{})})},{path:"/workflows/exceptions",element:e.jsx(Rt,{module:"exception",action:"read",children:e.jsx(qLe,{})})},{path:"/workflows/alerts",element:e.jsx(Rt,{module:"alert",action:"read",children:e.jsx(TLe,{})})},{path:"/settings/tokens",element:e.jsx(Rt,{module:"token",action:"read",children:e.jsx(u_e,{})})},{path:"/settings/system",element:e.jsx(Rt,{module:"setting",action:"read",children:e.jsx(ULe,{})})},{path:"/profile",element:e.jsx(Rt,{module:"profile",action:"read",children:e.jsx(uAe,{})})},{path:"*",element:e.jsx(cAe,{})}]}],{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}}),b$e=()=>e.jsx(oV,{router:g$e}),Cc={50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},y$e=({children:t})=>{const s=yv({palette:{mode:"light",primary:{main:Cc[500],light:Cc[400],dark:Cc[600],contrastText:"#ffffff"},secondary:{main:"#6b7280",light:"#9ca3af",dark:"#4b5563",contrastText:"#ffffff"}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:500}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:Cc[600]}}},MuiChip:{styleOverrides:{colorPrimary:{backgroundColor:Cc[100],color:Cc[800],"&:hover":{backgroundColor:Cc[200]}}}},MuiIconButton:{styleOverrides:{root:{borderRadius:"6px","& .MuiTouchRipple-root":{borderRadius:"6px",overflow:"hidden"},"& .MuiTouchRipple-ripple":{borderRadius:"6px !important"},"& .MuiTouchRipple-rippleVisible":{borderRadius:"6px !important"},"& .MuiTouchRipple-child":{borderRadius:"6px !important"}}}}},primaryColors:Cc});return e.jsx($Y,{theme:s,children:t})};var cy={exports:{}},v$e=cy.exports,JD;function j$e(){return JD||(JD=1,(function(t,s){(function(a,r){t.exports=r()})(v$e,(function(){var a="week",r="year";return function(n,i,o){var l=i.prototype;l.week=function(c){if(c===void 0&&(c=null),c!==null)return this.add(7*(c-this.week()),"day");var m=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var d=o(this).startOf(r).add(1,r).date(m),p=o(this).endOf(a);if(d.isBefore(p))return 1}var x=o(this).startOf(r).date(m).startOf(a).subtract(1,"millisecond"),j=this.diff(x,a,!0);return j<0?o(this).startOf("week").week():Math.ceil(j)},l.weeks=function(c){return c===void 0&&(c=null),this.week(c)}}}))})(cy)),cy.exports}var N$e=j$e();const _$e=no(N$e);var dy={exports:{}},w$e=dy.exports,eR;function S$e(){return eR||(eR=1,(function(t,s){(function(a,r){t.exports=r()})(w$e,(function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,i=/\d\d/,o=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,c={},m=function(v){return(v=+v)+(v>68?1900:2e3)},d=function(v){return function(y){this[v]=+y}},p=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=(function(y){if(!y||y==="Z")return 0;var N=y.match(/([+-]|\d\d)/g),C=60*N[1]+(+N[2]||0);return C===0?0:N[0]==="+"?-C:C})(v)}],x=function(v){var y=c[v];return y&&(y.indexOf?y:y.s.concat(y.f))},j=function(v,y){var N,C=c.meridiem;if(C){for(var P=1;P<=24;P+=1)if(v.indexOf(C(P,0,y))>-1){N=P>12;break}}else N=v===(y?"pm":"PM");return N},_={A:[l,function(v){this.afternoon=j(v,!1)}],a:[l,function(v){this.afternoon=j(v,!0)}],Q:[n,function(v){this.month=3*(v-1)+1}],S:[n,function(v){this.milliseconds=100*+v}],SS:[i,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[o,d("seconds")],ss:[o,d("seconds")],m:[o,d("minutes")],mm:[o,d("minutes")],H:[o,d("hours")],h:[o,d("hours")],HH:[o,d("hours")],hh:[o,d("hours")],D:[o,d("day")],DD:[i,d("day")],Do:[l,function(v){var y=c.ordinal,N=v.match(/\d+/);if(this.day=N[0],y)for(var C=1;C<=31;C+=1)y(C).replace(/\[|\]/g,"")===v&&(this.day=C)}],w:[o,d("week")],ww:[i,d("week")],M:[o,d("month")],MM:[i,d("month")],MMM:[l,function(v){var y=x("months"),N=(x("monthsShort")||y.map((function(C){return C.slice(0,3)}))).indexOf(v)+1;if(N<1)throw new Error;this.month=N%12||N}],MMMM:[l,function(v){var y=x("months").indexOf(v)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,d("year")],YY:[i,function(v){this.year=m(v)}],YYYY:[/\d{4}/,d("year")],Z:p,ZZ:p};function S(v){var y,N;y=v,N=c&&c.formats;for(var C=(v=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(F,z,O){var K=O&&O.toUpperCase();return z||N[O]||a[O]||N[K].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(W,B,q){return B||q.slice(1)}))}))).match(r),P=C.length,E=0;E<P;E+=1){var D=C[E],T=_[D],A=T&&T[0],I=T&&T[1];C[E]=I?{regex:A,parser:I}:D.replace(/^\[|\]$/g,"")}return function(F){for(var z={},O=0,K=0;O<P;O+=1){var W=C[O];if(typeof W=="string")K+=W.length;else{var B=W.regex,q=W.parser,H=F.slice(K),Q=B.exec(H)[0];q.call(z,Q),F=F.replace(Q,"")}}return(function(V){var M=V.afternoon;if(M!==void 0){var R=V.hours;M?R<12&&(V.hours+=12):R===12&&(V.hours=0),delete V.afternoon}})(z),z}}return function(v,y,N){N.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(m=v.parseTwoDigitYear);var C=y.prototype,P=C.parse;C.parse=function(E){var D=E.date,T=E.utc,A=E.args;this.$u=T;var I=A[1];if(typeof I=="string"){var F=A[2]===!0,z=A[3]===!0,O=F||z,K=A[2];z&&(K=A[2]),c=this.$locale(),!F&&K&&(c=N.Ls[K]),this.$d=(function(H,Q,V,M){try{if(["x","X"].indexOf(Q)>-1)return new Date((Q==="X"?1e3:1)*H);var R=S(Q)(H),$=R.year,Y=R.month,J=R.day,te=R.hours,ee=R.minutes,ne=R.seconds,he=R.milliseconds,de=R.zone,ae=R.week,xe=new Date,ge=J||($||Y?1:xe.getDate()),le=$||xe.getFullYear(),me=0;$&&!Y||(me=Y>0?Y-1:xe.getMonth());var Ae,Ce=te||0,_e=ee||0,Ie=ne||0,et=he||0;return de?new Date(Date.UTC(le,me,ge,Ce,_e,Ie,et+60*de.offset*1e3)):V?new Date(Date.UTC(le,me,ge,Ce,_e,Ie,et)):(Ae=new Date(le,me,ge,Ce,_e,Ie,et),ae&&(Ae=M(Ae).week(ae).toDate()),Ae)}catch{return new Date("")}})(D,I,T,N),this.init(),K&&K!==!0&&(this.$L=this.locale(K).$L),O&&D!=this.format(I)&&(this.$d=new Date("")),c={}}else if(I instanceof Array)for(var W=I.length,B=1;B<=W;B+=1){A[1]=I[B-1];var q=N.apply(this,A);if(q.isValid()){this.$d=q.$d,this.$L=q.$L,this.init();break}B===W&&(this.$d=new Date(""))}else P.call(this,E)}}}))})(dy)),dy.exports}var C$e=S$e();const P$e=no(C$e);var uy={exports:{}},k$e=uy.exports,tR;function E$e(){return tR||(tR=1,(function(t,s){(function(a,r){t.exports=r()})(k$e,(function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,n,i){var o=n.prototype,l=o.format;i.en.formats=a,o.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var m=this.$locale().formats,d=(function(p,x){return p.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(j,_,S){var v=S&&S.toUpperCase();return _||x[S]||a[S]||x[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(y,N,C){return N||C.slice(1)}))}))})(c,m===void 0?{}:m);return l.call(this,d)}}}))})(uy)),uy.exports}var T$e=E$e();const M$e=no(T$e);var my={exports:{}},D$e=my.exports,sR;function R$e(){return sR||(sR=1,(function(t,s){(function(a,r){t.exports=r()})(D$e,(function(){return function(a,r,n){r.prototype.isBetween=function(i,o,l,c){var m=n(i),d=n(o),p=(c=c||"()")[0]==="(",x=c[1]===")";return(p?this.isAfter(m,l):!this.isBefore(m,l))&&(x?this.isBefore(d,l):!this.isAfter(d,l))||(p?this.isBefore(m,l):!this.isAfter(m,l))&&(x?this.isAfter(d,l):!this.isBefore(d,l))}}}))})(my)),my.exports}var A$e=R$e();const I$e=no(A$e);var py={exports:{}},O$e=py.exports,aR;function F$e(){return aR||(aR=1,(function(t,s){(function(a,r){t.exports=r()})(O$e,(function(){return function(a,r){var n=r.prototype,i=n.format;n.format=function(o){var l=this,c=this.$locale();if(!this.isValid())return i.bind(this)(o);var m=this.$utils(),d=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(p){switch(p){case"Q":return Math.ceil((l.$M+1)/3);case"Do":return c.ordinal(l.$D);case"gggg":return l.weekYear();case"GGGG":return l.isoWeekYear();case"wo":return c.ordinal(l.week(),"W");case"w":case"ww":return m.s(l.week(),p==="w"?1:2,"0");case"W":case"WW":return m.s(l.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return m.s(String(l.$H===0?24:l.$H),p==="k"?1:2,"0");case"X":return Math.floor(l.$d.getTime()/1e3);case"x":return l.$d.getTime();case"z":return"["+l.offsetName()+"]";case"zzz":return"["+l.offsetName("long")+"]";default:return p}}));return i.bind(this)(d)}}}))})(py)),py.exports}var L$e=F$e();const $$e=no(L$e);nr.extend(M$e);nr.extend(_$e);nr.extend(I$e);nr.extend($$e);const z$e={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},q$e={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},n_=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),rR=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`);class B$e{isMUIAdapter=!0;isTimezoneCompatible=!0;lib="dayjs";escapedCharacters={start:"[",end:"]"};formatTokenMap=z$e;constructor({locale:s,formats:a}={}){this.locale=s,this.formats=je({},q$e,a),nr.extend(P$e)}setLocaleToValue=s=>{const a=this.getCurrentLocaleCode();return a===s.locale()?s:s.locale(a)};hasUTCPlugin=()=>typeof nr.utc<"u";hasTimezonePlugin=()=>typeof nr.tz<"u";isSame=(s,a,r)=>{const n=this.setTimezone(a,this.getTimezone(s));return s.format(r)===n.format(r)};cleanTimezone=s=>{switch(s){case"default":return;case"system":return nr.tz.guess();default:return s}};createSystemDate=s=>{let a;if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const r=nr.tz.guess();r==="UTC"?a=nr(s):a=nr.tz(s,r)}else a=nr(s);return this.setLocaleToValue(a)};createUTCDate=s=>{if(!this.hasUTCPlugin())throw new Error(n_);return this.setLocaleToValue(nr.utc(s))};createTZDate=(s,a)=>{if(!this.hasUTCPlugin())throw new Error(n_);if(!this.hasTimezonePlugin())throw new Error(rR);const r=s!==void 0&&!s.endsWith("Z");return this.setLocaleToValue(nr(s).tz(this.cleanTimezone(a),r))};getLocaleFormats=()=>{const s=nr.Ls,a=this.locale||"en";let r=s[a];return r===void 0&&(r=s.en),r.formats};adjustOffset=s=>{if(!this.hasTimezonePlugin())return s;const a=this.getTimezone(s);if(a!=="UTC"){const r=s.tz(this.cleanTimezone(a),!0);if(r.$offset===(s.$offset??0))return s;s.$offset=r.$offset}return s};date=(s,a="default")=>s===null?null:a==="UTC"?this.createUTCDate(s):a==="system"||a==="default"&&!this.hasTimezonePlugin()?this.createSystemDate(s):this.createTZDate(s,a);getInvalidDate=()=>nr(new Date("Invalid date"));getTimezone=s=>{if(this.hasTimezonePlugin()){const a=s.$x?.$timezone;if(a)return a}return this.hasUTCPlugin()&&s.isUTC()?"UTC":"system"};setTimezone=(s,a)=>{if(this.getTimezone(s)===a)return s;if(a==="UTC"){if(!this.hasUTCPlugin())throw new Error(n_);return s.utc()}if(a==="system")return s.local();if(!this.hasTimezonePlugin()){if(a==="default")return s;throw new Error(rR)}return this.setLocaleToValue(nr.tz(s,this.cleanTimezone(a)))};toJsDate=s=>s.toDate();parse=(s,a)=>s===""?null:nr(s,a,this.locale,!0);getCurrentLocaleCode=()=>this.locale||"en";is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||"");expandFormat=s=>{const a=this.getLocaleFormats(),r=n=>n.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(i,o,l)=>o||l.slice(1));return s.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(n,i,o)=>{const l=o&&o.toUpperCase();return i||a[o]||r(a[l])})};isValid=s=>s==null?!1:s.isValid();format=(s,a)=>this.formatByString(s,this.formats[a]);formatByString=(s,a)=>this.setLocaleToValue(s).format(a);formatNumber=s=>s;isEqual=(s,a)=>s===null&&a===null?!0:s===null||a===null?!1:s.toDate().getTime()===a.toDate().getTime();isSameYear=(s,a)=>this.isSame(s,a,"YYYY");isSameMonth=(s,a)=>this.isSame(s,a,"YYYY-MM");isSameDay=(s,a)=>this.isSame(s,a,"YYYY-MM-DD");isSameHour=(s,a)=>s.isSame(a,"hour");isAfter=(s,a)=>s>a;isAfterYear=(s,a)=>this.hasUTCPlugin()?!this.isSameYear(s,a)&&s.utc()>a.utc():s.isAfter(a,"year");isAfterDay=(s,a)=>this.hasUTCPlugin()?!this.isSameDay(s,a)&&s.utc()>a.utc():s.isAfter(a,"day");isBefore=(s,a)=>s<a;isBeforeYear=(s,a)=>this.hasUTCPlugin()?!this.isSameYear(s,a)&&s.utc()<a.utc():s.isBefore(a,"year");isBeforeDay=(s,a)=>this.hasUTCPlugin()?!this.isSameDay(s,a)&&s.utc()<a.utc():s.isBefore(a,"day");isWithinRange=(s,[a,r])=>s>=a&&s<=r;startOfYear=s=>this.adjustOffset(s.startOf("year"));startOfMonth=s=>this.adjustOffset(s.startOf("month"));startOfWeek=s=>this.adjustOffset(this.setLocaleToValue(s).startOf("week"));startOfDay=s=>this.adjustOffset(s.startOf("day"));endOfYear=s=>this.adjustOffset(s.endOf("year"));endOfMonth=s=>this.adjustOffset(s.endOf("month"));endOfWeek=s=>this.adjustOffset(this.setLocaleToValue(s).endOf("week"));endOfDay=s=>this.adjustOffset(s.endOf("day"));addYears=(s,a)=>this.adjustOffset(s.add(a,"year"));addMonths=(s,a)=>this.adjustOffset(s.add(a,"month"));addWeeks=(s,a)=>this.adjustOffset(s.add(a,"week"));addDays=(s,a)=>this.adjustOffset(s.add(a,"day"));addHours=(s,a)=>this.adjustOffset(s.add(a,"hour"));addMinutes=(s,a)=>this.adjustOffset(s.add(a,"minute"));addSeconds=(s,a)=>this.adjustOffset(s.add(a,"second"));getYear=s=>s.year();getMonth=s=>s.month();getDate=s=>s.date();getHours=s=>s.hour();getMinutes=s=>s.minute();getSeconds=s=>s.second();getMilliseconds=s=>s.millisecond();setYear=(s,a)=>this.adjustOffset(s.set("year",a));setMonth=(s,a)=>this.adjustOffset(s.set("month",a));setDate=(s,a)=>this.adjustOffset(s.set("date",a));setHours=(s,a)=>this.adjustOffset(s.set("hour",a));setMinutes=(s,a)=>this.adjustOffset(s.set("minute",a));setSeconds=(s,a)=>this.adjustOffset(s.set("second",a));setMilliseconds=(s,a)=>this.adjustOffset(s.set("millisecond",a));getDaysInMonth=s=>s.daysInMonth();getWeekArray=s=>{const a=this.startOfWeek(this.startOfMonth(s)),r=this.endOfWeek(this.endOfMonth(s));let n=0,i=a;const o=[];for(;i<r;){const l=Math.floor(n/7);o[l]=o[l]||[],o[l].push(i),i=this.addDays(i,1),n+=1}return o};getWeekNumber=s=>s.week();getDayOfWeek(s){return s.day()+1}getYearRange=([s,a])=>{const r=this.startOfYear(s),n=this.endOfYear(a),i=[];let o=r;for(;this.isBefore(o,n);)i.push(o),o=this.addYears(o,1);return i}}const U$e=({children:t})=>{const s=new zae({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:!1,staleTime:3e5,gcTime:6e5,retry:(a,r)=>{const n=r?.response?.status||r?.statusCode||r?.originalError?.response?.status||r?.originalError?.statusCode;return n===403||n===401||n>=400&&n<500?!1:a<3},retryOnMount:!1},mutations:{retry:(a,r)=>{const n=r?.response?.status||r?.statusCode||r?.originalError?.response?.status;return n===403||n===401||n>=400&&n<500?!1:a<1}}}});return e.jsx(rI,{dateAdapter:B$e,children:e.jsx(y$e,{children:e.jsx(qae,{client:s,children:e.jsx(CA,{children:t})})})})},V$e=()=>e.jsx(Rre,{position:"top-right",autoClose:3e3,closeOnClick:!0,draggable:!0,theme:"light"}),H$e=({message:t="Loading your profile..."})=>{const[s,a]=g.useState(0);return g.useEffect(()=>{const r=setInterval(()=>{a(n=>{if(n>=100)return 100;const i=Math.random()*8+2,o=n+i;return Math.min(o,100)})},600);return()=>{clearInterval(r)}},[]),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"flex h-screen",children:[e.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(X,{variant:"rectangular",width:32,height:32,className:"!rounded-lg !bg-blue-600"}),e.jsx(X,{variant:"text",width:100,height:24})]})}),e.jsx("div",{className:"flex-1 p-4 space-y-2",children:[1,2,3,4,5,6].map(r=>e.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg",children:[e.jsx(X,{variant:"rectangular",width:20,height:20}),e.jsx(X,{variant:"text",width:120,height:16})]},r))}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(X,{variant:"circular",width:40,height:40}),e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{variant:"text",width:80,height:16,className:"!mb-1"}),e.jsx(X,{variant:"text",width:60,height:12})]})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx(X,{variant:"text",width:200,height:24})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(X,{variant:"circular",width:32,height:32}),e.jsx(X,{variant:"circular",width:32,height:32}),e.jsx(X,{variant:"circular",width:40,height:40})]})]})}),e.jsxs("div",{className:"flex-1 p-6 overflow-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(X,{variant:"text",width:300,height:32,className:"!mb-2"}),e.jsx(X,{variant:"text",width:400,height:16})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[1,2,3,4].map(r=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{variant:"text",width:"60%",height:16,className:"!mb-2"}),e.jsx(X,{variant:"text",width:"40%",height:28,className:"!mb-1"}),e.jsx(X,{variant:"text",width:"30%",height:14})]}),e.jsx(X,{variant:"rectangular",width:48,height:48,className:"!rounded-full"})]})},r))}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(X,{variant:"text",width:150,height:24}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(X,{variant:"rectangular",width:200,height:40,className:"!rounded-lg"}),e.jsx(X,{variant:"rectangular",width:120,height:40,className:"!rounded-lg"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-6 gap-4 pb-2 border-b border-gray-200",children:[1,2,3,4,5,6].map(r=>e.jsx(X,{variant:"text",width:"80%",height:16},r))}),[1,2,3,4,5].map(r=>e.jsx("div",{className:"grid grid-cols-6 gap-4 py-3 border-b border-gray-100",children:[1,2,3,4,5,6].map(n=>e.jsxs("div",{className:"flex items-center space-x-2",children:[n===1&&e.jsx(X,{variant:"circular",width:32,height:32}),e.jsx(X,{variant:"text",width:"70%",height:16})]},n))},r))]}),e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200",children:[e.jsx(X,{variant:"text",width:150,height:16}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{variant:"rectangular",width:32,height:32,className:"!rounded"}),e.jsx(X,{variant:"rectangular",width:32,height:32,className:"!rounded"}),e.jsx(X,{variant:"rectangular",width:32,height:32,className:"!rounded"})]})]})]})]})]})]}),e.jsx("div",{className:"absolute inset-0 bg-white/30 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"p-8 text-center min-w-[400px] max-w-[500px]",children:[e.jsxs("div",{className:"inline-flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center animate-pulse",children:e.jsx("span",{className:"text-white font-bold text-sm sm:text-lg",children:"D"})}),e.jsx("span",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"DCC-SFA"})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-6",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce"}),e.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"text-sm text-gray-500",children:[Math.round(s),"% complete"]})}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${s}%`}})}),e.jsx("p",{className:"text-gray-600 text-sm",children:t})]})})]})},W$e=({children:t})=>{const{isLoading:s,error:a}=PA(),[r,n]=g.useState(()=>!navigator.onLine);yt.useEffect(()=>{const o=()=>n(!1),l=()=>n(!0);return window.addEventListener("online",o),window.addEventListener("offline",l),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",l)}},[]);const i=g.useMemo(()=>{if(r)return!0;if(!a)return!1;const o=a,l=o?.statusCode||o?.response?.status||o?.originalError?.response?.status,c=l===401||l===403,m=o?.errorType==="NETWORK_ERROR"||o?.errorType==="TIMEOUT"||o?.errorType==="AUTHENTICATION_ERROR"||o?.errorType==="AUTHORIZATION_ERROR"||l===0&&!o?.response||!o?.response&&(o?.code==="ERR_NETWORK"||o?.code==="ECONNREFUSED"||o?.code==="ETIMEDOUT"||o?.code==="ENOTFOUND")||o?.message&&(o.message.includes("Network")||o.message.includes("network"));return c||m},[a,r]);return s?e.jsx(H$e,{message:"Loading..."}):i?e.jsx(yA,{}):e.jsx(e.Fragment,{children:t})},Y$e=({children:t})=>e.jsx(CA,{children:e.jsx(W$e,{children:t})}),G$e=()=>e.jsx(q_,{onError:(t,s)=>{},children:e.jsx(U$e,{children:e.jsx(q_,{children:e.jsxs(Y$e,{children:[e.jsx(b$e,{}),e.jsx(V$e,{})]})})})});Aq.createRoot(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(G$e,{})}))});export default K$e();
