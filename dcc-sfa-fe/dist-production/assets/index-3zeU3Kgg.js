var Eq=(t,s)=>()=>(s||t((s={exports:{}}).exports,s),s.exports);var kze=Eq((ui,mi)=>{function Tq(t,s){for(var a=0;a<s.length;a++){const n=s[a];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(n,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}})();function ao(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var R2={exports:{}},Mh={};var mk;function Mq(){if(mk)return Mh;mk=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function a(n,r,i){var o=null;if(i!==void 0&&(o=""+i),r.key!==void 0&&(o=""+r.key),"key"in r){i={};for(var l in r)l!=="key"&&(i[l]=r[l])}else i=r;return r=i.ref,{$$typeof:t,type:n,key:o,ref:r!==void 0?r:null,props:i}}return Mh.Fragment=s,Mh.jsx=a,Mh.jsxs=a,Mh}var pk;function Dq(){return pk||(pk=1,R2.exports=Mq()),R2.exports}var e=Dq(),A2={exports:{}},Es={};var hk;function Rq(){if(hk)return Es;hk=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),f=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=f&&M[f]||M["@@iterator"],typeof M=="function"?M:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function b(M,L,W){this.props=M,this.context=L,this.refs=j,this.updater=W||_}b.prototype.isReactComponent={},b.prototype.setState=function(M,L){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,L,"setState")},b.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function w(){}w.prototype=b.prototype;function C(M,L,W){this.props=M,this.context=L,this.refs=j,this.updater=W||_}var P=C.prototype=new w;P.constructor=C,S(P,b.prototype),P.isPureReactComponent=!0;var E=Array.isArray;function D(){}var T={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function z(M,L,W){var X=W.ref;return{$$typeof:t,type:M,key:L,ref:X!==void 0?X:null,props:W}}function O(M,L){return z(M.type,L,M.props)}function $(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function A(M){var L={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(W){return L[W]})}var Q=/\/+/g;function K(M,L){return typeof M=="object"&&M!==null&&M.key!=null?A(""+M.key):L.toString(36)}function U(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(L){M.status==="pending"&&(M.status="fulfilled",M.value=L)},function(L){M.status==="pending"&&(M.status="rejected",M.reason=L)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function B(M,L,W,X,te){var se=typeof M;(se==="undefined"||se==="boolean")&&(M=null);var ae=!1;if(M===null)ae=!0;else switch(se){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(M.$$typeof){case t:case s:ae=!0;break;case u:return ae=M._init,B(ae(M._payload),L,W,X,te)}}if(ae)return te=te(M),ae=X===""?"."+K(M,0):X,E(te)?(W="",ae!=null&&(W=ae.replace(Q,"$&/")+"/"),B(te,L,W,"",function(re){return re})):te!=null&&($(te)&&(te=O(te,W+(te.key==null||M&&M.key===te.key?"":(""+te.key).replace(Q,"$&/")+"/")+ae)),L.push(te)),1;ae=0;var pe=X===""?".":X+":";if(E(M))for(var he=0;he<M.length;he++)X=M[he],se=pe+K(X,he),ae+=B(X,L,W,se,te);else if(he=v(M),typeof he=="function")for(M=he.call(M),he=0;!(X=M.next()).done;)X=X.value,se=pe+K(X,he++),ae+=B(X,L,W,se,te);else if(se==="object"){if(typeof M.then=="function")return B(U(M),L,W,X,te);throw L=String(M),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ae}function V(M,L,W){if(M==null)return M;var X=[],te=0;return B(M,X,"","",function(se){return L.call(W,se,te++)}),X}function Y(M){if(M._status===-1){var L=M._result;L=L(),L.then(function(W){(M._status===0||M._status===-1)&&(M._status=1,M._result=W)},function(W){(M._status===0||M._status===-1)&&(M._status=2,M._result=W)}),M._status===-1&&(M._status=0,M._result=L)}if(M._status===1)return M._result.default;throw M._result}var H=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},F={map:V,forEach:function(M,L,W){V(M,function(){L.apply(this,arguments)},W)},count:function(M){var L=0;return V(M,function(){L++}),L},toArray:function(M){return V(M,function(L){return L})||[]},only:function(M){if(!$(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Es.Activity=h,Es.Children=F,Es.Component=b,Es.Fragment=a,Es.Profiler=r,Es.PureComponent=C,Es.StrictMode=n,Es.Suspense=c,Es.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Es.__COMPILER_RUNTIME={__proto__:null,c:function(M){return T.H.useMemoCache(M)}},Es.cache=function(M){return function(){return M.apply(null,arguments)}},Es.cacheSignal=function(){return null},Es.cloneElement=function(M,L,W){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var X=S({},M.props),te=M.key;if(L!=null)for(se in L.key!==void 0&&(te=""+L.key),L)!R.call(L,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&L.ref===void 0||(X[se]=L[se]);var se=arguments.length-2;if(se===1)X.children=W;else if(1<se){for(var ae=Array(se),pe=0;pe<se;pe++)ae[pe]=arguments[pe+2];X.children=ae}return z(M.type,te,X)},Es.createContext=function(M){return M={$$typeof:o,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:i,_context:M},M},Es.createElement=function(M,L,W){var X,te={},se=null;if(L!=null)for(X in L.key!==void 0&&(se=""+L.key),L)R.call(L,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(te[X]=L[X]);var ae=arguments.length-2;if(ae===1)te.children=W;else if(1<ae){for(var pe=Array(ae),he=0;he<ae;he++)pe[he]=arguments[he+2];te.children=pe}if(M&&M.defaultProps)for(X in ae=M.defaultProps,ae)te[X]===void 0&&(te[X]=ae[X]);return z(M,se,te)},Es.createRef=function(){return{current:null}},Es.forwardRef=function(M){return{$$typeof:l,render:M}},Es.isValidElement=$,Es.lazy=function(M){return{$$typeof:u,_payload:{_status:-1,_result:M},_init:Y}},Es.memo=function(M,L){return{$$typeof:m,type:M,compare:L===void 0?null:L}},Es.startTransition=function(M){var L=T.T,W={};T.T=W;try{var X=M(),te=T.S;te!==null&&te(W,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(D,H)}catch(se){H(se)}finally{L!==null&&W.types!==null&&(L.types=W.types),T.T=L}},Es.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Es.use=function(M){return T.H.use(M)},Es.useActionState=function(M,L,W){return T.H.useActionState(M,L,W)},Es.useCallback=function(M,L){return T.H.useCallback(M,L)},Es.useContext=function(M){return T.H.useContext(M)},Es.useDebugValue=function(){},Es.useDeferredValue=function(M,L){return T.H.useDeferredValue(M,L)},Es.useEffect=function(M,L){return T.H.useEffect(M,L)},Es.useEffectEvent=function(M){return T.H.useEffectEvent(M)},Es.useId=function(){return T.H.useId()},Es.useImperativeHandle=function(M,L,W){return T.H.useImperativeHandle(M,L,W)},Es.useInsertionEffect=function(M,L){return T.H.useInsertionEffect(M,L)},Es.useLayoutEffect=function(M,L){return T.H.useLayoutEffect(M,L)},Es.useMemo=function(M,L){return T.H.useMemo(M,L)},Es.useOptimistic=function(M,L){return T.H.useOptimistic(M,L)},Es.useReducer=function(M,L,W){return T.H.useReducer(M,L,W)},Es.useRef=function(M){return T.H.useRef(M)},Es.useState=function(M){return T.H.useState(M)},Es.useSyncExternalStore=function(M,L,W){return T.H.useSyncExternalStore(M,L,W)},Es.useTransition=function(){return T.H.useTransition()},Es.version="19.2.3",Es}var fk;function Xb(){return fk||(fk=1,A2.exports=Rq()),A2.exports}var g=Xb();const Nt=ao(g),ox=Tq({__proto__:null,default:Nt},[g]);var I2={exports:{}},Dh={},O2={exports:{}},F2={};var xk;function Aq(){return xk||(xk=1,(function(t){function s(B,V){var Y=B.length;B.push(V);e:for(;0<Y;){var H=Y-1>>>1,F=B[H];if(0<r(F,V))B[H]=V,B[Y]=F,Y=H;else break e}}function a(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var V=B[0],Y=B.pop();if(Y!==V){B[0]=Y;e:for(var H=0,F=B.length,M=F>>>1;H<M;){var L=2*(H+1)-1,W=B[L],X=L+1,te=B[X];if(0>r(W,Y))X<F&&0>r(te,W)?(B[H]=te,B[X]=Y,H=X):(B[H]=W,B[L]=Y,H=L);else if(X<F&&0>r(te,Y))B[H]=te,B[X]=Y,H=X;else break e}}return V}function r(B,V){var Y=B.sortIndex-V.sortIndex;return Y!==0?Y:B.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],m=[],u=1,h=null,f=3,v=!1,_=!1,S=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var V=a(m);V!==null;){if(V.callback===null)n(m);else if(V.startTime<=B)n(m),V.sortIndex=V.expirationTime,s(c,V);else break;V=a(m)}}function E(B){if(S=!1,P(B),!_)if(a(c)!==null)_=!0,D||(D=!0,A());else{var V=a(m);V!==null&&U(E,V.startTime-B)}}var D=!1,T=-1,R=5,z=-1;function O(){return j?!0:!(t.unstable_now()-z<R)}function $(){if(j=!1,D){var B=t.unstable_now();z=B;var V=!0;try{e:{_=!1,S&&(S=!1,w(T),T=-1),v=!0;var Y=f;try{t:{for(P(B),h=a(c);h!==null&&!(h.expirationTime>B&&O());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var F=H(h.expirationTime<=B);if(B=t.unstable_now(),typeof F=="function"){h.callback=F,P(B),V=!0;break t}h===a(c)&&n(c),P(B)}else n(c);h=a(c)}if(h!==null)V=!0;else{var M=a(m);M!==null&&U(E,M.startTime-B),V=!1}}break e}finally{h=null,f=Y,v=!1}V=void 0}}finally{V?A():D=!1}}}var A;if(typeof C=="function")A=function(){C($)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,K=Q.port2;Q.port1.onmessage=$,A=function(){K.postMessage(null)}}else A=function(){b($,0)};function U(B,V){T=b(function(){B(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var Y=f;f=V;try{return B()}finally{f=Y}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Y=f;f=B;try{return V()}finally{f=Y}},t.unstable_scheduleCallback=function(B,V,Y){var H=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?H+Y:H):Y=H,B){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Y+F,B={id:u++,callback:V,priorityLevel:B,startTime:Y,expirationTime:F,sortIndex:-1},Y>H?(B.sortIndex=Y,s(m,B),a(c)===null&&B===a(m)&&(S?(w(T),T=-1):S=!0,U(E,Y-H))):(B.sortIndex=F,s(c,B),_||v||(_=!0,D||(D=!0,A()))),B},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(B){var V=f;return function(){var Y=f;f=V;try{return B.apply(this,arguments)}finally{f=Y}}}})(F2)),F2}var gk;function Iq(){return gk||(gk=1,O2.exports=Aq()),O2.exports}var L2={exports:{}},sr={};var yk;function Oq(){if(yk)return sr;yk=1;var t=Xb();function s(c){var m="https://react.dev/errors/"+c;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)m+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+c+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var n={d:{f:a,r:function(){throw Error(s(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},r=Symbol.for("react.portal");function i(c,m,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:h==null?null:""+h,children:c,containerInfo:m,implementation:u}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,m){if(c==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,sr.createPortal=function(c,m){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(s(299));return i(c,m,null,u)},sr.flushSync=function(c){var m=o.T,u=n.p;try{if(o.T=null,n.p=2,c)return c()}finally{o.T=m,n.p=u,n.d.f()}},sr.preconnect=function(c,m){typeof c=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(c,m))},sr.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},sr.preinit=function(c,m){if(typeof c=="string"&&m&&typeof m.as=="string"){var u=m.as,h=l(u,m.crossOrigin),f=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;u==="style"?n.d.S(c,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:h,integrity:f,fetchPriority:v}):u==="script"&&n.d.X(c,{crossOrigin:h,integrity:f,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},sr.preinitModule=function(c,m){if(typeof c=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var u=l(m.as,m.crossOrigin);n.d.M(c,{crossOrigin:u,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(c)},sr.preload=function(c,m){if(typeof c=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var u=m.as,h=l(u,m.crossOrigin);n.d.L(c,u,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},sr.preloadModule=function(c,m){if(typeof c=="string")if(m){var u=l(m.as,m.crossOrigin);n.d.m(c,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:u,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(c)},sr.requestFormReset=function(c){n.d.r(c)},sr.unstable_batchedUpdates=function(c,m){return c(m)},sr.useFormState=function(c,m,u){return o.H.useFormState(c,m,u)},sr.useFormStatus=function(){return o.H.useHostTransitionStatus()},sr.version="19.2.3",sr}var bk;function p7(){if(bk)return L2.exports;bk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),L2.exports=Oq(),L2.exports}var vk;function Fq(){if(vk)return Dh;vk=1;var t=Iq(),s=Xb(),a=p7();function n(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)p+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function i(d){var p=d,N=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,(p.flags&4098)!==0&&(N=p.return),d=p.return;while(d)}return p.tag===3?N:null}function o(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function l(d){if(d.tag===31){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function c(d){if(i(d)!==d)throw Error(n(188))}function m(d){var p=d.alternate;if(!p){if(p=i(d),p===null)throw Error(n(188));return p!==d?null:d}for(var N=d,k=p;;){var I=N.return;if(I===null)break;var q=I.alternate;if(q===null){if(k=I.return,k!==null){N=k;continue}break}if(I.child===q.child){for(q=I.child;q;){if(q===N)return c(I),d;if(q===k)return c(I),p;q=q.sibling}throw Error(n(188))}if(N.return!==k.return)N=I,k=q;else{for(var ee=!1,ue=I.child;ue;){if(ue===N){ee=!0,N=I,k=q;break}if(ue===k){ee=!0,k=I,N=q;break}ue=ue.sibling}if(!ee){for(ue=q.child;ue;){if(ue===N){ee=!0,N=q,k=I;break}if(ue===k){ee=!0,k=q,N=I;break}ue=ue.sibling}if(!ee)throw Error(n(189))}}if(N.alternate!==k)throw Error(n(190))}if(N.tag!==3)throw Error(n(188));return N.stateNode.current===N?d:p}function u(d){var p=d.tag;if(p===5||p===26||p===27||p===6)return d;for(d=d.child;d!==null;){if(p=u(d),p!==null)return p;d=d.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function A(d){return d===null||typeof d!="object"?null:(d=$&&d[$]||d["@@iterator"],typeof d=="function"?d:null)}var Q=Symbol.for("react.client.reference");function K(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===Q?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case S:return"Fragment";case b:return"Profiler";case j:return"StrictMode";case E:return"Suspense";case D:return"SuspenseList";case z:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case _:return"Portal";case C:return d.displayName||"Context";case w:return(d._context.displayName||"Context")+".Consumer";case P:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case T:return p=d.displayName||null,p!==null?p:K(d.type)||"Memo";case R:p=d._payload,d=d._init;try{return K(d(p))}catch{}}return null}var U=Array.isArray,B=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},H=[],F=-1;function M(d){return{current:d}}function L(d){0>F||(d.current=H[F],H[F]=null,F--)}function W(d,p){F++,H[F]=d.current,d.current=p}var X=M(null),te=M(null),se=M(null),ae=M(null);function pe(d,p){switch(W(se,p),W(te,d),W(X,null),p.nodeType){case 9:case 11:d=(d=p.documentElement)&&(d=d.namespaceURI)?I6(d):0;break;default:if(d=p.tagName,p=p.namespaceURI)p=I6(p),d=O6(p,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}L(X),W(X,d)}function he(){L(X),L(te),L(se)}function re(d){d.memoizedState!==null&&W(ae,d);var p=X.current,N=O6(p,d.type);p!==N&&(W(te,d),W(X,N))}function xe(d){te.current===d&&(L(X),L(te)),ae.current===d&&(L(ae),kh._currentValue=Y)}var ge,le;function de(d){if(ge===void 0)try{throw Error()}catch(N){var p=N.stack.trim().match(/\n( *(at )?)/);ge=p&&p[1]||"",le=-1<N.stack.indexOf(`
    at`)?" (<anonymous>)":-1<N.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+d+le}var we=!1;function Ae(d,p){if(!d||we)return"";we=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var k={DetermineComponentFrameRoot:function(){try{if(p){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(at){var Ke=at}Reflect.construct(d,[],vt)}else{try{vt.call()}catch(at){Ke=at}d.call(vt.prototype)}}else{try{throw Error()}catch(at){Ke=at}(vt=d())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(at){if(at&&Ke&&typeof at.stack=="string")return[at.stack,Ke.stack]}return[null,null]}};k.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(k.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(k.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var q=k.DetermineComponentFrameRoot(),ee=q[0],ue=q[1];if(ee&&ue){var Se=ee.split(`
`),He=ue.split(`
`);for(I=k=0;k<Se.length&&!Se[k].includes("DetermineComponentFrameRoot");)k++;for(;I<He.length&&!He[I].includes("DetermineComponentFrameRoot");)I++;if(k===Se.length||I===He.length)for(k=Se.length-1,I=He.length-1;1<=k&&0<=I&&Se[k]!==He[I];)I--;for(;1<=k&&0<=I;k--,I--)if(Se[k]!==He[I]){if(k!==1||I!==1)do if(k--,I--,0>I||Se[k]!==He[I]){var ut=`
`+Se[k].replace(" at new "," at ");return d.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",d.displayName)),ut}while(1<=k&&0<=I);break}}}finally{we=!1,Error.prepareStackTrace=N}return(N=d?d.displayName||d.name:"")?de(N):""}function Fe(d,p){switch(d.tag){case 26:case 27:case 5:return de(d.type);case 16:return de("Lazy");case 13:return d.child!==p&&p!==null?de("Suspense Fallback"):de("Suspense");case 19:return de("SuspenseList");case 0:case 15:return Ae(d.type,!1);case 11:return Ae(d.type.render,!1);case 1:return Ae(d.type,!0);case 31:return de("Activity");default:return""}}function Me(d){try{var p="",N=null;do p+=Fe(d,N),N=d,d=d.return;while(d);return p}catch(k){return`
Error generating stack: `+k.message+`
`+k.stack}}var Xe=Object.prototype.hasOwnProperty,ke=t.unstable_scheduleCallback,Ye=t.unstable_cancelCallback,ye=t.unstable_shouldYield,We=t.unstable_requestPaint,Ge=t.unstable_now,jt=t.unstable_getCurrentPriorityLevel,dt=t.unstable_ImmediatePriority,wt=t.unstable_UserBlockingPriority,Dt=t.unstable_NormalPriority,ve=t.unstable_LowPriority,Le=t.unstable_IdlePriority,$e=t.log,bt=t.unstable_setDisableYieldValue,Zt=null,Ot=null;function It(d){if(typeof $e=="function"&&bt(d),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Zt,d)}catch{}}var ts=Math.clz32?Math.clz32:es,st=Math.log,Gt=Math.LN2;function es(d){return d>>>=0,d===0?32:31-(st(d)/Gt|0)|0}var us=256,As=262144,Ls=4194304;function ws(d){var p=d&42;if(p!==0)return p;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function ma(d,p,N){var k=d.pendingLanes;if(k===0)return 0;var I=0,q=d.suspendedLanes,ee=d.pingedLanes;d=d.warmLanes;var ue=k&134217727;return ue!==0?(k=ue&~q,k!==0?I=ws(k):(ee&=ue,ee!==0?I=ws(ee):N||(N=ue&~d,N!==0&&(I=ws(N))))):(ue=k&~q,ue!==0?I=ws(ue):ee!==0?I=ws(ee):N||(N=k&~d,N!==0&&(I=ws(N)))),I===0?0:p!==0&&p!==I&&(p&q)===0&&(q=I&-I,N=p&-p,q>=N||q===32&&(N&4194048)!==0)?p:I}function ca(d,p){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&p)===0}function fa(d,p){switch(d){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qt(){var d=Ls;return Ls<<=1,(Ls&62914560)===0&&(Ls=4194304),d}function zs(d){for(var p=[],N=0;31>N;N++)p.push(d);return p}function Ft(d,p){d.pendingLanes|=p,p!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function Qt(d,p,N,k,I,q){var ee=d.pendingLanes;d.pendingLanes=N,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=N,d.entangledLanes&=N,d.errorRecoveryDisabledLanes&=N,d.shellSuspendCounter=0;var ue=d.entanglements,Se=d.expirationTimes,He=d.hiddenUpdates;for(N=ee&~N;0<N;){var ut=31-ts(N),vt=1<<ut;ue[ut]=0,Se[ut]=-1;var Ke=He[ut];if(Ke!==null)for(He[ut]=null,ut=0;ut<Ke.length;ut++){var at=Ke[ut];at!==null&&(at.lane&=-536870913)}N&=~vt}k!==0&&Ms(d,k,0),q!==0&&I===0&&d.tag!==0&&(d.suspendedLanes|=q&~(ee&~p))}function Ms(d,p,N){d.pendingLanes|=p,d.suspendedLanes&=~p;var k=31-ts(p);d.entangledLanes|=p,d.entanglements[k]=d.entanglements[k]|1073741824|N&261930}function je(d,p){var N=d.entangledLanes|=p;for(d=d.entanglements;N;){var k=31-ts(N),I=1<<k;I&p|d[k]&p&&(d[k]|=p),N&=~I}}function Ce(d,p){var N=p&-p;return N=(N&42)!==0?1:Be(N),(N&(d.suspendedLanes|p))!==0?0:N}function Be(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function xt(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function ce(){var d=V.p;return d!==0?d:(d=window.event,d===void 0?32:rk(d.type))}function Te(d,p){var N=V.p;try{return V.p=d,p()}finally{V.p=N}}var Ie=Math.random().toString(36).slice(2),rt="__reactFiber$"+Ie,gt="__reactProps$"+Ie,Kt="__reactContainer$"+Ie,os="__reactEvents$"+Ie,Ue="__reactListeners$"+Ie,zt="__reactHandles$"+Ie,Pe="__reactResources$"+Ie,qe="__reactMarker$"+Ie;function Mt(d){delete d[rt],delete d[gt],delete d[os],delete d[Ue],delete d[zt]}function Xt(d){var p=d[rt];if(p)return p;for(var N=d.parentNode;N;){if(p=N[Kt]||N[rt]){if(N=p.alternate,p.child!==null||N!==null&&N.child!==null)for(d=U6(d);d!==null;){if(N=d[rt])return N;d=U6(d)}return p}d=N,N=d.parentNode}return null}function $t(d){if(d=d[rt]||d[Kt]){var p=d.tag;if(p===5||p===6||p===13||p===31||p===26||p===27||p===3)return d}return null}function Is(d){var p=d.tag;if(p===5||p===26||p===27||p===6)return d.stateNode;throw Error(n(33))}function $s(d){var p=d[Pe];return p||(p=d[Pe]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function Ks(d){d[qe]=!0}var qs=new Set,Wa={};function en(d,p){Pn(d,p),Pn(d+"Capture",p)}function Pn(d,p){for(Wa[d]=p,d=0;d<p.length;d++)qs.add(p[d])}var Ss=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),An={},In={};function Ds(d){return Xe.call(In,d)?!0:Xe.call(An,d)?!1:Ss.test(d)?In[d]=!0:(An[d]=!0,!1)}function Za(d,p,N){if(Ds(p))if(N===null)d.removeAttribute(p);else{switch(typeof N){case"undefined":case"function":case"symbol":d.removeAttribute(p);return;case"boolean":var k=p.toLowerCase().slice(0,5);if(k!=="data-"&&k!=="aria-"){d.removeAttribute(p);return}}d.setAttribute(p,""+N)}}function Gr(d,p,N){if(N===null)d.removeAttribute(p);else{switch(typeof N){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(p);return}d.setAttribute(p,""+N)}}function En(d,p,N,k){if(k===null)d.removeAttribute(N);else{switch(typeof k){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(N);return}d.setAttributeNS(p,N,""+k)}}function Zs(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function md(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Ig(d,p,N){var k=Object.getOwnPropertyDescriptor(d.constructor.prototype,p);if(!d.hasOwnProperty(p)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var I=k.get,q=k.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return I.call(this)},set:function(ee){N=""+ee,q.call(this,ee)}}),Object.defineProperty(d,p,{enumerable:k.enumerable}),{getValue:function(){return N},setValue:function(ee){N=""+ee},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function Up(d){if(!d._valueTracker){var p=md(d)?"checked":"value";d._valueTracker=Ig(d,p,""+d[p])}}function P3(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var N=p.getValue(),k="";return d&&(k=md(d)?d.checked?"true":"false":d.value),d=k,d!==N?(p.setValue(d),!0):!1}function Og(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var wz=/[\n"\\]/g;function wi(d){return d.replace(wz,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function k1(d,p,N,k,I,q,ee,ue){d.name="",ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?d.type=ee:d.removeAttribute("type"),p!=null?ee==="number"?(p===0&&d.value===""||d.value!=p)&&(d.value=""+Zs(p)):d.value!==""+Zs(p)&&(d.value=""+Zs(p)):ee!=="submit"&&ee!=="reset"||d.removeAttribute("value"),p!=null?P1(d,ee,Zs(p)):N!=null?P1(d,ee,Zs(N)):k!=null&&d.removeAttribute("value"),I==null&&q!=null&&(d.defaultChecked=!!q),I!=null&&(d.checked=I&&typeof I!="function"&&typeof I!="symbol"),ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?d.name=""+Zs(ue):d.removeAttribute("name")}function E3(d,p,N,k,I,q,ee,ue){if(q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(d.type=q),p!=null||N!=null){if(!(q!=="submit"&&q!=="reset"||p!=null)){Up(d);return}N=N!=null?""+Zs(N):"",p=p!=null?""+Zs(p):N,ue||p===d.value||(d.value=p),d.defaultValue=p}k=k??I,k=typeof k!="function"&&typeof k!="symbol"&&!!k,d.checked=ue?d.checked:!!k,d.defaultChecked=!!k,ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"&&(d.name=ee),Up(d)}function P1(d,p,N){p==="number"&&Og(d.ownerDocument)===d||d.defaultValue===""+N||(d.defaultValue=""+N)}function Au(d,p,N,k){if(d=d.options,p){p={};for(var I=0;I<N.length;I++)p["$"+N[I]]=!0;for(N=0;N<d.length;N++)I=p.hasOwnProperty("$"+d[N].value),d[N].selected!==I&&(d[N].selected=I),I&&k&&(d[N].defaultSelected=!0)}else{for(N=""+Zs(N),p=null,I=0;I<d.length;I++){if(d[I].value===N){d[I].selected=!0,k&&(d[I].defaultSelected=!0);return}p!==null||d[I].disabled||(p=d[I])}p!==null&&(p.selected=!0)}}function T3(d,p,N){if(p!=null&&(p=""+Zs(p),p!==d.value&&(d.value=p),N==null)){d.defaultValue!==p&&(d.defaultValue=p);return}d.defaultValue=N!=null?""+Zs(N):""}function M3(d,p,N,k){if(p==null){if(k!=null){if(N!=null)throw Error(n(92));if(U(k)){if(1<k.length)throw Error(n(93));k=k[0]}N=k}N==null&&(N=""),p=N}N=Zs(p),d.defaultValue=N,k=d.textContent,k===N&&k!==""&&k!==null&&(d.value=k),Up(d)}function Iu(d,p){if(p){var N=d.firstChild;if(N&&N===d.lastChild&&N.nodeType===3){N.nodeValue=p;return}}d.textContent=p}var _z=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function D3(d,p,N){var k=p.indexOf("--")===0;N==null||typeof N=="boolean"||N===""?k?d.setProperty(p,""):p==="float"?d.cssFloat="":d[p]="":k?d.setProperty(p,N):typeof N!="number"||N===0||_z.has(p)?p==="float"?d.cssFloat=N:d[p]=(""+N).trim():d[p]=N+"px"}function R3(d,p,N){if(p!=null&&typeof p!="object")throw Error(n(62));if(d=d.style,N!=null){for(var k in N)!N.hasOwnProperty(k)||p!=null&&p.hasOwnProperty(k)||(k.indexOf("--")===0?d.setProperty(k,""):k==="float"?d.cssFloat="":d[k]="");for(var I in p)k=p[I],p.hasOwnProperty(I)&&N[I]!==k&&D3(d,I,k)}else for(var q in p)p.hasOwnProperty(q)&&D3(d,q,p[q])}function E1(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sz=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fg(d){return Cz.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function ul(){}var T1=null;function M1(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Ou=null,Fu=null;function A3(d){var p=$t(d);if(p&&(d=p.stateNode)){var N=d[gt]||null;e:switch(d=p.stateNode,p.type){case"input":if(k1(d,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name),p=N.name,N.type==="radio"&&p!=null){for(N=d;N.parentNode;)N=N.parentNode;for(N=N.querySelectorAll('input[name="'+wi(""+p)+'"][type="radio"]'),p=0;p<N.length;p++){var k=N[p];if(k!==d&&k.form===d.form){var I=k[gt]||null;if(!I)throw Error(n(90));k1(k,I.value,I.defaultValue,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name)}}for(p=0;p<N.length;p++)k=N[p],k.form===d.form&&P3(k)}break e;case"textarea":T3(d,N.value,N.defaultValue);break e;case"select":p=N.value,p!=null&&Au(d,!!N.multiple,p,!1)}}}var D1=!1;function I3(d,p,N){if(D1)return d(p,N);D1=!0;try{var k=d(p);return k}finally{if(D1=!1,(Ou!==null||Fu!==null)&&(_0(),Ou&&(p=Ou,d=Fu,Fu=Ou=null,A3(p),d)))for(p=0;p<d.length;p++)A3(d[p])}}function Vp(d,p){var N=d.stateNode;if(N===null)return null;var k=N[gt]||null;if(k===null)return null;N=k[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(d=d.type,k=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!k;break e;default:d=!1}if(d)return null;if(N&&typeof N!="function")throw Error(n(231,p,typeof N));return N}var ml=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),R1=!1;if(ml)try{var Hp={};Object.defineProperty(Hp,"passive",{get:function(){R1=!0}}),window.addEventListener("test",Hp,Hp),window.removeEventListener("test",Hp,Hp)}catch{R1=!1}var oc=null,A1=null,Lg=null;function O3(){if(Lg)return Lg;var d,p=A1,N=p.length,k,I="value"in oc?oc.value:oc.textContent,q=I.length;for(d=0;d<N&&p[d]===I[d];d++);var ee=N-d;for(k=1;k<=ee&&p[N-k]===I[q-k];k++);return Lg=I.slice(d,1<k?1-k:void 0)}function zg(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function $g(){return!0}function F3(){return!1}function kr(d){function p(N,k,I,q,ee){this._reactName=N,this._targetInst=I,this.type=k,this.nativeEvent=q,this.target=ee,this.currentTarget=null;for(var ue in d)d.hasOwnProperty(ue)&&(N=d[ue],this[ue]=N?N(q):q[ue]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?$g:F3,this.isPropagationStopped=F3,this}return h(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var N=this.nativeEvent;N&&(N.preventDefault?N.preventDefault():typeof N.returnValue!="unknown"&&(N.returnValue=!1),this.isDefaultPrevented=$g)},stopPropagation:function(){var N=this.nativeEvent;N&&(N.stopPropagation?N.stopPropagation():typeof N.cancelBubble!="unknown"&&(N.cancelBubble=!0),this.isPropagationStopped=$g)},persist:function(){},isPersistent:$g}),p}var pd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qg=kr(pd),Wp=h({},pd,{view:0,detail:0}),kz=kr(Wp),I1,O1,Yp,Bg=h({},Wp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:L1,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Yp&&(Yp&&d.type==="mousemove"?(I1=d.screenX-Yp.screenX,O1=d.screenY-Yp.screenY):O1=I1=0,Yp=d),I1)},movementY:function(d){return"movementY"in d?d.movementY:O1}}),L3=kr(Bg),Pz=h({},Bg,{dataTransfer:0}),Ez=kr(Pz),Tz=h({},Wp,{relatedTarget:0}),F1=kr(Tz),Mz=h({},pd,{animationName:0,elapsedTime:0,pseudoElement:0}),Dz=kr(Mz),Rz=h({},pd,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Az=kr(Rz),Iz=h({},pd,{data:0}),z3=kr(Iz),Oz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zz(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=Lz[d])?!!p[d]:!1}function L1(){return zz}var $z=h({},Wp,{key:function(d){if(d.key){var p=Oz[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=zg(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Fz[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:L1,charCode:function(d){return d.type==="keypress"?zg(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?zg(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),qz=kr($z),Bz=h({},Bg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$3=kr(Bz),Uz=h({},Wp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:L1}),Vz=kr(Uz),Hz=h({},pd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wz=kr(Hz),Yz=h({},Bg,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Gz=kr(Yz),Kz=h({},pd,{newState:0,oldState:0}),Qz=kr(Kz),Zz=[9,13,27,32],z1=ml&&"CompositionEvent"in window,Gp=null;ml&&"documentMode"in document&&(Gp=document.documentMode);var Xz=ml&&"TextEvent"in window&&!Gp,q3=ml&&(!z1||Gp&&8<Gp&&11>=Gp),B3=" ",U3=!1;function V3(d,p){switch(d){case"keyup":return Zz.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H3(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Lu=!1;function Jz(d,p){switch(d){case"compositionend":return H3(p);case"keypress":return p.which!==32?null:(U3=!0,B3);case"textInput":return d=p.data,d===B3&&U3?null:d;default:return null}}function e$(d,p){if(Lu)return d==="compositionend"||!z1&&V3(d,p)?(d=O3(),Lg=A1=oc=null,Lu=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return q3&&p.locale!=="ko"?null:p.data;default:return null}}var t$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W3(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!t$[d.type]:p==="textarea"}function Y3(d,p,N,k){Ou?Fu?Fu.push(k):Fu=[k]:Ou=k,p=M0(p,"onChange"),0<p.length&&(N=new qg("onChange","change",null,N,k),d.push({event:N,listeners:p}))}var Kp=null,Qp=null;function s$(d){E6(d,0)}function Ug(d){var p=Is(d);if(P3(p))return d}function G3(d,p){if(d==="change")return p}var K3=!1;if(ml){var $1;if(ml){var q1="oninput"in document;if(!q1){var Q3=document.createElement("div");Q3.setAttribute("oninput","return;"),q1=typeof Q3.oninput=="function"}$1=q1}else $1=!1;K3=$1&&(!document.documentMode||9<document.documentMode)}function Z3(){Kp&&(Kp.detachEvent("onpropertychange",X3),Qp=Kp=null)}function X3(d){if(d.propertyName==="value"&&Ug(Qp)){var p=[];Y3(p,Qp,d,M1(d)),I3(s$,p)}}function a$(d,p,N){d==="focusin"?(Z3(),Kp=p,Qp=N,Kp.attachEvent("onpropertychange",X3)):d==="focusout"&&Z3()}function n$(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Ug(Qp)}function r$(d,p){if(d==="click")return Ug(p)}function i$(d,p){if(d==="input"||d==="change")return Ug(p)}function o$(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var Kr=typeof Object.is=="function"?Object.is:o$;function Zp(d,p){if(Kr(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var N=Object.keys(d),k=Object.keys(p);if(N.length!==k.length)return!1;for(k=0;k<N.length;k++){var I=N[k];if(!Xe.call(p,I)||!Kr(d[I],p[I]))return!1}return!0}function J3(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function eC(d,p){var N=J3(d);d=0;for(var k;N;){if(N.nodeType===3){if(k=d+N.textContent.length,d<=p&&k>=p)return{node:N,offset:p-d};d=k}e:{for(;N;){if(N.nextSibling){N=N.nextSibling;break e}N=N.parentNode}N=void 0}N=J3(N)}}function tC(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?tC(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function sC(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var p=Og(d.document);p instanceof d.HTMLIFrameElement;){try{var N=typeof p.contentWindow.location.href=="string"}catch{N=!1}if(N)d=p.contentWindow;else break;p=Og(d.document)}return p}function B1(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}var l$=ml&&"documentMode"in document&&11>=document.documentMode,zu=null,U1=null,Xp=null,V1=!1;function aC(d,p,N){var k=N.window===N?N.document:N.nodeType===9?N:N.ownerDocument;V1||zu==null||zu!==Og(k)||(k=zu,"selectionStart"in k&&B1(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),Xp&&Zp(Xp,k)||(Xp=k,k=M0(U1,"onSelect"),0<k.length&&(p=new qg("onSelect","select",null,p,N),d.push({event:p,listeners:k}),p.target=zu)))}function hd(d,p){var N={};return N[d.toLowerCase()]=p.toLowerCase(),N["Webkit"+d]="webkit"+p,N["Moz"+d]="moz"+p,N}var $u={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionrun:hd("Transition","TransitionRun"),transitionstart:hd("Transition","TransitionStart"),transitioncancel:hd("Transition","TransitionCancel"),transitionend:hd("Transition","TransitionEnd")},H1={},nC={};ml&&(nC=document.createElement("div").style,"AnimationEvent"in window||(delete $u.animationend.animation,delete $u.animationiteration.animation,delete $u.animationstart.animation),"TransitionEvent"in window||delete $u.transitionend.transition);function fd(d){if(H1[d])return H1[d];if(!$u[d])return d;var p=$u[d],N;for(N in p)if(p.hasOwnProperty(N)&&N in nC)return H1[d]=p[N];return d}var rC=fd("animationend"),iC=fd("animationiteration"),oC=fd("animationstart"),c$=fd("transitionrun"),d$=fd("transitionstart"),u$=fd("transitioncancel"),lC=fd("transitionend"),cC=new Map,W1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");W1.push("scrollEnd");function oo(d,p){cC.set(d,p),en(p,[d])}var Vg=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},_i=[],qu=0,Y1=0;function Hg(){for(var d=qu,p=Y1=qu=0;p<d;){var N=_i[p];_i[p++]=null;var k=_i[p];_i[p++]=null;var I=_i[p];_i[p++]=null;var q=_i[p];if(_i[p++]=null,k!==null&&I!==null){var ee=k.pending;ee===null?I.next=I:(I.next=ee.next,ee.next=I),k.pending=I}q!==0&&dC(N,I,q)}}function Wg(d,p,N,k){_i[qu++]=d,_i[qu++]=p,_i[qu++]=N,_i[qu++]=k,Y1|=k,d.lanes|=k,d=d.alternate,d!==null&&(d.lanes|=k)}function G1(d,p,N,k){return Wg(d,p,N,k),Yg(d)}function xd(d,p){return Wg(d,null,null,p),Yg(d)}function dC(d,p,N){d.lanes|=N;var k=d.alternate;k!==null&&(k.lanes|=N);for(var I=!1,q=d.return;q!==null;)q.childLanes|=N,k=q.alternate,k!==null&&(k.childLanes|=N),q.tag===22&&(d=q.stateNode,d===null||d._visibility&1||(I=!0)),d=q,q=q.return;return d.tag===3?(q=d.stateNode,I&&p!==null&&(I=31-ts(N),d=q.hiddenUpdates,k=d[I],k===null?d[I]=[p]:k.push(p),p.lane=N|536870912),q):null}function Yg(d){if(50<vh)throw vh=0,a2=null,Error(n(185));for(var p=d.return;p!==null;)d=p,p=d.return;return d.tag===3?d.stateNode:null}var Bu={};function m$(d,p,N,k){this.tag=d,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(d,p,N,k){return new m$(d,p,N,k)}function K1(d){return d=d.prototype,!(!d||!d.isReactComponent)}function pl(d,p){var N=d.alternate;return N===null?(N=Qr(d.tag,p,d.key,d.mode),N.elementType=d.elementType,N.type=d.type,N.stateNode=d.stateNode,N.alternate=d,d.alternate=N):(N.pendingProps=p,N.type=d.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=d.flags&65011712,N.childLanes=d.childLanes,N.lanes=d.lanes,N.child=d.child,N.memoizedProps=d.memoizedProps,N.memoizedState=d.memoizedState,N.updateQueue=d.updateQueue,p=d.dependencies,N.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},N.sibling=d.sibling,N.index=d.index,N.ref=d.ref,N.refCleanup=d.refCleanup,N}function uC(d,p){d.flags&=65011714;var N=d.alternate;return N===null?(d.childLanes=0,d.lanes=p,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=N.childLanes,d.lanes=N.lanes,d.child=N.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=N.memoizedProps,d.memoizedState=N.memoizedState,d.updateQueue=N.updateQueue,d.type=N.type,p=N.dependencies,d.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),d}function Gg(d,p,N,k,I,q){var ee=0;if(k=d,typeof d=="function")K1(d)&&(ee=1);else if(typeof d=="string")ee=gq(d,N,X.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case z:return d=Qr(31,N,p,I),d.elementType=z,d.lanes=q,d;case S:return gd(N.children,I,q,p);case j:ee=8,I|=24;break;case b:return d=Qr(12,N,p,I|2),d.elementType=b,d.lanes=q,d;case E:return d=Qr(13,N,p,I),d.elementType=E,d.lanes=q,d;case D:return d=Qr(19,N,p,I),d.elementType=D,d.lanes=q,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case C:ee=10;break e;case w:ee=9;break e;case P:ee=11;break e;case T:ee=14;break e;case R:ee=16,k=null;break e}ee=29,N=Error(n(130,d===null?"null":typeof d,"")),k=null}return p=Qr(ee,N,p,I),p.elementType=d,p.type=k,p.lanes=q,p}function gd(d,p,N,k){return d=Qr(7,d,k,p),d.lanes=N,d}function Q1(d,p,N){return d=Qr(6,d,null,p),d.lanes=N,d}function mC(d){var p=Qr(18,null,null,0);return p.stateNode=d,p}function Z1(d,p,N){return p=Qr(4,d.children!==null?d.children:[],d.key,p),p.lanes=N,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}var pC=new WeakMap;function Si(d,p){if(typeof d=="object"&&d!==null){var N=pC.get(d);return N!==void 0?N:(p={value:d,source:p,stack:Me(p)},pC.set(d,p),p)}return{value:d,source:p,stack:Me(p)}}var Uu=[],Vu=0,Kg=null,Jp=0,Ci=[],ki=0,lc=null,Po=1,Eo="";function hl(d,p){Uu[Vu++]=Jp,Uu[Vu++]=Kg,Kg=d,Jp=p}function hC(d,p,N){Ci[ki++]=Po,Ci[ki++]=Eo,Ci[ki++]=lc,lc=d;var k=Po;d=Eo;var I=32-ts(k)-1;k&=~(1<<I),N+=1;var q=32-ts(p)+I;if(30<q){var ee=I-I%5;q=(k&(1<<ee)-1).toString(32),k>>=ee,I-=ee,Po=1<<32-ts(p)+I|N<<I|k,Eo=q+d}else Po=1<<q|N<<I|k,Eo=d}function X1(d){d.return!==null&&(hl(d,1),hC(d,1,0))}function J1(d){for(;d===Kg;)Kg=Uu[--Vu],Uu[Vu]=null,Jp=Uu[--Vu],Uu[Vu]=null;for(;d===lc;)lc=Ci[--ki],Ci[ki]=null,Eo=Ci[--ki],Ci[ki]=null,Po=Ci[--ki],Ci[ki]=null}function fC(d,p){Ci[ki++]=Po,Ci[ki++]=Eo,Ci[ki++]=lc,Po=p.id,Eo=p.overflow,lc=d}var Un=null,$a=null,ia=!1,cc=null,Pi=!1,ej=Error(n(519));function dc(d){var p=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eh(Si(p,d)),ej}function xC(d){var p=d.stateNode,N=d.type,k=d.memoizedProps;switch(p[rt]=d,p[gt]=k,N){case"dialog":Js("cancel",p),Js("close",p);break;case"iframe":case"object":case"embed":Js("load",p);break;case"video":case"audio":for(N=0;N<Nh.length;N++)Js(Nh[N],p);break;case"source":Js("error",p);break;case"img":case"image":case"link":Js("error",p),Js("load",p);break;case"details":Js("toggle",p);break;case"input":Js("invalid",p),E3(p,k.value,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name,!0);break;case"select":Js("invalid",p);break;case"textarea":Js("invalid",p),M3(p,k.value,k.defaultValue,k.children)}N=k.children,typeof N!="string"&&typeof N!="number"&&typeof N!="bigint"||p.textContent===""+N||k.suppressHydrationWarning===!0||R6(p.textContent,N)?(k.popover!=null&&(Js("beforetoggle",p),Js("toggle",p)),k.onScroll!=null&&Js("scroll",p),k.onScrollEnd!=null&&Js("scrollend",p),k.onClick!=null&&(p.onclick=ul),p=!0):p=!1,p||dc(d,!0)}function gC(d){for(Un=d.return;Un;)switch(Un.tag){case 5:case 31:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:Un=Un.return}}function Hu(d){if(d!==Un)return!1;if(!ia)return gC(d),ia=!0,!1;var p=d.tag,N;if((N=p!==3&&p!==27)&&((N=p===5)&&(N=d.type,N=!(N!=="form"&&N!=="button")||y2(d.type,d.memoizedProps)),N=!N),N&&$a&&dc(d),gC(d),p===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));$a=B6(d)}else if(p===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));$a=B6(d)}else p===27?(p=$a,_c(d.type)?(d=w2,w2=null,$a=d):$a=p):$a=Un?Ti(d.stateNode.nextSibling):null;return!0}function yd(){$a=Un=null,ia=!1}function tj(){var d=cc;return d!==null&&(Mr===null?Mr=d:Mr.push.apply(Mr,d),cc=null),d}function eh(d){cc===null?cc=[d]:cc.push(d)}var sj=M(null),bd=null,fl=null;function uc(d,p,N){W(sj,p._currentValue),p._currentValue=N}function xl(d){d._currentValue=sj.current,L(sj)}function aj(d,p,N){for(;d!==null;){var k=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,k!==null&&(k.childLanes|=p)):k!==null&&(k.childLanes&p)!==p&&(k.childLanes|=p),d===N)break;d=d.return}}function nj(d,p,N,k){var I=d.child;for(I!==null&&(I.return=d);I!==null;){var q=I.dependencies;if(q!==null){var ee=I.child;q=q.firstContext;e:for(;q!==null;){var ue=q;q=I;for(var Se=0;Se<p.length;Se++)if(ue.context===p[Se]){q.lanes|=N,ue=q.alternate,ue!==null&&(ue.lanes|=N),aj(q.return,N,d),k||(ee=null);break e}q=ue.next}}else if(I.tag===18){if(ee=I.return,ee===null)throw Error(n(341));ee.lanes|=N,q=ee.alternate,q!==null&&(q.lanes|=N),aj(ee,N,d),ee=null}else ee=I.child;if(ee!==null)ee.return=I;else for(ee=I;ee!==null;){if(ee===d){ee=null;break}if(I=ee.sibling,I!==null){I.return=ee.return,ee=I;break}ee=ee.return}I=ee}}function Wu(d,p,N,k){d=null;for(var I=p,q=!1;I!==null;){if(!q){if((I.flags&524288)!==0)q=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var ee=I.alternate;if(ee===null)throw Error(n(387));if(ee=ee.memoizedProps,ee!==null){var ue=I.type;Kr(I.pendingProps.value,ee.value)||(d!==null?d.push(ue):d=[ue])}}else if(I===ae.current){if(ee=I.alternate,ee===null)throw Error(n(387));ee.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(d!==null?d.push(kh):d=[kh])}I=I.return}d!==null&&nj(p,d,N,k),p.flags|=262144}function Qg(d){for(d=d.firstContext;d!==null;){if(!Kr(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function vd(d){bd=d,fl=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function Vn(d){return yC(bd,d)}function Zg(d,p){return bd===null&&vd(d),yC(d,p)}function yC(d,p){var N=p._currentValue;if(p={context:p,memoizedValue:N,next:null},fl===null){if(d===null)throw Error(n(308));fl=p,d.dependencies={lanes:0,firstContext:p},d.flags|=524288}else fl=fl.next=p;return N}var p$=typeof AbortController<"u"?AbortController:function(){var d=[],p=this.signal={aborted:!1,addEventListener:function(N,k){d.push(k)}};this.abort=function(){p.aborted=!0,d.forEach(function(N){return N()})}},h$=t.unstable_scheduleCallback,f$=t.unstable_NormalPriority,bn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rj(){return{controller:new p$,data:new Map,refCount:0}}function th(d){d.refCount--,d.refCount===0&&h$(f$,function(){d.controller.abort()})}var sh=null,ij=0,Yu=0,Gu=null;function x$(d,p){if(sh===null){var N=sh=[];ij=0,Yu=c2(),Gu={status:"pending",value:void 0,then:function(k){N.push(k)}}}return ij++,p.then(bC,bC),p}function bC(){if(--ij===0&&sh!==null){Gu!==null&&(Gu.status="fulfilled");var d=sh;sh=null,Yu=0,Gu=null;for(var p=0;p<d.length;p++)(0,d[p])()}}function g$(d,p){var N=[],k={status:"pending",value:null,reason:null,then:function(I){N.push(I)}};return d.then(function(){k.status="fulfilled",k.value=p;for(var I=0;I<N.length;I++)(0,N[I])(p)},function(I){for(k.status="rejected",k.reason=I,I=0;I<N.length;I++)(0,N[I])(void 0)}),k}var vC=B.S;B.S=function(d,p){a6=Ge(),typeof p=="object"&&p!==null&&typeof p.then=="function"&&x$(d,p),vC!==null&&vC(d,p)};var jd=M(null);function oj(){var d=jd.current;return d!==null?d:Fa.pooledCache}function Xg(d,p){p===null?W(jd,jd.current):W(jd,p.pool)}function jC(){var d=oj();return d===null?null:{parent:bn._currentValue,pool:d}}var Ku=Error(n(460)),lj=Error(n(474)),Jg=Error(n(542)),e0={then:function(){}};function NC(d){return d=d.status,d==="fulfilled"||d==="rejected"}function wC(d,p,N){switch(N=d[N],N===void 0?d.push(p):N!==p&&(p.then(ul,ul),p=N),p.status){case"fulfilled":return p.value;case"rejected":throw d=p.reason,SC(d),d;default:if(typeof p.status=="string")p.then(ul,ul);else{if(d=Fa,d!==null&&100<d.shellSuspendCounter)throw Error(n(482));d=p,d.status="pending",d.then(function(k){if(p.status==="pending"){var I=p;I.status="fulfilled",I.value=k}},function(k){if(p.status==="pending"){var I=p;I.status="rejected",I.reason=k}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw d=p.reason,SC(d),d}throw wd=p,Ku}}function Nd(d){try{var p=d._init;return p(d._payload)}catch(N){throw N!==null&&typeof N=="object"&&typeof N.then=="function"?(wd=N,Ku):N}}var wd=null;function _C(){if(wd===null)throw Error(n(459));var d=wd;return wd=null,d}function SC(d){if(d===Ku||d===Jg)throw Error(n(483))}var Qu=null,ah=0;function t0(d){var p=ah;return ah+=1,Qu===null&&(Qu=[]),wC(Qu,d,p)}function nh(d,p){p=p.props.ref,d.ref=p!==void 0?p:null}function s0(d,p){throw p.$$typeof===f?Error(n(525)):(d=Object.prototype.toString.call(p),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d)))}function CC(d){function p(ze,Ee){if(d){var Ve=ze.deletions;Ve===null?(ze.deletions=[Ee],ze.flags|=16):Ve.push(Ee)}}function N(ze,Ee){if(!d)return null;for(;Ee!==null;)p(ze,Ee),Ee=Ee.sibling;return null}function k(ze){for(var Ee=new Map;ze!==null;)ze.key!==null?Ee.set(ze.key,ze):Ee.set(ze.index,ze),ze=ze.sibling;return Ee}function I(ze,Ee){return ze=pl(ze,Ee),ze.index=0,ze.sibling=null,ze}function q(ze,Ee,Ve){return ze.index=Ve,d?(Ve=ze.alternate,Ve!==null?(Ve=Ve.index,Ve<Ee?(ze.flags|=67108866,Ee):Ve):(ze.flags|=67108866,Ee)):(ze.flags|=1048576,Ee)}function ee(ze){return d&&ze.alternate===null&&(ze.flags|=67108866),ze}function ue(ze,Ee,Ve,yt){return Ee===null||Ee.tag!==6?(Ee=Q1(Ve,ze.mode,yt),Ee.return=ze,Ee):(Ee=I(Ee,Ve),Ee.return=ze,Ee)}function Se(ze,Ee,Ve,yt){var fs=Ve.type;return fs===S?ut(ze,Ee,Ve.props.children,yt,Ve.key):Ee!==null&&(Ee.elementType===fs||typeof fs=="object"&&fs!==null&&fs.$$typeof===R&&Nd(fs)===Ee.type)?(Ee=I(Ee,Ve.props),nh(Ee,Ve),Ee.return=ze,Ee):(Ee=Gg(Ve.type,Ve.key,Ve.props,null,ze.mode,yt),nh(Ee,Ve),Ee.return=ze,Ee)}function He(ze,Ee,Ve,yt){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==Ve.containerInfo||Ee.stateNode.implementation!==Ve.implementation?(Ee=Z1(Ve,ze.mode,yt),Ee.return=ze,Ee):(Ee=I(Ee,Ve.children||[]),Ee.return=ze,Ee)}function ut(ze,Ee,Ve,yt,fs){return Ee===null||Ee.tag!==7?(Ee=gd(Ve,ze.mode,yt,fs),Ee.return=ze,Ee):(Ee=I(Ee,Ve),Ee.return=ze,Ee)}function vt(ze,Ee,Ve){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Ee=Q1(""+Ee,ze.mode,Ve),Ee.return=ze,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case v:return Ve=Gg(Ee.type,Ee.key,Ee.props,null,ze.mode,Ve),nh(Ve,Ee),Ve.return=ze,Ve;case _:return Ee=Z1(Ee,ze.mode,Ve),Ee.return=ze,Ee;case R:return Ee=Nd(Ee),vt(ze,Ee,Ve)}if(U(Ee)||A(Ee))return Ee=gd(Ee,ze.mode,Ve,null),Ee.return=ze,Ee;if(typeof Ee.then=="function")return vt(ze,t0(Ee),Ve);if(Ee.$$typeof===C)return vt(ze,Zg(ze,Ee),Ve);s0(ze,Ee)}return null}function Ke(ze,Ee,Ve,yt){var fs=Ee!==null?Ee.key:null;if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return fs!==null?null:ue(ze,Ee,""+Ve,yt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case v:return Ve.key===fs?Se(ze,Ee,Ve,yt):null;case _:return Ve.key===fs?He(ze,Ee,Ve,yt):null;case R:return Ve=Nd(Ve),Ke(ze,Ee,Ve,yt)}if(U(Ve)||A(Ve))return fs!==null?null:ut(ze,Ee,Ve,yt,null);if(typeof Ve.then=="function")return Ke(ze,Ee,t0(Ve),yt);if(Ve.$$typeof===C)return Ke(ze,Ee,Zg(ze,Ve),yt);s0(ze,Ve)}return null}function at(ze,Ee,Ve,yt,fs){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return ze=ze.get(Ve)||null,ue(Ee,ze,""+yt,fs);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case v:return ze=ze.get(yt.key===null?Ve:yt.key)||null,Se(Ee,ze,yt,fs);case _:return ze=ze.get(yt.key===null?Ve:yt.key)||null,He(Ee,ze,yt,fs);case R:return yt=Nd(yt),at(ze,Ee,Ve,yt,fs)}if(U(yt)||A(yt))return ze=ze.get(Ve)||null,ut(Ee,ze,yt,fs,null);if(typeof yt.then=="function")return at(ze,Ee,Ve,t0(yt),fs);if(yt.$$typeof===C)return at(ze,Ee,Ve,Zg(Ee,yt),fs);s0(Ee,yt)}return null}function ns(ze,Ee,Ve,yt){for(var fs=null,pa=null,ls=Ee,Bs=Ee=0,aa=null;ls!==null&&Bs<Ve.length;Bs++){ls.index>Bs?(aa=ls,ls=null):aa=ls.sibling;var ha=Ke(ze,ls,Ve[Bs],yt);if(ha===null){ls===null&&(ls=aa);break}d&&ls&&ha.alternate===null&&p(ze,ls),Ee=q(ha,Ee,Bs),pa===null?fs=ha:pa.sibling=ha,pa=ha,ls=aa}if(Bs===Ve.length)return N(ze,ls),ia&&hl(ze,Bs),fs;if(ls===null){for(;Bs<Ve.length;Bs++)ls=vt(ze,Ve[Bs],yt),ls!==null&&(Ee=q(ls,Ee,Bs),pa===null?fs=ls:pa.sibling=ls,pa=ls);return ia&&hl(ze,Bs),fs}for(ls=k(ls);Bs<Ve.length;Bs++)aa=at(ls,ze,Bs,Ve[Bs],yt),aa!==null&&(d&&aa.alternate!==null&&ls.delete(aa.key===null?Bs:aa.key),Ee=q(aa,Ee,Bs),pa===null?fs=aa:pa.sibling=aa,pa=aa);return d&&ls.forEach(function(Ec){return p(ze,Ec)}),ia&&hl(ze,Bs),fs}function Ns(ze,Ee,Ve,yt){if(Ve==null)throw Error(n(151));for(var fs=null,pa=null,ls=Ee,Bs=Ee=0,aa=null,ha=Ve.next();ls!==null&&!ha.done;Bs++,ha=Ve.next()){ls.index>Bs?(aa=ls,ls=null):aa=ls.sibling;var Ec=Ke(ze,ls,ha.value,yt);if(Ec===null){ls===null&&(ls=aa);break}d&&ls&&Ec.alternate===null&&p(ze,ls),Ee=q(Ec,Ee,Bs),pa===null?fs=Ec:pa.sibling=Ec,pa=Ec,ls=aa}if(ha.done)return N(ze,ls),ia&&hl(ze,Bs),fs;if(ls===null){for(;!ha.done;Bs++,ha=Ve.next())ha=vt(ze,ha.value,yt),ha!==null&&(Ee=q(ha,Ee,Bs),pa===null?fs=ha:pa.sibling=ha,pa=ha);return ia&&hl(ze,Bs),fs}for(ls=k(ls);!ha.done;Bs++,ha=Ve.next())ha=at(ls,ze,Bs,ha.value,yt),ha!==null&&(d&&ha.alternate!==null&&ls.delete(ha.key===null?Bs:ha.key),Ee=q(ha,Ee,Bs),pa===null?fs=ha:pa.sibling=ha,pa=ha);return d&&ls.forEach(function(Pq){return p(ze,Pq)}),ia&&hl(ze,Bs),fs}function Ra(ze,Ee,Ve,yt){if(typeof Ve=="object"&&Ve!==null&&Ve.type===S&&Ve.key===null&&(Ve=Ve.props.children),typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case v:e:{for(var fs=Ve.key;Ee!==null;){if(Ee.key===fs){if(fs=Ve.type,fs===S){if(Ee.tag===7){N(ze,Ee.sibling),yt=I(Ee,Ve.props.children),yt.return=ze,ze=yt;break e}}else if(Ee.elementType===fs||typeof fs=="object"&&fs!==null&&fs.$$typeof===R&&Nd(fs)===Ee.type){N(ze,Ee.sibling),yt=I(Ee,Ve.props),nh(yt,Ve),yt.return=ze,ze=yt;break e}N(ze,Ee);break}else p(ze,Ee);Ee=Ee.sibling}Ve.type===S?(yt=gd(Ve.props.children,ze.mode,yt,Ve.key),yt.return=ze,ze=yt):(yt=Gg(Ve.type,Ve.key,Ve.props,null,ze.mode,yt),nh(yt,Ve),yt.return=ze,ze=yt)}return ee(ze);case _:e:{for(fs=Ve.key;Ee!==null;){if(Ee.key===fs)if(Ee.tag===4&&Ee.stateNode.containerInfo===Ve.containerInfo&&Ee.stateNode.implementation===Ve.implementation){N(ze,Ee.sibling),yt=I(Ee,Ve.children||[]),yt.return=ze,ze=yt;break e}else{N(ze,Ee);break}else p(ze,Ee);Ee=Ee.sibling}yt=Z1(Ve,ze.mode,yt),yt.return=ze,ze=yt}return ee(ze);case R:return Ve=Nd(Ve),Ra(ze,Ee,Ve,yt)}if(U(Ve))return ns(ze,Ee,Ve,yt);if(A(Ve)){if(fs=A(Ve),typeof fs!="function")throw Error(n(150));return Ve=fs.call(Ve),Ns(ze,Ee,Ve,yt)}if(typeof Ve.then=="function")return Ra(ze,Ee,t0(Ve),yt);if(Ve.$$typeof===C)return Ra(ze,Ee,Zg(ze,Ve),yt);s0(ze,Ve)}return typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint"?(Ve=""+Ve,Ee!==null&&Ee.tag===6?(N(ze,Ee.sibling),yt=I(Ee,Ve),yt.return=ze,ze=yt):(N(ze,Ee),yt=Q1(Ve,ze.mode,yt),yt.return=ze,ze=yt),ee(ze)):N(ze,Ee)}return function(ze,Ee,Ve,yt){try{ah=0;var fs=Ra(ze,Ee,Ve,yt);return Qu=null,fs}catch(ls){if(ls===Ku||ls===Jg)throw ls;var pa=Qr(29,ls,null,ze.mode);return pa.lanes=yt,pa.return=ze,pa}}}var _d=CC(!0),kC=CC(!1),mc=!1;function cj(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dj(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function pc(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function hc(d,p,N){var k=d.updateQueue;if(k===null)return null;if(k=k.shared,(xa&2)!==0){var I=k.pending;return I===null?p.next=p:(p.next=I.next,I.next=p),k.pending=p,p=Yg(d),dC(d,null,N),p}return Wg(d,k,p,N),Yg(d)}function rh(d,p,N){if(p=p.updateQueue,p!==null&&(p=p.shared,(N&4194048)!==0)){var k=p.lanes;k&=d.pendingLanes,N|=k,p.lanes=N,je(d,N)}}function uj(d,p){var N=d.updateQueue,k=d.alternate;if(k!==null&&(k=k.updateQueue,N===k)){var I=null,q=null;if(N=N.firstBaseUpdate,N!==null){do{var ee={lane:N.lane,tag:N.tag,payload:N.payload,callback:null,next:null};q===null?I=q=ee:q=q.next=ee,N=N.next}while(N!==null);q===null?I=q=p:q=q.next=p}else I=q=p;N={baseState:k.baseState,firstBaseUpdate:I,lastBaseUpdate:q,shared:k.shared,callbacks:k.callbacks},d.updateQueue=N;return}d=N.lastBaseUpdate,d===null?N.firstBaseUpdate=p:d.next=p,N.lastBaseUpdate=p}var mj=!1;function ih(){if(mj){var d=Gu;if(d!==null)throw d}}function oh(d,p,N,k){mj=!1;var I=d.updateQueue;mc=!1;var q=I.firstBaseUpdate,ee=I.lastBaseUpdate,ue=I.shared.pending;if(ue!==null){I.shared.pending=null;var Se=ue,He=Se.next;Se.next=null,ee===null?q=He:ee.next=He,ee=Se;var ut=d.alternate;ut!==null&&(ut=ut.updateQueue,ue=ut.lastBaseUpdate,ue!==ee&&(ue===null?ut.firstBaseUpdate=He:ue.next=He,ut.lastBaseUpdate=Se))}if(q!==null){var vt=I.baseState;ee=0,ut=He=Se=null,ue=q;do{var Ke=ue.lane&-536870913,at=Ke!==ue.lane;if(at?(sa&Ke)===Ke:(k&Ke)===Ke){Ke!==0&&Ke===Yu&&(mj=!0),ut!==null&&(ut=ut.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var ns=d,Ns=ue;Ke=p;var Ra=N;switch(Ns.tag){case 1:if(ns=Ns.payload,typeof ns=="function"){vt=ns.call(Ra,vt,Ke);break e}vt=ns;break e;case 3:ns.flags=ns.flags&-65537|128;case 0:if(ns=Ns.payload,Ke=typeof ns=="function"?ns.call(Ra,vt,Ke):ns,Ke==null)break e;vt=h({},vt,Ke);break e;case 2:mc=!0}}Ke=ue.callback,Ke!==null&&(d.flags|=64,at&&(d.flags|=8192),at=I.callbacks,at===null?I.callbacks=[Ke]:at.push(Ke))}else at={lane:Ke,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},ut===null?(He=ut=at,Se=vt):ut=ut.next=at,ee|=Ke;if(ue=ue.next,ue===null){if(ue=I.shared.pending,ue===null)break;at=ue,ue=at.next,at.next=null,I.lastBaseUpdate=at,I.shared.pending=null}}while(!0);ut===null&&(Se=vt),I.baseState=Se,I.firstBaseUpdate=He,I.lastBaseUpdate=ut,q===null&&(I.shared.lanes=0),bc|=ee,d.lanes=ee,d.memoizedState=vt}}function PC(d,p){if(typeof d!="function")throw Error(n(191,d));d.call(p)}function EC(d,p){var N=d.callbacks;if(N!==null)for(d.callbacks=null,d=0;d<N.length;d++)PC(N[d],p)}var Zu=M(null),a0=M(0);function TC(d,p){d=Sl,W(a0,d),W(Zu,p),Sl=d|p.baseLanes}function pj(){W(a0,Sl),W(Zu,Zu.current)}function hj(){Sl=a0.current,L(Zu),L(a0)}var Zr=M(null),Ei=null;function fc(d){var p=d.alternate;W(mn,mn.current&1),W(Zr,d),Ei===null&&(p===null||Zu.current!==null||p.memoizedState!==null)&&(Ei=d)}function fj(d){W(mn,mn.current),W(Zr,d),Ei===null&&(Ei=d)}function MC(d){d.tag===22?(W(mn,mn.current),W(Zr,d),Ei===null&&(Ei=d)):xc()}function xc(){W(mn,mn.current),W(Zr,Zr.current)}function Xr(d){L(Zr),Ei===d&&(Ei=null),L(mn)}var mn=M(0);function n0(d){for(var p=d;p!==null;){if(p.tag===13){var N=p.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||j2(N)||N2(N)))return p}else if(p.tag===19&&(p.memoizedProps.revealOrder==="forwards"||p.memoizedProps.revealOrder==="backwards"||p.memoizedProps.revealOrder==="unstable_legacy-backwards"||p.memoizedProps.revealOrder==="together")){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var gl=0,Os=null,Ma=null,vn=null,r0=!1,Xu=!1,Sd=!1,i0=0,lh=0,Ju=null,y$=0;function tn(){throw Error(n(321))}function xj(d,p){if(p===null)return!1;for(var N=0;N<p.length&&N<d.length;N++)if(!Kr(d[N],p[N]))return!1;return!0}function gj(d,p,N,k,I,q){return gl=q,Os=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,B.H=d===null||d.memoizedState===null?h5:Dj,Sd=!1,q=N(k,I),Sd=!1,Xu&&(q=RC(p,N,k,I)),DC(d),q}function DC(d){B.H=uh;var p=Ma!==null&&Ma.next!==null;if(gl=0,vn=Ma=Os=null,r0=!1,lh=0,Ju=null,p)throw Error(n(300));d===null||jn||(d=d.dependencies,d!==null&&Qg(d)&&(jn=!0))}function RC(d,p,N,k){Os=d;var I=0;do{if(Xu&&(Ju=null),lh=0,Xu=!1,25<=I)throw Error(n(301));if(I+=1,vn=Ma=null,d.updateQueue!=null){var q=d.updateQueue;q.lastEffect=null,q.events=null,q.stores=null,q.memoCache!=null&&(q.memoCache.index=0)}B.H=f5,q=p(N,k)}while(Xu);return q}function b$(){var d=B.H,p=d.useState()[0];return p=typeof p.then=="function"?ch(p):p,d=d.useState()[0],(Ma!==null?Ma.memoizedState:null)!==d&&(Os.flags|=1024),p}function yj(){var d=i0!==0;return i0=0,d}function bj(d,p,N){p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~N}function vj(d){if(r0){for(d=d.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}r0=!1}gl=0,vn=Ma=Os=null,Xu=!1,lh=i0=0,Ju=null}function fr(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Os.memoizedState=vn=d:vn=vn.next=d,vn}function pn(){if(Ma===null){var d=Os.alternate;d=d!==null?d.memoizedState:null}else d=Ma.next;var p=vn===null?Os.memoizedState:vn.next;if(p!==null)vn=p,Ma=d;else{if(d===null)throw Os.alternate===null?Error(n(467)):Error(n(310));Ma=d,d={memoizedState:Ma.memoizedState,baseState:Ma.baseState,baseQueue:Ma.baseQueue,queue:Ma.queue,next:null},vn===null?Os.memoizedState=vn=d:vn=vn.next=d}return vn}function o0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ch(d){var p=lh;return lh+=1,Ju===null&&(Ju=[]),d=wC(Ju,d,p),p=Os,(vn===null?p.memoizedState:vn.next)===null&&(p=p.alternate,B.H=p===null||p.memoizedState===null?h5:Dj),d}function l0(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return ch(d);if(d.$$typeof===C)return Vn(d)}throw Error(n(438,String(d)))}function jj(d){var p=null,N=Os.updateQueue;if(N!==null&&(p=N.memoCache),p==null){var k=Os.alternate;k!==null&&(k=k.updateQueue,k!==null&&(k=k.memoCache,k!=null&&(p={data:k.data.map(function(I){return I.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),N===null&&(N=o0(),Os.updateQueue=N),N.memoCache=p,N=p.data[p.index],N===void 0)for(N=p.data[p.index]=Array(d),k=0;k<d;k++)N[k]=O;return p.index++,N}function yl(d,p){return typeof p=="function"?p(d):p}function c0(d){var p=pn();return Nj(p,Ma,d)}function Nj(d,p,N){var k=d.queue;if(k===null)throw Error(n(311));k.lastRenderedReducer=N;var I=d.baseQueue,q=k.pending;if(q!==null){if(I!==null){var ee=I.next;I.next=q.next,q.next=ee}p.baseQueue=I=q,k.pending=null}if(q=d.baseState,I===null)d.memoizedState=q;else{p=I.next;var ue=ee=null,Se=null,He=p,ut=!1;do{var vt=He.lane&-536870913;if(vt!==He.lane?(sa&vt)===vt:(gl&vt)===vt){var Ke=He.revertLane;if(Ke===0)Se!==null&&(Se=Se.next={lane:0,revertLane:0,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),vt===Yu&&(ut=!0);else if((gl&Ke)===Ke){He=He.next,Ke===Yu&&(ut=!0);continue}else vt={lane:0,revertLane:He.revertLane,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},Se===null?(ue=Se=vt,ee=q):Se=Se.next=vt,Os.lanes|=Ke,bc|=Ke;vt=He.action,Sd&&N(q,vt),q=He.hasEagerState?He.eagerState:N(q,vt)}else Ke={lane:vt,revertLane:He.revertLane,gesture:He.gesture,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},Se===null?(ue=Se=Ke,ee=q):Se=Se.next=Ke,Os.lanes|=vt,bc|=vt;He=He.next}while(He!==null&&He!==p);if(Se===null?ee=q:Se.next=ue,!Kr(q,d.memoizedState)&&(jn=!0,ut&&(N=Gu,N!==null)))throw N;d.memoizedState=q,d.baseState=ee,d.baseQueue=Se,k.lastRenderedState=q}return I===null&&(k.lanes=0),[d.memoizedState,k.dispatch]}function wj(d){var p=pn(),N=p.queue;if(N===null)throw Error(n(311));N.lastRenderedReducer=d;var k=N.dispatch,I=N.pending,q=p.memoizedState;if(I!==null){N.pending=null;var ee=I=I.next;do q=d(q,ee.action),ee=ee.next;while(ee!==I);Kr(q,p.memoizedState)||(jn=!0),p.memoizedState=q,p.baseQueue===null&&(p.baseState=q),N.lastRenderedState=q}return[q,k]}function AC(d,p,N){var k=Os,I=pn(),q=ia;if(q){if(N===void 0)throw Error(n(407));N=N()}else N=p();var ee=!Kr((Ma||I).memoizedState,N);if(ee&&(I.memoizedState=N,jn=!0),I=I.queue,Cj(FC.bind(null,k,I,d),[d]),I.getSnapshot!==p||ee||vn!==null&&vn.memoizedState.tag&1){if(k.flags|=2048,em(9,{destroy:void 0},OC.bind(null,k,I,N,p),null),Fa===null)throw Error(n(349));q||(gl&127)!==0||IC(k,p,N)}return N}function IC(d,p,N){d.flags|=16384,d={getSnapshot:p,value:N},p=Os.updateQueue,p===null?(p=o0(),Os.updateQueue=p,p.stores=[d]):(N=p.stores,N===null?p.stores=[d]:N.push(d))}function OC(d,p,N,k){p.value=N,p.getSnapshot=k,LC(p)&&zC(d)}function FC(d,p,N){return N(function(){LC(p)&&zC(d)})}function LC(d){var p=d.getSnapshot;d=d.value;try{var N=p();return!Kr(d,N)}catch{return!0}}function zC(d){var p=xd(d,2);p!==null&&Dr(p,d,2)}function _j(d){var p=fr();if(typeof d=="function"){var N=d;if(d=N(),Sd){It(!0);try{N()}finally{It(!1)}}}return p.memoizedState=p.baseState=d,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:d},p}function $C(d,p,N,k){return d.baseState=N,Nj(d,Ma,typeof k=="function"?k:yl)}function v$(d,p,N,k,I){if(m0(d))throw Error(n(485));if(d=p.action,d!==null){var q={payload:I,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){q.listeners.push(ee)}};B.T!==null?N(!0):q.isTransition=!1,k(q),N=p.pending,N===null?(q.next=p.pending=q,qC(p,q)):(q.next=N.next,p.pending=N.next=q)}}function qC(d,p){var N=p.action,k=p.payload,I=d.state;if(p.isTransition){var q=B.T,ee={};B.T=ee;try{var ue=N(I,k),Se=B.S;Se!==null&&Se(ee,ue),BC(d,p,ue)}catch(He){Sj(d,p,He)}finally{q!==null&&ee.types!==null&&(q.types=ee.types),B.T=q}}else try{q=N(I,k),BC(d,p,q)}catch(He){Sj(d,p,He)}}function BC(d,p,N){N!==null&&typeof N=="object"&&typeof N.then=="function"?N.then(function(k){UC(d,p,k)},function(k){return Sj(d,p,k)}):UC(d,p,N)}function UC(d,p,N){p.status="fulfilled",p.value=N,VC(p),d.state=N,p=d.pending,p!==null&&(N=p.next,N===p?d.pending=null:(N=N.next,p.next=N,qC(d,N)))}function Sj(d,p,N){var k=d.pending;if(d.pending=null,k!==null){k=k.next;do p.status="rejected",p.reason=N,VC(p),p=p.next;while(p!==k)}d.action=null}function VC(d){d=d.listeners;for(var p=0;p<d.length;p++)(0,d[p])()}function HC(d,p){return p}function WC(d,p){if(ia){var N=Fa.formState;if(N!==null){e:{var k=Os;if(ia){if($a){t:{for(var I=$a,q=Pi;I.nodeType!==8;){if(!q){I=null;break t}if(I=Ti(I.nextSibling),I===null){I=null;break t}}q=I.data,I=q==="F!"||q==="F"?I:null}if(I){$a=Ti(I.nextSibling),k=I.data==="F!";break e}}dc(k)}k=!1}k&&(p=N[0])}}return N=fr(),N.memoizedState=N.baseState=p,k={pending:null,lanes:0,dispatch:null,lastRenderedReducer:HC,lastRenderedState:p},N.queue=k,N=u5.bind(null,Os,k),k.dispatch=N,k=_j(!1),q=Mj.bind(null,Os,!1,k.queue),k=fr(),I={state:p,dispatch:null,action:d,pending:null},k.queue=I,N=v$.bind(null,Os,I,q,N),I.dispatch=N,k.memoizedState=d,[p,N,!1]}function YC(d){var p=pn();return GC(p,Ma,d)}function GC(d,p,N){if(p=Nj(d,p,HC)[0],d=c0(yl)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var k=ch(p)}catch(ee){throw ee===Ku?Jg:ee}else k=p;p=pn();var I=p.queue,q=I.dispatch;return N!==p.memoizedState&&(Os.flags|=2048,em(9,{destroy:void 0},j$.bind(null,I,N),null)),[k,q,d]}function j$(d,p){d.action=p}function KC(d){var p=pn(),N=Ma;if(N!==null)return GC(p,N,d);pn(),p=p.memoizedState,N=pn();var k=N.queue.dispatch;return N.memoizedState=d,[p,k,!1]}function em(d,p,N,k){return d={tag:d,create:N,deps:k,inst:p,next:null},p=Os.updateQueue,p===null&&(p=o0(),Os.updateQueue=p),N=p.lastEffect,N===null?p.lastEffect=d.next=d:(k=N.next,N.next=d,d.next=k,p.lastEffect=d),d}function QC(){return pn().memoizedState}function d0(d,p,N,k){var I=fr();Os.flags|=d,I.memoizedState=em(1|p,{destroy:void 0},N,k===void 0?null:k)}function u0(d,p,N,k){var I=pn();k=k===void 0?null:k;var q=I.memoizedState.inst;Ma!==null&&k!==null&&xj(k,Ma.memoizedState.deps)?I.memoizedState=em(p,q,N,k):(Os.flags|=d,I.memoizedState=em(1|p,q,N,k))}function ZC(d,p){d0(8390656,8,d,p)}function Cj(d,p){u0(2048,8,d,p)}function N$(d){Os.flags|=4;var p=Os.updateQueue;if(p===null)p=o0(),Os.updateQueue=p,p.events=[d];else{var N=p.events;N===null?p.events=[d]:N.push(d)}}function XC(d){var p=pn().memoizedState;return N$({ref:p,nextImpl:d}),function(){if((xa&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}function JC(d,p){return u0(4,2,d,p)}function e5(d,p){return u0(4,4,d,p)}function t5(d,p){if(typeof p=="function"){d=d();var N=p(d);return function(){typeof N=="function"?N():p(null)}}if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function s5(d,p,N){N=N!=null?N.concat([d]):null,u0(4,4,t5.bind(null,p,d),N)}function kj(){}function a5(d,p){var N=pn();p=p===void 0?null:p;var k=N.memoizedState;return p!==null&&xj(p,k[1])?k[0]:(N.memoizedState=[d,p],d)}function n5(d,p){var N=pn();p=p===void 0?null:p;var k=N.memoizedState;if(p!==null&&xj(p,k[1]))return k[0];if(k=d(),Sd){It(!0);try{d()}finally{It(!1)}}return N.memoizedState=[k,p],k}function Pj(d,p,N){return N===void 0||(gl&1073741824)!==0&&(sa&261930)===0?d.memoizedState=p:(d.memoizedState=N,d=r6(),Os.lanes|=d,bc|=d,N)}function r5(d,p,N,k){return Kr(N,p)?N:Zu.current!==null?(d=Pj(d,N,k),Kr(d,p)||(jn=!0),d):(gl&42)===0||(gl&1073741824)!==0&&(sa&261930)===0?(jn=!0,d.memoizedState=N):(d=r6(),Os.lanes|=d,bc|=d,p)}function i5(d,p,N,k,I){var q=V.p;V.p=q!==0&&8>q?q:8;var ee=B.T,ue={};B.T=ue,Mj(d,!1,p,N);try{var Se=I(),He=B.S;if(He!==null&&He(ue,Se),Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var ut=g$(Se,k);dh(d,p,ut,ti(d))}else dh(d,p,k,ti(d))}catch(vt){dh(d,p,{then:function(){},status:"rejected",reason:vt},ti())}finally{V.p=q,ee!==null&&ue.types!==null&&(ee.types=ue.types),B.T=ee}}function w$(){}function Ej(d,p,N,k){if(d.tag!==5)throw Error(n(476));var I=o5(d).queue;i5(d,I,p,Y,N===null?w$:function(){return l5(d),N(k)})}function o5(d){var p=d.memoizedState;if(p!==null)return p;p={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:Y},next:null};var N={};return p.next={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:N},next:null},d.memoizedState=p,d=d.alternate,d!==null&&(d.memoizedState=p),p}function l5(d){var p=o5(d);p.next===null&&(p=d.alternate.memoizedState),dh(d,p.next.queue,{},ti())}function Tj(){return Vn(kh)}function c5(){return pn().memoizedState}function d5(){return pn().memoizedState}function _$(d){for(var p=d.return;p!==null;){switch(p.tag){case 24:case 3:var N=ti();d=pc(N);var k=hc(p,d,N);k!==null&&(Dr(k,p,N),rh(k,p,N)),p={cache:rj()},d.payload=p;return}p=p.return}}function S$(d,p,N){var k=ti();N={lane:k,revertLane:0,gesture:null,action:N,hasEagerState:!1,eagerState:null,next:null},m0(d)?m5(p,N):(N=G1(d,p,N,k),N!==null&&(Dr(N,d,k),p5(N,p,k)))}function u5(d,p,N){var k=ti();dh(d,p,N,k)}function dh(d,p,N,k){var I={lane:k,revertLane:0,gesture:null,action:N,hasEagerState:!1,eagerState:null,next:null};if(m0(d))m5(p,I);else{var q=d.alternate;if(d.lanes===0&&(q===null||q.lanes===0)&&(q=p.lastRenderedReducer,q!==null))try{var ee=p.lastRenderedState,ue=q(ee,N);if(I.hasEagerState=!0,I.eagerState=ue,Kr(ue,ee))return Wg(d,p,I,0),Fa===null&&Hg(),!1}catch{}if(N=G1(d,p,I,k),N!==null)return Dr(N,d,k),p5(N,p,k),!0}return!1}function Mj(d,p,N,k){if(k={lane:2,revertLane:c2(),gesture:null,action:k,hasEagerState:!1,eagerState:null,next:null},m0(d)){if(p)throw Error(n(479))}else p=G1(d,N,k,2),p!==null&&Dr(p,d,2)}function m0(d){var p=d.alternate;return d===Os||p!==null&&p===Os}function m5(d,p){Xu=r0=!0;var N=d.pending;N===null?p.next=p:(p.next=N.next,N.next=p),d.pending=p}function p5(d,p,N){if((N&4194048)!==0){var k=p.lanes;k&=d.pendingLanes,N|=k,p.lanes=N,je(d,N)}}var uh={readContext:Vn,use:l0,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn};uh.useEffectEvent=tn;var h5={readContext:Vn,use:l0,useCallback:function(d,p){return fr().memoizedState=[d,p===void 0?null:p],d},useContext:Vn,useEffect:ZC,useImperativeHandle:function(d,p,N){N=N!=null?N.concat([d]):null,d0(4194308,4,t5.bind(null,p,d),N)},useLayoutEffect:function(d,p){return d0(4194308,4,d,p)},useInsertionEffect:function(d,p){d0(4,2,d,p)},useMemo:function(d,p){var N=fr();p=p===void 0?null:p;var k=d();if(Sd){It(!0);try{d()}finally{It(!1)}}return N.memoizedState=[k,p],k},useReducer:function(d,p,N){var k=fr();if(N!==void 0){var I=N(p);if(Sd){It(!0);try{N(p)}finally{It(!1)}}}else I=p;return k.memoizedState=k.baseState=I,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:I},k.queue=d,d=d.dispatch=S$.bind(null,Os,d),[k.memoizedState,d]},useRef:function(d){var p=fr();return d={current:d},p.memoizedState=d},useState:function(d){d=_j(d);var p=d.queue,N=u5.bind(null,Os,p);return p.dispatch=N,[d.memoizedState,N]},useDebugValue:kj,useDeferredValue:function(d,p){var N=fr();return Pj(N,d,p)},useTransition:function(){var d=_j(!1);return d=i5.bind(null,Os,d.queue,!0,!1),fr().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,p,N){var k=Os,I=fr();if(ia){if(N===void 0)throw Error(n(407));N=N()}else{if(N=p(),Fa===null)throw Error(n(349));(sa&127)!==0||IC(k,p,N)}I.memoizedState=N;var q={value:N,getSnapshot:p};return I.queue=q,ZC(FC.bind(null,k,q,d),[d]),k.flags|=2048,em(9,{destroy:void 0},OC.bind(null,k,q,N,p),null),N},useId:function(){var d=fr(),p=Fa.identifierPrefix;if(ia){var N=Eo,k=Po;N=(k&~(1<<32-ts(k)-1)).toString(32)+N,p="_"+p+"R_"+N,N=i0++,0<N&&(p+="H"+N.toString(32)),p+="_"}else N=y$++,p="_"+p+"r_"+N.toString(32)+"_";return d.memoizedState=p},useHostTransitionStatus:Tj,useFormState:WC,useActionState:WC,useOptimistic:function(d){var p=fr();p.memoizedState=p.baseState=d;var N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=N,p=Mj.bind(null,Os,!0,N),N.dispatch=p,[d,p]},useMemoCache:jj,useCacheRefresh:function(){return fr().memoizedState=_$.bind(null,Os)},useEffectEvent:function(d){var p=fr(),N={impl:d};return p.memoizedState=N,function(){if((xa&2)!==0)throw Error(n(440));return N.impl.apply(void 0,arguments)}}},Dj={readContext:Vn,use:l0,useCallback:a5,useContext:Vn,useEffect:Cj,useImperativeHandle:s5,useInsertionEffect:JC,useLayoutEffect:e5,useMemo:n5,useReducer:c0,useRef:QC,useState:function(){return c0(yl)},useDebugValue:kj,useDeferredValue:function(d,p){var N=pn();return r5(N,Ma.memoizedState,d,p)},useTransition:function(){var d=c0(yl)[0],p=pn().memoizedState;return[typeof d=="boolean"?d:ch(d),p]},useSyncExternalStore:AC,useId:c5,useHostTransitionStatus:Tj,useFormState:YC,useActionState:YC,useOptimistic:function(d,p){var N=pn();return $C(N,Ma,d,p)},useMemoCache:jj,useCacheRefresh:d5};Dj.useEffectEvent=XC;var f5={readContext:Vn,use:l0,useCallback:a5,useContext:Vn,useEffect:Cj,useImperativeHandle:s5,useInsertionEffect:JC,useLayoutEffect:e5,useMemo:n5,useReducer:wj,useRef:QC,useState:function(){return wj(yl)},useDebugValue:kj,useDeferredValue:function(d,p){var N=pn();return Ma===null?Pj(N,d,p):r5(N,Ma.memoizedState,d,p)},useTransition:function(){var d=wj(yl)[0],p=pn().memoizedState;return[typeof d=="boolean"?d:ch(d),p]},useSyncExternalStore:AC,useId:c5,useHostTransitionStatus:Tj,useFormState:KC,useActionState:KC,useOptimistic:function(d,p){var N=pn();return Ma!==null?$C(N,Ma,d,p):(N.baseState=d,[d,N.queue.dispatch])},useMemoCache:jj,useCacheRefresh:d5};f5.useEffectEvent=XC;function Rj(d,p,N,k){p=d.memoizedState,N=N(k,p),N=N==null?p:h({},p,N),d.memoizedState=N,d.lanes===0&&(d.updateQueue.baseState=N)}var Aj={enqueueSetState:function(d,p,N){d=d._reactInternals;var k=ti(),I=pc(k);I.payload=p,N!=null&&(I.callback=N),p=hc(d,I,k),p!==null&&(Dr(p,d,k),rh(p,d,k))},enqueueReplaceState:function(d,p,N){d=d._reactInternals;var k=ti(),I=pc(k);I.tag=1,I.payload=p,N!=null&&(I.callback=N),p=hc(d,I,k),p!==null&&(Dr(p,d,k),rh(p,d,k))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var N=ti(),k=pc(N);k.tag=2,p!=null&&(k.callback=p),p=hc(d,k,N),p!==null&&(Dr(p,d,N),rh(p,d,N))}};function x5(d,p,N,k,I,q,ee){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(k,q,ee):p.prototype&&p.prototype.isPureReactComponent?!Zp(N,k)||!Zp(I,q):!0}function g5(d,p,N,k){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(N,k),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(N,k),p.state!==d&&Aj.enqueueReplaceState(p,p.state,null)}function Cd(d,p){var N=p;if("ref"in p){N={};for(var k in p)k!=="ref"&&(N[k]=p[k])}if(d=d.defaultProps){N===p&&(N=h({},N));for(var I in d)N[I]===void 0&&(N[I]=d[I])}return N}function y5(d){Vg(d)}function b5(d){console.error(d)}function v5(d){Vg(d)}function p0(d,p){try{var N=d.onUncaughtError;N(p.value,{componentStack:p.stack})}catch(k){setTimeout(function(){throw k})}}function j5(d,p,N){try{var k=d.onCaughtError;k(N.value,{componentStack:N.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function Ij(d,p,N){return N=pc(N),N.tag=3,N.payload={element:null},N.callback=function(){p0(d,p)},N}function N5(d){return d=pc(d),d.tag=3,d}function w5(d,p,N,k){var I=N.type.getDerivedStateFromError;if(typeof I=="function"){var q=k.value;d.payload=function(){return I(q)},d.callback=function(){j5(p,N,k)}}var ee=N.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(d.callback=function(){j5(p,N,k),typeof I!="function"&&(vc===null?vc=new Set([this]):vc.add(this));var ue=k.stack;this.componentDidCatch(k.value,{componentStack:ue!==null?ue:""})})}function C$(d,p,N,k,I){if(N.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){if(p=N.alternate,p!==null&&Wu(p,N,I,!0),N=Zr.current,N!==null){switch(N.tag){case 31:case 13:return Ei===null?S0():N.alternate===null&&sn===0&&(sn=3),N.flags&=-257,N.flags|=65536,N.lanes=I,k===e0?N.flags|=16384:(p=N.updateQueue,p===null?N.updateQueue=new Set([k]):p.add(k),i2(d,k,I)),!1;case 22:return N.flags|=65536,k===e0?N.flags|=16384:(p=N.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([k])},N.updateQueue=p):(N=p.retryQueue,N===null?p.retryQueue=new Set([k]):N.add(k)),i2(d,k,I)),!1}throw Error(n(435,N.tag))}return i2(d,k,I),S0(),!1}if(ia)return p=Zr.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=I,k!==ej&&(d=Error(n(422),{cause:k}),eh(Si(d,N)))):(k!==ej&&(p=Error(n(423),{cause:k}),eh(Si(p,N))),d=d.current.alternate,d.flags|=65536,I&=-I,d.lanes|=I,k=Si(k,N),I=Ij(d.stateNode,k,I),uj(d,I),sn!==4&&(sn=2)),!1;var q=Error(n(520),{cause:k});if(q=Si(q,N),bh===null?bh=[q]:bh.push(q),sn!==4&&(sn=2),p===null)return!0;k=Si(k,N),N=p;do{switch(N.tag){case 3:return N.flags|=65536,d=I&-I,N.lanes|=d,d=Ij(N.stateNode,k,d),uj(N,d),!1;case 1:if(p=N.type,q=N.stateNode,(N.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(vc===null||!vc.has(q))))return N.flags|=65536,I&=-I,N.lanes|=I,I=N5(I),w5(I,d,N,k),uj(N,I),!1}N=N.return}while(N!==null);return!1}var Oj=Error(n(461)),jn=!1;function Hn(d,p,N,k){p.child=d===null?kC(p,null,N,k):_d(p,d.child,N,k)}function _5(d,p,N,k,I){N=N.render;var q=p.ref;if("ref"in k){var ee={};for(var ue in k)ue!=="ref"&&(ee[ue]=k[ue])}else ee=k;return vd(p),k=gj(d,p,N,ee,q,I),ue=yj(),d!==null&&!jn?(bj(d,p,I),bl(d,p,I)):(ia&&ue&&X1(p),p.flags|=1,Hn(d,p,k,I),p.child)}function S5(d,p,N,k,I){if(d===null){var q=N.type;return typeof q=="function"&&!K1(q)&&q.defaultProps===void 0&&N.compare===null?(p.tag=15,p.type=q,C5(d,p,q,k,I)):(d=Gg(N.type,null,k,p,p.mode,I),d.ref=p.ref,d.return=p,p.child=d)}if(q=d.child,!Vj(d,I)){var ee=q.memoizedProps;if(N=N.compare,N=N!==null?N:Zp,N(ee,k)&&d.ref===p.ref)return bl(d,p,I)}return p.flags|=1,d=pl(q,k),d.ref=p.ref,d.return=p,p.child=d}function C5(d,p,N,k,I){if(d!==null){var q=d.memoizedProps;if(Zp(q,k)&&d.ref===p.ref)if(jn=!1,p.pendingProps=k=q,Vj(d,I))(d.flags&131072)!==0&&(jn=!0);else return p.lanes=d.lanes,bl(d,p,I)}return Fj(d,p,N,k,I)}function k5(d,p,N,k){var I=k.children,q=d!==null?d.memoizedState:null;if(d===null&&p.stateNode===null&&(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),k.mode==="hidden"){if((p.flags&128)!==0){if(q=q!==null?q.baseLanes|N:N,d!==null){for(k=p.child=d.child,I=0;k!==null;)I=I|k.lanes|k.childLanes,k=k.sibling;k=I&~q}else k=0,p.child=null;return P5(d,p,q,N,k)}if((N&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},d!==null&&Xg(p,q!==null?q.cachePool:null),q!==null?TC(p,q):pj(),MC(p);else return k=p.lanes=536870912,P5(d,p,q!==null?q.baseLanes|N:N,N,k)}else q!==null?(Xg(p,q.cachePool),TC(p,q),xc(),p.memoizedState=null):(d!==null&&Xg(p,null),pj(),xc());return Hn(d,p,I,N),p.child}function mh(d,p){return d!==null&&d.tag===22||p.stateNode!==null||(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.sibling}function P5(d,p,N,k,I){var q=oj();return q=q===null?null:{parent:bn._currentValue,pool:q},p.memoizedState={baseLanes:N,cachePool:q},d!==null&&Xg(p,null),pj(),MC(p),d!==null&&Wu(d,p,k,!0),p.childLanes=I,null}function h0(d,p){return p=x0({mode:p.mode,children:p.children},d.mode),p.ref=d.ref,d.child=p,p.return=d,p}function E5(d,p,N){return _d(p,d.child,null,N),d=h0(p,p.pendingProps),d.flags|=2,Xr(p),p.memoizedState=null,d}function k$(d,p,N){var k=p.pendingProps,I=(p.flags&128)!==0;if(p.flags&=-129,d===null){if(ia){if(k.mode==="hidden")return d=h0(p,k),p.lanes=536870912,mh(null,d);if(fj(p),(d=$a)?(d=q6(d,Pi),d=d!==null&&d.data==="&"?d:null,d!==null&&(p.memoizedState={dehydrated:d,treeContext:lc!==null?{id:Po,overflow:Eo}:null,retryLane:536870912,hydrationErrors:null},N=mC(d),N.return=p,p.child=N,Un=p,$a=null)):d=null,d===null)throw dc(p);return p.lanes=536870912,null}return h0(p,k)}var q=d.memoizedState;if(q!==null){var ee=q.dehydrated;if(fj(p),I)if(p.flags&256)p.flags&=-257,p=E5(d,p,N);else if(p.memoizedState!==null)p.child=d.child,p.flags|=128,p=null;else throw Error(n(558));else if(jn||Wu(d,p,N,!1),I=(N&d.childLanes)!==0,jn||I){if(k=Fa,k!==null&&(ee=Ce(k,N),ee!==0&&ee!==q.retryLane))throw q.retryLane=ee,xd(d,ee),Dr(k,d,ee),Oj;S0(),p=E5(d,p,N)}else d=q.treeContext,$a=Ti(ee.nextSibling),Un=p,ia=!0,cc=null,Pi=!1,d!==null&&fC(p,d),p=h0(p,k),p.flags|=4096;return p}return d=pl(d.child,{mode:k.mode,children:k.children}),d.ref=p.ref,p.child=d,d.return=p,d}function f0(d,p){var N=p.ref;if(N===null)d!==null&&d.ref!==null&&(p.flags|=4194816);else{if(typeof N!="function"&&typeof N!="object")throw Error(n(284));(d===null||d.ref!==N)&&(p.flags|=4194816)}}function Fj(d,p,N,k,I){return vd(p),N=gj(d,p,N,k,void 0,I),k=yj(),d!==null&&!jn?(bj(d,p,I),bl(d,p,I)):(ia&&k&&X1(p),p.flags|=1,Hn(d,p,N,I),p.child)}function T5(d,p,N,k,I,q){return vd(p),p.updateQueue=null,N=RC(p,k,N,I),DC(d),k=yj(),d!==null&&!jn?(bj(d,p,q),bl(d,p,q)):(ia&&k&&X1(p),p.flags|=1,Hn(d,p,N,q),p.child)}function M5(d,p,N,k,I){if(vd(p),p.stateNode===null){var q=Bu,ee=N.contextType;typeof ee=="object"&&ee!==null&&(q=Vn(ee)),q=new N(k,q),p.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,q.updater=Aj,p.stateNode=q,q._reactInternals=p,q=p.stateNode,q.props=k,q.state=p.memoizedState,q.refs={},cj(p),ee=N.contextType,q.context=typeof ee=="object"&&ee!==null?Vn(ee):Bu,q.state=p.memoizedState,ee=N.getDerivedStateFromProps,typeof ee=="function"&&(Rj(p,N,ee,k),q.state=p.memoizedState),typeof N.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(ee=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),ee!==q.state&&Aj.enqueueReplaceState(q,q.state,null),oh(p,k,q,I),ih(),q.state=p.memoizedState),typeof q.componentDidMount=="function"&&(p.flags|=4194308),k=!0}else if(d===null){q=p.stateNode;var ue=p.memoizedProps,Se=Cd(N,ue);q.props=Se;var He=q.context,ut=N.contextType;ee=Bu,typeof ut=="object"&&ut!==null&&(ee=Vn(ut));var vt=N.getDerivedStateFromProps;ut=typeof vt=="function"||typeof q.getSnapshotBeforeUpdate=="function",ue=p.pendingProps!==ue,ut||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ue||He!==ee)&&g5(p,q,k,ee),mc=!1;var Ke=p.memoizedState;q.state=Ke,oh(p,k,q,I),ih(),He=p.memoizedState,ue||Ke!==He||mc?(typeof vt=="function"&&(Rj(p,N,vt,k),He=p.memoizedState),(Se=mc||x5(p,N,Se,k,Ke,He,ee))?(ut||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(p.flags|=4194308)):(typeof q.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=k,p.memoizedState=He),q.props=k,q.state=He,q.context=ee,k=Se):(typeof q.componentDidMount=="function"&&(p.flags|=4194308),k=!1)}else{q=p.stateNode,dj(d,p),ee=p.memoizedProps,ut=Cd(N,ee),q.props=ut,vt=p.pendingProps,Ke=q.context,He=N.contextType,Se=Bu,typeof He=="object"&&He!==null&&(Se=Vn(He)),ue=N.getDerivedStateFromProps,(He=typeof ue=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ee!==vt||Ke!==Se)&&g5(p,q,k,Se),mc=!1,Ke=p.memoizedState,q.state=Ke,oh(p,k,q,I),ih();var at=p.memoizedState;ee!==vt||Ke!==at||mc||d!==null&&d.dependencies!==null&&Qg(d.dependencies)?(typeof ue=="function"&&(Rj(p,N,ue,k),at=p.memoizedState),(ut=mc||x5(p,N,ut,k,Ke,at,Se)||d!==null&&d.dependencies!==null&&Qg(d.dependencies))?(He||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(k,at,Se),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(k,at,Se)),typeof q.componentDidUpdate=="function"&&(p.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof q.componentDidUpdate!="function"||ee===d.memoizedProps&&Ke===d.memoizedState||(p.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ee===d.memoizedProps&&Ke===d.memoizedState||(p.flags|=1024),p.memoizedProps=k,p.memoizedState=at),q.props=k,q.state=at,q.context=Se,k=ut):(typeof q.componentDidUpdate!="function"||ee===d.memoizedProps&&Ke===d.memoizedState||(p.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ee===d.memoizedProps&&Ke===d.memoizedState||(p.flags|=1024),k=!1)}return q=k,f0(d,p),k=(p.flags&128)!==0,q||k?(q=p.stateNode,N=k&&typeof N.getDerivedStateFromError!="function"?null:q.render(),p.flags|=1,d!==null&&k?(p.child=_d(p,d.child,null,I),p.child=_d(p,null,N,I)):Hn(d,p,N,I),p.memoizedState=q.state,d=p.child):d=bl(d,p,I),d}function D5(d,p,N,k){return yd(),p.flags|=256,Hn(d,p,N,k),p.child}var Lj={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zj(d){return{baseLanes:d,cachePool:jC()}}function $j(d,p,N){return d=d!==null?d.childLanes&~N:0,p&&(d|=ei),d}function R5(d,p,N){var k=p.pendingProps,I=!1,q=(p.flags&128)!==0,ee;if((ee=q)||(ee=d!==null&&d.memoizedState===null?!1:(mn.current&2)!==0),ee&&(I=!0,p.flags&=-129),ee=(p.flags&32)!==0,p.flags&=-33,d===null){if(ia){if(I?fc(p):xc(),(d=$a)?(d=q6(d,Pi),d=d!==null&&d.data!=="&"?d:null,d!==null&&(p.memoizedState={dehydrated:d,treeContext:lc!==null?{id:Po,overflow:Eo}:null,retryLane:536870912,hydrationErrors:null},N=mC(d),N.return=p,p.child=N,Un=p,$a=null)):d=null,d===null)throw dc(p);return N2(d)?p.lanes=32:p.lanes=536870912,null}var ue=k.children;return k=k.fallback,I?(xc(),I=p.mode,ue=x0({mode:"hidden",children:ue},I),k=gd(k,I,N,null),ue.return=p,k.return=p,ue.sibling=k,p.child=ue,k=p.child,k.memoizedState=zj(N),k.childLanes=$j(d,ee,N),p.memoizedState=Lj,mh(null,k)):(fc(p),qj(p,ue))}var Se=d.memoizedState;if(Se!==null&&(ue=Se.dehydrated,ue!==null)){if(q)p.flags&256?(fc(p),p.flags&=-257,p=Bj(d,p,N)):p.memoizedState!==null?(xc(),p.child=d.child,p.flags|=128,p=null):(xc(),ue=k.fallback,I=p.mode,k=x0({mode:"visible",children:k.children},I),ue=gd(ue,I,N,null),ue.flags|=2,k.return=p,ue.return=p,k.sibling=ue,p.child=k,_d(p,d.child,null,N),k=p.child,k.memoizedState=zj(N),k.childLanes=$j(d,ee,N),p.memoizedState=Lj,p=mh(null,k));else if(fc(p),N2(ue)){if(ee=ue.nextSibling&&ue.nextSibling.dataset,ee)var He=ee.dgst;ee=He,k=Error(n(419)),k.stack="",k.digest=ee,eh({value:k,source:null,stack:null}),p=Bj(d,p,N)}else if(jn||Wu(d,p,N,!1),ee=(N&d.childLanes)!==0,jn||ee){if(ee=Fa,ee!==null&&(k=Ce(ee,N),k!==0&&k!==Se.retryLane))throw Se.retryLane=k,xd(d,k),Dr(ee,d,k),Oj;j2(ue)||S0(),p=Bj(d,p,N)}else j2(ue)?(p.flags|=192,p.child=d.child,p=null):(d=Se.treeContext,$a=Ti(ue.nextSibling),Un=p,ia=!0,cc=null,Pi=!1,d!==null&&fC(p,d),p=qj(p,k.children),p.flags|=4096);return p}return I?(xc(),ue=k.fallback,I=p.mode,Se=d.child,He=Se.sibling,k=pl(Se,{mode:"hidden",children:k.children}),k.subtreeFlags=Se.subtreeFlags&65011712,He!==null?ue=pl(He,ue):(ue=gd(ue,I,N,null),ue.flags|=2),ue.return=p,k.return=p,k.sibling=ue,p.child=k,mh(null,k),k=p.child,ue=d.child.memoizedState,ue===null?ue=zj(N):(I=ue.cachePool,I!==null?(Se=bn._currentValue,I=I.parent!==Se?{parent:Se,pool:Se}:I):I=jC(),ue={baseLanes:ue.baseLanes|N,cachePool:I}),k.memoizedState=ue,k.childLanes=$j(d,ee,N),p.memoizedState=Lj,mh(d.child,k)):(fc(p),N=d.child,d=N.sibling,N=pl(N,{mode:"visible",children:k.children}),N.return=p,N.sibling=null,d!==null&&(ee=p.deletions,ee===null?(p.deletions=[d],p.flags|=16):ee.push(d)),p.child=N,p.memoizedState=null,N)}function qj(d,p){return p=x0({mode:"visible",children:p},d.mode),p.return=d,d.child=p}function x0(d,p){return d=Qr(22,d,null,p),d.lanes=0,d}function Bj(d,p,N){return _d(p,d.child,null,N),d=qj(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function A5(d,p,N){d.lanes|=p;var k=d.alternate;k!==null&&(k.lanes|=p),aj(d.return,p,N)}function Uj(d,p,N,k,I,q){var ee=d.memoizedState;ee===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:k,tail:N,tailMode:I,treeForkCount:q}:(ee.isBackwards=p,ee.rendering=null,ee.renderingStartTime=0,ee.last=k,ee.tail=N,ee.tailMode=I,ee.treeForkCount=q)}function I5(d,p,N){var k=p.pendingProps,I=k.revealOrder,q=k.tail;k=k.children;var ee=mn.current,ue=(ee&2)!==0;if(ue?(ee=ee&1|2,p.flags|=128):ee&=1,W(mn,ee),Hn(d,p,k,N),k=ia?Jp:0,!ue&&d!==null&&(d.flags&128)!==0)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&A5(d,N,p);else if(d.tag===19)A5(d,N,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(I){case"forwards":for(N=p.child,I=null;N!==null;)d=N.alternate,d!==null&&n0(d)===null&&(I=N),N=N.sibling;N=I,N===null?(I=p.child,p.child=null):(I=N.sibling,N.sibling=null),Uj(p,!1,I,N,q,k);break;case"backwards":case"unstable_legacy-backwards":for(N=null,I=p.child,p.child=null;I!==null;){if(d=I.alternate,d!==null&&n0(d)===null){p.child=I;break}d=I.sibling,I.sibling=N,N=I,I=d}Uj(p,!0,N,null,q,k);break;case"together":Uj(p,!1,null,null,void 0,k);break;default:p.memoizedState=null}return p.child}function bl(d,p,N){if(d!==null&&(p.dependencies=d.dependencies),bc|=p.lanes,(N&p.childLanes)===0)if(d!==null){if(Wu(d,p,N,!1),(N&p.childLanes)===0)return null}else return null;if(d!==null&&p.child!==d.child)throw Error(n(153));if(p.child!==null){for(d=p.child,N=pl(d,d.pendingProps),p.child=N,N.return=p;d.sibling!==null;)d=d.sibling,N=N.sibling=pl(d,d.pendingProps),N.return=p;N.sibling=null}return p.child}function Vj(d,p){return(d.lanes&p)!==0?!0:(d=d.dependencies,!!(d!==null&&Qg(d)))}function P$(d,p,N){switch(p.tag){case 3:pe(p,p.stateNode.containerInfo),uc(p,bn,d.memoizedState.cache),yd();break;case 27:case 5:re(p);break;case 4:pe(p,p.stateNode.containerInfo);break;case 10:uc(p,p.type,p.memoizedProps.value);break;case 31:if(p.memoizedState!==null)return p.flags|=128,fj(p),null;break;case 13:var k=p.memoizedState;if(k!==null)return k.dehydrated!==null?(fc(p),p.flags|=128,null):(N&p.child.childLanes)!==0?R5(d,p,N):(fc(p),d=bl(d,p,N),d!==null?d.sibling:null);fc(p);break;case 19:var I=(d.flags&128)!==0;if(k=(N&p.childLanes)!==0,k||(Wu(d,p,N,!1),k=(N&p.childLanes)!==0),I){if(k)return I5(d,p,N);p.flags|=128}if(I=p.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),W(mn,mn.current),k)break;return null;case 22:return p.lanes=0,k5(d,p,N,p.pendingProps);case 24:uc(p,bn,d.memoizedState.cache)}return bl(d,p,N)}function O5(d,p,N){if(d!==null)if(d.memoizedProps!==p.pendingProps)jn=!0;else{if(!Vj(d,N)&&(p.flags&128)===0)return jn=!1,P$(d,p,N);jn=(d.flags&131072)!==0}else jn=!1,ia&&(p.flags&1048576)!==0&&hC(p,Jp,p.index);switch(p.lanes=0,p.tag){case 16:e:{var k=p.pendingProps;if(d=Nd(p.elementType),p.type=d,typeof d=="function")K1(d)?(k=Cd(d,k),p.tag=1,p=M5(null,p,d,k,N)):(p.tag=0,p=Fj(null,p,d,k,N));else{if(d!=null){var I=d.$$typeof;if(I===P){p.tag=11,p=_5(null,p,d,k,N);break e}else if(I===T){p.tag=14,p=S5(null,p,d,k,N);break e}}throw p=K(d)||d,Error(n(306,p,""))}}return p;case 0:return Fj(d,p,p.type,p.pendingProps,N);case 1:return k=p.type,I=Cd(k,p.pendingProps),M5(d,p,k,I,N);case 3:e:{if(pe(p,p.stateNode.containerInfo),d===null)throw Error(n(387));k=p.pendingProps;var q=p.memoizedState;I=q.element,dj(d,p),oh(p,k,null,N);var ee=p.memoizedState;if(k=ee.cache,uc(p,bn,k),k!==q.cache&&nj(p,[bn],N,!0),ih(),k=ee.element,q.isDehydrated)if(q={element:k,isDehydrated:!1,cache:ee.cache},p.updateQueue.baseState=q,p.memoizedState=q,p.flags&256){p=D5(d,p,k,N);break e}else if(k!==I){I=Si(Error(n(424)),p),eh(I),p=D5(d,p,k,N);break e}else for(d=p.stateNode.containerInfo,d.nodeType===9?d=d.body:d=d.nodeName==="HTML"?d.ownerDocument.body:d,$a=Ti(d.firstChild),Un=p,ia=!0,cc=null,Pi=!0,N=kC(p,null,k,N),p.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(yd(),k===I){p=bl(d,p,N);break e}Hn(d,p,k,N)}p=p.child}return p;case 26:return f0(d,p),d===null?(N=Y6(p.type,null,p.pendingProps,null))?p.memoizedState=N:ia||(N=p.type,d=p.pendingProps,k=D0(se.current).createElement(N),k[rt]=p,k[gt]=d,Wn(k,N,d),Ks(k),p.stateNode=k):p.memoizedState=Y6(p.type,d.memoizedProps,p.pendingProps,d.memoizedState),null;case 27:return re(p),d===null&&ia&&(k=p.stateNode=V6(p.type,p.pendingProps,se.current),Un=p,Pi=!0,I=$a,_c(p.type)?(w2=I,$a=Ti(k.firstChild)):$a=I),Hn(d,p,p.pendingProps.children,N),f0(d,p),d===null&&(p.flags|=4194304),p.child;case 5:return d===null&&ia&&((I=k=$a)&&(k=nq(k,p.type,p.pendingProps,Pi),k!==null?(p.stateNode=k,Un=p,$a=Ti(k.firstChild),Pi=!1,I=!0):I=!1),I||dc(p)),re(p),I=p.type,q=p.pendingProps,ee=d!==null?d.memoizedProps:null,k=q.children,y2(I,q)?k=null:ee!==null&&y2(I,ee)&&(p.flags|=32),p.memoizedState!==null&&(I=gj(d,p,b$,null,null,N),kh._currentValue=I),f0(d,p),Hn(d,p,k,N),p.child;case 6:return d===null&&ia&&((d=N=$a)&&(N=rq(N,p.pendingProps,Pi),N!==null?(p.stateNode=N,Un=p,$a=null,d=!0):d=!1),d||dc(p)),null;case 13:return R5(d,p,N);case 4:return pe(p,p.stateNode.containerInfo),k=p.pendingProps,d===null?p.child=_d(p,null,k,N):Hn(d,p,k,N),p.child;case 11:return _5(d,p,p.type,p.pendingProps,N);case 7:return Hn(d,p,p.pendingProps,N),p.child;case 8:return Hn(d,p,p.pendingProps.children,N),p.child;case 12:return Hn(d,p,p.pendingProps.children,N),p.child;case 10:return k=p.pendingProps,uc(p,p.type,k.value),Hn(d,p,k.children,N),p.child;case 9:return I=p.type._context,k=p.pendingProps.children,vd(p),I=Vn(I),k=k(I),p.flags|=1,Hn(d,p,k,N),p.child;case 14:return S5(d,p,p.type,p.pendingProps,N);case 15:return C5(d,p,p.type,p.pendingProps,N);case 19:return I5(d,p,N);case 31:return k$(d,p,N);case 22:return k5(d,p,N,p.pendingProps);case 24:return vd(p),k=Vn(bn),d===null?(I=oj(),I===null&&(I=Fa,q=rj(),I.pooledCache=q,q.refCount++,q!==null&&(I.pooledCacheLanes|=N),I=q),p.memoizedState={parent:k,cache:I},cj(p),uc(p,bn,I)):((d.lanes&N)!==0&&(dj(d,p),oh(p,null,null,N),ih()),I=d.memoizedState,q=p.memoizedState,I.parent!==k?(I={parent:k,cache:k},p.memoizedState=I,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=I),uc(p,bn,k)):(k=q.cache,uc(p,bn,k),k!==I.cache&&nj(p,[bn],N,!0))),Hn(d,p,p.pendingProps.children,N),p.child;case 29:throw p.pendingProps}throw Error(n(156,p.tag))}function vl(d){d.flags|=4}function Hj(d,p,N,k,I){if((p=(d.mode&32)!==0)&&(p=!1),p){if(d.flags|=16777216,(I&335544128)===I)if(d.stateNode.complete)d.flags|=8192;else if(c6())d.flags|=8192;else throw wd=e0,lj}else d.flags&=-16777217}function F5(d,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!X6(p))if(c6())d.flags|=8192;else throw wd=e0,lj}function g0(d,p){p!==null&&(d.flags|=4),d.flags&16384&&(p=d.tag!==22?qt():536870912,d.lanes|=p,nm|=p)}function ph(d,p){if(!ia)switch(d.tailMode){case"hidden":p=d.tail;for(var N=null;p!==null;)p.alternate!==null&&(N=p),p=p.sibling;N===null?d.tail=null:N.sibling=null;break;case"collapsed":N=d.tail;for(var k=null;N!==null;)N.alternate!==null&&(k=N),N=N.sibling;k===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:k.sibling=null}}function qa(d){var p=d.alternate!==null&&d.alternate.child===d.child,N=0,k=0;if(p)for(var I=d.child;I!==null;)N|=I.lanes|I.childLanes,k|=I.subtreeFlags&65011712,k|=I.flags&65011712,I.return=d,I=I.sibling;else for(I=d.child;I!==null;)N|=I.lanes|I.childLanes,k|=I.subtreeFlags,k|=I.flags,I.return=d,I=I.sibling;return d.subtreeFlags|=k,d.childLanes=N,p}function E$(d,p,N){var k=p.pendingProps;switch(J1(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(p),null;case 1:return qa(p),null;case 3:return N=p.stateNode,k=null,d!==null&&(k=d.memoizedState.cache),p.memoizedState.cache!==k&&(p.flags|=2048),xl(bn),he(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(d===null||d.child===null)&&(Hu(p)?vl(p):d===null||d.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,tj())),qa(p),null;case 26:var I=p.type,q=p.memoizedState;return d===null?(vl(p),q!==null?(qa(p),F5(p,q)):(qa(p),Hj(p,I,null,k,N))):q?q!==d.memoizedState?(vl(p),qa(p),F5(p,q)):(qa(p),p.flags&=-16777217):(d=d.memoizedProps,d!==k&&vl(p),qa(p),Hj(p,I,d,k,N)),null;case 27:if(xe(p),N=se.current,I=p.type,d!==null&&p.stateNode!=null)d.memoizedProps!==k&&vl(p);else{if(!k){if(p.stateNode===null)throw Error(n(166));return qa(p),null}d=X.current,Hu(p)?xC(p):(d=V6(I,k,N),p.stateNode=d,vl(p))}return qa(p),null;case 5:if(xe(p),I=p.type,d!==null&&p.stateNode!=null)d.memoizedProps!==k&&vl(p);else{if(!k){if(p.stateNode===null)throw Error(n(166));return qa(p),null}if(q=X.current,Hu(p))xC(p);else{var ee=D0(se.current);switch(q){case 1:q=ee.createElementNS("http://www.w3.org/2000/svg",I);break;case 2:q=ee.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;default:switch(I){case"svg":q=ee.createElementNS("http://www.w3.org/2000/svg",I);break;case"math":q=ee.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;case"script":q=ee.createElement("div"),q.innerHTML="<script><\/script>",q=q.removeChild(q.firstChild);break;case"select":q=typeof k.is=="string"?ee.createElement("select",{is:k.is}):ee.createElement("select"),k.multiple?q.multiple=!0:k.size&&(q.size=k.size);break;default:q=typeof k.is=="string"?ee.createElement(I,{is:k.is}):ee.createElement(I)}}q[rt]=p,q[gt]=k;e:for(ee=p.child;ee!==null;){if(ee.tag===5||ee.tag===6)q.appendChild(ee.stateNode);else if(ee.tag!==4&&ee.tag!==27&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===p)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===p)break e;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}p.stateNode=q;e:switch(Wn(q,I,k),I){case"button":case"input":case"select":case"textarea":k=!!k.autoFocus;break e;case"img":k=!0;break e;default:k=!1}k&&vl(p)}}return qa(p),Hj(p,p.type,d===null?null:d.memoizedProps,p.pendingProps,N),null;case 6:if(d&&p.stateNode!=null)d.memoizedProps!==k&&vl(p);else{if(typeof k!="string"&&p.stateNode===null)throw Error(n(166));if(d=se.current,Hu(p)){if(d=p.stateNode,N=p.memoizedProps,k=null,I=Un,I!==null)switch(I.tag){case 27:case 5:k=I.memoizedProps}d[rt]=p,d=!!(d.nodeValue===N||k!==null&&k.suppressHydrationWarning===!0||R6(d.nodeValue,N)),d||dc(p,!0)}else d=D0(d).createTextNode(k),d[rt]=p,p.stateNode=d}return qa(p),null;case 31:if(N=p.memoizedState,d===null||d.memoizedState!==null){if(k=Hu(p),N!==null){if(d===null){if(!k)throw Error(n(318));if(d=p.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(557));d[rt]=p}else yd(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;qa(p),d=!1}else N=tj(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=N),d=!0;if(!d)return p.flags&256?(Xr(p),p):(Xr(p),null);if((p.flags&128)!==0)throw Error(n(558))}return qa(p),null;case 13:if(k=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(I=Hu(p),k!==null&&k.dehydrated!==null){if(d===null){if(!I)throw Error(n(318));if(I=p.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[rt]=p}else yd(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;qa(p),I=!1}else I=tj(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=I),I=!0;if(!I)return p.flags&256?(Xr(p),p):(Xr(p),null)}return Xr(p),(p.flags&128)!==0?(p.lanes=N,p):(N=k!==null,d=d!==null&&d.memoizedState!==null,N&&(k=p.child,I=null,k.alternate!==null&&k.alternate.memoizedState!==null&&k.alternate.memoizedState.cachePool!==null&&(I=k.alternate.memoizedState.cachePool.pool),q=null,k.memoizedState!==null&&k.memoizedState.cachePool!==null&&(q=k.memoizedState.cachePool.pool),q!==I&&(k.flags|=2048)),N!==d&&N&&(p.child.flags|=8192),g0(p,p.updateQueue),qa(p),null);case 4:return he(),d===null&&p2(p.stateNode.containerInfo),qa(p),null;case 10:return xl(p.type),qa(p),null;case 19:if(L(mn),k=p.memoizedState,k===null)return qa(p),null;if(I=(p.flags&128)!==0,q=k.rendering,q===null)if(I)ph(k,!1);else{if(sn!==0||d!==null&&(d.flags&128)!==0)for(d=p.child;d!==null;){if(q=n0(d),q!==null){for(p.flags|=128,ph(k,!1),d=q.updateQueue,p.updateQueue=d,g0(p,d),p.subtreeFlags=0,d=N,N=p.child;N!==null;)uC(N,d),N=N.sibling;return W(mn,mn.current&1|2),ia&&hl(p,k.treeForkCount),p.child}d=d.sibling}k.tail!==null&&Ge()>N0&&(p.flags|=128,I=!0,ph(k,!1),p.lanes=4194304)}else{if(!I)if(d=n0(q),d!==null){if(p.flags|=128,I=!0,d=d.updateQueue,p.updateQueue=d,g0(p,d),ph(k,!0),k.tail===null&&k.tailMode==="hidden"&&!q.alternate&&!ia)return qa(p),null}else 2*Ge()-k.renderingStartTime>N0&&N!==536870912&&(p.flags|=128,I=!0,ph(k,!1),p.lanes=4194304);k.isBackwards?(q.sibling=p.child,p.child=q):(d=k.last,d!==null?d.sibling=q:p.child=q,k.last=q)}return k.tail!==null?(d=k.tail,k.rendering=d,k.tail=d.sibling,k.renderingStartTime=Ge(),d.sibling=null,N=mn.current,W(mn,I?N&1|2:N&1),ia&&hl(p,k.treeForkCount),d):(qa(p),null);case 22:case 23:return Xr(p),hj(),k=p.memoizedState!==null,d!==null?d.memoizedState!==null!==k&&(p.flags|=8192):k&&(p.flags|=8192),k?(N&536870912)!==0&&(p.flags&128)===0&&(qa(p),p.subtreeFlags&6&&(p.flags|=8192)):qa(p),N=p.updateQueue,N!==null&&g0(p,N.retryQueue),N=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(N=d.memoizedState.cachePool.pool),k=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(k=p.memoizedState.cachePool.pool),k!==N&&(p.flags|=2048),d!==null&&L(jd),null;case 24:return N=null,d!==null&&(N=d.memoizedState.cache),p.memoizedState.cache!==N&&(p.flags|=2048),xl(bn),qa(p),null;case 25:return null;case 30:return null}throw Error(n(156,p.tag))}function T$(d,p){switch(J1(p),p.tag){case 1:return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return xl(bn),he(),d=p.flags,(d&65536)!==0&&(d&128)===0?(p.flags=d&-65537|128,p):null;case 26:case 27:case 5:return xe(p),null;case 31:if(p.memoizedState!==null){if(Xr(p),p.alternate===null)throw Error(n(340));yd()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 13:if(Xr(p),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(n(340));yd()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return L(mn),null;case 4:return he(),null;case 10:return xl(p.type),null;case 22:case 23:return Xr(p),hj(),d!==null&&L(jd),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 24:return xl(bn),null;case 25:return null;default:return null}}function L5(d,p){switch(J1(p),p.tag){case 3:xl(bn),he();break;case 26:case 27:case 5:xe(p);break;case 4:he();break;case 31:p.memoizedState!==null&&Xr(p);break;case 13:Xr(p);break;case 19:L(mn);break;case 10:xl(p.type);break;case 22:case 23:Xr(p),hj(),d!==null&&L(jd);break;case 24:xl(bn)}}function hh(d,p){try{var N=p.updateQueue,k=N!==null?N.lastEffect:null;if(k!==null){var I=k.next;N=I;do{if((N.tag&d)===d){k=void 0;var q=N.create,ee=N.inst;k=q(),ee.destroy=k}N=N.next}while(N!==I)}}catch(ue){Sa(p,p.return,ue)}}function gc(d,p,N){try{var k=p.updateQueue,I=k!==null?k.lastEffect:null;if(I!==null){var q=I.next;k=q;do{if((k.tag&d)===d){var ee=k.inst,ue=ee.destroy;if(ue!==void 0){ee.destroy=void 0,I=p;var Se=N,He=ue;try{He()}catch(ut){Sa(I,Se,ut)}}}k=k.next}while(k!==q)}}catch(ut){Sa(p,p.return,ut)}}function z5(d){var p=d.updateQueue;if(p!==null){var N=d.stateNode;try{EC(p,N)}catch(k){Sa(d,d.return,k)}}}function $5(d,p,N){N.props=Cd(d.type,d.memoizedProps),N.state=d.memoizedState;try{N.componentWillUnmount()}catch(k){Sa(d,p,k)}}function fh(d,p){try{var N=d.ref;if(N!==null){switch(d.tag){case 26:case 27:case 5:var k=d.stateNode;break;case 30:k=d.stateNode;break;default:k=d.stateNode}typeof N=="function"?d.refCleanup=N(k):N.current=k}}catch(I){Sa(d,p,I)}}function To(d,p){var N=d.ref,k=d.refCleanup;if(N!==null)if(typeof k=="function")try{k()}catch(I){Sa(d,p,I)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof N=="function")try{N(null)}catch(I){Sa(d,p,I)}else N.current=null}function q5(d){var p=d.type,N=d.memoizedProps,k=d.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":N.autoFocus&&k.focus();break e;case"img":N.src?k.src=N.src:N.srcSet&&(k.srcset=N.srcSet)}}catch(I){Sa(d,d.return,I)}}function Wj(d,p,N){try{var k=d.stateNode;X$(k,d.type,N,p),k[gt]=p}catch(I){Sa(d,d.return,I)}}function B5(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&_c(d.type)||d.tag===4}function Yj(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||B5(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&_c(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Gj(d,p,N){var k=d.tag;if(k===5||k===6)d=d.stateNode,p?(N.nodeType===9?N.body:N.nodeName==="HTML"?N.ownerDocument.body:N).insertBefore(d,p):(p=N.nodeType===9?N.body:N.nodeName==="HTML"?N.ownerDocument.body:N,p.appendChild(d),N=N._reactRootContainer,N!=null||p.onclick!==null||(p.onclick=ul));else if(k!==4&&(k===27&&_c(d.type)&&(N=d.stateNode,p=null),d=d.child,d!==null))for(Gj(d,p,N),d=d.sibling;d!==null;)Gj(d,p,N),d=d.sibling}function y0(d,p,N){var k=d.tag;if(k===5||k===6)d=d.stateNode,p?N.insertBefore(d,p):N.appendChild(d);else if(k!==4&&(k===27&&_c(d.type)&&(N=d.stateNode),d=d.child,d!==null))for(y0(d,p,N),d=d.sibling;d!==null;)y0(d,p,N),d=d.sibling}function U5(d){var p=d.stateNode,N=d.memoizedProps;try{for(var k=d.type,I=p.attributes;I.length;)p.removeAttributeNode(I[0]);Wn(p,k,N),p[rt]=d,p[gt]=N}catch(q){Sa(d,d.return,q)}}var jl=!1,Nn=!1,Kj=!1,V5=typeof WeakSet=="function"?WeakSet:Set,On=null;function M$(d,p){if(d=d.containerInfo,x2=z0,d=sC(d),B1(d)){if("selectionStart"in d)var N={start:d.selectionStart,end:d.selectionEnd};else e:{N=(N=d.ownerDocument)&&N.defaultView||window;var k=N.getSelection&&N.getSelection();if(k&&k.rangeCount!==0){N=k.anchorNode;var I=k.anchorOffset,q=k.focusNode;k=k.focusOffset;try{N.nodeType,q.nodeType}catch{N=null;break e}var ee=0,ue=-1,Se=-1,He=0,ut=0,vt=d,Ke=null;t:for(;;){for(var at;vt!==N||I!==0&&vt.nodeType!==3||(ue=ee+I),vt!==q||k!==0&&vt.nodeType!==3||(Se=ee+k),vt.nodeType===3&&(ee+=vt.nodeValue.length),(at=vt.firstChild)!==null;)Ke=vt,vt=at;for(;;){if(vt===d)break t;if(Ke===N&&++He===I&&(ue=ee),Ke===q&&++ut===k&&(Se=ee),(at=vt.nextSibling)!==null)break;vt=Ke,Ke=vt.parentNode}vt=at}N=ue===-1||Se===-1?null:{start:ue,end:Se}}else N=null}N=N||{start:0,end:0}}else N=null;for(g2={focusedElem:d,selectionRange:N},z0=!1,On=p;On!==null;)if(p=On,d=p.child,(p.subtreeFlags&1028)!==0&&d!==null)d.return=p,On=d;else for(;On!==null;){switch(p=On,q=p.alternate,d=p.flags,p.tag){case 0:if((d&4)!==0&&(d=p.updateQueue,d=d!==null?d.events:null,d!==null))for(N=0;N<d.length;N++)I=d[N],I.ref.impl=I.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&q!==null){d=void 0,N=p,I=q.memoizedProps,q=q.memoizedState,k=N.stateNode;try{var ns=Cd(N.type,I);d=k.getSnapshotBeforeUpdate(ns,q),k.__reactInternalSnapshotBeforeUpdate=d}catch(Ns){Sa(N,N.return,Ns)}}break;case 3:if((d&1024)!==0){if(d=p.stateNode.containerInfo,N=d.nodeType,N===9)v2(d);else if(N===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":v2(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(n(163))}if(d=p.sibling,d!==null){d.return=p.return,On=d;break}On=p.return}}function H5(d,p,N){var k=N.flags;switch(N.tag){case 0:case 11:case 15:wl(d,N),k&4&&hh(5,N);break;case 1:if(wl(d,N),k&4)if(d=N.stateNode,p===null)try{d.componentDidMount()}catch(ee){Sa(N,N.return,ee)}else{var I=Cd(N.type,p.memoizedProps);p=p.memoizedState;try{d.componentDidUpdate(I,p,d.__reactInternalSnapshotBeforeUpdate)}catch(ee){Sa(N,N.return,ee)}}k&64&&z5(N),k&512&&fh(N,N.return);break;case 3:if(wl(d,N),k&64&&(d=N.updateQueue,d!==null)){if(p=null,N.child!==null)switch(N.child.tag){case 27:case 5:p=N.child.stateNode;break;case 1:p=N.child.stateNode}try{EC(d,p)}catch(ee){Sa(N,N.return,ee)}}break;case 27:p===null&&k&4&&U5(N);case 26:case 5:wl(d,N),p===null&&k&4&&q5(N),k&512&&fh(N,N.return);break;case 12:wl(d,N);break;case 31:wl(d,N),k&4&&G5(d,N);break;case 13:wl(d,N),k&4&&K5(d,N),k&64&&(d=N.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(N=$$.bind(null,N),iq(d,N))));break;case 22:if(k=N.memoizedState!==null||jl,!k){p=p!==null&&p.memoizedState!==null||Nn,I=jl;var q=Nn;jl=k,(Nn=p)&&!q?_l(d,N,(N.subtreeFlags&8772)!==0):wl(d,N),jl=I,Nn=q}break;case 30:break;default:wl(d,N)}}function W5(d){var p=d.alternate;p!==null&&(d.alternate=null,W5(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&Mt(p)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var Ya=null,Pr=!1;function Nl(d,p,N){for(N=N.child;N!==null;)Y5(d,p,N),N=N.sibling}function Y5(d,p,N){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Zt,N)}catch{}switch(N.tag){case 26:Nn||To(N,p),Nl(d,p,N),N.memoizedState?N.memoizedState.count--:N.stateNode&&(N=N.stateNode,N.parentNode.removeChild(N));break;case 27:Nn||To(N,p);var k=Ya,I=Pr;_c(N.type)&&(Ya=N.stateNode,Pr=!1),Nl(d,p,N),_h(N.stateNode),Ya=k,Pr=I;break;case 5:Nn||To(N,p);case 6:if(k=Ya,I=Pr,Ya=null,Nl(d,p,N),Ya=k,Pr=I,Ya!==null)if(Pr)try{(Ya.nodeType===9?Ya.body:Ya.nodeName==="HTML"?Ya.ownerDocument.body:Ya).removeChild(N.stateNode)}catch(q){Sa(N,p,q)}else try{Ya.removeChild(N.stateNode)}catch(q){Sa(N,p,q)}break;case 18:Ya!==null&&(Pr?(d=Ya,z6(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,N.stateNode),mm(d)):z6(Ya,N.stateNode));break;case 4:k=Ya,I=Pr,Ya=N.stateNode.containerInfo,Pr=!0,Nl(d,p,N),Ya=k,Pr=I;break;case 0:case 11:case 14:case 15:gc(2,N,p),Nn||gc(4,N,p),Nl(d,p,N);break;case 1:Nn||(To(N,p),k=N.stateNode,typeof k.componentWillUnmount=="function"&&$5(N,p,k)),Nl(d,p,N);break;case 21:Nl(d,p,N);break;case 22:Nn=(k=Nn)||N.memoizedState!==null,Nl(d,p,N),Nn=k;break;default:Nl(d,p,N)}}function G5(d,p){if(p.memoizedState===null&&(d=p.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{mm(d)}catch(N){Sa(p,p.return,N)}}}function K5(d,p){if(p.memoizedState===null&&(d=p.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{mm(d)}catch(N){Sa(p,p.return,N)}}function D$(d){switch(d.tag){case 31:case 13:case 19:var p=d.stateNode;return p===null&&(p=d.stateNode=new V5),p;case 22:return d=d.stateNode,p=d._retryCache,p===null&&(p=d._retryCache=new V5),p;default:throw Error(n(435,d.tag))}}function b0(d,p){var N=D$(d);p.forEach(function(k){if(!N.has(k)){N.add(k);var I=q$.bind(null,d,k);k.then(I,I)}})}function Er(d,p){var N=p.deletions;if(N!==null)for(var k=0;k<N.length;k++){var I=N[k],q=d,ee=p,ue=ee;e:for(;ue!==null;){switch(ue.tag){case 27:if(_c(ue.type)){Ya=ue.stateNode,Pr=!1;break e}break;case 5:Ya=ue.stateNode,Pr=!1;break e;case 3:case 4:Ya=ue.stateNode.containerInfo,Pr=!0;break e}ue=ue.return}if(Ya===null)throw Error(n(160));Y5(q,ee,I),Ya=null,Pr=!1,q=I.alternate,q!==null&&(q.return=null),I.return=null}if(p.subtreeFlags&13886)for(p=p.child;p!==null;)Q5(p,d),p=p.sibling}var lo=null;function Q5(d,p){var N=d.alternate,k=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:Er(p,d),Tr(d),k&4&&(gc(3,d,d.return),hh(3,d),gc(5,d,d.return));break;case 1:Er(p,d),Tr(d),k&512&&(Nn||N===null||To(N,N.return)),k&64&&jl&&(d=d.updateQueue,d!==null&&(k=d.callbacks,k!==null&&(N=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=N===null?k:N.concat(k))));break;case 26:var I=lo;if(Er(p,d),Tr(d),k&512&&(Nn||N===null||To(N,N.return)),k&4){var q=N!==null?N.memoizedState:null;if(k=d.memoizedState,N===null)if(k===null)if(d.stateNode===null){e:{k=d.type,N=d.memoizedProps,I=I.ownerDocument||I;t:switch(k){case"title":q=I.getElementsByTagName("title")[0],(!q||q[qe]||q[rt]||q.namespaceURI==="http://www.w3.org/2000/svg"||q.hasAttribute("itemprop"))&&(q=I.createElement(k),I.head.insertBefore(q,I.querySelector("head > title"))),Wn(q,k,N),q[rt]=d,Ks(q),k=q;break e;case"link":var ee=Q6("link","href",I).get(k+(N.href||""));if(ee){for(var ue=0;ue<ee.length;ue++)if(q=ee[ue],q.getAttribute("href")===(N.href==null||N.href===""?null:N.href)&&q.getAttribute("rel")===(N.rel==null?null:N.rel)&&q.getAttribute("title")===(N.title==null?null:N.title)&&q.getAttribute("crossorigin")===(N.crossOrigin==null?null:N.crossOrigin)){ee.splice(ue,1);break t}}q=I.createElement(k),Wn(q,k,N),I.head.appendChild(q);break;case"meta":if(ee=Q6("meta","content",I).get(k+(N.content||""))){for(ue=0;ue<ee.length;ue++)if(q=ee[ue],q.getAttribute("content")===(N.content==null?null:""+N.content)&&q.getAttribute("name")===(N.name==null?null:N.name)&&q.getAttribute("property")===(N.property==null?null:N.property)&&q.getAttribute("http-equiv")===(N.httpEquiv==null?null:N.httpEquiv)&&q.getAttribute("charset")===(N.charSet==null?null:N.charSet)){ee.splice(ue,1);break t}}q=I.createElement(k),Wn(q,k,N),I.head.appendChild(q);break;default:throw Error(n(468,k))}q[rt]=d,Ks(q),k=q}d.stateNode=k}else Z6(I,d.type,d.stateNode);else d.stateNode=K6(I,k,d.memoizedProps);else q!==k?(q===null?N.stateNode!==null&&(N=N.stateNode,N.parentNode.removeChild(N)):q.count--,k===null?Z6(I,d.type,d.stateNode):K6(I,k,d.memoizedProps)):k===null&&d.stateNode!==null&&Wj(d,d.memoizedProps,N.memoizedProps)}break;case 27:Er(p,d),Tr(d),k&512&&(Nn||N===null||To(N,N.return)),N!==null&&k&4&&Wj(d,d.memoizedProps,N.memoizedProps);break;case 5:if(Er(p,d),Tr(d),k&512&&(Nn||N===null||To(N,N.return)),d.flags&32){I=d.stateNode;try{Iu(I,"")}catch(ns){Sa(d,d.return,ns)}}k&4&&d.stateNode!=null&&(I=d.memoizedProps,Wj(d,I,N!==null?N.memoizedProps:I)),k&1024&&(Kj=!0);break;case 6:if(Er(p,d),Tr(d),k&4){if(d.stateNode===null)throw Error(n(162));k=d.memoizedProps,N=d.stateNode;try{N.nodeValue=k}catch(ns){Sa(d,d.return,ns)}}break;case 3:if(I0=null,I=lo,lo=R0(p.containerInfo),Er(p,d),lo=I,Tr(d),k&4&&N!==null&&N.memoizedState.isDehydrated)try{mm(p.containerInfo)}catch(ns){Sa(d,d.return,ns)}Kj&&(Kj=!1,Z5(d));break;case 4:k=lo,lo=R0(d.stateNode.containerInfo),Er(p,d),Tr(d),lo=k;break;case 12:Er(p,d),Tr(d);break;case 31:Er(p,d),Tr(d),k&4&&(k=d.updateQueue,k!==null&&(d.updateQueue=null,b0(d,k)));break;case 13:Er(p,d),Tr(d),d.child.flags&8192&&d.memoizedState!==null!=(N!==null&&N.memoizedState!==null)&&(j0=Ge()),k&4&&(k=d.updateQueue,k!==null&&(d.updateQueue=null,b0(d,k)));break;case 22:I=d.memoizedState!==null;var Se=N!==null&&N.memoizedState!==null,He=jl,ut=Nn;if(jl=He||I,Nn=ut||Se,Er(p,d),Nn=ut,jl=He,Tr(d),k&8192)e:for(p=d.stateNode,p._visibility=I?p._visibility&-2:p._visibility|1,I&&(N===null||Se||jl||Nn||kd(d)),N=null,p=d;;){if(p.tag===5||p.tag===26){if(N===null){Se=N=p;try{if(q=Se.stateNode,I)ee=q.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none";else{ue=Se.stateNode;var vt=Se.memoizedProps.style,Ke=vt!=null&&vt.hasOwnProperty("display")?vt.display:null;ue.style.display=Ke==null||typeof Ke=="boolean"?"":(""+Ke).trim()}}catch(ns){Sa(Se,Se.return,ns)}}}else if(p.tag===6){if(N===null){Se=p;try{Se.stateNode.nodeValue=I?"":Se.memoizedProps}catch(ns){Sa(Se,Se.return,ns)}}}else if(p.tag===18){if(N===null){Se=p;try{var at=Se.stateNode;I?$6(at,!0):$6(Se.stateNode,!1)}catch(ns){Sa(Se,Se.return,ns)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===d)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break e;for(;p.sibling===null;){if(p.return===null||p.return===d)break e;N===p&&(N=null),p=p.return}N===p&&(N=null),p.sibling.return=p.return,p=p.sibling}k&4&&(k=d.updateQueue,k!==null&&(N=k.retryQueue,N!==null&&(k.retryQueue=null,b0(d,N))));break;case 19:Er(p,d),Tr(d),k&4&&(k=d.updateQueue,k!==null&&(d.updateQueue=null,b0(d,k)));break;case 30:break;case 21:break;default:Er(p,d),Tr(d)}}function Tr(d){var p=d.flags;if(p&2){try{for(var N,k=d.return;k!==null;){if(B5(k)){N=k;break}k=k.return}if(N==null)throw Error(n(160));switch(N.tag){case 27:var I=N.stateNode,q=Yj(d);y0(d,q,I);break;case 5:var ee=N.stateNode;N.flags&32&&(Iu(ee,""),N.flags&=-33);var ue=Yj(d);y0(d,ue,ee);break;case 3:case 4:var Se=N.stateNode.containerInfo,He=Yj(d);Gj(d,He,Se);break;default:throw Error(n(161))}}catch(ut){Sa(d,d.return,ut)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function Z5(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var p=d;Z5(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),d=d.sibling}}function wl(d,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)H5(d,p.alternate,p),p=p.sibling}function kd(d){for(d=d.child;d!==null;){var p=d;switch(p.tag){case 0:case 11:case 14:case 15:gc(4,p,p.return),kd(p);break;case 1:To(p,p.return);var N=p.stateNode;typeof N.componentWillUnmount=="function"&&$5(p,p.return,N),kd(p);break;case 27:_h(p.stateNode);case 26:case 5:To(p,p.return),kd(p);break;case 22:p.memoizedState===null&&kd(p);break;case 30:kd(p);break;default:kd(p)}d=d.sibling}}function _l(d,p,N){for(N=N&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var k=p.alternate,I=d,q=p,ee=q.flags;switch(q.tag){case 0:case 11:case 15:_l(I,q,N),hh(4,q);break;case 1:if(_l(I,q,N),k=q,I=k.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(He){Sa(k,k.return,He)}if(k=q,I=k.updateQueue,I!==null){var ue=k.stateNode;try{var Se=I.shared.hiddenCallbacks;if(Se!==null)for(I.shared.hiddenCallbacks=null,I=0;I<Se.length;I++)PC(Se[I],ue)}catch(He){Sa(k,k.return,He)}}N&&ee&64&&z5(q),fh(q,q.return);break;case 27:U5(q);case 26:case 5:_l(I,q,N),N&&k===null&&ee&4&&q5(q),fh(q,q.return);break;case 12:_l(I,q,N);break;case 31:_l(I,q,N),N&&ee&4&&G5(I,q);break;case 13:_l(I,q,N),N&&ee&4&&K5(I,q);break;case 22:q.memoizedState===null&&_l(I,q,N),fh(q,q.return);break;case 30:break;default:_l(I,q,N)}p=p.sibling}}function Qj(d,p){var N=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(N=d.memoizedState.cachePool.pool),d=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(d=p.memoizedState.cachePool.pool),d!==N&&(d!=null&&d.refCount++,N!=null&&th(N))}function Zj(d,p){d=null,p.alternate!==null&&(d=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==d&&(p.refCount++,d!=null&&th(d))}function co(d,p,N,k){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)X5(d,p,N,k),p=p.sibling}function X5(d,p,N,k){var I=p.flags;switch(p.tag){case 0:case 11:case 15:co(d,p,N,k),I&2048&&hh(9,p);break;case 1:co(d,p,N,k);break;case 3:co(d,p,N,k),I&2048&&(d=null,p.alternate!==null&&(d=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==d&&(p.refCount++,d!=null&&th(d)));break;case 12:if(I&2048){co(d,p,N,k),d=p.stateNode;try{var q=p.memoizedProps,ee=q.id,ue=q.onPostCommit;typeof ue=="function"&&ue(ee,p.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Se){Sa(p,p.return,Se)}}else co(d,p,N,k);break;case 31:co(d,p,N,k);break;case 13:co(d,p,N,k);break;case 23:break;case 22:q=p.stateNode,ee=p.alternate,p.memoizedState!==null?q._visibility&2?co(d,p,N,k):xh(d,p):q._visibility&2?co(d,p,N,k):(q._visibility|=2,tm(d,p,N,k,(p.subtreeFlags&10256)!==0||!1)),I&2048&&Qj(ee,p);break;case 24:co(d,p,N,k),I&2048&&Zj(p.alternate,p);break;default:co(d,p,N,k)}}function tm(d,p,N,k,I){for(I=I&&((p.subtreeFlags&10256)!==0||!1),p=p.child;p!==null;){var q=d,ee=p,ue=N,Se=k,He=ee.flags;switch(ee.tag){case 0:case 11:case 15:tm(q,ee,ue,Se,I),hh(8,ee);break;case 23:break;case 22:var ut=ee.stateNode;ee.memoizedState!==null?ut._visibility&2?tm(q,ee,ue,Se,I):xh(q,ee):(ut._visibility|=2,tm(q,ee,ue,Se,I)),I&&He&2048&&Qj(ee.alternate,ee);break;case 24:tm(q,ee,ue,Se,I),I&&He&2048&&Zj(ee.alternate,ee);break;default:tm(q,ee,ue,Se,I)}p=p.sibling}}function xh(d,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var N=d,k=p,I=k.flags;switch(k.tag){case 22:xh(N,k),I&2048&&Qj(k.alternate,k);break;case 24:xh(N,k),I&2048&&Zj(k.alternate,k);break;default:xh(N,k)}p=p.sibling}}var gh=8192;function sm(d,p,N){if(d.subtreeFlags&gh)for(d=d.child;d!==null;)J5(d,p,N),d=d.sibling}function J5(d,p,N){switch(d.tag){case 26:sm(d,p,N),d.flags&gh&&d.memoizedState!==null&&yq(N,lo,d.memoizedState,d.memoizedProps);break;case 5:sm(d,p,N);break;case 3:case 4:var k=lo;lo=R0(d.stateNode.containerInfo),sm(d,p,N),lo=k;break;case 22:d.memoizedState===null&&(k=d.alternate,k!==null&&k.memoizedState!==null?(k=gh,gh=16777216,sm(d,p,N),gh=k):sm(d,p,N));break;default:sm(d,p,N)}}function e6(d){var p=d.alternate;if(p!==null&&(d=p.child,d!==null)){p.child=null;do p=d.sibling,d.sibling=null,d=p;while(d!==null)}}function yh(d){var p=d.deletions;if((d.flags&16)!==0){if(p!==null)for(var N=0;N<p.length;N++){var k=p[N];On=k,s6(k,d)}e6(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)t6(d),d=d.sibling}function t6(d){switch(d.tag){case 0:case 11:case 15:yh(d),d.flags&2048&&gc(9,d,d.return);break;case 3:yh(d);break;case 12:yh(d);break;case 22:var p=d.stateNode;d.memoizedState!==null&&p._visibility&2&&(d.return===null||d.return.tag!==13)?(p._visibility&=-3,v0(d)):yh(d);break;default:yh(d)}}function v0(d){var p=d.deletions;if((d.flags&16)!==0){if(p!==null)for(var N=0;N<p.length;N++){var k=p[N];On=k,s6(k,d)}e6(d)}for(d=d.child;d!==null;){switch(p=d,p.tag){case 0:case 11:case 15:gc(8,p,p.return),v0(p);break;case 22:N=p.stateNode,N._visibility&2&&(N._visibility&=-3,v0(p));break;default:v0(p)}d=d.sibling}}function s6(d,p){for(;On!==null;){var N=On;switch(N.tag){case 0:case 11:case 15:gc(8,N,p);break;case 23:case 22:if(N.memoizedState!==null&&N.memoizedState.cachePool!==null){var k=N.memoizedState.cachePool.pool;k!=null&&k.refCount++}break;case 24:th(N.memoizedState.cache)}if(k=N.child,k!==null)k.return=N,On=k;else e:for(N=d;On!==null;){k=On;var I=k.sibling,q=k.return;if(W5(k),k===N){On=null;break e}if(I!==null){I.return=q,On=I;break e}On=q}}}var R$={getCacheForType:function(d){var p=Vn(bn),N=p.data.get(d);return N===void 0&&(N=d(),p.data.set(d,N)),N},cacheSignal:function(){return Vn(bn).controller.signal}},A$=typeof WeakMap=="function"?WeakMap:Map,xa=0,Fa=null,Xs=null,sa=0,_a=0,Jr=null,yc=!1,am=!1,Xj=!1,Sl=0,sn=0,bc=0,Pd=0,Jj=0,ei=0,nm=0,bh=null,Mr=null,e2=!1,j0=0,a6=0,N0=1/0,w0=null,vc=null,Tn=0,jc=null,rm=null,Cl=0,t2=0,s2=null,n6=null,vh=0,a2=null;function ti(){return(xa&2)!==0&&sa!==0?sa&-sa:B.T!==null?c2():ce()}function r6(){if(ei===0)if((sa&536870912)===0||ia){var d=As;As<<=1,(As&3932160)===0&&(As=262144),ei=d}else ei=536870912;return d=Zr.current,d!==null&&(d.flags|=32),ei}function Dr(d,p,N){(d===Fa&&(_a===2||_a===9)||d.cancelPendingCommit!==null)&&(im(d,0),Nc(d,sa,ei,!1)),Ft(d,N),((xa&2)===0||d!==Fa)&&(d===Fa&&((xa&2)===0&&(Pd|=N),sn===4&&Nc(d,sa,ei,!1)),Mo(d))}function i6(d,p,N){if((xa&6)!==0)throw Error(n(327));var k=!N&&(p&127)===0&&(p&d.expiredLanes)===0||ca(d,p),I=k?F$(d,p):r2(d,p,!0),q=k;do{if(I===0){am&&!k&&Nc(d,p,0,!1);break}else{if(N=d.current.alternate,q&&!I$(N)){I=r2(d,p,!1),q=!1;continue}if(I===2){if(q=p,d.errorRecoveryDisabledLanes&q)var ee=0;else ee=d.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){p=ee;e:{var ue=d;I=bh;var Se=ue.current.memoizedState.isDehydrated;if(Se&&(im(ue,ee).flags|=256),ee=r2(ue,ee,!1),ee!==2){if(Xj&&!Se){ue.errorRecoveryDisabledLanes|=q,Pd|=q,I=4;break e}q=Mr,Mr=I,q!==null&&(Mr===null?Mr=q:Mr.push.apply(Mr,q))}I=ee}if(q=!1,I!==2)continue}}if(I===1){im(d,0),Nc(d,p,0,!0);break}e:{switch(k=d,q=I,q){case 0:case 1:throw Error(n(345));case 4:if((p&4194048)!==p)break;case 6:Nc(k,p,ei,!yc);break e;case 2:Mr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((p&62914560)===p&&(I=j0+300-Ge(),10<I)){if(Nc(k,p,ei,!yc),ma(k,0,!0)!==0)break e;Cl=p,k.timeoutHandle=F6(o6.bind(null,k,N,Mr,w0,e2,p,ei,Pd,nm,yc,q,"Throttled",-0,0),I);break e}o6(k,N,Mr,w0,e2,p,ei,Pd,nm,yc,q,null,-0,0)}}break}while(!0);Mo(d)}function o6(d,p,N,k,I,q,ee,ue,Se,He,ut,vt,Ke,at){if(d.timeoutHandle=-1,vt=p.subtreeFlags,vt&8192||(vt&16785408)===16785408){vt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ul},J5(p,q,vt);var ns=(q&62914560)===q?j0-Ge():(q&4194048)===q?a6-Ge():0;if(ns=bq(vt,ns),ns!==null){Cl=q,d.cancelPendingCommit=ns(f6.bind(null,d,p,q,N,k,I,ee,ue,Se,ut,vt,null,Ke,at)),Nc(d,q,ee,!He);return}}f6(d,p,q,N,k,I,ee,ue,Se)}function I$(d){for(var p=d;;){var N=p.tag;if((N===0||N===11||N===15)&&p.flags&16384&&(N=p.updateQueue,N!==null&&(N=N.stores,N!==null)))for(var k=0;k<N.length;k++){var I=N[k],q=I.getSnapshot;I=I.value;try{if(!Kr(q(),I))return!1}catch{return!1}}if(N=p.child,p.subtreeFlags&16384&&N!==null)N.return=p,p=N;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Nc(d,p,N,k){p&=~Jj,p&=~Pd,d.suspendedLanes|=p,d.pingedLanes&=~p,k&&(d.warmLanes|=p),k=d.expirationTimes;for(var I=p;0<I;){var q=31-ts(I),ee=1<<q;k[q]=-1,I&=~ee}N!==0&&Ms(d,N,p)}function _0(){return(xa&6)===0?(jh(0),!1):!0}function n2(){if(Xs!==null){if(_a===0)var d=Xs.return;else d=Xs,fl=bd=null,vj(d),Qu=null,ah=0,d=Xs;for(;d!==null;)L5(d.alternate,d),d=d.return;Xs=null}}function im(d,p){var N=d.timeoutHandle;N!==-1&&(d.timeoutHandle=-1,tq(N)),N=d.cancelPendingCommit,N!==null&&(d.cancelPendingCommit=null,N()),Cl=0,n2(),Fa=d,Xs=N=pl(d.current,null),sa=p,_a=0,Jr=null,yc=!1,am=ca(d,p),Xj=!1,nm=ei=Jj=Pd=bc=sn=0,Mr=bh=null,e2=!1,(p&8)!==0&&(p|=p&32);var k=d.entangledLanes;if(k!==0)for(d=d.entanglements,k&=p;0<k;){var I=31-ts(k),q=1<<I;p|=d[I],k&=~q}return Sl=p,Hg(),N}function l6(d,p){Os=null,B.H=uh,p===Ku||p===Jg?(p=_C(),_a=3):p===lj?(p=_C(),_a=4):_a=p===Oj?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,Jr=p,Xs===null&&(sn=1,p0(d,Si(p,d.current)))}function c6(){var d=Zr.current;return d===null?!0:(sa&4194048)===sa?Ei===null:(sa&62914560)===sa||(sa&536870912)!==0?d===Ei:!1}function d6(){var d=B.H;return B.H=uh,d===null?uh:d}function u6(){var d=B.A;return B.A=R$,d}function S0(){sn=4,yc||(sa&4194048)!==sa&&Zr.current!==null||(am=!0),(bc&134217727)===0&&(Pd&134217727)===0||Fa===null||Nc(Fa,sa,ei,!1)}function r2(d,p,N){var k=xa;xa|=2;var I=d6(),q=u6();(Fa!==d||sa!==p)&&(w0=null,im(d,p)),p=!1;var ee=sn;e:do try{if(_a!==0&&Xs!==null){var ue=Xs,Se=Jr;switch(_a){case 8:n2(),ee=6;break e;case 3:case 2:case 9:case 6:Zr.current===null&&(p=!0);var He=_a;if(_a=0,Jr=null,om(d,ue,Se,He),N&&am){ee=0;break e}break;default:He=_a,_a=0,Jr=null,om(d,ue,Se,He)}}O$(),ee=sn;break}catch(ut){l6(d,ut)}while(!0);return p&&d.shellSuspendCounter++,fl=bd=null,xa=k,B.H=I,B.A=q,Xs===null&&(Fa=null,sa=0,Hg()),ee}function O$(){for(;Xs!==null;)m6(Xs)}function F$(d,p){var N=xa;xa|=2;var k=d6(),I=u6();Fa!==d||sa!==p?(w0=null,N0=Ge()+500,im(d,p)):am=ca(d,p);e:do try{if(_a!==0&&Xs!==null){p=Xs;var q=Jr;t:switch(_a){case 1:_a=0,Jr=null,om(d,p,q,1);break;case 2:case 9:if(NC(q)){_a=0,Jr=null,p6(p);break}p=function(){_a!==2&&_a!==9||Fa!==d||(_a=7),Mo(d)},q.then(p,p);break e;case 3:_a=7;break e;case 4:_a=5;break e;case 7:NC(q)?(_a=0,Jr=null,p6(p)):(_a=0,Jr=null,om(d,p,q,7));break;case 5:var ee=null;switch(Xs.tag){case 26:ee=Xs.memoizedState;case 5:case 27:var ue=Xs;if(ee?X6(ee):ue.stateNode.complete){_a=0,Jr=null;var Se=ue.sibling;if(Se!==null)Xs=Se;else{var He=ue.return;He!==null?(Xs=He,C0(He)):Xs=null}break t}}_a=0,Jr=null,om(d,p,q,5);break;case 6:_a=0,Jr=null,om(d,p,q,6);break;case 8:n2(),sn=6;break e;default:throw Error(n(462))}}L$();break}catch(ut){l6(d,ut)}while(!0);return fl=bd=null,B.H=k,B.A=I,xa=N,Xs!==null?0:(Fa=null,sa=0,Hg(),sn)}function L$(){for(;Xs!==null&&!ye();)m6(Xs)}function m6(d){var p=O5(d.alternate,d,Sl);d.memoizedProps=d.pendingProps,p===null?C0(d):Xs=p}function p6(d){var p=d,N=p.alternate;switch(p.tag){case 15:case 0:p=T5(N,p,p.pendingProps,p.type,void 0,sa);break;case 11:p=T5(N,p,p.pendingProps,p.type.render,p.ref,sa);break;case 5:vj(p);default:L5(N,p),p=Xs=uC(p,Sl),p=O5(N,p,Sl)}d.memoizedProps=d.pendingProps,p===null?C0(d):Xs=p}function om(d,p,N,k){fl=bd=null,vj(p),Qu=null,ah=0;var I=p.return;try{if(C$(d,I,p,N,sa)){sn=1,p0(d,Si(N,d.current)),Xs=null;return}}catch(q){if(I!==null)throw Xs=I,q;sn=1,p0(d,Si(N,d.current)),Xs=null;return}p.flags&32768?(ia||k===1?d=!0:am||(sa&536870912)!==0?d=!1:(yc=d=!0,(k===2||k===9||k===3||k===6)&&(k=Zr.current,k!==null&&k.tag===13&&(k.flags|=16384))),h6(p,d)):C0(p)}function C0(d){var p=d;do{if((p.flags&32768)!==0){h6(p,yc);return}d=p.return;var N=E$(p.alternate,p,Sl);if(N!==null){Xs=N;return}if(p=p.sibling,p!==null){Xs=p;return}Xs=p=d}while(p!==null);sn===0&&(sn=5)}function h6(d,p){do{var N=T$(d.alternate,d);if(N!==null){N.flags&=32767,Xs=N;return}if(N=d.return,N!==null&&(N.flags|=32768,N.subtreeFlags=0,N.deletions=null),!p&&(d=d.sibling,d!==null)){Xs=d;return}Xs=d=N}while(d!==null);sn=6,Xs=null}function f6(d,p,N,k,I,q,ee,ue,Se){d.cancelPendingCommit=null;do k0();while(Tn!==0);if((xa&6)!==0)throw Error(n(327));if(p!==null){if(p===d.current)throw Error(n(177));if(q=p.lanes|p.childLanes,q|=Y1,Qt(d,N,q,ee,ue,Se),d===Fa&&(Xs=Fa=null,sa=0),rm=p,jc=d,Cl=N,t2=q,s2=I,n6=k,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,B$(Dt,function(){return v6(),null})):(d.callbackNode=null,d.callbackPriority=0),k=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||k){k=B.T,B.T=null,I=V.p,V.p=2,ee=xa,xa|=4;try{M$(d,p,N)}finally{xa=ee,V.p=I,B.T=k}}Tn=1,x6(),g6(),y6()}}function x6(){if(Tn===1){Tn=0;var d=jc,p=rm,N=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||N){N=B.T,B.T=null;var k=V.p;V.p=2;var I=xa;xa|=4;try{Q5(p,d);var q=g2,ee=sC(d.containerInfo),ue=q.focusedElem,Se=q.selectionRange;if(ee!==ue&&ue&&ue.ownerDocument&&tC(ue.ownerDocument.documentElement,ue)){if(Se!==null&&B1(ue)){var He=Se.start,ut=Se.end;if(ut===void 0&&(ut=He),"selectionStart"in ue)ue.selectionStart=He,ue.selectionEnd=Math.min(ut,ue.value.length);else{var vt=ue.ownerDocument||document,Ke=vt&&vt.defaultView||window;if(Ke.getSelection){var at=Ke.getSelection(),ns=ue.textContent.length,Ns=Math.min(Se.start,ns),Ra=Se.end===void 0?Ns:Math.min(Se.end,ns);!at.extend&&Ns>Ra&&(ee=Ra,Ra=Ns,Ns=ee);var ze=eC(ue,Ns),Ee=eC(ue,Ra);if(ze&&Ee&&(at.rangeCount!==1||at.anchorNode!==ze.node||at.anchorOffset!==ze.offset||at.focusNode!==Ee.node||at.focusOffset!==Ee.offset)){var Ve=vt.createRange();Ve.setStart(ze.node,ze.offset),at.removeAllRanges(),Ns>Ra?(at.addRange(Ve),at.extend(Ee.node,Ee.offset)):(Ve.setEnd(Ee.node,Ee.offset),at.addRange(Ve))}}}}for(vt=[],at=ue;at=at.parentNode;)at.nodeType===1&&vt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof ue.focus=="function"&&ue.focus(),ue=0;ue<vt.length;ue++){var yt=vt[ue];yt.element.scrollLeft=yt.left,yt.element.scrollTop=yt.top}}z0=!!x2,g2=x2=null}finally{xa=I,V.p=k,B.T=N}}d.current=p,Tn=2}}function g6(){if(Tn===2){Tn=0;var d=jc,p=rm,N=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||N){N=B.T,B.T=null;var k=V.p;V.p=2;var I=xa;xa|=4;try{H5(d,p.alternate,p)}finally{xa=I,V.p=k,B.T=N}}Tn=3}}function y6(){if(Tn===4||Tn===3){Tn=0,We();var d=jc,p=rm,N=Cl,k=n6;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?Tn=5:(Tn=0,rm=jc=null,b6(d,d.pendingLanes));var I=d.pendingLanes;if(I===0&&(vc=null),xt(N),p=p.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Zt,p,void 0,(p.current.flags&128)===128)}catch{}if(k!==null){p=B.T,I=V.p,V.p=2,B.T=null;try{for(var q=d.onRecoverableError,ee=0;ee<k.length;ee++){var ue=k[ee];q(ue.value,{componentStack:ue.stack})}}finally{B.T=p,V.p=I}}(Cl&3)!==0&&k0(),Mo(d),I=d.pendingLanes,(N&261930)!==0&&(I&42)!==0?d===a2?vh++:(vh=0,a2=d):vh=0,jh(0)}}function b6(d,p){(d.pooledCacheLanes&=p)===0&&(p=d.pooledCache,p!=null&&(d.pooledCache=null,th(p)))}function k0(){return x6(),g6(),y6(),v6()}function v6(){if(Tn!==5)return!1;var d=jc,p=t2;t2=0;var N=xt(Cl),k=B.T,I=V.p;try{V.p=32>N?32:N,B.T=null,N=s2,s2=null;var q=jc,ee=Cl;if(Tn=0,rm=jc=null,Cl=0,(xa&6)!==0)throw Error(n(331));var ue=xa;if(xa|=4,t6(q.current),X5(q,q.current,ee,N),xa=ue,jh(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Zt,q)}catch{}return!0}finally{V.p=I,B.T=k,b6(d,p)}}function j6(d,p,N){p=Si(N,p),p=Ij(d.stateNode,p,2),d=hc(d,p,2),d!==null&&(Ft(d,2),Mo(d))}function Sa(d,p,N){if(d.tag===3)j6(d,d,N);else for(;p!==null;){if(p.tag===3){j6(p,d,N);break}else if(p.tag===1){var k=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(vc===null||!vc.has(k))){d=Si(N,d),N=N5(2),k=hc(p,N,2),k!==null&&(w5(N,k,p,d),Ft(k,2),Mo(k));break}}p=p.return}}function i2(d,p,N){var k=d.pingCache;if(k===null){k=d.pingCache=new A$;var I=new Set;k.set(p,I)}else I=k.get(p),I===void 0&&(I=new Set,k.set(p,I));I.has(N)||(Xj=!0,I.add(N),d=z$.bind(null,d,p,N),p.then(d,d))}function z$(d,p,N){var k=d.pingCache;k!==null&&k.delete(p),d.pingedLanes|=d.suspendedLanes&N,d.warmLanes&=~N,Fa===d&&(sa&N)===N&&(sn===4||sn===3&&(sa&62914560)===sa&&300>Ge()-j0?(xa&2)===0&&im(d,0):Jj|=N,nm===sa&&(nm=0)),Mo(d)}function N6(d,p){p===0&&(p=qt()),d=xd(d,p),d!==null&&(Ft(d,p),Mo(d))}function $$(d){var p=d.memoizedState,N=0;p!==null&&(N=p.retryLane),N6(d,N)}function q$(d,p){var N=0;switch(d.tag){case 31:case 13:var k=d.stateNode,I=d.memoizedState;I!==null&&(N=I.retryLane);break;case 19:k=d.stateNode;break;case 22:k=d.stateNode._retryCache;break;default:throw Error(n(314))}k!==null&&k.delete(p),N6(d,N)}function B$(d,p){return ke(d,p)}var P0=null,lm=null,o2=!1,E0=!1,l2=!1,wc=0;function Mo(d){d!==lm&&d.next===null&&(lm===null?P0=lm=d:lm=lm.next=d),E0=!0,o2||(o2=!0,V$())}function jh(d,p){if(!l2&&E0){l2=!0;do for(var N=!1,k=P0;k!==null;){if(d!==0){var I=k.pendingLanes;if(I===0)var q=0;else{var ee=k.suspendedLanes,ue=k.pingedLanes;q=(1<<31-ts(42|d)+1)-1,q&=I&~(ee&~ue),q=q&201326741?q&201326741|1:q?q|2:0}q!==0&&(N=!0,C6(k,q))}else q=sa,q=ma(k,k===Fa?q:0,k.cancelPendingCommit!==null||k.timeoutHandle!==-1),(q&3)===0||ca(k,q)||(N=!0,C6(k,q));k=k.next}while(N);l2=!1}}function U$(){w6()}function w6(){E0=o2=!1;var d=0;wc!==0&&eq()&&(d=wc);for(var p=Ge(),N=null,k=P0;k!==null;){var I=k.next,q=_6(k,p);q===0?(k.next=null,N===null?P0=I:N.next=I,I===null&&(lm=N)):(N=k,(d!==0||(q&3)!==0)&&(E0=!0)),k=I}Tn!==0&&Tn!==5||jh(d),wc!==0&&(wc=0)}function _6(d,p){for(var N=d.suspendedLanes,k=d.pingedLanes,I=d.expirationTimes,q=d.pendingLanes&-62914561;0<q;){var ee=31-ts(q),ue=1<<ee,Se=I[ee];Se===-1?((ue&N)===0||(ue&k)!==0)&&(I[ee]=fa(ue,p)):Se<=p&&(d.expiredLanes|=ue),q&=~ue}if(p=Fa,N=sa,N=ma(d,d===p?N:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),k=d.callbackNode,N===0||d===p&&(_a===2||_a===9)||d.cancelPendingCommit!==null)return k!==null&&k!==null&&Ye(k),d.callbackNode=null,d.callbackPriority=0;if((N&3)===0||ca(d,N)){if(p=N&-N,p===d.callbackPriority)return p;switch(k!==null&&Ye(k),xt(N)){case 2:case 8:N=wt;break;case 32:N=Dt;break;case 268435456:N=Le;break;default:N=Dt}return k=S6.bind(null,d),N=ke(N,k),d.callbackPriority=p,d.callbackNode=N,p}return k!==null&&k!==null&&Ye(k),d.callbackPriority=2,d.callbackNode=null,2}function S6(d,p){if(Tn!==0&&Tn!==5)return d.callbackNode=null,d.callbackPriority=0,null;var N=d.callbackNode;if(k0()&&d.callbackNode!==N)return null;var k=sa;return k=ma(d,d===Fa?k:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),k===0?null:(i6(d,k,p),_6(d,Ge()),d.callbackNode!=null&&d.callbackNode===N?S6.bind(null,d):null)}function C6(d,p){if(k0())return null;i6(d,p,!0)}function V$(){sq(function(){(xa&6)!==0?ke(dt,U$):w6()})}function c2(){if(wc===0){var d=Yu;d===0&&(d=us,us<<=1,(us&261888)===0&&(us=256)),wc=d}return wc}function k6(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:Fg(""+d)}function P6(d,p){var N=p.ownerDocument.createElement("input");return N.name=p.name,N.value=p.value,d.id&&N.setAttribute("form",d.id),p.parentNode.insertBefore(N,p),d=new FormData(d),N.parentNode.removeChild(N),d}function H$(d,p,N,k,I){if(p==="submit"&&N&&N.stateNode===I){var q=k6((I[gt]||null).action),ee=k.submitter;ee&&(p=(p=ee[gt]||null)?k6(p.formAction):ee.getAttribute("formAction"),p!==null&&(q=p,ee=null));var ue=new qg("action","action",null,k,I);d.push({event:ue,listeners:[{instance:null,listener:function(){if(k.defaultPrevented){if(wc!==0){var Se=ee?P6(I,ee):new FormData(I);Ej(N,{pending:!0,data:Se,method:I.method,action:q},null,Se)}}else typeof q=="function"&&(ue.preventDefault(),Se=ee?P6(I,ee):new FormData(I),Ej(N,{pending:!0,data:Se,method:I.method,action:q},q,Se))},currentTarget:I}]})}}for(var d2=0;d2<W1.length;d2++){var u2=W1[d2],W$=u2.toLowerCase(),Y$=u2[0].toUpperCase()+u2.slice(1);oo(W$,"on"+Y$)}oo(rC,"onAnimationEnd"),oo(iC,"onAnimationIteration"),oo(oC,"onAnimationStart"),oo("dblclick","onDoubleClick"),oo("focusin","onFocus"),oo("focusout","onBlur"),oo(c$,"onTransitionRun"),oo(d$,"onTransitionStart"),oo(u$,"onTransitionCancel"),oo(lC,"onTransitionEnd"),Pn("onMouseEnter",["mouseout","mouseover"]),Pn("onMouseLeave",["mouseout","mouseover"]),Pn("onPointerEnter",["pointerout","pointerover"]),Pn("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nh));function E6(d,p){p=(p&4)!==0;for(var N=0;N<d.length;N++){var k=d[N],I=k.event;k=k.listeners;e:{var q=void 0;if(p)for(var ee=k.length-1;0<=ee;ee--){var ue=k[ee],Se=ue.instance,He=ue.currentTarget;if(ue=ue.listener,Se!==q&&I.isPropagationStopped())break e;q=ue,I.currentTarget=He;try{q(I)}catch(ut){Vg(ut)}I.currentTarget=null,q=Se}else for(ee=0;ee<k.length;ee++){if(ue=k[ee],Se=ue.instance,He=ue.currentTarget,ue=ue.listener,Se!==q&&I.isPropagationStopped())break e;q=ue,I.currentTarget=He;try{q(I)}catch(ut){Vg(ut)}I.currentTarget=null,q=Se}}}}function Js(d,p){var N=p[os];N===void 0&&(N=p[os]=new Set);var k=d+"__bubble";N.has(k)||(T6(p,d,2,!1),N.add(k))}function m2(d,p,N){var k=0;p&&(k|=4),T6(N,d,k,p)}var T0="_reactListening"+Math.random().toString(36).slice(2);function p2(d){if(!d[T0]){d[T0]=!0,qs.forEach(function(N){N!=="selectionchange"&&(G$.has(N)||m2(N,!1,d),m2(N,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[T0]||(p[T0]=!0,m2("selectionchange",!1,p))}}function T6(d,p,N,k){switch(rk(p)){case 2:var I=Nq;break;case 8:I=wq;break;default:I=P2}N=I.bind(null,p,N,d),I=void 0,!R1||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(I=!0),k?I!==void 0?d.addEventListener(p,N,{capture:!0,passive:I}):d.addEventListener(p,N,!0):I!==void 0?d.addEventListener(p,N,{passive:I}):d.addEventListener(p,N,!1)}function h2(d,p,N,k,I){var q=k;if((p&1)===0&&(p&2)===0&&k!==null)e:for(;;){if(k===null)return;var ee=k.tag;if(ee===3||ee===4){var ue=k.stateNode.containerInfo;if(ue===I)break;if(ee===4)for(ee=k.return;ee!==null;){var Se=ee.tag;if((Se===3||Se===4)&&ee.stateNode.containerInfo===I)return;ee=ee.return}for(;ue!==null;){if(ee=Xt(ue),ee===null)return;if(Se=ee.tag,Se===5||Se===6||Se===26||Se===27){k=q=ee;continue e}ue=ue.parentNode}}k=k.return}I3(function(){var He=q,ut=M1(N),vt=[];e:{var Ke=cC.get(d);if(Ke!==void 0){var at=qg,ns=d;switch(d){case"keypress":if(zg(N)===0)break e;case"keydown":case"keyup":at=qz;break;case"focusin":ns="focus",at=F1;break;case"focusout":ns="blur",at=F1;break;case"beforeblur":case"afterblur":at=F1;break;case"click":if(N.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=L3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=Ez;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=Vz;break;case rC:case iC:case oC:at=Dz;break;case lC:at=Wz;break;case"scroll":case"scrollend":at=kz;break;case"wheel":at=Gz;break;case"copy":case"cut":case"paste":at=Az;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=$3;break;case"toggle":case"beforetoggle":at=Qz}var Ns=(p&4)!==0,Ra=!Ns&&(d==="scroll"||d==="scrollend"),ze=Ns?Ke!==null?Ke+"Capture":null:Ke;Ns=[];for(var Ee=He,Ve;Ee!==null;){var yt=Ee;if(Ve=yt.stateNode,yt=yt.tag,yt!==5&&yt!==26&&yt!==27||Ve===null||ze===null||(yt=Vp(Ee,ze),yt!=null&&Ns.push(wh(Ee,yt,Ve))),Ra)break;Ee=Ee.return}0<Ns.length&&(Ke=new at(Ke,ns,null,N,ut),vt.push({event:Ke,listeners:Ns}))}}if((p&7)===0){e:{if(Ke=d==="mouseover"||d==="pointerover",at=d==="mouseout"||d==="pointerout",Ke&&N!==T1&&(ns=N.relatedTarget||N.fromElement)&&(Xt(ns)||ns[Kt]))break e;if((at||Ke)&&(Ke=ut.window===ut?ut:(Ke=ut.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,at?(ns=N.relatedTarget||N.toElement,at=He,ns=ns?Xt(ns):null,ns!==null&&(Ra=i(ns),Ns=ns.tag,ns!==Ra||Ns!==5&&Ns!==27&&Ns!==6)&&(ns=null)):(at=null,ns=He),at!==ns)){if(Ns=L3,yt="onMouseLeave",ze="onMouseEnter",Ee="mouse",(d==="pointerout"||d==="pointerover")&&(Ns=$3,yt="onPointerLeave",ze="onPointerEnter",Ee="pointer"),Ra=at==null?Ke:Is(at),Ve=ns==null?Ke:Is(ns),Ke=new Ns(yt,Ee+"leave",at,N,ut),Ke.target=Ra,Ke.relatedTarget=Ve,yt=null,Xt(ut)===He&&(Ns=new Ns(ze,Ee+"enter",ns,N,ut),Ns.target=Ve,Ns.relatedTarget=Ra,yt=Ns),Ra=yt,at&&ns)t:{for(Ns=K$,ze=at,Ee=ns,Ve=0,yt=ze;yt;yt=Ns(yt))Ve++;yt=0;for(var fs=Ee;fs;fs=Ns(fs))yt++;for(;0<Ve-yt;)ze=Ns(ze),Ve--;for(;0<yt-Ve;)Ee=Ns(Ee),yt--;for(;Ve--;){if(ze===Ee||Ee!==null&&ze===Ee.alternate){Ns=ze;break t}ze=Ns(ze),Ee=Ns(Ee)}Ns=null}else Ns=null;at!==null&&M6(vt,Ke,at,Ns,!1),ns!==null&&Ra!==null&&M6(vt,Ra,ns,Ns,!0)}}e:{if(Ke=He?Is(He):window,at=Ke.nodeName&&Ke.nodeName.toLowerCase(),at==="select"||at==="input"&&Ke.type==="file")var pa=G3;else if(W3(Ke))if(K3)pa=i$;else{pa=n$;var ls=a$}else at=Ke.nodeName,!at||at.toLowerCase()!=="input"||Ke.type!=="checkbox"&&Ke.type!=="radio"?He&&E1(He.elementType)&&(pa=G3):pa=r$;if(pa&&(pa=pa(d,He))){Y3(vt,pa,N,ut);break e}ls&&ls(d,Ke,He),d==="focusout"&&He&&Ke.type==="number"&&He.memoizedProps.value!=null&&P1(Ke,"number",Ke.value)}switch(ls=He?Is(He):window,d){case"focusin":(W3(ls)||ls.contentEditable==="true")&&(zu=ls,U1=He,Xp=null);break;case"focusout":Xp=U1=zu=null;break;case"mousedown":V1=!0;break;case"contextmenu":case"mouseup":case"dragend":V1=!1,aC(vt,N,ut);break;case"selectionchange":if(l$)break;case"keydown":case"keyup":aC(vt,N,ut)}var Bs;if(z1)e:{switch(d){case"compositionstart":var aa="onCompositionStart";break e;case"compositionend":aa="onCompositionEnd";break e;case"compositionupdate":aa="onCompositionUpdate";break e}aa=void 0}else Lu?V3(d,N)&&(aa="onCompositionEnd"):d==="keydown"&&N.keyCode===229&&(aa="onCompositionStart");aa&&(q3&&N.locale!=="ko"&&(Lu||aa!=="onCompositionStart"?aa==="onCompositionEnd"&&Lu&&(Bs=O3()):(oc=ut,A1="value"in oc?oc.value:oc.textContent,Lu=!0)),ls=M0(He,aa),0<ls.length&&(aa=new z3(aa,d,null,N,ut),vt.push({event:aa,listeners:ls}),Bs?aa.data=Bs:(Bs=H3(N),Bs!==null&&(aa.data=Bs)))),(Bs=Xz?Jz(d,N):e$(d,N))&&(aa=M0(He,"onBeforeInput"),0<aa.length&&(ls=new z3("onBeforeInput","beforeinput",null,N,ut),vt.push({event:ls,listeners:aa}),ls.data=Bs)),H$(vt,d,He,N,ut)}E6(vt,p)})}function wh(d,p,N){return{instance:d,listener:p,currentTarget:N}}function M0(d,p){for(var N=p+"Capture",k=[];d!==null;){var I=d,q=I.stateNode;if(I=I.tag,I!==5&&I!==26&&I!==27||q===null||(I=Vp(d,N),I!=null&&k.unshift(wh(d,I,q)),I=Vp(d,p),I!=null&&k.push(wh(d,I,q))),d.tag===3)return k;d=d.return}return[]}function K$(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function M6(d,p,N,k,I){for(var q=p._reactName,ee=[];N!==null&&N!==k;){var ue=N,Se=ue.alternate,He=ue.stateNode;if(ue=ue.tag,Se!==null&&Se===k)break;ue!==5&&ue!==26&&ue!==27||He===null||(Se=He,I?(He=Vp(N,q),He!=null&&ee.unshift(wh(N,He,Se))):I||(He=Vp(N,q),He!=null&&ee.push(wh(N,He,Se)))),N=N.return}ee.length!==0&&d.push({event:p,listeners:ee})}var Q$=/\r\n?/g,Z$=/\u0000|\uFFFD/g;function D6(d){return(typeof d=="string"?d:""+d).replace(Q$,`
`).replace(Z$,"")}function R6(d,p){return p=D6(p),D6(d)===p}function Da(d,p,N,k,I,q){switch(N){case"children":typeof k=="string"?p==="body"||p==="textarea"&&k===""||Iu(d,k):(typeof k=="number"||typeof k=="bigint")&&p!=="body"&&Iu(d,""+k);break;case"className":Gr(d,"class",k);break;case"tabIndex":Gr(d,"tabindex",k);break;case"dir":case"role":case"viewBox":case"width":case"height":Gr(d,N,k);break;case"style":R3(d,k,q);break;case"data":if(p!=="object"){Gr(d,"data",k);break}case"src":case"href":if(k===""&&(p!=="a"||N!=="href")){d.removeAttribute(N);break}if(k==null||typeof k=="function"||typeof k=="symbol"||typeof k=="boolean"){d.removeAttribute(N);break}k=Fg(""+k),d.setAttribute(N,k);break;case"action":case"formAction":if(typeof k=="function"){d.setAttribute(N,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof q=="function"&&(N==="formAction"?(p!=="input"&&Da(d,p,"name",I.name,I,null),Da(d,p,"formEncType",I.formEncType,I,null),Da(d,p,"formMethod",I.formMethod,I,null),Da(d,p,"formTarget",I.formTarget,I,null)):(Da(d,p,"encType",I.encType,I,null),Da(d,p,"method",I.method,I,null),Da(d,p,"target",I.target,I,null)));if(k==null||typeof k=="symbol"||typeof k=="boolean"){d.removeAttribute(N);break}k=Fg(""+k),d.setAttribute(N,k);break;case"onClick":k!=null&&(d.onclick=ul);break;case"onScroll":k!=null&&Js("scroll",d);break;case"onScrollEnd":k!=null&&Js("scrollend",d);break;case"dangerouslySetInnerHTML":if(k!=null){if(typeof k!="object"||!("__html"in k))throw Error(n(61));if(N=k.__html,N!=null){if(I.children!=null)throw Error(n(60));d.innerHTML=N}}break;case"multiple":d.multiple=k&&typeof k!="function"&&typeof k!="symbol";break;case"muted":d.muted=k&&typeof k!="function"&&typeof k!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(k==null||typeof k=="function"||typeof k=="boolean"||typeof k=="symbol"){d.removeAttribute("xlink:href");break}N=Fg(""+k),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",N);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":k!=null&&typeof k!="function"&&typeof k!="symbol"?d.setAttribute(N,""+k):d.removeAttribute(N);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":k&&typeof k!="function"&&typeof k!="symbol"?d.setAttribute(N,""):d.removeAttribute(N);break;case"capture":case"download":k===!0?d.setAttribute(N,""):k!==!1&&k!=null&&typeof k!="function"&&typeof k!="symbol"?d.setAttribute(N,k):d.removeAttribute(N);break;case"cols":case"rows":case"size":case"span":k!=null&&typeof k!="function"&&typeof k!="symbol"&&!isNaN(k)&&1<=k?d.setAttribute(N,k):d.removeAttribute(N);break;case"rowSpan":case"start":k==null||typeof k=="function"||typeof k=="symbol"||isNaN(k)?d.removeAttribute(N):d.setAttribute(N,k);break;case"popover":Js("beforetoggle",d),Js("toggle",d),Za(d,"popover",k);break;case"xlinkActuate":En(d,"http://www.w3.org/1999/xlink","xlink:actuate",k);break;case"xlinkArcrole":En(d,"http://www.w3.org/1999/xlink","xlink:arcrole",k);break;case"xlinkRole":En(d,"http://www.w3.org/1999/xlink","xlink:role",k);break;case"xlinkShow":En(d,"http://www.w3.org/1999/xlink","xlink:show",k);break;case"xlinkTitle":En(d,"http://www.w3.org/1999/xlink","xlink:title",k);break;case"xlinkType":En(d,"http://www.w3.org/1999/xlink","xlink:type",k);break;case"xmlBase":En(d,"http://www.w3.org/XML/1998/namespace","xml:base",k);break;case"xmlLang":En(d,"http://www.w3.org/XML/1998/namespace","xml:lang",k);break;case"xmlSpace":En(d,"http://www.w3.org/XML/1998/namespace","xml:space",k);break;case"is":Za(d,"is",k);break;case"innerText":case"textContent":break;default:(!(2<N.length)||N[0]!=="o"&&N[0]!=="O"||N[1]!=="n"&&N[1]!=="N")&&(N=Sz.get(N)||N,Za(d,N,k))}}function f2(d,p,N,k,I,q){switch(N){case"style":R3(d,k,q);break;case"dangerouslySetInnerHTML":if(k!=null){if(typeof k!="object"||!("__html"in k))throw Error(n(61));if(N=k.__html,N!=null){if(I.children!=null)throw Error(n(60));d.innerHTML=N}}break;case"children":typeof k=="string"?Iu(d,k):(typeof k=="number"||typeof k=="bigint")&&Iu(d,""+k);break;case"onScroll":k!=null&&Js("scroll",d);break;case"onScrollEnd":k!=null&&Js("scrollend",d);break;case"onClick":k!=null&&(d.onclick=ul);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wa.hasOwnProperty(N))e:{if(N[0]==="o"&&N[1]==="n"&&(I=N.endsWith("Capture"),p=N.slice(2,I?N.length-7:void 0),q=d[gt]||null,q=q!=null?q[N]:null,typeof q=="function"&&d.removeEventListener(p,q,I),typeof k=="function")){typeof q!="function"&&q!==null&&(N in d?d[N]=null:d.hasAttribute(N)&&d.removeAttribute(N)),d.addEventListener(p,k,I);break e}N in d?d[N]=k:k===!0?d.setAttribute(N,""):Za(d,N,k)}}}function Wn(d,p,N){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Js("error",d),Js("load",d);var k=!1,I=!1,q;for(q in N)if(N.hasOwnProperty(q)){var ee=N[q];if(ee!=null)switch(q){case"src":k=!0;break;case"srcSet":I=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:Da(d,p,q,ee,N,null)}}I&&Da(d,p,"srcSet",N.srcSet,N,null),k&&Da(d,p,"src",N.src,N,null);return;case"input":Js("invalid",d);var ue=q=ee=I=null,Se=null,He=null;for(k in N)if(N.hasOwnProperty(k)){var ut=N[k];if(ut!=null)switch(k){case"name":I=ut;break;case"type":ee=ut;break;case"checked":Se=ut;break;case"defaultChecked":He=ut;break;case"value":q=ut;break;case"defaultValue":ue=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(n(137,p));break;default:Da(d,p,k,ut,N,null)}}E3(d,q,ue,Se,He,ee,I,!1);return;case"select":Js("invalid",d),k=ee=q=null;for(I in N)if(N.hasOwnProperty(I)&&(ue=N[I],ue!=null))switch(I){case"value":q=ue;break;case"defaultValue":ee=ue;break;case"multiple":k=ue;default:Da(d,p,I,ue,N,null)}p=q,N=ee,d.multiple=!!k,p!=null?Au(d,!!k,p,!1):N!=null&&Au(d,!!k,N,!0);return;case"textarea":Js("invalid",d),q=I=k=null;for(ee in N)if(N.hasOwnProperty(ee)&&(ue=N[ee],ue!=null))switch(ee){case"value":k=ue;break;case"defaultValue":I=ue;break;case"children":q=ue;break;case"dangerouslySetInnerHTML":if(ue!=null)throw Error(n(91));break;default:Da(d,p,ee,ue,N,null)}M3(d,k,I,q);return;case"option":for(Se in N)N.hasOwnProperty(Se)&&(k=N[Se],k!=null)&&(Se==="selected"?d.selected=k&&typeof k!="function"&&typeof k!="symbol":Da(d,p,Se,k,N,null));return;case"dialog":Js("beforetoggle",d),Js("toggle",d),Js("cancel",d),Js("close",d);break;case"iframe":case"object":Js("load",d);break;case"video":case"audio":for(k=0;k<Nh.length;k++)Js(Nh[k],d);break;case"image":Js("error",d),Js("load",d);break;case"details":Js("toggle",d);break;case"embed":case"source":case"link":Js("error",d),Js("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(He in N)if(N.hasOwnProperty(He)&&(k=N[He],k!=null))switch(He){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:Da(d,p,He,k,N,null)}return;default:if(E1(p)){for(ut in N)N.hasOwnProperty(ut)&&(k=N[ut],k!==void 0&&f2(d,p,ut,k,N,void 0));return}}for(ue in N)N.hasOwnProperty(ue)&&(k=N[ue],k!=null&&Da(d,p,ue,k,N,null))}function X$(d,p,N,k){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var I=null,q=null,ee=null,ue=null,Se=null,He=null,ut=null;for(at in N){var vt=N[at];if(N.hasOwnProperty(at)&&vt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":Se=vt;default:k.hasOwnProperty(at)||Da(d,p,at,null,k,vt)}}for(var Ke in k){var at=k[Ke];if(vt=N[Ke],k.hasOwnProperty(Ke)&&(at!=null||vt!=null))switch(Ke){case"type":q=at;break;case"name":I=at;break;case"checked":He=at;break;case"defaultChecked":ut=at;break;case"value":ee=at;break;case"defaultValue":ue=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(n(137,p));break;default:at!==vt&&Da(d,p,Ke,at,k,vt)}}k1(d,ee,ue,Se,He,ut,q,I);return;case"select":at=ee=ue=Ke=null;for(q in N)if(Se=N[q],N.hasOwnProperty(q)&&Se!=null)switch(q){case"value":break;case"multiple":at=Se;default:k.hasOwnProperty(q)||Da(d,p,q,null,k,Se)}for(I in k)if(q=k[I],Se=N[I],k.hasOwnProperty(I)&&(q!=null||Se!=null))switch(I){case"value":Ke=q;break;case"defaultValue":ue=q;break;case"multiple":ee=q;default:q!==Se&&Da(d,p,I,q,k,Se)}p=ue,N=ee,k=at,Ke!=null?Au(d,!!N,Ke,!1):!!k!=!!N&&(p!=null?Au(d,!!N,p,!0):Au(d,!!N,N?[]:"",!1));return;case"textarea":at=Ke=null;for(ue in N)if(I=N[ue],N.hasOwnProperty(ue)&&I!=null&&!k.hasOwnProperty(ue))switch(ue){case"value":break;case"children":break;default:Da(d,p,ue,null,k,I)}for(ee in k)if(I=k[ee],q=N[ee],k.hasOwnProperty(ee)&&(I!=null||q!=null))switch(ee){case"value":Ke=I;break;case"defaultValue":at=I;break;case"children":break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(91));break;default:I!==q&&Da(d,p,ee,I,k,q)}T3(d,Ke,at);return;case"option":for(var ns in N)Ke=N[ns],N.hasOwnProperty(ns)&&Ke!=null&&!k.hasOwnProperty(ns)&&(ns==="selected"?d.selected=!1:Da(d,p,ns,null,k,Ke));for(Se in k)Ke=k[Se],at=N[Se],k.hasOwnProperty(Se)&&Ke!==at&&(Ke!=null||at!=null)&&(Se==="selected"?d.selected=Ke&&typeof Ke!="function"&&typeof Ke!="symbol":Da(d,p,Se,Ke,k,at));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ns in N)Ke=N[Ns],N.hasOwnProperty(Ns)&&Ke!=null&&!k.hasOwnProperty(Ns)&&Da(d,p,Ns,null,k,Ke);for(He in k)if(Ke=k[He],at=N[He],k.hasOwnProperty(He)&&Ke!==at&&(Ke!=null||at!=null))switch(He){case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(n(137,p));break;default:Da(d,p,He,Ke,k,at)}return;default:if(E1(p)){for(var Ra in N)Ke=N[Ra],N.hasOwnProperty(Ra)&&Ke!==void 0&&!k.hasOwnProperty(Ra)&&f2(d,p,Ra,void 0,k,Ke);for(ut in k)Ke=k[ut],at=N[ut],!k.hasOwnProperty(ut)||Ke===at||Ke===void 0&&at===void 0||f2(d,p,ut,Ke,k,at);return}}for(var ze in N)Ke=N[ze],N.hasOwnProperty(ze)&&Ke!=null&&!k.hasOwnProperty(ze)&&Da(d,p,ze,null,k,Ke);for(vt in k)Ke=k[vt],at=N[vt],!k.hasOwnProperty(vt)||Ke===at||Ke==null&&at==null||Da(d,p,vt,Ke,k,at)}function A6(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function J$(){if(typeof performance.getEntriesByType=="function"){for(var d=0,p=0,N=performance.getEntriesByType("resource"),k=0;k<N.length;k++){var I=N[k],q=I.transferSize,ee=I.initiatorType,ue=I.duration;if(q&&ue&&A6(ee)){for(ee=0,ue=I.responseEnd,k+=1;k<N.length;k++){var Se=N[k],He=Se.startTime;if(He>ue)break;var ut=Se.transferSize,vt=Se.initiatorType;ut&&A6(vt)&&(Se=Se.responseEnd,ee+=ut*(Se<ue?1:(ue-He)/(Se-He)))}if(--k,p+=8*(q+ee)/(I.duration/1e3),d++,10<d)break}}if(0<d)return p/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var x2=null,g2=null;function D0(d){return d.nodeType===9?d:d.ownerDocument}function I6(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O6(d,p){if(d===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&p==="foreignObject"?0:d}function y2(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var b2=null;function eq(){var d=window.event;return d&&d.type==="popstate"?d===b2?!1:(b2=d,!0):(b2=null,!1)}var F6=typeof setTimeout=="function"?setTimeout:void 0,tq=typeof clearTimeout=="function"?clearTimeout:void 0,L6=typeof Promise=="function"?Promise:void 0,sq=typeof queueMicrotask=="function"?queueMicrotask:typeof L6<"u"?function(d){return L6.resolve(null).then(d).catch(aq)}:F6;function aq(d){setTimeout(function(){throw d})}function _c(d){return d==="head"}function z6(d,p){var N=p,k=0;do{var I=N.nextSibling;if(d.removeChild(N),I&&I.nodeType===8)if(N=I.data,N==="/$"||N==="/&"){if(k===0){d.removeChild(I),mm(p);return}k--}else if(N==="$"||N==="$?"||N==="$~"||N==="$!"||N==="&")k++;else if(N==="html")_h(d.ownerDocument.documentElement);else if(N==="head"){N=d.ownerDocument.head,_h(N);for(var q=N.firstChild;q;){var ee=q.nextSibling,ue=q.nodeName;q[qe]||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&q.rel.toLowerCase()==="stylesheet"||N.removeChild(q),q=ee}}else N==="body"&&_h(d.ownerDocument.body);N=I}while(N);mm(p)}function $6(d,p){var N=d;d=0;do{var k=N.nextSibling;if(N.nodeType===1?p?(N._stashedDisplay=N.style.display,N.style.display="none"):(N.style.display=N._stashedDisplay||"",N.getAttribute("style")===""&&N.removeAttribute("style")):N.nodeType===3&&(p?(N._stashedText=N.nodeValue,N.nodeValue=""):N.nodeValue=N._stashedText||""),k&&k.nodeType===8)if(N=k.data,N==="/$"){if(d===0)break;d--}else N!=="$"&&N!=="$?"&&N!=="$~"&&N!=="$!"||d++;N=k}while(N)}function v2(d){var p=d.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var N=p;switch(p=p.nextSibling,N.nodeName){case"HTML":case"HEAD":case"BODY":v2(N),Mt(N);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(N.rel.toLowerCase()==="stylesheet")continue}d.removeChild(N)}}function nq(d,p,N,k){for(;d.nodeType===1;){var I=N;if(d.nodeName.toLowerCase()!==p.toLowerCase()){if(!k&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(k){if(!d[qe])switch(p){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(q=d.getAttribute("rel"),q==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(q!==I.rel||d.getAttribute("href")!==(I.href==null||I.href===""?null:I.href)||d.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin)||d.getAttribute("title")!==(I.title==null?null:I.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(q=d.getAttribute("src"),(q!==(I.src==null?null:I.src)||d.getAttribute("type")!==(I.type==null?null:I.type)||d.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin))&&q&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(p==="input"&&d.type==="hidden"){var q=I.name==null?null:""+I.name;if(I.type==="hidden"&&d.getAttribute("name")===q)return d}else return d;if(d=Ti(d.nextSibling),d===null)break}return null}function rq(d,p,N){if(p==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!N||(d=Ti(d.nextSibling),d===null))return null;return d}function q6(d,p){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!p||(d=Ti(d.nextSibling),d===null))return null;return d}function j2(d){return d.data==="$?"||d.data==="$~"}function N2(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function iq(d,p){var N=d.ownerDocument;if(d.data==="$~")d._reactRetry=p;else if(d.data!=="$?"||N.readyState!=="loading")p();else{var k=function(){p(),N.removeEventListener("DOMContentLoaded",k)};N.addEventListener("DOMContentLoaded",k),d._reactRetry=k}}function Ti(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"||p==="F!"||p==="F")break;if(p==="/$"||p==="/&")return null}}return d}var w2=null;function B6(d){d=d.nextSibling;for(var p=0;d;){if(d.nodeType===8){var N=d.data;if(N==="/$"||N==="/&"){if(p===0)return Ti(d.nextSibling);p--}else N!=="$"&&N!=="$!"&&N!=="$?"&&N!=="$~"&&N!=="&"||p++}d=d.nextSibling}return null}function U6(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var N=d.data;if(N==="$"||N==="$!"||N==="$?"||N==="$~"||N==="&"){if(p===0)return d;p--}else N!=="/$"&&N!=="/&"||p++}d=d.previousSibling}return null}function V6(d,p,N){switch(p=D0(N),d){case"html":if(d=p.documentElement,!d)throw Error(n(452));return d;case"head":if(d=p.head,!d)throw Error(n(453));return d;case"body":if(d=p.body,!d)throw Error(n(454));return d;default:throw Error(n(451))}}function _h(d){for(var p=d.attributes;p.length;)d.removeAttributeNode(p[0]);Mt(d)}var Mi=new Map,H6=new Set;function R0(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var kl=V.d;V.d={f:oq,r:lq,D:cq,C:dq,L:uq,m:mq,X:hq,S:pq,M:fq};function oq(){var d=kl.f(),p=_0();return d||p}function lq(d){var p=$t(d);p!==null&&p.tag===5&&p.type==="form"?l5(p):kl.r(d)}var cm=typeof document>"u"?null:document;function W6(d,p,N){var k=cm;if(k&&typeof p=="string"&&p){var I=wi(p);I='link[rel="'+d+'"][href="'+I+'"]',typeof N=="string"&&(I+='[crossorigin="'+N+'"]'),H6.has(I)||(H6.add(I),d={rel:d,crossOrigin:N,href:p},k.querySelector(I)===null&&(p=k.createElement("link"),Wn(p,"link",d),Ks(p),k.head.appendChild(p)))}}function cq(d){kl.D(d),W6("dns-prefetch",d,null)}function dq(d,p){kl.C(d,p),W6("preconnect",d,p)}function uq(d,p,N){kl.L(d,p,N);var k=cm;if(k&&d&&p){var I='link[rel="preload"][as="'+wi(p)+'"]';p==="image"&&N&&N.imageSrcSet?(I+='[imagesrcset="'+wi(N.imageSrcSet)+'"]',typeof N.imageSizes=="string"&&(I+='[imagesizes="'+wi(N.imageSizes)+'"]')):I+='[href="'+wi(d)+'"]';var q=I;switch(p){case"style":q=dm(d);break;case"script":q=um(d)}Mi.has(q)||(d=h({rel:"preload",href:p==="image"&&N&&N.imageSrcSet?void 0:d,as:p},N),Mi.set(q,d),k.querySelector(I)!==null||p==="style"&&k.querySelector(Sh(q))||p==="script"&&k.querySelector(Ch(q))||(p=k.createElement("link"),Wn(p,"link",d),Ks(p),k.head.appendChild(p)))}}function mq(d,p){kl.m(d,p);var N=cm;if(N&&d){var k=p&&typeof p.as=="string"?p.as:"script",I='link[rel="modulepreload"][as="'+wi(k)+'"][href="'+wi(d)+'"]',q=I;switch(k){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":q=um(d)}if(!Mi.has(q)&&(d=h({rel:"modulepreload",href:d},p),Mi.set(q,d),N.querySelector(I)===null)){switch(k){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(N.querySelector(Ch(q)))return}k=N.createElement("link"),Wn(k,"link",d),Ks(k),N.head.appendChild(k)}}}function pq(d,p,N){kl.S(d,p,N);var k=cm;if(k&&d){var I=$s(k).hoistableStyles,q=dm(d);p=p||"default";var ee=I.get(q);if(!ee){var ue={loading:0,preload:null};if(ee=k.querySelector(Sh(q)))ue.loading=5;else{d=h({rel:"stylesheet",href:d,"data-precedence":p},N),(N=Mi.get(q))&&_2(d,N);var Se=ee=k.createElement("link");Ks(Se),Wn(Se,"link",d),Se._p=new Promise(function(He,ut){Se.onload=He,Se.onerror=ut}),Se.addEventListener("load",function(){ue.loading|=1}),Se.addEventListener("error",function(){ue.loading|=2}),ue.loading|=4,A0(ee,p,k)}ee={type:"stylesheet",instance:ee,count:1,state:ue},I.set(q,ee)}}}function hq(d,p){kl.X(d,p);var N=cm;if(N&&d){var k=$s(N).hoistableScripts,I=um(d),q=k.get(I);q||(q=N.querySelector(Ch(I)),q||(d=h({src:d,async:!0},p),(p=Mi.get(I))&&S2(d,p),q=N.createElement("script"),Ks(q),Wn(q,"link",d),N.head.appendChild(q)),q={type:"script",instance:q,count:1,state:null},k.set(I,q))}}function fq(d,p){kl.M(d,p);var N=cm;if(N&&d){var k=$s(N).hoistableScripts,I=um(d),q=k.get(I);q||(q=N.querySelector(Ch(I)),q||(d=h({src:d,async:!0,type:"module"},p),(p=Mi.get(I))&&S2(d,p),q=N.createElement("script"),Ks(q),Wn(q,"link",d),N.head.appendChild(q)),q={type:"script",instance:q,count:1,state:null},k.set(I,q))}}function Y6(d,p,N,k){var I=(I=se.current)?R0(I):null;if(!I)throw Error(n(446));switch(d){case"meta":case"title":return null;case"style":return typeof N.precedence=="string"&&typeof N.href=="string"?(p=dm(N.href),N=$s(I).hoistableStyles,k=N.get(p),k||(k={type:"style",instance:null,count:0,state:null},N.set(p,k)),k):{type:"void",instance:null,count:0,state:null};case"link":if(N.rel==="stylesheet"&&typeof N.href=="string"&&typeof N.precedence=="string"){d=dm(N.href);var q=$s(I).hoistableStyles,ee=q.get(d);if(ee||(I=I.ownerDocument||I,ee={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},q.set(d,ee),(q=I.querySelector(Sh(d)))&&!q._p&&(ee.instance=q,ee.state.loading=5),Mi.has(d)||(N={rel:"preload",as:"style",href:N.href,crossOrigin:N.crossOrigin,integrity:N.integrity,media:N.media,hrefLang:N.hrefLang,referrerPolicy:N.referrerPolicy},Mi.set(d,N),q||xq(I,d,N,ee.state))),p&&k===null)throw Error(n(528,""));return ee}if(p&&k!==null)throw Error(n(529,""));return null;case"script":return p=N.async,N=N.src,typeof N=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=um(N),N=$s(I).hoistableScripts,k=N.get(p),k||(k={type:"script",instance:null,count:0,state:null},N.set(p,k)),k):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,d))}}function dm(d){return'href="'+wi(d)+'"'}function Sh(d){return'link[rel="stylesheet"]['+d+"]"}function G6(d){return h({},d,{"data-precedence":d.precedence,precedence:null})}function xq(d,p,N,k){d.querySelector('link[rel="preload"][as="style"]['+p+"]")?k.loading=1:(p=d.createElement("link"),k.preload=p,p.addEventListener("load",function(){return k.loading|=1}),p.addEventListener("error",function(){return k.loading|=2}),Wn(p,"link",N),Ks(p),d.head.appendChild(p))}function um(d){return'[src="'+wi(d)+'"]'}function Ch(d){return"script[async]"+d}function K6(d,p,N){if(p.count++,p.instance===null)switch(p.type){case"style":var k=d.querySelector('style[data-href~="'+wi(N.href)+'"]');if(k)return p.instance=k,Ks(k),k;var I=h({},N,{"data-href":N.href,"data-precedence":N.precedence,href:null,precedence:null});return k=(d.ownerDocument||d).createElement("style"),Ks(k),Wn(k,"style",I),A0(k,N.precedence,d),p.instance=k;case"stylesheet":I=dm(N.href);var q=d.querySelector(Sh(I));if(q)return p.state.loading|=4,p.instance=q,Ks(q),q;k=G6(N),(I=Mi.get(I))&&_2(k,I),q=(d.ownerDocument||d).createElement("link"),Ks(q);var ee=q;return ee._p=new Promise(function(ue,Se){ee.onload=ue,ee.onerror=Se}),Wn(q,"link",k),p.state.loading|=4,A0(q,N.precedence,d),p.instance=q;case"script":return q=um(N.src),(I=d.querySelector(Ch(q)))?(p.instance=I,Ks(I),I):(k=N,(I=Mi.get(q))&&(k=h({},N),S2(k,I)),d=d.ownerDocument||d,I=d.createElement("script"),Ks(I),Wn(I,"link",k),d.head.appendChild(I),p.instance=I);case"void":return null;default:throw Error(n(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(k=p.instance,p.state.loading|=4,A0(k,N.precedence,d));return p.instance}function A0(d,p,N){for(var k=N.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),I=k.length?k[k.length-1]:null,q=I,ee=0;ee<k.length;ee++){var ue=k[ee];if(ue.dataset.precedence===p)q=ue;else if(q!==I)break}q?q.parentNode.insertBefore(d,q.nextSibling):(p=N.nodeType===9?N.head:N,p.insertBefore(d,p.firstChild))}function _2(d,p){d.crossOrigin==null&&(d.crossOrigin=p.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=p.referrerPolicy),d.title==null&&(d.title=p.title)}function S2(d,p){d.crossOrigin==null&&(d.crossOrigin=p.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=p.referrerPolicy),d.integrity==null&&(d.integrity=p.integrity)}var I0=null;function Q6(d,p,N){if(I0===null){var k=new Map,I=I0=new Map;I.set(N,k)}else I=I0,k=I.get(N),k||(k=new Map,I.set(N,k));if(k.has(d))return k;for(k.set(d,null),N=N.getElementsByTagName(d),I=0;I<N.length;I++){var q=N[I];if(!(q[qe]||q[rt]||d==="link"&&q.getAttribute("rel")==="stylesheet")&&q.namespaceURI!=="http://www.w3.org/2000/svg"){var ee=q.getAttribute(p)||"";ee=d+ee;var ue=k.get(ee);ue?ue.push(q):k.set(ee,[q])}}return k}function Z6(d,p,N){d=d.ownerDocument||d,d.head.insertBefore(N,p==="title"?d.querySelector("head > title"):null)}function gq(d,p,N){if(N===1||p.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;return p.rel==="stylesheet"?(d=p.disabled,typeof p.precedence=="string"&&d==null):!0;case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function X6(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function yq(d,p,N,k){if(N.type==="stylesheet"&&(typeof k.media!="string"||matchMedia(k.media).matches!==!1)&&(N.state.loading&4)===0){if(N.instance===null){var I=dm(k.href),q=p.querySelector(Sh(I));if(q){p=q._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(d.count++,d=O0.bind(d),p.then(d,d)),N.state.loading|=4,N.instance=q,Ks(q);return}q=p.ownerDocument||p,k=G6(k),(I=Mi.get(I))&&_2(k,I),q=q.createElement("link"),Ks(q);var ee=q;ee._p=new Promise(function(ue,Se){ee.onload=ue,ee.onerror=Se}),Wn(q,"link",k),N.instance=q}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(N,p),(p=N.state.preload)&&(N.state.loading&3)===0&&(d.count++,N=O0.bind(d),p.addEventListener("load",N),p.addEventListener("error",N))}}var C2=0;function bq(d,p){return d.stylesheets&&d.count===0&&L0(d,d.stylesheets),0<d.count||0<d.imgCount?function(N){var k=setTimeout(function(){if(d.stylesheets&&L0(d,d.stylesheets),d.unsuspend){var q=d.unsuspend;d.unsuspend=null,q()}},6e4+p);0<d.imgBytes&&C2===0&&(C2=62500*J$());var I=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&L0(d,d.stylesheets),d.unsuspend)){var q=d.unsuspend;d.unsuspend=null,q()}},(d.imgBytes>C2?50:800)+p);return d.unsuspend=N,function(){d.unsuspend=null,clearTimeout(k),clearTimeout(I)}}:null}function O0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)L0(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var F0=null;function L0(d,p){d.stylesheets=null,d.unsuspend!==null&&(d.count++,F0=new Map,p.forEach(vq,d),F0=null,O0.call(d))}function vq(d,p){if(!(p.state.loading&4)){var N=F0.get(d);if(N)var k=N.get(null);else{N=new Map,F0.set(d,N);for(var I=d.querySelectorAll("link[data-precedence],style[data-precedence]"),q=0;q<I.length;q++){var ee=I[q];(ee.nodeName==="LINK"||ee.getAttribute("media")!=="not all")&&(N.set(ee.dataset.precedence,ee),k=ee)}k&&N.set(null,k)}I=p.instance,ee=I.getAttribute("data-precedence"),q=N.get(ee)||k,q===k&&N.set(null,I),N.set(ee,I),this.count++,k=O0.bind(this),I.addEventListener("load",k),I.addEventListener("error",k),q?q.parentNode.insertBefore(I,q.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(I,d.firstChild)),p.state.loading|=4}}var kh={$$typeof:C,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function jq(d,p,N,k,I,q,ee,ue,Se){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zs(0),this.hiddenUpdates=zs(null),this.identifierPrefix=k,this.onUncaughtError=I,this.onCaughtError=q,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Se,this.incompleteTransitions=new Map}function J6(d,p,N,k,I,q,ee,ue,Se,He,ut,vt){return d=new jq(d,p,N,ee,Se,He,ut,vt,ue),p=1,q===!0&&(p|=24),q=Qr(3,null,null,p),d.current=q,q.stateNode=d,p=rj(),p.refCount++,d.pooledCache=p,p.refCount++,q.memoizedState={element:k,isDehydrated:N,cache:p},cj(q),d}function ek(d){return d?(d=Bu,d):Bu}function tk(d,p,N,k,I,q){I=ek(I),k.context===null?k.context=I:k.pendingContext=I,k=pc(p),k.payload={element:N},q=q===void 0?null:q,q!==null&&(k.callback=q),N=hc(d,k,p),N!==null&&(Dr(N,d,p),rh(N,d,p))}function sk(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var N=d.retryLane;d.retryLane=N!==0&&N<p?N:p}}function k2(d,p){sk(d,p),(d=d.alternate)&&sk(d,p)}function ak(d){if(d.tag===13||d.tag===31){var p=xd(d,67108864);p!==null&&Dr(p,d,67108864),k2(d,67108864)}}function nk(d){if(d.tag===13||d.tag===31){var p=ti();p=Be(p);var N=xd(d,p);N!==null&&Dr(N,d,p),k2(d,p)}}var z0=!0;function Nq(d,p,N,k){var I=B.T;B.T=null;var q=V.p;try{V.p=2,P2(d,p,N,k)}finally{V.p=q,B.T=I}}function wq(d,p,N,k){var I=B.T;B.T=null;var q=V.p;try{V.p=8,P2(d,p,N,k)}finally{V.p=q,B.T=I}}function P2(d,p,N,k){if(z0){var I=E2(k);if(I===null)h2(d,p,k,$0,N),ik(d,k);else if(Sq(I,d,p,N,k))k.stopPropagation();else if(ik(d,k),p&4&&-1<_q.indexOf(d)){for(;I!==null;){var q=$t(I);if(q!==null)switch(q.tag){case 3:if(q=q.stateNode,q.current.memoizedState.isDehydrated){var ee=ws(q.pendingLanes);if(ee!==0){var ue=q;for(ue.pendingLanes|=2,ue.entangledLanes|=2;ee;){var Se=1<<31-ts(ee);ue.entanglements[1]|=Se,ee&=~Se}Mo(q),(xa&6)===0&&(N0=Ge()+500,jh(0))}}break;case 31:case 13:ue=xd(q,2),ue!==null&&Dr(ue,q,2),_0(),k2(q,2)}if(q=E2(k),q===null&&h2(d,p,k,$0,N),q===I)break;I=q}I!==null&&k.stopPropagation()}else h2(d,p,k,null,N)}}function E2(d){return d=M1(d),T2(d)}var $0=null;function T2(d){if($0=null,d=Xt(d),d!==null){var p=i(d);if(p===null)d=null;else{var N=p.tag;if(N===13){if(d=o(p),d!==null)return d;d=null}else if(N===31){if(d=l(p),d!==null)return d;d=null}else if(N===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null)}}return $0=d,null}function rk(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jt()){case dt:return 2;case wt:return 8;case Dt:case ve:return 32;case Le:return 268435456;default:return 32}default:return 32}}var M2=!1,Sc=null,Cc=null,kc=null,Ph=new Map,Eh=new Map,Pc=[],_q="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ik(d,p){switch(d){case"focusin":case"focusout":Sc=null;break;case"dragenter":case"dragleave":Cc=null;break;case"mouseover":case"mouseout":kc=null;break;case"pointerover":case"pointerout":Ph.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eh.delete(p.pointerId)}}function Th(d,p,N,k,I,q){return d===null||d.nativeEvent!==q?(d={blockedOn:p,domEventName:N,eventSystemFlags:k,nativeEvent:q,targetContainers:[I]},p!==null&&(p=$t(p),p!==null&&ak(p)),d):(d.eventSystemFlags|=k,p=d.targetContainers,I!==null&&p.indexOf(I)===-1&&p.push(I),d)}function Sq(d,p,N,k,I){switch(p){case"focusin":return Sc=Th(Sc,d,p,N,k,I),!0;case"dragenter":return Cc=Th(Cc,d,p,N,k,I),!0;case"mouseover":return kc=Th(kc,d,p,N,k,I),!0;case"pointerover":var q=I.pointerId;return Ph.set(q,Th(Ph.get(q)||null,d,p,N,k,I)),!0;case"gotpointercapture":return q=I.pointerId,Eh.set(q,Th(Eh.get(q)||null,d,p,N,k,I)),!0}return!1}function ok(d){var p=Xt(d.target);if(p!==null){var N=i(p);if(N!==null){if(p=N.tag,p===13){if(p=o(N),p!==null){d.blockedOn=p,Te(d.priority,function(){nk(N)});return}}else if(p===31){if(p=l(N),p!==null){d.blockedOn=p,Te(d.priority,function(){nk(N)});return}}else if(p===3&&N.stateNode.current.memoizedState.isDehydrated){d.blockedOn=N.tag===3?N.stateNode.containerInfo:null;return}}}d.blockedOn=null}function q0(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var N=E2(d.nativeEvent);if(N===null){N=d.nativeEvent;var k=new N.constructor(N.type,N);T1=k,N.target.dispatchEvent(k),T1=null}else return p=$t(N),p!==null&&ak(p),d.blockedOn=N,!1;p.shift()}return!0}function lk(d,p,N){q0(d)&&N.delete(p)}function Cq(){M2=!1,Sc!==null&&q0(Sc)&&(Sc=null),Cc!==null&&q0(Cc)&&(Cc=null),kc!==null&&q0(kc)&&(kc=null),Ph.forEach(lk),Eh.forEach(lk)}function B0(d,p){d.blockedOn===p&&(d.blockedOn=null,M2||(M2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Cq)))}var U0=null;function ck(d){U0!==d&&(U0=d,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){U0===d&&(U0=null);for(var p=0;p<d.length;p+=3){var N=d[p],k=d[p+1],I=d[p+2];if(typeof k!="function"){if(T2(k||N)===null)continue;break}var q=$t(N);q!==null&&(d.splice(p,3),p-=3,Ej(q,{pending:!0,data:I,method:N.method,action:k},k,I))}}))}function mm(d){function p(Se){return B0(Se,d)}Sc!==null&&B0(Sc,d),Cc!==null&&B0(Cc,d),kc!==null&&B0(kc,d),Ph.forEach(p),Eh.forEach(p);for(var N=0;N<Pc.length;N++){var k=Pc[N];k.blockedOn===d&&(k.blockedOn=null)}for(;0<Pc.length&&(N=Pc[0],N.blockedOn===null);)ok(N),N.blockedOn===null&&Pc.shift();if(N=(d.ownerDocument||d).$$reactFormReplay,N!=null)for(k=0;k<N.length;k+=3){var I=N[k],q=N[k+1],ee=I[gt]||null;if(typeof q=="function")ee||ck(N);else if(ee){var ue=null;if(q&&q.hasAttribute("formAction")){if(I=q,ee=q[gt]||null)ue=ee.formAction;else if(T2(I)!==null)continue}else ue=ee.action;typeof ue=="function"?N[k+1]=ue:(N.splice(k,3),k-=3),ck(N)}}}function dk(){function d(q){q.canIntercept&&q.info==="react-transition"&&q.intercept({handler:function(){return new Promise(function(ee){return I=ee})},focusReset:"manual",scroll:"manual"})}function p(){I!==null&&(I(),I=null),k||setTimeout(N,20)}function N(){if(!k&&!navigation.transition){var q=navigation.currentEntry;q&&q.url!=null&&navigation.navigate(q.url,{state:q.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var k=!1,I=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",p),navigation.addEventListener("navigateerror",p),setTimeout(N,100),function(){k=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",p),navigation.removeEventListener("navigateerror",p),I!==null&&(I(),I=null)}}}function D2(d){this._internalRoot=d}V0.prototype.render=D2.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(n(409));var N=p.current,k=ti();tk(N,k,d,p,null,null)},V0.prototype.unmount=D2.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;tk(d.current,2,null,d,null,null),_0(),p[Kt]=null}};function V0(d){this._internalRoot=d}V0.prototype.unstable_scheduleHydration=function(d){if(d){var p=ce();d={blockedOn:null,target:d,priority:p};for(var N=0;N<Pc.length&&p!==0&&p<Pc[N].priority;N++);Pc.splice(N,0,d),N===0&&ok(d)}};var uk=s.version;if(uk!=="19.2.3")throw Error(n(527,uk,"19.2.3"));V.findDOMNode=function(d){var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=m(p),d=d!==null?u(d):null,d=d===null?null:d.stateNode,d};var kq={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var H0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!H0.isDisabled&&H0.supportsFiber)try{Zt=H0.inject(kq),Ot=H0}catch{}}return Dh.createRoot=function(d,p){if(!r(d))throw Error(n(299));var N=!1,k="",I=y5,q=b5,ee=v5;return p!=null&&(p.unstable_strictMode===!0&&(N=!0),p.identifierPrefix!==void 0&&(k=p.identifierPrefix),p.onUncaughtError!==void 0&&(I=p.onUncaughtError),p.onCaughtError!==void 0&&(q=p.onCaughtError),p.onRecoverableError!==void 0&&(ee=p.onRecoverableError)),p=J6(d,1,!1,null,null,N,k,null,I,q,ee,dk),d[Kt]=p.current,p2(d),new D2(p)},Dh.hydrateRoot=function(d,p,N){if(!r(d))throw Error(n(299));var k=!1,I="",q=y5,ee=b5,ue=v5,Se=null;return N!=null&&(N.unstable_strictMode===!0&&(k=!0),N.identifierPrefix!==void 0&&(I=N.identifierPrefix),N.onUncaughtError!==void 0&&(q=N.onUncaughtError),N.onCaughtError!==void 0&&(ee=N.onCaughtError),N.onRecoverableError!==void 0&&(ue=N.onRecoverableError),N.formState!==void 0&&(Se=N.formState)),p=J6(d,1,!0,p,N??null,k,I,Se,q,ee,ue,dk),p.context=ek(null),N=p.current,k=ti(),k=Be(k),I=pc(k),I.callback=null,hc(N,I,k),N=k,p.current.lanes=N,Ft(p,N),Mo(p),d[Kt]=p.current,p2(d),new V0(p)},Dh.version="19.2.3",Dh}var jk;function Lq(){if(jk)return I2.exports;jk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),I2.exports=Fq(),I2.exports}var zq=Lq();var h7=t=>{throw TypeError(t)},$q=(t,s,a)=>s.has(t)||h7("Cannot "+a),z2=(t,s,a)=>($q(t,s,"read from private field"),a?a.call(t):s.get(t)),qq=(t,s,a)=>s.has(t)?h7("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,a),Nk="popstate";function Bq(t={}){function s(n,r){let{pathname:i,search:o,hash:l}=n.location;return lx("",{pathname:i,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function a(n,r){return typeof r=="string"?r:nl(r)}return Vq(s,a,null,t)}function Ys(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function cn(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Uq(){return Math.random().toString(36).substring(2,10)}function wk(t,s){return{usr:t.state,key:t.key,idx:s}}function lx(t,s,a=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof s=="string"?nd(s):s,state:a,key:s&&s.key||n||Uq()}}function nl({pathname:t="/",search:s="",hash:a=""}){return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function nd(t){let s={};if(t){let a=t.indexOf("#");a>=0&&(s.hash=t.substring(a),t=t.substring(0,a));let n=t.indexOf("?");n>=0&&(s.search=t.substring(n),t=t.substring(0,n)),t&&(s.pathname=t)}return s}function Vq(t,s,a,n={}){let{window:r=document.defaultView,v5Compat:i=!1}=n,o=r.history,l="POP",c=null,m=u();m==null&&(m=0,o.replaceState({...o.state,idx:m},""));function u(){return(o.state||{idx:null}).idx}function h(){l="POP";let j=u(),b=j==null?null:j-m;m=j,c&&c({action:l,location:S.location,delta:b})}function f(j,b){l="PUSH";let w=lx(S.location,j,b);m=u()+1;let C=wk(w,m),P=S.createHref(w);try{o.pushState(C,"",P)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;r.location.assign(P)}i&&c&&c({action:l,location:S.location,delta:1})}function v(j,b){l="REPLACE";let w=lx(S.location,j,b);m=u();let C=wk(w,m),P=S.createHref(w);o.replaceState(C,"",P),i&&c&&c({action:l,location:S.location,delta:0})}function _(j){return f7(j)}let S={get action(){return l},get location(){return t(r,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Nk,h),c=j,()=>{r.removeEventListener(Nk,h),c=null}},createHref(j){return s(r,j)},createURL:_,encodeLocation(j){let b=_(j);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:v,go(j){return o.go(j)}};return S}function f7(t,s=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Ys(a,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:nl(t);return n=n.replace(/ $/,"%20"),!s&&n.startsWith("//")&&(n=a+n),new URL(n,a)}var nf,_k=class{constructor(t){if(qq(this,nf,new Map),t)for(let[s,a]of t)this.set(s,a)}get(t){if(z2(this,nf).has(t))return z2(this,nf).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,s){z2(this,nf).set(t,s)}};nf=new WeakMap;var Hq=new Set(["lazy","caseSensitive","path","id","index","children"]);function Wq(t){return Hq.has(t)}var Yq=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Gq(t){return Yq.has(t)}function Kq(t){return t.index===!0}function cx(t,s,a=[],n={},r=!1){return t.map((i,o)=>{let l=[...a,String(o)],c=typeof i.id=="string"?i.id:l.join("-");if(Ys(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ys(r||!n[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),Kq(i)){let m={...i,id:c};return n[c]=Sk(m,s(m)),m}else{let m={...i,id:c,children:void 0};return n[c]=Sk(m,s(m)),i.children&&(m.children=cx(i.children,s,l,n,r)),m}})}function Sk(t,s){return Object.assign(t,{...s,...typeof s.lazy=="object"&&s.lazy!=null?{lazy:{...t.lazy,...s.lazy}}:{}})}function Rc(t,s,a="/"){return rf(t,s,a,!1)}function rf(t,s,a,n){let r=typeof s=="string"?nd(s):s,i=Ji(r.pathname||"/",a);if(i==null)return null;let o=x7(t);Zq(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let m=lB(i);l=iB(o[c],m,n)}return l}function Qq(t,s){let{route:a,pathname:n,params:r}=t;return{id:a.id,pathname:n,params:r,data:s[a.id],loaderData:s[a.id],handle:a.handle}}function x7(t,s=[],a=[],n="",r=!1){let i=(o,l,c=r,m)=>{let u={relativePath:m===void 0?o.path||"":m,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&c)return;Ys(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let h=Xo([n,u.relativePath]),f=a.concat(u);o.children&&o.children.length>0&&(Ys(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),x7(o.children,s,f,h,c)),!(o.path==null&&!o.index)&&s.push({path:h,score:nB(h,o.index),routesMeta:f})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let c of g7(o.path))i(o,l,!0,c)}),s}function g7(t){let s=t.split("/");if(s.length===0)return[];let[a,...n]=s,r=a.endsWith("?"),i=a.replace(/\?$/,"");if(n.length===0)return r?[i,""]:[i];let o=g7(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Zq(t){t.sort((s,a)=>s.score!==a.score?a.score-s.score:rB(s.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}var Xq=/^:[\w-]+$/,Jq=3,eB=2,tB=1,sB=10,aB=-2,Ck=t=>t==="*";function nB(t,s){let a=t.split("/"),n=a.length;return a.some(Ck)&&(n+=aB),s&&(n+=eB),a.filter(r=>!Ck(r)).reduce((r,i)=>r+(Xq.test(i)?Jq:i===""?tB:sB),n)}function rB(t,s){return t.length===s.length&&t.slice(0,-1).every((n,r)=>n===s[r])?t[t.length-1]-s[s.length-1]:0}function iB(t,s,a=!1){let{routesMeta:n}=t,r={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],m=l===n.length-1,u=i==="/"?s:s.slice(i.length)||"/",h=pb({path:c.relativePath,caseSensitive:c.caseSensitive,end:m},u),f=c.route;if(!h&&m&&a&&!n[n.length-1].route.index&&(h=pb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:Xo([i,h.pathname]),pathnameBase:uB(Xo([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Xo([i,h.pathnameBase]))}return o}function pb(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,n]=oB(t.path,t.caseSensitive,t.end),r=s.match(a);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:n.reduce((m,{paramName:u,isOptional:h},f)=>{if(u==="*"){let _=l[f]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const v=l[f];return h&&!v?m[u]=void 0:m[u]=(v||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:o,pattern:t}}function oB(t,s=!1,a=!0){cn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,s?void 0:"i"),n]}function lB(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return cn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),t}}function Ji(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,n=t.charAt(a);return n&&n!=="/"?null:t.slice(a)||"/"}function cB({basename:t,pathname:s}){return s==="/"?t:Xo([t,s])}var y7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jb=t=>y7.test(t);function dB(t,s="/"){let{pathname:a,search:n="",hash:r=""}=typeof t=="string"?nd(t):t,i;if(a)if(Jb(a))i=a;else{if(a.includes("//")){let o=a;a=a.replace(/\/\/+/g,"/"),cn(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${a}`)}a.startsWith("/")?i=kk(a.substring(1),"/"):i=kk(a,s)}else i=s;return{pathname:i,search:mB(n),hash:pB(r)}}function kk(t,s){let a=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?a.length>1&&a.pop():r!=="."&&a.push(r)}),a.length>1?a.join("/"):"/"}function $2(t,s,a,n){return`Cannot include a '${t}' character in a manually specified \`to.${s}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b7(t){return t.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function ev(t){let s=b7(t);return s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase)}function tv(t,s,a,n=!1){let r;typeof t=="string"?r=nd(t):(r={...t},Ys(!r.pathname||!r.pathname.includes("?"),$2("?","pathname","search",r)),Ys(!r.pathname||!r.pathname.includes("#"),$2("#","pathname","hash",r)),Ys(!r.search||!r.search.includes("#"),$2("#","search","hash",r)));let i=t===""||r.pathname==="",o=i?"/":r.pathname,l;if(o==null)l=a;else{let h=s.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}l=h>=0?s[h]:"/"}let c=dB(r,l),m=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(m||u)&&(c.pathname+="/"),c}var Xo=t=>t.join("/").replace(/\/\/+/g,"/"),uB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Zx=class{constructor(t,s,a,n=!1){this.status=t,this.statusText=s||"",this.internal=n,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function dx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Xx(t){return t.map(s=>s.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var v7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function j7(t,s){let a=t;if(typeof a!="string"||!y7.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let n=a,r=!1;if(v7)try{let i=new URL(window.location.href),o=a.startsWith("//")?new URL(i.protocol+a):new URL(a),l=Ji(o.pathname,s);o.origin===i.origin&&l!=null?a=l+o.search+o.hash:r=!0}catch{cn(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:r,to:a}}var Fc=Symbol("Uninstrumented");function hB(t,s){let a={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(r=>r({id:s.id,index:s.index,path:s.path,instrument(i){let o=Object.keys(a);for(let l of o)i[l]&&a[l].push(i[l])}}));let n={};if(typeof s.lazy=="function"&&a.lazy.length>0){let r=Tm(a.lazy,s.lazy,()=>{});r&&(n.lazy=r)}if(typeof s.lazy=="object"){let r=s.lazy;["middleware","loader","action"].forEach(i=>{let o=r[i],l=a[`lazy.${i}`];if(typeof o=="function"&&l.length>0){let c=Tm(l,o,()=>{});c&&(n.lazy=Object.assign(n.lazy||{},{[i]:c}))}})}return["loader","action"].forEach(r=>{let i=s[r];if(typeof i=="function"&&a[r].length>0){let o=i[Fc]??i,l=Tm(a[r],o,(...c)=>Pk(c[0]));l&&(l[Fc]=o,n[r]=l)}}),s.middleware&&s.middleware.length>0&&a.middleware.length>0&&(n.middleware=s.middleware.map(r=>{let i=r[Fc]??r,o=Tm(a.middleware,i,(...l)=>Pk(l[0]));return o?(o[Fc]=i,o):r})),n}function fB(t,s){let a={navigate:[],fetch:[]};if(s.forEach(n=>n({instrument(r){let i=Object.keys(r);for(let o of i)r[o]&&a[o].push(r[o])}})),a.navigate.length>0){let n=t.navigate[Fc]??t.navigate,r=Tm(a.navigate,n,(...i)=>{let[o,l]=i;return{to:typeof o=="number"||typeof o=="string"?o:o?nl(o):".",...Ek(t,l??{})}});r&&(r[Fc]=n,t.navigate=r)}if(a.fetch.length>0){let n=t.fetch[Fc]??t.fetch,r=Tm(a.fetch,n,(...i)=>{let[o,,l,c]=i;return{href:l??".",fetcherKey:o,...Ek(t,c??{})}});r&&(r[Fc]=n,t.fetch=r)}return t}function Tm(t,s,a){return t.length===0?null:async(...n)=>{let r=await N7(t,a(...n),()=>s(...n),t.length-1);if(r.type==="error")throw r.value;return r.value}}async function N7(t,s,a,n){let r=t[n],i;if(r){let o,l=async()=>(o?console.error("You cannot call instrumented handlers more than once"):o=N7(t,s,a,n-1),i=await o,Ys(i,"Expected a result"),i.type==="error"&&i.value instanceof Error?{status:"error",error:i.value}:{status:"success",error:void 0});try{await r(l,s)}catch(c){console.error("An instrumentation function threw an error:",c)}o||await l(),await o}else try{i={type:"success",value:await a()}}catch(o){i={type:"error",value:o}}return i||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Pk(t){let{request:s,context:a,params:n,unstable_pattern:r}=t;return{request:xB(s),params:{...n},unstable_pattern:r,context:gB(a)}}function Ek(t,s){return{currentUrl:nl(t.state.location),..."formMethod"in s?{formMethod:s.formMethod}:{},..."formEncType"in s?{formEncType:s.formEncType}:{},..."formData"in s?{formData:s.formData}:{},..."body"in s?{body:s.body}:{}}}function xB(t){return{method:t.method,url:t.url,headers:{get:(...s)=>t.headers.get(...s)}}}function gB(t){if(bB(t)){let s={...t};return Object.freeze(s),s}else return{get:s=>t.get(s)}}var yB=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bB(t){if(t===null||typeof t!="object")return!1;const s=Object.getPrototypeOf(t);return s===Object.prototype||s===null||Object.getOwnPropertyNames(s).sort().join("\0")===yB}var w7=["POST","PUT","PATCH","DELETE"],vB=new Set(w7),jB=["GET",...w7],NB=new Set(jB),_7=new Set([301,302,303,307,308]),wB=new Set([307,308]),q2={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_B={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Rh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},SB=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),S7="remix-router-transitions",C7=Symbol("ResetLoaderData");function CB(t){const s=t.window?t.window:typeof window<"u"?window:void 0,a=typeof s<"u"&&typeof s.document<"u"&&typeof s.document.createElement<"u";Ys(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=t.hydrationRouteProperties||[],r=t.mapRouteProperties||SB,i=r;if(t.unstable_instrumentations){let je=t.unstable_instrumentations;i=Ce=>({...r(Ce),...hB(je.map(Be=>Be.route).filter(Boolean),Ce)})}let o={},l=cx(t.routes,i,void 0,o),c,m=t.basename||"/";m.startsWith("/")||(m=`/${m}`);let u=t.dataStrategy||MB,h={...t.future},f=null,v=new Set,_=null,S=null,j=null,b=t.hydrationData!=null,w=Rc(l,t.history.location,m),C=!1,P=null,E;if(w==null&&!t.patchRoutesOnNavigation){let je=zi(404,{pathname:t.history.location.pathname}),{matches:Ce,route:Be}=W0(l);E=!0,w=Ce,P={[Be.id]:je}}else if(w&&!t.hydrationData&&qt(w,l,t.history.location.pathname).active&&(w=null),w)if(w.some(je=>je.route.lazy))E=!1;else if(!w.some(je=>V_(je.route)))E=!0;else{let je=t.hydrationData?t.hydrationData.loaderData:null,Ce=t.hydrationData?t.hydrationData.errors:null;if(Ce){let Be=w.findIndex(xt=>Ce[xt.route.id]!==void 0);E=w.slice(0,Be+1).every(xt=>!cw(xt.route,je,Ce))}else E=w.every(Be=>!cw(Be.route,je,Ce))}else{E=!1,w=[];let je=qt(null,l,t.history.location.pathname);je.active&&je.matches&&(C=!0,w=je.matches)}let D,T={historyAction:t.history.action,location:t.history.location,matches:w,initialized:E,navigation:q2,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||P,fetchers:new Map,blockers:new Map},R="POP",z=null,O=!1,$,A=!1,Q=new Map,K=null,U=!1,B=!1,V=new Set,Y=new Map,H=0,F=-1,M=new Map,L=new Set,W=new Map,X=new Map,te=new Set,se=new Map,ae,pe=null;function he(){if(f=t.history.listen(({action:je,location:Ce,delta:Be})=>{if(ae){ae(),ae=void 0;return}cn(se.size===0||Be!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let xt=As({currentLocation:T.location,nextLocation:Ce,historyAction:je});if(xt&&Be!=null){let ce=new Promise(Te=>{ae=Te});t.history.go(Be*-1),us(xt,{state:"blocked",location:Ce,proceed(){us(xt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ce}),ce.then(()=>t.history.go(Be))},reset(){let Te=new Map(T.blockers);Te.set(xt,Rh),ge({blockers:Te})}}),z?.resolve(),z=null;return}return Ae(je,Ce)}),a){KB(s,Q);let je=()=>QB(s,Q);s.addEventListener("pagehide",je),K=()=>s.removeEventListener("pagehide",je)}return T.initialized||Ae("POP",T.location,{initialHydration:!0}),D}function re(){f&&f(),K&&K(),v.clear(),$&&$.abort(),T.fetchers.forEach((je,Ce)=>bt(Ce)),T.blockers.forEach((je,Ce)=>es(Ce))}function xe(je){return v.add(je),()=>v.delete(je)}function ge(je,Ce={}){je.matches&&(je.matches=je.matches.map(ce=>{let Te=o[ce.route.id],Ie=ce.route;return Ie.element!==Te.element||Ie.errorElement!==Te.errorElement||Ie.hydrateFallbackElement!==Te.hydrateFallbackElement?{...ce,route:Te}:ce})),T={...T,...je};let Be=[],xt=[];T.fetchers.forEach((ce,Te)=>{ce.state==="idle"&&(te.has(Te)?Be.push(Te):xt.push(Te))}),te.forEach(ce=>{!T.fetchers.has(ce)&&!Y.has(ce)&&Be.push(ce)}),[...v].forEach(ce=>ce(T,{deletedFetchers:Be,newErrors:je.errors??null,viewTransitionOpts:Ce.viewTransitionOpts,flushSync:Ce.flushSync===!0})),Be.forEach(ce=>bt(ce)),xt.forEach(ce=>T.fetchers.delete(ce))}function le(je,Ce,{flushSync:Be}={}){let xt=T.actionData!=null&&T.navigation.formMethod!=null&&rr(T.navigation.formMethod)&&T.navigation.state==="loading"&&je.state?._isRedirect!==!0,ce;Ce.actionData?Object.keys(Ce.actionData).length>0?ce=Ce.actionData:ce=null:xt?ce=T.actionData:ce=null;let Te=Ce.loaderData?zk(T.loaderData,Ce.loaderData,Ce.matches||[],Ce.errors):T.loaderData,Ie=T.blockers;Ie.size>0&&(Ie=new Map(Ie),Ie.forEach((os,Ue)=>Ie.set(Ue,Rh)));let rt=U?!1:fa(je,Ce.matches||T.matches),gt=O===!0||T.navigation.formMethod!=null&&rr(T.navigation.formMethod)&&je.state?._isRedirect!==!0;c&&(l=c,c=void 0),U||R==="POP"||(R==="PUSH"?t.history.push(je,je.state):R==="REPLACE"&&t.history.replace(je,je.state));let Kt;if(R==="POP"){let os=Q.get(T.location.pathname);os&&os.has(je.pathname)?Kt={currentLocation:T.location,nextLocation:je}:Q.has(je.pathname)&&(Kt={currentLocation:je,nextLocation:T.location})}else if(A){let os=Q.get(T.location.pathname);os?os.add(je.pathname):(os=new Set([je.pathname]),Q.set(T.location.pathname,os)),Kt={currentLocation:T.location,nextLocation:je}}ge({...Ce,actionData:ce,loaderData:Te,historyAction:R,location:je,initialized:!0,navigation:q2,revalidation:"idle",restoreScrollPosition:rt,preventScrollReset:gt,blockers:Ie},{viewTransitionOpts:Kt,flushSync:Be===!0}),R="POP",O=!1,A=!1,U=!1,B=!1,z?.resolve(),z=null,pe?.resolve(),pe=null}async function de(je,Ce){if(z?.resolve(),z=null,typeof je=="number"){z||(z=Uk());let Pe=z.promise;return t.history.go(je),Pe}let Be=lw(T.location,T.matches,m,je,Ce?.fromRouteId,Ce?.relative),{path:xt,submission:ce,error:Te}=Tk(!1,Be,Ce),Ie=T.location,rt=lx(T.location,xt,Ce&&Ce.state);rt={...rt,...t.history.encodeLocation(rt)};let gt=Ce&&Ce.replace!=null?Ce.replace:void 0,Kt="PUSH";gt===!0?Kt="REPLACE":gt===!1||ce!=null&&rr(ce.formMethod)&&ce.formAction===T.location.pathname+T.location.search&&(Kt="REPLACE");let os=Ce&&"preventScrollReset"in Ce?Ce.preventScrollReset===!0:void 0,Ue=(Ce&&Ce.flushSync)===!0,zt=As({currentLocation:Ie,nextLocation:rt,historyAction:Kt});if(zt){us(zt,{state:"blocked",location:rt,proceed(){us(zt,{state:"proceeding",proceed:void 0,reset:void 0,location:rt}),de(je,Ce)},reset(){let Pe=new Map(T.blockers);Pe.set(zt,Rh),ge({blockers:Pe})}});return}await Ae(Kt,rt,{submission:ce,pendingError:Te,preventScrollReset:os,replace:Ce&&Ce.replace,enableViewTransition:Ce&&Ce.viewTransition,flushSync:Ue,callSiteDefaultShouldRevalidate:Ce&&Ce.unstable_defaultShouldRevalidate})}function we(){pe||(pe=Uk()),wt(),ge({revalidation:"loading"});let je=pe.promise;return T.navigation.state==="submitting"?je:T.navigation.state==="idle"?(Ae(T.historyAction,T.location,{startUninterruptedRevalidation:!0}),je):(Ae(R||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:A===!0}),je)}async function Ae(je,Ce,Be){$&&$.abort(),$=null,R=je,U=(Be&&Be.startUninterruptedRevalidation)===!0,ca(T.location,T.matches),O=(Be&&Be.preventScrollReset)===!0,A=(Be&&Be.enableViewTransition)===!0;let xt=c||l,ce=Be&&Be.overrideNavigation,Te=Be?.initialHydration&&T.matches&&T.matches.length>0&&!C?T.matches:Rc(xt,Ce,m),Ie=(Be&&Be.flushSync)===!0;if(Te&&T.initialized&&!B&&zB(T.location,Ce)&&!(Be&&Be.submission&&rr(Be.submission.formMethod))){le(Ce,{matches:Te},{flushSync:Ie});return}let rt=qt(Te,xt,Ce.pathname);if(rt.active&&rt.matches&&(Te=rt.matches),!Te){let{error:Mt,notFoundMatches:Xt,route:$t}=Ls(Ce.pathname);le(Ce,{matches:Xt,loaderData:{},errors:{[$t.id]:Mt}},{flushSync:Ie});return}$=new AbortController;let gt=_m(t.history,Ce,$.signal,Be&&Be.submission),Kt=t.getContext?await t.getContext():new _k,os;if(Be&&Be.pendingError)os=[Ac(Te).route.id,{type:"error",error:Be.pendingError}];else if(Be&&Be.submission&&rr(Be.submission.formMethod)){let Mt=await Fe(gt,Ce,Be.submission,Te,Kt,rt.active,Be&&Be.initialHydration===!0,{replace:Be.replace,flushSync:Ie});if(Mt.shortCircuited)return;if(Mt.pendingActionResult){let[Xt,$t]=Mt.pendingActionResult;if(ni($t)&&dx($t.error)&&$t.error.status===404){$=null,le(Ce,{matches:Mt.matches,loaderData:{},errors:{[Xt]:$t.error}});return}}Te=Mt.matches||Te,os=Mt.pendingActionResult,ce=B2(Ce,Be.submission),Ie=!1,rt.active=!1,gt=_m(t.history,gt.url,gt.signal)}let{shortCircuited:Ue,matches:zt,loaderData:Pe,errors:qe}=await Me(gt,Ce,Te,Kt,rt.active,ce,Be&&Be.submission,Be&&Be.fetcherSubmission,Be&&Be.replace,Be&&Be.initialHydration===!0,Ie,os,Be&&Be.callSiteDefaultShouldRevalidate);Ue||($=null,le(Ce,{matches:zt||Te,...$k(os),loaderData:Pe,errors:qe}))}async function Fe(je,Ce,Be,xt,ce,Te,Ie,rt={}){wt();let gt=YB(Ce,Be);if(ge({navigation:gt},{flushSync:rt.flushSync===!0}),Te){let Ue=await zs(xt,Ce.pathname,je.signal);if(Ue.type==="aborted")return{shortCircuited:!0};if(Ue.type==="error"){if(Ue.partialMatches.length===0){let{matches:Pe,route:qe}=W0(l);return{matches:Pe,pendingActionResult:[qe.id,{type:"error",error:Ue.error}]}}let zt=Ac(Ue.partialMatches).route.id;return{matches:Ue.partialMatches,pendingActionResult:[zt,{type:"error",error:Ue.error}]}}else if(Ue.matches)xt=Ue.matches;else{let{notFoundMatches:zt,error:Pe,route:qe}=Ls(Ce.pathname);return{matches:zt,pendingActionResult:[qe.id,{type:"error",error:Pe}]}}}let Kt,os=Fy(xt,Ce);if(!os.route.action&&!os.route.lazy)Kt={type:"error",error:zi(405,{method:je.method,pathname:Ce.pathname,routeId:os.route.id})};else{let Ue=Km(i,o,je,xt,os,Ie?[]:n,ce),zt=await jt(je,Ue,ce,null);if(Kt=zt[os.route.id],!Kt){for(let Pe of xt)if(zt[Pe.route.id]){Kt=zt[Pe.route.id];break}}if(je.signal.aborted)return{shortCircuited:!0}}if(Kd(Kt)){let Ue;return rt&&rt.replace!=null?Ue=rt.replace:Ue=Ok(Kt.response.headers.get("Location"),new URL(je.url),m)===T.location.pathname+T.location.search,await Ge(je,Kt,!0,{submission:Be,replace:Ue}),{shortCircuited:!0}}if(ni(Kt)){let Ue=Ac(xt,os.route.id);return(rt&&rt.replace)!==!0&&(R="PUSH"),{matches:xt,pendingActionResult:[Ue.route.id,Kt,os.route.id]}}return{matches:xt,pendingActionResult:[os.route.id,Kt]}}async function Me(je,Ce,Be,xt,ce,Te,Ie,rt,gt,Kt,os,Ue,zt){let Pe=Te||B2(Ce,Ie),qe=Ie||rt||Bk(Pe),Mt=!U&&!Kt;if(ce){if(Mt){let Za=Xe(Ue);ge({navigation:Pe,...Za!==void 0?{actionData:Za}:{}},{flushSync:os})}let Ds=await zs(Be,Ce.pathname,je.signal);if(Ds.type==="aborted")return{shortCircuited:!0};if(Ds.type==="error"){if(Ds.partialMatches.length===0){let{matches:Gr,route:En}=W0(l);return{matches:Gr,loaderData:{},errors:{[En.id]:Ds.error}}}let Za=Ac(Ds.partialMatches).route.id;return{matches:Ds.partialMatches,loaderData:{},errors:{[Za]:Ds.error}}}else if(Ds.matches)Be=Ds.matches;else{let{error:Za,notFoundMatches:Gr,route:En}=Ls(Ce.pathname);return{matches:Gr,loaderData:{},errors:{[En.id]:Za}}}}let Xt=c||l,{dsMatches:$t,revalidatingFetchers:Is}=Mk(je,xt,i,o,t.history,T,Be,qe,Ce,Kt?[]:n,Kt===!0,B,V,te,W,L,Xt,m,t.patchRoutesOnNavigation!=null,Ue,zt);if(F=++H,!t.dataStrategy&&!$t.some(Ds=>Ds.shouldLoad)&&!$t.some(Ds=>Ds.route.middleware&&Ds.route.middleware.length>0)&&Is.length===0){let Ds=ts();return le(Ce,{matches:Be,loaderData:{},errors:Ue&&ni(Ue[1])?{[Ue[0]]:Ue[1].error}:null,...$k(Ue),...Ds?{fetchers:new Map(T.fetchers)}:{}},{flushSync:os}),{shortCircuited:!0}}if(Mt){let Ds={};if(!ce){Ds.navigation=Pe;let Za=Xe(Ue);Za!==void 0&&(Ds.actionData=Za)}Is.length>0&&(Ds.fetchers=ke(Is)),ge(Ds,{flushSync:os})}Is.forEach(Ds=>{Ot(Ds.key),Ds.controller&&Y.set(Ds.key,Ds.controller)});let $s=()=>Is.forEach(Ds=>Ot(Ds.key));$&&$.signal.addEventListener("abort",$s);let{loaderResults:Ks,fetcherResults:qs}=await dt($t,Is,je,xt);if(je.signal.aborted)return{shortCircuited:!0};$&&$.signal.removeEventListener("abort",$s),Is.forEach(Ds=>Y.delete(Ds.key));let Wa=Y0(Ks);if(Wa)return await Ge(je,Wa.result,!0,{replace:gt}),{shortCircuited:!0};if(Wa=Y0(qs),Wa)return L.add(Wa.key),await Ge(je,Wa.result,!0,{replace:gt}),{shortCircuited:!0};let{loaderData:en,errors:Pn}=Lk(T,Be,Ks,Ue,Is,qs);Kt&&T.errors&&(Pn={...T.errors,...Pn});let Ss=ts(),An=st(F),In=Ss||An||Is.length>0;return{matches:Be,loaderData:en,errors:Pn,...In?{fetchers:new Map(T.fetchers)}:{}}}function Xe(je){if(je&&!ni(je[1]))return{[je[0]]:je[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function ke(je){return je.forEach(Ce=>{let Be=T.fetchers.get(Ce.key),xt=Ah(void 0,Be?Be.data:void 0);T.fetchers.set(Ce.key,xt)}),new Map(T.fetchers)}async function Ye(je,Ce,Be,xt){Ot(je);let ce=(xt&&xt.flushSync)===!0,Te=c||l,Ie=lw(T.location,T.matches,m,Be,Ce,xt?.relative),rt=Rc(Te,Ie,m),gt=qt(rt,Te,Ie);if(gt.active&&gt.matches&&(rt=gt.matches),!rt){ve(je,Ce,zi(404,{pathname:Ie}),{flushSync:ce});return}let{path:Kt,submission:os,error:Ue}=Tk(!0,Ie,xt);if(Ue){ve(je,Ce,Ue,{flushSync:ce});return}let zt=t.getContext?await t.getContext():new _k,Pe=(xt&&xt.preventScrollReset)===!0;if(os&&rr(os.formMethod)){await ye(je,Ce,Kt,rt,zt,gt.active,ce,Pe,os,xt&&xt.unstable_defaultShouldRevalidate);return}W.set(je,{routeId:Ce,path:Kt}),await We(je,Ce,Kt,rt,zt,gt.active,ce,Pe,os)}async function ye(je,Ce,Be,xt,ce,Te,Ie,rt,gt,Kt){wt(),W.delete(je);let os=T.fetchers.get(je);Dt(je,GB(gt,os),{flushSync:Ie});let Ue=new AbortController,zt=_m(t.history,Be,Ue.signal,gt);if(Te){let Zs=await zs(xt,new URL(zt.url).pathname,zt.signal,je);if(Zs.type==="aborted")return;if(Zs.type==="error"){ve(je,Ce,Zs.error,{flushSync:Ie});return}else if(Zs.matches)xt=Zs.matches;else{ve(je,Ce,zi(404,{pathname:Be}),{flushSync:Ie});return}}let Pe=Fy(xt,Be);if(!Pe.route.action&&!Pe.route.lazy){let Zs=zi(405,{method:gt.formMethod,pathname:Be,routeId:Ce});ve(je,Ce,Zs,{flushSync:Ie});return}Y.set(je,Ue);let qe=H,Mt=Km(i,o,zt,xt,Pe,n,ce),Xt=await jt(zt,Mt,ce,je),$t=Xt[Pe.route.id];if(!$t){for(let Zs of Mt)if(Xt[Zs.route.id]){$t=Xt[Zs.route.id];break}}if(zt.signal.aborted){Y.get(je)===Ue&&Y.delete(je);return}if(te.has(je)){if(Kd($t)||ni($t)){Dt(je,Dl(void 0));return}}else{if(Kd($t))if(Y.delete(je),F>qe){Dt(je,Dl(void 0));return}else return L.add(je),Dt(je,Ah(gt)),Ge(zt,$t,!1,{fetcherSubmission:gt,preventScrollReset:rt});if(ni($t)){ve(je,Ce,$t.error);return}}let Is=T.navigation.location||T.location,$s=_m(t.history,Is,Ue.signal),Ks=c||l,qs=T.navigation.state!=="idle"?Rc(Ks,T.navigation.location,m):T.matches;Ys(qs,"Didn't find any matches after fetcher action");let Wa=++H;M.set(je,Wa);let en=Ah(gt,$t.data);T.fetchers.set(je,en);let{dsMatches:Pn,revalidatingFetchers:Ss}=Mk($s,ce,i,o,t.history,T,qs,gt,Is,n,!1,B,V,te,W,L,Ks,m,t.patchRoutesOnNavigation!=null,[Pe.route.id,$t],Kt);Ss.filter(Zs=>Zs.key!==je).forEach(Zs=>{let md=Zs.key,Ig=T.fetchers.get(md),Up=Ah(void 0,Ig?Ig.data:void 0);T.fetchers.set(md,Up),Ot(md),Zs.controller&&Y.set(md,Zs.controller)}),ge({fetchers:new Map(T.fetchers)});let An=()=>Ss.forEach(Zs=>Ot(Zs.key));Ue.signal.addEventListener("abort",An);let{loaderResults:In,fetcherResults:Ds}=await dt(Pn,Ss,$s,ce);if(Ue.signal.aborted)return;if(Ue.signal.removeEventListener("abort",An),M.delete(je),Y.delete(je),Ss.forEach(Zs=>Y.delete(Zs.key)),T.fetchers.has(je)){let Zs=Dl($t.data);T.fetchers.set(je,Zs)}let Za=Y0(In);if(Za)return Ge($s,Za.result,!1,{preventScrollReset:rt});if(Za=Y0(Ds),Za)return L.add(Za.key),Ge($s,Za.result,!1,{preventScrollReset:rt});let{loaderData:Gr,errors:En}=Lk(T,qs,In,void 0,Ss,Ds);st(Wa),T.navigation.state==="loading"&&Wa>F?(Ys(R,"Expected pending action"),$&&$.abort(),le(T.navigation.location,{matches:qs,loaderData:Gr,errors:En,fetchers:new Map(T.fetchers)})):(ge({errors:En,loaderData:zk(T.loaderData,Gr,qs,En),fetchers:new Map(T.fetchers)}),B=!1)}async function We(je,Ce,Be,xt,ce,Te,Ie,rt,gt){let Kt=T.fetchers.get(je);Dt(je,Ah(gt,Kt?Kt.data:void 0),{flushSync:Ie});let os=new AbortController,Ue=_m(t.history,Be,os.signal);if(Te){let $t=await zs(xt,new URL(Ue.url).pathname,Ue.signal,je);if($t.type==="aborted")return;if($t.type==="error"){ve(je,Ce,$t.error,{flushSync:Ie});return}else if($t.matches)xt=$t.matches;else{ve(je,Ce,zi(404,{pathname:Be}),{flushSync:Ie});return}}let zt=Fy(xt,Be);Y.set(je,os);let Pe=H,qe=Km(i,o,Ue,xt,zt,n,ce),Xt=(await jt(Ue,qe,ce,je))[zt.route.id];if(Y.get(je)===os&&Y.delete(je),!Ue.signal.aborted){if(te.has(je)){Dt(je,Dl(void 0));return}if(Kd(Xt))if(F>Pe){Dt(je,Dl(void 0));return}else{L.add(je),await Ge(Ue,Xt,!1,{preventScrollReset:rt});return}if(ni(Xt)){ve(je,Ce,Xt.error);return}Dt(je,Dl(Xt.data))}}async function Ge(je,Ce,Be,{submission:xt,fetcherSubmission:ce,preventScrollReset:Te,replace:Ie}={}){Be||(z?.resolve(),z=null),Ce.response.headers.has("X-Remix-Revalidate")&&(B=!0);let rt=Ce.response.headers.get("Location");Ys(rt,"Expected a Location header on the redirect Response"),rt=Ok(rt,new URL(je.url),m);let gt=lx(T.location,rt,{_isRedirect:!0});if(a){let qe=!1;if(Ce.response.headers.has("X-Remix-Reload-Document"))qe=!0;else if(Jb(rt)){const Mt=f7(rt,!0);qe=Mt.origin!==s.location.origin||Ji(Mt.pathname,m)==null}if(qe){Ie?s.location.replace(rt):s.location.assign(rt);return}}$=null;let Kt=Ie===!0||Ce.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:os,formAction:Ue,formEncType:zt}=T.navigation;!xt&&!ce&&os&&Ue&&zt&&(xt=Bk(T.navigation));let Pe=xt||ce;if(wB.has(Ce.response.status)&&Pe&&rr(Pe.formMethod))await Ae(Kt,gt,{submission:{...Pe,formAction:rt},preventScrollReset:Te||O,enableViewTransition:Be?A:void 0});else{let qe=B2(gt,xt);await Ae(Kt,gt,{overrideNavigation:qe,fetcherSubmission:ce,preventScrollReset:Te||O,enableViewTransition:Be?A:void 0})}}async function jt(je,Ce,Be,xt){let ce,Te={};try{ce=await RB(u,je,Ce,xt,Be,!1)}catch(Ie){return Ce.filter(rt=>rt.shouldLoad).forEach(rt=>{Te[rt.route.id]={type:"error",error:Ie}}),Te}if(je.signal.aborted)return Te;if(!rr(je.method))for(let Ie of Ce){if(ce[Ie.route.id]?.type==="error")break;!ce.hasOwnProperty(Ie.route.id)&&!T.loaderData.hasOwnProperty(Ie.route.id)&&(!T.errors||!T.errors.hasOwnProperty(Ie.route.id))&&Ie.shouldCallHandler()&&(ce[Ie.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${Ie.route.id}`)})}for(let[Ie,rt]of Object.entries(ce))if(UB(rt)){let gt=rt.result;Te[Ie]={type:"redirect",response:FB(gt,je,Ie,Ce,m)}}else Te[Ie]=await OB(rt);return Te}async function dt(je,Ce,Be,xt){let ce=jt(Be,je,xt,null),Te=Promise.all(Ce.map(async gt=>{if(gt.matches&&gt.match&&gt.request&&gt.controller){let os=(await jt(gt.request,gt.matches,xt,gt.key))[gt.match.route.id];return{[gt.key]:os}}else return Promise.resolve({[gt.key]:{type:"error",error:zi(404,{pathname:gt.path})}})})),Ie=await ce,rt=(await Te).reduce((gt,Kt)=>Object.assign(gt,Kt),{});return{loaderResults:Ie,fetcherResults:rt}}function wt(){B=!0,W.forEach((je,Ce)=>{Y.has(Ce)&&V.add(Ce),Ot(Ce)})}function Dt(je,Ce,Be={}){T.fetchers.set(je,Ce),ge({fetchers:new Map(T.fetchers)},{flushSync:(Be&&Be.flushSync)===!0})}function ve(je,Ce,Be,xt={}){let ce=Ac(T.matches,Ce);bt(je),ge({errors:{[ce.route.id]:Be},fetchers:new Map(T.fetchers)},{flushSync:(xt&&xt.flushSync)===!0})}function Le(je){return X.set(je,(X.get(je)||0)+1),te.has(je)&&te.delete(je),T.fetchers.get(je)||_B}function $e(je,Ce){Ot(je,Ce?.reason),Dt(je,Dl(null))}function bt(je){let Ce=T.fetchers.get(je);Y.has(je)&&!(Ce&&Ce.state==="loading"&&M.has(je))&&Ot(je),W.delete(je),M.delete(je),L.delete(je),te.delete(je),V.delete(je),T.fetchers.delete(je)}function Zt(je){let Ce=(X.get(je)||0)-1;Ce<=0?(X.delete(je),te.add(je)):X.set(je,Ce),ge({fetchers:new Map(T.fetchers)})}function Ot(je,Ce){let Be=Y.get(je);Be&&(Be.abort(Ce),Y.delete(je))}function It(je){for(let Ce of je){let Be=Le(Ce),xt=Dl(Be.data);T.fetchers.set(Ce,xt)}}function ts(){let je=[],Ce=!1;for(let Be of L){let xt=T.fetchers.get(Be);Ys(xt,`Expected fetcher: ${Be}`),xt.state==="loading"&&(L.delete(Be),je.push(Be),Ce=!0)}return It(je),Ce}function st(je){let Ce=[];for(let[Be,xt]of M)if(xt<je){let ce=T.fetchers.get(Be);Ys(ce,`Expected fetcher: ${Be}`),ce.state==="loading"&&(Ot(Be),M.delete(Be),Ce.push(Be))}return It(Ce),Ce.length>0}function Gt(je,Ce){let Be=T.blockers.get(je)||Rh;return se.get(je)!==Ce&&se.set(je,Ce),Be}function es(je){T.blockers.delete(je),se.delete(je)}function us(je,Ce){let Be=T.blockers.get(je)||Rh;Ys(Be.state==="unblocked"&&Ce.state==="blocked"||Be.state==="blocked"&&Ce.state==="blocked"||Be.state==="blocked"&&Ce.state==="proceeding"||Be.state==="blocked"&&Ce.state==="unblocked"||Be.state==="proceeding"&&Ce.state==="unblocked",`Invalid blocker state transition: ${Be.state} -> ${Ce.state}`);let xt=new Map(T.blockers);xt.set(je,Ce),ge({blockers:xt})}function As({currentLocation:je,nextLocation:Ce,historyAction:Be}){if(se.size===0)return;se.size>1&&cn(!1,"A router only supports one blocker at a time");let xt=Array.from(se.entries()),[ce,Te]=xt[xt.length-1],Ie=T.blockers.get(ce);if(!(Ie&&Ie.state==="proceeding")&&Te({currentLocation:je,nextLocation:Ce,historyAction:Be}))return ce}function Ls(je){let Ce=zi(404,{pathname:je}),Be=c||l,{matches:xt,route:ce}=W0(Be);return{notFoundMatches:xt,route:ce,error:Ce}}function ws(je,Ce,Be){if(_=je,j=Ce,S=Be||null,!b&&T.navigation===q2){b=!0;let xt=fa(T.location,T.matches);xt!=null&&ge({restoreScrollPosition:xt})}return()=>{_=null,j=null,S=null}}function ma(je,Ce){return S&&S(je,Ce.map(xt=>Qq(xt,T.loaderData)))||je.key}function ca(je,Ce){if(_&&j){let Be=ma(je,Ce);_[Be]=j()}}function fa(je,Ce){if(_){let Be=ma(je,Ce),xt=_[Be];if(typeof xt=="number")return xt}return null}function qt(je,Ce,Be){if(t.patchRoutesOnNavigation)if(je){if(Object.keys(je[0].params).length>0)return{active:!0,matches:rf(Ce,Be,m,!0)}}else return{active:!0,matches:rf(Ce,Be,m,!0)||[]};return{active:!1,matches:null}}async function zs(je,Ce,Be,xt){if(!t.patchRoutesOnNavigation)return{type:"success",matches:je};let ce=je;for(;;){let Te=c==null,Ie=c||l,rt=o;try{await t.patchRoutesOnNavigation({signal:Be,path:Ce,matches:ce,fetcherKey:xt,patch:(os,Ue)=>{Be.aborted||Dk(os,Ue,Ie,rt,i,!1)}})}catch(os){return{type:"error",error:os,partialMatches:ce}}finally{Te&&!Be.aborted&&(l=[...l])}if(Be.aborted)return{type:"aborted"};let gt=Rc(Ie,Ce,m),Kt=null;if(gt){if(Object.keys(gt[0].params).length===0)return{type:"success",matches:gt};if(Kt=rf(Ie,Ce,m,!0),!(Kt&&ce.length<Kt.length&&Ft(ce,Kt.slice(0,ce.length))))return{type:"success",matches:gt}}if(Kt||(Kt=rf(Ie,Ce,m,!0)),!Kt||Ft(ce,Kt))return{type:"success",matches:null};ce=Kt}}function Ft(je,Ce){return je.length===Ce.length&&je.every((Be,xt)=>Be.route.id===Ce[xt].route.id)}function Qt(je){o={},c=cx(je,i,void 0,o)}function Ms(je,Ce,Be=!1){let xt=c==null;Dk(je,Ce,c||l,o,i,Be),xt&&(l=[...l],ge({}))}return D={get basename(){return m},get future(){return h},get state(){return T},get routes(){return l},get window(){return s},initialize:he,subscribe:xe,enableScrollRestoration:ws,navigate:de,fetch:Ye,revalidate:we,createHref:je=>t.history.createHref(je),encodeLocation:je=>t.history.encodeLocation(je),getFetcher:Le,resetFetcher:$e,deleteFetcher:Zt,dispose:re,getBlocker:Gt,deleteBlocker:es,patchRoutes:Ms,_internalFetchControllers:Y,_internalSetRoutes:Qt,_internalSetStateDoNotUseOrYouWillBreakYourApp(je){ge(je)}},t.unstable_instrumentations&&(D=fB(D,t.unstable_instrumentations.map(je=>je.router).filter(Boolean))),D}function kB(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function lw(t,s,a,n,r,i){let o,l;if(r){o=[];for(let m of s)if(o.push(m),m.route.id===r){l=m;break}}else o=s,l=s[s.length-1];let c=tv(n||".",ev(o),Ji(t.pathname,a)||t.pathname,i==="path");if(n==null&&(c.search=t.search,c.hash=t.hash),(n==null||n===""||n===".")&&l){let m=W_(c.search);if(l.route.index&&!m)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&m){let u=new URLSearchParams(c.search),h=u.getAll("index");u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let f=u.toString();c.search=f?`?${f}`:""}}return a!=="/"&&(c.pathname=cB({basename:a,pathname:c.pathname})),nl(c)}function Tk(t,s,a){if(!a||!kB(a))return{path:s};if(a.formMethod&&!WB(a.formMethod))return{path:s,error:zi(405,{method:a.formMethod})};let n=()=>({path:s,error:zi(400,{type:"invalid-body"})}),i=(a.formMethod||"get").toUpperCase(),o=D7(s);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!rr(i))return n();let h=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((f,[v,_])=>`${f}${v}=${_}
`,""):String(a.body);return{path:s,submission:{formMethod:i,formAction:o,formEncType:a.formEncType,formData:void 0,json:void 0,text:h}}}else if(a.formEncType==="application/json"){if(!rr(i))return n();try{let h=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:s,submission:{formMethod:i,formAction:o,formEncType:a.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}Ys(typeof FormData=="function","FormData is not available in this environment");let l,c;if(a.formData)l=uw(a.formData),c=a.formData;else if(a.body instanceof FormData)l=uw(a.body),c=a.body;else if(a.body instanceof URLSearchParams)l=a.body,c=Fk(l);else if(a.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(a.body),c=Fk(l)}catch{return n()}let m={formMethod:i,formAction:o,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(rr(m.formMethod))return{path:s,submission:m};let u=nd(s);return t&&u.search&&W_(u.search)&&l.append("index",""),u.search=`?${l}`,{path:nl(u),submission:m}}function Mk(t,s,a,n,r,i,o,l,c,m,u,h,f,v,_,S,j,b,w,C,P){let E=C?ni(C[1])?C[1].error:C[1].data:void 0,D=r.createURL(i.location),T=r.createURL(c),R;if(u&&i.errors){let U=Object.keys(i.errors)[0];R=o.findIndex(B=>B.route.id===U)}else if(C&&ni(C[1])){let U=C[0];R=o.findIndex(B=>B.route.id===U)-1}let z=C?C[1].statusCode:void 0,O=z&&z>=400,$={currentUrl:D,currentParams:i.matches[0]?.params||{},nextUrl:T,nextParams:o[0].params,...l,actionResult:E,actionStatus:z},A=Xx(o),Q=o.map((U,B)=>{let{route:V}=U,Y=null;if(R!=null&&B>R?Y=!1:V.lazy?Y=!0:V_(V)?u?Y=cw(V,i.loaderData,i.errors):PB(i.loaderData,i.matches[B],U)&&(Y=!0):Y=!1,Y!==null)return dw(a,n,t,A,U,m,s,Y);let H=!1;typeof P=="boolean"?H=P:O?H=!1:(h||D.pathname+D.search===T.pathname+T.search||D.search!==T.search||EB(i.matches[B],U))&&(H=!0);let F={...$,defaultShouldRevalidate:H},M=Bf(U,F);return dw(a,n,t,A,U,m,s,M,F,P)}),K=[];return _.forEach((U,B)=>{if(u||!o.some(X=>X.route.id===U.routeId)||v.has(B))return;let V=i.fetchers.get(B),Y=V&&V.state!=="idle"&&V.data===void 0,H=Rc(j,U.path,b);if(!H){if(w&&Y)return;K.push({key:B,routeId:U.routeId,path:U.path,matches:null,match:null,request:null,controller:null});return}if(S.has(B))return;let F=Fy(H,U.path),M=new AbortController,L=_m(r,U.path,M.signal),W=null;if(f.has(B))f.delete(B),W=Km(a,n,L,H,F,m,s);else if(Y)h&&(W=Km(a,n,L,H,F,m,s));else{let X;typeof P=="boolean"?X=P:O?X=!1:X=h;let te={...$,defaultShouldRevalidate:X};Bf(F,te)&&(W=Km(a,n,L,H,F,m,s,te))}W&&K.push({key:B,routeId:U.routeId,path:U.path,matches:W,match:F,request:L,controller:M})}),{dsMatches:Q,revalidatingFetchers:K}}function V_(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function cw(t,s,a){if(t.lazy)return!0;if(!V_(t))return!1;let n=s!=null&&t.id in s,r=a!=null&&a[t.id]!==void 0;return!n&&r?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!r}function PB(t,s,a){let n=!s||a.route.id!==s.route.id,r=!t.hasOwnProperty(a.route.id);return n||r}function EB(t,s){let a=t.route.path;return t.pathname!==s.pathname||a!=null&&a.endsWith("*")&&t.params["*"]!==s.params["*"]}function Bf(t,s){if(t.route.shouldRevalidate){let a=t.route.shouldRevalidate(s);if(typeof a=="boolean")return a}return s.defaultShouldRevalidate}function Dk(t,s,a,n,r,i){let o;if(t){let m=n[t];Ys(m,`No route found to patch children into: routeId = ${t}`),m.children||(m.children=[]),o=m.children}else o=a;let l=[],c=[];if(s.forEach(m=>{let u=o.find(h=>k7(m,h));u?c.push({existingRoute:u,newRoute:m}):l.push(m)}),l.length>0){let m=cx(l,r,[t||"_","patch",String(o?.length||"0")],n);o.push(...m)}if(i&&c.length>0)for(let m=0;m<c.length;m++){let{existingRoute:u,newRoute:h}=c[m],f=u,[v]=cx([h],r,[],{},!0);Object.assign(f,{element:v.element?v.element:f.element,errorElement:v.errorElement?v.errorElement:f.errorElement,hydrateFallbackElement:v.hydrateFallbackElement?v.hydrateFallbackElement:f.hydrateFallbackElement})}}function k7(t,s){return"id"in t&&"id"in s&&t.id===s.id?!0:t.index===s.index&&t.path===s.path&&t.caseSensitive===s.caseSensitive?(!t.children||t.children.length===0)&&(!s.children||s.children.length===0)?!0:t.children.every((a,n)=>s.children?.some(r=>k7(a,r))):!1}var Rk=new WeakMap,P7=({key:t,route:s,manifest:a,mapRouteProperties:n})=>{let r=a[s.id];if(Ys(r,"No route found in manifest"),!r.lazy||typeof r.lazy!="object")return;let i=r.lazy[t];if(!i)return;let o=Rk.get(r);o||(o={},Rk.set(r,o));let l=o[t];if(l)return l;let c=(async()=>{let m=Wq(t),h=r[t]!==void 0&&t!=="hasErrorBoundary";if(m)cn(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),o[t]=Promise.resolve();else if(h)cn(!1,`Route "${r.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let f=await i();f!=null&&(Object.assign(r,{[t]:f}),Object.assign(r,n(r)))}typeof r.lazy=="object"&&(r.lazy[t]=void 0,Object.values(r.lazy).every(f=>f===void 0)&&(r.lazy=void 0))})();return o[t]=c,c},Ak=new WeakMap;function TB(t,s,a,n,r){let i=a[t.id];if(Ys(i,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let u=Ak.get(i);if(u)return{lazyRoutePromise:u,lazyHandlerPromise:u};let h=(async()=>{Ys(typeof t.lazy=="function","No lazy route function found");let f=await t.lazy(),v={};for(let _ in f){let S=f[_];if(S===void 0)continue;let j=Gq(_),w=i[_]!==void 0&&_!=="hasErrorBoundary";j?cn(!j,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):w?cn(!w,`Route "${i.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):v[_]=S}Object.assign(i,v),Object.assign(i,{...n(i),lazy:void 0})})();return Ak.set(i,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let o=Object.keys(t.lazy),l=[],c;for(let u of o){if(r&&r.includes(u))continue;let h=P7({key:u,route:t,manifest:a,mapRouteProperties:n});h&&(l.push(h),u===s&&(c=h))}let m=l.length>0?Promise.all(l).then(()=>{}):void 0;return m?.catch(()=>{}),c?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:c}}async function Ik(t){let s=t.matches.filter(r=>r.shouldLoad),a={};return(await Promise.all(s.map(r=>r.resolve()))).forEach((r,i)=>{a[s[i].route.id]=r}),a}async function MB(t){return t.matches.some(s=>s.route.middleware)?E7(t,()=>Ik(t)):Ik(t)}function E7(t,s){return DB(t,s,n=>{if(HB(n))throw n;return n},qB,a);function a(n,r,i){if(i)return Promise.resolve(Object.assign(i.value,{[r]:{type:"error",result:n}}));{let{matches:o}=t,l=Math.min(Math.max(o.findIndex(m=>m.route.id===r),0),Math.max(o.findIndex(m=>m.shouldCallHandler()),0)),c=Ac(o,o[l].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:n}})}}}async function DB(t,s,a,n,r){let{matches:i,request:o,params:l,context:c,unstable_pattern:m}=t,u=i.flatMap(f=>f.route.middleware?f.route.middleware.map(v=>[f.route.id,v]):[]);return await T7({request:o,params:l,context:c,unstable_pattern:m},u,s,a,n,r)}async function T7(t,s,a,n,r,i,o=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason??new Error(`Request aborted: ${l.method} ${l.url}`);let c=s[o];if(!c)return await a();let[m,u]=c,h,f=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");try{return h={value:await T7(t,s,a,n,r,i,o+1)},h.value}catch(v){return h={value:await i(v,m,h)},h.value}};try{let v=await u(t,f),_=v!=null?n(v):void 0;return r(_)?_:h?_??h.value:(h={value:await f()},h.value)}catch(v){return await i(v,m,h)}}function M7(t,s,a,n,r){let i=P7({key:"middleware",route:n.route,manifest:s,mapRouteProperties:t}),o=TB(n.route,rr(a.method)?"action":"loader",s,t,r);return{middleware:i,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function dw(t,s,a,n,r,i,o,l,c=null,m){let u=!1,h=M7(t,s,a,r,i);return{...r,_lazyPromises:h,shouldLoad:l,shouldRevalidateArgs:c,shouldCallHandler(f){return u=!0,c?typeof m=="boolean"?Bf(r,{...c,defaultShouldRevalidate:m}):typeof f=="boolean"?Bf(r,{...c,defaultShouldRevalidate:f}):Bf(r,c):l},resolve(f){let{lazy:v,loader:_,middleware:S}=r.route,j=u||l||f&&!rr(a.method)&&(v||_),b=S&&S.length>0&&!_&&!v;return j&&(rr(a.method)||!b)?AB({request:a,unstable_pattern:n,match:r,lazyHandlerPromise:h?.handler,lazyRoutePromise:h?.route,handlerOverride:f,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Km(t,s,a,n,r,i,o,l=null){return n.map(c=>c.route.id!==r.route.id?{...c,shouldLoad:!1,shouldRevalidateArgs:l,shouldCallHandler:()=>!1,_lazyPromises:M7(t,s,a,c,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:dw(t,s,a,Xx(n),c,i,o,!0,l))}async function RB(t,s,a,n,r,i){a.some(m=>m._lazyPromises?.middleware)&&await Promise.all(a.map(m=>m._lazyPromises?.middleware));let o={request:s,unstable_pattern:Xx(a),params:a[0].params,context:r,matches:a},c=await t({...o,fetcherKey:n,runClientMiddleware:m=>{let u=o;return E7(u,()=>m({...u,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(a.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return c}async function AB({request:t,unstable_pattern:s,match:a,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:o}){let l,c,m=rr(t.method),u=m?"action":"loader",h=f=>{let v,_=new Promise((b,w)=>v=w);c=()=>v(),t.signal.addEventListener("abort",c);let S=b=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${a.route.id}]`)):f({request:t,unstable_pattern:s,params:a.params,context:o},...b!==void 0?[b]:[]),j=(async()=>{try{return{type:"data",result:await(i?i(w=>S(w)):S())}}catch(b){return{type:"error",result:b}}})();return Promise.race([j,_])};try{let f=m?a.route.action:a.route.loader;if(n||r)if(f){let v,[_]=await Promise.all([h(f).catch(S=>{v=S}),n,r]);if(v!==void 0)throw v;l=_}else{await n;let v=m?a.route.action:a.route.loader;if(v)[l]=await Promise.all([h(v),r]);else if(u==="action"){let _=new URL(t.url),S=_.pathname+_.search;throw zi(405,{method:t.method,pathname:S,routeId:a.route.id})}else return{type:"data",result:void 0}}else if(f)l=await h(f);else{let v=new URL(t.url),_=v.pathname+v.search;throw zi(404,{pathname:_})}}catch(f){return{type:"error",result:f}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function IB(t){let s=t.headers.get("Content-Type");return s&&/\bapplication\/json\b/.test(s)?t.body==null?null:t.json():t.text()}async function OB(t){let{result:s,type:a}=t;if(H_(s)){let n;try{n=await IB(s)}catch(r){return{type:"error",error:r}}return a==="error"?{type:"error",error:new Zx(s.status,s.statusText,n),statusCode:s.status,headers:s.headers}:{type:"data",data:n,statusCode:s.status,headers:s.headers}}return a==="error"?qk(s)?s.data instanceof Error?{type:"error",error:s.data,statusCode:s.init?.status,headers:s.init?.headers?new Headers(s.init.headers):void 0}:{type:"error",error:$B(s),statusCode:dx(s)?s.status:void 0,headers:s.init?.headers?new Headers(s.init.headers):void 0}:{type:"error",error:s,statusCode:dx(s)?s.status:void 0}:qk(s)?{type:"data",data:s.data,statusCode:s.init?.status,headers:s.init?.headers?new Headers(s.init.headers):void 0}:{type:"data",data:s}}function FB(t,s,a,n,r){let i=t.headers.get("Location");if(Ys(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Jb(i)){let o=n.slice(0,n.findIndex(l=>l.route.id===a)+1);i=lw(new URL(s.url),o,r,i),t.headers.set("Location",i)}return t}function Ok(t,s,a){if(Jb(t)){let n=t,r=n.startsWith("//")?new URL(s.protocol+n):new URL(n),i=Ji(r.pathname,a)!=null;if(r.origin===s.origin&&i)return r.pathname+r.search+r.hash}return t}function _m(t,s,a,n){let r=t.createURL(D7(s)).toString(),i={signal:a};if(n&&rr(n.formMethod)){let{formMethod:o,formEncType:l}=n;i.method=o.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(n.json)):l==="text/plain"?i.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?i.body=uw(n.formData):i.body=n.formData}return new Request(r,i)}function uw(t){let s=new URLSearchParams;for(let[a,n]of t.entries())s.append(a,typeof n=="string"?n:n.name);return s}function Fk(t){let s=new FormData;for(let[a,n]of t.entries())s.append(a,n);return s}function LB(t,s,a,n=!1,r=!1){let i={},o=null,l,c=!1,m={},u=a&&ni(a[1])?a[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in s))return;let f=h.route.id,v=s[f];if(Ys(!Kd(v),"Cannot handle redirect results in processLoaderData"),ni(v)){let _=v.error;if(u!==void 0&&(_=u,u=void 0),o=o||{},r)o[f]=_;else{let S=Ac(t,f);o[S.route.id]==null&&(o[S.route.id]=_)}n||(i[f]=C7),c||(c=!0,l=dx(v.error)?v.error.status:500),v.headers&&(m[f]=v.headers)}else i[f]=v.data,v.statusCode&&v.statusCode!==200&&!c&&(l=v.statusCode),v.headers&&(m[f]=v.headers)}),u!==void 0&&a&&(o={[a[0]]:u},a[2]&&(i[a[2]]=void 0)),{loaderData:i,errors:o,statusCode:l||200,loaderHeaders:m}}function Lk(t,s,a,n,r,i){let{loaderData:o,errors:l}=LB(s,a,n);return r.filter(c=>!c.matches||c.matches.some(m=>m.shouldLoad)).forEach(c=>{let{key:m,match:u,controller:h}=c;if(h&&h.signal.aborted)return;let f=i[m];if(Ys(f,"Did not find corresponding fetcher result"),ni(f)){let v=Ac(t.matches,u?.route.id);l&&l[v.route.id]||(l={...l,[v.route.id]:f.error}),t.fetchers.delete(m)}else if(Kd(f))Ys(!1,"Unhandled fetcher revalidation redirect");else{let v=Dl(f.data);t.fetchers.set(m,v)}}),{loaderData:o,errors:l}}function zk(t,s,a,n){let r=Object.entries(s).filter(([,i])=>i!==C7).reduce((i,[o,l])=>(i[o]=l,i),{});for(let i of a){let o=i.route.id;if(!s.hasOwnProperty(o)&&t.hasOwnProperty(o)&&i.route.loader&&(r[o]=t[o]),n&&n.hasOwnProperty(o))break}return r}function $k(t){return t?ni(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ac(t,s){return(s?t.slice(0,t.findIndex(n=>n.route.id===s)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function W0(t){let s=t.length===1?t[0]:t.find(a=>a.index||!a.path||a.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:s}],route:s}}function zi(t,{pathname:s,routeId:a,method:n,type:r,message:i}={}){let o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",n&&s&&a?l=`You made a ${n} request to "${s}" but did not provide a \`loader\` for route "${a}", so there is no way to handle the request.`:r==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l=`Route "${a}" does not match URL "${s}"`):t===404?(o="Not Found",l=`No route matches URL "${s}"`):t===405&&(o="Method Not Allowed",n&&s&&a?l=`You made a ${n.toUpperCase()} request to "${s}" but did not provide an \`action\` for route "${a}", so there is no way to handle the request.`:n&&(l=`Invalid request method "${n.toUpperCase()}"`)),new Zx(t||500,o,new Error(l),!0)}function Y0(t){let s=Object.entries(t);for(let a=s.length-1;a>=0;a--){let[n,r]=s[a];if(Kd(r))return{key:n,result:r}}}function D7(t){let s=typeof t=="string"?nd(t):t;return nl({...s,hash:""})}function zB(t,s){return t.pathname!==s.pathname||t.search!==s.search?!1:t.hash===""?s.hash!=="":t.hash===s.hash?!0:s.hash!==""}function $B(t){return new Zx(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function qB(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([s,a])=>typeof s=="string"&&BB(a))}function BB(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function UB(t){return H_(t.result)&&_7.has(t.result.status)}function ni(t){return t.type==="error"}function Kd(t){return(t&&t.type)==="redirect"}function qk(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function H_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function VB(t){return _7.has(t)}function HB(t){return H_(t)&&VB(t.status)&&t.headers.has("Location")}function WB(t){return NB.has(t.toUpperCase())}function rr(t){return vB.has(t.toUpperCase())}function W_(t){return new URLSearchParams(t).getAll("index").some(s=>s==="")}function Fy(t,s){let a=typeof s=="string"?nd(s).search:s.search;if(t[t.length-1].route.index&&W_(a||""))return t[t.length-1];let n=b7(t);return n[n.length-1]}function Bk(t){let{formMethod:s,formAction:a,formEncType:n,text:r,formData:i,json:o}=t;if(!(!s||!a||!n)){if(r!=null)return{formMethod:s,formAction:a,formEncType:n,formData:void 0,json:void 0,text:r};if(i!=null)return{formMethod:s,formAction:a,formEncType:n,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:s,formAction:a,formEncType:n,formData:void 0,json:o,text:void 0}}}function B2(t,s){return s?{state:"loading",location:t,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function YB(t,s){return{state:"submitting",location:t,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}}function Ah(t,s){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:s}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:s}}function GB(t,s){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:s?s.data:void 0}}function Dl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function KB(t,s){try{let a=t.sessionStorage.getItem(S7);if(a){let n=JSON.parse(a);for(let[r,i]of Object.entries(n||{}))i&&Array.isArray(i)&&s.set(r,new Set(i||[]))}}catch{}}function QB(t,s){if(s.size>0){let a={};for(let[n,r]of s)a[n]=[...r];try{t.sessionStorage.setItem(S7,JSON.stringify(a))}catch(n){cn(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function Uk(){let t,s,a=new Promise((n,r)=>{t=async i=>{n(i);try{await a}catch{}},s=async i=>{r(i);try{await a}catch{}}});return{promise:a,resolve:t,reject:s}}var _u=g.createContext(null);_u.displayName="DataRouter";var Jx=g.createContext(null);Jx.displayName="DataRouterState";var R7=g.createContext(!1);function ZB(){return g.useContext(R7)}var Y_=g.createContext({isTransitioning:!1});Y_.displayName="ViewTransition";var A7=g.createContext(new Map);A7.displayName="Fetchers";var XB=g.createContext(null);XB.displayName="Await";var yi=g.createContext(null);yi.displayName="Navigation";var sv=g.createContext(null);sv.displayName="Location";var no=g.createContext({outlet:null,matches:[],isDataRoute:!1});no.displayName="Route";var G_=g.createContext(null);G_.displayName="RouteError";var I7="REACT_ROUTER_ERROR",JB="REDIRECT",eU="ROUTE_ERROR_RESPONSE";function tU(t){if(t.startsWith(`${I7}:${JB}:{`))try{let s=JSON.parse(t.slice(28));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.location=="string"&&typeof s.reloadDocument=="boolean"&&typeof s.replace=="boolean")return s}catch{}}function sU(t){if(t.startsWith(`${I7}:${eU}:{`))try{let s=JSON.parse(t.slice(40));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string")return new Zx(s.status,s.statusText,s.data)}catch{}}function aU(t,{relative:s}={}){Ys(Cp(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=g.useContext(yi),{hash:r,pathname:i,search:o}=eg(t,{relative:s}),l=i;return a!=="/"&&(l=i==="/"?a:Xo([a,i])),n.createHref({pathname:l,search:o,hash:r})}function Cp(){return g.useContext(sv)!=null}function bi(){return Ys(Cp(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(sv).location}var O7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function F7(t){g.useContext(yi).static||g.useLayoutEffect(t)}function Gs(){let{isDataRoute:t}=g.useContext(no);return t?yU():nU()}function nU(){Ys(Cp(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(_u),{basename:s,navigator:a}=g.useContext(yi),{matches:n}=g.useContext(no),{pathname:r}=bi(),i=JSON.stringify(ev(n)),o=g.useRef(!1);return F7(()=>{o.current=!0}),g.useCallback((c,m={})=>{if(cn(o.current,O7),!o.current)return;if(typeof c=="number"){a.go(c);return}let u=tv(c,JSON.parse(i),r,m.relative==="path");t==null&&s!=="/"&&(u.pathname=u.pathname==="/"?s:Xo([s,u.pathname])),(m.replace?a.replace:a.push)(u,m.state,m)},[s,a,i,r,t])}var rU=g.createContext(null);function iU(t){let s=g.useContext(no).outlet;return g.useMemo(()=>s&&g.createElement(rU.Provider,{value:t},s),[s,t])}function Jn(){let{matches:t}=g.useContext(no),s=t[t.length-1];return s?s.params:{}}function eg(t,{relative:s}={}){let{matches:a}=g.useContext(no),{pathname:n}=bi(),r=JSON.stringify(ev(a));return g.useMemo(()=>tv(t,JSON.parse(r),n,s==="path"),[t,r,n,s])}function oU(t,s,a,n,r){Ys(Cp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=g.useContext(yi),{matches:o}=g.useContext(no),l=o[o.length-1],c=l?l.params:{},m=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let w=h&&h.path||"";z7(m,!h||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=bi(),v;v=f;let _=v.pathname||"/",S=_;if(u!=="/"){let w=u.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=Rc(t,{pathname:S});return cn(h||j!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),cn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),mU(j&&j.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:Xo([u,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Xo([u,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,a,n,r)}function lU(){let t=gU(),s=dx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:i},"ErrorBoundary")," or"," ",g.createElement("code",{style:i},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},s),a?g.createElement("pre",{style:r},a):null,o)}var cU=g.createElement(lU,null),L7=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){this.props.onError?this.props.onError(t,s):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const a=sU(t.digest);a&&(t=a)}let s=t!==void 0?g.createElement(no.Provider,{value:this.props.routeContext},g.createElement(G_.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?g.createElement(dU,{error:t},s):s}};L7.contextType=R7;var U2=new WeakMap;function dU({children:t,error:s}){let{basename:a}=g.useContext(yi);if(typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){let n=tU(s.digest);if(n){let r=U2.get(s);if(r)throw r;let i=j7(n.location,a);if(v7&&!U2.get(s))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw U2.set(s,o),o}return g.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function uU({routeContext:t,match:s,children:a}){let n=g.useContext(_u);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),g.createElement(no.Provider,{value:t},a)}function mU(t,s=[],a=null,n=null,r=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(s.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let i=t,o=a?.errors;if(o!=null){let u=i.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);Ys(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(a)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:v}=a,_=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||_){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let m=a&&n?(u,h)=>{n(u,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:Xx(a.matches),errorInfo:h})}:void 0;return i.reduceRight((u,h,f)=>{let v,_=!1,S=null,j=null;a&&(v=o&&h.route.id?o[h.route.id]:void 0,S=h.route.errorElement||cU,l&&(c<0&&f===0?(z7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,j=null):c===f&&(_=!0,j=h.route.hydrateFallbackElement||null)));let b=s.concat(i.slice(0,f+1)),w=()=>{let C;return v?C=S:_?C=j:h.route.Component?C=g.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=u,g.createElement(uU,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:a!=null},children:C})};return a&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(L7,{location:a.location,revalidation:a.revalidation,component:S,error:v,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:m}):w()},null)}function K_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pU(t){let s=g.useContext(_u);return Ys(s,K_(t)),s}function hU(t){let s=g.useContext(Jx);return Ys(s,K_(t)),s}function fU(t){let s=g.useContext(no);return Ys(s,K_(t)),s}function Q_(t){let s=fU(t),a=s.matches[s.matches.length-1];return Ys(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function xU(){return Q_("useRouteId")}function gU(){let t=g.useContext(G_),s=hU("useRouteError"),a=Q_("useRouteError");return t!==void 0?t:s.errors?.[a]}function yU(){let{router:t}=pU("useNavigate"),s=Q_("useNavigate"),a=g.useRef(!1);return F7(()=>{a.current=!0}),g.useCallback(async(r,i={})=>{cn(a.current,O7),a.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:s,...i}))},[t,s])}var Vk={};function z7(t,s,a){!s&&!Vk[t]&&(Vk[t]=!0,cn(!1,a))}var Hk={};function Wk(t,s){!t&&!Hk[s]&&(Hk[s]=!0,console.warn(s))}var bU="useOptimistic",Yk=ox[bU],vU=()=>{};function jU(t){return Yk?Yk(t):[t,vU]}function NU(t){let s={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&cn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(s,{element:g.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&cn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(s,{hydrateFallbackElement:g.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&cn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(s,{errorElement:g.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),s}var wU=["HydrateFallback","hydrateFallbackElement"],_U=class{constructor(){this.status="pending",this.promise=new Promise((t,s)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",t(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",s(a))}})}};function SU({router:t,flushSync:s,onError:a,unstable_useTransitions:n}){n=ZB()||n;let[i,o]=g.useState(t.state),[l,c]=jU(i),[m,u]=g.useState(),[h,f]=g.useState({isTransitioning:!1}),[v,_]=g.useState(),[S,j]=g.useState(),[b,w]=g.useState(),C=g.useRef(new Map),P=g.useCallback((R,{deletedFetchers:z,newErrors:O,flushSync:$,viewTransitionOpts:A})=>{O&&a&&Object.values(O).forEach(K=>a(K,{location:R.location,params:R.matches[0]?.params??{},unstable_pattern:Xx(R.matches)})),R.fetchers.forEach((K,U)=>{K.data!==void 0&&C.current.set(U,K.data)}),z.forEach(K=>C.current.delete(K)),Wk($===!1||s!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Q=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Wk(A==null||Q,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!A||!Q){s&&$?s(()=>o(R)):n===!1?o(R):g.startTransition(()=>{n===!0&&c(K=>Gk(K,R)),o(R)});return}if(s&&$){s(()=>{S&&(v?.resolve(),S.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let K=t.window.document.startViewTransition(()=>{s(()=>o(R))});K.finished.finally(()=>{s(()=>{_(void 0),j(void 0),u(void 0),f({isTransitioning:!1})})}),s(()=>j(K));return}S?(v?.resolve(),S.skipTransition(),w({state:R,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(u(R),f({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[t.window,s,S,v,n,c,a]);g.useLayoutEffect(()=>t.subscribe(P),[t,P]),g.useEffect(()=>{h.isTransitioning&&!h.flushSync&&_(new _U)},[h]),g.useEffect(()=>{if(v&&m&&t.window){let R=m,z=v.promise,O=t.window.document.startViewTransition(async()=>{n===!1?o(R):g.startTransition(()=>{n===!0&&c($=>Gk($,R)),o(R)}),await z});O.finished.finally(()=>{_(void 0),j(void 0),u(void 0),f({isTransitioning:!1})}),j(O)}},[m,v,t.window,n,c]),g.useEffect(()=>{v&&m&&l.location.key===m.location.key&&v.resolve()},[v,S,l.location,m]),g.useEffect(()=>{!h.isTransitioning&&b&&(u(b.state),f({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),w(void 0))},[h.isTransitioning,b]);let E=g.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:R=>t.navigate(R),push:(R,z,O)=>t.navigate(R,{state:z,preventScrollReset:O?.preventScrollReset}),replace:(R,z,O)=>t.navigate(R,{replace:!0,state:z,preventScrollReset:O?.preventScrollReset})}),[t]),D=t.basename||"/",T=g.useMemo(()=>({router:t,navigator:E,static:!1,basename:D,onError:a}),[t,E,D,a]);return g.createElement(g.Fragment,null,g.createElement(_u.Provider,{value:T},g.createElement(Jx.Provider,{value:l},g.createElement(A7.Provider,{value:C.current},g.createElement(Y_.Provider,{value:h},g.createElement(TU,{basename:D,location:l.location,navigationType:l.historyAction,navigator:E,unstable_useTransitions:n},g.createElement(CU,{routes:t.routes,future:t.future,state:l,onError:a})))))),null)}function Gk(t,s){return{...t,navigation:s.navigation.state!=="idle"?s.navigation:t.navigation,revalidation:s.revalidation!=="idle"?s.revalidation:t.revalidation,actionData:s.navigation.state!=="submitting"?s.actionData:t.actionData,fetchers:s.fetchers}}var CU=g.memo(kU);function kU({routes:t,future:s,state:a,onError:n}){return oU(t,void 0,a,n,s)}function PU({to:t,replace:s,state:a,relative:n}){Ys(Cp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=g.useContext(yi);cn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=g.useContext(no),{pathname:o}=bi(),l=Gs(),c=tv(t,ev(i),o,n==="path"),m=JSON.stringify(c);return g.useEffect(()=>{l(JSON.parse(m),{replace:s,state:a,relative:n})},[l,m,n,s,a]),null}function EU(t){return iU(t.context)}function TU({basename:t="/",children:s=null,location:a,navigationType:n="POP",navigator:r,static:i=!1,unstable_useTransitions:o}){Ys(!Cp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:r,static:i,unstable_useTransitions:o,future:{}}),[l,r,i,o]);typeof a=="string"&&(a=nd(a));let{pathname:m="/",search:u="",hash:h="",state:f=null,key:v="default"}=a,_=g.useMemo(()=>{let S=Ji(m,l);return S==null?null:{location:{pathname:S,search:u,hash:h,state:f,key:v},navigationType:n}},[l,m,u,h,f,v,n]);return cn(_!=null,`<Router basename="${l}"> is not able to match the URL "${m}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:g.createElement(yi.Provider,{value:c},g.createElement(sv.Provider,{children:s,value:_}))}var Ly="get",zy="application/x-www-form-urlencoded";function av(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function MU(t){return av(t)&&t.tagName.toLowerCase()==="button"}function DU(t){return av(t)&&t.tagName.toLowerCase()==="form"}function RU(t){return av(t)&&t.tagName.toLowerCase()==="input"}function AU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IU(t,s){return t.button===0&&(!s||s==="_self")&&!AU(t)}var G0=null;function OU(){if(G0===null)try{new FormData(document.createElement("form"),0),G0=!1}catch{G0=!0}return G0}var FU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function V2(t){return t!=null&&!FU.has(t)?(cn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zy}"`),null):t}function LU(t,s){let a,n,r,i,o;if(DU(t)){let l=t.getAttribute("action");n=l?Ji(l,s):null,a=t.getAttribute("method")||Ly,r=V2(t.getAttribute("enctype"))||zy,i=new FormData(t)}else if(MU(t)||RU(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?Ji(c,s):null,a=t.getAttribute("formmethod")||l.getAttribute("method")||Ly,r=V2(t.getAttribute("formenctype"))||V2(l.getAttribute("enctype"))||zy,i=new FormData(l,t),!OU()){let{name:m,type:u,value:h}=t;if(u==="image"){let f=m?`${m}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else m&&i.append(m,h)}}else{if(av(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Ly,n=null,r=zy,o=t}return i&&r==="text/plain"&&(o=i,i=void 0),{action:n,method:a.toLowerCase(),encType:r,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Z_(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function zU(t,s,a){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${a}`:s&&Ji(n.pathname,s)==="/"?n.pathname=`${s.replace(/\/$/,"")}/_root.${a}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${a}`,n}async function $U(t,s){if(t.id in s)return s[t.id];try{let a=await import(t.module);return s[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function BU(t,s,a){let n=await Promise.all(t.map(async r=>{let i=s.routes[r.route.id];if(i){let o=await $U(i,a);return o.links?o.links():[]}return[]}));return WU(n.flat(1).filter(qU).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Kk(t,s,a,n,r,i){let o=(c,m)=>a[m]?c.route.id!==a[m].route.id:!0,l=(c,m)=>a[m].pathname!==c.pathname||a[m].route.path?.endsWith("*")&&a[m].params["*"]!==c.params["*"];return i==="assets"?s.filter((c,m)=>o(c,m)||l(c,m)):i==="data"?s.filter((c,m)=>{let u=n.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,m)||l(c,m))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function UU(t,s,{includeHydrateFallback:a}={}){return VU(t.map(n=>{let r=s.routes[n.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),a&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function VU(t){return[...new Set(t)]}function HU(t){let s={},a=Object.keys(t).sort();for(let n of a)s[n]=t[n];return s}function WU(t,s){let a=new Set;return new Set(s),t.reduce((n,r)=>{let i=JSON.stringify(HU(r));return a.has(i)||(a.add(i),n.push({key:i,link:r})),n},[])}function $7(){let t=g.useContext(_u);return Z_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function YU(){let t=g.useContext(Jx);return Z_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var X_=g.createContext(void 0);X_.displayName="FrameworkContext";function q7(){let t=g.useContext(X_);return Z_(t,"You must render this element inside a <HydratedRouter> element"),t}function GU(t,s){let a=g.useContext(X_),[n,r]=g.useState(!1),[i,o]=g.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:m,onMouseLeave:u,onTouchStart:h}=s,f=g.useRef(null);g.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=b=>{b.forEach(w=>{o(w.isIntersecting)})},j=new IntersectionObserver(S,{threshold:.5});return f.current&&j.observe(f.current),()=>{j.disconnect()}}},[t]),g.useEffect(()=>{if(n){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[n]);let v=()=>{r(!0)},_=()=>{r(!1),o(!1)};return a?t!=="intent"?[i,f,{}]:[i,f,{onFocus:Ih(l,v),onBlur:Ih(c,_),onMouseEnter:Ih(m,v),onMouseLeave:Ih(u,_),onTouchStart:Ih(h,v)}]:[!1,f,{}]}function Ih(t,s){return a=>{t&&t(a),a.defaultPrevented||s(a)}}function KU({page:t,...s}){let{router:a}=$7(),n=g.useMemo(()=>Rc(a.routes,t,a.basename),[a.routes,t,a.basename]);return n?g.createElement(ZU,{page:t,matches:n,...s}):null}function QU(t){let{manifest:s,routeModules:a}=q7(),[n,r]=g.useState([]);return g.useEffect(()=>{let i=!1;return BU(t,s,a).then(o=>{i||r(o)}),()=>{i=!0}},[t,s,a]),n}function ZU({page:t,matches:s,...a}){let n=bi(),{manifest:r,routeModules:i}=q7(),{basename:o}=$7(),{loaderData:l,matches:c}=YU(),m=g.useMemo(()=>Kk(t,s,c,r,n,"data"),[t,s,c,r,n]),u=g.useMemo(()=>Kk(t,s,c,r,n,"assets"),[t,s,c,r,n]),h=g.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let _=new Set,S=!1;if(s.forEach(b=>{let w=r.routes[b.route.id];!w||!w.hasLoader||(!m.some(C=>C.route.id===b.route.id)&&b.route.id in l&&i[b.route.id]?.shouldRevalidate||w.hasClientLoader?S=!0:_.add(b.route.id))}),_.size===0)return[];let j=zU(t,o,"data");return S&&_.size>0&&j.searchParams.set("_routes",s.filter(b=>_.has(b.route.id)).map(b=>b.route.id).join(",")),[j.pathname+j.search]},[o,l,n,r,m,s,t,i]),f=g.useMemo(()=>UU(u,r),[u,r]),v=QU(u);return g.createElement(g.Fragment,null,h.map(_=>g.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...a})),f.map(_=>g.createElement("link",{key:_,rel:"modulepreload",href:_,...a})),v.map(({key:_,link:S})=>g.createElement("link",{key:_,nonce:a.nonce,...S})))}function XU(...t){return s=>{t.forEach(a=>{typeof a=="function"?a(s):a!=null&&(a.current=s)})}}var JU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JU&&(window.__reactRouterVersion="7.11.0")}catch{}function eV(t,s){return CB({basename:s?.basename,getContext:s?.getContext,future:s?.future,history:Bq({window:s?.window}),hydrationData:s?.hydrationData||tV(),routes:t,mapRouteProperties:NU,hydrationRouteProperties:wU,dataStrategy:s?.dataStrategy,patchRoutesOnNavigation:s?.patchRoutesOnNavigation,window:s?.window,unstable_instrumentations:s?.unstable_instrumentations}).initialize()}function tV(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:sV(t.errors)}),t}function sV(t){if(!t)return null;let s=Object.entries(t),a={};for(let[n,r]of s)if(r&&r.__type==="RouteErrorResponse")a[n]=new Zx(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let i=window[r.__subType];if(typeof i=="function")try{let o=new i(r.message);o.stack="",a[n]=o}catch{}}if(a[n]==null){let i=new Error(r.message);i.stack="",a[n]=i}}else a[n]=r;return a}var B7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ux=g.forwardRef(function({onClick:s,discover:a="render",prefetch:n="none",relative:r,reloadDocument:i,replace:o,state:l,target:c,to:m,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:f,...v},_){let{basename:S,unstable_useTransitions:j}=g.useContext(yi),b=typeof m=="string"&&B7.test(m),w=j7(m,S);m=w.to;let C=aU(m,{relative:r}),[P,E,D]=GU(n,v),T=iV(m,{replace:o,state:l,target:c,preventScrollReset:u,relative:r,viewTransition:h,unstable_defaultShouldRevalidate:f,unstable_useTransitions:j});function R(O){s&&s(O),O.defaultPrevented||T(O)}let z=g.createElement("a",{...v,...D,href:w.absoluteURL||C,onClick:w.isExternal||i?s:R,ref:XU(_,E),target:c,"data-discover":!b&&a==="render"?"true":void 0});return P&&!b?g.createElement(g.Fragment,null,z,g.createElement(KU,{page:C})):z});ux.displayName="Link";var aV=g.forwardRef(function({"aria-current":s="page",caseSensitive:a=!1,className:n="",end:r=!1,style:i,to:o,viewTransition:l,children:c,...m},u){let h=eg(o,{relative:m.relative}),f=bi(),v=g.useContext(Jx),{navigator:_,basename:S}=g.useContext(yi),j=v!=null&&uV(h)&&l===!0,b=_.encodeLocation?_.encodeLocation(h).pathname:h.pathname,w=f.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(w=w.toLowerCase(),C=C?C.toLowerCase():null,b=b.toLowerCase()),C&&S&&(C=Ji(C,S)||C);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let E=w===b||!r&&w.startsWith(b)&&w.charAt(P)==="/",D=C!=null&&(C===b||!r&&C.startsWith(b)&&C.charAt(b.length)==="/"),T={isActive:E,isPending:D,isTransitioning:j},R=E?s:void 0,z;typeof n=="function"?z=n(T):z=[n,E?"active":null,D?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let O=typeof i=="function"?i(T):i;return g.createElement(ux,{...m,"aria-current":R,className:z,ref:u,style:O,to:o,viewTransition:l},typeof c=="function"?c(T):c)});aV.displayName="NavLink";var nV=g.forwardRef(({discover:t="render",fetcherKey:s,navigate:a,reloadDocument:n,replace:r,state:i,method:o=Ly,action:l,onSubmit:c,relative:m,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:f,...v},_)=>{let{unstable_useTransitions:S}=g.useContext(yi),j=cV(),b=dV(l,{relative:m}),w=o.toLowerCase()==="get"?"get":"post",C=typeof l=="string"&&B7.test(l),P=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let D=E.nativeEvent.submitter,T=D?.getAttribute("formmethod")||o,R=()=>j(D||E.currentTarget,{fetcherKey:s,method:T,navigate:a,replace:r,state:i,relative:m,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:f});S&&a!==!1?g.startTransition(()=>R()):R()};return g.createElement("form",{ref:_,method:w,action:b,onSubmit:n?c:P,...v,"data-discover":!C&&t==="render"?"true":void 0})});nV.displayName="Form";function rV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U7(t){let s=g.useContext(_u);return Ys(s,rV(t)),s}function iV(t,{target:s,replace:a,state:n,preventScrollReset:r,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let m=Gs(),u=bi(),h=eg(t,{relative:i});return g.useCallback(f=>{if(IU(f,s)){f.preventDefault();let v=a!==void 0?a:nl(u)===nl(h),_=()=>m(t,{replace:v,state:n,preventScrollReset:r,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l});c?g.startTransition(()=>_()):_()}},[u,m,h,a,n,s,t,r,i,o,l,c])}var oV=0,lV=()=>`__${String(++oV)}__`;function cV(){let{router:t}=U7("useSubmit"),{basename:s}=g.useContext(yi),a=xU(),n=t.fetch,r=t.navigate;return g.useCallback(async(i,o={})=>{let{action:l,method:c,encType:m,formData:u,body:h}=LU(i,s);if(o.navigate===!1){let f=o.fetcherKey||lV();await n(f,a,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:u,body:h,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await r(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:u,body:h,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:a,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,r,s,a])}function dV(t,{relative:s}={}){let{basename:a}=g.useContext(yi),n=g.useContext(no);Ys(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),i={...eg(t||".",{relative:s})},o=bi();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let u=l.toString();i.search=u?`?${u}`:""}}return(!t||t===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(i.pathname=i.pathname==="/"?a:Xo([a,i.pathname])),nl(i)}function uV(t,{relative:s}={}){let a=g.useContext(Y_);Ys(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=U7("useViewTransitionState"),r=eg(t,{relative:s});if(!a.isTransitioning)return!1;let i=Ji(a.currentLocation.pathname,n)||a.currentLocation.pathname,o=Ji(a.nextLocation.pathname,n)||a.nextLocation.pathname;return pb(r.pathname,o)!=null||pb(r.pathname,i)!=null}var tg=p7();const of=ao(tg);function mV(t){return g.createElement(SU,{flushSync:tg.flushSync,...t})}class pV{TOKEN_KEY="dcc_sfa_token";USER_KEY="dcc_sfa_user";EXPIRES_KEY="dcc_sfa_expires";setToken(s,a,n){try{if(localStorage.setItem(this.TOKEN_KEY,s),localStorage.setItem(this.USER_KEY,JSON.stringify(a)),n){const r=Date.now()+n*1e3;localStorage.setItem(this.EXPIRES_KEY,r.toString())}window.dispatchEvent(new Event("auth-change"))}catch(r){throw console.error("Failed to store token:",r),new Error("Token storage failed")}}getToken(){try{const s=localStorage.getItem(this.TOKEN_KEY);return s?this.isTokenExpired()?(this.clearAuth(),null):s:null}catch(s){return console.error("Failed to retrieve token:",s),null}}getUser(){try{const s=localStorage.getItem(this.USER_KEY);return s?JSON.parse(s):null}catch(s){return console.error("Failed to retrieve user data:",s),null}}isTokenExpired(){try{const s=localStorage.getItem(this.EXPIRES_KEY);if(!s)return!1;const a=parseInt(s);return Date.now()>=a}catch(s){return console.error("Failed to check token expiration:",s),!0}}isAuthenticated(){const s=this.getToken(),a=this.getUser();return!!(s&&a&&!this.isTokenExpired())}clearAuth(){try{localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_KEY),localStorage.removeItem(this.EXPIRES_KEY),window.dispatchEvent(new Event("auth-change"))}catch(s){console.error("Failed to clear auth data:",s)}}}const Yi=new pV,hV=({children:t})=>{const s=bi();return Yi.isAuthenticated()?e.jsx(e.Fragment,{children:t}):e.jsx(PU,{to:"/login",state:{from:s},replace:!0})},mx={black:"#000",white:"#fff"},pm={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},hm={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},fm={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},xm={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},gm={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Oh={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},fV={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Zl(t,...s){const a=new URL(`https://mui.com/production-error/?code=${t}`);return s.forEach(n=>a.searchParams.append("args[]",n)),`Minified MUI error #${t}; visit ${a} for the full message.`}const Gi="$$material";function be(){return be=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var n in a)({}).hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},be.apply(null,arguments)}function xV(t){if(t.sheet)return t.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===t)return document.styleSheets[s]}function gV(t){var s=document.createElement("style");return s.setAttribute("data-emotion",t.key),t.nonce!==void 0&&s.setAttribute("nonce",t.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var yV=(function(){function t(a){var n=this;this._insertTag=function(r){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(r,i),n.tags.push(r)},this.isSpeedy=a.speedy===void 0?!0:a.speedy,this.tags=[],this.ctr=0,this.nonce=a.nonce,this.key=a.key,this.container=a.container,this.prepend=a.prepend,this.insertionPoint=a.insertionPoint,this.before=null}var s=t.prototype;return s.hydrate=function(n){n.forEach(this._insertTag)},s.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(gV(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=xV(r);try{i.insertRule(n,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},s.flush=function(){this.tags.forEach(function(n){var r;return(r=n.parentNode)==null?void 0:r.removeChild(n)}),this.tags=[],this.ctr=0},t})(),ar="-ms-",hb="-moz-",ga="-webkit-",V7="comm",J_="rule",e4="decl",bV="@import",H7="@keyframes",vV="@layer",jV=Math.abs,nv=String.fromCharCode,NV=Object.assign;function wV(t,s){return Kn(t,0)^45?(((s<<2^Kn(t,0))<<2^Kn(t,1))<<2^Kn(t,2))<<2^Kn(t,3):0}function W7(t){return t.trim()}function _V(t,s){return(t=s.exec(t))?t[0]:t}function ya(t,s,a){return t.replace(s,a)}function mw(t,s){return t.indexOf(s)}function Kn(t,s){return t.charCodeAt(s)|0}function px(t,s,a){return t.slice(s,a)}function Lo(t){return t.length}function t4(t){return t.length}function K0(t,s){return s.push(t),t}function SV(t,s){return t.map(s).join("")}var rv=1,ap=1,Y7=0,Vr=0,_n=0,kp="";function iv(t,s,a,n,r,i,o){return{value:t,root:s,parent:a,type:n,props:r,children:i,line:rv,column:ap,length:o,return:""}}function Fh(t,s){return NV(iv("",null,null,"",null,null,0),t,{length:-t.length},s)}function CV(){return _n}function kV(){return _n=Vr>0?Kn(kp,--Vr):0,ap--,_n===10&&(ap=1,rv--),_n}function pi(){return _n=Vr<Y7?Kn(kp,Vr++):0,ap++,_n===10&&(ap=1,rv++),_n}function Jo(){return Kn(kp,Vr)}function $y(){return Vr}function sg(t,s){return px(kp,t,s)}function hx(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function G7(t){return rv=ap=1,Y7=Lo(kp=t),Vr=0,[]}function K7(t){return kp="",t}function qy(t){return W7(sg(Vr-1,pw(t===91?t+2:t===40?t+1:t)))}function PV(t){for(;(_n=Jo())&&_n<33;)pi();return hx(t)>2||hx(_n)>3?"":" "}function EV(t,s){for(;--s&&pi()&&!(_n<48||_n>102||_n>57&&_n<65||_n>70&&_n<97););return sg(t,$y()+(s<6&&Jo()==32&&pi()==32))}function pw(t){for(;pi();)switch(_n){case t:return Vr;case 34:case 39:t!==34&&t!==39&&pw(_n);break;case 40:t===41&&pw(t);break;case 92:pi();break}return Vr}function TV(t,s){for(;pi()&&t+_n!==57;)if(t+_n===84&&Jo()===47)break;return"/*"+sg(s,Vr-1)+"*"+nv(t===47?t:pi())}function MV(t){for(;!hx(Jo());)pi();return sg(t,Vr)}function DV(t){return K7(By("",null,null,null,[""],t=G7(t),0,[0],t))}function By(t,s,a,n,r,i,o,l,c){for(var m=0,u=0,h=o,f=0,v=0,_=0,S=1,j=1,b=1,w=0,C="",P=r,E=i,D=n,T=C;j;)switch(_=w,w=pi()){case 40:if(_!=108&&Kn(T,h-1)==58){mw(T+=ya(qy(w),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:T+=qy(w);break;case 9:case 10:case 13:case 32:T+=PV(_);break;case 92:T+=EV($y()-1,7);continue;case 47:switch(Jo()){case 42:case 47:K0(RV(TV(pi(),$y()),s,a),c);break;default:T+="/"}break;case 123*S:l[m++]=Lo(T)*b;case 125*S:case 59:case 0:switch(w){case 0:case 125:j=0;case 59+u:b==-1&&(T=ya(T,/\f/g,"")),v>0&&Lo(T)-h&&K0(v>32?Zk(T+";",n,a,h-1):Zk(ya(T," ","")+";",n,a,h-2),c);break;case 59:T+=";";default:if(K0(D=Qk(T,s,a,m,u,r,l,C,P=[],E=[],h),i),w===123)if(u===0)By(T,s,D,D,P,i,h,l,E);else switch(f===99&&Kn(T,3)===110?100:f){case 100:case 108:case 109:case 115:By(t,D,D,n&&K0(Qk(t,D,D,0,0,r,l,C,r,P=[],h),E),r,E,h,l,n?P:E);break;default:By(T,D,D,D,[""],E,0,l,E)}}m=u=v=0,S=b=1,C=T="",h=o;break;case 58:h=1+Lo(T),v=_;default:if(S<1){if(w==123)--S;else if(w==125&&S++==0&&kV()==125)continue}switch(T+=nv(w),w*S){case 38:b=u>0?1:(T+="\f",-1);break;case 44:l[m++]=(Lo(T)-1)*b,b=1;break;case 64:Jo()===45&&(T+=qy(pi())),f=Jo(),u=h=Lo(C=T+=MV($y())),w++;break;case 45:_===45&&Lo(T)==2&&(S=0)}}return i}function Qk(t,s,a,n,r,i,o,l,c,m,u){for(var h=r-1,f=r===0?i:[""],v=t4(f),_=0,S=0,j=0;_<n;++_)for(var b=0,w=px(t,h+1,h=jV(S=o[_])),C=t;b<v;++b)(C=W7(S>0?f[b]+" "+w:ya(w,/&\f/g,f[b])))&&(c[j++]=C);return iv(t,s,a,r===0?J_:l,c,m,u)}function RV(t,s,a){return iv(t,s,a,V7,nv(CV()),px(t,2,-2),0)}function Zk(t,s,a,n){return iv(t,s,a,e4,px(t,0,n),px(t,n+1,-1),n)}function Qm(t,s){for(var a="",n=t4(t),r=0;r<n;r++)a+=s(t[r],r,t,s)||"";return a}function AV(t,s,a,n){switch(t.type){case vV:if(t.children.length)break;case bV:case e4:return t.return=t.return||t.value;case V7:return"";case H7:return t.return=t.value+"{"+Qm(t.children,n)+"}";case J_:t.value=t.props.join(",")}return Lo(a=Qm(t.children,n))?t.return=t.value+"{"+a+"}":""}function IV(t){var s=t4(t);return function(a,n,r,i){for(var o="",l=0;l<s;l++)o+=t[l](a,n,r,i)||"";return o}}function OV(t){return function(s){s.root||(s=s.return)&&t(s)}}function Q7(t){var s=Object.create(null);return function(a){return s[a]===void 0&&(s[a]=t(a)),s[a]}}var FV=function(s,a,n){for(var r=0,i=0;r=i,i=Jo(),r===38&&i===12&&(a[n]=1),!hx(i);)pi();return sg(s,Vr)},LV=function(s,a){var n=-1,r=44;do switch(hx(r)){case 0:r===38&&Jo()===12&&(a[n]=1),s[n]+=FV(Vr-1,a,n);break;case 2:s[n]+=qy(r);break;case 4:if(r===44){s[++n]=Jo()===58?"&\f":"",a[n]=s[n].length;break}default:s[n]+=nv(r)}while(r=pi());return s},zV=function(s,a){return K7(LV(G7(s),a))},Xk=new WeakMap,$V=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var a=s.value,n=s.parent,r=s.column===n.column&&s.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(s.props.length===1&&a.charCodeAt(0)!==58&&!Xk.get(n))&&!r){Xk.set(s,!0);for(var i=[],o=zV(a,i),l=n.props,c=0,m=0;c<o.length;c++)for(var u=0;u<l.length;u++,m++)s.props[m]=i[c]?o[c].replace(/&\f/g,l[u]):l[u]+" "+o[c]}}},qV=function(s){if(s.type==="decl"){var a=s.value;a.charCodeAt(0)===108&&a.charCodeAt(2)===98&&(s.return="",s.value="")}};function Z7(t,s){switch(wV(t,s)){case 5103:return ga+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ga+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ga+t+hb+t+ar+t+t;case 6828:case 4268:return ga+t+ar+t+t;case 6165:return ga+t+ar+"flex-"+t+t;case 5187:return ga+t+ya(t,/(\w+).+(:[^]+)/,ga+"box-$1$2"+ar+"flex-$1$2")+t;case 5443:return ga+t+ar+"flex-item-"+ya(t,/flex-|-self/,"")+t;case 4675:return ga+t+ar+"flex-line-pack"+ya(t,/align-content|flex-|-self/,"")+t;case 5548:return ga+t+ar+ya(t,"shrink","negative")+t;case 5292:return ga+t+ar+ya(t,"basis","preferred-size")+t;case 6060:return ga+"box-"+ya(t,"-grow","")+ga+t+ar+ya(t,"grow","positive")+t;case 4554:return ga+ya(t,/([^-])(transform)/g,"$1"+ga+"$2")+t;case 6187:return ya(ya(ya(t,/(zoom-|grab)/,ga+"$1"),/(image-set)/,ga+"$1"),t,"")+t;case 5495:case 3959:return ya(t,/(image-set\([^]*)/,ga+"$1$`$1");case 4968:return ya(ya(t,/(.+:)(flex-)?(.*)/,ga+"box-pack:$3"+ar+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ga+t+t;case 4095:case 3583:case 4068:case 2532:return ya(t,/(.+)-inline(.+)/,ga+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Lo(t)-1-s>6)switch(Kn(t,s+1)){case 109:if(Kn(t,s+4)!==45)break;case 102:return ya(t,/(.+:)(.+)-([^]+)/,"$1"+ga+"$2-$3$1"+hb+(Kn(t,s+3)==108?"$3":"$2-$3"))+t;case 115:return~mw(t,"stretch")?Z7(ya(t,"stretch","fill-available"),s)+t:t}break;case 4949:if(Kn(t,s+1)!==115)break;case 6444:switch(Kn(t,Lo(t)-3-(~mw(t,"!important")&&10))){case 107:return ya(t,":",":"+ga)+t;case 101:return ya(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ga+(Kn(t,14)===45?"inline-":"")+"box$3$1"+ga+"$2$3$1"+ar+"$2box$3")+t}break;case 5936:switch(Kn(t,s+11)){case 114:return ga+t+ar+ya(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ga+t+ar+ya(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ga+t+ar+ya(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ga+t+ar+t+t}return t}var BV=function(s,a,n,r){if(s.length>-1&&!s.return)switch(s.type){case e4:s.return=Z7(s.value,s.length);break;case H7:return Qm([Fh(s,{value:ya(s.value,"@","@"+ga)})],r);case J_:if(s.length)return SV(s.props,function(i){switch(_V(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qm([Fh(s,{props:[ya(i,/:(read-\w+)/,":"+hb+"$1")]})],r);case"::placeholder":return Qm([Fh(s,{props:[ya(i,/:(plac\w+)/,":"+ga+"input-$1")]}),Fh(s,{props:[ya(i,/:(plac\w+)/,":"+hb+"$1")]}),Fh(s,{props:[ya(i,/:(plac\w+)/,ar+"input-$1")]})],r)}return""})}},UV=[BV],VV=function(s){var a=s.key;if(a==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(S){var j=S.getAttribute("data-emotion");j.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var r=s.stylisPlugins||UV,i={},o,l=[];o=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+a+' "]'),function(S){for(var j=S.getAttribute("data-emotion").split(" "),b=1;b<j.length;b++)i[j[b]]=!0;l.push(S)});var c,m=[$V,qV];{var u,h=[AV,OV(function(S){u.insert(S)})],f=IV(m.concat(r,h)),v=function(j){return Qm(DV(j),f)};c=function(j,b,w,C){u=w,v(j?j+"{"+b.styles+"}":b.styles),C&&(_.inserted[b.name]=!0)}}var _={key:a,sheet:new yV({key:a,container:o,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:i,registered:{},insert:c};return _.sheet.hydrate(l),_},H2={exports:{}},ba={};var Jk;function HV(){if(Jk)return ba;Jk=1;var t=typeof Symbol=="function"&&Symbol.for,s=t?Symbol.for("react.element"):60103,a=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,r=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,u=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,f=t?Symbol.for("react.suspense_list"):60120,v=t?Symbol.for("react.memo"):60115,_=t?Symbol.for("react.lazy"):60116,S=t?Symbol.for("react.block"):60121,j=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,w=t?Symbol.for("react.scope"):60119;function C(E){if(typeof E=="object"&&E!==null){var D=E.$$typeof;switch(D){case s:switch(E=E.type,E){case c:case m:case n:case i:case r:case h:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case _:case v:case o:return E;default:return D}}case a:return D}}}function P(E){return C(E)===m}return ba.AsyncMode=c,ba.ConcurrentMode=m,ba.ContextConsumer=l,ba.ContextProvider=o,ba.Element=s,ba.ForwardRef=u,ba.Fragment=n,ba.Lazy=_,ba.Memo=v,ba.Portal=a,ba.Profiler=i,ba.StrictMode=r,ba.Suspense=h,ba.isAsyncMode=function(E){return P(E)||C(E)===c},ba.isConcurrentMode=P,ba.isContextConsumer=function(E){return C(E)===l},ba.isContextProvider=function(E){return C(E)===o},ba.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===s},ba.isForwardRef=function(E){return C(E)===u},ba.isFragment=function(E){return C(E)===n},ba.isLazy=function(E){return C(E)===_},ba.isMemo=function(E){return C(E)===v},ba.isPortal=function(E){return C(E)===a},ba.isProfiler=function(E){return C(E)===i},ba.isStrictMode=function(E){return C(E)===r},ba.isSuspense=function(E){return C(E)===h},ba.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===m||E===i||E===r||E===h||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===_||E.$$typeof===v||E.$$typeof===o||E.$$typeof===l||E.$$typeof===u||E.$$typeof===j||E.$$typeof===b||E.$$typeof===w||E.$$typeof===S)},ba.typeOf=C,ba}var eP;function WV(){return eP||(eP=1,H2.exports=HV()),H2.exports}var W2,tP;function YV(){if(tP)return W2;tP=1;var t=WV(),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=n,i[t.Memo]=r;function o(_){return t.isMemo(_)?r:i[_.$$typeof]||s}var l=Object.defineProperty,c=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;function v(_,S,j){if(typeof S!="string"){if(f){var b=h(S);b&&b!==f&&v(_,b,j)}var w=c(S);m&&(w=w.concat(m(S)));for(var C=o(_),P=o(S),E=0;E<w.length;++E){var D=w[E];if(!a[D]&&!(j&&j[D])&&!(P&&P[D])&&!(C&&C[D])){var T=u(S,D);try{l(_,D,T)}catch{}}}}return _}return W2=v,W2}YV();var GV=!0;function X7(t,s,a){var n="";return a.split(" ").forEach(function(r){t[r]!==void 0?s.push(t[r]+";"):r&&(n+=r+" ")}),n}var s4=function(s,a,n){var r=s.key+"-"+a.name;(n===!1||GV===!1)&&s.registered[r]===void 0&&(s.registered[r]=a.styles)},a4=function(s,a,n){s4(s,a,n);var r=s.key+"-"+a.name;if(s.inserted[a.name]===void 0){var i=a;do s.insert(a===i?"."+r:"",i,s.sheet,!0),i=i.next;while(i!==void 0)}};function KV(t){for(var s=0,a,n=0,r=t.length;r>=4;++n,r-=4)a=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,s=(a&65535)*1540483477+((a>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(r){case 3:s^=(t.charCodeAt(n+2)&255)<<16;case 2:s^=(t.charCodeAt(n+1)&255)<<8;case 1:s^=t.charCodeAt(n)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var QV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ZV=/[A-Z]|^ms/g,XV=/_EMO_([^_]+?)_([^]*?)_EMO_/g,J7=function(s){return s.charCodeAt(1)===45},sP=function(s){return s!=null&&typeof s!="boolean"},Y2=Q7(function(t){return J7(t)?t:t.replace(ZV,"-$&").toLowerCase()}),aP=function(s,a){switch(s){case"animation":case"animationName":if(typeof a=="string")return a.replace(XV,function(n,r,i){return zo={name:r,styles:i,next:zo},r})}return QV[s]!==1&&!J7(s)&&typeof a=="number"&&a!==0?a+"px":a};function fx(t,s,a){if(a==null)return"";var n=a;if(n.__emotion_styles!==void 0)return n;switch(typeof a){case"boolean":return"";case"object":{var r=a;if(r.anim===1)return zo={name:r.name,styles:r.styles,next:zo},r.name;var i=a;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)zo={name:o.name,styles:o.styles,next:zo},o=o.next;var l=i.styles+";";return l}return JV(t,s,a)}case"function":{if(t!==void 0){var c=zo,m=a(t);return zo=c,fx(t,s,m)}break}}var u=a;if(s==null)return u;var h=s[u];return h!==void 0?h:u}function JV(t,s,a){var n="";if(Array.isArray(a))for(var r=0;r<a.length;r++)n+=fx(t,s,a[r])+";";else for(var i in a){var o=a[i];if(typeof o!="object"){var l=o;s!=null&&s[l]!==void 0?n+=i+"{"+s[l]+"}":sP(l)&&(n+=Y2(i)+":"+aP(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(s==null||s[o[0]]===void 0))for(var c=0;c<o.length;c++)sP(o[c])&&(n+=Y2(i)+":"+aP(i,o[c])+";");else{var m=fx(t,s,o);switch(i){case"animation":case"animationName":{n+=Y2(i)+":"+m+";";break}default:n+=i+"{"+m+"}"}}}return n}var nP=/label:\s*([^\s;{]+)\s*(;|$)/g,zo;function ag(t,s,a){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,r="";zo=void 0;var i=t[0];if(i==null||i.raw===void 0)n=!1,r+=fx(a,s,i);else{var o=i;r+=o[0]}for(var l=1;l<t.length;l++)if(r+=fx(a,s,t[l]),n){var c=i;r+=c[l]}nP.lastIndex=0;for(var m="",u;(u=nP.exec(r))!==null;)m+="-"+u[1];var h=KV(r)+m;return{name:h,styles:r,next:zo}}var eH=function(s){return s()},e9=ox.useInsertionEffect?ox.useInsertionEffect:!1,t9=e9||eH,rP=e9||g.useLayoutEffect,s9=g.createContext(typeof HTMLElement<"u"?VV({key:"css"}):null);s9.Provider;var n4=function(s){return g.forwardRef(function(a,n){var r=g.useContext(s9);return s(a,r,n)})},ng=g.createContext({}),r4={}.hasOwnProperty,hw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",tH=function(s,a){var n={};for(var r in a)r4.call(a,r)&&(n[r]=a[r]);return n[hw]=s,n},sH=function(s){var a=s.cache,n=s.serialized,r=s.isStringTag;return s4(a,n,r),t9(function(){return a4(a,n,r)}),null},aH=n4(function(t,s,a){var n=t.css;typeof n=="string"&&s.registered[n]!==void 0&&(n=s.registered[n]);var r=t[hw],i=[n],o="";typeof t.className=="string"?o=X7(s.registered,i,t.className):t.className!=null&&(o=t.className+" ");var l=ag(i,void 0,g.useContext(ng));o+=s.key+"-"+l.name;var c={};for(var m in t)r4.call(t,m)&&m!=="css"&&m!==hw&&(c[m]=t[m]);return c.className=o,a&&(c.ref=a),g.createElement(g.Fragment,null,g.createElement(sH,{cache:s,serialized:l,isStringTag:typeof r=="string"}),g.createElement(r,c))}),nH=aH,iP=function(s,a){var n=arguments;if(a==null||!r4.call(a,"css"))return g.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=nH,i[1]=tH(s,a);for(var o=2;o<r;o++)i[o]=n[o];return g.createElement.apply(null,i)};(function(t){var s;s||(s=t.JSX||(t.JSX={}))})(iP||(iP={}));var rH=n4(function(t,s){var a=t.styles,n=ag([a],void 0,g.useContext(ng)),r=g.useRef();return rP(function(){var i=s.key+"-global",o=new s.sheet.constructor({key:i,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+i+" "+n.name+'"]');return s.sheet.tags.length&&(o.before=s.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",i),o.hydrate([c])),r.current=[o,l],function(){o.flush()}},[s]),rP(function(){var i=r.current,o=i[0],l=i[1];if(l){i[1]=!1;return}if(n.next!==void 0&&a4(s,n.next,!0),o.tags.length){var c=o.tags[o.tags.length-1].nextElementSibling;o.before=c,o.flush()}s.insert("",n,o,!1)},[s,n.name]),null});function rd(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return ag(s)}function ol(){var t=rd.apply(void 0,arguments),s="animation-"+t.name;return{name:s,styles:"@keyframes "+s+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var iH=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oH=Q7(function(t){return iH.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),lH=oH,cH=function(s){return s!=="theme"},oP=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?lH:cH},lP=function(s,a,n){var r;if(a){var i=a.shouldForwardProp;r=s.__emotion_forwardProp&&i?function(o){return s.__emotion_forwardProp(o)&&i(o)}:i}return typeof r!="function"&&n&&(r=s.__emotion_forwardProp),r},dH=function(s){var a=s.cache,n=s.serialized,r=s.isStringTag;return s4(a,n,r),t9(function(){return a4(a,n,r)}),null},uH=function t(s,a){var n=s.__emotion_real===s,r=n&&s.__emotion_base||s,i,o;a!==void 0&&(i=a.label,o=a.target);var l=lP(s,a,n),c=l||oP(r),m=!c("as");return function(){var u=arguments,h=n&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(i!==void 0&&h.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)h.push.apply(h,u);else{var f=u[0];h.push(f[0]);for(var v=u.length,_=1;_<v;_++)h.push(u[_],f[_])}var S=n4(function(j,b,w){var C=m&&j.as||r,P="",E=[],D=j;if(j.theme==null){D={};for(var T in j)D[T]=j[T];D.theme=g.useContext(ng)}typeof j.className=="string"?P=X7(b.registered,E,j.className):j.className!=null&&(P=j.className+" ");var R=ag(h.concat(E),b.registered,D);P+=b.key+"-"+R.name,o!==void 0&&(P+=" "+o);var z=m&&l===void 0?oP(C):c,O={};for(var $ in j)m&&$==="as"||z($)&&(O[$]=j[$]);return O.className=P,w&&(O.ref=w),g.createElement(g.Fragment,null,g.createElement(dH,{cache:b,serialized:R,isStringTag:typeof C=="string"}),g.createElement(C,O))});return S.displayName=i!==void 0?i:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",S.defaultProps=s.defaultProps,S.__emotion_real=S,S.__emotion_base=r,S.__emotion_styles=h,S.__emotion_forwardProp=l,Object.defineProperty(S,"toString",{value:function(){return"."+o}}),S.withComponent=function(j,b){var w=t(j,be({},a,b,{shouldForwardProp:lP(S,b,!0)}));return w.apply(void 0,h)},S}},mH=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],fw=uH.bind(null);mH.forEach(function(t){fw[t]=fw(t)});var G2={exports:{}},K2,cP;function pH(){if(cP)return K2;cP=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return K2=t,K2}var Q2,dP;function hH(){if(dP)return Q2;dP=1;var t=pH();function s(){}function a(){}return a.resetWarningCache=s,Q2=function(){function n(o,l,c,m,u,h){if(h!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function r(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:a,resetWarningCache:s};return i.PropTypes=i,i},Q2}var uP;function fH(){return uP||(uP=1,G2.exports=hH()()),G2.exports}var xH=fH();const ne=ao(xH);function gH(t){return t==null||Object.keys(t).length===0}function a9(t){const{styles:s,defaultTheme:a={}}=t,n=typeof s=="function"?r=>s(gH(r)?a:r):s;return e.jsx(rH,{styles:n})}function n9(t,s){return fw(t,s)}function yH(t,s){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=s(t.__emotion_styles))}const mP=[];function Vc(t){return mP[0]=t,ag(mP)}var Z2={exports:{}},Aa={};var pP;function bH(){if(pP)return Aa;pP=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function _(S){if(typeof S=="object"&&S!==null){var j=S.$$typeof;switch(j){case t:switch(S=S.type,S){case a:case r:case n:case c:case m:case f:return S;default:switch(S=S&&S.$$typeof,S){case o:case l:case h:case u:return S;case i:return S;default:return j}}case s:return j}}}return Aa.ContextConsumer=i,Aa.ContextProvider=o,Aa.Element=t,Aa.ForwardRef=l,Aa.Fragment=a,Aa.Lazy=h,Aa.Memo=u,Aa.Portal=s,Aa.Profiler=r,Aa.StrictMode=n,Aa.Suspense=c,Aa.SuspenseList=m,Aa.isContextConsumer=function(S){return _(S)===i},Aa.isContextProvider=function(S){return _(S)===o},Aa.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Aa.isForwardRef=function(S){return _(S)===l},Aa.isFragment=function(S){return _(S)===a},Aa.isLazy=function(S){return _(S)===h},Aa.isMemo=function(S){return _(S)===u},Aa.isPortal=function(S){return _(S)===s},Aa.isProfiler=function(S){return _(S)===r},Aa.isStrictMode=function(S){return _(S)===n},Aa.isSuspense=function(S){return _(S)===c},Aa.isSuspenseList=function(S){return _(S)===m},Aa.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===a||S===r||S===n||S===c||S===m||typeof S=="object"&&S!==null&&(S.$$typeof===h||S.$$typeof===u||S.$$typeof===o||S.$$typeof===i||S.$$typeof===l||S.$$typeof===v||S.getModuleId!==void 0)},Aa.typeOf=_,Aa}var hP;function vH(){return hP||(hP=1,Z2.exports=bH()),Z2.exports}var r9=vH();function Bo(t){if(typeof t!="object"||t===null)return!1;const s=Object.getPrototypeOf(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function i9(t){if(g.isValidElement(t)||r9.isValidElementType(t)||!Bo(t))return t;const s={};return Object.keys(t).forEach(a=>{s[a]=i9(t[a])}),s}function ur(t,s,a={clone:!0}){const n=a.clone?{...t}:t;return Bo(t)&&Bo(s)&&Object.keys(s).forEach(r=>{g.isValidElement(s[r])||r9.isValidElementType(s[r])?n[r]=s[r]:Bo(s[r])&&Object.prototype.hasOwnProperty.call(t,r)&&Bo(t[r])?n[r]=ur(t[r],s[r],a):a.clone?n[r]=Bo(s[r])?i9(s[r]):s[r]:n[r]=s[r]}),n}const jH=t=>{const s=Object.keys(t).map(a=>({key:a,val:t[a]}))||[];return s.sort((a,n)=>a.val-n.val),s.reduce((a,n)=>({...a,[n.key]:n.val}),{})};function NH(t){const{values:s={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:a="px",step:n=5,...r}=t,i=jH(s),o=Object.keys(i);function l(f){return`@media (min-width:${typeof s[f]=="number"?s[f]:f}${a})`}function c(f){return`@media (max-width:${(typeof s[f]=="number"?s[f]:f)-n/100}${a})`}function m(f,v){const _=o.indexOf(v);return`@media (min-width:${typeof s[f]=="number"?s[f]:f}${a}) and (max-width:${(_!==-1&&typeof s[o[_]]=="number"?s[o[_]]:v)-n/100}${a})`}function u(f){return o.indexOf(f)+1<o.length?m(f,o[o.indexOf(f)+1]):l(f)}function h(f){const v=o.indexOf(f);return v===0?l(o[1]):v===o.length-1?c(o[v]):m(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:i,up:l,down:c,between:m,only:u,not:h,unit:a,...r}}function fP(t,s){if(!t.containerQueries)return s;const a=Object.keys(s).filter(n=>n.startsWith("@container")).sort((n,r)=>{const i=/min-width:\s*([0-9.]+)/;return+(n.match(i)?.[1]||0)-+(r.match(i)?.[1]||0)});return a.length?a.reduce((n,r)=>{const i=s[r];return delete n[r],n[r]=i,n},{...s}):s}function wH(t,s){return s==="@"||s.startsWith("@")&&(t.some(a=>s.startsWith(`@${a}`))||!!s.match(/^@\d/))}function _H(t,s){const a=s.match(/^@([^/]+)?\/?(.+)?$/);if(!a)return null;const[,n,r]=a,i=Number.isNaN(+n)?n||0:+n;return t.containerQueries(r).up(i)}function SH(t){const s=(i,o)=>i.replace("@media",o?`@container ${o}`:"@container");function a(i,o){i.up=(...l)=>s(t.breakpoints.up(...l),o),i.down=(...l)=>s(t.breakpoints.down(...l),o),i.between=(...l)=>s(t.breakpoints.between(...l),o),i.only=(...l)=>s(t.breakpoints.only(...l),o),i.not=(...l)=>{const c=s(t.breakpoints.not(...l),o);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const n={},r=i=>(a(n,i),n);return a(r),{...t,containerQueries:r}}const CH={borderRadius:4};function Uf(t,s){return s?ur(t,s,{clone:!1}):t}const ov={xs:0,sm:600,md:900,lg:1200,xl:1536},xP={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${ov[t]}px)`},kH={containerQueries:t=>({up:s=>{let a=typeof s=="number"?s:ov[s]||s;return typeof a=="number"&&(a=`${a}px`),t?`@container ${t} (min-width:${a})`:`@container (min-width:${a})`}})};function Xl(t,s,a){const n=t.theme||{};if(Array.isArray(s)){const i=n.breakpoints||xP;return s.reduce((o,l,c)=>(o[i.up(i.keys[c])]=a(s[c]),o),{})}if(typeof s=="object"){const i=n.breakpoints||xP;return Object.keys(s).reduce((o,l)=>{if(wH(i.keys,l)){const c=_H(n.containerQueries?n:kH,l);c&&(o[c]=a(s[l],l))}else if(Object.keys(i.values||ov).includes(l)){const c=i.up(l);o[c]=a(s[l],l)}else{const c=l;o[c]=s[c]}return o},{})}return a(s)}function PH(t={}){return t.keys?.reduce((a,n)=>{const r=t.up(n);return a[r]={},a},{})||{}}function gP(t,s){return t.reduce((a,n)=>{const r=a[n];return(!r||Object.keys(r).length===0)&&delete a[n],a},s)}function Je(t){if(typeof t!="string")throw new Error(Zl(7));return t.charAt(0).toUpperCase()+t.slice(1)}function $o(t,s,a=!0){if(!s||typeof s!="string")return null;if(t&&t.vars&&a){const n=`vars.${s}`.split(".").reduce((r,i)=>r&&r[i]?r[i]:null,t);if(n!=null)return n}return s.split(".").reduce((n,r)=>n&&n[r]!=null?n[r]:null,t)}function fb(t,s,a,n=a){let r;return typeof t=="function"?r=t(a):Array.isArray(t)?r=t[a]||n:r=$o(t,a)||n,s&&(r=s(r,n,t)),r}function yn(t){const{prop:s,cssProperty:a=t.prop,themeKey:n,transform:r}=t,i=o=>{if(o[s]==null)return null;const l=o[s],c=o.theme,m=$o(c,n)||{};return Xl(o,l,h=>{let f=fb(m,r,h);return h===f&&typeof h=="string"&&(f=fb(m,r,`${s}${h==="default"?"":Je(h)}`,h)),a===!1?f:{[a]:f}})};return i.propTypes={},i.filterProps=[s],i}function EH(t){const s={};return a=>(s[a]===void 0&&(s[a]=t(a)),s[a])}const TH={m:"margin",p:"padding"},MH={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},yP={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},DH=EH(t=>{if(t.length>2)if(yP[t])t=yP[t];else return[t];const[s,a]=t.split(""),n=TH[s],r=MH[a]||"";return Array.isArray(r)?r.map(i=>n+i):[n+r]}),i4=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],o4=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...i4,...o4];function rg(t,s,a,n){const r=$o(t,s,!0)??a;return typeof r=="number"||typeof r=="string"?i=>typeof i=="string"?i:typeof r=="string"?r.startsWith("var(")&&i===0?0:r.startsWith("var(")&&i===1?r:`calc(${i} * ${r})`:r*i:Array.isArray(r)?i=>{if(typeof i=="string")return i;const o=Math.abs(i),l=r[o];return i>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof r=="function"?r:()=>{}}function l4(t){return rg(t,"spacing",8)}function ig(t,s){return typeof s=="string"||s==null?s:t(s)}function RH(t,s){return a=>t.reduce((n,r)=>(n[r]=ig(s,a),n),{})}function AH(t,s,a,n){if(!s.includes(a))return null;const r=DH(a),i=RH(r,n),o=t[a];return Xl(t,o,i)}function o9(t,s){const a=l4(t.theme);return Object.keys(t).map(n=>AH(t,s,n,a)).reduce(Uf,{})}function an(t){return o9(t,i4)}an.propTypes={};an.filterProps=i4;function nn(t){return o9(t,o4)}nn.propTypes={};nn.filterProps=o4;function l9(t=8,s=l4({spacing:t})){if(t.mui)return t;const a=(...n)=>(n.length===0?[1]:n).map(i=>{const o=s(i);return typeof o=="number"?`${o}px`:o}).join(" ");return a.mui=!0,a}function lv(...t){const s=t.reduce((n,r)=>(r.filterProps.forEach(i=>{n[i]=r}),n),{}),a=n=>Object.keys(n).reduce((r,i)=>s[i]?Uf(r,s[i](n)):r,{});return a.propTypes={},a.filterProps=t.reduce((n,r)=>n.concat(r.filterProps),[]),a}function Bi(t){return typeof t!="number"?t:`${t}px solid`}function ro(t,s){return yn({prop:t,themeKey:"borders",transform:s})}const IH=ro("border",Bi),OH=ro("borderTop",Bi),FH=ro("borderRight",Bi),LH=ro("borderBottom",Bi),zH=ro("borderLeft",Bi),$H=ro("borderColor"),qH=ro("borderTopColor"),BH=ro("borderRightColor"),UH=ro("borderBottomColor"),VH=ro("borderLeftColor"),HH=ro("outline",Bi),WH=ro("outlineColor"),cv=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const s=rg(t.theme,"shape.borderRadius",4),a=n=>({borderRadius:ig(s,n)});return Xl(t,t.borderRadius,a)}return null};cv.propTypes={};cv.filterProps=["borderRadius"];lv(IH,OH,FH,LH,zH,$H,qH,BH,UH,VH,cv,HH,WH);const dv=t=>{if(t.gap!==void 0&&t.gap!==null){const s=rg(t.theme,"spacing",8),a=n=>({gap:ig(s,n)});return Xl(t,t.gap,a)}return null};dv.propTypes={};dv.filterProps=["gap"];const uv=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const s=rg(t.theme,"spacing",8),a=n=>({columnGap:ig(s,n)});return Xl(t,t.columnGap,a)}return null};uv.propTypes={};uv.filterProps=["columnGap"];const mv=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const s=rg(t.theme,"spacing",8),a=n=>({rowGap:ig(s,n)});return Xl(t,t.rowGap,a)}return null};mv.propTypes={};mv.filterProps=["rowGap"];const YH=yn({prop:"gridColumn"}),GH=yn({prop:"gridRow"}),KH=yn({prop:"gridAutoFlow"}),QH=yn({prop:"gridAutoColumns"}),ZH=yn({prop:"gridAutoRows"}),XH=yn({prop:"gridTemplateColumns"}),JH=yn({prop:"gridTemplateRows"}),eW=yn({prop:"gridTemplateAreas"}),tW=yn({prop:"gridArea"});lv(dv,uv,mv,YH,GH,KH,QH,ZH,XH,JH,eW,tW);function Zm(t,s){return s==="grey"?s:t}const sW=yn({prop:"color",themeKey:"palette",transform:Zm}),aW=yn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Zm}),nW=yn({prop:"backgroundColor",themeKey:"palette",transform:Zm});lv(sW,aW,nW);function li(t){return t<=1&&t!==0?`${t*100}%`:t}const rW=yn({prop:"width",transform:li}),c4=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const s=a=>{const n=t.theme?.breakpoints?.values?.[a]||ov[a];return n?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${n}${t.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:li(a)}};return Xl(t,t.maxWidth,s)}return null};c4.filterProps=["maxWidth"];const iW=yn({prop:"minWidth",transform:li}),oW=yn({prop:"height",transform:li}),lW=yn({prop:"maxHeight",transform:li}),cW=yn({prop:"minHeight",transform:li});yn({prop:"size",cssProperty:"width",transform:li});yn({prop:"size",cssProperty:"height",transform:li});const dW=yn({prop:"boxSizing"});lv(rW,c4,iW,oW,lW,cW,dW);const og={border:{themeKey:"borders",transform:Bi},borderTop:{themeKey:"borders",transform:Bi},borderRight:{themeKey:"borders",transform:Bi},borderBottom:{themeKey:"borders",transform:Bi},borderLeft:{themeKey:"borders",transform:Bi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Bi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:cv},color:{themeKey:"palette",transform:Zm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Zm},backgroundColor:{themeKey:"palette",transform:Zm},p:{style:nn},pt:{style:nn},pr:{style:nn},pb:{style:nn},pl:{style:nn},px:{style:nn},py:{style:nn},padding:{style:nn},paddingTop:{style:nn},paddingRight:{style:nn},paddingBottom:{style:nn},paddingLeft:{style:nn},paddingX:{style:nn},paddingY:{style:nn},paddingInline:{style:nn},paddingInlineStart:{style:nn},paddingInlineEnd:{style:nn},paddingBlock:{style:nn},paddingBlockStart:{style:nn},paddingBlockEnd:{style:nn},m:{style:an},mt:{style:an},mr:{style:an},mb:{style:an},ml:{style:an},mx:{style:an},my:{style:an},margin:{style:an},marginTop:{style:an},marginRight:{style:an},marginBottom:{style:an},marginLeft:{style:an},marginX:{style:an},marginY:{style:an},marginInline:{style:an},marginInlineStart:{style:an},marginInlineEnd:{style:an},marginBlock:{style:an},marginBlockStart:{style:an},marginBlockEnd:{style:an},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:dv},rowGap:{style:mv},columnGap:{style:uv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:li},maxWidth:{style:c4},minWidth:{transform:li},height:{transform:li},maxHeight:{transform:li},minHeight:{transform:li},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function uW(...t){const s=t.reduce((n,r)=>n.concat(Object.keys(r)),[]),a=new Set(s);return t.every(n=>a.size===Object.keys(n).length)}function mW(t,s){return typeof t=="function"?t(s):t}function pW(){function t(a,n,r,i){const o={[a]:n,theme:r},l=i[a];if(!l)return{[a]:n};const{cssProperty:c=a,themeKey:m,transform:u,style:h}=l;if(n==null)return null;if(m==="typography"&&n==="inherit")return{[a]:n};const f=$o(r,m)||{};return h?h(o):Xl(o,n,_=>{let S=fb(f,u,_);return _===S&&typeof _=="string"&&(S=fb(f,u,`${a}${_==="default"?"":Je(_)}`,_)),c===!1?S:{[c]:S}})}function s(a){const{sx:n,theme:r={},nested:i}=a||{};if(!n)return null;const o=r.unstable_sxConfig??og;function l(c){let m=c;if(typeof c=="function")m=c(r);else if(typeof c!="object")return c;if(!m)return null;const u=PH(r.breakpoints),h=Object.keys(u);let f=u;return Object.keys(m).forEach(v=>{const _=mW(m[v],r);if(_!=null)if(typeof _=="object")if(o[v])f=Uf(f,t(v,_,r,o));else{const S=Xl({theme:r},_,j=>({[v]:j}));uW(S,_)?f[v]=s({sx:_,theme:r,nested:!0}):f=Uf(f,S)}else f=Uf(f,t(v,_,r,o))}),!i&&r.modularCssLayers?{"@layer sx":fP(r,gP(h,f))}:fP(r,gP(h,f))}return Array.isArray(n)?n.map(l):l(n)}return s}const Zc=pW();Zc.filterProps=["sx"];function hW(t,s){const a=this;if(a.vars){if(!a.colorSchemes?.[t]||typeof a.getColorSchemeSelector!="function")return{};let n=a.getColorSchemeSelector(t);return n==="&"?s:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:s})}return a.palette.mode===t?s:{}}function d4(t={},...s){const{breakpoints:a={},palette:n={},spacing:r,shape:i={},...o}=t,l=NH(a),c=l9(r);let m=ur({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:c,shape:{...CH,...i}},o);return m=SH(m),m.applyStyles=hW,m=s.reduce((u,h)=>ur(u,h),m),m.unstable_sxConfig={...og,...o?.unstable_sxConfig},m.unstable_sx=function(h){return Zc({sx:h,theme:this})},m}function fW(t){return Object.keys(t).length===0}function pv(t=null){const s=g.useContext(ng);return!s||fW(s)?t:s}const xW=d4();function hv(t=xW){return pv(t)}function X2(t){const s=Vc(t);return t!==s&&s.styles?(s.styles.match(/^@layer\s+[^{]*$/)||(s.styles=`@layer global{${s.styles}}`),s):t}function c9({styles:t,themeId:s,defaultTheme:a={}}){const n=hv(a),r=s&&n[s]||n;let i=typeof t=="function"?t(r):t;return r.modularCssLayers&&(Array.isArray(i)?i=i.map(o=>X2(typeof o=="function"?o(r):o)):i=X2(i)),e.jsx(a9,{styles:i})}const gW=t=>{const s={systemProps:{},otherProps:{}},a=t?.theme?.unstable_sxConfig??og;return Object.keys(t).forEach(n=>{a[n]?s.systemProps[n]=t[n]:s.otherProps[n]=t[n]}),s};function d9(t){const{sx:s,...a}=t,{systemProps:n,otherProps:r}=gW(a);let i;return Array.isArray(s)?i=[n,...s]:typeof s=="function"?i=(...o)=>{const l=s(...o);return Bo(l)?{...n,...l}:n}:i={...n,...s},{...r,sx:i}}const bP=t=>t,yW=()=>{let t=bP;return{configure(s){t=s},generate(s){return t(s)},reset(){t=bP}}},u9=yW();function m9(t){var s,a,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(s=0;s<r;s++)t[s]&&(a=m9(t[s]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a);return n}function tt(){for(var t,s,a=0,n="",r=arguments.length;a<r;a++)(t=arguments[a])&&(s=m9(t))&&(n&&(n+=" "),n+=s);return n}function bW(t={}){const{themeId:s,defaultTheme:a,defaultClassName:n="MuiBox-root",generateClassName:r}=t,i=n9("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Zc);return g.forwardRef(function(c,m){const u=hv(a),{className:h,component:f="div",...v}=d9(c);return e.jsx(i,{as:f,ref:m,className:tt(h,r?r(n):n),theme:s&&u[s]||u,...v})})}const vW={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Et(t,s,a="Mui"){const n=vW[s];return n?`${a}-${n}`:`${u9.generate(t)}-${s}`}function Pt(t,s,a="Mui"){const n={};return s.forEach(r=>{n[r]=Et(t,r,a)}),n}function p9(t){const{variants:s,...a}=t,n={variants:s,style:Vc(a),isProcessed:!0};return n.style===a||s&&s.forEach(r=>{typeof r.style!="function"&&(r.style=Vc(r.style))}),n}const jW=d4();function Lr(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Qd(t,s){return s&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${s}{${String(t.styles)}}`),t}function NW(t){return t?(s,a)=>a[t]:null}function wW(t,s,a){t.theme=CW(t.theme)?a:t.theme[s]||t.theme}function Uy(t,s,a){const n=typeof s=="function"?s(t):s;if(Array.isArray(n))return n.flatMap(r=>Uy(t,r,a));if(Array.isArray(n?.variants)){let r;if(n.isProcessed)r=a?Qd(n.style,a):n.style;else{const{variants:i,...o}=n;r=a?Qd(Vc(o),a):o}return h9(t,n.variants,[r],a)}return n?.isProcessed?a?Qd(Vc(n.style),a):n.style:a?Qd(Vc(n),a):n}function h9(t,s,a=[],n=void 0){let r;e:for(let i=0;i<s.length;i+=1){const o=s[i];if(typeof o.props=="function"){if(r??={...t,...t.ownerState,ownerState:t.ownerState},!o.props(r))continue}else for(const l in o.props)if(t[l]!==o.props[l]&&t.ownerState?.[l]!==o.props[l])continue e;typeof o.style=="function"?(r??={...t,...t.ownerState,ownerState:t.ownerState},a.push(n?Qd(Vc(o.style(r)),n):o.style(r))):a.push(n?Qd(Vc(o.style),n):o.style)}return a}function _W(t={}){const{themeId:s,defaultTheme:a=jW,rootShouldForwardProp:n=Lr,slotShouldForwardProp:r=Lr}=t;function i(l){wW(l,s,a)}return(l,c={})=>{yH(l,D=>D.filter(T=>T!==Zc));const{name:m,slot:u,skipVariantsResolver:h,skipSx:f,overridesResolver:v=NW(PW(u)),..._}=c,S=m&&m.startsWith("Mui")||u?"components":"custom",j=h!==void 0?h:u&&u!=="Root"&&u!=="root"||!1,b=f||!1;let w=Lr;u==="Root"||u==="root"?w=n:u?w=r:kW(l)&&(w=void 0);const C=n9(l,{shouldForwardProp:w,label:SW(),..._}),P=D=>{if(D.__emotion_real===D)return D;if(typeof D=="function")return function(R){return Uy(R,D,R.theme.modularCssLayers?S:void 0)};if(Bo(D)){const T=p9(D);return function(z){return T.variants?Uy(z,T,z.theme.modularCssLayers?S:void 0):z.theme.modularCssLayers?Qd(T.style,S):T.style}}return D},E=(...D)=>{const T=[],R=D.map(P),z=[];if(T.push(i),m&&v&&z.push(function(Q){const U=Q.theme.components?.[m]?.styleOverrides;if(!U)return null;const B={};for(const V in U)B[V]=Uy(Q,U[V],Q.theme.modularCssLayers?"theme":void 0);return v(Q,B)}),m&&!j&&z.push(function(Q){const U=Q.theme?.components?.[m]?.variants;return U?h9(Q,U,[],Q.theme.modularCssLayers?"theme":void 0):null}),b||z.push(Zc),Array.isArray(R[0])){const A=R.shift(),Q=new Array(T.length).fill(""),K=new Array(z.length).fill("");let U;U=[...Q,...A,...K],U.raw=[...Q,...A.raw,...K],T.unshift(U)}const O=[...T,...R,...z],$=C(...O);return l.muiName&&($.muiName=l.muiName),$};return C.withConfig&&(E.withConfig=C.withConfig),E}}function SW(t,s){return void 0}function CW(t){for(const s in t)return!1;return!0}function kW(t){return typeof t=="string"&&t.charCodeAt(0)>96}function PW(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function xx(t,s,a=!1){const n={...s};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],l=s[i];if(!l)n[i]=o||{};else if(!o)n[i]=l;else{n[i]={...l};for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const m=c;n[i][m]=xx(o[m],l[m],a)}}}else i==="className"&&a&&s.className?n.className=tt(t?.className,s?.className):i==="style"&&a&&s.style?n.style={...t?.style,...s?.style}:n[i]===void 0&&(n[i]=t[i])}return n}function f9(t){const{theme:s,name:a,props:n}=t;return!s||!s.components||!s.components[a]||!s.components[a].defaultProps?n:xx(s.components[a].defaultProps,n)}function EW({props:t,name:s,defaultTheme:a,themeId:n}){let r=hv(a);return r=r[n]||r,f9({theme:r,name:s,props:t})}const La=typeof window<"u"?g.useLayoutEffect:g.useEffect;function TW(t,s,a,n,r){const[i,o]=g.useState(()=>r&&a?a(t).matches:n?n(t).matches:s);return La(()=>{if(!a)return;const l=a(t),c=()=>{o(l.matches)};return c(),l.addEventListener("change",c),()=>{l.removeEventListener("change",c)}},[t,a]),i}const MW={...ox},x9=MW.useSyncExternalStore;function DW(t,s,a,n,r){const i=g.useCallback(()=>s,[s]),o=g.useMemo(()=>{if(r&&a)return()=>a(t).matches;if(n!==null){const{matches:u}=n(t);return()=>u}return i},[i,t,n,r,a]),[l,c]=g.useMemo(()=>{if(a===null)return[i,()=>()=>{}];const u=a(t);return[()=>u.matches,h=>(u.addEventListener("change",h),()=>{u.removeEventListener("change",h)})]},[i,a,t]);return x9(c,l,o)}function g9(t={}){const{themeId:s}=t;return function(n,r={}){let i=pv();i&&s&&(i=i[s]||i);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:l=!1,matchMedia:c=o?window.matchMedia:null,ssrMatchMedia:m=null,noSsr:u=!1}=f9({name:"MuiUseMediaQuery",props:r,theme:i});let h=typeof n=="function"?n(i):n;return h=h.replace(/^@media( ?)/m,""),h.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(x9!==void 0?DW:TW)(h,l,c,m,u)}}g9();function RW(t,s=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER){return Math.max(s,Math.min(t,a))}function u4(t,s=0,a=1){return RW(t,s,a)}function AW(t){t=t.slice(1);const s=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let a=t.match(s);return a&&a[0].length===1&&(a=a.map(n=>n+n)),a?`rgb${a.length===4?"a":""}(${a.map((n,r)=>r<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Xc(t){if(t.type)return t;if(t.charAt(0)==="#")return Xc(AW(t));const s=t.indexOf("("),a=t.substring(0,s);if(!["rgb","rgba","hsl","hsla","color"].includes(a))throw new Error(Zl(9,t));let n=t.substring(s+1,t.length-1),r;if(a==="color"){if(n=n.split(" "),r=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(Zl(10,r))}else n=n.split(",");return n=n.map(i=>parseFloat(i)),{type:a,values:n,colorSpace:r}}const IW=t=>{const s=Xc(t);return s.values.slice(0,3).map((a,n)=>s.type.includes("hsl")&&n!==0?`${a}%`:a).join(" ")},lf=(t,s)=>{try{return IW(t)}catch{return t}};function fv(t){const{type:s,colorSpace:a}=t;let{values:n}=t;return s.includes("rgb")?n=n.map((r,i)=>i<3?parseInt(r,10):r):s.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),s.includes("color")?n=`${a} ${n.join(" ")}`:n=`${n.join(", ")}`,`${s}(${n})`}function y9(t){t=Xc(t);const{values:s}=t,a=s[0],n=s[1]/100,r=s[2]/100,i=n*Math.min(r,1-r),o=(m,u=(m+a/30)%12)=>r-i*Math.max(Math.min(u-3,9-u,1),-1);let l="rgb";const c=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(l+="a",c.push(s[3])),fv({type:l,values:c})}function xw(t){t=Xc(t);let s=t.type==="hsl"||t.type==="hsla"?Xc(y9(t)).values:t.values;return s=s.map(a=>(t.type!=="color"&&(a/=255),a<=.03928?a/12.92:((a+.055)/1.055)**2.4)),Number((.2126*s[0]+.7152*s[1]+.0722*s[2]).toFixed(3))}function OW(t,s){const a=xw(t),n=xw(s);return(Math.max(a,n)+.05)/(Math.min(a,n)+.05)}function wr(t,s){return t=Xc(t),s=u4(s),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${s}`:t.values[3]=s,fv(t)}function Ed(t,s,a){try{return wr(t,s)}catch{return t}}function xv(t,s){if(t=Xc(t),s=u4(s),t.type.includes("hsl"))t.values[2]*=1-s;else if(t.type.includes("rgb")||t.type.includes("color"))for(let a=0;a<3;a+=1)t.values[a]*=1-s;return fv(t)}function Ca(t,s,a){try{return xv(t,s)}catch{return t}}function gv(t,s){if(t=Xc(t),s=u4(s),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*s;else if(t.type.includes("rgb"))for(let a=0;a<3;a+=1)t.values[a]+=(255-t.values[a])*s;else if(t.type.includes("color"))for(let a=0;a<3;a+=1)t.values[a]+=(1-t.values[a])*s;return fv(t)}function ka(t,s,a){try{return gv(t,s)}catch{return t}}function FW(t,s=.15){return xw(t)>.5?xv(t,s):gv(t,s)}function Q0(t,s,a){try{return FW(t,s)}catch{return t}}const b9=g.createContext(null);function m4(){return g.useContext(b9)}const LW=typeof Symbol=="function"&&Symbol.for,zW=LW?Symbol.for("mui.nested"):"__THEME_NESTED__";function $W(t,s){return typeof s=="function"?s(t):{...t,...s}}function qW(t){const{children:s,theme:a}=t,n=m4(),r=g.useMemo(()=>{const i=n===null?{...a}:$W(n,a);return i!=null&&(i[zW]=n!==null),i},[a,n]);return e.jsx(b9.Provider,{value:r,children:s})}const v9=g.createContext();function BW({value:t,...s}){return e.jsx(v9.Provider,{value:t??!0,...s})}const qn=()=>g.useContext(v9)??!1,j9=g.createContext(void 0);function UW({value:t,children:s}){return e.jsx(j9.Provider,{value:t,children:s})}function VW(t){const{theme:s,name:a,props:n}=t;if(!s||!s.components||!s.components[a])return n;const r=s.components[a];return r.defaultProps?xx(r.defaultProps,n,s.components.mergeClassNameAndStyle):!r.styleOverrides&&!r.variants?xx(r,n,s.components.mergeClassNameAndStyle):n}function HW({props:t,name:s}){const a=g.useContext(j9);return VW({props:t,name:s,theme:{components:a}})}let vP=0;function WW(t){const[s,a]=g.useState(t),n=t||s;return g.useEffect(()=>{s==null&&(vP+=1,a(`mui-${vP}`))},[s]),n}const YW={...ox},jP=YW.useId;function _r(t){if(jP!==void 0){const s=jP();return t??s}return WW(t)}function GW(t){const s=pv(),a=_r()||"",{modularCssLayers:n}=t;let r="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!n||s!==null?r="":typeof n=="string"?r=n.replace(/mui(?!\.)/g,r):r=`@layer ${r};`,La(()=>{const i=document.querySelector("head");if(!i)return;const o=i.firstChild;if(r){if(o&&o.hasAttribute?.("data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===a)return;const l=document.createElement("style");l.setAttribute("data-mui-layer-order",a),l.textContent=r,i.prepend(l)}else i.querySelector(`style[data-mui-layer-order="${a}"]`)?.remove()},[r,a]),r?e.jsx(c9,{styles:r}):null}const NP={};function wP(t,s,a,n=!1){return g.useMemo(()=>{const r=t&&s[t]||s;if(typeof a=="function"){const i=a(r),o=t?{...s,[t]:i}:i;return n?()=>o:o}return t?{...s,[t]:a}:{...s,...a}},[t,s,a,n])}function N9(t){const{children:s,theme:a,themeId:n}=t,r=pv(NP),i=m4()||NP,o=wP(n,r,a),l=wP(n,i,a,!0),c=(n?o[n]:o).direction==="rtl",m=GW(o);return e.jsx(qW,{theme:l,children:e.jsx(ng.Provider,{value:o,children:e.jsx(BW,{value:c,children:e.jsxs(UW,{value:n?o[n].components:o.components,children:[m,s]})})})})}const _P={theme:void 0};function KW(t){let s,a;return function(r){let i=s;return(i===void 0||r.theme!==a)&&(_P.theme=r.theme,i=p9(t(_P)),s=i,a=r.theme),i}}const p4="mode",h4="color-scheme",QW="data-color-scheme";function ZW(t){const{defaultMode:s="system",defaultLightColorScheme:a="light",defaultDarkColorScheme:n="dark",modeStorageKey:r=p4,colorSchemeStorageKey:i=h4,attribute:o=QW,colorSchemeNode:l="document.documentElement",nonce:c}=t||{};let m="",u=o;if(o==="class"&&(u=".%s"),o==="data"&&(u="[data-%s]"),u.startsWith(".")){const f=u.substring(1);m+=`${l}.classList.remove('${f}'.replace('%s', light), '${f}'.replace('%s', dark));
      ${l}.classList.add('${f}'.replace('%s', colorScheme));`}const h=u.match(/\[([^[\]]+)\]/);if(h){const[f,v]=h[1].split("=");v||(m+=`${l}.removeAttribute('${f}'.replace('%s', light));
      ${l}.removeAttribute('${f}'.replace('%s', dark));`),m+=`
      ${l}.setAttribute('${f}'.replace('%s', colorScheme), ${v?`${v}.replace('%s', colorScheme)`:'""'});`}else u!==".%s"&&(m+=`${l}.setAttribute('${u}', colorScheme);`);return e.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${r}') || '${s}';
  const dark = localStorage.getItem('${i}-dark') || '${n}';
  const light = localStorage.getItem('${i}-light') || '${a}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${m}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function XW(){}const JW=({key:t,storageWindow:s})=>(!s&&typeof window<"u"&&(s=window),{get(a){if(typeof window>"u")return;if(!s)return a;let n;try{n=s.localStorage.getItem(t)}catch{}return n||a},set:a=>{if(s)try{s.localStorage.setItem(t,a)}catch{}},subscribe:a=>{if(!s)return XW;const n=r=>{const i=r.newValue;r.key===t&&a(i)};return s.addEventListener("storage",n),()=>{s.removeEventListener("storage",n)}}});function J2(){}function SP(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function w9(t,s){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return s("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return s("dark")}function eY(t){return w9(t,s=>{if(s==="light")return t.lightColorScheme;if(s==="dark")return t.darkColorScheme})}function tY(t){const{defaultMode:s="light",defaultLightColorScheme:a,defaultDarkColorScheme:n,supportedColorSchemes:r=[],modeStorageKey:i=p4,colorSchemeStorageKey:o=h4,storageWindow:l=typeof window>"u"?void 0:window,storageManager:c=JW,noSsr:m=!1}=t,u=r.join(","),h=r.length>1,f=g.useMemo(()=>c?.({key:i,storageWindow:l}),[c,i,l]),v=g.useMemo(()=>c?.({key:`${o}-light`,storageWindow:l}),[c,o,l]),_=g.useMemo(()=>c?.({key:`${o}-dark`,storageWindow:l}),[c,o,l]),[S,j]=g.useState(()=>{const R=f?.get(s)||s,z=v?.get(a)||a,O=_?.get(n)||n;return{mode:R,systemMode:SP(R),lightColorScheme:z,darkColorScheme:O}}),[b,w]=g.useState(m||!h);g.useEffect(()=>{w(!0)},[]);const C=eY(S),P=g.useCallback(R=>{j(z=>{if(R===z.mode)return z;const O=R??s;return f?.set(O),{...z,mode:O,systemMode:SP(O)}})},[f,s]),E=g.useCallback(R=>{R?typeof R=="string"?R&&!u.includes(R)?console.error(`\`${R}\` does not exist in \`theme.colorSchemes\`.`):j(z=>{const O={...z};return w9(z,$=>{$==="light"&&(v?.set(R),O.lightColorScheme=R),$==="dark"&&(_?.set(R),O.darkColorScheme=R)}),O}):j(z=>{const O={...z},$=R.light===null?a:R.light,A=R.dark===null?n:R.dark;return $&&(u.includes($)?(O.lightColorScheme=$,v?.set($)):console.error(`\`${$}\` does not exist in \`theme.colorSchemes\`.`)),A&&(u.includes(A)?(O.darkColorScheme=A,_?.set(A)):console.error(`\`${A}\` does not exist in \`theme.colorSchemes\`.`)),O}):j(z=>(v?.set(a),_?.set(n),{...z,lightColorScheme:a,darkColorScheme:n}))},[u,v,_,a,n]),D=g.useCallback(R=>{S.mode==="system"&&j(z=>{const O=R?.matches?"dark":"light";return z.systemMode===O?z:{...z,systemMode:O}})},[S.mode]),T=g.useRef(D);return T.current=D,g.useEffect(()=>{if(typeof window.matchMedia!="function"||!h)return;const R=(...O)=>T.current(...O),z=window.matchMedia("(prefers-color-scheme: dark)");return z.addListener(R),R(z),()=>{z.removeListener(R)}},[h]),g.useEffect(()=>{if(h){const R=f?.subscribe($=>{(!$||["light","dark","system"].includes($))&&P($||s)})||J2,z=v?.subscribe($=>{(!$||u.match($))&&E({light:$})})||J2,O=_?.subscribe($=>{(!$||u.match($))&&E({dark:$})})||J2;return()=>{R(),z(),O()}}},[E,P,u,s,l,h,f,v,_]),{...S,mode:b?S.mode:void 0,systemMode:b?S.systemMode:void 0,colorScheme:b?C:void 0,setMode:P,setColorScheme:E}}const sY="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function aY(t){const{themeId:s,theme:a={},modeStorageKey:n=p4,colorSchemeStorageKey:r=h4,disableTransitionOnChange:i=!1,defaultColorScheme:o,resolveTheme:l}=t,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},m=g.createContext(void 0),u=()=>g.useContext(m)||c,h={},f={};function v(b){const{children:w,theme:C,modeStorageKey:P=n,colorSchemeStorageKey:E=r,disableTransitionOnChange:D=i,storageManager:T,storageWindow:R=typeof window>"u"?void 0:window,documentNode:z=typeof document>"u"?void 0:document,colorSchemeNode:O=typeof document>"u"?void 0:document.documentElement,disableNestedContext:$=!1,disableStyleSheetGeneration:A=!1,defaultMode:Q="system",forceThemeRerender:K=!1,noSsr:U}=b,B=g.useRef(!1),V=m4(),Y=g.useContext(m),H=!!Y&&!$,F=g.useMemo(()=>C||(typeof a=="function"?a():a),[C]),M=F[s],L=M||F,{colorSchemes:W=h,components:X=f,cssVarPrefix:te}=L,se=Object.keys(W).filter(dt=>!!W[dt]).join(","),ae=g.useMemo(()=>se.split(","),[se]),pe=typeof o=="string"?o:o.light,he=typeof o=="string"?o:o.dark,re=W[pe]&&W[he]?Q:W[L.defaultColorScheme]?.palette?.mode||L.palette?.mode,{mode:xe,setMode:ge,systemMode:le,lightColorScheme:de,darkColorScheme:we,colorScheme:Ae,setColorScheme:Fe}=tY({supportedColorSchemes:ae,defaultLightColorScheme:pe,defaultDarkColorScheme:he,modeStorageKey:P,colorSchemeStorageKey:E,defaultMode:re,storageManager:T,storageWindow:R,noSsr:U});let Me=xe,Xe=Ae;H&&(Me=Y.mode,Xe=Y.colorScheme);let ke=Xe||L.defaultColorScheme;L.vars&&!K&&(ke=L.defaultColorScheme);const Ye=g.useMemo(()=>{const dt=L.generateThemeVars?.()||L.vars,wt={...L,components:X,colorSchemes:W,cssVarPrefix:te,vars:dt};if(typeof wt.generateSpacing=="function"&&(wt.spacing=wt.generateSpacing()),ke){const Dt=W[ke];Dt&&typeof Dt=="object"&&Object.keys(Dt).forEach(ve=>{Dt[ve]&&typeof Dt[ve]=="object"?wt[ve]={...wt[ve],...Dt[ve]}:wt[ve]=Dt[ve]})}return l?l(wt):wt},[L,ke,X,W,te]),ye=L.colorSchemeSelector;La(()=>{if(Xe&&O&&ye&&ye!=="media"){const dt=ye;let wt=ye;if(dt==="class"&&(wt=".%s"),dt==="data"&&(wt="[data-%s]"),dt?.startsWith("data-")&&!dt.includes("%s")&&(wt=`[${dt}="%s"]`),wt.startsWith("."))O.classList.remove(...ae.map(Dt=>wt.substring(1).replace("%s",Dt))),O.classList.add(wt.substring(1).replace("%s",Xe));else{const Dt=wt.replace("%s",Xe).match(/\[([^\]]+)\]/);if(Dt){const[ve,Le]=Dt[1].split("=");Le||ae.forEach($e=>{O.removeAttribute(ve.replace(Xe,$e))}),O.setAttribute(ve,Le?Le.replace(/"|'/g,""):"")}else O.setAttribute(wt,Xe)}}},[Xe,ye,O,ae]),g.useEffect(()=>{let dt;if(D&&B.current&&z){const wt=z.createElement("style");wt.appendChild(z.createTextNode(sY)),z.head.appendChild(wt),window.getComputedStyle(z.body),dt=setTimeout(()=>{z.head.removeChild(wt)},1)}return()=>{clearTimeout(dt)}},[Xe,D,z]),g.useEffect(()=>(B.current=!0,()=>{B.current=!1}),[]);const We=g.useMemo(()=>({allColorSchemes:ae,colorScheme:Xe,darkColorScheme:we,lightColorScheme:de,mode:Me,setColorScheme:Fe,setMode:ge,systemMode:le}),[ae,Xe,we,de,Me,Fe,ge,le,Ye.colorSchemeSelector]);let Ge=!0;(A||L.cssVariables===!1||H&&V?.cssVarPrefix===te)&&(Ge=!1);const jt=e.jsxs(g.Fragment,{children:[e.jsx(N9,{themeId:M?s:void 0,theme:Ye,children:w}),Ge&&e.jsx(a9,{styles:Ye.generateStyleSheets?.()||[]})]});return H?jt:e.jsx(m.Provider,{value:We,children:jt})}const _=typeof o=="string"?o:o.light,S=typeof o=="string"?o:o.dark;return{CssVarsProvider:v,useColorScheme:u,getInitColorSchemeScript:b=>ZW({colorSchemeStorageKey:r,defaultLightColorScheme:_,defaultDarkColorScheme:S,modeStorageKey:n,...b})}}function nY(t=""){function s(...n){if(!n.length)return"";const r=n[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${r}${s(...n.slice(1))})`:`, ${r}`}return(n,...r)=>`var(--${t?`${t}-`:""}${n}${s(...r)})`}const CP=(t,s,a,n=[])=>{let r=t;s.forEach((i,o)=>{o===s.length-1?Array.isArray(r)?r[Number(i)]=a:r&&typeof r=="object"&&(r[i]=a):r&&typeof r=="object"&&(r[i]||(r[i]=n.includes(i)?[]:{}),r=r[i])})},rY=(t,s,a)=>{function n(r,i=[],o=[]){Object.entries(r).forEach(([l,c])=>{(!a||a&&!a([...i,l]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?n(c,[...i,l],Array.isArray(c)?[...o,l]:o):s([...i,l],c,o))})}n(t)},iY=(t,s)=>typeof s=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>t.includes(n))||t[t.length-1].toLowerCase().includes("opacity")?s:`${s}px`:s;function eN(t,s){const{prefix:a,shouldSkipGeneratingVar:n}=s||{},r={},i={},o={};return rY(t,(l,c,m)=>{if((typeof c=="string"||typeof c=="number")&&(!n||!n(l,c))){const u=`--${a?`${a}-`:""}${l.join("-")}`,h=iY(l,c);Object.assign(r,{[u]:h}),CP(i,l,`var(${u})`,m),CP(o,l,`var(${u}, ${h})`,m)}},l=>l[0]==="vars"),{css:r,vars:i,varsWithDefaults:o}}function oY(t,s={}){const{getSelector:a=b,disableCssColorScheme:n,colorSchemeSelector:r,enableContrastVars:i}=s,{colorSchemes:o={},components:l,defaultColorScheme:c="light",...m}=t,{vars:u,css:h,varsWithDefaults:f}=eN(m,s);let v=f;const _={},{[c]:S,...j}=o;if(Object.entries(j||{}).forEach(([P,E])=>{const{vars:D,css:T,varsWithDefaults:R}=eN(E,s);v=ur(v,R),_[P]={css:T,vars:D}}),S){const{css:P,vars:E,varsWithDefaults:D}=eN(S,s);v=ur(v,D),_[c]={css:P,vars:E}}function b(P,E){let D=r;if(r==="class"&&(D=".%s"),r==="data"&&(D="[data-%s]"),r?.startsWith("data-")&&!r.includes("%s")&&(D=`[${r}="%s"]`),P){if(D==="media")return t.defaultColorScheme===P?":root":{[`@media (prefers-color-scheme: ${o[P]?.palette?.mode||P})`]:{":root":E}};if(D)return t.defaultColorScheme===P?`:root, ${D.replace("%s",String(P))}`:D.replace("%s",String(P))}return":root"}return{vars:v,generateThemeVars:()=>{let P={...u};return Object.entries(_).forEach(([,{vars:E}])=>{P=ur(P,E)}),P},generateStyleSheets:()=>{const P=[],E=t.defaultColorScheme||"light";function D(z,O){Object.keys(O).length&&P.push(typeof z=="string"?{[z]:{...O}}:z)}D(a(void 0,{...h}),h);const{[E]:T,...R}=_;if(T){const{css:z}=T,O=o[E]?.palette?.mode,$=!n&&O?{colorScheme:O,...z}:{...z};D(a(E,{...$}),$)}return Object.entries(R).forEach(([z,{css:O}])=>{const $=o[z]?.palette?.mode,A=!n&&$?{colorScheme:$,...O}:{...O};D(a(z,{...A}),A)}),i&&P.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),P}}}function lY(t){return function(a){return t==="media"?`@media (prefers-color-scheme: ${a})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${a}"] &`:t==="class"?`.${a} &`:t==="data"?`[data-${a}] &`:`${t.replace("%s",a)} &`:"&"}}function kt(t,s,a=void 0){const n={};for(const r in t){const i=t[r];let o="",l=!0;for(let c=0;c<i.length;c+=1){const m=i[c];m&&(o+=(l===!0?"":" ")+s(m),l=!1,a&&a[m]&&(o+=" "+a[m]))}n[r]=o}return n}function Vy(t,s){return g.isValidElement(t)&&s.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}function _9(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:mx.white,default:mx.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const S9=_9();function C9(){return{text:{primary:mx.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:mx.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const gw=C9();function kP(t,s,a,n){const r=n.light||n,i=n.dark||n*1.5;t[s]||(t.hasOwnProperty(a)?t[s]=t[a]:s==="light"?t.light=gv(t.main,r):s==="dark"&&(t.dark=xv(t.main,i)))}function PP(t,s,a,n,r){const i=r.light||r,o=r.dark||r*1.5;s[a]||(s.hasOwnProperty(n)?s[a]=s[n]:a==="light"?s.light=`color-mix(in ${t}, ${s.main}, #fff ${(i*100).toFixed(0)}%)`:a==="dark"&&(s.dark=`color-mix(in ${t}, ${s.main}, #000 ${(o*100).toFixed(0)}%)`))}function cY(t="light"){return t==="dark"?{main:fm[200],light:fm[50],dark:fm[400]}:{main:fm[700],light:fm[400],dark:fm[800]}}function dY(t="light"){return t==="dark"?{main:hm[200],light:hm[50],dark:hm[400]}:{main:hm[500],light:hm[300],dark:hm[700]}}function uY(t="light"){return t==="dark"?{main:pm[500],light:pm[300],dark:pm[700]}:{main:pm[700],light:pm[400],dark:pm[800]}}function mY(t="light"){return t==="dark"?{main:xm[400],light:xm[300],dark:xm[700]}:{main:xm[700],light:xm[500],dark:xm[900]}}function pY(t="light"){return t==="dark"?{main:gm[400],light:gm[300],dark:gm[700]}:{main:gm[800],light:gm[500],dark:gm[900]}}function hY(t="light"){return t==="dark"?{main:Oh[400],light:Oh[300],dark:Oh[700]}:{main:"#ed6c02",light:Oh[500],dark:Oh[900]}}function fY(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function f4(t){const{mode:s="light",contrastThreshold:a=3,tonalOffset:n=.2,colorSpace:r,...i}=t,o=t.primary||cY(s),l=t.secondary||dY(s),c=t.error||uY(s),m=t.info||mY(s),u=t.success||pY(s),h=t.warning||hY(s);function f(j){return r?fY(j):OW(j,gw.text.primary)>=a?gw.text.primary:S9.text.primary}const v=({color:j,name:b,mainShade:w=500,lightShade:C=300,darkShade:P=700})=>{if(j={...j},!j.main&&j[w]&&(j.main=j[w]),!j.hasOwnProperty("main"))throw new Error(Zl(11,b?` (${b})`:"",w));if(typeof j.main!="string")throw new Error(Zl(12,b?` (${b})`:"",JSON.stringify(j.main)));return r?(PP(r,j,"light",C,n),PP(r,j,"dark",P,n)):(kP(j,"light",C,n),kP(j,"dark",P,n)),j.contrastText||(j.contrastText=f(j.main)),j};let _;return s==="light"?_=_9():s==="dark"&&(_=C9()),ur({common:{...mx},mode:s,primary:v({color:o,name:"primary"}),secondary:v({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:c,name:"error"}),warning:v({color:h,name:"warning"}),info:v({color:m,name:"info"}),success:v({color:u,name:"success"}),grey:fV,contrastThreshold:a,getContrastText:f,augmentColor:v,tonalOffset:n,..._},i)}function xY(t){const s={};return Object.entries(t).forEach(n=>{const[r,i]=n;typeof i=="object"&&(s[r]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),s}function gY(t,s){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...s}}function yY(t){return Math.round(t*1e5)/1e5}const EP={textTransform:"uppercase"},TP='"Roboto", "Helvetica", "Arial", sans-serif';function k9(t,s){const{fontFamily:a=TP,fontSize:n=14,fontWeightLight:r=300,fontWeightRegular:i=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:m,pxToRem:u,...h}=typeof s=="function"?s(t):s,f=n/14,v=u||(j=>`${j/c*f}rem`),_=(j,b,w,C,P)=>({fontFamily:a,fontWeight:j,fontSize:v(b),lineHeight:w,...a===TP?{letterSpacing:`${yY(C/b)}em`}:{},...P,...m}),S={h1:_(r,96,1.167,-1.5),h2:_(r,60,1.2,-.5),h3:_(i,48,1.167,0),h4:_(i,34,1.235,.25),h5:_(i,24,1.334,0),h6:_(o,20,1.6,.15),subtitle1:_(i,16,1.75,.15),subtitle2:_(o,14,1.57,.1),body1:_(i,16,1.5,.15),body2:_(i,14,1.43,.15),button:_(o,14,1.75,.4,EP),caption:_(i,12,1.66,.4),overline:_(i,12,2.66,1,EP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ur({htmlFontSize:c,pxToRem:v,fontFamily:a,fontSize:n,fontWeightLight:r,fontWeightRegular:i,fontWeightMedium:o,fontWeightBold:l,...S},h,{clone:!1})}const bY=.2,vY=.14,jY=.12;function Ga(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${bY})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${vY})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${jY})`].join(",")}const NY=["none",Ga(0,2,1,-1,0,1,1,0,0,1,3,0),Ga(0,3,1,-2,0,2,2,0,0,1,5,0),Ga(0,3,3,-2,0,3,4,0,0,1,8,0),Ga(0,2,4,-1,0,4,5,0,0,1,10,0),Ga(0,3,5,-1,0,5,8,0,0,1,14,0),Ga(0,3,5,-1,0,6,10,0,0,1,18,0),Ga(0,4,5,-2,0,7,10,1,0,2,16,1),Ga(0,5,5,-3,0,8,10,1,0,3,14,2),Ga(0,5,6,-3,0,9,12,1,0,3,16,2),Ga(0,6,6,-3,0,10,14,1,0,4,18,3),Ga(0,6,7,-4,0,11,15,1,0,4,20,3),Ga(0,7,8,-4,0,12,17,2,0,5,22,4),Ga(0,7,8,-4,0,13,19,2,0,5,24,4),Ga(0,7,9,-4,0,14,21,2,0,5,26,4),Ga(0,8,9,-5,0,15,22,2,0,6,28,5),Ga(0,8,10,-5,0,16,24,2,0,6,30,5),Ga(0,8,11,-5,0,17,26,2,0,6,32,5),Ga(0,9,11,-5,0,18,28,2,0,7,34,6),Ga(0,9,12,-6,0,19,29,2,0,7,36,6),Ga(0,10,13,-6,0,20,31,3,0,8,38,7),Ga(0,10,13,-6,0,21,33,3,0,8,40,7),Ga(0,10,14,-6,0,22,35,3,0,8,42,7),Ga(0,11,14,-7,0,23,36,3,0,9,44,8),Ga(0,11,15,-7,0,24,38,3,0,9,46,8)],wY={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},P9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function MP(t){return`${Math.round(t)}ms`}function _Y(t){if(!t)return 0;const s=t/36;return Math.min(Math.round((4+15*s**.25+s/5)*10),3e3)}function SY(t){const s={...wY,...t.easing},a={...P9,...t.duration};return{getAutoHeightDuration:_Y,create:(r=["all"],i={})=>{const{duration:o=a.standard,easing:l=s.easeInOut,delay:c=0,...m}=i;return(Array.isArray(r)?r:[r]).map(u=>`${u} ${typeof o=="string"?o:MP(o)} ${l} ${typeof c=="string"?c:MP(c)}`).join(",")},...t,easing:s,duration:a}}const CY={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function kY(t){return Bo(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function E9(t={}){const s={...t};function a(n){const r=Object.entries(n);for(let i=0;i<r.length;i++){const[o,l]=r[i];!kY(l)||o.startsWith("unstable_")?delete n[o]:Bo(l)&&(n[o]={...l},a(n[o]))}}return a(s),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(s,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function DP(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const PY=t=>{if(!Number.isNaN(+t))return+t;const s=t.match(/\d*\.?\d+/g);if(!s)return 0;let a=0;for(let n=0;n<s.length;n+=1)a+=+s[n];return a};function EY(t){Object.assign(t,{alpha(s,a){const n=this||t;return n.colorSpace?`oklch(from ${s} l c h / ${typeof a=="string"?`calc(${a})`:a})`:n.vars?`rgba(${s.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof a=="string"?`calc(${a})`:a})`:wr(s,PY(a))},lighten(s,a){const n=this||t;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${s}, #fff ${DP(a)})`:gv(s,a)},darken(s,a){const n=this||t;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${s}, #000 ${DP(a)})`:xv(s,a)}})}function yw(t={},...s){const{breakpoints:a,mixins:n={},spacing:r,palette:i={},transitions:o={},typography:l={},shape:c,colorSpace:m,...u}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Zl(20));const h=f4({...i,colorSpace:m}),f=d4(t);let v=ur(f,{mixins:gY(f.breakpoints,n),palette:h,shadows:NY.slice(),typography:k9(h,l),transitions:SY(o),zIndex:{...CY}});return v=ur(v,u),v=s.reduce((_,S)=>ur(_,S),v),v.unstable_sxConfig={...og,...u?.unstable_sxConfig},v.unstable_sx=function(S){return Zc({sx:S,theme:this})},v.toRuntimeSource=E9,EY(v),v}function bw(t){let s;return t<1?s=5.11916*t**2:s=4.5*Math.log(t+1)+2,Math.round(s*10)/1e3}const TY=[...Array(25)].map((t,s)=>{if(s===0)return"none";const a=bw(s);return`linear-gradient(rgba(255 255 255 / ${a}), rgba(255 255 255 / ${a}))`});function T9(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function M9(t){return t==="dark"?TY:[]}function MY(t){const{palette:s={mode:"light"},opacity:a,overlays:n,colorSpace:r,...i}=t,o=f4({...s,colorSpace:r});return{palette:o,opacity:{...T9(o.mode),...a},overlays:n||M9(o.mode),...i}}function DY(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const RY=t=>[...[...Array(25)].map((s,a)=>`--${t?`${t}-`:""}overlays-${a}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],AY=t=>(s,a)=>{const n=t.rootSelector||":root",r=t.colorSchemeSelector;let i=r;if(r==="class"&&(i=".%s"),r==="data"&&(i="[data-%s]"),r?.startsWith("data-")&&!r.includes("%s")&&(i=`[${r}="%s"]`),t.defaultColorScheme===s){if(s==="dark"){const o={};return RY(t.cssVarPrefix).forEach(l=>{o[l]=a[l],delete a[l]}),i==="media"?{[n]:a,"@media (prefers-color-scheme: dark)":{[n]:o}}:i?{[i.replace("%s",s)]:o,[`${n}, ${i.replace("%s",s)}`]:a}:{[n]:{...a,...o}}}if(i&&i!=="media")return`${n}, ${i.replace("%s",String(s))}`}else if(s){if(i==="media")return{[`@media (prefers-color-scheme: ${String(s)})`]:{[n]:a}};if(i)return i.replace("%s",String(s))}return n};function IY(t,s){s.forEach(a=>{t[a]||(t[a]={})})}function mt(t,s,a){!t[s]&&a&&(t[s]=a)}function cf(t){return typeof t!="string"||!t.startsWith("hsl")?t:y9(t)}function Pl(t,s){`${s}Channel`in t||(t[`${s}Channel`]=lf(cf(t[s])))}function OY(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Do=t=>{try{return t()}catch{}},FY=(t="mui")=>nY(t);function tN(t,s,a,n,r){if(!a)return;a=a===!0?{}:a;const i=r==="dark"?"dark":"light";if(!n){s[r]=MY({...a,palette:{mode:i,...a?.palette},colorSpace:t});return}const{palette:o,...l}=yw({...n,palette:{mode:i,...a?.palette},colorSpace:t});return s[r]={...a,palette:o,opacity:{...T9(i),...a?.opacity},overlays:a?.overlays||M9(i)},l}function LY(t={},...s){const{colorSchemes:a={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",nativeColor:o=!1,shouldSkipGeneratingVar:l=DY,colorSchemeSelector:c=a.light&&a.dark?"media":void 0,rootSelector:m=":root",...u}=t,h=Object.keys(a)[0],f=n||(a.light&&h!=="light"?"light":h),v=FY(i),{[f]:_,light:S,dark:j,...b}=a,w={...b};let C=_;if((f==="dark"&&!("dark"in a)||f==="light"&&!("light"in a))&&(C=!0),!C)throw new Error(Zl(21,f));let P;o&&(P="oklch");const E=tN(P,w,C,u,f);S&&!w.light&&tN(P,w,S,void 0,"light"),j&&!w.dark&&tN(P,w,j,void 0,"dark");let D={defaultColorScheme:f,...E,cssVarPrefix:i,colorSchemeSelector:c,rootSelector:m,getCssVar:v,colorSchemes:w,font:{...xY(E.typography),...E.font},spacing:OY(u.spacing)};Object.keys(D.colorSchemes).forEach($=>{const A=D.colorSchemes[$].palette,Q=U=>{const B=U.split("-"),V=B[1],Y=B[2];return v(U,A[V][Y])};A.mode==="light"&&(mt(A.common,"background","#fff"),mt(A.common,"onBackground","#000")),A.mode==="dark"&&(mt(A.common,"background","#000"),mt(A.common,"onBackground","#fff"));function K(U,B,V){if(P){let Y;return U===Ed&&(Y=`transparent ${((1-V)*100).toFixed(0)}%`),U===Ca&&(Y=`#000 ${(V*100).toFixed(0)}%`),U===ka&&(Y=`#fff ${(V*100).toFixed(0)}%`),`color-mix(in ${P}, ${B}, ${Y})`}return U(B,V)}if(IY(A,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),A.mode==="light"){mt(A.Alert,"errorColor",K(Ca,A.error.light,.6)),mt(A.Alert,"infoColor",K(Ca,A.info.light,.6)),mt(A.Alert,"successColor",K(Ca,A.success.light,.6)),mt(A.Alert,"warningColor",K(Ca,A.warning.light,.6)),mt(A.Alert,"errorFilledBg",Q("palette-error-main")),mt(A.Alert,"infoFilledBg",Q("palette-info-main")),mt(A.Alert,"successFilledBg",Q("palette-success-main")),mt(A.Alert,"warningFilledBg",Q("palette-warning-main")),mt(A.Alert,"errorFilledColor",Do(()=>A.getContrastText(A.error.main))),mt(A.Alert,"infoFilledColor",Do(()=>A.getContrastText(A.info.main))),mt(A.Alert,"successFilledColor",Do(()=>A.getContrastText(A.success.main))),mt(A.Alert,"warningFilledColor",Do(()=>A.getContrastText(A.warning.main))),mt(A.Alert,"errorStandardBg",K(ka,A.error.light,.9)),mt(A.Alert,"infoStandardBg",K(ka,A.info.light,.9)),mt(A.Alert,"successStandardBg",K(ka,A.success.light,.9)),mt(A.Alert,"warningStandardBg",K(ka,A.warning.light,.9)),mt(A.Alert,"errorIconColor",Q("palette-error-main")),mt(A.Alert,"infoIconColor",Q("palette-info-main")),mt(A.Alert,"successIconColor",Q("palette-success-main")),mt(A.Alert,"warningIconColor",Q("palette-warning-main")),mt(A.AppBar,"defaultBg",Q("palette-grey-100")),mt(A.Avatar,"defaultBg",Q("palette-grey-400")),mt(A.Button,"inheritContainedBg",Q("palette-grey-300")),mt(A.Button,"inheritContainedHoverBg",Q("palette-grey-A100")),mt(A.Chip,"defaultBorder",Q("palette-grey-400")),mt(A.Chip,"defaultAvatarColor",Q("palette-grey-700")),mt(A.Chip,"defaultIconColor",Q("palette-grey-700")),mt(A.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),mt(A.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),mt(A.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),mt(A.LinearProgress,"primaryBg",K(ka,A.primary.main,.62)),mt(A.LinearProgress,"secondaryBg",K(ka,A.secondary.main,.62)),mt(A.LinearProgress,"errorBg",K(ka,A.error.main,.62)),mt(A.LinearProgress,"infoBg",K(ka,A.info.main,.62)),mt(A.LinearProgress,"successBg",K(ka,A.success.main,.62)),mt(A.LinearProgress,"warningBg",K(ka,A.warning.main,.62)),mt(A.Skeleton,"bg",P?K(Ed,A.text.primary,.11):`rgba(${Q("palette-text-primaryChannel")} / 0.11)`),mt(A.Slider,"primaryTrack",K(ka,A.primary.main,.62)),mt(A.Slider,"secondaryTrack",K(ka,A.secondary.main,.62)),mt(A.Slider,"errorTrack",K(ka,A.error.main,.62)),mt(A.Slider,"infoTrack",K(ka,A.info.main,.62)),mt(A.Slider,"successTrack",K(ka,A.success.main,.62)),mt(A.Slider,"warningTrack",K(ka,A.warning.main,.62));const U=P?K(Ca,A.background.default,.6825):Q0(A.background.default,.8);mt(A.SnackbarContent,"bg",U),mt(A.SnackbarContent,"color",Do(()=>P?gw.text.primary:A.getContrastText(U))),mt(A.SpeedDialAction,"fabHoverBg",Q0(A.background.paper,.15)),mt(A.StepConnector,"border",Q("palette-grey-400")),mt(A.StepContent,"border",Q("palette-grey-400")),mt(A.Switch,"defaultColor",Q("palette-common-white")),mt(A.Switch,"defaultDisabledColor",Q("palette-grey-100")),mt(A.Switch,"primaryDisabledColor",K(ka,A.primary.main,.62)),mt(A.Switch,"secondaryDisabledColor",K(ka,A.secondary.main,.62)),mt(A.Switch,"errorDisabledColor",K(ka,A.error.main,.62)),mt(A.Switch,"infoDisabledColor",K(ka,A.info.main,.62)),mt(A.Switch,"successDisabledColor",K(ka,A.success.main,.62)),mt(A.Switch,"warningDisabledColor",K(ka,A.warning.main,.62)),mt(A.TableCell,"border",K(ka,K(Ed,A.divider,1),.88)),mt(A.Tooltip,"bg",K(Ed,A.grey[700],.92))}if(A.mode==="dark"){mt(A.Alert,"errorColor",K(ka,A.error.light,.6)),mt(A.Alert,"infoColor",K(ka,A.info.light,.6)),mt(A.Alert,"successColor",K(ka,A.success.light,.6)),mt(A.Alert,"warningColor",K(ka,A.warning.light,.6)),mt(A.Alert,"errorFilledBg",Q("palette-error-dark")),mt(A.Alert,"infoFilledBg",Q("palette-info-dark")),mt(A.Alert,"successFilledBg",Q("palette-success-dark")),mt(A.Alert,"warningFilledBg",Q("palette-warning-dark")),mt(A.Alert,"errorFilledColor",Do(()=>A.getContrastText(A.error.dark))),mt(A.Alert,"infoFilledColor",Do(()=>A.getContrastText(A.info.dark))),mt(A.Alert,"successFilledColor",Do(()=>A.getContrastText(A.success.dark))),mt(A.Alert,"warningFilledColor",Do(()=>A.getContrastText(A.warning.dark))),mt(A.Alert,"errorStandardBg",K(Ca,A.error.light,.9)),mt(A.Alert,"infoStandardBg",K(Ca,A.info.light,.9)),mt(A.Alert,"successStandardBg",K(Ca,A.success.light,.9)),mt(A.Alert,"warningStandardBg",K(Ca,A.warning.light,.9)),mt(A.Alert,"errorIconColor",Q("palette-error-main")),mt(A.Alert,"infoIconColor",Q("palette-info-main")),mt(A.Alert,"successIconColor",Q("palette-success-main")),mt(A.Alert,"warningIconColor",Q("palette-warning-main")),mt(A.AppBar,"defaultBg",Q("palette-grey-900")),mt(A.AppBar,"darkBg",Q("palette-background-paper")),mt(A.AppBar,"darkColor",Q("palette-text-primary")),mt(A.Avatar,"defaultBg",Q("palette-grey-600")),mt(A.Button,"inheritContainedBg",Q("palette-grey-800")),mt(A.Button,"inheritContainedHoverBg",Q("palette-grey-700")),mt(A.Chip,"defaultBorder",Q("palette-grey-700")),mt(A.Chip,"defaultAvatarColor",Q("palette-grey-300")),mt(A.Chip,"defaultIconColor",Q("palette-grey-300")),mt(A.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),mt(A.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),mt(A.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),mt(A.LinearProgress,"primaryBg",K(Ca,A.primary.main,.5)),mt(A.LinearProgress,"secondaryBg",K(Ca,A.secondary.main,.5)),mt(A.LinearProgress,"errorBg",K(Ca,A.error.main,.5)),mt(A.LinearProgress,"infoBg",K(Ca,A.info.main,.5)),mt(A.LinearProgress,"successBg",K(Ca,A.success.main,.5)),mt(A.LinearProgress,"warningBg",K(Ca,A.warning.main,.5)),mt(A.Skeleton,"bg",P?K(Ed,A.text.primary,.13):`rgba(${Q("palette-text-primaryChannel")} / 0.13)`),mt(A.Slider,"primaryTrack",K(Ca,A.primary.main,.5)),mt(A.Slider,"secondaryTrack",K(Ca,A.secondary.main,.5)),mt(A.Slider,"errorTrack",K(Ca,A.error.main,.5)),mt(A.Slider,"infoTrack",K(Ca,A.info.main,.5)),mt(A.Slider,"successTrack",K(Ca,A.success.main,.5)),mt(A.Slider,"warningTrack",K(Ca,A.warning.main,.5));const U=P?K(ka,A.background.default,.985):Q0(A.background.default,.98);mt(A.SnackbarContent,"bg",U),mt(A.SnackbarContent,"color",Do(()=>P?S9.text.primary:A.getContrastText(U))),mt(A.SpeedDialAction,"fabHoverBg",Q0(A.background.paper,.15)),mt(A.StepConnector,"border",Q("palette-grey-600")),mt(A.StepContent,"border",Q("palette-grey-600")),mt(A.Switch,"defaultColor",Q("palette-grey-300")),mt(A.Switch,"defaultDisabledColor",Q("palette-grey-600")),mt(A.Switch,"primaryDisabledColor",K(Ca,A.primary.main,.55)),mt(A.Switch,"secondaryDisabledColor",K(Ca,A.secondary.main,.55)),mt(A.Switch,"errorDisabledColor",K(Ca,A.error.main,.55)),mt(A.Switch,"infoDisabledColor",K(Ca,A.info.main,.55)),mt(A.Switch,"successDisabledColor",K(Ca,A.success.main,.55)),mt(A.Switch,"warningDisabledColor",K(Ca,A.warning.main,.55)),mt(A.TableCell,"border",K(Ca,K(Ed,A.divider,1),.68)),mt(A.Tooltip,"bg",K(Ed,A.grey[700],.92))}Pl(A.background,"default"),Pl(A.background,"paper"),Pl(A.common,"background"),Pl(A.common,"onBackground"),Pl(A,"divider"),Object.keys(A).forEach(U=>{const B=A[U];U!=="tonalOffset"&&B&&typeof B=="object"&&(B.main&&mt(A[U],"mainChannel",lf(cf(B.main))),B.light&&mt(A[U],"lightChannel",lf(cf(B.light))),B.dark&&mt(A[U],"darkChannel",lf(cf(B.dark))),B.contrastText&&mt(A[U],"contrastTextChannel",lf(cf(B.contrastText))),U==="text"&&(Pl(A[U],"primary"),Pl(A[U],"secondary")),U==="action"&&(B.active&&Pl(A[U],"active"),B.selected&&Pl(A[U],"selected")))})}),D=s.reduce(($,A)=>ur($,A),D);const T={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:l,getSelector:AY(D),enableContrastVars:o},{vars:R,generateThemeVars:z,generateStyleSheets:O}=oY(D,T);return D.vars=R,Object.entries(D.colorSchemes[D.defaultColorScheme]).forEach(([$,A])=>{D[$]=A}),D.generateThemeVars=z,D.generateStyleSheets=O,D.generateSpacing=function(){return l9(u.spacing,l4(this))},D.getColorSchemeSelector=lY(c),D.spacing=D.generateSpacing(),D.shouldSkipGeneratingVar=l,D.unstable_sxConfig={...og,...u?.unstable_sxConfig},D.unstable_sx=function(A){return Zc({sx:A,theme:this})},D.toRuntimeSource=E9,D}function RP(t,s,a){t.colorSchemes&&a&&(t.colorSchemes[s]={...a!==!0&&a,palette:f4({...a===!0?{}:a.palette,mode:s})})}function yv(t={},...s){const{palette:a,cssVariables:n=!1,colorSchemes:r=a?void 0:{light:!0},defaultColorScheme:i=a?.mode,...o}=t,l=i||"light",c=r?.[l],m={...r,...a?{[l]:{...typeof c!="boolean"&&c,palette:a}}:void 0};if(n===!1){if(!("colorSchemes"in t))return yw(t,...s);let u=a;"palette"in t||m[l]&&(m[l]!==!0?u=m[l].palette:l==="dark"&&(u={mode:"dark"}));const h=yw({...t,palette:u},...s);return h.defaultColorScheme=l,h.colorSchemes=m,h.palette.mode==="light"&&(h.colorSchemes.light={...m.light!==!0&&m.light,palette:h.palette},RP(h,"dark",m.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...m.dark!==!0&&m.dark,palette:h.palette},RP(h,"light",m.light)),h}return!a&&!("light"in m)&&l==="light"&&(m.light=!0),LY({...o,colorSchemes:m,defaultColorScheme:l,...typeof n!="boolean"&&n},...s)}function zY(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function $Y(t){return parseFloat(t)}const bv=yv();function vi(){const t=hv(bv);return t[Gi]||t}function Vs({props:t,name:s}){return EW({props:t,name:s,defaultTheme:bv,themeId:Gi})}function D9(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Bn=t=>D9(t)&&t!=="classes",Ne=_W({themeId:Gi,defaultTheme:bv,rootShouldForwardProp:Bn});function qY({theme:t,...s}){const a=Gi in t?t[Gi]:void 0;return e.jsx(N9,{...s,themeId:a?Gi:void 0,theme:a||t})}const Z0={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:BY}=aY({themeId:Gi,theme:()=>yv({cssVariables:!0}),colorSchemeStorageKey:Z0.colorSchemeStorageKey,modeStorageKey:Z0.modeStorageKey,defaultColorScheme:{light:Z0.defaultLightColorScheme,dark:Z0.defaultDarkColorScheme},resolveTheme:t=>{const s={...t,typography:k9(t.palette,t.typography)};return s.unstable_sx=function(n){return Zc({sx:n,theme:this})},s}}),UY=BY;function VY({theme:t,...s}){const a=g.useMemo(()=>{if(typeof t=="function")return t;const n=Gi in t?t[Gi]:t;return"colorSchemes"in n?null:"vars"in n?t:{...t,vars:null}},[t]);return a?e.jsx(qY,{theme:a,...s}):e.jsx(UY,{theme:t,...s})}function vw(...t){return t.reduce((s,a)=>a==null?s:function(...r){s.apply(this,r),a.apply(this,r)},()=>{})}function HY(t){return e.jsx(c9,{...t,defaultTheme:bv,themeId:Gi})}function WY(t){return function(a){return e.jsx(HY,{styles:typeof t=="function"?n=>t({theme:n,...a}):t})}}function YY(){return d9}const Ht=KW;function ss(t){return HW(t)}function GY(t){return Et("MuiSvgIcon",t)}Pt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const KY=t=>{const{color:s,fontSize:a,classes:n}=t,r={root:["root",s!=="inherit"&&`color${Je(s)}`,`fontSize${Je(a)}`]};return kt(r,GY,n)},QY=Ne("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.color!=="inherit"&&s[`color${Je(a.color)}`],s[`fontSize${Je(a.fontSize)}`]]}})(Ht(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:s=>!s.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,s])=>s&&s.main).map(([s])=>({props:{color:s},style:{color:(t.vars??t).palette?.[s]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),jw=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiSvgIcon"}),{children:r,className:i,color:o="inherit",component:l="svg",fontSize:c="medium",htmlColor:m,inheritViewBox:u=!1,titleAccess:h,viewBox:f="0 0 24 24",...v}=n,_=g.isValidElement(r)&&r.type==="svg",S={...n,color:o,component:l,fontSize:c,instanceFontSize:s.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:_},j={};u||(j.viewBox=f);const b=KY(S);return e.jsxs(QY,{as:l,className:tt(b.root,i),focusable:"false",color:m,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:a,...j,...v,..._&&r.props,ownerState:S,children:[_?r.props.children:r,h?e.jsx("title",{children:h}):null]})});jw.muiName="SvgIcon";function Ut(t,s){function a(n,r){return e.jsx(jw,{"data-testid":void 0,ref:r,...n,children:t})}return a.muiName=jw.muiName,g.memo(g.forwardRef(a))}function lg(t,s=166){let a;function n(...r){const i=()=>{t.apply(this,r)};clearTimeout(a),a=setTimeout(i,s)}return n.clear=()=>{clearTimeout(a)},n}function dn(t){return t&&t.ownerDocument||document}function xi(t){return dn(t).defaultView||window}function Nw(t,s){typeof t=="function"?t(s):t&&(t.current=s)}function zr(t){const{controlled:s,default:a,name:n,state:r="value"}=t,{current:i}=g.useRef(s!==void 0),[o,l]=g.useState(a),c=i?s:o,m=g.useCallback(u=>{i||l(u)},[]);return[c,m]}function At(t){const s=g.useRef(t);return La(()=>{s.current=t}),g.useRef((...a)=>(0,s.current)(...a)).current}function Us(...t){const s=g.useRef(void 0),a=g.useCallback(n=>{const r=t.map(i=>{if(i==null)return null;if(typeof i=="function"){const o=i,l=o(n);return typeof l=="function"?l:()=>{o(null)}}return i.current=n,()=>{i.current=null}});return()=>{r.forEach(i=>i?.())}},t);return g.useMemo(()=>t.every(n=>n==null)?null:n=>{s.current&&(s.current(),s.current=void 0),n!=null&&(s.current=a(n))},t)}function ZY(t,s){const a=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&a>=65&&a<=90&&typeof s=="function"}function x4(t,s){if(!t)return s;function a(o,l){const c={};return Object.keys(l).forEach(m=>{ZY(m,l[m])&&typeof o[m]=="function"&&(c[m]=(...u)=>{o[m](...u),l[m](...u)})}),c}if(typeof t=="function"||typeof s=="function")return o=>{const l=typeof s=="function"?s(o):s,c=typeof t=="function"?t({...o,...l}):t,m=tt(o?.className,l?.className,c?.className),u=a(c,l);return{...l,...c,...u,...!!m&&{className:m},...l?.style&&c?.style&&{style:{...l.style,...c.style}},...l?.sx&&c?.sx&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const n=s,r=a(t,n),i=tt(n?.className,t?.className);return{...s,...t,...r,...!!i&&{className:i},...n?.style&&t?.style&&{style:{...n.style,...t.style}},...n?.sx&&t?.sx&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function rs(t,s){if(t==null)return{};var a={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(s.indexOf(n)!==-1)continue;a[n]=t[n]}return a}function ww(t,s){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},ww(t,s)}function g4(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t,ww(t,s)}function XY(t,s){return t.classList?!!s&&t.classList.contains(s):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+s+" ")!==-1}function JY(t,s){t.classList?t.classList.add(s):XY(t,s)||(typeof t.className=="string"?t.className=t.className+" "+s:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+s))}function AP(t,s){return t.replace(new RegExp("(^|\\s)"+s+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function eG(t,s){t.classList?t.classList.remove(s):typeof t.className=="string"?t.className=AP(t.className,s):t.setAttribute("class",AP(t.className&&t.className.baseVal||"",s))}const IP={disabled:!1},xb=Nt.createContext(null);var R9=function(s){return s.scrollTop},df="unmounted",zd="exited",$d="entering",Sm="entered",_w="exiting",ji=(function(t){g4(s,t);function s(n,r){var i;i=t.call(this,n,r)||this;var o=r,l=o&&!o.isMounting?n.enter:n.appear,c;return i.appearStatus=null,n.in?l?(c=zd,i.appearStatus=$d):c=Sm:n.unmountOnExit||n.mountOnEnter?c=df:c=zd,i.state={status:c},i.nextCallback=null,i}s.getDerivedStateFromProps=function(r,i){var o=r.in;return o&&i.status===df?{status:zd}:null};var a=s.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(r){var i=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==$d&&o!==Sm&&(i=$d):(o===$d||o===Sm)&&(i=_w)}this.updateStatus(!1,i)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var r=this.props.timeout,i,o,l;return i=o=l=r,r!=null&&typeof r!="number"&&(i=r.exit,o=r.enter,l=r.appear!==void 0?r.appear:o),{exit:i,enter:o,appear:l}},a.updateStatus=function(r,i){if(r===void 0&&(r=!1),i!==null)if(this.cancelNextCallback(),i===$d){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:of.findDOMNode(this);o&&R9(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zd&&this.setState({status:df})},a.performEnter=function(r){var i=this,o=this.props.enter,l=this.context?this.context.isMounting:r,c=this.props.nodeRef?[l]:[of.findDOMNode(this),l],m=c[0],u=c[1],h=this.getTimeouts(),f=l?h.appear:h.enter;if(!r&&!o||IP.disabled){this.safeSetState({status:Sm},function(){i.props.onEntered(m)});return}this.props.onEnter(m,u),this.safeSetState({status:$d},function(){i.props.onEntering(m,u),i.onTransitionEnd(f,function(){i.safeSetState({status:Sm},function(){i.props.onEntered(m,u)})})})},a.performExit=function(){var r=this,i=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:of.findDOMNode(this);if(!i||IP.disabled){this.safeSetState({status:zd},function(){r.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:_w},function(){r.props.onExiting(l),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:zd},function(){r.props.onExited(l)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(r,i){i=this.setNextCallback(i),this.setState(r,i)},a.setNextCallback=function(r){var i=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,i.nextCallback=null,r(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},a.onTransitionEnd=function(r,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:of.findDOMNode(this),l=r==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],m=c[0],u=c[1];this.props.addEndListener(m,u)}r!=null&&setTimeout(this.nextCallback,r)},a.render=function(){var r=this.state.status;if(r===df)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=rs(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Nt.createElement(xb.Provider,{value:null},typeof o=="function"?o(r,l):Nt.cloneElement(Nt.Children.only(o),l))},s})(Nt.Component);ji.contextType=xb;ji.propTypes={};function ym(){}ji.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ym,onEntering:ym,onEntered:ym,onExit:ym,onExiting:ym,onExited:ym};ji.UNMOUNTED=df;ji.EXITED=zd;ji.ENTERING=$d;ji.ENTERED=Sm;ji.EXITING=_w;var tG=function(s,a){return s&&a&&a.split(" ").forEach(function(n){return JY(s,n)})},sN=function(s,a){return s&&a&&a.split(" ").forEach(function(n){return eG(s,n)})},y4=(function(t){g4(s,t);function s(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(l,c){var m=n.resolveArguments(l,c),u=m[0],h=m[1];n.removeClasses(u,"exit"),n.addClass(u,h?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(l,c)},n.onEntering=function(l,c){var m=n.resolveArguments(l,c),u=m[0],h=m[1],f=h?"appear":"enter";n.addClass(u,f,"active"),n.props.onEntering&&n.props.onEntering(l,c)},n.onEntered=function(l,c){var m=n.resolveArguments(l,c),u=m[0],h=m[1],f=h?"appear":"enter";n.removeClasses(u,f),n.addClass(u,f,"done"),n.props.onEntered&&n.props.onEntered(l,c)},n.onExit=function(l){var c=n.resolveArguments(l),m=c[0];n.removeClasses(m,"appear"),n.removeClasses(m,"enter"),n.addClass(m,"exit","base"),n.props.onExit&&n.props.onExit(l)},n.onExiting=function(l){var c=n.resolveArguments(l),m=c[0];n.addClass(m,"exit","active"),n.props.onExiting&&n.props.onExiting(l)},n.onExited=function(l){var c=n.resolveArguments(l),m=c[0];n.removeClasses(m,"exit"),n.addClass(m,"exit","done"),n.props.onExited&&n.props.onExited(l)},n.resolveArguments=function(l,c){return n.props.nodeRef?[n.props.nodeRef.current,l]:[l,c]},n.getClassNames=function(l){var c=n.props.classNames,m=typeof c=="string",u=m&&c?c+"-":"",h=m?""+u+l:c[l],f=m?h+"-active":c[l+"Active"],v=m?h+"-done":c[l+"Done"];return{baseClassName:h,activeClassName:f,doneClassName:v}},n}var a=s.prototype;return a.addClass=function(r,i,o){var l=this.getClassNames(i)[o+"ClassName"],c=this.getClassNames("enter"),m=c.doneClassName;i==="appear"&&o==="done"&&m&&(l+=" "+m),o==="active"&&r&&R9(r),l&&(this.appliedClasses[i][o]=l,tG(r,l))},a.removeClasses=function(r,i){var o=this.appliedClasses[i],l=o.base,c=o.active,m=o.done;this.appliedClasses[i]={},l&&sN(r,l),c&&sN(r,c),m&&sN(r,m)},a.render=function(){var r=this.props;r.classNames;var i=rs(r,["classNames"]);return Nt.createElement(ji,be({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},s})(Nt.Component);y4.defaultProps={classNames:""};y4.propTypes={};function sG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b4(t,s){var a=function(i){return s&&g.isValidElement(i)?s(i):i},n=Object.create(null);return t&&g.Children.map(t,function(r){return r}).forEach(function(r){n[r.key]=a(r)}),n}function aG(t,s){t=t||{},s=s||{};function a(u){return u in s?s[u]:t[u]}var n=Object.create(null),r=[];for(var i in t)i in s?r.length&&(n[i]=r,r=[]):r.push(i);var o,l={};for(var c in s){if(n[c])for(o=0;o<n[c].length;o++){var m=n[c][o];l[n[c][o]]=a(m)}l[c]=a(c)}for(o=0;o<r.length;o++)l[r[o]]=a(r[o]);return l}function Zd(t,s,a){return a[s]!=null?a[s]:t.props[s]}function nG(t,s){return b4(t.children,function(a){return g.cloneElement(a,{onExited:s.bind(null,a),in:!0,appear:Zd(a,"appear",t),enter:Zd(a,"enter",t),exit:Zd(a,"exit",t)})})}function rG(t,s,a){var n=b4(t.children),r=aG(s,n);return Object.keys(r).forEach(function(i){var o=r[i];if(g.isValidElement(o)){var l=i in s,c=i in n,m=s[i],u=g.isValidElement(m)&&!m.props.in;c&&(!l||u)?r[i]=g.cloneElement(o,{onExited:a.bind(null,o),in:!0,exit:Zd(o,"exit",t),enter:Zd(o,"enter",t)}):!c&&l&&!u?r[i]=g.cloneElement(o,{in:!1}):c&&l&&g.isValidElement(m)&&(r[i]=g.cloneElement(o,{onExited:a.bind(null,o),in:m.props.in,exit:Zd(o,"exit",t),enter:Zd(o,"enter",t)}))}}),r}var iG=Object.values||function(t){return Object.keys(t).map(function(s){return t[s]})},oG={component:"div",childFactory:function(s){return s}},cg=(function(t){g4(s,t);function s(n,r){var i;i=t.call(this,n,r)||this;var o=i.handleExited.bind(sG(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var a=s.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(r,i){var o=i.children,l=i.handleExited,c=i.firstRender;return{children:c?nG(r,l):rG(r,o,l),firstRender:!1}},a.handleExited=function(r,i){var o=b4(this.props.children);r.key in o||(r.props.onExited&&r.props.onExited(i),this.mounted&&this.setState(function(l){var c=be({},l.children);return delete c[r.key],{children:c}}))},a.render=function(){var r=this.props,i=r.component,o=r.childFactory,l=rs(r,["component","childFactory"]),c=this.state.contextValue,m=iG(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,i===null?Nt.createElement(xb.Provider,{value:c},m):Nt.createElement(xb.Provider,{value:c},Nt.createElement(i,l,m))},s})(Nt.Component);cg.propTypes={};cg.defaultProps=oG;const OP={};function A9(t,s){const a=g.useRef(OP);return a.current===OP&&(a.current=t(s)),a}const lG=[];function cG(t){g.useEffect(t,lG)}class vv{static create(){return new vv}currentId=null;start(s,a){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,a()},s)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function ci(){const t=A9(vv.create).current;return cG(t.disposeEffect),t}const v4=t=>t.scrollTop;function Jc(t,s){const{timeout:a,easing:n,style:r={}}=t;return{duration:r.transitionDuration??(typeof a=="number"?a:a[s.mode]||0),easing:r.transitionTimingFunction??(typeof n=="object"?n[s.mode]:n),delay:r.transitionDelay}}function np(t){return typeof t=="string"}function I9(t,s,a){return t===void 0||np(t)?s:{...s,ownerState:{...s.ownerState,...a}}}function mr(t,s,a){return typeof t=="function"?t(s,a):t}function O9(t,s=[]){if(t===void 0)return{};const a={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!s.includes(n)).forEach(n=>{a[n]=t[n]}),a}function FP(t){if(t===void 0)return{};const s={};return Object.keys(t).filter(a=>!(a.match(/^on[A-Z]/)&&typeof t[a]=="function")).forEach(a=>{s[a]=t[a]}),s}function F9(t){const{getSlotProps:s,additionalProps:a,externalSlotProps:n,externalForwardedProps:r,className:i}=t;if(!s){const v=tt(a?.className,i,r?.className,n?.className),_={...a?.style,...r?.style,...n?.style},S={...a,...r,...n};return v.length>0&&(S.className=v),Object.keys(_).length>0&&(S.style=_),{props:S,internalRef:void 0}}const o=O9({...r,...n}),l=FP(n),c=FP(r),m=s(o),u=tt(m?.className,a?.className,i,r?.className,n?.className),h={...m?.style,...a?.style,...r?.style,...n?.style},f={...m,...a,...c,...l};return u.length>0&&(f.className=u),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:m.ref}}function Yt(t,s){const{className:a,elementType:n,ownerState:r,externalForwardedProps:i,internalForwardedProps:o,shouldForwardComponentProp:l=!1,...c}=s,{component:m,slots:u={[t]:void 0},slotProps:h={[t]:void 0},...f}=i,v=u[t]||n,_=mr(h[t],r),{props:{component:S,...j},internalRef:b}=F9({className:a,...c,externalForwardedProps:t==="root"?f:void 0,externalSlotProps:_}),w=Us(b,_?.ref,s.ref),C=t==="root"?S||m:S,P=I9(v,{...t==="root"&&!m&&!u[t]&&o,...t!=="root"&&!u[t]&&o,...j,...C&&!l&&{as:C},...C&&l&&{component:C},ref:w},r);return[v,P]}function dG(t){return Et("MuiCollapse",t)}Pt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const uG=t=>{const{orientation:s,classes:a}=t,n={root:["root",`${s}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${s}`],wrapperInner:["wrapperInner",`${s}`]};return kt(n,dG,a)},mG=Ne("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.orientation],a.state==="entered"&&s.entered,a.state==="exited"&&!a.in&&a.collapsedSize==="0px"&&s.hidden]}})(Ht(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:s})=>s.state==="exited"&&!s.in&&s.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),pG=Ne("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),hG=Ne("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Sw=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiCollapse"}),{addEndListener:r,children:i,className:o,collapsedSize:l="0px",component:c,easing:m,in:u,onEnter:h,onEntered:f,onEntering:v,onExit:_,onExited:S,onExiting:j,orientation:b="vertical",slots:w={},slotProps:C={},style:P,timeout:E=P9.standard,TransitionComponent:D=ji,...T}=n,R={...n,orientation:b,collapsedSize:l},z=uG(R),O=vi(),$=ci(),A=g.useRef(null),Q=g.useRef(),K=typeof l=="number"?`${l}px`:l,U=b==="horizontal",B=U?"width":"height",V=g.useRef(null),Y=Us(a,V),H=we=>Ae=>{if(we){const Fe=V.current;Ae===void 0?we(Fe):we(Fe,Ae)}},F=()=>A.current?A.current[U?"clientWidth":"clientHeight"]:0,M=H((we,Ae)=>{A.current&&U&&(A.current.style.position="absolute"),we.style[B]=K,h&&h(we,Ae)}),L=H((we,Ae)=>{const Fe=F();A.current&&U&&(A.current.style.position="");const{duration:Me,easing:Xe}=Jc({style:P,timeout:E,easing:m},{mode:"enter"});if(E==="auto"){const ke=O.transitions.getAutoHeightDuration(Fe);we.style.transitionDuration=`${ke}ms`,Q.current=ke}else we.style.transitionDuration=typeof Me=="string"?Me:`${Me}ms`;we.style[B]=`${Fe}px`,we.style.transitionTimingFunction=Xe,v&&v(we,Ae)}),W=H((we,Ae)=>{we.style[B]="auto",f&&f(we,Ae)}),X=H(we=>{we.style[B]=`${F()}px`,_&&_(we)}),te=H(S),se=H(we=>{const Ae=F(),{duration:Fe,easing:Me}=Jc({style:P,timeout:E,easing:m},{mode:"exit"});if(E==="auto"){const Xe=O.transitions.getAutoHeightDuration(Ae);we.style.transitionDuration=`${Xe}ms`,Q.current=Xe}else we.style.transitionDuration=typeof Fe=="string"?Fe:`${Fe}ms`;we.style[B]=K,we.style.transitionTimingFunction=Me,j&&j(we)}),ae=we=>{E==="auto"&&$.start(Q.current||0,we),r&&r(V.current,we)},pe={slots:w,slotProps:C,component:c},[he,re]=Yt("root",{ref:Y,className:tt(z.root,o),elementType:mG,externalForwardedProps:pe,ownerState:R,additionalProps:{style:{[U?"minWidth":"minHeight"]:K,...P}}}),[xe,ge]=Yt("wrapper",{ref:A,className:z.wrapper,elementType:pG,externalForwardedProps:pe,ownerState:R}),[le,de]=Yt("wrapperInner",{className:z.wrapperInner,elementType:hG,externalForwardedProps:pe,ownerState:R});return e.jsx(D,{in:u,onEnter:M,onEntered:W,onEntering:L,onExit:X,onExited:te,onExiting:se,addEndListener:ae,nodeRef:V,timeout:E==="auto"?null:E,...T,children:(we,{ownerState:Ae,...Fe})=>{const Me={...R,state:we};return e.jsx(he,{...re,className:tt(re.className,{entered:z.entered,exited:!u&&K==="0px"&&z.hidden}[we]),ownerState:Me,...Fe,children:e.jsx(xe,{...ge,ownerState:Me,children:e.jsx(le,{...de,ownerState:Me,children:i})})})}})});Sw&&(Sw.muiSupportAuto=!0);function fG(t){return Et("MuiPaper",t)}Pt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const xG=t=>{const{square:s,elevation:a,variant:n,classes:r}=t,i={root:["root",n,!s&&"rounded",n==="elevation"&&`elevation${a}`]};return kt(i,fG,r)},gG=Ne("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],!a.square&&s.rounded,a.variant==="elevation"&&s[`elevation${a.elevation}`]]}})(Ht(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:s})=>!s.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),da=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiPaper"}),r=vi(),{className:i,component:o="div",elevation:l=1,square:c=!1,variant:m="elevation",...u}=n,h={...n,component:o,elevation:l,square:c,variant:m},f=xG(h);return e.jsx(gG,{as:o,ownerState:h,className:tt(f.root,i),ref:a,...u,style:{...m==="elevation"&&{"--Paper-shadow":(r.vars||r).shadows[l],...r.vars&&{"--Paper-overlay":r.vars.overlays?.[l]},...!r.vars&&r.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${wr("#fff",bw(l))}, ${wr("#fff",bw(l))})`}},...u.style}})}),Pp=ne.oneOfType([ne.func,ne.object]);function rp(t){try{return t.matches(":focus-visible")}catch{}return!1}class gb{static create(){return new gb}static use(){const s=A9(gb.create).current,[a,n]=g.useState(!1);return s.shouldMount=a,s.setShouldMount=n,g.useEffect(s.mountEffect,[a]),s}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=bG(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...s){this.mount().then(()=>this.ref.current?.start(...s))}stop(...s){this.mount().then(()=>this.ref.current?.stop(...s))}pulsate(...s){this.mount().then(()=>this.ref.current?.pulsate(...s))}}function yG(){return gb.use()}function bG(){let t,s;const a=new Promise((n,r)=>{t=n,s=r});return a.resolve=t,a.reject=s,a}function vG(t){const{className:s,classes:a,pulsate:n=!1,rippleX:r,rippleY:i,rippleSize:o,in:l,onExited:c,timeout:m}=t,[u,h]=g.useState(!1),f=tt(s,a.ripple,a.rippleVisible,n&&a.ripplePulsate),v={width:o,height:o,top:-(o/2)+i,left:-(o/2)+r},_=tt(a.child,u&&a.childLeaving,n&&a.childPulsate);return!l&&!u&&h(!0),g.useEffect(()=>{if(!l&&c!=null){const S=setTimeout(c,m);return()=>{clearTimeout(S)}}},[c,l,m]),e.jsx("span",{className:f,style:v,children:e.jsx("span",{className:_})})}const $i=Pt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Cw=550,jG=80,NG=ol`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,wG=ol`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,_G=ol`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,SG=Ne("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),CG=Ne(vG,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${$i.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${NG};
    animation-duration: ${Cw}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${$i.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${$i.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${$i.childLeaving} {
    opacity: 0;
    animation-name: ${wG};
    animation-duration: ${Cw}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${$i.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${_G};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,kG=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiTouchRipple"}),{center:r=!1,classes:i={},className:o,...l}=n,[c,m]=g.useState([]),u=g.useRef(0),h=g.useRef(null);g.useEffect(()=>{h.current&&(h.current(),h.current=null)},[c]);const f=g.useRef(!1),v=ci(),_=g.useRef(null),S=g.useRef(null),j=g.useCallback(P=>{const{pulsate:E,rippleX:D,rippleY:T,rippleSize:R,cb:z}=P;m(O=>[...O,e.jsx(CG,{classes:{ripple:tt(i.ripple,$i.ripple),rippleVisible:tt(i.rippleVisible,$i.rippleVisible),ripplePulsate:tt(i.ripplePulsate,$i.ripplePulsate),child:tt(i.child,$i.child),childLeaving:tt(i.childLeaving,$i.childLeaving),childPulsate:tt(i.childPulsate,$i.childPulsate)},timeout:Cw,pulsate:E,rippleX:D,rippleY:T,rippleSize:R},u.current)]),u.current+=1,h.current=z},[i]),b=g.useCallback((P={},E={},D=()=>{})=>{const{pulsate:T=!1,center:R=r||E.pulsate,fakeElement:z=!1}=E;if(P?.type==="mousedown"&&f.current){f.current=!1;return}P?.type==="touchstart"&&(f.current=!0);const O=z?null:S.current,$=O?O.getBoundingClientRect():{width:0,height:0,left:0,top:0};let A,Q,K;if(R||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)A=Math.round($.width/2),Q=Math.round($.height/2);else{const{clientX:U,clientY:B}=P.touches&&P.touches.length>0?P.touches[0]:P;A=Math.round(U-$.left),Q=Math.round(B-$.top)}if(R)K=Math.sqrt((2*$.width**2+$.height**2)/3),K%2===0&&(K+=1);else{const U=Math.max(Math.abs((O?O.clientWidth:0)-A),A)*2+2,B=Math.max(Math.abs((O?O.clientHeight:0)-Q),Q)*2+2;K=Math.sqrt(U**2+B**2)}P?.touches?_.current===null&&(_.current=()=>{j({pulsate:T,rippleX:A,rippleY:Q,rippleSize:K,cb:D})},v.start(jG,()=>{_.current&&(_.current(),_.current=null)})):j({pulsate:T,rippleX:A,rippleY:Q,rippleSize:K,cb:D})},[r,j,v]),w=g.useCallback(()=>{b({},{pulsate:!0})},[b]),C=g.useCallback((P,E)=>{if(v.clear(),P?.type==="touchend"&&_.current){_.current(),_.current=null,v.start(0,()=>{C(P,E)});return}_.current=null,m(D=>D.length>0?D.slice(1):D),h.current=E},[v]);return g.useImperativeHandle(a,()=>({pulsate:w,start:b,stop:C}),[w,b,C]),e.jsx(SG,{className:tt($i.root,i.root,o),ref:S,...l,children:e.jsx(cg,{component:null,exit:!0,children:c})})});function PG(t){return Et("MuiButtonBase",t)}const EG=Pt("MuiButtonBase",["root","disabled","focusVisible"]),TG=t=>{const{disabled:s,focusVisible:a,focusVisibleClassName:n,classes:r}=t,o=kt({root:["root",s&&"disabled",a&&"focusVisible"]},PG,r);return a&&n&&(o.root+=` ${n}`),o},MG=Ne("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${EG.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),No=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiButtonBase"}),{action:r,centerRipple:i=!1,children:o,className:l,component:c="button",disabled:m=!1,disableRipple:u=!1,disableTouchRipple:h=!1,focusRipple:f=!1,focusVisibleClassName:v,LinkComponent:_="a",onBlur:S,onClick:j,onContextMenu:b,onDragLeave:w,onFocus:C,onFocusVisible:P,onKeyDown:E,onKeyUp:D,onMouseDown:T,onMouseLeave:R,onMouseUp:z,onTouchEnd:O,onTouchMove:$,onTouchStart:A,tabIndex:Q=0,TouchRippleProps:K,touchRippleRef:U,type:B,...V}=n,Y=g.useRef(null),H=yG(),F=Us(H.ref,U),[M,L]=g.useState(!1);m&&M&&L(!1),g.useImperativeHandle(r,()=>({focusVisible:()=>{L(!0),Y.current.focus()}}),[]);const W=H.shouldMount&&!u&&!m;g.useEffect(()=>{M&&f&&!u&&H.pulsate()},[u,f,M,H]);const X=El(H,"start",T,h),te=El(H,"stop",b,h),se=El(H,"stop",w,h),ae=El(H,"stop",z,h),pe=El(H,"stop",ye=>{M&&ye.preventDefault(),R&&R(ye)},h),he=El(H,"start",A,h),re=El(H,"stop",O,h),xe=El(H,"stop",$,h),ge=El(H,"stop",ye=>{rp(ye.target)||L(!1),S&&S(ye)},!1),le=At(ye=>{Y.current||(Y.current=ye.currentTarget),rp(ye.target)&&(L(!0),P&&P(ye)),C&&C(ye)}),de=()=>{const ye=Y.current;return c&&c!=="button"&&!(ye.tagName==="A"&&ye.href)},we=At(ye=>{f&&!ye.repeat&&M&&ye.key===" "&&H.stop(ye,()=>{H.start(ye)}),ye.target===ye.currentTarget&&de()&&ye.key===" "&&ye.preventDefault(),E&&E(ye),ye.target===ye.currentTarget&&de()&&ye.key==="Enter"&&!m&&(ye.preventDefault(),j&&j(ye))}),Ae=At(ye=>{f&&ye.key===" "&&M&&!ye.defaultPrevented&&H.stop(ye,()=>{H.pulsate(ye)}),D&&D(ye),j&&ye.target===ye.currentTarget&&de()&&ye.key===" "&&!ye.defaultPrevented&&j(ye)});let Fe=c;Fe==="button"&&(V.href||V.to)&&(Fe=_);const Me={};if(Fe==="button"){const ye=!!V.formAction;Me.type=B===void 0&&!ye?"button":B,Me.disabled=m}else!V.href&&!V.to&&(Me.role="button"),m&&(Me["aria-disabled"]=m);const Xe=Us(a,Y),ke={...n,centerRipple:i,component:c,disabled:m,disableRipple:u,disableTouchRipple:h,focusRipple:f,tabIndex:Q,focusVisible:M},Ye=TG(ke);return e.jsxs(MG,{as:Fe,className:tt(Ye.root,l),ownerState:ke,onBlur:ge,onClick:j,onContextMenu:te,onFocus:le,onKeyDown:we,onKeyUp:Ae,onMouseDown:X,onMouseLeave:pe,onMouseUp:ae,onDragLeave:se,onTouchEnd:re,onTouchMove:xe,onTouchStart:he,ref:Xe,tabIndex:m?-1:Q,type:B,...Me,...V,children:[o,W?e.jsx(kG,{ref:F,center:i,...K}):null]})});function El(t,s,a,n=!1){return At(r=>(a&&a(r),n||t[s](r),!0))}function DG(t){return typeof t.main=="string"}function RG(t,s=[]){if(!DG(t))return!1;for(const a of s)if(!t.hasOwnProperty(a)||typeof t[a]!="string")return!1;return!0}function Ia(t=[]){return([,s])=>s&&RG(s,t)}function AG(t){return Et("MuiAlert",t)}const LP=Pt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function IG(t){return Et("MuiCircularProgress",t)}Pt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const uo=44,kw=ol`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Pw=ol`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,OG=typeof kw!="string"?rd`
        animation: ${kw} 1.4s linear infinite;
      `:null,FG=typeof Pw!="string"?rd`
        animation: ${Pw} 1.4s ease-in-out infinite;
      `:null,LG=t=>{const{classes:s,variant:a,color:n,disableShrink:r}=t,i={root:["root",a,`color${Je(n)}`],svg:["svg"],track:["track"],circle:["circle",`circle${Je(a)}`,r&&"circleDisableShrink"]};return kt(i,IG,s)},zG=Ne("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],s[`color${Je(a.color)}`]]}})(Ht(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:OG||{animation:`${kw} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Ia()).map(([s])=>({props:{color:s},style:{color:(t.vars||t).palette[s].main}}))]}))),$G=Ne("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),qG=Ne("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.circle,s[`circle${Je(a.variant)}`],a.disableShrink&&s.circleDisableShrink]}})(Ht(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:s})=>s.variant==="indeterminate"&&!s.disableShrink,style:FG||{animation:`${Pw} 1.4s ease-in-out infinite`}}]}))),BG=Ne("circle",{name:"MuiCircularProgress",slot:"Track"})(Ht(({theme:t})=>({stroke:"currentColor",opacity:(t.vars||t).palette.action.activatedOpacity}))),wo=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:o=!1,enableTrackSlot:l=!1,size:c=40,style:m,thickness:u=3.6,value:h=0,variant:f="indeterminate",...v}=n,_={...n,color:i,disableShrink:o,size:c,thickness:u,value:h,variant:f,enableTrackSlot:l},S=LG(_),j={},b={},w={};if(f==="determinate"){const C=2*Math.PI*((uo-u)/2);j.strokeDasharray=C.toFixed(3),w["aria-valuenow"]=Math.round(h),j.strokeDashoffset=`${((100-h)/100*C).toFixed(3)}px`,b.transform="rotate(-90deg)"}return e.jsx(zG,{className:tt(S.root,r),style:{width:c,height:c,...b,...m},ownerState:_,ref:a,role:"progressbar",...w,...v,children:e.jsxs($G,{className:S.svg,ownerState:_,viewBox:`${uo/2} ${uo/2} ${uo} ${uo}`,children:[l?e.jsx(BG,{className:S.track,ownerState:_,cx:uo,cy:uo,r:(uo-u)/2,fill:"none",strokeWidth:u,"aria-hidden":"true"}):null,e.jsx(qG,{className:S.circle,style:j,ownerState:_,cx:uo,cy:uo,r:(uo-u)/2,fill:"none",strokeWidth:u})]})})});function UG(t){return Et("MuiIconButton",t)}const zP=Pt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),VG=t=>{const{classes:s,disabled:a,color:n,edge:r,size:i,loading:o}=t,l={root:["root",o&&"loading",a&&"disabled",n!=="default"&&`color${Je(n)}`,r&&`edge${Je(r)}`,`size${Je(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return kt(l,UG,s)},HG=Ne(No,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.loading&&s.loading,a.color!=="default"&&s[`color${Je(a.color)}`],a.edge&&s[`edge${Je(a.edge)}`],s[`size${Je(a.size)}`]]}})(Ht(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:s=>!s.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Ht(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Ia()).map(([s])=>({props:{color:s},style:{color:(t.vars||t).palette[s].main}})),...Object.entries(t.palette).filter(Ia()).map(([s])=>({props:{color:s},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[s].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${zP.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${zP.loading}`]:{color:"transparent"}}))),WG=Ne("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),na=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiIconButton"}),{edge:r=!1,children:i,className:o,color:l="default",disabled:c=!1,disableFocusRipple:m=!1,size:u="medium",id:h,loading:f=null,loadingIndicator:v,..._}=n,S=_r(h),j=v??e.jsx(wo,{"aria-labelledby":S,color:"inherit",size:16}),b={...n,edge:r,color:l,disabled:c,disableFocusRipple:m,loading:f,loadingIndicator:j,size:u},w=VG(b);return e.jsxs(HG,{id:f?S:h,className:tt(w.root,o),centerRipple:!0,focusRipple:!m,disabled:c||f,ref:a,..._,ownerState:b,children:[typeof f=="boolean"&&e.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:e.jsx(WG,{className:w.loadingIndicator,ownerState:b,children:f&&j})}),i]})}),YG=Ut(e.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),GG=Ut(e.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),KG=Ut(e.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),QG=Ut(e.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),L9=Ut(e.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),ZG=t=>{const{variant:s,color:a,severity:n,classes:r}=t,i={root:["root",`color${Je(a||n)}`,`${s}${Je(a||n)}`,`${s}`],icon:["icon"],message:["message"],action:["action"]};return kt(i,AG,r)},XG=Ne(da,{name:"MuiAlert",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],s[`${a.variant}${Je(a.color||a.severity)}`]]}})(Ht(({theme:t})=>{const s=t.palette.mode==="light"?t.darken:t.lighten,a=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(Ia(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:s(t.palette[n].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${n}StandardBg`]:a(t.palette[n].light,.9),[`& .${LP.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}})),...Object.entries(t.palette).filter(Ia(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:s(t.palette[n].light,.6),border:`1px solid ${(t.vars||t).palette[n].light}`,[`& .${LP.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}})),...Object.entries(t.palette).filter(Ia(["dark"])).map(([n])=>({props:{colorSeverity:n,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)}}}))]}})),JG=Ne("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),eK=Ne("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),tK=Ne("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),$P={success:e.jsx(YG,{fontSize:"inherit"}),warning:e.jsx(GG,{fontSize:"inherit"}),error:e.jsx(KG,{fontSize:"inherit"}),info:e.jsx(QG,{fontSize:"inherit"})},ct=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiAlert"}),{action:r,children:i,className:o,closeText:l="Close",color:c,components:m={},componentsProps:u={},icon:h,iconMapping:f=$P,onClose:v,role:_="alert",severity:S="success",slotProps:j={},slots:b={},variant:w="standard",...C}=n,P={...n,color:c,severity:S,variant:w,colorSeverity:c||S},E=ZG(P),D={slots:{closeButton:m.CloseButton,closeIcon:m.CloseIcon,...b},slotProps:{...u,...j}},[T,R]=Yt("root",{ref:a,shouldForwardComponentProp:!0,className:tt(E.root,o),elementType:XG,externalForwardedProps:{...D,...C},ownerState:P,additionalProps:{role:_,elevation:0}}),[z,O]=Yt("icon",{className:E.icon,elementType:JG,externalForwardedProps:D,ownerState:P}),[$,A]=Yt("message",{className:E.message,elementType:eK,externalForwardedProps:D,ownerState:P}),[Q,K]=Yt("action",{className:E.action,elementType:tK,externalForwardedProps:D,ownerState:P}),[U,B]=Yt("closeButton",{elementType:na,externalForwardedProps:D,ownerState:P}),[V,Y]=Yt("closeIcon",{elementType:L9,externalForwardedProps:D,ownerState:P});return e.jsxs(T,{...R,children:[h!==!1?e.jsx(z,{...O,children:h||f[S]||$P[S]}):null,e.jsx($,{...A,children:i}),r!=null?e.jsx(Q,{...K,children:r}):null,r==null&&v?e.jsx(Q,{...K,children:e.jsx(U,{size:"small","aria-label":l,title:l,color:"inherit",onClick:v,...B,children:e.jsx(V,{fontSize:"small",...Y})})}):null]})});function sK(t){return Et("MuiTypography",t)}const qP=Pt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),aK={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},nK=YY(),rK=t=>{const{align:s,gutterBottom:a,noWrap:n,paragraph:r,variant:i,classes:o}=t,l={root:["root",i,t.align!=="inherit"&&`align${Je(s)}`,a&&"gutterBottom",n&&"noWrap",r&&"paragraph"]};return kt(l,sK,o)},iK=Ne("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.variant&&s[a.variant],a.align!=="inherit"&&s[`align${Je(a.align)}`],a.noWrap&&s.noWrap,a.gutterBottom&&s.gutterBottom,a.paragraph&&s.paragraph]}})(Ht(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([s,a])=>s!=="inherit"&&a&&typeof a=="object").map(([s,a])=>({props:{variant:s},style:a})),...Object.entries(t.palette).filter(Ia()).map(([s])=>({props:{color:s},style:{color:(t.vars||t).palette[s].main}})),...Object.entries(t.palette?.text||{}).filter(([,s])=>typeof s=="string").map(([s])=>({props:{color:`text${Je(s)}`},style:{color:(t.vars||t).palette.text[s]}})),{props:({ownerState:s})=>s.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:s})=>s.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:s})=>s.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:s})=>s.paragraph,style:{marginBottom:16}}]}))),BP={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},x=g.forwardRef(function(s,a){const{color:n,...r}=ss({props:s,name:"MuiTypography"}),i=!aK[n],o=nK({...r,...i&&{color:n}}),{align:l="inherit",className:c,component:m,gutterBottom:u=!1,noWrap:h=!1,paragraph:f=!1,variant:v="body1",variantMapping:_=BP,...S}=o,j={...o,align:l,color:n,className:c,component:m,gutterBottom:u,noWrap:h,paragraph:f,variant:v,variantMapping:_},b=m||(f?"p":_[v]||BP[v])||"span",w=rK(j);return e.jsx(iK,{as:b,ref:a,className:tt(w.root,c),...S,ownerState:j,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...S.style}})});function j4(t){const s=g.useRef({});return g.useEffect(()=>{s.current=t}),s.current}function UP({array1:t,array2:s,parser:a=n=>n}){return t&&s&&t.length===s.length&&t.every((n,r)=>a(n)===a(s[r]))}function VP(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function oK(t={}){const{ignoreAccents:s=!0,ignoreCase:a=!0,limit:n,matchFrom:r="any",stringify:i,trim:o=!1}=t;return(l,{inputValue:c,getOptionLabel:m})=>{let u=o?c.trim():c;a&&(u=u.toLowerCase()),s&&(u=VP(u));const h=u?l.filter(f=>{let v=(i||m)(f);return a&&(v=v.toLowerCase()),s&&(v=VP(v)),r==="start"?v.startsWith(u):v.includes(u)}):l;return typeof n=="number"?h.slice(0,n):h}}const lK=oK(),HP=5,cK=t=>t.current!==null&&t.current.parentElement?.contains(document.activeElement),dK=[];function WP(t,s,a,n){if(s||t==null||n)return"";const r=a(t);return typeof r=="string"?r:""}function uK(t){const{unstable_isActiveElementInListbox:s=cK,unstable_classNamePrefix:a="Mui",autoComplete:n=!1,autoHighlight:r=!1,autoSelect:i=!1,blurOnSelect:o=!1,clearOnBlur:l=!t.freeSolo,clearOnEscape:c=!1,componentName:m="useAutocomplete",defaultValue:u=t.multiple?dK:null,disableClearable:h=!1,disableCloseOnSelect:f=!1,disabled:v,disabledItemsFocusable:_=!1,disableListWrap:S=!1,filterOptions:j=lK,filterSelectedOptions:b=!1,freeSolo:w=!1,getOptionDisabled:C,getOptionKey:P,getOptionLabel:E=Pe=>Pe.label??Pe,groupBy:D,handleHomeEndKeys:T=!t.freeSolo,id:R,includeInputInList:z=!1,inputValue:O,isOptionEqualToValue:$=(Pe,qe)=>Pe===qe,multiple:A=!1,onChange:Q,onClose:K,onHighlightChange:U,onInputChange:B,onOpen:V,open:Y,openOnFocus:H=!1,options:F,readOnly:M=!1,renderValue:L,selectOnFocus:W=!t.freeSolo,value:X}=t,te=_r(R);let se=E;se=Pe=>{const qe=E(Pe);return typeof qe!="string"?String(qe):qe};const ae=g.useRef(!1),pe=g.useRef(!0),he=g.useRef(null),re=g.useRef(null),[xe,ge]=g.useState(null),[le,de]=g.useState(-1),we=r?0:-1,Ae=g.useRef(we),Fe=g.useRef(WP(u??X,A,se)).current,[Me,Xe]=zr({controlled:X,default:u,name:m}),[ke,Ye]=zr({controlled:O,default:Fe,name:m,state:"inputValue"}),[ye,We]=g.useState(!1),Ge=g.useCallback((Pe,qe,Mt)=>{if(!(A?Me.length<qe.length:qe!==null)&&!l)return;const $t=WP(qe,A,se,L);ke!==$t&&(Ye($t),B&&B(Pe,$t,Mt))},[se,ke,A,B,Ye,l,Me,L]),[jt,dt]=zr({controlled:Y,default:!1,name:m,state:"open"}),[wt,Dt]=g.useState(!0),ve=!A&&Me!=null&&ke===se(Me),Le=jt&&!M,$e=Le?j(F.filter(Pe=>!(b&&(A?Me:[Me]).some(qe=>qe!==null&&$(Pe,qe)))),{inputValue:ve&&wt?"":ke,getOptionLabel:se}):[],bt=j4({filteredOptions:$e,value:Me,inputValue:ke});g.useEffect(()=>{const Pe=Me!==bt.value;ye&&!Pe||w&&!Pe||Ge(null,Me,"reset")},[Me,Ge,ye,bt.value,w]);const Zt=jt&&$e.length>0&&!M,Ot=At(Pe=>{if(Pe===-1)he.current.focus();else{const qe=L?"data-item-index":"data-tag-index";xe.querySelector(`[${qe}="${Pe}"]`).focus()}});g.useEffect(()=>{A&&le>Me.length-1&&(de(-1),Ot(-1))},[Me,A,le,Ot]);function It(Pe,qe){if(!re.current||Pe<0||Pe>=$e.length)return-1;let Mt=Pe;for(;;){const Xt=re.current.querySelector(`[data-option-index="${Mt}"]`),$t=_?!1:!Xt||Xt.disabled||Xt.getAttribute("aria-disabled")==="true";if(Xt&&Xt.hasAttribute("tabindex")&&!$t)return Mt;if(qe==="next"?Mt=(Mt+1)%$e.length:Mt=(Mt-1+$e.length)%$e.length,Mt===Pe)return-1}}const ts=At(({event:Pe,index:qe,reason:Mt})=>{if(Ae.current=qe,qe===-1?he.current.removeAttribute("aria-activedescendant"):he.current.setAttribute("aria-activedescendant",`${te}-option-${qe}`),U&&["mouse","keyboard","touch"].includes(Mt)&&U(Pe,qe===-1?null:$e[qe],Mt),!re.current)return;const Xt=re.current.querySelector(`[role="option"].${a}-focused`);Xt&&(Xt.classList.remove(`${a}-focused`),Xt.classList.remove(`${a}-focusVisible`));let $t=re.current;if(re.current.getAttribute("role")!=="listbox"&&($t=re.current.parentElement.querySelector('[role="listbox"]')),!$t)return;if(qe===-1){$t.scrollTop=0;return}const Is=re.current.querySelector(`[data-option-index="${qe}"]`);if(Is&&(Is.classList.add(`${a}-focused`),Mt==="keyboard"&&Is.classList.add(`${a}-focusVisible`),$t.scrollHeight>$t.clientHeight&&Mt!=="mouse"&&Mt!=="touch")){const $s=Is,Ks=$t.clientHeight+$t.scrollTop,qs=$s.offsetTop+$s.offsetHeight;qs>Ks?$t.scrollTop=qs-$t.clientHeight:$s.offsetTop-$s.offsetHeight*(D?1.3:0)<$t.scrollTop&&($t.scrollTop=$s.offsetTop-$s.offsetHeight*(D?1.3:0))}}),st=At(({event:Pe,diff:qe,direction:Mt="next",reason:Xt})=>{if(!Le)return;const Is=It((()=>{const $s=$e.length-1;if(qe==="reset")return we;if(qe==="start")return 0;if(qe==="end")return $s;const Ks=Ae.current+qe;return Ks<0?Ks===-1&&z?-1:S&&Ae.current!==-1||Math.abs(qe)>1?0:$s:Ks>$s?Ks===$s+1&&z?-1:S||Math.abs(qe)>1?$s:0:Ks})(),Mt);if(ts({index:Is,reason:Xt,event:Pe}),n&&qe!=="reset")if(Is===-1)he.current.value=ke;else{const $s=se($e[Is]);he.current.value=$s,$s.toLowerCase().indexOf(ke.toLowerCase())===0&&ke.length>0&&he.current.setSelectionRange(ke.length,$s.length)}}),Gt=!UP({array1:bt.filteredOptions,array2:$e,parser:se}),es=()=>{const Pe=(qe,Mt)=>{const Xt=qe?se(qe):"",$t=Mt?se(Mt):"";return Xt===$t};if(Ae.current!==-1&&!UP({array1:bt.filteredOptions,array2:$e,parser:se})&&bt.inputValue===ke&&(A?Me.length===bt.value.length&&bt.value.every((qe,Mt)=>se(Me[Mt])===se(qe)):Pe(bt.value,Me))){const qe=bt.filteredOptions[Ae.current];if(qe)return $e.findIndex(Mt=>se(Mt)===se(qe))}return-1},us=g.useCallback(()=>{if(!Le)return;const Pe=es();if(Pe!==-1){Ae.current=Pe;return}const qe=A?Me[0]:Me;if($e.length===0||qe==null){st({diff:"reset"});return}if(re.current){if(qe!=null){const Mt=$e[Ae.current];if(A&&Mt&&Me.findIndex($t=>$(Mt,$t))!==-1)return;const Xt=$e.findIndex($t=>$($t,qe));Xt===-1?st({diff:"reset"}):ts({index:Xt});return}if(Ae.current>=$e.length-1){ts({index:$e.length-1});return}ts({index:Ae.current})}},[$e.length,A?!1:Me,st,ts,Le,ke,A]),As=At(Pe=>{Nw(re,Pe),Pe&&us()});g.useEffect(()=>{(Gt||Le)&&us()},[us,Gt,Le]);const Ls=Pe=>{jt||(dt(!0),Dt(!0),V&&V(Pe))},ws=(Pe,qe)=>{jt&&(dt(!1),K&&K(Pe,qe))},ma=(Pe,qe,Mt,Xt)=>{if(A){if(Me.length===qe.length&&Me.every(($t,Is)=>$t===qe[Is]))return}else if(Me===qe)return;Q&&Q(Pe,qe,Mt,Xt),Xe(qe)},ca=g.useRef(!1),fa=(Pe,qe,Mt="selectOption",Xt="options")=>{let $t=Mt,Is=qe;if(A){Is=Array.isArray(Me)?Me.slice():[];const $s=Is.findIndex(Ks=>$(qe,Ks));$s===-1?Is.push(qe):Xt!=="freeSolo"&&(Is.splice($s,1),$t="removeOption")}Ge(Pe,Is,$t),ma(Pe,Is,$t,{option:qe}),!f&&(!Pe||!Pe.ctrlKey&&!Pe.metaKey)&&ws(Pe,$t),(o===!0||o==="touch"&&ca.current||o==="mouse"&&!ca.current)&&he.current.blur()};function qt(Pe,qe){if(Pe===-1)return-1;let Mt=Pe;for(;;){if(qe==="next"&&Mt===Me.length||qe==="previous"&&Mt===-1)return-1;const Xt=L?"data-item-index":"data-tag-index",$t=xe.querySelector(`[${Xt}="${Mt}"]`);if(!$t||!$t.hasAttribute("tabindex")||$t.disabled||$t.getAttribute("aria-disabled")==="true")Mt+=qe==="next"?1:-1;else return Mt}}const zs=(Pe,qe)=>{if(!A)return;ke===""&&ws(Pe,"toggleInput");let Mt=le;le===-1?ke===""&&qe==="previous"&&(Mt=Me.length-1):(Mt+=qe==="next"?1:-1,Mt<0&&(Mt=0),Mt===Me.length&&(Mt=-1)),Mt=qt(Mt,qe),de(Mt),Ot(Mt)},Ft=Pe=>{ae.current=!0,Ye(""),B&&B(Pe,"","clear"),ma(Pe,A?[]:null,"clear")},Qt=Pe=>qe=>{if(Pe.onKeyDown&&Pe.onKeyDown(qe),!qe.defaultMuiPrevented&&(le!==-1&&!["ArrowLeft","ArrowRight"].includes(qe.key)&&(de(-1),Ot(-1)),qe.which!==229))switch(qe.key){case"Home":Le&&T&&(qe.preventDefault(),st({diff:"start",direction:"next",reason:"keyboard",event:qe}));break;case"End":Le&&T&&(qe.preventDefault(),st({diff:"end",direction:"previous",reason:"keyboard",event:qe}));break;case"PageUp":qe.preventDefault(),st({diff:-HP,direction:"previous",reason:"keyboard",event:qe}),Ls(qe);break;case"PageDown":qe.preventDefault(),st({diff:HP,direction:"next",reason:"keyboard",event:qe}),Ls(qe);break;case"ArrowDown":qe.preventDefault(),st({diff:1,direction:"next",reason:"keyboard",event:qe}),Ls(qe);break;case"ArrowUp":qe.preventDefault(),st({diff:-1,direction:"previous",reason:"keyboard",event:qe}),Ls(qe);break;case"ArrowLeft":!A&&L&&Me!=null?(de(0),Ot(0)):zs(qe,"previous");break;case"ArrowRight":!A&&L?(de(-1),Ot(-1)):zs(qe,"next");break;case"Enter":if(Ae.current!==-1&&Le){const Mt=$e[Ae.current],Xt=C?C(Mt):!1;if(qe.preventDefault(),Xt)return;fa(qe,Mt,"selectOption"),n&&he.current.setSelectionRange(he.current.value.length,he.current.value.length)}else w&&ke!==""&&ve===!1&&(A&&qe.preventDefault(),fa(qe,ke,"createOption","freeSolo"));break;case"Escape":Le?(qe.preventDefault(),qe.stopPropagation(),ws(qe,"escape")):c&&(ke!==""||A&&Me.length>0||L)&&(qe.preventDefault(),qe.stopPropagation(),Ft(qe));break;case"Backspace":if(A&&!M&&ke===""&&Me.length>0){const Mt=le===-1?Me.length-1:le,Xt=Me.slice();Xt.splice(Mt,1),ma(qe,Xt,"removeOption",{option:Me[Mt]})}!A&&L&&!M&&(Xe(null),de(-1),Ot(-1));break;case"Delete":if(A&&!M&&ke===""&&Me.length>0&&le!==-1){const Mt=le,Xt=Me.slice();Xt.splice(Mt,1),ma(qe,Xt,"removeOption",{option:Me[Mt]})}!A&&L&&!M&&(Xe(null),de(-1),Ot(-1));break}},Ms=Pe=>{We(!0),le!==-1&&(de(-1),Ot(-1)),H&&!ae.current&&Ls(Pe)},je=Pe=>{if(s(re)){he.current.focus();return}We(!1),pe.current=!0,ae.current=!1,i&&Ae.current!==-1&&Le?fa(Pe,$e[Ae.current],"blur"):i&&w&&ke!==""?fa(Pe,ke,"blur","freeSolo"):l&&Ge(Pe,Me,"blur"),ws(Pe,"blur")},Ce=Pe=>{const qe=Pe.target.value;ke!==qe&&(Ye(qe),Dt(!1),B&&B(Pe,qe,"input")),qe===""?!h&&!A&&ma(Pe,null,"clear"):Ls(Pe)},Be=Pe=>{const qe=Number(Pe.currentTarget.getAttribute("data-option-index"));Ae.current!==qe&&ts({event:Pe,index:qe,reason:"mouse"})},xt=Pe=>{ts({event:Pe,index:Number(Pe.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ca.current=!0},ce=Pe=>{const qe=Number(Pe.currentTarget.getAttribute("data-option-index"));fa(Pe,$e[qe],"selectOption"),ca.current=!1},Te=Pe=>qe=>{const Mt=Me.slice();Mt.splice(Pe,1),ma(qe,Mt,"removeOption",{option:Me[Pe]})},Ie=Pe=>{ma(Pe,null,"removeOption",{option:Me})},rt=Pe=>{jt?ws(Pe,"toggleInput"):Ls(Pe)},gt=Pe=>{Pe.currentTarget.contains(Pe.target)&&Pe.target.getAttribute("id")!==te&&Pe.preventDefault()},Kt=Pe=>{Pe.currentTarget.contains(Pe.target)&&(he.current.focus(),W&&pe.current&&he.current.selectionEnd-he.current.selectionStart===0&&he.current.select(),pe.current=!1)},os=Pe=>{!v&&(ke===""||!jt)&&rt(Pe)};let Ue=w&&ke.length>0;Ue=Ue||(A?Me.length>0:Me!==null);let zt=$e;return D&&(zt=$e.reduce((Pe,qe,Mt)=>{const Xt=D(qe);return Pe.length>0&&Pe[Pe.length-1].group===Xt?Pe[Pe.length-1].options.push(qe):Pe.push({key:Mt,index:Mt,group:Xt,options:[qe]}),Pe},[])),v&&ye&&je(),{getRootProps:(Pe={})=>({...Pe,onKeyDown:Qt(Pe),onMouseDown:gt,onClick:Kt}),getInputLabelProps:()=>({id:`${te}-label`,htmlFor:te}),getInputProps:()=>({id:te,value:ke,onBlur:je,onFocus:Ms,onChange:Ce,onMouseDown:os,"aria-activedescendant":Le?"":null,"aria-autocomplete":n?"both":"list","aria-controls":Zt?`${te}-listbox`:void 0,"aria-expanded":Zt,autoComplete:"off",ref:he,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:v}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Ft}),getItemProps:({index:Pe=0}={})=>({...A&&{key:Pe},...L?{"data-item-index":Pe}:{"data-tag-index":Pe},tabIndex:-1,...!M&&{onDelete:A?Te(Pe):Ie}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:rt}),getTagProps:({index:Pe})=>({key:Pe,"data-tag-index":Pe,tabIndex:-1,...!M&&{onDelete:Te(Pe)}}),getListboxProps:()=>({role:"listbox",id:`${te}-listbox`,"aria-labelledby":`${te}-label`,ref:As,onMouseDown:Pe=>{Pe.preventDefault()}}),getOptionProps:({index:Pe,option:qe})=>{const Mt=(A?Me:[Me]).some($t=>$t!=null&&$(qe,$t)),Xt=C?C(qe):!1;return{key:P?.(qe)??se(qe),tabIndex:-1,role:"option",id:`${te}-option-${Pe}`,onMouseMove:Be,onClick:ce,onTouchStart:xt,"data-option-index":Pe,"aria-disabled":Xt,"aria-selected":Mt}},id:te,inputValue:ke,value:Me,dirty:Ue,expanded:Le&&xe,popupOpen:Le,focused:ye||le!==-1,anchorEl:xe,setAnchorEl:ge,focusedItem:le,focusedTag:le,groupedOptions:zt}}var $r="top",eo="bottom",to="right",qr="left",N4="auto",dg=[$r,eo,to,qr],ip="start",gx="end",mK="clippingParents",z9="viewport",Lh="popper",pK="reference",YP=dg.reduce(function(t,s){return t.concat([s+"-"+ip,s+"-"+gx])},[]),$9=[].concat(dg,[N4]).reduce(function(t,s){return t.concat([s,s+"-"+ip,s+"-"+gx])},[]),hK="beforeRead",fK="read",xK="afterRead",gK="beforeMain",yK="main",bK="afterMain",vK="beforeWrite",jK="write",NK="afterWrite",wK=[hK,fK,xK,gK,yK,bK,vK,jK,NK];function rl(t){return t?(t.nodeName||"").toLowerCase():null}function gi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var s=t.ownerDocument;return s&&s.defaultView||window}return t}function cu(t){var s=gi(t).Element;return t instanceof s||t instanceof Element}function Ki(t){var s=gi(t).HTMLElement;return t instanceof s||t instanceof HTMLElement}function w4(t){if(typeof ShadowRoot>"u")return!1;var s=gi(t).ShadowRoot;return t instanceof s||t instanceof ShadowRoot}function _K(t){var s=t.state;Object.keys(s.elements).forEach(function(a){var n=s.styles[a]||{},r=s.attributes[a]||{},i=s.elements[a];!Ki(i)||!rl(i)||(Object.assign(i.style,n),Object.keys(r).forEach(function(o){var l=r[o];l===!1?i.removeAttribute(o):i.setAttribute(o,l===!0?"":l)}))})}function SK(t){var s=t.state,a={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,a.popper),s.styles=a,s.elements.arrow&&Object.assign(s.elements.arrow.style,a.arrow),function(){Object.keys(s.elements).forEach(function(n){var r=s.elements[n],i=s.attributes[n]||{},o=Object.keys(s.styles.hasOwnProperty(n)?s.styles[n]:a[n]),l=o.reduce(function(c,m){return c[m]="",c},{});!Ki(r)||!rl(r)||(Object.assign(r.style,l),Object.keys(i).forEach(function(c){r.removeAttribute(c)}))})}}const CK={name:"applyStyles",enabled:!0,phase:"write",fn:_K,effect:SK,requires:["computeStyles"]};function el(t){return t.split("-")[0]}var su=Math.max,yb=Math.min,op=Math.round;function Ew(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(s){return s.brand+"/"+s.version}).join(" "):navigator.userAgent}function q9(){return!/^((?!chrome|android).)*safari/i.test(Ew())}function lp(t,s,a){s===void 0&&(s=!1),a===void 0&&(a=!1);var n=t.getBoundingClientRect(),r=1,i=1;s&&Ki(t)&&(r=t.offsetWidth>0&&op(n.width)/t.offsetWidth||1,i=t.offsetHeight>0&&op(n.height)/t.offsetHeight||1);var o=cu(t)?gi(t):window,l=o.visualViewport,c=!q9()&&a,m=(n.left+(c&&l?l.offsetLeft:0))/r,u=(n.top+(c&&l?l.offsetTop:0))/i,h=n.width/r,f=n.height/i;return{width:h,height:f,top:u,right:m+h,bottom:u+f,left:m,x:m,y:u}}function _4(t){var s=lp(t),a=t.offsetWidth,n=t.offsetHeight;return Math.abs(s.width-a)<=1&&(a=s.width),Math.abs(s.height-n)<=1&&(n=s.height),{x:t.offsetLeft,y:t.offsetTop,width:a,height:n}}function B9(t,s){var a=s.getRootNode&&s.getRootNode();if(t.contains(s))return!0;if(a&&w4(a)){var n=s;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Jl(t){return gi(t).getComputedStyle(t)}function kK(t){return["table","td","th"].indexOf(rl(t))>=0}function id(t){return((cu(t)?t.ownerDocument:t.document)||window.document).documentElement}function jv(t){return rl(t)==="html"?t:t.assignedSlot||t.parentNode||(w4(t)?t.host:null)||id(t)}function GP(t){return!Ki(t)||Jl(t).position==="fixed"?null:t.offsetParent}function PK(t){var s=/firefox/i.test(Ew()),a=/Trident/i.test(Ew());if(a&&Ki(t)){var n=Jl(t);if(n.position==="fixed")return null}var r=jv(t);for(w4(r)&&(r=r.host);Ki(r)&&["html","body"].indexOf(rl(r))<0;){var i=Jl(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||s&&i.willChange==="filter"||s&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function ug(t){for(var s=gi(t),a=GP(t);a&&kK(a)&&Jl(a).position==="static";)a=GP(a);return a&&(rl(a)==="html"||rl(a)==="body"&&Jl(a).position==="static")?s:a||PK(t)||s}function S4(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Vf(t,s,a){return su(t,yb(s,a))}function EK(t,s,a){var n=Vf(t,s,a);return n>a?a:n}function U9(){return{top:0,right:0,bottom:0,left:0}}function V9(t){return Object.assign({},U9(),t)}function H9(t,s){return s.reduce(function(a,n){return a[n]=t,a},{})}var TK=function(s,a){return s=typeof s=="function"?s(Object.assign({},a.rects,{placement:a.placement})):s,V9(typeof s!="number"?s:H9(s,dg))};function MK(t){var s,a=t.state,n=t.name,r=t.options,i=a.elements.arrow,o=a.modifiersData.popperOffsets,l=el(a.placement),c=S4(l),m=[qr,to].indexOf(l)>=0,u=m?"height":"width";if(!(!i||!o)){var h=TK(r.padding,a),f=_4(i),v=c==="y"?$r:qr,_=c==="y"?eo:to,S=a.rects.reference[u]+a.rects.reference[c]-o[c]-a.rects.popper[u],j=o[c]-a.rects.reference[c],b=ug(i),w=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,C=S/2-j/2,P=h[v],E=w-f[u]-h[_],D=w/2-f[u]/2+C,T=Vf(P,D,E),R=c;a.modifiersData[n]=(s={},s[R]=T,s.centerOffset=T-D,s)}}function DK(t){var s=t.state,a=t.options,n=a.element,r=n===void 0?"[data-popper-arrow]":n;r!=null&&(typeof r=="string"&&(r=s.elements.popper.querySelector(r),!r)||B9(s.elements.popper,r)&&(s.elements.arrow=r))}const RK={name:"arrow",enabled:!0,phase:"main",fn:MK,effect:DK,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cp(t){return t.split("-")[1]}var AK={top:"auto",right:"auto",bottom:"auto",left:"auto"};function IK(t,s){var a=t.x,n=t.y,r=s.devicePixelRatio||1;return{x:op(a*r)/r||0,y:op(n*r)/r||0}}function KP(t){var s,a=t.popper,n=t.popperRect,r=t.placement,i=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,m=t.adaptive,u=t.roundOffsets,h=t.isFixed,f=o.x,v=f===void 0?0:f,_=o.y,S=_===void 0?0:_,j=typeof u=="function"?u({x:v,y:S}):{x:v,y:S};v=j.x,S=j.y;var b=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),C=qr,P=$r,E=window;if(m){var D=ug(a),T="clientHeight",R="clientWidth";if(D===gi(a)&&(D=id(a),Jl(D).position!=="static"&&l==="absolute"&&(T="scrollHeight",R="scrollWidth")),D=D,r===$r||(r===qr||r===to)&&i===gx){P=eo;var z=h&&D===E&&E.visualViewport?E.visualViewport.height:D[T];S-=z-n.height,S*=c?1:-1}if(r===qr||(r===$r||r===eo)&&i===gx){C=to;var O=h&&D===E&&E.visualViewport?E.visualViewport.width:D[R];v-=O-n.width,v*=c?1:-1}}var $=Object.assign({position:l},m&&AK),A=u===!0?IK({x:v,y:S},gi(a)):{x:v,y:S};if(v=A.x,S=A.y,c){var Q;return Object.assign({},$,(Q={},Q[P]=w?"0":"",Q[C]=b?"0":"",Q.transform=(E.devicePixelRatio||1)<=1?"translate("+v+"px, "+S+"px)":"translate3d("+v+"px, "+S+"px, 0)",Q))}return Object.assign({},$,(s={},s[P]=w?S+"px":"",s[C]=b?v+"px":"",s.transform="",s))}function OK(t){var s=t.state,a=t.options,n=a.gpuAcceleration,r=n===void 0?!0:n,i=a.adaptive,o=i===void 0?!0:i,l=a.roundOffsets,c=l===void 0?!0:l,m={placement:el(s.placement),variation:cp(s.placement),popper:s.elements.popper,popperRect:s.rects.popper,gpuAcceleration:r,isFixed:s.options.strategy==="fixed"};s.modifiersData.popperOffsets!=null&&(s.styles.popper=Object.assign({},s.styles.popper,KP(Object.assign({},m,{offsets:s.modifiersData.popperOffsets,position:s.options.strategy,adaptive:o,roundOffsets:c})))),s.modifiersData.arrow!=null&&(s.styles.arrow=Object.assign({},s.styles.arrow,KP(Object.assign({},m,{offsets:s.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-placement":s.placement})}const FK={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:OK,data:{}};var X0={passive:!0};function LK(t){var s=t.state,a=t.instance,n=t.options,r=n.scroll,i=r===void 0?!0:r,o=n.resize,l=o===void 0?!0:o,c=gi(s.elements.popper),m=[].concat(s.scrollParents.reference,s.scrollParents.popper);return i&&m.forEach(function(u){u.addEventListener("scroll",a.update,X0)}),l&&c.addEventListener("resize",a.update,X0),function(){i&&m.forEach(function(u){u.removeEventListener("scroll",a.update,X0)}),l&&c.removeEventListener("resize",a.update,X0)}}const zK={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:LK,data:{}};var $K={left:"right",right:"left",bottom:"top",top:"bottom"};function Hy(t){return t.replace(/left|right|bottom|top/g,function(s){return $K[s]})}var qK={start:"end",end:"start"};function QP(t){return t.replace(/start|end/g,function(s){return qK[s]})}function C4(t){var s=gi(t),a=s.pageXOffset,n=s.pageYOffset;return{scrollLeft:a,scrollTop:n}}function k4(t){return lp(id(t)).left+C4(t).scrollLeft}function BK(t,s){var a=gi(t),n=id(t),r=a.visualViewport,i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(r){i=r.width,o=r.height;var m=q9();(m||!m&&s==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:i,height:o,x:l+k4(t),y:c}}function UK(t){var s,a=id(t),n=C4(t),r=(s=t.ownerDocument)==null?void 0:s.body,i=su(a.scrollWidth,a.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=su(a.scrollHeight,a.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-n.scrollLeft+k4(t),c=-n.scrollTop;return Jl(r||a).direction==="rtl"&&(l+=su(a.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:l,y:c}}function P4(t){var s=Jl(t),a=s.overflow,n=s.overflowX,r=s.overflowY;return/auto|scroll|overlay|hidden/.test(a+r+n)}function W9(t){return["html","body","#document"].indexOf(rl(t))>=0?t.ownerDocument.body:Ki(t)&&P4(t)?t:W9(jv(t))}function Hf(t,s){var a;s===void 0&&(s=[]);var n=W9(t),r=n===((a=t.ownerDocument)==null?void 0:a.body),i=gi(n),o=r?[i].concat(i.visualViewport||[],P4(n)?n:[]):n,l=s.concat(o);return r?l:l.concat(Hf(jv(o)))}function Tw(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function VK(t,s){var a=lp(t,!1,s==="fixed");return a.top=a.top+t.clientTop,a.left=a.left+t.clientLeft,a.bottom=a.top+t.clientHeight,a.right=a.left+t.clientWidth,a.width=t.clientWidth,a.height=t.clientHeight,a.x=a.left,a.y=a.top,a}function ZP(t,s,a){return s===z9?Tw(BK(t,a)):cu(s)?VK(s,a):Tw(UK(id(t)))}function HK(t){var s=Hf(jv(t)),a=["absolute","fixed"].indexOf(Jl(t).position)>=0,n=a&&Ki(t)?ug(t):t;return cu(n)?s.filter(function(r){return cu(r)&&B9(r,n)&&rl(r)!=="body"}):[]}function WK(t,s,a,n){var r=s==="clippingParents"?HK(t):[].concat(s),i=[].concat(r,[a]),o=i[0],l=i.reduce(function(c,m){var u=ZP(t,m,n);return c.top=su(u.top,c.top),c.right=yb(u.right,c.right),c.bottom=yb(u.bottom,c.bottom),c.left=su(u.left,c.left),c},ZP(t,o,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Y9(t){var s=t.reference,a=t.element,n=t.placement,r=n?el(n):null,i=n?cp(n):null,o=s.x+s.width/2-a.width/2,l=s.y+s.height/2-a.height/2,c;switch(r){case $r:c={x:o,y:s.y-a.height};break;case eo:c={x:o,y:s.y+s.height};break;case to:c={x:s.x+s.width,y:l};break;case qr:c={x:s.x-a.width,y:l};break;default:c={x:s.x,y:s.y}}var m=r?S4(r):null;if(m!=null){var u=m==="y"?"height":"width";switch(i){case ip:c[m]=c[m]-(s[u]/2-a[u]/2);break;case gx:c[m]=c[m]+(s[u]/2-a[u]/2);break}}return c}function yx(t,s){s===void 0&&(s={});var a=s,n=a.placement,r=n===void 0?t.placement:n,i=a.strategy,o=i===void 0?t.strategy:i,l=a.boundary,c=l===void 0?mK:l,m=a.rootBoundary,u=m===void 0?z9:m,h=a.elementContext,f=h===void 0?Lh:h,v=a.altBoundary,_=v===void 0?!1:v,S=a.padding,j=S===void 0?0:S,b=V9(typeof j!="number"?j:H9(j,dg)),w=f===Lh?pK:Lh,C=t.rects.popper,P=t.elements[_?w:f],E=WK(cu(P)?P:P.contextElement||id(t.elements.popper),c,u,o),D=lp(t.elements.reference),T=Y9({reference:D,element:C,placement:r}),R=Tw(Object.assign({},C,T)),z=f===Lh?R:D,O={top:E.top-z.top+b.top,bottom:z.bottom-E.bottom+b.bottom,left:E.left-z.left+b.left,right:z.right-E.right+b.right},$=t.modifiersData.offset;if(f===Lh&&$){var A=$[r];Object.keys(O).forEach(function(Q){var K=[to,eo].indexOf(Q)>=0?1:-1,U=[$r,eo].indexOf(Q)>=0?"y":"x";O[Q]+=A[U]*K})}return O}function YK(t,s){s===void 0&&(s={});var a=s,n=a.placement,r=a.boundary,i=a.rootBoundary,o=a.padding,l=a.flipVariations,c=a.allowedAutoPlacements,m=c===void 0?$9:c,u=cp(n),h=u?l?YP:YP.filter(function(_){return cp(_)===u}):dg,f=h.filter(function(_){return m.indexOf(_)>=0});f.length===0&&(f=h);var v=f.reduce(function(_,S){return _[S]=yx(t,{placement:S,boundary:r,rootBoundary:i,padding:o})[el(S)],_},{});return Object.keys(v).sort(function(_,S){return v[_]-v[S]})}function GK(t){if(el(t)===N4)return[];var s=Hy(t);return[QP(t),s,QP(s)]}function KK(t){var s=t.state,a=t.options,n=t.name;if(!s.modifiersData[n]._skip){for(var r=a.mainAxis,i=r===void 0?!0:r,o=a.altAxis,l=o===void 0?!0:o,c=a.fallbackPlacements,m=a.padding,u=a.boundary,h=a.rootBoundary,f=a.altBoundary,v=a.flipVariations,_=v===void 0?!0:v,S=a.allowedAutoPlacements,j=s.options.placement,b=el(j),w=b===j,C=c||(w||!_?[Hy(j)]:GK(j)),P=[j].concat(C).reduce(function(X,te){return X.concat(el(te)===N4?YK(s,{placement:te,boundary:u,rootBoundary:h,padding:m,flipVariations:_,allowedAutoPlacements:S}):te)},[]),E=s.rects.reference,D=s.rects.popper,T=new Map,R=!0,z=P[0],O=0;O<P.length;O++){var $=P[O],A=el($),Q=cp($)===ip,K=[$r,eo].indexOf(A)>=0,U=K?"width":"height",B=yx(s,{placement:$,boundary:u,rootBoundary:h,altBoundary:f,padding:m}),V=K?Q?to:qr:Q?eo:$r;E[U]>D[U]&&(V=Hy(V));var Y=Hy(V),H=[];if(i&&H.push(B[A]<=0),l&&H.push(B[V]<=0,B[Y]<=0),H.every(function(X){return X})){z=$,R=!1;break}T.set($,H)}if(R)for(var F=_?3:1,M=function(te){var se=P.find(function(ae){var pe=T.get(ae);if(pe)return pe.slice(0,te).every(function(he){return he})});if(se)return z=se,"break"},L=F;L>0;L--){var W=M(L);if(W==="break")break}s.placement!==z&&(s.modifiersData[n]._skip=!0,s.placement=z,s.reset=!0)}}const QK={name:"flip",enabled:!0,phase:"main",fn:KK,requiresIfExists:["offset"],data:{_skip:!1}};function XP(t,s,a){return a===void 0&&(a={x:0,y:0}),{top:t.top-s.height-a.y,right:t.right-s.width+a.x,bottom:t.bottom-s.height+a.y,left:t.left-s.width-a.x}}function JP(t){return[$r,to,eo,qr].some(function(s){return t[s]>=0})}function ZK(t){var s=t.state,a=t.name,n=s.rects.reference,r=s.rects.popper,i=s.modifiersData.preventOverflow,o=yx(s,{elementContext:"reference"}),l=yx(s,{altBoundary:!0}),c=XP(o,n),m=XP(l,r,i),u=JP(c),h=JP(m);s.modifiersData[a]={referenceClippingOffsets:c,popperEscapeOffsets:m,isReferenceHidden:u,hasPopperEscaped:h},s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const XK={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ZK};function JK(t,s,a){var n=el(t),r=[qr,$r].indexOf(n)>=0?-1:1,i=typeof a=="function"?a(Object.assign({},s,{placement:t})):a,o=i[0],l=i[1];return o=o||0,l=(l||0)*r,[qr,to].indexOf(n)>=0?{x:l,y:o}:{x:o,y:l}}function eQ(t){var s=t.state,a=t.options,n=t.name,r=a.offset,i=r===void 0?[0,0]:r,o=$9.reduce(function(u,h){return u[h]=JK(h,s.rects,i),u},{}),l=o[s.placement],c=l.x,m=l.y;s.modifiersData.popperOffsets!=null&&(s.modifiersData.popperOffsets.x+=c,s.modifiersData.popperOffsets.y+=m),s.modifiersData[n]=o}const tQ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:eQ};function sQ(t){var s=t.state,a=t.name;s.modifiersData[a]=Y9({reference:s.rects.reference,element:s.rects.popper,placement:s.placement})}const aQ={name:"popperOffsets",enabled:!0,phase:"read",fn:sQ,data:{}};function nQ(t){return t==="x"?"y":"x"}function rQ(t){var s=t.state,a=t.options,n=t.name,r=a.mainAxis,i=r===void 0?!0:r,o=a.altAxis,l=o===void 0?!1:o,c=a.boundary,m=a.rootBoundary,u=a.altBoundary,h=a.padding,f=a.tether,v=f===void 0?!0:f,_=a.tetherOffset,S=_===void 0?0:_,j=yx(s,{boundary:c,rootBoundary:m,padding:h,altBoundary:u}),b=el(s.placement),w=cp(s.placement),C=!w,P=S4(b),E=nQ(P),D=s.modifiersData.popperOffsets,T=s.rects.reference,R=s.rects.popper,z=typeof S=="function"?S(Object.assign({},s.rects,{placement:s.placement})):S,O=typeof z=="number"?{mainAxis:z,altAxis:z}:Object.assign({mainAxis:0,altAxis:0},z),$=s.modifiersData.offset?s.modifiersData.offset[s.placement]:null,A={x:0,y:0};if(D){if(i){var Q,K=P==="y"?$r:qr,U=P==="y"?eo:to,B=P==="y"?"height":"width",V=D[P],Y=V+j[K],H=V-j[U],F=v?-R[B]/2:0,M=w===ip?T[B]:R[B],L=w===ip?-R[B]:-T[B],W=s.elements.arrow,X=v&&W?_4(W):{width:0,height:0},te=s.modifiersData["arrow#persistent"]?s.modifiersData["arrow#persistent"].padding:U9(),se=te[K],ae=te[U],pe=Vf(0,T[B],X[B]),he=C?T[B]/2-F-pe-se-O.mainAxis:M-pe-se-O.mainAxis,re=C?-T[B]/2+F+pe+ae+O.mainAxis:L+pe+ae+O.mainAxis,xe=s.elements.arrow&&ug(s.elements.arrow),ge=xe?P==="y"?xe.clientTop||0:xe.clientLeft||0:0,le=(Q=$?.[P])!=null?Q:0,de=V+he-le-ge,we=V+re-le,Ae=Vf(v?yb(Y,de):Y,V,v?su(H,we):H);D[P]=Ae,A[P]=Ae-V}if(l){var Fe,Me=P==="x"?$r:qr,Xe=P==="x"?eo:to,ke=D[E],Ye=E==="y"?"height":"width",ye=ke+j[Me],We=ke-j[Xe],Ge=[$r,qr].indexOf(b)!==-1,jt=(Fe=$?.[E])!=null?Fe:0,dt=Ge?ye:ke-T[Ye]-R[Ye]-jt+O.altAxis,wt=Ge?ke+T[Ye]+R[Ye]-jt-O.altAxis:We,Dt=v&&Ge?EK(dt,ke,wt):Vf(v?dt:ye,ke,v?wt:We);D[E]=Dt,A[E]=Dt-ke}s.modifiersData[n]=A}}const iQ={name:"preventOverflow",enabled:!0,phase:"main",fn:rQ,requiresIfExists:["offset"]};function oQ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function lQ(t){return t===gi(t)||!Ki(t)?C4(t):oQ(t)}function cQ(t){var s=t.getBoundingClientRect(),a=op(s.width)/t.offsetWidth||1,n=op(s.height)/t.offsetHeight||1;return a!==1||n!==1}function dQ(t,s,a){a===void 0&&(a=!1);var n=Ki(s),r=Ki(s)&&cQ(s),i=id(s),o=lp(t,r,a),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!a)&&((rl(s)!=="body"||P4(i))&&(l=lQ(s)),Ki(s)?(c=lp(s,!0),c.x+=s.clientLeft,c.y+=s.clientTop):i&&(c.x=k4(i))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function uQ(t){var s=new Map,a=new Set,n=[];t.forEach(function(i){s.set(i.name,i)});function r(i){a.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!a.has(l)){var c=s.get(l);c&&r(c)}}),n.push(i)}return t.forEach(function(i){a.has(i.name)||r(i)}),n}function mQ(t){var s=uQ(t);return wK.reduce(function(a,n){return a.concat(s.filter(function(r){return r.phase===n}))},[])}function pQ(t){var s;return function(){return s||(s=new Promise(function(a){Promise.resolve().then(function(){s=void 0,a(t())})})),s}}function hQ(t){var s=t.reduce(function(a,n){var r=a[n.name];return a[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,a},{});return Object.keys(s).map(function(a){return s[a]})}var eE={placement:"bottom",modifiers:[],strategy:"absolute"};function tE(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return!s.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function fQ(t){t===void 0&&(t={});var s=t,a=s.defaultModifiers,n=a===void 0?[]:a,r=s.defaultOptions,i=r===void 0?eE:r;return function(l,c,m){m===void 0&&(m=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},eE,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},h=[],f=!1,v={state:u,setOptions:function(b){var w=typeof b=="function"?b(u.options):b;S(),u.options=Object.assign({},i,u.options,w),u.scrollParents={reference:cu(l)?Hf(l):l.contextElement?Hf(l.contextElement):[],popper:Hf(c)};var C=mQ(hQ([].concat(n,u.options.modifiers)));return u.orderedModifiers=C.filter(function(P){return P.enabled}),_(),v.update()},forceUpdate:function(){if(!f){var b=u.elements,w=b.reference,C=b.popper;if(tE(w,C)){u.rects={reference:dQ(w,ug(C),u.options.strategy==="fixed"),popper:_4(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(O){return u.modifiersData[O.name]=Object.assign({},O.data)});for(var P=0;P<u.orderedModifiers.length;P++){if(u.reset===!0){u.reset=!1,P=-1;continue}var E=u.orderedModifiers[P],D=E.fn,T=E.options,R=T===void 0?{}:T,z=E.name;typeof D=="function"&&(u=D({state:u,options:R,name:z,instance:v})||u)}}}},update:pQ(function(){return new Promise(function(j){v.forceUpdate(),j(u)})}),destroy:function(){S(),f=!0}};if(!tE(l,c))return v;v.setOptions(m).then(function(j){!f&&m.onFirstUpdate&&m.onFirstUpdate(j)});function _(){u.orderedModifiers.forEach(function(j){var b=j.name,w=j.options,C=w===void 0?{}:w,P=j.effect;if(typeof P=="function"){var E=P({state:u,name:b,instance:v,options:C}),D=function(){};h.push(E||D)}})}function S(){h.forEach(function(j){return j()}),h=[]}return v}}var xQ=[zK,aQ,FK,CK,tQ,QK,iQ,RK,XK],gQ=fQ({defaultModifiers:xQ});function ta(t){const{elementType:s,externalSlotProps:a,ownerState:n,skipResolvingSlotProps:r=!1,...i}=t,o=r?{}:mr(a,n),{props:l,internalRef:c}=F9({...i,externalSlotProps:o}),m=Us(c,o?.ref,t.additionalProps?.ref);return I9(s,{...l,ref:m},n)}function od(t){return parseInt(g.version,10)>=19?t?.props?.ref||null:t?.ref||null}function yQ(t){return typeof t=="function"?t():t}const G9=g.forwardRef(function(s,a){const{children:n,container:r,disablePortal:i=!1}=s,[o,l]=g.useState(null),c=Us(g.isValidElement(n)?od(n):null,a);if(La(()=>{i||l(yQ(r)||document.body)},[r,i]),La(()=>{if(o&&!i)return Nw(a,o),()=>{Nw(a,null)}},[a,o,i]),i){if(g.isValidElement(n)){const m={ref:c};return g.cloneElement(n,m)}return n}return o&&tg.createPortal(n,o)});function bQ(t){return Et("MuiPopper",t)}Pt("MuiPopper",["root"]);function vQ(t,s){if(s==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function Mw(t){return typeof t=="function"?t():t}function jQ(t){return t.nodeType!==void 0}const NQ=t=>{const{classes:s}=t;return kt({root:["root"]},bQ,s)},wQ={},_Q=g.forwardRef(function(s,a){const{anchorEl:n,children:r,direction:i,disablePortal:o,modifiers:l,open:c,placement:m,popperOptions:u,popperRef:h,slotProps:f={},slots:v={},TransitionProps:_,ownerState:S,...j}=s,b=g.useRef(null),w=Us(b,a),C=g.useRef(null),P=Us(C,h),E=g.useRef(P);La(()=>{E.current=P},[P]),g.useImperativeHandle(h,()=>C.current,[]);const D=vQ(m,i),[T,R]=g.useState(D),[z,O]=g.useState(Mw(n));g.useEffect(()=>{C.current&&C.current.forceUpdate()}),g.useEffect(()=>{n&&O(Mw(n))},[n]),La(()=>{if(!z||!c)return;const U=Y=>{R(Y.placement)};let B=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Y})=>{U(Y)}}];l!=null&&(B=B.concat(l)),u&&u.modifiers!=null&&(B=B.concat(u.modifiers));const V=gQ(z,b.current,{placement:D,...u,modifiers:B});return E.current(V),()=>{V.destroy(),E.current(null)}},[z,o,l,c,u,D]);const $={placement:T};_!==null&&($.TransitionProps=_);const A=NQ(s),Q=v.root??"div",K=ta({elementType:Q,externalSlotProps:f.root,externalForwardedProps:j,additionalProps:{role:"tooltip",ref:w},ownerState:s,className:A.root});return e.jsx(Q,{...K,children:typeof r=="function"?r($):r})}),SQ=g.forwardRef(function(s,a){const{anchorEl:n,children:r,container:i,direction:o="ltr",disablePortal:l=!1,keepMounted:c=!1,modifiers:m,open:u,placement:h="bottom",popperOptions:f=wQ,popperRef:v,style:_,transition:S=!1,slotProps:j={},slots:b={},...w}=s,[C,P]=g.useState(!0),E=()=>{P(!1)},D=()=>{P(!0)};if(!c&&!u&&(!S||C))return null;let T;if(i)T=i;else if(n){const O=Mw(n);T=O&&jQ(O)?dn(O).body:dn(null).body}const R=!u&&c&&(!S||C)?"none":void 0,z=S?{in:u,onEnter:E,onExited:D}:void 0;return e.jsx(G9,{disablePortal:l,container:T,children:e.jsx(_Q,{anchorEl:n,direction:o,disablePortal:l,modifiers:m,ref:a,open:S?!C:u,placement:h,popperOptions:f,popperRef:v,slotProps:j,slots:b,...w,style:{position:"fixed",top:0,left:0,display:R,..._},TransitionProps:z,children:r})})}),CQ=Ne(SQ,{name:"MuiPopper",slot:"Root"})({}),mg=g.forwardRef(function(s,a){const n=qn(),r=ss({props:s,name:"MuiPopper"}),{anchorEl:i,component:o,components:l,componentsProps:c,container:m,disablePortal:u,keepMounted:h,modifiers:f,open:v,placement:_,popperOptions:S,popperRef:j,transition:b,slots:w,slotProps:C,...P}=r,E=w?.root??l?.Root,D={anchorEl:i,container:m,disablePortal:u,keepMounted:h,modifiers:f,open:v,placement:_,popperOptions:S,popperRef:j,transition:b,...P};return e.jsx(CQ,{as:o,direction:n?"rtl":"ltr",slots:{root:E},slotProps:C??c,...D,ref:a})});function kQ(t){return Et("MuiListSubheader",t)}Pt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const PQ=t=>{const{classes:s,color:a,disableGutters:n,inset:r,disableSticky:i}=t,o={root:["root",a!=="default"&&`color${Je(a)}`,!n&&"gutters",r&&"inset",!i&&"sticky"]};return kt(o,kQ,s)},EQ=Ne("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.color!=="default"&&s[`color${Je(a.color)}`],!a.disableGutters&&s.gutters,a.inset&&s.inset,!a.disableSticky&&s.sticky]}})(Ht(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.inset,style:{paddingLeft:72}},{props:({ownerState:s})=>!s.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),Dw=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiListSubheader"}),{className:r,color:i="default",component:o="li",disableGutters:l=!1,disableSticky:c=!1,inset:m=!1,...u}=n,h={...n,color:i,component:o,disableGutters:l,disableSticky:c,inset:m},f=PQ(h);return e.jsx(EQ,{as:o,className:tt(f.root,r),ref:a,ownerState:h,...u})});Dw&&(Dw.muiSkipListHighlight=!0);const TQ=Ut(e.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function MQ(t){return Et("MuiChip",t)}const ea=Pt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),DQ=t=>{const{classes:s,disabled:a,size:n,color:r,iconColor:i,onDelete:o,clickable:l,variant:c}=t,m={root:["root",c,a&&"disabled",`size${Je(n)}`,`color${Je(r)}`,l&&"clickable",l&&`clickableColor${Je(r)}`,o&&"deletable",o&&`deletableColor${Je(r)}`,`${c}${Je(r)}`],label:["label",`label${Je(n)}`],avatar:["avatar",`avatar${Je(n)}`,`avatarColor${Je(r)}`],icon:["icon",`icon${Je(n)}`,`iconColor${Je(i)}`],deleteIcon:["deleteIcon",`deleteIcon${Je(n)}`,`deleteIconColor${Je(r)}`,`deleteIcon${Je(c)}Color${Je(r)}`]};return kt(m,MQ,s)},RQ=Ne("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t,{color:n,iconColor:r,clickable:i,onDelete:o,size:l,variant:c}=a;return[{[`& .${ea.avatar}`]:s.avatar},{[`& .${ea.avatar}`]:s[`avatar${Je(l)}`]},{[`& .${ea.avatar}`]:s[`avatarColor${Je(n)}`]},{[`& .${ea.icon}`]:s.icon},{[`& .${ea.icon}`]:s[`icon${Je(l)}`]},{[`& .${ea.icon}`]:s[`iconColor${Je(r)}`]},{[`& .${ea.deleteIcon}`]:s.deleteIcon},{[`& .${ea.deleteIcon}`]:s[`deleteIcon${Je(l)}`]},{[`& .${ea.deleteIcon}`]:s[`deleteIconColor${Je(n)}`]},{[`& .${ea.deleteIcon}`]:s[`deleteIcon${Je(c)}Color${Je(n)}`]},s.root,s[`size${Je(l)}`],s[`color${Je(n)}`],i&&s.clickable,i&&n!=="default"&&s[`clickableColor${Je(n)}`],o&&s.deletable,o&&n!=="default"&&s[`deletableColor${Je(n)}`],s[c],s[`${c}${Je(n)}`]]}})(Ht(({theme:t})=>{const s=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ea.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ea.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:s,fontSize:t.typography.pxToRem(12)},[`& .${ea.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${ea.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${ea.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${ea.icon}`]:{marginLeft:5,marginRight:-6},[`& .${ea.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${ea.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${ea.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Ia(["contrastText"])).map(([a])=>({props:{color:a},style:{backgroundColor:(t.vars||t).palette[a].main,color:(t.vars||t).palette[a].contrastText,[`& .${ea.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[a].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[a].contrastText}}}})),{props:a=>a.iconColor===a.color,style:{[`& .${ea.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:s}}},{props:a=>a.iconColor===a.color&&a.color!=="default",style:{[`& .${ea.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${ea.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}},...Object.entries(t.palette).filter(Ia(["dark"])).map(([a])=>({props:{color:a,onDelete:!0},style:{[`&.${ea.focusVisible}`]:{background:(t.vars||t).palette[a].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)},[`&.${ea.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Ia(["dark"])).map(([a])=>({props:{color:a,clickable:!0},style:{[`&:hover, &.${ea.focusVisible}`]:{backgroundColor:(t.vars||t).palette[a].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${ea.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${ea.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${ea.avatar}`]:{marginLeft:4},[`& .${ea.avatarSmall}`]:{marginLeft:2},[`& .${ea.icon}`]:{marginLeft:4},[`& .${ea.iconSmall}`]:{marginLeft:2},[`& .${ea.deleteIcon}`]:{marginRight:5},[`& .${ea.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(Ia()).map(([a])=>({props:{variant:"outlined",color:a},style:{color:(t.vars||t).palette[a].main,border:`1px solid ${t.alpha((t.vars||t).palette[a].main,.7)}`,[`&.${ea.clickable}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette[a].main,(t.vars||t).palette.action.hoverOpacity)},[`&.${ea.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[a].main,(t.vars||t).palette.action.focusOpacity)},[`& .${ea.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[a].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[a].main}}}}))]}})),AQ=Ne("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,s)=>{const{ownerState:a}=t,{size:n}=a;return[s.label,s[`label${Je(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function sE(t){return t.key==="Backspace"||t.key==="Delete"}const De=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiChip"}),{avatar:r,className:i,clickable:o,color:l="default",component:c,deleteIcon:m,disabled:u=!1,icon:h,label:f,onClick:v,onDelete:_,onKeyDown:S,onKeyUp:j,size:b="medium",variant:w="filled",tabIndex:C,skipFocusWhenDisabled:P=!1,slots:E={},slotProps:D={},...T}=n,R=g.useRef(null),z=Us(R,a),O=se=>{se.stopPropagation(),_&&_(se)},$=se=>{se.currentTarget===se.target&&sE(se)&&se.preventDefault(),S&&S(se)},A=se=>{se.currentTarget===se.target&&_&&sE(se)&&_(se),j&&j(se)},Q=o!==!1&&v?!0:o,K=Q||_?No:c||"div",U={...n,component:K,disabled:u,size:b,color:l,iconColor:g.isValidElement(h)&&h.props.color||l,onDelete:!!_,clickable:Q,variant:w},B=DQ(U),V=K===No?{component:c||"div",focusVisibleClassName:B.focusVisible,..._&&{disableRipple:!0}}:{};let Y=null;_&&(Y=m&&g.isValidElement(m)?g.cloneElement(m,{className:tt(m.props.className,B.deleteIcon),onClick:O}):e.jsx(TQ,{className:B.deleteIcon,onClick:O}));let H=null;r&&g.isValidElement(r)&&(H=g.cloneElement(r,{className:tt(B.avatar,r.props.className)}));let F=null;h&&g.isValidElement(h)&&(F=g.cloneElement(h,{className:tt(B.icon,h.props.className)}));const M={slots:E,slotProps:D},[L,W]=Yt("root",{elementType:RQ,externalForwardedProps:{...M,...T},ownerState:U,shouldForwardComponentProp:!0,ref:z,className:tt(B.root,i),additionalProps:{disabled:Q&&u?!0:void 0,tabIndex:P&&u?-1:C,...V},getSlotProps:se=>({...se,onClick:ae=>{se.onClick?.(ae),v?.(ae)},onKeyDown:ae=>{se.onKeyDown?.(ae),$(ae)},onKeyUp:ae=>{se.onKeyUp?.(ae),A(ae)}})}),[X,te]=Yt("label",{elementType:AQ,externalForwardedProps:M,ownerState:U,className:B.label});return e.jsxs(L,{as:K,...W,children:[H||F,e.jsx(X,{...te,children:f}),Y]})});function J0(t){return parseInt(t,10)||0}const IQ={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function OQ(t){for(const s in t)return!1;return!0}function aE(t){return OQ(t)||t.outerHeightStyle===0&&!t.overflowing}const FQ=g.forwardRef(function(s,a){const{onChange:n,maxRows:r,minRows:i=1,style:o,value:l,...c}=s,{current:m}=g.useRef(l!=null),u=g.useRef(null),h=Us(a,u),f=g.useRef(null),v=g.useRef(null),_=g.useCallback(()=>{const C=u.current,P=v.current;if(!C||!P)return;const D=xi(C).getComputedStyle(C);if(D.width==="0px")return{outerHeightStyle:0,overflowing:!1};P.style.width=D.width,P.value=C.value||s.placeholder||"x",P.value.slice(-1)===`
`&&(P.value+=" ");const T=D.boxSizing,R=J0(D.paddingBottom)+J0(D.paddingTop),z=J0(D.borderBottomWidth)+J0(D.borderTopWidth),O=P.scrollHeight;P.value="x";const $=P.scrollHeight;let A=O;i&&(A=Math.max(Number(i)*$,A)),r&&(A=Math.min(Number(r)*$,A)),A=Math.max(A,$);const Q=A+(T==="border-box"?R+z:0),K=Math.abs(A-O)<=1;return{outerHeightStyle:Q,overflowing:K}},[r,i,s.placeholder]),S=At(()=>{const C=u.current,P=_();if(!C||!P||aE(P))return!1;const E=P.outerHeightStyle;return f.current!=null&&f.current!==E}),j=g.useCallback(()=>{const C=u.current,P=_();if(!C||!P||aE(P))return;const E=P.outerHeightStyle;f.current!==E&&(f.current=E,C.style.height=`${E}px`),C.style.overflow=P.overflowing?"hidden":""},[_]),b=g.useRef(-1);La(()=>{const C=lg(j),P=u?.current;if(!P)return;const E=xi(P);E.addEventListener("resize",C);let D;return typeof ResizeObserver<"u"&&(D=new ResizeObserver(()=>{S()&&(D.unobserve(P),cancelAnimationFrame(b.current),j(),b.current=requestAnimationFrame(()=>{D.observe(P)}))}),D.observe(P)),()=>{C.clear(),cancelAnimationFrame(b.current),E.removeEventListener("resize",C),D&&D.disconnect()}},[_,j,S]),La(()=>{j()});const w=C=>{m||j();const P=C.target,E=P.value.length,D=P.value.endsWith(`
`),T=P.selectionStart===E;D&&T&&P.setSelectionRange(E,E),n&&n(C)};return e.jsxs(g.Fragment,{children:[e.jsx("textarea",{value:l,onChange:w,ref:h,rows:i,style:o,...c}),e.jsx("textarea",{"aria-hidden":!0,className:s.className,readOnly:!0,ref:v,tabIndex:-1,style:{...IQ.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function ld({props:t,states:s,muiFormControl:a}){return s.reduce((n,r)=>(n[r]=t[r],a&&typeof t[r]>"u"&&(n[r]=a[r]),n),{})}const Nv=g.createContext(void 0);function Ni(){return g.useContext(Nv)}function nE(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function bb(t,s=!1){return t&&(nE(t.value)&&t.value!==""||s&&nE(t.defaultValue)&&t.defaultValue!=="")}function LQ(t){return t.startAdornment}function zQ(t){return Et("MuiInputBase",t)}const ri=Pt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var rE;const wv=(t,s)=>{const{ownerState:a}=t;return[s.root,a.formControl&&s.formControl,a.startAdornment&&s.adornedStart,a.endAdornment&&s.adornedEnd,a.error&&s.error,a.size==="small"&&s.sizeSmall,a.multiline&&s.multiline,a.color&&s[`color${Je(a.color)}`],a.fullWidth&&s.fullWidth,a.hiddenLabel&&s.hiddenLabel]},_v=(t,s)=>{const{ownerState:a}=t;return[s.input,a.size==="small"&&s.inputSizeSmall,a.multiline&&s.inputMultiline,a.type==="search"&&s.inputTypeSearch,a.startAdornment&&s.inputAdornedStart,a.endAdornment&&s.inputAdornedEnd,a.hiddenLabel&&s.inputHiddenLabel]},$Q=t=>{const{classes:s,color:a,disabled:n,error:r,endAdornment:i,focused:o,formControl:l,fullWidth:c,hiddenLabel:m,multiline:u,readOnly:h,size:f,startAdornment:v,type:_}=t,S={root:["root",`color${Je(a)}`,n&&"disabled",r&&"error",c&&"fullWidth",o&&"focused",l&&"formControl",f&&f!=="medium"&&`size${Je(f)}`,u&&"multiline",v&&"adornedStart",i&&"adornedEnd",m&&"hiddenLabel",h&&"readOnly"],input:["input",n&&"disabled",_==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",m&&"inputHiddenLabel",v&&"inputAdornedStart",i&&"inputAdornedEnd",h&&"readOnly"]};return kt(S,zQ,s)},Sv=Ne("div",{name:"MuiInputBase",slot:"Root",overridesResolver:wv})(Ht(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ri.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:s})=>s.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:1}},{props:({ownerState:s})=>s.fullWidth,style:{width:"100%"}}]}))),Cv=Ne("input",{name:"MuiInputBase",slot:"Input",overridesResolver:_v})(Ht(({theme:t})=>{const s=t.palette.mode==="light",a={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},n={opacity:"0 !important"},r=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ri.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus::-ms-input-placeholder":r},[`&.${ri.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),iE=WY({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),kv=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:i,autoFocus:o,className:l,color:c,components:m={},componentsProps:u={},defaultValue:h,disabled:f,disableInjectingGlobalStyles:v,endAdornment:_,error:S,fullWidth:j=!1,id:b,inputComponent:w="input",inputProps:C={},inputRef:P,margin:E,maxRows:D,minRows:T,multiline:R=!1,name:z,onBlur:O,onChange:$,onClick:A,onFocus:Q,onKeyDown:K,onKeyUp:U,placeholder:B,readOnly:V,renderSuffix:Y,rows:H,size:F,slotProps:M={},slots:L={},startAdornment:W,type:X="text",value:te,...se}=n,ae=C.value!=null?C.value:te,{current:pe}=g.useRef(ae!=null),he=g.useRef(),re=g.useCallback($e=>{},[]),xe=Us(he,P,C.ref,re),[ge,le]=g.useState(!1),de=Ni(),we=ld({props:n,muiFormControl:de,states:["color","disabled","error","hiddenLabel","size","required","filled"]});we.focused=de?de.focused:ge,g.useEffect(()=>{!de&&f&&ge&&(le(!1),O&&O())},[de,f,ge,O]);const Ae=de&&de.onFilled,Fe=de&&de.onEmpty,Me=g.useCallback($e=>{bb($e)?Ae&&Ae():Fe&&Fe()},[Ae,Fe]);La(()=>{pe&&Me({value:ae})},[ae,Me,pe]);const Xe=$e=>{Q&&Q($e),C.onFocus&&C.onFocus($e),de&&de.onFocus?de.onFocus($e):le(!0)},ke=$e=>{O&&O($e),C.onBlur&&C.onBlur($e),de&&de.onBlur?de.onBlur($e):le(!1)},Ye=($e,...bt)=>{if(!pe){const Zt=$e.target||he.current;if(Zt==null)throw new Error(Zl(1));Me({value:Zt.value})}C.onChange&&C.onChange($e,...bt),$&&$($e,...bt)};g.useEffect(()=>{Me(he.current)},[]);const ye=$e=>{he.current&&$e.currentTarget===$e.target&&he.current.focus(),A&&A($e)};let We=w,Ge=C;R&&We==="input"&&(H?Ge={type:void 0,minRows:H,maxRows:H,...Ge}:Ge={type:void 0,maxRows:D,minRows:T,...Ge},We=FQ);const jt=$e=>{Me($e.animationName==="mui-auto-fill-cancel"?he.current:{value:"x"})};g.useEffect(()=>{de&&de.setAdornedStart(!!W)},[de,W]);const dt={...n,color:we.color||"primary",disabled:we.disabled,endAdornment:_,error:we.error,focused:we.focused,formControl:de,fullWidth:j,hiddenLabel:we.hiddenLabel,multiline:R,size:we.size,startAdornment:W,type:X},wt=$Q(dt),Dt=L.root||m.Root||Sv,ve=M.root||u.root||{},Le=L.input||m.Input||Cv;return Ge={...Ge,...M.input??u.input},e.jsxs(g.Fragment,{children:[!v&&typeof iE=="function"&&(rE||(rE=e.jsx(iE,{}))),e.jsxs(Dt,{...ve,ref:a,onClick:ye,...se,...!np(Dt)&&{ownerState:{...dt,...ve.ownerState}},className:tt(wt.root,ve.className,l,V&&"MuiInputBase-readOnly"),children:[W,e.jsx(Nv.Provider,{value:null,children:e.jsx(Le,{"aria-invalid":we.error,"aria-describedby":r,autoComplete:i,autoFocus:o,defaultValue:h,disabled:we.disabled,id:b,onAnimationStart:jt,name:z,placeholder:B,readOnly:V,required:we.required,rows:H,value:ae,onKeyDown:K,onKeyUp:U,type:X,...Ge,...!np(Le)&&{as:We,ownerState:{...dt,...Ge.ownerState}},ref:xe,className:tt(wt.input,Ge.className,V&&"MuiInputBase-readOnly"),onBlur:ke,onChange:Ye,onFocus:Xe})}),_,Y?Y({...we,startAdornment:W}):null]})]})});function qQ(t){return Et("MuiInput",t)}const Ic={...ri,...Pt("MuiInput",["root","underline","input"])};function BQ(t){return Et("MuiOutlinedInput",t)}const Li={...ri,...Pt("MuiOutlinedInput",["root","notchedOutline","input"])};function UQ(t){return Et("MuiFilledInput",t)}const ii={...ri,...Pt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},K9=Ut(e.jsx("path",{d:"M7 10l5 5 5-5z"}));function VQ(t){return Et("MuiAutocomplete",t)}const Hs=Pt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var oE,lE;const HQ=t=>{const{classes:s,disablePortal:a,expanded:n,focused:r,fullWidth:i,hasClearIcon:o,hasPopupIcon:l,inputFocused:c,popupOpen:m,size:u}=t,h={root:["root",n&&"expanded",r&&"focused",i&&"fullWidth",o&&"hasClearIcon",l&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",c&&"inputFocused"],tag:["tag",`tagSize${Je(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",m&&"popupIndicatorOpen"],popper:["popper",a&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return kt(h,VQ,s)},WQ=Ne("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t,{fullWidth:n,hasClearIcon:r,hasPopupIcon:i,inputFocused:o,size:l}=a;return[{[`& .${Hs.tag}`]:s.tag},{[`& .${Hs.tag}`]:s[`tagSize${Je(l)}`]},{[`& .${Hs.inputRoot}`]:s.inputRoot},{[`& .${Hs.input}`]:s.input},{[`& .${Hs.input}`]:o&&s.inputFocused},s.root,n&&s.fullWidth,i&&s.hasPopupIcon,r&&s.hasClearIcon]}})({[`&.${Hs.focused} .${Hs.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Hs.clearIndicator}`]:{visibility:"visible"}},[`& .${Hs.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${Hs.inputRoot}`]:{[`.${Hs.hasPopupIcon}&, .${Hs.hasClearIcon}&`]:{paddingRight:30},[`.${Hs.hasPopupIcon}.${Hs.hasClearIcon}&`]:{paddingRight:56},[`& .${Hs.input}`]:{width:0,minWidth:30}},[`& .${Ic.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Ic.root}.${ri.sizeSmall}`]:{[`& .${Ic.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Li.root}`]:{padding:9,[`.${Hs.hasPopupIcon}&, .${Hs.hasClearIcon}&`]:{paddingRight:39},[`.${Hs.hasPopupIcon}.${Hs.hasClearIcon}&`]:{paddingRight:65},[`& .${Hs.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Hs.endAdornment}`]:{right:9}},[`& .${Li.root}.${ri.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Hs.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${ii.root}`]:{paddingTop:19,paddingLeft:8,[`.${Hs.hasPopupIcon}&, .${Hs.hasClearIcon}&`]:{paddingRight:39},[`.${Hs.hasPopupIcon}.${Hs.hasClearIcon}&`]:{paddingRight:65},[`& .${ii.input}`]:{padding:"7px 4px"},[`& .${Hs.endAdornment}`]:{right:9}},[`& .${ii.root}.${ri.sizeSmall}`]:{paddingBottom:1,[`& .${ii.input}`]:{padding:"2.5px 4px"}},[`& .${ri.hiddenLabel}`]:{paddingTop:8},[`& .${ii.root}.${ri.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Hs.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${ii.root}.${ri.hiddenLabel}.${ri.sizeSmall}`]:{[`& .${Hs.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Hs.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${Hs.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${Hs.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${Hs.inputRoot}`]:{flexWrap:"wrap"}}}]}),YQ=Ne("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),GQ=Ne(na,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),KQ=Ne(na,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.popupIndicator,a.popupOpen&&s.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),QQ=Ne(mg,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[{[`& .${Hs.option}`]:s.option},s.popper,a.disablePortal&&s.popperDisablePortal]}})(Ht(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),ZQ=Ne(da,{name:"MuiAutocomplete",slot:"Paper"})(Ht(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),XQ=Ne("div",{name:"MuiAutocomplete",slot:"Loading"})(Ht(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),JQ=Ne("div",{name:"MuiAutocomplete",slot:"NoOptions"})(Ht(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),eZ=Ne("ul",{name:"MuiAutocomplete",slot:"Listbox"})(Ht(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Hs.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Hs.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Hs.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${Hs.focused}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${Hs.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))),tZ=Ne(Dw,{name:"MuiAutocomplete",slot:"GroupLabel"})(Ht(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),sZ=Ne("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${Hs.option}`]:{paddingLeft:24}}),Yn=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiAutocomplete"}),{autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:l=!1,ChipProps:c,className:m,clearIcon:u=oE||(oE=e.jsx(L9,{fontSize:"small"})),clearOnBlur:h=!n.freeSolo,clearOnEscape:f=!1,clearText:v="Clear",closeText:_="Close",componentsProps:S,defaultValue:j=n.multiple?[]:null,disableClearable:b=!1,disableCloseOnSelect:w=!1,disabled:C=!1,disabledItemsFocusable:P=!1,disableListWrap:E=!1,disablePortal:D=!1,filterOptions:T,filterSelectedOptions:R=!1,forcePopupIcon:z="auto",freeSolo:O=!1,fullWidth:$=!1,getLimitTagsText:A=Ss=>`+${Ss}`,getOptionDisabled:Q,getOptionKey:K,getOptionLabel:U,isOptionEqualToValue:B,groupBy:V,handleHomeEndKeys:Y=!n.freeSolo,id:H,includeInputInList:F=!1,inputValue:M,limitTags:L=-1,ListboxComponent:W,ListboxProps:X,loading:te=!1,loadingText:se="Loading",multiple:ae=!1,noOptionsText:pe="No options",onChange:he,onClose:re,onHighlightChange:xe,onInputChange:ge,onOpen:le,open:de,openOnFocus:we=!1,openText:Ae="Open",options:Fe,PaperComponent:Me,PopperComponent:Xe,popupIcon:ke=lE||(lE=e.jsx(K9,{})),readOnly:Ye=!1,renderGroup:ye,renderInput:We,renderOption:Ge,renderTags:jt,renderValue:dt,selectOnFocus:wt=!n.freeSolo,size:Dt="medium",slots:ve={},slotProps:Le={},value:$e,...bt}=n,{getRootProps:Zt,getInputProps:Ot,getInputLabelProps:It,getPopupIndicatorProps:ts,getClearProps:st,getItemProps:Gt,getListboxProps:es,getOptionProps:us,value:As,dirty:Ls,expanded:ws,id:ma,popupOpen:ca,focused:fa,focusedItem:qt,anchorEl:zs,setAnchorEl:Ft,inputValue:Qt,groupedOptions:Ms}=uK({...n,componentName:"Autocomplete"}),je=!b&&!C&&Ls&&!Ye,Ce=(!O||z===!0)&&z!==!1,{onMouseDown:Be}=Ot(),{ref:xt,...ce}=es(),Ie=U||(Ss=>Ss.label??Ss),rt={...n,disablePortal:D,expanded:ws,focused:fa,fullWidth:$,getOptionLabel:Ie,hasClearIcon:je,hasPopupIcon:Ce,inputFocused:qt===-1,popupOpen:ca,size:Dt},gt=HQ(rt),Kt={slots:{paper:Me,popper:Xe,...ve},slotProps:{chip:c,listbox:X,...S,...Le}},[os,Ue]=Yt("listbox",{elementType:eZ,externalForwardedProps:Kt,ownerState:rt,className:gt.listbox,additionalProps:ce,ref:xt}),[zt,Pe]=Yt("paper",{elementType:da,externalForwardedProps:Kt,ownerState:rt,className:gt.paper}),[qe,Mt]=Yt("popper",{elementType:mg,externalForwardedProps:Kt,ownerState:rt,className:gt.popper,additionalProps:{disablePortal:D,style:{width:zs?zs.clientWidth:null},role:"presentation",anchorEl:zs,open:ca}});let Xt;const $t=Ss=>({className:gt.tag,disabled:C,...Gt(Ss)});if(ae?As.length>0&&(jt?Xt=jt(As,$t,rt):dt?Xt=dt(As,$t,rt):Xt=As.map((Ss,An)=>{const{key:In,...Ds}=$t({index:An});return e.jsx(De,{label:Ie(Ss),size:Dt,...Ds,...Kt.slotProps.chip},In)})):dt&&As!=null&&(Xt=dt(As,$t,rt)),L>-1&&Array.isArray(Xt)){const Ss=Xt.length-L;!fa&&Ss>0&&(Xt=Xt.splice(0,L),Xt.push(e.jsx("span",{className:gt.tag,children:A(Ss)},Xt.length)))}const $s=ye||(Ss=>e.jsxs("li",{children:[e.jsx(tZ,{className:gt.groupLabel,ownerState:rt,component:"div",children:Ss.group}),e.jsx(sZ,{className:gt.groupUl,ownerState:rt,children:Ss.children})]},Ss.key)),qs=Ge||((Ss,An)=>{const{key:In,...Ds}=Ss;return e.jsx("li",{...Ds,children:Ie(An)},In)}),Wa=(Ss,An)=>{const In=us({option:Ss,index:An});return qs({...In,className:gt.option},Ss,{selected:In["aria-selected"],index:An,inputValue:Qt},rt)},en=Kt.slotProps.clearIndicator,Pn=Kt.slotProps.popupIndicator;return e.jsxs(g.Fragment,{children:[e.jsx(WQ,{ref:a,className:tt(gt.root,m),ownerState:rt,...Zt(bt),children:We({id:ma,disabled:C,fullWidth:!0,size:Dt==="small"?"small":void 0,InputLabelProps:It(),InputProps:{ref:Ft,className:gt.inputRoot,startAdornment:Xt,onMouseDown:Ss=>{Ss.target===Ss.currentTarget&&Be(Ss)},...(je||Ce)&&{endAdornment:e.jsxs(YQ,{className:gt.endAdornment,ownerState:rt,children:[je?e.jsx(GQ,{...st(),"aria-label":v,title:v,ownerState:rt,...en,className:tt(gt.clearIndicator,en?.className),children:u}):null,Ce?e.jsx(KQ,{...ts(),disabled:C,"aria-label":ca?_:Ae,title:ca?_:Ae,ownerState:rt,...Pn,className:tt(gt.popupIndicator,Pn?.className),children:ke}):null]})}},inputProps:{className:gt.input,disabled:C,readOnly:Ye,...Ot()}})}),zs?e.jsx(QQ,{as:qe,...Mt,children:e.jsxs(ZQ,{as:zt,...Pe,children:[te&&Ms.length===0?e.jsx(XQ,{className:gt.loading,ownerState:rt,children:se}):null,Ms.length===0&&!O&&!te?e.jsx(JQ,{className:gt.noOptions,ownerState:rt,role:"presentation",onMouseDown:Ss=>{Ss.preventDefault()},children:pe}):null,Ms.length>0?e.jsx(os,{as:W,...Ue,children:Ms.map((Ss,An)=>V?$s({key:Ss.key,group:Ss.group,children:Ss.options.map((In,Ds)=>Wa(In,Ss.index+Ds))}):Wa(Ss,An))}):null]})}):null]})}),aZ=Ut(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function nZ(t){return Et("MuiAvatar",t)}const rZ=Pt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]),iZ=t=>{const{classes:s,variant:a,colorDefault:n}=t;return kt({root:["root",a,n&&"colorDefault"],img:["img"],fallback:["fallback"]},nZ,s)},oZ=Ne("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],a.colorDefault&&s.colorDefault]}})(Ht(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),lZ=Ne("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),cZ=Ne(aZ,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function dZ({crossOrigin:t,referrerPolicy:s,src:a,srcSet:n}){const[r,i]=g.useState(!1);return g.useEffect(()=>{if(!a&&!n)return;i(!1);let o=!0;const l=new Image;return l.onload=()=>{o&&i("loaded")},l.onerror=()=>{o&&i("error")},l.crossOrigin=t,l.referrerPolicy=s,l.src=a,n&&(l.srcset=n),()=>{o=!1}},[t,s,a,n]),r}const ht=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiAvatar"}),{alt:r,children:i,className:o,component:l="div",slots:c={},slotProps:m={},imgProps:u,sizes:h,src:f,srcSet:v,variant:_="circular",...S}=n;let j=null;const b={...n,component:l,variant:_},w=dZ({...u,...typeof m.img=="function"?m.img(b):m.img,src:f,srcSet:v}),C=f||v,P=C&&w!=="error";b.colorDefault=!P,delete b.ownerState;const E=iZ(b),[D,T]=Yt("root",{ref:a,className:tt(E.root,o),elementType:oZ,externalForwardedProps:{slots:c,slotProps:m,component:l,...S},ownerState:b}),[R,z]=Yt("img",{className:E.img,elementType:lZ,externalForwardedProps:{slots:c,slotProps:{img:{...u,...m.img}}},additionalProps:{alt:r,src:f,srcSet:v,sizes:h},ownerState:b}),[O,$]=Yt("fallback",{className:E.fallback,elementType:cZ,externalForwardedProps:{slots:c,slotProps:m},shouldForwardComponentProp:!0,ownerState:b});return P?j=e.jsx(R,{...z}):i||i===0?j=i:C&&r?j=r[0]:j=e.jsx(O,{...$}),e.jsx(D,{...T,children:j})});function uZ(t){return Et("MuiAvatarGroup",t)}const mZ=Pt("MuiAvatarGroup",["root","avatar"]),aN={small:-16,medium:-8},pZ=t=>{const{classes:s}=t;return kt({root:["root"],avatar:["avatar"]},uZ,s)},hZ=Ne("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(t,s)=>[{[`& .${mZ.avatar}`]:s.avatar},s.root]})(Ht(({theme:t})=>({display:"flex",flexDirection:"row-reverse",[`& .${rZ.root}`]:{border:`2px solid ${(t.vars||t).palette.background.default}`,boxSizing:"content-box",marginLeft:"var(--AvatarGroup-spacing, -8px)","&:last-child":{marginLeft:0}}}))),fZ=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiAvatarGroup"}),{children:r,className:i,component:o="div",componentsProps:l,max:c=5,renderSurplus:m,slotProps:u={},slots:h={},spacing:f="medium",total:v,variant:_="circular",...S}=n;let j=c<2?2:c;const b={...n,max:c,spacing:f,component:o,variant:_},w=pZ(b),C=g.Children.toArray(r).filter(A=>g.isValidElement(A)),P=v||C.length;P===j&&(j+=1),j=Math.min(P+1,j);const E=Math.min(C.length,j-1),D=Math.max(P-j,P-E,0),T=m?m(D):`+${D}`;let R;b.spacing&&aN[b.spacing]!==void 0?R=aN[b.spacing]:b.spacing===0?R=0:R=-b.spacing||aN.medium;const z={slots:h,slotProps:{surplus:u.additionalAvatar??l?.additionalAvatar,...l,...u}},[O,$]=Yt("surplus",{elementType:ht,externalForwardedProps:z,className:w.avatar,ownerState:b,additionalProps:{variant:_}});return e.jsxs(hZ,{as:o,ownerState:b,className:tt(w.root,i),ref:a,...S,style:{"--AvatarGroup-spacing":`${R}px`,...S.style},children:[D?e.jsx(O,{...$,children:T}):null,C.slice(0,E).reverse().map(A=>g.cloneElement(A,{className:tt(A.props.className,w.avatar),variant:A.props.variant||_}))]})}),xZ={entering:{opacity:1},entered:{opacity:1}},du=g.forwardRef(function(s,a){const n=vi(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:l,easing:c,in:m,onEnter:u,onEntered:h,onEntering:f,onExit:v,onExited:_,onExiting:S,style:j,timeout:b=r,TransitionComponent:w=ji,...C}=s,P=g.useRef(null),E=Us(P,od(l),a),D=K=>U=>{if(K){const B=P.current;U===void 0?K(B):K(B,U)}},T=D(f),R=D((K,U)=>{v4(K);const B=Jc({style:j,timeout:b,easing:c},{mode:"enter"});K.style.webkitTransition=n.transitions.create("opacity",B),K.style.transition=n.transitions.create("opacity",B),u&&u(K,U)}),z=D(h),O=D(S),$=D(K=>{const U=Jc({style:j,timeout:b,easing:c},{mode:"exit"});K.style.webkitTransition=n.transitions.create("opacity",U),K.style.transition=n.transitions.create("opacity",U),v&&v(K)}),A=D(_),Q=K=>{i&&i(P.current,K)};return e.jsx(w,{appear:o,in:m,nodeRef:P,onEnter:R,onEntered:z,onEntering:T,onExit:$,onExited:A,onExiting:O,addEndListener:Q,timeout:b,...C,children:(K,{ownerState:U,...B})=>g.cloneElement(l,{style:{opacity:0,visibility:K==="exited"&&!m?"hidden":void 0,...xZ[K],...j,...l.props.style},ref:E,...B})})});function gZ(t){return Et("MuiBackdrop",t)}Pt("MuiBackdrop",["root","invisible"]);const yZ=t=>{const{classes:s,invisible:a}=t;return kt({root:["root",a&&"invisible"]},gZ,s)},bZ=Ne("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.invisible&&s.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Q9=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiBackdrop"}),{children:r,className:i,component:o="div",invisible:l=!1,open:c,components:m={},componentsProps:u={},slotProps:h={},slots:f={},TransitionComponent:v,transitionDuration:_,...S}=n,j={...n,component:o,invisible:l},b=yZ(j),w={transition:v,root:m.Root,...f},C={...u,...h},P={component:o,slots:w,slotProps:C},[E,D]=Yt("root",{elementType:bZ,externalForwardedProps:P,className:tt(b.root,i),ownerState:j}),[T,R]=Yt("transition",{elementType:du,externalForwardedProps:P,ownerState:j});return e.jsx(T,{in:c,timeout:_,...S,...R,children:e.jsx(E,{"aria-hidden":!0,...D,classes:b,ref:a,children:r})})});function vZ(t){const{badgeContent:s,invisible:a=!1,max:n=99,showZero:r=!1}=t,i=j4({badgeContent:s,max:n});let o=a;a===!1&&s===0&&!r&&(o=!0);const{badgeContent:l,max:c=n}=o?i:t,m=l&&Number(l)>c?`${c}+`:l;return{badgeContent:l,invisible:o,max:c,displayValue:m}}function jZ(t){return Et("MuiBadge",t)}const Tc=Pt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),nN=10,rN=4,NZ=t=>{const{color:s,anchorOrigin:a,invisible:n,overlap:r,variant:i,classes:o={}}=t,l={root:["root"],badge:["badge",i,n&&"invisible",`anchorOrigin${Je(a.vertical)}${Je(a.horizontal)}`,`anchorOrigin${Je(a.vertical)}${Je(a.horizontal)}${Je(r)}`,`overlap${Je(r)}`,s!=="default"&&`color${Je(s)}`]};return kt(l,jZ,o)},wZ=Ne("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),_Z=Ne("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.badge,s[a.variant],s[`anchorOrigin${Je(a.anchorOrigin.vertical)}${Je(a.anchorOrigin.horizontal)}${Je(a.overlap)}`],a.color!=="default"&&s[`color${Je(a.color)}`],a.invisible&&s.invisible]}})(Ht(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:nN*2,lineHeight:1,padding:"0 6px",height:nN*2,borderRadius:nN,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(Ia(["contrastText"])).map(([s])=>({props:{color:s},style:{backgroundColor:(t.vars||t).palette[s].main,color:(t.vars||t).palette[s].contrastText}})),{props:{variant:"dot"},style:{borderRadius:rN,height:rN*2,minWidth:rN*2,padding:0}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="top"&&s.anchorOrigin.horizontal==="right"&&s.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Tc.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="bottom"&&s.anchorOrigin.horizontal==="right"&&s.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Tc.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="top"&&s.anchorOrigin.horizontal==="left"&&s.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Tc.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="bottom"&&s.anchorOrigin.horizontal==="left"&&s.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Tc.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="top"&&s.anchorOrigin.horizontal==="right"&&s.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Tc.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="bottom"&&s.anchorOrigin.horizontal==="right"&&s.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Tc.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="top"&&s.anchorOrigin.horizontal==="left"&&s.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Tc.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="bottom"&&s.anchorOrigin.horizontal==="left"&&s.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Tc.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function cE(t){return{vertical:t?.vertical??"top",horizontal:t?.horizontal??"right"}}const E4=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiBadge"}),{anchorOrigin:r,className:i,classes:o,component:l,components:c={},componentsProps:m={},children:u,overlap:h="rectangular",color:f="default",invisible:v=!1,max:_=99,badgeContent:S,slots:j,slotProps:b,showZero:w=!1,variant:C="standard",...P}=n,{badgeContent:E,invisible:D,max:T,displayValue:R}=vZ({max:_,invisible:v,badgeContent:S,showZero:w}),z=j4({anchorOrigin:cE(r),color:f,overlap:h,variant:C,badgeContent:S}),O=D||E==null&&C!=="dot",{color:$=f,overlap:A=h,anchorOrigin:Q,variant:K=C}=O?z:n,U=cE(Q),B=K!=="dot"?R:void 0,V={...n,badgeContent:E,invisible:O,max:T,displayValue:B,showZero:w,anchorOrigin:U,color:$,overlap:A,variant:K},Y=NZ(V),H={slots:{root:j?.root??c.Root,badge:j?.badge??c.Badge},slotProps:{root:b?.root??m.root,badge:b?.badge??m.badge}},[F,M]=Yt("root",{elementType:wZ,externalForwardedProps:{...H,...P},ownerState:V,className:tt(Y.root,i),ref:a,additionalProps:{as:l}}),[L,W]=Yt("badge",{elementType:_Z,externalForwardedProps:H,ownerState:V,className:Y.badge});return e.jsxs(F,{...M,children:[u,e.jsx(L,{...W,children:B})]})}),SZ=Pt("MuiBox",["root"]),CZ=yv(),y=bW({themeId:Gi,defaultTheme:CZ,defaultClassName:SZ.root,generateClassName:u9.generate});function kZ(t){return Et("MuiButton",t)}const Td=Pt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),PZ=g.createContext({}),EZ=g.createContext(void 0),TZ=t=>{const{color:s,disableElevation:a,fullWidth:n,size:r,variant:i,loading:o,loadingPosition:l,classes:c}=t,m={root:["root",o&&"loading",i,`${i}${Je(s)}`,`size${Je(r)}`,`${i}Size${Je(r)}`,`color${Je(s)}`,a&&"disableElevation",n&&"fullWidth",o&&`loadingPosition${Je(l)}`],startIcon:["icon","startIcon",`iconSize${Je(r)}`],endIcon:["icon","endIcon",`iconSize${Je(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},u=kt(m,kZ,c);return{...c,...u}},Z9=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],MZ=Ne(No,{shouldForwardProp:t=>Bn(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],s[`${a.variant}${Je(a.color)}`],s[`size${Je(a.size)}`],s[`${a.variant}Size${Je(a.size)}`],a.color==="inherit"&&s.colorInherit,a.disableElevation&&s.disableElevation,a.fullWidth&&s.fullWidth,a.loading&&s.loading]}})(Ht(({theme:t})=>{const s=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],a=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Td.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Td.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Td.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Td.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Ia()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:s,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Td.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Td.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Td.loading}`]:{color:"transparent"}}}]}})),DZ=Ne("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.startIcon,a.loading&&s.startIconLoadingStart,s[`iconSize${Je(a.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Z9]})),RZ=Ne("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.endIcon,a.loading&&s.endIconLoadingEnd,s[`iconSize${Je(a.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Z9]})),AZ=Ne("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),dE=Ne("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),po=g.forwardRef(function(s,a){const n=g.useContext(PZ),r=g.useContext(EZ),i=xx(n,s),o=ss({props:i,name:"MuiButton"}),{children:l,color:c="primary",component:m="button",className:u,disabled:h=!1,disableElevation:f=!1,disableFocusRipple:v=!1,endIcon:_,focusVisibleClassName:S,fullWidth:j=!1,id:b,loading:w=null,loadingIndicator:C,loadingPosition:P="center",size:E="medium",startIcon:D,type:T,variant:R="text",...z}=o,O=_r(b),$=C??e.jsx(wo,{"aria-labelledby":O,color:"inherit",size:16}),A={...o,color:c,component:m,disabled:h,disableElevation:f,disableFocusRipple:v,fullWidth:j,loading:w,loadingIndicator:$,loadingPosition:P,size:E,type:T,variant:R},Q=TZ(A),K=(D||w&&P==="start")&&e.jsx(DZ,{className:Q.startIcon,ownerState:A,children:D||e.jsx(dE,{className:Q.loadingIconPlaceholder,ownerState:A})}),U=(_||w&&P==="end")&&e.jsx(RZ,{className:Q.endIcon,ownerState:A,children:_||e.jsx(dE,{className:Q.loadingIconPlaceholder,ownerState:A})}),B=r||"",V=typeof w=="boolean"?e.jsx("span",{className:Q.loadingWrapper,style:{display:"contents"},children:w&&e.jsx(AZ,{className:Q.loadingIndicator,ownerState:A,children:$})}):null;return e.jsxs(MZ,{ownerState:A,className:tt(n.className,Q.root,u,B),component:m,disabled:h||w,focusRipple:!v,focusVisibleClassName:tt(Q.focusVisible,S),ref:a,type:T,id:w?O:b,...z,classes:Q,children:[K,P!=="end"&&V,l,P==="end"&&V,U]})});function IZ(t){return Et("PrivateSwitchBase",t)}Pt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const OZ=t=>{const{classes:s,checked:a,disabled:n,edge:r}=t,i={root:["root",a&&"checked",n&&"disabled",r&&`edge${Je(r)}`],input:["input"]};return kt(i,IZ,s)},FZ=Ne(No,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:s})=>t==="start"&&s.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:s})=>t==="end"&&s.size!=="small",style:{marginRight:-12}}]}),LZ=Ne("input",{name:"MuiSwitchBase",shouldForwardProp:Bn})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),T4=g.forwardRef(function(s,a){const{autoFocus:n,checked:r,checkedIcon:i,defaultChecked:o,disabled:l,disableFocusRipple:c=!1,edge:m=!1,icon:u,id:h,inputProps:f,inputRef:v,name:_,onBlur:S,onChange:j,onFocus:b,readOnly:w,required:C=!1,tabIndex:P,type:E,value:D,slots:T={},slotProps:R={},...z}=s,[O,$]=zr({controlled:r,default:!!o,name:"SwitchBase",state:"checked"}),A=Ni(),Q=te=>{b&&b(te),A&&A.onFocus&&A.onFocus(te)},K=te=>{S&&S(te),A&&A.onBlur&&A.onBlur(te)},U=te=>{if(te.nativeEvent.defaultPrevented)return;const se=te.target.checked;$(se),j&&j(te,se)};let B=l;A&&typeof B>"u"&&(B=A.disabled);const V=E==="checkbox"||E==="radio",Y={...s,checked:O,disabled:B,disableFocusRipple:c,edge:m},H=OZ(Y),F={slots:T,slotProps:{input:f,...R}},[M,L]=Yt("root",{ref:a,elementType:FZ,className:H.root,shouldForwardComponentProp:!0,externalForwardedProps:{...F,component:"span",...z},getSlotProps:te=>({...te,onFocus:se=>{te.onFocus?.(se),Q(se)},onBlur:se=>{te.onBlur?.(se),K(se)}}),ownerState:Y,additionalProps:{centerRipple:!0,focusRipple:!c,disabled:B,role:void 0,tabIndex:null}}),[W,X]=Yt("input",{ref:v,elementType:LZ,className:H.input,externalForwardedProps:F,getSlotProps:te=>({...te,onChange:se=>{te.onChange?.(se),U(se)}}),ownerState:Y,additionalProps:{autoFocus:n,checked:r,defaultChecked:o,disabled:B,id:V?h:void 0,name:_,readOnly:w,required:C,tabIndex:P,type:E,...E==="checkbox"&&D===void 0?{}:{value:D}}});return e.jsxs(M,{...L,children:[e.jsx(W,{...X}),O?i:u]})}),zZ=Ut(e.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),$Z=Ut(e.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),qZ=Ut(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function BZ(t){return Et("MuiCheckbox",t)}const iN=Pt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),UZ=t=>{const{classes:s,indeterminate:a,color:n,size:r}=t,i={root:["root",a&&"indeterminate",`color${Je(n)}`,`size${Je(r)}`]},o=kt(i,BZ,s);return{...s,...o}},VZ=Ne(T4,{shouldForwardProp:t=>Bn(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.indeterminate&&s.indeterminate,s[`size${Je(a.size)}`],a.color!=="default"&&s[`color${Je(a.color)}`]]}})(Ht(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Ia()).map(([s])=>({props:{color:s,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[s].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(Ia()).map(([s])=>({props:{color:s},style:{[`&.${iN.checked}, &.${iN.indeterminate}`]:{color:(t.vars||t).palette[s].main},[`&.${iN.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),HZ=e.jsx($Z,{}),WZ=e.jsx(zZ,{}),YZ=e.jsx(qZ,{}),qo=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiCheckbox"}),{checkedIcon:r=HZ,color:i="primary",icon:o=WZ,indeterminate:l=!1,indeterminateIcon:c=YZ,inputProps:m,size:u="medium",disableRipple:h=!1,className:f,slots:v={},slotProps:_={},...S}=n,j=l?c:o,b=l?c:r,w={...n,disableRipple:h,color:i,indeterminate:l,size:u},C=UZ(w),P=_.input??m,[E,D]=Yt("root",{ref:a,elementType:VZ,className:tt(C.root,f),shouldForwardComponentProp:!0,externalForwardedProps:{slots:v,slotProps:_,...S},ownerState:w,additionalProps:{type:"checkbox",icon:g.cloneElement(j,{fontSize:j.props.fontSize??u}),checkedIcon:g.cloneElement(b,{fontSize:b.props.fontSize??u}),disableRipple:h,slots:v,slotProps:{input:x4(typeof P=="function"?P(w):P,{"data-indeterminate":l})}}});return e.jsx(E,{...D,classes:C})});function uE(t){return t.substring(2).toLowerCase()}function GZ(t,s){return s.documentElement.clientWidth<t.clientX||s.documentElement.clientHeight<t.clientY}function KZ(t){const{children:s,disableReactTree:a=!1,mouseEvent:n="onClick",onClickAway:r,touchEvent:i="onTouchEnd"}=t,o=g.useRef(!1),l=g.useRef(null),c=g.useRef(!1),m=g.useRef(!1);g.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const u=Us(od(s),l),h=At(_=>{const S=m.current;m.current=!1;const j=dn(l.current);if(!c.current||!l.current||"clientX"in _&&GZ(_,j))return;if(o.current){o.current=!1;return}let b;_.composedPath?b=_.composedPath().includes(l.current):b=!j.documentElement.contains(_.target)||l.current.contains(_.target),!b&&(a||!S)&&r(_)}),f=_=>S=>{m.current=!0;const j=s.props[_];j&&j(S)},v={ref:u};return i!==!1&&(v[i]=f(i)),g.useEffect(()=>{if(i!==!1){const _=uE(i),S=dn(l.current),j=()=>{o.current=!0};return S.addEventListener(_,h),S.addEventListener("touchmove",j),()=>{S.removeEventListener(_,h),S.removeEventListener("touchmove",j)}}},[h,i]),n!==!1&&(v[n]=f(n)),g.useEffect(()=>{if(n!==!1){const _=uE(n),S=dn(l.current);return S.addEventListener(_,h),()=>{S.removeEventListener(_,h)}}},[h,n]),g.cloneElement(s,v)}function X9(t=window){const s=t.document.documentElement.clientWidth;return t.innerWidth-s}function QZ(t){const s=dn(t);return s.body===t?xi(t).innerWidth>s.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Wf(t,s){s?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function mE(t){return parseInt(xi(t).getComputedStyle(t).paddingRight,10)||0}function ZZ(t){const a=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return a||n}function pE(t,s,a,n,r){const i=[s,a,...n];[].forEach.call(t.children,o=>{const l=!i.includes(o),c=!ZZ(o);l&&c&&Wf(o,r)})}function oN(t,s){let a=-1;return t.some((n,r)=>s(n)?(a=r,!0):!1),a}function XZ(t,s){const a=[],n=t.container;if(!s.disableScrollLock){if(QZ(n)){const o=X9(xi(n));a.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${mE(n)+o}px`;const l=dn(n).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{a.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${mE(c)+o}px`})}let i;if(n.parentNode instanceof DocumentFragment)i=dn(n).body;else{const o=n.parentElement,l=xi(n);i=o?.nodeName==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:n}a.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{a.forEach(({value:i,el:o,property:l})=>{i?o.style.setProperty(l,i):o.style.removeProperty(l)})}}function JZ(t){const s=[];return[].forEach.call(t.children,a=>{a.getAttribute("aria-hidden")==="true"&&s.push(a)}),s}class eX{constructor(){this.modals=[],this.containers=[]}add(s,a){let n=this.modals.indexOf(s);if(n!==-1)return n;n=this.modals.length,this.modals.push(s),s.modalRef&&Wf(s.modalRef,!1);const r=JZ(a);pE(a,s.mount,s.modalRef,r,!0);const i=oN(this.containers,o=>o.container===a);return i!==-1?(this.containers[i].modals.push(s),n):(this.containers.push({modals:[s],container:a,restore:null,hiddenSiblings:r}),n)}mount(s,a){const n=oN(this.containers,i=>i.modals.includes(s)),r=this.containers[n];r.restore||(r.restore=XZ(r,a))}remove(s,a=!0){const n=this.modals.indexOf(s);if(n===-1)return n;const r=oN(this.containers,o=>o.modals.includes(s)),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(s),1),this.modals.splice(n,1),i.modals.length===0)i.restore&&i.restore(),s.modalRef&&Wf(s.modalRef,a),pE(i.container,s.mount,s.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const o=i.modals[i.modals.length-1];o.modalRef&&Wf(o.modalRef,!1)}return n}isTopModal(s){return this.modals.length>0&&this.modals[this.modals.length-1]===s}}function Mm(t){let s=t.activeElement;for(;s?.shadowRoot?.activeElement!=null;)s=s.shadowRoot.activeElement;return s}const tX=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function sX(t){const s=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(s)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:s}function aX(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const s=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let a=s(`[name="${t.name}"]:checked`);return a||(a=s(`[name="${t.name}"]`)),a!==t}function nX(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||aX(t))}function rX(t){const s=[],a=[];return Array.from(t.querySelectorAll(tX)).forEach((n,r)=>{const i=sX(n);i===-1||!nX(n)||(i===0?s.push(n):a.push({documentOrder:r,tabIndex:i,node:n}))}),a.sort((n,r)=>n.tabIndex===r.tabIndex?n.documentOrder-r.documentOrder:n.tabIndex-r.tabIndex).map(n=>n.node).concat(s)}function iX(){return!0}function J9(t){const{children:s,disableAutoFocus:a=!1,disableEnforceFocus:n=!1,disableRestoreFocus:r=!1,getTabbable:i=rX,isEnabled:o=iX,open:l}=t,c=g.useRef(!1),m=g.useRef(null),u=g.useRef(null),h=g.useRef(null),f=g.useRef(null),v=g.useRef(!1),_=g.useRef(null),S=Us(od(s),_),j=g.useRef(null);g.useEffect(()=>{!l||!_.current||(v.current=!a)},[a,l]),g.useEffect(()=>{if(!l||!_.current)return;const C=dn(_.current),P=Mm(C);return _.current.contains(P)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),v.current&&_.current.focus()),()=>{r||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}},[l]),g.useEffect(()=>{if(!l||!_.current)return;const C=dn(_.current),P=Mm(C),E=R=>{j.current=R,!(n||!o()||R.key!=="Tab")&&P===_.current&&R.shiftKey&&(c.current=!0,u.current&&u.current.focus())},D=()=>{const R=_.current;if(R===null)return;const z=Mm(C);if(!C.hasFocus()||!o()||c.current){c.current=!1;return}if(R.contains(z)||n&&z!==m.current&&z!==u.current)return;if(z!==f.current)f.current=null;else if(f.current!==null)return;if(!v.current)return;let O=[];if((z===m.current||z===u.current)&&(O=i(_.current)),O.length>0){const $=!!(j.current?.shiftKey&&j.current?.key==="Tab"),A=O[0],Q=O[O.length-1];typeof A!="string"&&typeof Q!="string"&&($?Q.focus():A.focus())}else R.focus()};C.addEventListener("focusin",D),C.addEventListener("keydown",E,!0);const T=setInterval(()=>{const R=Mm(C);R&&R.tagName==="BODY"&&D()},50);return()=>{clearInterval(T),C.removeEventListener("focusin",D),C.removeEventListener("keydown",E,!0)}},[a,n,r,o,l,i]);const b=C=>{h.current===null&&(h.current=C.relatedTarget),v.current=!0,f.current=C.target;const P=s.props.onFocus;P&&P(C)},w=C=>{h.current===null&&(h.current=C.relatedTarget),v.current=!0};return e.jsxs(g.Fragment,{children:[e.jsx("div",{tabIndex:l?0:-1,onFocus:w,ref:m,"data-testid":"sentinelStart"}),g.cloneElement(s,{ref:S,onFocus:b}),e.jsx("div",{tabIndex:l?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function oX(t){return typeof t=="function"?t():t}function lX(t){return t?t.props.hasOwnProperty("in"):!1}const hE=()=>{},ey=new eX;function cX(t){const{container:s,disableEscapeKeyDown:a=!1,disableScrollLock:n=!1,closeAfterTransition:r=!1,onTransitionEnter:i,onTransitionExited:o,children:l,onClose:c,open:m,rootRef:u}=t,h=g.useRef({}),f=g.useRef(null),v=g.useRef(null),_=Us(v,u),[S,j]=g.useState(!m),b=lX(l);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const C=()=>dn(f.current),P=()=>(h.current.modalRef=v.current,h.current.mount=f.current,h.current),E=()=>{ey.mount(P(),{disableScrollLock:n}),v.current&&(v.current.scrollTop=0)},D=At(()=>{const U=oX(s)||C().body;ey.add(P(),U),v.current&&E()}),T=()=>ey.isTopModal(P()),R=At(U=>{f.current=U,U&&(m&&T()?E():v.current&&Wf(v.current,w))}),z=g.useCallback(()=>{ey.remove(P(),w)},[w]);g.useEffect(()=>()=>{z()},[z]),g.useEffect(()=>{m?D():(!b||!r)&&z()},[m,z,b,r,D]);const O=U=>B=>{U.onKeyDown?.(B),!(B.key!=="Escape"||B.which===229||!T())&&(a||(B.stopPropagation(),c&&c(B,"escapeKeyDown")))},$=U=>B=>{U.onClick?.(B),B.target===B.currentTarget&&c&&c(B,"backdropClick")};return{getRootProps:(U={})=>{const B=O9(t);delete B.onTransitionEnter,delete B.onTransitionExited;const V={...B,...U};return{role:"presentation",...V,onKeyDown:O(V),ref:_}},getBackdropProps:(U={})=>{const B=U;return{"aria-hidden":!0,...B,onClick:$(B),open:m}},getTransitionProps:()=>{const U=()=>{j(!1),i&&i()},B=()=>{j(!0),o&&o(),r&&z()};return{onEnter:vw(U,l?.props.onEnter??hE),onExited:vw(B,l?.props.onExited??hE)}},rootRef:_,portalRef:R,isTopModal:T,exited:S,hasTransition:b}}function dX(t){return Et("MuiModal",t)}Pt("MuiModal",["root","hidden","backdrop"]);const uX=t=>{const{open:s,exited:a,classes:n}=t;return kt({root:["root",!s&&a&&"hidden"],backdrop:["backdrop"]},dX,n)},mX=Ne("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,!a.open&&a.exited&&s.hidden]}})(Ht(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:s})=>!s.open&&s.exited,style:{visibility:"hidden"}}]}))),pX=Ne(Q9,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Pv=g.forwardRef(function(s,a){const n=ss({name:"MuiModal",props:s}),{BackdropComponent:r=pX,BackdropProps:i,classes:o,className:l,closeAfterTransition:c=!1,children:m,container:u,component:h,components:f={},componentsProps:v={},disableAutoFocus:_=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:j=!1,disablePortal:b=!1,disableRestoreFocus:w=!1,disableScrollLock:C=!1,hideBackdrop:P=!1,keepMounted:E=!1,onClose:D,onTransitionEnter:T,onTransitionExited:R,open:z,slotProps:O={},slots:$={},theme:A,...Q}=n,K={...n,closeAfterTransition:c,disableAutoFocus:_,disableEnforceFocus:S,disableEscapeKeyDown:j,disablePortal:b,disableRestoreFocus:w,disableScrollLock:C,hideBackdrop:P,keepMounted:E},{getRootProps:U,getBackdropProps:B,getTransitionProps:V,portalRef:Y,isTopModal:H,exited:F,hasTransition:M}=cX({...K,rootRef:a}),L={...K,exited:F},W=uX(L),X={};if(m.props.tabIndex===void 0&&(X.tabIndex="-1"),M){const{onEnter:re,onExited:xe}=V();X.onEnter=re,X.onExited=xe}const te={slots:{root:f.Root,backdrop:f.Backdrop,...$},slotProps:{...v,...O}},[se,ae]=Yt("root",{ref:a,elementType:mX,externalForwardedProps:{...te,...Q,component:h},getSlotProps:U,ownerState:L,className:tt(l,W?.root,!L.open&&L.exited&&W?.hidden)}),[pe,he]=Yt("backdrop",{ref:i?.ref,elementType:r,externalForwardedProps:te,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:re=>B({...re,onClick:xe=>{re?.onClick&&re.onClick(xe)}}),className:tt(i?.className,W?.backdrop),ownerState:L});return!E&&!z&&(!M||F)?null:e.jsx(G9,{ref:Y,container:u,disablePortal:b,children:e.jsxs(se,{...ae,children:[!P&&r?e.jsx(pe,{...he}):null,e.jsx(J9,{disableEnforceFocus:S,disableAutoFocus:_,disableRestoreFocus:w,isEnabled:H,open:z,children:g.cloneElement(m,X)})]})})});function hX(t){return Et("MuiDialog",t)}const Yf=Pt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),eR=g.createContext({}),fX=Ne(Q9,{name:"MuiDialog",slot:"Backdrop",overrides:(t,s)=>s.backdrop})({zIndex:-1}),xX=t=>{const{classes:s,scroll:a,maxWidth:n,fullWidth:r,fullScreen:i}=t,o={root:["root"],container:["container",`scroll${Je(a)}`],paper:["paper",`paperScroll${Je(a)}`,`paperWidth${Je(String(n))}`,r&&"paperFullWidth",i&&"paperFullScreen"]};return kt(o,hX,s)},gX=Ne(Pv,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),yX=Ne("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.container,s[`scroll${Je(a.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),bX=Ne(da,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.paper,s[`scrollPaper${Je(a.scroll)}`],s[`paperWidth${Je(String(a.maxWidth))}`],a.fullWidth&&s.paperFullWidth,a.fullScreen&&s.paperFullScreen]}})(Ht(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:s})=>!s.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Yf.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(s=>s!=="xs").map(s=>({props:{maxWidth:s},style:{maxWidth:`${t.breakpoints.values[s]}${t.breakpoints.unit}`,[`&.${Yf.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[s]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:s})=>s.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:s})=>s.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Yf.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),sc=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiDialog"}),r=vi(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":l,"aria-modal":c=!0,BackdropComponent:m,BackdropProps:u,children:h,className:f,disableEscapeKeyDown:v=!1,fullScreen:_=!1,fullWidth:S=!1,maxWidth:j="sm",onClick:b,onClose:w,open:C,PaperComponent:P=da,PaperProps:E={},scroll:D="paper",slots:T={},slotProps:R={},TransitionComponent:z=du,transitionDuration:O=i,TransitionProps:$,...A}=n,Q={...n,disableEscapeKeyDown:v,fullScreen:_,fullWidth:S,maxWidth:j,scroll:D},K=xX(Q),U=g.useRef(),B=le=>{U.current=le.target===le.currentTarget},V=le=>{b&&b(le),U.current&&(U.current=null,w&&w(le,"backdropClick"))},Y=_r(l),H=g.useMemo(()=>({titleId:Y}),[Y]),F={transition:z,...T},M={transition:$,paper:E,backdrop:u,...R},L={slots:F,slotProps:M},[W,X]=Yt("root",{elementType:gX,shouldForwardComponentProp:!0,externalForwardedProps:L,ownerState:Q,className:tt(K.root,f),ref:a}),[te,se]=Yt("backdrop",{elementType:fX,shouldForwardComponentProp:!0,externalForwardedProps:L,ownerState:Q}),[ae,pe]=Yt("paper",{elementType:bX,shouldForwardComponentProp:!0,externalForwardedProps:L,ownerState:Q,className:tt(K.paper,E.className)}),[he,re]=Yt("container",{elementType:yX,externalForwardedProps:L,ownerState:Q,className:K.container}),[xe,ge]=Yt("transition",{elementType:du,externalForwardedProps:L,ownerState:Q,additionalProps:{appear:!0,in:C,timeout:O,role:"presentation"}});return e.jsx(W,{closeAfterTransition:!0,slots:{backdrop:te},slotProps:{backdrop:{transitionDuration:O,as:m,...se}},disableEscapeKeyDown:v,onClose:w,open:C,onClick:V,...X,...A,children:e.jsx(xe,{...ge,children:e.jsx(he,{onMouseDown:B,...re,children:e.jsx(ae,{as:P,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":Y,"aria-modal":c,...pe,children:e.jsx(eR.Provider,{value:H,children:h})})})})})});function vX(t){return Et("MuiDialogActions",t)}Pt("MuiDialogActions",["root","spacing"]);const jX=t=>{const{classes:s,disableSpacing:a}=t;return kt({root:["root",!a&&"spacing"]},vX,s)},NX=Ne("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,!a.disableSpacing&&s.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),pg=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiDialogActions"}),{className:r,disableSpacing:i=!1,...o}=n,l={...n,disableSpacing:i},c=jX(l);return e.jsx(NX,{className:tt(c.root,r),ownerState:l,ref:a,...o})});function wX(t){return Et("MuiDialogContent",t)}Pt("MuiDialogContent",["root","dividers"]);function _X(t){return Et("MuiDialogTitle",t)}const SX=Pt("MuiDialogTitle",["root"]),CX=t=>{const{classes:s,dividers:a}=t;return kt({root:["root",a&&"dividers"]},wX,s)},kX=Ne("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.dividers&&s.dividers]}})(Ht(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:s})=>s.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:s})=>!s.dividers,style:{[`.${SX.root} + &`]:{paddingTop:0}}}]}))),hg=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiDialogContent"}),{className:r,dividers:i=!1,...o}=n,l={...n,dividers:i},c=CX(l);return e.jsx(kX,{className:tt(c.root,r),ownerState:l,ref:a,...o})}),PX=t=>{const{classes:s}=t;return kt({root:["root"]},_X,s)},EX=Ne(x,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Ev=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiDialogTitle"}),{className:r,id:i,...o}=n,l=n,c=PX(l),{titleId:m=i}=g.useContext(eR);return e.jsx(EX,{component:"h2",className:tt(c.root,r),ownerState:l,ref:a,variant:"h6",id:i??m,...o})});function TX(t){return Et("MuiDivider",t)}const fE=Pt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),MX=t=>{const{absolute:s,children:a,classes:n,flexItem:r,light:i,orientation:o,textAlign:l,variant:c}=t;return kt({root:["root",s&&"absolute",c,i&&"light",o==="vertical"&&"vertical",r&&"flexItem",a&&"withChildren",a&&o==="vertical"&&"withChildrenVertical",l==="right"&&o!=="vertical"&&"textAlignRight",l==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},TX,n)},DX=Ne("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.absolute&&s.absolute,s[a.variant],a.light&&s.light,a.orientation==="vertical"&&s.vertical,a.flexItem&&s.flexItem,a.children&&s.withChildren,a.children&&a.orientation==="vertical"&&s.withChildrenVertical,a.textAlign==="right"&&a.orientation!=="vertical"&&s.textAlignRight,a.textAlign==="left"&&a.orientation!=="vertical"&&s.textAlignLeft]}})(Ht(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:s})=>!!s.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:s})=>s.children&&s.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:s})=>s.orientation==="vertical"&&s.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:s})=>s.textAlign==="right"&&s.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:s})=>s.textAlign==="left"&&s.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),RX=Ne("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.wrapper,a.orientation==="vertical"&&s.wrapperVertical]}})(Ht(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),fn=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiDivider"}),{absolute:r=!1,children:i,className:o,orientation:l="horizontal",component:c=i||l==="vertical"?"div":"hr",flexItem:m=!1,light:u=!1,role:h=c!=="hr"?"separator":void 0,textAlign:f="center",variant:v="fullWidth",..._}=n,S={...n,absolute:r,component:c,flexItem:m,light:u,orientation:l,role:h,textAlign:f,variant:v},j=MX(S);return e.jsx(DX,{as:c,className:tt(j.root,o),role:h,ref:a,ownerState:S,"aria-orientation":h==="separator"&&(c!=="hr"||l==="vertical")?l:void 0,..._,children:i?e.jsx(RX,{className:j.wrapper,ownerState:S,children:i}):null})});fn&&(fn.muiSkipListHighlight=!0);function AX(t,s,a){const n=s.getBoundingClientRect(),r=a&&a.getBoundingClientRect(),i=xi(s);let o;if(s.fakeTransform)o=s.fakeTransform;else{const m=i.getComputedStyle(s);o=m.getPropertyValue("-webkit-transform")||m.getPropertyValue("transform")}let l=0,c=0;if(o&&o!=="none"&&typeof o=="string"){const m=o.split("(")[1].split(")")[0].split(",");l=parseInt(m[4],10),c=parseInt(m[5],10)}return t==="left"?r?`translateX(${r.right+l-n.left}px)`:`translateX(${i.innerWidth+l-n.left}px)`:t==="right"?r?`translateX(-${n.right-r.left-l}px)`:`translateX(-${n.left+n.width-l}px)`:t==="up"?r?`translateY(${r.bottom+c-n.top}px)`:`translateY(${i.innerHeight+c-n.top}px)`:r?`translateY(-${n.top-r.top+n.height-c}px)`:`translateY(-${n.top+n.height-c}px)`}function IX(t){return typeof t=="function"?t():t}function ty(t,s,a){const n=IX(a),r=AX(t,s,n);r&&(s.style.webkitTransform=r,s.style.transform=r)}const OX=g.forwardRef(function(s,a){const n=vi(),r={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:c,container:m,direction:u="down",easing:h=r,in:f,onEnter:v,onEntered:_,onEntering:S,onExit:j,onExited:b,onExiting:w,style:C,timeout:P=i,TransitionComponent:E=ji,...D}=s,T=g.useRef(null),R=Us(od(c),T,a),z=Y=>H=>{Y&&(H===void 0?Y(T.current):Y(T.current,H))},O=z((Y,H)=>{ty(u,Y,m),v4(Y),v&&v(Y,H)}),$=z((Y,H)=>{const F=Jc({timeout:P,style:C,easing:h},{mode:"enter"});Y.style.webkitTransition=n.transitions.create("-webkit-transform",{...F}),Y.style.transition=n.transitions.create("transform",{...F}),Y.style.webkitTransform="none",Y.style.transform="none",S&&S(Y,H)}),A=z(_),Q=z(w),K=z(Y=>{const H=Jc({timeout:P,style:C,easing:h},{mode:"exit"});Y.style.webkitTransition=n.transitions.create("-webkit-transform",H),Y.style.transition=n.transitions.create("transform",H),ty(u,Y,m),j&&j(Y)}),U=z(Y=>{Y.style.webkitTransition="",Y.style.transition="",b&&b(Y)}),B=Y=>{o&&o(T.current,Y)},V=g.useCallback(()=>{T.current&&ty(u,T.current,m)},[u,m]);return g.useEffect(()=>{if(f||u==="down"||u==="right")return;const Y=lg(()=>{T.current&&ty(u,T.current,m)}),H=xi(T.current);return H.addEventListener("resize",Y),()=>{Y.clear(),H.removeEventListener("resize",Y)}},[u,f,m]),g.useEffect(()=>{f||V()},[f,V]),e.jsx(E,{nodeRef:T,onEnter:O,onEntered:A,onEntering:$,onExit:K,onExited:U,onExiting:Q,addEndListener:B,appear:l,in:f,timeout:P,...D,children:(Y,{ownerState:H,...F})=>g.cloneElement(c,{ref:R,style:{visibility:Y==="exited"&&!f?"hidden":void 0,...C,...c.props.style},...F})})});function FX(t){return Et("MuiDrawer",t)}Pt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const tR=(t,s)=>{const{ownerState:a}=t;return[s.root,(a.variant==="permanent"||a.variant==="persistent")&&s.docked,s.modal]},LX=t=>{const{classes:s,anchor:a,variant:n}=t,r={root:["root",`anchor${Je(a)}`],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Je(a)}`,n!=="temporary"&&`paperAnchorDocked${Je(a)}`]};return kt(r,FX,s)},zX=Ne(Pv,{name:"MuiDrawer",slot:"Root",overridesResolver:tR})(Ht(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),$X=Ne("div",{shouldForwardProp:Bn,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:tR})({flex:"0 0 auto"}),qX=Ne(da,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.paper,s[`paperAnchor${Je(a.anchor)}`],a.variant!=="temporary"&&s[`paperAnchorDocked${Je(a.anchor)}`]]}})(Ht(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:s})=>s.anchor==="left"&&s.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:s})=>s.anchor==="top"&&s.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:s})=>s.anchor==="right"&&s.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:s})=>s.anchor==="bottom"&&s.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),sR={left:"right",right:"left",top:"down",bottom:"up"};function BX(t){return["left","right"].includes(t)}function UX({direction:t},s){return t==="rtl"&&BX(s)?sR[s]:s}const VX=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiDrawer"}),r=vi(),i=qn(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{anchor:l="left",BackdropProps:c,children:m,className:u,elevation:h=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:v,..._}={},onClose:S,open:j=!1,PaperProps:b={},SlideProps:w,TransitionComponent:C,transitionDuration:P=o,variant:E="temporary",slots:D={},slotProps:T={},...R}=n,z=g.useRef(!1);g.useEffect(()=>{z.current=!0},[]);const O=UX({direction:i?"rtl":"ltr"},l),A={...n,anchor:l,elevation:h,open:j,variant:E,...R},Q=LX(A),K={slots:{transition:C,...D},slotProps:{paper:b,transition:w,...T,backdrop:x4(T.backdrop||{...c,...v},{transitionDuration:P})}},[U,B]=Yt("root",{ref:a,elementType:zX,className:tt(Q.root,Q.modal,u),shouldForwardComponentProp:!0,ownerState:A,externalForwardedProps:{...K,...R,..._},additionalProps:{open:j,onClose:S,hideBackdrop:f,slots:{backdrop:K.slots.backdrop},slotProps:{backdrop:K.slotProps.backdrop}}}),[V,Y]=Yt("paper",{elementType:qX,shouldForwardComponentProp:!0,className:tt(Q.paper,b.className),ownerState:A,externalForwardedProps:K,additionalProps:{elevation:E==="temporary"?h:0,square:!0,...E==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[H,F]=Yt("docked",{elementType:$X,ref:a,className:tt(Q.root,Q.docked,u),ownerState:A,externalForwardedProps:K,additionalProps:R}),[M,L]=Yt("transition",{elementType:OX,ownerState:A,externalForwardedProps:K,additionalProps:{in:j,direction:sR[O],timeout:P,appear:z.current}}),W=e.jsx(V,{...Y,children:m});if(E==="permanent")return e.jsx(H,{...F,children:W});const X=e.jsx(M,{...L,children:W});return E==="persistent"?e.jsx(H,{...F,children:X}):e.jsx(U,{...B,children:X})}),HX=t=>{const{classes:s,disableUnderline:a,startAdornment:n,endAdornment:r,size:i,hiddenLabel:o,multiline:l}=t,c={root:["root",!a&&"underline",n&&"adornedStart",r&&"adornedEnd",i==="small"&&`size${Je(i)}`,o&&"hiddenLabel",l&&"multiline"],input:["input"]},m=kt(c,UQ,s);return{...s,...m}},WX=Ne(Sv,{shouldForwardProp:t=>Bn(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[...wv(t,s),!a.disableUnderline&&s.underline]}})(Ht(({theme:t})=>{const s=t.palette.mode==="light",a=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",r=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:r,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n}},[`&.${ii.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n},[`&.${ii.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ii.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ii.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ii.disabled}, .${ii.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ii.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Ia()).map(([o])=>({props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[o]?.main}`}}})),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:l})=>o.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),YX=Ne(Cv,{name:"MuiFilledInput",slot:"Input",overridesResolver:_v})(Ht(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}},{props:({ownerState:s})=>s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:s})=>s.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),M4=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:i={},componentsProps:o,fullWidth:l=!1,hiddenLabel:c,inputComponent:m="input",multiline:u=!1,slotProps:h,slots:f={},type:v="text",..._}=n,S={...n,disableUnderline:r,fullWidth:l,inputComponent:m,multiline:u,type:v},j=HX(n),b={root:{ownerState:S},input:{ownerState:S}},w=h??o?ur(b,h??o):b,C=f.root??i.Root??WX,P=f.input??i.Input??YX;return e.jsx(kv,{slots:{root:C,input:P},slotProps:w,fullWidth:l,inputComponent:m,multiline:u,ref:a,type:v,..._,classes:j})});M4.muiName="Input";function GX(t){return Et("MuiFormControl",t)}Pt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const KX=t=>{const{classes:s,margin:a,fullWidth:n}=t,r={root:["root",a!=="none"&&`margin${Je(a)}`,n&&"fullWidth"]};return kt(r,GX,s)},QX=Ne("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[`margin${Je(a.margin)}`],a.fullWidth&&s.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Tv=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiFormControl"}),{children:r,className:i,color:o="primary",component:l="div",disabled:c=!1,error:m=!1,focused:u,fullWidth:h=!1,hiddenLabel:f=!1,margin:v="none",required:_=!1,size:S="medium",variant:j="outlined",...b}=n,w={...n,color:o,component:l,disabled:c,error:m,fullWidth:h,hiddenLabel:f,margin:v,required:_,size:S,variant:j},C=KX(w),[P,E]=g.useState(()=>{let U=!1;return r&&g.Children.forEach(r,B=>{if(!Vy(B,["Input","Select"]))return;const V=Vy(B,["Select"])?B.props.input:B;V&&LQ(V.props)&&(U=!0)}),U}),[D,T]=g.useState(()=>{let U=!1;return r&&g.Children.forEach(r,B=>{Vy(B,["Input","Select"])&&(bb(B.props,!0)||bb(B.props.inputProps,!0))&&(U=!0)}),U}),[R,z]=g.useState(!1);c&&R&&z(!1);const O=u!==void 0&&!c?u:R;let $;g.useRef(!1);const A=g.useCallback(()=>{T(!0)},[]),Q=g.useCallback(()=>{T(!1)},[]),K=g.useMemo(()=>({adornedStart:P,setAdornedStart:E,color:o,disabled:c,error:m,filled:D,focused:O,fullWidth:h,hiddenLabel:f,size:S,onBlur:()=>{z(!1)},onFocus:()=>{z(!0)},onEmpty:Q,onFilled:A,registerEffect:$,required:_,variant:j}),[P,o,c,m,D,O,h,f,$,Q,A,_,S,j]);return e.jsx(Nv.Provider,{value:K,children:e.jsx(QX,{as:l,ownerState:w,className:tt(C.root,i),ref:a,...b,children:r})})});function ZX(t){return Et("MuiFormControlLabel",t)}const uf=Pt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),XX=t=>{const{classes:s,disabled:a,labelPlacement:n,error:r,required:i}=t,o={root:["root",a&&"disabled",`labelPlacement${Je(n)}`,r&&"error",i&&"required"],label:["label",a&&"disabled"],asterisk:["asterisk",r&&"error"]};return kt(o,ZX,s)},JX=Ne("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[{[`& .${uf.label}`]:s.label},s.root,s[`labelPlacement${Je(a.labelPlacement)}`]]}})(Ht(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${uf.disabled}`]:{cursor:"default"},[`& .${uf.label}`]:{[`&.${uf.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:s})=>s==="start"||s==="top"||s==="bottom",style:{marginLeft:16}}]}))),eJ=Ne("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(Ht(({theme:t})=>({[`&.${uf.error}`]:{color:(t.vars||t).palette.error.main}}))),si=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiFormControlLabel"}),{checked:r,className:i,componentsProps:o={},control:l,disabled:c,disableTypography:m,inputRef:u,label:h,labelPlacement:f="end",name:v,onChange:_,required:S,slots:j={},slotProps:b={},value:w,...C}=n,P=Ni(),E=c??l.props.disabled??P?.disabled,D=S??l.props.required,T={disabled:E,required:D};["checked","name","onChange","value","inputRef"].forEach(U=>{typeof l.props[U]>"u"&&typeof n[U]<"u"&&(T[U]=n[U])});const R=ld({props:n,muiFormControl:P,states:["error"]}),z={...n,disabled:E,labelPlacement:f,required:D,error:R.error},O=XX(z),$={slots:j,slotProps:{...o,...b}},[A,Q]=Yt("typography",{elementType:x,externalForwardedProps:$,ownerState:z});let K=h;return K!=null&&K.type!==x&&!m&&(K=e.jsx(A,{component:"span",...Q,className:tt(O.label,Q?.className),children:K})),e.jsxs(JX,{className:tt(O.root,i),ownerState:z,ref:a,...C,children:[g.cloneElement(l,T),D?e.jsxs("div",{children:[K,e.jsxs(eJ,{ownerState:z,"aria-hidden":!0,className:O.asterisk,children:["","*"]})]}):K]})});function tJ(t){return Et("MuiFormGroup",t)}Pt("MuiFormGroup",["root","row","error"]);const sJ=t=>{const{classes:s,row:a,error:n}=t;return kt({root:["root",a&&"row",n&&"error"]},tJ,s)},aJ=Ne("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.row&&s.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),nJ=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiFormGroup"}),{className:r,row:i=!1,...o}=n,l=Ni(),c=ld({props:n,muiFormControl:l,states:["error"]}),m={...n,row:i,error:c.error},u=sJ(m);return e.jsx(aJ,{className:tt(u.root,r),ownerState:m,ref:a,...o})});function rJ(t){return Et("MuiFormHelperText",t)}const xE=Pt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var gE;const iJ=t=>{const{classes:s,contained:a,size:n,disabled:r,error:i,filled:o,focused:l,required:c}=t,m={root:["root",r&&"disabled",i&&"error",n&&`size${Je(n)}`,a&&"contained",l&&"focused",o&&"filled",c&&"required"]};return kt(m,rJ,s)},oJ=Ne("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.size&&s[`size${Je(a.size)}`],a.contained&&s.contained,a.filled&&s.filled]}})(Ht(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${xE.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${xE.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:s})=>s.contained,style:{marginLeft:14,marginRight:14}}]}))),D4=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiFormHelperText"}),{children:r,className:i,component:o="p",disabled:l,error:c,filled:m,focused:u,margin:h,required:f,variant:v,..._}=n,S=Ni(),j=ld({props:n,muiFormControl:S,states:["variant","size","disabled","error","filled","focused","required"]}),b={...n,component:o,contained:j.variant==="filled"||j.variant==="outlined",variant:j.variant,size:j.size,disabled:j.disabled,error:j.error,filled:j.filled,focused:j.focused,required:j.required};delete b.ownerState;const w=iJ(b);return e.jsx(oJ,{as:o,className:tt(w.root,i),ref:a,..._,ownerState:b,children:r===" "?gE||(gE=e.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):r})});function lJ(t){return Et("MuiFormLabel",t)}const Gf=Pt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),cJ=t=>{const{classes:s,color:a,focused:n,disabled:r,error:i,filled:o,required:l}=t,c={root:["root",`color${Je(a)}`,r&&"disabled",i&&"error",o&&"filled",n&&"focused",l&&"required"],asterisk:["asterisk",i&&"error"]};return kt(c,lJ,s)},dJ=Ne("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.color==="secondary"&&s.colorSecondary,a.filled&&s.filled]}})(Ht(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Ia()).map(([s])=>({props:{color:s},style:{[`&.${Gf.focused}`]:{color:(t.vars||t).palette[s].main}}})),{props:{},style:{[`&.${Gf.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Gf.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),uJ=Ne("span",{name:"MuiFormLabel",slot:"Asterisk"})(Ht(({theme:t})=>({[`&.${Gf.error}`]:{color:(t.vars||t).palette.error.main}}))),aR=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiFormLabel"}),{children:r,className:i,color:o,component:l="label",disabled:c,error:m,filled:u,focused:h,required:f,...v}=n,_=Ni(),S=ld({props:n,muiFormControl:_,states:["color","required","focused","disabled","error","filled"]}),j={...n,color:S.color||"primary",component:l,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required},b=cJ(j);return e.jsxs(dJ,{as:l,ownerState:j,className:tt(b.root,i),ref:a,...v,children:[r,S.required&&e.jsxs(uJ,{ownerState:j,"aria-hidden":!0,className:b.asterisk,children:["","*"]})]})});function Rw(t){return`scale(${t}, ${t**2})`}const mJ={entering:{opacity:1,transform:Rw(1)},entered:{opacity:1,transform:"none"}},lN=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),bx=g.forwardRef(function(s,a){const{addEndListener:n,appear:r=!0,children:i,easing:o,in:l,onEnter:c,onEntered:m,onEntering:u,onExit:h,onExited:f,onExiting:v,style:_,timeout:S="auto",TransitionComponent:j=ji,...b}=s,w=ci(),C=g.useRef(),P=vi(),E=g.useRef(null),D=Us(E,od(i),a),T=U=>B=>{if(U){const V=E.current;B===void 0?U(V):U(V,B)}},R=T(u),z=T((U,B)=>{v4(U);const{duration:V,delay:Y,easing:H}=Jc({style:_,timeout:S,easing:o},{mode:"enter"});let F;S==="auto"?(F=P.transitions.getAutoHeightDuration(U.clientHeight),C.current=F):F=V,U.style.transition=[P.transitions.create("opacity",{duration:F,delay:Y}),P.transitions.create("transform",{duration:lN?F:F*.666,delay:Y,easing:H})].join(","),c&&c(U,B)}),O=T(m),$=T(v),A=T(U=>{const{duration:B,delay:V,easing:Y}=Jc({style:_,timeout:S,easing:o},{mode:"exit"});let H;S==="auto"?(H=P.transitions.getAutoHeightDuration(U.clientHeight),C.current=H):H=B,U.style.transition=[P.transitions.create("opacity",{duration:H,delay:V}),P.transitions.create("transform",{duration:lN?H:H*.666,delay:lN?V:V||H*.333,easing:Y})].join(","),U.style.opacity=0,U.style.transform=Rw(.75),h&&h(U)}),Q=T(f),K=U=>{S==="auto"&&w.start(C.current||0,U),n&&n(E.current,U)};return e.jsx(j,{appear:r,in:l,nodeRef:E,onEnter:z,onEntered:O,onEntering:R,onExit:A,onExited:Q,onExiting:$,addEndListener:K,timeout:S==="auto"?null:S,...b,children:(U,{ownerState:B,...V})=>g.cloneElement(i,{style:{opacity:0,transform:Rw(.75),visibility:U==="exited"&&!l?"hidden":void 0,...mJ[U],..._,...i.props.style},ref:D,...V})})});bx&&(bx.muiSupportAuto=!0);const pJ=t=>{const{classes:s,disableUnderline:a}=t,r=kt({root:["root",!a&&"underline"],input:["input"]},qQ,s);return{...s,...r}},hJ=Ne(Sv,{shouldForwardProp:t=>Bn(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[...wv(t,s),!a.disableUnderline&&s.underline]}})(Ht(({theme:t})=>{let a=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(a=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ic.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ic.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ic.disabled}, .${Ic.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${a}`}},[`&.${Ic.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Ia()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}}))]}})),fJ=Ne(Cv,{name:"MuiInput",slot:"Input",overridesResolver:_v})({}),R4=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiInput"}),{disableUnderline:r=!1,components:i={},componentsProps:o,fullWidth:l=!1,inputComponent:c="input",multiline:m=!1,slotProps:u,slots:h={},type:f="text",...v}=n,_=pJ(n),j={root:{ownerState:{disableUnderline:r}}},b=u??o?ur(u??o,j):j,w=h.root??i.Root??hJ,C=h.input??i.Input??fJ;return e.jsx(kv,{slots:{root:w,input:C},slotProps:b,fullWidth:l,inputComponent:c,multiline:m,ref:a,type:f,...v,classes:_})});R4.muiName="Input";function xJ(t){return Et("MuiInputAdornment",t)}const yE=Pt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var bE;const gJ=(t,s)=>{const{ownerState:a}=t;return[s.root,s[`position${Je(a.position)}`],a.disablePointerEvents===!0&&s.disablePointerEvents,s[a.variant]]},yJ=t=>{const{classes:s,disablePointerEvents:a,hiddenLabel:n,position:r,size:i,variant:o}=t,l={root:["root",a&&"disablePointerEvents",r&&`position${Je(r)}`,o,n&&"hiddenLabel",i&&`size${Je(i)}`]};return kt(l,xJ,s)},bJ=Ne("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:gJ})(Ht(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${yE.positionStart}&:not(.${yE.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),Aw=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiInputAdornment"}),{children:r,className:i,component:o="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:m,variant:u,...h}=n,f=Ni()||{};let v=u;u&&f.variant,f&&!v&&(v=f.variant);const _={...n,hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:l,position:m,variant:v},S=yJ(_);return e.jsx(Nv.Provider,{value:null,children:e.jsx(bJ,{as:o,ownerState:_,className:tt(S.root,i),ref:a,...h,children:typeof r=="string"&&!c?e.jsx(x,{color:"textSecondary",children:r}):e.jsxs(g.Fragment,{children:[m==="start"?bE||(bE=e.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,r]})})})});function vJ(t){return Et("MuiInputLabel",t)}Pt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const jJ=t=>{const{classes:s,formControl:a,size:n,shrink:r,disableAnimation:i,variant:o,required:l}=t,c={root:["root",a&&"formControl",!i&&"animated",r&&"shrink",n&&n!=="medium"&&`size${Je(n)}`,o],asterisk:[l&&"asterisk"]},m=kt(c,vJ,s);return{...s,...m}},NJ=Ne(aR,{shouldForwardProp:t=>Bn(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[{[`& .${Gf.asterisk}`]:s.asterisk},s.root,a.formControl&&s.formControl,a.size==="small"&&s.sizeSmall,a.shrink&&s.shrink,!a.disableAnimation&&s.animated,a.focused&&s.focused,s[a.variant]]}})(Ht(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:s})=>s.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:s})=>s.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:s})=>!s.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:s,ownerState:a})=>s==="filled"&&a.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:s,ownerState:a,size:n})=>s==="filled"&&a.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:s,ownerState:a})=>s==="outlined"&&a.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),nR=g.forwardRef(function(s,a){const n=ss({name:"MuiInputLabel",props:s}),{disableAnimation:r=!1,margin:i,shrink:o,variant:l,className:c,...m}=n,u=Ni();let h=o;typeof h>"u"&&u&&(h=u.filled||u.focused||u.adornedStart);const f=ld({props:n,muiFormControl:u,states:["size","variant","required","focused"]}),v={...n,disableAnimation:r,formControl:u,shrink:h,size:f.size,variant:f.variant,required:f.required,focused:f.focused},_=jJ(v);return e.jsx(NJ,{"data-shrink":h,ref:a,className:tt(_.root,c),...m,ownerState:v,classes:_})});function wJ(t){return Et("MuiLinearProgress",t)}Pt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Iw=4,Ow=ol`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,_J=typeof Ow!="string"?rd`
        animation: ${Ow} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,Fw=ol`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,SJ=typeof Fw!="string"?rd`
        animation: ${Fw} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,Lw=ol`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,CJ=typeof Lw!="string"?rd`
        animation: ${Lw} 3s infinite linear;
      `:null,kJ=t=>{const{classes:s,variant:a,color:n}=t,r={root:["root",`color${Je(n)}`,a],dashed:["dashed",`dashedColor${Je(n)}`],bar1:["bar","bar1",`barColor${Je(n)}`,(a==="indeterminate"||a==="query")&&"bar1Indeterminate",a==="determinate"&&"bar1Determinate",a==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",a!=="buffer"&&`barColor${Je(n)}`,a==="buffer"&&`color${Je(n)}`,(a==="indeterminate"||a==="query")&&"bar2Indeterminate",a==="buffer"&&"bar2Buffer"]};return kt(r,wJ,s)},A4=(t,s)=>t.vars?t.vars.palette.LinearProgress[`${s}Bg`]:t.palette.mode==="light"?t.lighten(t.palette[s].main,.62):t.darken(t.palette[s].main,.5),PJ=Ne("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[`color${Je(a.color)}`],s[a.variant]]}})(Ht(({theme:t})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(Ia()).map(([s])=>({props:{color:s},style:{backgroundColor:A4(t,s)}})),{props:({ownerState:s})=>s.color==="inherit"&&s.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),EJ=Ne("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.dashed,s[`dashedColor${Je(a.color)}`]]}})(Ht(({theme:t})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(Ia()).map(([s])=>{const a=A4(t,s);return{props:{color:s},style:{backgroundImage:`radial-gradient(${a} 0%, ${a} 16%, transparent 42%)`}}})]})),CJ||{animation:`${Lw} 3s infinite linear`}),TJ=Ne("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.bar,s.bar1,s[`barColor${Je(a.color)}`],(a.variant==="indeterminate"||a.variant==="query")&&s.bar1Indeterminate,a.variant==="determinate"&&s.bar1Determinate,a.variant==="buffer"&&s.bar1Buffer]}})(Ht(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(Ia()).map(([s])=>({props:{color:s},style:{backgroundColor:(t.vars||t).palette[s].main}})),{props:{variant:"determinate"},style:{transition:`transform .${Iw}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${Iw}s linear`}},{props:({ownerState:s})=>s.variant==="indeterminate"||s.variant==="query",style:{width:"auto"}},{props:({ownerState:s})=>s.variant==="indeterminate"||s.variant==="query",style:_J||{animation:`${Ow} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),MJ=Ne("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.bar,s.bar2,s[`barColor${Je(a.color)}`],(a.variant==="indeterminate"||a.variant==="query")&&s.bar2Indeterminate,a.variant==="buffer"&&s.bar2Buffer]}})(Ht(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(Ia()).map(([s])=>({props:{color:s},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[s].main}})),{props:({ownerState:s})=>s.variant!=="buffer"&&s.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:s})=>s.variant!=="buffer"&&s.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(Ia()).map(([s])=>({props:{color:s,variant:"buffer"},style:{backgroundColor:A4(t,s),transition:`transform .${Iw}s linear`}})),{props:({ownerState:s})=>s.variant==="indeterminate"||s.variant==="query",style:{width:"auto"}},{props:({ownerState:s})=>s.variant==="indeterminate"||s.variant==="query",style:SJ||{animation:`${Fw} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),ys=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiLinearProgress"}),{className:r,color:i="primary",value:o,valueBuffer:l,variant:c="indeterminate",...m}=n,u={...n,color:i,variant:c},h=kJ(u),f=qn(),v={},_={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&o!==void 0){v["aria-valuenow"]=Math.round(o),v["aria-valuemin"]=0,v["aria-valuemax"]=100;let S=o-100;f&&(S=-S),_.bar1.transform=`translateX(${S}%)`}if(c==="buffer"&&l!==void 0){let S=(l||0)-100;f&&(S=-S),_.bar2.transform=`translateX(${S}%)`}return e.jsxs(PJ,{className:tt(h.root,r),ownerState:u,role:"progressbar",...v,ref:a,...m,children:[c==="buffer"?e.jsx(EJ,{className:h.dashed,ownerState:u}):null,e.jsx(TJ,{className:h.bar1,ownerState:u,style:_.bar1}),c==="determinate"?null:e.jsx(MJ,{className:h.bar2,ownerState:u,style:_.bar2})]})});function DJ(t){return Et("MuiLink",t)}const RJ=Pt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),AJ=({theme:t,ownerState:s})=>{const a=s.color;if("colorSpace"in t&&t.colorSpace){const i=$o(t,`palette.${a}.main`)||$o(t,`palette.${a}`)||s.color;return t.alpha(i,.4)}const n=$o(t,`palette.${a}.main`,!1)||$o(t,`palette.${a}`,!1)||s.color,r=$o(t,`palette.${a}.mainChannel`)||$o(t,`palette.${a}Channel`);return"vars"in t&&r?`rgba(${r} / 0.4)`:wr(n,.4)},vE={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},IJ=t=>{const{classes:s,component:a,focusVisible:n,underline:r}=t,i={root:["root",`underline${Je(r)}`,a==="button"&&"button",n&&"focusVisible"]};return kt(i,DJ,s)},OJ=Ne(x,{name:"MuiLink",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[`underline${Je(a.underline)}`],a.component==="button"&&s.button]}})(Ht(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:s,ownerState:a})=>s==="always"&&a.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:({underline:s,ownerState:a})=>s==="always"&&a.color==="inherit",style:t.colorSpace?{textDecorationColor:t.alpha("currentColor",.4)}:null},...Object.entries(t.palette).filter(Ia()).map(([s])=>({props:{underline:"always",color:s},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette[s].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${RJ.focusVisible}`]:{outline:"auto"}}}]}))),FJ=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiLink"}),r=vi(),{className:i,color:o="primary",component:l="a",onBlur:c,onFocus:m,TypographyClasses:u,underline:h="always",variant:f="inherit",sx:v,..._}=n,[S,j]=g.useState(!1),b=E=>{rp(E.target)||j(!1),c&&c(E)},w=E=>{rp(E.target)&&j(!0),m&&m(E)},C={...n,color:o,component:l,focusVisible:S,underline:h,variant:f},P=IJ(C);return e.jsx(OJ,{color:o,className:tt(P.root,i),classes:u,component:l,onBlur:b,onFocus:w,ref:a,ownerState:C,variant:f,..._,sx:[...vE[o]===void 0?[{color:o}]:[],...Array.isArray(v)?v:[v]],style:{..._.style,...h==="always"&&o!=="inherit"&&!vE[o]&&{"--Link-underlineColor":AJ({theme:r,ownerState:C})}}})}),vo=g.createContext({});function LJ(t){return Et("MuiList",t)}Pt("MuiList",["root","padding","dense","subheader"]);const zJ=t=>{const{classes:s,disablePadding:a,dense:n,subheader:r}=t;return kt({root:["root",!a&&"padding",n&&"dense",r&&"subheader"]},LJ,s)},$J=Ne("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,!a.disablePadding&&s.padding,a.dense&&s.dense,a.subheader&&s.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),rR=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiList"}),{children:r,className:i,component:o="ul",dense:l=!1,disablePadding:c=!1,subheader:m,...u}=n,h=g.useMemo(()=>({dense:l}),[l]),f={...n,component:o,dense:l,disablePadding:c},v=zJ(f);return e.jsx(vo.Provider,{value:h,children:e.jsxs($J,{as:o,className:tt(v.root,i),ref:a,ownerState:f,...u,children:[m,r]})})});function qJ(t){return Et("MuiListItem",t)}Pt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function BJ(t){return Et("MuiListItemButton",t)}const Cm=Pt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),UJ=(t,s)=>{const{ownerState:a}=t;return[s.root,a.dense&&s.dense,a.alignItems==="flex-start"&&s.alignItemsFlexStart,a.divider&&s.divider,!a.disableGutters&&s.gutters]},VJ=t=>{const{alignItems:s,classes:a,dense:n,disabled:r,disableGutters:i,divider:o,selected:l}=t,m=kt({root:["root",n&&"dense",!i&&"gutters",o&&"divider",r&&"disabled",s==="flex-start"&&"alignItemsFlexStart",l&&"selected"]},BJ,a);return{...a,...m}},HJ=Ne(No,{shouldForwardProp:t=>Bn(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:UJ})(Ht(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Cm.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${Cm.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${Cm.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${Cm.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Cm.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.dense,style:{paddingTop:4,paddingBottom:4}}]}))),jE=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiListItemButton"}),{alignItems:r="center",autoFocus:i=!1,component:o="div",children:l,dense:c=!1,disableGutters:m=!1,divider:u=!1,focusVisibleClassName:h,selected:f=!1,className:v,..._}=n,S=g.useContext(vo),j=g.useMemo(()=>({dense:c||S.dense||!1,alignItems:r,disableGutters:m}),[r,S.dense,c,m]),b=g.useRef(null);La(()=>{i&&b.current&&b.current.focus()},[i]);const w={...n,alignItems:r,dense:j.dense,disableGutters:m,divider:u,selected:f},C=VJ(w),P=Us(b,a);return e.jsx(vo.Provider,{value:j,children:e.jsx(HJ,{ref:P,href:_.href||_.to,component:(_.href||_.to)&&o==="div"?"button":o,focusVisibleClassName:tt(C.focusVisible,h),ownerState:w,className:tt(C.root,v),..._,classes:C,children:l})})});function WJ(t){return Et("MuiListItemSecondaryAction",t)}Pt("MuiListItemSecondaryAction",["root","disableGutters"]);const YJ=t=>{const{disableGutters:s,classes:a}=t;return kt({root:["root",s&&"disableGutters"]},WJ,a)},GJ=Ne("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.disableGutters&&s.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),iR=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiListItemSecondaryAction"}),{className:r,...i}=n,o=g.useContext(vo),l={...n,disableGutters:o.disableGutters},c=YJ(l);return e.jsx(GJ,{className:tt(c.root,r),ownerState:l,ref:a,...i})});iR.muiName="ListItemSecondaryAction";const KJ=(t,s)=>{const{ownerState:a}=t;return[s.root,a.dense&&s.dense,a.alignItems==="flex-start"&&s.alignItemsFlexStart,a.divider&&s.divider,!a.disableGutters&&s.gutters,!a.disablePadding&&s.padding,a.hasSecondaryAction&&s.secondaryAction]},QJ=t=>{const{alignItems:s,classes:a,dense:n,disableGutters:r,disablePadding:i,divider:o,hasSecondaryAction:l}=t;return kt({root:["root",n&&"dense",!r&&"gutters",!i&&"padding",o&&"divider",s==="flex-start"&&"alignItemsFlexStart",l&&"secondaryAction"],container:["container"],secondaryAction:["secondaryAction"]},qJ,a)},ZJ=Ne("div",{name:"MuiListItem",slot:"Root",overridesResolver:KJ})(Ht(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:s})=>!s.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:s})=>!s.disablePadding&&s.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:s})=>!s.disablePadding&&!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>!s.disablePadding&&!!s.secondaryAction,style:{paddingRight:48}},{props:({ownerState:s})=>!!s.secondaryAction,style:{[`& > .${Cm.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:s})=>s.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:s})=>s.hasSecondaryAction,style:{paddingRight:48}}]}))),XJ=Ne("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),JJ=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiListItem"}),{alignItems:r="center",children:i,className:o,component:l,components:c={},componentsProps:m={},ContainerComponent:u="li",ContainerProps:{className:h,...f}={},dense:v=!1,disableGutters:_=!1,disablePadding:S=!1,divider:j=!1,secondaryAction:b,slotProps:w={},slots:C={},...P}=n,E=g.useContext(vo),D=g.useMemo(()=>({dense:v||E.dense||!1,alignItems:r,disableGutters:_}),[r,E.dense,v,_]),T=g.useRef(null),R=g.Children.toArray(i),z=R.length&&Vy(R[R.length-1],["ListItemSecondaryAction"]),O={...n,alignItems:r,dense:D.dense,disableGutters:_,disablePadding:S,divider:j,hasSecondaryAction:z},$=QJ(O),A=Us(T,a),Q={slots:C,slotProps:w},[K,U]=Yt("secondaryAction",{elementType:iR,externalForwardedProps:Q,ownerState:O,className:$.secondaryAction}),B=C.root||c.Root||ZJ,V=w.root||m.root||{},Y={className:tt($.root,V.className,o),...P};let H=l||"li";return z?(H=!Y.component&&!l?"div":H,u==="li"&&(H==="li"?H="div":Y.component==="li"&&(Y.component="div")),e.jsx(vo.Provider,{value:D,children:e.jsxs(XJ,{as:u,className:tt($.container,h),ref:A,ownerState:O,...f,children:[e.jsx(B,{...V,...!np(B)&&{as:H,ownerState:{...O,...V.ownerState}},...Y,children:R}),R.pop()]})})):e.jsx(vo.Provider,{value:D,children:e.jsxs(B,{...V,as:H,ref:A,...!np(B)&&{ownerState:{...O,...V.ownerState}},...Y,children:[R,b&&e.jsx(K,{...U,children:b})]})})});function eee(t){return Et("MuiListItemIcon",t)}const NE=Pt("MuiListItemIcon",["root","alignItemsFlexStart"]),tee=t=>{const{alignItems:s,classes:a}=t;return kt({root:["root",s==="flex-start"&&"alignItemsFlexStart"]},eee,a)},see=Ne("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.alignItems==="flex-start"&&s.alignItemsFlexStart]}})(Ht(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Wy=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiListItemIcon"}),{className:r,...i}=n,o=g.useContext(vo),l={...n,alignItems:o.alignItems},c=tee(l);return e.jsx(see,{className:tt(c.root,r),ownerState:l,ref:a,...i})});function aee(t){return Et("MuiListItemText",t)}const Dm=Pt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),nee=t=>{const{classes:s,inset:a,primary:n,secondary:r,dense:i}=t;return kt({root:["root",a&&"inset",i&&"dense",n&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},aee,s)},ree=Ne("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[{[`& .${Dm.primary}`]:s.primary},{[`& .${Dm.secondary}`]:s.secondary},s.root,a.inset&&s.inset,a.primary&&a.secondary&&s.multiline,a.dense&&s.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${qP.root}:where(& .${Dm.primary})`]:{display:"block"},[`.${qP.root}:where(& .${Dm.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Yy=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiListItemText"}),{children:r,className:i,disableTypography:o=!1,inset:l=!1,primary:c,primaryTypographyProps:m,secondary:u,secondaryTypographyProps:h,slots:f={},slotProps:v={},..._}=n,{dense:S}=g.useContext(vo);let j=c??r,b=u;const w={...n,disableTypography:o,inset:l,primary:!!j,secondary:!!b,dense:S},C=nee(w),P={slots:f,slotProps:{primary:m,secondary:h,...v}},[E,D]=Yt("root",{className:tt(C.root,i),elementType:ree,externalForwardedProps:{...P,..._},ownerState:w,ref:a}),[T,R]=Yt("primary",{className:C.primary,elementType:x,externalForwardedProps:P,ownerState:w}),[z,O]=Yt("secondary",{className:C.secondary,elementType:x,externalForwardedProps:P,ownerState:w});return j!=null&&j.type!==x&&!o&&(j=e.jsx(T,{variant:S?"body2":"body1",component:R?.variant?void 0:"span",...R,children:j})),b!=null&&b.type!==x&&!o&&(b=e.jsx(z,{variant:"body2",color:"textSecondary",...O,children:b})),e.jsxs(E,{...D,children:[j,b]})});function cN(t,s,a){return t===s?t.firstChild:s&&s.nextElementSibling?s.nextElementSibling:a?null:t.firstChild}function wE(t,s,a){return t===s?a?t.firstChild:t.lastChild:s&&s.previousElementSibling?s.previousElementSibling:a?null:t.lastChild}function oR(t,s){if(s===void 0)return!0;let a=t.innerText;return a===void 0&&(a=t.textContent),a=a.trim().toLowerCase(),a.length===0?!1:s.repeating?a[0]===s.keys[0]:a.startsWith(s.keys.join(""))}function zh(t,s,a,n,r,i){let o=!1,l=r(t,s,s?a:!1);for(;l;){if(l===t.firstChild){if(o)return!1;o=!0}const c=n?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!oR(l,i)||c)l=r(t,l,a);else return l.focus(),!0}return!1}const I4=g.forwardRef(function(s,a){const{actions:n,autoFocus:r=!1,autoFocusItem:i=!1,children:o,className:l,disabledItemsFocusable:c=!1,disableListWrap:m=!1,onKeyDown:u,variant:h="selectedMenu",...f}=s,v=g.useRef(null),_=g.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});La(()=>{r&&v.current.focus()},[r]),g.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(C,{direction:P})=>{const E=!v.current.style.width;if(C.clientHeight<v.current.clientHeight&&E){const D=`${X9(xi(C))}px`;v.current.style[P==="rtl"?"paddingLeft":"paddingRight"]=D,v.current.style.width=`calc(100% + ${D})`}return v.current}}),[]);const S=C=>{const P=v.current,E=C.key;if(C.ctrlKey||C.metaKey||C.altKey){u&&u(C);return}const T=Mm(dn(P));if(E==="ArrowDown")C.preventDefault(),zh(P,T,m,c,cN);else if(E==="ArrowUp")C.preventDefault(),zh(P,T,m,c,wE);else if(E==="Home")C.preventDefault(),zh(P,null,m,c,cN);else if(E==="End")C.preventDefault(),zh(P,null,m,c,wE);else if(E.length===1){const R=_.current,z=E.toLowerCase(),O=performance.now();R.keys.length>0&&(O-R.lastTime>500?(R.keys=[],R.repeating=!0,R.previousKeyMatched=!0):R.repeating&&z!==R.keys[0]&&(R.repeating=!1)),R.lastTime=O,R.keys.push(z);const $=T&&!R.repeating&&oR(T,R);R.previousKeyMatched&&($||zh(P,T,!1,c,cN,R))?C.preventDefault():R.previousKeyMatched=!1}u&&u(C)},j=Us(v,a);let b=-1;g.Children.forEach(o,(C,P)=>{if(!g.isValidElement(C)){b===P&&(b+=1,b>=o.length&&(b=-1));return}C.props.disabled||(h==="selectedMenu"&&C.props.selected||b===-1)&&(b=P),b===P&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(b+=1,b>=o.length&&(b=-1))});const w=g.Children.map(o,(C,P)=>{if(P===b){const E={};return i&&(E.autoFocus=!0),C.props.tabIndex===void 0&&h==="selectedMenu"&&(E.tabIndex=0),g.cloneElement(C,E)}return C});return e.jsx(rR,{role:"menu",ref:j,className:l,onKeyDown:S,tabIndex:r?0:-1,...f,children:w})});function iee(t){return Et("MuiPopover",t)}Pt("MuiPopover",["root","paper"]);function _E(t,s){let a=0;return typeof s=="number"?a=s:s==="center"?a=t.height/2:s==="bottom"&&(a=t.height),a}function SE(t,s){let a=0;return typeof s=="number"?a=s:s==="center"?a=t.width/2:s==="right"&&(a=t.width),a}function CE(t){return[t.horizontal,t.vertical].map(s=>typeof s=="number"?`${s}px`:s).join(" ")}function sy(t){return typeof t=="function"?t():t}const oee=t=>{const{classes:s}=t;return kt({root:["root"],paper:["paper"]},iee,s)},lee=Ne(Pv,{name:"MuiPopover",slot:"Root"})({}),lR=Ne(da,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),cee=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiPopover"}),{action:r,anchorEl:i,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:m,className:u,container:h,elevation:f=8,marginThreshold:v=16,open:_,PaperProps:S={},slots:j={},slotProps:b={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:C,transitionDuration:P="auto",TransitionProps:E={},disableScrollLock:D=!1,...T}=n,R=g.useRef(),z={...n,anchorOrigin:o,anchorReference:c,elevation:f,marginThreshold:v,transformOrigin:w,TransitionComponent:C,transitionDuration:P,TransitionProps:E},O=oee(z),$=g.useCallback(()=>{if(c==="anchorPosition")return l;const re=sy(i),ge=(re&&re.nodeType===1?re:dn(R.current).body).getBoundingClientRect();return{top:ge.top+_E(ge,o.vertical),left:ge.left+SE(ge,o.horizontal)}},[i,o.horizontal,o.vertical,l,c]),A=g.useCallback(re=>({vertical:_E(re,w.vertical),horizontal:SE(re,w.horizontal)}),[w.horizontal,w.vertical]),Q=g.useCallback(re=>{const xe={width:re.offsetWidth,height:re.offsetHeight},ge=A(xe);if(c==="none")return{top:null,left:null,transformOrigin:CE(ge)};const le=$();let de=le.top-ge.vertical,we=le.left-ge.horizontal;const Ae=de+xe.height,Fe=we+xe.width,Me=xi(sy(i)),Xe=Me.innerHeight-v,ke=Me.innerWidth-v;if(v!==null&&de<v){const Ye=de-v;de-=Ye,ge.vertical+=Ye}else if(v!==null&&Ae>Xe){const Ye=Ae-Xe;de-=Ye,ge.vertical+=Ye}if(v!==null&&we<v){const Ye=we-v;we-=Ye,ge.horizontal+=Ye}else if(Fe>ke){const Ye=Fe-ke;we-=Ye,ge.horizontal+=Ye}return{top:`${Math.round(de)}px`,left:`${Math.round(we)}px`,transformOrigin:CE(ge)}},[i,c,$,A,v]),[K,U]=g.useState(_),B=g.useCallback(()=>{const re=R.current;if(!re)return;const xe=Q(re);xe.top!==null&&re.style.setProperty("top",xe.top),xe.left!==null&&(re.style.left=xe.left),re.style.transformOrigin=xe.transformOrigin,U(!0)},[Q]);g.useEffect(()=>(D&&window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B)),[i,D,B]);const V=()=>{B()},Y=()=>{U(!1)};g.useEffect(()=>{_&&B()}),g.useImperativeHandle(r,()=>_?{updatePosition:()=>{B()}}:null,[_,B]),g.useEffect(()=>{if(!_)return;const re=lg(()=>{B()}),xe=xi(sy(i));return xe.addEventListener("resize",re),()=>{re.clear(),xe.removeEventListener("resize",re)}},[i,_,B]);let H=P;const F={slots:{transition:C,...j},slotProps:{transition:E,paper:S,...b}},[M,L]=Yt("transition",{elementType:bx,externalForwardedProps:F,ownerState:z,getSlotProps:re=>({...re,onEntering:(xe,ge)=>{re.onEntering?.(xe,ge),V()},onExited:xe=>{re.onExited?.(xe),Y()}}),additionalProps:{appear:!0,in:_}});P==="auto"&&!M.muiSupportAuto&&(H=void 0);const W=h||(i?dn(sy(i)).body:void 0),[X,{slots:te,slotProps:se,...ae}]=Yt("root",{ref:a,elementType:lee,externalForwardedProps:{...F,...T},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:j.backdrop},slotProps:{backdrop:x4(typeof b.backdrop=="function"?b.backdrop(z):b.backdrop,{invisible:!0})},container:W,open:_},ownerState:z,className:tt(O.root,u)}),[pe,he]=Yt("paper",{ref:R,className:O.paper,elementType:lR,externalForwardedProps:F,shouldForwardComponentProp:!0,additionalProps:{elevation:f,style:K?void 0:{opacity:0}},ownerState:z});return e.jsx(X,{...ae,...!np(X)&&{slots:te,slotProps:se,disableScrollLock:D},children:e.jsx(M,{...L,timeout:H,children:e.jsx(pe,{...he,children:m})})})});function dee(t){return Et("MuiMenu",t)}Pt("MuiMenu",["root","paper","list"]);const uee={vertical:"top",horizontal:"right"},mee={vertical:"top",horizontal:"left"},pee=t=>{const{classes:s}=t;return kt({root:["root"],paper:["paper"],list:["list"]},dee,s)},hee=Ne(cee,{shouldForwardProp:t=>Bn(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),fee=Ne(lR,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),xee=Ne(I4,{name:"MuiMenu",slot:"List"})({outline:0}),O4=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiMenu"}),{autoFocus:r=!0,children:i,className:o,disableAutoFocusItem:l=!1,MenuListProps:c={},onClose:m,open:u,PaperProps:h={},PopoverClasses:f,transitionDuration:v="auto",TransitionProps:{onEntering:_,...S}={},variant:j="selectedMenu",slots:b={},slotProps:w={},...C}=n,P=qn(),E={...n,autoFocus:r,disableAutoFocusItem:l,MenuListProps:c,onEntering:_,PaperProps:h,transitionDuration:v,TransitionProps:S,variant:j},D=pee(E),T=r&&!l&&u,R=g.useRef(null),z=(H,F)=>{R.current&&R.current.adjustStyleForScrollbar(H,{direction:P?"rtl":"ltr"}),_&&_(H,F)},O=H=>{H.key==="Tab"&&(H.preventDefault(),m&&m(H,"tabKeyDown"))};let $=-1;g.Children.map(i,(H,F)=>{g.isValidElement(H)&&(H.props.disabled||(j==="selectedMenu"&&H.props.selected||$===-1)&&($=F))});const A={slots:b,slotProps:{list:c,transition:S,paper:h,...w}},Q=ta({elementType:b.root,externalSlotProps:w.root,ownerState:E,className:[D.root,o]}),[K,U]=Yt("paper",{className:D.paper,elementType:fee,externalForwardedProps:A,shouldForwardComponentProp:!0,ownerState:E}),[B,V]=Yt("list",{className:tt(D.list,c.className),elementType:xee,shouldForwardComponentProp:!0,externalForwardedProps:A,getSlotProps:H=>({...H,onKeyDown:F=>{O(F),H.onKeyDown?.(F)}}),ownerState:E}),Y=typeof A.slotProps.transition=="function"?A.slotProps.transition(E):A.slotProps.transition;return e.jsx(hee,{onClose:m,anchorOrigin:{vertical:"bottom",horizontal:P?"right":"left"},transformOrigin:P?uee:mee,slots:{root:b.root,paper:K,backdrop:b.backdrop,...b.transition&&{transition:b.transition}},slotProps:{root:Q,paper:U,backdrop:typeof w.backdrop=="function"?w.backdrop(E):w.backdrop,transition:{...Y,onEntering:(...H)=>{z(...H),Y?.onEntering?.(...H)}}},open:u,ref:a,transitionDuration:v,ownerState:E,...C,classes:f,children:e.jsx(B,{actions:R,autoFocus:r&&($===-1||l),autoFocusItem:T,variant:j,...V,children:i})})});function gee(t){return Et("MuiMenuItem",t)}const $h=Pt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),yee=(t,s)=>{const{ownerState:a}=t;return[s.root,a.dense&&s.dense,a.divider&&s.divider,!a.disableGutters&&s.gutters]},bee=t=>{const{disabled:s,dense:a,divider:n,disableGutters:r,selected:i,classes:o}=t,c=kt({root:["root",a&&"dense",s&&"disabled",!r&&"gutters",n&&"divider",i&&"selected"]},gee,o);return{...o,...c}},vee=Ne(No,{shouldForwardProp:t=>Bn(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:yee})(Ht(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${$h.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${$h.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${$h.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${$h.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${$h.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${fE.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${fE.inset}`]:{marginLeft:52},[`& .${Dm.root}`]:{marginTop:0,marginBottom:0},[`& .${Dm.inset}`]:{paddingLeft:36},[`& .${NE.root}`]:{minWidth:36},variants:[{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:s})=>!s.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:s})=>s.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${NE.root} svg`]:{fontSize:"1.25rem"}}}]}))),Z=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiMenuItem"}),{autoFocus:r=!1,component:i="li",dense:o=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:m,role:u="menuitem",tabIndex:h,className:f,...v}=n,_=g.useContext(vo),S=g.useMemo(()=>({dense:o||_.dense||!1,disableGutters:c}),[_.dense,o,c]),j=g.useRef(null);La(()=>{r&&j.current&&j.current.focus()},[r]);const b={...n,dense:S.dense,divider:l,disableGutters:c},w=bee(n),C=Us(j,a);let P;return n.disabled||(P=h!==void 0?h:-1),e.jsx(vo.Provider,{value:S,children:e.jsx(vee,{ref:C,role:u,tabIndex:P,component:i,focusVisibleClassName:tt(w.focusVisible,m),className:tt(w.root,f),...v,ownerState:b,classes:w})})});function jee(t){return Et("MuiNativeSelect",t)}const F4=Pt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Nee=t=>{const{classes:s,variant:a,disabled:n,multiple:r,open:i,error:o}=t,l={select:["select",a,n&&"disabled",r&&"multiple",o&&"error"],icon:["icon",`icon${Je(a)}`,i&&"iconOpen",n&&"disabled"]};return kt(l,jee,s)},cR=Ne("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${F4.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:s})=>s.variant!=="filled"&&s.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),wee=Ne(cR,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Bn,overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.select,s[a.variant],a.error&&s.error,{[`&.${F4.multiple}`]:s.multiple}]}})({}),dR=Ne("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${F4.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:s})=>s.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),_ee=Ne(dR,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.icon,a.variant&&s[`icon${Je(a.variant)}`],a.open&&s.iconOpen]}})({}),See=g.forwardRef(function(s,a){const{className:n,disabled:r,error:i,IconComponent:o,inputRef:l,variant:c="standard",...m}=s,u={...s,disabled:r,variant:c,error:i},h=Nee(u);return e.jsxs(g.Fragment,{children:[e.jsx(wee,{ownerState:u,className:tt(h.select,n),disabled:r,ref:l||a,...m}),s.multiple?null:e.jsx(_ee,{as:o,ownerState:u,className:h.icon})]})});var kE;const Cee=Ne("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Bn})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),kee=Ne("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Bn})(Ht(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:s})=>!s.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:s})=>s.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:s})=>s.withLabel&&s.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function Pee(t){const{children:s,classes:a,className:n,label:r,notched:i,...o}=t,l=r!=null&&r!=="",c={...t,notched:i,withLabel:l};return e.jsx(Cee,{"aria-hidden":!0,className:n,ownerState:c,...o,children:e.jsx(kee,{ownerState:c,children:l?e.jsx("span",{children:r}):kE||(kE=e.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const Eee=t=>{const{classes:s}=t,n=kt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},BQ,s);return{...s,...n}},Tee=Ne(Sv,{shouldForwardProp:t=>Bn(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:wv})(Ht(({theme:t})=>{const s=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Li.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Li.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):s}},[`&.${Li.focused} .${Li.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Ia()).map(([a])=>({props:{color:a},style:{[`&.${Li.focused} .${Li.notchedOutline}`]:{borderColor:(t.vars||t).palette[a].main}}})),{props:{},style:{[`&.${Li.error} .${Li.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Li.disabled} .${Li.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:14}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:14}},{props:({ownerState:a})=>a.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:a,size:n})=>a.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),Mee=Ne(Pee,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Ht(({theme:t})=>{const s=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):s}})),Dee=Ne(Cv,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:_v})(Ht(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:s})=>s.multiline,style:{padding:0}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}}]}))),L4=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiOutlinedInput"}),{components:r={},fullWidth:i=!1,inputComponent:o="input",label:l,multiline:c=!1,notched:m,slots:u={},slotProps:h={},type:f="text",...v}=n,_=Eee(n),S=Ni(),j=ld({props:n,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b={...n,color:j.color||"primary",disabled:j.disabled,error:j.error,focused:j.focused,formControl:S,fullWidth:i,hiddenLabel:j.hiddenLabel,multiline:c,size:j.size,type:f},w=u.root??r.Root??Tee,C=u.input??r.Input??Dee,[P,E]=Yt("notchedOutline",{elementType:Mee,className:_.notchedOutline,shouldForwardComponentProp:!0,ownerState:b,externalForwardedProps:{slots:u,slotProps:h},additionalProps:{label:l!=null&&l!==""&&j.required?e.jsxs(g.Fragment,{children:[l,"","*"]}):l}});return e.jsx(kv,{slots:{root:w,input:C},slotProps:h,renderSuffix:D=>e.jsx(P,{...E,notched:typeof m<"u"?m:!!(D.startAdornment||D.filled||D.focused)}),fullWidth:i,inputComponent:o,multiline:c,ref:a,type:f,...v,classes:{..._,notchedOutline:null}})});L4.muiName="Input";const Ree=Ut(e.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),Aee=Ut(e.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),Iee=Ut(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Oee=Ut(e.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"})),Fee=Ne("span",{name:"MuiRadioButtonIcon",shouldForwardProp:Bn})({position:"relative",display:"flex"}),Lee=Ne(Iee,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"}),zee=Ne(Oee,{name:"MuiRadioButtonIcon"})(Ht(({theme:t})=>({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}}]})));function uR(t){const{checked:s=!1,classes:a={},fontSize:n}=t,r={...t,checked:s};return e.jsxs(Fee,{className:a.root,ownerState:r,children:[e.jsx(Lee,{fontSize:n,className:a.background,ownerState:r}),e.jsx(zee,{fontSize:n,className:a.dot,ownerState:r})]})}const mR=g.createContext(void 0);function $ee(){return g.useContext(mR)}function qee(t){return Et("MuiRadio",t)}const PE=Pt("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),Bee=t=>{const{classes:s,color:a,size:n}=t,r={root:["root",`color${Je(a)}`,n!=="medium"&&`size${Je(n)}`]};return{...s,...kt(r,qee,s)}},Uee=Ne(T4,{shouldForwardProp:t=>Bn(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.size!=="medium"&&s[`size${Je(a.size)}`],s[`color${Je(a.color)}`]]}})(Ht(({theme:t})=>({color:(t.vars||t).palette.text.secondary,[`&.${PE.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Ia()).map(([s])=>({props:{color:s,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[s].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(Ia()).map(([s])=>({props:{color:s,disabled:!1},style:{[`&.${PE.checked}`]:{color:(t.vars||t).palette[s].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function Vee(t,s){return typeof s=="object"&&s!==null?t===s:String(t)===String(s)}const Hee=e.jsx(uR,{checked:!0}),Wee=e.jsx(uR,{}),vx=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiRadio"}),{checked:r,checkedIcon:i=Hee,color:o="primary",icon:l=Wee,name:c,onChange:m,size:u="medium",className:h,disabled:f,disableRipple:v=!1,slots:_={},slotProps:S={},inputProps:j,...b}=n,w=Ni();let C=f;w&&typeof C>"u"&&(C=w.disabled),C??=!1;const P={...n,disabled:C,disableRipple:v,color:o,size:u},E=Bee(P),D=$ee();let T=r;const R=vw(m,D&&D.onChange);let z=c;D&&(typeof T>"u"&&(T=Vee(D.value,n.value)),typeof z>"u"&&(z=D.name));const O=S.input??j,[$,A]=Yt("root",{ref:a,elementType:Uee,className:tt(E.root,h),shouldForwardComponentProp:!0,externalForwardedProps:{slots:_,slotProps:S,...b},getSlotProps:Q=>({...Q,onChange:(K,...U)=>{Q.onChange?.(K,...U),R(K,...U)}}),ownerState:P,additionalProps:{type:"radio",icon:g.cloneElement(l,{fontSize:l.props.fontSize??u}),checkedIcon:g.cloneElement(i,{fontSize:i.props.fontSize??u}),disabled:C,name:z,checked:T,slots:_,slotProps:{input:typeof O=="function"?O(P):O}}});return e.jsx($,{...A,classes:E})});function Yee(t){return Et("MuiRadioGroup",t)}Pt("MuiRadioGroup",["root","row","error"]);const Gee=t=>{const{classes:s,row:a,error:n}=t;return kt({root:["root",a&&"row",n&&"error"]},Yee,s)},jx=g.forwardRef(function(s,a){const{actions:n,children:r,className:i,defaultValue:o,name:l,onChange:c,value:m,...u}=s,h=g.useRef(null),f=Gee(s),[v,_]=zr({controlled:m,default:o,name:"RadioGroup"});g.useImperativeHandle(n,()=>({focus:()=>{let w=h.current.querySelector("input:not(:disabled):checked");w||(w=h.current.querySelector("input:not(:disabled)")),w&&w.focus()}}),[]);const S=Us(a,h),j=_r(l),b=g.useMemo(()=>({name:j,onChange(w){_(w.target.value),c&&c(w,w.target.value)},value:v}),[j,c,_,v]);return e.jsx(mR.Provider,{value:b,children:e.jsx(nJ,{role:"radiogroup",ref:S,className:tt(f.root,i),...u,children:r})})}),pR={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function hR(t){return Et("MuiSelect",t)}const qh=Pt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var EE;const Kee=Ne(cR,{name:"MuiSelect",slot:"Select",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[{[`&.${qh.select}`]:s.select},{[`&.${qh.select}`]:s[a.variant]},{[`&.${qh.error}`]:s.error},{[`&.${qh.multiple}`]:s.multiple}]}})({[`&.${qh.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Qee=Ne(dR,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.icon,a.variant&&s[`icon${Je(a.variant)}`],a.open&&s.iconOpen]}})({}),Zee=Ne("input",{shouldForwardProp:t=>D9(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function TE(t,s){return typeof s=="object"&&s!==null?t===s:String(t)===String(s)}function Xee(t){return t==null||typeof t=="string"&&!t.trim()}const Jee=t=>{const{classes:s,variant:a,disabled:n,multiple:r,open:i,error:o}=t,l={select:["select",a,n&&"disabled",r&&"multiple",o&&"error"],icon:["icon",`icon${Je(a)}`,i&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return kt(l,hR,s)},ete=g.forwardRef(function(s,a){const{"aria-describedby":n,"aria-label":r,autoFocus:i,autoWidth:o,children:l,className:c,defaultOpen:m,defaultValue:u,disabled:h,displayEmpty:f,error:v=!1,IconComponent:_,inputRef:S,labelId:j,MenuProps:b={},multiple:w,name:C,onBlur:P,onChange:E,onClose:D,onFocus:T,onKeyDown:R,onMouseDown:z,onOpen:O,open:$,readOnly:A,renderValue:Q,required:K,SelectDisplayProps:U={},tabIndex:B,type:V,value:Y,variant:H="standard",...F}=s,[M,L]=zr({controlled:Y,default:u,name:"Select"}),[W,X]=zr({controlled:$,default:m,name:"Select"}),te=g.useRef(null),se=g.useRef(null),[ae,pe]=g.useState(null),{current:he}=g.useRef($!=null),[re,xe]=g.useState(),ge=Us(a,S),le=g.useCallback(st=>{se.current=st,st&&pe(st)},[]),de=ae?.parentNode;g.useImperativeHandle(ge,()=>({focus:()=>{se.current.focus()},node:te.current,value:M}),[M]),g.useEffect(()=>{m&&W&&ae&&!he&&(xe(o?null:de.clientWidth),se.current.focus())},[ae,o]),g.useEffect(()=>{i&&se.current.focus()},[i]),g.useEffect(()=>{if(!j)return;const st=dn(se.current).getElementById(j);if(st){const Gt=()=>{getSelection().isCollapsed&&se.current.focus()};return st.addEventListener("click",Gt),()=>{st.removeEventListener("click",Gt)}}},[j]);const we=(st,Gt)=>{st?O&&O(Gt):D&&D(Gt),he||(xe(o?null:de.clientWidth),X(st))},Ae=st=>{z?.(st),st.button===0&&(st.preventDefault(),se.current.focus(),we(!0,st))},Fe=st=>{we(!1,st)},Me=g.Children.toArray(l),Xe=st=>{const Gt=Me.find(es=>es.props.value===st.target.value);Gt!==void 0&&(L(Gt.props.value),E&&E(st,Gt))},ke=st=>Gt=>{let es;if(Gt.currentTarget.hasAttribute("tabindex")){if(w){es=Array.isArray(M)?M.slice():[];const us=M.indexOf(st.props.value);us===-1?es.push(st.props.value):es.splice(us,1)}else es=st.props.value;if(st.props.onClick&&st.props.onClick(Gt),M!==es&&(L(es),E)){const us=Gt.nativeEvent||Gt,As=new us.constructor(us.type,us);Object.defineProperty(As,"target",{writable:!0,value:{value:es,name:C}}),E(As,st)}w||we(!1,Gt)}},Ye=st=>{A||([" ","ArrowUp","ArrowDown","Enter"].includes(st.key)&&(st.preventDefault(),we(!0,st)),R?.(st))},ye=ae!==null&&W,We=st=>{!ye&&P&&(Object.defineProperty(st,"target",{writable:!0,value:{value:M,name:C}}),P(st))};delete F["aria-invalid"];let Ge,jt;const dt=[];let wt=!1;(bb({value:M})||f)&&(Q?Ge=Q(M):wt=!0);const Dt=Me.map(st=>{if(!g.isValidElement(st))return null;let Gt;if(w){if(!Array.isArray(M))throw new Error(Zl(2));Gt=M.some(es=>TE(es,st.props.value)),Gt&&wt&&dt.push(st.props.children)}else Gt=TE(M,st.props.value),Gt&&wt&&(jt=st.props.children);return g.cloneElement(st,{"aria-selected":Gt?"true":"false",onClick:ke(st),onKeyUp:es=>{es.key===" "&&es.preventDefault(),st.props.onKeyUp&&st.props.onKeyUp(es)},role:"option",selected:Gt,value:void 0,"data-value":st.props.value})});wt&&(w?dt.length===0?Ge=null:Ge=dt.reduce((st,Gt,es)=>(st.push(Gt),es<dt.length-1&&st.push(", "),st),[]):Ge=jt);let ve=re;!o&&he&&ae&&(ve=de.clientWidth);let Le;typeof B<"u"?Le=B:Le=h?null:0;const $e=U.id||(C?`mui-component-select-${C}`:void 0),bt={...s,variant:H,value:M,open:ye,error:v},Zt=Jee(bt),Ot={...b.PaperProps,...typeof b.slotProps?.paper=="function"?b.slotProps.paper(bt):b.slotProps?.paper},It={...b.MenuListProps,...typeof b.slotProps?.list=="function"?b.slotProps.list(bt):b.slotProps?.list},ts=_r();return e.jsxs(g.Fragment,{children:[e.jsx(Kee,{as:"div",ref:le,tabIndex:Le,role:"combobox","aria-controls":ye?ts:void 0,"aria-disabled":h?"true":void 0,"aria-expanded":ye?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[j,$e].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":K?"true":void 0,"aria-invalid":v?"true":void 0,onKeyDown:Ye,onMouseDown:h||A?null:Ae,onBlur:We,onFocus:T,...U,ownerState:bt,className:tt(U.className,Zt.select,c),id:$e,children:Xee(Ge)?EE||(EE=e.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Ge}),e.jsx(Zee,{"aria-invalid":v,value:Array.isArray(M)?M.join(","):M,name:C,ref:te,"aria-hidden":!0,onChange:Xe,tabIndex:-1,disabled:h,className:Zt.nativeInput,autoFocus:i,required:K,...F,ownerState:bt}),e.jsx(Qee,{as:_,className:Zt.icon,ownerState:bt}),e.jsx(O4,{id:`menu-${C||""}`,anchorEl:de,open:ye,onClose:Fe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...b,slotProps:{...b.slotProps,list:{"aria-labelledby":j,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:ts,...It},paper:{...Ot,style:{minWidth:ve,...Ot!=null?Ot.style:null}}},children:Dt})]})}),tte=t=>{const{classes:s}=t,n=kt({root:["root"]},hR,s);return{...s,...n}},z4={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>Bn(t)&&t!=="variant"},ste=Ne(R4,z4)(""),ate=Ne(L4,z4)(""),nte=Ne(M4,z4)(""),$4=g.forwardRef(function(s,a){const n=ss({name:"MuiSelect",props:s}),{autoWidth:r=!1,children:i,classes:o={},className:l,defaultOpen:c=!1,displayEmpty:m=!1,IconComponent:u=K9,id:h,input:f,inputProps:v,label:_,labelId:S,MenuProps:j,multiple:b=!1,native:w=!1,onClose:C,onOpen:P,open:E,renderValue:D,SelectDisplayProps:T,variant:R="outlined",...z}=n,O=w?See:ete,$=Ni(),A=ld({props:n,muiFormControl:$,states:["variant","error"]}),Q=A.variant||R,K={...n,variant:Q,classes:o},U=tte(K),{root:B,...V}=U,Y=f||{standard:e.jsx(ste,{ownerState:K}),outlined:e.jsx(ate,{label:_,ownerState:K}),filled:e.jsx(nte,{ownerState:K})}[Q],H=Us(a,od(Y));return e.jsx(g.Fragment,{children:g.cloneElement(Y,{inputComponent:O,inputProps:{children:i,error:A.error,IconComponent:u,variant:Q,type:void 0,multiple:b,...w?{id:h}:{autoWidth:r,defaultOpen:c,displayEmpty:m,labelId:S,MenuProps:j,onClose:C,onOpen:P,open:E,renderValue:D,SelectDisplayProps:{id:h,...T}},...v,classes:v?ur(V,v.classes):V,...f?f.props.inputProps:{}},...(b&&w||m)&&Q==="outlined"?{notched:!0}:{},ref:H,className:tt(Y.props.className,l,U.root),...!f&&{variant:Q},...z})})});$4.muiName="Select";function rte(t){return Et("MuiSkeleton",t)}Pt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const ite=t=>{const{classes:s,variant:a,animation:n,hasChildren:r,width:i,height:o}=t;return kt({root:["root",a,n,r&&"withChildren",r&&!i&&"fitContent",r&&!o&&"heightAuto"]},rte,s)},zw=ol`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,$w=ol`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,ote=typeof zw!="string"?rd`
        animation: ${zw} 2s ease-in-out 0.5s infinite;
      `:null,lte=typeof $w!="string"?rd`
        &::after {
          animation: ${$w} 2s linear 0.5s infinite;
        }
      `:null,cte=Ne("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],a.animation!==!1&&s[a.animation],a.hasChildren&&s.withChildren,a.hasChildren&&!a.width&&s.fitContent,a.hasChildren&&!a.height&&s.heightAuto]}})(Ht(({theme:t})=>{const s=zY(t.shape.borderRadius)||"px",a=$Y(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:t.alpha(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${a}${s}/${Math.round(a/.6*10)/10}${s}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:({ownerState:n})=>n.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:n})=>n.hasChildren&&!n.width,style:{maxWidth:"fit-content"}},{props:({ownerState:n})=>n.hasChildren&&!n.height,style:{height:"auto"}},{props:{animation:"pulse"},style:ote||{animation:`${zw} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(t.vars||t).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:lte||{"&::after":{animation:`${$w} 2s linear 0.5s infinite`}}}]}})),J=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiSkeleton"}),{animation:r="pulse",className:i,component:o="span",height:l,style:c,variant:m="text",width:u,...h}=n,f={...n,animation:r,component:o,variant:m,hasChildren:!!h.children},v=ite(f);return e.jsx(cte,{as:o,ref:a,className:tt(v.root,i),ownerState:f,...h,style:{width:u,height:l,...c}})});function dte(t){return Et("MuiTooltip",t)}const rn=Pt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function ute(t){return Math.round(t*1e5)/1e5}const mte=t=>{const{classes:s,disableInteractive:a,arrow:n,touch:r,placement:i}=t,o={popper:["popper",!a&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",r&&"touch",`tooltipPlacement${Je(i.split("-")[0])}`],arrow:["arrow"]};return kt(o,dte,s)},pte=Ne(mg,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.popper,!a.disableInteractive&&s.popperInteractive,a.arrow&&s.popperArrow,!a.open&&s.popperClose]}})(Ht(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:s})=>!s.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:s})=>!s,style:{pointerEvents:"none"}},{props:({ownerState:s})=>s.arrow,style:{[`&[data-popper-placement*="bottom"] .${rn.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${rn.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${rn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${rn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:s})=>s.arrow&&!s.isRtl,style:{[`&[data-popper-placement*="right"] .${rn.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!!s.isRtl,style:{[`&[data-popper-placement*="right"] .${rn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!s.isRtl,style:{[`&[data-popper-placement*="left"] .${rn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!!s.isRtl,style:{[`&[data-popper-placement*="left"] .${rn.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),hte=Ne("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.tooltip,a.touch&&s.touch,a.arrow&&s.tooltipArrow,s[`tooltipPlacement${Je(a.placement.split("-")[0])}`]]}})(Ht(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${rn.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${rn.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${rn.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${rn.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:s})=>s.arrow,style:{position:"relative",margin:0}},{props:({ownerState:s})=>s.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${ute(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:s})=>!s.isRtl,style:{[`.${rn.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${rn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:s})=>!s.isRtl&&s.touch,style:{[`.${rn.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${rn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:s})=>!!s.isRtl,style:{[`.${rn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${rn.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:s})=>!!s.isRtl&&s.touch,style:{[`.${rn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${rn.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:s})=>s.touch,style:{[`.${rn.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:s})=>s.touch,style:{[`.${rn.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),fte=Ne("span",{name:"MuiTooltip",slot:"Arrow"})(Ht(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let ay=!1;const ME=new vv;let Bh={x:0,y:0};function ny(t,s){return(a,...n)=>{s&&s(a,...n),t(a,...n)}}const Va=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiTooltip"}),{arrow:r=!1,children:i,classes:o,components:l={},componentsProps:c={},describeChild:m=!1,disableFocusListener:u=!1,disableHoverListener:h=!1,disableInteractive:f=!1,disableTouchListener:v=!1,enterDelay:_=100,enterNextDelay:S=0,enterTouchDelay:j=700,followCursor:b=!1,id:w,leaveDelay:C=0,leaveTouchDelay:P=1500,onClose:E,onOpen:D,open:T,placement:R="bottom",PopperComponent:z,PopperProps:O={},slotProps:$={},slots:A={},title:Q,TransitionComponent:K,TransitionProps:U,...B}=n,V=g.isValidElement(i)?i:e.jsx("span",{children:i}),Y=vi(),H=qn(),[F,M]=g.useState(),[L,W]=g.useState(null),X=g.useRef(!1),te=f||b,se=ci(),ae=ci(),pe=ci(),he=ci(),[re,xe]=zr({controlled:T,default:!1,name:"Tooltip",state:"open"});let ge=re;const le=_r(w),de=g.useRef(),we=At(()=>{de.current!==void 0&&(document.body.style.WebkitUserSelect=de.current,de.current=void 0),he.clear()});g.useEffect(()=>we,[we]);const Ae=qt=>{ME.clear(),ay=!0,xe(!0),D&&!ge&&D(qt)},Fe=At(qt=>{ME.start(800+C,()=>{ay=!1}),xe(!1),E&&ge&&E(qt),se.start(Y.transitions.duration.shortest,()=>{X.current=!1})}),Me=qt=>{X.current&&qt.type!=="touchstart"||(F&&F.removeAttribute("title"),ae.clear(),pe.clear(),_||ay&&S?ae.start(ay?S:_,()=>{Ae(qt)}):Ae(qt))},Xe=qt=>{ae.clear(),pe.start(C,()=>{Fe(qt)})},[,ke]=g.useState(!1),Ye=qt=>{rp(qt.target)||(ke(!1),Xe(qt))},ye=qt=>{F||M(qt.currentTarget),rp(qt.target)&&(ke(!0),Me(qt))},We=qt=>{X.current=!0;const zs=V.props;zs.onTouchStart&&zs.onTouchStart(qt)},Ge=qt=>{We(qt),pe.clear(),se.clear(),we(),de.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",he.start(j,()=>{document.body.style.WebkitUserSelect=de.current,Me(qt)})},jt=qt=>{V.props.onTouchEnd&&V.props.onTouchEnd(qt),we(),pe.start(P,()=>{Fe(qt)})};g.useEffect(()=>{if(!ge)return;function qt(zs){zs.key==="Escape"&&Fe(zs)}return document.addEventListener("keydown",qt),()=>{document.removeEventListener("keydown",qt)}},[Fe,ge]);const dt=Us(od(V),M,a);!Q&&Q!==0&&(ge=!1);const wt=g.useRef(),Dt=qt=>{const zs=V.props;zs.onMouseMove&&zs.onMouseMove(qt),Bh={x:qt.clientX,y:qt.clientY},wt.current&&wt.current.update()},ve={},Le=typeof Q=="string";m?(ve.title=!ge&&Le&&!h?Q:null,ve["aria-describedby"]=ge?le:null):(ve["aria-label"]=Le?Q:null,ve["aria-labelledby"]=ge&&!Le?le:null);const $e={...ve,...B,...V.props,className:tt(B.className,V.props.className),onTouchStart:We,ref:dt,...b?{onMouseMove:Dt}:{}},bt={};v||($e.onTouchStart=Ge,$e.onTouchEnd=jt),h||($e.onMouseOver=ny(Me,$e.onMouseOver),$e.onMouseLeave=ny(Xe,$e.onMouseLeave),te||(bt.onMouseOver=Me,bt.onMouseLeave=Xe)),u||($e.onFocus=ny(ye,$e.onFocus),$e.onBlur=ny(Ye,$e.onBlur),te||(bt.onFocus=ye,bt.onBlur=Ye));const Zt={...n,isRtl:H,arrow:r,disableInteractive:te,placement:R,PopperComponentProp:z,touch:X.current},Ot=typeof $.popper=="function"?$.popper(Zt):$.popper,It=g.useMemo(()=>{let qt=[{name:"arrow",enabled:!!L,options:{element:L,padding:4}}];return O.popperOptions?.modifiers&&(qt=qt.concat(O.popperOptions.modifiers)),Ot?.popperOptions?.modifiers&&(qt=qt.concat(Ot.popperOptions.modifiers)),{...O.popperOptions,...Ot?.popperOptions,modifiers:qt}},[L,O.popperOptions,Ot?.popperOptions]),ts=mte(Zt),st=typeof $.transition=="function"?$.transition(Zt):$.transition,Gt={slots:{popper:l.Popper,transition:l.Transition??K,tooltip:l.Tooltip,arrow:l.Arrow,...A},slotProps:{arrow:$.arrow??c.arrow,popper:{...O,...Ot??c.popper},tooltip:$.tooltip??c.tooltip,transition:{...U,...st??c.transition}}},[es,us]=Yt("popper",{elementType:pte,externalForwardedProps:Gt,ownerState:Zt,className:tt(ts.popper,O?.className)}),[As,Ls]=Yt("transition",{elementType:bx,externalForwardedProps:Gt,ownerState:Zt}),[ws,ma]=Yt("tooltip",{elementType:hte,className:ts.tooltip,externalForwardedProps:Gt,ownerState:Zt}),[ca,fa]=Yt("arrow",{elementType:fte,className:ts.arrow,externalForwardedProps:Gt,ownerState:Zt,ref:W});return e.jsxs(g.Fragment,{children:[g.cloneElement(V,$e),e.jsx(es,{as:z??mg,placement:R,anchorEl:b?{getBoundingClientRect:()=>({top:Bh.y,left:Bh.x,right:Bh.x,bottom:Bh.y,width:0,height:0})}:F,popperRef:wt,open:F?ge:!1,id:le,transition:!0,...bt,...us,popperOptions:It,children:({TransitionProps:qt})=>e.jsx(As,{timeout:Y.transitions.duration.shorter,...qt,...Ls,children:e.jsxs(ws,{...ma,children:[Q,r?e.jsx(ca,{...fa}):null]})})})]})});function xte(t){return Et("MuiSwitch",t)}const yr=Pt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),gte=t=>{const{classes:s,edge:a,size:n,color:r,checked:i,disabled:o}=t,l={root:["root",a&&`edge${Je(a)}`,`size${Je(n)}`],switchBase:["switchBase",`color${Je(r)}`,i&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=kt(l,xte,s);return{...s,...c}},yte=Ne("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.edge&&s[`edge${Je(a.edge)}`],s[`size${Je(a.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${yr.thumb}`]:{width:16,height:16},[`& .${yr.switchBase}`]:{padding:4,[`&.${yr.checked}`]:{transform:"translateX(16px)"}}}}]}),bte=Ne(T4,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.switchBase,{[`& .${yr.input}`]:s.input},a.color!=="default"&&s[`color${Je(a.color)}`]]}})(Ht(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${yr.checked}`]:{transform:"translateX(20px)"},[`&.${yr.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${yr.checked} + .${yr.track}`]:{opacity:.5},[`&.${yr.disabled} + .${yr.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${yr.input}`]:{left:"-100%",width:"300%"}})),Ht(({theme:t})=>({"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(Ia(["light"])).map(([s])=>({props:{color:s},style:{[`&.${yr.checked}`]:{color:(t.vars||t).palette[s].main,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[s].main,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${yr.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${s}DisabledColor`]:`${t.palette.mode==="light"?t.lighten(t.palette[s].main,.62):t.darken(t.palette[s].main,.55)}`}},[`&.${yr.checked} + .${yr.track}`]:{backgroundColor:(t.vars||t).palette[s].main}}}))]}))),vte=Ne("span",{name:"MuiSwitch",slot:"Track"})(Ht(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),jte=Ne("span",{name:"MuiSwitch",slot:"Thumb"})(Ht(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),Nte=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiSwitch"}),{className:r,color:i="primary",edge:o=!1,size:l="medium",sx:c,slots:m={},slotProps:u={},...h}=n,f={...n,color:i,edge:o,size:l},v=gte(f),_={slots:m,slotProps:u},[S,j]=Yt("root",{className:tt(v.root,r),elementType:yte,externalForwardedProps:_,ownerState:f,additionalProps:{sx:c}}),[b,w]=Yt("thumb",{className:v.thumb,elementType:jte,externalForwardedProps:_,ownerState:f}),C=e.jsx(b,{...w}),[P,E]=Yt("track",{className:v.track,elementType:vte,externalForwardedProps:_,ownerState:f});return e.jsxs(S,{...j,children:[e.jsx(bte,{type:"checkbox",icon:C,checkedIcon:C,ref:a,ownerState:f,...h,classes:{...v,root:v.switchBase},slots:{...m.switchBase&&{root:m.switchBase},...m.input&&{input:m.input}},slotProps:{...u.switchBase&&{root:typeof u.switchBase=="function"?u.switchBase(f):u.switchBase},input:{role:"switch"},...u.input&&{input:typeof u.input=="function"?u.input(f):u.input}}}),e.jsx(P,{...E})]})});function wte(t){return Et("MuiTab",t)}const Di=Pt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),_te=t=>{const{classes:s,textColor:a,fullWidth:n,wrapped:r,icon:i,label:o,selected:l,disabled:c}=t,m={root:["root",i&&o&&"labelIcon",`textColor${Je(a)}`,n&&"fullWidth",r&&"wrapped",l&&"selected",c&&"disabled"],icon:["iconWrapper","icon"]};return kt(m,wte,s)},Ste=Ne(No,{name:"MuiTab",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.label&&a.icon&&s.labelIcon,s[`textColor${Je(a.textColor)}`],a.fullWidth&&s.fullWidth,a.wrapped&&s.wrapped,{[`& .${Di.iconWrapper}`]:s.iconWrapper},{[`& .${Di.icon}`]:s.icon}]}})(Ht(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:s})=>s.label&&(s.iconPosition==="top"||s.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:s})=>s.label&&s.iconPosition!=="top"&&s.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:s})=>s.icon&&s.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:s,iconPosition:a})=>s.icon&&s.label&&a==="top",style:{[`& > .${Di.icon}`]:{marginBottom:6}}},{props:({ownerState:s,iconPosition:a})=>s.icon&&s.label&&a==="bottom",style:{[`& > .${Di.icon}`]:{marginTop:6}}},{props:({ownerState:s,iconPosition:a})=>s.icon&&s.label&&a==="start",style:{[`& > .${Di.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:s,iconPosition:a})=>s.icon&&s.label&&a==="end",style:{[`& > .${Di.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Di.selected}`]:{opacity:1},[`&.${Di.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${Di.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${Di.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${Di.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${Di.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:s})=>s.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:s})=>s.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),Rs=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiTab"}),{className:r,disabled:i=!1,disableFocusRipple:o=!1,fullWidth:l,icon:c,iconPosition:m="top",indicator:u,label:h,onChange:f,onClick:v,onFocus:_,selected:S,selectionFollowsFocus:j,textColor:b="inherit",value:w,wrapped:C=!1,...P}=n,E={...n,disabled:i,disableFocusRipple:o,selected:S,icon:!!c,iconPosition:m,label:!!h,fullWidth:l,textColor:b,wrapped:C},D=_te(E),T=c&&h&&g.isValidElement(c)?g.cloneElement(c,{className:tt(D.icon,c.props.className)}):c,R=O=>{!S&&f&&f(O,w),v&&v(O)},z=O=>{j&&!S&&f&&f(O,w),_&&_(O)};return e.jsxs(Ste,{focusRipple:!o,className:tt(D.root,r),ref:a,role:"tab","aria-selected":S,disabled:i,onClick:R,onFocus:z,ownerState:E,tabIndex:S?0:-1,...P,children:[m==="top"||m==="start"?e.jsxs(g.Fragment,{children:[T,h]}):e.jsxs(g.Fragment,{children:[h,T]}),u]})}),fR=g.createContext();function Cte(t){return Et("MuiTable",t)}Pt("MuiTable",["root","stickyHeader"]);const kte=t=>{const{classes:s,stickyHeader:a}=t;return kt({root:["root",a&&"stickyHeader"]},Cte,s)},Pte=Ne("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.stickyHeader&&s.stickyHeader]}})(Ht(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:s})=>s.stickyHeader,style:{borderCollapse:"separate"}}]}))),DE="table",qw=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiTable"}),{className:r,component:i=DE,padding:o="normal",size:l="medium",stickyHeader:c=!1,...m}=n,u={...n,component:i,padding:o,size:l,stickyHeader:c},h=kte(u),f=g.useMemo(()=>({padding:o,size:l,stickyHeader:c}),[o,l,c]);return e.jsx(fR.Provider,{value:f,children:e.jsx(Pte,{as:i,role:i===DE?null:"table",ref:a,className:tt(h.root,r),ownerState:u,...m})})}),Mv=g.createContext();function Ete(t){return Et("MuiTableBody",t)}Pt("MuiTableBody",["root"]);const Tte=t=>{const{classes:s}=t;return kt({root:["root"]},Ete,s)},Mte=Ne("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),Dte={variant:"body"},RE="tbody",Bw=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiTableBody"}),{className:r,component:i=RE,...o}=n,l={...n,component:i},c=Tte(l);return e.jsx(Mv.Provider,{value:Dte,children:e.jsx(Mte,{className:tt(c.root,r),as:i,ref:a,role:i===RE?null:"rowgroup",ownerState:l,...o})})});function Rte(t){return Et("MuiTableCell",t)}const Ate=Pt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Ite=t=>{const{classes:s,variant:a,align:n,padding:r,size:i,stickyHeader:o}=t,l={root:["root",a,o&&"stickyHeader",n!=="inherit"&&`align${Je(n)}`,r!=="normal"&&`padding${Je(r)}`,`size${Je(i)}`]};return kt(l,Rte,s)},Ote=Ne("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],s[`size${Je(a.size)}`],a.padding!=="normal"&&s[`padding${Je(a.padding)}`],a.align!=="inherit"&&s[`align${Je(a.align)}`],a.stickyHeader&&s.stickyHeader]}})(Ht(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${Ate.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:s})=>s.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),Vi=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiTableCell"}),{align:r="inherit",className:i,component:o,padding:l,scope:c,size:m,sortDirection:u,variant:h,...f}=n,v=g.useContext(fR),_=g.useContext(Mv),S=_&&_.variant==="head";let j;o?j=o:j=S?"th":"td";let b=c;j==="td"?b=void 0:!b&&S&&(b="col");const w=h||_&&_.variant,C={...n,align:r,component:j,padding:l||(v&&v.padding?v.padding:"normal"),size:m||(v&&v.size?v.size:"medium"),sortDirection:u,stickyHeader:w==="head"&&v&&v.stickyHeader,variant:w},P=Ite(C);let E=null;return u&&(E=u==="asc"?"ascending":"descending"),e.jsx(Ote,{as:j,ref:a,className:tt(P.root,i),"aria-sort":E,scope:b,ownerState:C,...f})});function Fte(t){return Et("MuiTableContainer",t)}Pt("MuiTableContainer",["root"]);const Lte=t=>{const{classes:s}=t;return kt({root:["root"]},Fte,s)},zte=Ne("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),xR=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiTableContainer"}),{className:r,component:i="div",...o}=n,l={...n,component:i},c=Lte(l);return e.jsx(zte,{ref:a,as:i,className:tt(c.root,r),ownerState:l,...o})});function $te(t){return Et("MuiTableHead",t)}Pt("MuiTableHead",["root"]);const qte=t=>{const{classes:s}=t;return kt({root:["root"]},$te,s)},Bte=Ne("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),Ute={variant:"head"},AE="thead",gR=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiTableHead"}),{className:r,component:i=AE,...o}=n,l={...n,component:i},c=qte(l);return e.jsx(Mv.Provider,{value:Ute,children:e.jsx(Bte,{as:i,className:tt(c.root,r),ref:a,role:i===AE?null:"rowgroup",ownerState:l,...o})})});function Vte(t){return Et("MuiToolbar",t)}Pt("MuiToolbar",["root","gutters","regular","dense"]);const Hte=t=>{const{classes:s,disableGutters:a,variant:n}=t;return kt({root:["root",!a&&"gutters",n]},Vte,s)},Wte=Ne("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,!a.disableGutters&&s.gutters,s[a.variant]]}})(Ht(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),Yte=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:o=!1,variant:l="regular",...c}=n,m={...n,component:i,disableGutters:o,variant:l},u=Hte(m);return e.jsx(Wte,{as:i,className:tt(u.root,r),ref:a,ownerState:m,...c})}),yR=Ut(e.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),bR=Ut(e.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function Gte(t){return Et("MuiTablePaginationActions",t)}Pt("MuiTablePaginationActions",["root"]);const Kte=t=>{const{classes:s}=t;return kt({root:["root"]},Gte,s)},Qte=Ne("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),Zte=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiTablePaginationActions"}),{backIconButtonProps:r,className:i,count:o,disabled:l=!1,getItemAriaLabel:c,nextIconButtonProps:m,onPageChange:u,page:h,rowsPerPage:f,showFirstButton:v,showLastButton:_,slots:S={},slotProps:j={},...b}=n,w=qn(),P=Kte(n),E=te=>{u(te,0)},D=te=>{u(te,h-1)},T=te=>{u(te,h+1)},R=te=>{u(te,Math.max(0,Math.ceil(o/f)-1))},z=S.firstButton??na,O=S.lastButton??na,$=S.nextButton??na,A=S.previousButton??na,Q=S.firstButtonIcon??Ree,K=S.lastButtonIcon??Aee,U=S.nextButtonIcon??bR,B=S.previousButtonIcon??yR,V=w?O:z,Y=w?$:A,H=w?A:$,F=w?z:O,M=w?j.lastButton:j.firstButton,L=w?j.nextButton:j.previousButton,W=w?j.previousButton:j.nextButton,X=w?j.firstButton:j.lastButton;return e.jsxs(Qte,{ref:a,className:tt(P.root,i),...b,children:[v&&e.jsx(V,{onClick:E,disabled:l||h===0,"aria-label":c("first",h),title:c("first",h),...M,children:w?e.jsx(K,{...j.lastButtonIcon}):e.jsx(Q,{...j.firstButtonIcon})}),e.jsx(Y,{onClick:D,disabled:l||h===0,color:"inherit","aria-label":c("previous",h),title:c("previous",h),...L??r,children:w?e.jsx(U,{...j.nextButtonIcon}):e.jsx(B,{...j.previousButtonIcon})}),e.jsx(H,{onClick:T,disabled:l||(o!==-1?h>=Math.ceil(o/f)-1:!1),color:"inherit","aria-label":c("next",h),title:c("next",h),...W??m,children:w?e.jsx(B,{...j.previousButtonIcon}):e.jsx(U,{...j.nextButtonIcon})}),_&&e.jsx(F,{onClick:R,disabled:l||h>=Math.ceil(o/f)-1,"aria-label":c("last",h),title:c("last",h),...X,children:w?e.jsx(Q,{...j.firstButtonIcon}):e.jsx(K,{...j.lastButtonIcon})})]})});function Xte(t){return Et("MuiTablePagination",t)}const Kf=Pt("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var IE;const Jte=Ne(Vi,{name:"MuiTablePagination",slot:"Root"})(Ht(({theme:t})=>({overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}))),ese=Ne(Yte,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,s)=>({[`& .${Kf.actions}`]:s.actions,...s.toolbar})})(Ht(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${Kf.actions}`]:{flexShrink:0,marginLeft:20}}))),tse=Ne("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),sse=Ne("p",{name:"MuiTablePagination",slot:"SelectLabel"})(Ht(({theme:t})=>({...t.typography.body2,flexShrink:0}))),ase=Ne($4,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,s)=>({[`& .${Kf.selectIcon}`]:s.selectIcon,[`& .${Kf.select}`]:s.select,...s.input,...s.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${Kf.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),nse=Ne(Z,{name:"MuiTablePagination",slot:"MenuItem"})({}),rse=Ne("p",{name:"MuiTablePagination",slot:"DisplayedRows"})(Ht(({theme:t})=>({...t.typography.body2,flexShrink:0})));function ise({from:t,to:s,count:a}){return`${t}${s} of ${a!==-1?a:`more than ${s}`}`}function ose(t){return`Go to ${t} page`}const lse=t=>{const{classes:s}=t;return kt({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Xte,s)},cse=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiTablePagination"}),{ActionsComponent:r=Zte,backIconButtonProps:i,colSpan:o,component:l=Vi,count:c,disabled:m=!1,getItemAriaLabel:u=ose,labelDisplayedRows:h=ise,labelRowsPerPage:f="Rows per page:",nextIconButtonProps:v,onPageChange:_,onRowsPerPageChange:S,page:j,rowsPerPage:b,rowsPerPageOptions:w=[10,25,50,100],SelectProps:C={},showFirstButton:P=!1,showLastButton:E=!1,slotProps:D={},slots:T={},...R}=n,z=n,O=lse(z),$=D?.select??C,A=$.native?"option":nse;let Q;(l===Vi||l==="td")&&(Q=o||1e3);const K=_r($.id),U=_r($.labelId),B=()=>c===-1?(j+1)*b:b===-1?c:Math.min(c,(j+1)*b),V={slots:T,slotProps:D},[Y,H]=Yt("root",{ref:a,className:O.root,elementType:Jte,externalForwardedProps:{...V,component:l,...R},ownerState:z,additionalProps:{colSpan:Q}}),[F,M]=Yt("toolbar",{className:O.toolbar,elementType:ese,externalForwardedProps:V,ownerState:z}),[L,W]=Yt("spacer",{className:O.spacer,elementType:tse,externalForwardedProps:V,ownerState:z}),[X,te]=Yt("selectLabel",{className:O.selectLabel,elementType:sse,externalForwardedProps:V,ownerState:z,additionalProps:{id:U}}),[se,ae]=Yt("select",{className:O.select,elementType:ase,externalForwardedProps:V,ownerState:z}),[pe,he]=Yt("menuItem",{className:O.menuItem,elementType:A,externalForwardedProps:V,ownerState:z}),[re,xe]=Yt("displayedRows",{className:O.displayedRows,elementType:rse,externalForwardedProps:V,ownerState:z});return e.jsx(Y,{...H,children:e.jsxs(F,{...M,children:[e.jsx(L,{...W}),w.length>1&&e.jsx(X,{...te,children:f}),w.length>1&&e.jsx(se,{variant:"standard",...!$.variant&&{input:IE||(IE=e.jsx(kv,{}))},value:b,onChange:S,id:K,labelId:U,...$,classes:{...$.classes,root:tt(O.input,O.selectRoot,($.classes||{}).root),select:tt(O.select,($.classes||{}).select),icon:tt(O.selectIcon,($.classes||{}).icon)},disabled:m,...ae,children:w.map(ge=>g.createElement(pe,{...he,key:ge.label?ge.label:ge,value:ge.value?ge.value:ge},ge.label?ge.label:ge))}),e.jsx(re,{...xe,children:h({from:c===0?0:j*b+1,to:B(),count:c===-1?-1:c,page:j})}),e.jsx(r,{className:O.actions,backIconButtonProps:i,count:c,nextIconButtonProps:v,onPageChange:_,page:j,rowsPerPage:b,showFirstButton:P,showLastButton:E,slotProps:D.actions,slots:T.actions,getItemAriaLabel:u,disabled:m})]})})});function dse(t){return Et("MuiTableRow",t)}const OE=Pt("MuiTableRow",["root","selected","hover","head","footer"]),use=t=>{const{classes:s,selected:a,hover:n,head:r,footer:i}=t;return kt({root:["root",a&&"selected",n&&"hover",r&&"head",i&&"footer"]},dse,s)},mse=Ne("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.head&&s.head,a.footer&&s.footer]}})(Ht(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${OE.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${OE.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)}}}))),FE="tr",au=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiTableRow"}),{className:r,component:i=FE,hover:o=!1,selected:l=!1,...c}=n,m=g.useContext(Mv),u={...n,component:i,hover:o,selected:l,head:m&&m.variant==="head",footer:m&&m.variant==="footer"},h=use(u);return e.jsx(mse,{as:i,ref:a,className:tt(h.root,r),role:i===FE?null:"row",ownerState:u,...c})}),pse=Ut(e.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}));function hse(t){return Et("MuiTableSortLabel",t)}const dN=Pt("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]),fse=t=>{const{classes:s,direction:a,active:n}=t,r={root:["root",n&&"active",`direction${Je(a)}`],icon:["icon",`iconDirection${Je(a)}`]};return kt(r,hse,s)},xse=Ne(No,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.active&&s.active]}})(Ht(({theme:t})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":{color:(t.vars||t).palette.text.secondary,[`& .${dN.icon}`]:{opacity:.5}},[`&.${dN.active}`]:{color:(t.vars||t).palette.text.primary,[`& .${dN.icon}`]:{opacity:1,color:(t.vars||t).palette.text.secondary}}}))),gse=Ne("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.icon,s[`iconDirection${Je(a.direction)}`]]}})(Ht(({theme:t})=>({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}))),yse=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiTableSortLabel"}),{active:r=!1,children:i,className:o,direction:l="asc",hideSortIcon:c=!1,IconComponent:m=pse,slots:u={},slotProps:h={},...f}=n,v={...n,active:r,direction:l,hideSortIcon:c,IconComponent:m},_=fse(v),S={slots:u,slotProps:h},[j,b]=Yt("root",{elementType:xse,externalForwardedProps:S,ownerState:v,className:tt(_.root,o),ref:a}),[w,C]=Yt("icon",{elementType:gse,externalForwardedProps:S,ownerState:v,className:_.icon});return e.jsxs(j,{disableRipple:!0,component:"span",...b,...f,children:[i,c&&!r?null:e.jsx(w,{as:m,...C})]})});function bse(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function vse(t,s,a,n={},r=()=>{}){const{ease:i=bse,duration:o=300}=n;let l=null;const c=s[t];let m=!1;const u=()=>{m=!0},h=f=>{if(m){r(new Error("Animation cancelled"));return}l===null&&(l=f);const v=Math.min(1,(f-l)/o);if(s[t]=i(v)*(a-c)+c,v>=1){requestAnimationFrame(()=>{r(null)});return}requestAnimationFrame(h)};return c===a?(r(new Error("Element already at target position")),u):(requestAnimationFrame(h),u)}const jse={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Nse(t){const{onChange:s,...a}=t,n=g.useRef(),r=g.useRef(null),i=()=>{n.current=r.current.offsetHeight-r.current.clientHeight};return La(()=>{const o=lg(()=>{const c=n.current;i(),c!==n.current&&s(n.current)}),l=xi(r.current);return l.addEventListener("resize",o),()=>{o.clear(),l.removeEventListener("resize",o)}},[s]),g.useEffect(()=>{i(),s(n.current)},[s]),e.jsx("div",{style:jse,...a,ref:r})}function wse(t){return Et("MuiTabScrollButton",t)}const _se=Pt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Sse=t=>{const{classes:s,orientation:a,disabled:n}=t;return kt({root:["root",a,n&&"disabled"]},wse,s)},Cse=Ne(No,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.orientation&&s[a.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${_se.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),kse=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiTabScrollButton"}),{className:r,slots:i={},slotProps:o={},direction:l,orientation:c,disabled:m,...u}=n,h=qn(),f={isRtl:h,...n},v=Sse(f),_=i.StartScrollButtonIcon??yR,S=i.EndScrollButtonIcon??bR,j=ta({elementType:_,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),b=ta({elementType:S,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return e.jsx(Cse,{component:"div",className:tt(v.root,r),ref:a,role:null,ownerState:f,tabIndex:null,...u,style:{...u.style,...c==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${h?-90:90}deg)`}},children:l==="left"?e.jsx(_,{...j}):e.jsx(S,{...b})})});function Pse(t){return Et("MuiTabs",t)}const Gy=Pt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),LE=(t,s)=>t===s?t.firstChild:s&&s.nextElementSibling?s.nextElementSibling:t.firstChild,zE=(t,s)=>t===s?t.lastChild:s&&s.previousElementSibling?s.previousElementSibling:t.lastChild,ry=(t,s,a)=>{let n=!1,r=a(t,s);for(;r;){if(r===t.firstChild){if(n)return;n=!0}const i=r.disabled||r.getAttribute("aria-disabled")==="true";if(!r.hasAttribute("tabindex")||i)r=a(t,r);else{r.focus();return}}},Ese=t=>{const{vertical:s,fixed:a,hideScrollbar:n,scrollableX:r,scrollableY:i,centered:o,scrollButtonsHideMobile:l,classes:c}=t;return kt({root:["root",s&&"vertical"],scroller:["scroller",a&&"fixed",n&&"hideScrollbar",r&&"scrollableX",i&&"scrollableY"],list:["list","flexContainer",s&&"flexContainerVertical",s&&"vertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[r&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},Pse,c)},Tse=Ne("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[{[`& .${Gy.scrollButtons}`]:s.scrollButtons},{[`& .${Gy.scrollButtons}`]:a.scrollButtonsHideMobile&&s.scrollButtonsHideMobile},s.root,a.vertical&&s.vertical]}})(Ht(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:s})=>s.vertical,style:{flexDirection:"column"}},{props:({ownerState:s})=>s.scrollButtonsHideMobile,style:{[`& .${Gy.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),Mse=Ne("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.scroller,a.fixed&&s.fixed,a.hideScrollbar&&s.hideScrollbar,a.scrollableX&&s.scrollableX,a.scrollableY&&s.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Dse=Ne("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.list,s.flexContainer,a.vertical&&s.flexContainerVertical,a.centered&&s.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),Rse=Ne("span",{name:"MuiTabs",slot:"Indicator"})(Ht(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:s})=>s.vertical,style:{height:"100%",width:2,right:0}}]}))),Ase=Ne(Nse)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),$E={},tl=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiTabs"}),r=vi(),i=qn(),{"aria-label":o,"aria-labelledby":l,action:c,centered:m=!1,children:u,className:h,component:f="div",allowScrollButtonsMobile:v=!1,indicatorColor:_="primary",onChange:S,orientation:j="horizontal",ScrollButtonComponent:b,scrollButtons:w="auto",selectionFollowsFocus:C,slots:P={},slotProps:E={},TabIndicatorProps:D={},TabScrollButtonProps:T={},textColor:R="primary",value:z,variant:O="standard",visibleScrollbar:$=!1,...A}=n,Q=O==="scrollable",K=j==="vertical",U=K?"scrollTop":"scrollLeft",B=K?"top":"left",V=K?"bottom":"right",Y=K?"clientHeight":"clientWidth",H=K?"height":"width",F={...n,component:f,allowScrollButtonsMobile:v,indicatorColor:_,orientation:j,vertical:K,scrollButtons:w,textColor:R,variant:O,visibleScrollbar:$,fixed:!Q,hideScrollbar:Q&&!$,scrollableX:Q&&!K,scrollableY:Q&&K,centered:m&&!Q,scrollButtonsHideMobile:!v},M=Ese(F),L=ta({elementType:P.StartScrollButtonIcon,externalSlotProps:E.startScrollButtonIcon,ownerState:F}),W=ta({elementType:P.EndScrollButtonIcon,externalSlotProps:E.endScrollButtonIcon,ownerState:F}),[X,te]=g.useState(!1),[se,ae]=g.useState($E),[pe,he]=g.useState(!1),[re,xe]=g.useState(!1),[ge,le]=g.useState(!1),[de,we]=g.useState({overflow:"hidden",scrollbarWidth:0}),Ae=new Map,Fe=g.useRef(null),Me=g.useRef(null),Xe={slots:P,slotProps:{indicator:D,scrollButton:T,...E}},ke=()=>{const Ft=Fe.current;let Qt;if(Ft){const je=Ft.getBoundingClientRect();Qt={clientWidth:Ft.clientWidth,scrollLeft:Ft.scrollLeft,scrollTop:Ft.scrollTop,scrollWidth:Ft.scrollWidth,top:je.top,bottom:je.bottom,left:je.left,right:je.right}}let Ms;if(Ft&&z!==!1){const je=Me.current.children;if(je.length>0){const Ce=je[Ae.get(z)];Ms=Ce?Ce.getBoundingClientRect():null}}return{tabsMeta:Qt,tabMeta:Ms}},Ye=At(()=>{const{tabsMeta:Ft,tabMeta:Qt}=ke();let Ms=0,je;K?(je="top",Qt&&Ft&&(Ms=Qt.top-Ft.top+Ft.scrollTop)):(je=i?"right":"left",Qt&&Ft&&(Ms=(i?-1:1)*(Qt[je]-Ft[je]+Ft.scrollLeft)));const Ce={[je]:Ms,[H]:Qt?Qt[H]:0};if(typeof se[je]!="number"||typeof se[H]!="number")ae(Ce);else{const Be=Math.abs(se[je]-Ce[je]),xt=Math.abs(se[H]-Ce[H]);(Be>=1||xt>=1)&&ae(Ce)}}),ye=(Ft,{animation:Qt=!0}={})=>{Qt?vse(U,Fe.current,Ft,{duration:r.transitions.duration.standard}):Fe.current[U]=Ft},We=Ft=>{let Qt=Fe.current[U];K?Qt+=Ft:Qt+=Ft*(i?-1:1),ye(Qt)},Ge=()=>{const Ft=Fe.current[Y];let Qt=0;const Ms=Array.from(Me.current.children);for(let je=0;je<Ms.length;je+=1){const Ce=Ms[je];if(Qt+Ce[Y]>Ft){je===0&&(Qt=Ft);break}Qt+=Ce[Y]}return Qt},jt=()=>{We(-1*Ge())},dt=()=>{We(Ge())},[wt,{onChange:Dt,...ve}]=Yt("scrollbar",{className:tt(M.scrollableX,M.hideScrollbar),elementType:Ase,shouldForwardComponentProp:!0,externalForwardedProps:Xe,ownerState:F}),Le=g.useCallback(Ft=>{Dt?.(Ft),we({overflow:null,scrollbarWidth:Ft})},[Dt]),[$e,bt]=Yt("scrollButtons",{className:tt(M.scrollButtons,T.className),elementType:kse,externalForwardedProps:Xe,ownerState:F,additionalProps:{orientation:j,slots:{StartScrollButtonIcon:P.startScrollButtonIcon||P.StartScrollButtonIcon,EndScrollButtonIcon:P.endScrollButtonIcon||P.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:L,endScrollButtonIcon:W}}}),Zt=()=>{const Ft={};Ft.scrollbarSizeListener=Q?e.jsx(wt,{...ve,onChange:Le}):null;const Ms=Q&&(w==="auto"&&(pe||re)||w===!0);return Ft.scrollButtonStart=Ms?e.jsx($e,{direction:i?"right":"left",onClick:jt,disabled:!pe,...bt}):null,Ft.scrollButtonEnd=Ms?e.jsx($e,{direction:i?"left":"right",onClick:dt,disabled:!re,...bt}):null,Ft},Ot=At(Ft=>{const{tabsMeta:Qt,tabMeta:Ms}=ke();if(!(!Ms||!Qt)){if(Ms[B]<Qt[B]){const je=Qt[U]+(Ms[B]-Qt[B]);ye(je,{animation:Ft})}else if(Ms[V]>Qt[V]){const je=Qt[U]+(Ms[V]-Qt[V]);ye(je,{animation:Ft})}}}),It=At(()=>{Q&&w!==!1&&le(!ge)});g.useEffect(()=>{const Ft=lg(()=>{Fe.current&&Ye()});let Qt;const Ms=Be=>{Be.forEach(xt=>{xt.removedNodes.forEach(ce=>{Qt?.unobserve(ce)}),xt.addedNodes.forEach(ce=>{Qt?.observe(ce)})}),Ft(),It()},je=xi(Fe.current);je.addEventListener("resize",Ft);let Ce;return typeof ResizeObserver<"u"&&(Qt=new ResizeObserver(Ft),Array.from(Me.current.children).forEach(Be=>{Qt.observe(Be)})),typeof MutationObserver<"u"&&(Ce=new MutationObserver(Ms),Ce.observe(Me.current,{childList:!0})),()=>{Ft.clear(),je.removeEventListener("resize",Ft),Ce?.disconnect(),Qt?.disconnect()}},[Ye,It]),g.useEffect(()=>{const Ft=Array.from(Me.current.children),Qt=Ft.length;if(typeof IntersectionObserver<"u"&&Qt>0&&Q&&w!==!1){const Ms=Ft[0],je=Ft[Qt-1],Ce={root:Fe.current,threshold:.99},Be=Ie=>{he(!Ie[0].isIntersecting)},xt=new IntersectionObserver(Be,Ce);xt.observe(Ms);const ce=Ie=>{xe(!Ie[0].isIntersecting)},Te=new IntersectionObserver(ce,Ce);return Te.observe(je),()=>{xt.disconnect(),Te.disconnect()}}},[Q,w,ge,u?.length]),g.useEffect(()=>{te(!0)},[]),g.useEffect(()=>{Ye()}),g.useEffect(()=>{Ot($E!==se)},[Ot,se]),g.useImperativeHandle(c,()=>({updateIndicator:Ye,updateScrollButtons:It}),[Ye,It]);const[ts,st]=Yt("indicator",{className:tt(M.indicator,D.className),elementType:Rse,externalForwardedProps:Xe,ownerState:F,additionalProps:{style:se}}),Gt=e.jsx(ts,{...st});let es=0;const us=g.Children.map(u,Ft=>{if(!g.isValidElement(Ft))return null;const Qt=Ft.props.value===void 0?es:Ft.props.value;Ae.set(Qt,es);const Ms=Qt===z;return es+=1,g.cloneElement(Ft,{fullWidth:O==="fullWidth",indicator:Ms&&!X&&Gt,selected:Ms,selectionFollowsFocus:C,onChange:S,textColor:R,value:Qt,...es===1&&z===!1&&!Ft.props.tabIndex?{tabIndex:0}:{}})}),As=Ft=>{if(Ft.altKey||Ft.shiftKey||Ft.ctrlKey||Ft.metaKey)return;const Qt=Me.current,Ms=Mm(dn(Qt));if(Ms?.getAttribute("role")!=="tab")return;let Ce=j==="horizontal"?"ArrowLeft":"ArrowUp",Be=j==="horizontal"?"ArrowRight":"ArrowDown";switch(j==="horizontal"&&i&&(Ce="ArrowRight",Be="ArrowLeft"),Ft.key){case Ce:Ft.preventDefault(),ry(Qt,Ms,zE);break;case Be:Ft.preventDefault(),ry(Qt,Ms,LE);break;case"Home":Ft.preventDefault(),ry(Qt,null,LE);break;case"End":Ft.preventDefault(),ry(Qt,null,zE);break}},Ls=Zt(),[ws,ma]=Yt("root",{ref:a,className:tt(M.root,h),elementType:Tse,externalForwardedProps:{...Xe,...A,component:f},ownerState:F}),[ca,fa]=Yt("scroller",{ref:Fe,className:M.scroller,elementType:Mse,externalForwardedProps:Xe,ownerState:F,additionalProps:{style:{overflow:de.overflow,[K?`margin${i?"Left":"Right"}`:"marginBottom"]:$?void 0:-de.scrollbarWidth}}}),[qt,zs]=Yt("list",{ref:Me,className:tt(M.list,M.flexContainer),elementType:Dse,externalForwardedProps:Xe,ownerState:F,getSlotProps:Ft=>({...Ft,onKeyDown:Qt=>{As(Qt),Ft.onKeyDown?.(Qt)}})});return e.jsxs(ws,{...ma,children:[Ls.scrollButtonStart,Ls.scrollbarSizeListener,e.jsxs(ca,{...fa,children:[e.jsx(qt,{"aria-label":o,"aria-labelledby":l,"aria-orientation":j==="vertical"?"vertical":null,role:"tablist",...zs,children:us}),X&&Gt]}),Ls.scrollButtonEnd]})});function Ise(t){return Et("MuiTextField",t)}Pt("MuiTextField",["root"]);const Ose={standard:R4,filled:M4,outlined:L4},Fse=t=>{const{classes:s}=t;return kt({root:["root"]},Ise,s)},Lse=Ne(Tv,{name:"MuiTextField",slot:"Root"})({}),wn=g.forwardRef(function(s,a){const n=ss({props:s,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:l,color:c="primary",defaultValue:m,disabled:u=!1,error:h=!1,FormHelperTextProps:f,fullWidth:v=!1,helperText:_,id:S,InputLabelProps:j,inputProps:b,InputProps:w,inputRef:C,label:P,maxRows:E,minRows:D,multiline:T=!1,name:R,onBlur:z,onChange:O,onFocus:$,placeholder:A,required:Q=!1,rows:K,select:U=!1,SelectProps:B,slots:V={},slotProps:Y={},type:H,value:F,variant:M="outlined",...L}=n,W={...n,autoFocus:i,color:c,disabled:u,error:h,fullWidth:v,multiline:T,required:Q,select:U,variant:M},X=Fse(W),te=_r(S),se=_&&te?`${te}-helper-text`:void 0,ae=P&&te?`${te}-label`:void 0,pe=Ose[M],he={slots:V,slotProps:{input:w,inputLabel:j,htmlInput:b,formHelperText:f,select:B,...Y}},re={},xe=he.slotProps.inputLabel;M==="outlined"&&(xe&&typeof xe.shrink<"u"&&(re.notched=xe.shrink),re.label=P),U&&((!B||!B.native)&&(re.id=void 0),re["aria-describedby"]=void 0);const[ge,le]=Yt("root",{elementType:Lse,shouldForwardComponentProp:!0,externalForwardedProps:{...he,...L},ownerState:W,className:tt(X.root,l),ref:a,additionalProps:{disabled:u,error:h,fullWidth:v,required:Q,color:c,variant:M}}),[de,we]=Yt("input",{elementType:pe,externalForwardedProps:he,additionalProps:re,ownerState:W}),[Ae,Fe]=Yt("inputLabel",{elementType:nR,externalForwardedProps:he,ownerState:W}),[Me,Xe]=Yt("htmlInput",{elementType:"input",externalForwardedProps:he,ownerState:W}),[ke,Ye]=Yt("formHelperText",{elementType:D4,externalForwardedProps:he,ownerState:W}),[ye,We]=Yt("select",{elementType:$4,externalForwardedProps:he,ownerState:W}),Ge=e.jsx(de,{"aria-describedby":se,autoComplete:r,autoFocus:i,defaultValue:m,fullWidth:v,multiline:T,name:R,rows:K,maxRows:E,minRows:D,type:H,value:F,id:te,inputRef:C,onBlur:z,onChange:O,onFocus:$,placeholder:A,inputProps:Xe,slots:{input:V.htmlInput?Me:void 0},...we});return e.jsxs(ge,{...le,children:[P!=null&&P!==""&&e.jsx(Ae,{htmlFor:te,id:ae,...Fe,children:P}),U?e.jsx(ye,{"aria-describedby":se,id:te,labelId:ae,value:F,input:Ge,...We,children:o}):Ge,_&&e.jsx(ke,{id:se,...Ye,children:_})]})}),fg=g9({themeId:Gi}),Oc=7,G=({children:t,variant:s="contained",color:a="primary",size:n="medium",loading:r=!1,loadingText:i,fullWidth:o=!1,disabled:l=!1,startIcon:c,endIcon:m,onClick:u,type:h="button",sx:f,className:v,..._})=>e.jsx(po,{disableElevation:!0,variant:s,color:a,size:n,fullWidth:o,disabled:l||r,startIcon:r?e.jsx(wo,{size:16,color:"inherit"}):c,endIcon:r?void 0:m,onClick:u,type:h,sx:f,className:v,..._,children:r&&i?i:t}),Ky="/assets/wrong-B_7z0xx9.png";let Xm=null,Qy=!1,Uh=null;const vR=()=>Xm?Promise.resolve(Xm):Uh||(Qy=!0,Uh=new Promise((t,s)=>{const a=new Image;a.onload=()=>{Xm=Ky,Qy=!1,t(Ky)},a.onerror=()=>{Qy=!1,Uh=null,s(new Error("Failed to load error illustration"))},a.src=Ky}),Uh);vR().catch(console.error);let Uw=class extends g.Component{constructor(s){super(s),this.state={hasError:!1,error:null,errorInfo:null,imageLoaded:!!Xm}}componentDidMount(){!Xm&&!Qy&&vR().then(()=>{this.setState({imageLoaded:!0})}).catch(console.error)}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){console.error("ErrorBoundary caught an error:",s,a),this.logErrorToService(s,a),this.props.onError&&this.props.onError(s,a),this.setState({error:s,errorInfo:a})}logErrorToService=(s,a)=>{const n={message:s.message,stack:s.stack,componentStack:a.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.error("Error logged:",n)};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleReload=()=>{window.location.reload()};render(){return this.state.hasError||this.props.showFallback?this.props.fallback?this.props.fallback:e.jsxs("div",{className:"min-h-screen flex-col w-full bg-white px-4 py-10 flex items-center justify-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center",children:this.state.imageLoaded||Xm?e.jsx("img",{src:Ky,alt:"Unexpected error",className:"w-full max-w-sm",loading:"eager",decoding:"sync"}):e.jsx("div",{className:"w-full max-w-sm h-64 bg-gray-100 animate-pulse rounded-lg"})}),e.jsxs("div",{className:"rounded-lg border flex flex-col justify-center items-center border-red-100 bg-red-50 px-6 py-4 text-left",children:[e.jsx("p",{className:"text-sm font-semibold text-red-700",children:"Something went wrong"}),e.jsx("p",{className:"mt-1 text-sm text-center text-red-600",children:"An unexpected error occurred while rendering this page."})]}),e.jsx("p",{className:"mt-4 text-sm text-center text-gray-500",children:"We apologize for the inconvenience. Please try refreshing the page or contact support if the problem persists."}),this.state.error&&e.jsxs("div",{className:"mt-6 rounded-lg border border-gray-200 bg-gray-50 p-4 text-left",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Error Details (Development Only):"}),e.jsxs("pre",{className:"mt-2 max-h-60 overflow-auto text-xs text-red-600 whitespace-pre-wrap break-words",children:[this.state.error.toString(),this.state.errorInfo?.componentStack&&e.jsxs(e.Fragment,{children:[`

Component Stack:
`,this.state.errorInfo.componentStack]})]})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-3",children:[e.jsx(G,{variant:"contained",className:"!min-w-[120px]",onClick:this.handleReset,children:"Try Again"}),e.jsx(G,{variant:"outlined",className:"!min-w-[120px]",onClick:this.handleReload,children:"Reload"})]}),e.jsxs("p",{className:"mt-4 text-xs text-gray-400",children:["Error ID: ",Date.now()]})]}):this.props.children}};var jR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qE=Nt.createContext&&Nt.createContext(jR),zse=["attr","size","title"];function $se(t,s){if(t==null)return{};var a=qse(t,s),n,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],!(s.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function qse(t,s){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(s.indexOf(n)>=0)continue;a[n]=t[n]}return a}function vb(){return vb=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},vb.apply(this,arguments)}function BE(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function jb(t){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?BE(Object(a),!0).forEach(function(n){Bse(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):BE(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Bse(t,s,a){return s=Use(s),s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}function Use(t){var s=Vse(t,"string");return typeof s=="symbol"?s:s+""}function Vse(t,s){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,s);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function NR(t){return t&&t.map((s,a)=>Nt.createElement(s.tag,jb({key:a},s.attr),NR(s.child)))}function wa(t){return s=>Nt.createElement(Hse,vb({attr:jb({},t.attr)},s),NR(t.child))}function Hse(t){var s=a=>{var{attr:n,size:r,title:i}=t,o=$se(t,zse),l=r||a.size||"1em",c;return a.className&&(c=a.className),t.className&&(c=(c?c+" ":"")+t.className),Nt.createElement("svg",vb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,n,o,{className:c,style:jb(jb({color:t.color||a.color},a.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&Nt.createElement("title",null,i),t.children)};return qE!==void 0?Nt.createElement(qE.Consumer,null,a=>s(a)):s(jR)}function iy(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"},child:[]}]})(t)}function Wse(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"},child:[]}]})(t)}function Yse(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"},child:[]}]})(t)}function Gse(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(t)}function Kse(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"},child:[]}]})(t)}function uN(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function Qse(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function Zse(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"},child:[]}]})(t)}function Xse(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"},child:[]}]})(t)}function UE(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(t)}function Jse(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"},child:[]}]})(t)}function VE(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(t)}function eae(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}function tae(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 9h4v11H4zM16 13h4v7h-4zM10 4h4v16h-4z"},child:[]}]})(t)}function sae(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"},child:[]}]})(t)}function aae(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 2-5.5 9h11z"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"4.5"},child:[]},{tag:"path",attr:{d:"M3 13.5h8v8H3z"},child:[]}]})(t)}function nae(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9 1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"},child:[]}]})(t)}function HE(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"},child:[]}]})(t)}function rae(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 15.18V7c0-2.21-1.79-4-4-4s-4 1.79-4 4v10c0 1.1-.9 2-2 2s-2-.9-2-2V8.82C8.16 8.4 9 7.3 9 6c0-1.66-1.34-3-3-3S3 4.34 3 6c0 1.3.84 2.4 2 2.82V17c0 2.21 1.79 4 4 4s4-1.79 4-4V7c0-1.1.9-2 2-2s2 .9 2 2v8.18A2.996 2.996 0 0 0 18 21c1.66 0 3-1.34 3-3 0-1.3-.84-2.4-2-2.82z"},child:[]}]})(t)}function iae(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 21V7L12 3 2 7v14h5v-9h10v9h5zm-11-2H9v2h2v-2zm2-3h-2v2h2v-2zm2 3h-2v2h2v-2z"},child:[]}]})(t)}function oae(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},child:[]}]})(t)}function lae(t){return wa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(t)}const wR=[{id:"dashboards",label:"Dashboards",children:[{id:"executive-dashboard",label:"Executive Dashboard",icon:Yse,href:"/dashboard/executive"}]},{id:"masters",label:"Masters",children:[{id:"organization-setup",label:"Organization Setup",icon:Jse,children:[{id:"user-master",label:"User Master",href:"/masters/users"},{id:"role-permission",label:"Role & Permission Setup",href:"/masters/roles"},{id:"zones",label:"Zones",href:"/masters/zones"},{id:"depots",label:"Depots",href:"/masters/depots"},{id:"currency",label:"Currency",href:"/masters/currency"}]},{id:"operations-logistics",label:"Operations & Logistics",icon:nae,children:[{id:"vehicle-master",label:"Vehicle Master",href:"/masters/vehicles"},{id:"asset-types",label:"Asset Types",href:"/masters/asset-types"},{id:"asset-master",label:"Asset Master",href:"/masters/asset-master"},{id:"route-types",label:"Route Types",href:"/masters/route-types"},{id:"routes",label:"Routes",href:"/masters/routes"}]},{id:"customer-outlet-management",label:"Outlet Management",icon:Zse,children:[{id:"outlet-groups",label:"Outlet Groups",href:"/masters/outlet-groups"},{id:"outlet-master",label:"Outlet Master",href:"/masters/outlets"},{id:"outlet-type",label:"Outlet Type",href:"/masters/outlet-type"},{id:"outlet-channel",label:"Outlet Channel",href:"/masters/outlet-channel"},{id:"outlet-category",label:"Outlet Category",href:"/masters/outlet-category"}]},{id:"product-pricing-setup",label:"Product & Pricing Setup",icon:aae,children:[{id:"brands",label:"Brands",href:"/masters/brands"},{id:"product-categories",label:"Categories",href:"/masters/product-categories"},{id:"product-sub-categories",label:"Sub Categories",href:"/masters/product-sub-categories"},{id:"unit-of-measurement",label:"Unit of Measurement",href:"/masters/unit-of-measurement"},{id:"sub-unit-of-measurement",label:"Sub Unit of Measurement",href:"/masters/sub-unit-of-measurement"},{id:"product-flavours",label:"Flavours",href:"/masters/product-flavours"},{id:"product-volumes",label:"Volumes",href:"/masters/product-volumes"},{id:"product-shelf-life",label:"Shelf Life",href:"/masters/product-shelf-life"},{id:"product-types",label:"Product Types",href:"/masters/product-types"},{id:"product-target-groups",label:"Product Target Groups",href:"/masters/product-target-groups"},{id:"product-web-orders",label:"Web Orders",href:"/masters/product-web-orders"},{id:"tax-master",label:"Tax Master",href:"/masters/tax-master"},{id:"product-catalog",label:"Product Catalog",href:"/masters/products"}]},{id:"sales-planning-targets",label:"Sales Planning & Targets",icon:UE,children:[{id:"sales-target-groups",label:"Sales Target Groups",href:"/masters/sales-target-groups"},{id:"sales-targets",label:"Sales Targets",href:"/masters/sales-targets"},{id:"kpi-targets",label:"KPI Targets",href:"/masters/kpi-targets"},{id:"sales-bonus-rules",label:"Sales Bonus Rules",href:"/masters/sales-bonus-rules"}]},{id:"feedback-engagement",label:"Feedback & Engagement",icon:iy,children:[{id:"survey-templates",label:"Survey Templates",href:"/masters/surveys"},{id:"customer-complaints",label:"Customer Complaints",href:"/masters/customer-complaints"},{id:"promotions",label:"Promotions",href:"/masters/promotions"}]}]},{id:"transactions",label:"Transactions",children:[{id:"sales-operations",label:"Sales Operations",icon:Qse,children:[{id:"order-entry",label:"Order Entry",href:"/transactions/orders"},{id:"invoice-management",label:"Invoice Management",href:"/transactions/invoices"},{id:"inventory-items",label:"Inventory Items",href:"/masters/inventory-items"},{id:"payment-collection",label:"Payment Collection",href:"/transactions/payments"}]},{id:"asset-cooler-management",label:"Asset & Cooler Management",icon:Wse,children:[{id:"asset-movement",label:"Asset Movement",href:"/transactions/asset-movement"},{id:"asset-maintenance",label:"Asset Maintenance",href:"/transactions/maintenance"},{id:"cooler-types",label:"Cooler Types",href:"/masters/cooler-types"},{id:"cooler-sub-types",label:"Cooler Sub Types",href:"/masters/cooler-sub-types"},{id:"cooler-installations",label:"Cooler Installations",href:"/transactions/installations"},{id:"cooler-inspections",label:"Cooler Inspections",href:"/transactions/inspections"}]},{id:"van-warehouse-stock",label:"Van & Stock Operations",icon:iae,children:[{id:"van-stock",label:"Van Stock Load/Unload",href:"/transactions/van-stock"},{id:"stock-movements",label:"Stock Movements",href:"/transactions/stock-movements"}]},{id:"field-visit-market",label:"Field Visit & Market Activities",icon:VE,children:[{id:"visit-logging",label:"Visit Logging",href:"/transactions/visits"},{id:"competitor-activity",label:"Competitor Activity",href:"/transactions/competitor"}]}]},{id:"tracking",label:"Tracking",children:[{id:"rep-location",label:"Rep Location Tracking",icon:HE,href:"/tracking/location"},{id:"route-effectiveness",label:"Route Effectiveness",icon:rae,href:"/tracking/routes"}]},{id:"reports",label:"Reports",children:[{id:"orders-invoices-returns",label:"Orders, Invoices, Returns",icon:Kse,href:"/reports/orders"},{id:"sales-vs-target",label:"Sales vs Target",icon:UE,href:"/reports/sales-target"},{id:"asset-movement-status",label:"Asset Movement/Status",icon:Xse,href:"/reports/asset-status"},{id:"visit-frequency",label:"Visit Frequency/Completion",icon:VE,href:"/reports/visits"},{id:"promo-effectiveness",label:"Promo Effectiveness",icon:eae,href:"/reports/promos"},{id:"region-territory",label:"Region/Territory Sales",icon:HE,href:"/reports/territory"},{id:"rep-productivity",label:"Rep Productivity",icon:lae,href:"/reports/productivity"},{id:"competitor-analysis",label:"Competitor Analysis",icon:tae,href:"/reports/competitor"},{id:"outstanding-collection",label:"Outstanding & Collection",icon:Gse,href:"/reports/collection"},{id:"attendance-history",label:"Attendance History",icon:iy,href:"/reports/attendance-history"},{id:"activity-logs",label:"Audit Logs",icon:sae,href:"/reports/audit-logs"},{id:"survey-responses",label:"Survey Responses",icon:iy,href:"/reports/survey-responses"}]},{id:"workflows",label:"Workflows",children:[{id:"approval-setup",label:"Approval Setup",icon:uN,href:"/workflows/approval-setup"},{id:"approval-requests",label:"Approval Requests",icon:oae,href:"/workflows/approvals"}]},{id:"settings",label:"Settings",children:[{id:"login-history",label:"Login History",icon:iy,href:"/settings/login-history"},{id:"api-tokens",label:"API Tokens",icon:uN,href:"/settings/tokens"},{id:"system-settings",label:"System Settings",icon:uN,href:"/settings/system"}]}],mN=["dashboard","company","user","role","depot","zone","currency","route","route-type","outlet","outlet-group","asset-type","asset-master","warehouse","vehicle","brand","product-category","product-sub-category","unit-of-measurement","subunit-of-measurement","product","pricelist","sales-target-group","sales-target","sales-bonus-rule","kpi-target","survey","promotions","order","delivery","return","payment","invoice","credit-note","visit","asset-movement","maintenance","installation","inspection","van-stock","stock-movement","stock-transfer","batch-lots","inventory-items","inventory-management","competitor","customer-complaint","customer-category","customer-type","customer-channel","product-flavour","product-volume","product-shelf-life","product-type","product-target-group","product-web-order","cooler-type","cooler-sub-type","tax-master","location","route-effectiveness","erp-sync","report","approval","exception","alert","profile","login-history","token","setting"],WE={"executive-dashboard":"dashboard","company-master":"company","user-master":"user","role-permission":"role","outlet-master":"outlet","outlet-groups":"outlet-group","asset-types":"asset-type","asset-master":"asset-master","warehouse-master":"warehouse","vehicle-master":"vehicle","product-categories":"product-category","product-sub-categories":"product-sub-category","unit-of-measurement":"unit-of-measurement","product-flavours":"product-flavour","product-volumes":"product-volume","product-shelf-life":"product-shelf-life","product-types":"product-type","product-target-groups":"product-target-group","product-web-orders":"product-web-order","cooler-types":"cooler-type","cooler-sub-types":"cooler-sub-type","tax-master":"tax-master","product-catalog":"product",pricelists:"pricelist","price-lists":"pricelist","sales-target-groups":"sales-target-group","sales-targets":"sales-target","sales-bonus-rules":"sales-bonus-rule","kpi-targets":"kpi-target","survey-templates":"survey","customer-complaints":"customer-complaint","customer-category":"customer-category","customer-type":"customer-type","outlet-channel":"customer-channel","order-entry":"order","delivery-scheduling":"delivery","delivery-schedule":"delivery","return-requests":"return","return-request":"return","payment-collection":"payment","invoice-management":"invoice","credit-notes":"credit-note","visit-logging":"visit","asset-movement":"asset-movement","asset-maintenance":"maintenance","cooler-installations":"installation","cooler-inspections":"inspection","van-stock":"van-stock","stock-movements":"stock-movement","stock-transfer-requests":"stock-transfer","batch-lots":"batch-lots","batch-lot-management":"batch-lots","inventory-stock":"inventory-management","inventory-management":"inventory-management","competitor-activity":"competitor","rep-location":"report","rep-location-tracking":"location","route-effectiveness":"route-effectiveness","orders-invoices-returns":"report","sales-vs-target":"report","asset-movement-status":"report","visit-frequency":"report","promo-effectiveness":"report","region-territory":"report","rep-productivity":"report","competitor-analysis":"report","outstanding-collection":"report","attendance-history":"report","sales-reports":"report","inventory-reports":"report","financial-reports":"report","performance-reports":"report","erp-sync-logs":"erp-sync","activity-logs":"report","survey-responses":"survey","approval-setup":"approval","approval-requests":"approval","route-exceptions":"exception","alerts-reminders":"alert",profile:"profile","login-history":"login-history","api-tokens":"token","system-settings":"setting"};function cae(t){const s=[];function a(n){n.forEach(r=>{r.href&&s.push(r.id),r.children&&a(r.children)})}return a(t),s}function dae(t){if(WE[t])return WE[t];const s=t.toLowerCase().replace(/-/g,"-");if(mN.includes(s))return s;const a=s.endsWith("s")?s.slice(0,-1):s;if(mN.includes(a))return a;const n=mN.find(r=>r.includes(s)||s.includes(r));return n||(console.warn(`  No permission mapping found for menu item: ${t}`),null)}function uae(){const t=cae(wR),s={};return t.forEach(a=>{const n=dae(a);n&&(s[a]=n)}),s}const mae=uae();var Ep=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pae={setTimeout:(t,s)=>setTimeout(t,s),clearTimeout:t=>clearTimeout(t),setInterval:(t,s)=>setInterval(t,s),clearInterval:t=>clearInterval(t)},hae=class{#e=pae;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,s){return this.#e.setTimeout(t,s)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,s){return this.#e.setInterval(t,s)}clearInterval(t){this.#e.clearInterval(t)}},Xd=new hae;function fae(t){setTimeout(t,0)}var uu=typeof window>"u"||"Deno"in globalThis;function br(){}function xae(t,s){return typeof t=="function"?t(s):t}function Vw(t){return typeof t=="number"&&t>=0&&t!==1/0}function _R(t,s){return Math.max(t+(s||0)-Date.now(),0)}function Hc(t,s){return typeof t=="function"?t(s):t}function qi(t,s){return typeof t=="function"?t(s):t}function YE(t,s){const{type:a="all",exact:n,fetchStatus:r,predicate:i,queryKey:o,stale:l}=t;if(o){if(n){if(s.queryHash!==q4(o,s.options))return!1}else if(!Nx(s.queryKey,o))return!1}if(a!=="all"){const c=s.isActive();if(a==="active"&&!c||a==="inactive"&&c)return!1}return!(typeof l=="boolean"&&s.isStale()!==l||r&&r!==s.state.fetchStatus||i&&!i(s))}function GE(t,s){const{exact:a,status:n,predicate:r,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(a){if(mu(s.options.mutationKey)!==mu(i))return!1}else if(!Nx(s.options.mutationKey,i))return!1}return!(n&&s.state.status!==n||r&&!r(s))}function q4(t,s){return(s?.queryKeyHashFn||mu)(t)}function mu(t){return JSON.stringify(t,(s,a)=>Hw(a)?Object.keys(a).sort().reduce((n,r)=>(n[r]=a[r],n),{}):a)}function Nx(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(a=>Nx(t[a],s[a])):!1}var gae=Object.prototype.hasOwnProperty;function SR(t,s){if(t===s)return t;const a=KE(t)&&KE(s);if(!a&&!(Hw(t)&&Hw(s)))return s;const r=(a?t:Object.keys(t)).length,i=a?s:Object.keys(s),o=i.length,l=a?new Array(o):{};let c=0;for(let m=0;m<o;m++){const u=a?m:i[m],h=t[u],f=s[u];if(h===f){l[u]=h,(a?m<r:gae.call(t,u))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[u]=f;continue}const v=SR(h,f);l[u]=v,v===h&&c++}return r===o&&c===r?t:l}function Nb(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const a in t)if(t[a]!==s[a])return!1;return!0}function KE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hw(t){if(!QE(t))return!1;const s=t.constructor;if(s===void 0)return!0;const a=s.prototype;return!(!QE(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function QE(t){return Object.prototype.toString.call(t)==="[object Object]"}function yae(t){return new Promise(s=>{Xd.setTimeout(s,t)})}function Ww(t,s,a){return typeof a.structuralSharing=="function"?a.structuralSharing(t,s):a.structuralSharing!==!1?SR(t,s):s}function bae(t,s,a=0){const n=[...t,s];return a&&n.length>a?n.slice(1):n}function vae(t,s,a=0){const n=[s,...t];return a&&n.length>a?n.slice(0,-1):n}var B4=Symbol();function CR(t,s){return!t.queryFn&&s?.initialPromise?()=>s.initialPromise:!t.queryFn||t.queryFn===B4?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function kR(t,s){return typeof t=="function"?t(...s):!!t}var jae=class extends Ep{#e;#t;#s;constructor(){super(),this.#s=t=>{if(!uu&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},U4=new jae;function Yw(){let t,s;const a=new Promise((r,i)=>{t=r,s=i});a.status="pending",a.catch(()=>{});function n(r){Object.assign(a,r),delete a.resolve,delete a.reject}return a.resolve=r=>{n({status:"fulfilled",value:r}),t(r)},a.reject=r=>{n({status:"rejected",reason:r}),s(r)},a}var Nae=fae;function wae(){let t=[],s=0,a=l=>{l()},n=l=>{l()},r=Nae;const i=l=>{s?t.push(l):r(()=>{a(l)})},o=()=>{const l=t;t=[],l.length&&r(()=>{n(()=>{l.forEach(c=>{a(c)})})})};return{batch:l=>{let c;s++;try{c=l()}finally{s--,s||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{a=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{r=l}}}var Mn=wae(),_ae=class extends Ep{#e=!0;#t;#s;constructor(){super(),this.#s=t=>{if(!uu&&window.addEventListener){const s=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(a=>{a(t)}))}isOnline(){return this.#e}},wb=new _ae;function Sae(t){return Math.min(1e3*2**t,3e4)}function PR(t){return(t??"online")==="online"?wb.isOnline():!0}var Gw=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function ER(t){let s=!1,a=0,n;const r=Yw(),i=()=>r.status!=="pending",o=S=>{if(!i()){const j=new Gw(S);f(j),t.onCancel?.(j)}},l=()=>{s=!0},c=()=>{s=!1},m=()=>U4.isFocused()&&(t.networkMode==="always"||wb.isOnline())&&t.canRun(),u=()=>PR(t.networkMode)&&t.canRun(),h=S=>{i()||(n?.(),r.resolve(S))},f=S=>{i()||(n?.(),r.reject(S))},v=()=>new Promise(S=>{n=j=>{(i()||m())&&S(j)},t.onPause?.()}).then(()=>{n=void 0,i()||t.onContinue?.()}),_=()=>{if(i())return;let S;const j=a===0?t.initialPromise:void 0;try{S=j??t.fn()}catch(b){S=Promise.reject(b)}Promise.resolve(S).then(h).catch(b=>{if(i())return;const w=t.retry??(uu?0:3),C=t.retryDelay??Sae,P=typeof C=="function"?C(a,b):C,E=w===!0||typeof w=="number"&&a<w||typeof w=="function"&&w(a,b);if(s||!E){f(b);return}a++,t.onFail?.(a,b),yae(P).then(()=>m()?void 0:v()).then(()=>{s?f(b):_()})})};return{promise:r,status:()=>r.status,cancel:o,continue:()=>(n?.(),r),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?_():v().then(_),r)}}var TR=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Vw(this.gcTime)&&(this.#e=Xd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(uu?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Xd.clearTimeout(this.#e),this.#e=void 0)}},Cae=class extends TR{#e;#t;#s;#n;#a;#i;#o;constructor(t){super(),this.#o=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#s=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=XE(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=XE(this.options);s.data!==void 0&&(this.setState(ZE(s.data,s.dataUpdatedAt)),this.#e=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(t,s){const a=Ww(this.state.data,t,this.options);return this.#r({data:a,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),a}setState(t,s){this.#r({type:"setState",state:t,setStateOptions:s})}cancel(t){const s=this.#a?.promise;return this.#a?.cancel(t),s?s.then(br).catch(br):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>qi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===B4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Hc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!_R(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(this.#a&&(this.#o?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(t,s){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const a=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,a.signal)})},r=()=>{const l=CR(this.options,s),m=(()=>{const u={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(u),u})();return this.#o=!1,this.options.persister?this.options.persister(l,m,this):l(m)},o=(()=>{const l={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:r};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#r({type:"fetch",meta:o.fetchOptions?.meta}),this.#a=ER({initialPromise:s?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof Gw&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(l,c)=>{this.#r({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#a.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#s.config.onSuccess?.(l,this),this.#s.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof Gw){if(l.silent)return this.#a.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#r({type:"error",error:l}),this.#s.config.onError?.(l,this),this.#s.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#r(t){const s=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...MR(a.data,this.options),fetchMeta:t.meta??null};case"success":const n={...a,...ZE(t.data,t.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?n:void 0,n;case"error":const r=t.error;return{...a,error:r,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=s(this.state),Mn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:t})})}};function MR(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PR(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ZE(t,s){return{data:t,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function XE(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,a=s!==void 0,n=a?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:a?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var kae=class extends Ep{constructor(t,s){super(),this.options=s,this.#e=t,this.#r=null,this.#o=Yw(),this.bindMethods(),this.setOptions(s)}#e;#t=void 0;#s=void 0;#n=void 0;#a;#i;#o;#r;#f;#m;#p;#c;#d;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),JE(this.#t,this.options)?this.#u():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kw(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kw(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#j(),this.#t.removeObserver(this)}setOptions(t){const s=this.options,a=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),s._defaulted&&!Nb(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&e8(this.#t,a,this.options,s)&&this.#u(),this.updateResult(),n&&(this.#t!==a||qi(this.options.enabled,this.#t)!==qi(s.enabled,this.#t)||Hc(this.options.staleTime,this.#t)!==Hc(s.staleTime,this.#t))&&this.#x();const r=this.#g();n&&(this.#t!==a||qi(this.options.enabled,this.#t)!==qi(s.enabled,this.#t)||r!==this.#l)&&this.#y(r)}getOptimisticResult(t){const s=this.#e.getQueryCache().build(this.#e,t),a=this.createResult(s,t);return Eae(this,a)&&(this.#n=a,this.#i=this.options,this.#a=this.#t.state),a}getCurrentResult(){return this.#n}trackResult(t,s){return new Proxy(t,{get:(a,n)=>(this.trackProp(n),s?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,n))})}trackProp(t){this.#h.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=this.#e.defaultQueryOptions(t),a=this.#e.getQueryCache().build(this.#e,s);return a.fetch().then(()=>this.createResult(a,s))}fetch(t){return this.#u({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(t){this.#N();let s=this.#t.fetch(this.options,t);return t?.throwOnError||(s=s.catch(br)),s}#x(){this.#v();const t=Hc(this.options.staleTime,this.#t);if(uu||this.#n.isStale||!Vw(t))return;const a=_R(this.#n.dataUpdatedAt,t)+1;this.#c=Xd.setTimeout(()=>{this.#n.isStale||this.updateResult()},a)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#j(),this.#l=t,!(uu||qi(this.options.enabled,this.#t)===!1||!Vw(this.#l)||this.#l===0)&&(this.#d=Xd.setInterval(()=>{(this.options.refetchIntervalInBackground||U4.isFocused())&&this.#u()},this.#l))}#b(){this.#x(),this.#y(this.#g())}#v(){this.#c&&(Xd.clearTimeout(this.#c),this.#c=void 0)}#j(){this.#d&&(Xd.clearInterval(this.#d),this.#d=void 0)}createResult(t,s){const a=this.#t,n=this.options,r=this.#n,i=this.#a,o=this.#i,c=t!==a?t.state:this.#s,{state:m}=t;let u={...m},h=!1,f;if(s._optimisticResults){const R=this.hasListeners(),z=!R&&JE(t,s),O=R&&e8(t,a,s,n);(z||O)&&(u={...u,...MR(m.data,t.options)}),s._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:v,errorUpdatedAt:_,status:S}=u;f=u.data;let j=!1;if(s.placeholderData!==void 0&&f===void 0&&S==="pending"){let R;r?.isPlaceholderData&&s.placeholderData===o?.placeholderData?(R=r.data,j=!0):R=typeof s.placeholderData=="function"?s.placeholderData(this.#p?.state.data,this.#p):s.placeholderData,R!==void 0&&(S="success",f=Ww(r?.data,R,s),h=!0)}if(s.select&&f!==void 0&&!j)if(r&&f===i?.data&&s.select===this.#f)f=this.#m;else try{this.#f=s.select,f=s.select(f),f=Ww(r?.data,f,s),this.#m=f,this.#r=null}catch(R){this.#r=R}this.#r&&(v=this.#r,f=this.#m,_=Date.now(),S="error");const b=u.fetchStatus==="fetching",w=S==="pending",C=S==="error",P=w&&b,E=f!==void 0,T={status:S,fetchStatus:u.fetchStatus,isPending:w,isSuccess:S==="success",isError:C,isInitialLoading:P,isLoading:P,data:f,dataUpdatedAt:u.dataUpdatedAt,error:v,errorUpdatedAt:_,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:C&&!E,isPaused:u.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:C&&E,isStale:V4(t,s),refetch:this.refetch,promise:this.#o,isEnabled:qi(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=$=>{T.status==="error"?$.reject(T.error):T.data!==void 0&&$.resolve(T.data)},z=()=>{const $=this.#o=T.promise=Yw();R($)},O=this.#o;switch(O.status){case"pending":t.queryHash===a.queryHash&&R(O);break;case"fulfilled":(T.status==="error"||T.data!==O.value)&&z();break;case"rejected":(T.status!=="error"||T.error!==O.reason)&&z();break}}return T}updateResult(){const t=this.#n,s=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#i=this.options,this.#a.data!==void 0&&(this.#p=this.#t),Nb(s,t))return;this.#n=s;const a=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,r=typeof n=="function"?n():n;if(r==="all"||!r&&!this.#h.size)return!0;const i=new Set(r??this.#h);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(o=>{const l=o;return this.#n[l]!==t[l]&&i.has(l)})};this.#w({listeners:a()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const s=this.#t;this.#t=t,this.#s=t.state,this.hasListeners()&&(s?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#w(t){Mn.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Pae(t,s){return qi(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function JE(t,s){return Pae(t,s)||t.state.data!==void 0&&Kw(t,s,s.refetchOnMount)}function Kw(t,s,a){if(qi(s.enabled,t)!==!1&&Hc(s.staleTime,t)!=="static"){const n=typeof a=="function"?a(t):a;return n==="always"||n!==!1&&V4(t,s)}return!1}function e8(t,s,a,n){return(t!==s||qi(n.enabled,t)===!1)&&(!a.suspense||t.state.status!=="error")&&V4(t,a)}function V4(t,s){return qi(s.enabled,t)!==!1&&t.isStaleByTime(Hc(s.staleTime,t))}function Eae(t,s){return!Nb(t.getCurrentResult(),s)}function t8(t){return{onFetch:(s,a)=>{const n=s.options,r=s.fetchOptions?.meta?.fetchMore?.direction,i=s.state.data?.pages||[],o=s.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const m=async()=>{let u=!1;const h=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(s.signal.aborted?u=!0:s.signal.addEventListener("abort",()=>{u=!0}),s.signal)})},f=CR(s.options,s.fetchOptions),v=async(_,S,j)=>{if(u)return Promise.reject();if(S==null&&_.pages.length)return Promise.resolve(_);const w=(()=>{const D={client:s.client,queryKey:s.queryKey,pageParam:S,direction:j?"backward":"forward",meta:s.options.meta};return h(D),D})(),C=await f(w),{maxPages:P}=s.options,E=j?vae:bae;return{pages:E(_.pages,C,P),pageParams:E(_.pageParams,S,P)}};if(r&&i.length){const _=r==="backward",S=_?Tae:s8,j={pages:i,pageParams:o},b=S(n,j);l=await v(j,b,_)}else{const _=t??i.length;do{const S=c===0?o[0]??n.initialPageParam:s8(n,l);if(c>0&&S==null)break;l=await v(l,S),c++}while(c<_)}return l};s.options.persister?s.fetchFn=()=>s.options.persister?.(m,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},a):s.fetchFn=m}}}function s8(t,{pages:s,pageParams:a}){const n=s.length-1;return s.length>0?t.getNextPageParam(s[n],s,a[n],a):void 0}function Tae(t,{pages:s,pageParams:a}){return s.length>0?t.getPreviousPageParam?.(s[0],s,a[0],a):void 0}var Mae=class extends TR{#e;#t;#s;#n;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#s=t.mutationCache,this.#t=[],this.state=t.state||DR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(s=>s!==t),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const s=()=>{this.#a({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#n=ER({fn:()=>this.options.mutationFn?this.options.mutationFn(t,a):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#a({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#a({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)s();else{this.#a({type:"pending",variables:t,isPaused:r}),await this.#s.config.onMutate?.(t,this,a);const o=await this.options.onMutate?.(t,a);o!==this.state.context&&this.#a({type:"pending",context:o,variables:t,isPaused:r})}const i=await this.#n.start();return await this.#s.config.onSuccess?.(i,t,this.state.context,this,a),await this.options.onSuccess?.(i,t,this.state.context,a),await this.#s.config.onSettled?.(i,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(i,null,t,this.state.context,a),this.#a({type:"success",data:i}),i}catch(i){try{throw await this.#s.config.onError?.(i,t,this.state.context,this,a),await this.options.onError?.(i,t,this.state.context,a),await this.#s.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,i,t,this.state.context,a),i}finally{this.#a({type:"error",error:i})}}finally{this.#s.runNext(this)}}#a(t){const s=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Mn.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(t)}),this.#s.notify({mutation:this,type:"updated",action:t})})}};function DR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dae=class extends Ep{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(t,s,a){const n=new Mae({client:t,mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(s),state:a});return this.add(n),n}add(t){this.#e.add(t);const s=oy(t);if(typeof s=="string"){const a=this.#t.get(s);a?a.push(t):this.#t.set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const s=oy(t);if(typeof s=="string"){const a=this.#t.get(s);if(a)if(a.length>1){const n=a.indexOf(t);n!==-1&&a.splice(n,1)}else a[0]===t&&this.#t.delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=oy(t);if(typeof s=="string"){const n=this.#t.get(s)?.find(r=>r.state.status==="pending");return!n||n===t}else return!0}runNext(t){const s=oy(t);return typeof s=="string"?this.#t.get(s)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Mn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const s={exact:!0,...t};return this.getAll().find(a=>GE(s,a))}findAll(t={}){return this.getAll().filter(s=>GE(t,s))}notify(t){Mn.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Mn.batch(()=>Promise.all(t.map(s=>s.continue().catch(br))))}};function oy(t){return t.options.scope?.id}var Rae=class extends Ep{#e;#t=void 0;#s;#n;constructor(s,a){super(),this.#e=s,this.setOptions(a),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){const a=this.options;this.options=this.#e.defaultMutationOptions(s),Nb(this.options,a)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),a?.mutationKey&&this.options.mutationKey&&mu(a.mutationKey)!==mu(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(s){this.#a(),this.#i(s)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#i()}mutate(s,a){return this.#n=a,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(s)}#a(){const s=this.#s?.state??DR();this.#t={...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset}}#i(s){Mn.batch(()=>{if(this.#n&&this.hasListeners()){const a=this.#t.variables,n=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};s?.type==="success"?(this.#n.onSuccess?.(s.data,a,n,r),this.#n.onSettled?.(s.data,null,a,n,r)):s?.type==="error"&&(this.#n.onError?.(s.error,a,n,r),this.#n.onSettled?.(void 0,s.error,a,n,r))}this.listeners.forEach(a=>{a(this.#t)})})}},Aae=class extends Ep{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,s,a){const n=s.queryKey,r=s.queryHash??q4(n,s);let i=this.get(r);return i||(i=new Cae({client:t,queryKey:n,queryHash:r,options:t.defaultQueryOptions(s),state:a,defaultOptions:t.getQueryDefaults(n)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=this.#e.get(t.queryHash);s&&(t.destroy(),s===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Mn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const s={exact:!0,...t};return this.getAll().find(a=>YE(s,a))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(a=>YE(t,a)):s}notify(t){Mn.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Mn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Mn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Iae=class{#e;#t;#s;#n;#a;#i;#o;#r;constructor(t={}){this.#e=t.queryCache||new Aae,this.#t=t.mutationCache||new Dae,this.#s=t.defaultOptions||{},this.#n=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=U4.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=wb.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),a=this.#e.build(this,s),n=a.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&a.isStaleByTime(Hc(s.staleTime,a))&&this.prefetchQuery(s),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:s,state:a})=>{const n=a.data;return[s,n]})}setQueryData(t,s,a){const n=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(n.queryHash)?.state.data,o=xae(s,i);if(o!==void 0)return this.#e.build(this,n).setData(o,{...a,manual:!0})}setQueriesData(t,s,a){return Mn.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,s,a)]))}getQueryState(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state}removeQueries(t){const s=this.#e;Mn.batch(()=>{s.findAll(t).forEach(a=>{s.remove(a)})})}resetQueries(t,s){const a=this.#e;return Mn.batch(()=>(a.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const a={revert:!0,...s},n=Mn.batch(()=>this.#e.findAll(t).map(r=>r.cancel(a)));return Promise.all(n).then(br).catch(br)}invalidateQueries(t,s={}){return Mn.batch(()=>(this.#e.findAll(t).forEach(a=>{a.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},s)))}refetchQueries(t,s={}){const a={...s,cancelRefetch:s.cancelRefetch??!0},n=Mn.batch(()=>this.#e.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,a);return a.throwOnError||(i=i.catch(br)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(br)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const a=this.#e.build(this,s);return a.isStaleByTime(Hc(s.staleTime,a))?a.fetch(s):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(br).catch(br)}fetchInfiniteQuery(t){return t.behavior=t8(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(br).catch(br)}ensureInfiniteQueryData(t){return t.behavior=t8(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return wb.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,s){this.#n.set(mu(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...this.#n.values()],a={};return s.forEach(n=>{Nx(t,n.queryKey)&&Object.assign(a,n.defaultOptions)}),a}setMutationDefaults(t,s){this.#a.set(mu(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...this.#a.values()],a={};return s.forEach(n=>{Nx(t,n.mutationKey)&&Object.assign(a,n.defaultOptions)}),a}defaultQueryOptions(t){if(t._defaulted)return t;const s={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=q4(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===B4&&(s.enabled=!1),s}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},RR=g.createContext(void 0),cs=t=>{const s=g.useContext(RR);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},Oae=({client:t,children:s})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(RR.Provider,{value:t,children:s})),AR=g.createContext(!1),Fae=()=>g.useContext(AR);AR.Provider;function Lae(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var zae=g.createContext(Lae()),$ae=()=>g.useContext(zae),qae=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},Bae=t=>{g.useEffect(()=>{t.clearReset()},[t])},Uae=({result:t,errorResetBoundary:s,throwOnError:a,query:n,suspense:r})=>t.isError&&!s.isReset()&&!t.isFetching&&n&&(r&&t.data===void 0||kR(a,[t.error,n])),Vae=t=>{if(t.suspense){const a=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>a(n(...r)):a(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Hae=(t,s)=>t.isLoading&&t.isFetching&&!s,Wae=(t,s)=>t?.suspense&&s.isPending,a8=(t,s,a)=>s.fetchOptimistic(t).catch(()=>{a.clearReset()});function Yae(t,s,a){const n=Fae(),r=$ae(),i=cs(),o=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",Vae(o),qae(o,r),Bae(r);const l=!i.getQueryCache().get(o.queryHash),[c]=g.useState(()=>new s(i,o)),m=c.getOptimisticResult(o),u=!n&&t.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(h=>{const f=u?c.subscribe(Mn.batchCalls(h)):br;return c.updateResult(),f},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(o)},[o,c]),Wae(o,m))throw a8(o,c,r);if(Uae({result:m,errorResetBoundary:r,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw m.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,m),o.experimental_prefetchInRender&&!uu&&Hae(m,n)&&(l?a8(o,c,r):i.getQueryCache().get(o.queryHash)?.promise)?.catch(br).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?m:c.trackResult(m)}function nt(t,s){return Yae(t,kae)}function Su(t,s){const a=cs(),[n]=g.useState(()=>new Rae(a,t));g.useEffect(()=>{n.setOptions(t)},[n,t]);const r=g.useSyncExternalStore(g.useCallback(o=>n.subscribe(Mn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=g.useCallback((o,l)=>{n.mutate(o,l).catch(br)},[n]);if(r.error&&kR(n.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}function Gae(t){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}Gae(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var xg=t=>typeof t=="number"&&!isNaN(t),pu=t=>typeof t=="string",ec=t=>typeof t=="function",Kae=t=>pu(t)||xg(t),Qw=t=>pu(t)||ec(t)?t:null,Qae=(t,s)=>t===!1||xg(t)&&t>0?t:s,Zw=t=>g.isValidElement(t)||pu(t)||ec(t)||xg(t);function Zae(t,s,a=300){let{scrollHeight:n,style:r}=t;requestAnimationFrame(()=>{r.minHeight="initial",r.height=n+"px",r.transition=`all ${a}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(s,a)})})}function Xae({enter:t,exit:s,appendPosition:a=!1,collapse:n=!0,collapseDuration:r=300}){return function({children:i,position:o,preventExitTransition:l,done:c,nodeRef:m,isIn:u,playToast:h}){let f=a?`${t}--${o}`:t,v=a?`${s}--${o}`:s,_=g.useRef(0);return g.useLayoutEffect(()=>{let S=m.current,j=f.split(" "),b=w=>{w.target===m.current&&(h(),S.removeEventListener("animationend",b),S.removeEventListener("animationcancel",b),_.current===0&&w.type!=="animationcancel"&&S.classList.remove(...j))};S.classList.add(...j),S.addEventListener("animationend",b),S.addEventListener("animationcancel",b)},[]),g.useEffect(()=>{let S=m.current,j=()=>{S.removeEventListener("animationend",j),n?Zae(S,c,r):c()};u||(l?j():(_.current=1,S.className+=` ${v}`,S.addEventListener("animationend",j)))},[u]),Nt.createElement(Nt.Fragment,null,i)}}function n8(t,s){return{content:IR(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:s}}function IR(t,s,a=!1){return g.isValidElement(t)&&!pu(t.type)?g.cloneElement(t,{closeToast:s.closeToast,toastProps:s,data:s.data,isPaused:a}):ec(t)?t({closeToast:s.closeToast,toastProps:s,data:s.data,isPaused:a}):t}function Jae({closeToast:t,theme:s,ariaLabel:a="close"}){return Nt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${s}`,type:"button",onClick:n=>{n.stopPropagation(),t(!0)},"aria-label":a},Nt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Nt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function ene({delay:t,isRunning:s,closeToast:a,type:n="default",hide:r,className:i,controlledProgress:o,progress:l,rtl:c,isIn:m,theme:u}){let h=r||o&&l===0,f={animationDuration:`${t}ms`,animationPlayState:s?"running":"paused"};o&&(f.transform=`scaleX(${l})`);let v=tt("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),_=ec(i)?i({rtl:c,type:n,defaultClassName:v}):tt(v,i),S={[o&&l>=1?"onTransitionEnd":"onAnimationEnd"]:o&&l<1?null:()=>{m&&a()}};return Nt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},Nt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${n}`}),Nt.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:_,style:f,...S}))}var tne=1,OR=()=>`${tne++}`;function sne(t,s,a){let n=1,r=0,i=[],o=[],l=s,c=new Map,m=new Set,u=w=>(m.add(w),()=>m.delete(w)),h=()=>{o=Array.from(c.values()),m.forEach(w=>w())},f=({containerId:w,toastId:C,updateId:P})=>{let E=w?w!==t:t!==1,D=c.has(C)&&P==null;return E||D},v=(w,C)=>{c.forEach(P=>{var E;(C==null||C===P.props.toastId)&&((E=P.toggle)==null||E.call(P,w))})},_=w=>{var C,P;(P=(C=w.props)==null?void 0:C.onClose)==null||P.call(C,w.removalReason),w.isActive=!1},S=w=>{if(w==null)c.forEach(_);else{let C=c.get(w);C&&_(C)}h()},j=()=>{r-=i.length,i=[]},b=w=>{var C,P;let{toastId:E,updateId:D}=w.props,T=D==null;w.staleId&&c.delete(w.staleId),w.isActive=!0,c.set(E,w),h(),a(n8(w,T?"added":"updated")),T&&((P=(C=w.props).onOpen)==null||P.call(C))};return{id:t,props:l,observe:u,toggle:v,removeToast:S,toasts:c,clearQueue:j,buildToast:(w,C)=>{if(f(C))return;let{toastId:P,updateId:E,data:D,staleId:T,delay:R}=C,z=E==null;z&&r++;let O={...l,style:l.toastStyle,key:n++,...Object.fromEntries(Object.entries(C).filter(([A,Q])=>Q!=null)),toastId:P,updateId:E,data:D,isIn:!1,className:Qw(C.className||l.toastClassName),progressClassName:Qw(C.progressClassName||l.progressClassName),autoClose:C.isLoading?!1:Qae(C.autoClose,l.autoClose),closeToast(A){c.get(P).removalReason=A,S(P)},deleteToast(){let A=c.get(P);if(A!=null){if(a(n8(A,"removed")),c.delete(P),r--,r<0&&(r=0),i.length>0){b(i.shift());return}h()}}};O.closeButton=l.closeButton,C.closeButton===!1||Zw(C.closeButton)?O.closeButton=C.closeButton:C.closeButton===!0&&(O.closeButton=Zw(l.closeButton)?l.closeButton:!0);let $={content:w,props:O,staleId:T};l.limit&&l.limit>0&&r>l.limit&&z?i.push($):xg(R)?setTimeout(()=>{b($)},R):b($)},setProps(w){l=w},setToggle:(w,C)=>{let P=c.get(w);P&&(P.toggle=C)},isToastActive:w=>{var C;return(C=c.get(w))==null?void 0:C.isActive},getSnapshot:()=>o}}var jr=new Map,wx=[],Xw=new Set,ane=t=>Xw.forEach(s=>s(t)),FR=()=>jr.size>0;function nne(){wx.forEach(t=>zR(t.content,t.options)),wx=[]}var rne=(t,{containerId:s})=>{var a;return(a=jr.get(s||1))==null?void 0:a.toasts.get(t)};function LR(t,s){var a;if(s)return!!((a=jr.get(s))!=null&&a.isToastActive(t));let n=!1;return jr.forEach(r=>{r.isToastActive(t)&&(n=!0)}),n}function ine(t){if(!FR()){wx=wx.filter(s=>t!=null&&s.options.toastId!==t);return}if(t==null||Kae(t))jr.forEach(s=>{s.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let s=jr.get(t.containerId);s?s.removeToast(t.id):jr.forEach(a=>{a.removeToast(t.id)})}}var one=(t={})=>{jr.forEach(s=>{s.props.limit&&(!t.containerId||s.id===t.containerId)&&s.clearQueue()})};function zR(t,s){Zw(t)&&(FR()||wx.push({content:t,options:s}),jr.forEach(a=>{a.buildToast(t,s)}))}function lne(t){var s;(s=jr.get(t.containerId||1))==null||s.setToggle(t.id,t.fn)}function $R(t,s){jr.forEach(a=>{(s==null||!(s!=null&&s.containerId)||s?.containerId===a.id)&&a.toggle(t,s?.id)})}function cne(t){let s=t.containerId||1;return{subscribe(a){let n=sne(s,t,ane);jr.set(s,n);let r=n.observe(a);return nne(),()=>{r(),jr.delete(s)}},setProps(a){var n;(n=jr.get(s))==null||n.setProps(a)},getSnapshot(){var a;return(a=jr.get(s))==null?void 0:a.getSnapshot()}}}function dne(t){return Xw.add(t),()=>{Xw.delete(t)}}function une(t){return t&&(pu(t.toastId)||xg(t.toastId))?t.toastId:OR()}function gg(t,s){return zR(t,s),s.toastId}function Dv(t,s){return{...s,type:s&&s.type||t,toastId:une(s)}}function Rv(t){return(s,a)=>gg(s,Dv(t,a))}function Rt(t,s){return gg(t,Dv("default",s))}Rt.loading=(t,s)=>gg(t,Dv("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...s}));function mne(t,{pending:s,error:a,success:n},r){let i;s&&(i=pu(s)?Rt.loading(s,r):Rt.loading(s.render,{...r,...s}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(m,u,h)=>{if(u==null){Rt.dismiss(i);return}let f={type:m,...o,...r,data:h},v=pu(u)?{render:u}:u;return i?Rt.update(i,{...f,...v}):Rt(v.render,{...f,...v}),h},c=ec(t)?t():t;return c.then(m=>l("success",n,m)).catch(m=>l("error",a,m)),c}Rt.promise=mne;Rt.success=Rv("success");Rt.info=Rv("info");Rt.error=Rv("error");Rt.warning=Rv("warning");Rt.warn=Rt.warning;Rt.dark=(t,s)=>gg(t,Dv("default",{theme:"dark",...s}));function pne(t){ine(t)}Rt.dismiss=pne;Rt.clearWaitingQueue=one;Rt.isActive=LR;Rt.update=(t,s={})=>{let a=rne(t,s);if(a){let{props:n,content:r}=a,i={delay:100,...n,...s,toastId:s.toastId||t,updateId:OR()};i.toastId!==t&&(i.staleId=t);let o=i.render||r;delete i.render,gg(o,i)}};Rt.done=t=>{Rt.update(t,{progress:1})};Rt.onChange=dne;Rt.play=t=>$R(!0,t);Rt.pause=t=>$R(!1,t);function hne(t){var s;let{subscribe:a,getSnapshot:n,setProps:r}=g.useRef(cne(t)).current;r(t);let i=(s=g.useSyncExternalStore(a,n,n))==null?void 0:s.slice();function o(l){if(!i)return[];let c=new Map;return t.newestOnTop&&i.reverse(),i.forEach(m=>{let{position:u}=m.props;c.has(u)||c.set(u,[]),c.get(u).push(m)}),Array.from(c,m=>l(m[0],m[1]))}return{getToastToRender:o,isToastActive:LR,count:i?.length}}function fne(t){let[s,a]=g.useState(!1),[n,r]=g.useState(!1),i=g.useRef(null),o=g.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:m,onClick:u,closeOnClick:h}=t;lne({id:t.toastId,containerId:t.containerId,fn:a}),g.useEffect(()=>{if(t.pauseOnFocusLoss)return f(),()=>{v()}},[t.pauseOnFocusLoss]);function f(){document.hasFocus()||b(),window.addEventListener("focus",j),window.addEventListener("blur",b)}function v(){window.removeEventListener("focus",j),window.removeEventListener("blur",b)}function _(T){if(t.draggable===!0||t.draggable===T.pointerType){w();let R=i.current;o.canCloseOnClick=!0,o.canDrag=!0,R.style.transition="none",t.draggableDirection==="x"?(o.start=T.clientX,o.removalDistance=R.offsetWidth*(t.draggablePercent/100)):(o.start=T.clientY,o.removalDistance=R.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function S(T){let{top:R,bottom:z,left:O,right:$}=i.current.getBoundingClientRect();T.nativeEvent.type!=="touchend"&&t.pauseOnHover&&T.clientX>=O&&T.clientX<=$&&T.clientY>=R&&T.clientY<=z?b():j()}function j(){a(!0)}function b(){a(!1)}function w(){o.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",E)}function C(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",E)}function P(T){let R=i.current;if(o.canDrag&&R){o.didMove=!0,s&&b(),t.draggableDirection==="x"?o.delta=T.clientX-o.start:o.delta=T.clientY-o.start,o.start!==T.clientX&&(o.canCloseOnClick=!1);let z=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;R.style.transform=`translate3d(${z},0)`,R.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function E(){C();let T=i.current;if(o.canDrag&&o.didMove&&T){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){r(!0),t.closeToast(!0),t.collapseAll();return}T.style.transition="transform 0.2s, opacity 0.2s",T.style.removeProperty("transform"),T.style.removeProperty("opacity")}}let D={onPointerDown:_,onPointerUp:S};return l&&c&&(D.onMouseEnter=b,t.stacked||(D.onMouseLeave=j)),h&&(D.onClick=T=>{u&&u(T),o.canCloseOnClick&&m(!0)}),{playToast:j,pauseToast:b,isRunning:s,preventExitTransition:n,toastRef:i,eventHandlers:D}}var xne=typeof window<"u"?g.useLayoutEffect:g.useEffect,Av=({theme:t,type:s,isLoading:a,...n})=>Nt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${s})`,...n});function gne(t){return Nt.createElement(Av,{...t},Nt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function yne(t){return Nt.createElement(Av,{...t},Nt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function bne(t){return Nt.createElement(Av,{...t},Nt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function vne(t){return Nt.createElement(Av,{...t},Nt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function jne(){return Nt.createElement("div",{className:"Toastify__spinner"})}var Jw={info:yne,warning:gne,success:bne,error:vne,spinner:jne},Nne=t=>t in Jw;function wne({theme:t,type:s,isLoading:a,icon:n}){let r=null,i={theme:t,type:s};return n===!1||(ec(n)?r=n({...i,isLoading:a}):g.isValidElement(n)?r=g.cloneElement(n,i):a?r=Jw.spinner():Nne(s)&&(r=Jw[s](i))),r}var _ne=t=>{let{isRunning:s,preventExitTransition:a,toastRef:n,eventHandlers:r,playToast:i}=fne(t),{closeButton:o,children:l,autoClose:c,onClick:m,type:u,hideProgressBar:h,closeToast:f,transition:v,position:_,className:S,style:j,progressClassName:b,updateId:w,role:C,progress:P,rtl:E,toastId:D,deleteToast:T,isIn:R,isLoading:z,closeOnClick:O,theme:$,ariaLabel:A}=t,Q=tt("Toastify__toast",`Toastify__toast-theme--${$}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":O}),K=ec(S)?S({rtl:E,position:_,type:u,defaultClassName:Q}):tt(Q,S),U=wne(t),B=!!P||!c,V={closeToast:f,type:u,theme:$},Y=null;return o===!1||(ec(o)?Y=o(V):g.isValidElement(o)?Y=g.cloneElement(o,V):Y=Jae(V)),Nt.createElement(v,{isIn:R,done:T,position:_,preventExitTransition:a,nodeRef:n,playToast:i},Nt.createElement("div",{id:D,tabIndex:0,onClick:m,"data-in":R,className:K,...r,style:j,ref:n,...R&&{role:C,"aria-label":A}},U!=null&&Nt.createElement("div",{className:tt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!z})},U),IR(l,t,!s),Y,!t.customProgressBar&&Nt.createElement(ene,{...w&&!B?{key:`p-${w}`}:{},rtl:E,theme:$,delay:c,isRunning:s,isIn:R,closeToast:f,hide:h,type:u,className:b,controlledProgress:B,progress:P||0})))},Sne=(t,s=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:s}),Cne=Xae(Sne("bounce",!0)),kne={position:"top-right",transition:Cne,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function Pne(t){let s={...kne,...t},a=t.stacked,[n,r]=g.useState(!0),i=g.useRef(null),{getToastToRender:o,isToastActive:l,count:c}=hne(s),{className:m,style:u,rtl:h,containerId:f,hotKeys:v}=s;function _(j){let b=tt("Toastify__toast-container",`Toastify__toast-container--${j}`,{"Toastify__toast-container--rtl":h});return ec(m)?m({position:j,rtl:h,defaultClassName:b}):tt(b,Qw(m))}function S(){a&&(r(!0),Rt.play())}return xne(()=>{var j;if(a){let b=i.current.querySelectorAll('[data-in="true"]'),w=12,C=(j=s.position)==null?void 0:j.includes("top"),P=0,E=0;Array.from(b).reverse().forEach((D,T)=>{let R=D;R.classList.add("Toastify__toast--stacked"),T>0&&(R.dataset.collapsed=`${n}`),R.dataset.pos||(R.dataset.pos=C?"top":"bot");let z=P*(n?.2:1)+(n?0:w*T);R.style.setProperty("--y",`${C?z:z*-1}px`),R.style.setProperty("--g",`${w}`),R.style.setProperty("--s",`${1-(n?E:0)}`),P+=R.offsetHeight,E+=.025})}},[n,c,a]),g.useEffect(()=>{function j(b){var w;let C=i.current;v(b)&&((w=C.querySelector('[tabIndex="0"]'))==null||w.focus(),r(!1),Rt.pause()),b.key==="Escape"&&(document.activeElement===C||C!=null&&C.contains(document.activeElement))&&(r(!0),Rt.play())}return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[v]),Nt.createElement("section",{ref:i,className:"Toastify",id:f,onMouseEnter:()=>{a&&(r(!1),Rt.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":s["aria-label"]},o((j,b)=>{let w=b.length?{...u}:{...u,pointerEvents:"none"};return Nt.createElement("div",{tabIndex:-1,className:_(j),"data-stacked":a,style:w,key:`c-${j}`},b.map(({content:C,props:P})=>Nt.createElement(_ne,{...P,stacked:a,collapseAll:S,isIn:l(P.toastId,P.containerId),key:`t-${P.key}`},C)))}))}const Md={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0},Uo=new Map,qR=5e3;function H4(t,s){return`${s}:${t.toLowerCase().trim()}`}function ly(t,s){const a=H4(t,s),n=Uo.get(a);return n?Date.now()-n.timestamp<qR:!1}function cy(t,s,a){const n=H4(t,s);Uo.set(n,{id:a,timestamp:Date.now()})}function dy(t,s){const a=H4(t,s);Uo.delete(a)}function uy(){const t=Date.now(),s=[];Uo.forEach((a,n)=>{t-a.timestamp>qR&&s.push(n)}),s.forEach(a=>Uo.delete(a))}class Ene{success(s,a){if(ly(s,"success"))return null;uy();const n=Rt.success(s,{...Md,...a,onClose:()=>{dy(s,"success"),a?.onClose?.()}});return cy(s,"success",n),n}error(s,a){if(ly(s,"error"))return null;uy();const n=Rt.error(s,{...Md,...a,onClose:()=>{dy(s,"error"),a?.onClose?.()}});return cy(s,"error",n),n}warning(s,a){if(ly(s,"warning"))return null;uy();const n=Rt.warning(s,{...Md,...a,onClose:()=>{dy(s,"warning"),a?.onClose?.()}});return cy(s,"warning",n),n}info(s,a){if(ly(s,"info"))return null;uy();const n=Rt.info(s,{...Md,...a,onClose:()=>{dy(s,"info"),a?.onClose?.()}});return cy(s,"info",n),n}loading(s="Loading...",a){return Rt.loading(s,{...Md,...a})}update(s,a,n,r){Rt.update(s,{render:a,type:n,isLoading:!1,...Md,...r})}dismiss(s){if(Rt.dismiss(s),s){for(const[a,n]of Uo.entries())if(n.id===s){Uo.delete(a);break}}}dismissAll(){Rt.dismiss(),Uo.clear()}clearNetworkErrorToasts(){const s=[],a=[];Uo.forEach((n,r)=>{const i=r.toLowerCase();(i.includes("network")||i.includes("connection")||i.includes("server")||i.includes("unable to reach"))&&(s.push(n.id),a.push(r))}),s.forEach(n=>Rt.dismiss(n)),a.forEach(n=>Uo.delete(n))}async promise(s,a,n){return Rt.promise(s,a,{...Md,...n})}async apiOperation(s,a,n){const r=this.loading(a.loading,n);try{const i=await s(),o=typeof a.success=="function"?a.success(i):a.success;return this.update(r,o,"success",n),i}catch(i){const o=a.error?typeof a.error=="function"?a.error(i):a.error:i.message||"Operation failed";throw this.update(r,o,"error",n),i}}}const or=new Ene,Re=t=>{const s=cs();return Su({mutationFn:t.mutationFn,onMutate:()=>({toastId:or.loading(t.loadingMessage)}),onSuccess:(n,r,i)=>{if(i?.toastId){let o="Operation completed successfully!";n&&typeof n=="object"&&("message"in n&&typeof n.message=="string"?o=n.message:"data"in n&&n.data&&typeof n.data=="object"&&"message"in n.data&&(o=n.data.message)),or.update(i.toastId,o,"success")}t.invalidateQueries&&t.invalidateQueries.forEach(o=>{s.invalidateQueries({queryKey:Array.isArray(o)?o:[o]})}),t.onSuccess?.(n,r)},onError:(n,r,i)=>{if(i?.toastId&&!t.suppressErrorToast){if(n?.response?.status===401){or.dismiss(i.toastId),t.onError?.(n,r);return}let l="Operation failed";const c=n?.response||n?.originalError?.response;if(c?.data){const m=c.data;l=m.error||m.message||l}else n?.message&&(l=n.message);or.update(i.toastId,l,"error")}else i?.toastId&&t.suppressErrorToast&&or.dismiss(i.toastId);t.onError?.(n,r)}})};function BR(t,s){return function(){return t.apply(s,arguments)}}const{toString:Tne}=Object.prototype,{getPrototypeOf:W4}=Object,{iterator:Iv,toStringTag:UR}=Symbol,Ov=(t=>s=>{const a=Tne.call(s);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),So=t=>(t=t.toLowerCase(),s=>Ov(s)===t),Fv=t=>s=>typeof s===t,{isArray:Tp}=Array,dp=Fv("undefined");function yg(t){return t!==null&&!dp(t)&&t.constructor!==null&&!dp(t.constructor)&&Br(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const VR=So("ArrayBuffer");function Mne(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&VR(t.buffer),s}const Dne=Fv("string"),Br=Fv("function"),HR=Fv("number"),bg=t=>t!==null&&typeof t=="object",Rne=t=>t===!0||t===!1,Zy=t=>{if(Ov(t)!=="object")return!1;const s=W4(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(UR in t)&&!(Iv in t)},Ane=t=>{if(!bg(t)||yg(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Ine=So("Date"),One=So("File"),Fne=So("Blob"),Lne=So("FileList"),zne=t=>bg(t)&&Br(t.pipe),$ne=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Br(t.append)&&((s=Ov(t))==="formdata"||s==="object"&&Br(t.toString)&&t.toString()==="[object FormData]"))},qne=So("URLSearchParams"),[Bne,Une,Vne,Hne]=["ReadableStream","Request","Response","Headers"].map(So),Wne=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vg(t,s,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let n,r;if(typeof t!="object"&&(t=[t]),Tp(t))for(n=0,r=t.length;n<r;n++)s.call(null,t[n],n,t);else{if(yg(t))return;const i=a?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(n=0;n<o;n++)l=i[n],s.call(null,t[l],l,t)}}function WR(t,s){if(yg(t))return null;s=s.toLowerCase();const a=Object.keys(t);let n=a.length,r;for(;n-- >0;)if(r=a[n],s===r.toLowerCase())return r;return null}const Jd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,YR=t=>!dp(t)&&t!==Jd;function e_(){const{caseless:t,skipUndefined:s}=YR(this)&&this||{},a={},n=(r,i)=>{const o=t&&WR(a,i)||i;Zy(a[o])&&Zy(r)?a[o]=e_(a[o],r):Zy(r)?a[o]=e_({},r):Tp(r)?a[o]=r.slice():(!s||!dp(r))&&(a[o]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&vg(arguments[r],n);return a}const Yne=(t,s,a,{allOwnKeys:n}={})=>(vg(s,(r,i)=>{a&&Br(r)?t[i]=BR(r,a):t[i]=r},{allOwnKeys:n}),t),Gne=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Kne=(t,s,a,n)=>{t.prototype=Object.create(s.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),a&&Object.assign(t.prototype,a)},Qne=(t,s,a,n)=>{let r,i,o;const l={};if(s=s||{},t==null)return s;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)o=r[i],(!n||n(o,t,s))&&!l[o]&&(s[o]=t[o],l[o]=!0);t=a!==!1&&W4(t)}while(t&&(!a||a(t,s))&&t!==Object.prototype);return s},Zne=(t,s,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=s.length;const n=t.indexOf(s,a);return n!==-1&&n===a},Xne=t=>{if(!t)return null;if(Tp(t))return t;let s=t.length;if(!HR(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=t[s];return a},Jne=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&W4(Uint8Array)),ere=(t,s)=>{const n=(t&&t[Iv]).call(t);let r;for(;(r=n.next())&&!r.done;){const i=r.value;s.call(t,i[0],i[1])}},tre=(t,s)=>{let a;const n=[];for(;(a=t.exec(s))!==null;)n.push(a);return n},sre=So("HTMLFormElement"),are=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,n,r){return n.toUpperCase()+r}),r8=(({hasOwnProperty:t})=>(s,a)=>t.call(s,a))(Object.prototype),nre=So("RegExp"),GR=(t,s)=>{const a=Object.getOwnPropertyDescriptors(t),n={};vg(a,(r,i)=>{let o;(o=s(r,i,t))!==!1&&(n[i]=o||r)}),Object.defineProperties(t,n)},rre=t=>{GR(t,(s,a)=>{if(Br(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const n=t[a];if(Br(n)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},ire=(t,s)=>{const a={},n=r=>{r.forEach(i=>{a[i]=!0})};return Tp(t)?n(t):n(String(t).split(s)),a},ore=()=>{},lre=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function cre(t){return!!(t&&Br(t.append)&&t[UR]==="FormData"&&t[Iv])}const dre=t=>{const s=new Array(10),a=(n,r)=>{if(bg(n)){if(s.indexOf(n)>=0)return;if(yg(n))return n;if(!("toJSON"in n)){s[r]=n;const i=Tp(n)?[]:{};return vg(n,(o,l)=>{const c=a(o,r+1);!dp(c)&&(i[l]=c)}),s[r]=void 0,i}}return n};return a(t,0)},ure=So("AsyncFunction"),mre=t=>t&&(bg(t)||Br(t))&&Br(t.then)&&Br(t.catch),KR=((t,s)=>t?setImmediate:s?((a,n)=>(Jd.addEventListener("message",({source:r,data:i})=>{r===Jd&&i===a&&n.length&&n.shift()()},!1),r=>{n.push(r),Jd.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Br(Jd.postMessage)),pre=typeof queueMicrotask<"u"?queueMicrotask.bind(Jd):typeof process<"u"&&process.nextTick||KR,hre=t=>t!=null&&Br(t[Iv]),et={isArray:Tp,isArrayBuffer:VR,isBuffer:yg,isFormData:$ne,isArrayBufferView:Mne,isString:Dne,isNumber:HR,isBoolean:Rne,isObject:bg,isPlainObject:Zy,isEmptyObject:Ane,isReadableStream:Bne,isRequest:Une,isResponse:Vne,isHeaders:Hne,isUndefined:dp,isDate:Ine,isFile:One,isBlob:Fne,isRegExp:nre,isFunction:Br,isStream:zne,isURLSearchParams:qne,isTypedArray:Jne,isFileList:Lne,forEach:vg,merge:e_,extend:Yne,trim:Wne,stripBOM:Gne,inherits:Kne,toFlatObject:Qne,kindOf:Ov,kindOfTest:So,endsWith:Zne,toArray:Xne,forEachEntry:ere,matchAll:tre,isHTMLForm:sre,hasOwnProperty:r8,hasOwnProp:r8,reduceDescriptors:GR,freezeMethods:rre,toObjectSet:ire,toCamelCase:are,noop:ore,toFiniteNumber:lre,findKey:WR,global:Jd,isContextDefined:YR,isSpecCompliantForm:cre,toJSONObject:dre,isAsyncFn:ure,isThenable:mre,setImmediate:KR,asap:pre,isIterable:hre};function Fs(t,s,a,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}et.inherits(Fs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:et.toJSONObject(this.config),code:this.code,status:this.status}}});const QR=Fs.prototype,ZR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ZR[t]={value:t}});Object.defineProperties(Fs,ZR);Object.defineProperty(QR,"isAxiosError",{value:!0});Fs.from=(t,s,a,n,r,i)=>{const o=Object.create(QR);et.toFlatObject(t,o,function(u){return u!==Error.prototype},m=>m!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=s==null&&t?t.code:s;return Fs.call(o,l,c,a,n,r),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const fre=null;function t_(t){return et.isPlainObject(t)||et.isArray(t)}function XR(t){return et.endsWith(t,"[]")?t.slice(0,-2):t}function i8(t,s,a){return t?t.concat(s).map(function(r,i){return r=XR(r),!a&&i?"["+r+"]":r}).join(a?".":""):s}function xre(t){return et.isArray(t)&&!t.some(t_)}const gre=et.toFlatObject(et,{},null,function(s){return/^is[A-Z]/.test(s)});function Lv(t,s,a){if(!et.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,a=et.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,j){return!et.isUndefined(j[S])});const n=a.metaTokens,r=a.visitor||u,i=a.dots,o=a.indexes,c=(a.Blob||typeof Blob<"u"&&Blob)&&et.isSpecCompliantForm(s);if(!et.isFunction(r))throw new TypeError("visitor must be a function");function m(_){if(_===null)return"";if(et.isDate(_))return _.toISOString();if(et.isBoolean(_))return _.toString();if(!c&&et.isBlob(_))throw new Fs("Blob is not supported. Use a Buffer instead.");return et.isArrayBuffer(_)||et.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function u(_,S,j){let b=_;if(_&&!j&&typeof _=="object"){if(et.endsWith(S,"{}"))S=n?S:S.slice(0,-2),_=JSON.stringify(_);else if(et.isArray(_)&&xre(_)||(et.isFileList(_)||et.endsWith(S,"[]"))&&(b=et.toArray(_)))return S=XR(S),b.forEach(function(C,P){!(et.isUndefined(C)||C===null)&&s.append(o===!0?i8([S],P,i):o===null?S:S+"[]",m(C))}),!1}return t_(_)?!0:(s.append(i8(j,S,i),m(_)),!1)}const h=[],f=Object.assign(gre,{defaultVisitor:u,convertValue:m,isVisitable:t_});function v(_,S){if(!et.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+S.join("."));h.push(_),et.forEach(_,function(b,w){(!(et.isUndefined(b)||b===null)&&r.call(s,b,et.isString(w)?w.trim():w,S,f))===!0&&v(b,S?S.concat(w):[w])}),h.pop()}}if(!et.isObject(t))throw new TypeError("data must be an object");return v(t),s}function o8(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return s[n]})}function Y4(t,s){this._pairs=[],t&&Lv(t,this,s)}const JR=Y4.prototype;JR.append=function(s,a){this._pairs.push([s,a])};JR.toString=function(s){const a=s?function(n){return s.call(this,n,o8)}:o8;return this._pairs.map(function(r){return a(r[0])+"="+a(r[1])},"").join("&")};function yre(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function eA(t,s,a){if(!s)return t;const n=a&&a.encode||yre;et.isFunction(a)&&(a={serialize:a});const r=a&&a.serialize;let i;if(r?i=r(s,a):i=et.isURLSearchParams(s)?s.toString():new Y4(s,a).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class l8{constructor(){this.handlers=[]}use(s,a,n){return this.handlers.push({fulfilled:s,rejected:a,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){et.forEach(this.handlers,function(n){n!==null&&s(n)})}}const tA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bre=typeof URLSearchParams<"u"?URLSearchParams:Y4,vre=typeof FormData<"u"?FormData:null,jre=typeof Blob<"u"?Blob:null,Nre={isBrowser:!0,classes:{URLSearchParams:bre,FormData:vre,Blob:jre},protocols:["http","https","file","blob","url","data"]},G4=typeof window<"u"&&typeof document<"u",s_=typeof navigator=="object"&&navigator||void 0,wre=G4&&(!s_||["ReactNative","NativeScript","NS"].indexOf(s_.product)<0),_re=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Sre=G4&&window.location.href||"http://localhost",Cre=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:G4,hasStandardBrowserEnv:wre,hasStandardBrowserWebWorkerEnv:_re,navigator:s_,origin:Sre},Symbol.toStringTag,{value:"Module"})),lr={...Cre,...Nre};function kre(t,s){return Lv(t,new lr.classes.URLSearchParams,{visitor:function(a,n,r,i){return lr.isNode&&et.isBuffer(a)?(this.append(n,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function Pre(t){return et.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Ere(t){const s={},a=Object.keys(t);let n;const r=a.length;let i;for(n=0;n<r;n++)i=a[n],s[i]=t[i];return s}function sA(t){function s(a,n,r,i){let o=a[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=a.length;return o=!o&&et.isArray(r)?r.length:o,c?(et.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!l):((!r[o]||!et.isObject(r[o]))&&(r[o]=[]),s(a,n,r[o],i)&&et.isArray(r[o])&&(r[o]=Ere(r[o])),!l)}if(et.isFormData(t)&&et.isFunction(t.entries)){const a={};return et.forEachEntry(t,(n,r)=>{s(Pre(n),r,a,0)}),a}return null}function Tre(t,s,a){if(et.isString(t))try{return(s||JSON.parse)(t),et.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(a||JSON.stringify)(t)}const jg={transitional:tA,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const n=a.getContentType()||"",r=n.indexOf("application/json")>-1,i=et.isObject(s);if(i&&et.isHTMLForm(s)&&(s=new FormData(s)),et.isFormData(s))return r?JSON.stringify(sA(s)):s;if(et.isArrayBuffer(s)||et.isBuffer(s)||et.isStream(s)||et.isFile(s)||et.isBlob(s)||et.isReadableStream(s))return s;if(et.isArrayBufferView(s))return s.buffer;if(et.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return kre(s,this.formSerializer).toString();if((l=et.isFileList(s))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Lv(l?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||r?(a.setContentType("application/json",!1),Tre(s)):s}],transformResponse:[function(s){const a=this.transitional||jg.transitional,n=a&&a.forcedJSONParsing,r=this.responseType==="json";if(et.isResponse(s)||et.isReadableStream(s))return s;if(s&&et.isString(s)&&(n&&!this.responseType||r)){const o=!(a&&a.silentJSONParsing)&&r;try{return JSON.parse(s,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Fs.from(l,Fs.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lr.classes.FormData,Blob:lr.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};et.forEach(["delete","get","head","post","put","patch"],t=>{jg.headers[t]={}});const Mre=et.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Dre=t=>{const s={};let a,n,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),a=o.substring(0,r).trim().toLowerCase(),n=o.substring(r+1).trim(),!(!a||s[a]&&Mre[a])&&(a==="set-cookie"?s[a]?s[a].push(n):s[a]=[n]:s[a]=s[a]?s[a]+", "+n:n)}),s},c8=Symbol("internals");function Vh(t){return t&&String(t).trim().toLowerCase()}function Xy(t){return t===!1||t==null?t:et.isArray(t)?t.map(Xy):String(t)}function Rre(t){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(t);)s[n[1]]=n[2];return s}const Are=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function pN(t,s,a,n,r){if(et.isFunction(n))return n.call(this,s,a);if(r&&(s=a),!!et.isString(s)){if(et.isString(n))return s.indexOf(n)!==-1;if(et.isRegExp(n))return n.test(s)}}function Ire(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,n)=>a.toUpperCase()+n)}function Ore(t,s){const a=et.toCamelCase(" "+s);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+a,{value:function(r,i,o){return this[n].call(this,s,r,i,o)},configurable:!0})})}let Ur=class{constructor(s){s&&this.set(s)}set(s,a,n){const r=this;function i(l,c,m){const u=Vh(c);if(!u)throw new Error("header name must be a non-empty string");const h=et.findKey(r,u);(!h||r[h]===void 0||m===!0||m===void 0&&r[h]!==!1)&&(r[h||c]=Xy(l))}const o=(l,c)=>et.forEach(l,(m,u)=>i(m,u,c));if(et.isPlainObject(s)||s instanceof this.constructor)o(s,a);else if(et.isString(s)&&(s=s.trim())&&!Are(s))o(Dre(s),a);else if(et.isObject(s)&&et.isIterable(s)){let l={},c,m;for(const u of s){if(!et.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[m=u[0]]=(c=l[m])?et.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,a)}else s!=null&&i(a,s,n);return this}get(s,a){if(s=Vh(s),s){const n=et.findKey(this,s);if(n){const r=this[n];if(!a)return r;if(a===!0)return Rre(r);if(et.isFunction(a))return a.call(this,r,n);if(et.isRegExp(a))return a.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=Vh(s),s){const n=et.findKey(this,s);return!!(n&&this[n]!==void 0&&(!a||pN(this,this[n],n,a)))}return!1}delete(s,a){const n=this;let r=!1;function i(o){if(o=Vh(o),o){const l=et.findKey(n,o);l&&(!a||pN(n,n[l],l,a))&&(delete n[l],r=!0)}}return et.isArray(s)?s.forEach(i):i(s),r}clear(s){const a=Object.keys(this);let n=a.length,r=!1;for(;n--;){const i=a[n];(!s||pN(this,this[i],i,s,!0))&&(delete this[i],r=!0)}return r}normalize(s){const a=this,n={};return et.forEach(this,(r,i)=>{const o=et.findKey(n,i);if(o){a[o]=Xy(r),delete a[i];return}const l=s?Ire(i):String(i).trim();l!==i&&delete a[i],a[l]=Xy(r),n[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return et.forEach(this,(n,r)=>{n!=null&&n!==!1&&(a[r]=s&&et.isArray(n)?n.join(", "):n)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const n=new this(s);return a.forEach(r=>n.set(r)),n}static accessor(s){const n=(this[c8]=this[c8]={accessors:{}}).accessors,r=this.prototype;function i(o){const l=Vh(o);n[l]||(Ore(r,o),n[l]=!0)}return et.isArray(s)?s.forEach(i):i(s),this}};Ur.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);et.reduceDescriptors(Ur.prototype,({value:t},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(n){this[a]=n}}});et.freezeMethods(Ur);function hN(t,s){const a=this||jg,n=s||a,r=Ur.from(n.headers);let i=n.data;return et.forEach(t,function(l){i=l.call(a,i,r.normalize(),s?s.status:void 0)}),r.normalize(),i}function aA(t){return!!(t&&t.__CANCEL__)}function Mp(t,s,a){Fs.call(this,t??"canceled",Fs.ERR_CANCELED,s,a),this.name="CanceledError"}et.inherits(Mp,Fs,{__CANCEL__:!0});function nA(t,s,a){const n=a.config.validateStatus;!a.status||!n||n(a.status)?t(a):s(new Fs("Request failed with status code "+a.status,[Fs.ERR_BAD_REQUEST,Fs.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Fre(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Lre(t,s){t=t||10;const a=new Array(t),n=new Array(t);let r=0,i=0,o;return s=s!==void 0?s:1e3,function(c){const m=Date.now(),u=n[i];o||(o=m),a[r]=c,n[r]=m;let h=i,f=0;for(;h!==r;)f+=a[h++],h=h%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),m-o<s)return;const v=u&&m-u;return v?Math.round(f*1e3/v):void 0}}function zre(t,s){let a=0,n=1e3/s,r,i;const o=(m,u=Date.now())=>{a=u,r=null,i&&(clearTimeout(i),i=null),t(...m)};return[(...m)=>{const u=Date.now(),h=u-a;h>=n?o(m,u):(r=m,i||(i=setTimeout(()=>{i=null,o(r)},n-h)))},()=>r&&o(r)]}const _b=(t,s,a=3)=>{let n=0;const r=Lre(50,250);return zre(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,m=r(c),u=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:m||void 0,estimated:m&&l&&u?(l-o)/m:void 0,event:i,lengthComputable:l!=null,[s?"download":"upload"]:!0};t(h)},a)},d8=(t,s)=>{const a=t!=null;return[n=>s[0]({lengthComputable:a,total:t,loaded:n}),s[1]]},u8=t=>(...s)=>et.asap(()=>t(...s)),$re=lr.hasStandardBrowserEnv?((t,s)=>a=>(a=new URL(a,lr.origin),t.protocol===a.protocol&&t.host===a.host&&(s||t.port===a.port)))(new URL(lr.origin),lr.navigator&&/(msie|trident)/i.test(lr.navigator.userAgent)):()=>!0,qre=lr.hasStandardBrowserEnv?{write(t,s,a,n,r,i,o){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(s)}`];et.isNumber(a)&&l.push(`expires=${new Date(a).toUTCString()}`),et.isString(n)&&l.push(`path=${n}`),et.isString(r)&&l.push(`domain=${r}`),i===!0&&l.push("secure"),et.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Bre(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ure(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function rA(t,s,a){let n=!Bre(s);return t&&(n||a==!1)?Ure(t,s):s}const m8=t=>t instanceof Ur?{...t}:t;function hu(t,s){s=s||{};const a={};function n(m,u,h,f){return et.isPlainObject(m)&&et.isPlainObject(u)?et.merge.call({caseless:f},m,u):et.isPlainObject(u)?et.merge({},u):et.isArray(u)?u.slice():u}function r(m,u,h,f){if(et.isUndefined(u)){if(!et.isUndefined(m))return n(void 0,m,h,f)}else return n(m,u,h,f)}function i(m,u){if(!et.isUndefined(u))return n(void 0,u)}function o(m,u){if(et.isUndefined(u)){if(!et.isUndefined(m))return n(void 0,m)}else return n(void 0,u)}function l(m,u,h){if(h in s)return n(m,u);if(h in t)return n(void 0,m)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(m,u,h)=>r(m8(m),m8(u),h,!0)};return et.forEach(Object.keys({...t,...s}),function(u){const h=c[u]||r,f=h(t[u],s[u],u);et.isUndefined(f)&&h!==l||(a[u]=f)}),a}const iA=t=>{const s=hu({},t);let{data:a,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:l}=s;if(s.headers=o=Ur.from(o),s.url=eA(rA(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),et.isFormData(a)){if(lr.hasStandardBrowserEnv||lr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(et.isFunction(a.getHeaders)){const c=a.getHeaders(),m=["content-type","content-length"];Object.entries(c).forEach(([u,h])=>{m.includes(u.toLowerCase())&&o.set(u,h)})}}if(lr.hasStandardBrowserEnv&&(n&&et.isFunction(n)&&(n=n(s)),n||n!==!1&&$re(s.url))){const c=r&&i&&qre.read(i);c&&o.set(r,c)}return s},Vre=typeof XMLHttpRequest<"u",Hre=Vre&&function(t){return new Promise(function(a,n){const r=iA(t);let i=r.data;const o=Ur.from(r.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:m}=r,u,h,f,v,_;function S(){v&&v(),_&&_(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let j=new XMLHttpRequest;j.open(r.method.toUpperCase(),r.url,!0),j.timeout=r.timeout;function b(){if(!j)return;const C=Ur.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:C,config:t,request:j};nA(function(T){a(T),S()},function(T){n(T),S()},E),j=null}"onloadend"in j?j.onloadend=b:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(b)},j.onabort=function(){j&&(n(new Fs("Request aborted",Fs.ECONNABORTED,t,j)),j=null)},j.onerror=function(P){const E=P&&P.message?P.message:"Network Error",D=new Fs(E,Fs.ERR_NETWORK,t,j);D.event=P||null,n(D),j=null},j.ontimeout=function(){let P=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const E=r.transitional||tA;r.timeoutErrorMessage&&(P=r.timeoutErrorMessage),n(new Fs(P,E.clarifyTimeoutError?Fs.ETIMEDOUT:Fs.ECONNABORTED,t,j)),j=null},i===void 0&&o.setContentType(null),"setRequestHeader"in j&&et.forEach(o.toJSON(),function(P,E){j.setRequestHeader(E,P)}),et.isUndefined(r.withCredentials)||(j.withCredentials=!!r.withCredentials),l&&l!=="json"&&(j.responseType=r.responseType),m&&([f,_]=_b(m,!0),j.addEventListener("progress",f)),c&&j.upload&&([h,v]=_b(c),j.upload.addEventListener("progress",h),j.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(u=C=>{j&&(n(!C||C.type?new Mp(null,t,j):C),j.abort(),j=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const w=Fre(r.url);if(w&&lr.protocols.indexOf(w)===-1){n(new Fs("Unsupported protocol "+w+":",Fs.ERR_BAD_REQUEST,t));return}j.send(i||null)})},Wre=(t,s)=>{const{length:a}=t=t?t.filter(Boolean):[];if(s||a){let n=new AbortController,r;const i=function(m){if(!r){r=!0,l();const u=m instanceof Error?m:this.reason;n.abort(u instanceof Fs?u:new Mp(u instanceof Error?u.message:u))}};let o=s&&setTimeout(()=>{o=null,i(new Fs(`timeout ${s} of ms exceeded`,Fs.ETIMEDOUT))},s);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(i):m.removeEventListener("abort",i)}),t=null)};t.forEach(m=>m.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>et.asap(l),c}},Yre=function*(t,s){let a=t.byteLength;if(a<s){yield t;return}let n=0,r;for(;n<a;)r=n+s,yield t.slice(n,r),n=r},Gre=async function*(t,s){for await(const a of Kre(t))yield*Yre(a,s)},Kre=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:a,value:n}=await s.read();if(a)break;yield n}}finally{await s.cancel()}},p8=(t,s,a,n)=>{const r=Gre(t,s);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:m,value:u}=await r.next();if(m){l(),c.close();return}let h=u.byteLength;if(a){let f=i+=h;a(f)}c.enqueue(new Uint8Array(u))}catch(m){throw l(m),m}},cancel(c){return l(c),r.return()}},{highWaterMark:2})},h8=64*1024,{isFunction:my}=et,Qre=(({Request:t,Response:s})=>({Request:t,Response:s}))(et.global),{ReadableStream:f8,TextEncoder:x8}=et.global,g8=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Zre=t=>{t=et.merge.call({skipUndefined:!0},Qre,t);const{fetch:s,Request:a,Response:n}=t,r=s?my(s):typeof fetch=="function",i=my(a),o=my(n);if(!r)return!1;const l=r&&my(f8),c=r&&(typeof x8=="function"?(_=>S=>_.encode(S))(new x8):async _=>new Uint8Array(await new a(_).arrayBuffer())),m=i&&l&&g8(()=>{let _=!1;const S=new a(lr.origin,{body:new f8,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!S}),u=o&&l&&g8(()=>et.isReadableStream(new n("").body)),h={stream:u&&(_=>_.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!h[_]&&(h[_]=(S,j)=>{let b=S&&S[_];if(b)return b.call(S);throw new Fs(`Response type '${_}' is not supported`,Fs.ERR_NOT_SUPPORT,j)})});const f=async _=>{if(_==null)return 0;if(et.isBlob(_))return _.size;if(et.isSpecCompliantForm(_))return(await new a(lr.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(et.isArrayBufferView(_)||et.isArrayBuffer(_))return _.byteLength;if(et.isURLSearchParams(_)&&(_=_+""),et.isString(_))return(await c(_)).byteLength},v=async(_,S)=>{const j=et.toFiniteNumber(_.getContentLength());return j??f(S)};return async _=>{let{url:S,method:j,data:b,signal:w,cancelToken:C,timeout:P,onDownloadProgress:E,onUploadProgress:D,responseType:T,headers:R,withCredentials:z="same-origin",fetchOptions:O}=iA(_),$=s||fetch;T=T?(T+"").toLowerCase():"text";let A=Wre([w,C&&C.toAbortSignal()],P),Q=null;const K=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let U;try{if(D&&m&&j!=="get"&&j!=="head"&&(U=await v(R,b))!==0){let M=new a(S,{method:"POST",body:b,duplex:"half"}),L;if(et.isFormData(b)&&(L=M.headers.get("content-type"))&&R.setContentType(L),M.body){const[W,X]=d8(U,_b(u8(D)));b=p8(M.body,h8,W,X)}}et.isString(z)||(z=z?"include":"omit");const B=i&&"credentials"in a.prototype,V={...O,signal:A,method:j.toUpperCase(),headers:R.normalize().toJSON(),body:b,duplex:"half",credentials:B?z:void 0};Q=i&&new a(S,V);let Y=await(i?$(Q,O):$(S,V));const H=u&&(T==="stream"||T==="response");if(u&&(E||H&&K)){const M={};["status","statusText","headers"].forEach(te=>{M[te]=Y[te]});const L=et.toFiniteNumber(Y.headers.get("content-length")),[W,X]=E&&d8(L,_b(u8(E),!0))||[];Y=new n(p8(Y.body,h8,W,()=>{X&&X(),K&&K()}),M)}T=T||"text";let F=await h[et.findKey(h,T)||"text"](Y,_);return!H&&K&&K(),await new Promise((M,L)=>{nA(M,L,{data:F,headers:Ur.from(Y.headers),status:Y.status,statusText:Y.statusText,config:_,request:Q})})}catch(B){throw K&&K(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new Fs("Network Error",Fs.ERR_NETWORK,_,Q),{cause:B.cause||B}):Fs.from(B,B&&B.code,_,Q)}}},Xre=new Map,oA=t=>{let s=t&&t.env||{};const{fetch:a,Request:n,Response:r}=s,i=[n,r,a];let o=i.length,l=o,c,m,u=Xre;for(;l--;)c=i[l],m=u.get(c),m===void 0&&u.set(c,m=l?new Map:Zre(s)),u=m;return m};oA();const K4={http:fre,xhr:Hre,fetch:{get:oA}};et.forEach(K4,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const y8=t=>`- ${t}`,Jre=t=>et.isFunction(t)||t===null||t===!1;function eie(t,s){t=et.isArray(t)?t:[t];const{length:a}=t;let n,r;const i={};for(let o=0;o<a;o++){n=t[o];let l;if(r=n,!Jre(n)&&(r=K4[(l=String(n)).toLowerCase()],r===void 0))throw new Fs(`Unknown adapter '${l}'`);if(r&&(et.isFunction(r)||(r=r.get(s))))break;i[l||"#"+o]=r}if(!r){const o=Object.entries(i).map(([c,m])=>`adapter ${c} `+(m===!1?"is not supported by the environment":"is not available in the build"));let l=a?o.length>1?`since :
`+o.map(y8).join(`
`):" "+y8(o[0]):"as no adapter specified";throw new Fs("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r}const lA={getAdapter:eie,adapters:K4};function fN(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Mp(null,t)}function b8(t){return fN(t),t.headers=Ur.from(t.headers),t.data=hN.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),lA.getAdapter(t.adapter||jg.adapter,t)(t).then(function(n){return fN(t),n.data=hN.call(t,t.transformResponse,n),n.headers=Ur.from(n.headers),n},function(n){return aA(n)||(fN(t),n&&n.response&&(n.response.data=hN.call(t,t.transformResponse,n.response),n.response.headers=Ur.from(n.response.headers))),Promise.reject(n)})}const cA="1.13.2",zv={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{zv[t]=function(n){return typeof n===t||"a"+(s<1?"n ":" ")+t}});const v8={};zv.transitional=function(s,a,n){function r(i,o){return"[Axios v"+cA+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(s===!1)throw new Fs(r(o," has been removed"+(a?" in "+a:"")),Fs.ERR_DEPRECATED);return a&&!v8[o]&&(v8[o]=!0,console.warn(r(o," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(i,o,l):!0}};zv.spelling=function(s){return(a,n)=>(console.warn(`${n} is likely a misspelling of ${s}`),!0)};function tie(t,s,a){if(typeof t!="object")throw new Fs("options must be an object",Fs.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let r=n.length;for(;r-- >0;){const i=n[r],o=s[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new Fs("option "+i+" must be "+c,Fs.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Fs("Unknown option "+i,Fs.ERR_BAD_OPTION)}}const Jy={assertOptions:tie,validators:zv},Ro=Jy.validators;let nu=class{constructor(s){this.defaults=s||{},this.interceptors={request:new l8,response:new l8}}async request(s,a){try{return await this._request(s,a)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=hu(this.defaults,a);const{transitional:n,paramsSerializer:r,headers:i}=a;n!==void 0&&Jy.assertOptions(n,{silentJSONParsing:Ro.transitional(Ro.boolean),forcedJSONParsing:Ro.transitional(Ro.boolean),clarifyTimeoutError:Ro.transitional(Ro.boolean)},!1),r!=null&&(et.isFunction(r)?a.paramsSerializer={serialize:r}:Jy.assertOptions(r,{encode:Ro.function,serialize:Ro.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Jy.assertOptions(a,{baseUrl:Ro.spelling("baseURL"),withXsrfToken:Ro.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let o=i&&et.merge(i.common,i[a.method]);i&&et.forEach(["delete","get","head","post","put","patch","common"],_=>{delete i[_]}),a.headers=Ur.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(a)===!1||(c=c&&S.synchronous,l.unshift(S.fulfilled,S.rejected))});const m=[];this.interceptors.response.forEach(function(S){m.push(S.fulfilled,S.rejected)});let u,h=0,f;if(!c){const _=[b8.bind(this),void 0];for(_.unshift(...l),_.push(...m),f=_.length,u=Promise.resolve(a);h<f;)u=u.then(_[h++],_[h++]);return u}f=l.length;let v=a;for(;h<f;){const _=l[h++],S=l[h++];try{v=_(v)}catch(j){S.call(this,j);break}}try{u=b8.call(this,v)}catch(_){return Promise.reject(_)}for(h=0,f=m.length;h<f;)u=u.then(m[h++],m[h++]);return u}getUri(s){s=hu(this.defaults,s);const a=rA(s.baseURL,s.url,s.allowAbsoluteUrls);return eA(a,s.params,s.paramsSerializer)}};et.forEach(["delete","get","head","options"],function(s){nu.prototype[s]=function(a,n){return this.request(hu(n||{},{method:s,url:a,data:(n||{}).data}))}});et.forEach(["post","put","patch"],function(s){function a(n){return function(i,o,l){return this.request(hu(l||{},{method:s,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}nu.prototype[s]=a(),nu.prototype[s+"Form"]=a(!0)});let sie=class dA{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const n=this;this.promise.then(r=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](r);n._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(r);return o.cancel=function(){n.unsubscribe(i)},o},s(function(i,o,l){n.reason||(n.reason=new Mp(i,o,l),a(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=n=>{s.abort(n)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new dA(function(r){s=r}),cancel:s}}};function aie(t){return function(a){return t.apply(null,a)}}function nie(t){return et.isObject(t)&&t.isAxiosError===!0}const a_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(a_).forEach(([t,s])=>{a_[s]=t});function uA(t){const s=new nu(t),a=BR(nu.prototype.request,s);return et.extend(a,nu.prototype,s,{allOwnKeys:!0}),et.extend(a,s,null,{allOwnKeys:!0}),a.create=function(r){return uA(hu(t,r))},a}const gn=uA(jg);gn.Axios=nu;gn.CanceledError=Mp;gn.CancelToken=sie;gn.isCancel=aA;gn.VERSION=cA;gn.toFormData=Lv;gn.AxiosError=Fs;gn.Cancel=gn.CanceledError;gn.all=function(s){return Promise.all(s)};gn.spread=aie;gn.isAxiosError=nie;gn.mergeConfig=hu;gn.AxiosHeaders=Ur;gn.formToJSON=t=>sA(et.isHTMLForm(t)?new FormData(t):t);gn.getAdapter=lA.getAdapter;gn.HttpStatusCode=a_;gn.default=gn;const{Axios:Rze,AxiosError:Aze,CanceledError:Ize,isCancel:Oze,CancelToken:Fze,VERSION:Lze,all:zze,Cancel:$ze,isAxiosError:qze,spread:Bze,toFormData:Uze,AxiosHeaders:Vze,HttpStatusCode:Hze,formToJSON:Wze,getAdapter:Yze,mergeConfig:Gze}=gn,up={OK:200,CREATED:201,NO_CONTENT:204,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,CONFLICT:409,UNPROCESSABLE_ENTITY:422,INTERNAL_SERVER_ERROR:500,SERVICE_UNAVAILABLE:503},Rm={SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info"},Qi={TIMEOUT:"TIMEOUT",NETWORK_ERROR:"NETWORK_ERROR",SERVER_ERROR:"SERVER_ERROR",CLIENT_ERROR:"CLIENT_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",VALIDATION_ERROR:"VALIDATION_ERROR"};class tc extends Error{statusCode;errorType;originalError;response;constructor(s,a,n,r){super(s),this.name="ApiError",this.statusCode=a,this.errorType=n,this.originalError=r,this.response=r?.response}}const rie="https://sfa_api.dcctz.com/api/v1",iie=3e5;let n_=!1;const ie=gn.create({baseURL:rie,timeout:iie,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!1});ie.interceptors.request.use(t=>{try{if(t.metadata={...t.metadata,startTime:Date.now()},t.skipAuth)return t;const s=Yi.getToken();if(s){t.headers.set("Authorization",`Bearer ${s}`);const a=Yi.getUser();a&&(t.headers.set("X-User-ID",a.id.toString()),t.headers.set("X-User-Role",a.role),a.depot_id&&t.headers.set("X-Depot-ID",a.depot_id.toString()),a.zone_id&&t.headers.set("X-Zone-ID",a.zone_id.toString()))}return t.headers.set("X-Request-ID",mie()),t}catch(s){return console.error("Request interceptor error:",s),t}},t=>(console.error("Request setup failed:",t),Promise.reject(new tc("Request configuration failed",0,Qi.CLIENT_ERROR,t))));ie.interceptors.response.use(t=>{try{or.clearNetworkErrorToasts();const s=t.config.metadata?.startTime,a=s?Date.now()-s:0;return t.data&&typeof t.data=="object"&&(t.data.meta={...t.data.meta,requestDuration:a,timestamp:new Date().toISOString()}),t}catch(s){return console.error("Response processing error:",s),t}},async t=>{const s=t.config;if(s?.skipErrorHandling)return Promise.reject(t);try{if(!t.response&&(t.request||t.code==="ERR_NETWORK"||t.code==="ECONNREFUSED"||t.code==="ETIMEDOUT"||t.code==="ENOTFOUND"||t.message?.includes("Network Error")||t.message?.includes("network")))return j8(t);if(t.response){const{status:n,data:r}=t.response;if(n===up.UNAUTHORIZED)return oie(s,t);if(n===up.FORBIDDEN)return lie(t);if(n>=400&&n<500)return cie(t)}else return t.request?j8(t):die(t);return Promise.reject(uie(t))}catch(a){return console.error("Error handling failed:",a),Promise.reject(t)}});async function oie(t,s){if(n_){const o=new tc("Authentication required",up.UNAUTHORIZED,Qi.AUTHENTICATION_ERROR,s);return o.response=s.response,Promise.reject(o)}n_=!0,Yi.clearAuth();let a=3;const n=or.warning(`Session expired. Redirecting to login in ${a}...`,{autoClose:!1,closeOnClick:!1}),r=setInterval(()=>{a--,a>0?n&&or.update(n,`Session expired. Redirecting to login in ${a}...`,"warning"):(clearInterval(r),n&&or.update(n,"Redirecting to login...","warning"))},1e3);typeof window<"u"&&setTimeout(()=>{clearInterval(r),n&&or.dismiss(n),window.location.href="/login"},3e3);const i=new tc("Authentication required",up.UNAUTHORIZED,Qi.AUTHENTICATION_ERROR,s);return i.response=s.response,Promise.reject(i)}function lie(t){const a=t.response?.data?.message||"Access denied. Insufficient permissions.";mA(a,Rm.ERROR);const n=new tc(a,up.FORBIDDEN,Qi.AUTHORIZATION_ERROR,t);return n.response=t.response,Promise.reject(n)}function cie(t){const s=t.response?.status||400,a=t.response?.data,n=a?.error||a?.message||t.message||"Request failed",r=s===up.UNPROCESSABLE_ENTITY?new tc(n,s,Qi.VALIDATION_ERROR,t):new tc(n,s,Qi.CLIENT_ERROR,t);return r.response=t.response,Promise.reject(r)}function j8(t){let s=Qi.NETWORK_ERROR,a="Network error occurred. Please check your internet connection.";return t.code==="ECONNABORTED"||t.code==="ETIMEDOUT"?(s=Qi.TIMEOUT,a="Request timeout. Please try again."):t.code==="ECONNREFUSED"?a="Connection refused. The server may be unavailable.":t.code==="ENOTFOUND"?a="Server not found. Please check your connection.":t.code==="ERR_NETWORK"?a="Network error. Unable to reach the server.":t.message?.includes("Network Error")&&(a="Network error. Please check your internet connection."),mA(a,Rm.ERROR),Promise.reject(new tc(a,0,s,t))}function die(t){return Promise.reject(new tc("Request setup failed",0,Qi.CLIENT_ERROR,t))}function uie(t){const s=t.response?.status||0,a=t.response?.data,n=a?.error||a?.message||t.message||"Unknown error";let r=Qi.SERVER_ERROR;s>=400&&s<500?r=Qi.CLIENT_ERROR:t.response||(r=Qi.NETWORK_ERROR);const i=new tc(n,s,r,t);return i.response=t.response,i}function mie(){return`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function mA(t,s){let a=null;switch(s){case Rm.SUCCESS:a=or.success(t);break;case Rm.ERROR:a=or.error(t);break;case Rm.WARNING:a=or.warning(t);break;case Rm.INFO:a=or.info(t);break;default:a=or.info(t)}return a}const pie=()=>{n_=!1},hie=async t=>{try{return(await ie.get("/users",{params:t})).data}catch(s){throw s}},fie=async t=>{try{return(await ie.get(`/users/${t}`)).data}catch(s){throw s}},xie=async t=>(await ie.post("/users",t,{headers:t instanceof FormData?{"Content-Type":"multipart/form-data"}:{"Content-Type":"application/json"}})).data,gie=async(t,s)=>(await ie.put(`/users/${t}`,s,{headers:s instanceof FormData?{"Content-Type":"multipart/form-data"}:{"Content-Type":"application/json"}})).data,yie=async t=>(await ie.delete(`/users/${t}`)).data,bie=async()=>{try{return(await ie.get("/users/me")).data}catch(t){throw t}},vie=async t=>(await ie.put("/users/me",t,{headers:t instanceof FormData?{"Content-Type":"multipart/form-data"}:{"Content-Type":"application/json"}})).data,jie=async t=>{try{return(await ie.get("/users-dropdown",{params:t})).data}catch(s){throw s}},zl={all:["users"],lists:()=>[...zl.all,"list"],list:t=>[...zl.lists(),t],details:()=>[...zl.all,"detail"],detail:t=>[...zl.details(),t],profile:()=>[...zl.all,"profile"]},er=(t,s)=>nt({queryKey:zl.list(t),queryFn:()=>hie(t),staleTime:300*1e3,...s}),Nie=(t,s)=>nt({queryKey:zl.detail(t),queryFn:()=>fie(t),enabled:!!t,staleTime:300*1e3,...s}),pA=(t,s)=>nt({queryKey:["users","dropdown",t],queryFn:()=>jie(t),staleTime:300*1e3,...s}),Q4=()=>{const[t,s]=g.useState(()=>Yi.isAuthenticated());return g.useEffect(()=>{const a=()=>{const i=Yi.isAuthenticated();s(i)};a();const n=()=>{a()};window.addEventListener("auth-change",n);const r=setInterval(a,5e3);return()=>{window.removeEventListener("auth-change",n),clearInterval(r)}},[]),nt({queryKey:[...zl.profile(),t],queryFn:()=>bie(),staleTime:300*1e3,gcTime:600*1e3,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0,retry:1,enabled:t,select:a=>a?.data})},wie=t=>Re({mutationFn:s=>xie(s),loadingMessage:"Creating user...",invalidateQueries:["users"],onSuccess:t?.onSuccess,onError:t?.onError}),_ie=t=>Re({mutationFn:({id:s,userData:a})=>gie(s,a),loadingMessage:"Updating user...",invalidateQueries:["users"],onSuccess:t?.onSuccess,onError:t?.onError}),Sie=t=>Re({mutationFn:s=>yie(s),loadingMessage:"Deleting user...",invalidateQueries:["users"],onSuccess:t?.onSuccess,onError:t?.onError}),Cie=t=>Re({mutationFn:s=>vie(s),loadingMessage:"Updating profile...",invalidateQueries:["users"],onSuccess:t?.onSuccess,onError:t?.onError}),kie=(t,s)=>{const a=t.toLowerCase().replace(/-/g,"_"),n=s.toLowerCase();return`${a}_${n}`},Pie=t=>{const s=t.toLowerCase();return s.includes("admin")||s.includes("super admin")},Eie=(t,s)=>t.includes("*")?!0:t.includes(s),py=(t,s,a)=>{const n=kie(s,a);return Eie(t,n)},Ze=t=>{const{data:s,isLoading:a,error:n}=Q4(),r=g.useMemo(()=>s?s.role?.name&&Pie(s.role.name)?["*"]:s.permissions||[]:[],[s]),i=g.useMemo(()=>{if(!n)return!1;const u=n;return u?.errorType==="NETWORK_ERROR"||u?.errorType==="TIMEOUT"||u?.statusCode===0&&!u?.response||!u?.response&&(u?.code==="ERR_NETWORK"||u?.code==="ECONNREFUSED"||u?.code==="ETIMEDOUT"||u?.code==="ENOTFOUND")||u?.message&&(u.message.includes("Network")||u.message.includes("network"))},[n]),o=g.useMemo(()=>a||!s||i?!1:py(r,t,"create"),[r,t,a,s,i]),l=g.useMemo(()=>a||!s||i?!1:py(r,t,"read"),[r,t,a,s,i]),c=g.useMemo(()=>a||!s||i?!1:py(r,t,"update"),[r,t,a,s,i]),m=g.useMemo(()=>a||!s||i?!1:py(r,t,"delete"),[r,t,a,s,i]);return{isCreate:o,isUpdate:c,isDelete:m,isRead:l,isLoading:a,error:n,isNetworkError:i}},Tie=()=>{const[t,s]=g.useState(navigator.onLine),[a,n]=g.useState("");return g.useEffect(()=>{const r=()=>{const u=navigator;return u.connection||u.mozConnection||u.webkitConnection},i=()=>{const u=r();return u?.effectiveType||u?.type||""},o=()=>{s(!0),n(i())},l=()=>{s(!1),n("")},c=()=>{n(i())};n(i()),window.addEventListener("online",o),window.addEventListener("offline",l);const m=r();return m&&m.addEventListener("change",c),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",l),m&&m.removeEventListener("change",c)}},[]),{isOnline:t,connectionType:a}};const Mie=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Die=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,n)=>n?n.toUpperCase():a.toLowerCase()),N8=t=>{const s=Die(t);return s.charAt(0).toUpperCase()+s.slice(1)},hA=(...t)=>t.filter((s,a,n)=>!!s&&s.trim()!==""&&n.indexOf(s)===a).join(" ").trim(),Rie=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};var Aie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Iie=g.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:r="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...Aie,width:s,height:s,stroke:t,strokeWidth:n?Number(a)*24/Number(s):a,className:hA("lucide",r),...!i&&!Rie(l)&&{"aria-hidden":"true"},...l},[...o.map(([m,u])=>g.createElement(m,u)),...Array.isArray(i)?i:[i]]));const Bt=(t,s)=>{const a=g.forwardRef(({className:n,...r},i)=>g.createElement(Iie,{ref:i,iconNode:s,className:hA(`lucide-${Mie(N8(t))}`,`lucide-${t}`,n),...r}));return a.displayName=N8(t),a};const Oie=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],mp=Bt("activity",Oie);const Fie=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],eb=Bt("archive",Fie);const Lie=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],w8=Bt("arrow-down",Lie);const zie=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ja=Bt("arrow-left",zie);const $ie=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],xN=Bt("arrow-right-left",$ie);const qie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],r_=Bt("arrow-right",qie);const Bie=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Uie=Bt("arrow-up-down",Bie);const Vie=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],_8=Bt("arrow-up",Vie);const Hie=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],S8=Bt("award",Hie);const Wie=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],fA=Bt("battery",Wie);const Yie=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gN=Bt("bell",Yie);const Gie=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Sr=Bt("building-2",Gie);const Kie=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Qie=Bt("building",Kie);const Zie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_s=Bt("calendar",Zie);const Xie=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],C8=Bt("car",Xie);const Jie=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ed=Bt("chart-column",Jie);const eoe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Yl=Bt("check",eoe);const toe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Wc=Bt("circle-alert",toe);const soe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Oa=Bt("circle-check-big",soe);const aoe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Na=Bt("circle-x",aoe);const noe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ts=Bt("clock",noe);const roe=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],k8=Bt("coffee",roe);const ioe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Dp=Bt("credit-card",ioe);const ooe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],loe=Bt("database",ooe);const coe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Cn=Bt("dollar-sign",coe);const doe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Co=Bt("download",doe);const uoe=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],yN=Bt("droplet",uoe);const moe=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],_x=Bt("droplets",moe);const poe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hoe=Bt("eye",poe);const foe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Cs=Bt("file-text",foe);const xoe=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],xA=Bt("fingerprint",xoe);const goe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],P8=Bt("globe",goe);const yoe=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],boe=Bt("grip-vertical",yoe);const voe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Z4=Bt("history",voe);const joe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],gA=Bt("house",joe);const Noe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],woe=Bt("image",Noe);const _oe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Hr=Bt("info",_oe);const Soe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Coe=Bt("key",Soe);const koe=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Sb=Bt("layers",koe);const Poe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Eoe=Bt("lock",Poe);const Toe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Sx=Bt("mail",Toe);const Moe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Qs=Bt("map-pin",Moe);const Doe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],bN=Bt("message-square",Doe);const Roe=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],E8=Bt("move",Roe);const Aoe=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],ru=Bt("navigation",Aoe);const Ioe=[["path",{d:"M12 3v6",key:"1holv5"}],["path",{d:"M16.76 3a2 2 0 0 1 1.8 1.1l2.23 4.479a2 2 0 0 1 .21.891V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9.472a2 2 0 0 1 .211-.894L5.45 4.1A2 2 0 0 1 7.24 3z",key:"187q7i"}],["path",{d:"M3.054 9.013h17.893",key:"grwhos"}]],yA=Bt("package-2",Ioe);const Ooe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Wt=Bt("package",Ooe);const Foe=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],pp=Bt("percent",Foe);const Loe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],$v=Bt("phone",Loe);const zoe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qn=Bt("plus",zoe);const $oe=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],qoe=Bt("qr-code",$oe);const Boe=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Xn=Bt("receipt",Boe);const Uoe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Gl=Bt("refresh-cw",Uoe);const Voe=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],Yc=Bt("route",Voe);const Hoe=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],T8=Bt("ruler",Hoe);const Woe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ng=Bt("settings",Woe);const Yoe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Goe=Bt("shield-check",Yoe);const Koe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]],Qoe=Bt("shield-x",Koe);const Zoe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bA=Bt("shield",Zoe);const Xoe=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],fu=Bt("shopping-cart",Xoe);const Joe=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],M8=Bt("shuffle",Joe);const ele=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],vA=Bt("square-pen",ele);const tle=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Cb=Bt("store",tle);const sle=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],kn=Bt("tag",sle);const ale=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],il=Bt("target",ale);const nle=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],qv=Bt("thermometer",nle);const rle=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kb=Bt("trash-2",rle);const ile=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],js=Bt("trending-up",ile);const ole=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],la=Bt("triangle-alert",ole);const lle=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Wr=Bt("truck",lle);const cle=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],dle=Bt("upload",cle);const ule=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jo=Bt("user-check",ule);const mle=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],jA=Bt("user-plus",mle);const ple=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],hle=Bt("user-x",ple);const fle=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rn=Bt("user",fle);const xle=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ua=Bt("users",xle);const gle=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],D8=Bt("warehouse",gle);const yle=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],ble=Bt("weight",yle);const vle=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],sl=Bt("wrench",vle);const jle=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fr=Bt("x",jle);const Nle=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wle=Bt("zap",Nle),_le=t=>e.jsxs("svg",{viewBox:"0 0 500 500",height:450,width:450,...t,children:[e.jsxs("g",{children:[e.jsx("path",{d:"M373.23,244a21.78,21.78,0,0,1,2.12-5.37l-2.92-4.47,6.15-6.36,4.57,2.78a21.6,21.6,0,0,1,5.3-2.3l1.09-5.23,8.85-.15,1.27,5.2a21.78,21.78,0,0,1,5.37,2.12l4.47-2.93,6.36,6.16L413.08,238a21.53,21.53,0,0,1,2.3,5.29l5.23,1.1.15,8.85-5.2,1.27a21.87,21.87,0,0,1-2.12,5.36l2.93,4.48-6.16,6.36L405.64,268a21.91,21.91,0,0,1-5.29,2.3l-1.1,5.23-8.85.14-1.27-5.19a21.87,21.87,0,0,1-5.36-2.12l-4.48,2.92-6.36-6.15,2.78-4.57a22,22,0,0,1-2.3-5.3l-5.23-1.09-.14-8.85,5.19-1.27Zm11.67,5a9.49,9.49,0,1,0,9.34-9.65A9.48,9.48,0,0,0,384.9,249Z",style:{fill:"none"}}),e.jsx("path",{d:"M384.9,249a7.24,7.24,0,0,1,.16-2.35,9.57,9.57,0,0,1,7.38-7.32,9.8,9.8,0,0,1,5.12.31,9.78,9.78,0,0,1,4.59,3.31,9.7,9.7,0,0,1,.19,11.52,9.05,9.05,0,0,1-2,2.1,9.19,9.19,0,0,1-2.44,1.36,9.75,9.75,0,0,1-5.11.48,9.6,9.6,0,0,1-7.62-7.08,7.32,7.32,0,0,1-.23-2.33,21.12,21.12,0,0,0,.43,2.28,9.5,9.5,0,0,0,3.55,5.05,9.28,9.28,0,0,0,8.8,1.15,8.88,8.88,0,0,0,2.32-1.3,8.7,8.7,0,0,0,1.92-2,9.22,9.22,0,0,0-.18-10.92,8.88,8.88,0,0,0-2-1.94,8.69,8.69,0,0,0-2.36-1.22,9.29,9.29,0,0,0-4.87-.34,9.12,9.12,0,0,0-3.89,1.77,9.45,9.45,0,0,0-3.38,5.17A19.37,19.37,0,0,0,384.9,249Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M373.23,244a1.31,1.31,0,0,1-.32.1l-1,.26-3.87,1,.06-.08c.05,2.26.11,5.24.19,8.84l-.1-.12,5.24,1.07.09,0,0,.09a21.81,21.81,0,0,0,2.3,5.25l.05.09-.05.08-2.77,4.58,0-.23,6.37,6.15-.25,0,4.47-2.93.11-.08.11.07a22.18,22.18,0,0,0,5.32,2.09l.13,0,0,.14c.4,1.61.83,3.38,1.28,5.19l-.23-.18,8.85-.15-.24.19c.34-1.63.72-3.42,1.09-5.24l0-.14.15,0a21.48,21.48,0,0,0,5.23-2.28l.13-.08.13.08,4.57,2.78-.31,0,6.15-6.36,0,.32-2.93-4.48-.08-.13.07-.14a21.33,21.33,0,0,0,2.1-5.29h0l0-.15.15,0,5.2-1.26-.2.25c-.05-3-.1-5.94-.14-8.85l.2.25-5.23-1.1-.15,0-.05-.15a21.38,21.38,0,0,0-2.26-5.23l-.08-.13.08-.13,2.78-4.57,0,.31-6.35-6.16.29,0-4.48,2.93-.12.07-.12-.07a21.53,21.53,0,0,0-5.3-2.1l-.14,0,0-.13-1.26-5.2.22.17-8.85.13.19-.16c-.39,1.84-.76,3.56-1.11,5.23l0,.11-.11,0a21.68,21.68,0,0,0-5.26,2.26l-.09.06-.09-.06L378.5,228l.19,0-6.18,6.34,0-.15,2.89,4.5,0,0,0,0a22.2,22.2,0,0,0-1.77,4c-.14.44-.24.78-.32,1s-.11.34-.11.34,0-.12.07-.35.14-.58.28-1a20.87,20.87,0,0,1,1.7-4v.09c-.8-1.22-1.77-2.68-2.95-4.46l-.05-.08.06-.06,6.13-6.39.09-.09.1.07,4.58,2.76h-.17a21.58,21.58,0,0,1,5.33-2.33l-.14.14c.35-1.66.71-3.39,1.09-5.23l0-.16h.16l8.85-.16h.17l0,.17c.42,1.69.84,3.41,1.28,5.19l-.17-.16a21.76,21.76,0,0,1,5.43,2.14h-.24l4.47-2.94.16-.1.14.13,6.37,6.15.14.14-.11.17-2.77,4.57v-.26a21.86,21.86,0,0,1,2.33,5.35l-.2-.18,5.24,1.1.2,0v.21q.08,4.37.15,8.84v.21l-.2.05-5.2,1.27.2-.19h0a22.28,22.28,0,0,1-2.14,5.43v-.27l2.92,4.48.12.17-.15.15-6.16,6.36-.14.14-.17-.1-4.57-2.79h.26a21.55,21.55,0,0,1-5.36,2.32l.18-.18c-.38,1.81-.76,3.6-1.1,5.23l0,.19h-.2l-8.85.14h-.18l0-.18-1.26-5.2.16.17a22.31,22.31,0,0,1-5.42-2.16h.23l-4.49,2.91-.13.09-.12-.11-6.35-6.17-.1-.1.07-.13,2.79-4.56v.17a21.94,21.94,0,0,1-2.29-5.34l.11.11-5.23-1.11-.1,0v-.1c0-3.61-.07-6.59-.1-8.85v-.07H368l3.86-.9,1-.22Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M114.41,219.61a24.61,24.61,0,0,1,2.37-6l-3.27-5,6.88-7.11,5.12,3.11a24.46,24.46,0,0,1,5.92-2.57l1.22-5.85,9.9-.16,1.42,5.81a24.21,24.21,0,0,1,6,2.37l5-3.27,7.11,6.88L159,212.93a24.29,24.29,0,0,1,2.57,5.92l5.85,1.22.16,9.9-5.81,1.42a24.21,24.21,0,0,1-2.37,6l3.27,5-6.88,7.11-5.12-3.11a24.29,24.29,0,0,1-5.92,2.57l-1.22,5.85-9.9.16-1.42-5.81a24.21,24.21,0,0,1-6-2.37l-5,3.27-7.11-6.88,3.11-5.12a24.46,24.46,0,0,1-2.57-5.92l-5.85-1.22-.16-9.9,5.81-1.42Zm13,5.61a10.62,10.62,0,1,0,10.44-10.79A10.62,10.62,0,0,0,127.46,225.22Z",style:{fill:"#ebebeb",fillRule:"evenodd"}}),e.jsx("path",{d:"M342.47,194a7,7,0,0,1,.68-1.73l-.94-1.45,2-2.05,1.47.9a7.28,7.28,0,0,1,1.71-.75l.35-1.69,2.86,0,.41,1.67a7.27,7.27,0,0,1,1.73.69l1.45-.94,2.05,2-.89,1.48a7.25,7.25,0,0,1,.74,1.71l1.69.35,0,2.86-1.67.41a7.44,7.44,0,0,1-.69,1.73l.95,1.45-2,2-1.48-.9a6.86,6.86,0,0,1-1.71.74l-.35,1.69-2.86.05-.41-1.68a7,7,0,0,1-1.73-.68l-1.45.94-2.05-2,.9-1.48a6.86,6.86,0,0,1-.74-1.71l-1.69-.35,0-2.86,1.68-.41Zm3.76,1.62a3.07,3.07,0,1,0,3-3.12A3.07,3.07,0,0,0,346.23,195.66Z",style:{fill:"#ebebeb",fillRule:"evenodd"}}),e.jsx("path",{d:"M48.58,223.62a9.94,9.94,0,0,1,1-2.39l-1.31-2L51,216.38l2,1.24a9.36,9.36,0,0,1,2.36-1l.49-2.34,4-.07.57,2.32a10.37,10.37,0,0,1,2.39,1l2-1.3,2.84,2.75-1.24,2a9.81,9.81,0,0,1,1,2.37l2.34.49.07,3.95-2.33.57a10,10,0,0,1-.94,2.4l1.3,2-2.75,2.84-2-1.24a9.43,9.43,0,0,1-2.37,1l-.49,2.34-4,.07-.57-2.32a10,10,0,0,1-2.4-.95l-2,1.31L48.45,233l1.24-2a9.28,9.28,0,0,1-1-2.37l-2.34-.49-.07-3.95,2.32-.57Zm5.22,2.24A4.24,4.24,0,1,0,58,221.55,4.24,4.24,0,0,0,53.8,225.86Z",style:{fill:"#ebebeb",fillRule:"evenodd"}}),e.jsx("path",{d:"M408.34,159.92a22.21,22.21,0,0,1,2.17-5.49l-3-4.58,6.3-6.51,4.67,2.84a22.38,22.38,0,0,1,5.42-2.34l1.12-5.36,9.05-.15,1.3,5.32a22.37,22.37,0,0,1,5.49,2.17l4.58-3,6.5,6.29-2.84,4.68a22,22,0,0,1,2.35,5.41l5.36,1.13.14,9-5.31,1.29a22.06,22.06,0,0,1-2.17,5.49l3,4.58-6.3,6.51-4.67-2.84a22.4,22.4,0,0,1-5.42,2.35L435,192.12l-9,.15-1.3-5.32a22,22,0,0,1-5.49-2.17l-4.58,3-6.5-6.3,2.84-4.68a22,22,0,0,1-2.35-5.41l-5.35-1.12-.15-9.06,5.31-1.29Zm11.94,5.13a9.71,9.71,0,1,0,9.55-9.87A9.7,9.7,0,0,0,420.28,165.05Z",style:{fill:"#ebebeb",fillRule:"evenodd"}}),e.jsx("path",{d:"M62.94,310.83a19.9,19.9,0,0,1,2-5l-2.71-4.15,5.7-5.89,4.23,2.58a19.83,19.83,0,0,1,4.9-2.13l1-4.85,8.19-.13,1.18,4.81a20.21,20.21,0,0,1,5,2l4.14-2.71,5.89,5.7-2.57,4.23a20.18,20.18,0,0,1,2.12,4.9l4.85,1,.14,8.19-4.82,1.18a20.19,20.19,0,0,1-2,5l2.71,4.14-5.7,5.89L93,333a20.26,20.26,0,0,1-4.9,2.13L87,340l-8.2.14-1.17-4.81a20.29,20.29,0,0,1-5-2l-4.15,2.71-5.89-5.7,2.58-4.24a19.51,19.51,0,0,1-2.13-4.9l-4.85-1-.13-8.2,4.81-1.17Zm10.8,4.64a8.8,8.8,0,1,0,8.65-8.93A8.79,8.79,0,0,0,73.74,315.47Z",style:{fill:"#f5f5f5",fillRule:"evenodd"}}),e.jsx("path",{d:"M234.89,141.28a9.07,9.07,0,0,1,.85-2.17l-1.18-1.8,2.49-2.57,1.84,1.12a8.8,8.8,0,0,1,2.13-.92l.45-2.11,3.56-.06.51,2.09a8.55,8.55,0,0,1,2.17.86l1.8-1.18,2.57,2.48L251,138.87a8.42,8.42,0,0,1,.92,2.13l2.11.44.06,3.57-2.09.51a8.7,8.7,0,0,1-.86,2.17l1.18,1.8-2.48,2.57L248,150.94a8.87,8.87,0,0,1-2.14.92l-.44,2.11-3.57.06-.51-2.09a8.48,8.48,0,0,1-2.16-.86l-1.81,1.18-2.56-2.48,1.12-1.85a8.82,8.82,0,0,1-.93-2.13l-2.11-.44-.06-3.57,2.1-.51Zm4.7,2a3.83,3.83,0,1,0,3.77-3.89A3.84,3.84,0,0,0,239.59,143.3Z",style:{fill:"#f5f5f5",fillRule:"evenodd"}}),e.jsx("path",{d:"M420,390.92c4.5-2.32,9.79-2.62,14.78-1.8,2.69.45,5.48,1.25,7.31,3.26s2.17,5.56.07,7.29a6.91,6.91,0,0,1-4.6,1.17c-3.91,0-8.25-.73-11.37,1.62-1.78,1.34-3,3.57-5.1,4.23a5,5,0,0,1-5.54-2.46,8.6,8.6,0,0,1-.62-6.35A9.7,9.7,0,0,1,420,390.92Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M409.66,371c2.75,3.93,8.09,2.63,10.57.23s3.52-5.87,4.48-9.18c2.18-7.57,4.37-15.52,2.75-23.23a12.86,12.86,0,0,0-3-6.31,6.72,6.72,0,0,0-6.39-2.12c-2.69.71-4.37,3.35-5.58,5.86A55.35,55.35,0,0,0,407.06,360c0,3.83.44,7.84,2.6,11",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M402.11,376.67c3-3.55,3.55-8.72,2.22-13.16s-4.33-8.21-7.79-11.29a41.81,41.81,0,0,0-14-8.23,14.87,14.87,0,0,0-6.27-1.07,6.55,6.55,0,0,0-5.26,3.19c-1.47,2.8-.07,6.19,1.46,9A106.42,106.42,0,0,0,381.68,369c2.74,3.54,5.89,7,10.07,8.63s8.54,1.42,10.75-1.49",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M409.47,430.28a8.48,8.48,0,0,0,.25-1.79c.13-1.3.28-2.93.47-4.87a70.83,70.83,0,0,1,1.1-7.14,54.77,54.77,0,0,1,2.6-8.44,31.09,31.09,0,0,1,4.3-7.62,16,16,0,0,1,5.44-4.53,15.56,15.56,0,0,1,4.59-1.43,8.61,8.61,0,0,0,1.78-.25,7.68,7.68,0,0,0-1.81,0,14,14,0,0,0-4.78,1.24,16,16,0,0,0-5.74,4.57,30,30,0,0,0-4.47,7.78,52.18,52.18,0,0,0-2.58,8.57,62.27,62.27,0,0,0-.95,7.23c-.15,2.07-.21,3.75-.24,4.9A8.89,8.89,0,0,0,409.47,430.28Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M409.81,426.53a3.84,3.84,0,0,0,0-.83v-2.37c0-2.05,0-5,.1-8.7.19-7.34.82-15.25,2-26.39,1.16-10.48,2.71-22.68,4.35-30.61.35-1.8.7-3.42,1-4.84s.59-2.66.86-3.65.4-1.7.55-2.3a2.94,2.94,0,0,0,.14-.82,4,4,0,0,0-.28.78l-.69,2.27c-.31,1-.62,2.2-1,3.62s-.76,3-1.14,4.83a268.55,268.55,0,0,0-4.57,28.4c-1.23,11.17-1.78,21.34-1.83,28.7,0,3.68,0,6.66.13,8.72.06,1,.11,1.74.15,2.37A3.14,3.14,0,0,0,409.81,426.53Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M409.86,406.92a16.24,16.24,0,0,0,0-2.48c-.09-1.59-.31-3.88-.76-6.7A87.45,87.45,0,0,0,406.9,388a79.53,79.53,0,0,0-4.08-11.56,61.73,61.73,0,0,0-12-18.67,30.88,30.88,0,0,0-2.82-2.62c-.44-.37-.82-.73-1.21-1l-1.09-.76a15.66,15.66,0,0,0-2.09-1.33c-.11.16,2.95,2,6.83,6.09a64.87,64.87,0,0,1,11.69,18.6,91.53,91.53,0,0,1,4.11,11.45c1.07,3.59,1.78,6.89,2.32,9.67s.8,5.06,1,6.64A14.61,14.61,0,0,0,409.86,406.92Z",style:{fill:"#ebebeb"}}),e.jsx("polygon",{points:"390.9 441.51 392.87 468.43 427.45 468.43 429.42 441.51 390.9 441.51",style:{fill:"#ebebeb"}}),e.jsx("rect",{x:"387.56",y:"430.9",width:"45.98",height:"10.61",style:{fill:"#ebebeb"}}),e.jsx("polygon",{points:"387.56 467.4 387.56 470.35 389.72 470.35 432.78 470.35 432.78 467.4 387.56 467.4",style:{fill:"#ebebeb"}}),e.jsx("polygon",{points:"391.84 475.52 389.72 470.35 431.14 470.35 428.67 475.52 391.84 475.52",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M428.77,450.31s0,.09-.16.25l-.51.68-2,2.58-.09.12-.08-.12L421,447h.28l-4.87,6.9-.16.22-.17-.21L410.26,447h.34l-.32.4-5.17,6.48-.17.22-.16-.23L399.9,447l.29,0c-2.41,2.73-4.44,5.06-6,6.84l-.1.12-.09-.14-1.88-3.16-.48-.84a1.64,1.64,0,0,1-.15-.3,1.92,1.92,0,0,1,.21.27l.53.81,2,3.1H394c1.53-1.81,3.54-4.16,5.9-6.93l.15-.17.14.18,4.92,6.87h-.33l5.15-6.49.32-.4.16-.2.17.2,5.77,6.89H416l4.93-6.86.14-.2.14.2,4.85,6.92h-.18c.88-1.06,1.58-1.9,2.1-2.51l.56-.65Z",style:{fill:"#f5f5f5"}}),e.jsx("path",{d:"M429.9,441.33c0,.12-8.67.22-19.36.22s-19.35-.1-19.35-.22,8.66-.21,19.35-.21S429.9,441.21,429.9,441.33Z",style:{fill:"#f5f5f5"}}),e.jsx("path",{d:"M431.65,470.63c0,.12-9.42.22-21,.22s-21-.1-21-.22,9.42-.21,21-.21S431.65,470.52,431.65,470.63Z",style:{fill:"#f5f5f5"}}),e.jsx("path",{d:"M67.42,169.17a10.87,10.87,0,0,1,1.79,0c.58,0,1.29,0,2.1.06s1.76.09,2.78.22a64.67,64.67,0,0,1,7.17,1.13A71.67,71.67,0,0,1,89.8,173a72,72,0,0,1,8.12,3.61,62.75,62.75,0,0,1,6.21,3.76c.87.56,1.6,1.14,2.27,1.62s1.21.93,1.65,1.31a12.38,12.38,0,0,1,1.34,1.19,10.53,10.53,0,0,1-1.47-1c-.46-.35-1-.77-1.7-1.23s-1.42-1-2.29-1.56c-1.71-1.13-3.83-2.37-6.23-3.63a76.93,76.93,0,0,0-8.08-3.55,77.6,77.6,0,0,0-8.46-2.5,72.05,72.05,0,0,0-7.11-1.24c-1-.15-1.94-.2-2.76-.29s-1.51-.12-2.09-.15A11.41,11.41,0,0,1,67.42,169.17Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M48.89,280.58a3.13,3.13,0,0,1,.54-.46l1.6-1.21c.69-.53,1.56-1.17,2.6-1.85s2.19-1.5,3.54-2.29,2.79-1.71,4.42-2.57,3.37-1.76,5.23-2.67a109,109,0,0,1,12.52-4.92,110.78,110.78,0,0,1,13.07-3.19c2-.32,4-.66,5.82-.83s3.53-.36,5.09-.45,3-.13,4.22-.16,2.31,0,3.18,0l2,.07a3.2,3.2,0,0,1,.7.06,3.45,3.45,0,0,1-.7,0l-2,0c-.87,0-1.94,0-3.18.08s-2.64.08-4.19.24-3.26.25-5.07.51-3.75.54-5.78.87a114.31,114.31,0,0,0-13,3.22A115.86,115.86,0,0,0,67,270c-1.85.9-3.62,1.73-5.22,2.62s-3.1,1.71-4.44,2.5-2.52,1.57-3.57,2.23-1.93,1.26-2.64,1.76l-1.66,1.14A4.71,4.71,0,0,1,48.89,280.58Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M120.76,334.33a2.15,2.15,0,0,1,.07-.54l.3-1.54c.13-.66.31-1.47.55-2.4s.48-2,.83-3.17c.65-2.34,1.54-5.08,2.67-8.09s2.53-6.24,4.18-9.56,3.44-6.36,5.15-9.08,3.4-5.06,4.89-7c.72-1,1.43-1.81,2-2.56s1.14-1.37,1.6-1.88l1-1.16c.25-.26.38-.39.4-.38a2.17,2.17,0,0,1-.32.45c-.25.33-.58.73-1,1.22s-.95,1.17-1.53,1.94-1.27,1.61-2,2.6c-1.44,1.93-3.06,4.31-4.77,7s-3.43,5.76-5.09,9.06-3,6.52-4.21,9.49-2.07,5.71-2.76,8c-.37,1.16-.64,2.22-.9,3.14s-.47,1.72-.63,2.38-.29,1.11-.4,1.51A2.61,2.61,0,0,1,120.76,334.33Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M256.62,59.85a4,4,0,0,1-.39.6L255,62.14c-.53.72-1.17,1.61-1.87,2.67s-1.55,2.24-2.39,3.6S249,71.24,248,72.87s-1.93,3.39-2.95,5.24c-2,3.75-4,8-5.83,12.47s-3.32,8.94-4.53,13c-.56,2-1.13,4-1.55,5.81s-.82,3.54-1.15,5.11-.57,3-.8,4.24-.4,2.34-.52,3.23-.24,1.52-.32,2a3.25,3.25,0,0,1-.15.7,3.9,3.9,0,0,1,0-.72c.06-.52.13-1.2.23-2s.22-2,.44-3.24.39-2.7.72-4.27.64-3.31,1.09-5.14,1-3.79,1.51-5.84c1.19-4.08,2.67-8.52,4.5-13.07s3.9-8.75,5.9-12.49c1-1.86,2-3.63,3-5.24s1.92-3.1,2.8-4.44,1.73-2.52,2.46-3.56,1.39-1.93,2-2.63.95-1.22,1.28-1.63A2.87,2.87,0,0,1,256.62,59.85Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M346.65,163.74a2.88,2.88,0,0,1-.6.11l-1.73.23-1.25.15c-.46.07-.95.18-1.47.27-1.06.22-2.27.39-3.57.77l-2,.53c-.72.19-1.44.46-2.19.7-1.53.46-3.09,1.14-4.74,1.81a57.83,57.83,0,0,0-18.89,13.27c-1.19,1.33-2.36,2.57-3.3,3.85-.48.63-1,1.21-1.41,1.81L304.26,189c-.8,1.09-1.37,2.18-1.93,3.09-.27.47-.54.89-.76,1.3l-.56,1.12-.8,1.55a2.44,2.44,0,0,1-.32.53,3.28,3.28,0,0,1,.22-.57c.19-.42.42-1,.72-1.6l.52-1.15c.21-.41.47-.84.73-1.32a36.3,36.3,0,0,1,1.87-3.16l1.18-1.78c.41-.62.91-1.21,1.39-1.85.94-1.3,2.1-2.56,3.29-3.91a56.24,56.24,0,0,1,19.05-13.38c1.67-.66,3.25-1.33,4.79-1.78.77-.23,1.5-.5,2.22-.68l2.07-.5a34.58,34.58,0,0,1,3.61-.69c.53-.09,1-.18,1.49-.23l1.26-.11,1.74-.13A2.18,2.18,0,0,1,346.65,163.74Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M420.18,223.25l-.26-.08-.75-.25-2.87-1-2.07-.76c-.76-.26-1.6-.51-2.5-.8-1.79-.56-3.81-1.27-6.11-1.85l-3.58-1c-1.25-.34-2.57-.6-3.92-.92-2.7-.67-5.64-1.16-8.71-1.72a150.92,150.92,0,0,0-40.57-1.24c-3.1.37-6.06.68-8.8,1.18-1.37.24-2.7.42-4,.68l-3.63.75c-2.33.44-4.39,1-6.22,1.48-.91.23-1.76.43-2.53.64l-2.12.63-2.92.86-.77.21a1,1,0,0,1-.27,0l.25-.1.75-.26,2.9-1,2.11-.67c.77-.23,1.62-.45,2.53-.7,1.82-.47,3.88-1.08,6.21-1.55l3.64-.79c1.26-.27,2.6-.46,4-.7,2.75-.53,5.71-.85,8.82-1.24a147.09,147.09,0,0,1,40.7,1.25c3.08.58,6,1.08,8.72,1.77,1.36.33,2.68.6,3.93,1l3.58,1c2.3.61,4.31,1.35,6.1,1.93.9.3,1.73.57,2.49.85l2.06.8,2.84,1.12.73.31C420.1,223.2,420.19,223.24,420.18,223.25Z",style:{fill:"#ebebeb"}})]}),e.jsxs("g",{children:[e.jsx("path",{d:"M264.75,59.34V87.86c-6.47,6.35-29.85,29.93-29.85,29.93h29.85v22.45a14.49,14.49,0,0,0,14.35,14.48l165.48,1.56a14.47,14.47,0,0,0,14.61-14.48V59.34a14.48,14.48,0,0,0-14.48-14.48H279.23A14.48,14.48,0,0,0,264.75,59.34Z",style:{fill:"#fafafa"}}),e.jsx("path",{d:"M264.75,59.34s0-.55.06-1.62a14.69,14.69,0,0,1,1.28-4.58,14.45,14.45,0,0,1,1.84-3,15.57,15.57,0,0,1,3.12-2.88,14.65,14.65,0,0,1,4.5-2.05,20.3,20.3,0,0,1,5.6-.5l67.24-.1,46.43,0,25.87,0H444.6c.59,0,1.19,0,1.78.1a13.38,13.38,0,0,1,1.77.31,14.76,14.76,0,0,1,10.43,9.27,15.07,15.07,0,0,1,.85,3.58c.08,1.24.08,2.45.07,3.67q0,3.65,0,7.33V98.88q0,15.32,0,31.15V142a15.29,15.29,0,0,1-.6,4,14.71,14.71,0,0,1-4.36,6.85,13.65,13.65,0,0,1-3.42,2.29,14.62,14.62,0,0,1-3.94,1.26,20.55,20.55,0,0,1-3.91.2l-3.85,0-7.68-.08-15.2-.14-29.75-.29-56.41-.55-51.3-.51a14.77,14.77,0,0,1-10.74-4.82,15,15,0,0,1-3.86-10.71q0-11.27,0-21.67l.24.24-29.85,0h-.49l.35-.35,29.9-29.89,0,.1c0-9.26.05-16.39.06-21.21,0-2.4,0-4.22,0-5.46s0-1.85,0-1.85,0,.62,0,1.85,0,3.06,0,5.46c0,4.82,0,11.95.07,21.21v0l0,0-29.8,30-.15-.35,29.85,0H265v.24q0,10.39,0,21.67a14.47,14.47,0,0,0,3.74,10.35,14.23,14.23,0,0,0,10.35,4.63l51.3.46,56.4.51,29.76.28,15.2.14,7.67.07,3.86,0a19.18,19.18,0,0,0,3.8-.2,14.22,14.22,0,0,0,11.19-9.93,14.43,14.43,0,0,0,.58-3.86c0-1.33,0-2.66,0-4V98.88q0-15.31,0-30.06,0-3.69,0-7.33c0-1.22,0-2.43-.08-3.6a15,15,0,0,0-.8-3.44,14.17,14.17,0,0,0-10-8.89c-2.23-.59-4.57-.36-6.89-.41h-46.3l-46.43,0L281.15,45a19.83,19.83,0,0,0-5.55.47,14.43,14.43,0,0,0-4.44,2,15.23,15.23,0,0,0-3.1,2.82,14.05,14.05,0,0,0-1.85,2.94A15.4,15.4,0,0,0,264.75,59.34Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M317.31,124.67H314v4.41h-1.73v-4.41h-9.46v-1.25l8.89-11.11h1.92L305,123.14h7.28v-3.88H314v3.88h3.35Z"}),e.jsx("path",{d:"M318.89,120.69c0-5.34,2.8-8.52,6.68-8.52s6.71,3.18,6.71,8.52-2.83,8.53-6.71,8.53S318.89,126,318.89,120.69Zm11.62,0c0-4.48-2-6.94-4.94-6.94s-4.93,2.46-4.93,6.94,2,7,4.93,7S330.51,125.17,330.51,120.69Z"}),e.jsx("path",{d:"M349,124.67h-3.35v4.41h-1.72v-4.41h-9.47v-1.25l8.89-11.11h1.92l-8.58,10.83H344v-3.88h1.68v3.88H349Z"}),e.jsx("path",{d:"M370.32,127.54v1.54H358.46V112.31H370v1.53h-9.73v6h8.67v1.51h-8.67v6.22Z"}),e.jsx("path",{d:"M380.47,116.38V118l-.41,0c-2.63,0-4.24,1.68-4.24,4.65v6.42h-1.7v-12.6h1.63v2.46C376.54,117.27,378.14,116.38,380.47,116.38Z"}),e.jsx("path",{d:"M389.88,116.38V118l-.41,0c-2.63,0-4.24,1.68-4.24,4.65v6.42h-1.7v-12.6h1.63v2.46C386,117.27,387.56,116.38,389.88,116.38Z"}),e.jsx("path",{d:"M391.55,122.78A6.41,6.41,0,1,1,398,129.2,6.2,6.2,0,0,1,391.55,122.78Zm11.09,0a4.69,4.69,0,1,0-4.67,4.91A4.59,4.59,0,0,0,402.64,122.78Z"}),e.jsx("path",{d:"M414.19,116.38V118l-.41,0c-2.64,0-4.24,1.68-4.24,4.65v6.42h-1.7v-12.6h1.63v2.46C410.26,117.27,411.86,116.38,414.19,116.38Z"}),e.jsx("path",{d:"M303.91,84.5c0-7.87,6.13-13.7,14.49-13.7s14.5,5.79,14.5,13.7-6.17,13.7-14.5,13.7S303.91,92.37,303.91,84.5Zm22.78,0A8.29,8.29,0,1,0,318.4,93,8.09,8.09,0,0,0,326.69,84.5Z"}),e.jsx("path",{d:"M335.58,87.56c0-6.13,4.73-10.48,11.2-10.48s11.16,4.35,11.16,10.48S353.25,98,346.78,98,335.58,93.69,335.58,87.56Zm16.38,0c0-3.51-2.23-5.63-5.18-5.63s-5.23,2.12-5.23,5.63,2.27,5.64,5.23,5.64S352,91.08,352,87.56Z"}),e.jsx("path",{d:"M384,87.56C384,94,379.61,98,373.9,98a7.92,7.92,0,0,1-6.13-2.45v9.49h-5.9V77.39h5.64v2.34a7.89,7.89,0,0,1,6.39-2.65C379.61,77.08,384,81.17,384,87.56Zm-6,0c0-3.51-2.23-5.63-5.18-5.63s-5.18,2.12-5.18,5.63,2.23,5.64,5.18,5.64S378.06,91.08,378.06,87.56Z"}),e.jsx("path",{d:"M386,95.85l2-4.24a13.88,13.88,0,0,0,7.08,2c2.72,0,3.74-.72,3.74-1.85,0-3.33-12.29.07-12.29-8.06,0-3.86,3.48-6.59,9.42-6.59a16.79,16.79,0,0,1,7.83,1.78l-2,4.2a11.72,11.72,0,0,0-5.86-1.51c-2.65,0-3.79.83-3.79,1.89,0,3.48,12.3.11,12.3,8.13,0,3.79-3.52,6.47-9.61,6.47A17.51,17.51,0,0,1,386,95.85Z"}),e.jsx("path",{d:"M407.19,94.6a3.64,3.64,0,0,1,7.26,0,3.64,3.64,0,0,1-7.26,0Zm.11-23.34h7l-1.17,17.29h-4.69Z"})]}),e.jsxs("g",{children:[e.jsx("path",{d:"M175.84,45.12h1.32a13.95,13.95,0,0,1,13.95,13.95v3.77a13.95,13.95,0,0,1-13.95,13.95h-1.32a0,0,0,0,1,0,0V45.12A0,0,0,0,1,175.84,45.12Z",transform:"translate(10.33 146.97) rotate(-44.79)",style:{fill:"#455a64"}}),e.jsx("path",{d:"M189.22,77.6h0l-22.33-22.5h0l.93-.93a13.9,13.9,0,0,1,9.85-4.06h.05a13.91,13.91,0,0,1,9.87,4.12l2.66,2.68a14,14,0,0,1-.07,19.77ZM166.94,55.09l22.28,22.44.92-.91a13.93,13.93,0,0,0,.07-19.69l-2.66-2.68a13.81,13.81,0,0,0-9.83-4.11h-.05a13.83,13.83,0,0,0-9.81,4Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M97.86,121.34h1.32a13.95,13.95,0,0,1,13.95,13.95v3.77a14,14,0,0,1-14,14H97.86a0,0,0,0,1,0,0V121.34A0,0,0,0,1,97.86,121.34Z",transform:"translate(276.05 166.43) rotate(137.3)",style:{fill:"#455a64"}}),e.jsx("path",{d:"M111.43,148.25h-.58a13.91,13.91,0,0,1-9.71-4.48L98.59,141a14,14,0,0,1,.79-19.75l1-.91,0,0,21.49,23.29,0,0-1,.9A13.86,13.86,0,0,1,111.43,148.25Zm-12-27A13.93,13.93,0,0,0,98.62,141l2.56,2.77a13.85,13.85,0,0,0,9.68,4.47h.57a13.83,13.83,0,0,0,9.43-3.69l1-.88-21.44-23.24Z",style:{fill:"#263238"}}),e.jsx("rect",{x:"93.19",y:"89.53",width:"2.5",height:"20.69",transform:"translate(-42.59 110.68) rotate(-51.11)",style:{fill:"#455a64"}}),e.jsx("path",{d:"M88.22,88.3a5.1,5.1,0,1,1-7.17.77A5.12,5.12,0,0,1,88.22,88.3Z",style:{fill:"#263238"}}),e.jsx("rect",{x:"102.48",y:"70.93",width:"99.18",height:"74.84",rx:"16.5",transform:"translate(-32.18 138.62) rotate(-44.8)",style:{fill:"#4453FF"}}),e.jsx("polygon",{points:"150.5 57.18 148.29 48.75 142.54 49.7 140.88 43.61 142.76 43.18 144.07 47.61 149.81 46.83 152.21 55.48 150.5 57.18",style:{fill:"#455a64"}}),e.jsx("rect",{x:"101.79",y:"85.29",width:"85.13",height:"30.57",rx:"13.96",transform:"translate(-28.95 130.92) rotate(-44.8)",style:{fill:"#263238"}}),e.jsx("path",{d:"M177.66,95s.12-.16.37-.45a14.86,14.86,0,0,0,1.1-1.33,16.84,16.84,0,0,0,2.93-5.87,18.94,18.94,0,0,0,.67-4.7,18.57,18.57,0,0,0-.9-5.56,17.22,17.22,0,0,0-3.12-5.65l-1.18-1.3-1.28-1.28a26.54,26.54,0,0,0-2.76-2.52A17.67,17.67,0,0,0,166.27,63a17.88,17.88,0,0,0-8.56.5,17.5,17.5,0,0,0-4.12,1.92,21.42,21.42,0,0,0-3.62,3l-7.05,7-31.43,31.23a17.41,17.41,0,0,0-5,10.11,18.06,18.06,0,0,0,.18,5.59,17.88,17.88,0,0,0,3.44,7.41c.59.69,1.17,1.36,1.83,2a30.29,30.29,0,0,0,3.94,3.62,17.35,17.35,0,0,0,19,.87,18.61,18.61,0,0,0,2-1.33c.6-.51,1.19-1,1.74-1.57l3.29-3.25,12-11.85,17.37-17.13L176,96.55l1.24-1.2c.28-.26.44-.39.44-.39s-.13.15-.4.43l-1.21,1.24-4.67,4.7-17.26,17.25-11.93,11.9-3.27,3.26c-.56.55-1.17,1.08-1.77,1.6a19.85,19.85,0,0,1-2,1.38,17.84,17.84,0,0,1-19.52-.86,32.38,32.38,0,0,1-4-3.67c-.65-.63-1.26-1.34-1.87-2a20.56,20.56,0,0,1-1.56-2.33,17.65,17.65,0,0,1-2-5.3,18.52,18.52,0,0,1-.19-5.76,17.85,17.85,0,0,1,5.11-10.4l31.46-31.21,7.07-7a22,22,0,0,1,3.7-3.07,17.72,17.72,0,0,1,20.36.93,26.56,26.56,0,0,1,2.79,2.57l1.27,1.29L179,71.18A17.6,17.6,0,0,1,182.11,77a18.15,18.15,0,0,1,.86,5.65,19.29,19.29,0,0,1-.71,4.76,16.84,16.84,0,0,1-3,5.88,12.48,12.48,0,0,1-1.15,1.29Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M125.76,126.43a78.3,78.3,0,0,1-.39-9,75.7,75.7,0,0,1,.14-9,80.3,80.3,0,0,1,.38,9A79.51,79.51,0,0,1,125.76,126.43Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M134.47,116.72a74.85,74.85,0,0,1-9,.67,81.18,81.18,0,0,1-9,.15,75.16,75.16,0,0,1,9-.67A81,81,0,0,1,134.47,116.72Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M161.4,90.11a78.76,78.76,0,0,1-.39-9,75.37,75.37,0,0,1,.14-9,80.3,80.3,0,0,1,.38,9A79.51,79.51,0,0,1,161.4,90.11Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M170.11,80.4a80.16,80.16,0,0,1-9,.67,76.89,76.89,0,0,1-9,.14,79.21,79.21,0,0,1,9-.66A78.18,78.18,0,0,1,170.11,80.4Z",style:{fill:"#fff"}}),e.jsx("circle",{cx:"140.64",cy:"39.98",r:"5.1",transform:"translate(-0.6 2.18) rotate(-0.89)",style:{fill:"#263238"}}),e.jsx("path",{d:"M156.51,156.68a5.09,5.09,0,0,1-.88-.73c-.55-.49-1.32-1.22-2.27-2.12-1.89-1.8-4.49-4.33-7.32-7.14s-5.38-5.38-7.2-7.27a22.26,22.26,0,0,1-2.81-3.18,11.05,11.05,0,0,1,.84.77l2.23,2.15c2,1.91,4.5,4.41,7.3,7.16s5.39,5.38,7.22,7.25l2.15,2.24A4.71,4.71,0,0,1,156.51,156.68Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M199.82,113.05a4.79,4.79,0,0,1-.88-.73c-.54-.49-1.31-1.21-2.26-2.11-1.9-1.81-4.49-4.33-7.33-7.14s-5.38-5.39-7.19-7.28a22.6,22.6,0,0,1-2.81-3.17,7.79,7.79,0,0,1,.84.76l2.23,2.15,7.3,7.17c2.84,2.81,5.39,5.37,7.22,7.24l2.15,2.24A4.24,4.24,0,0,1,199.82,113.05Z",style:{fill:"#263238"}}),e.jsx("rect",{x:"136.8",y:"116.58",width:"52.15",height:"5.72",transform:"translate(-36.5 151.76) rotate(-45.46)",style:{fill:"#263238"}}),e.jsx("path",{d:"M137.6,142.82a1.1,1.1,0,1,1-1-1.13A1.09,1.09,0,0,1,137.6,142.82Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M145.94,151.63a1.1,1.1,0,0,1-2.19-.09,1.1,1.1,0,0,1,2.19.09Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M186.62,92.91a1.1,1.1,0,0,1-1.14,1,1.1,1.1,0,1,1,.09-2.19A1.08,1.08,0,0,1,186.62,92.91Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M195,101.72a1.09,1.09,0,1,1-2.18-.09,1.09,1.09,0,1,1,2.18.09Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M105.45,144a27.16,27.16,0,0,0-2.31-2.05c-.75-.59-1.7-1.23-2.67-2.09a10.37,10.37,0,0,1-2.54-3.34,11.3,11.3,0,0,1-.79-7.48,8.89,8.89,0,0,1,.82-2.15c.28-.47.44-.72.47-.7a22.92,22.92,0,0,0-.93,2.93,11.54,11.54,0,0,0,.9,7.17c1.2,2.66,3.53,4.12,5,5.37A7,7,0,0,1,105.45,144Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M148.92,63.53c.1.1-10.41,10.48-23.47,23.17s-23.75,22.91-23.85,22.81S112,99,125.08,86.33,148.82,63.43,148.92,63.53Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M83.92,95.87c0,.06-.52,0-1.19-.45a4.1,4.1,0,0,1-1.2-5.6c.44-.69.88-.95.92-.9s-.28.41-.59,1.07a4.45,4.45,0,0,0-.36,2.76A4.4,4.4,0,0,0,83,95.13C83.51,95.61,84,95.79,83.92,95.87Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M139.46,43.69c0,.06-.57,0-1.28-.51a4.16,4.16,0,0,1-.78-6c.56-.67,1.08-.88,1.11-.83s-.37.38-.81,1a4.18,4.18,0,0,0,.71,5.55C139,43.42,139.49,43.61,139.46,43.69Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M177.32,51.71a22.58,22.58,0,0,0-4.11.94,23.1,23.1,0,0,0-3.63,2.13A6.58,6.58,0,0,1,173,52.16,6.69,6.69,0,0,1,177.32,51.71Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M135.81,158.46a103.24,103.24,0,0,1-7.47-7.35c-4-4.16-7.19-7.61-7.08-7.71s3.44,3.19,7.46,7.35S135.91,158.36,135.81,158.46Z",style:{fill:"#fff"}}),e.jsx("rect",{x:"208.44",y:"398.62",width:"42.79",height:"60.65",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M208.77,458.23h42.14a5.7,5.7,0,0,1,5.7,5.7v.54a0,0,0,0,1,0,0H203.06a0,0,0,0,1,0,0v-.54A5.7,5.7,0,0,1,208.77,458.23Z",style:{fill:"#263238"}}),e.jsx("rect",{x:"198.18",y:"464.47",width:"64.99",height:"9.88",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M251,452.61c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S251,452.46,251,452.61Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M251,445.39c0,.15-9.48.26-21.18.26s-21.19-.11-21.19-.26,9.48-.26,21.19-.26S251,445.25,251,445.39Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M251,438.31c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S251,438.17,251,438.31Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M251,431.1c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S251,431,251,431.1Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M251,424c0,.15-9.48.26-21.18.26s-21.19-.11-21.19-.26,9.48-.26,21.19-.26S251,423.87,251,424Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M251,416.8c0,.15-9.48.26-21.18.26s-21.19-.11-21.19-.26,9.48-.26,21.19-.26S251,416.66,251,416.8Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M251,409.72c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S251,409.57,251,409.72Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M251,402.51c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S251,402.36,251,402.51Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("polygon",{points:"208.44 407.07 251.02 405.89 251.02 399.71 208.06 399.71 208.44 407.07"})}),e.jsx("rect",{x:"275.46",y:"398.62",width:"42.79",height:"60.65",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M275.79,458.23h42.14a5.7,5.7,0,0,1,5.7,5.7v.54a0,0,0,0,1,0,0H270.08a0,0,0,0,1,0,0v-.54A5.7,5.7,0,0,1,275.79,458.23Z",style:{fill:"#263238"}}),e.jsx("rect",{x:"265.2",y:"464.47",width:"64.99",height:"9.88",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M318,452.61c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S318,452.46,318,452.61Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M318,445.39c0,.15-9.48.26-21.18.26s-21.19-.11-21.19-.26,9.48-.26,21.19-.26S318,445.25,318,445.39Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M318,438.31c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S318,438.17,318,438.31Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M318,431.1c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S318,431,318,431.1Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M318,424c0,.15-9.48.26-21.18.26s-21.19-.11-21.19-.26,9.48-.26,21.19-.26S318,423.87,318,424Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M318,416.8c0,.15-9.48.26-21.18.26s-21.19-.11-21.19-.26,9.48-.26,21.19-.26S318,416.66,318,416.8Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M318,409.72c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S318,409.57,318,409.72Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M318,402.51c0,.14-9.48.26-21.18.26s-21.19-.12-21.19-.26,9.48-.26,21.19-.26S318,402.36,318,402.51Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("polygon",{points:"275.46 407.07 318.04 405.89 318.04 399.71 275.08 399.71 275.46 407.07"})}),e.jsx("path",{d:"M328.17,223.65h4.32a1.83,1.83,0,0,1,1.83,1.83v17.68a0,0,0,0,1,0,0h-8a0,0,0,0,1,0,0V225.49a1.83,1.83,0,0,1,1.83-1.83Z",transform:"translate(23.16 496.55) rotate(-75.83)",style:{fill:"#4453FF"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M328.17,223.65h4.32a1.83,1.83,0,0,1,1.83,1.83v17.68a0,0,0,0,1,0,0h-8a0,0,0,0,1,0,0V225.49a1.83,1.83,0,0,1,1.83-1.83Z",transform:"translate(23.16 496.55) rotate(-75.83)"})}),e.jsx("path",{d:"M323.82,237.7h5.94a3,3,0,0,1,3,3v16.47a0,0,0,0,1,0,0h-12a0,0,0,0,1,0,0V240.74A3,3,0,0,1,323.82,237.7Z",transform:"translate(6.87 503.72) rotate(-75.83)",style:{fill:"#4453FF"}}),e.jsx("rect",{x:"324.34",y:"237.02",width:"20.39",height:"7.7",transform:"translate(19.11 506.26) rotate(-75.83)",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M345.68,310.42s31.95-1.3,29.31-31.92c-2-23.45-36.91-23.66-36.91-23.66L347,235.35s40.76,3.55,48.81,33.23c9.09,33.54-11.93,60.89-50.13,60.25Z",style:{fill:"#4453FF"}}),e.jsx("rect",{x:"334.32",y:"230.94",width:"12.44",height:"27.68",transform:"translate(60.85 -67.72) rotate(12.46)",style:{fill:"#263238"}}),e.jsx("path",{d:"M344.16,256.78c0,.23-2.76-.24-6.05-1a35.59,35.59,0,0,1-5.91-1.64,37.84,37.84,0,0,1,6,1.13c1.65.38,3.14.74,4.21,1l1.27.34A2.12,2.12,0,0,1,344.16,256.78Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M345.23,251.91c0,.23-2.75-.24-6.05-1a34.18,34.18,0,0,1-5.9-1.64,38.26,38.26,0,0,1,6,1.13c1.65.38,3.13.74,4.21,1l1.26.34A1.7,1.7,0,0,1,345.23,251.91Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M346.52,247c0,.24-2.76-.23-6-1a35.59,35.59,0,0,1-5.91-1.64,38.05,38.05,0,0,1,6,1.13c1.64.37,3.13.73,4.2,1l1.27.33Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M347.38,242.18c0,.23-2.75-.24-6-1a34.47,34.47,0,0,1-5.91-1.64,38,38,0,0,1,6,1.13c1.65.38,3.13.74,4.21,1l1.26.34A1.7,1.7,0,0,1,347.38,242.18Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M348.63,237.62c0,.24-2.75-.23-6-1a35.59,35.59,0,0,1-5.91-1.64,38,38,0,0,1,6,1.13c1.65.37,3.14.73,4.21,1l1.27.33A3.68,3.68,0,0,1,348.63,237.62Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M352.66,328.63a14.23,14.23,0,0,1-.65-2.7c-.32-1.68-.7-4-1-6.61s-.45-5-.51-6.67a13.76,13.76,0,0,1,0-2.78,14.56,14.56,0,0,1,.34,2.75c.15,1.7.36,4.05.66,6.64s.61,4.92.84,6.61A15.65,15.65,0,0,1,352.66,328.63Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M362.59,327.08a93.17,93.17,0,0,1-2.91-9.54,95,95,0,0,1-2.41-9.69,96,96,0,0,1,2.91,9.55A97.71,97.71,0,0,1,362.59,327.08Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M375.94,322.3a18.68,18.68,0,0,1-1.71-2.65c-1.08-1.8-2.41-4-3.89-6.52l-3.92-6.5a20.32,20.32,0,0,1-1.54-2.75,17.48,17.48,0,0,1,1.85,2.55c1.08,1.62,2.53,3.89,4,6.43s2.85,4.89,3.77,6.61A18.81,18.81,0,0,1,375.94,322.3Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M387.17,313.3c-.1.11-4.07-3-8.88-7s-8.64-7.32-8.55-7.43,4.07,3,8.88,7S387.26,313.18,387.17,313.3Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M394.4,301c-.06.14-4.76-1.7-10.51-4.09s-10.36-4.44-10.3-4.57,4.76,1.7,10.5,4.09S394.45,300.82,394.4,301Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M397.94,287.63a24.32,24.32,0,0,1-3.37-.32l-8.08-1-8.09-1a20.82,20.82,0,0,1-3.34-.51,20.89,20.89,0,0,1,3.38.14c2.08.16,4.95.44,8.11.83s6,.8,8.08,1.15A20,20,0,0,1,397.94,287.63Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M396.29,273.81a17.51,17.51,0,0,1-3,1c-1.89.55-4.53,1.23-7.47,1.85s-5.63,1.06-7.58,1.32a17.3,17.3,0,0,1-3.17.27,22.63,22.63,0,0,1,3.12-.64c1.93-.35,4.59-.84,7.52-1.46s5.57-1.24,7.48-1.7A22.07,22.07,0,0,1,396.29,273.81Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M392.27,260.55c.06.13-4.22,2.42-9.57,5.12s-9.74,4.78-9.81,4.65,4.22-2.42,9.57-5.12S392.2,260.43,392.27,260.55Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M384,249.8c.09.11-3.47,3.33-8,7.2s-8.2,6.91-8.29,6.8,3.46-3.33,8-7.2S383.94,249.69,384,249.8Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M370.13,241.82c.12.07-2.13,4-5,8.83a97,97,0,0,1-5.48,8.57c-.12-.07,2.13-4,5-8.84A100,100,0,0,1,370.13,241.82Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M357.68,236.82a102.11,102.11,0,0,1-3,9.86c-1.78,5.4-3.34,9.74-3.47,9.7a98.49,98.49,0,0,1,3-9.87A99.79,99.79,0,0,1,357.68,236.82Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M372.68,294.18a24.63,24.63,0,0,1-11.58,11.88,36.5,36.5,0,0,1-7.84,3.06c6.11,3.26,14.09,1.31,19.43-3.1s8.16-11.41,8.35-18.34a21.73,21.73,0,0,0-1.73-9.6c-1.36-3-3.61-6.12-6.58-7.5a18.45,18.45,0,0,1,1.86,5.25A30.68,30.68,0,0,1,372.68,294.18Z"})}),e.jsx("path",{d:"M137.83,348.12a8.6,8.6,0,0,1,1,1.11c.62.73,1.46,1.82,2.46,3.21A70.45,70.45,0,0,1,147.9,364a68.72,68.72,0,0,1,4.29,12.63c.39,1.66.65,3,.79,4a9.26,9.26,0,0,1,.17,1.48,7.49,7.49,0,0,1-.37-1.44c-.2-.93-.52-2.27-.94-3.91a82,82,0,0,0-4.41-12.51A81.16,81.16,0,0,0,141,352.65c-.95-1.41-1.74-2.53-2.31-3.3A7.57,7.57,0,0,1,137.83,348.12Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M133.58,344.58c.1-.11.57.15,1.06.59s.8.87.71,1-.57-.15-1.06-.59S133.49,344.68,133.58,344.58Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M134.56,341.64c.12-.07.61.52,1.1,1.34s.78,1.53.66,1.6-.62-.52-1.11-1.34S134.43,341.71,134.56,341.64Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M153.06,382.72a5.24,5.24,0,0,1,.15-.8q.21-.85.54-2.28c.47-2,1.14-4.84,1.91-8.39,1.54-7.1,3.41-17,4.78-28,.74-5.48,1-10.8,2.28-15.49a23.67,23.67,0,0,1,2.68-6.31,18.86,18.86,0,0,1,11.72-8.23,15,15,0,0,1,2.32-.35,4.61,4.61,0,0,1,.82,0,6.05,6.05,0,0,1-.81.12,21.6,21.6,0,0,0-2.29.44,19.47,19.47,0,0,0-7.54,3.86,18.55,18.55,0,0,0-3.85,4.4,23.25,23.25,0,0,0-2.59,6.22c-1.24,4.62-1.49,9.93-2.22,15.43-1.38,11-3.31,20.89-4.94,28-.82,3.55-1.55,6.4-2.07,8.36q-.4,1.41-.63,2.25A4.88,4.88,0,0,1,153.06,382.72Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M154.25,303.42a16,16,0,0,0,2.55,3.72,16.81,16.81,0,0,0,9.61,4.68,36.36,36.36,0,0,0,10.92-.46l3.29-.58a6.67,6.67,0,0,1,1.22-.16,5.25,5.25,0,0,1-1.18.36c-.77.19-1.88.46-3.27.74a32.92,32.92,0,0,1-11,.61,16.48,16.48,0,0,1-9.81-4.94,10.79,10.79,0,0,1-1.88-2.81A4,4,0,0,1,154.25,303.42Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M150.45,300.26c.1-.1.58.21,1.06.7s.8,1,.7,1.06-.58-.21-1.06-.69S150.35,300.36,150.45,300.26Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M151.58,298.52c.13-.08.58.43,1,1.13s.69,1.34.56,1.41-.57-.43-1-1.13S151.46,298.59,151.58,298.52Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M154.71,298.29c.15,0,.17.61.06,1.32s-.32,1.25-.46,1.23-.17-.61-.06-1.32S154.57,298.27,154.71,298.29Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M164.13,337.34a10.35,10.35,0,0,1-.08,1.78c-.09,1.15-.26,2.8-.5,4.83-.47,4.08-1.3,9.68-2.55,15.81s-2.69,11.62-3.84,15.56c-.58,2-1.08,3.55-1.44,4.63a12.65,12.65,0,0,1-.62,1.67,13.26,13.26,0,0,1,.42-1.73c.33-1.18.76-2.76,1.28-4.67,1.06-4,2.44-9.44,3.69-15.56s2.13-11.7,2.7-15.75c.27-2,.49-3.59.65-4.81A14.78,14.78,0,0,1,164.13,337.34Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M181.86,314.19c0,.1-1.43.11-3.64.69a18.05,18.05,0,0,0-12.54,11.58c-.76,2.15-.88,3.59-1,3.57a2.79,2.79,0,0,1,0-1,15,15,0,0,1,.58-2.68,17.37,17.37,0,0,1,12.8-11.82,15.36,15.36,0,0,1,2.72-.37A3.48,3.48,0,0,1,181.86,314.19Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M157.8,382.51a5.24,5.24,0,0,1,0-.75c0-.49.12-1.22.25-2.15a20,20,0,0,1,2.37-7.57c.84-1.47,2-2.91,2.94-4.61a9.67,9.67,0,0,0,1-2.78,11.45,11.45,0,0,0,.08-3.16c-.16-2.17-.79-4.51-.3-7a8.54,8.54,0,0,1,1.6-3.39c.73-1,1.58-2,2.25-3a6.36,6.36,0,0,0,1.12-3.41,14.83,14.83,0,0,0-.48-3.57,21.11,21.11,0,0,1-.58-7,19.9,19.9,0,0,1,10.54-15.89,17.52,17.52,0,0,1,2-.88,4.26,4.26,0,0,1,.72-.23,3.85,3.85,0,0,1-.68.32c-.45.21-1.11.51-1.92,1a20.47,20.47,0,0,0-5.95,5.08,19.71,19.71,0,0,0-4.21,10.67,20.85,20.85,0,0,0,.6,6.82,15.28,15.28,0,0,1,.5,3.69,6.87,6.87,0,0,1-1.21,3.68c-.7,1.11-1.55,2.05-2.26,3.05a7.83,7.83,0,0,0-1.52,3.19c-.47,2.31.12,4.62.28,6.84a12,12,0,0,1-.11,3.29,10.21,10.21,0,0,1-1.11,2.9c-1,1.74-2.16,3.16-3,4.59a20.78,20.78,0,0,0-2.48,7.42c-.15.88-.26,1.59-.35,2.12A3.76,3.76,0,0,1,157.8,382.51Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M183,324.55a9.45,9.45,0,0,0-2.46.35,9.77,9.77,0,0,0-5.17,4.13c-1.6,2.39-2.31,5.82-2.69,9.6A121.14,121.14,0,0,1,170.89,351a200.58,200.58,0,0,1-6,21.82c-.9,2.75-1.65,5-2.19,6.49-.25.72-.46,1.3-.62,1.75a2.49,2.49,0,0,1-.26.6A4.25,4.25,0,0,1,162,381c.13-.46.31-1.05.53-1.78l2-6.54c1.69-5.53,4-13.18,5.8-21.82.88-4.31,1.46-8.46,1.86-12.27s1.17-7.3,2.87-9.74a9.74,9.74,0,0,1,5.42-4.12,6.25,6.25,0,0,1,1.86-.23A4.13,4.13,0,0,1,183,324.55Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M146.29,378.93h19.37s-11.75,93.29-76.61,93l.83-18.19S134,451,146.29,378.93Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M70.7,442.54H75a1.83,1.83,0,0,1,1.83,1.83V462a0,0,0,0,1,0,0h-8a0,0,0,0,1,0,0V444.37A1.83,1.83,0,0,1,70.7,442.54Z",transform:"translate(-380.65 517.19) rotate(-88.99)",style:{fill:"#4453FF"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M70.7,442.54H75a1.83,1.83,0,0,1,1.83,1.83V462a0,0,0,0,1,0,0h-8a0,0,0,0,1,0,0V444.37A1.83,1.83,0,0,1,70.7,442.54Z",transform:"translate(-380.65 517.19) rotate(-88.99)"})}),e.jsx("path",{d:"M69.64,457h5.94a3,3,0,0,1,3,3v16.47a0,0,0,0,1,0,0h-12a0,0,0,0,1,0,0V460.06A3,3,0,0,1,69.64,457Z",transform:"matrix(0.02, -1, 1, 0.02, -395.38, 531.17)",style:{fill:"#4453FF"}}),e.jsx("rect",{x:"68.46",y:"454.75",width:"20.39",height:"7.7",transform:"translate(-381.26 529.18) rotate(-88.99)",style:{fill:"#4453FF"}}),e.jsx("rect",{x:"79.17",y:"447.2",width:"12.44",height:"27.68",transform:"translate(-5.62 1.08) rotate(-0.7)",style:{fill:"#263238"}}),e.jsx("path",{d:"M91.64,471.9c0,.23-2.74.4-6.11.42a34.37,34.37,0,0,1-6.13-.26,38.67,38.67,0,0,1,6.12-.27c1.69,0,3.22,0,4.33,0l1.31,0A2.44,2.44,0,0,1,91.64,471.9Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M91.58,466.92c0,.23-2.74.39-6.11.41a35,35,0,0,1-6.13-.25,38.67,38.67,0,0,1,6.12-.27c1.69,0,3.22,0,4.33,0l1.31,0A1.75,1.75,0,0,1,91.58,466.92Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M91.72,461.89c0,.23-2.73.39-6.11.41a34.92,34.92,0,0,1-6.12-.25,38.67,38.67,0,0,1,6.12-.27c1.69,0,3.22,0,4.32,0l1.31,0A2,2,0,0,1,91.72,461.89Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M91.46,457c0,.23-2.74.4-6.12.42a34.29,34.29,0,0,1-6.12-.26,38.67,38.67,0,0,1,6.12-.27c1.69,0,3.22,0,4.33,0l1.31,0A2.57,2.57,0,0,1,91.46,457Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M91.64,452.23c0,.23-2.74.4-6.11.42a36.2,36.2,0,0,1-6.13-.25,36,36,0,0,1,6.12-.27c1.69,0,3.22,0,4.33,0l1.31,0A2.44,2.44,0,0,1,91.64,452.23Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M98.44,471s0,.16.06.5l0,.58-.17-.56a83.2,83.2,0,0,1-1.91-9.16c-.43-2.69-.72-5.13-.89-6.91a14.66,14.66,0,0,1-.13-2.89,18.89,18.89,0,0,1,.5,2.85c.25,1.76.6,4.19,1,6.87.69,4.34,1.4,8,1.55,9.2l-.16,0C98.38,471.14,98.41,471,98.44,471Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M107.64,469.21a92.86,92.86,0,0,1-3.22-9.42,92.86,92.86,0,0,1-2.73-9.57,92.86,92.86,0,0,1,3.22,9.42A92.86,92.86,0,0,1,107.64,469.21Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M118.51,464.62a98.81,98.81,0,0,1-4.78-9.06c-2.5-5.08-4.43-9.24-4.3-9.3a99.8,99.8,0,0,1,4.77,9.07C116.71,460.4,118.63,464.56,118.51,464.62Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M128.14,457.42a91.87,91.87,0,0,1-6.18-7.91,98.59,98.59,0,0,1-5.77-8.23,96.34,96.34,0,0,1,6.19,7.92C125.67,453.66,128.25,457.34,128.14,457.42Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M136.55,449.44a93.69,93.69,0,0,1-7.2-6.85,96.19,96.19,0,0,1-6.82-7.22,94.54,94.54,0,0,1,7.19,6.85A97.73,97.73,0,0,1,136.55,449.44Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M143.48,439.86a14.64,14.64,0,0,1-2.51-1.34l-5.92-3.46-5.91-3.45a15.52,15.52,0,0,1-2.41-1.53,15.05,15.05,0,0,1,2.58,1.21c1.56.81,3.69,2,6,3.32s4.37,2.64,5.84,3.6A15.72,15.72,0,0,1,143.48,439.86Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M148.17,430.16a13.82,13.82,0,0,1-2.43-1.09c-1.47-.72-3.51-1.71-5.77-2.76s-4.34-1.95-5.84-2.61a15.48,15.48,0,0,1-2.41-1.14,11.93,11.93,0,0,1,2.54.8c1.54.57,3.65,1.43,5.93,2.48s4.29,2.1,5.72,2.9A13.26,13.26,0,0,1,148.17,430.16Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M153.77,420.78a13.93,13.93,0,0,1-2.77-.46c-1.7-.37-4-.94-6.57-1.68s-4.82-1.51-6.45-2.11a14.17,14.17,0,0,1-2.59-1.09,16.24,16.24,0,0,1,2.71.74c1.65.51,3.94,1.22,6.47,2s4.84,1.36,6.51,1.82A16.1,16.1,0,0,1,153.77,420.78Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M156.76,411.32a84.29,84.29,0,0,1-9.25-.92,84.45,84.45,0,0,1-9.18-1.43,84.06,84.06,0,0,1,9.25.92A79,79,0,0,1,156.76,411.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M159.94,402.07a12.64,12.64,0,0,1-2.69-.08c-1.66-.12-3.95-.32-6.47-.57s-4.81-.51-6.45-.73a13.79,13.79,0,0,1-2.66-.45,14.26,14.26,0,0,1,2.7.09c1.66.12,3.94.32,6.46.57s4.8.51,6.45.72A14.83,14.83,0,0,1,159.94,402.07Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M162.39,393.11a92.12,92.12,0,0,1-9.64.56,86.39,86.39,0,0,1-9.65,0,92.12,92.12,0,0,1,9.64-.56A89.44,89.44,0,0,1,162.39,393.11Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M163.4,385.79a13.17,13.17,0,0,1-2.64.41c-1.64.17-3.91.31-6.42.32s-4.79-.11-6.43-.26a12.81,12.81,0,0,1-2.64-.38,15,15,0,0,1,2.66,0c1.64.06,3.9.13,6.4.11s4.77-.1,6.4-.17A15,15,0,0,1,163.4,385.79Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M147.13,381.7a.72.72,0,0,1,0,.25v.74c0,.65,0,1.61-.07,2.84a74,74,0,0,1-1.23,10.39,78.32,78.32,0,0,1-4.35,14.89,77.44,77.44,0,0,1-22,30.58,78.86,78.86,0,0,1-12.76,8.83,73.1,73.1,0,0,1-9.47,4.45c-1.14.46-2.06.74-2.67,1l-.7.23a.8.8,0,0,1-.25.06.7.7,0,0,1,.23-.11l.68-.28c.6-.25,1.51-.56,2.64-1a82.14,82.14,0,0,0,9.36-4.58,79.89,79.89,0,0,0,39-54,81.57,81.57,0,0,0,1.39-10.33c.11-1.22.11-2.18.16-2.83,0-.3,0-.54,0-.74A.87.87,0,0,1,147.13,381.7Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M236.92,273s-10.72-14.51-35.53-12.36c0,0,25.25-19.4,10.39-39.33,0,0,31.89,9.42,32.25-30.44,0,0,5.8,37,35.88,26.46,0,0,2.14,29.36,22.95,23.93C292.79,251.16,283,259.89,285,272.55",style:{fill:"#4453FF"}}),e.jsx("g",{style:{opacity:.8},children:e.jsx("path",{d:"M236.92,273s-10.72-14.51-35.53-12.36c0,0,25.25-19.4,10.39-39.33,0,0,31.89,9.42,32.25-30.44,0,0,5.8,37,35.88,26.46,0,0,2.14,29.36,22.95,23.93C292.79,251.16,283,259.89,285,272.55",style:{fill:"#fff"}})}),e.jsx("path",{d:"M236.92,273s-.25-16.92-20.18-15.19c0,0,18.53-10.69,6.6-26.7,0,0,25.62,7.57,25.91-24.45,0,0,4.65,29.69,28.82,21.25,0,0-2.89,21.54,13.84,17.17-8.09,8-11.37,17-9.77,27.2",style:{fill:"#4453FF"}}),e.jsx("g",{style:{opacity:.6000000000000001},children:e.jsx("path",{d:"M236.92,273s-.25-16.92-20.18-15.19c0,0,18.53-10.69,6.6-26.7,0,0,25.62,7.57,25.91-24.45,0,0,4.65,29.69,28.82,21.25,0,0-2.89,21.54,13.84,17.17-8.09,8-11.37,17-9.77,27.2",style:{fill:"#fff"}})}),e.jsx("path",{d:"M269.65,160.76a5.13,5.13,0,0,1-.24.63l-.79,1.76c-.35.76-.77,1.69-1.22,2.8s-1,2.33-1.51,3.74-1.13,2.93-1.68,4.6-1.12,3.46-1.7,5.35c-1.09,3.8-2.13,8-2.95,12.52s-1.3,8.82-1.6,12.76c-.12,2-.25,3.85-.27,5.61s-.05,3.4,0,4.89.08,2.85.12,4,.1,2.21.17,3,.09,1.43.12,1.92a3,3,0,0,1,0,.68,5.34,5.34,0,0,1-.11-.67q-.07-.74-.21-1.92c-.1-.83-.2-1.85-.26-3s-.18-2.55-.19-4-.08-3.14,0-4.91.12-3.65.22-5.63a113.18,113.18,0,0,1,4.57-25.39c.59-1.89,1.14-3.7,1.75-5.35s1.18-3.2,1.74-4.59,1.12-2.64,1.6-3.73.92-2,1.3-2.77l.87-1.72A3,3,0,0,1,269.65,160.76Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M198.07,153.89a33,33,0,0,0-6-4.49,33.26,33.26,0,0,0-7.06-2.52,6.79,6.79,0,0,1,2.23.22,18.55,18.55,0,0,1,5.08,1.84,18.9,18.9,0,0,1,4.34,3.21A6.55,6.55,0,0,1,198.07,153.89Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M205.75,197.42a2.34,2.34,0,0,1,.42.4l1.11,1.19c1,1,2.31,2.59,3.91,4.56s3.43,4.37,5.36,7.11,3.92,5.86,5.86,9.2,3.62,6.64,5.06,9.67,2.6,5.82,3.5,8.19,1.59,4.31,2,5.66q.28.94.48,1.56a2.26,2.26,0,0,1,.13.56,2.26,2.26,0,0,1-.23-.53l-.58-1.52c-.47-1.33-1.2-3.25-2.15-5.59s-2.16-5.1-3.59-8.12-3.15-6.27-5.08-9.62-3.92-6.42-5.8-9.18-3.69-5.18-5.26-7.16-2.85-3.58-3.77-4.66l-1-1.25A2.44,2.44,0,0,1,205.75,197.42Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M274.51,202.53a1.72,1.72,0,0,1-.21.46l-.67,1.25c-.31.54-.67,1.2-1.06,2s-.87,1.66-1.32,2.67c-1,2-2,4.42-3,7.16a78.08,78.08,0,0,0-4.16,18.47c-.27,2.9-.39,5.53-.38,7.74,0,1.1,0,2.1.05,3s.06,1.63.1,2.25.05,1,.07,1.42a1.37,1.37,0,0,1,0,.5,2.25,2.25,0,0,1-.09-.49c-.05-.38-.1-.85-.17-1.42s-.15-1.37-.19-2.25-.13-1.88-.13-3a71,71,0,0,1,.28-7.79,72.75,72.75,0,0,1,4.18-18.58,70.42,70.42,0,0,1,3.09-7.16c.47-1,1-1.87,1.4-2.65s.8-1.43,1.13-2,.56-.88.76-1.21A2,2,0,0,1,274.51,202.53Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M294.15,206.41c.05.06-.83.71-2.16,1.87a36.84,36.84,0,0,0-8.52,10.7,26.43,26.43,0,0,1-1.35,2.53,11.4,11.4,0,0,1,1-2.7,30.94,30.94,0,0,1,3.68-5.9,30.11,30.11,0,0,1,4.93-4.91A11.07,11.07,0,0,1,294.15,206.41Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M210.65,231.91a11.93,11.93,0,0,1,2.44,1.53,34.6,34.6,0,0,1,5.16,4.68,33.84,33.84,0,0,1,4.12,5.61,11.66,11.66,0,0,1,1.27,2.59,27.69,27.69,0,0,1-1.58-2.4,45,45,0,0,0-4.2-5.46,45.57,45.57,0,0,0-5-4.73A22.61,22.61,0,0,1,210.65,231.91Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M205.58,222.61c-.08.14-2.12-1-4.88-1.7s-5.09-.71-5.09-.87a14.5,14.5,0,0,1,10,2.57Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M185,191.31a6.85,6.85,0,0,1,.66-1.66l-.91-1.38,1.9-2,1.41.85a7.26,7.26,0,0,1,1.64-.71l.34-1.61,2.73-.05.39,1.61a7,7,0,0,1,1.66.65l1.38-.9,2,1.9-.86,1.41a6.31,6.31,0,0,1,.71,1.64l1.62.33,0,2.74-1.6.39a6.78,6.78,0,0,1-.66,1.65l.91,1.39-1.9,2L195,198.7a6.25,6.25,0,0,1-1.63.71L193,201l-2.73,0-.39-1.6a6.85,6.85,0,0,1-1.66-.66l-1.38.9-2-1.9.86-1.41a6.25,6.25,0,0,1-.71-1.63l-1.62-.34,0-2.73,1.6-.39Zm3.6,1.55a2.93,2.93,0,1,0,2.88-3A2.93,2.93,0,0,0,188.61,192.86Z",style:{fill:"#4453FF",fillRule:"evenodd"}}),e.jsx("path",{d:"M299.57,265.2a5.17,5.17,0,0,1,.48-1.22l-.67-1,1.41-1.45,1,.63a5.13,5.13,0,0,1,1.2-.52l.25-1.19,2,0,.29,1.19a4.77,4.77,0,0,1,1.22.48l1-.67,1.45,1.41-.63,1a5,5,0,0,1,.52,1.2l1.19.25,0,2-1.19.29a5.17,5.17,0,0,1-.48,1.22l.66,1-1.4,1.45-1-.63a5,5,0,0,1-1.21.52l-.24,1.19-2,0-.29-1.18a5.17,5.17,0,0,1-1.22-.48l-1,.66L299.5,270l.63-1a5,5,0,0,1-.52-1.21l-1.19-.25,0-2,1.19-.29Zm2.66,1.14a2.16,2.16,0,1,0,4.32-.07,2.16,2.16,0,1,0-4.32.07Z",style:{fill:"#455a64",fillRule:"evenodd"}}),e.jsx("rect",{x:"274.18",y:"182.1",width:"10.43",height:"4.72",transform:"translate(-7.11 357.67) rotate(-64.59)",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M275,188.16a10.74,10.74,0,0,1,1.23.49c.76.32,1.83.78,3.11,1.36l-.25.09c1.12-2.45,2.67-5.79,4.41-9.45-.11-.31.15.43.12.35h-.06l-.07,0-.14-.06-.28-.14-.56-.26-1.08-.52-2.06-1,.33-.11c-1.29,2.68-2.45,5-3.28,6.64-.4.76-.73,1.41-1,1.95a4.56,4.56,0,0,1-.41.72,3.13,3.13,0,0,1,.26-.68c.23-.54.52-1.19.85-1.95.75-1.69,1.83-4.1,3.14-6.89l.11-.23.22.11,2.07,1,1.09.51.55.26.28.14.14.06.07,0h.07c0-.08.23.66.12.35-1.74,3.66-3.34,7-4.54,9.39l-.08.17-.17-.09c-1.34-.66-2.41-1.21-3.12-1.59A7.68,7.68,0,0,1,275,188.16Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M283.35,175.75a4.34,4.34,0,0,0-5.79,2.06l7.86,3.74A4.35,4.35,0,0,0,283.35,175.75Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M283.35,175.75a1.2,1.2,0,0,1,.49.18,4.22,4.22,0,0,1,1.12.9,4.28,4.28,0,0,1,1,2,4.45,4.45,0,0,1-.32,2.83l-.09.22-.23-.1-3.93-1.85L277.45,178l-.22-.1.11-.22a4.54,4.54,0,0,1,2-2,4.4,4.4,0,0,1,2.17-.48,3.86,3.86,0,0,1,1.4.3c.31.14.46.24.44.26a8.45,8.45,0,0,0-1.84-.27,4.22,4.22,0,0,0-2,.55,4.16,4.16,0,0,0-1.76,1.89l-.11-.32,3.94,1.85,3.92,1.88-.32.12a4.19,4.19,0,0,0,.36-2.56,4.35,4.35,0,0,0-.83-1.88A8,8,0,0,0,283.35,175.75Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M283.45,178.24a2.74,2.74,0,0,0-.86-2.8",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M282.59,175.44c.07-.13.8.27,1.08,1.2s-.09,1.66-.22,1.6,0-.71-.27-1.45S282.5,175.56,282.59,175.44Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M278.65,180.07a9,9,0,0,1,2.28.94,9.17,9.17,0,0,1,2.23,1.09,4.68,4.68,0,0,1-2.44-.62C279.44,180.91,278.57,180.18,278.65,180.07Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M278.12,181.17a9.71,9.71,0,0,1,2.29,1,9.17,9.17,0,0,1,2.22,1.08,4.52,4.52,0,0,1-2.44-.61C278.92,182,278,181.29,278.12,181.17Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M277.6,182.28a9,9,0,0,1,2.28.94,9.41,9.41,0,0,1,2.23,1.09,4.72,4.72,0,0,1-2.44-.61C278.39,183.12,277.52,182.39,277.6,182.28Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M277.07,183.38a9.71,9.71,0,0,1,2.29,1,9.17,9.17,0,0,1,2.22,1.08,4.52,4.52,0,0,1-2.44-.61C277.87,184.23,277,183.5,277.07,183.38Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M276.54,184.49a9.26,9.26,0,0,1,2.29.94,9.87,9.87,0,0,1,2.23,1.09,7.15,7.15,0,0,1-4.52-2Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M276,185.6a9,9,0,0,1,2.29.94,9.21,9.21,0,0,1,2.22,1.09,7.23,7.23,0,0,1-4.51-2Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M275.49,186.7a9.54,9.54,0,0,1,2.29,1,9.17,9.17,0,0,1,2.22,1.08,4.48,4.48,0,0,1-2.43-.61C276.29,187.55,275.41,186.82,275.49,186.7Z",style:{fill:"#263238"}}),e.jsx("rect",{x:"171.84",y:"261.9",width:"10.43",height:"4.72",transform:"translate(-93.35 96.74) rotate(-24.4)",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M182.77,264.25a11.2,11.2,0,0,1-.62-1.17c-.37-.73-.89-1.77-1.5-3l.25.09c-2.44,1.15-5.78,2.7-9.46,4.37-.12.31.15-.42.13-.34h0v0l0,0,0,.07.06.14.13.28.25.56c.17.37.33.73.5,1.09l.93,2.09-.33-.12c2.73-1.22,5.09-2.23,6.8-3l2-.84a5,5,0,0,1,.78-.29,3,3,0,0,1-.63.36l-1.91.94c-1.66.8-4,1.95-6.85,3.24l-.23.1-.1-.23c-.31-.66-.62-1.36-1-2.07-.17-.36-.33-.73-.5-1.1l-.25-.55-.13-.29-.07-.14,0-.07v-.05h0l.13-.34c3.69-1.68,7.05-3.17,9.53-4.24l.17-.08.08.17c.59,1.38,1.05,2.49,1.35,3.24A5.89,5.89,0,0,1,182.77,264.25Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M168.41,268.36a4.35,4.35,0,0,0,5.76,2.17l-3.6-7.93A4.34,4.34,0,0,0,168.41,268.36Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M168.41,268.36s-.12-.14-.26-.44a4.09,4.09,0,0,1-.27-1.42,4.34,4.34,0,0,1,.52-2.16,4.59,4.59,0,0,1,2.07-2l.22-.1.1.22c.57,1.23,1.18,2.56,1.82,4s1.22,2.73,1.78,4l.1.22-.22.1a4.52,4.52,0,0,1-2.84.26,4.28,4.28,0,0,1-2-1,3.9,3.9,0,0,1-.88-1.13c-.15-.31-.2-.48-.17-.49a7.9,7.9,0,0,0,1.23,1.4,4.26,4.26,0,0,0,4.43.55l-.12.32-1.82-4c-.62-1.4-1.22-2.73-1.78-4l.32.12a4.24,4.24,0,0,0-2.5,3.69A8.47,8.47,0,0,0,168.41,268.36Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M169.94,266.4a2.74,2.74,0,0,0-1.15,2.69",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M168.79,269.09c-.13.06-.44-.73-.06-1.61s1.16-1.21,1.21-1.08-.43.56-.73,1.28S168.94,269.06,168.79,269.09Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M174.79,268.1a9,9,0,0,1-1.14-2.19,9.38,9.38,0,0,1-1-2.27,7.13,7.13,0,0,1,2.14,4.46Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M175.9,267.6a9.58,9.58,0,0,1-1.14-2.2,9.79,9.79,0,0,1-1-2.26c.11-.09.86.77,1.46,2A4.5,4.5,0,0,1,175.9,267.6Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M177,267.09a9.19,9.19,0,0,1-1.14-2.19,9.38,9.38,0,0,1-1-2.27,7.13,7.13,0,0,1,2.14,4.46Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M178.13,266.59a9.85,9.85,0,0,1-1.14-2.2,9.57,9.57,0,0,1-1-2.27,4.67,4.67,0,0,1,1.46,2A4.53,4.53,0,0,1,178.13,266.59Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M179.25,266.08a9.14,9.14,0,0,1-1.14-2.2,9.4,9.4,0,0,1-1-2.26,7.13,7.13,0,0,1,2.14,4.46Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M180.36,265.57a9.37,9.37,0,0,1-1.14-2.19,9.57,9.57,0,0,1-1-2.27,4.67,4.67,0,0,1,1.46,2A4.52,4.52,0,0,1,180.36,265.57Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M181.48,265.07a40.24,40.24,0,0,1-2.14-4.46c.11-.09.87.77,1.47,2A4.61,4.61,0,0,1,181.48,265.07Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M201.52,142.38s12.11,12,15.13,19.43c2.87,7.11,4.77,13.73,4.77,13.73s3.12-5.46,6.63,0,20.1,71.77,22.83,96.73h10.57s-4.92-41.73-7.26-46.41-4.3-6.24-4.3-6.24-2.73-17.56-4.68-20.29a13.16,13.16,0,0,0-4.29-3.9s-3.51-19.11-8.58-23-9-1.95-9-1.95S220.14,150,201.52,142.38Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M300.67,231a55.81,55.81,0,0,0-7,2.38,58.26,58.26,0,0,0-6.41,3.72,6.81,6.81,0,0,1,1.62-1.48,24.09,24.09,0,0,1,9.62-4.37A7.24,7.24,0,0,1,300.67,231Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M300.26,228.86A72.81,72.81,0,0,0,293.2,232c-3.73,2.06-6.28,4.45-6.39,4.32a8.14,8.14,0,0,1,1.6-1.63,28,28,0,0,1,4.54-3.14,26.89,26.89,0,0,1,5.07-2.18A7.88,7.88,0,0,1,300.26,228.86Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M298.21,234c0,.16-2.2.19-4.79.94s-4.49,1.85-4.57,1.72a13.27,13.27,0,0,1,9.36-2.66Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M274.88,272.17c-1.77-14,2.83-30.42,14-38.28l2.66,2.17s-13.91,8.28-12.89,36.21",style:{fill:"#263238"}}),e.jsx("path",{d:"M217.41,252a33.58,33.58,0,0,0-5.37,2.39,34.87,34.87,0,0,0-4.56,3.71,13.8,13.8,0,0,1,9.93-6.1Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M217.13,250.76a51.19,51.19,0,0,1-5.44,2.1,50.87,50.87,0,0,1-5.5,2,24.23,24.23,0,0,1,5.32-2.46A23.76,23.76,0,0,1,217.13,250.76Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M247.94,275.62l-4.84-1.26a10.74,10.74,0,0,0-3.65-11.13,9.21,9.21,0,0,1-5.31,7.13,7.86,7.86,0,0,1-6.65-.42,6.93,6.93,0,0,1-3.63-4.72,7.86,7.86,0,0,1,3.87-8,9.8,9.8,0,0,1,3.66-1.24,3.51,3.51,0,0,0-.36-.29,13.38,13.38,0,0,0-15.08-.41l-2.82-4.13a18.33,18.33,0,0,1,20.94.56,14.92,14.92,0,0,1,4.35,5.22,15.83,15.83,0,0,1,9.52,18.72ZM233,260.83a5.35,5.35,0,0,0-2.76.67,2.93,2.93,0,0,0-1.52,2.75,2.08,2.08,0,0,0,1.09,1.29,2.93,2.93,0,0,0,2.37.2,4.5,4.5,0,0,0,2.32-4.58l0-.2A8.44,8.44,0,0,0,233,260.83Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M207.34,182.76a7.84,7.84,0,0,1,1.34.71c.85.48,2,1.24,3.48,2.23a61.07,61.07,0,0,1,4.85,3.78,62,62,0,0,1,10.07,11.14,58.32,58.32,0,0,1,3.27,5.19c.85,1.53,1.49,2.79,1.88,3.69a7.7,7.7,0,0,1,.57,1.4,8,8,0,0,1-.75-1.31c-.45-.87-1.13-2.1-2-3.59s-2-3.24-3.34-5.11a67.21,67.21,0,0,0-10-11C215,188.33,213.35,187,212,186s-2.56-1.83-3.38-2.36A8.61,8.61,0,0,1,207.34,182.76Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M190.42,294.18h.85a0,0,0,0,1,0,0v50.51a0,0,0,0,1,0,0h-.85a9,9,0,0,1-9-9V303.14A9,9,0,0,1,190.42,294.18Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M335.87,294.18h.94a8.88,8.88,0,0,1,8.88,8.88v32.76a8.88,8.88,0,0,1-8.88,8.88h-.94a0,0,0,0,1,0,0V294.18A0,0,0,0,1,335.87,294.18Z",style:{fill:"#263238"}}),e.jsx("rect",{x:"188.69",y:"284.32",width:"149.39",height:"109.99",rx:"14.12",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M282.39,296a34.23,34.23,0,0,0-34.23,34.23h68.47A34.23,34.23,0,0,0,282.39,296Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M310,328.58c1.44,0,2.74,0,3.68,0a6.73,6.73,0,0,1,1.53.1,7.86,7.86,0,0,1-1.52.11c-1,0-2.25,0-3.69,0l-3.68,0-1.12,0a1.75,1.75,0,0,1-.41,0,1.26,1.26,0,0,1,.41,0l1.12-.05Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M307.58,318.23c2.6-1.24,4.76-2.11,4.83-2s-2,1.24-4.62,2.41a34.84,34.84,0,0,1-4.83,2A35,35,0,0,1,307.58,318.23Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M301.16,309.77c1.9-2.16,3.54-3.82,3.67-3.71s-1.35,1.93-3.29,4.05a33.89,33.89,0,0,1-3.67,3.7A34.86,34.86,0,0,1,301.16,309.77Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M292,304.36a23,23,0,0,1,2.05-4.79c.16.06-.54,2.28-1.57,5a35.67,35.67,0,0,1-2.06,4.79A34.19,34.19,0,0,1,292,304.36Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M281.51,302.58c0-2.88.08-5.21.25-5.21s.28,2.33.26,5.21a33.85,33.85,0,0,1-.26,5.21A33.18,33.18,0,0,1,281.51,302.58Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M271.05,304.54c-1-2.69-1.74-4.91-1.58-5s1.08,2.08,2,4.79a32.38,32.38,0,0,1,1.58,5A34.94,34.94,0,0,1,271.05,304.54Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M262,310.11c-1.94-2.12-3.42-3.93-3.29-4.05s1.77,1.55,3.67,3.71a34.86,34.86,0,0,1,3.29,4A33.89,33.89,0,0,1,262,310.11Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M255.73,318.7c-2.63-1.18-4.7-2.26-4.63-2.42s2.24.72,4.84,2a35.13,35.13,0,0,1,4.62,2.41A34.91,34.91,0,0,1,255.73,318.7Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M253.55,328.83c-1.44,0-2.74,0-3.69,0a7.86,7.86,0,0,1-1.52-.11,6.73,6.73,0,0,1,1.53-.1c.94,0,2.24,0,3.68,0l3.68.06,1.12.05a1.17,1.17,0,0,1,.4,0,1.6,1.6,0,0,1-.4,0l-1.12,0Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M225.31,302a4.55,4.55,0,1,1-4.55-4.54A4.55,4.55,0,0,1,225.31,302Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M225.31,315.7a4.55,4.55,0,1,1-4.55-4.54A4.55,4.55,0,0,1,225.31,315.7Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M311.43,384.82s0-.29,0-.85,0-1.39,0-2.45c0-2.17,0-5.33-.05-9.38,0-8.13-.06-19.85-.1-34.3l.19.19-93.17.07h0l.26-.26c0,16.57,0,32.46,0,47l-.25-.24,66.92.11,19.3.07,5.16,0,1.34,0h.46l-.43,0h-1.31l-5.11,0-19.25.07-67.08.12H218v-.25c0-14.52,0-30.41,0-47v-.26h.27l93.17.07h.2v.19c-.05,14.5-.08,26.26-.11,34.41,0,4,0,7.19,0,9.34,0,1.05,0,1.86,0,2.42S311.43,384.82,311.43,384.82Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M204.1,394.09H322.67a0,0,0,0,1,0,0v.59a6.23,6.23,0,0,1-6.23,6.23H210.34a6.23,6.23,0,0,1-6.23-6.23v-.59a0,0,0,0,1,0,0Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M301.47,344.43a2.81,2.81,0,0,0,1.93,3,3.11,3.11,0,0,0,3.39-1.24,3.49,3.49,0,0,0,0-3.67,3.48,3.48,0,0,1-.78,2.35,2.56,2.56,0,0,1-2.26.88,2,2,0,0,1-1.69-1.64"})}),e.jsx("path",{d:"M306.81,343.32a2.77,2.77,0,1,1-2.76-2.76A2.76,2.76,0,0,1,306.81,343.32Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M306.81,343.32a5.24,5.24,0,0,1-.18-.65,2.78,2.78,0,0,0-1-1.4,2.61,2.61,0,0,0-2.42-.32,2.53,2.53,0,0,0,0,4.74,2.61,2.61,0,0,0,2.42-.32,2.78,2.78,0,0,0,1-1.4,6,6,0,0,1,.18-.65s.09.25,0,.7a2.7,2.7,0,0,1-1,1.64,2.92,2.92,0,0,1-2.81.48,3,3,0,0,1,0-5.64,2.92,2.92,0,0,1,2.81.48,2.7,2.7,0,0,1,1,1.64C306.9,343.07,306.84,343.32,306.81,343.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M305.32,342.14c.05.14-.6.48-1.21,1.12s-.93,1.29-1.07,1.24,0-.87.7-1.61S305.29,342,305.32,342.14Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M305.32,344.18c-.12.08-.58-.42-1.26-.87s-1.32-.7-1.29-.85.81-.11,1.58.42S305.44,344.12,305.32,344.18Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M302.76,378.63a2.83,2.83,0,0,0,1.94,3,3.11,3.11,0,0,0,3.39-1.24,3.49,3.49,0,0,0,.05-3.66,3.43,3.43,0,0,1-.79,2.34,2.55,2.55,0,0,1-2.25.88,2,2,0,0,1-1.7-1.63"})}),e.jsx("circle",{cx:"305.35",cy:"377.51",r:"2.76",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M308.11,377.51c-.05,0-.06-.24-.19-.65a2.74,2.74,0,0,0-1-1.4,2.62,2.62,0,0,0-2.42-.32,2.54,2.54,0,1,0,2.42,4.42,2.7,2.7,0,0,0,1-1.4c.13-.4.14-.65.19-.65s.09.25,0,.7a2.74,2.74,0,0,1-1,1.65,2.93,2.93,0,0,1-2.81.47,3,3,0,0,1,0-5.64,3,3,0,0,1,2.81.48,2.7,2.7,0,0,1,1,1.64C308.2,377.27,308.14,377.52,308.11,377.51Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M306.62,376.33c.05.14-.61.48-1.21,1.12s-.93,1.29-1.08,1.25,0-.88.7-1.61S306.59,376.2,306.62,376.33Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M306.62,378.37c-.13.09-.59-.42-1.27-.87s-1.31-.7-1.28-.85.8-.11,1.58.42S306.74,378.31,306.62,378.37Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M222.38,344.39a2.83,2.83,0,0,0,1.94,3,3.12,3.12,0,0,0,3.39-1.25,3.49,3.49,0,0,0,0-3.66,3.45,3.45,0,0,1-.79,2.35,2.55,2.55,0,0,1-2.25.88,2,2,0,0,1-1.7-1.64"})}),e.jsx("circle",{cx:"224.96",cy:"343.28",r:"2.76",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M227.73,343.28s-.06-.25-.19-.65a2.67,2.67,0,0,0-1-1.4,2.59,2.59,0,0,0-2.41-.32,2.53,2.53,0,0,0,0,4.74,2.62,2.62,0,0,0,2.42-.32,2.7,2.7,0,0,0,1-1.4c.13-.4.14-.65.19-.65a1.21,1.21,0,0,1,0,.7,2.75,2.75,0,0,1-1,1.64,2.93,2.93,0,0,1-2.81.48,3,3,0,0,1,0-5.64,2.93,2.93,0,0,1,2.81.48,2.75,2.75,0,0,1,1,1.64A1.21,1.21,0,0,1,227.73,343.28Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M226.24,342.1c0,.14-.61.48-1.21,1.12s-.93,1.29-1.08,1.24,0-.88.7-1.61S226.21,342,226.24,342.1Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M226.24,344.14c-.13.08-.59-.42-1.27-.87s-1.31-.7-1.28-.85.8-.11,1.58.41S226.36,344.07,226.24,344.14Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M221.8,378.29a2.8,2.8,0,0,0,1.93,3,3.11,3.11,0,0,0,3.39-1.24,3.47,3.47,0,0,0,0-3.66,3.47,3.47,0,0,1-.78,2.34,2.57,2.57,0,0,1-2.26.89,2,2,0,0,1-1.69-1.64"})}),e.jsx("circle",{cx:"224.38",cy:"377.17",r:"2.76",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M227.14,377.17s0-.24-.18-.65a2.87,2.87,0,0,0-1-1.4,2.61,2.61,0,0,0-2.42-.32,2.54,2.54,0,1,0,2.42,4.42,2.78,2.78,0,0,0,1-1.4,6,6,0,0,1,.18-.65s.09.25,0,.7a2.72,2.72,0,0,1-1,1.65,3,3,0,0,1-2.81.48,3,3,0,0,1,0-5.65,3,3,0,0,1,2.81.48,2.72,2.72,0,0,1,1,1.65C227.23,376.93,227.17,377.18,227.14,377.17Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M225.65,376c0,.14-.6.48-1.21,1.12s-.93,1.29-1.07,1.25,0-.88.7-1.61S225.62,375.86,225.65,376Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M225.65,378c-.12.08-.58-.43-1.26-.88s-1.32-.7-1.29-.85.81-.11,1.58.42S225.77,378,225.65,378Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M218.25,385.08c10.82,2.35,23.46,2.44,35.15,1.87,5.62-.28,11.79-.63,16.29,2.76,1,.74,2.14,1.71,3.3,1.28,1.68-.63,1.74-3.71,3.54-3.77.9,0,1.59.83,1.88,1.68a13,13,0,0,0,.82,2.56c.46.78,1.55,1.3,2.27.75,1.14-.87-.18-2.74.25-4.11s2.47-1.53,3.85-1,2.72,1.54,4.19,1.32a8.19,8.19,0,0,0,2.83-1.45c2.63-1.61,5.88-1.7,9-1.76,3.25-.05,6.6-.36,9.85-.42Z"})}),e.jsx("path",{d:"M292.77,349.79a2.22,2.22,0,0,1-.51.18,11.73,11.73,0,0,0-1.45.49,22,22,0,0,0-4.88,2.76c-1.95,1.36-4.1,3.24-6.83,4.9a15.6,15.6,0,0,1-4.63,1.93,26.2,26.2,0,0,1-5.34.4c-3.65,0-6.84,1.48-9.6,3s-5.29,2.84-7.26,4.17a26.22,26.22,0,0,0-4.34,3.56c-.93,1-1.36,1.55-1.4,1.52s.08-.16.28-.45a14,14,0,0,1,1-1.21,23.79,23.79,0,0,1,4.28-3.72,78,78,0,0,1,7.24-4.3,33.09,33.09,0,0,1,4.52-2.1,15.5,15.5,0,0,1,5.29-.95,26.23,26.23,0,0,0,5.25-.38,15.77,15.77,0,0,0,4.5-1.84c2.68-1.61,4.87-3.46,6.86-4.79a20.61,20.61,0,0,1,5-2.65,8.71,8.71,0,0,1,1.49-.4A2,2,0,0,1,292.77,349.79Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M269.06,357.71a13,13,0,0,1-2.9-.45,43.59,43.59,0,0,1-6.77-2.1,42.76,42.76,0,0,1-6.34-3.16,12.39,12.39,0,0,1-2.41-1.69,25.49,25.49,0,0,1,2.59,1.37,59.77,59.77,0,0,0,13,5.23A21,21,0,0,1,269.06,357.71Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M284.1,325.07c.77-.41,23.24-7.64,23.24-7.64l-21.48,12Z",style:{fill:"#4453FF"}}),e.jsx("path",{d:"M281.76,322.64a7.6,7.6,0,0,0-7.6,7.6h15.2A7.6,7.6,0,0,0,281.76,322.64Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M205.35,394.09c-.15,0-.26-24.42-.26-54.54s.11-54.55.26-54.55.26,24.42.26,54.55S205.49,394.09,205.35,394.09Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M324.2,394.09c-.15,0-.26-24.42-.26-54.54s.11-54.55.26-54.55.26,24.42.26,54.55S324.34,394.09,324.2,394.09Z",style:{fill:"#263238"}}),e.jsx("circle",{cx:"200.36",cy:"298.63",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"200.36",cy:"320.51",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"200.36",cy:"342.4",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"200.36",cy:"364.29",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"200.36",cy:"386.17",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"330.31",cy:"298.63",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"330.31",cy:"320.51",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"330.31",cy:"342.4",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"330.31",cy:"364.29",r:"1.17",style:{fill:"#263238"}}),e.jsx("circle",{cx:"330.31",cy:"386.17",r:"1.17",style:{fill:"#263238"}}),e.jsx("rect",{x:"234.3",y:"272.27",width:"51.1",height:"12.04",style:{fill:"#455a64"}}),e.jsx("path",{d:"M238,284.32a32.12,32.12,0,0,1-.26-5.82,32,32,0,0,1,.26-5.81,33.09,33.09,0,0,1,.26,5.81A33.25,33.25,0,0,1,238,284.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M243.23,284.32a33.25,33.25,0,0,1-.26-5.82,33.09,33.09,0,0,1,.26-5.81,32,32,0,0,1,.26,5.81A32.12,32.12,0,0,1,243.23,284.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M248.48,284.32a33.25,33.25,0,0,1-.26-5.82,33.09,33.09,0,0,1,.26-5.81,33.09,33.09,0,0,1,.26,5.81A33.25,33.25,0,0,1,248.48,284.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M253.73,284.32a32.12,32.12,0,0,1-.26-5.82,32,32,0,0,1,.26-5.81,33.09,33.09,0,0,1,.26,5.81A33.25,33.25,0,0,1,253.73,284.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M259,284.32a33.25,33.25,0,0,1-.26-5.82,33.09,33.09,0,0,1,.26-5.81,32,32,0,0,1,.26,5.81A32.12,32.12,0,0,1,259,284.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M264.22,284.32a33.25,33.25,0,0,1-.26-5.82,33.09,33.09,0,0,1,.26-5.81,33.09,33.09,0,0,1,.26,5.81A33.25,33.25,0,0,1,264.22,284.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M269.47,284.32a32.12,32.12,0,0,1-.26-5.82,32,32,0,0,1,.26-5.81,33.09,33.09,0,0,1,.26,5.81A33.25,33.25,0,0,1,269.47,284.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M274.71,284.32a33.25,33.25,0,0,1-.26-5.82,33.09,33.09,0,0,1,.26-5.81,32,32,0,0,1,.26,5.81A32.12,32.12,0,0,1,274.71,284.32Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M280,284.32a33.25,33.25,0,0,1-.26-5.82,33.09,33.09,0,0,1,.26-5.81,33.09,33.09,0,0,1,.26,5.81A33.25,33.25,0,0,1,280,284.32Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M345.68,310.42c1.24,6.26,2.39,12.16,3.62,18.42a26.7,26.7,0,0,1-3.62,0c0-6,0-12.41,0-18.41"})}),e.jsx("path",{d:"M192.15,296.05c.14,0,0,18.68-.35,41.71s-.71,41.7-.86,41.7,0-18.67.34-41.71S192,296.05,192.15,296.05Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M213.89,382c-.15,0-.26-9.3-.26-20.77s.11-20.77.26-20.77.26,9.3.26,20.77S214,382,213.89,382Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M312.1,287.68c0,.15-22.93.26-51.2.26s-51.2-.11-51.2-.26,22.92-.26,51.2-.26S312.1,287.54,312.1,287.68Z",style:{fill:"#fff"}})]}),e.jsx("g",{children:e.jsx("path",{d:"M462.62,475.16c0,.14-95.2.26-212.61.26s-212.63-.12-212.63-.26,95.18-.26,212.63-.26S462.62,475,462.62,475.16Z",style:{fill:"#263238"}})})]}),Sle=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500",height:400,width:400,children:[e.jsxs("g",{id:"freepik--background-complete--inject-276",children:[e.jsx("path",{d:"M195.29,51.38c.52-3.73-4.76-6.8-8.72-7.12-1.89-.16-3.85.13-5.64-.49-3.87-1.35-5.42-6.36-9.21-8-2.83-1.19-6.08-.13-8.82,1.25s-5.46,3.12-8.52,3.32c-2.66.17-5.56-.82-7.89.48-1.74,1-2.65,3-4.25,4.15a10.12,10.12,0,0,1-5.55,1.51,15.53,15.53,0,0,0-5.73.93c-1.77.81-3.23,2.69-2.86,4.6Z",style:{fill:"#f5f5f5"}}),e.jsx("path",{d:"M460.8,272.09c.86-6.21-7.91-11.32-14.5-11.85-3.14-.26-6.4.22-9.38-.82-6.44-2.24-9-10.57-15.31-13.23-4.7-2-10.12-.21-14.68,2.08s-9.06,5.18-14.16,5.51c-4.43.28-9.24-1.36-13.12.81-2.89,1.61-4.4,4.94-7.06,6.9s-6,2.33-9.24,2.51-6.58.2-9.52,1.55-5.38,4.46-4.77,7.64Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M127.4,120.53c.65-4.75-6.06-8.66-11.1-9.07-2.4-.19-4.89.18-7.17-.62-4.93-1.72-6.9-8.09-11.72-10.12-3.59-1.52-7.74-.16-11.23,1.59s-6.93,4-10.83,4.22c-3.39.21-7.07-1-10,.61-2.21,1.24-3.36,3.78-5.4,5.28s-4.59,1.79-7.07,1.92-5,.16-7.28,1.19-4.11,3.41-3.65,5.84Z",style:{fill:"#f5f5f5"}}),e.jsx("polygon",{points:"392.87 379.38 370.62 475.98 380.03 475.95 402.32 380.29 392.87 379.38",style:{fill:"#e0e0e0"}}),e.jsx("polygon",{points:"433.45 379.38 455.78 475.98 464.72 475.98 443.12 379.38 433.45 379.38",style:{fill:"#e0e0e0"}}),e.jsx("polygon",{points:"377.85 306.83 390.52 373.34 404.91 373.34 391.38 306.83 377.85 306.83",style:{fill:"#e0e0e0"}}),e.jsx("polygon",{points:"157.22 379.38 139.07 475.98 148.31 475.98 167.27 379.38 157.22 379.38",style:{fill:"#e0e0e0"}}),e.jsx("polygon",{points:"195.38 379.38 216.12 475.45 225.25 475.45 205.22 379.38 195.38 379.38",style:{fill:"#e0e0e0"}}),e.jsx("polygon",{points:"142.2 306.83 154.87 373.34 169.26 373.34 155.73 306.83 142.2 306.83",style:{fill:"#e0e0e0"}}),e.jsx("polygon",{points:"113.7 300.79 116.29 312.88 405.34 312.88 401.97 300.79 113.7 300.79",style:{fill:"#ebebeb"}}),e.jsx("polygon",{points:"119.22 324.27 122.28 336.36 409.37 336.36 406.76 324.27 119.22 324.27",style:{fill:"#ebebeb"}}),e.jsx("polygon",{points:"124.93 348.58 127.77 360.67 413.98 360.67 411.27 348.58 124.93 348.58",style:{fill:"#ebebeb"}}),e.jsx("rect",{x:"146.81",y:"373.34",width:"308.63",height:"12.09",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M330.38,223.6a13.6,13.6,0,0,1-11.8-20.37l39-68a13.45,13.45,0,0,1,11.76-6.83h0a13.47,13.47,0,0,1,11.76,6.76l39.4,67.77a13.61,13.61,0,0,1-11.72,20.44l-78.39.24Zm39-91.15h0a9.44,9.44,0,0,0-8.25,4.8l-39,68a9.54,9.54,0,0,0,8.27,14.29h0l78.39-.24A9.54,9.54,0,0,0,417,205l-39.4-67.76A9.44,9.44,0,0,0,369.37,132.45Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M361.72,161.87l1.83,25.37a4.1,4.1,0,0,0,3.89,3.81h0a4.12,4.12,0,0,0,4.31-3.69l2.6-25.53a3.24,3.24,0,0,0-3.29-3.56l-6.19.14A3.23,3.23,0,0,0,361.72,161.87Z",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M374.29,205.27a6.19,6.19,0,1,1-4-7.8A6.19,6.19,0,0,1,374.29,205.27Z",style:{fill:"#ebebeb"}})]}),e.jsx("g",{id:"freepik--Floor--inject-276",children:e.jsx("path",{d:"M469.81,475.86c0,.14-98.42.26-219.8.26S30.19,476,30.19,475.86s98.4-.26,219.82-.26S469.81,475.71,469.81,475.86Z",style:{fill:"#263238"}})}),e.jsxs("g",{id:"freepik--Device--inject-276",children:[e.jsx("path",{d:"M317.52,368.58l-101-.07c-12.14,0-22-10.35-22-23.11l0-266c0-12.76,9.86-23.11,22-23.1l100.95.06c12.15,0,22,10.35,22,23.11l-.05,266C339.52,358.24,329.67,368.58,317.52,368.58Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M317.49,65.78l-19.58,0A5,5,0,0,0,293.16,71v3.73a5,5,0,0,1-4.76,5.22l-38.15,0a5,5,0,0,1-4.75-5.23V71a5,5,0,0,0-4.75-5.22h-24c-8.51,0-15.41,7.25-15.41,16.19l0,259.62c0,8.93,6.89,16.18,15.39,16.19l100.76.06c8.51,0,15.41-7.24,15.41-16.18L332.88,82C332.88,73,326,65.78,317.49,65.78Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M228.8,333.27v6.35a.7.7,0,0,1-1.07.59l-5-3.18a.7.7,0,0,1,0-1.18l5-3.18A.7.7,0,0,1,228.8,333.27Z",style:{fill:"#e0e0e0"}}),e.jsx("path",{d:"M269.86,336.38a4.38,4.38,0,1,1-4.38-4.39A4.39,4.39,0,0,1,269.86,336.38Z",style:{fill:"#e0e0e0"}}),e.jsx("rect",{x:"301.32",y:"332.56",width:"8.08",height:"8.1",rx:"1.87",style:{fill:"#e0e0e0"}}),e.jsx("circle",{cx:"267.44",cy:"180.47",r:"49.74",transform:"translate(29.23 398.07) rotate(-76.42)",style:{fill:"#f5f5f5"}}),e.jsx("path",{d:"M269.67,202.38a4.11,4.11,0,1,1-4.09-4.12A4.12,4.12,0,0,1,269.67,202.38Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M257.35,197.1a11.39,11.39,0,0,1,16.48-.22c2.1,2.12,5.38-1.13,3.28-3.25a16.07,16.07,0,0,0-23,.19c-2.05,2.15,1.2,5.44,3.26,3.28Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M243.39,178c6.25-5.4,13.71-8.8,22.06-8.82A32.7,32.7,0,0,1,288,177.76c2.16,2,5.45-1.21,3.28-3.25a37.55,37.55,0,0,0-25.78-10c-9.61,0-18.15,4-25.34,10.17-2.25,1.95,1,5.22,3.26,3.28Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M248.9,188.57a22.6,22.6,0,0,1,33.23-.47c2.08,2.13,5.36-1.12,3.28-3.26a27.23,27.23,0,0,0-39.77.45c-2,2.18,1.23,5.47,3.26,3.28Z",style:{fill:"#455a64"}}),e.jsx("circle",{cx:"291.96",cy:"167.08",r:"12.61",transform:"translate(76.6 425.49) rotate(-79.97)",style:{fill:"#407BFF"}}),e.jsx("rect",{x:"291.01",y:"161.01",width:"2.53",height:"11.33",transform:"translate(203.46 -157.85) rotate(45)",style:{fill:"#fff"}}),e.jsx("rect",{x:"291.01",y:"161.01",width:"2.53",height:"11.33",transform:"translate(-32.25 255.48) rotate(-45)",style:{fill:"#fff"}}),e.jsx("path",{d:"M264.11,93.55a8.36,8.36,0,0,1,2-.87l.41-2,3.33-.06.48,2a8.17,8.17,0,0,1,2,.8L274,92.3l2.4,2.32-1.05,1.72a8.36,8.36,0,0,1,.87,2l2,.41.06,3.34-2,.47a8.14,8.14,0,0,1-.79,2l1.1,1.68-2.31,2.4-1.72-1a8.39,8.39,0,0,1-2,.86l-.41,2-3.33.06-.48-2a8.34,8.34,0,0,1-2-.8l-1.69,1.1-2.4-2.31,1.05-1.72a8.25,8.25,0,0,1-.87-2l-2-.41-.06-3.33,2-.48a8.31,8.31,0,0,1,.79-2l-1.1-1.69,2.32-2.39,1.72,1ZM265.88,98a3.58,3.58,0,1,0,5.06-.09A3.58,3.58,0,0,0,265.88,98Z",style:{fill:"#e0e0e0"}}),e.jsx("path",{d:"M221.82,101c-1,0-2.39,0-3.72,0-1.59,0-3.18,0-4.29,0h0a.5.5,0,0,1-.5-.5.49.49,0,0,1,.49-.5c1.11,0,2.72,0,4.32,0s3.18.06,4.29,0h0a.49.49,0,0,1,.5.49.5.5,0,0,1-.49.51Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M216.85,104.36a.51.51,0,0,1-.37-.17l-3-3.43a.52.52,0,0,1,0-.68l3-3.12a.5.5,0,1,1,.72.69l-2.65,2.79,2.74,3.09a.5.5,0,0,1-.38.83Z",style:{fill:"#263238"}}),e.jsx("circle",{cx:"319.93",cy:"96.54",r:"1.55",style:{fill:"#263238"}}),e.jsx("path",{d:"M321.48,101.44a1.56,1.56,0,1,1-1.55-1.55A1.55,1.55,0,0,1,321.48,101.44Z",style:{fill:"#263238"}}),e.jsx("circle",{cx:"319.93",cy:"106.34",r:"1.55",style:{fill:"#263238"}}),e.jsx("path",{d:"M233.76,248.89a49.33,49.33,0,0,1-7.1.26,49.24,49.24,0,0,1-7.09-.26,49.24,49.24,0,0,1,7.09-.26A49.33,49.33,0,0,1,233.76,248.89Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M259.23,265.49c0,.14-8.72.26-19.47.26s-19.47-.12-19.47-.26,8.71-.26,19.47-.26S259.23,265.35,259.23,265.49Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M259.23,282c0,.14-8.72.26-19.47.26s-19.47-.12-19.47-.26,8.71-.26,19.47-.26S259.23,281.84,259.23,282Z",style:{fill:"#263238"}}),e.jsx("rect",{x:"290.23",y:"259.26",width:"26.7",height:"12.45",rx:"6.23",style:{fill:"#ebebeb"}}),e.jsx("path",{d:"M301.6,265.49a5.22,5.22,0,1,1-5.22-5.22A5.22,5.22,0,0,1,301.6,265.49Z",style:{fill:"#e0e0e0"}}),e.jsx("path",{d:"M310.71,288.21H296.46a6.23,6.23,0,0,1-6.23-6.23h0a6.23,6.23,0,0,1,6.23-6.23h14.25a6.23,6.23,0,0,1,6.23,6.23h0A6.23,6.23,0,0,1,310.71,288.21Z",style:{fill:"#ebebeb"}}),e.jsx("circle",{cx:"296.38",cy:"281.98",r:"5.22",style:{fill:"#e0e0e0"}}),e.jsx("path",{d:"M259.23,298.58c0,.15-8.72.26-19.47.26s-19.47-.11-19.47-.26,8.71-.26,19.47-.26S259.23,298.44,259.23,298.58Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M310.71,306.65H296.46a6.22,6.22,0,0,1-6.23-6.22h0a6.23,6.23,0,0,1,6.23-6.23h14.25a6.23,6.23,0,0,1,6.23,6.23h0A6.22,6.22,0,0,1,310.71,306.65Z",style:{fill:"#ebebeb"}}),e.jsx("circle",{cx:"296.38",cy:"300.43",r:"5.22",style:{fill:"#e0e0e0"}})]}),e.jsxs("g",{id:"freepik--Sun--inject-276",children:[e.jsx("circle",{cx:"413.58",cy:"80.66",r:"16.3",transform:"translate(268.04 476.1) rotate(-80.83)",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M411.26,117.11c-.09,0-.17-3-.17-6.73s.08-6.72.17-6.72a64.49,64.49,0,0,1,.17,6.72A64.61,64.61,0,0,1,411.26,117.11Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M401.87,99.87c.08,0-1.45,2.86-3.42,6.27s-3.64,6.15-3.72,6.1,1.45-2.85,3.42-6.27S401.79,99.82,401.87,99.87Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M392.23,93.87a35.87,35.87,0,0,1-3.8,3.24,39.42,39.42,0,0,1-4,3,35.87,35.87,0,0,1,3.8-3.24A37,37,0,0,1,392.23,93.87Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M427.52,110.48a9,9,0,0,1-.43-1.65c-.23-1-.57-2.44-1-4s-.84-2.94-1.15-3.94a8.53,8.53,0,0,1-.46-1.65,8.11,8.11,0,0,1,.69,1.57c.37,1,.83,2.37,1.25,3.93s.71,3,.89,4A8.25,8.25,0,0,1,427.52,110.48Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M444.05,98.75a57.74,57.74,0,0,1-4.82-4,57.16,57.16,0,0,1-4.59-4.24,57.74,57.74,0,0,1,4.82,4A57.16,57.16,0,0,1,444.05,98.75Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M450.38,82.63a13,13,0,0,1-2-.28c-1.21-.2-2.88-.46-4.73-.67s-3.54-.34-4.76-.42a12.15,12.15,0,0,1-2-.17,10,10,0,0,1,2-.07c1.23,0,2.93.11,4.79.32s3.54.51,4.74.77A11,11,0,0,1,450.38,82.63Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M450.4,66.78c0,.1-3.5,1-7.88,2.1s-7.94,1.85-8,1.76,3.51-1,7.88-2.09S450.38,66.69,450.4,66.78Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M432,48.32c.07,0-1.61,2.74-3.77,6s-4,5.88-4.06,5.82,1.61-2.74,3.77-6A69.81,69.81,0,0,1,432,48.32Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M413.71,44.46a16,16,0,0,1,0,2.24c0,1.38,0,3.28,0,5.38s0,4,.06,5.4a15.82,15.82,0,0,1,0,2.23,12.59,12.59,0,0,1-.23-2.22c-.08-1.38-.15-3.29-.15-5.4s.06-4,.14-5.4A12.35,12.35,0,0,1,413.71,44.46Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M399.87,61.69c-.08.05-1.8-2.61-3.83-5.94s-3.63-6.08-3.55-6.13,1.8,2.62,3.84,6S400,61.65,399.87,61.69Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M391.6,68.72a7.69,7.69,0,0,1-1.73-.27c-1.06-.23-2.51-.58-4.1-1s-3-1-4-1.35a8.59,8.59,0,0,1-1.61-.7,9.09,9.09,0,0,1,1.69.48c1,.32,2.45.78,4,1.24s3,.86,4.06,1.14A9.26,9.26,0,0,1,391.6,68.72Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M388,81.24a37.91,37.91,0,0,1-5.2.67,41.62,41.62,0,0,1-5.23.34,38.48,38.48,0,0,1,5.2-.68A42.56,42.56,0,0,1,388,81.24Z",style:{fill:"#407BFF"}})]}),e.jsxs("g",{id:"freepik--plant-2--inject-276",children:[e.jsx("path",{d:"M376.88,371.74l14.58,103.87,3.8.12C392.84,440.45,390.26,404.47,376.88,371.74Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M417.39,366.87C407.2,378,403.1,393.39,400.52,408.28c-3.66,21.11-4,46.05-2.89,67.45l5.32.12A292.89,292.89,0,0,1,417.39,366.87Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M379.56,433.19c-1.17-5.15-2.51-10.38-5.45-14.77-4-5.92-10.43-9.66-16.94-12.58s-13.34-5.24-19.22-9.28c6.56,10.75,21.44,13.61,29,23.67,3.77,5,5.34,11.28,6.81,17.37,3.23,13.28,5.21,24.77,8.43,38h4.32A340.37,340.37,0,0,0,379.56,433.19Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M406.84,475.73s3.65-41.25,6.36-48.83,28.31-28.5,28.07-27.51S422.06,423.27,419.35,428,412,475.73,412,475.73Z",style:{fill:"#455a64"}})]}),e.jsxs("g",{id:"freepik--plant-1--inject-276",children:[e.jsx("path",{d:"M285.82,432.59a8.08,8.08,0,0,1,4.49,4.47,14.33,14.33,0,0,1,1,6.39c-.21,4.2-2.3,8.57-4.64,12.07-3.71-2.84-4.86-8.13-5.28-10.86-.66-4.3.76-12.48,4.45-12.07",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M291.18,462.13a6.91,6.91,0,0,1,1.81-6.7,9.13,9.13,0,0,1,6.61-2.54,3.88,3.88,0,0,1,3,1.13,2.94,2.94,0,0,1,.24,3,5.92,5.92,0,0,1-2.07,2.32c-2.92,2.11-6.13,3.61-9.64,2.8",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M287.51,475.21a5.43,5.43,0,0,1,.07-.86c.07-.61.16-1.4.27-2.34a24.48,24.48,0,0,1,1.91-7.56,14.87,14.87,0,0,1,4.95-6,10.13,10.13,0,0,1,2.1-1.09,4.6,4.6,0,0,1,.61-.2l.22-.05a16.29,16.29,0,0,0-2.81,1.52,15.39,15.39,0,0,0-4.79,5.94,26,26,0,0,0-2,7.46c-.15,1-.27,1.78-.37,2.33A4.14,4.14,0,0,1,287.51,475.21Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M285.28,438.91a1.47,1.47,0,0,1,.07.37l.13,1.07c.12.94.26,2.28.42,3.95.33,3.34.71,7.95,1,13.05s.49,9.73.57,13.08c0,1.68.06,3,.06,4v1.08c0,.25,0,.38,0,.38a2.28,2.28,0,0,1,0-.38l-.05-1.08c0-1-.09-2.31-.16-4-.14-3.35-.34-8-.65-13.07s-.66-9.71-.93-13.05c-.14-1.64-.24-3-.32-3.95,0-.44-.06-.8-.08-1.08A2.72,2.72,0,0,1,285.28,438.91Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M285.27,465.07a16.14,16.14,0,0,0-9.57-11.24c-1.21-.49-2.77-.76-3.68.18s-.59,2.49,0,3.67a13.82,13.82,0,0,0,13.23,7.74",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M276.52,457.74a4,4,0,0,1,.77.28c.24.1.54.22.87.39s.72.35,1.12.61a12.66,12.66,0,0,1,1.28.84,16.18,16.18,0,0,1,1.38,1.1,17.81,17.81,0,0,1,2.69,3,17.23,17.23,0,0,1,1.88,3.59,16,16,0,0,1,.52,1.68,15.07,15.07,0,0,1,.31,1.51,10.76,10.76,0,0,1,.14,1.26,6.57,6.57,0,0,1,0,1,4.31,4.31,0,0,1,0,.81c-.07,0,0-1.16-.35-3a14,14,0,0,0-.34-1.48,15.94,15.94,0,0,0-.55-1.65,17.92,17.92,0,0,0-1.86-3.52,19,19,0,0,0-2.62-3,16.12,16.12,0,0,0-1.35-1.11c-.42-.34-.86-.6-1.25-.86C277.58,458.22,276.5,457.8,276.52,457.74Z",style:{fill:"#263238"}})]}),e.jsxs("g",{id:"freepik--Character--inject-276",children:[e.jsx("path",{d:"M110.07,420.8,81.94,443.87,110.47,479c3.19-2.93-4.83-26.58-4.83-26.58l18.63-14Z",style:{fill:"#455a64"}}),e.jsx("g",{style:{opacity:.6},children:e.jsx("path",{d:"M98.34,440.33a1.85,1.85,0,0,0-2.44.33,1.78,1.78,0,0,0,.31,2.43,2,2,0,0,0,2.59-.37,1.85,1.85,0,0,0-.61-2.49",style:{fill:"#fff"}})}),e.jsx("g",{style:{opacity:.6},children:e.jsx("path",{d:"M82.05,443.77l2.83-2.34L111,476.27s.58,2.12-.67,2.83Z",style:{fill:"#fff"}})}),e.jsx("path",{d:"M106.28,452.85c-.17.14-1-.66-2.19-1.05s-2.32-.26-2.38-.48,1.14-.76,2.63-.25S106.47,452.76,106.28,452.85Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M107.75,457.78c-.13.17-1-.33-2.23-.33s-2.1.46-2.23.29.75-1.08,2.24-1.06S107.91,457.64,107.75,457.78Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M105,463.45c-.17-.12.5-1.06,1.8-1.38s2.32.18,2.23.36-1,.1-2,.38S105.19,463.61,105,463.45Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M110.17,449.18c-.21.06-.61-.92-1.47-1.84s-1.77-1.42-1.7-1.63,1.28,0,2.27,1.11S110.38,449.16,110.17,449.18Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M113.66,445c-.07.06-.72-.53-1.42-1.77a10.45,10.45,0,0,1-.93-2.3,10.2,10.2,0,0,1-.28-1.44,2.74,2.74,0,0,1,0-.87,1,1,0,0,1,.85-.82,1.19,1.19,0,0,1,1,.43,3.19,3.19,0,0,1,.45.74,8.19,8.19,0,0,1,.51,1.4,7.78,7.78,0,0,1,.25,2.48,3.7,3.7,0,0,1-.59,2.2c-.11,0,.1-.86,0-2.2a9.07,9.07,0,0,0-.39-2.29,8.76,8.76,0,0,0-.51-1.26c-.2-.45-.46-.77-.7-.73s-.12,0-.17.2a2.3,2.3,0,0,0,0,.63,13.33,13.33,0,0,0,.22,1.36,12.68,12.68,0,0,0,.73,2.23A14.58,14.58,0,0,1,113.66,445Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M113.24,444.94c-.08,0,.26-.88,1.32-1.85a7.48,7.48,0,0,1,2.12-1.32,7.69,7.69,0,0,1,1.43-.42,1.89,1.89,0,0,1,1.8.4,1.07,1.07,0,0,1,.11,1.14,3.22,3.22,0,0,1-.5.7,5,5,0,0,1-1.18,1,5.21,5.21,0,0,1-2.43.73c-1.47.05-2.26-.5-2.21-.56a20.42,20.42,0,0,0,2.16,0A5.35,5.35,0,0,0,118,444a4.22,4.22,0,0,0,1-.86c.33-.36.52-.74.37-.85a1.32,1.32,0,0,0-1.08-.15,8.65,8.65,0,0,0-1.31.34,8.21,8.21,0,0,0-2,1.09C113.83,444.31,113.34,445,113.24,444.94Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M97.33,439.64,97.67,476l45.26-.19c-.28-4.32-23.74-12.91-23.74-12.91l.74-23.31Z",style:{fill:"#455a64"}}),e.jsx("g",{style:{opacity:.6},children:e.jsx("path",{d:"M105.19,461a1.85,1.85,0,0,0-1.27,2.12,1.78,1.78,0,0,0,2.09,1.27,2,2,0,0,0,1.33-2.24,1.85,1.85,0,0,0-2.32-1.09",style:{fill:"#fff"}})}),e.jsx("g",{style:{opacity:.6},children:e.jsx("path",{d:"M97.66,475.88l0-3.68,43.53,1.48s2,.88,1.78,2.3Z",style:{fill:"#fff"}})}),e.jsx("path",{d:"M119.93,462.69c0,.22-1.11.33-2.2,1s-1.66,1.65-1.86,1.56.12-1.36,1.45-2.21S120,462.49,119.93,462.69Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M124.68,464.63c0,.22-.9.6-1.65,1.54s-1,1.92-1.18,1.92-.36-1.26.59-2.41S124.68,464.42,124.68,464.63Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M127.4,470.31c-.2,0-.51-1.06,0-2.27s1.6-1.7,1.69-1.52-.54.84-1,1.84S127.62,470.28,127.4,470.31Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M119.51,457.36c-.1.2-1.11-.1-2.36,0s-2.22.49-2.34.3.82-1,2.29-1.07S119.61,457.18,119.51,457.36Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M118.4,452a4.26,4.26,0,0,1-2.26,0,10.52,10.52,0,0,1-3.68-1.4,3,3,0,0,1-.69-.53,1,1,0,0,1-.1-1.18,1.2,1.2,0,0,1,1-.51,3,3,0,0,1,.85.12,7.82,7.82,0,0,1,3.51,1.84c1.05,1,1.42,1.79,1.34,1.83s-.61-.61-1.69-1.41a8.65,8.65,0,0,0-2-1.13,8.36,8.36,0,0,0-1.31-.4c-.48-.12-.88-.12-1,.09s0,.11.06.25a2,2,0,0,0,.5.39,13.42,13.42,0,0,0,1.2.68,12.51,12.51,0,0,0,2.2.83A16.28,16.28,0,0,1,118.4,452Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M118.12,452.31c-.08,0-.52-.75-.61-2.19a7.35,7.35,0,0,1,.3-2.48,7.61,7.61,0,0,1,.57-1.38,1.87,1.87,0,0,1,1.44-1.15,1.06,1.06,0,0,1,1,.63,3.43,3.43,0,0,1,.24.83,5.17,5.17,0,0,1-1,3.87c-.88,1.18-1.8,1.45-1.82,1.37s.69-.54,1.36-1.67a5.06,5.06,0,0,0,.71-2.13,4.45,4.45,0,0,0,0-1.31c-.08-.48-.26-.87-.44-.82s-.61.36-.79.75a7.92,7.92,0,0,0-.56,1.23,8.18,8.18,0,0,0-.43,2.26C118,451.45,118.24,452.28,118.12,452.31Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M101.21,228.91s-6.35,6.79-9.46,13.3-5.11,22-5.11,22-8.76,19.51-7.43,29.49S89.46,372,89.46,372s-.44,66.36,5.88,78.19l1.41,6.39L122.27,452h0l-.16-3.83,6-130.12,15.36-88.59Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M157.52,248.26s15.25,84,16.6,98.57-50.59,91.45-50.59,91.45L99.79,413.55l34.08-63.35-11.08-63.85,15.41-56.41,16.18.57Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M91.38,429.52a17,17,0,0,0,.18,1.86c.16,1.22.46,3,.88,5.32.85,4.62,2.23,11.32,4.08,19.69l0,.18.18,0,25.53-4.48.19,0v-.2c.71-17.51,1.56-38.44,2.47-60.89.94-24.15,1.81-46.55,2.53-64.92v0c1.91-14.76,3.49-27,4.6-35.51.53-4.24.95-7.57,1.24-9.87.13-1.12.24-2,.31-2.59s.08-.89.08-.89-.06.29-.15.88-.22,1.47-.38,2.58c-.32,2.29-.78,5.62-1.37,9.85C130.63,299,129,311.23,127,326h0c-.74,18.37-1.65,40.77-2.63,64.92-.88,22.45-1.7,43.38-2.38,60.89l.2-.23-25.5,4.59.21.14c-1.9-8.36-3.33-15.05-4.24-19.65-.45-2.31-.78-4.09-1-5.3-.11-.6-.17-1.06-.21-1.37A4.57,4.57,0,0,0,91.38,429.52Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M61.75,194.15s15.8-34.06,19.53-35.87,14.45-2.42,15.9-.38L68.86,198.68Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M62.57,189.55a3.15,3.15,0,0,0-2.29-.3h0c-4.91,1.22-22.85,6-24.85,11.13-2.32,5.91,11.87,82.71,13.7,84.79s30.05-1.41,30.92-4.69-9.18-86.06-9.18-86.06Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M40.3,241.86s-1.6.1-3.19,3.63,1.21,32.19,3.32,35.12,8.27,3.55,8.27,3.55Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M71.75,282.05a.71.71,0,0,1-.14-.19l-.38-.59c-.33-.52-.77-1.31-1.29-2.36a43.07,43.07,0,0,1-3.23-9.33,120.74,120.74,0,0,1-2.24-14.47c-.58-5.48-1.22-11.5-1.9-17.82-1.36-12.64-2.49-24.1-2.68-32.45-.1-4.17,0-7.54.11-9.87.06-1.16.13-2.07.19-2.68,0-.28.05-.5.07-.69a.92.92,0,0,1,0-.24.87.87,0,0,1,0,.24c0,.19,0,.42,0,.7,0,.65,0,1.55-.09,2.68-.06,2.32-.09,5.69.06,9.85.28,8.32,1.47,19.77,2.83,32.41.66,6.31,1.29,12.33,1.86,17.81a125.94,125.94,0,0,0,2.12,14.45,45.68,45.68,0,0,0,3.05,9.33c.49,1.05.9,1.85,1.2,2.39l.33.61C71.72,282,71.76,282,71.75,282.05Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M62.75,236.5a31.35,31.35,0,0,1-3.35.63c-2.06.35-4.91.9-8,1.67s-5.88,1.61-7.87,2.26a28.59,28.59,0,0,1-3.25,1,3,3,0,0,1,.81-.42c.54-.24,1.33-.56,2.32-.93a73.67,73.67,0,0,1,16-4c1-.13,1.89-.22,2.48-.25A3,3,0,0,1,62.75,236.5Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M39.93,238.69a1.6,1.6,0,0,1,.12.47c.07.37.15.82.25,1.36l.83,5c.71,4.23,1.74,10.07,3,16.49s2.6,12.21,3.58,16.39c.48,2,.87,3.7,1.17,4.95l.3,1.35a1.74,1.74,0,0,1,.07.48,1.48,1.48,0,0,1-.17-.45l-.4-1.33c-.33-1.15-.79-2.83-1.33-4.91-1.07-4.16-2.44-9.94-3.73-16.37s-2.26-12.29-2.88-16.55c-.31-2.12-.54-3.85-.67-5-.06-.55-.11-1-.15-1.38A2.18,2.18,0,0,1,39.93,238.69Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M60,204.11a7.92,7.92,0,0,1,.16-2.13,46.42,46.42,0,0,1,2.63-9.93,8.1,8.1,0,0,1,.91-1.93c.14.06-1,3.1-2,7S60.18,204.13,60,204.11Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M159.14,131.19c-.16-2.89-.52-17-.69-19.1a11.81,11.81,0,0,0-3.54-7.73,7.39,7.39,0,0,0-8-1.55h0a4.94,4.94,0,0,0-3.55,3.47c-5.92,21-5,43.47-7.6,65.23,7.73,1.26,18.13.75,25.94.34C161.68,154.47,160.21,150,159.14,131.19Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M155.89,160.86a2.05,2.05,0,0,1-.06-.56c0-.42-.05-1-.08-1.61,0-1.47-.11-3.49-.18-5.94-.11-5.08-.25-12-.41-19.59-.06-3.83-.12-7.47-.17-10.79,0-1.66,0-3.23-.05-4.71a24.15,24.15,0,0,0-.28-4,6.6,6.6,0,0,0-3-4.76,5.23,5.23,0,0,0-2-.62s0,0,.14,0a1.92,1.92,0,0,1,.42,0,4.15,4.15,0,0,1,1.57.47,5.63,5.63,0,0,1,1.94,1.7,7.79,7.79,0,0,1,1.33,3.16,23.86,23.86,0,0,1,.35,4.11c0,1.48.06,3.06.1,4.71.06,3.32.13,7,.21,10.79.1,7.62.19,14.52.26,19.59,0,2.46,0,4.47,0,5.94,0,.66,0,1.19,0,1.62A3,3,0,0,1,155.89,160.86Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M148.86,152.88a7.11,7.11,0,0,1-.09-1.26c0-.82-.05-2-.05-3.46,0-2.92.06-7,.17-11.41s.23-8.38.32-11.4c0-1.38.08-2.54.11-3.45a5.91,5.91,0,0,1,.11-1.27,7.18,7.18,0,0,1,.09,1.27c0,.81,0,2,0,3.46,0,2.92-.06,7-.17,11.4s-.24,8.38-.32,11.4c-.05,1.38-.08,2.54-.11,3.46A5.86,5.86,0,0,1,148.86,152.88Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M97.94,158.28c-1,0-19.86,1.34-24.24,21.54s-5.64,48.5-5.64,48.5l20.45-2Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M107.2,153.81l3.32-6.13,29-.79,2,5.22,17.09,6.17L157.18,234l12.66,69.91S169.71,314,136,317.2l-2.67-36.54-16.85-.4.46,35.69s-29.74-.48-39.17-7.21c0,0-2.86-34,5.26-58.49,7.11-21.44,9.88-27,9.88-27L93.49,159Z",style:{fill:"#407BFF"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M98.24,159.15Q89.5,196.56,80.74,234l5.93,6.29A17.72,17.72,0,0,0,96.9,224.35c0-3.46-1.1-6.83-1.24-10.29-.32-7.8,4-14.95,6-22.5C104.41,180.87,102.4,169.39,98.24,159.15Z"})}),e.jsx("path",{d:"M154.91,157.31c7,1.29,12.39,8.69,14,16.63.93,4.65,3.64,27.07,3.64,27.07l1.49,8.22s1.25,28.25-4.74,31.41c-7,3.68-11-.36-13.32-3.32s-4.79-22.22-4.79-22.22L153.8,169Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M158.22,168.65a4.47,4.47,0,0,1-.08.81q-.12.85-.33,2.31c-.32,2-.76,4.93-1.31,8.47s-1.26,7.85-2,12.57c-.39,2.36-.79,4.84-1.21,7.41s-.94,5.22-1.16,8a27.59,27.59,0,0,0,0,4.72v0c2.17,9.71,4.2,18.28,5.73,24.42.77,3,1.39,5.48,1.84,7.23.21.81.38,1.45.51,1.94a2.93,2.93,0,0,1,.15.69,3.35,3.35,0,0,1-.24-.66l-.6-1.92c-.5-1.68-1.2-4.13-2-7.19-1.62-6.12-3.71-14.69-5.89-24.39v0a28.53,28.53,0,0,1,0-4.8c.22-2.78.74-5.44,1.17-8s.85-5,1.24-7.41c.8-4.71,1.52-9,2.12-12.55s1.12-6.4,1.48-8.45c.18-.95.32-1.72.43-2.29A4.17,4.17,0,0,1,158.22,168.65Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M84,163,89.3,234s9.92-45.23,10.32-56.8a67.74,67.74,0,0,0-2-19.72S88,155.93,84,163Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M80.94,158.5a4.78,4.78,0,0,1,1.77,1A4,4,0,0,1,84,161.34a11.23,11.23,0,0,1,.53,2.64c.17,1.88.16,3.58.16,4.81a9.62,9.62,0,0,1-.08,2,6.62,6.62,0,0,1-.29-2c-.1-1.22-.14-2.92-.31-4.77s-.59-3.51-1.49-4.28S80.89,158.58,80.94,158.5Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M117.72,161.07s-.23-.19-.6-.62-.89-1-1.54-1.85l.3,0c-.72,2.09-1.82,5.12-3.07,8.52l-.18.48-.27-.41c-.15-.23-.33-.46-.47-.7a27.07,27.07,0,0,1-2.07-4.72c-.53-1.49-1-2.83-1.34-4s-.68-2-.91-2.65a5.58,5.58,0,0,1-.32-1,3.32,3.32,0,0,1,.51.91c.29.6.65,1.5,1.07,2.61s.91,2.47,1.44,3.91a30.27,30.27,0,0,0,2.06,4.62c.14.23.3.44.44.65l-.45.07c1.27-3.39,2.42-6.4,3.24-8.46l.11-.29.19.25A23.71,23.71,0,0,1,117.72,161.07Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M140.72,156.19a4.08,4.08,0,0,1-.35.95c-.26.6-.66,1.45-1.16,2.5s-1.12,2.29-1.85,3.66a34.38,34.38,0,0,1-2.62,4.32l-.33.45-.13-.55-.05-.23c-.82-3.49-1.53-6.66-2-9l.32.08a13.12,13.12,0,0,1-2.29,1.75c-.54.39-.79.67-.82.64s.17-.34.69-.8a16.85,16.85,0,0,0,2.14-1.84l.23-.27.1.35c.58,2.29,1.35,5.45,2.17,8.94l0,.23-.46-.1a39.21,39.21,0,0,0,2.61-4.23l1.94-3.59,1.31-2.43A4,4,0,0,1,140.72,156.19Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M118.22,160.79s-2.81,36.5-3.54,41.2,1.77,78.27,1.77,78.27l16.44,1.06s.17-60.75,0-61.17.08-42.89.08-42.89l-3.73-16.92-6.36,7.53Z",style:{fill:"#fff"}}),e.jsx("path",{d:"M136.57,195.49c0,.08-.58.21-.87,1a1.58,1.58,0,0,0,.07,1.32,1.33,1.33,0,0,0,1.41.54,1.3,1.3,0,0,0,1.12-1,1.57,1.57,0,0,0-.4-1.26,2.23,2.23,0,0,0-1.17-.62s.13-.1.4-.1a1.69,1.69,0,0,1,1,.47,1.9,1.9,0,0,1,.61,1.59,1.89,1.89,0,0,1-3.42.63,1.89,1.89,0,0,1,0-1.71,1.65,1.65,0,0,1,.8-.8C136.41,195.44,136.56,195.46,136.57,195.49Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M136.57,227.35c0,.08-.58.22-.87,1a1.58,1.58,0,0,0,.07,1.32,1.44,1.44,0,0,0,2.53-.47,1.56,1.56,0,0,0-.4-1.26c-.56-.63-1.18-.54-1.17-.63s.13-.1.4-.09a1.66,1.66,0,0,1,1,.46,1.93,1.93,0,0,1,.61,1.59,1.89,1.89,0,0,1-3.42.63,1.87,1.87,0,0,1,0-1.7,1.65,1.65,0,0,1,.8-.8C136.41,227.3,136.56,227.33,136.57,227.35Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M138,265.89c0,.08-.58.22-.87,1a1.58,1.58,0,0,0,.07,1.32,1.44,1.44,0,0,0,2.53-.47,1.56,1.56,0,0,0-.4-1.26c-.56-.63-1.18-.54-1.17-.63s.13-.1.4-.09a1.62,1.62,0,0,1,1,.46,1.9,1.9,0,0,1,.62,1.59,1.89,1.89,0,0,1-3.43.63,1.9,1.9,0,0,1,0-1.7,1.65,1.65,0,0,1,.8-.8C137.87,265.84,138,265.87,138,265.89Z",style:{fill:"#263238"}}),e.jsx("g",{style:{opacity:.3},children:e.jsx("path",{d:"M159.34,195.2c-.36-2.91-1.13-5.76-1.32-8.69-.24-3.5.37-7-.32-10.49-2.38,4-2.92,8.77-2.93,13.4s.42,9.28-.24,13.86c-.45,3.14-1.47,6.91-1.85,10.06s.52,4.88,1.44,9.61C157.29,214,160.5,204.63,159.34,195.2Z"})}),e.jsx("path",{d:"M153.79,187.76a37,37,0,0,1-4.11,32.7",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M149.68,220.46c-.09-.06,1-1.64,2.32-4.42a38.89,38.89,0,0,0,1.94-5,42,42,0,0,0,1.38-6.45,42.87,42.87,0,0,0,.26-6.59,38.82,38.82,0,0,0-.63-5.35c-.59-3-1.26-4.82-1.16-4.86a6.34,6.34,0,0,1,.52,1.25c.15.41.32.91.48,1.5s.38,1.27.52,2a35.3,35.3,0,0,1,.75,5.41,36.27,36.27,0,0,1-1.66,13.2,35.91,35.91,0,0,1-2.07,5c-.33.71-.7,1.31-1,1.84a15.39,15.39,0,0,1-.85,1.34A6.53,6.53,0,0,1,149.68,220.46Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M104.12,236a9.91,9.91,0,0,1-1.92-1.55,46.79,46.79,0,0,1-7.63-9.14,9.64,9.64,0,0,1-1.19-2.18,14.37,14.37,0,0,1,1.49,2c.89,1.23,2.14,2.91,3.62,4.69s2.91,3.3,4,4.4A14.41,14.41,0,0,1,104.12,236Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M97.54,237.05a7.35,7.35,0,0,1-1-1.88,41.3,41.3,0,0,1-3-9.86,7.49,7.49,0,0,1-.21-2.13c.15,0,.73,3.17,1.9,7S97.68,237,97.54,237.05Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M129.7,218c0,.07-.61-.32-1.6-.71a9.35,9.35,0,0,0-8,.57c-.92.53-1.41,1-1.48.92a3.7,3.7,0,0,1,1.29-1.23,8.38,8.38,0,0,1,4.08-1.39,8.26,8.26,0,0,1,4.23.8A3.74,3.74,0,0,1,129.7,218Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M74.18,215.63s-7.35,8-6.79,13.58,3.16,17.86,10,17.49,13.11-11.44,14-20.22,0-29.44,0-29.44l-9.81,2.21Z",style:{fill:"#ffbe9d"}}),e.jsx("path",{d:"M59.58,164.43c5.08,6.49,17.67,22.14,17.67,22.14l11.85-3a2.16,2.16,0,0,0,1.62-1.83h0a2.15,2.15,0,0,0-.45-1.6l-16.61-21a4.72,4.72,0,0,0-5.37-1.5l-7.59,2.85A2.55,2.55,0,0,0,59.58,164.43Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M89.46,180.91a9.89,9.89,0,0,1-1.14-1.09c-.71-.74-1.72-1.81-2.93-3.16-2.42-2.71-5.66-6.56-9-11-.83-1.11-1.63-2.2-2.39-3.27a8.54,8.54,0,0,0-2.48-2.64,3.7,3.7,0,0,0-3.12,0l-2.8,1-4.09,1.35a8.47,8.47,0,0,1-1.52.43,10.51,10.51,0,0,1,1.45-.62l4-1.51,2.79-1a7.08,7.08,0,0,1,1.66-.4,3.3,3.3,0,0,1,1.83.38,8.8,8.8,0,0,1,2.67,2.76l2.39,3.26c3.32,4.43,6.5,8.3,8.85,11.06,1.13,1.33,2.08,2.43,2.8,3.27A9.79,9.79,0,0,1,89.46,180.91Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M66.31,162.25a1,1,0,1,1-.46,1.33,1,1,0,0,1,.46-1.33",style:{fill:"#fff"}}),e.jsx("path",{d:"M76.47,176.44l-5.48.91-2,1.8a2.25,2.25,0,0,0-.76,2,5.32,5.32,0,0,0,1.24,2.66,15.73,15.73,0,0,0,2.38,2.38s-1.92,3.12,1.06,4.7c0,0-.2,3.23,2.93,3.56,0,0,.91,3.07,3.27,3.24l2.43,2.41-.74,1.47,10.87.34a63.49,63.49,0,0,0-.43-8.68,20.84,20.84,0,0,0-.85-3.45c.55-3.06-1.74-4.34-2.09-4.12,0,0,5.19-1.36,4.53-4.93l-5,1.28-9.13,1.9L84.56,180a4.65,4.65,0,0,0,.76-.9c.5-.79,1.24-2.22.61-3.06-.27-.35-7.47,2.66-7.47,2.66L74,182.81l-1.4-2S77.19,179.87,76.47,176.44Z",style:{fill:"#ffbe9d"}}),e.jsx("path",{d:"M89,185.7c0,.16-1.93.43-4.24,1.11s-4.11,1.47-4.18,1.33a11.25,11.25,0,0,1,4-1.83A11.21,11.21,0,0,1,89,185.7Z",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M86.49,195.11a16.67,16.67,0,0,0,1.81-1.93l.19-.25.13.29a1.67,1.67,0,0,0,.89.84,1.31,1.31,0,0,0,1.31-.08.52.52,0,0,0,.18-.56l-.15-.9a12.12,12.12,0,0,0-.37-1.85,1.25,1.25,0,0,0-1.22-.87,6,6,0,0,0-1.66.31l-2.93.72a15,15,0,0,1-2.73.53,15.89,15.89,0,0,1,2.64-.89l2.88-.82a5.88,5.88,0,0,1,1.82-.36,1.9,1.9,0,0,1,1,.31,1.93,1.93,0,0,1,.66.89,12.69,12.69,0,0,1,.39,1.95c0,.31.09.62.14.92a1,1,0,0,1-.39,1,1.76,1.76,0,0,1-1.78.1,2.08,2.08,0,0,1-1-1.1l.31,0a7,7,0,0,1-1.46,1.37C86.74,195,86.51,195.14,86.49,195.11Z",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M76.88,180a24.2,24.2,0,0,1-2.44,3.19,23.33,23.33,0,0,1-2.55,3.1A12,12,0,0,1,74,182.89,11.6,11.6,0,0,1,76.88,180Z",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M79.14,183.77c0,.15-1.14.51-2,1.68a8.78,8.78,0,0,0-1,2.39c-.07,0-.17-.3-.15-.82a3.78,3.78,0,0,1,2.27-3.13C78.8,183.71,79.12,183.71,79.14,183.77Z",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M137.8,103.21c-.84-2.2-.51-4.65-.84-7-.72-5.13-4.85-9.25-9.63-11.26-4.45-1.86-9.88-1.46-15.24.26a20.49,20.49,0,0,0-9.59,6.23,16.1,16.1,0,0,0-3,14.47l26.26-3.79c2.45,2,5,4.11,7.95,5.25a5.4,5.4,0,0,0,2.74.44,2.45,2.45,0,0,0,2-1.68C138.75,105.14,138.17,104.17,137.8,103.21Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M121.48,83.64c5.75-1,10.8,1.25,15.64,4.5a28.78,28.78,0,0,1,10.59,13.58c2.21,5.73,2.77,14,1,19.91a17.86,17.86,0,0,1-11.26,12.1c-7.9,2.8-17,2.45-23.72-2.61s-10.5-13.43-10.81-21.81a27.75,27.75,0,0,1,4.41-16.47,21.11,21.11,0,0,1,14.1-9.2",style:{fill:"#263238"}}),e.jsx("path",{d:"M112.35,146.17l.21,4.68,10.32,18.25,15-19.2.51-48a4.28,4.28,0,0,0-4-4.19l-22.91-4.89c-7.3-.49-11.8,8.64-12,16-.2,8.13-.14,18.06,1,24.07,2.39,12.09,11.77,13.29,11.77,13.29",style:{fill:"#ffbe9d"}}),e.jsx("path",{d:"M102.82,118.89a1.55,1.55,0,0,0,1.56,1.52,1.5,1.5,0,0,0,1.56-1.47,1.57,1.57,0,0,0-1.56-1.51A1.49,1.49,0,0,0,102.82,118.89Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M101.88,113.5c.2.2,1.35-.72,3-.78s2.94.73,3.11.52-.12-.45-.68-.82a4.2,4.2,0,0,0-2.5-.67,4.11,4.11,0,0,0-2.4.87C101.94,113,101.78,113.41,101.88,113.5Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M118.05,118.6a1.56,1.56,0,0,0,1.57,1.52,1.49,1.49,0,0,0,1.55-1.46,1.55,1.55,0,0,0-1.56-1.52A1.49,1.49,0,0,0,118.05,118.6Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M117.82,113.11c.2.2,1.35-.72,3-.78s3,.74,3.12.52-.12-.45-.68-.82a4.2,4.2,0,0,0-2.5-.67,4.11,4.11,0,0,0-2.4.87C117.88,112.65,117.72,113,117.82,113.11Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M112.76,125.87a11.13,11.13,0,0,0-2.74-.39c-.43,0-.84-.1-.92-.39a2.13,2.13,0,0,1,.24-1.28l1.14-3.31c1.59-4.71,2.72-8.58,2.53-8.64s-1.63,3.7-3.22,8.42l-1.09,3.33a2.52,2.52,0,0,0-.16,1.69,1.11,1.11,0,0,0,.73.6,2.84,2.84,0,0,0,.73.07A10.47,10.47,0,0,0,112.76,125.87Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M112.35,146.17a33.91,33.91,0,0,0,16.13-5.35s-3.78,8.57-16,7.89Z",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M114.05,129.48a2.69,2.69,0,0,1,2.45-.84,2,2,0,0,1,1.55,1,2.28,2.28,0,0,1,.15,2.32,2,2,0,0,1-2.18.64,5.18,5.18,0,0,1-2-.94,1.35,1.35,0,0,1-.38-.68,1.8,1.8,0,0,1,.46-1.49",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M117.92,109.18c.18.45,1.85.17,3.82.34s3.6.64,3.84.22c.11-.2-.18-.62-.84-1a6.36,6.36,0,0,0-2.87-.89,6.43,6.43,0,0,0-3,.47C118.19,108.59,117.84,109,117.92,109.18Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M102.09,106.14c.31.37,1.45-.07,2.84-.14s2.58.16,2.83-.25c.11-.19-.09-.57-.61-.91a4.13,4.13,0,0,0-4.58.31C102.1,105.56,102,106,102.09,106.14Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M142,99.68c-2.37-7-12.73-16.51-20.08-15.86l-11.61,7.26a11.33,11.33,0,0,0,7.85,8.53c2.09.59,4.59.72,5.86,2.48s.61,4.47,1.82,6.33c1.67,2.58,6.11,2.37,7.39,5.17.55,1.22.3,2.69.88,3.91.77,1.61,4.93,3.6,6.63,3s1.64-3.48,2.17-5a8.07,8.07,0,0,0,.15-5.4C142.26,106.69,143.14,103,142,99.68Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M135.74,122.06c0-.91.94-3.08,1.83-3.26,2.37-.46,6.68-.43,7,5.64.37,8.29-8,6.94-8.06,6.71S135.85,125.19,135.74,122.06Z",style:{fill:"#ffbe9d"}}),e.jsx("path",{d:"M138.86,127.89s.15.1.39.2a1.42,1.42,0,0,0,1.09,0c.86-.36,1.53-1.78,1.51-3.27a4.63,4.63,0,0,0-.5-2.05,1.64,1.64,0,0,0-1.13-1.06.73.73,0,0,0-.84.43c-.1.24,0,.4-.08.41s-.19-.13-.13-.47a.88.88,0,0,1,.3-.54,1.09,1.09,0,0,1,.79-.24,2,2,0,0,1,1.56,1.22,5,5,0,0,1,.61,2.29c0,1.67-.77,3.27-2,3.67a1.55,1.55,0,0,1-1.33-.16C138.88,128.09,138.83,127.91,138.86,127.89Z",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M149.52,110.72a7.24,7.24,0,0,0,.32-2.49A18.34,18.34,0,0,0,146,96.9a7.4,7.4,0,0,0-1.75-1.79c-.16.1,2.62,2.86,4.08,7.31A27.3,27.3,0,0,1,149.52,110.72Z",style:{fill:"#407BFF"}}),e.jsx("path",{d:"M112.73,88.58c-.77,3.37-5.9,7.69-8.16,10.32-4.3,5-5.11,5.74-5.08,20.85a35.77,35.77,0,0,1-3.45-15,18.1,18.1,0,0,1,4.81-11.88,14.1,14.1,0,0,1,11.88-4.28",style:{fill:"#263238"}}),e.jsx("path",{d:"M146.23,99.57a6.88,6.88,0,0,1-1.4.35c-.46.1-1,.21-1.68.29s-1.41.22-2.25.26a40.21,40.21,0,0,1-5.87,0,45.21,45.21,0,0,1-7.12-1.09,43.89,43.89,0,0,1-6.82-2.32,39.43,39.43,0,0,1-5.19-2.76c-.73-.42-1.33-.88-1.87-1.26a16.23,16.23,0,0,1-1.36-1,9.47,9.47,0,0,1-1.09-1,8,8,0,0,1,1.21.8c.37.28.83.61,1.39,1s1.17.79,1.9,1.19a42.11,42.11,0,0,0,5.19,2.64A46.4,46.4,0,0,0,128,99a48.26,48.26,0,0,0,7,1.12,44,44,0,0,0,5.82.05c.83,0,1.58-.13,2.23-.18s1.22-.14,1.68-.21A9.37,9.37,0,0,1,146.23,99.57Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M147.09,105.52a4,4,0,0,1-1,.23,22.77,22.77,0,0,1-2.67.34,33.25,33.25,0,0,1-17.28-3.41,23.65,23.65,0,0,1-2.35-1.32,3.71,3.71,0,0,1-.8-.59c0-.07,1.25.66,3.3,1.6a37.23,37.23,0,0,0,17.11,3.37C145.69,105.65,147.08,105.43,147.09,105.52Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M149.19,105.72a5.35,5.35,0,0,1,.28,1.25c.13.82.26,2,.34,3.47a49.55,49.55,0,0,1,0,5.17,32.6,32.6,0,0,1-.85,6.28,16.68,16.68,0,0,1-6.43,9.39,16.3,16.3,0,0,1-3.08,1.65,5.17,5.17,0,0,1-1.21.41,7.64,7.64,0,0,1,1.13-.59,19.79,19.79,0,0,0,2.95-1.76,15.48,15.48,0,0,0,3.52-3.63,16.7,16.7,0,0,0,2.63-5.59,35.86,35.86,0,0,0,.88-6.19c.12-1.93.14-3.67.11-5.13s-.1-2.64-.18-3.45A7.17,7.17,0,0,1,149.19,105.72Z",style:{fill:"#455a64"}}),e.jsx("path",{d:"M116.12,132.58a2.73,2.73,0,0,0,1.29-.31,1.6,1.6,0,0,0,.74-1.1,1.92,1.92,0,0,0-.44-1.56,2.25,2.25,0,0,0-1.49-.71,2.61,2.61,0,0,0-1.38.3c-.74.39-1,.87-1.12.82s.15-.6.93-1.14a2.72,2.72,0,0,1,1.59-.46,2.59,2.59,0,0,1,1.86.85,2.31,2.31,0,0,1,.52,2,1.9,1.9,0,0,1-1,1.33C116.68,133,116.07,132.62,116.12,132.58Z",style:{fill:"#263238"}}),e.jsx("path",{d:"M167.27,200.86l4.46-9.51c.74-3,3.76-4,7.46-4.24l3.91-1.6s2.85-4.11,5.49-4a1,1,0,0,1,.92.7h0a.93.93,0,0,1-.11.81l-3.21,4.94-2.56,1.26s2.4.58,3.35-.31,4.16-3.43,4.16-3.43,2.45-4.41,5.63-4.08a.58.58,0,0,1,.46.85l-2.44,4.71s4.45-6.69,8.69-4.19l-4.7,5.11s6.82-3.87,9.54-.63l-17.26,7.13-9.95,1.95-3.48,9.44L174.57,204Z",style:{fill:"#ffbe9d"}}),e.jsx("path",{d:"M177.61,213.21s.53,16.9-2.59,21.56-8.92,11-16.1,5.92l-4.49-17s7.31-8,8.64-11.3c3.31-8.19,8.66-21,8.66-21l9.52,4.24Z",style:{fill:"#ffbe9d"}}),e.jsx("path",{d:"M164.15,210.84a13.19,13.19,0,0,1-1.08,2.14c-.7,1.29-1.64,3.09-2.57,5.13s-1.68,3.93-2.21,5.31a12.36,12.36,0,0,1-.91,2.21,9.78,9.78,0,0,1,.57-2.33,44.07,44.07,0,0,1,2.07-5.4,47,47,0,0,1,2.73-5.11A9.93,9.93,0,0,1,164.15,210.84Z",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M186.19,187.91a7.23,7.23,0,0,1-2.33,1.37,7.07,7.07,0,0,1-2.54.9,7.25,7.25,0,0,1,2.32-1.37A7.15,7.15,0,0,1,186.19,187.91Z",style:{fill:"#eb996e"}}),e.jsx("path",{d:"M187.62,192.38c0-.07.45-.37,1.26-.72l1.44-.59.83-.35a1.7,1.7,0,0,0,.71-.51c.87-1,1.58-2,2.15-2.67s1-1.09,1.05-1a3.41,3.41,0,0,1-.19.34l-.56.88a26.06,26.06,0,0,1-2.07,2.8,2.92,2.92,0,0,1-.4.38,2.47,2.47,0,0,1-.48.25l-.87.33c-.55.2-1.06.35-1.48.49A5.93,5.93,0,0,1,187.62,192.38Z",style:{fill:"#eb996e"}})]})]}),NA=()=>{const{isOnline:t}=Tie();g.useEffect(()=>{if(t){const n=setTimeout(()=>{window.location.reload()},5e3);return()=>clearTimeout(n)}},[t]);const s=()=>{window.location.reload()},a=()=>{window.history.length>1?window.history.back():window.location.href="/"};return e.jsx("div",{className:"flex items-center justify-center bg-white fixed inset-0 w-screen h-screen",children:e.jsxs("div",{className:"text-center max-w-lg w-full p-6",children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(Sle,{})}),e.jsx("h1",{className:"text-xl font-bold text-gray-800 mb-2",children:t?"Connection Restored!":"No Internet Connection"}),e.jsx("p",{className:"text-gray-600 mb-4",children:t?"Your connection has been restored. Redirecting...":"Unable to connect to the server. Please check your internet connection and try again."}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx(G,{variant:"outlined",onClick:a,className:"!capitalize text-sm py-2",disabled:t,children:"Go Back"}),e.jsx(G,{variant:"contained",onClick:s,startIcon:e.jsx(Gl,{className:"w-3 h-3"}),className:"!capitalize text-sm py-2",disabled:t,children:t?"Connecting...":"Retry"}),e.jsx(G,{variant:"contained",onClick:()=>window.location.href="/",startIcon:e.jsx(gA,{className:"w-3 h-3"}),className:"!capitalize text-sm py-2",disabled:t,children:"Go Home"})]}),t&&e.jsx("div",{className:"mt-4 p-2 bg-green-50 text-green-700 rounded text-xs",children:"Connection restored! Page is reloading..."})]})})},Tt=({module:t,action:s="read",children:a})=>{const n=Ze(t),r=(()=>{switch(s){case"create":return n.isCreate;case"update":return n.isUpdate;case"delete":return n.isDelete;default:return n.isRead||n.isCreate||n.isUpdate||n.isDelete}})();return n.isLoading?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{children:"Loading permissions..."})}):n.isNetworkError||!r?e.jsx(NA,{}):e.jsx(e.Fragment,{children:a})},R8=Ut([e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),Cle=Ut(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"})),ds=Ut(e.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),kle=Ut(e.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"})),St=Ut(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12m8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8"})),A8=Ut(e.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),Ple=Ut(e.jsx("path",{d:"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1M9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m11 15H4v-2h16zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20z"})),pt=Ut(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),Ele=Ut(e.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Tle=Ut(e.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"})),Mle=Ut(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Gn=Ut(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Dle=Ut(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),gs=Ut(e.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"})),Rle=Ut(e.jsx("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"})),Pb=Ut(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),i_=Ut(e.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"})),_t=Ut(e.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),wA=Ut(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),o_=Ut(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),I8=Ut(e.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-7 12h-2v-2h2zm0-4h-2V6h2z"})),Ale=Ut(e.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),Qf=Ut(e.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),O8=Ut(e.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"})),Ile=Ut(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),Ole=Ut(e.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),l_=Ut(e.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4l16-.02z"})),Fle=Ut(e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56M12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96M4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56m2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8M12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96M14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2m.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2z"})),Lle=Ut(e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"})),zle=Ut(e.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"})),$le=Ut(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16"})),F8=Ut(e.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"})),c_=Ut(e.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"})),vN=Ut(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"})),qle=Ut(e.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),_A=Ut(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),Ble=Ut(e.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"})),Ule=Ut([e.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),e.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]),Eb=Ut(e.jsx("path",{d:"M8 5v14l11-7z"})),L8=Ut(e.jsx("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"})),Vle=Ut([e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),SA=Ut(e.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),Hle=Ut(e.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"})),xu=Ut(e.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),Wle=Ut(e.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),Ct=Ut(e.jsx("path",{d:"M10 10.02h5V21h-5zM17 21h3c1.1 0 2-.9 2-2v-9h-5zm3-18H5c-1.1 0-2 .9-2 2v3h19V5c0-1.1-.9-2-2-2M3 19c0 1.1.9 2 2 2h3V10H3z"})),X4=Ut(e.jsx("path",{d:"M20 10V8h-4V4h-2v4h-4V4H8v4H4v2h4v4H4v2h4v4h2v-4h4v4h2v-4h4v-2h-4v-4zm-6 4h-4v-4h4z"})),CA=Ut(e.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})),xs=Ut(e.jsx("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"})),Yle=Ut(e.jsx("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"})),Cr=Ut(e.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),Gle=Ut(e.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),wg=Ut(e.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),Kle=Ut(e.jsx("path",{d:"M12 5.99 19.53 19H4.47zM2.74 18c-.77 1.33.19 3 1.73 3h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0zM11 11v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1m0 5h2v2h-2z"}));function Qle(t){return wa({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function Zle(t){return wa({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function Xle(t){return wa({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function Jle(t){return wa({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function ece(t){return wa({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function tce(t){return wa({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function sce(t){return wa({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(t)}function ace(t){return wa({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}class nce{async login(s){const n=(await ie.post("/auth/login",s,{skipAuth:!0,skipErrorHandling:!0})).data;if(n.success&&n.data){const{user:r,accessToken:i,expiresIn:o}=n.data,l={id:r.id,username:r.name,email:r.email,role:r.role,parent_id:0,depot_id:null,zone_id:null},c=this.parseExpiresIn(o);Yi.setToken(i,l,c)}return n}async logout(){try{await ie.post("/auth/logout")}catch(s){console.error("Server logout error:",s)}finally{Yi.clearAuth()}}parseExpiresIn(s){const a=s.match(/^(\d+)([hdms]?)$/);if(!a)return 1440*60;const[,n,r]=a,i=parseInt(n,10);switch(r){case"h":return i*60*60;case"d":return i*24*60*60;case"m":return i*60;default:return i}}}const kA=new nce,rce=t=>Re({mutationFn:s=>kA.login(s),loadingMessage:"Signing in...",onSuccess:t?.onSuccess,onError:t?.onError}),ice=t=>Re({mutationFn:()=>kA.logout(),loadingMessage:"Signing out...",onSuccess:t?.onSuccess,onError:t?.onError}),PA=g.createContext(void 0),EA=({children:t})=>{const[s,a]=g.useState(()=>Yi.isAuthenticated()),{data:n,isLoading:r,error:i,refetch:o,isSuccess:l,isError:c}=Q4(),m=ice({onSuccess:()=>{a(!1),window.location.href="/login"},onError:f=>{console.error("Logout error:",f),a(!1),window.location.href="/login"}});g.useEffect(()=>{const f=()=>{const _=Yi.isAuthenticated();a(_)};f();const v=()=>{f()};return window.addEventListener("auth-change",v),()=>{window.removeEventListener("auth-change",v)}},[]),g.useEffect(()=>{l&&n?(a(!0),pie()):c&&!Yi.isAuthenticated()&&a(!1)},[l,c,n]);const h={user:n||null,isLoading:r,isAuthenticated:s,error:i,refetchUser:o,logout:()=>{m.mutate()},isLoggingOut:m.isPending};return e.jsx(PA.Provider,{value:h,children:t})},TA=()=>{const t=g.useContext(PA);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},oce=async t=>{try{return(await ie.get("/requests-by-users",{params:t})).data}catch(s){throw console.error("Error fetching requests by users:",s),s}},lce=async t=>{try{return(await ie.get("/requests-by-users-without-permission",{params:t})).data}catch(s){throw console.error("Error fetching requests by users without permission:",s),s}},cce=async t=>{try{return(await ie.post("/requests/action",t)).data}catch(s){throw console.error("Error taking action on request:",s),new Error(s.response?.data?.message||"Failed to take action on request")}},dce=async()=>{try{return(await ie.get("/approval-setup/request-types")).data}catch(t){throw console.error("Error fetching request types:",t),new Error(t.response?.data?.message||"Failed to fetch request types")}},Ol={all:["requests"],lists:()=>[...Ol.all,"list"],list:t=>[...Ol.lists(),t],byUsers:t=>[...Ol.all,"by-users",t],byUsersWithoutPermission:t=>[...Ol.all,"by-users-without-permission",t],details:()=>[...Ol.all,"detail"],detail:t=>[...Ol.details(),t]},uce=(t,s)=>nt({queryKey:Ol.byUsers(t),queryFn:()=>oce(t),staleTime:300*1e3,...s}),MA=(t,s)=>nt({queryKey:Ol.byUsersWithoutPermission(t),queryFn:()=>lce(t),staleTime:300*1e3,...s}),DA=()=>Re({mutationFn:cce,invalidateQueries:["requests"],loadingMessage:"Processing request..."}),J4=t=>nt({queryKey:[...Ol.all,"types"],queryFn:()=>dce(),staleTime:600*1e3,...t});var mce=function(s){return pce(s)&&!hce(s)};function pce(t){return!!t&&typeof t=="object"}function hce(t){var s=Object.prototype.toString.call(t);return s==="[object RegExp]"||s==="[object Date]"||gce(t)}var fce=typeof Symbol=="function"&&Symbol.for,xce=fce?Symbol.for("react.element"):60103;function gce(t){return t.$$typeof===xce}function yce(t){return Array.isArray(t)?[]:{}}function Tb(t,s){return s.clone!==!1&&s.isMergeableObject(t)?Cx(yce(t),t,s):t}function bce(t,s,a){return t.concat(s).map(function(n){return Tb(n,a)})}function vce(t,s,a){var n={};return a.isMergeableObject(t)&&Object.keys(t).forEach(function(r){n[r]=Tb(t[r],a)}),Object.keys(s).forEach(function(r){!a.isMergeableObject(s[r])||!t[r]?n[r]=Tb(s[r],a):n[r]=Cx(t[r],s[r],a)}),n}function Cx(t,s,a){a=a||{},a.arrayMerge=a.arrayMerge||bce,a.isMergeableObject=a.isMergeableObject||mce;var n=Array.isArray(s),r=Array.isArray(t),i=n===r;return i?n?a.arrayMerge(t,s,a):vce(t,s,a):Tb(s,a)}Cx.all=function(s,a){if(!Array.isArray(s))throw new Error("first argument should be an array");return s.reduce(function(n,r){return Cx(n,r,a)},{})};var d_=Cx,RA=typeof global=="object"&&global&&global.Object===Object&&global,jce=typeof self=="object"&&self&&self.Object===Object&&self,ll=RA||jce||Function("return this")(),td=ll.Symbol,AA=Object.prototype,Nce=AA.hasOwnProperty,wce=AA.toString,Hh=td?td.toStringTag:void 0;function _ce(t){var s=Nce.call(t,Hh),a=t[Hh];try{t[Hh]=void 0;var n=!0}catch{}var r=wce.call(t);return n&&(s?t[Hh]=a:delete t[Hh]),r}var Sce=Object.prototype,Cce=Sce.toString;function kce(t){return Cce.call(t)}var Pce="[object Null]",Ece="[object Undefined]",z8=td?td.toStringTag:void 0;function Cu(t){return t==null?t===void 0?Ece:Pce:z8&&z8 in Object(t)?_ce(t):kce(t)}function IA(t,s){return function(a){return t(s(a))}}var eS=IA(Object.getPrototypeOf,Object);function ku(t){return t!=null&&typeof t=="object"}var Tce="[object Object]",Mce=Function.prototype,Dce=Object.prototype,OA=Mce.toString,Rce=Dce.hasOwnProperty,Ace=OA.call(Object);function $8(t){if(!ku(t)||Cu(t)!=Tce)return!1;var s=eS(t);if(s===null)return!0;var a=Rce.call(s,"constructor")&&s.constructor;return typeof a=="function"&&a instanceof a&&OA.call(a)==Ace}function Ice(){this.__data__=[],this.size=0}function FA(t,s){return t===s||t!==t&&s!==s}function Bv(t,s){for(var a=t.length;a--;)if(FA(t[a][0],s))return a;return-1}var Oce=Array.prototype,Fce=Oce.splice;function Lce(t){var s=this.__data__,a=Bv(s,t);if(a<0)return!1;var n=s.length-1;return a==n?s.pop():Fce.call(s,a,1),--this.size,!0}function zce(t){var s=this.__data__,a=Bv(s,t);return a<0?void 0:s[a][1]}function $ce(t){return Bv(this.__data__,t)>-1}function qce(t,s){var a=this.__data__,n=Bv(a,t);return n<0?(++this.size,a.push([t,s])):a[n][1]=s,this}function ac(t){var s=-1,a=t==null?0:t.length;for(this.clear();++s<a;){var n=t[s];this.set(n[0],n[1])}}ac.prototype.clear=Ice;ac.prototype.delete=Lce;ac.prototype.get=zce;ac.prototype.has=$ce;ac.prototype.set=qce;function Bce(){this.__data__=new ac,this.size=0}function Uce(t){var s=this.__data__,a=s.delete(t);return this.size=s.size,a}function Vce(t){return this.__data__.get(t)}function Hce(t){return this.__data__.has(t)}function _g(t){var s=typeof t;return t!=null&&(s=="object"||s=="function")}var Wce="[object AsyncFunction]",Yce="[object Function]",Gce="[object GeneratorFunction]",Kce="[object Proxy]";function LA(t){if(!_g(t))return!1;var s=Cu(t);return s==Yce||s==Gce||s==Wce||s==Kce}var jN=ll["__core-js_shared__"],q8=(function(){var t=/[^.]+$/.exec(jN&&jN.keys&&jN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function Qce(t){return!!q8&&q8 in t}var Zce=Function.prototype,Xce=Zce.toString;function Pu(t){if(t!=null){try{return Xce.call(t)}catch{}try{return t+""}catch{}}return""}var Jce=/[\\^$.*+?()[\]{}|]/g,ede=/^\[object .+?Constructor\]$/,tde=Function.prototype,sde=Object.prototype,ade=tde.toString,nde=sde.hasOwnProperty,rde=RegExp("^"+ade.call(nde).replace(Jce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ide(t){if(!_g(t)||Qce(t))return!1;var s=LA(t)?rde:ede;return s.test(Pu(t))}function ode(t,s){return t?.[s]}function Eu(t,s){var a=ode(t,s);return ide(a)?a:void 0}var kx=Eu(ll,"Map"),Px=Eu(Object,"create");function lde(){this.__data__=Px?Px(null):{},this.size=0}function cde(t){var s=this.has(t)&&delete this.__data__[t];return this.size-=s?1:0,s}var dde="__lodash_hash_undefined__",ude=Object.prototype,mde=ude.hasOwnProperty;function pde(t){var s=this.__data__;if(Px){var a=s[t];return a===dde?void 0:a}return mde.call(s,t)?s[t]:void 0}var hde=Object.prototype,fde=hde.hasOwnProperty;function xde(t){var s=this.__data__;return Px?s[t]!==void 0:fde.call(s,t)}var gde="__lodash_hash_undefined__";function yde(t,s){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=Px&&s===void 0?gde:s,this}function gu(t){var s=-1,a=t==null?0:t.length;for(this.clear();++s<a;){var n=t[s];this.set(n[0],n[1])}}gu.prototype.clear=lde;gu.prototype.delete=cde;gu.prototype.get=pde;gu.prototype.has=xde;gu.prototype.set=yde;function bde(){this.size=0,this.__data__={hash:new gu,map:new(kx||ac),string:new gu}}function vde(t){var s=typeof t;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?t!=="__proto__":t===null}function Uv(t,s){var a=t.__data__;return vde(s)?a[typeof s=="string"?"string":"hash"]:a.map}function jde(t){var s=Uv(this,t).delete(t);return this.size-=s?1:0,s}function Nde(t){return Uv(this,t).get(t)}function wde(t){return Uv(this,t).has(t)}function _de(t,s){var a=Uv(this,t),n=a.size;return a.set(t,s),this.size+=a.size==n?0:1,this}function cd(t){var s=-1,a=t==null?0:t.length;for(this.clear();++s<a;){var n=t[s];this.set(n[0],n[1])}}cd.prototype.clear=bde;cd.prototype.delete=jde;cd.prototype.get=Nde;cd.prototype.has=wde;cd.prototype.set=_de;var Sde=200;function Cde(t,s){var a=this.__data__;if(a instanceof ac){var n=a.__data__;if(!kx||n.length<Sde-1)return n.push([t,s]),this.size=++a.size,this;a=this.__data__=new cd(n)}return a.set(t,s),this.size=a.size,this}function Rp(t){var s=this.__data__=new ac(t);this.size=s.size}Rp.prototype.clear=Bce;Rp.prototype.delete=Uce;Rp.prototype.get=Vce;Rp.prototype.has=Hce;Rp.prototype.set=Cde;function kde(t,s){for(var a=-1,n=t==null?0:t.length;++a<n&&s(t[a],a,t)!==!1;);return t}var B8=(function(){try{var t=Eu(Object,"defineProperty");return t({},"",{}),t}catch{}})();function zA(t,s,a){s=="__proto__"&&B8?B8(t,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[s]=a}var Pde=Object.prototype,Ede=Pde.hasOwnProperty;function $A(t,s,a){var n=t[s];(!(Ede.call(t,s)&&FA(n,a))||a===void 0&&!(s in t))&&zA(t,s,a)}function Vv(t,s,a,n){var r=!a;a||(a={});for(var i=-1,o=s.length;++i<o;){var l=s[i],c=void 0;c===void 0&&(c=t[l]),r?zA(a,l,c):$A(a,l,c)}return a}function Tde(t,s){for(var a=-1,n=Array(t);++a<t;)n[a]=s(a);return n}var Mde="[object Arguments]";function U8(t){return ku(t)&&Cu(t)==Mde}var qA=Object.prototype,Dde=qA.hasOwnProperty,Rde=qA.propertyIsEnumerable,Ade=U8((function(){return arguments})())?U8:function(t){return ku(t)&&Dde.call(t,"callee")&&!Rde.call(t,"callee")},Sg=Array.isArray;function Ide(){return!1}var BA=typeof ui=="object"&&ui&&!ui.nodeType&&ui,V8=BA&&typeof mi=="object"&&mi&&!mi.nodeType&&mi,Ode=V8&&V8.exports===BA,H8=Ode?ll.Buffer:void 0,Fde=H8?H8.isBuffer:void 0,UA=Fde||Ide,Lde=9007199254740991,zde=/^(?:0|[1-9]\d*)$/;function $de(t,s){var a=typeof t;return s=s??Lde,!!s&&(a=="number"||a!="symbol"&&zde.test(t))&&t>-1&&t%1==0&&t<s}var qde=9007199254740991;function VA(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=qde}var Bde="[object Arguments]",Ude="[object Array]",Vde="[object Boolean]",Hde="[object Date]",Wde="[object Error]",Yde="[object Function]",Gde="[object Map]",Kde="[object Number]",Qde="[object Object]",Zde="[object RegExp]",Xde="[object Set]",Jde="[object String]",eue="[object WeakMap]",tue="[object ArrayBuffer]",sue="[object DataView]",aue="[object Float32Array]",nue="[object Float64Array]",rue="[object Int8Array]",iue="[object Int16Array]",oue="[object Int32Array]",lue="[object Uint8Array]",cue="[object Uint8ClampedArray]",due="[object Uint16Array]",uue="[object Uint32Array]",Ba={};Ba[aue]=Ba[nue]=Ba[rue]=Ba[iue]=Ba[oue]=Ba[lue]=Ba[cue]=Ba[due]=Ba[uue]=!0;Ba[Bde]=Ba[Ude]=Ba[tue]=Ba[Vde]=Ba[sue]=Ba[Hde]=Ba[Wde]=Ba[Yde]=Ba[Gde]=Ba[Kde]=Ba[Qde]=Ba[Zde]=Ba[Xde]=Ba[Jde]=Ba[eue]=!1;function mue(t){return ku(t)&&VA(t.length)&&!!Ba[Cu(t)]}function tS(t){return function(s){return t(s)}}var HA=typeof ui=="object"&&ui&&!ui.nodeType&&ui,Zf=HA&&typeof mi=="object"&&mi&&!mi.nodeType&&mi,pue=Zf&&Zf.exports===HA,NN=pue&&RA.process,hp=(function(){try{var t=Zf&&Zf.require&&Zf.require("util").types;return t||NN&&NN.binding&&NN.binding("util")}catch{}})(),W8=hp&&hp.isTypedArray,hue=W8?tS(W8):mue,fue=Object.prototype,xue=fue.hasOwnProperty;function WA(t,s){var a=Sg(t),n=!a&&Ade(t),r=!a&&!n&&UA(t),i=!a&&!n&&!r&&hue(t),o=a||n||r||i,l=o?Tde(t.length,String):[],c=l.length;for(var m in t)(s||xue.call(t,m))&&!(o&&(m=="length"||r&&(m=="offset"||m=="parent")||i&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||$de(m,c)))&&l.push(m);return l}var gue=Object.prototype;function sS(t){var s=t&&t.constructor,a=typeof s=="function"&&s.prototype||gue;return t===a}var yue=IA(Object.keys,Object),bue=Object.prototype,vue=bue.hasOwnProperty;function jue(t){if(!sS(t))return yue(t);var s=[];for(var a in Object(t))vue.call(t,a)&&a!="constructor"&&s.push(a);return s}function YA(t){return t!=null&&VA(t.length)&&!LA(t)}function aS(t){return YA(t)?WA(t):jue(t)}function Nue(t,s){return t&&Vv(s,aS(s),t)}function wue(t){var s=[];if(t!=null)for(var a in Object(t))s.push(a);return s}var _ue=Object.prototype,Sue=_ue.hasOwnProperty;function Cue(t){if(!_g(t))return wue(t);var s=sS(t),a=[];for(var n in t)n=="constructor"&&(s||!Sue.call(t,n))||a.push(n);return a}function nS(t){return YA(t)?WA(t,!0):Cue(t)}function kue(t,s){return t&&Vv(s,nS(s),t)}var GA=typeof ui=="object"&&ui&&!ui.nodeType&&ui,Y8=GA&&typeof mi=="object"&&mi&&!mi.nodeType&&mi,Pue=Y8&&Y8.exports===GA,G8=Pue?ll.Buffer:void 0,K8=G8?G8.allocUnsafe:void 0;function Eue(t,s){if(s)return t.slice();var a=t.length,n=K8?K8(a):new t.constructor(a);return t.copy(n),n}function KA(t,s){var a=-1,n=t.length;for(s||(s=Array(n));++a<n;)s[a]=t[a];return s}function Tue(t,s){for(var a=-1,n=t==null?0:t.length,r=0,i=[];++a<n;){var o=t[a];s(o,a,t)&&(i[r++]=o)}return i}function QA(){return[]}var Mue=Object.prototype,Due=Mue.propertyIsEnumerable,Q8=Object.getOwnPropertySymbols,rS=Q8?function(t){return t==null?[]:(t=Object(t),Tue(Q8(t),function(s){return Due.call(t,s)}))}:QA;function Rue(t,s){return Vv(t,rS(t),s)}function ZA(t,s){for(var a=-1,n=s.length,r=t.length;++a<n;)t[r+a]=s[a];return t}var Aue=Object.getOwnPropertySymbols,XA=Aue?function(t){for(var s=[];t;)ZA(s,rS(t)),t=eS(t);return s}:QA;function Iue(t,s){return Vv(t,XA(t),s)}function JA(t,s,a){var n=s(t);return Sg(t)?n:ZA(n,a(t))}function Oue(t){return JA(t,aS,rS)}function Fue(t){return JA(t,nS,XA)}var u_=Eu(ll,"DataView"),m_=Eu(ll,"Promise"),p_=Eu(ll,"Set"),h_=Eu(ll,"WeakMap"),Z8="[object Map]",Lue="[object Object]",X8="[object Promise]",J8="[object Set]",eT="[object WeakMap]",tT="[object DataView]",zue=Pu(u_),$ue=Pu(kx),que=Pu(m_),Bue=Pu(p_),Uue=Pu(h_),Fl=Cu;(u_&&Fl(new u_(new ArrayBuffer(1)))!=tT||kx&&Fl(new kx)!=Z8||m_&&Fl(m_.resolve())!=X8||p_&&Fl(new p_)!=J8||h_&&Fl(new h_)!=eT)&&(Fl=function(t){var s=Cu(t),a=s==Lue?t.constructor:void 0,n=a?Pu(a):"";if(n)switch(n){case zue:return tT;case $ue:return Z8;case que:return X8;case Bue:return J8;case Uue:return eT}return s});var Vue=Object.prototype,Hue=Vue.hasOwnProperty;function Wue(t){var s=t.length,a=new t.constructor(s);return s&&typeof t[0]=="string"&&Hue.call(t,"index")&&(a.index=t.index,a.input=t.input),a}var sT=ll.Uint8Array;function iS(t){var s=new t.constructor(t.byteLength);return new sT(s).set(new sT(t)),s}function Yue(t,s){var a=s?iS(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}var Gue=/\w*$/;function Kue(t){var s=new t.constructor(t.source,Gue.exec(t));return s.lastIndex=t.lastIndex,s}var aT=td?td.prototype:void 0,nT=aT?aT.valueOf:void 0;function Que(t){return nT?Object(nT.call(t)):{}}function Zue(t,s){var a=s?iS(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}var Xue="[object Boolean]",Jue="[object Date]",eme="[object Map]",tme="[object Number]",sme="[object RegExp]",ame="[object Set]",nme="[object String]",rme="[object Symbol]",ime="[object ArrayBuffer]",ome="[object DataView]",lme="[object Float32Array]",cme="[object Float64Array]",dme="[object Int8Array]",ume="[object Int16Array]",mme="[object Int32Array]",pme="[object Uint8Array]",hme="[object Uint8ClampedArray]",fme="[object Uint16Array]",xme="[object Uint32Array]";function gme(t,s,a){var n=t.constructor;switch(s){case ime:return iS(t);case Xue:case Jue:return new n(+t);case ome:return Yue(t,a);case lme:case cme:case dme:case ume:case mme:case pme:case hme:case fme:case xme:return Zue(t,a);case eme:return new n;case tme:case nme:return new n(t);case sme:return Kue(t);case ame:return new n;case rme:return Que(t)}}var rT=Object.create,yme=(function(){function t(){}return function(s){if(!_g(s))return{};if(rT)return rT(s);t.prototype=s;var a=new t;return t.prototype=void 0,a}})();function bme(t){return typeof t.constructor=="function"&&!sS(t)?yme(eS(t)):{}}var vme="[object Map]";function jme(t){return ku(t)&&Fl(t)==vme}var iT=hp&&hp.isMap,Nme=iT?tS(iT):jme,wme="[object Set]";function _me(t){return ku(t)&&Fl(t)==wme}var oT=hp&&hp.isSet,Sme=oT?tS(oT):_me,Cme=1,kme=2,Pme=4,eI="[object Arguments]",Eme="[object Array]",Tme="[object Boolean]",Mme="[object Date]",Dme="[object Error]",tI="[object Function]",Rme="[object GeneratorFunction]",Ame="[object Map]",Ime="[object Number]",sI="[object Object]",Ome="[object RegExp]",Fme="[object Set]",Lme="[object String]",zme="[object Symbol]",$me="[object WeakMap]",qme="[object ArrayBuffer]",Bme="[object DataView]",Ume="[object Float32Array]",Vme="[object Float64Array]",Hme="[object Int8Array]",Wme="[object Int16Array]",Yme="[object Int32Array]",Gme="[object Uint8Array]",Kme="[object Uint8ClampedArray]",Qme="[object Uint16Array]",Zme="[object Uint32Array]",za={};za[eI]=za[Eme]=za[qme]=za[Bme]=za[Tme]=za[Mme]=za[Ume]=za[Vme]=za[Hme]=za[Wme]=za[Yme]=za[Ame]=za[Ime]=za[sI]=za[Ome]=za[Fme]=za[Lme]=za[zme]=za[Gme]=za[Kme]=za[Qme]=za[Zme]=!0;za[Dme]=za[tI]=za[$me]=!1;function Xf(t,s,a,n,r,i){var o,l=s&Cme,c=s&kme,m=s&Pme;if(o!==void 0)return o;if(!_g(t))return t;var u=Sg(t);if(u){if(o=Wue(t),!l)return KA(t,o)}else{var h=Fl(t),f=h==tI||h==Rme;if(UA(t))return Eue(t,l);if(h==sI||h==eI||f&&!r){if(o=c||f?{}:bme(t),!l)return c?Iue(t,kue(o,t)):Rue(t,Nue(o,t))}else{if(!za[h])return r?t:{};o=gme(t,h,l)}}i||(i=new Rp);var v=i.get(t);if(v)return v;i.set(t,o),Sme(t)?t.forEach(function(j){o.add(Xf(j,s,a,j,t,i))}):Nme(t)&&t.forEach(function(j,b){o.set(b,Xf(j,s,a,b,t,i))});var _=m?c?Fue:Oue:c?nS:aS,S=u?void 0:_(t);return kde(S||t,function(j,b){S&&(b=j,j=t[b]),$A(o,b,Xf(j,s,a,b,t,i))}),o}var Xme=1,Jme=4;function hy(t){return Xf(t,Xme|Jme)}var wN,lT;function epe(){if(lT)return wN;lT=1;var t=Array.isArray,s=Object.keys,a=Object.prototype.hasOwnProperty,n=typeof Element<"u";function r(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){var l=t(i),c=t(o),m,u,h;if(l&&c){if(u=i.length,u!=o.length)return!1;for(m=u;m--!==0;)if(!r(i[m],o[m]))return!1;return!0}if(l!=c)return!1;var f=i instanceof Date,v=o instanceof Date;if(f!=v)return!1;if(f&&v)return i.getTime()==o.getTime();var _=i instanceof RegExp,S=o instanceof RegExp;if(_!=S)return!1;if(_&&S)return i.toString()==o.toString();var j=s(i);if(u=j.length,u!==s(o).length)return!1;for(m=u;m--!==0;)if(!a.call(o,j[m]))return!1;if(n&&i instanceof Element&&o instanceof Element)return i===o;for(m=u;m--!==0;)if(h=j[m],!(h==="_owner"&&i.$$typeof)&&!r(i[h],o[h]))return!1;return!0}return i!==i&&o!==o}return wN=function(o,l){try{return r(o,l)}catch(c){if(c.message&&c.message.match(/stack|recursion/i)||c.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",c.name,c.message),!1;throw c}},wN}var tpe=epe();const qd=ao(tpe);var spe=4;function cT(t){return Xf(t,spe)}function aI(t,s){for(var a=-1,n=t==null?0:t.length,r=Array(n);++a<n;)r[a]=s(t[a],a,t);return r}var ape="[object Symbol]";function oS(t){return typeof t=="symbol"||ku(t)&&Cu(t)==ape}var npe="Expected a function";function lS(t,s){if(typeof t!="function"||s!=null&&typeof s!="function")throw new TypeError(npe);var a=function(){var n=arguments,r=s?s.apply(this,n):n[0],i=a.cache;if(i.has(r))return i.get(r);var o=t.apply(this,n);return a.cache=i.set(r,o)||i,o};return a.cache=new(lS.Cache||cd),a}lS.Cache=cd;var rpe=500;function ipe(t){var s=lS(t,function(n){return a.size===rpe&&a.clear(),n}),a=s.cache;return s}var ope=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lpe=/\\(\\)?/g,cpe=ipe(function(t){var s=[];return t.charCodeAt(0)===46&&s.push(""),t.replace(ope,function(a,n,r,i){s.push(r?i.replace(lpe,"$1"):n||a)}),s});function dpe(t){if(typeof t=="string"||oS(t))return t;var s=t+"";return s=="0"&&1/t==-1/0?"-0":s}var dT=td?td.prototype:void 0,uT=dT?dT.toString:void 0;function nI(t){if(typeof t=="string")return t;if(Sg(t))return aI(t,nI)+"";if(oS(t))return uT?uT.call(t):"";var s=t+"";return s=="0"&&1/t==-1/0?"-0":s}function upe(t){return t==null?"":nI(t)}function rI(t){return Sg(t)?aI(t,dpe):oS(t)?[t]:KA(cpe(upe(t)))}function Fn(){return Fn=Object.assign||function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Fn.apply(this,arguments)}function iI(t,s){if(t==null)return{};var a={},n=Object.keys(t),r,i;for(i=0;i<n.length;i++)r=n[i],!(s.indexOf(r)>=0)&&(a[r]=t[r]);return a}var Hv=g.createContext(void 0);Hv.displayName="FormikContext";Hv.Provider;Hv.Consumer;function mpe(){var t=g.useContext(Hv);return t}var Fi=function(s){return typeof s=="function"},Wv=function(s){return s!==null&&typeof s=="object"},ppe=function(s){return String(Math.floor(Number(s)))===s},_N=function(s){return Object.prototype.toString.call(s)==="[object String]"},SN=function(s){return Wv(s)&&Fi(s.then)};function Ir(t,s,a,n){n===void 0&&(n=0);for(var r=rI(s);t&&n<r.length;)t=t[r[n++]];return n!==r.length&&!t||t===void 0?a:t}function iu(t,s,a){for(var n=cT(t),r=n,i=0,o=rI(s);i<o.length-1;i++){var l=o[i],c=Ir(t,o.slice(0,i+1));if(c&&(Wv(c)||Array.isArray(c)))r=r[l]=cT(c);else{var m=o[i+1];r=r[l]=ppe(m)&&Number(m)>=0?[]:{}}}return(i===0?t:r)[o[i]]===a?t:(a===void 0?delete r[o[i]]:r[o[i]]=a,i===0&&a===void 0&&delete n[o[i]],n)}function oI(t,s,a,n){a===void 0&&(a=new WeakMap),n===void 0&&(n={});for(var r=0,i=Object.keys(t);r<i.length;r++){var o=i[r],l=t[o];Wv(l)?a.get(l)||(a.set(l,!0),n[o]=Array.isArray(l)?[]:{},oI(l,s,a,n[o])):n[o]=s}return n}function hpe(t,s){switch(s.type){case"SET_VALUES":return Fn({},t,{values:s.payload});case"SET_TOUCHED":return Fn({},t,{touched:s.payload});case"SET_ERRORS":return qd(t.errors,s.payload)?t:Fn({},t,{errors:s.payload});case"SET_STATUS":return Fn({},t,{status:s.payload});case"SET_ISSUBMITTING":return Fn({},t,{isSubmitting:s.payload});case"SET_ISVALIDATING":return Fn({},t,{isValidating:s.payload});case"SET_FIELD_VALUE":return Fn({},t,{values:iu(t.values,s.payload.field,s.payload.value)});case"SET_FIELD_TOUCHED":return Fn({},t,{touched:iu(t.touched,s.payload.field,s.payload.value)});case"SET_FIELD_ERROR":return Fn({},t,{errors:iu(t.errors,s.payload.field,s.payload.value)});case"RESET_FORM":return Fn({},t,s.payload);case"SET_FORMIK_STATE":return s.payload(t);case"SUBMIT_ATTEMPT":return Fn({},t,{touched:oI(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Fn({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Fn({},t,{isSubmitting:!1});default:return t}}var Dd={},fy={};function ft(t){var s=t.validateOnChange,a=s===void 0?!0:s,n=t.validateOnBlur,r=n===void 0?!0:n,i=t.validateOnMount,o=i===void 0?!1:i,l=t.isInitialValid,c=t.enableReinitialize,m=c===void 0?!1:c,u=t.onSubmit,h=iI(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=Fn({validateOnChange:a,validateOnBlur:r,validateOnMount:o,onSubmit:u},h),v=g.useRef(f.initialValues),_=g.useRef(f.initialErrors||Dd),S=g.useRef(f.initialTouched||fy),j=g.useRef(f.initialStatus),b=g.useRef(!1),w=g.useRef({});g.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var C=g.useState(0),P=C[1],E=g.useRef({values:hy(f.initialValues),errors:hy(f.initialErrors)||Dd,touched:hy(f.initialTouched)||fy,status:hy(f.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),D=E.current,T=g.useCallback(function(ye){var We=E.current;E.current=hpe(We,ye),We!==E.current&&P(function(Ge){return Ge+1})},[]),R=g.useCallback(function(ye,We){return new Promise(function(Ge,jt){var dt=f.validate(ye,We);dt==null?Ge(Dd):SN(dt)?dt.then(function(wt){Ge(wt||Dd)},function(wt){jt(wt)}):Ge(dt)})},[f.validate]),z=g.useCallback(function(ye,We){var Ge=f.validationSchema,jt=Fi(Ge)?Ge(We):Ge,dt=We&&jt.validateAt?jt.validateAt(We,ye):xpe(ye,jt);return new Promise(function(wt,Dt){dt.then(function(){wt(Dd)},function(ve){ve.name==="ValidationError"?wt(fpe(ve)):Dt(ve)})})},[f.validationSchema]),O=g.useCallback(function(ye,We){return new Promise(function(Ge){return Ge(w.current[ye].validate(We))})},[]),$=g.useCallback(function(ye){var We=Object.keys(w.current).filter(function(jt){return Fi(w.current[jt].validate)}),Ge=We.length>0?We.map(function(jt){return O(jt,Ir(ye,jt))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Ge).then(function(jt){return jt.reduce(function(dt,wt,Dt){return wt==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||wt&&(dt=iu(dt,We[Dt],wt)),dt},{})})},[O]),A=g.useCallback(function(ye){return Promise.all([$(ye),f.validationSchema?z(ye):{},f.validate?R(ye):{}]).then(function(We){var Ge=We[0],jt=We[1],dt=We[2],wt=d_.all([Ge,jt,dt],{arrayMerge:gpe});return wt})},[f.validate,f.validationSchema,$,R,z]),Q=Ri(function(ye){return ye===void 0&&(ye=D.values),T({type:"SET_ISVALIDATING",payload:!0}),A(ye).then(function(We){return b.current&&(T({type:"SET_ISVALIDATING",payload:!1}),T({type:"SET_ERRORS",payload:We})),We})});g.useEffect(function(){o&&b.current===!0&&qd(v.current,f.initialValues)&&Q(v.current)},[o,Q]);var K=g.useCallback(function(ye){var We=ye&&ye.values?ye.values:v.current,Ge=ye&&ye.errors?ye.errors:_.current?_.current:f.initialErrors||{},jt=ye&&ye.touched?ye.touched:S.current?S.current:f.initialTouched||{},dt=ye&&ye.status?ye.status:j.current?j.current:f.initialStatus;v.current=We,_.current=Ge,S.current=jt,j.current=dt;var wt=function(){T({type:"RESET_FORM",payload:{isSubmitting:!!ye&&!!ye.isSubmitting,errors:Ge,touched:jt,status:dt,values:We,isValidating:!!ye&&!!ye.isValidating,submitCount:ye&&ye.submitCount&&typeof ye.submitCount=="number"?ye.submitCount:0}})};if(f.onReset){var Dt=f.onReset(D.values,le);SN(Dt)?Dt.then(wt):wt()}else wt()},[f.initialErrors,f.initialStatus,f.initialTouched,f.onReset]);g.useEffect(function(){b.current===!0&&!qd(v.current,f.initialValues)&&m&&(v.current=f.initialValues,K(),o&&Q(v.current))},[m,f.initialValues,K,o,Q]),g.useEffect(function(){m&&b.current===!0&&!qd(_.current,f.initialErrors)&&(_.current=f.initialErrors||Dd,T({type:"SET_ERRORS",payload:f.initialErrors||Dd}))},[m,f.initialErrors]),g.useEffect(function(){m&&b.current===!0&&!qd(S.current,f.initialTouched)&&(S.current=f.initialTouched||fy,T({type:"SET_TOUCHED",payload:f.initialTouched||fy}))},[m,f.initialTouched]),g.useEffect(function(){m&&b.current===!0&&!qd(j.current,f.initialStatus)&&(j.current=f.initialStatus,T({type:"SET_STATUS",payload:f.initialStatus}))},[m,f.initialStatus,f.initialTouched]);var U=Ri(function(ye){if(w.current[ye]&&Fi(w.current[ye].validate)){var We=Ir(D.values,ye),Ge=w.current[ye].validate(We);return SN(Ge)?(T({type:"SET_ISVALIDATING",payload:!0}),Ge.then(function(jt){return jt}).then(function(jt){T({type:"SET_FIELD_ERROR",payload:{field:ye,value:jt}}),T({type:"SET_ISVALIDATING",payload:!1})})):(T({type:"SET_FIELD_ERROR",payload:{field:ye,value:Ge}}),Promise.resolve(Ge))}else if(f.validationSchema)return T({type:"SET_ISVALIDATING",payload:!0}),z(D.values,ye).then(function(jt){return jt}).then(function(jt){T({type:"SET_FIELD_ERROR",payload:{field:ye,value:Ir(jt,ye)}}),T({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),B=g.useCallback(function(ye,We){var Ge=We.validate;w.current[ye]={validate:Ge}},[]),V=g.useCallback(function(ye){delete w.current[ye]},[]),Y=Ri(function(ye,We){T({type:"SET_TOUCHED",payload:ye});var Ge=We===void 0?r:We;return Ge?Q(D.values):Promise.resolve()}),H=g.useCallback(function(ye){T({type:"SET_ERRORS",payload:ye})},[]),F=Ri(function(ye,We){var Ge=Fi(ye)?ye(D.values):ye;T({type:"SET_VALUES",payload:Ge});var jt=We===void 0?a:We;return jt?Q(Ge):Promise.resolve()}),M=g.useCallback(function(ye,We){T({type:"SET_FIELD_ERROR",payload:{field:ye,value:We}})},[]),L=Ri(function(ye,We,Ge){var jt=Fi(We)?We(Ir(D.values,ye)):We;T({type:"SET_FIELD_VALUE",payload:{field:ye,value:jt}});var dt=Ge===void 0?a:Ge;return dt?Q(iu(D.values,ye,jt)):Promise.resolve()}),W=g.useCallback(function(ye,We){var Ge=We,jt=ye,dt;if(!_N(ye)){ye.persist&&ye.persist();var wt=ye.target?ye.target:ye.currentTarget,Dt=wt.type,ve=wt.name,Le=wt.id,$e=wt.value,bt=wt.checked;wt.outerHTML;var Zt=wt.options,Ot=wt.multiple;Ge=We||ve||Le,jt=/number|range/.test(Dt)?(dt=parseFloat($e),isNaN(dt)?"":dt):/checkbox/.test(Dt)?bpe(Ir(D.values,Ge),bt,$e):Zt&&Ot?ype(Zt):$e}Ge&&L(Ge,jt)},[L,D.values]),X=Ri(function(ye){if(_N(ye))return function(We){return W(We,ye)};W(ye)}),te=Ri(function(ye,We,Ge){We===void 0&&(We=!0),T({type:"SET_FIELD_TOUCHED",payload:{field:ye,value:We}});var jt=Ge===void 0?r:Ge;return jt?Q(D.values):Promise.resolve()}),se=g.useCallback(function(ye,We){ye.persist&&ye.persist();var Ge=ye.target,jt=Ge.name,dt=Ge.id;Ge.outerHTML;var wt=We||jt||dt;te(wt,!0)},[te]),ae=Ri(function(ye){if(_N(ye))return function(We){return se(We,ye)};se(ye)}),pe=g.useCallback(function(ye){Fi(ye)?T({type:"SET_FORMIK_STATE",payload:ye}):T({type:"SET_FORMIK_STATE",payload:function(){return ye}})},[]),he=g.useCallback(function(ye){T({type:"SET_STATUS",payload:ye})},[]),re=g.useCallback(function(ye){T({type:"SET_ISSUBMITTING",payload:ye})},[]),xe=Ri(function(){return T({type:"SUBMIT_ATTEMPT"}),Q().then(function(ye){var We=ye instanceof Error,Ge=!We&&Object.keys(ye).length===0;if(Ge){var jt;try{if(jt=de(),jt===void 0)return}catch(dt){throw dt}return Promise.resolve(jt).then(function(dt){return b.current&&T({type:"SUBMIT_SUCCESS"}),dt}).catch(function(dt){if(b.current)throw T({type:"SUBMIT_FAILURE"}),dt})}else if(b.current&&(T({type:"SUBMIT_FAILURE"}),We))throw ye})}),ge=Ri(function(ye){ye&&ye.preventDefault&&Fi(ye.preventDefault)&&ye.preventDefault(),ye&&ye.stopPropagation&&Fi(ye.stopPropagation)&&ye.stopPropagation(),xe().catch(function(We){console.warn("Warning: An unhandled error was caught from submitForm()",We)})}),le={resetForm:K,validateForm:Q,validateField:U,setErrors:H,setFieldError:M,setFieldTouched:te,setFieldValue:L,setStatus:he,setSubmitting:re,setTouched:Y,setValues:F,setFormikState:pe,submitForm:xe},de=Ri(function(){return u(D.values,le)}),we=Ri(function(ye){ye&&ye.preventDefault&&Fi(ye.preventDefault)&&ye.preventDefault(),ye&&ye.stopPropagation&&Fi(ye.stopPropagation)&&ye.stopPropagation(),K()}),Ae=g.useCallback(function(ye){return{value:Ir(D.values,ye),error:Ir(D.errors,ye),touched:!!Ir(D.touched,ye),initialValue:Ir(v.current,ye),initialTouched:!!Ir(S.current,ye),initialError:Ir(_.current,ye)}},[D.errors,D.touched,D.values]),Fe=g.useCallback(function(ye){return{setValue:function(Ge,jt){return L(ye,Ge,jt)},setTouched:function(Ge,jt){return te(ye,Ge,jt)},setError:function(Ge){return M(ye,Ge)}}},[L,te,M]),Me=g.useCallback(function(ye){var We=Wv(ye),Ge=We?ye.name:ye,jt=Ir(D.values,Ge),dt={name:Ge,value:jt,onChange:X,onBlur:ae};if(We){var wt=ye.type,Dt=ye.value,ve=ye.as,Le=ye.multiple;wt==="checkbox"?Dt===void 0?dt.checked=!!jt:(dt.checked=!!(Array.isArray(jt)&&~jt.indexOf(Dt)),dt.value=Dt):wt==="radio"?(dt.checked=jt===Dt,dt.value=Dt):ve==="select"&&Le&&(dt.value=dt.value||[],dt.multiple=!0)}return dt},[ae,X,D.values]),Xe=g.useMemo(function(){return!qd(v.current,D.values)},[v.current,D.values]),ke=g.useMemo(function(){return typeof l<"u"?Xe?D.errors&&Object.keys(D.errors).length===0:l!==!1&&Fi(l)?l(f):l:D.errors&&Object.keys(D.errors).length===0},[l,Xe,D.errors,f]),Ye=Fn({},D,{initialValues:v.current,initialErrors:_.current,initialTouched:S.current,initialStatus:j.current,handleBlur:ae,handleChange:X,handleReset:we,handleSubmit:ge,resetForm:K,setErrors:H,setFormikState:pe,setFieldTouched:te,setFieldValue:L,setFieldError:M,setStatus:he,setSubmitting:re,setTouched:Y,setValues:F,submitForm:xe,validateForm:Q,validateField:U,isValid:ke,dirty:Xe,unregisterField:V,registerField:B,getFieldProps:Me,getFieldMeta:Ae,getFieldHelpers:Fe,validateOnBlur:r,validateOnChange:a,validateOnMount:o});return Ye}function fpe(t){var s={};if(t.inner){if(t.inner.length===0)return iu(s,t.path,t.message);for(var r=t.inner,a=Array.isArray(r),n=0,r=a?r:r[Symbol.iterator]();;){var i;if(a){if(n>=r.length)break;i=r[n++]}else{if(n=r.next(),n.done)break;i=n.value}var o=i;Ir(s,o.path)||(s=iu(s,o.path,o.message))}}return s}function xpe(t,s,a,n){a===void 0&&(a=!1);var r=f_(t);return s[a?"validateSync":"validate"](r,{abortEarly:!1,context:r})}function f_(t){var s=Array.isArray(t)?[]:{};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var n=String(a);Array.isArray(t[n])===!0?s[n]=t[n].map(function(r){return Array.isArray(r)===!0||$8(r)?f_(r):r!==""?r:void 0}):$8(t[n])?s[n]=f_(t[n]):s[n]=t[n]!==""?t[n]:void 0}return s}function gpe(t,s,a){var n=t.slice();return s.forEach(function(i,o){if(typeof n[o]>"u"){var l=a.clone!==!1,c=l&&a.isMergeableObject(i);n[o]=c?d_(Array.isArray(i)?[]:{},i,a):i}else a.isMergeableObject(i)?n[o]=d_(t[o],i,a):t.indexOf(i)===-1&&n.push(i)}),n}function ype(t){return Array.from(t).filter(function(s){return s.selected}).map(function(s){return s.value})}function bpe(t,s,a){if(typeof t=="boolean")return!!s;var n=[],r=!1,i=-1;if(Array.isArray(t))n=t,i=t.indexOf(a),r=i>=0;else if(!a||a=="true"||a=="false")return!!s;return s&&a&&!r?n.concat(a):r?n.slice(0,i).concat(n.slice(i+1)):n}var vpe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g.useLayoutEffect:g.useEffect;function Ri(t){var s=g.useRef(t);return vpe(function(){s.current=t}),g.useCallback(function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return s.current.apply(void 0,n)},[])}var jpe=g.forwardRef(function(t,s){var a=t.action,n=iI(t,["action"]),r=a??"#",i=mpe(),o=i.handleReset,l=i.handleSubmit;return g.createElement("form",Fn({onSubmit:l,ref:s,onReset:o,action:r},n))});jpe.displayName="Form";const Npe=(t,s)=>{if(s)return s;switch(t){case"small":return 30;case"medium":return 45;case"large":return 60;case"larger":return 75;case"extra-large":return 85;default:return 40}},ot=({open:t,setOpen:s,title:a,children:n,width:r,size:i="medium",anchor:o="right",fullWidth:l=!1})=>{const c=vi(),m=fg(c.breakpoints.down("md")),u=Npe(i,r),h=()=>{s(!1)},f=()=>l||m?"100%":`${u}%`;return e.jsx(VX,{anchor:o,open:t,onClose:h,slotProps:{paper:{style:{width:f()}}},children:e.jsxs(y,{className:"!h-full !flex !flex-col",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !py-2 !px-4 !border-b !border-gray-200 !min-h-16",children:[e.jsx("p",{className:"!font-semibold text-lg !text-gray-900",children:a}),e.jsx(na,{onClick:h,className:"!text-gray-500 hover:!bg-gray-100 hover:!text-gray-700",children:e.jsx(Gn,{})})]}),e.jsx(y,{className:"!flex-1 !overflow-auto",children:n})]})})},wpe=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:be({},t)}}}}),lI={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(t,s)=>`Select ${t}. ${s?`Selected time is ${s}`:"No time selected"}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:t=>t?`Choose date, selected date is ${t}`:"Choose date",openTimePickerDialogue:t=>t?`Choose time, selected time is ${t}`:"Choose time",openRangePickerDialogue:t=>t?`Choose range, selected range is ${t}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},_pe=lI;wpe(lI);const Spe=["localeText"],x_=g.createContext(null),cI=function(s){const{localeText:a}=s,n=rs(s,Spe),{adapter:r,localeText:i}=g.useContext(x_)??{adapter:void 0,localeText:void 0},o=Vs({props:n,name:"MuiLocalizationProvider"}),{children:l,dateAdapter:c,dateFormats:m,dateLibInstance:u,adapterLocale:h,localeText:f}=o,v=g.useMemo(()=>be({},f,i,a),[f,i,a]),_=g.useMemo(()=>{if(!c)return r||null;const b=new c({locale:h,formats:m,instance:u});if(!b.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return b},[c,h,m,u,r]),S=g.useMemo(()=>_?{minDate:_.date("1900-01-01T00:00:00.000"),maxDate:_.date("2099-12-31T00:00:00.000")}:null,[_]),j=g.useMemo(()=>({utils:_,adapter:_,defaultDates:S,localeText:v}),[S,_,v]);return e.jsx(x_.Provider,{value:j,children:l})},cS=()=>{const t=g.useContext(x_);if(t===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.adapter===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const s=g.useMemo(()=>be({},_pe,t.localeText),[t.localeText]);return g.useMemo(()=>be({},t,{localeText:s}),[t,s])},ks=()=>cS().adapter,tr=()=>cS().localeText,g_=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],y_=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],dI=["minDateTime","maxDateTime"],Cpe=[...g_,...y_,...dI],Ap=t=>Cpe.reduce((s,a)=>(t.hasOwnProperty(a)&&(s[a]=t[a]),s),{}),kpe=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],uI=(t,s)=>g.useMemo(()=>{const a=be({},t),n={},r=i=>{a.hasOwnProperty(i)&&(n[i]=a[i],delete a[i])};return kpe.forEach(r),s==="date"?g_.forEach(r):s==="time"?y_.forEach(r):s==="date-time"&&(g_.forEach(r),y_.forEach(r),dI.forEach(r)),{forwardedProps:a,internalProps:n}},[t,s]),Vo=(t,s)=>t.length!==s.length?!1:s.every(a=>t.includes(a)),dS=({openTo:t,defaultOpenTo:s,views:a,defaultViews:n})=>{const r=a??n;let i;if(t!=null)i=t;else if(r.includes(s))i=s;else if(r.length>0)i=r[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:r,openTo:i}},Mb=(t,s,a)=>{let n=s;return n=t.setHours(n,t.getHours(a)),n=t.setMinutes(n,t.getMinutes(a)),n=t.setSeconds(n,t.getSeconds(a)),n=t.setMilliseconds(n,t.getMilliseconds(a)),n},Ex=({date:t,disableFuture:s,disablePast:a,maxDate:n,minDate:r,isDateDisabled:i,adapter:o,timezone:l})=>{const c=Mb(o,o.date(void 0,l),t);a&&o.isBefore(r,c)&&(r=c),s&&o.isAfter(n,c)&&(n=c);let m=t,u=t;for(o.isBefore(t,r)&&(m=r,u=null),o.isAfter(t,n)&&(u&&(u=n),m=null);m||u;){if(m&&o.isAfter(m,n)&&(m=null),u&&o.isBefore(u,r)&&(u=null),m){if(!i(m))return m;m=o.addDays(m,1)}if(u){if(!i(u))return u;u=o.addDays(u,-1)}}return null},Ppe=(t,s)=>t.isValid(s)?s:null,Db=(t,s,a)=>s==null||!t.isValid(s)?a:s,Epe=(t,s,a)=>!t.isValid(s)&&s!=null&&!t.isValid(a)&&a!=null?!0:t.isEqual(s,a),uS=(t,s)=>{const n=[t.startOfYear(s)];for(;n.length<12;){const r=n[n.length-1];n.push(t.addMonths(r,1))}return n},mS=(t,s,a)=>a==="date"?t.startOfDay(t.date(void 0,s)):t.date(void 0,s),xo=(t,s)=>{const a=t.setHours(t.date(),s==="am"?2:14);return t.format(a,"meridiem")},mI=["year","month","day"],fp=t=>mI.includes(t),Tx=(t,{format:s,views:a},n)=>{if(s!=null)return s;const r=t.formats;return Vo(a,["year"])?r.year:Vo(a,["month"])?r.month:Vo(a,["day"])?r.dayOfMonth:Vo(a,["month","year"])?`${r.month} ${r.year}`:Vo(a,["day","month"])?`${r.month} ${r.dayOfMonth}`:n?/en/.test(t.getCurrentLocaleCode())?r.normalDateWithWeekday:r.normalDate:r.keyboardDate},Tpe=(t,s)=>{const a=t.startOfWeek(s);return[0,1,2,3,4,5,6].map(n=>t.addDays(a,n))},pI=(t,s)=>{const a=t.formatTokenMap[s];if(a==null)throw new Error([`MUI X: The token "${s}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof a=="string"?{type:a,contentType:a==="meridiem"?"letter":"digit",maxLength:void 0}:{type:a.sectionType,contentType:a.contentType,maxLength:a.maxLength}},Yv=(t,s)=>{const a=[],n=t.date(void 0,"default"),r=t.startOfWeek(n),i=t.endOfWeek(n);let o=r;for(;t.isBefore(o,i);)a.push(o),o=t.addDays(o,1);return a.map(l=>t.formatByString(l,s))},hI=(t,s,a,n)=>{switch(a){case"month":return uS(t,t.date(void 0,s)).map(r=>t.formatByString(r,n));case"weekDay":return Yv(t,n);case"meridiem":{const r=t.date(void 0,s);return[t.startOfDay(r),t.endOfDay(r)].map(i=>t.formatByString(i,n))}default:return[]}},mT="s",Mpe=["0","1","2","3","4","5","6","7","8","9"],Dpe=t=>{const s=t.date(void 0);return t.formatByString(t.setSeconds(s,0),mT)==="0"?Mpe:Array.from({length:10}).map((n,r)=>t.formatByString(t.setSeconds(s,r),mT))},yu=(t,s)=>{if(s[0]==="0")return t;const a=[];let n="";for(let r=0;r<t.length;r+=1){n+=t[r];const i=s.indexOf(n);i>-1&&(a.push(i.toString()),n="")}return a.join("")},pS=(t,s)=>s[0]==="0"?t:t.split("").map(a=>s[Number(a)]).join(""),pT=(t,s)=>{const a=yu(t,s);return a!==" "&&!Number.isNaN(Number(a))},hS=(t,s)=>Number(t).toString().padStart(s,"0"),fI=(t,s,a,n,r)=>{if(r.type==="day"&&r.contentType==="digit-with-letter"){const o=t.setDate(a.longestMonth,s);return t.formatByString(o,r.format)}let i=s.toString();return r.hasLeadingZerosInInput&&(i=hS(i,r.maxLength)),pS(i,n)},fS=(t,s,a)=>{let n=t.value||t.placeholder;const r=s==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return s==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(n=Number(yu(n,a)).toString()),["input-rtl","input-ltr"].includes(s)&&t.contentType==="digit"&&!r&&n.length===1&&(n=`${n}`),s==="input-rtl"&&(n=`${n}`),n},hT=(t,s,a,n)=>t.formatByString(t.parse(s,a),n),Rpe=(t,s)=>t.formatByString(t.date(void 0,"system"),s).length===4,xI=(t,s,a,n)=>{if(s!=="digit")return!1;const r=t.date(void 0,"default");switch(a){case"year":return t.lib==="dayjs"&&n==="YY"?!0:t.formatByString(t.setYear(r,1),n).startsWith("0");case"month":return t.formatByString(t.startOfYear(r),n).length>1;case"day":return t.formatByString(t.startOfMonth(r),n).length>1;case"weekDay":return t.formatByString(t.startOfWeek(r),n).length>1;case"hours":return t.formatByString(t.setHours(r,1),n).length>1;case"minutes":return t.formatByString(t.setMinutes(r,1),n).length>1;case"seconds":return t.formatByString(t.setSeconds(r,1),n).length>1;default:throw new Error("Invalid section type")}},Ape=(t,s,a)=>{const n=s.some(c=>c.type==="day"),r=[],i=[];for(let c=0;c<s.length;c+=1){const m=s[c];n&&m.type==="weekDay"||(r.push(m.format),i.push(fS(m,"non-input",a)))}const o=r.join(" "),l=i.join(" ");return t.parse(l,o)},Ipe=t=>t.map(s=>`${s.startSeparator}${s.value||s.placeholder}${s.endSeparator}`).join(""),Ope=(t,s,a)=>{const r=t.map(i=>{const o=fS(i,a?"input-rtl":"input-ltr",s);return`${i.startSeparator}${o}${i.endSeparator}`}).join("");return a?`${r}`:r},Fpe=(t,s,a)=>{const n=t.date(void 0,a),r=t.endOfYear(n),i=t.endOfDay(n),{maxDaysInMonth:o,longestMonth:l}=uS(t,n).reduce((c,m)=>{const u=t.getDaysInMonth(m);return u>c.maxDaysInMonth?{maxDaysInMonth:u,longestMonth:m}:c},{maxDaysInMonth:0,longestMonth:null});return{year:({format:c})=>({minimum:0,maximum:Rpe(t,c)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(r)+1}),day:({currentDate:c})=>({minimum:1,maximum:t.isValid(c)?t.getDaysInMonth(c):o,longestMonth:l}),weekDay:({format:c,contentType:m})=>{if(m==="digit"){const u=Yv(t,c).map(Number);return{minimum:Math.min(...u),maximum:Math.max(...u)}}return{minimum:1,maximum:7}},hours:({format:c})=>{const m=t.getHours(i);return yu(t.formatByString(t.endOfDay(n),c),s)!==m.toString()?{minimum:1,maximum:Number(yu(t.formatByString(t.startOfDay(n),c),s))}:{minimum:0,maximum:m}},minutes:()=>({minimum:0,maximum:t.getMinutes(i)}),seconds:()=>({minimum:0,maximum:t.getSeconds(i)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},Lpe=(t,s,a,n)=>{switch(s.type){case"year":return t.setYear(n,t.getYear(a));case"month":return t.setMonth(n,t.getMonth(a));case"weekDay":{let r=t.formatByString(a,s.format);s.hasLeadingZerosInInput&&(r=hS(r,s.maxLength));const i=Yv(t,s.format),o=i.indexOf(r),c=i.indexOf(s.value)-o;return t.addDays(a,c)}case"day":return t.setDate(n,t.getDate(a));case"meridiem":{const r=t.getHours(a)<12,i=t.getHours(n);return r&&i>=12?t.addHours(n,-12):!r&&i<12?t.addHours(n,12):n}case"hours":return t.setHours(n,t.getHours(a));case"minutes":return t.setMinutes(n,t.getMinutes(a));case"seconds":return t.setSeconds(n,t.getSeconds(a));default:return n}},fT={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},xT=(t,s,a,n,r)=>[...a].sort((i,o)=>fT[i.type]-fT[o.type]).reduce((i,o)=>!r||o.modified?Lpe(t,o,s,i):i,n),zpe=()=>navigator.userAgent.toLowerCase().includes("android"),$pe=(t,s)=>{const a={};if(!s)return t.forEach((c,m)=>{const u=m===0?null:m-1,h=m===t.length-1?null:m+1;a[m]={leftIndex:u,rightIndex:h}}),{neighbors:a,startIndex:0,endIndex:t.length-1};const n={},r={};let i=0,o=0,l=t.length-1;for(;l>=0;){o=t.findIndex((c,m)=>m>=i&&c.endSeparator?.includes(" ")&&c.endSeparator!==" / "),o===-1&&(o=t.length-1);for(let c=o;c>=i;c-=1)r[c]=l,n[l]=c,l-=1;i=o+1}return t.forEach((c,m)=>{const u=r[m],h=u===0?null:n[u-1],f=u===t.length-1?null:n[u+1];a[m]={leftIndex:h,rightIndex:f}}),{neighbors:a,startIndex:n[0],endIndex:n[t.length-1]}},b_=(t,s)=>{if(t==null)return null;if(t==="all")return"all";if(typeof t=="string"){const a=s.findIndex(n=>n.type===t);return a===-1?null:a}return t},qpe=({adapter:t,format:s})=>{let a=10,n=s,r=t.expandFormat(s);for(;r!==n;)if(n=r,r=t.expandFormat(n),a-=1,a<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return r},Bpe=({adapter:t,expandedFormat:s})=>{const a=[],{start:n,end:r}=t.escapedCharacters,i=new RegExp(`(\\${n}[^\\${r}]*\\${r})+`,"g");let o=null;for(;o=i.exec(s);)a.push({start:o.index,end:i.lastIndex-1});return a},Upe=(t,s,a,n)=>{switch(a.type){case"year":return s.fieldYearPlaceholder({digitAmount:t.formatByString(t.date(void 0,"default"),n).length,format:n});case"month":return s.fieldMonthPlaceholder({contentType:a.contentType,format:n});case"day":return s.fieldDayPlaceholder({format:n});case"weekDay":return s.fieldWeekDayPlaceholder({contentType:a.contentType,format:n});case"hours":return s.fieldHoursPlaceholder({format:n});case"minutes":return s.fieldMinutesPlaceholder({format:n});case"seconds":return s.fieldSecondsPlaceholder({format:n});case"meridiem":return s.fieldMeridiemPlaceholder({format:n});default:return n}},Vpe=({adapter:t,date:s,shouldRespectLeadingZeros:a,localeText:n,localizedDigits:r,now:i,token:o,startSeparator:l})=>{if(o==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const c=pI(t,o),m=xI(t,c.contentType,c.type,o),u=a?m:c.contentType==="digit",h=t.isValid(s);let f=h?t.formatByString(s,o):"",v=null;if(u)if(m)v=f===""?t.formatByString(i,o).length:f.length;else{if(c.maxLength==null)throw new Error(`MUI X: The token ${o} should have a 'maxLength' property on it's adapter`);v=c.maxLength,h&&(f=pS(hS(yu(f,r),v),r))}return be({},c,{format:o,maxLength:v,value:f,placeholder:Upe(t,n,c,o),hasLeadingZerosInFormat:m,hasLeadingZerosInInput:u,startSeparator:l,endSeparator:"",modified:!1})},Hpe=t=>{const{adapter:s,expandedFormat:a,escapedParts:n}=t,r=s.date(void 0),i=[];let o="";const l=Object.keys(s.formatTokenMap).sort((v,_)=>_.length-v.length),c=/^([a-zA-Z]+)/,m=new RegExp(`^(${l.join("|")})*$`),u=new RegExp(`^(${l.join("|")})`),h=v=>n.find(_=>_.start<=v&&_.end>=v);let f=0;for(;f<a.length;){const v=h(f),_=v!=null,S=c.exec(a.slice(f))?.[1];if(!_&&S!=null&&m.test(S)){let j=S;for(;j.length>0;){const b=u.exec(j)[1];j=j.slice(b.length),i.push(Vpe(be({},t,{now:r,token:b,startSeparator:o}))),o=""}f+=S.length}else{const j=a[f];_&&v?.start===f||v?.end===f||(i.length===0?o+=j:(i[i.length-1].endSeparator+=j,i[i.length-1].isEndFormatSeparator=!0)),f+=1}}return i.length===0&&o.length>0&&i.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:o,endSeparator:"",modified:!1}),i},Wpe=({isRtl:t,formatDensity:s,sections:a})=>a.map(n=>{const r=i=>{let o=i;return t&&o!==null&&o.includes(" ")&&(o=`${o}`),s==="spacious"&&["/",".","-"].includes(o)&&(o=` ${o} `),o};return n.startSeparator=r(n.startSeparator),n.endSeparator=r(n.endSeparator),n}),gT=t=>{let s=qpe(t);t.isRtl&&t.enableAccessibleFieldDOMStructure&&(s=s.split(" ").reverse().join(" "));const a=Bpe(be({},t,{expandedFormat:s})),n=Hpe(be({},t,{expandedFormat:s,escapedParts:a}));return Wpe(be({},t,{sections:n}))},xS=g.createContext(null),cl=()=>{const t=g.useContext(xS);if(t==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return t},gS=()=>g.useContext(xS),gI=g.createContext(()=>!0);function Ype(){return g.useContext(gI)}const yI=g.createContext(null);function bI(){return g.useContext(yI)}const vI=g.createContext(null),jI=g.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function NI(t){const{contextValue:s,actionsContextValue:a,privateContextValue:n,fieldPrivateContextValue:r,isValidContextValue:i,localeText:o,children:l}=t;return e.jsx(xS.Provider,{value:s,children:e.jsx(vI.Provider,{value:a,children:e.jsx(jI.Provider,{value:n,children:e.jsx(yI.Provider,{value:r,children:e.jsx(gI.Provider,{value:i,children:e.jsx(cI,{localeText:o,children:l})})})})})})}const Gpe=()=>{const t=g.useContext(vI);if(t==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return t},wI=()=>cS().defaultDates,Tu=t=>{const s=ks(),a=g.useRef(void 0);return a.current===void 0&&(a.current=s.date(void 0,t)),a.current},Kpe=Ut(e.jsx("path",{d:"M7 10l5 5 5-5z"})),Qpe=Ut(e.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})),Zpe=Ut(e.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),_I=Ut(e.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})),Xpe=Ut(e.jsxs(g.Fragment,{children:[e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]})),Jpe=Ut(e.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"})),ehe=Ut(e.jsxs(g.Fragment,{children:[e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]})),the=Ut(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function she(t){return Et("MuiPickersArrowSwitcher",t)}Pt("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const Ha=()=>g.useContext(jI),ahe=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],nhe=["ownerState"],rhe=["ownerState"],ihe=Ne("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),ohe=Ne("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:t})=>({width:t.spacing(3)})),yT=Ne(na,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),lhe=t=>kt({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},she,t),SI=g.forwardRef(function(s,a){const n=qn(),r=Vs({props:s,name:"MuiPickersArrowSwitcher"}),{children:i,className:o,slots:l,slotProps:c,isNextDisabled:m,isNextHidden:u,onGoToNext:h,nextLabel:f,isPreviousDisabled:v,isPreviousHidden:_,onGoToPrevious:S,previousLabel:j,labelId:b,classes:w}=r,C=rs(r,ahe),{ownerState:P}=Ha(),E=lhe(w),D={isDisabled:m,isHidden:u,goTo:h,label:f},T={isDisabled:v,isHidden:_,goTo:S,label:j},R=l?.previousIconButton??yT,z=ta({elementType:R,externalSlotProps:c?.previousIconButton,additionalProps:{size:"medium",title:T.label,"aria-label":T.label,disabled:T.isDisabled,edge:"end",onClick:T.goTo},ownerState:be({},P,{isButtonHidden:T.isHidden??!1}),className:tt(E.button,E.previousIconButton)}),O=l?.nextIconButton??yT,$=ta({elementType:O,externalSlotProps:c?.nextIconButton,additionalProps:{size:"medium",title:D.label,"aria-label":D.label,disabled:D.isDisabled,edge:"start",onClick:D.goTo},ownerState:be({},P,{isButtonHidden:D.isHidden??!1}),className:tt(E.button,E.nextIconButton)}),A=l?.leftArrowIcon??Qpe,Q=ta({elementType:A,externalSlotProps:c?.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:P,className:E.leftArrowIcon}),K=rs(Q,nhe),U=l?.rightArrowIcon??Zpe,B=ta({elementType:U,externalSlotProps:c?.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:P,className:E.rightArrowIcon}),V=rs(B,rhe);return e.jsxs(ihe,be({ref:a,className:tt(E.root,o),ownerState:P},C,{children:[e.jsx(R,be({},z,{children:n?e.jsx(U,be({},V)):e.jsx(A,be({},K))})),i?e.jsx(x,{variant:"subtitle1",component:"span",id:b,children:i}):e.jsx(ohe,{className:E.spacer,ownerState:P}),e.jsx(O,be({},$,{children:n?e.jsx(A,be({},K)):e.jsx(U,be({},V))}))]}))}),CI=["hours","minutes","seconds"],che=["hours","minutes","seconds","meridiem"],bu=t=>CI.includes(t),Am=t=>che.includes(t),dhe=(t,s)=>t?s.getHours(t)>=12?"pm":"am":null,Mx=(t,s,a)=>a&&(t>=12?"pm":"am")!==s?s==="am"?t-12:t+12:t,uhe=(t,s,a,n)=>{const r=Mx(n.getHours(t),s,a);return n.setHours(t,r)},bT=(t,s)=>s.getHours(t)*3600+s.getMinutes(t)*60+s.getSeconds(t),Cg=(t,s)=>(a,n)=>t?s.isAfter(a,n):bT(a,s)>bT(n,s),Rb=(t,{format:s,views:a,ampm:n})=>{if(s!=null)return s;const r=t.formats;return Vo(a,["hours"])?n?`${r.hours12h} ${r.meridiem}`:r.hours24h:Vo(a,["minutes"])?r.minutes:Vo(a,["seconds"])?r.seconds:Vo(a,["minutes","seconds"])?`${r.minutes}:${r.seconds}`:Vo(a,["hours","minutes","seconds"])?n?`${r.hours12h}:${r.minutes}:${r.seconds} ${r.meridiem}`:`${r.hours24h}:${r.minutes}:${r.seconds}`:n?`${r.hours12h}:${r.minutes} ${r.meridiem}`:`${r.hours24h}:${r.minutes}`},kI={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function mhe(t){const{steps:s,isViewMatchingStep:a,onStepChange:n}=t;return r=>{if(s==null)return kI;const i=s.findIndex(l=>a(r.view,l)),o=i===-1||i===s.length-1?null:s[i+1];return{hasNextStep:o!=null,hasSeveralSteps:s.length>1,goToNextStep:()=>{o!=null&&n(be({},r,{step:o}))},areViewsInSameStep:(l,c)=>{const m=s.find(h=>a(l,h)),u=s.find(h=>a(c,h));return m===u}}}}function kg({onChange:t,onViewChange:s,openTo:a,view:n,views:r,autoFocus:i,focusedView:o,onFocusedViewChange:l,getStepNavigation:c}){const m=g.useRef(a),u=g.useRef(r),h=g.useRef(r.includes(a)?a:r[0]),[f,v]=zr({name:"useViews",state:"view",controlled:n,default:h.current}),_=g.useRef(i?f:null),[S,j]=zr({name:"useViews",state:"focusedView",controlled:o,default:_.current}),b=c?c({setView:v,view:f,defaultView:h.current,views:r}):kI;g.useEffect(()=>{(m.current&&m.current!==a||u.current&&u.current.some(z=>!r.includes(z)))&&(v(r.includes(a)?a:r[0]),u.current=r,m.current=a)},[a,v,f,r]);const w=r.indexOf(f),C=r[w-1]??null,P=r[w+1]??null,E=At((z,O)=>{j(O?z:$=>z===$?null:$),l?.(z,O)}),D=At(z=>{E(z,!0),z!==f&&(v(z),s&&s(z))}),T=At(()=>{P&&D(P)}),R=At((z,O,$)=>{const A=O==="finish",Q=$?r.indexOf($)<r.length-1:!!P;t(z,A&&Q?"partial":O,$);let U=null;if($!=null&&$!==f?U=$:A&&(U=f),U==null)return;const B=r[r.indexOf(U)+1];B==null||!b.areViewsInSameStep(U,B)||D(B)});return be({},b,{view:f,setView:D,focusedView:S,setFocusedView:E,nextView:P,previousView:C,defaultView:r.includes(a)?a:r[0],goToNextView:T,setValueAndGoToNextView:R})}function phe(t,{disableFuture:s,maxDate:a,timezone:n}){const r=ks();return g.useMemo(()=>{const i=r.date(void 0,n),o=r.startOfMonth(s&&r.isBefore(i,a)?i:a);return!r.isAfter(o,t)},[s,a,t,r,n])}function hhe(t,{disablePast:s,minDate:a,timezone:n}){const r=ks();return g.useMemo(()=>{const i=r.date(void 0,n),o=r.startOfMonth(s&&r.isAfter(i,a)?i:a);return!r.isBefore(o,t)},[s,a,t,r,n])}function Gv(t,s,a,n){const r=ks(),i=g.useMemo(()=>r.isValid(t)?t:null,[r,t]),o=dhe(i,r),l=g.useCallback(c=>{const m=i==null?null:uhe(i,c,!!s,r);a(m,n??"partial")},[s,i,a,n,r]);return{meridiemMode:o,handleMeridiemChange:l}}const Dx=36,Kv=2,xp=320,fhe=280,gp=336,PI=232,mf=48,Qv=Ne("div")({overflow:"hidden",width:xp,maxHeight:gp,display:"flex",flexDirection:"column",margin:"0 auto"});function xhe(t){return Et("MuiTimeClock",t)}Pt("MuiTimeClock",["root","arrowSwitcher"]);const yp=220,Kl=36,Rx={x:yp/2,y:yp/2},EI={x:Rx.x,y:0},ghe=EI.x-Rx.x,yhe=EI.y-Rx.y,bhe=t=>t*(180/Math.PI),TI=(t,s,a)=>{const n=s-Rx.x,r=a-Rx.y,i=Math.atan2(ghe,yhe)-Math.atan2(n,r);let o=bhe(i);o=Math.round(o/t)*t,o%=360;const l=Math.floor(o/t)||0,c=n**2+r**2,m=Math.sqrt(c);return{value:l,distance:m}},vhe=(t,s,a=1)=>{const n=a*6;let{value:r}=TI(n,t,s);return r=r*a%60,r},jhe=(t,s,a)=>{const{value:n,distance:r}=TI(30,t,s);let i=n||12;return a?i%=12:r<yp/2-Kl&&(i+=12,i%=24),i};function Nhe(t){return Et("MuiClockPointer",t)}Pt("MuiClockPointer",["root","thumb"]);const whe=["className","classes","isBetweenTwoClockValues","isInner","type","viewValue"],_he=t=>kt({root:["root"],thumb:["thumb"]},Nhe,t),She=Ne("div",{name:"MuiClockPointer",slot:"Root"})(({theme:t})=>({width:2,backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{isClockPointerAnimated:!0},style:{transition:t.transitions.create(["transform","height"])}}]})),Che=Ne("div",{name:"MuiClockPointer",slot:"Thumb"})(({theme:t})=>({width:4,height:4,backgroundColor:(t.vars||t).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${Kl/2}px)`,border:`${(Kl-4)/2}px solid ${(t.vars||t).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{isClockPointerBetweenTwoValues:!1},style:{backgroundColor:(t.vars||t).palette.primary.main}}]}));function khe(t){const s=Vs({props:t,name:"MuiClockPointer"}),{className:a,classes:n,isBetweenTwoClockValues:r,isInner:i,type:o,viewValue:l}=s,c=rs(s,whe),m=g.useRef(o);g.useEffect(()=>{m.current=o},[o]);const{ownerState:u}=Ha(),h=be({},u,{isClockPointerAnimated:m.current!==o,isClockPointerBetweenTwoValues:r}),f=_he(n),v=()=>{let S=360/(o==="hours"?12:60)*l;return o==="hours"&&l>12&&(S-=360),{height:Math.round((i?.26:.4)*yp),transform:`rotateZ(${S}deg)`}};return e.jsx(She,be({style:v(),className:tt(f.root,a),ownerState:h},c,{children:e.jsx(Che,{ownerState:h,className:f.thumb})}))}function Phe(t){return Et("MuiClock",t)}Pt("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText","selected"]);const Ehe=(t,s)=>{const a={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton",s.clockMeridiemMode==="am"&&"selected"],pmButton:["pmButton",s.clockMeridiemMode==="pm"&&"selected"],meridiemText:["meridiemText"]};return kt(a,Phe,t)},The=Ne("div",{name:"MuiClock",slot:"Root"})(({theme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)})),Mhe=Ne("div",{name:"MuiClock",slot:"Clock"})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),Dhe=Ne("div",{name:"MuiClock",slot:"Wrapper"})({"&:focus":{outline:"none"}}),Rhe=Ne("div",{name:"MuiClock",slot:"SquareMask"})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{isClockDisabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),Ahe=Ne("div",{name:"MuiClock",slot:"Pin"})(({theme:t})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),MI=(t,s)=>({zIndex:1,bottom:8,paddingLeft:4,paddingRight:4,width:Kl,variants:[{props:{clockMeridiemMode:s},style:{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}}}]}),Ihe=Ne(na,{name:"MuiClock",slot:"AmButton"})(({theme:t})=>be({},MI(t,"am"),{position:"absolute",left:8})),Ohe=Ne(na,{name:"MuiClock",slot:"PmButton"})(({theme:t})=>be({},MI(t,"pm"),{position:"absolute",right:8})),vT=Ne(x,{name:"MuiClock",slot:"MeridiemText"})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function Fhe(t){const s=Vs({props:t,name:"MuiClock"}),{ampm:a,ampmInClock:n,autoFocus:r,children:i,value:o,handleMeridiemChange:l,isTimeDisabled:c,meridiemMode:m,minutesStep:u=1,onChange:h,selectedId:f,type:v,viewValue:_,viewRange:[S,j],disabled:b=!1,readOnly:w,className:C,classes:P}=s,E=ks(),D=tr(),{ownerState:T}=Ha(),R=be({},T,{isClockDisabled:b,clockMeridiemMode:m}),z=g.useRef(!1),O=Ehe(P,R),$=c(_,v),A=!a&&v==="hours"&&(_<1||_>12),Q=(te,se)=>{b||w||c(te,v)||h(te,se)},K=(te,se)=>{let{offsetX:ae,offsetY:pe}=te;if(ae===void 0){const re=te.target.getBoundingClientRect();ae=te.changedTouches[0].clientX-re.left,pe=te.changedTouches[0].clientY-re.top}const he=v==="seconds"||v==="minutes"?vhe(ae,pe,u):jhe(ae,pe,!!a);Q(he,se)},U=te=>{z.current=!0,K(te,"shallow")},B=te=>{z.current&&(K(te,"finish"),z.current=!1),te.preventDefault()},V=te=>{te.buttons>0&&K(te.nativeEvent,"shallow")},Y=te=>{z.current&&(z.current=!1),K(te.nativeEvent,"finish")},H=v==="hours"?!1:_%5!==0,F=v==="minutes"?u:1,M=g.useRef(null);La(()=>{r&&M.current.focus()},[r]);const L=te=>Math.max(S,Math.min(j,te)),W=te=>(te+(j+1))%(j+1),X=te=>{if(!z.current)switch(te.key){case"Home":Q(S,"partial"),te.preventDefault();break;case"End":Q(j,"partial"),te.preventDefault();break;case"ArrowUp":Q(W(_+F),"partial"),te.preventDefault();break;case"ArrowDown":Q(W(_-F),"partial"),te.preventDefault();break;case"PageUp":Q(L(_+5),"partial"),te.preventDefault();break;case"PageDown":Q(L(_-5),"partial"),te.preventDefault();break;case"Enter":case" ":Q(_,"finish"),te.preventDefault();break}};return e.jsxs(The,{className:tt(O.root,C),children:[e.jsxs(Mhe,{className:O.clock,children:[e.jsx(Rhe,{onTouchMove:U,onTouchStart:U,onTouchEnd:B,onMouseUp:Y,onMouseMove:V,ownerState:R,className:O.squareMask}),!$&&e.jsxs(g.Fragment,{children:[e.jsx(Ahe,{className:O.pin}),o!=null&&e.jsx(khe,{type:v,viewValue:_,isInner:A,isBetweenTwoClockValues:H})]}),e.jsx(Dhe,{"aria-activedescendant":f,"aria-label":D.clockLabelText(v,o==null?null:E.format(o,a?"fullTime12h":"fullTime24h")),ref:M,role:"listbox",onKeyDown:X,tabIndex:0,className:O.wrapper,children:i})]}),a&&n&&e.jsxs(g.Fragment,{children:[e.jsx(Ihe,{onClick:w?void 0:()=>l("am"),disabled:b||m===null,ownerState:R,className:O.amButton,title:xo(E,"am"),children:e.jsx(vT,{variant:"caption",className:O.meridiemText,children:xo(E,"am")})}),e.jsx(Ohe,{disabled:b||m===null,onClick:w?void 0:()=>l("pm"),ownerState:R,className:O.pmButton,title:xo(E,"pm"),children:e.jsx(vT,{variant:"caption",className:O.meridiemText,children:xo(E,"pm")})})]})]})}function Lhe(t){return Et("MuiClockNumber",t)}const xy=Pt("MuiClockNumber",["root","selected","disabled"]),zhe=["className","classes","disabled","index","inner","label","selected"],$he=(t,s)=>{const a={root:["root",s.isClockNumberSelected&&"selected",s.isClockNumberDisabled&&"disabled"]};return kt(a,Lhe,t)},qhe=Ne("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(t,s)=>[s.root,{[`&.${xy.disabled}`]:s.disabled},{[`&.${xy.selected}`]:s.selected}]})(({theme:t})=>({height:Kl,width:Kl,position:"absolute",left:`calc((100% - ${Kl}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(t.vars||t).palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:(t.vars||t).palette.background.paper},[`&.${xy.selected}`]:{color:(t.vars||t).palette.primary.contrastText},[`&.${xy.disabled}`]:{pointerEvents:"none",color:(t.vars||t).palette.text.disabled},variants:[{props:{isClockNumberInInnerRing:!0},style:be({},t.typography.body2,{color:(t.vars||t).palette.text.secondary})}]}));function DI(t){const s=Vs({props:t,name:"MuiClockNumber"}),{className:a,classes:n,disabled:r,index:i,inner:o,label:l,selected:c}=s,m=rs(s,zhe),{ownerState:u}=Ha(),h=be({},u,{isClockNumberInInnerRing:o,isClockNumberSelected:c,isClockNumberDisabled:r}),f=$he(n,h),v=i%12/12*Math.PI*2-Math.PI/2,_=(yp-Kl-2)/2*(o?.65:1),S=Math.round(Math.cos(v)*_),j=Math.round(Math.sin(v)*_);return e.jsx(qhe,be({className:tt(f.root,a),"aria-disabled":r?!0:void 0,"aria-selected":c?!0:void 0,role:"option",style:{transform:`translate(${S}px, ${j+(yp-Kl)/2}px`},ownerState:h},m,{children:l}))}const Bhe=({ampm:t,value:s,getClockNumberText:a,isDisabled:n,selectedId:r,adapter:i})=>{const o=s?i.getHours(s):null,l=[],c=t?1:0,m=t?12:23,u=h=>o===null?!1:t?h===12?o===12||o===0:o===h||o-12===h:o===h;for(let h=c;h<=m;h+=1){let f=h.toString();h===0&&(f="00");const v=!t&&(h===0||h>12);f=i.formatNumber(f);const _=u(h);l.push(e.jsx(DI,{id:_?r:void 0,index:h,inner:v,selected:_,disabled:n(h),label:f,"aria-label":a(f)},h))}return l},jT=({adapter:t,value:s,isDisabled:a,getClockNumberText:n,selectedId:r})=>{const i=t.formatNumber;return[[5,i("05")],[10,i("10")],[15,i("15")],[20,i("20")],[25,i("25")],[30,i("30")],[35,i("35")],[40,i("40")],[45,i("45")],[50,i("50")],[55,i("55")],[0,i("00")]].map(([o,l],c)=>{const m=o===s;return e.jsx(DI,{label:l,id:m?r:void 0,index:c+1,inner:!1,disabled:a(o),selected:m,"aria-label":n(l)},o)})},dd=({name:t,timezone:s,value:a,defaultValue:n,referenceDate:r,onChange:i,valueManager:o})=>{const l=ks(),[c,m]=zr({name:t,state:"value",controlled:a,default:n??o.emptyValue}),u=g.useMemo(()=>o.getTimezone(l,c),[l,o,c]),h=At(S=>u==null?S:o.setTimezone(l,u,S)),f=g.useMemo(()=>s||u||(r?l.getTimezone(Array.isArray(r)?r[0]:r):"default"),[s,u,r,l]),v=g.useMemo(()=>o.setTimezone(l,f,c),[o,l,f,c]),_=At((S,...j)=>{const b=h(S);m(b),i?.(b,...j)});return{value:v,handleValueChange:_,timezone:f}},fo={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},Uhe=t=>Math.max(...t.map(s=>fo[s.type]??1)),Wh=(t,s,a)=>{if(s===fo.year)return t.startOfYear(a);if(s===fo.month)return t.startOfMonth(a);if(s===fo.day)return t.startOfDay(a);let n=a;return s<fo.minutes&&(n=t.setMinutes(n,0)),s<fo.seconds&&(n=t.setSeconds(n,0)),s<fo.milliseconds&&(n=t.setMilliseconds(n,0)),n},Vhe=({props:t,adapter:s,granularity:a,timezone:n,getTodayDate:r})=>{let i=r?r():Wh(s,a,mS(s,n));t.minDate!=null&&s.isAfterDay(t.minDate,i)&&(i=Wh(s,a,t.minDate)),t.maxDate!=null&&s.isBeforeDay(t.maxDate,i)&&(i=Wh(s,a,t.maxDate));const o=Cg(t.disableIgnoringDatePartForTimeValidation??!1,s);return t.minTime!=null&&o(t.minTime,i)&&(i=Wh(s,a,t.disableIgnoringDatePartForTimeValidation?t.minTime:Mb(s,i,t.minTime))),t.maxTime!=null&&o(i,t.maxTime)&&(i=Wh(s,a,t.disableIgnoringDatePartForTimeValidation?t.maxTime:Mb(s,i,t.maxTime))),i},Hhe=["value","referenceDate"],un={emptyValue:null,getTodayValue:mS,getInitialReferenceValue:t=>{let{value:s,referenceDate:a}=t,n=rs(t,Hhe);return n.adapter.isValid(s)?s:a??Vhe(n)},cleanValue:Ppe,areValuesEqual:Epe,isSameError:(t,s)=>t===s,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,s)=>t.isValid(s)?t.getTimezone(s):null,setTimezone:(t,s,a)=>a==null?null:t.setTimezone(a,s)},yS={updateReferenceValue:(t,s,a)=>t.isValid(s)?s:a,getSectionsFromValue:(t,s)=>s(t),getV7HiddenInputValueFromSections:Ipe,getV6InputValueFromSections:Ope,parseValueStr:(t,s,a)=>a(t.trim(),s),getDateFromSection:t=>t,getDateSectionsFromValue:t=>t,updateDateInValue:(t,s,a)=>a,clearDateSections:t=>t.map(s=>be({},s,{value:""}))},bS=({value:t,referenceDate:s,adapter:a,props:n,timezone:r})=>{const i=g.useMemo(()=>un.getInitialReferenceValue({value:t,adapter:a,props:n,referenceDate:s,granularity:fo.day,timezone:r,getTodayDate:()=>mS(a,r,"date")}),[s,r]);return t??i},Whe=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","timezone"],Yhe=t=>kt({root:["root"],arrowSwitcher:["arrowSwitcher"]},xhe,t),Ghe=Ne(Qv,{name:"MuiTimeClock",slot:"Root"})({display:"flex",flexDirection:"column",position:"relative"}),Khe=Ne(SI,{name:"MuiTimeClock",slot:"ArrowSwitcher"})({position:"absolute",right:12,top:15}),Qhe=["hours","minutes"],Zhe=g.forwardRef(function(s,a){const n=ks(),r=Vs({props:s,name:"MuiTimeClock"}),{ampm:i=n.is12HourCycleInCurrentLocale(),ampmInClock:o=!1,autoFocus:l,slots:c,slotProps:m,value:u,defaultValue:h,referenceDate:f,disableIgnoringDatePartForTimeValidation:v=!1,maxTime:_,minTime:S,disableFuture:j,disablePast:b,minutesStep:w=1,shouldDisableTime:C,showViewSwitcher:P,onChange:E,view:D,views:T=Qhe,openTo:R,onViewChange:z,focusedView:O,onFocusedViewChange:$,className:A,classes:Q,disabled:K,readOnly:U,timezone:B}=r,V=rs(r,Whe),{value:Y,handleValueChange:H,timezone:F}=dd({name:"TimeClock",timezone:B,value:u,defaultValue:h,referenceDate:f,onChange:E,valueManager:un}),M=bS({value:Y,referenceDate:f,adapter:n,props:r,timezone:F}),L=tr(),W=Tu(F),X=_r(),{ownerState:te}=Ha(),{view:se,setView:ae,previousView:pe,nextView:he,setValueAndGoToNextView:re}=kg({view:D,views:T,openTo:R,onViewChange:z,onChange:H,focusedView:O,onFocusedViewChange:$}),{meridiemMode:xe,handleMeridiemChange:ge}=Gv(M,i,re),le=g.useCallback((Ae,Fe)=>{const Me=Cg(v,n),Xe=Fe==="hours"||Fe==="minutes"&&T.includes("seconds"),ke=({start:ye,end:We})=>!(S&&Me(S,We)||_&&Me(ye,_)||j&&Me(ye,W)||b&&Me(W,Xe?We:ye)),Ye=(ye,We=1)=>{if(ye%We!==0)return!1;if(C)switch(Fe){case"hours":return!C(n.setHours(M,ye),"hours");case"minutes":return!C(n.setMinutes(M,ye),"minutes");case"seconds":return!C(n.setSeconds(M,ye),"seconds");default:return!1}return!0};switch(Fe){case"hours":{const ye=Mx(Ae,xe,i),We=n.setHours(M,ye);if(n.getHours(We)!==ye)return!0;const Ge=n.setSeconds(n.setMinutes(We,0),0),jt=n.setSeconds(n.setMinutes(We,59),59);return!ke({start:Ge,end:jt})||!Ye(ye)}case"minutes":{const ye=n.setMinutes(M,Ae),We=n.setSeconds(ye,0),Ge=n.setSeconds(ye,59);return!ke({start:We,end:Ge})||!Ye(Ae,w)}case"seconds":{const ye=n.setSeconds(M,Ae);return!ke({start:ye,end:ye})||!Ye(Ae)}default:throw new Error("not supported")}},[i,M,v,_,xe,S,w,C,n,j,b,W,T]),de=g.useMemo(()=>{switch(se){case"hours":{const Ae=(Xe,ke)=>{const Ye=Mx(Xe,xe,i);re(n.setHours(M,Ye),ke,"hours")},Fe=n.getHours(M);let Me;return i?Fe>12?Me=[12,23]:Me=[0,11]:Me=[0,23],{onChange:Ae,viewValue:Fe,children:Bhe({value:Y,adapter:n,ampm:i,getClockNumberText:L.hoursClockNumberText,isDisabled:Xe=>K||le(Xe,"hours"),selectedId:X}),viewRange:Me}}case"minutes":{const Ae=n.getMinutes(M);return{viewValue:Ae,onChange:(Me,Xe)=>{re(n.setMinutes(M,Me),Xe,"minutes")},children:jT({adapter:n,value:Ae,getClockNumberText:L.minutesClockNumberText,isDisabled:Me=>K||le(Me,"minutes"),selectedId:X}),viewRange:[0,59]}}case"seconds":{const Ae=n.getSeconds(M);return{viewValue:Ae,onChange:(Me,Xe)=>{re(n.setSeconds(M,Me),Xe,"seconds")},children:jT({adapter:n,value:Ae,getClockNumberText:L.secondsClockNumberText,isDisabled:Me=>K||le(Me,"seconds"),selectedId:X}),viewRange:[0,59]}}default:throw new Error("You must provide the type for ClockView")}},[se,n,Y,i,L.hoursClockNumberText,L.minutesClockNumberText,L.secondsClockNumberText,xe,re,M,le,X,K]),we=Yhe(Q);return e.jsxs(Ghe,be({ref:a,className:tt(we.root,A),ownerState:te},V,{children:[e.jsx(Fhe,be({autoFocus:l??!!O,ampmInClock:o&&T.includes("hours"),value:Y,type:se,ampm:i,minutesStep:w,isTimeDisabled:le,meridiemMode:xe,handleMeridiemChange:ge,selectedId:X,disabled:K,readOnly:U},de)),P&&e.jsx(Khe,{className:we.arrowSwitcher,slots:c,slotProps:m,onGoToPrevious:()=>ae(pe),isPreviousDisabled:!pe,previousLabel:L.openPreviousView,onGoToNext:()=>ae(he),isNextDisabled:!he,nextLabel:L.openNextView,ownerState:te})]}))});function Xhe(t){return Et("MuiDigitalClock",t)}const v_=Pt("MuiDigitalClock",["root","list","item"]);function km(t,s){return Array.isArray(s)?s.every(a=>t.indexOf(a)!==-1):t.indexOf(s)!==-1}const Jhe=t=>{setTimeout(t,0)},RI=(t=document)=>{const s=t.activeElement;return s?s.shadowRoot?RI(s.shadowRoot):s:null},ir=t=>RI(dn(t)),Ab=t=>Array.from(t.children).indexOf(ir(t)),vS="@media (pointer: fine)";function efe(...t){return t.reduce((s,a)=>(Array.isArray(a)?s.push(...a):a!=null&&s.push(a),s),[])}const tfe=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],sfe=t=>kt({root:["root"],list:["list"],item:["item"]},Xhe,t),afe=Ne(Qv,{name:"MuiDigitalClock",slot:"Root"})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:PI,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),nfe=Ne(I4,{name:"MuiDigitalClock",slot:"List"})({padding:0}),rfe=Ne(Z,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:t=>t!=="itemValue"&&t!=="formattedValue"})(({theme:t})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:wr(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:wr(t.palette.primary.main,t.palette.action.focusOpacity)}})),ife=g.forwardRef(function(s,a){const n=ks(),r=g.useRef(null),i=Us(a,r),o=g.useRef(null),l=Vs({props:s,name:"MuiDigitalClock"}),{ampm:c=n.is12HourCycleInCurrentLocale(),timeStep:m=30,autoFocus:u,slots:h,slotProps:f,value:v,defaultValue:_,referenceDate:S,disableIgnoringDatePartForTimeValidation:j=!1,maxTime:b,minTime:w,disableFuture:C,disablePast:P,minutesStep:E=1,shouldDisableTime:D,onChange:T,view:R,openTo:z,onViewChange:O,focusedView:$,onFocusedViewChange:A,className:Q,classes:K,disabled:U,readOnly:B,views:V=["hours"],skipDisabled:Y=!1,timezone:H}=l,F=rs(l,tfe),{value:M,handleValueChange:L,timezone:W}=dd({name:"DigitalClock",timezone:H,value:v,defaultValue:_,referenceDate:S,onChange:T,valueManager:un}),X=tr(),te=Tu(W),{ownerState:se}=Ha(),ae=be({},se,{hasDigitalClockAlreadyBeenRendered:!!r.current}),pe=sfe(K),he=h?.digitalClockItem??rfe,re=ta({elementType:he,externalSlotProps:f?.digitalClockItem,ownerState:ae,className:pe.item}),xe=bS({value:M,referenceDate:S,adapter:n,props:l,timezone:W}),ge=At(Xe=>L(Xe,"finish","hours")),{setValueAndGoToNextView:le}=kg({view:R,views:V,openTo:z,onViewChange:O,onChange:ge,focusedView:$,onFocusedViewChange:A}),de=At(Xe=>{le(Xe,"finish")});La(()=>{if(r.current===null)return;const Xe=r.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!Xe)return;const ke=Xe.offsetTop;(u||$)&&Xe.focus(),r.current.scrollTop=ke-4});const we=g.useCallback(Xe=>{const ke=Cg(j,n),Ye=()=>!(w&&ke(w,Xe)||b&&ke(Xe,b)||C&&ke(Xe,te)||P&&ke(te,Xe)),ye=()=>n.getMinutes(Xe)%E!==0?!1:D?!D(Xe,"hours"):!0;return!Ye()||!ye()},[j,n,w,b,C,te,P,E,D]),Ae=g.useMemo(()=>{const Xe=[];let Ye=n.startOfDay(xe);for(;n.isSameDay(xe,Ye);)Xe.push(Ye),Ye=n.addMinutes(Ye,m);return Xe},[xe,m,n]),Fe=Ae.findIndex(Xe=>n.isEqual(Xe,xe)),Me=Xe=>{switch(Xe.key){case"PageUp":{const ke=Ab(o.current)-5,Ye=o.current.children,ye=Math.max(0,ke),We=Ye[ye];We&&We.focus(),Xe.preventDefault();break}case"PageDown":{const ke=Ab(o.current)+5,Ye=o.current.children,ye=Math.min(Ye.length-1,ke),We=Ye[ye];We&&We.focus(),Xe.preventDefault();break}}};return e.jsx(afe,be({ref:i,className:tt(pe.root,Q),ownerState:ae},F,{children:e.jsx(nfe,{ref:o,role:"listbox","aria-label":X.timePickerToolbarTitle,className:pe.list,onKeyDown:Me,children:Ae.map((Xe,ke)=>{const Ye=we(Xe);if(Y&&Ye)return null;const ye=n.isEqual(Xe,M),We=n.format(Xe,c?"fullTime12h":"fullTime24h"),jt=Fe===ke||Fe===-1&&ke===0?0:-1;return e.jsx(he,be({onClick:()=>!B&&de(Xe),selected:ye,disabled:U||Ye,disableRipple:B,role:"option","aria-disabled":B,"aria-selected":ye,tabIndex:jt,itemValue:Xe,formattedValue:We},re,{children:We}),`${Xe.valueOf()}-${We}`)})})}))});function ofe(t){return Et("MuiMultiSectionDigitalClock",t)}const j_=Pt("MuiMultiSectionDigitalClock",["root"]);function lfe(t){return Et("MuiMultiSectionDigitalClockSection",t)}const N_=Pt("MuiMultiSectionDigitalClockSection",["root","item"]),cfe=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],dfe=t=>kt({root:["root"],item:["item"]},lfe,t),ufe=Ne(I4,{name:"MuiMultiSectionDigitalClockSection",slot:"Root"})(({theme:t})=>({maxHeight:PI,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),mfe=Ne(Z,{name:"MuiMultiSectionDigitalClockSection",slot:"Item"})(({theme:t})=>({padding:8,margin:"2px 4px",width:mf,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:wr(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:wr(t.palette.primary.main,t.palette.action.focusOpacity)}})),pfe=g.forwardRef(function(s,a){const n=g.useRef(null),r=Us(a,n),i=g.useRef(null),o=Vs({props:s,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:l,onChange:c,className:m,classes:u,disabled:h,readOnly:f,items:v,active:_,slots:S,slotProps:j,skipDisabled:b}=o,w=rs(o,cfe),{ownerState:C}=Ha(),P=be({},C,{hasDigitalClockAlreadyBeenRendered:!!n.current}),E=dfe(u),D=S?.digitalClockSectionItem??mfe;La(()=>{if(n.current===null)return;const z=n.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(_&&l&&z&&z.focus(),!z||i.current===z)return;i.current=z;const O=z.offsetTop,$=z.offsetHeight,A=n.current.clientHeight,Q=n.current.scrollHeight,K=O-A/2+$/2,U=Q-A,B=Math.min(K,U);n.current.scrollTop=Math.max(0,B)});const T=v.findIndex(z=>z.isFocused(z.value)),R=z=>{switch(z.key){case"PageUp":{const O=Ab(n.current)-5,$=n.current.children,A=Math.max(0,O),Q=$[A];Q&&Q.focus(),z.preventDefault();break}case"PageDown":{const O=Ab(n.current)+5,$=n.current.children,A=Math.min($.length-1,O),Q=$[A];Q&&Q.focus(),z.preventDefault();break}}};return e.jsx(ufe,be({ref:r,className:tt(E.root,m),ownerState:P,autoFocusItem:l&&_,role:"listbox",onKeyDown:R},w,{children:v.map((z,O)=>{const $=z.isDisabled?.(z.value),A=h||$;if(b&&A)return null;const Q=z.isSelected(z.value),K=T===O||T===-1&&O===0?0:-1;return e.jsx(D,be({onClick:()=>!f&&c(z.value),selected:Q,disabled:A,disableRipple:f,role:"option","aria-disabled":f||A||void 0,"aria-label":z.ariaLabel,"aria-selected":Q,tabIndex:K,className:E.item},j?.digitalClockSectionItem,{children:z.label}),z.label)})}))}),hfe=({now:t,value:s,adapter:a,ampm:n,isDisabled:r,resolveAriaLabel:i,timeStep:o,valueOrReferenceDate:l})=>{const c=s?a.getHours(s):null,m=[],u=(v,_)=>{const S=_??c;return S===null?!1:n?v===12?S===12||S===0:S===v||S-12===v:S===v},h=v=>u(v,a.getHours(l)),f=n?11:23;for(let v=0;v<=f;v+=o){let _=a.format(a.setHours(t,v),n?"hours12h":"hours24h");const S=i(parseInt(_,10).toString());_=a.formatNumber(_),m.push({value:v,label:_,isSelected:u,isDisabled:r,isFocused:h,ariaLabel:S})}return m},NT=({value:t,adapter:s,isDisabled:a,timeStep:n,resolveLabel:r,resolveAriaLabel:i,hasValue:o=!0})=>{const l=m=>t===null?!1:o&&t===m,c=m=>t===m;return[...Array.from({length:Math.ceil(60/n)},(m,u)=>{const h=n*u;return{value:h,label:s.formatNumber(r(h)),isDisabled:a,isSelected:l,isFocused:c,ariaLabel:i(h.toString())}})]},ffe=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],xfe=t=>kt({root:["root"]},ofe,t),gfe=Ne(Qv,{name:"MuiMultiSectionDigitalClock",slot:"Root"})(({theme:t})=>({flexDirection:"row",width:"100%",borderBottom:`1px solid ${(t.vars||t).palette.divider}`})),yfe=g.forwardRef(function(s,a){const n=ks(),r=qn(),i=Vs({props:s,name:"MuiMultiSectionDigitalClock"}),{ampm:o=n.is12HourCycleInCurrentLocale(),timeSteps:l,autoFocus:c,slots:m,slotProps:u,value:h,defaultValue:f,referenceDate:v,disableIgnoringDatePartForTimeValidation:_=!1,maxTime:S,minTime:j,disableFuture:b,disablePast:w,minutesStep:C=1,shouldDisableTime:P,onChange:E,view:D,views:T=["hours","minutes"],openTo:R,onViewChange:z,focusedView:O,onFocusedViewChange:$,className:A,classes:Q,disabled:K,readOnly:U,skipDisabled:B=!1,timezone:V}=i,Y=rs(i,ffe),{value:H,handleValueChange:F,timezone:M}=dd({name:"MultiSectionDigitalClock",timezone:V,value:h,defaultValue:f,referenceDate:v,onChange:E,valueManager:un}),L=tr(),W=Tu(M),X=g.useMemo(()=>be({hours:1,minutes:5,seconds:5},l),[l]),te=bS({value:H,referenceDate:v,adapter:n,props:i,timezone:M}),se=At((ke,Ye,ye)=>F(ke,Ye,ye)),ae=g.useMemo(()=>!o||!T.includes("hours")||T.includes("meridiem")?T:[...T,"meridiem"],[o,T]),{view:pe,setValueAndGoToNextView:he,focusedView:re}=kg({view:D,views:ae,openTo:R,onViewChange:z,onChange:se,focusedView:O,onFocusedViewChange:$}),xe=At(ke=>{he(ke,"finish","meridiem")}),{meridiemMode:ge,handleMeridiemChange:le}=Gv(te,o,xe,"finish"),de=g.useCallback((ke,Ye)=>{const ye=Cg(_,n),We=Ye==="hours"||Ye==="minutes"&&ae.includes("seconds"),Ge=({start:dt,end:wt})=>!(j&&ye(j,wt)||S&&ye(dt,S)||b&&ye(dt,W)||w&&ye(W,We?wt:dt)),jt=(dt,wt=1)=>{if(dt%wt!==0)return!1;if(P)switch(Ye){case"hours":return!P(n.setHours(te,dt),"hours");case"minutes":return!P(n.setMinutes(te,dt),"minutes");case"seconds":return!P(n.setSeconds(te,dt),"seconds");default:return!1}return!0};switch(Ye){case"hours":{const dt=Mx(ke,ge,o),wt=n.setHours(te,dt);if(n.getHours(wt)!==dt)return!0;const Dt=n.setSeconds(n.setMinutes(wt,0),0),ve=n.setSeconds(n.setMinutes(wt,59),59);return!Ge({start:Dt,end:ve})||!jt(dt)}case"minutes":{const dt=n.setMinutes(te,ke),wt=n.setSeconds(dt,0),Dt=n.setSeconds(dt,59);return!Ge({start:wt,end:Dt})||!jt(ke,C)}case"seconds":{const dt=n.setSeconds(te,ke);return!Ge({start:dt,end:dt})||!jt(ke)}default:throw new Error("not supported")}},[o,te,_,S,ge,j,C,P,n,b,w,W,ae]),we=g.useCallback(ke=>{switch(ke){case"hours":return{onChange:Ye=>{const ye=Mx(Ye,ge,o);he(n.setHours(te,ye),"finish","hours")},items:hfe({now:W,value:H,ampm:o,adapter:n,isDisabled:Ye=>de(Ye,"hours"),timeStep:X.hours,resolveAriaLabel:L.hoursClockNumberText,valueOrReferenceDate:te})};case"minutes":return{onChange:Ye=>{he(n.setMinutes(te,Ye),"finish","minutes")},items:NT({value:n.getMinutes(te),adapter:n,isDisabled:Ye=>de(Ye,"minutes"),resolveLabel:Ye=>n.format(n.setMinutes(W,Ye),"minutes"),timeStep:X.minutes,hasValue:!!H,resolveAriaLabel:L.minutesClockNumberText})};case"seconds":return{onChange:Ye=>{he(n.setSeconds(te,Ye),"finish","seconds")},items:NT({value:n.getSeconds(te),adapter:n,isDisabled:Ye=>de(Ye,"seconds"),resolveLabel:Ye=>n.format(n.setSeconds(W,Ye),"seconds"),timeStep:X.seconds,hasValue:!!H,resolveAriaLabel:L.secondsClockNumberText})};case"meridiem":{const Ye=xo(n,"am"),ye=xo(n,"pm");return{onChange:le,items:[{value:"am",label:Ye,isSelected:()=>!!H&&ge==="am",isFocused:()=>!!te&&ge==="am",ariaLabel:Ye},{value:"pm",label:ye,isSelected:()=>!!H&&ge==="pm",isFocused:()=>!!te&&ge==="pm",ariaLabel:ye}]}}default:throw new Error(`Unknown view: ${ke} found.`)}},[W,H,o,n,X.hours,X.minutes,X.seconds,L.hoursClockNumberText,L.minutesClockNumberText,L.secondsClockNumberText,ge,he,te,de,le]),Ae=g.useMemo(()=>{if(!r)return ae;const ke=ae.filter(Ye=>Ye!=="meridiem");return ke.reverse(),ae.includes("meridiem")&&ke.push("meridiem"),ke},[r,ae]),Fe=g.useMemo(()=>ae.reduce((ke,Ye)=>be({},ke,{[Ye]:we(Ye)}),{}),[ae,we]),{ownerState:Me}=Ha(),Xe=xfe(Q);return e.jsx(gfe,be({ref:a,className:tt(Xe.root,A),ownerState:Me,role:"group"},Y,{children:Ae.map(ke=>e.jsx(pfe,{items:Fe[ke].items,onChange:Fe[ke].onChange,active:pe===ke,autoFocus:c||re===ke,disabled:K,readOnly:U,slots:m,slotProps:u,skipDisabled:B,"aria-label":L.selectViewText(ke)},ke))}))});function bfe(t){return Et("MuiPickersDay",t)}const Rd=Pt("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function AI(t){const{disabled:s,selected:a,today:n,outsideCurrentMonth:r,day:i,disableMargin:o,disableHighlightToday:l,showDaysOutsideCurrentMonth:c}=t,m=ks(),{ownerState:u}=Ha();return g.useMemo(()=>be({},u,{day:i,isDaySelected:a??!1,isDayDisabled:s??!1,isDayCurrent:n??!1,isDayOutsideMonth:r??!1,isDayStartOfWeek:m.isSameDay(i,m.startOfWeek(i)),isDayEndOfWeek:m.isSameDay(i,m.endOfWeek(i)),disableMargin:o??!1,disableHighlightToday:l??!1,showDaysOutsideCurrentMonth:c??!1}),[m,u,i,a,s,n,r,o,l,c])}const vfe=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],jfe=(t,s)=>{const{isDaySelected:a,isDayDisabled:n,isDayCurrent:r,isDayOutsideMonth:i,disableMargin:o,disableHighlightToday:l,showDaysOutsideCurrentMonth:c}=s,m=i&&!c;return kt({root:["root",a&&!m&&"selected",n&&"disabled",!o&&"dayWithMargin",!l&&r&&"today",i&&c&&"dayOutsideMonth",m&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},bfe,t)},II=({theme:t})=>be({},t.typography.caption,{width:Dx,height:Dx,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:wr(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:wr(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${Rd.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Rd.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Rd.disabled}:not(.${Rd.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${Rd.disabled}&.${Rd.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Kv}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${Rd.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}}]}),OI=(t,s)=>{const{ownerState:a}=t;return[s.root,!a.disableMargin&&s.dayWithMargin,!a.disableHighlightToday&&a.isDayCurrent&&s.today,!a.isDayOutsideMonth&&a.showDaysOutsideCurrentMonth&&s.dayOutsideMonth,a.isDayOutsideMonth&&!a.showDaysOutsideCurrentMonth&&s.hiddenDaySpacingFiller]},Nfe=Ne(No,{name:"MuiPickersDay",slot:"Root",overridesResolver:OI})(II),wfe=Ne("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:OI})(({theme:t})=>be({},II({theme:t}),{opacity:0,pointerEvents:"none"})),Yh=()=>{},_fe=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiPickersDay"}),{autoFocus:r=!1,className:i,classes:o,isAnimating:l,onClick:c,onDaySelect:m,onFocus:u=Yh,onBlur:h=Yh,onKeyDown:f=Yh,onMouseDown:v=Yh,onMouseEnter:_=Yh,children:S,day:j,selected:b,disabled:w,today:C,outsideCurrentMonth:P,disableMargin:E,disableHighlightToday:D,showDaysOutsideCurrentMonth:T}=n,R=rs(n,vfe),z=AI({day:j,selected:b,disabled:w,today:C,outsideCurrentMonth:P,disableMargin:E,disableHighlightToday:D,showDaysOutsideCurrentMonth:T}),O=jfe(o,z),$=ks(),A=g.useRef(null),Q=Us(A,a);La(()=>{r&&!w&&!l&&!P&&A.current.focus()},[r,w,l,P]);const K=B=>{v(B),P&&B.preventDefault()},U=B=>{B.defaultMuiPrevented=!0,w||m(j),P&&B.currentTarget.focus(),c&&c(B)};return P&&!T?e.jsx(wfe,{className:tt(O.root,O.hiddenDaySpacingFiller,i),ownerState:z,role:R.role}):e.jsx(Nfe,be({className:tt(O.root,i),ref:Q,centerRipple:!0,disabled:w,tabIndex:b?0:-1,onKeyDown:B=>f(B,j),onFocus:B=>u(B,j),onBlur:B=>h(B,j),onMouseEnter:B=>_(B,j),onClick:U,onMouseDown:K},R,{ownerState:z,children:S??$.format(j,"dayOfMonth")}))}),Sfe=g.memo(_fe),bm=t=>t.saveQuery!=null,FI=({stateResponse:{localizedDigits:t,sectionsValueBoundaries:s,state:a,timezone:n,setCharacterQuery:r,setTempAndroidValueStr:i,updateSectionValue:o}})=>{const l=ks(),c=({keyPressed:h,sectionIndex:f},v,_)=>{const S=h.toLowerCase(),j=a.sections[f];if(a.characterQuery!=null&&(!_||_(a.characterQuery.value))&&a.characterQuery.sectionIndex===f){const w=`${a.characterQuery.value}${S}`,C=v(w,j);if(!bm(C))return r({sectionIndex:f,value:w,sectionType:j.type}),C}const b=v(S,j);return bm(b)&&!b.saveQuery?(r(null),null):(r({sectionIndex:f,value:S,sectionType:j.type}),bm(b)?null:b)},m=h=>{const f=(S,j,b)=>{const w=j.filter(C=>C.toLowerCase().startsWith(b));return w.length===0?{saveQuery:!1}:{sectionValue:w[0],shouldGoToNextSection:w.length===1}},v=(S,j,b,w)=>{const C=P=>hI(l,n,j.type,P);if(j.contentType==="letter")return f(j.format,C(j.format),S);if(b&&w!=null&&pI(l,b).contentType==="letter"){const P=C(b),E=f(b,P,S);return bm(E)?{saveQuery:!1}:be({},E,{sectionValue:w(E.sectionValue,P)})}return{saveQuery:!1}};return c(h,(S,j)=>{switch(j.type){case"month":{const b=w=>hT(l,w,l.formats.month,j.format);return v(S,j,l.formats.month,b)}case"weekDay":{const b=(w,C)=>C.indexOf(w).toString();return v(S,j,l.formats.weekday,b)}case"meridiem":return v(S,j);default:return{saveQuery:!1}}})},u=h=>{const f=({queryValue:_,skipIfBelowMinimum:S,section:j})=>{const b=yu(_,t),w=Number(b),C=s[j.type]({currentDate:null,format:j.format,contentType:j.contentType});if(w>C.maximum)return{saveQuery:!1};if(S&&w<C.minimum)return{saveQuery:!0};const P=w*10>C.maximum||b.length===C.maximum.toString().length;return{sectionValue:fI(l,w,C,t,j),shouldGoToNextSection:P}};return c(h,(_,S)=>{if(S.contentType==="digit"||S.contentType==="digit-with-letter")return f({queryValue:_,skipIfBelowMinimum:!1,section:S});if(S.type==="month"){xI(l,"digit","month","MM");const j=f({queryValue:_,skipIfBelowMinimum:!0,section:{type:S.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2}});if(bm(j))return j;const b=hT(l,j.sectionValue,"MM",S.format);return be({},j,{sectionValue:b})}if(S.type==="weekDay"){const j=f({queryValue:_,skipIfBelowMinimum:!0,section:S});if(bm(j))return j;const b=Yv(l,S.format)[Number(j.sectionValue)-1];return be({},j,{sectionValue:b})}return{saveQuery:!1}},_=>pT(_,t))};return At(h=>{const f=a.sections[h.sectionIndex],_=pT(h.keyPressed,t)?u(be({},h,{keyPressed:pS(h.keyPressed,t)})):m(h);if(_==null){i(null);return}o({section:f,newSectionValue:_.sectionValue,shouldGoToNextSection:_.shouldGoToNextSection})})},Ip=({props:t,value:s,timezone:a,adapter:n})=>{if(s===null)return null;const{shouldDisableDate:r,shouldDisableMonth:i,shouldDisableYear:o,disablePast:l,disableFuture:c,minDate:m,maxDate:u}=t,h=n.date(void 0,a);switch(!0){case!n.isValid(s):return"invalidDate";case!!(r&&r(s)):return"shouldDisableDate";case!!(i&&i(s)):return"shouldDisableMonth";case!!(o&&o(s)):return"shouldDisableYear";case!!(c&&n.isAfterDay(s,h)):return"disableFuture";case!!(l&&n.isBeforeDay(s,h)):return"disablePast";case!!(m&&n.isBeforeDay(s,m)):return"minDate";case!!(u&&n.isAfterDay(s,u)):return"maxDate";default:return null}};Ip.valueManager=un;const Pg=({adapter:t,value:s,timezone:a,props:n})=>{if(s===null)return null;const{minTime:r,maxTime:i,minutesStep:o,shouldDisableTime:l,disableIgnoringDatePartForTimeValidation:c=!1,disablePast:m,disableFuture:u}=n,h=t.date(void 0,a),f=Cg(c,t);switch(!0){case!t.isValid(s):return"invalidDate";case!!(r&&f(r,s)):return"minTime";case!!(i&&f(s,i)):return"maxTime";case!!(u&&t.isAfter(s,h)):return"disableFuture";case!!(m&&t.isBefore(s,h)):return"disablePast";case!!(l&&l(s,"hours")):return"shouldDisableTime-hours";case!!(l&&l(s,"minutes")):return"shouldDisableTime-minutes";case!!(l&&l(s,"seconds")):return"shouldDisableTime-seconds";case!!(o&&t.getMinutes(s)%o!==0):return"minutesStep";default:return null}};Pg.valueManager=un;const Zv=({adapter:t,value:s,timezone:a,props:n})=>{const r=Ip({adapter:t,value:s,timezone:a,props:n});return r!==null?r:Pg({adapter:t,value:s,timezone:a,props:n})};Zv.valueManager=un;function LI(t){const{props:s,validator:a,value:n,timezone:r,onError:i}=t,o=ks(),l=g.useRef(a.valueManager.defaultErrorState),c=a({adapter:o,value:n,timezone:r,props:s}),m=a.valueManager.hasError(c);g.useEffect(()=>{i&&!a.valueManager.isSameError(c,l.current)&&i(c,n),l.current=c},[a,i,c,n]);const u=At(h=>a({adapter:o,value:h,timezone:r,props:s}));return{validationError:c,hasValidationError:m,getValidationErrorForNewValue:u}}const Cfe=5e3,zI=t=>{const s=ks(),a=tr(),n=qn(),{manager:{validator:r,valueType:i,internal_valueManager:o,internal_fieldValueManager:l},internalPropsWithDefaults:c,internalPropsWithDefaults:{value:m,defaultValue:u,referenceDate:h,onChange:f,format:v,formatDensity:_="dense",selectedSections:S,onSelectedSectionsChange:j,shouldRespectLeadingZeros:b=!1,timezone:w,enableAccessibleFieldDOMStructure:C=!0},forwardedProps:{error:P}}=t,{value:E,handleValueChange:D,timezone:T}=dd({name:"a field component",timezone:w,value:m,defaultValue:u,referenceDate:h,onChange:f,valueManager:o}),R=g.useRef(E);g.useEffect(()=>{R.current=E},[E]);const{hasValidationError:z}=LI({props:c,validator:r,timezone:T,value:E,onError:c.onError}),O=g.useMemo(()=>Dpe(s),[s]),$=g.useMemo(()=>Fpe(s,O,T),[s,O,T]),A=g.useCallback(Fe=>l.getSectionsFromValue(Fe,Me=>gT({adapter:s,localeText:a,localizedDigits:O,format:v,date:Me,formatDensity:_,shouldRespectLeadingZeros:b,enableAccessibleFieldDOMStructure:C,isRtl:n})),[l,v,a,O,n,b,s,_,C]),[Q,K]=g.useState(()=>{const Fe=A(E),Me={sections:Fe,lastExternalValue:E,lastSectionsDependencies:{format:v,isRtl:n,locale:s.locale},tempValueStrAndroid:null,characterQuery:null},Xe=Uhe(Fe),ke=o.getInitialReferenceValue({referenceDate:h,value:E,adapter:s,props:c,granularity:Xe,timezone:T});return be({},Me,{referenceValue:ke})}),[U,B]=zr({controlled:S,default:null,name:"useField",state:"selectedSections"}),V=Fe=>{B(Fe),j?.(Fe)},Y=g.useMemo(()=>b_(U,Q.sections),[U,Q.sections]),H=Y==="all"?0:Y,F=g.useMemo(()=>$pe(Q.sections,n&&!C),[Q.sections,n,C]),M=g.useMemo(()=>Q.sections.every(Fe=>Fe.value===""),[Q.sections]),L=g.useMemo(()=>{if(H!=null)return!1;const Fe=Q.sections.filter(Me=>Me.value!=="");return Fe.length>0&&Q.sections.length-Fe.length>0},[Q.sections,H]),W=g.useMemo(()=>P!==void 0?P:z||L,[z,L,P]),X=Fe=>{const Me={validationError:r({adapter:s,value:Fe,timezone:T,props:c})};D(Fe,Me)},te=(Fe,Me)=>{const Xe=[...Q.sections];return Xe[Fe]=be({},Xe[Fe],{value:Me,modified:!0}),Xe},se=g.useRef(null),ae=ci(),pe=Fe=>{H!=null&&(se.current={sectionIndex:H,value:Fe},ae.start(0,()=>{se.current=null}))},he=()=>{o.areValuesEqual(s,E,o.emptyValue)?K(Fe=>be({},Fe,{sections:Fe.sections.map(Me=>be({},Me,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(K(Fe=>be({},Fe,{characterQuery:null})),X(o.emptyValue))},re=()=>{if(H==null)return;const Fe=Q.sections[H];Fe.value!==""&&(pe(""),l.getDateFromSection(E,Fe)===null?K(Me=>be({},Me,{sections:te(H,""),tempValueStrAndroid:null,characterQuery:null})):(K(Me=>be({},Me,{characterQuery:null})),X(l.updateDateInValue(E,Fe,null))))},xe=Fe=>{const Me=(ke,Ye)=>{const ye=s.parse(ke,v);if(!s.isValid(ye))return null;const We=gT({adapter:s,localeText:a,localizedDigits:O,format:v,date:ye,formatDensity:_,shouldRespectLeadingZeros:b,enableAccessibleFieldDOMStructure:C,isRtl:n});return xT(s,ye,We,Ye,!1)},Xe=l.parseValueStr(Fe,Q.referenceValue,Me);X(Xe)},ge=ci(),le=({section:Fe,newSectionValue:Me,shouldGoToNextSection:Xe})=>{ae.clear(),ge.clear();const ke=l.getDateFromSection(E,Fe);Xe&&H<Q.sections.length-1&&V(H+1);const Ye=te(H,Me),ye=l.getDateSectionsFromValue(Ye,Fe),We=Ape(s,ye,O);if(s.isValid(We)){const Ge=xT(s,We,ye,l.getDateFromSection(Q.referenceValue,Fe),!0);return ke==null&&ge.start(0,()=>{R.current===E&&K(jt=>be({},jt,{sections:l.clearDateSections(Q.sections,Fe),tempValueStrAndroid:null}))}),X(l.updateDateInValue(E,Fe,Ge))}return ye.every(Ge=>Ge.value!=="")&&(ke==null||s.isValid(ke))?(pe(Me),X(l.updateDateInValue(E,Fe,We))):(ke!=null&&(pe(Me),X(l.updateDateInValue(E,Fe,We))),K(Ge=>be({},Ge,{sections:Ye,tempValueStrAndroid:null})))},de=Fe=>K(Me=>be({},Me,{tempValueStrAndroid:Fe})),we=At(Fe=>{K(Me=>be({},Me,{characterQuery:Fe}))});if(E!==Q.lastExternalValue){const Fe=se.current!=null&&!s.isValid(l.getDateFromSection(E,Q.sections[se.current.sectionIndex]));let Me;Fe?Me=te(se.current.sectionIndex,se.current.value):Me=A(E),K(Xe=>be({},Xe,{lastExternalValue:E,sections:Me,sectionsDependencies:{format:v,isRtl:n,locale:s.locale},referenceValue:Fe?Xe.referenceValue:l.updateReferenceValue(s,E,Xe.referenceValue),tempValueStrAndroid:null}))}if(n!==Q.lastSectionsDependencies.isRtl||v!==Q.lastSectionsDependencies.format||s.locale!==Q.lastSectionsDependencies.locale){const Fe=A(E);K(Me=>be({},Me,{lastSectionsDependencies:{format:v,isRtl:n,locale:s.locale},sections:Fe,tempValueStrAndroid:null,characterQuery:null}))}Q.characterQuery!=null&&!W&&H==null&&we(null),Q.characterQuery!=null&&Q.sections[Q.characterQuery.sectionIndex]?.type!==Q.characterQuery.sectionType&&we(null),g.useEffect(()=>{se.current!=null&&(se.current=null)});const Ae=ci();return g.useEffect(()=>(Q.characterQuery!=null&&Ae.start(Cfe,()=>we(null)),()=>{}),[Q.characterQuery,we,Ae]),g.useEffect(()=>{Q.tempValueStrAndroid!=null&&H!=null&&re()},[Q.sections]),{activeSectionIndex:H,areAllSectionsEmpty:M,error:W,localizedDigits:O,parsedSelectedSections:Y,sectionOrder:F,sectionsValueBoundaries:$,state:Q,timezone:T,value:E,clearValue:he,clearActiveSection:re,setCharacterQuery:we,setSelectedSections:V,setTempAndroidValueStr:de,updateSectionValue:le,updateValueFromValueStr:xe,getSectionsFromValue:A}};function $I(t){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:s},internalProps:a,skipContextFieldRefAssignment:n}=t,r=gS(),i=bI(),o=Us(a.unstableFieldRef,n?null:i?.fieldRef),l=r?.setValue,c=g.useCallback((u,h)=>l?.(u,{validationError:h.validationError,shouldClose:!1}),[l]),m=g.useMemo(()=>i!=null&&r!=null?be({value:r.value,onChange:c,timezone:r.timezone,disabled:r.disabled,readOnly:r.readOnly,autoFocus:r.autoFocus&&!r.open,focused:r.open?!0:void 0,format:r.fieldFormat,formatDensity:i.formatDensity,enableAccessibleFieldDOMStructure:i.enableAccessibleFieldDOMStructure,selectedSections:i.selectedSections,onSelectedSectionsChange:i.onSelectedSectionsChange,unstableFieldRef:o},a):a,[r,i,a,c,o]);return s(m)}function jS(t){const{focused:s,domGetters:a,stateResponse:{parsedSelectedSections:n,state:r}}=t;if(!a.isReady())return;const i=dn(a.getRoot()).getSelection();if(!i)return;if(n==null){i.rangeCount>0&&i.getRangeAt(0).startContainer instanceof Node&&a.getRoot().contains(i.getRangeAt(0).startContainer)&&i.removeAllRanges(),s&&a.getRoot().blur();return}if(!a.getRoot().contains(ir(a.getRoot())))return;const o=new window.Range;let l;n==="all"?l=a.getRoot():r.sections[n].type==="empty"?l=a.getSectionContainer(n):l=a.getSectionContent(n),o.selectNodeContents(l),l.focus(),i.removeAllRanges(),i.addRange(o)}function qI(t){const s=ks(),{manager:{internal_fieldValueManager:a},internalPropsWithDefaults:{minutesStep:n,disabled:r,readOnly:i},stateResponse:{state:o,value:l,activeSectionIndex:c,parsedSelectedSections:m,sectionsValueBoundaries:u,localizedDigits:h,timezone:f,sectionOrder:v,clearValue:_,clearActiveSection:S,setSelectedSections:j,updateSectionValue:b}}=t;return At(w=>{if(!r)switch(!0){case((w.ctrlKey||w.metaKey)&&String.fromCharCode(w.keyCode)==="A"&&!w.shiftKey&&!w.altKey):{w.preventDefault(),j("all");break}case w.key==="ArrowRight":{if(w.preventDefault(),m==null)j(v.startIndex);else if(m==="all")j(v.endIndex);else{const C=v.neighbors[m].rightIndex;C!==null&&j(C)}break}case w.key==="ArrowLeft":{if(w.preventDefault(),m==null)j(v.endIndex);else if(m==="all")j(v.startIndex);else{const C=v.neighbors[m].leftIndex;C!==null&&j(C)}break}case w.key==="Delete":{if(w.preventDefault(),i)break;m==null||m==="all"?_():S();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(w.key):{if(w.preventDefault(),i||c==null)break;m==="all"&&j(c);const C=o.sections[c],P=Pfe(s,f,C,w.key,u,h,a.getDateFromSection(l,C),{minutesStep:n});b({section:C,newSectionValue:P,shouldGoToNextSection:!1});break}}})}function kfe(t){switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function Pfe(t,s,a,n,r,i,o,l){const c=kfe(n),m=n==="Home",u=n==="End",h=a.value===""||m||u,f=()=>{const _=r[a.type]({currentDate:o,format:a.format,contentType:a.contentType}),S=w=>fI(t,w,_,i,a),j=a.type==="minutes"&&l?.minutesStep?l.minutesStep:1;let b;if(h){if(a.type==="year"&&!u&&!m)return t.formatByString(t.date(void 0,s),a.format);c>0||m?b=_.minimum:b=_.maximum}else b=parseInt(yu(a.value,i),10)+c*j;return b%j!==0&&((c<0||m)&&(b+=j-(j+b)%j),(c>0||u)&&(b-=b%j)),b>_.maximum?S(_.minimum+(b-_.maximum-1)%(_.maximum-_.minimum+1)):b<_.minimum?S(_.maximum-(_.minimum-b-1)%(_.maximum-_.minimum+1)):S(b)},v=()=>{const _=hI(t,s,a.type,a.format);if(_.length===0)return a.value;if(h)return c>0||m?_[0]:_[_.length-1];const b=((_.indexOf(a.value)+c)%_.length+_.length)%_.length;return _[b]};return a.contentType==="digit"||a.contentType==="digit-with-letter"?f():v()}function Efe(t){const{manager:s,focused:a,setFocused:n,domGetters:r,stateResponse:i,applyCharacterEditing:o,internalPropsWithDefaults:l,stateResponse:{parsedSelectedSections:c,sectionOrder:m,state:u,clearValue:h,setCharacterQuery:f,setSelectedSections:v,updateValueFromValueStr:_},internalPropsWithDefaults:{disabled:S=!1,readOnly:j=!1}}=t,b=qI({manager:s,internalPropsWithDefaults:l,stateResponse:i}),w=ci(),C=At(R=>{S||!r.isReady()||(n(!0),c==="all"?w.start(0,()=>{const z=document.getSelection().getRangeAt(0).startOffset;if(z===0){v(m.startIndex);return}let O=0,$=0;for(;$<z&&O<u.sections.length;){const A=u.sections[O];O+=1,$+=`${A.startSeparator}${A.value||A.placeholder}${A.endSeparator}`.length}v(O-1)}):a?r.getRoot().contains(R.target)||v(m.startIndex):(n(!0),v(m.startIndex)))}),P=At(R=>{if(!r.isReady()||c!=="all")return;const O=R.target.textContent??"";r.getRoot().innerHTML=u.sections.map($=>`${$.startSeparator}${$.value||$.placeholder}${$.endSeparator}`).join(""),jS({focused:a,domGetters:r,stateResponse:i}),O.length===0||O.charCodeAt(0)===10?(h(),v("all")):O.length>1?_(O):(c==="all"&&v(0),o({keyPressed:O,sectionIndex:0}))}),E=At(R=>{if(j||c!=="all"){R.preventDefault();return}const z=R.clipboardData.getData("text");R.preventDefault(),f(null),_(z)}),D=At(()=>{if(a||S||!r.isReady())return;const R=ir(r.getRoot());n(!0),r.getSectionIndexFromDOMElement(R)!=null||v(m.startIndex)}),T=At(()=>{setTimeout(()=>{if(!r.isReady())return;const R=ir(r.getRoot());!r.getRoot().contains(R)&&(n(!1),v(null))})});return{onKeyDown:b,onBlur:T,onFocus:D,onClick:C,onPaste:E,onInput:P,contentEditable:c==="all",tabIndex:l.disabled||c===0?-1:0}}function Tfe(t){const{manager:{internal_fieldValueManager:s},stateResponse:{areAllSectionsEmpty:a,state:n,updateValueFromValueStr:r}}=t,i=At(l=>{r(l.target.value)});return{value:g.useMemo(()=>a?"":s.getV7HiddenInputValueFromSections(n.sections),[a,n.sections,s]),onChange:i}}function Mfe(t){const{stateResponse:{setSelectedSections:s},internalPropsWithDefaults:{disabled:a=!1}}=t,n=g.useCallback(r=>i=>{a||i.isDefaultPrevented()||s(r)},[a,s]);return g.useCallback(r=>({"data-sectionindex":r,onClick:n(r)}),[n])}function Dfe(t){const s=ks(),a=tr(),{focused:n,domGetters:r,stateResponse:i,applyCharacterEditing:o,manager:{internal_fieldValueManager:l},stateResponse:{parsedSelectedSections:c,sectionsValueBoundaries:m,state:u,value:h,clearActiveSection:f,setCharacterQuery:v,setSelectedSections:_,updateSectionValue:S,updateValueFromValueStr:j},internalPropsWithDefaults:{disabled:b=!1,readOnly:w=!1}}=t,C=c==="all",P=!C&&!b&&!w,E=At($=>{if(!r.isReady())return;const A=u.sections[$];r.getSectionContent($).innerHTML=A.value||A.placeholder,jS({focused:n,domGetters:r,stateResponse:i})}),D=At($=>{if(!r.isReady())return;const A=$.target,Q=A.textContent??"",K=r.getSectionIndexFromDOMElement(A),U=u.sections[K];if(w){E(K);return}if(Q.length===0){if(U.value===""){E(K);return}const B=$.nativeEvent.inputType;if(B==="insertParagraph"||B==="insertLineBreak"){E(K);return}E(K),f();return}o({keyPressed:Q,sectionIndex:K}),E(K)}),T=At($=>{$.preventDefault()}),R=At($=>{if($.preventDefault(),w||b||typeof c!="number")return;const A=u.sections[c],Q=$.clipboardData.getData("text"),K=/^[a-zA-Z]+$/.test(Q),U=/^[0-9]+$/.test(Q),B=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Q);A.contentType==="letter"&&K||A.contentType==="digit"&&U||A.contentType==="digit-with-letter"&&B?(v(null),S({section:A,newSectionValue:Q,shouldGoToNextSection:!0})):!K&&!U&&(v(null),j(Q))}),z=At($=>{$.preventDefault(),$.dataTransfer.dropEffect="none"}),O=g.useCallback($=>()=>{b||_($)},[b,_]);return g.useCallback(($,A)=>{const Q=m[$.type]({currentDate:l.getDateFromSection(h,$),contentType:$.contentType,format:$.format});return{onInput:D,onPaste:R,onMouseUp:T,onDragOver:z,onFocus:O(A),"aria-readonly":w,"aria-valuenow":Afe($,s),"aria-valuemin":Q.minimum,"aria-valuemax":Q.maximum,"aria-valuetext":$.value?Rfe($,s):a.empty,"aria-label":a[$.type],"aria-disabled":b,tabIndex:!P||C||A>0?-1:0,contentEditable:!C&&!b&&!w,role:"spinbutton","data-range-position":$.dateName||void 0,spellCheck:P?!1:void 0,autoCapitalize:P?"none":void 0,autoCorrect:P?"off":void 0,children:$.value||$.placeholder,inputMode:$.contentType==="letter"?"text":"numeric"}},[m,C,b,w,P,a,s,D,R,T,z,O,l,h])}function Rfe(t,s){if(t.value)switch(t.type){case"month":{if(t.contentType==="digit"){const n=s.setMonth(s.date(),Number(t.value)-1);return s.isValid(n)?s.format(n,"month"):""}const a=s.parse(t.value,t.format);return a&&s.isValid(a)?s.format(a,"month"):void 0}case"day":if(t.contentType==="digit"){const a=s.setDate(s.startOfYear(s.date()),Number(t.value));return s.isValid(a)?s.format(a,"dayOfMonthFull"):""}return t.value;case"weekDay":return;default:return}}function Afe(t,s){if(t.value)switch(t.type){case"weekDay":return t.contentType==="letter"?void 0:Number(t.value);case"meridiem":{const a=s.parse(`01:00 ${t.value}`,`${s.formats.hours12h}:${s.formats.minutes} ${t.format}`);return a?s.getHours(a)>=12?1:0:void 0}case"day":return t.contentType==="digit-with-letter"?parseInt(t.value,10):Number(t.value);case"month":{if(t.contentType==="digit")return Number(t.value);const a=s.parse(t.value,t.format);return a?s.getMonth(a)+1:void 0}default:return t.contentType!=="letter"?Number(t.value):void 0}}const Ife=t=>{const{props:s,manager:a,skipContextFieldRefAssignment:n,manager:{valueType:r,internal_useOpenPickerButtonAriaLabel:i}}=t,{internalProps:o,forwardedProps:l}=uI(s,r),c=$I({manager:a,internalProps:o,skipContextFieldRefAssignment:n}),{sectionListRef:m,onBlur:u,onClick:h,onFocus:f,onInput:v,onPaste:_,onKeyDown:S,onClear:j,clearable:b}=l,{disabled:w=!1,readOnly:C=!1,autoFocus:P=!1,focused:E,unstableFieldRef:D}=c,T=g.useRef(null),R=Us(m,T),z=g.useMemo(()=>({isReady:()=>T.current!=null,getRoot:()=>T.current.getRoot(),getSectionContainer:Ae=>T.current.getSectionContainer(Ae),getSectionContent:Ae=>T.current.getSectionContent(Ae),getSectionIndexFromDOMElement:Ae=>T.current.getSectionIndexFromDOMElement(Ae)}),[T]),O=zI({manager:a,internalPropsWithDefaults:c,forwardedProps:l}),{areAllSectionsEmpty:$,error:A,parsedSelectedSections:Q,sectionOrder:K,state:U,value:B,clearValue:V,setSelectedSections:Y}=O,H=FI({stateResponse:O}),F=i(B),[M,L]=g.useState(!1);function W(Ae=0){if(w||!T.current||wT(T)!=null)return;const Fe=b_(Ae,U.sections);L(!0),T.current.getSectionContent(Fe).focus()}const X=Efe({manager:a,internalPropsWithDefaults:c,stateResponse:O,applyCharacterEditing:H,focused:M,setFocused:L,domGetters:z}),te=Tfe({manager:a,stateResponse:O}),se=Mfe({stateResponse:O,internalPropsWithDefaults:c}),ae=Dfe({manager:a,stateResponse:O,applyCharacterEditing:H,internalPropsWithDefaults:c,domGetters:z,focused:M}),pe=At(Ae=>{S?.(Ae),X.onKeyDown(Ae)}),he=At(Ae=>{u?.(Ae),X.onBlur(Ae)}),re=At(Ae=>{f?.(Ae),X.onFocus(Ae)}),xe=At(Ae=>{Ae.isDefaultPrevented()||(h?.(Ae),X.onClick(Ae))}),ge=At(Ae=>{_?.(Ae),X.onPaste(Ae)}),le=At(Ae=>{v?.(Ae),X.onInput(Ae)}),de=At((Ae,...Fe)=>{Ae.preventDefault(),j?.(Ae,...Fe),V(),_T(T)?Y(K.startIndex):W(0)}),we=g.useMemo(()=>U.sections.map((Ae,Fe)=>{const Me=ae(Ae,Fe);return{container:se(Fe),content:ae(Ae,Fe),before:{children:Ae.startSeparator},after:{children:Ae.endSeparator,"data-range-position":Ae.isEndFormatSeparator?Me["data-range-position"]:void 0}}}),[U.sections,se,ae]);return g.useEffect(()=>{if(T.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));P&&!w&&T.current&&T.current.getSectionContent(K.startIndex).focus()},[]),La(()=>{if(!(!M||!T.current)){if(Q==="all")T.current.getRoot().focus();else if(typeof Q=="number"){const Ae=T.current.getSectionContent(Q);Ae&&Ae.focus()}}},[Q,M]),La(()=>{jS({focused:M,domGetters:z,stateResponse:O})}),g.useImperativeHandle(D,()=>({getSections:()=>U.sections,getActiveSectionIndex:()=>wT(T),setSelectedSections:Ae=>{if(w||!T.current)return;const Fe=b_(Ae,U.sections);L((Fe==="all"?0:Fe)!==null),Y(Ae)},focusField:W,isFieldFocused:()=>_T(T)})),be({},l,X,{onBlur:he,onClick:xe,onFocus:re,onInput:le,onPaste:ge,onKeyDown:pe,onClear:de},te,{error:A,clearable:!!(b&&!$&&!C&&!w),focused:E??M,sectionListRef:R,enableAccessibleFieldDOMStructure:!0,elements:we,areAllSectionsEmpty:$,disabled:w,readOnly:C,autoFocus:P,openPickerAriaLabel:F})};function wT(t){const s=ir(t.current?.getRoot());return!s||!t.current||!t.current.getRoot().contains(s)?null:t.current.getSectionIndexFromDOMElement(s)}function _T(t){const s=ir(t.current?.getRoot());return!!t.current&&t.current.getRoot().contains(s)}const Im=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),Ofe=(t,s,a)=>{let n=0,r=a?1:0;const i=[];for(let o=0;o<t.length;o+=1){const l=t[o],c=fS(l,a?"input-rtl":"input-ltr",s),m=`${l.startSeparator}${c}${l.endSeparator}`,u=Im(m).length,h=m.length,f=Im(c),v=r+(f===""?0:c.indexOf(f[0]))+l.startSeparator.length,_=v+f.length;i.push(be({},l,{start:n,end:n+u,startInInput:v,endInInput:_})),n+=u,r+=h}return i},Ffe=t=>{const s=qn(),a=ci(),n=ci(),{props:r,manager:i,skipContextFieldRefAssignment:o,manager:{valueType:l,internal_valueManager:c,internal_fieldValueManager:m,internal_useOpenPickerButtonAriaLabel:u}}=t,{internalProps:h,forwardedProps:f}=uI(r,l),v=$I({manager:i,internalProps:h,skipContextFieldRefAssignment:o}),{onFocus:_,onClick:S,onPaste:j,onBlur:b,onKeyDown:w,onClear:C,clearable:P,inputRef:E,placeholder:D}=f,{readOnly:T=!1,disabled:R=!1,autoFocus:z=!1,focused:O,unstableFieldRef:$}=v,A=g.useRef(null),Q=Us(E,A),K=zI({manager:i,internalPropsWithDefaults:v,forwardedProps:f}),{activeSectionIndex:U,areAllSectionsEmpty:B,error:V,localizedDigits:Y,parsedSelectedSections:H,sectionOrder:F,state:M,value:L,clearValue:W,clearActiveSection:X,setCharacterQuery:te,setSelectedSections:se,setTempAndroidValueStr:ae,updateSectionValue:pe,updateValueFromValueStr:he,getSectionsFromValue:re}=K,xe=FI({stateResponse:K}),ge=u(L),le=g.useMemo(()=>Ofe(M.sections,Y,s),[M.sections,Y,s]);function de(){const ve=A.current.selectionStart??0;let Le;ve<=le[0].startInInput||ve>=le[le.length-1].endInInput?Le=1:Le=le.findIndex(bt=>bt.startInInput-bt.startSeparator.length>ve);const $e=Le===-1?le.length-1:Le-1;se($e)}function we(ve=0){ir(A.current)!==A.current&&(A.current?.focus(),se(ve))}const Ae=At(ve=>{_?.(ve);const Le=A.current;a.start(0,()=>{!Le||Le!==A.current||U==null&&(Le.value.length&&Number(Le.selectionEnd)-Number(Le.selectionStart)===Le.value.length?se("all"):de())})}),Fe=At((ve,...Le)=>{ve.isDefaultPrevented()||(S?.(ve,...Le),de())}),Me=At(ve=>{if(j?.(ve),ve.preventDefault(),T||R)return;const Le=ve.clipboardData.getData("text");if(typeof H=="number"){const $e=M.sections[H],bt=/^[a-zA-Z]+$/.test(Le),Zt=/^[0-9]+$/.test(Le),Ot=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Le);if($e.contentType==="letter"&&bt||$e.contentType==="digit"&&Zt||$e.contentType==="digit-with-letter"&&Ot){te(null),pe({section:$e,newSectionValue:Le,shouldGoToNextSection:!0});return}if(bt||Zt)return}te(null),he(Le)}),Xe=At(ve=>{b?.(ve),se(null)}),ke=At(ve=>{if(T)return;const Le=ve.target.value;if(Le===""){W();return}const $e=ve.nativeEvent.data,bt=$e&&$e.length>1,Zt=bt?$e:Le,Ot=Im(Zt);if(H==="all"&&se(U),U==null||bt){he(bt?$e:Ot);return}let It;if(H==="all"&&Ot.length===1)It=Ot;else{const ts=Im(m.getV6InputValueFromSections(le,Y,s));let st=-1,Gt=-1;for(let Ls=0;Ls<ts.length;Ls+=1)st===-1&&ts[Ls]!==Ot[Ls]&&(st=Ls),Gt===-1&&ts[ts.length-Ls-1]!==Ot[Ot.length-Ls-1]&&(Gt=Ls);const es=le[U];if(st<es.start||ts.length-Gt-1>es.end)return;const As=Ot.length-ts.length+es.end-Im(es.endSeparator||"").length;It=Ot.slice(es.start+Im(es.startSeparator||"").length,As)}if(It.length===0){zpe()&&ae(Zt),X();return}xe({keyPressed:It,sectionIndex:U})}),Ye=At((ve,...Le)=>{ve.preventDefault(),C?.(ve,...Le),W(),ST(A)?se(F.startIndex):we(0)}),ye=qI({manager:i,internalPropsWithDefaults:v,stateResponse:K}),We=At(ve=>{w?.(ve),ye(ve)}),Ge=g.useMemo(()=>D!==void 0?D:m.getV6InputValueFromSections(re(c.emptyValue),Y,s),[D,m,re,c.emptyValue,Y,s]),jt=g.useMemo(()=>M.tempValueStrAndroid??m.getV6InputValueFromSections(M.sections,Y,s),[M.sections,m,M.tempValueStrAndroid,Y,s]);g.useEffect(()=>{A.current&&A.current===ir(A.current)&&se("all")},[]),La(()=>{function ve(){if(!A.current)return;if(H==null){A.current.scrollLeft&&(A.current.scrollLeft=0);return}if(A.current!==ir(A.current))return;const Le=A.current.scrollTop;if(H==="all")A.current.select();else{const $e=le[H],bt=$e.type==="empty"?$e.startInInput-$e.startSeparator.length:$e.startInInput,Zt=$e.type==="empty"?$e.endInInput+$e.endSeparator.length:$e.endInInput;(bt!==A.current.selectionStart||Zt!==A.current.selectionEnd)&&A.current===ir(A.current)&&A.current.setSelectionRange(bt,Zt),n.start(0,()=>{A.current&&A.current===ir(A.current)&&A.current.selectionStart===A.current.selectionEnd&&(A.current.selectionStart!==bt||A.current.selectionEnd!==Zt)&&ve()})}A.current.scrollTop=Le}ve()});const dt=g.useMemo(()=>U==null||M.sections[U].contentType==="letter"?"text":"numeric",[U,M.sections]),Dt=!(A.current&&A.current===ir(A.current))&&B;return g.useImperativeHandle($,()=>({getSections:()=>M.sections,getActiveSectionIndex:()=>{const ve=A.current.selectionStart??0,Le=A.current.selectionEnd??0;if(ve===0&&Le===0)return null;const $e=ve<=le[0].startInInput?1:le.findIndex(bt=>bt.startInInput-bt.startSeparator.length>ve);return $e===-1?le.length-1:$e-1},setSelectedSections:ve=>se(ve),focusField:we,isFieldFocused:()=>ST(A)})),be({},f,{error:V,"aria-invalid":V,clearable:!!(P&&!B&&!T&&!R),onBlur:Xe,onClick:Fe,onFocus:Ae,onPaste:Me,onKeyDown:We,onClear:Ye,inputRef:Q,enableAccessibleFieldDOMStructure:!1,placeholder:Ge,inputMode:dt,autoComplete:"off",value:Dt?"":jt,onChange:ke,focused:O,disabled:R,readOnly:T,autoFocus:z,openPickerAriaLabel:ge})};function ST(t){return t.current===ir(t.current)}const NS=t=>{const s=bI();return(t.props.enableAccessibleFieldDOMStructure??s?.enableAccessibleFieldDOMStructure??!0?Ife:Ffe)(t)};function Lfe(t={}){const{enableAccessibleFieldDOMStructure:s=!0}=t;return g.useMemo(()=>({valueType:"date",validator:Ip,internal_valueManager:un,internal_fieldValueManager:yS,internal_enableAccessibleFieldDOMStructure:s,internal_useApplyDefaultValuesToFieldInternalProps:$fe,internal_useOpenPickerButtonAriaLabel:zfe}),[s])}function zfe(t){const s=ks(),a=tr();return g.useMemo(()=>{const n=s.isValid(t)?s.format(t,"fullDate"):null;return a.openDatePickerDialogue(n)},[t,a,s])}function $fe(t){const s=ks(),a=Eg(t);return g.useMemo(()=>be({},t,a,{format:t.format??s.formats.keyboardDate}),[t,a,s])}function Eg(t){const s=ks(),a=wI();return g.useMemo(()=>({disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,minDate:Db(s,t.minDate,a.minDate),maxDate:Db(s,t.maxDate,a.maxDate)}),[t.minDate,t.maxDate,t.disableFuture,t.disablePast,s,a])}function qfe(t={}){const{enableAccessibleFieldDOMStructure:s=!0,ampm:a}=t;return g.useMemo(()=>({valueType:"time",validator:Pg,internal_valueManager:un,internal_fieldValueManager:yS,internal_enableAccessibleFieldDOMStructure:s,internal_useApplyDefaultValuesToFieldInternalProps:Ufe,internal_useOpenPickerButtonAriaLabel:Bfe(a)}),[a,s])}function Bfe(t){return function(a){const n=ks(),r=tr();return g.useMemo(()=>{const i=t??n.is12HourCycleInCurrentLocale()?"fullTime12h":"fullTime24h",o=n.isValid(a)?n.format(a,i):null;return r.openTimePickerDialogue(o)},[a,r,n])}}function Ufe(t){const s=ks(),a=BI(t),n=g.useMemo(()=>t.ampm??s.is12HourCycleInCurrentLocale(),[t.ampm,s]);return g.useMemo(()=>be({},t,a,{format:t.format??(n?s.formats.fullTime12h:s.formats.fullTime24h)}),[t,a,n,s])}function BI(t){return g.useMemo(()=>({disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1}),[t.disablePast,t.disableFuture])}function Vfe(t={}){const{enableAccessibleFieldDOMStructure:s=!0}=t;return g.useMemo(()=>({valueType:"date-time",validator:Zv,internal_valueManager:un,internal_fieldValueManager:yS,internal_enableAccessibleFieldDOMStructure:s,internal_useApplyDefaultValuesToFieldInternalProps:Wfe,internal_useOpenPickerButtonAriaLabel:Hfe}),[s])}function Hfe(t){const s=ks(),a=tr();return g.useMemo(()=>{const n=s.isValid(t)?s.format(t,"fullDate"):null;return a.openDatePickerDialogue(n)},[t,a,s])}function Wfe(t){const s=ks(),a=UI(t),n=g.useMemo(()=>t.ampm??s.is12HourCycleInCurrentLocale(),[t.ampm,s]);return g.useMemo(()=>be({},t,a,{format:t.format??(n?s.formats.keyboardDateTime12h:s.formats.keyboardDateTime24h)}),[t,a,n,s])}function UI(t){const s=ks(),a=wI();return g.useMemo(()=>({disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,disableIgnoringDatePartForTimeValidation:!!t.minDateTime||!!t.maxDateTime||!!t.disableFuture||!!t.disablePast,minDate:Db(s,t.minDateTime??t.minDate,a.minDate),maxDate:Db(s,t.maxDateTime??t.maxDate,a.maxDate),minTime:t.minDateTime??t.minTime,maxTime:t.maxDateTime??t.maxTime}),[t.minDateTime,t.maxDateTime,t.minTime,t.maxTime,t.minDate,t.maxDate,t.disableFuture,t.disablePast,s,a])}const Yfe=t=>{const s=Lfe(t);return NS({manager:s,props:t})};function wS(t){const{ownerState:s}=Ha(),a=qn();return g.useMemo(()=>be({},s,{isFieldDisabled:t.disabled??!1,isFieldReadOnly:t.readOnly??!1,isFieldRequired:t.required??!1,fieldDirection:a?"rtl":"ltr"}),[s,t.disabled,t.readOnly,t.required,a])}function Gfe(t){return Et("MuiPickersTextField",t)}Pt("MuiPickersTextField",["root","focused","disabled","error","required"]);function Kfe(t){return Et("MuiPickersInputBase",t)}const Jm=Pt("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","inputSizeSmall","activeBar"]);function Qfe(t){return Et("MuiPickersSectionList",t)}const Pm=Pt("MuiPickersSectionList",["root","section","sectionContent"]),Zfe=["slots","slotProps","elements","sectionListRef","classes"],VI=Ne("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),HI=Ne("span",{name:"MuiPickersSectionList",slot:"Section"})({}),WI=Ne("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),YI=Ne("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),Xfe=t=>kt({root:["root"],section:["section"],sectionContent:["sectionContent"]},Qfe,t);function Jfe(t){const{slots:s,slotProps:a,element:n,classes:r}=t,{ownerState:i}=Ha(),o=s?.section??HI,l=ta({elementType:o,externalSlotProps:a?.section,externalForwardedProps:n.container,className:r.section,ownerState:i}),c=s?.sectionContent??YI,m=ta({elementType:c,externalSlotProps:a?.sectionContent,externalForwardedProps:n.content,additionalProps:{suppressContentEditableWarning:!0},className:r.sectionContent,ownerState:i}),u=s?.sectionSeparator??WI,h=ta({elementType:u,externalSlotProps:a?.sectionSeparator,externalForwardedProps:n.before,ownerState:be({},i,{separatorPosition:"before"})}),f=ta({elementType:u,externalSlotProps:a?.sectionSeparator,externalForwardedProps:n.after,ownerState:be({},i,{separatorPosition:"after"})}),v=g.useRef(null),_=Us(m.ref,v),S=j=>{const b=j.relatedTarget,w=j.currentTarget.closest(`.${Pm.root}`);if(w&&b instanceof Node&&w.contains(b)){j.stopPropagation();return}};return e.jsxs(o,be({},l,{children:[e.jsx(u,be({},h)),e.jsx(c,be({},m,{ref:_,onBlur:S})),e.jsx(u,be({},f))]}))}const exe=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiPickersSectionList"}),{slots:r,slotProps:i,elements:o,sectionListRef:l,classes:c}=n,m=rs(n,Zfe),u=Xfe(c),{ownerState:h}=Ha(),f=g.useRef(null),v=Us(a,f),_=b=>{if(!f.current)throw new Error(`MUI X: Cannot call sectionListRef.${b} before the mount of the component.`);return f.current};g.useImperativeHandle(l,()=>({getRoot(){return _("getRoot")},getSectionContainer(b){return _("getSectionContainer").querySelector(`.${Pm.section}[data-sectionindex="${b}"]`)},getSectionContent(b){return _("getSectionContent").querySelector(`.${Pm.section}[data-sectionindex="${b}"] .${Pm.sectionContent}`)},getSectionIndexFromDOMElement(b){const w=_("getSectionIndexFromDOMElement");if(b==null||!w.contains(b))return null;let C=null;return b.classList.contains(Pm.section)?C=b:b.classList.contains(Pm.sectionContent)&&(C=b.parentElement),C==null?null:Number(C.dataset.sectionindex)}}));const S=r?.root??VI,j=ta({elementType:S,externalSlotProps:i?.root,externalForwardedProps:m,additionalProps:{ref:v,suppressContentEditableWarning:!0},className:u.root,ownerState:h});return e.jsx(S,be({},j,{children:j.contentEditable?o.map(({content:b,before:w,after:C})=>`${w.children}${b.children}${C.children}`).join(""):e.jsx(g.Fragment,{children:o.map((b,w)=>e.jsx(Jfe,{slots:r,slotProps:i,element:b,classes:u},w))})}))}),GI=g.createContext(null),Xv=()=>{const t=g.useContext(GI);if(t==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return t},txe=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],sxe=t=>Math.round(t*1e5)/1e5,Jv=Ne("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:t})=>be({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${sxe(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),_S=Ne(VI,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:t})=>({padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{justifyContent:"end"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:t.palette.mode==="light"?.42:.5}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!0,isLabelShrunk:!0},style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:t.palette.mode==="light"?.42:.5}}]})),axe=Ne(HI,{name:"MuiPickersInputBase",slot:"Section"})(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),nxe=Ne(YI,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(t,s)=>s.content})(({theme:t})=>({fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),rxe=Ne(WI,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),ixe=Ne("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(t,s)=>s.hiddenInput})(be({},pR)),oxe=Ne("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:t,ownerState:s})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:t.transitions.create(["width","left"],{duration:t.transitions.duration.shortest}),backgroundColor:(t.vars||t).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:s.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:s.sectionOffsets[1]}})),lxe=(t,s)=>{const{isFieldFocused:a,isFieldDisabled:n,isFieldReadOnly:r,hasFieldError:i,inputSize:o,isInputInFullWidth:l,inputColor:c,hasStartAdornment:m,hasEndAdornment:u}=s,h={root:["root",a&&!n&&"focused",n&&"disabled",r&&"readOnly",i&&"error",l&&"fullWidth",`color${Je(c)}`,o==="small"&&"inputSizeSmall",m&&"adornedStart",u&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return kt(h,Kfe,t)};function CT(t,s,a,n){if(t.content.id){const r=s.current?.querySelectorAll(`[data-sectionindex="${a}"] [data-range-position="${n}"]`);if(r)return Array.from(r).reduce((i,o)=>i+o.offsetWidth,0)}return 0}function cxe(t,s){let a=0;if(s.current?.getAttribute("data-active-range-position")==="end")for(let r=t.length-1;r>=t.length/2;r-=1)a+=CT(t[r],s,r,"end");else for(let r=0;r<t.length/2;r+=1)a+=CT(t[r],s,r,"start");return{activeBarWidth:a,sectionOffsets:[s.current?.querySelector('[data-sectionindex="0"]')?.offsetLeft||0,s.current?.querySelector(`[data-sectionindex="${t.length/2}"]`)?.offsetLeft||0]}}const SS=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiPickersInputBase"}),{elements:r,areAllSectionsEmpty:i,value:o,onChange:l,id:c,endAdornment:m,startAdornment:u,renderSuffix:h,slots:f,slotProps:v,contentEditable:_,tabIndex:S,onInput:j,onPaste:b,onKeyDown:w,name:C,readOnly:P,inputProps:E,inputRef:D,sectionListRef:T,onFocus:R,onBlur:z,classes:O,ownerState:$}=n,A=rs(n,txe),Q=Xv(),K=g.useRef(null),U=g.useRef(null),B=g.useRef([]),V=Us(a,K),Y=Us(E?.ref,D),H=Ni();if(!H)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const F=$??Q,M=re=>{H.onFocus?.(re),R?.(re)},L=re=>{M(re)},W=re=>{if(w?.(re),re.key==="Enter"&&!re.defaultMuiPrevented){if(K.current?.dataset.multiInput)return;const xe=K.current?.closest("form"),ge=xe?.querySelector('[type="submit"]');if(!xe||!ge)return;re.preventDefault(),xe.requestSubmit(ge)}},X=re=>{H.onBlur?.(re),z?.(re)};g.useEffect(()=>{H&&H.setAdornedStart(!!u)},[H,u]),g.useEffect(()=>{H&&(i?H.onEmpty():H.onFilled())},[H,i]);const te=lxe(O,F),se=f?.root||Jv,ae=ta({elementType:se,externalSlotProps:v?.root,externalForwardedProps:A,additionalProps:{"aria-invalid":H.error,ref:V},className:te.root,ownerState:F}),pe=f?.input||_S,he=r.some(re=>re.content["data-range-position"]!==void 0);return g.useEffect(()=>{if(!he||!F.isPickerOpen)return;const{activeBarWidth:re,sectionOffsets:xe}=cxe(r,K);B.current=[xe[0],xe[1]],U.current&&(U.current.style.width=`${re}px`)},[r,he,F.isPickerOpen]),e.jsxs(se,be({},ae,{children:[u,e.jsx(exe,{sectionListRef:T,elements:r,contentEditable:_,tabIndex:S,className:te.sectionsContainer,onFocus:M,onBlur:X,onInput:j,onPaste:b,onKeyDown:W,slots:{root:pe,section:axe,sectionContent:nxe,sectionSeparator:rxe},slotProps:{root:be({},v?.input,{ownerState:F}),sectionContent:{className:Jm.sectionContent},sectionSeparator:({separatorPosition:re})=>({className:re==="before"?Jm.sectionBefore:Jm.sectionAfter})}}),m,h?h(be({},H)):null,e.jsx(ixe,be({name:C,className:te.input,value:o,onChange:l,id:c,"aria-hidden":"true",tabIndex:-1,readOnly:P,required:H.required,disabled:H.disabled,onFocus:L},E,{ref:Y})),he&&e.jsx(oxe,{className:te.activeBar,ref:U,ownerState:{sectionOffsets:B.current}})]}))});function dxe(t){return Et("MuiPickersOutlinedInput",t)}const mo=be({},Jm,Pt("MuiPickersOutlinedInput",["root","notchedOutline","input"])),uxe=["children","className","label","notched","shrink"],mxe=Ne("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:t})=>{const s=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:s}}),kT=Ne("span")(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit"})),pxe=Ne("legend",{shouldForwardProp:t=>Lr(t)&&t!=="notched"})(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}));function hxe(t){const{className:s,label:a,notched:n}=t,r=rs(t,uxe),i=Xv();return e.jsx(mxe,be({"aria-hidden":!0,className:s},r,{ownerState:i,children:e.jsx(pxe,{ownerState:i,notched:n,children:a?e.jsx(kT,{children:a}):e.jsx(kT,{className:"notranslate",children:""})})}))}const fxe=["label","autoFocus","ownerState","classes","notched"],xxe=Ne(Jv,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:t})=>{const s=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${mo.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${mo.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:s}},[`&.${mo.focused} .${mo.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${mo.disabled}`]:{[`& .${mo.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled},"*":{color:(t.vars||t).palette.action.disabled}},[`&.${mo.error} .${mo.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},variants:Object.keys((t.vars??t).palette).filter(a=>(t.vars??t).palette[a]?.main??!1).map(a=>({props:{inputColor:a},style:{[`&.${mo.focused}:not(.${mo.error}) .${mo.notchedOutline}`]:{borderColor:(t.vars||t).palette[a].main}}}))}}),gxe=Ne(_S,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),yxe=t=>{const a=kt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},dxe,t);return be({},t,a)},KI=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiPickersOutlinedInput"}),{label:r,classes:i,notched:o}=n,l=rs(n,fxe),c=Ni(),m=yxe(i);return e.jsx(SS,be({slots:{root:xxe,input:gxe},renderSuffix:u=>e.jsx(hxe,{shrink:!!(o||u.adornedStart||u.focused||u.filled),notched:!!(o||u.adornedStart||u.focused||u.filled),className:m.notchedOutline,label:r!=null&&r!==""&&c?.required?e.jsxs(g.Fragment,{children:[r,"","*"]}):r})},l,{label:r,classes:m,ref:a}))});KI.muiName="Input";function bxe(t){return Et("MuiPickersFilledInput",t)}const Ad=be({},Jm,Pt("MuiPickersFilledInput",["root","underline","input"])),vxe=["label","autoFocus","disableUnderline","hiddenLabel","classes"],jxe=Ne(Jv,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:t=>Lr(t)&&t!=="disableUnderline"})(({theme:t})=>{const s=t.palette.mode==="light",a=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",r=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:r,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n}},[`&.${Ad.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n},[`&.${Ad.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:i},variants:[...Object.keys((t.vars??t).palette).filter(o=>(t.vars??t).palette[o].main).map(o=>({props:{inputColor:o,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[o]?.main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ad.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ad.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ad.disabled}, .${Ad.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Ad.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),Nxe=Ne(_S,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:t=>Lr(t)&&t!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),wxe=(t,s)=>{const{inputHasUnderline:a}=s,r=kt({root:["root",a&&"underline"],input:["input"]},bxe,t);return be({},t,r)},QI=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiPickersFilledInput"}),{label:r,disableUnderline:i=!1,hiddenLabel:o=!1,classes:l}=n,c=rs(n,vxe),m=Xv(),u=be({},m,{inputHasUnderline:!i}),h=wxe(l,u);return e.jsx(SS,be({slots:{root:jxe,input:Nxe},slotProps:{root:{disableUnderline:i},input:{hiddenLabel:o}}},c,{label:r,classes:h,ref:a,ownerState:u}))});QI.muiName="Input";function _xe(t){return Et("MuiPickersFilledInput",t)}const Gh=be({},Jm,Pt("MuiPickersInput",["root","underline","input"])),Sxe=["label","autoFocus","disableUnderline","ownerState","classes"],Cxe=Ne(Jv,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:t=>Lr(t)&&t!=="disableUnderline"})(({theme:t})=>{let a=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(a=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((t.vars??t).palette).filter(n=>(t.vars??t).palette[n].main).map(n=>({props:{inputColor:n,inputHasUnderline:!0},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}})),{props:{inputHasUnderline:!0},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Gh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Gh.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Gh.disabled}, .${Gh.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${a}`}},[`&.${Gh.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),kxe=(t,s)=>{const{inputHasUnderline:a}=s,r=kt({root:["root",!a&&"underline"],input:["input"]},_xe,t);return be({},t,r)},ZI=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiPickersInput"}),{label:r,disableUnderline:i=!1,classes:o}=n,l=rs(n,Sxe),c=Xv(),m=be({},c,{inputHasUnderline:!i}),u=kxe(o,m);return e.jsx(SS,be({slots:{root:Cxe},slotProps:{root:{disableUnderline:i}}},l,{ownerState:m,label:r,classes:u,ref:a}))});ZI.muiName="Input";const Pxe=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","hiddenLabel","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],Exe={standard:ZI,filled:QI,outlined:KI},Txe=Ne(Tv,{name:"MuiPickersTextField",slot:"Root"})({maxWidth:"100%"}),Mxe=(t,s)=>{const{isFieldFocused:a,isFieldDisabled:n,isFieldRequired:r}=s;return kt({root:["root",a&&!n&&"focused",n&&"disabled",r&&"required"]},Gfe,t)},XI=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiPickersTextField"}),{onFocus:r,onBlur:i,className:o,classes:l,color:c="primary",disabled:m=!1,error:u=!1,variant:h="outlined",required:f=!1,hiddenLabel:v=!1,InputProps:_,inputProps:S,inputRef:j,sectionListRef:b,elements:w,areAllSectionsEmpty:C,onClick:P,onKeyDown:E,onKeyUp:D,onPaste:T,onInput:R,endAdornment:z,startAdornment:O,tabIndex:$,contentEditable:A,focused:Q,value:K,onChange:U,fullWidth:B,id:V,name:Y,helperText:H,FormHelperTextProps:F,label:M,InputLabelProps:L,"data-active-range-position":W}=n,X=rs(n,Pxe),te=g.useRef(null),se=Us(a,te),ae=_r(V),pe=H&&ae?`${ae}-helper-text`:void 0,he=M&&ae?`${ae}-label`:void 0,re=wS({disabled:n.disabled,required:n.required,readOnly:_?.readOnly}),xe=g.useMemo(()=>be({},re,{isFieldValueEmpty:C,isFieldFocused:Q??!1,hasFieldError:u??!1,inputSize:n.size??"medium",inputColor:c??"primary",isInputInFullWidth:B??!1,hasStartAdornment:!!(O??_?.startAdornment),hasEndAdornment:!!(z??_?.endAdornment),inputHasLabel:!!M,isLabelShrunk:!!L?.shrink}),[re,C,Q,u,n.size,c,B,O,z,_?.startAdornment,_?.endAdornment,M,L?.shrink]),ge=Mxe(l,xe),le=Exe[h],de={};return h==="outlined"?(L&&typeof L.shrink<"u"&&(de.notched=L.shrink),de.label=M):h==="filled"&&(de.hiddenLabel=v),e.jsx(GI.Provider,{value:xe,children:e.jsxs(Txe,be({className:tt(ge.root,o),ref:se,focused:Q,disabled:m,variant:h,error:u,color:c,fullWidth:B,required:f,ownerState:xe},X,{children:[M!=null&&M!==""&&e.jsx(nR,be({htmlFor:ae,id:he},L,{children:M})),e.jsx(le,be({elements:w,areAllSectionsEmpty:C,onClick:P,onKeyDown:E,onKeyUp:D,onInput:R,onPaste:T,onFocus:r,onBlur:i,endAdornment:z,startAdornment:O,tabIndex:$,contentEditable:A,value:K,onChange:U,id:ae,fullWidth:B,inputProps:S,inputRef:j,sectionListRef:b,label:M,name:Y,role:"group","aria-labelledby":he,"aria-describedby":pe,"aria-live":pe?"polite":void 0,"data-active-range-position":W},de,_)),H&&e.jsx(D4,be({id:pe},F,{children:H}))]}))})}),Dxe=["enableAccessibleFieldDOMStructure"],Rxe=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],Axe=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],Ixe=["ownerState"],Oxe=["ownerState"],Fxe=["ownerState"],Lxe=["ownerState"],zxe=["InputProps","inputProps"],CN=()=>{},$xe=t=>{let{enableAccessibleFieldDOMStructure:s}=t,a=rs(t,Dxe);if(s){const{InputProps:w,readOnly:C,onClear:P,clearable:E,clearButtonPosition:D,openPickerButtonPosition:T,openPickerAriaLabel:R}=a,z=rs(a,Rxe),O=Oc>=6&&z?.slotProps?.input?Jf(z?.slotProps?.input,w):CN;return{clearable:E,onClear:P,clearButtonPosition:D,openPickerButtonPosition:T,openPickerAriaLabel:R,textFieldProps:be({},z,Oc>=6&&z?.slotProps?.input?{slotProps:be({},z?.slotProps,{input:$=>be({},mr(O,$),{readOnly:C})})}:{InputProps:be({},w??{},{readOnly:C})})}}const{onPaste:n,onKeyDown:r,inputMode:i,readOnly:o,InputProps:l,inputProps:c,inputRef:m,onClear:u,clearable:h,clearButtonPosition:f,openPickerButtonPosition:v,openPickerAriaLabel:_}=a,S=rs(a,Axe),j=Oc>=6&&S?.slotProps?.input?Jf(S?.slotProps?.input,l):CN,b=Oc>=6&&S?.slotProps?.htmlInput?Jf(S?.slotProps?.htmlInput,c):CN;return{clearable:h,onClear:u,clearButtonPosition:f,openPickerButtonPosition:v,openPickerAriaLabel:_,textFieldProps:be({},S,Oc>=6&&(S?.slotProps?.input||S?.slotProps?.htmlInput)?{slotProps:be({},S?.slotProps,{input:w=>be({},mr(j,w),{readOnly:o}),htmlInput:w=>be({},mr(b,w),{inputMode:i,onPaste:n,onKeyDown:r,ref:m})})}:{InputProps:be({},l??{},{readOnly:o}),inputProps:be({},c??{},{inputMode:i,onPaste:n,onKeyDown:r,ref:m})})}},CS=g.createContext({slots:{},slotProps:{},inputRef:void 0});function kS(t){const{fieldResponse:s,defaultOpenPickerIcon:a}=t,n=tr(),r=gS(),i=g.useContext(CS),{textFieldProps:o,onClear:l,clearable:c,openPickerAriaLabel:m,clearButtonPosition:u="end",openPickerButtonPosition:h="end"}=$xe(s),f=wS(o),v=At(F=>{F.preventDefault(),r?.setOpen(M=>!M)}),_=r?r.triggerStatus:"hidden",S=c?u:null,j=_!=="hidden"?h:null,b=i.slots.textField??(s.enableAccessibleFieldDOMStructure===!1?wn:XI),w=i.slots.inputAdornment??Aw,C=ta({elementType:w,externalSlotProps:i.slotProps.inputAdornment,additionalProps:{position:"start"},ownerState:be({},f,{position:"start"})}),P=rs(C,Ixe),E=ta({elementType:w,externalSlotProps:i.slotProps.inputAdornment,additionalProps:{position:"end"},ownerState:be({},f,{position:"end"})}),D=rs(E,Oxe),T=i.slots.openPickerButton??na,R=ta({elementType:T,externalSlotProps:i.slotProps.openPickerButton,additionalProps:{disabled:_==="disabled",onClick:v,"aria-label":m,edge:o.variant!=="standard"?j:!1},ownerState:f}),z=rs(R,Fxe),O=i.slots.openPickerIcon??a,$=ta({elementType:O,externalSlotProps:i.slotProps.openPickerIcon,ownerState:f}),A=i.slots.clearButton??na,Q=ta({elementType:A,externalSlotProps:i.slotProps.clearButton,className:"clearButton",additionalProps:{title:n.fieldClearLabel,tabIndex:-1,onClick:l,disabled:s.disabled||s.readOnly,edge:o.variant!=="standard"&&S!==j?S:!1},ownerState:f}),K=rs(Q,Lxe),U=i.slots.clearIcon??the,B=ta({elementType:U,externalSlotProps:i.slotProps.clearIcon,additionalProps:{fontSize:"small"},ownerState:f});o.ref=Us(o.ref,r?.rootRef);const V={},Y=mr((Oc>=6&&o?.slotProps?.input)??o.InputProps,f);r&&(V.ref=r.triggerRef),!Y?.startAdornment&&(S==="start"||j==="start")&&(V.startAdornment=e.jsxs(w,be({},P,{children:[j==="start"&&e.jsx(T,be({},z,{children:e.jsx(O,be({},$))})),S==="start"&&e.jsx(A,be({},K,{children:e.jsx(U,be({},B))}))]}))),!Y?.endAdornment&&(S==="end"||j==="end")&&(V.endAdornment=e.jsxs(w,be({},D,{children:[S==="end"&&e.jsx(A,be({},K,{children:e.jsx(U,be({},B))})),j==="end"&&e.jsx(T,be({},z,{children:e.jsx(O,be({},$))}))]}))),!V?.endAdornment&&!V?.startAdornment&&i.slots.inputAdornment&&(V.endAdornment=e.jsx(w,be({},D))),S!=null&&(o.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(o.sx)?o.sx:[o.sx]]);const H=Oc>=6&&o?.slotProps?.input?mr(Jf(Y,V),f):be({},Y,V);return o.inputProps=Oc>=6&&o?.slotProps?.htmlInput?mr(o.slotProps.htmlInput,f):o.inputProps,delete o?.slotProps?.input,s.enableAccessibleFieldDOMStructure&&delete o?.slotProps,e.jsx(b,be({},o,{InputProps:H}))}function Jf(t,s){return t?s?a=>be({},mr(s,a),mr(t,a)):t:s}function PS(t){const{ref:s,externalForwardedProps:a,slotProps:n}=t,r=g.useContext(CS),i=gS(),o=wS(a),{InputProps:l,inputProps:c}=a,m=rs(a,zxe),u=ta({elementType:XI,externalSlotProps:Jf(r.slotProps.textField,n?.textField),externalForwardedProps:m,additionalProps:{ref:s,sx:i?.rootSx,label:i?.label,name:i?.name,className:i?.rootClassName,inputRef:r.inputRef},ownerState:o});return u.inputProps=be({},c,u.inputProps),u.InputProps=be({},l,u.InputProps),u}function ES(t){const{slots:s={},slotProps:a={},inputRef:n,children:r}=t,i=g.useMemo(()=>({inputRef:n,slots:{openPickerButton:s.openPickerButton,openPickerIcon:s.openPickerIcon,textField:s.textField,inputAdornment:s.inputAdornment,clearIcon:s.clearIcon,clearButton:s.clearButton},slotProps:{openPickerButton:a.openPickerButton,openPickerIcon:a.openPickerIcon,textField:a.textField,inputAdornment:a.inputAdornment,clearIcon:a.clearIcon,clearButton:a.clearButton}}),[n,s.openPickerButton,s.openPickerIcon,s.textField,s.inputAdornment,s.clearIcon,s.clearButton,a.openPickerButton,a.openPickerIcon,a.textField,a.inputAdornment,a.clearIcon,a.clearButton]);return e.jsx(CS.Provider,{value:i,children:r})}const qxe=["slots","slotProps"],JI=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiDateField"}),{slots:r,slotProps:i}=n,o=rs(n,qxe),l=PS({slotProps:i,ref:a,externalForwardedProps:o}),c=Yfe(l);return e.jsx(ES,{slots:r,slotProps:i,inputRef:o.inputRef,children:e.jsx(kS,{fieldResponse:c,defaultOpenPickerIcon:_I})})}),Bxe=t=>{const s=qfe(t);return NS({manager:s,props:t})},Uxe=["slots","slotProps","InputProps","inputProps"],eO=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiTimeField"}),{slots:r,slotProps:i}=n,o=rs(n,Uxe),l=PS({slotProps:i,ref:a,externalForwardedProps:o}),c=Bxe(l);return e.jsx(ES,{slots:r,slotProps:i,inputRef:o.inputRef,children:e.jsx(kS,{fieldResponse:c,defaultOpenPickerIcon:Xpe})})}),Vxe=t=>{const s=Vfe(t);return NS({manager:s,props:t})},Hxe=["slots","slotProps"],tO=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiDateTimeField"}),{slots:r,slotProps:i}=n,o=rs(n,Hxe),l=PS({slotProps:i,ref:a,externalForwardedProps:o}),c=Vxe(l);return e.jsx(ES,{slots:r,slotProps:i,inputRef:o.inputRef,children:e.jsx(kS,{fieldResponse:c,defaultOpenPickerIcon:_I})})}),sO=({shouldDisableDate:t,shouldDisableMonth:s,shouldDisableYear:a,minDate:n,maxDate:r,disableFuture:i,disablePast:o,timezone:l})=>{const c=ks();return g.useCallback(m=>Ip({adapter:c,value:m,timezone:l,props:{shouldDisableDate:t,shouldDisableMonth:s,shouldDisableYear:a,minDate:n,maxDate:r,disableFuture:i,disablePast:o}})!==null,[c,t,s,a,n,r,i,o,l])},Wxe=(t,s)=>(a,n)=>{switch(n.type){case"setVisibleDate":return be({},a,{slideDirection:n.direction,currentMonth:n.month,isMonthSwitchingAnimating:!s.isSameMonth(n.month,a.currentMonth)&&!t&&!n.skipAnimation,focusedDay:n.focusedDay});case"changeMonthTimezone":{const r=n.newTimezone;if(s.getTimezone(a.currentMonth)===r)return a;let i=s.setTimezone(a.currentMonth,r);return s.getMonth(i)!==s.getMonth(a.currentMonth)&&(i=s.setMonth(i,s.getMonth(a.currentMonth))),be({},a,{currentMonth:i})}case"finishMonthSwitchingAnimation":return be({},a,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},Yxe=t=>{const{value:s,referenceDate:a,disableFuture:n,disablePast:r,maxDate:i,minDate:o,onMonthChange:l,onYearChange:c,reduceAnimations:m,shouldDisableDate:u,timezone:h,getCurrentMonthFromVisibleDate:f}=t,v=ks(),_=g.useRef(Wxe(!!m,v)).current,S=g.useMemo(()=>un.getInitialReferenceValue({value:s,adapter:v,timezone:h,props:t,referenceDate:a,granularity:fo.day}),[a,h]),[j,b]=g.useReducer(_,{isMonthSwitchingAnimating:!1,focusedDay:S,currentMonth:v.setDate(S,1),slideDirection:"left"}),w=sO({shouldDisableDate:u,minDate:o,maxDate:i,disableFuture:n,disablePast:r,timezone:h});g.useEffect(()=>{b({type:"changeMonthTimezone",newTimezone:v.getTimezone(S)})},[S,v]);const C=At(({target:E,reason:D})=>{if(D==="cell-interaction"&&j.focusedDay!=null&&v.isSameDay(E,j.focusedDay))return;const T=D==="cell-interaction";let R,z;if(D==="cell-interaction")R=f(E,j.currentMonth),z=E;else if(R=v.isSameMonth(E,j.currentMonth)?j.currentMonth:v.startOfMonth(E),z=E,w(z)){const A=v.startOfMonth(E),Q=v.endOfMonth(E);z=Ex({adapter:v,date:z,minDate:v.isBefore(o,A)?A:o,maxDate:v.isAfter(i,Q)?Q:i,disablePast:r,disableFuture:n,isDateDisabled:w,timezone:h})}const O=!v.isSameMonth(j.currentMonth,R),$=!v.isSameYear(j.currentMonth,R);O&&l?.(R),$&&c?.(v.startOfYear(R)),b({type:"setVisibleDate",month:R,direction:v.isAfterDay(R,j.currentMonth)?"left":"right",focusedDay:j.focusedDay!=null&&z!=null&&v.isSameDay(z,j.focusedDay)?j.focusedDay:z,skipAnimation:T})}),P=g.useCallback(()=>{b({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:S,calendarState:j,setVisibleDate:C,isDateDisabled:w,onMonthSwitchingAnimationEnd:P}},Gxe=t=>Et("MuiPickersFadeTransitionGroup",t);Pt("MuiPickersFadeTransitionGroup",["root"]);const Kxe=["children"],Qxe=t=>kt({root:["root"]},Gxe,t),Zxe=Ne(cg,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function aO(t){const s=Vs({props:t,name:"MuiPickersFadeTransitionGroup"}),{className:a,reduceAnimations:n,transKey:r,classes:i}=s,{children:o}=s,l=rs(s,Kxe),c=Qxe(i),m=vi();return n?o:e.jsx(Zxe,{className:tt(c.root,a),ownerState:l,children:e.jsx(du,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:m.transitions.duration.enteringScreen,enter:m.transitions.duration.enteringScreen,exit:0},children:o},r)})}const Xxe=t=>Et("MuiPickersSlideTransition",t),Ai=Pt("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Jxe=["children","className","reduceAnimations","slideDirection","transKey","classes"],ege=(t,s)=>{const{slideDirection:a}=s,n={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${a}`],exitActive:[`slideExitActiveLeft-${a}`]};return kt(n,Xxe,t)},tge=Ne(cg,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,s)=>[s.root,{[`.${Ai["slideEnter-left"]}`]:s["slideEnter-left"]},{[`.${Ai["slideEnter-right"]}`]:s["slideEnter-right"]},{[`.${Ai.slideEnterActive}`]:s.slideEnterActive},{[`.${Ai.slideExit}`]:s.slideExit},{[`.${Ai["slideExitActiveLeft-left"]}`]:s["slideExitActiveLeft-left"]},{[`.${Ai["slideExitActiveLeft-right"]}`]:s["slideExitActiveLeft-right"]}]})(({theme:t})=>{const s=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Ai["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Ai["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Ai.slideEnterActive}`]:{transform:"translate(0%)",transition:s},[`& .${Ai.slideExit}`]:{transform:"translate(0%)"},[`& .${Ai["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:s,zIndex:0},[`& .${Ai["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:s,zIndex:0}}});function sge(t){const s=Vs({props:t,name:"MuiPickersSlideTransition"}),{children:a,className:n,reduceAnimations:r,slideDirection:i,transKey:o,classes:l}=s,c=rs(s,Jxe),{ownerState:m}=Ha(),u=be({},m,{slideDirection:i}),h=ege(l,u),f=vi();if(r)return e.jsx("div",{className:tt(h.root,n),children:a});const v={exit:h.exit,enterActive:h.enterActive,enter:h.enter,exitActive:h.exitActive};return e.jsx(tge,{className:tt(h.root,n),childFactory:_=>g.cloneElement(_,{classNames:v}),role:"presentation",ownerState:u,children:e.jsx(y4,be({mountOnEnter:!0,unmountOnExit:!0,timeout:f.transitions.duration.complex,classNames:v},c,{children:a}),o)})}const age=t=>Et("MuiDayCalendar",t);Pt("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const nge=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],rge=["ownerState"],ige=t=>kt({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},age,t),nO=(Dx+Kv*2)*6,oge=Ne("div",{name:"MuiDayCalendar",slot:"Root"})({}),lge=Ne("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),cge=Ne(x,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),dge=Ne(x,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.disabled})),uge=Ne(x,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:t})=>be({},t.typography.caption,{width:Dx,height:Dx,padding:0,margin:`0 ${Kv}px`,color:(t.vars||t).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),mge=Ne("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:nO}),pge=Ne(sge,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:nO}),hge=Ne("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),fge=Ne("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${Kv}px 0`,display:"flex",justifyContent:"center"});function xge(t){let{parentProps:s,day:a,focusedDay:n,selectedDays:r,isDateDisabled:i,currentMonthNumber:o,isViewFocused:l}=t,c=rs(t,nge);const{disabled:m,disableHighlightToday:u,isMonthSwitchingAnimating:h,showDaysOutsideCurrentMonth:f,slots:v,slotProps:_,timezone:S}=s,j=ks(),b=Tu(S),w=n!=null&&j.isSameDay(a,n),C=l&&w,P=r.some(K=>j.isSameDay(K,a)),E=j.isSameDay(a,b),D=g.useMemo(()=>m||i(a),[m,i,a]),T=g.useMemo(()=>j.getMonth(a)!==o,[j,a,o]),R=AI({day:a,selected:P,disabled:D,today:E,outsideCurrentMonth:T,disableMargin:void 0,disableHighlightToday:u,showDaysOutsideCurrentMonth:f}),z=v?.day??Sfe,O=ta({elementType:z,externalSlotProps:_?.day,additionalProps:be({disableHighlightToday:u,showDaysOutsideCurrentMonth:f,role:"gridcell",isAnimating:h,"data-timestamp":j.toJsDate(a).valueOf()},c),ownerState:be({},R,{day:a,isDayDisabled:D,isDaySelected:P})}),$=rs(O,rge),A=g.useMemo(()=>{const K=j.startOfMonth(j.setMonth(a,o));return f?j.isSameDay(a,j.startOfWeek(K)):j.isSameDay(a,K)},[o,a,f,j]),Q=g.useMemo(()=>{const K=j.endOfMonth(j.setMonth(a,o));return f?j.isSameDay(a,j.endOfWeek(K)):j.isSameDay(a,K)},[o,a,f,j]);return e.jsx(z,be({},$,{day:a,disabled:D,autoFocus:!T&&C,today:E,outsideCurrentMonth:T,isFirstVisibleCell:A,isLastVisibleCell:Q,selected:P,tabIndex:w?0:-1,"aria-selected":P,"aria-current":E?"date":void 0}))}function gge(t){const s=Vs({props:t,name:"MuiDayCalendar"}),a=ks(),{onFocusedDayChange:n,className:r,classes:i,currentMonth:o,selectedDays:l,focusedDay:c,loading:m,onSelectedDaysChange:u,onMonthSwitchingAnimationEnd:h,readOnly:f,reduceAnimations:v,renderLoading:_=()=>e.jsx("span",{children:"..."}),slideDirection:S,TransitionProps:j,disablePast:b,disableFuture:w,minDate:C,maxDate:P,shouldDisableDate:E,shouldDisableMonth:D,shouldDisableYear:T,dayOfWeekFormatter:R=xe=>a.format(xe,"weekdayShort").charAt(0).toUpperCase(),hasFocus:z,onFocusedViewChange:O,gridLabelId:$,displayWeekNumber:A,fixedWeekNumber:Q,timezone:K}=s,U=Tu(K),B=ige(i),V=qn(),Y=sO({shouldDisableDate:E,shouldDisableMonth:D,shouldDisableYear:T,minDate:C,maxDate:P,disablePast:b,disableFuture:w,timezone:K}),H=tr(),F=At(xe=>{f||u(xe)}),M=xe=>{Y(xe)||(n(xe),O?.(!0))},L=At((xe,ge)=>{switch(xe.key){case"ArrowUp":M(a.addDays(ge,-7)),xe.preventDefault();break;case"ArrowDown":M(a.addDays(ge,7)),xe.preventDefault();break;case"ArrowLeft":{const le=a.addDays(ge,V?1:-1),de=a.addMonths(ge,V?1:-1),we=Ex({adapter:a,date:le,minDate:V?le:a.startOfMonth(de),maxDate:V?a.endOfMonth(de):le,isDateDisabled:Y,timezone:K});M(we||le),xe.preventDefault();break}case"ArrowRight":{const le=a.addDays(ge,V?-1:1),de=a.addMonths(ge,V?-1:1),we=Ex({adapter:a,date:le,minDate:V?a.startOfMonth(de):le,maxDate:V?le:a.endOfMonth(de),isDateDisabled:Y,timezone:K});M(we||le),xe.preventDefault();break}case"Home":M(a.startOfWeek(ge)),xe.preventDefault();break;case"End":M(a.endOfWeek(ge)),xe.preventDefault();break;case"PageUp":M(a.addMonths(ge,1)),xe.preventDefault();break;case"PageDown":M(a.addMonths(ge,-1)),xe.preventDefault();break}}),W=At((xe,ge)=>M(ge)),X=At((xe,ge)=>{c!=null&&a.isSameDay(c,ge)&&O?.(!1)}),te=a.getMonth(o),se=a.getYear(o),ae=g.useMemo(()=>l.filter(xe=>!!xe).map(xe=>a.startOfDay(xe)),[a,l]),pe=`${se}-${te}`,he=g.useMemo(()=>g.createRef(),[pe]),re=g.useMemo(()=>{const xe=a.getWeekArray(o);let ge=a.addMonths(o,1);for(;Q&&xe.length<Q;){const le=a.getWeekArray(ge),de=a.isSameDay(xe[xe.length-1][0],le[0][0]);le.slice(de?1:0).forEach(we=>{xe.length<Q&&xe.push(we)}),ge=a.addMonths(ge,1)}return xe},[o,Q,a]);return e.jsxs(oge,{role:"grid","aria-labelledby":$,className:B.root,children:[e.jsxs(lge,{role:"row",className:B.header,children:[A&&e.jsx(dge,{variant:"caption",role:"columnheader","aria-label":H.calendarWeekNumberHeaderLabel,className:B.weekNumberLabel,children:H.calendarWeekNumberHeaderText}),Tpe(a,U).map((xe,ge)=>e.jsx(cge,{variant:"caption",role:"columnheader","aria-label":a.format(xe,"weekday"),className:B.weekDayLabel,children:R(xe)},ge.toString()))]}),m?e.jsx(mge,{className:B.loadingContainer,children:_()}):e.jsx(pge,be({transKey:pe,onExited:h,reduceAnimations:v,slideDirection:S,className:tt(r,B.slideTransition)},j,{nodeRef:he,children:e.jsx(hge,{ref:he,role:"rowgroup",className:B.monthContainer,children:re.map((xe,ge)=>e.jsxs(fge,{role:"row",className:B.weekContainer,"aria-rowindex":ge+1,children:[A&&e.jsx(uge,{className:B.weekNumber,role:"rowheader","aria-label":H.calendarWeekNumberAriaLabelText(a.getWeekNumber(xe[0])),children:H.calendarWeekNumberText(a.getWeekNumber(xe[0]))}),xe.map((le,de)=>e.jsx(xge,{parentProps:s,day:le,selectedDays:ae,isViewFocused:z,focusedDay:c,onKeyDown:L,onFocus:W,onBlur:X,onDaySelect:F,isDateDisabled:Y,currentMonthNumber:te,"aria-colindex":de+1},le.toString()))]},`week-${xe[0]}`))})}))]})}function rO(t){return Et("MuiMonthCalendar",t)}const gy=Pt("MuiMonthCalendar",["root","button","disabled","selected"]),yge=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],bge=(t,s)=>{const a={button:["button",s.isMonthDisabled&&"disabled",s.isMonthSelected&&"selected"]};return kt(a,rO,t)},vge=Ne("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(t,s)=>[s.button,{[`&.${gy.disabled}`]:s.disabled},{[`&.${gy.selected}`]:s.selected}]})(({theme:t})=>be({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:wr(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:wr(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${gy.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${gy.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),jge=g.memo(function(s){const{autoFocus:a,classes:n,disabled:r,selected:i,value:o,onClick:l,onKeyDown:c,onFocus:m,onBlur:u,slots:h,slotProps:f}=s,v=rs(s,yge),_=g.useRef(null),{ownerState:S}=Ha(),j=be({},S,{isMonthDisabled:r,isMonthSelected:i}),b=bge(n,j);La(()=>{a&&_.current?.focus()},[a]);const w=h?.monthButton??vge,C=ta({elementType:w,externalSlotProps:f?.monthButton,externalForwardedProps:v,additionalProps:{disabled:r,ref:_,type:"button",role:"radio","aria-checked":i,onClick:P=>l(P,o),onKeyDown:P=>c(P,o),onFocus:P=>m(P,o),onBlur:P=>u(P,o)},ownerState:j,className:b.button});return e.jsx(w,be({},C))}),Nge=["autoFocus","className","currentMonth","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],wge=t=>kt({root:["root"]},rO,t);function _ge(t,s){const a=Vs({props:t,name:s}),n=Eg(a);return be({},a,n,{monthsPerRow:a.monthsPerRow??3})}const PT=(t,s,a,n,r)=>!!(t===s&&n&&r.isSameYear(a,n)),Sge=Ne("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:t=>Lr(t)&&t!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:xp,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),Cge=g.forwardRef(function(s,a){const n=_ge(s,"MuiMonthCalendar"),{autoFocus:r,className:i,currentMonth:o,classes:l,value:c,defaultValue:m,referenceDate:u,disabled:h,disableFuture:f,disablePast:v,maxDate:_,minDate:S,onChange:j,shouldDisableMonth:b,readOnly:w,onMonthFocus:C,hasFocus:P,onFocusedViewChange:E,monthsPerRow:D,timezone:T,gridLabelId:R,slots:z,slotProps:O}=n,$=rs(n,Nge),{value:A,handleValueChange:Q,timezone:K}=dd({name:"MonthCalendar",timezone:T,value:c,defaultValue:m,referenceDate:u,onChange:j,valueManager:un}),U=Tu(K),B=qn(),V=ks(),{ownerState:Y}=Ha(),H=g.useMemo(()=>un.getInitialReferenceValue({value:A,adapter:V,props:n,timezone:K,referenceDate:u,granularity:fo.month}),[]),F=wge(l),M=g.useMemo(()=>V.getMonth(U),[V,U]),L=g.useMemo(()=>A!=null?V.getMonth(A):null,[A,V]),[W,X]=g.useState(()=>L||V.getMonth(H)),[te,se]=zr({name:"MonthCalendar",state:"hasFocus",controlled:P,default:r??!1}),ae=At(de=>{se(de),E&&E(de)}),pe=g.useCallback(de=>{const we=V.startOfMonth(v&&V.isAfter(U,S)?U:S),Ae=V.startOfMonth(f&&V.isBefore(U,_)?U:_),Fe=V.startOfMonth(de);return V.isBefore(Fe,we)||V.isAfter(Fe,Ae)?!0:b?b(Fe):!1},[f,v,_,S,U,b,V]),he=At((de,we)=>{if(w)return;const Fe=(A&&o&&!V.isSameYear(A,o)?V.setYear(A,V.getYear(o)):A)??o??H,Me=V.setMonth(Fe,we);Q(Me)}),re=At(de=>{pe(V.setMonth(A??o??H,de))||(X(de),ae(!0),C&&C(de))});g.useEffect(()=>{X(de=>L!==null&&de!==L?L:de)},[L]);const xe=At((de,we)=>{switch(de.key){case"ArrowUp":re((12+we-3)%12),de.preventDefault();break;case"ArrowDown":re((12+we+3)%12),de.preventDefault();break;case"ArrowLeft":re((12+we+(B?1:-1))%12),de.preventDefault();break;case"ArrowRight":re((12+we+(B?-1:1))%12),de.preventDefault();break}}),ge=At((de,we)=>{re(we)}),le=At((de,we)=>{W===we&&ae(!1)});return e.jsx(Sge,be({ref:a,className:tt(F.root,i),ownerState:Y,role:"radiogroup","aria-labelledby":R,monthsPerRow:D},$,{children:uS(V,o??A??H).map(de=>{const we=V.getMonth(de),Ae=V.format(de,"monthShort"),Fe=V.format(de,"month"),Me=PT(we,L,de,A,V),Xe=h||pe(de);return e.jsx(jge,{selected:Me,value:we,onClick:he,onKeyDown:xe,autoFocus:te&&we===W,disabled:Xe,tabIndex:we===W&&!Xe?0:-1,onFocus:ge,onBlur:le,"aria-current":PT(we,M,de,U,V)?"date":void 0,"aria-label":Fe,slots:z,slotProps:O,classes:l,children:Ae},Ae)})}))});function iO(t){return Et("MuiYearCalendar",t)}const yy=Pt("MuiYearCalendar",["root","button","disabled","selected"]),kge=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],Pge=(t,s)=>{const a={button:["button",s.isYearDisabled&&"disabled",s.isYearSelected&&"selected"]};return kt(a,iO,t)},Ege=Ne("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(t,s)=>[s.button,{[`&.${yy.disabled}`]:s.disabled},{[`&.${yy.selected}`]:s.selected}]})(({theme:t})=>be({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:wr(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:wr(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${yy.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${yy.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),Tge=g.memo(function(s){const{autoFocus:a,classes:n,disabled:r,selected:i,value:o,onClick:l,onKeyDown:c,onFocus:m,onBlur:u,slots:h,slotProps:f}=s,v=rs(s,kge),_=g.useRef(null),{ownerState:S}=Ha(),j=be({},S,{isYearDisabled:r,isYearSelected:i}),b=Pge(n,j);La(()=>{a&&_.current?.focus()},[a]);const w=h?.yearButton??Ege,C=ta({elementType:w,externalSlotProps:f?.yearButton,externalForwardedProps:v,additionalProps:{disabled:r,ref:_,type:"button",role:"radio","aria-checked":i,onClick:P=>l(P,o),onKeyDown:P=>c(P,o),onFocus:P=>m(P,o),onBlur:P=>u(P,o)},ownerState:j,className:b.button});return e.jsx(w,be({},C))}),Mge=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],Dge=t=>kt({root:["root"]},iO,t);function Rge(t,s){const a=Vs({props:t,name:s}),n=Eg(a);return be({},a,n,{yearsPerRow:a.yearsPerRow??3,yearsOrder:a.yearsOrder??"asc"})}const Age=Ne("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:t=>Lr(t)&&t!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:xp,maxHeight:fhe,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),Ige=Ne("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),Oge=g.forwardRef(function(s,a){const n=Rge(s,"MuiYearCalendar"),{autoFocus:r,className:i,classes:o,value:l,defaultValue:c,referenceDate:m,disabled:u,disableFuture:h,disablePast:f,maxDate:v,minDate:_,onChange:S,readOnly:j,shouldDisableYear:b,onYearFocus:w,hasFocus:C,onFocusedViewChange:P,yearsOrder:E,yearsPerRow:D,timezone:T,gridLabelId:R,slots:z,slotProps:O}=n,$=rs(n,Mge),{value:A,handleValueChange:Q,timezone:K}=dd({name:"YearCalendar",timezone:T,value:l,defaultValue:c,referenceDate:m,onChange:S,valueManager:un}),U=Tu(K),B=qn(),V=ks(),{ownerState:Y}=Ha(),H=g.useMemo(()=>un.getInitialReferenceValue({value:A,adapter:V,props:n,timezone:K,referenceDate:m,granularity:fo.year}),[]),F=Dge(o),M=g.useMemo(()=>V.getYear(U),[V,U]),L=g.useMemo(()=>A!=null?V.getYear(A):null,[A,V]),[W,X]=g.useState(()=>L||V.getYear(H)),[te,se]=zr({name:"YearCalendar",state:"hasFocus",controlled:C,default:r??!1}),ae=At(ke=>{se(ke),P&&P(ke)}),pe=g.useCallback(ke=>{if(f&&V.isBeforeYear(ke,U)||h&&V.isAfterYear(ke,U)||_&&V.isBeforeYear(ke,_)||v&&V.isAfterYear(ke,v))return!0;if(!b)return!1;const Ye=V.startOfYear(ke);return b(Ye)},[h,f,v,_,U,b,V]),he=At((ke,Ye)=>{if(j)return;const ye=V.setYear(A??H,Ye);Q(ye)}),re=At(ke=>{pe(V.setYear(A??H,ke))||(X(ke),ae(!0),w?.(ke))});g.useEffect(()=>{X(ke=>L!==null&&ke!==L?L:ke)},[L]);const xe=E!=="desc"?D*1:D*-1,ge=B&&E==="asc"||!B&&E==="desc"?-1:1,le=At((ke,Ye)=>{switch(ke.key){case"ArrowUp":re(Ye-xe),ke.preventDefault();break;case"ArrowDown":re(Ye+xe),ke.preventDefault();break;case"ArrowLeft":re(Ye-ge),ke.preventDefault();break;case"ArrowRight":re(Ye+ge),ke.preventDefault();break}}),de=At((ke,Ye)=>{re(Ye)}),we=At((ke,Ye)=>{W===Ye&&ae(!1)}),Ae=g.useRef(null),Fe=Us(a,Ae);g.useEffect(()=>{if(r||Ae.current===null)return;const ke=Ae.current.querySelector('[tabindex="0"]');if(!ke)return;const Ye=ke.offsetHeight,ye=ke.offsetTop,We=Ae.current.clientHeight,Ge=Ae.current.scrollTop,jt=ye+Ye;Ye>We||ye<Ge||(Ae.current.scrollTop=jt-We/2-Ye/2)},[r]);const Me=V.getYearRange([_,v]);E==="desc"&&Me.reverse();let Xe=D-Me.length%D;return Xe===D&&(Xe=0),e.jsxs(Age,be({ref:Fe,className:tt(F.root,i),ownerState:Y,role:"radiogroup","aria-labelledby":R,yearsPerRow:D},$,{children:[Me.map(ke=>{const Ye=V.getYear(ke),ye=Ye===L,We=u||pe(ke);return e.jsx(Tge,{selected:ye,value:Ye,onClick:he,onKeyDown:le,autoFocus:te&&Ye===W,disabled:We,tabIndex:Ye===W&&!We?0:-1,onFocus:de,onBlur:we,"aria-current":M===Ye?"date":void 0,slots:z,slotProps:O,classes:o,children:V.format(ke,"year")},V.format(ke,"year"))}),Array.from({length:Xe},(ke,Ye)=>e.jsx(Ige,{},Ye))]}))}),Fge=t=>Et("MuiPickersCalendarHeader",t),Lge=Pt("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),zge=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],$ge=["ownerState"],qge=t=>kt({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Fge,t),Bge=Ne("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Uge=Ne("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:t})=>be({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),Vge=Ne("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),Hge=Ne(na,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${Lge.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),Wge=Ne(Kpe,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),Yge=g.forwardRef(function(s,a){const n=tr(),r=ks(),i=Vs({props:s,name:"MuiPickersCalendarHeader"}),{slots:o,slotProps:l,currentMonth:c,disabled:m,disableFuture:u,disablePast:h,maxDate:f,minDate:v,onMonthChange:_,onViewChange:S,view:j,reduceAnimations:b,views:w,labelId:C,className:P,classes:E,timezone:D,format:T=`${r.formats.month} ${r.formats.year}`}=i,R=rs(i,zge),{ownerState:z}=Ha(),O=qge(E),$=o?.switchViewButton??Hge,A=ta({elementType:$,externalSlotProps:l?.switchViewButton,additionalProps:{size:"small","aria-label":n.calendarViewSwitchingButtonAriaLabel(j)},ownerState:be({},z,{view:j}),className:O.switchViewButton}),Q=o?.switchViewIcon??Wge,K=ta({elementType:Q,externalSlotProps:l?.switchViewIcon,ownerState:z,className:O.switchViewIcon}),U=rs(K,$ge),B=()=>_(r.addMonths(c,1)),V=()=>_(r.addMonths(c,-1)),Y=phe(c,{disableFuture:u,maxDate:f,timezone:D}),H=hhe(c,{disablePast:h,minDate:v,timezone:D}),F=()=>{if(!(w.length===1||!S||m))if(w.length===2)S(w.find(L=>L!==j)||w[0]);else{const L=w.indexOf(j)!==0?0:1;S(w[L])}};if(w.length===1&&w[0]==="year")return null;const M=r.formatByString(c,T);return e.jsxs(Bge,be({},R,{ownerState:z,className:tt(O.root,P),ref:a,children:[e.jsxs(Uge,{role:"presentation",onClick:F,ownerState:z,"aria-live":"polite",className:O.labelContainer,children:[e.jsx(aO,{reduceAnimations:b,transKey:M,children:e.jsx(Vge,{id:C,ownerState:z,className:O.label,children:M})}),w.length>1&&!m&&e.jsx($,be({},A,{children:e.jsx(Q,be({},U))}))]}),e.jsx(du,{in:j==="day",appear:!b,enter:!b,children:e.jsx(SI,{slots:o,slotProps:l,onGoToPrevious:V,isPreviousDisabled:H,previousLabel:n.previousMonth,onGoToNext:B,isNextDisabled:Y,nextLabel:n.nextMonth})})]}))}),Gge="@media (prefers-reduced-motion: reduce)",ep=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),ET=ep&&ep[1]?parseInt(ep[1],10):null,TT=ep&&ep[2]?parseInt(ep[2],10):null,Kge=ET&&ET<10||TT&&TT<13||!1;function oO(t){const s=fg(Gge,{defaultMatches:!1});return t??(s||Kge)}const Qge=t=>Et("MuiDateCalendar",t);Pt("MuiDateCalendar",["root","viewTransitionContainer"]);const Zge=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],Xge=t=>kt({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Qge,t);function Jge(t,s){const a=Vs({props:t,name:s}),n=oO(a.reduceAnimations),r=Eg(a);return be({},a,r,{loading:a.loading??!1,openTo:a.openTo??"day",views:a.views??["year","day"],reduceAnimations:n,renderLoading:a.renderLoading??(()=>e.jsx("span",{children:"..."}))})}const e0e=Ne(Qv,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:gp}),t0e=Ne(aO,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),s0e=g.forwardRef(function(s,a){const n=ks(),{ownerState:r}=Ha(),i=_r(),o=Jge(s,"MuiDateCalendar"),{autoFocus:l,onViewChange:c,value:m,defaultValue:u,referenceDate:h,disableFuture:f,disablePast:v,onChange:_,onMonthChange:S,reduceAnimations:j,shouldDisableDate:b,shouldDisableMonth:w,shouldDisableYear:C,view:P,views:E,openTo:D,className:T,classes:R,disabled:z,readOnly:O,minDate:$,maxDate:A,disableHighlightToday:Q,focusedView:K,onFocusedViewChange:U,showDaysOutsideCurrentMonth:B,fixedWeekNumber:V,dayOfWeekFormatter:Y,slots:H,slotProps:F,loading:M,renderLoading:L,displayWeekNumber:W,yearsOrder:X,yearsPerRow:te,monthsPerRow:se,timezone:ae}=o,pe=rs(o,Zge),{value:he,handleValueChange:re,timezone:xe}=dd({name:"DateCalendar",timezone:ae,value:m,defaultValue:u,referenceDate:h,onChange:_,valueManager:un}),{view:ge,setView:le,focusedView:de,setFocusedView:we,goToNextView:Ae,setValueAndGoToNextView:Fe}=kg({view:P,views:E,openTo:D,onChange:re,onViewChange:c,autoFocus:l,focusedView:K,onFocusedViewChange:U}),{referenceDate:Me,calendarState:Xe,setVisibleDate:ke,isDateDisabled:Ye,onMonthSwitchingAnimationEnd:ye}=Yxe({value:he,referenceDate:h,reduceAnimations:j,onMonthChange:S,minDate:$,maxDate:A,shouldDisableDate:b,disablePast:v,disableFuture:f,timezone:xe,getCurrentMonthFromVisibleDate:(st,Gt)=>n.isSameMonth(st,Gt)?Gt:n.startOfMonth(st)}),We=z&&he||$,Ge=z&&he||A,jt=`${i}-grid-label`,dt=de!==null,wt=H?.calendarHeader??Yge,Dt=ta({elementType:wt,externalSlotProps:F?.calendarHeader,additionalProps:{views:E,view:ge,currentMonth:Xe.currentMonth,onViewChange:le,onMonthChange:st=>ke({target:st,reason:"header-navigation"}),minDate:We,maxDate:Ge,disabled:z,disablePast:v,disableFuture:f,reduceAnimations:j,timezone:xe,labelId:jt},ownerState:r}),ve=At(st=>{const Gt=n.startOfMonth(st),es=n.endOfMonth(st),us=Ye(st)?Ex({adapter:n,date:st,minDate:n.isBefore($,Gt)?Gt:$,maxDate:n.isAfter(A,es)?es:A,disablePast:v,disableFuture:f,isDateDisabled:Ye,timezone:xe}):st;us?(Fe(us,"finish"),ke({target:us,reason:"cell-interaction"})):(Ae(),ke({target:Gt,reason:"cell-interaction"}))}),Le=At(st=>{const Gt=n.startOfYear(st),es=n.endOfYear(st),us=Ye(st)?Ex({adapter:n,date:st,minDate:n.isBefore($,Gt)?Gt:$,maxDate:n.isAfter(A,es)?es:A,disablePast:v,disableFuture:f,isDateDisabled:Ye,timezone:xe}):st;us?(Fe(us,"finish"),ke({target:us,reason:"cell-interaction"})):(Ae(),ke({target:Gt,reason:"cell-interaction"}))}),$e=At(st=>re(st&&Mb(n,st,he??Me),"finish",ge));g.useEffect(()=>{n.isValid(he)&&ke({target:he,reason:"controlled-value-change"})},[he]);const bt=Xge(R),Zt={disablePast:v,disableFuture:f,maxDate:A,minDate:$},Ot={disableHighlightToday:Q,readOnly:O,disabled:z,timezone:xe,gridLabelId:jt,slots:H,slotProps:F},It=g.useRef(ge);g.useEffect(()=>{It.current!==ge&&(de===It.current&&we(ge,!0),It.current=ge)},[de,we,ge]);const ts=g.useMemo(()=>[he],[he]);return e.jsxs(e0e,be({ref:a,className:tt(bt.root,T),ownerState:r},pe,{children:[e.jsx(wt,be({},Dt,{slots:H,slotProps:F})),e.jsx(t0e,{reduceAnimations:j,className:bt.viewTransitionContainer,transKey:ge,ownerState:r,children:e.jsxs("div",{children:[ge==="year"&&e.jsx(Oge,be({},Zt,Ot,{value:he,onChange:Le,shouldDisableYear:C,hasFocus:dt,onFocusedViewChange:st=>we("year",st),yearsOrder:X,yearsPerRow:te,referenceDate:Me})),ge==="month"&&e.jsx(Cge,be({},Zt,Ot,{currentMonth:Xe.currentMonth,hasFocus:dt,className:T,value:he,onChange:ve,shouldDisableMonth:w,onFocusedViewChange:st=>we("month",st),monthsPerRow:se,referenceDate:Me})),ge==="day"&&e.jsx(gge,be({},Xe,Zt,Ot,{onMonthSwitchingAnimationEnd:ye,hasFocus:dt,onFocusedDayChange:st=>ke({target:st,reason:"cell-interaction"}),reduceAnimations:j,selectedDays:ts,onSelectedDaysChange:$e,shouldDisableDate:b,shouldDisableMonth:w,shouldDisableYear:C,onFocusedViewChange:st=>we("day",st),showDaysOutsideCurrentMonth:B,fixedWeekNumber:V,dayOfWeekFormatter:Y,displayWeekNumber:W,loading:M,renderLoading:L}))]})})]}))});function lO(t){return Et("MuiPickersToolbar",t)}const a0e=Pt("MuiPickersToolbar",["root","title","content"]);function e1(){const{ownerState:t}=Ha(),s=qn();return g.useMemo(()=>be({},t,{toolbarDirection:s?"rtl":"ltr"}),[t,s])}const n0e=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],r0e=t=>kt({root:["root"],title:["title"],content:["content"]},lO,t),i0e=Ne("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),o0e=Ne("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:t=>Lr(t)&&t!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),TS=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiPickersToolbar"}),{children:r,className:i,classes:o,toolbarTitle:l,hidden:c,titleId:m,landscapeDirection:u}=n,h=rs(n,n0e),f=e1(),v=r0e(o);return c?null:e.jsxs(i0e,be({ref:a,className:tt(v.root,i),ownerState:f},h,{children:[e.jsx(x,{color:"text.secondary",variant:"overline",id:m,className:v.title,children:l}),e.jsx(o0e,{className:v.content,ownerState:f,landscapeDirection:u,children:r})]}))});function l0e(t){return Et("MuiDatePickerToolbar",t)}Pt("MuiDatePickerToolbar",["root","title"]);const c0e=["toolbarFormat","toolbarPlaceholder","className","classes"],d0e=t=>kt({root:["root"],title:["title"]},l0e,t),u0e=Ne(TS,{name:"MuiDatePickerToolbar",slot:"Root"})({}),m0e=Ne(x,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),p0e=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiDatePickerToolbar"}),{toolbarFormat:r,toolbarPlaceholder:i="",className:o,classes:l}=n,c=rs(n,c0e),m=ks(),{value:u,views:h,orientation:f}=cl(),v=tr(),_=e1(),S=d0e(l),j=g.useMemo(()=>{if(!m.isValid(u))return i;const b=Tx(m,{format:r,views:h},!0);return m.formatByString(u,b)},[u,r,i,m,h]);return e.jsx(u0e,be({ref:a,toolbarTitle:v.datePickerToolbarTitle,className:tt(S.root,o)},c,{children:e.jsx(m0e,{variant:"h4",align:f==="landscape"?"left":"center",ownerState:_,className:S.title,children:j})}))});function cO(t,s){const a=Vs({props:t,name:s}),n=Eg(a),r=g.useMemo(()=>a.localeText?.toolbarTitle==null?a.localeText:be({},a.localeText,{datePickerToolbarTitle:a.localeText.toolbarTitle}),[a.localeText]);return be({},a,n,{localeText:r},dS({views:a.views,openTo:a.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:be({toolbar:p0e},a.slots)})}function h0e(t){return Et("MuiPickerPopper",t)}Pt("MuiPickerPopper",["root","paper"]);const f0e=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],x0e=t=>kt({root:["root"],paper:["paper"]},h0e,t),g0e=Ne(mg,{name:"MuiPickerPopper",slot:"Root"})(({theme:t})=>({zIndex:t.zIndex.modal})),y0e=Ne(da,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:t})=>new Set(["top","top-start","top-end"]).has(t),style:{transformOrigin:"bottom center"}}]});function b0e(t,s){return s.documentElement.clientWidth<t.clientX||s.documentElement.clientHeight<t.clientY}function v0e(t,s){const a=g.useRef(!1),n=g.useRef(!1),r=g.useRef(null),i=g.useRef(!1);g.useEffect(()=>{if(!t)return;function c(){i.current=!0}return document.addEventListener("mousedown",c,!0),document.addEventListener("touchstart",c,!0),()=>{document.removeEventListener("mousedown",c,!0),document.removeEventListener("touchstart",c,!0),i.current=!1}},[t]);const o=At(c=>{if(!i.current)return;const m=n.current;n.current=!1;const u=dn(r.current);if(!r.current||"clientX"in c&&b0e(c,u))return;if(a.current){a.current=!1;return}let h;c.composedPath?h=c.composedPath().indexOf(r.current)>-1:h=!u.documentElement.contains(c.target)||r.current.contains(c.target),!h&&!m&&s(c)}),l=c=>{c.defaultMuiPrevented||(n.current=!0)};return g.useEffect(()=>{if(t){const c=dn(r.current),m=()=>{a.current=!0};return c.addEventListener("touchstart",o),c.addEventListener("touchmove",m),()=>{c.removeEventListener("touchstart",o),c.removeEventListener("touchmove",m)}}},[t,o]),g.useEffect(()=>{if(t){const c=dn(r.current);return c.addEventListener("click",o),()=>{c.removeEventListener("click",o),n.current=!1}}},[t,o]),[r,l,l]}const j0e=g.forwardRef((t,s)=>{const{PaperComponent:a,ownerState:n,children:r,paperSlotProps:i,paperClasses:o,onPaperClick:l,onPaperTouchStart:c}=t,m=rs(t,f0e),u=ta({elementType:a,externalSlotProps:i,additionalProps:{tabIndex:-1,elevation:8,ref:s},className:o,ownerState:n});return e.jsx(a,be({},m,u,{onClick:h=>{l(h),u.onClick?.(h)},onTouchStart:h=>{c(h),u.onTouchStart?.(h)},ownerState:n,children:r}))});function N0e(t){const s=Vs({props:t,name:"MuiPickerPopper"}),{children:a,placement:n="bottom-start",slots:r,slotProps:i,classes:o}=s,{open:l,popupRef:c,reduceAnimations:m}=cl(),{ownerState:u,rootRefObject:h}=Ha(),{dismissViews:f,getCurrentViewMode:v,onPopperExited:_,triggerElement:S,viewContainerRole:j}=Ha();g.useEffect(()=>{function V(Y){l&&Y.key==="Escape"&&f()}return document.addEventListener("keydown",V),()=>{document.removeEventListener("keydown",V)}},[f,l]);const b=g.useRef(null);g.useEffect(()=>{j==="tooltip"||v()==="field"||(l?b.current=ir(h.current):b.current&&b.current instanceof HTMLElement&&setTimeout(()=>{b.current instanceof HTMLElement&&b.current.focus()}))},[l,j,v,h]);const w=x0e(o),C=At(()=>{j==="tooltip"?Jhe(()=>{h.current?.contains(ir(h.current))||c.current?.contains(ir(c.current))||f()}):f()}),[P,E,D]=v0e(l,C),T=g.useRef(null),R=Us(T,c),z=Us(R,P),O=V=>{V.key==="Escape"&&(V.stopPropagation(),f())},$=r?.desktopTransition??m?du:bx,A=r?.desktopTrapFocus??J9,Q=r?.desktopPaper??y0e,K=r?.popper??g0e,U=ta({elementType:K,externalSlotProps:i?.popper,additionalProps:{transition:!0,role:j??void 0,open:l,placement:n,anchorEl:S,onKeyDown:O},className:w.root,ownerState:u}),B=g.useMemo(()=>be({},u,{popperPlacement:U.placement}),[u,U.placement]);return e.jsx(K,be({},U,{children:({TransitionProps:V})=>e.jsx(A,be({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:j==="tooltip",isEnabled:()=>!0},i?.desktopTrapFocus,{children:e.jsx($,be({},V,i?.desktopTransition,{onExited:Y=>{_?.(),i?.desktopTransition?.onExited?.(Y),V?.onExited?.()},children:e.jsx(j0e,{PaperComponent:Q,ownerState:B,ref:z,onPaperClick:E,onPaperTouchStart:D,paperClasses:w.paper,paperSlotProps:i?.desktopPaper,children:a})}))}))}))}function MT(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function w0e(t,s){const[a,n]=g.useState(MT);return La(()=>{const r=()=>{n(MT())};return window.addEventListener("orientationchange",r),()=>{window.removeEventListener("orientationchange",r)}},[]),km(t,["hours","minutes","seconds"])?"portrait":s??a}function _0e(t){const{props:s,valueManager:a,validator:n}=t,{value:r,defaultValue:i,onChange:o,referenceDate:l,timezone:c,onAccept:m,closeOnSelect:u,open:h,onOpen:f,onClose:v}=s,{current:_}=g.useRef(i),{current:S}=g.useRef(r!==void 0),{current:j}=g.useRef(h!==void 0),b=ks(),{timezone:w,value:C,handleValueChange:P}=dd({name:"a picker component",timezone:c,value:r,defaultValue:_,referenceDate:l,onChange:o,valueManager:a}),[E,D]=g.useState(()=>({open:!1,lastExternalValue:C,clockShallowValue:void 0,lastCommittedValue:C,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:T}=LI({props:s,validator:n,timezone:w,value:C,onError:s.onError}),R=At(A=>{const Q=typeof A=="function"?A(E.open):A;j||D(K=>be({},K,{open:Q})),Q&&f&&f(),Q||v?.()}),z=At((A,Q)=>{const{changeImportance:K="accept",skipPublicationIfPristine:U=!1,validationError:B,shortcut:V,source:Y,shouldClose:H=K==="accept"}=Q??{};let F,M;!U&&!S&&!E.hasBeenModifiedSinceMount?(F=!0,M=K==="accept"):(F=!a.areValuesEqual(b,A,C),M=K==="accept"&&!a.areValuesEqual(b,A,E.lastCommittedValue)),D(X=>be({},X,{clockShallowValue:F?void 0:X.clockShallowValue,lastCommittedValue:M?A:X.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let L=null;const W=()=>{if(!L){let X;Y?X=Y:V?X="view":X="unknown",L={validationError:B??T(A),source:X},V&&(L.shortcut=V)}return L};F&&P(A,W()),M&&m&&m(A,W()),H&&R(!1)});C!==E.lastExternalValue&&D(A=>be({},A,{lastExternalValue:C,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const O=At((A,Q="partial")=>{if(Q==="shallow"){D(K=>be({},K,{clockShallowValue:A,hasBeenModifiedSinceMount:!0}));return}z(A,{changeImportance:Q==="finish"&&u?"accept":"set",source:"view"})});g.useEffect(()=>{if(j){if(h===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");D(A=>be({},A,{open:h}))}},[j,h]);const $=g.useMemo(()=>a.cleanValue(b,E.clockShallowValue===void 0?C:E.clockShallowValue),[b,a,E.clockShallowValue,C]);return{timezone:w,state:E,setValue:z,setValueFromView:O,setOpen:R,value:C,viewValue:$}}const S0e=["className","sx"],dO=({ref:t,props:s,valueManager:a,valueType:n,variant:r,validator:i,onPopperExited:o,autoFocusView:l,rendererInterceptor:c,localeText:m,viewContainerRole:u,getStepNavigation:h})=>{const{views:f,view:v,openTo:_,onViewChange:S,viewRenderers:j,reduceAnimations:b,orientation:w,disableOpenPicker:C,closeOnSelect:P,disabled:E,readOnly:D,formatDensity:T,enableAccessibleFieldDOMStructure:R,selectedSections:z,onSelectedSectionsChange:O,format:$,label:A,autoFocus:Q,name:K}=s,{className:U,sx:B}=s,V=rs(s,S0e),Y=_r(),H=ks(),F=oO(b),M=w0e(f,w),{current:L}=g.useRef(_??null),[W,X]=g.useState(null),te=g.useRef(null),se=g.useRef(null),ae=g.useRef(null),pe=Us(t,ae),{timezone:he,state:re,setOpen:xe,setValue:ge,setValueFromView:le,value:de,viewValue:we}=_0e({props:s,valueManager:a,validator:i}),{view:Ae,setView:Fe,defaultView:Me,focusedView:Xe,setFocusedView:ke,setValueAndGoToNextView:Ye,goToNextStep:ye,hasNextStep:We,hasSeveralSteps:Ge}=kg({view:v,views:f,openTo:_,onChange:le,onViewChange:S,autoFocus:l,getStepNavigation:h}),jt=At(()=>ge(a.emptyValue,{source:"view"})),dt=At(()=>ge(a.getTodayValue(H,he,n),{source:"view"})),wt=At(()=>ge(de,{source:"view"})),Dt=At(()=>ge(re.lastCommittedValue,{skipPublicationIfPristine:!0,source:"view"})),ve=At(()=>{ge(de,{skipPublicationIfPristine:!0,source:"view"})}),{hasUIView:Le,viewModeLookup:$e,timeViewsCount:bt}=g.useMemo(()=>f.reduce((qt,zs)=>{const Ft=j[zs]==null?"field":"UI";return qt.viewModeLookup[zs]=Ft,Ft==="UI"&&(qt.hasUIView=!0,bu(zs)&&(qt.timeViewsCount+=1)),qt},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[j,f]),Zt=$e[Ae],Ot=At(()=>Zt),[It,ts]=g.useState(Zt==="UI"?Ae:null);It!==Ae&&$e[Ae]==="UI"&&ts(Ae),La(()=>{Zt==="field"&&re.open&&(xe(!1),setTimeout(()=>{se?.current?.setSelectedSections(Ae),se?.current?.focusField(Ae)}))},[Ae]),La(()=>{if(!re.open)return;let qt=Ae;Zt==="field"&&It!=null&&(qt=It),qt!==Me&&$e[qt]==="UI"&&$e[Me]==="UI"&&(qt=Me),qt!==Ae&&Fe(qt),ke(qt,!0)},[re.open]);const st=g.useMemo(()=>({isPickerValueEmpty:a.areValuesEqual(H,de,a.emptyValue),isPickerOpen:re.open,isPickerDisabled:s.disabled??!1,isPickerReadOnly:s.readOnly??!1,pickerOrientation:M,pickerVariant:r}),[H,a,de,re.open,M,r,s.disabled,s.readOnly]),Gt=g.useMemo(()=>C||!Le?"hidden":E||D?"disabled":"enabled",[C,Le,E,D]),es=At(ye),us=g.useMemo(()=>P&&!Ge?[]:["cancel","nextOrAccept"],[P,Ge]),As=g.useMemo(()=>({setValue:ge,setOpen:xe,clearValue:jt,setValueToToday:dt,acceptValueChanges:wt,cancelValueChanges:Dt,setView:Fe,goToNextStep:es}),[ge,xe,jt,dt,wt,Dt,Fe,es]),Ls=g.useMemo(()=>be({},As,{value:de,timezone:he,open:re.open,views:f,view:It,initialView:L,disabled:E??!1,readOnly:D??!1,autoFocus:Q??!1,variant:r,orientation:M,popupRef:te,reduceAnimations:F,triggerRef:X,triggerStatus:Gt,hasNextStep:We,fieldFormat:$??"",name:K,label:A,rootSx:B,rootRef:pe,rootClassName:U}),[As,de,pe,r,M,F,E,D,$,U,K,A,B,Gt,We,he,re.open,It,f,L,Q]),ws=g.useMemo(()=>({dismissViews:ve,ownerState:st,hasUIView:Le,getCurrentViewMode:Ot,rootRefObject:ae,labelId:Y,triggerElement:W,viewContainerRole:u,defaultActionBarActions:us,onPopperExited:o}),[ve,st,Le,Ot,Y,W,u,us,o]),ma=g.useMemo(()=>({formatDensity:T,enableAccessibleFieldDOMStructure:R,selectedSections:z,onSelectedSectionsChange:O,fieldRef:se}),[T,R,z,O,se]);return{providerProps:{localeText:m,contextValue:Ls,privateContextValue:ws,actionsContextValue:As,fieldPrivateContextValue:ma,isValidContextValue:qt=>{const zs=i({adapter:H,value:qt,timezone:he,props:s});return!a.hasError(zs)}},renderCurrentView:()=>{if(It==null)return null;const qt=j[It];if(qt==null)return null;const zs=be({},V,{views:f,timezone:he,value:we,onChange:Ye,view:It,onViewChange:Fe,showViewSwitcher:bt>1,timeViewsCount:bt},u==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:Xe,onFocusedViewChange:ke});return c?e.jsx(c,{viewRenderers:j,popperView:It,rendererProps:zs}):qt(zs)},ownerState:st}};function uO(t){return Et("MuiPickersLayout",t)}const ho=Pt("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),C0e=["actions"],k0e=Ne(pg,{name:"MuiPickersLayout",slot:"ActionBar"})({});function P0e(t){const{actions:s}=t,a=rs(t,C0e),n=tr(),{clearValue:r,setValueToToday:i,acceptValueChanges:o,cancelValueChanges:l,goToNextStep:c,hasNextStep:m}=cl();if(s==null||s.length===0)return null;const u=s?.map(h=>{switch(h){case"clear":return e.jsx(po,{onClick:r,children:n.clearButtonLabel},h);case"cancel":return e.jsx(po,{onClick:l,children:n.cancelButtonLabel},h);case"accept":return e.jsx(po,{onClick:o,children:n.okButtonLabel},h);case"today":return e.jsx(po,{onClick:i,children:n.todayButtonLabel},h);case"next":return e.jsx(po,{onClick:c,children:n.nextStepButtonLabel},h);case"nextOrAccept":return m?e.jsx(po,{onClick:c,children:n.nextStepButtonLabel},h):e.jsx(po,{onClick:o,children:n.okButtonLabel},h);default:return null}});return e.jsx(k0e,be({},a,{children:u}))}const E0e=g.memo(P0e),T0e=["items","changeImportance"],M0e=["getValue"],D0e=Ne(rR,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function R0e(t){const{items:s,changeImportance:a="accept"}=t,n=rs(t,T0e),{setValue:r}=Gpe(),i=Ype();if(s==null||s.length===0)return null;const o=s.map(l=>{let{getValue:c}=l,m=rs(l,M0e);const u=c({isValid:i});return be({},m,{label:m.label,onClick:()=>{r(u,{changeImportance:a,shortcut:m,source:"view"})},disabled:!i(u)})});return e.jsx(D0e,be({dense:!0,sx:[{maxHeight:gp,maxWidth:200,overflow:"auto"},...Array.isArray(n.sx)?n.sx:[n.sx]]},n,{children:o.map(l=>e.jsx(JJ,{children:e.jsx(De,be({},l))},l.id??l.label))}))}const A0e=["ownerState"];function I0e(t){return t.view!==null}const O0e=(t,s)=>{const{pickerOrientation:a}=s;return kt({root:["root",a==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},uO,t)},mO=t=>{const{ownerState:s,defaultActionBarActions:a}=Ha(),{view:n}=cl(),r=qn(),{children:i,slots:o,slotProps:l,classes:c}=t,m=g.useMemo(()=>be({},s,{layoutDirection:r?"rtl":"ltr",hasShortcuts:!1}),[s,r]),u=O0e(c,m),h=o?.actionBar??E0e,f=ta({elementType:h,externalSlotProps:l?.actionBar,additionalProps:{actions:a},className:u.actionBar,ownerState:m}),v=rs(f,A0e),_=e.jsx(h,be({},v)),S=o?.toolbar,j=ta({elementType:S,externalSlotProps:l?.toolbar,className:u.toolbar,ownerState:m}),b=I0e(j)&&S?e.jsx(S,be({},j)):null,w=i,C=o?.tabs,P=n&&C?e.jsx(C,be({className:u.tabs},l?.tabs)):null,E=o?.shortcuts??R0e,D=ta({elementType:E,externalSlotProps:l?.shortcuts,className:u.shortcuts,ownerState:m}),T=Array.isArray(D?.items)&&D.items.length>0,R=n&&E?e.jsx(E,be({},D)):null;return{toolbar:b,content:w,tabs:P,actionBar:_,shortcuts:R,ownerState:be({},m,{hasShortcuts:T})}},F0e=(t,s)=>{const{pickerOrientation:a}=s;return kt({root:["root",a==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},uO,t)},pO=Ne("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${ho.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape",hasShortcuts:!1},style:{[`& .${ho.toolbar}`]:{gridColumn:1,gridRow:"1 / 3"}}},{props:{pickerOrientation:"landscape",hasShortcuts:!0},style:{[`& .${ho.toolbar}`]:{gridColumn:"2 / 4",gridRow:1,maxWidth:"max-content"},[`& .${ho.shortcuts}`]:{gridColumn:1,gridRow:2}}},{props:{pickerOrientation:"portrait"},style:{[`& .${ho.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${ho.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{hasShortcuts:!0,layoutDirection:"rtl"},style:{[`& .${ho.shortcuts}`]:{gridColumn:4}}}]}),hO=Ne("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),fO=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiPickersLayout"}),{toolbar:r,content:i,tabs:o,actionBar:l,shortcuts:c,ownerState:m}=mO(n),{orientation:u,variant:h}=cl(),{sx:f,className:v,classes:_}=n,S=F0e(_,m);return e.jsxs(pO,{ref:a,sx:f,className:tt(S.root,v),ownerState:m,children:[u==="landscape"?c:r,u==="landscape"?r:c,e.jsx(hO,{className:S.contentWrapper,ownerState:m,children:h==="desktop"?e.jsxs(g.Fragment,{children:[i,o]}):e.jsxs(g.Fragment,{children:[o,i]})}),l]})});function xO(t){const{steps:s}=t;return mhe({steps:s,isViewMatchingStep:(a,n)=>n.views==null||n.views.includes(a),onStepChange:({step:a,defaultView:n,setView:r,view:i,views:o})=>{const l=a.views==null?n:a.views.find(c=>o.includes(c));l!==i&&r(l)}})}const L0e=["props","steps"],z0e=["ownerState"],MS=t=>{let{props:s,steps:a}=t,n=rs(t,L0e);const{slots:r,slotProps:i,label:o,inputRef:l,localeText:c}=s,m=xO({steps:a}),{providerProps:u,renderCurrentView:h,ownerState:f}=dO(be({},n,{props:s,localeText:c,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:m})),v=u.privateContextValue.labelId,_=i?.toolbar?.hidden??!1,S=r.field,j=ta({elementType:S,externalSlotProps:i?.field,additionalProps:be({},_&&{id:v}),ownerState:f}),b=rs(j,z0e),w=r.layout??fO;let C=v;_&&(o?C=`${v}-label`:C=void 0);const P=be({},i,{toolbar:be({},i?.toolbar,{titleId:v}),popper:be({"aria-labelledby":C},i?.popper)});return{renderPicker:()=>e.jsxs(NI,be({},u,{children:[e.jsx(S,be({},b,{slots:be({},r,b.slots),slotProps:be({},P,b.slotProps),inputRef:l})),e.jsx(N0e,{slots:r,slotProps:P,children:e.jsx(w,be({},P?.layout,{slots:r,slotProps:P,children:h()}))})]}))}},Zi=({view:t,onViewChange:s,views:a,focusedView:n,onFocusedViewChange:r,value:i,defaultValue:o,referenceDate:l,onChange:c,className:m,classes:u,disableFuture:h,disablePast:f,minDate:v,maxDate:_,shouldDisableDate:S,shouldDisableMonth:j,shouldDisableYear:b,reduceAnimations:w,onMonthChange:C,monthsPerRow:P,onYearChange:E,yearsOrder:D,yearsPerRow:T,slots:R,slotProps:z,loading:O,renderLoading:$,disableHighlightToday:A,readOnly:Q,disabled:K,showDaysOutsideCurrentMonth:U,dayOfWeekFormatter:B,sx:V,autoFocus:Y,fixedWeekNumber:H,displayWeekNumber:F,timezone:M})=>e.jsx(s0e,{view:t,onViewChange:s,views:a.filter(fp),focusedView:n&&fp(n)?n:null,onFocusedViewChange:r,value:i,defaultValue:o,referenceDate:l,onChange:c,className:m,classes:u,disableFuture:h,disablePast:f,minDate:v,maxDate:_,shouldDisableDate:S,shouldDisableMonth:j,shouldDisableYear:b,reduceAnimations:w,onMonthChange:C,monthsPerRow:P,onYearChange:E,yearsOrder:D,yearsPerRow:T,slots:R,slotProps:z,loading:O,renderLoading:$,disableHighlightToday:A,readOnly:Q,disabled:K,showDaysOutsideCurrentMonth:U,dayOfWeekFormatter:B,sx:V,autoFocus:Y,fixedWeekNumber:H,displayWeekNumber:F,timezone:M}),gO=g.forwardRef(function(s,a){const n=ks(),r=cO(s,"MuiDesktopDatePicker"),i=be({day:Zi,month:Zi,year:Zi},r.viewRenderers),o=be({},r,{closeOnSelect:r.closeOnSelect??!0,viewRenderers:i,format:Tx(n,r,!1),yearsPerRow:r.yearsPerRow??4,slots:be({field:JI},r.slots),slotProps:be({},r.slotProps,{field:c=>be({},mr(r.slotProps?.field,c),Ap(r)),toolbar:be({hidden:!0},r.slotProps?.toolbar)})}),{renderPicker:l}=MS({ref:a,props:o,valueManager:un,valueType:"date",validator:Ip,steps:null});return l()});gO.propTypes={autoFocus:ne.bool,className:ne.string,closeOnSelect:ne.bool,dayOfWeekFormatter:ne.func,defaultValue:ne.object,disabled:ne.bool,disableFuture:ne.bool,disableHighlightToday:ne.bool,disableOpenPicker:ne.bool,disablePast:ne.bool,displayWeekNumber:ne.bool,enableAccessibleFieldDOMStructure:ne.any,fixedWeekNumber:ne.number,format:ne.string,formatDensity:ne.oneOf(["dense","spacious"]),inputRef:Pp,label:ne.node,loading:ne.bool,localeText:ne.object,maxDate:ne.object,minDate:ne.object,monthsPerRow:ne.oneOf([3,4]),name:ne.string,onAccept:ne.func,onChange:ne.func,onClose:ne.func,onError:ne.func,onMonthChange:ne.func,onOpen:ne.func,onSelectedSectionsChange:ne.func,onViewChange:ne.func,onYearChange:ne.func,open:ne.bool,openTo:ne.oneOf(["day","month","year"]),orientation:ne.oneOf(["landscape","portrait"]),readOnly:ne.bool,reduceAnimations:ne.bool,referenceDate:ne.object,renderLoading:ne.func,selectedSections:ne.oneOfType([ne.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ne.number]),shouldDisableDate:ne.func,shouldDisableMonth:ne.func,shouldDisableYear:ne.func,showDaysOutsideCurrentMonth:ne.bool,slotProps:ne.object,slots:ne.object,sx:ne.oneOfType([ne.arrayOf(ne.oneOfType([ne.func,ne.object,ne.bool])),ne.func,ne.object]),timezone:ne.string,value:ne.object,view:ne.oneOf(["day","month","year"]),viewRenderers:ne.shape({day:ne.func,month:ne.func,year:ne.func}),views:ne.arrayOf(ne.oneOf(["day","month","year"]).isRequired),yearsOrder:ne.oneOf(["asc","desc"]),yearsPerRow:ne.oneOf([3,4])};const $0e=Ne(sc)({[`& .${Yf.container}`]:{outline:0},[`& .${Yf.paper}`]:{outline:0,minWidth:xp}}),q0e=Ne(hg)({"&:first-of-type":{padding:0}});function B0e(t){const{children:s,slots:a,slotProps:n}=t,{open:r}=cl(),{dismissViews:i,onPopperExited:o}=Ha(),l=a?.dialog??$0e,c=a?.mobileTransition??du;return e.jsx(l,be({open:r,onClose:()=>{i(),o?.()}},n?.dialog,{TransitionComponent:c,TransitionProps:n?.mobileTransition,PaperComponent:a?.mobilePaper,PaperProps:n?.mobilePaper,children:e.jsx(q0e,{children:s})}))}const U0e=["props","steps"],V0e=["ownerState"],DS=t=>{let{props:s,steps:a}=t,n=rs(t,U0e);const{slots:r,slotProps:i,label:o,inputRef:l,localeText:c}=s,m=xO({steps:a}),{providerProps:u,renderCurrentView:h,ownerState:f}=dO(be({},n,{props:s,localeText:c,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:m})),v=u.privateContextValue.labelId,_=i?.toolbar?.hidden??!1,S=r.field,j=ta({elementType:S,externalSlotProps:i?.field,additionalProps:be({},_&&{id:v}),ownerState:f}),b=rs(j,V0e),w=r.layout??fO;let C=v;_&&(o?C=`${v}-label`:C=void 0);const P=be({},i,{toolbar:be({},i?.toolbar,{titleId:v}),mobilePaper:be({"aria-labelledby":C},i?.mobilePaper)});return{renderPicker:()=>e.jsxs(NI,be({},u,{children:[e.jsx(S,be({},b,{slots:be({},r,b.slots),slotProps:be({},P,b.slotProps),inputRef:l})),e.jsx(B0e,{slots:r,slotProps:P,children:e.jsx(w,be({},P?.layout,{slots:r,slotProps:P,children:h()}))})]}))}},yO=g.forwardRef(function(s,a){const n=ks(),r=cO(s,"MuiMobileDatePicker"),i=be({day:Zi,month:Zi,year:Zi},r.viewRenderers),o=be({},r,{viewRenderers:i,format:Tx(n,r,!1),slots:be({field:JI},r.slots),slotProps:be({},r.slotProps,{field:c=>be({},mr(r.slotProps?.field,c),Ap(r)),toolbar:be({hidden:!1},r.slotProps?.toolbar)})}),{renderPicker:l}=DS({ref:a,props:o,valueManager:un,valueType:"date",validator:Ip,steps:null});return l()});yO.propTypes={autoFocus:ne.bool,className:ne.string,closeOnSelect:ne.bool,dayOfWeekFormatter:ne.func,defaultValue:ne.object,disabled:ne.bool,disableFuture:ne.bool,disableHighlightToday:ne.bool,disableOpenPicker:ne.bool,disablePast:ne.bool,displayWeekNumber:ne.bool,enableAccessibleFieldDOMStructure:ne.any,fixedWeekNumber:ne.number,format:ne.string,formatDensity:ne.oneOf(["dense","spacious"]),inputRef:Pp,label:ne.node,loading:ne.bool,localeText:ne.object,maxDate:ne.object,minDate:ne.object,monthsPerRow:ne.oneOf([3,4]),name:ne.string,onAccept:ne.func,onChange:ne.func,onClose:ne.func,onError:ne.func,onMonthChange:ne.func,onOpen:ne.func,onSelectedSectionsChange:ne.func,onViewChange:ne.func,onYearChange:ne.func,open:ne.bool,openTo:ne.oneOf(["day","month","year"]),orientation:ne.oneOf(["landscape","portrait"]),readOnly:ne.bool,reduceAnimations:ne.bool,referenceDate:ne.object,renderLoading:ne.func,selectedSections:ne.oneOfType([ne.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ne.number]),shouldDisableDate:ne.func,shouldDisableMonth:ne.func,shouldDisableYear:ne.func,showDaysOutsideCurrentMonth:ne.bool,slotProps:ne.object,slots:ne.object,sx:ne.oneOfType([ne.arrayOf(ne.oneOfType([ne.func,ne.object,ne.bool])),ne.func,ne.object]),timezone:ne.string,value:ne.object,view:ne.oneOf(["day","month","year"]),viewRenderers:ne.shape({day:ne.func,month:ne.func,year:ne.func}),views:ne.arrayOf(ne.oneOf(["day","month","year"]).isRequired),yearsOrder:ne.oneOf(["asc","desc"]),yearsPerRow:ne.oneOf([3,4])};const H0e=["desktopModeMediaQuery"],DT=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiDatePicker"}),{desktopModeMediaQuery:r=vS}=n,i=rs(n,H0e);return fg(r,{defaultMatches:!0})?e.jsx(gO,be({ref:a},i)):e.jsx(yO,be({ref:a},i))});function W0e(t){return Et("MuiPickersToolbarText",t)}const Y0e=Pt("MuiPickersToolbarText",["root"]),G0e=["className","classes","selected","value"],K0e=t=>kt({root:["root"]},W0e,t),Q0e=Ne(x,{name:"MuiPickersToolbarText",slot:"Root"})(({theme:t})=>({transition:t.transitions.create("color"),color:(t.vars||t).palette.text.secondary,"&[data-selected]":{color:(t.vars||t).palette.text.primary}})),RS=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiPickersToolbarText"}),{className:r,classes:i,selected:o,value:l}=n,c=rs(n,G0e),m=K0e(i);return e.jsx(Q0e,be({ref:a,className:tt(m.root,r),component:"span",ownerState:n},o&&{"data-selected":!0},c,{children:l}))}),Z0e=["align","className","classes","selected","typographyClassName","value","variant","width"],X0e=t=>kt({root:["root"]},lO,t),J0e=Ne(po,{name:"MuiPickersToolbarButton",slot:"Root"})({padding:0,minWidth:16,textTransform:"none"}),ai=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiPickersToolbarButton"}),{align:r,className:i,classes:o,selected:l,typographyClassName:c,value:m,variant:u,width:h}=n,f=rs(n,Z0e),v=X0e(o);return e.jsx(J0e,be({variant:"text",ref:a,className:tt(v.root,i),ownerState:n},h?{sx:{width:h}}:{},f,{children:e.jsx(RS,{align:r,className:c,variant:u,value:m,selected:l})}))});function eye(t){return Et("MuiTimePickerToolbar",t)}const ex=Pt("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),tye=["ampm","ampmInClock","className","classes"],sye=(t,s)=>{const{pickerOrientation:a,toolbarDirection:n}=s;return kt({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",a==="landscape"&&"hourMinuteLabelLandscape",n==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",a==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},eye,t)},aye=Ne(TS,{name:"MuiTimePickerToolbar",slot:"Root"})({}),nye=Ne(RS,{name:"MuiTimePickerToolbar",slot:"Separator"})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),rye=Ne("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(t,s)=>[{[`&.${ex.hourMinuteLabelLandscape}`]:s.hourMinuteLabelLandscape,[`&.${ex.hourMinuteLabelReverse}`]:s.hourMinuteLabelReverse},s.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{pickerOrientation:"landscape"},style:{marginTop:"auto"}}]}),iye=Ne("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,s)=>[{[`.${ex.ampmLabel}`]:s.ampmLabel},{[`&.${ex.ampmLandscape}`]:s.ampmLandscape},s.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${ex.ampmLabel}`]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function oye(t){const s=Vs({props:t,name:"MuiTimePickerToolbar"}),{ampm:a,ampmInClock:n,className:r,classes:i}=s,o=rs(s,tye),l=ks(),c=tr(),m=e1(),u=sye(i,m),{value:h,setValue:f,disabled:v,readOnly:_,view:S,setView:j,views:b}=cl(),w=!!(a&&!n&&b.includes("hours")),{meridiemMode:C,handleMeridiemChange:P}=Gv(h,a,T=>f(T,{changeImportance:"set",source:"view"})),E=T=>l.isValid(h)?l.format(h,T):"--",D=e.jsx(nye,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:u.separator});return e.jsxs(aye,be({landscapeDirection:"row",toolbarTitle:c.timePickerToolbarTitle,ownerState:m,className:tt(u.root,r)},o,{children:[e.jsxs(rye,{className:u.hourMinuteLabel,ownerState:m,children:[km(b,"hours")&&e.jsx(ai,{tabIndex:-1,variant:"h3",onClick:()=>j("hours"),selected:S==="hours",value:E(a?"hours12h":"hours24h")}),km(b,["hours","minutes"])&&D,km(b,"minutes")&&e.jsx(ai,{tabIndex:-1,variant:"h3",onClick:()=>j("minutes"),selected:S==="minutes",value:E("minutes")}),km(b,["minutes","seconds"])&&D,km(b,"seconds")&&e.jsx(ai,{variant:"h3",onClick:()=>j("seconds"),selected:S==="seconds",value:E("seconds")})]}),w&&e.jsxs(iye,{className:u.ampmSelection,ownerState:m,children:[e.jsx(ai,{disableRipple:!0,variant:"subtitle2",selected:C==="am",typographyClassName:u.ampmLabel,value:xo(l,"am"),onClick:_?void 0:()=>P("am"),disabled:v}),e.jsx(ai,{disableRipple:!0,variant:"subtitle2",selected:C==="pm",typographyClassName:u.ampmLabel,value:xo(l,"pm"),onClick:_?void 0:()=>P("pm"),disabled:v})]})]}))}function bO(t,s){const a=ks(),n=Vs({props:t,name:s}),r=BI(n),i=n.ampm??a.is12HourCycleInCurrentLocale(),o=g.useMemo(()=>n.localeText?.toolbarTitle==null?n.localeText:be({},n.localeText,{timePickerToolbarTitle:n.localeText.toolbarTitle}),[n.localeText]);return be({},n,r,{ampm:i,localeText:o},dS({views:n.views,openTo:n.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{slots:be({toolbar:oye},n.slots),slotProps:be({},n.slotProps,{toolbar:be({ampm:i,ampmInClock:n.ampmInClock},n.slotProps?.toolbar)})})}const kN=({view:t,onViewChange:s,focusedView:a,onFocusedViewChange:n,views:r,value:i,defaultValue:o,referenceDate:l,onChange:c,className:m,classes:u,disableFuture:h,disablePast:f,minTime:v,maxTime:_,shouldDisableTime:S,minutesStep:j,ampm:b,ampmInClock:w,slots:C,slotProps:P,readOnly:E,disabled:D,sx:T,autoFocus:R,showViewSwitcher:z,disableIgnoringDatePartForTimeValidation:O,timezone:$})=>e.jsx(Zhe,{view:t,onViewChange:s,focusedView:a&&bu(a)?a:null,onFocusedViewChange:n,views:r.filter(bu),value:i,defaultValue:o,referenceDate:l,onChange:c,className:m,classes:u,disableFuture:h,disablePast:f,minTime:v,maxTime:_,shouldDisableTime:S,minutesStep:j,ampm:b,ampmInClock:w,slots:C,slotProps:P,readOnly:E,disabled:D,sx:T,autoFocus:R,showViewSwitcher:z,disableIgnoringDatePartForTimeValidation:O,timezone:$}),AS=({view:t,onViewChange:s,focusedView:a,onFocusedViewChange:n,views:r,value:i,defaultValue:o,referenceDate:l,onChange:c,className:m,classes:u,disableFuture:h,disablePast:f,minTime:v,maxTime:_,shouldDisableTime:S,minutesStep:j,ampm:b,slots:w,slotProps:C,readOnly:P,disabled:E,sx:D,autoFocus:T,disableIgnoringDatePartForTimeValidation:R,timeSteps:z,skipDisabled:O,timezone:$})=>e.jsx(ife,{view:t,onViewChange:s,focusedView:a&&bu(a)?a:null,onFocusedViewChange:n,views:r.filter(bu),value:i,defaultValue:o,referenceDate:l,onChange:c,className:m,classes:u,disableFuture:h,disablePast:f,minTime:v,maxTime:_,shouldDisableTime:S,minutesStep:j,ampm:b,slots:w,slotProps:C,readOnly:P,disabled:E,sx:D,autoFocus:T,disableIgnoringDatePartForTimeValidation:R,timeStep:z?.minutes,skipDisabled:O,timezone:$}),bp=({view:t,onViewChange:s,focusedView:a,onFocusedViewChange:n,views:r,value:i,defaultValue:o,referenceDate:l,onChange:c,className:m,classes:u,disableFuture:h,disablePast:f,minTime:v,maxTime:_,shouldDisableTime:S,minutesStep:j,ampm:b,slots:w,slotProps:C,readOnly:P,disabled:E,sx:D,autoFocus:T,disableIgnoringDatePartForTimeValidation:R,timeSteps:z,skipDisabled:O,timezone:$})=>e.jsx(yfe,{view:t,onViewChange:s,focusedView:a&&Am(a)?a:null,onFocusedViewChange:n,views:r.filter(bu),value:i,defaultValue:o,referenceDate:l,onChange:c,className:m,classes:u,disableFuture:h,disablePast:f,minTime:v,maxTime:_,shouldDisableTime:S,minutesStep:j,ampm:b,slots:w,slotProps:C,readOnly:P,disabled:E,sx:D,autoFocus:T,disableIgnoringDatePartForTimeValidation:R,timeSteps:z,skipDisabled:O,timezone:$}),lye=["views","format"],vO=(t,s,a)=>{let{views:n,format:r}=s,i=rs(s,lye);if(r)return r;const o=[],l=[];if(n.forEach(u=>{bu(u)?l.push(u):fp(u)&&o.push(u)}),l.length===0)return Tx(t,be({views:o},i),!1);if(o.length===0)return Rb(t,be({views:l},i));const c=Rb(t,be({views:l},i));return`${Tx(t,be({views:o},i),!1)} ${c}`},cye=(t,s,a)=>a?s.filter(n=>!Am(n)||n==="hours"):t?[...s,"meridiem"]:s,dye=(t,s)=>1440/((t.hours??1)*(t.minutes??5))<=s;function jO({thresholdToRenderTimeInASingleColumn:t,ampm:s,timeSteps:a,views:n}){const r=t??24,i=be({hours:1,minutes:5,seconds:5},a),o=dye(i,r);return{thresholdToRenderTimeInASingleColumn:r,timeSteps:i,shouldRenderTimeInASingleColumn:o,views:cye(s,n,o)}}const NO=g.forwardRef(function(s,a){const n=ks(),r=bO(s,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:i,views:o,timeSteps:l}=jO(r),c=i?AS:bp,m=be({hours:c,minutes:c,seconds:c,meridiem:c},r.viewRenderers),u=r.ampmInClock??!0,f=m.hours?.name===bp.name?o:o.filter(S=>S!=="meridiem"),v=be({},r,{ampmInClock:u,timeSteps:l,viewRenderers:m,format:Rb(n,r),views:i?["hours"]:f,slots:be({field:eO},r.slots),slotProps:be({},r.slotProps,{field:S=>be({},mr(r.slotProps?.field,S),Ap(r)),toolbar:be({hidden:!0,ampmInClock:u},r.slotProps?.toolbar)})}),{renderPicker:_}=MS({ref:a,props:v,valueManager:un,valueType:"time",validator:Pg,steps:null});return _()});NO.propTypes={ampm:ne.bool,ampmInClock:ne.bool,autoFocus:ne.bool,className:ne.string,closeOnSelect:ne.bool,defaultValue:ne.object,disabled:ne.bool,disableFuture:ne.bool,disableIgnoringDatePartForTimeValidation:ne.bool,disableOpenPicker:ne.bool,disablePast:ne.bool,enableAccessibleFieldDOMStructure:ne.any,format:ne.string,formatDensity:ne.oneOf(["dense","spacious"]),inputRef:Pp,label:ne.node,localeText:ne.object,maxTime:ne.object,minTime:ne.object,minutesStep:ne.number,name:ne.string,onAccept:ne.func,onChange:ne.func,onClose:ne.func,onError:ne.func,onOpen:ne.func,onSelectedSectionsChange:ne.func,onViewChange:ne.func,open:ne.bool,openTo:ne.oneOf(["hours","meridiem","minutes","seconds"]),orientation:ne.oneOf(["landscape","portrait"]),readOnly:ne.bool,reduceAnimations:ne.bool,referenceDate:ne.object,selectedSections:ne.oneOfType([ne.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ne.number]),shouldDisableTime:ne.func,skipDisabled:ne.bool,slotProps:ne.object,slots:ne.object,sx:ne.oneOfType([ne.arrayOf(ne.oneOfType([ne.func,ne.object,ne.bool])),ne.func,ne.object]),thresholdToRenderTimeInASingleColumn:ne.number,timeSteps:ne.shape({hours:ne.number,minutes:ne.number,seconds:ne.number}),timezone:ne.string,value:ne.object,view:ne.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:ne.shape({hours:ne.func,meridiem:ne.func,minutes:ne.func,seconds:ne.func}),views:ne.arrayOf(ne.oneOf(["hours","minutes","seconds"]).isRequired)};const wO=g.forwardRef(function(s,a){const n=ks(),r=bO(s,"MuiMobileTimePicker"),i=be({hours:kN,minutes:kN,seconds:kN},r.viewRenderers),o=r.ampmInClock??!1,l=be({},r,{ampmInClock:o,viewRenderers:i,format:Rb(n,r),slots:be({field:eO},r.slots),slotProps:be({},r.slotProps,{field:m=>be({},mr(r.slotProps?.field,m),Ap(r)),toolbar:be({hidden:!1,ampmInClock:o},r.slotProps?.toolbar)})}),{renderPicker:c}=DS({ref:a,props:l,valueManager:un,valueType:"time",validator:Pg,steps:null});return c()});wO.propTypes={ampm:ne.bool,ampmInClock:ne.bool,autoFocus:ne.bool,className:ne.string,closeOnSelect:ne.bool,defaultValue:ne.object,disabled:ne.bool,disableFuture:ne.bool,disableIgnoringDatePartForTimeValidation:ne.bool,disableOpenPicker:ne.bool,disablePast:ne.bool,enableAccessibleFieldDOMStructure:ne.any,format:ne.string,formatDensity:ne.oneOf(["dense","spacious"]),inputRef:Pp,label:ne.node,localeText:ne.object,maxTime:ne.object,minTime:ne.object,minutesStep:ne.number,name:ne.string,onAccept:ne.func,onChange:ne.func,onClose:ne.func,onError:ne.func,onOpen:ne.func,onSelectedSectionsChange:ne.func,onViewChange:ne.func,open:ne.bool,openTo:ne.oneOf(["hours","minutes","seconds"]),orientation:ne.oneOf(["landscape","portrait"]),readOnly:ne.bool,reduceAnimations:ne.bool,referenceDate:ne.object,selectedSections:ne.oneOfType([ne.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ne.number]),shouldDisableTime:ne.func,slotProps:ne.object,slots:ne.object,sx:ne.oneOfType([ne.arrayOf(ne.oneOfType([ne.func,ne.object,ne.bool])),ne.func,ne.object]),timezone:ne.string,value:ne.object,view:ne.oneOf(["hours","minutes","seconds"]),viewRenderers:ne.shape({hours:ne.func,minutes:ne.func,seconds:ne.func}),views:ne.arrayOf(ne.oneOf(["hours","minutes","seconds"]).isRequired)};const uye=["desktopModeMediaQuery"],mye=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiTimePicker"}),{desktopModeMediaQuery:r=vS}=n,i=rs(n,uye);return fg(r,{defaultMatches:!0})?e.jsx(NO,be({ref:a},i)):e.jsx(wO,be({ref:a},i))});function pye(t){return Et("MuiDateTimePickerTabs",t)}Pt("MuiDateTimePickerTabs",["root"]);const hye=t=>fp(t)?"date":"time",fye=t=>t==="date"?"day":"hours",xye=t=>kt({root:["root"]},pye,t),gye=Ne(tl,{name:"MuiDateTimePickerTabs",slot:"Root"})(({theme:t})=>({boxShadow:`0 -1px 0 0 inset ${(t.vars||t).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(t.vars||t).palette.divider}`,[`& .${Gy.indicator}`]:{bottom:"auto",top:0}}})),yye=function(s){const a=Vs({props:s,name:"MuiDateTimePickerTabs"}),{dateIcon:n=e.jsx(Jpe,{}),timeIcon:r=e.jsx(ehe,{}),hidden:i=typeof window>"u"||window.innerHeight<667,className:o,classes:l,sx:c}=a,m=tr(),{ownerState:u}=Ha(),{view:h,setView:f}=cl(),v=xye(l),_=(S,j)=>{f(fye(j))};return i?null:e.jsxs(gye,{ownerState:u,variant:"fullWidth",value:hye(h),onChange:_,className:tt(o,v.root),sx:c,children:[e.jsx(Rs,{value:"date","aria-label":m.dateTableLabel,icon:e.jsx(g.Fragment,{children:n})}),e.jsx(Rs,{value:"time","aria-label":m.timeTableLabel,icon:e.jsx(g.Fragment,{children:r})})]})};function bye(t){return Et("MuiDateTimePickerToolbar",t)}const PN=Pt("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),vye=["ampm","ampmInClock","toolbarFormat","toolbarPlaceholder","toolbarTitle","className","classes"],jye=(t,s)=>{const{pickerOrientation:a,toolbarDirection:n}=s;return kt({root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",n==="rtl"&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",n==="rtl"&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",a==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},bye,t)},Nye=Ne(TS,{name:"MuiDateTimePickerToolbar",slot:"Root",shouldForwardProp:t=>Lr(t)&&t!=="toolbarVariant"})(({theme:t})=>({paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",variants:[{props:{toolbarVariant:"desktop"},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,[`& .${a0e.content} .${Y0e.root}[data-selected]`]:{color:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightBold}}},{props:{toolbarVariant:"desktop",pickerOrientation:"landscape"},style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{paddingLeft:24,paddingRight:0}}]})),wye=Ne("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer"})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),_ye=Ne("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",shouldForwardProp:t=>Lr(t)&&t!=="toolbarVariant"})({display:"flex",flexDirection:"row",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{gap:9,marginRight:4,alignSelf:"flex-end"}},{props:({pickerOrientation:t,toolbarVariant:s})=>t==="landscape"&&s!=="desktop",style:{flexDirection:"column"}},{props:({pickerOrientation:t,toolbarVariant:s,toolbarDirection:a})=>t==="landscape"&&s!=="desktop"&&a==="rtl",style:{flexDirection:"column-reverse"}}]}),Sye=Ne("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",shouldForwardProp:t=>Lr(t)&&t!=="toolbarVariant"})({display:"flex",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop"},style:{gap:1.5}}]}),RT=Ne(RS,{name:"MuiDateTimePickerToolbar",slot:"Separator",shouldForwardProp:t=>Lr(t)&&t!=="toolbarVariant"})({margin:"0 4px 0 2px",cursor:"default",variants:[{props:{toolbarVariant:"desktop"},style:{margin:0}}]}),Cye=Ne("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,s)=>[{[`.${PN.ampmLabel}`]:s.ampmLabel},{[`&.${PN.ampmLandscape}`]:s.ampmLandscape},s.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${PN.ampmLabel}`]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"}}]}),kye=g.createContext(null);function Pye(t){const s=Vs({props:t,name:"MuiDateTimePickerToolbar"}),{ampm:a,ampmInClock:n,toolbarFormat:r,toolbarPlaceholder:i="",toolbarTitle:o,className:l,classes:c}=s,m=rs(s,vye),{value:u,setValue:h,disabled:f,readOnly:v,variant:_,orientation:S,view:j,setView:b,views:w}=cl(),C=tr(),P=e1(),E=jye(c,P),D=ks(),T=g.useContext(kye),R=T?T.value:u,z=T?T.setValue:h,O=T?T.view:j,$=T?T.setView:b,{meridiemMode:A,handleMeridiemChange:Q}=Gv(R,a,F=>z(F,{changeImportance:"set",source:"view"})),K=T?.forceDesktopVariant?"desktop":_,U=K==="desktop",B=!!(a&&!n),V=o??C.dateTimePickerToolbarTitle,Y=g.useMemo(()=>D.isValid(R)?r?D.formatByString(R,r):D.format(R,"shortDate"):i,[R,r,i,D]),H=(F,M)=>D.isValid(R)?D.format(R,F):M;return e.jsxs(Nye,be({className:tt(E.root,l),toolbarTitle:V,toolbarVariant:K},m,{ownerState:P,children:[e.jsxs(wye,{className:E.dateContainer,ownerState:P,children:[w.includes("year")&&e.jsx(ai,{tabIndex:-1,variant:"subtitle1",onClick:()=>$("year"),selected:O==="year",value:H("year","")}),w.includes("day")&&e.jsx(ai,{tabIndex:-1,variant:U?"h5":"h4",onClick:()=>$("day"),selected:O==="day",value:Y})]}),e.jsxs(_ye,{className:E.timeContainer,ownerState:P,toolbarVariant:K,children:[e.jsxs(Sye,{className:E.timeDigitsContainer,ownerState:P,toolbarVariant:K,children:[w.includes("hours")&&e.jsxs(g.Fragment,{children:[e.jsx(ai,{variant:U?"h5":"h3",width:U&&S==="portrait"?mf:void 0,onClick:()=>$("hours"),selected:O==="hours",value:H(a?"hours12h":"hours24h","--")}),e.jsx(RT,{variant:U?"h5":"h3",value:":",className:E.separator,ownerState:P,toolbarVariant:K}),e.jsx(ai,{variant:U?"h5":"h3",width:U&&S==="portrait"?mf:void 0,onClick:()=>$("minutes"),selected:O==="minutes"||!w.includes("minutes")&&O==="hours",value:H("minutes","--"),disabled:!w.includes("minutes")})]}),w.includes("seconds")&&e.jsxs(g.Fragment,{children:[e.jsx(RT,{variant:U?"h5":"h3",value:":",className:E.separator,ownerState:P,toolbarVariant:K}),e.jsx(ai,{variant:U?"h5":"h3",width:U&&S==="portrait"?mf:void 0,onClick:()=>$("seconds"),selected:O==="seconds",value:H("seconds","--")})]})]}),B&&!U&&e.jsxs(Cye,{className:E.ampmSelection,ownerState:P,children:[e.jsx(ai,{variant:"subtitle2",selected:A==="am",typographyClassName:E.ampmLabel,value:xo(D,"am"),onClick:v?void 0:()=>Q("am"),disabled:f}),e.jsx(ai,{variant:"subtitle2",selected:A==="pm",typographyClassName:E.ampmLabel,value:xo(D,"pm"),onClick:v?void 0:()=>Q("pm"),disabled:f})]}),a&&U&&e.jsx(ai,{variant:"h5",onClick:()=>$("meridiem"),selected:O==="meridiem",value:R&&A?xo(D,A):"--",width:mf})]})]}))}function _O(t,s){const a=ks(),n=Vs({props:t,name:s}),r=UI(n),i=n.ampm??a.is12HourCycleInCurrentLocale(),o=g.useMemo(()=>n.localeText?.toolbarTitle==null?n.localeText:be({},n.localeText,{dateTimePickerToolbarTitle:n.localeText.toolbarTitle}),[n.localeText]),{openTo:l,views:c}=dS({views:n.views,openTo:n.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{shouldRenderTimeInASingleColumn:m,thresholdToRenderTimeInASingleColumn:u,views:h,timeSteps:f}=jO({thresholdToRenderTimeInASingleColumn:n.thresholdToRenderTimeInASingleColumn,ampm:i,timeSteps:n.timeSteps,views:c}),v=i?[...c,"meridiem"]:c;return be({},n,r,{timeSteps:f,openTo:l,shouldRenderTimeInASingleColumn:m,thresholdToRenderTimeInASingleColumn:u,views:h,viewsForFormatting:v,ampm:i,localeText:o,orientation:n.orientation??"portrait",slots:be({toolbar:Pye,tabs:yye},n.slots),slotProps:be({},n.slotProps,{toolbar:be({ampm:i},n.slotProps?.toolbar)})})}const Eye=g.forwardRef(function(s,a){const{toolbar:n,tabs:r,content:i,actionBar:o,shortcuts:l,ownerState:c}=mO(s),{orientation:m}=cl(),{sx:u,className:h,classes:f}=s,v=o&&(o.props.actions?.length??0)>0;return e.jsxs(pO,{ref:a,className:tt(ho.root,f?.root,h),sx:[{[`& .${ho.tabs}`]:{gridRow:4,gridColumn:"1 / 4"},[`& .${ho.actionBar}`]:{gridRow:5}},...Array.isArray(u)?u:[u]],ownerState:c,children:[m==="landscape"?l:n,m==="landscape"?n:l,e.jsxs(hO,{className:tt(ho.contentWrapper,f?.contentWrapper),ownerState:c,sx:{display:"grid"},children:[i,r,v&&e.jsx(fn,{sx:{gridRow:3,gridColumn:"1 / 4"}})]}),o]})}),Tye=["openTo","focusedView","timeViewsCount"],Mye=function(s){const{viewRenderers:a,popperView:n,rendererProps:r}=s,{openTo:i,focusedView:o,timeViewsCount:l}=r,c=rs(r,Tye),m=be({},c,{autoFocus:!1,focusedView:null,sx:[{[`&.${j_.root}`]:{borderBottom:0},[`&.${j_.root}, .${N_.root}, &.${v_.root}`]:{maxHeight:gp}}]}),u=Am(n),h=u?"day":n,f=u?n:"hours";return e.jsxs(g.Fragment,{children:[a[h]?.(be({},r,{view:u?"day":n,focusedView:o&&fp(o)?o:null,views:r.views.filter(fp),sx:[{gridColumn:1},...m.sx]})),l>0&&e.jsxs(g.Fragment,{children:[e.jsx(fn,{orientation:"vertical",sx:{gridColumn:2}}),a[f]?.(be({},m,{view:u?n:"hours",focusedView:o&&Am(o)?o:null,openTo:Am(i)?i:"hours",views:r.views.filter(Am),sx:[{gridColumn:3},...m.sx]}))]})]})},SO=g.forwardRef(function(s,a){const n=ks(),r=_O(s,"MuiDesktopDateTimePicker"),i=r.shouldRenderTimeInASingleColumn?AS:bp,o=be({day:Zi,month:Zi,year:Zi,hours:i,minutes:i,seconds:i,meridiem:i},r.viewRenderers),l=r.ampmInClock??!0,m=o.hours?.name===bp.name?r.views:r.views.filter(f=>f!=="meridiem"),u=be({},r,{viewRenderers:o,format:vO(n,be({},r,{views:r.viewsForFormatting})),views:m,yearsPerRow:r.yearsPerRow??4,ampmInClock:l,slots:be({field:tO,layout:Eye},r.slots),slotProps:be({},r.slotProps,{field:f=>be({},mr(r.slotProps?.field,f),Ap(r)),toolbar:be({hidden:!0,ampmInClock:l},r.slotProps?.toolbar),tabs:be({hidden:!0},r.slotProps?.tabs)})}),{renderPicker:h}=MS({ref:a,props:u,valueManager:un,valueType:"date-time",validator:Zv,rendererInterceptor:Mye,steps:null});return h()});SO.propTypes={ampm:ne.bool,ampmInClock:ne.bool,autoFocus:ne.bool,className:ne.string,closeOnSelect:ne.bool,dayOfWeekFormatter:ne.func,defaultValue:ne.object,disabled:ne.bool,disableFuture:ne.bool,disableHighlightToday:ne.bool,disableIgnoringDatePartForTimeValidation:ne.bool,disableOpenPicker:ne.bool,disablePast:ne.bool,displayWeekNumber:ne.bool,enableAccessibleFieldDOMStructure:ne.any,fixedWeekNumber:ne.number,format:ne.string,formatDensity:ne.oneOf(["dense","spacious"]),inputRef:Pp,label:ne.node,loading:ne.bool,localeText:ne.object,maxDate:ne.object,maxDateTime:ne.object,maxTime:ne.object,minDate:ne.object,minDateTime:ne.object,minTime:ne.object,minutesStep:ne.number,monthsPerRow:ne.oneOf([3,4]),name:ne.string,onAccept:ne.func,onChange:ne.func,onClose:ne.func,onError:ne.func,onMonthChange:ne.func,onOpen:ne.func,onSelectedSectionsChange:ne.func,onViewChange:ne.func,onYearChange:ne.func,open:ne.bool,openTo:ne.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:ne.oneOf(["landscape","portrait"]),readOnly:ne.bool,reduceAnimations:ne.bool,referenceDate:ne.object,renderLoading:ne.func,selectedSections:ne.oneOfType([ne.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ne.number]),shouldDisableDate:ne.func,shouldDisableMonth:ne.func,shouldDisableTime:ne.func,shouldDisableYear:ne.func,showDaysOutsideCurrentMonth:ne.bool,skipDisabled:ne.bool,slotProps:ne.object,slots:ne.object,sx:ne.oneOfType([ne.arrayOf(ne.oneOfType([ne.func,ne.object,ne.bool])),ne.func,ne.object]),thresholdToRenderTimeInASingleColumn:ne.number,timeSteps:ne.shape({hours:ne.number,minutes:ne.number,seconds:ne.number}),timezone:ne.string,value:ne.object,view:ne.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:ne.shape({day:ne.func,hours:ne.func,meridiem:ne.func,minutes:ne.func,month:ne.func,seconds:ne.func,year:ne.func}),views:ne.arrayOf(ne.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:ne.oneOf(["asc","desc"]),yearsPerRow:ne.oneOf([3,4])};const Dye=[{views:mI},{views:CI}],CO=g.forwardRef(function(s,a){const n=ks(),r=_O(s,"MuiMobileDateTimePicker"),i=r.shouldRenderTimeInASingleColumn?AS:bp,o=be({day:Zi,month:Zi,year:Zi,hours:i,minutes:i,seconds:i,meridiem:i},r.viewRenderers),l=r.ampmInClock??!1,m=o.hours?.name===bp.name?r.views:r.views.filter(f=>f!=="meridiem"),u=be({},r,{viewRenderers:o,format:vO(n,be({},r,{views:r.viewsForFormatting})),views:m,ampmInClock:l,slots:be({field:tO},r.slots),slotProps:be({},r.slotProps,{field:f=>be({},mr(r.slotProps?.field,f),Ap(r)),toolbar:be({hidden:!1,ampmInClock:l},r.slotProps?.toolbar),tabs:be({hidden:!1},r.slotProps?.tabs),layout:be({},r.slotProps?.layout,{sx:efe([{[`& .${j_.root}`]:{width:xp},[`& .${N_.root}`]:{flex:1,maxHeight:gp-1,[`.${N_.item}`]:{width:"auto"}},[`& .${v_.root}`]:{width:xp,maxHeight:gp,flex:1,[`.${v_.item}`]:{justifyContent:"center"}}}],r.slotProps?.layout?.sx)})})}),{renderPicker:h}=DS({ref:a,props:u,valueManager:un,valueType:"date-time",validator:Zv,steps:Dye});return h()});CO.propTypes={ampm:ne.bool,ampmInClock:ne.bool,autoFocus:ne.bool,className:ne.string,closeOnSelect:ne.bool,dayOfWeekFormatter:ne.func,defaultValue:ne.object,disabled:ne.bool,disableFuture:ne.bool,disableHighlightToday:ne.bool,disableIgnoringDatePartForTimeValidation:ne.bool,disableOpenPicker:ne.bool,disablePast:ne.bool,displayWeekNumber:ne.bool,enableAccessibleFieldDOMStructure:ne.any,fixedWeekNumber:ne.number,format:ne.string,formatDensity:ne.oneOf(["dense","spacious"]),inputRef:Pp,label:ne.node,loading:ne.bool,localeText:ne.object,maxDate:ne.object,maxDateTime:ne.object,maxTime:ne.object,minDate:ne.object,minDateTime:ne.object,minTime:ne.object,minutesStep:ne.number,monthsPerRow:ne.oneOf([3,4]),name:ne.string,onAccept:ne.func,onChange:ne.func,onClose:ne.func,onError:ne.func,onMonthChange:ne.func,onOpen:ne.func,onSelectedSectionsChange:ne.func,onViewChange:ne.func,onYearChange:ne.func,open:ne.bool,openTo:ne.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:ne.oneOf(["landscape","portrait"]),readOnly:ne.bool,reduceAnimations:ne.bool,referenceDate:ne.object,renderLoading:ne.func,selectedSections:ne.oneOfType([ne.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ne.number]),shouldDisableDate:ne.func,shouldDisableMonth:ne.func,shouldDisableTime:ne.func,shouldDisableYear:ne.func,showDaysOutsideCurrentMonth:ne.bool,skipDisabled:ne.bool,slotProps:ne.object,slots:ne.object,sx:ne.oneOfType([ne.arrayOf(ne.oneOfType([ne.func,ne.object,ne.bool])),ne.func,ne.object]),thresholdToRenderTimeInASingleColumn:ne.number,timeSteps:ne.shape({hours:ne.number,minutes:ne.number,seconds:ne.number}),timezone:ne.string,value:ne.object,view:ne.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:ne.shape({day:ne.func,hours:ne.func,meridiem:ne.func,minutes:ne.func,month:ne.func,seconds:ne.func,year:ne.func}),views:ne.arrayOf(ne.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:ne.oneOf(["asc","desc"]),yearsPerRow:ne.oneOf([3,4])};const Rye=["desktopModeMediaQuery"],Aye=g.forwardRef(function(s,a){const n=Vs({props:s,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:r=vS}=n,i=rs(n,Rye);return fg(r,{defaultMatches:!0})?e.jsx(SO,be({ref:a},i)):e.jsx(CO,be({ref:a},i))});var tb={exports:{}},Iye=tb.exports,AT;function Oye(){return AT||(AT=1,(function(t,s){(function(a,n){t.exports=n()})(Iye,(function(){var a=1e3,n=6e4,r=36e5,i="millisecond",o="second",l="minute",c="hour",m="day",u="week",h="month",f="quarter",v="year",_="date",S="Invalid Date",j=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(K){var U=["th","st","nd","rd"],B=K%100;return"["+K+(U[(B-20)%10]||U[B]||U[0])+"]"}},C=function(K,U,B){var V=String(K);return!V||V.length>=U?K:""+Array(U+1-V.length).join(B)+K},P={s:C,z:function(K){var U=-K.utcOffset(),B=Math.abs(U),V=Math.floor(B/60),Y=B%60;return(U<=0?"+":"-")+C(V,2,"0")+":"+C(Y,2,"0")},m:function K(U,B){if(U.date()<B.date())return-K(B,U);var V=12*(B.year()-U.year())+(B.month()-U.month()),Y=U.clone().add(V,h),H=B-Y<0,F=U.clone().add(V+(H?-1:1),h);return+(-(V+(B-Y)/(H?Y-F:F-Y))||0)},a:function(K){return K<0?Math.ceil(K)||0:Math.floor(K)},p:function(K){return{M:h,y:v,w:u,d:m,D:_,h:c,m:l,s:o,ms:i,Q:f}[K]||String(K||"").toLowerCase().replace(/s$/,"")},u:function(K){return K===void 0}},E="en",D={};D[E]=w;var T="$isDayjsObject",R=function(K){return K instanceof A||!(!K||!K[T])},z=function K(U,B,V){var Y;if(!U)return E;if(typeof U=="string"){var H=U.toLowerCase();D[H]&&(Y=H),B&&(D[H]=B,Y=H);var F=U.split("-");if(!Y&&F.length>1)return K(F[0])}else{var M=U.name;D[M]=U,Y=M}return!V&&Y&&(E=Y),Y||!V&&E},O=function(K,U){if(R(K))return K.clone();var B=typeof U=="object"?U:{};return B.date=K,B.args=arguments,new A(B)},$=P;$.l=z,$.i=R,$.w=function(K,U){return O(K,{locale:U.$L,utc:U.$u,x:U.$x,$offset:U.$offset})};var A=(function(){function K(B){this.$L=z(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[T]=!0}var U=K.prototype;return U.parse=function(B){this.$d=(function(V){var Y=V.date,H=V.utc;if(Y===null)return new Date(NaN);if($.u(Y))return new Date;if(Y instanceof Date)return new Date(Y);if(typeof Y=="string"&&!/Z$/i.test(Y)){var F=Y.match(j);if(F){var M=F[2]-1||0,L=(F[7]||"0").substring(0,3);return H?new Date(Date.UTC(F[1],M,F[3]||1,F[4]||0,F[5]||0,F[6]||0,L)):new Date(F[1],M,F[3]||1,F[4]||0,F[5]||0,F[6]||0,L)}}return new Date(Y)})(B),this.init()},U.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},U.$utils=function(){return $},U.isValid=function(){return this.$d.toString()!==S},U.isSame=function(B,V){var Y=O(B);return this.startOf(V)<=Y&&Y<=this.endOf(V)},U.isAfter=function(B,V){return O(B)<this.startOf(V)},U.isBefore=function(B,V){return this.endOf(V)<O(B)},U.$g=function(B,V,Y){return $.u(B)?this[V]:this.set(Y,B)},U.unix=function(){return Math.floor(this.valueOf()/1e3)},U.valueOf=function(){return this.$d.getTime()},U.startOf=function(B,V){var Y=this,H=!!$.u(V)||V,F=$.p(B),M=function(he,re){var xe=$.w(Y.$u?Date.UTC(Y.$y,re,he):new Date(Y.$y,re,he),Y);return H?xe:xe.endOf(m)},L=function(he,re){return $.w(Y.toDate()[he].apply(Y.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(re)),Y)},W=this.$W,X=this.$M,te=this.$D,se="set"+(this.$u?"UTC":"");switch(F){case v:return H?M(1,0):M(31,11);case h:return H?M(1,X):M(0,X+1);case u:var ae=this.$locale().weekStart||0,pe=(W<ae?W+7:W)-ae;return M(H?te-pe:te+(6-pe),X);case m:case _:return L(se+"Hours",0);case c:return L(se+"Minutes",1);case l:return L(se+"Seconds",2);case o:return L(se+"Milliseconds",3);default:return this.clone()}},U.endOf=function(B){return this.startOf(B,!1)},U.$set=function(B,V){var Y,H=$.p(B),F="set"+(this.$u?"UTC":""),M=(Y={},Y[m]=F+"Date",Y[_]=F+"Date",Y[h]=F+"Month",Y[v]=F+"FullYear",Y[c]=F+"Hours",Y[l]=F+"Minutes",Y[o]=F+"Seconds",Y[i]=F+"Milliseconds",Y)[H],L=H===m?this.$D+(V-this.$W):V;if(H===h||H===v){var W=this.clone().set(_,1);W.$d[M](L),W.init(),this.$d=W.set(_,Math.min(this.$D,W.daysInMonth())).$d}else M&&this.$d[M](L);return this.init(),this},U.set=function(B,V){return this.clone().$set(B,V)},U.get=function(B){return this[$.p(B)]()},U.add=function(B,V){var Y,H=this;B=Number(B);var F=$.p(V),M=function(X){var te=O(H);return $.w(te.date(te.date()+Math.round(X*B)),H)};if(F===h)return this.set(h,this.$M+B);if(F===v)return this.set(v,this.$y+B);if(F===m)return M(1);if(F===u)return M(7);var L=(Y={},Y[l]=n,Y[c]=r,Y[o]=a,Y)[F]||1,W=this.$d.getTime()+B*L;return $.w(W,this)},U.subtract=function(B,V){return this.add(-1*B,V)},U.format=function(B){var V=this,Y=this.$locale();if(!this.isValid())return Y.invalidDate||S;var H=B||"YYYY-MM-DDTHH:mm:ssZ",F=$.z(this),M=this.$H,L=this.$m,W=this.$M,X=Y.weekdays,te=Y.months,se=Y.meridiem,ae=function(re,xe,ge,le){return re&&(re[xe]||re(V,H))||ge[xe].slice(0,le)},pe=function(re){return $.s(M%12||12,re,"0")},he=se||function(re,xe,ge){var le=re<12?"AM":"PM";return ge?le.toLowerCase():le};return H.replace(b,(function(re,xe){return xe||(function(ge){switch(ge){case"YY":return String(V.$y).slice(-2);case"YYYY":return $.s(V.$y,4,"0");case"M":return W+1;case"MM":return $.s(W+1,2,"0");case"MMM":return ae(Y.monthsShort,W,te,3);case"MMMM":return ae(te,W);case"D":return V.$D;case"DD":return $.s(V.$D,2,"0");case"d":return String(V.$W);case"dd":return ae(Y.weekdaysMin,V.$W,X,2);case"ddd":return ae(Y.weekdaysShort,V.$W,X,3);case"dddd":return X[V.$W];case"H":return String(M);case"HH":return $.s(M,2,"0");case"h":return pe(1);case"hh":return pe(2);case"a":return he(M,L,!0);case"A":return he(M,L,!1);case"m":return String(L);case"mm":return $.s(L,2,"0");case"s":return String(V.$s);case"ss":return $.s(V.$s,2,"0");case"SSS":return $.s(V.$ms,3,"0");case"Z":return F}return null})(re)||F.replace(":","")}))},U.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},U.diff=function(B,V,Y){var H,F=this,M=$.p(V),L=O(B),W=(L.utcOffset()-this.utcOffset())*n,X=this-L,te=function(){return $.m(F,L)};switch(M){case v:H=te()/12;break;case h:H=te();break;case f:H=te()/3;break;case u:H=(X-W)/6048e5;break;case m:H=(X-W)/864e5;break;case c:H=X/r;break;case l:H=X/n;break;case o:H=X/a;break;default:H=X}return Y?H:$.a(H)},U.daysInMonth=function(){return this.endOf(h).$D},U.$locale=function(){return D[this.$L]},U.locale=function(B,V){if(!B)return this.$L;var Y=this.clone(),H=z(B,V,!0);return H&&(Y.$L=H),Y},U.clone=function(){return $.w(this.$d,this)},U.toDate=function(){return new Date(this.valueOf())},U.toJSON=function(){return this.isValid()?this.toISOString():null},U.toISOString=function(){return this.$d.toISOString()},U.toString=function(){return this.$d.toUTCString()},K})(),Q=A.prototype;return O.prototype=Q,[["$ms",i],["$s",o],["$m",l],["$H",c],["$W",m],["$M",h],["$y",v],["$D",_]].forEach((function(K){Q[K[1]]=function(U){return this.$g(U,K[0],K[1])}})),O.extend=function(K,U){return K.$i||(K(U,A,O),K.$i=!0),O},O.locale=z,O.isDayjs=R,O.unix=function(K){return O(1e3*K)},O.en=D[E],O.Ls=D,O.p={},O}))})(tb)),tb.exports}var Fye=Oye();const on=ao(Fye),oe=({type:t="text",value:s,onChange:a,setValue:n,name:r,formik:i,size:o="small",onBlur:l,fullWidth:c=!0,slotProps:m,label:u,...h})=>{const[f,v]=Nt.useState({[r||""]:!1}),_=g.useCallback(z=>{const O=z.target.value;i&&r?i.setFieldValue(r,O):n?n(O):a&&a(z)},[i,r,n,a]),S=g.useCallback(z=>{const O=z?z.format("YYYY-MM-DD"):"";i&&r?i.setFieldValue(r,O):n?n(O):a&&a({target:{value:O}})},[i,r,n,a]),j=g.useCallback(z=>{const O=z?z.format("HH:mm"):"";i&&r?i.setFieldValue(r,O):n&&n(O)},[i,r,n]),b=g.useCallback(()=>{const z={target:{name:r,id:r}};i?.handleBlur&&r?i.handleBlur(z):l&&l(z)},[i,r,l]),w=g.useCallback(z=>{const O=z?z.format("YYYY-MM-DDTHH:mm"):"";i&&r?i.setFieldValue(r,O):n&&n(O)},[i,r,n]),C=g.useMemo(()=>!i||!r?!1:i.touched?.[r]&&i.errors?.[r],[i?.touched?.[r],i?.errors?.[r],r]),P=typeof C=="string"?C:void 0,E=g.useMemo(()=>s!==void 0?s:i&&r?i.values[r]:"",[s,i?.values[r],r]),D=g.useMemo(()=>E&&on(E).isValid()?on(E):null,[E]),T=g.useMemo(()=>E&&typeof E=="string"&&E.includes(":")?on(E,"HH:mm"):null,[E]);if(t==="year")return e.jsx(DT,{label:u,value:D,onChange:S,onClose:b,views:["year"],format:"YYYY",disabled:h.disabled,slotProps:{desktopPaper:{elevation:0,className:"!shadow-lg"},textField:{fullWidth:c,size:o,error:!!C,helperText:P,name:r,id:r,disabled:h.disabled,slotProps:{htmlInput:{required:!1}},InputLabelProps:{shrink:!0},className:h.className,...h}}});if(t==="date")return e.jsx(DT,{label:u,value:D,onChange:S,onClose:b,format:"DD/MM/YYYY",disabled:h.disabled,slotProps:{desktopPaper:{elevation:0,className:"!shadow-lg"},textField:{fullWidth:c,size:o,error:!!C,helperText:P,name:r,id:r,disabled:h.disabled,slotProps:{htmlInput:{required:!1}},InputLabelProps:{shrink:!0},className:h.className,...h}}});if(t==="time")return e.jsx(mye,{label:u,value:T,onChange:j,onClose:b,disabled:h.disabled,slotProps:{textField:{fullWidth:c,size:o,error:!!C,helperText:P,name:r,id:r,disabled:h.disabled,slotProps:{htmlInput:{required:!1}},InputLabelProps:{shrink:!0},...h}}});if(t==="datetime-local")return e.jsx(Aye,{label:u,value:D,onChange:w,onClose:b,disabled:h.disabled,slotProps:{textField:{fullWidth:c,size:o,error:!!C,helperText:P,name:r,id:r,disabled:h.disabled,slotProps:{htmlInput:{required:!1}},InputLabelProps:{shrink:!0},...h}}});const R=g.useCallback(z=>{i?.handleBlur&&i.handleBlur(z),l&&l(z)},[i,l]);return e.jsx(wn,{fullWidth:c,type:t!=="password"?t:f[r]?"text":"password",label:u,size:o,name:r,slotProps:{htmlInput:{required:!1},input:{...t==="search"&&{endAdornment:e.jsx(SA,{})},...t==="password"&&{endAdornment:e.jsx(na,{size:"small",onClick:()=>v({[r||""]:!f[r]}),children:f[r]?e.jsx(Gle,{}):e.jsx(Cr,{})})}},...m},helperText:P,error:!!C,onBlur:R,value:E,onChange:_,...h})},Oe=(t,s)=>{if(!t)return null;const n={...{year:"numeric",month:"short",day:"numeric"},...s};try{return new Intl.DateTimeFormat("en-US",n).format(new Date(t))}catch{return console.warn("Invalid date string provided to formatDate:",t),null}},vp=t=>Oe(t,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Ln=t=>{try{return t?(typeof t=="string"?new Date(t):t).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]}catch{return console.warn("Invalid date provided to formatForDateInput:",t),new Date().toISOString().split("T")[0]}};var EN,IT;function Lye(){if(IT)return EN;IT=1;function t(b){this._maxSize=b,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(b){return this._values[b]},t.prototype.set=function(b,w){return this._size>=this._maxSize&&this.clear(),b in this._values||this._size++,this._values[b]=w};var s=/[^.^\]^[]+|(?=\[\]|\.\.)/g,a=/^\d+$/,n=/^\d/,r=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,o=512,l=new t(o),c=new t(o),m=new t(o);EN={Cache:t,split:h,normalizePath:u,setter:function(b){var w=u(b);return c.get(b)||c.set(b,function(P,E){for(var D=0,T=w.length,R=P;D<T-1;){var z=w[D];if(z==="__proto__"||z==="constructor"||z==="prototype")return P;R=R[w[D++]]}R[w[D]]=E})},getter:function(b,w){var C=u(b);return m.get(b)||m.set(b,function(E){for(var D=0,T=C.length;D<T;)if(E!=null||!w)E=E[C[D++]];else return;return E})},join:function(b){return b.reduce(function(w,C){return w+(v(C)||a.test(C)?"["+C+"]":(w?".":"")+C)},"")},forEach:function(b,w,C){f(Array.isArray(b)?b:h(b),w,C)}};function u(b){return l.get(b)||l.set(b,h(b).map(function(w){return w.replace(i,"$2")}))}function h(b){return b.match(s)||[""]}function f(b,w,C){var P=b.length,E,D,T,R;for(D=0;D<P;D++)E=b[D],E&&(j(E)&&(E='"'+E+'"'),R=v(E),T=!R&&/^\d+$/.test(E),w.call(C,E,R,T,D,b))}function v(b){return typeof b=="string"&&b&&["'",'"'].indexOf(b.charAt(0))!==-1}function _(b){return b.match(n)&&!b.match(a)}function S(b){return r.test(b)}function j(b){return!v(b)&&(_(b)||S(b))}return EN}var ou=Lye(),TN,OT;function zye(){if(OT)return TN;OT=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,s=u=>u.match(t)||[],a=u=>u[0].toUpperCase()+u.slice(1),n=(u,h)=>s(u).join(h).toLowerCase(),r=u=>s(u).reduce((h,f)=>`${h}${h?f[0].toUpperCase()+f.slice(1).toLowerCase():f.toLowerCase()}`,"");return TN={words:s,upperFirst:a,camelCase:r,pascalCase:u=>a(r(u)),snakeCase:u=>n(u,"_"),kebabCase:u=>n(u,"-"),sentenceCase:u=>a(n(u," ")),titleCase:u=>s(u).map(a).join(" ")},TN}var MN=zye(),by={exports:{}},FT;function $ye(){if(FT)return by.exports;FT=1,by.exports=function(r){return t(s(r),r)},by.exports.array=t;function t(r,i){var o=r.length,l=new Array(o),c={},m=o,u=a(i),h=n(r);for(i.forEach(function(v){if(!h.has(v[0])||!h.has(v[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});m--;)c[m]||f(r[m],m,new Set);return l;function f(v,_,S){if(S.has(v)){var j;try{j=", node was:"+JSON.stringify(v)}catch{j=""}throw new Error("Cyclic dependency"+j)}if(!h.has(v))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(v));if(!c[_]){c[_]=!0;var b=u.get(v)||new Set;if(b=Array.from(b),_=b.length){S.add(v);do{var w=b[--_];f(w,h.get(w),S)}while(_);S.delete(v)}l[--o]=v}}}function s(r){for(var i=new Set,o=0,l=r.length;o<l;o++){var c=r[o];i.add(c[0]),i.add(c[1])}return Array.from(i)}function a(r){for(var i=new Map,o=0,l=r.length;o<l;o++){var c=r[o];i.has(c[0])||i.set(c[0],new Set),i.has(c[1])||i.set(c[1],new Set),i.get(c[0]).add(c[1])}return i}function n(r){for(var i=new Map,o=0,l=r.length;o<l;o++)i.set(r[o],o);return i}return by.exports}var qye=$ye();const Bye=ao(qye),Uye=Object.prototype.toString,Vye=Error.prototype.toString,Hye=RegExp.prototype.toString,Wye=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Yye=/^Symbol\((.*)\)(.*)$/;function Gye(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function LT(t,s=!1){if(t==null||t===!0||t===!1)return""+t;const a=typeof t;if(a==="number")return Gye(t);if(a==="string")return s?`"${t}"`:t;if(a==="function")return"[Function "+(t.name||"anonymous")+"]";if(a==="symbol")return Wye.call(t).replace(Yye,"Symbol($1)");const n=Uye.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+Vye.call(t)+"]":n==="RegExp"?Hye.call(t):null}function Ql(t,s){let a=LT(t,s);return a!==null?a:JSON.stringify(t,function(n,r){let i=LT(this[n],s);return i!==null?i:r},2)}function kO(t){return t==null?[]:[].concat(t)}let PO,EO,TO,Kye=/\$\{\s*(\w+)\s*\}/g;PO=Symbol.toStringTag;class zT{constructor(s,a,n,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[PO]="Error",this.name="ValidationError",this.value=a,this.path=n,this.type=r,this.errors=[],this.inner=[],kO(s).forEach(i=>{if(vr.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}EO=Symbol.hasInstance;TO=Symbol.toStringTag;class vr extends Error{static formatError(s,a){const n=a.label||a.path||"this";return a=Object.assign({},a,{path:n,originalPath:a.path}),typeof s=="string"?s.replace(Kye,(r,i)=>Ql(a[i])):typeof s=="function"?s(a):s}static isError(s){return s&&s.name==="ValidationError"}constructor(s,a,n,r,i){const o=new zT(s,a,n,r);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[TO]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,vr)}static[EO](s){return zT[Symbol.hasInstance](s)||super[Symbol.hasInstance](s)}}let Fo={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:s,value:a,originalValue:n})=>{const r=n!=null&&n!==a?` (cast from the value \`${Ql(n,!0)}\`).`:".";return s!=="mixed"?`${t} must be a \`${s}\` type, but the final value was: \`${Ql(a,!0)}\``+r:`${t} must match the configured type. The validated value was: \`${Ql(a,!0)}\``+r}},Ar={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Dc={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},w_={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},__={isValue:"${path} field must be ${value}"},sb={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},ab={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Qye={notType:t=>{const{path:s,value:a,spec:n}=t,r=n.types.length;if(Array.isArray(a)){if(a.length<r)return`${s} tuple value has too few items, expected a length of ${r} but got ${a.length} for value: \`${Ql(a,!0)}\``;if(a.length>r)return`${s} tuple value has too many items, expected a length of ${r} but got ${a.length} for value: \`${Ql(a,!0)}\``}return vr.formatError(Fo.notType,t)}};Object.assign(Object.create(null),{mixed:Fo,string:Ar,number:Dc,date:w_,object:sb,array:ab,boolean:__,tuple:Qye});const t1=t=>t&&t.__isYupSchema__;class Ib{static fromOptions(s,a){if(!a.then&&!a.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:r,otherwise:i}=a,o=typeof n=="function"?n:(...l)=>l.every(c=>c===n);return new Ib(s,(l,c)=>{var m;let u=o(...l)?r:i;return(m=u?.(c))!=null?m:c})}constructor(s,a){this.fn=void 0,this.refs=s,this.refs=s,this.fn=a}resolve(s,a){let n=this.refs.map(i=>i.getValue(a?.value,a?.parent,a?.context)),r=this.fn(n,s,a);if(r===void 0||r===s)return s;if(!t1(r))throw new TypeError("conditions must return a schema object");return r.resolve(a)}}const vy={context:"$",value:"."};function S_(t,s){return new ud(t,s)}class ud{constructor(s,a={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof s!="string")throw new TypeError("ref must be a string, got: "+s);if(this.key=s.trim(),s==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===vy.context,this.isValue=this.key[0]===vy.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?vy.context:this.isValue?vy.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&ou.getter(this.path,!0),this.map=a.map}getValue(s,a,n){let r=this.isContext?n:this.isValue?s:a;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(s,a){return this.getValue(s,a?.parent,a?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(s){return s&&s.__isYupRef}}ud.prototype.__isYupRef=!0;const go=t=>t==null;function vm(t){function s({value:a,path:n="",options:r,originalValue:i,schema:o},l,c){const{name:m,test:u,params:h,message:f,skipAbsent:v}=t;let{parent:_,context:S,abortEarly:j=o.spec.abortEarly,disableStackTrace:b=o.spec.disableStackTrace}=r;const w={value:a,parent:_,context:S};function C($={}){const A=MO(Object.assign({value:a,originalValue:i,label:o.spec.label,path:$.path||n,spec:o.spec,disableStackTrace:$.disableStackTrace||b},h,$.params),w),Q=new vr(vr.formatError($.message||f,A),a,A.path,$.type||m,A.disableStackTrace);return Q.params=A,Q}const P=j?l:c;let E={path:n,parent:_,type:m,from:r.from,createError:C,resolve($){return DO($,w)},options:r,originalValue:i,schema:o};const D=$=>{vr.isError($)?P($):$?c(null):P(C())},T=$=>{vr.isError($)?P($):l($)};if(v&&go(a))return D(!0);let z;try{var O;if(z=u.call(E,a,E),typeof((O=z)==null?void 0:O.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${E.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(z).then(D,T)}}catch($){T($);return}D(z)}return s.OPTIONS=t,s}function MO(t,s){if(!t)return t;for(const a of Object.keys(t))t[a]=DO(t[a],s);return t}function DO(t,s){return ud.isRef(t)?t.getValue(s.value,s.parent,s.context):t}function Zye(t,s,a,n=a){let r,i,o;return s?(ou.forEach(s,(l,c,m)=>{let u=c?l.slice(1,l.length-1):l;t=t.resolve({context:n,parent:r,value:a});let h=t.type==="tuple",f=m?parseInt(u,10):0;if(t.innerType||h){if(h&&!m)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(a&&f>=a.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${s}. because there is no value at that index. `);r=a,a=a&&a[f],t=h?t.spec.types[f]:t.innerType}if(!m){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${s}. (failed at: ${o} which is a type: "${t.type}")`);r=a,a=a&&a[u],t=t.fields[u]}i=u,o=c?"["+l+"]":"."+l}),{schema:t,parent:r,parentPath:i}):{parent:r,parentPath:s,schema:t}}class Ob extends Set{describe(){const s=[];for(const a of this.values())s.push(ud.isRef(a)?a.describe():a);return s}resolveAll(s){let a=[];for(const n of this.values())a.push(s(n));return a}clone(){return new Ob(this.values())}merge(s,a){const n=this.clone();return s.forEach(r=>n.add(r)),a.forEach(r=>n.delete(r)),n}}function Om(t,s=new Map){if(t1(t)||!t||typeof t!="object")return t;if(s.has(t))return s.get(t);let a;if(t instanceof Date)a=new Date(t.getTime()),s.set(t,a);else if(t instanceof RegExp)a=new RegExp(t),s.set(t,a);else if(Array.isArray(t)){a=new Array(t.length),s.set(t,a);for(let n=0;n<t.length;n++)a[n]=Om(t[n],s)}else if(t instanceof Map){a=new Map,s.set(t,a);for(const[n,r]of t.entries())a.set(n,Om(r,s))}else if(t instanceof Set){a=new Set,s.set(t,a);for(const n of t)a.add(Om(n,s))}else if(t instanceof Object){a={},s.set(t,a);for(const[n,r]of Object.entries(t))a[n]=Om(r,s)}else throw Error(`Unable to clone ${t}`);return a}function Xye(t){if(!(t!=null&&t.length))return;const s=[];let a="",n=!1,r=!1;for(let i=0;i<t.length;i++){const o=t[i];if(o==="["&&!r){a&&(s.push(...a.split(".").filter(Boolean)),a=""),n=!0;continue}if(o==="]"&&!r){a&&(/^\d+$/.test(a)?s.push(a):s.push(a.replace(/^"|"$/g,"")),a=""),n=!1;continue}if(o==='"'){r=!r;continue}if(o==="."&&!n&&!r){a&&(s.push(a),a="");continue}a+=o}return a&&s.push(...a.split(".").filter(Boolean)),s}function Jye(t,s){const a=s?`${s}.${t.path}`:t.path;return t.errors.map(n=>({message:n,path:Xye(a)}))}function RO(t,s){var a;if(!((a=t.inner)!=null&&a.length)&&t.errors.length)return Jye(t,s);const n=s?`${s}.${t.path}`:t.path;return t.inner.flatMap(r=>RO(r,n))}class Yr{constructor(s){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Ob,this._blacklist=new Ob,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Fo.notType)}),this.type=s.type,this._typeCheck=s.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},s?.spec),this.withMutation(a=>{a.nonNullable()})}get _type(){return this.type}clone(s){if(this._mutate)return s&&Object.assign(this.spec,s),this;const a=Object.create(Object.getPrototypeOf(this));return a.type=this.type,a._typeCheck=this._typeCheck,a._whitelist=this._whitelist.clone(),a._blacklist=this._blacklist.clone(),a.internalTests=Object.assign({},this.internalTests),a.exclusiveTests=Object.assign({},this.exclusiveTests),a.deps=[...this.deps],a.conditions=[...this.conditions],a.tests=[...this.tests],a.transforms=[...this.transforms],a.spec=Om(Object.assign({},this.spec,s)),a}label(s){let a=this.clone();return a.spec.label=s,a}meta(...s){if(s.length===0)return this.spec.meta;let a=this.clone();return a.spec.meta=Object.assign(a.spec.meta||{},s[0]),a}withMutation(s){let a=this._mutate;this._mutate=!0;let n=s(this);return this._mutate=a,n}concat(s){if(!s||s===this)return this;if(s.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${s.type}`);let a=this,n=s.clone();const r=Object.assign({},a.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},a.internalTests,n.internalTests),n._whitelist=a._whitelist.merge(s._whitelist,s._blacklist),n._blacklist=a._blacklist.merge(s._blacklist,s._whitelist),n.tests=a.tests,n.exclusiveTests=a.exclusiveTests,n.withMutation(i=>{s.tests.forEach(o=>{i.test(o.OPTIONS)})}),n.transforms=[...a.transforms,...n.transforms],n}isType(s){return s==null?!!(this.spec.nullable&&s===null||this.spec.optional&&s===void 0):this._typeCheck(s)}resolve(s){let a=this;if(a.conditions.length){let n=a.conditions;a=a.clone(),a.conditions=[],a=n.reduce((r,i)=>i.resolve(r,s),a),a=a.resolve(s)}return a}resolveOptions(s){var a,n,r,i;return Object.assign({},s,{from:s.from||[],strict:(a=s.strict)!=null?a:this.spec.strict,abortEarly:(n=s.abortEarly)!=null?n:this.spec.abortEarly,recursive:(r=s.recursive)!=null?r:this.spec.recursive,disableStackTrace:(i=s.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(s,a={}){let n=this.resolve(Object.assign({},a,{value:s})),r=a.assert==="ignore-optionality",i=n._cast(s,a);if(a.assert!==!1&&!n.isType(i)){if(r&&go(i))return i;let o=Ql(s),l=Ql(i);throw new TypeError(`The value of ${a.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${o} 
`+(l!==o?`result of cast: ${l}`:""))}return i}_cast(s,a){let n=s===void 0?s:this.transforms.reduce((r,i)=>i.call(this,r,s,this,a),s);return n===void 0&&(n=this.getDefault(a)),n}_validate(s,a={},n,r){let{path:i,originalValue:o=s,strict:l=this.spec.strict}=a,c=s;l||(c=this._cast(c,Object.assign({assert:!1},a)));let m=[];for(let u of Object.values(this.internalTests))u&&m.push(u);this.runTests({path:i,value:c,originalValue:o,options:a,tests:m},n,u=>{if(u.length)return r(u,c);this.runTests({path:i,value:c,originalValue:o,options:a,tests:this.tests},n,r)})}runTests(s,a,n){let r=!1,{tests:i,value:o,originalValue:l,path:c,options:m}=s,u=S=>{r||(r=!0,a(S,o))},h=S=>{r||(r=!0,n(S,o))},f=i.length,v=[];if(!f)return h([]);let _={value:o,originalValue:l,path:c,options:m,schema:this};for(let S=0;S<i.length;S++){const j=i[S];j(_,u,function(w){w&&(Array.isArray(w)?v.push(...w):v.push(w)),--f<=0&&h(v)})}}asNestedTest({key:s,index:a,parent:n,parentPath:r,originalParent:i,options:o}){const l=s??a;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let m=n[l];const u=Object.assign({},o,{strict:!0,parent:n,value:m,originalValue:i[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${r||""}[${c?l:`"${l}"`}]`:(r?`${r}.`:"")+s});return(h,f,v)=>this.resolve(u)._validate(m,u,f,v)}validate(s,a){var n;let r=this.resolve(Object.assign({},a,{value:s})),i=(n=a?.disableStackTrace)!=null?n:r.spec.disableStackTrace;return new Promise((o,l)=>r._validate(s,a,(c,m)=>{vr.isError(c)&&(c.value=m),l(c)},(c,m)=>{c.length?l(new vr(c,m,void 0,void 0,i)):o(m)}))}validateSync(s,a){var n;let r=this.resolve(Object.assign({},a,{value:s})),i,o=(n=a?.disableStackTrace)!=null?n:r.spec.disableStackTrace;return r._validate(s,Object.assign({},a,{sync:!0}),(l,c)=>{throw vr.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new vr(l,s,void 0,void 0,o);i=c}),i}isValid(s,a){return this.validate(s,a).then(()=>!0,n=>{if(vr.isError(n))return!1;throw n})}isValidSync(s,a){try{return this.validateSync(s,a),!0}catch(n){if(vr.isError(n))return!1;throw n}}_getDefault(s){let a=this.spec.default;return a==null?a:typeof a=="function"?a.call(this,s):Om(a)}getDefault(s){return this.resolve(s||{})._getDefault(s)}default(s){return arguments.length===0?this._getDefault():this.clone({default:s})}strict(s=!0){return this.clone({strict:s})}nullability(s,a){const n=this.clone({nullable:s});return n.internalTests.nullable=vm({message:a,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),n}optionality(s,a){const n=this.clone({optional:s});return n.internalTests.optionality=vm({message:a,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(s=Fo.defined){return this.optionality(!1,s)}nullable(){return this.nullability(!0)}nonNullable(s=Fo.notNull){return this.nullability(!1,s)}required(s=Fo.required){return this.clone().withMutation(a=>a.nonNullable(s).defined(s))}notRequired(){return this.clone().withMutation(s=>s.nullable().optional())}transform(s){let a=this.clone();return a.transforms.push(s),a}test(...s){let a;if(s.length===1?typeof s[0]=="function"?a={test:s[0]}:a=s[0]:s.length===2?a={name:s[0],test:s[1]}:a={name:s[0],message:s[1],test:s[2]},a.message===void 0&&(a.message=Fo.default),typeof a.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),r=vm(a),i=a.exclusive||a.name&&n.exclusiveTests[a.name]===!0;if(a.exclusive&&!a.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return a.name&&(n.exclusiveTests[a.name]=!!a.exclusive),n.tests=n.tests.filter(o=>!(o.OPTIONS.name===a.name&&(i||o.OPTIONS.test===r.OPTIONS.test))),n.tests.push(r),n}when(s,a){!Array.isArray(s)&&typeof s!="string"&&(a=s,s=".");let n=this.clone(),r=kO(s).map(i=>new ud(i));return r.forEach(i=>{i.isSibling&&n.deps.push(i.key)}),n.conditions.push(typeof a=="function"?new Ib(r,a):Ib.fromOptions(r,a)),n}typeError(s){let a=this.clone();return a.internalTests.typeError=vm({message:s,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),a}oneOf(s,a=Fo.oneOf){let n=this.clone();return s.forEach(r=>{n._whitelist.add(r),n._blacklist.delete(r)}),n.internalTests.whiteList=vm({message:a,name:"oneOf",skipAbsent:!0,test(r){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(r)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),n}notOneOf(s,a=Fo.notOneOf){let n=this.clone();return s.forEach(r=>{n._blacklist.add(r),n._whitelist.delete(r)}),n.internalTests.blacklist=vm({message:a,name:"notOneOf",test(r){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(r)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),n}strip(s=!0){let a=this.clone();return a.spec.strip=s,a}describe(s){const a=(s?this.resolve(s):this).clone(),{label:n,meta:r,optional:i,nullable:o}=a.spec;return{meta:r,label:n,optional:i,nullable:o,default:a.getDefault(s),type:a.type,oneOf:a._whitelist.describe(),notOneOf:a._blacklist.describe(),tests:a.tests.filter((c,m,u)=>u.findIndex(h=>h.OPTIONS.name===c.OPTIONS.name)===m).map(c=>{const m=c.OPTIONS.params&&s?MO(Object.assign({},c.OPTIONS.params),s):c.OPTIONS.params;return{name:c.OPTIONS.name,params:m}})}}get"~standard"(){const s=this;return{version:1,vendor:"yup",async validate(n){try{return{value:await s.validate(n,{abortEarly:!1})}}catch(r){if(r instanceof vr)return{issues:RO(r)};throw r}}}}}Yr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Yr.prototype[`${t}At`]=function(s,a,n={}){const{parent:r,parentPath:i,schema:o}=Zye(this,s,a,n.context);return o[t](r&&r[i],Object.assign({},n,{parent:r,path:s}))};for(const t of["equals","is"])Yr.prototype[t]=Yr.prototype.oneOf;for(const t of["not","nope"])Yr.prototype[t]=Yr.prototype.notOneOf;const ebe=()=>!0;function hs(t){return new AO(t)}class AO extends Yr{constructor(s){super(typeof s=="function"?{type:"mixed",check:s}:Object.assign({type:"mixed",check:ebe},s))}}hs.prototype=AO.prototype;function IO(){return new OO}class OO extends Yr{constructor(){super({type:"boolean",check(s){return s instanceof Boolean&&(s=s.valueOf()),typeof s=="boolean"}}),this.withMutation(()=>{this.transform((s,a)=>{if(this.spec.coerce&&!this.isType(s)){if(/^(true|1)$/i.test(String(s)))return!0;if(/^(false|0)$/i.test(String(s)))return!1}return s})})}isTrue(s=__.isValue){return this.test({message:s,name:"is-value",exclusive:!0,params:{value:"true"},test(a){return go(a)||a===!0}})}isFalse(s=__.isValue){return this.test({message:s,name:"is-value",exclusive:!0,params:{value:"false"},test(a){return go(a)||a===!1}})}default(s){return super.default(s)}defined(s){return super.defined(s)}optional(){return super.optional()}required(s){return super.required(s)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(s){return super.nonNullable(s)}strip(s){return super.strip(s)}}IO.prototype=OO.prototype;const tbe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function sbe(t){const s=C_(t);if(!s)return Date.parse?Date.parse(t):Number.NaN;if(s.z===void 0&&s.plusMinus===void 0)return new Date(s.year,s.month,s.day,s.hour,s.minute,s.second,s.millisecond).valueOf();let a=0;return s.z!=="Z"&&s.plusMinus!==void 0&&(a=s.hourOffset*60+s.minuteOffset,s.plusMinus==="+"&&(a=0-a)),Date.UTC(s.year,s.month,s.day,s.hour,s.minute+a,s.second,s.millisecond)}function C_(t){var s,a;const n=tbe.exec(t);return n?{year:Tl(n[1]),month:Tl(n[2],1)-1,day:Tl(n[3],1),hour:Tl(n[4]),minute:Tl(n[5]),second:Tl(n[6]),millisecond:n[7]?Tl(n[7].substring(0,3)):0,precision:(s=(a=n[7])==null?void 0:a.length)!=null?s:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Tl(n[10]),minuteOffset:Tl(n[11])}:null}function Tl(t,s=0){return Number(t)||s}let abe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,nbe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,rbe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ibe="^\\d{4}-\\d{2}-\\d{2}",obe="\\d{2}:\\d{2}:\\d{2}",lbe="(([+-]\\d{2}(:?\\d{2})?)|Z)",cbe=new RegExp(`${ibe}T${obe}(\\.\\d+)?${lbe}$`),dbe=t=>go(t)||t===t.trim(),ube={}.toString();function me(){return new FO}class FO extends Yr{constructor(){super({type:"string",check(s){return s instanceof String&&(s=s.valueOf()),typeof s=="string"}}),this.withMutation(()=>{this.transform((s,a)=>{if(!this.spec.coerce||this.isType(s)||Array.isArray(s))return s;const n=s!=null&&s.toString?s.toString():s;return n===ube?s:n})})}required(s){return super.required(s).withMutation(a=>a.test({message:s||Fo.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(s=>(s.tests=s.tests.filter(a=>a.OPTIONS.name!=="required"),s))}length(s,a=Ar.length){return this.test({message:a,name:"length",exclusive:!0,params:{length:s},skipAbsent:!0,test(n){return n.length===this.resolve(s)}})}min(s,a=Ar.min){return this.test({message:a,name:"min",exclusive:!0,params:{min:s},skipAbsent:!0,test(n){return n.length>=this.resolve(s)}})}max(s,a=Ar.max){return this.test({name:"max",exclusive:!0,message:a,params:{max:s},skipAbsent:!0,test(n){return n.length<=this.resolve(s)}})}matches(s,a){let n=!1,r,i;return a&&(typeof a=="object"?{excludeEmptyString:n=!1,message:r,name:i}=a:r=a),this.test({name:i||"matches",message:r||Ar.matches,params:{regex:s},skipAbsent:!0,test:o=>o===""&&n||o.search(s)!==-1})}email(s=Ar.email){return this.matches(abe,{name:"email",message:s,excludeEmptyString:!0})}url(s=Ar.url){return this.matches(nbe,{name:"url",message:s,excludeEmptyString:!0})}uuid(s=Ar.uuid){return this.matches(rbe,{name:"uuid",message:s,excludeEmptyString:!1})}datetime(s){let a="",n,r;return s&&(typeof s=="object"?{message:a="",allowOffset:n=!1,precision:r=void 0}=s:a=s),this.matches(cbe,{name:"datetime",message:a||Ar.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:a||Ar.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:i=>{if(!i||n)return!0;const o=C_(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:a||Ar.datetime_precision,params:{precision:r},skipAbsent:!0,test:i=>{if(!i||r==null)return!0;const o=C_(i);return o?o.precision===r:!1}})}ensure(){return this.default("").transform(s=>s===null?"":s)}trim(s=Ar.trim){return this.transform(a=>a!=null?a.trim():a).test({message:s,name:"trim",test:dbe})}lowercase(s=Ar.lowercase){return this.transform(a=>go(a)?a:a.toLowerCase()).test({message:s,name:"string_case",exclusive:!0,skipAbsent:!0,test:a=>go(a)||a===a.toLowerCase()})}uppercase(s=Ar.uppercase){return this.transform(a=>go(a)?a:a.toUpperCase()).test({message:s,name:"string_case",exclusive:!0,skipAbsent:!0,test:a=>go(a)||a===a.toUpperCase()})}}me.prototype=FO.prototype;let mbe=t=>t!=+t;function Qe(){return new LO}class LO extends Yr{constructor(){super({type:"number",check(s){return s instanceof Number&&(s=s.valueOf()),typeof s=="number"&&!mbe(s)}}),this.withMutation(()=>{this.transform((s,a)=>{if(!this.spec.coerce)return s;let n=s;if(typeof n=="string"){if(n=n.replace(/\s/g,""),n==="")return NaN;n=+n}return this.isType(n)||n===null?n:parseFloat(n)})})}min(s,a=Dc.min){return this.test({message:a,name:"min",exclusive:!0,params:{min:s},skipAbsent:!0,test(n){return n>=this.resolve(s)}})}max(s,a=Dc.max){return this.test({message:a,name:"max",exclusive:!0,params:{max:s},skipAbsent:!0,test(n){return n<=this.resolve(s)}})}lessThan(s,a=Dc.lessThan){return this.test({message:a,name:"max",exclusive:!0,params:{less:s},skipAbsent:!0,test(n){return n<this.resolve(s)}})}moreThan(s,a=Dc.moreThan){return this.test({message:a,name:"min",exclusive:!0,params:{more:s},skipAbsent:!0,test(n){return n>this.resolve(s)}})}positive(s=Dc.positive){return this.moreThan(0,s)}negative(s=Dc.negative){return this.lessThan(0,s)}integer(s=Dc.integer){return this.test({name:"integer",message:s,skipAbsent:!0,test:a=>Number.isInteger(a)})}truncate(){return this.transform(s=>go(s)?s:s|0)}round(s){var a;let n=["ceil","floor","round","trunc"];if(s=((a=s)==null?void 0:a.toLowerCase())||"round",s==="trunc")return this.truncate();if(n.indexOf(s.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(r=>go(r)?r:Math[s](r))}}Qe.prototype=LO.prototype;let zO=new Date(""),pbe=t=>Object.prototype.toString.call(t)==="[object Date]";function Ta(){return new Tg}class Tg extends Yr{constructor(){super({type:"date",check(s){return pbe(s)&&!isNaN(s.getTime())}}),this.withMutation(()=>{this.transform((s,a)=>!this.spec.coerce||this.isType(s)||s===null?s:(s=sbe(s),isNaN(s)?Tg.INVALID_DATE:new Date(s)))})}prepareParam(s,a){let n;if(ud.isRef(s))n=s;else{let r=this.cast(s);if(!this._typeCheck(r))throw new TypeError(`\`${a}\` must be a Date or a value that can be \`cast()\` to a Date`);n=r}return n}min(s,a=w_.min){let n=this.prepareParam(s,"min");return this.test({message:a,name:"min",exclusive:!0,params:{min:s},skipAbsent:!0,test(r){return r>=this.resolve(n)}})}max(s,a=w_.max){let n=this.prepareParam(s,"max");return this.test({message:a,name:"max",exclusive:!0,params:{max:s},skipAbsent:!0,test(r){return r<=this.resolve(n)}})}}Tg.INVALID_DATE=zO;Ta.prototype=Tg.prototype;Ta.INVALID_DATE=zO;function hbe(t,s=[]){let a=[],n=new Set,r=new Set(s.map(([o,l])=>`${o}-${l}`));function i(o,l){let c=ou.split(o)[0];n.add(c),r.has(`${l}-${c}`)||a.push([l,c])}for(const o of Object.keys(t)){let l=t[o];n.add(o),ud.isRef(l)&&l.isSibling?i(l.path,o):t1(l)&&"deps"in l&&l.deps.forEach(c=>i(c,o))}return Bye.array(Array.from(n),a).reverse()}function $T(t,s){let a=1/0;return t.some((n,r)=>{var i;if((i=s.path)!=null&&i.includes(n))return a=r,!0}),a}function $O(t){return(s,a)=>$T(t,s)-$T(t,a)}const qO=(t,s,a)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return a.isType(n)?n:t};function nb(t){if("fields"in t){const s={};for(const[a,n]of Object.entries(t.fields))s[a]=nb(n);return t.setFields(s)}if(t.type==="array"){const s=t.optional();return s.innerType&&(s.innerType=nb(s.innerType)),s}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(nb)}):"optional"in t?t.optional():t}const fbe=(t,s)=>{const a=[...ou.normalizePath(s)];if(a.length===1)return a[0]in t;let n=a.pop(),r=ou.getter(ou.join(a),!0)(t);return!!(r&&n in r)};let qT=t=>Object.prototype.toString.call(t)==="[object Object]";function BT(t,s){let a=Object.keys(t.fields);return Object.keys(s).filter(n=>a.indexOf(n)===-1)}const xbe=$O([]);function it(t){return new BO(t)}class BO extends Yr{constructor(s){super({type:"object",check(a){return qT(a)||typeof a=="function"}}),this.fields=Object.create(null),this._sortErrors=xbe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{s&&this.shape(s)})}_cast(s,a={}){var n;let r=super._cast(s,a);if(r===void 0)return this.getDefault(a);if(!this._typeCheck(r))return r;let i=this.fields,o=(n=a.stripUnknown)!=null?n:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(r).filter(h=>!this._nodes.includes(h))),c={},m=Object.assign({},a,{parent:c,__validating:a.__validating||!1}),u=!1;for(const h of l){let f=i[h],v=h in r,_=r[h];if(f){let S;m.path=(a.path?`${a.path}.`:"")+h,f=f.resolve({value:_,context:a.context,parent:c});let j=f instanceof Yr?f.spec:void 0,b=j?.strict;if(j!=null&&j.strip){u=u||h in r;continue}S=!a.__validating||!b?f.cast(_,m):_,S!==void 0&&(c[h]=S)}else v&&!o&&(c[h]=_);(v!==h in c||c[h]!==_)&&(u=!0)}return u?c:r}_validate(s,a={},n,r){let{from:i=[],originalValue:o=s,recursive:l=this.spec.recursive}=a;a.from=[{schema:this,value:o},...i],a.__validating=!0,a.originalValue=o,super._validate(s,a,n,(c,m)=>{if(!l||!qT(m)){r(c,m);return}o=o||m;let u=[];for(let h of this._nodes){let f=this.fields[h];!f||ud.isRef(f)||u.push(f.asNestedTest({options:a,key:h,parent:m,parentPath:a.path,originalParent:o}))}this.runTests({tests:u,value:m,originalValue:o,options:a},n,h=>{r(h.sort(this._sortErrors).concat(c),m)})})}clone(s){const a=super.clone(s);return a.fields=Object.assign({},this.fields),a._nodes=this._nodes,a._excludedEdges=this._excludedEdges,a._sortErrors=this._sortErrors,a}concat(s){let a=super.concat(s),n=a.fields;for(let[r,i]of Object.entries(this.fields)){const o=n[r];n[r]=o===void 0?i:o}return a.withMutation(r=>r.setFields(n,[...this._excludedEdges,...s._excludedEdges]))}_getDefault(s){if("default"in this.spec)return super._getDefault(s);if(!this._nodes.length)return;let a={};return this._nodes.forEach(n=>{var r;const i=this.fields[n];let o=s;(r=o)!=null&&r.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[n]})),a[n]=i&&"getDefault"in i?i.getDefault(o):void 0}),a}setFields(s,a){let n=this.clone();return n.fields=s,n._nodes=hbe(s,a),n._sortErrors=$O(Object.keys(s)),a&&(n._excludedEdges=a),n}shape(s,a=[]){return this.clone().withMutation(n=>{let r=n._excludedEdges;return a.length&&(Array.isArray(a[0])||(a=[a]),r=[...n._excludedEdges,...a]),n.setFields(Object.assign(n.fields,s),r)})}partial(){const s={};for(const[a,n]of Object.entries(this.fields))s[a]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(s)}deepPartial(){return nb(this)}pick(s){const a={};for(const n of s)this.fields[n]&&(a[n]=this.fields[n]);return this.setFields(a,this._excludedEdges.filter(([n,r])=>s.includes(n)&&s.includes(r)))}omit(s){const a=[];for(const n of Object.keys(this.fields))s.includes(n)||a.push(n);return this.pick(a)}from(s,a,n){let r=ou.getter(s,!0);return this.transform(i=>{if(!i)return i;let o=i;return fbe(i,s)&&(o=Object.assign({},i),n||delete o[s],o[a]=r(i)),o})}json(){return this.transform(qO)}exact(s){return this.test({name:"exact",exclusive:!0,message:s||sb.exact,test(a){if(a==null)return!0;const n=BT(this.schema,a);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(s=!0,a=sb.noUnknown){typeof s!="boolean"&&(a=s,s=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:a,test(r){if(r==null)return!0;const i=BT(this.schema,r);return!s||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return n.spec.noUnknown=s,n}unknown(s=!0,a=sb.noUnknown){return this.noUnknown(!s,a)}transformKeys(s){return this.transform(a=>{if(!a)return a;const n={};for(const r of Object.keys(a))n[s(r)]=a[r];return n})}camelCase(){return this.transformKeys(MN.camelCase)}snakeCase(){return this.transformKeys(MN.snakeCase)}constantCase(){return this.transformKeys(s=>MN.snakeCase(s).toUpperCase())}describe(s){const a=(s?this.resolve(s):this).clone(),n=super.describe(s);n.fields={};for(const[i,o]of Object.entries(a.fields)){var r;let l=s;(r=l)!=null&&r.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),n.fields[i]=o.describe(l)}return n}}it.prototype=BO.prototype;function dl(t){return new UO(t)}class UO extends Yr{constructor(s){super({type:"array",spec:{types:s},check(a){return Array.isArray(a)}}),this.innerType=void 0,this.innerType=s}_cast(s,a){const n=super._cast(s,a);if(!this._typeCheck(n)||!this.innerType)return n;let r=!1;const i=n.map((o,l)=>{const c=this.innerType.cast(o,Object.assign({},a,{path:`${a.path||""}[${l}]`,parent:n,originalValue:o,value:o,index:l}));return c!==o&&(r=!0),c});return r?i:n}_validate(s,a={},n,r){var i;let o=this.innerType,l=(i=a.recursive)!=null?i:this.spec.recursive;a.originalValue!=null&&a.originalValue,super._validate(s,a,n,(c,m)=>{var u;if(!l||!o||!this._typeCheck(m)){r(c,m);return}let h=new Array(m.length);for(let v=0;v<m.length;v++){var f;h[v]=o.asNestedTest({options:a,index:v,parent:m,parentPath:a.path,originalParent:(f=a.originalValue)!=null?f:s})}this.runTests({value:m,tests:h,originalValue:(u=a.originalValue)!=null?u:s,options:a},n,v=>r(v.concat(c),m))})}clone(s){const a=super.clone(s);return a.innerType=this.innerType,a}json(){return this.transform(qO)}concat(s){let a=super.concat(s);return a.innerType=this.innerType,s.innerType&&(a.innerType=a.innerType?a.innerType.concat(s.innerType):s.innerType),a}of(s){let a=this.clone();if(!t1(s))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Ql(s));return a.innerType=s,a.spec=Object.assign({},a.spec,{types:s}),a}length(s,a=ab.length){return this.test({message:a,name:"length",exclusive:!0,params:{length:s},skipAbsent:!0,test(n){return n.length===this.resolve(s)}})}min(s,a){return a=a||ab.min,this.test({message:a,name:"min",exclusive:!0,params:{min:s},skipAbsent:!0,test(n){return n.length>=this.resolve(s)}})}max(s,a){return a=a||ab.max,this.test({message:a,name:"max",exclusive:!0,params:{max:s},skipAbsent:!0,test(n){return n.length<=this.resolve(s)}})}ensure(){return this.default(()=>[]).transform((s,a)=>this._typeCheck(s)?s:a==null?[]:[].concat(a))}compact(s){let a=s?(n,r,i)=>!s(n,r,i):n=>!!n;return this.transform(n=>n!=null?n.filter(a):n)}describe(s){const a=(s?this.resolve(s):this).clone(),n=super.describe(s);if(a.innerType){var r;let i=s;(r=i)!=null&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),n.innerType=a.innerType.describe(i)}return n}}dl.prototype=UO.prototype;const gbe=({open:t,setOpen:s})=>{const a=Gs(),[n,r]=g.useState(!1),[i,o]=g.useState("approve"),[l,c]=g.useState(null),{data:m,isLoading:u}=MA({page:1,limit:10,status:"P"},{enabled:t,retry:!1,refetchOnMount:!1,refetchOnWindowFocus:!1}),h=m?.data||[],f=DA(),v=ft({initialValues:{remarks:""},validationSchema:it({remarks:me().required(`${i==="approve"?"Approval":"Rejection"} remarks are required`).trim().min(1,`${i==="approve"?"Approval":"Rejection"} remarks are required`)}),enableReinitialize:!0,onSubmit:async E=>{if(!(!l||!l.approvals?.[0]))try{await f.mutateAsync({request_id:l.id,approval_id:l.approvals[0].id,action:i==="approve"?"A":"R",remarks:E.remarks.trim()}),v.resetForm(),r(!1),c(null)}catch(D){console.error("Error taking action on request:",D)}}}),_=E=>{c(E),o("approve"),r(!0)},S=E=>{c(E),o("reject"),r(!0)},j=()=>{v.resetForm(),r(!1),c(null)},b=E=>{if(!E)return"default";switch(E.toUpperCase()){case"A":case"APPROVED":return"success";case"R":case"REJECTED":return"error";case"P":case"PENDING":return"warning";default:return"default"}},w=E=>{if(!E)return"N/A";switch(E.toUpperCase()){case"A":case"APPROVED":return"Approved";case"R":case"REJECTED":return"Rejected";case"P":case"PENDING":return"Pending";default:return E}},C=E=>E.replace(/_/g," ").replace(/\w\S*/g,D=>D.charAt(0).toUpperCase()+D.substr(1)),P=E=>{if(E.reference_id)return`#${E.reference_id}`;if(E.request_data)try{const D=JSON.parse(E.request_data);return D.order_number||D.reference_number||`REQ-${E.id}`}catch{return`REQ-${E.id}`}return`REQ-${E.id}`};return e.jsxs(e.Fragment,{children:[e.jsx(ot,{open:t,setOpen:s,title:"Recent Requests",size:"small",children:e.jsxs("div",{className:"!p-2",children:[u?e.jsx("div",{className:"!space-y-2",children:[1,2,3].map(E=>e.jsxs("div",{className:"!bg-white !rounded-lg !border !border-gray-200 !p-4",children:[e.jsx(J,{variant:"text",width:"60%",height:20,className:"!mb-2"}),e.jsx(J,{variant:"text",width:"40%",height:16,className:"!mb-3"}),e.jsxs("div",{className:"!flex !gap-2 !mb-3",children:[e.jsx(J,{variant:"rectangular",width:80,height:24}),e.jsx(J,{variant:"rectangular",width:80,height:24})]}),e.jsxs("div",{className:"!flex !gap-2",children:[e.jsx(J,{variant:"rectangular",width:100,height:32}),e.jsx(J,{variant:"rectangular",width:100,height:32})]})]},E))}):h.length===0?e.jsxs("div",{className:"!text-center !py-12",children:[e.jsx(Cs,{className:"!w-16 !h-16 !text-gray-400 !mx-auto !mb-4"}),e.jsx(x,{variant:"body1",className:"!text-gray-600 !mb-2",children:"No Pending Approvals"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"All requests have been processed"})]}):e.jsx("div",{className:"!space-y-2",children:h.map(E=>{const D=E.requester?.name||`User #${E.requester_id}`,T=C(E.request_type),R=P(E),z=E.approvals?.[0]?.status||E.status;return e.jsxs("div",{className:"!bg-white !rounded-lg !border !border-gray-200 !p-3 !hover:!shadow-md !transition-shadow",children:[e.jsx("div",{className:"!flex !items-center !justify-between !mb-2",children:e.jsxs("div",{className:"!flex !items-center !gap-2 !flex-1 !min-w-0",children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:R}),e.jsx(De,{label:T,size:"small",className:"!capitalize !text-xs !h-5"})]})}),e.jsxs(x,{variant:"caption",className:"!text-gray-600 !text-xs !leading-tight !block !mb-3",children:[e.jsx("span",{className:"!font-medium",children:D})," has requested"," ",e.jsxs("span",{className:"!font-medium",children:[T," Approval"]})]}),e.jsxs("div",{className:"!flex !items-center !justify-between !gap-2",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !flex-wrap",children:[e.jsx(De,{label:w(z),color:b(z),size:"small",className:"!capitalize !text-xs !h-5"}),E.createdate&&e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs",children:Oe(E.createdate instanceof Date?E.createdate.toISOString():String(E.createdate))})]}),e.jsxs("div",{className:"!flex !gap-2 !shrink-0",children:[e.jsx(G,{variant:"contained",color:"success",size:"small",startIcon:e.jsx(Yl,{className:"!w-4 !h-4"}),onClick:()=>_(E),disabled:z?.toUpperCase()!=="P"&&z?.toUpperCase()!=="PENDING",className:"!text-xs !h-8 !px-3",children:"Approve"}),e.jsx(G,{variant:"contained",color:"error",size:"small",startIcon:e.jsx(Fr,{className:"!w-4 !h-4"}),onClick:()=>S(E),disabled:z?.toUpperCase()!=="P"&&z?.toUpperCase()!=="PENDING",className:"!text-xs !h-8 !px-3",children:"Reject"})]})]})]},E.id)})}),e.jsx("div",{className:"!mt-4 !pt-4 !border-t !border-gray-200 !flex !justify-end",children:e.jsx(G,{variant:"outlined",size:"small",onClick:()=>{s(!1),a("/workflows/approvals")},children:"View All"})})]})}),e.jsxs(sc,{open:n,onClose:j,maxWidth:"sm",fullWidth:!0,className:"!rounded-lg",children:[e.jsxs(Ev,{className:"!flex !items-center !gap-3 !pb-4 !border-b !border-gray-200 !relative",children:[e.jsx("div",{className:`!w-12 !h-12 !rounded-full !flex !items-center !justify-center !shrink-0 ${i==="approve"?"!bg-green-100":"!bg-red-100"}`,children:i==="approve"?e.jsx(Yl,{className:"!w-6 !h-6 !text-green-600"}):e.jsx(Fr,{className:"!w-6 !h-6 !text-red-600"})}),e.jsxs("div",{className:"!flex-1",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900",children:i==="approve"?"Approve Request?":"Reject Request?"}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mt-1",children:i==="approve"?e.jsxs(e.Fragment,{children:["Are you sure you want to approve this"," ",l?.request_type?.replaceAll("_"," ").toLowerCase()||"request"," ","from"," ",e.jsx("span",{className:"!font-semibold !text-gray-900",children:l?.requester?.name||"User"}),"?"]}):e.jsxs(e.Fragment,{children:["Are you sure you want to reject this"," ",l?.request_type?.toLowerCase()||"request"," ","from"," ",e.jsx("span",{className:"!font-semibold !text-gray-900",children:l?.requester?.name||"User"}),"?"]})})]}),e.jsx(na,{onClick:j,className:"!absolute !top-2 !right-2 !bg-white !rounded-full !shadow-md hover:!bg-gray-100 !border !border-gray-200",size:"small",children:e.jsx(Fr,{className:"!w-4 !h-4 !text-gray-600"})})]}),e.jsxs(hg,{className:"!p-4",children:[l&&e.jsxs("div",{className:"!mb-4 !pb-4 !border-b !border-gray-200",children:[e.jsx(x,{variant:"subtitle2",className:"!font-semibold !text-gray-700 !mb-3",children:"Request Details"}),l.reference_details?e.jsx("div",{className:"!bg-gray-50 !rounded-md !p-4 !border !border-gray-200",children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[l.reference_details.order_number&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Order Number"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.reference_details.order_number})]}),l.reference_details.customer_name&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Customer Name"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.reference_details.customer_name})]}),l.reference_details.total_amount&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Total Amount"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-primary-600",children:l.reference_details.total_amount})]}),l.reference_id&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Reference ID"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:["#",l.reference_id]})]})]})}):e.jsx("div",{className:"!bg-gray-50 !rounded-md !p-4 !border !border-gray-200",children:e.jsx(x,{variant:"body2",className:"!text-gray-600 !text-center",children:"No request details available"})})]}),e.jsx(oe,{name:"remarks",multiline:!0,rows:3,label:i==="approve"?"Approval Remarks":"Rejection Remarks",placeholder:i==="approve"?"Enter approval remarks...":"Enter rejection remarks...",formik:v,required:!0})]}),e.jsxs(pg,{className:"!px-6 !py-4 !gap-2",children:[e.jsx(G,{variant:"outlined",onClick:j,children:"Cancel"}),e.jsx(G,{variant:"contained",color:i==="approve"?"success":"error",startIcon:i==="approve"?e.jsx(Yl,{className:"!w-4 !h-4"}):e.jsx(Fr,{className:"!w-4 !h-4"}),onClick:()=>v.handleSubmit(),disabled:f.isPending||!v.isValid||!v.values.remarks.trim(),children:f.isPending?i==="approve"?"Approving...":"Rejecting...":i==="approve"?"Yes, Approve":"Yes, Reject"})]})]})]})},s1={async getNotifications(t){const s={};t?.page&&(s.page=t.page),t?.limit&&(s.limit=t.limit),t?.type&&(s.type=t.type),t?.category&&(s.category=t.category),t?.is_read!==void 0&&(s.is_read=t.is_read),t?.priority&&(s.priority=t.priority);const a=await ie.get("/notifications",{params:s});return{data:a.data.data.notifications||[],pagination:a.data.pagination||{page:1,limit:20,total:0,total_pages:0},unread_count:a.data.data.unread_count||0}},async getNotificationById(t){return(await ie.get(`/notifications/${t}`)).data.data},async createNotification(t){return(await ie.post("/notifications",t)).data.data},async markAsRead(t){return(await ie.put(`/notifications/${t}/read`)).data.data},async markAllAsRead(){return(await ie.put("/notifications/read-all")).data.data||{count:0}},async deleteNotification(t){await ie.delete(`/notifications/${t}`)},async clearAll(){return(await ie.delete("/notifications/clear-all")).data.data||{count:0}},async getUnreadCount(){return(await ie.get("/notifications/unread-count")).data.data||{count:0}}},ybe=t=>nt({queryKey:["notifications",t],queryFn:()=>s1.getNotifications(t)}),bbe=()=>{const t=cs();return Su({mutationFn:s=>s1.markAsRead(s),onSuccess:()=>{t.invalidateQueries({queryKey:["notifications"]}),t.invalidateQueries({queryKey:["notifications","unread-count"]})}})},vbe=()=>{const t=cs();return Su({mutationFn:()=>s1.markAllAsRead(),onSuccess:()=>{t.invalidateQueries({queryKey:["notifications"]}),t.invalidateQueries({queryKey:["notifications","unread-count"]})}})},jbe=()=>{const t=cs();return Su({mutationFn:()=>s1.clearAll(),onSuccess:()=>{t.invalidateQueries({queryKey:["notifications"]}),t.invalidateQueries({queryKey:["notifications","unread-count"]})}})},Nbe=({onNotificationClick:t})=>{const[s,a]=g.useState(null),n=g.useRef(null),r=Gs(),i=!!s,{data:o,isLoading:l,refetch:c}=ybe({limit:20}),m=bbe(),u=vbe(),h=jbe(),f=o?.data||[],v=o?.unread_count||0,_=E=>{a(E.currentTarget)},S=()=>{a(null)},j=async E=>{E.is_read||await m.mutateAsync(E.id),E.action_url&&r(E.action_url),t?.(E),S()},b=async()=>{try{await u.mutateAsync(),c()}catch(E){console.error("Failed to mark all as read:",E)}},w=async()=>{try{await h.mutateAsync(),S(),c()}catch(E){console.error("Failed to clear all notifications:",E)}},C=E=>{switch(E){case"success":return e.jsx(pt,{className:"!text-green-500"});case"warning":return e.jsx(wg,{className:"!text-yellow-500"});case"error":return e.jsx(o_,{className:"!text-red-500"});default:return e.jsx(Ile,{className:"!text-blue-500"})}},P=E=>{if(!E)return"Just now";const D=new Date,T=new Date(E),R=D.getTime()-T.getTime(),z=Math.floor(R/6e4),O=Math.floor(R/36e5),$=Math.floor(R/864e5);return z<1?"Just now":z<60?`${z}m ago`:O<24?`${O}h ago`:$<7?`${$}d ago`:T.toLocaleDateString()};return e.jsxs("div",{className:"relative",ref:n,children:[e.jsx(E4,{badgeContent:v,color:"error",max:99,children:e.jsx(na,{onClick:_,className:"!p-1.5 !rounded-md !bg-gray-100 !text-gray-600 hover:!text-gray-900 hover:!bg-gray-100","aria-label":"notifications","aria-controls":i?"notifications-menu":void 0,"aria-haspopup":"true","aria-expanded":i?"true":void 0,children:e.jsx(F8,{className:"!text-gray-600"})})}),e.jsxs(O4,{id:"notifications-menu",anchorEl:s,open:i,onClose:S,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},slotProps:{paper:{className:"!mt-2 !ml-1 !min-w-[400px] !max-w-[400px] !max-h-[600px] relative",sx:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",overflow:"visible","&::before":{content:'""',position:"absolute",top:-8,right:16,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"8px solid white",zIndex:1,pointerEvents:"none"},"&::after":{content:'""',position:"absolute",top:-9,right:16,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"8px solid #e5e7eb",zIndex:0,pointerEvents:"none"}}},list:{className:"!py-2 !relative"}},children:[e.jsxs(y,{className:"!px-4 !py-3 !border-b !border-gray-200 !flex !items-center !justify-between !bg-gray-50",children:[e.jsx(x,{variant:"h6",className:"!text-base !font-semibold !text-gray-900",children:"Notifications"}),v>0&&e.jsx(po,{size:"small",onClick:b,className:"!text-xs !text-blue-600 hover:!text-blue-700 !normal-case",children:"Mark all as read"})]}),e.jsx(y,{className:"!max-h-[450px] !overflow-y-auto",children:l?e.jsx(y,{className:"!p-4 !space-y-3",children:[1,2,3].map(E=>e.jsxs(y,{className:"!flex !gap-3",children:[e.jsx(J,{variant:"circular",width:40,height:40}),e.jsxs(y,{className:"!flex-1",children:[e.jsx(J,{width:"60%",height:20}),e.jsx(J,{width:"100%",height:16,className:"!mt-2"}),e.jsx(J,{width:"40%",height:12,className:"!mt-1"})]})]},E))}):f.length===0?e.jsxs(y,{className:"!p-8 !text-center",children:[e.jsx(F8,{className:"!text-gray-400 !mb-2"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"No notifications"})]}):f.map(E=>e.jsxs(Z,{onClick:()=>j(E),className:`!px-4 !py-3 !border-b !border-gray-100 hover:!bg-gray-50 ${E.is_read?"":"!bg-blue-50"}`,children:[e.jsx(Wy,{className:"!min-w-0 !mr-3",children:C(E.type)}),e.jsx(Yy,{primary:e.jsxs(y,{className:"!flex !items-start !justify-between !gap-2",children:[e.jsx(x,{variant:"body2",className:`!font-medium !text-sm ${E.is_read?"!text-gray-700":"!text-gray-900"}`,children:E.title}),!E.is_read&&e.jsx(Tle,{className:"!text-blue-500 !text-xs"})]}),secondary:e.jsxs(e.Fragment,{children:[e.jsx(x,{component:"span",variant:"body2",className:"!text-xs !text-wrap !text-gray-500 !mt-1 !block",children:E.message}),e.jsx(x,{component:"span",variant:"caption",className:"!text-xs !text-gray-400 !mt-1 !block",children:P(E.createdate)})]})})]},E.id))}),f.length>0&&!l&&[e.jsx(fn,{},"divider"),e.jsx(y,{className:"!px-4 !py-2 !flex !justify-center",children:e.jsx(po,{size:"small",onClick:w,className:"!text-xs !text-gray-600 hover:!text-gray-900 !normal-case",children:"Clear all notifications"})},"clear-all")]]})]})},wbe=Ne(E4)(({theme:t})=>({"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:`0 0 0 2px ${t.palette.background.paper}`,borderRadius:"50%",minWidth:"10px",height:"10px","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}})),_be=({sidebarOpen:t,toggleSidebar:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(!1),o=Gs(),l=!!a,{user:c,isLoading:m,logout:u,isLoggingOut:h}=TA(),{data:f}=MA({page:1,limit:100,status:"P"},{retry:!1,refetchOnMount:!1,refetchOnWindowFocus:!1}),v=f?.pagination?.total_count||0,_=D=>{n(D.currentTarget)},S=()=>{n(null)},j=()=>{try{u(),S()}catch(D){console.error("Logout failed:",D)}},b=()=>{o("/profile"),S()},w=()=>{o("/settings/system"),S()},C=()=>c?.name?c.name.split(" ").map(D=>D[0]).join("").toUpperCase().slice(0,2):"U",P=()=>c?.name??"User",E=()=>c?.role?.name??"User";return e.jsxs("header",{className:"bg-white border-b border-gray-200 h-[67px]",children:[e.jsxs("div",{className:"flex items-center justify-between h-full px-4",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("button",{onClick:s,className:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 sm:hidden",children:t?e.jsx(tce,{size:20}):e.jsx(Qle,{size:20})})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E4,{badgeContent:v,color:"error",max:99,invisible:v===0,children:e.jsx(na,{onClick:()=>i(!0),className:"!p-1.5 !rounded-md !bg-gray-100 !text-gray-600 hover:!text-gray-900 hover:!bg-gray-100","aria-label":"approvals","aria-controls":r?"approvals-drawer":void 0,"aria-haspopup":"true","aria-expanded":r?"true":void 0,children:e.jsx(kle,{className:"!text-gray-600"})})}),e.jsx(Nbe,{onNotificationClick:D=>{console.log("Notification clicked:",D)}}),e.jsxs("div",{className:"relative",children:[e.jsx(na,{onClick:_,className:"!p-2 !rounded-md !bg-gray-50 !text-gray-700 hover:!bg-gray-100","aria-label":"user menu","aria-controls":l?"user-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0,children:m?e.jsx(J,{variant:"circular",width:40,height:40,sx:{bgcolor:"grey.200"}}):e.jsx(wbe,{overlap:"rectangular",anchorOrigin:{vertical:"bottom",horizontal:"left"},variant:"dot",children:e.jsx(ht,{alt:P(),src:c?.profile_image||void 0,className:"!w-9 !h-9 !text-sm !font-medium",sx:{bgcolor:"primary.main",borderRadius:"5px"},children:C()})})}),e.jsxs(O4,{id:"user-menu",anchorEl:a,open:l,onClose:S,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},slotProps:{paper:{className:"!mt-2 !min-w-[240px] relative",sx:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",overflow:"visible"}},list:{className:"!px-0 !py-1 !relative"}},children:[e.jsx(y,{sx:{position:"absolute",top:-8,right:16,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"8px solid white",zIndex:1,pointerEvents:"none"}}),e.jsx(y,{sx:{position:"absolute",top:-9,right:16,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"8px solid #e5e7eb",zIndex:0,pointerEvents:"none"}}),e.jsxs(y,{className:"!px-4 !py-3 !border-b !border-gray-200 !bg-gray-50",children:[e.jsxs(y,{className:"!flex !items-center !gap-3 !mb-2",children:[m?e.jsx(J,{variant:"circular",width:40,height:40,sx:{bgcolor:"grey.200"}}):e.jsx(ht,{alt:P(),src:c?.profile_image||void 0,sx:{width:40,height:40,bgcolor:"primary.main",fontSize:"1rem",fontWeight:500},children:C()}),e.jsxs(y,{className:"!flex-1",children:[e.jsx(x,{variant:"body2",className:"!text-sm !font-medium !text-gray-900",sx:{fontWeight:500},children:m?e.jsx(J,{width:120,height:16}):P()}),e.jsx(x,{variant:"caption",className:"!text-xs !text-gray-500",children:m?e.jsx(J,{width:80,height:12}):E()})]})]}),e.jsx(x,{variant:"caption",className:"!text-xs !text-gray-500",children:m?e.jsx(J,{width:150,height:12}):c?.email||"user@example.com"})]}),e.jsxs(Z,{onClick:b,className:"!px-4 !py-2",children:[e.jsx(Wy,{className:"!min-w-0 !mr-3",children:e.jsx(Cle,{fontSize:"small",className:"!text-gray-500"})}),e.jsx(Yy,{primary:"My Profile",primaryTypographyProps:{className:"!text-sm !text-gray-700"}})]}),e.jsxs(Z,{onClick:w,className:"!px-4 !py-2",children:[e.jsx(Wy,{className:"!min-w-0 !mr-3",children:e.jsx(xu,{fontSize:"small",className:"!text-gray-500"})}),e.jsx(Yy,{primary:"Settings",primaryTypographyProps:{className:"!text-sm !text-gray-700"}})]}),e.jsx(fn,{className:"!my-1"}),e.jsxs(Z,{onClick:j,disabled:h,className:"!px-4 !py-2",sx:{"&.Mui-disabled":{opacity:.5}},children:[e.jsx(Wy,{className:"!min-w-0 !mr-3",children:e.jsx(zle,{fontSize:"small",className:"!text-red-600"})}),e.jsx(Yy,{primary:h?"Signing out...":"Logout",primaryTypographyProps:{className:"!text-sm !text-red-600"}})]})]})]})]})]}),e.jsx(gbe,{open:r,setOpen:i})]})},Sbe=()=>{const t=Ze("dashboard"),s=Ze("company"),a=Ze("user"),n=Ze("role"),r=Ze("depot"),i=Ze("zone"),o=Ze("currency"),l=Ze("route"),c=Ze("route-type"),m=Ze("outlet"),u=Ze("outlet-group"),h=Ze("asset-type"),f=Ze("asset-master"),v=Ze("warehouse"),_=Ze("vehicle"),S=Ze("brand"),j=Ze("product-category"),b=Ze("product-sub-category"),w=Ze("unit-of-measurement"),C=Ze("subunit-of-measurement"),P=Ze("product"),E=Ze("pricelist"),D=Ze("sales-target-group"),T=Ze("sales-target"),R=Ze("sales-bonus-rule"),z=Ze("kpi-target"),O=Ze("survey"),$=Ze("promotions"),A=Ze("order"),Q=Ze("delivery"),K=Ze("return"),U=Ze("payment"),B=Ze("invoice"),V=Ze("credit-note"),Y=Ze("visit"),H=Ze("asset-movement"),F=Ze("maintenance"),M=Ze("installation"),L=Ze("inspection"),W=Ze("van-stock"),X=Ze("stock-movement"),te=Ze("stock-transfer"),se=Ze("batch-lots"),ae=Ze("inventory-items"),pe=Ze("inventory-management"),he=Ze("competitor"),re=Ze("customer-complaint"),xe=Ze("customer-category"),ge=Ze("customer-type"),le=Ze("customer-channel"),de=Ze("product-flavour"),we=Ze("product-volume"),Ae=Ze("product-shelf-life"),Fe=Ze("product-type"),Me=Ze("product-target-group"),Xe=Ze("product-web-order"),ke=Ze("cooler-type"),Ye=Ze("cooler-sub-type"),ye=Ze("tax-master"),We=Ze("location"),Ge=Ze("route-effectiveness"),jt=Ze("erp-sync"),dt=Ze("report"),wt=Ze("approval"),Dt=Ze("exception"),ve=Ze("alert"),Le=Ze("profile"),$e=Ze("login-history"),bt=Ze("token"),Zt=Ze("setting"),Ot=g.useMemo(()=>({dashboard:t,company:s,user:a,role:n,depot:r,zone:i,currency:o,route:l,"route-type":c,outlet:m,"outlet-group":u,"asset-type":h,"asset-master":f,warehouse:v,vehicle:_,brand:S,"product-category":j,"product-sub-category":b,"unit-of-measurement":w,"subunit-of-measurement":C,product:P,pricelist:E,"sales-target-group":D,"sales-target":T,"sales-bonus-rule":R,"kpi-target":z,survey:O,promotions:$,order:A,delivery:Q,return:K,payment:U,invoice:B,"credit-note":V,visit:Y,"asset-movement":H,maintenance:F,installation:M,inspection:L,"van-stock":W,"stock-movement":X,"stock-transfer":te,"batch-lots":se,"inventory-items":ae,"inventory-management":pe,competitor:he,"customer-complaint":re,"customer-category":xe,"customer-type":ge,"customer-channel":le,"product-flavour":de,"product-volume":we,"product-shelf-life":Ae,"product-type":Fe,"product-target-group":Me,"product-web-order":Xe,"cooler-type":ke,"cooler-sub-type":Ye,"tax-master":ye,location:We,"route-effectiveness":Ge,"erp-sync":jt,report:dt,approval:wt,exception:Dt,alert:ve,profile:Le,"login-history":$e,token:bt,setting:Zt}),[t,s,a,n,r,i,o,l,c,m,u,h,f,v,_,S,j,b,w,C,P,E,D,T,R,z,O,$,A,Q,K,U,B,V,Y,H,F,M,L,W,X,te,se,ae,pe,he,re,xe,ge,le,de,we,Ae,Fe,Me,Xe,ke,Ye,ye,We,Ge,jt,dt,wt,Dt,ve,Le,$e,bt,Zt]),It=g.useCallback(Gt=>{const es=mae[Gt];if(!es)return!0;const us=Ot[es];return us?.isRead||us?.isCreate||us?.isUpdate||us?.isDelete||!1},[Ot]),ts=g.useCallback(Gt=>Gt.map(es=>{if(es.children&&es.children.length>0){const us=ts(es.children);return us.length>0?{...es,children:us}:null}return It(es.id)?es:null}).filter(es=>es!==null),[It]),st=g.useMemo(()=>Object.values(Ot).some(Gt=>Gt?.isLoading),[Ot]);return{hasPermission:It,filterMenuItems:ts,isLoading:st}},Cbe=()=>{const t=Gs(),s=bi(),[a,n]=g.useState(new Set),[r,i]=g.useState(""),{filterMenuItems:o,isLoading:l}=Sbe(),c=_=>_?s.pathname===_||s.pathname.startsWith(_+"/"):!1,m=(_,S)=>S.trim()?_.toLowerCase().includes(S.toLowerCase()):!0,u=g.useMemo(()=>o(wR),[o]),h=g.useMemo(()=>{if(!r.trim())return u;const _=r.toLowerCase();return u.map(S=>{const j=S.children?.map(b=>{const w=m(b.label,_),C=b.children?.filter(E=>m(E.label,_)),P=C&&C.length>0;return w||P?{...b,children:P?C:b.children}:null}).filter(Boolean);return j&&j.length>0?{...S,children:j}:null}).filter(Boolean)},[r,u]);g.useEffect(()=>{(S=>{S.forEach(j=>{j.children&&j.children.forEach(b=>{b.children&&b.children.some(C=>c(C.href))&&n(C=>C.has(b.id)?C:new Set(C).add(b.id))})})})(u)},[s.pathname,u]),g.useEffect(()=>{if(r.trim()){const _=new Set;h.forEach(S=>{S.children?.forEach(j=>{j.children&&j.children.length>0&&_.add(j.id)})}),n(_)}},[r,h]);const f=_=>{n(S=>{const j=new Set(S);return j.has(_)?j.delete(_):j.add(_),j})},v=g.useCallback(_=>{if(!_)return;const S=_,j=s.pathname,b={forceReload:Date.now()};S===j?t(S,{replace:!0,state:b}):t(S,{replace:!1,state:b}),r.trim()&&setTimeout(()=>{i("")},100)},[t,s.pathname,r]);return e.jsxs("div",{className:"h-screen w-72 bg-white border-r border-gray-200 flex flex-col transition-all duration-300 ease-in-out",children:[e.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center gap-2",children:[e.jsx("img",{src:"/sfa.png",alt:"DCC-SFA Logo",className:"h-[42px] w-auto object-contain"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-bold text-[#004080] text-xl leading-tight",children:"DCC-SFA"}),e.jsx("span",{className:"font-medium text-[#666666] text-xs leading-tight",children:"Your Reliable IT Partner"})]})]}),e.jsx("div",{className:"",children:e.jsx("input",{type:"text",placeholder:"Search menu...",value:r,className:"!w-full !p-2 px-2.5 placeholder:text-sm rounded-none outline-none border-b border-gray-200",onChange:_=>i(_.target.value)})}),e.jsx("div",{className:"flex flex-col overflow-y-auto",children:l?e.jsx("div",{className:"p-2 space-y-2",children:[1,2,3,4,5,6,7,8,9,10].map(_=>e.jsxs("div",{className:"flex items-center gap-2 p-2",children:[e.jsx(J,{variant:"rectangular",width:24,height:24,className:"!rounded"}),e.jsx(J,{variant:"text",width:"80%",height:24})]},_))}):h.length===0?e.jsx("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:e.jsx("span",{className:"text-sm text-gray-500 text-center",children:r.trim()?`No menu items found matching "${r}"`:"No menu items available"})}):h.map(_=>e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm px-2 py-2 leading-tight font-medium uppercase text-gray-600",children:_.label}),_.children&&_.children.length>0&&e.jsx("div",{className:"flex flex-col p-1",children:_.children.map(S=>{const j=S.children?.some(P=>c(P.href)),b=c(S.href)||j,w=a.has(S.id),C=S.children&&S.children.length>0;return e.jsxs(Nt.Fragment,{children:[e.jsxs(jE,{onClick:()=>C?f(S.id):v(S.href),className:`group !justify-between !cursor-pointer !mb-0.5 !flex !items-center hover:!bg-blue-200 !rounded !p-1.5 !transition-colors !duration-300 ${b?"!bg-blue-200":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[S.icon&&e.jsx("div",{className:`flex items-center h-8 w-8 justify-center rounded transition-colors duration-300 ease-in-out ${b?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 group-hover:bg-blue-600 group-hover:text-white"}`,children:e.jsx(S.icon,{className:`pointer-events-none transition-colors duration-300 ${b?"text-white":"text-gray-600 group-hover:text-white"}`})}),e.jsx("span",{className:`text-sm truncate !font-medium transition-colors duration-300 ease-in-out flex items-center gap-1 ${b?"text-blue-600 !font-semibold":"text-gray-600 group-hover:text-blue-600"}`,children:S.label?.length>22?S.label?.slice(0,22)+"...":S.label})]}),S.children&&S.children.length>0&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Ele,{fontSize:"small",className:`transition-all duration-300 ease-in-out ${w?"rotate-90":""} ${b?"text-blue-600":"text-gray-600 group-hover:text-blue-600"}`})})]},S.id),S.children&&S.children.length>0&&e.jsx(Sw,{in:w,timeout:"auto",unmountOnExit:!0,children:e.jsx("div",{className:"flex flex-col",children:S.children.map(P=>{const E=c(P.href);return e.jsx(jE,{onClick:D=>{D.stopPropagation(),v(P.href)},className:"group !justify-between !cursor-pointer !flex !items-center hover:!bg-transparent !rounded !p-0 !pl-10 !transition-colors !duration-300",children:e.jsxs("div",{className:"flex relative items-center gap-2",children:[e.jsx("div",{className:"absolute z-0 left-1 top-0 h-full border-l-2 border-dotted border-gray-300"}),e.jsx("span",{className:`text-2xl z-10 transition-colors duration-300 ${E?"text-blue-600":"text-gray-600 group-hover:text-blue-600"}`,children:""}),e.jsx("span",{className:`text-sm truncate transition-colors !font-medium duration-300 ease-in-out flex items-center gap-1 ${E?"text-blue-600 !font-semibold":"text-gray-600 group-hover:text-blue-600"}`,children:P.label})]})},P.id)})})})]},S.id)})})]})},_.id))})]})};var DN={exports:{}};var UT;function kbe(){return UT||(UT=1,(function(t){(function(){var s={}.hasOwnProperty;function a(){for(var i="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(i=r(i,n(l)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return a.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var l in i)s.call(i,l)&&i[l]&&(o=r(o,l));return o}function r(i,o){return o?i?i+" "+o:i+o:i}t.exports?(a.default=a,t.exports=a):window.classNames=a})()})(DN)),DN.exports}var Pbe=kbe();const ln=ao(Pbe),Ebe=({navItem:t,navLink:s,id:a})=>{const[n,r]=g.useState([]),[i,o]=g.useState(""),{state:l}=bi();g.useEffect(()=>{l&&o(l)},[l]);const c=Gs(),m=(u,h,f)=>{if(u.stopPropagation(),f!==0)c(n[f-1].navLink,{state:i});else if(n.length>1)c(n[f+1].navLink,{state:i});else return;r(n.filter(v=>v.id!==h))};return g.useEffect(()=>{r(u=>{const h=u.findIndex(_=>_.navItem===t);if(h!==-1){if(u[h].id===a&&u[h].navLink===s)return u;const _=[...u];return _[h]={id:a,navItem:t,navLink:s},_}const f=u.findIndex(_=>_.id===a);if(f!==-1){const _=[...u];return _[f]={id:a,navItem:t,navLink:s},_}if(typeof t=="string"&&/^\d+$/.test(t)&&u.length>0){const _=u[u.length-1];if(_&&_.id!==a){const S=[...u];return S[S.length-1]={..._,navItem:`${_.navItem} ${t}`,navLink:s,id:a},S}return u}return[...u,{id:a,navItem:t,navLink:s}]})},[a,t,s]),g.useEffect(()=>{document.title=t},[t]),e.jsx("div",{className:"flex !p-0 items-center gap-1 border-b overflow-x-auta border-gray-300",children:e.jsx("div",{className:"flex items-center hide-scrollbar gap-0.5 w-[84vw] transition-all duration-300 overflow-x-auto overflow-y-hidden breadcrambs rounded-lg px-0.5 py-1",children:n.filter(u=>n?.some(h=>h.navItem===u.navItem)).map((u,h)=>e.jsx(De,{label:u.navItem?u.navItem?.replaceAll("-"," "):"Executive Dashboard",className:ln("!rounded-md flex items-center !capitalize !text-white px-2 py-1",u.id===a?"!bg-blue-600":"!bg-blue-300"),onClick:()=>c(u.navLink,{state:i}),onDelete:f=>m(f,u.id,h),deleteIcon:e.jsx(Dle,{className:"!text-white"})},u.id))})})},Tbe=async t=>{try{return(await ie.get("/currencies",{params:t})).data}catch(s){throw console.error("Error fetching currencies:",s),new Error(s.response?.data?.message||"Failed to fetch currencies")}},Mbe=async t=>{try{return(await ie.post("/currencies",t)).data}catch(s){throw console.error("Error creating currency:",s),new Error(s.response?.data?.message||"Failed to create currency")}},Dbe=async(t,s)=>{try{return(await ie.put(`/currencies/${t}`,s)).data}catch(a){throw console.error("Error updating currency:",a),new Error(a.response?.data?.message||"Failed to update currency")}},Rbe=async t=>{try{return(await ie.delete(`/currencies/${t}`)).data}catch(s){throw console.error("Error deleting currency:",s),new Error(s.response?.data?.message||"Failed to delete currency")}},ql={all:["currencies"],lists:()=>[...ql.all,"list"],list:t=>[...ql.lists(),t],details:()=>[...ql.all,"detail"],detail:t=>[...ql.details(),t]},nc=(t,s)=>nt({queryKey:ql.list(t||{}),queryFn:()=>Tbe(t),staleTime:300*1e3,...s}),Abe=t=>{const s=cs();return Re({mutationFn:Mbe,loadingMessage:"Creating currency...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:ql.lists()})},onError:t?.onError})},Ibe=t=>{const s=cs();return Re({mutationFn:({id:a,...n})=>Dbe(a,n),loadingMessage:"Updating currency...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:ql.lists()}),s.invalidateQueries({queryKey:ql.detail(n.id)})},onError:t?.onError})},Obe=t=>{const s=cs();return Re({mutationFn:Rbe,loadingMessage:"Deleting currency...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:ql.lists()})},onError:t?.onError})},Fbe=async()=>{try{return(await ie.get("/settings")).data}catch(t){throw t}},Lbe=async(t,s)=>{try{return(await ie.put(`/settings/${t}`,s,{headers:s instanceof FormData?{"Content-Type":"multipart/form-data"}:{"Content-Type":"application/json"}})).data}catch(a){throw a}},VO={all:["settings"],detail:()=>[...VO.all,"detail"]},Mu=()=>nt({queryKey:VO.detail(),queryFn:()=>Fbe(),staleTime:300*1e3}),zbe=()=>Re({mutationFn:({id:t,settingsData:s})=>Lbe(t,s),loadingMessage:"Updating settings...",invalidateQueries:[["settings"]]}),$be=({children:t})=>{const{data:s,isLoading:a,error:n}=nc({limit:1e3}),{data:r,isLoading:i,error:o}=Mu(),l=s?.data||[],m=r?.data?.currency_id||1,u={currencies:l,defaultCurrencyId:m,isLoading:a||i,error:n?.message||o?.message||null};return e.jsx(HO.Provider,{value:u,children:t})},HO=g.createContext(void 0),qbe=()=>{const t=g.useContext(HO);if(t===void 0)throw new Error("useCurrencyContext must be used within a CurrencyProvider");return t},Bbe=()=>{const[t,s]=g.useState(!1),[a,n]=g.useState(0),r=bi(),i=g.useRef(null),o=g.useRef(""),l=g.useRef(null),c=()=>s(!t);g.useEffect(()=>{const h=r.pathname+r.search,v=r.state?.forceReload??null,_=o.current!==h,S=l.current!==v;(_||S)&&(_&&(o.current=h),S&&v!==null&&(l.current=v),n(j=>j+1),i.current&&i.current.scrollTo({top:0,behavior:"smooth"}))},[r.pathname,r.search,r.key,r.state]);const m=`${r.pathname}${r.search}${r.key||a}${r.state?.forceReload||""}`,u=()=>{const h=r.pathname.split("/").filter(Boolean),f=h[h.length-1]||"",v=/^\d+$/.test(f);return r.pathname==="/"||r.pathname==="/dashboard/executive"?"Executive Dashboard":v&&h.length>1?`${h[h.length-2].split("-").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" ")} @${f}`:f.split("-").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" ")||""};return e.jsx($be,{children:e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(Cbe,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(_be,{sidebarOpen:t,toggleSidebar:c}),e.jsx(Ebe,{id:r.pathname,navItem:u(),navLink:r.pathname}),e.jsx("main",{ref:i,className:"flex-1 overflow-auto p-5",children:e.jsx(EU,{},m)})]})]})})},Ube=it({email:me().matches(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Please enter a valid email address").required("Email is required"),password:me().min(6,"Password must be at least 6 characters").required("Password is required")}),Vbe=()=>{const t=Gs(),s=bi(),a=cs(),n=s.state?.from?.pathname||"/",r=rce({onSuccess:l=>{l.success&&(window.dispatchEvent(new Event("auth-change")),a.invalidateQueries({queryKey:zl.profile()}),setTimeout(()=>{t(n,{replace:!0})},100))}});g.useEffect(()=>{Yi.isAuthenticated()&&t(n,{replace:!0})},[t,n]);const i=ft({initialValues:{email:"",password:"",rememberMe:!1},validationSchema:Ube,onSubmit:async l=>{await o(l)}}),o=async l=>{console.log(l),l.rememberMe?localStorage.setItem("dcc_sfa_remember_email",l.email):localStorage.removeItem("dcc_sfa_remember_email");const c={email:l.email,password:l.password};r.mutate(c)};return g.useEffect(()=>{const l=localStorage.getItem("dcc_sfa_remember_email");l&&(i.setFieldValue("email",l),i.setFieldValue("rememberMe",!0))},[]),e.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",children:[e.jsx("div",{className:"w-full lg:w-1/2 bg-white p-4 sm:p-6 lg:p-8",children:e.jsxs("div",{className:"bg-gradient-to-br min-h-[400px] lg:h-full rounded-lg from-blue-600 via-blue-700 to-blue-800 flex flex-col justify-center items-center p-6 sm:p-8 lg:p-10 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white rounded-full"}),e.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 bg-white rounded-full"}),e.jsx("div",{className:"absolute bottom-32 left-32 w-40 h-40 bg-white rounded-full"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 bg-white rounded-full"})]}),e.jsxs("div",{className:"relative z-10 text-center mb-8 lg:mb-12",children:[e.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-white mb-3 lg:mb-4",children:"Streamline your sales force operations."}),e.jsx("p",{className:"text-blue-100 text-sm sm:text-base",children:"Access your SFA dashboard to manage orders, customers, and field operations."})]}),e.jsxs("div",{className:"relative z-10 w-full max-w-4xl bg-white rounded-xl lg:rounded-2xl shadow-xl lg:shadow-2xl py-4 sm:py-6 lg:py-6 px-4 sm:px-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 sm:p-4",children:[e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Total Orders"}),e.jsx("div",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"1,247"}),e.jsx("div",{className:"text-xs text-green-600",children:"+15.2%"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-3 sm:p-4",children:[e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Active Customers"}),e.jsx("div",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"856"}),e.jsx("div",{className:"text-xs text-green-600",children:"+8.7%"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-3 sm:p-4",children:[e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Field Visits"}),e.jsx("div",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"324"}),e.jsx("div",{className:"text-xs text-orange-600",children:"This Week"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:"Product Categories"}),e.jsx("div",{className:"flex items-center justify-center h-20 sm:h-24 bg-white rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg sm:text-xl font-bold text-blue-600 mb-1",children:"2,847 Units"}),e.jsx("div",{className:"text-xs text-gray-600 px-2",children:"Beverages: 35% | Snacks: 28% | Dairy: 22% | Others: 15%"})]})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4",children:[e.jsx("div",{className:"text-xs sm:text-sm font-semibold text-gray-900 mb-2 sm:mb-3",children:"Recent Orders"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-blue-600 font-bold text-xs",children:"B"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900 text-xs sm:text-sm truncate",children:"Coca-Cola 500ml Pack"}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:"Order #ORD-2024-001"})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[e.jsx("div",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:"TZS 245.50"}),e.jsx("div",{className:"text-xs text-green-600",children:"Delivered"})]})]}),e.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-orange-600 font-bold text-xs",children:"S"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900 text-xs sm:text-sm truncate",children:"Snack Mix Variety Pack"}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:"Order #ORD-2024-002"})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[e.jsx("div",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:"TZS 189.75"}),e.jsx("div",{className:"text-xs text-blue-600",children:"Processing"})]})]})]})]})]})]})}),e.jsxs("div",{className:"w-full lg:w-1/2 bg-white flex flex-col justify-center px-4 sm:px-6 lg:px-12 xl:px-32 py-6 sm:py-8 lg:py-12",children:[e.jsx("div",{className:"mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm sm:text-lg",children:"D"})}),e.jsx("span",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"DCC-SFA"})]})}),e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Enter your email and password to access your account."})]}),e.jsxs("form",{onSubmit:i.handleSubmit,noValidate:!0,className:"space-y-4 sm:space-y-6",children:[e.jsx(oe,{name:"email",type:"email",label:"Email",placeholder:"Enter your email",formik:i,required:!0,className:"!mt-4"}),e.jsx(oe,{name:"password",type:"password",label:"Password",placeholder:"Enter your password",formik:i,required:!0,className:"!mt-6"}),e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0",children:e.jsx(si,{control:e.jsx(qo,{name:"rememberMe",checked:i.values.rememberMe,onChange:i.handleChange,size:"small",sx:{color:"#6b7280","&.Mui-checked":{color:"#3b82f6"}}}),label:e.jsx("span",{className:"text-gray-700 text-xs sm:text-sm font-medium",children:"Remember Me"})})}),e.jsx(G,{type:"submit",variant:"contained",fullWidth:!0,disabled:!i.isValid||r.isPending,loading:r.isPending,className:"!py-2 sm:!py-3 disabled:!text-gray-200 !text-sm sm:!text-base !font-semibold !rounded-lg !bg-gradient-to-r !from-blue-600 !to-blue-700 hover:!from-blue-700 hover:!to-blue-800 !shadow-md hover:!shadow-lg !transition-all !duration-200",children:r.isPending?"Signing In...":"Log In"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 sm:gap-0 mt-8 sm:mt-12 text-xs text-gray-500",children:[e.jsxs("span",{className:"text-center sm:text-left",children:["Copyright  ",new Date().getFullYear()," DCC Sales Force Automation System."]}),e.jsx(FJ,{component:ux,to:"/privacy-policy",className:"text-gray-500 hover:text-gray-700 no-underline hover:underline transition-colors text-center sm:text-right",children:"Privacy Policy"})]})]})]})},Hbe=()=>e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm sm:text-lg",children:"D"})}),e.jsx("span",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"DCC-SFA"})]}),e.jsx(ux,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-blue-600 text-blue-600 rounded-md text-sm font-medium hover:bg-blue-50 transition-colors",children:"Back to Login"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 sm:px-8 py-8 sm:py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:"Privacy Policy"}),e.jsx("p",{className:"text-blue-100 text-lg sm:text-xl max-w-2xl mx-auto",children:"Your privacy is important to us. This policy explains how we collect, use, and protect your information."}),e.jsxs("div",{className:"mt-6 text-sm text-blue-200",children:["Last updated: January 15, ",new Date().getFullYear()]})]})}),e.jsx("div",{className:"px-6 sm:px-8 py-8 sm:py-12",children:e.jsxs("div",{className:"prose prose-lg max-w-none",children:[e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"1"})}),"Introduction"]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:'DCC Sales Force Automation System ("DCC-SFA", "we", "us", or "our") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our sales force automation platform and related services.'}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By using our services, you agree to the collection and use of information in accordance with this policy. If you do not agree with the terms of this Privacy Policy, please do not access or use our services."})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"2"})}),"Information We Collect"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Personal Information"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsx("li",{children:"Name, email address, and contact information"}),e.jsx("li",{children:"Company and job title information"}),e.jsx("li",{children:"User credentials and authentication data"}),e.jsx("li",{children:"Profile information and preferences"}),e.jsx("li",{children:"Communication records and support interactions"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Business Information"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsx("li",{children:"Customer and prospect data"}),e.jsx("li",{children:"Sales orders and transaction records"}),e.jsx("li",{children:"Product catalogs and pricing information"}),e.jsx("li",{children:"Route and territory management data"}),e.jsx("li",{children:"Performance metrics and analytics"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Technical Information"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsx("li",{children:"Device information and IP addresses"}),e.jsx("li",{children:"Browser type and version"}),e.jsx("li",{children:"Usage patterns and system logs"}),e.jsx("li",{children:"Cookies and similar tracking technologies"}),e.jsx("li",{children:"Location data (when permitted)"})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"3"})}),"How We Use Your Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Service Delivery"}),e.jsxs("ul",{className:"list-disc list-inside text-blue-800 space-y-2 text-sm",children:[e.jsx("li",{children:"Provide and maintain our platform"}),e.jsx("li",{children:"Process transactions and orders"}),e.jsx("li",{children:"Manage user accounts and permissions"}),e.jsx("li",{children:"Deliver customer support"})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"Business Operations"}),e.jsxs("ul",{className:"list-disc list-inside text-green-800 space-y-2 text-sm",children:[e.jsx("li",{children:"Generate reports and analytics"}),e.jsx("li",{children:"Improve system performance"}),e.jsx("li",{children:"Conduct research and development"}),e.jsx("li",{children:"Ensure system security"})]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-3",children:"Communication"}),e.jsxs("ul",{className:"list-disc list-inside text-purple-800 space-y-2 text-sm",children:[e.jsx("li",{children:"Send important notifications"}),e.jsx("li",{children:"Provide system updates"}),e.jsx("li",{children:"Share marketing materials"}),e.jsx("li",{children:"Respond to inquiries"})]})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-900 mb-3",children:"Legal Compliance"}),e.jsxs("ul",{className:"list-disc list-inside text-orange-800 space-y-2 text-sm",children:[e.jsx("li",{children:"Comply with legal obligations"}),e.jsx("li",{children:"Protect against fraud"}),e.jsx("li",{children:"Enforce our terms of service"}),e.jsx("li",{children:"Respond to legal requests"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"4"})}),"Information Sharing and Disclosure"]}),e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-yellow-600 text-xl",children:""})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"We Do Not Sell Your Data"}),e.jsx("p",{className:"text-yellow-700 mt-1",children:"We do not sell, trade, or rent your personal information to third parties for marketing purposes."})]})]})}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We may share your information only in the following limited circumstances:"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:""})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Service Providers"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"With trusted third-party service providers who assist us in operating our platform, conducting business, or serving users."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:""})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Legal Requirements"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"When required by law or to protect our rights, property, or safety, or that of our users."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:""})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Business Transfers"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"In connection with any merger, sale of assets, or acquisition of our business."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:""})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Consent"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"With your explicit consent for any other purpose not covered in this policy."})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"5"})}),"Data Security"]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"Security Measures"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-600",children:""}),e.jsx("span",{className:"text-green-800 text-sm",children:"Encryption in transit and at rest"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-600",children:""}),e.jsx("span",{className:"text-green-800 text-sm",children:"Multi-factor authentication"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-600",children:""}),e.jsx("span",{className:"text-green-800 text-sm",children:"Role-based access controls"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-600",children:""}),e.jsx("span",{className:"text-green-800 text-sm",children:"Regular security audits"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-600",children:""}),e.jsx("span",{className:"text-green-800 text-sm",children:"Intrusion detection systems"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-600",children:""}),e.jsx("span",{className:"text-green-800 text-sm",children:"Secure data backups"})]})]})]})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"While we implement industry-standard security measures to protect your information, no method of transmission over the internet or electronic storage is 100% secure. We cannot guarantee absolute security but are committed to maintaining the highest standards of data protection."})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"6"})}),"Your Rights and Choices"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Access and Portability"}),e.jsx("p",{className:"text-blue-800 text-sm",children:"Request access to your personal data and receive it in a portable format."})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Correction"}),e.jsx("p",{className:"text-green-800 text-sm",children:"Update or correct inaccurate personal information in your account."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"Deletion"}),e.jsx("p",{className:"text-purple-800 text-sm",children:"Request deletion of your personal data, subject to legal requirements."})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:"Communication Preferences"}),e.jsx("p",{className:"text-orange-800 text-sm",children:"Opt out of marketing communications while receiving essential service updates."})]})]})]}),e.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"How to Exercise Your Rights"}),e.jsx("p",{className:"text-gray-700 text-sm mb-3",children:'To exercise any of these rights, please contact us using the information provided in the "Contact Us" section below. We will respond to your request within 30 days.'}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Email: privacy@dcc-sfa.com"})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"7"})}),"Data Retention"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We retain your personal information only for as long as necessary to fulfill the purposes outlined in this Privacy Policy, unless a longer retention period is required or permitted by law."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),e.jsxs("span",{className:"text-gray-700 text-sm",children:[e.jsx("strong",{children:"Account Information:"})," Retained while your account is active and for 3 years after closure"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),e.jsxs("span",{className:"text-gray-700 text-sm",children:[e.jsx("strong",{children:"Transaction Records:"})," Retained for 7 years for accounting and legal compliance"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),e.jsxs("span",{className:"text-gray-700 text-sm",children:[e.jsx("strong",{children:"Communication Logs:"})," Retained for 2 years for customer support purposes"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),e.jsxs("span",{className:"text-gray-700 text-sm",children:[e.jsx("strong",{children:"Analytics Data:"})," Retained for 1 year in aggregated, anonymized form"]})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"8"})}),"Cookies and Tracking Technologies"]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Types of Cookies We Use"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-white text-lg",children:""})}),e.jsx("h4",{className:"font-semibold text-blue-900 text-sm",children:"Essential"}),e.jsx("p",{className:"text-blue-800 text-xs",children:"Required for basic functionality"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-white text-lg",children:""})}),e.jsx("h4",{className:"font-semibold text-green-900 text-sm",children:"Functional"}),e.jsx("p",{className:"text-green-800 text-xs",children:"Remember your preferences"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-white text-lg",children:""})}),e.jsx("h4",{className:"font-semibold text-purple-900 text-sm",children:"Analytics"}),e.jsx("p",{className:"text-purple-800 text-xs",children:"Help us improve our service"})]})]})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"You can control cookie preferences through your browser settings. However, disabling certain cookies may affect the functionality of our platform. We use cookies to enhance your experience, remember your preferences, and analyze how our platform is used."})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"9"})}),"International Data Transfers"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Your information may be transferred to and processed in countries other than your country of residence. These countries may have different data protection laws than your country."}),e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Safeguards for International Transfers"}),e.jsxs("ul",{className:"list-disc list-inside text-blue-800 text-sm space-y-1",children:[e.jsx("li",{children:"Standard contractual clauses approved by relevant authorities"}),e.jsx("li",{children:"Adequacy decisions from data protection authorities"}),e.jsx("li",{children:"Certification schemes and codes of conduct"}),e.jsx("li",{children:"Binding corporate rules for intra-group transfers"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"10"})}),"Children's Privacy"]}),e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-yellow-600 text-xl",children:""})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Age Restriction"}),e.jsx("p",{className:"text-yellow-700 mt-1",children:"Our services are not intended for children under 16 years of age. We do not knowingly collect personal information from children under 16. If you are a parent or guardian and believe your child has provided us with personal information, please contact us."})]})]})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"11"})}),"Changes to This Privacy Policy"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We may update this Privacy Policy from time to time to reflect changes in our practices, technology, legal requirements, or other factors. When we make changes, we will:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"1"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:'Update the "Last Updated" date'}),e.jsx("p",{className:"text-gray-700 text-sm",children:"We will revise the date at the top of this policy to indicate when changes were made."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"2"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Notify Users of Material Changes"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"For significant changes, we will provide notice through email or platform notifications."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"3"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Provide Review Period"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"We will give you reasonable time to review changes before they take effect."})]})]})]}),e.jsx("div",{className:"mt-6 bg-blue-50 rounded-lg p-4",children:e.jsx("p",{className:"text-blue-800 text-sm",children:e.jsx("strong",{children:"Your continued use of our services after any changes to this Privacy Policy constitutes acceptance of the updated policy."})})})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"12"})}),"Contact Us"]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-2",children:"Questions About This Privacy Policy?"}),e.jsx("p",{className:"text-blue-800",children:"We're here to help. Contact our privacy team for any questions or concerns."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white text-lg",children:""})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Email"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"privacy@dcc-sfa.com"})]})]}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Send us an email and we'll respond within 24-48 hours."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white text-lg",children:""})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Address"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"DCC-SFA Privacy Office"})]})]}),e.jsxs("p",{className:"text-gray-700 text-sm",children:["123 Business District",e.jsx("br",{}),"Suite 456, Tech City",e.jsx("br",{}),"Country, Postal Code"]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Data Protection Officer"}),e.jsx("p",{className:"text-gray-700 text-sm mb-2",children:"For complex privacy matters or data protection concerns, contact our Data Protection Officer:"}),e.jsx("p",{className:"text-blue-600 font-medium",children:"dpo@dcc-sfa.com"})]})})]})]})]})})]}),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"D"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"DCC-SFA"})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Copyright  2025 DCC Sales Force Automation System. All rights reserved."}),e.jsxs("div",{className:"flex justify-center space-x-6 text-sm",children:[e.jsx(ux,{to:"/login",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Back to Login"}),e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsx("span",{className:"text-gray-500",children:"Privacy Policy"})]})]})})]})]});function Mg(t){return t+.5|0}const Lc=(t,s,a)=>Math.max(Math.min(t,a),s);function pf(t){return Lc(Mg(t*2.55),0,255)}function Gc(t){return Lc(Mg(t*255),0,255)}function Ll(t){return Lc(Mg(t/2.55)/100,0,1)}function VT(t){return Lc(Mg(t*100),0,100)}const Ii={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},k_=[..."0123456789ABCDEF"],Wbe=t=>k_[t&15],Ybe=t=>k_[(t&240)>>4]+k_[t&15],jy=t=>(t&240)>>4===(t&15),Gbe=t=>jy(t.r)&&jy(t.g)&&jy(t.b)&&jy(t.a);function Kbe(t){var s=t.length,a;return t[0]==="#"&&(s===4||s===5?a={r:255&Ii[t[1]]*17,g:255&Ii[t[2]]*17,b:255&Ii[t[3]]*17,a:s===5?Ii[t[4]]*17:255}:(s===7||s===9)&&(a={r:Ii[t[1]]<<4|Ii[t[2]],g:Ii[t[3]]<<4|Ii[t[4]],b:Ii[t[5]]<<4|Ii[t[6]],a:s===9?Ii[t[7]]<<4|Ii[t[8]]:255})),a}const Qbe=(t,s)=>t<255?s(t):"";function Zbe(t){var s=Gbe(t)?Wbe:Ybe;return t?"#"+s(t.r)+s(t.g)+s(t.b)+Qbe(t.a,s):void 0}const Xbe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function WO(t,s,a){const n=s*Math.min(a,1-a),r=(i,o=(i+t/30)%12)=>a-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Jbe(t,s,a){const n=(r,i=(r+t/60)%6)=>a-a*s*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function eve(t,s,a){const n=WO(t,1,.5);let r;for(s+a>1&&(r=1/(s+a),s*=r,a*=r),r=0;r<3;r++)n[r]*=1-s-a,n[r]+=s;return n}function tve(t,s,a,n,r){return t===r?(s-a)/n+(s<a?6:0):s===r?(a-t)/n+2:(t-s)/n+4}function IS(t){const a=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(a,n,r),o=Math.min(a,n,r),l=(i+o)/2;let c,m,u;return i!==o&&(u=i-o,m=l>.5?u/(2-i-o):u/(i+o),c=tve(a,n,r,u,i),c=c*60+.5),[c|0,m||0,l]}function OS(t,s,a,n){return(Array.isArray(s)?t(s[0],s[1],s[2]):t(s,a,n)).map(Gc)}function FS(t,s,a){return OS(WO,t,s,a)}function sve(t,s,a){return OS(eve,t,s,a)}function ave(t,s,a){return OS(Jbe,t,s,a)}function YO(t){return(t%360+360)%360}function nve(t){const s=Xbe.exec(t);let a=255,n;if(!s)return;s[5]!==n&&(a=s[6]?pf(+s[5]):Gc(+s[5]));const r=YO(+s[2]),i=+s[3]/100,o=+s[4]/100;return s[1]==="hwb"?n=sve(r,i,o):s[1]==="hsv"?n=ave(r,i,o):n=FS(r,i,o),{r:n[0],g:n[1],b:n[2],a}}function rve(t,s){var a=IS(t);a[0]=YO(a[0]+s),a=FS(a),t.r=a[0],t.g=a[1],t.b=a[2]}function ive(t){if(!t)return;const s=IS(t),a=s[0],n=VT(s[1]),r=VT(s[2]);return t.a<255?`hsla(${a}, ${n}%, ${r}%, ${Ll(t.a)})`:`hsl(${a}, ${n}%, ${r}%)`}const HT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},WT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ove(){const t={},s=Object.keys(WT),a=Object.keys(HT);let n,r,i,o,l;for(n=0;n<s.length;n++){for(o=l=s[n],r=0;r<a.length;r++)i=a[r],l=l.replace(i,HT[i]);i=parseInt(WT[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let Ny;function lve(t){Ny||(Ny=ove(),Ny.transparent=[0,0,0,0]);const s=Ny[t.toLowerCase()];return s&&{r:s[0],g:s[1],b:s[2],a:s.length===4?s[3]:255}}const cve=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dve(t){const s=cve.exec(t);let a=255,n,r,i;if(s){if(s[7]!==n){const o=+s[7];a=s[8]?pf(o):Lc(o*255,0,255)}return n=+s[1],r=+s[3],i=+s[5],n=255&(s[2]?pf(n):Lc(n,0,255)),r=255&(s[4]?pf(r):Lc(r,0,255)),i=255&(s[6]?pf(i):Lc(i,0,255)),{r:n,g:r,b:i,a}}}function uve(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ll(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const RN=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,jm=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function mve(t,s,a){const n=jm(Ll(t.r)),r=jm(Ll(t.g)),i=jm(Ll(t.b));return{r:Gc(RN(n+a*(jm(Ll(s.r))-n))),g:Gc(RN(r+a*(jm(Ll(s.g))-r))),b:Gc(RN(i+a*(jm(Ll(s.b))-i))),a:t.a+a*(s.a-t.a)}}function wy(t,s,a){if(t){let n=IS(t);n[s]=Math.max(0,Math.min(n[s]+n[s]*a,s===0?360:1)),n=FS(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function GO(t,s){return t&&Object.assign(s||{},t)}function YT(t){var s={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(s={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(s.a=Gc(t[3]))):(s=GO(t,{r:0,g:0,b:0,a:1}),s.a=Gc(s.a)),s}function pve(t){return t.charAt(0)==="r"?dve(t):nve(t)}class Ax{constructor(s){if(s instanceof Ax)return s;const a=typeof s;let n;a==="object"?n=YT(s):a==="string"&&(n=Kbe(s)||lve(s)||pve(s)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var s=GO(this._rgb);return s&&(s.a=Ll(s.a)),s}set rgb(s){this._rgb=YT(s)}rgbString(){return this._valid?uve(this._rgb):void 0}hexString(){return this._valid?Zbe(this._rgb):void 0}hslString(){return this._valid?ive(this._rgb):void 0}mix(s,a){if(s){const n=this.rgb,r=s.rgb;let i;const o=a===i?.5:a,l=2*o-1,c=n.a-r.a,m=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-m,n.r=255&m*n.r+i*r.r+.5,n.g=255&m*n.g+i*r.g+.5,n.b=255&m*n.b+i*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(s,a){return s&&(this._rgb=mve(this._rgb,s._rgb,a)),this}clone(){return new Ax(this.rgb)}alpha(s){return this._rgb.a=Gc(s),this}clearer(s){const a=this._rgb;return a.a*=1-s,this}greyscale(){const s=this._rgb,a=Mg(s.r*.3+s.g*.59+s.b*.11);return s.r=s.g=s.b=a,this}opaquer(s){const a=this._rgb;return a.a*=1+s,this}negate(){const s=this._rgb;return s.r=255-s.r,s.g=255-s.g,s.b=255-s.b,this}lighten(s){return wy(this._rgb,2,s),this}darken(s){return wy(this._rgb,2,-s),this}saturate(s){return wy(this._rgb,1,s),this}desaturate(s){return wy(this._rgb,1,-s),this}rotate(s){return rve(this._rgb,s),this}}function Ml(){}const hve=(()=>{let t=0;return()=>t++})();function va(t){return t==null}function Sn(t){if(Array.isArray&&Array.isArray(t))return!0;const s=Object.prototype.toString.call(t);return s.slice(0,7)==="[object"&&s.slice(-6)==="Array]"}function ra(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function pr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ao(t,s){return pr(t)?t:s}function Ws(t,s){return typeof t>"u"?s:t}const fve=(t,s)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/s,KO=(t,s)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*s:+t;function Ua(t,s,a){if(t&&typeof t.call=="function")return t.apply(a,s)}function Pa(t,s,a,n){let r,i,o;if(Sn(t))for(i=t.length,r=0;r<i;r++)s.call(a,t[r],r);else if(ra(t))for(o=Object.keys(t),i=o.length,r=0;r<i;r++)s.call(a,t[o[r]],o[r])}function Fb(t,s){let a,n,r,i;if(!t||!s||t.length!==s.length)return!1;for(a=0,n=t.length;a<n;++a)if(r=t[a],i=s[a],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Lb(t){if(Sn(t))return t.map(Lb);if(ra(t)){const s=Object.create(null),a=Object.keys(t),n=a.length;let r=0;for(;r<n;++r)s[a[r]]=Lb(t[a[r]]);return s}return t}function QO(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function xve(t,s,a,n){if(!QO(t))return;const r=s[t],i=a[t];ra(r)&&ra(i)?Ix(r,i,n):s[t]=Lb(i)}function Ix(t,s,a){const n=Sn(s)?s:[s],r=n.length;if(!ra(t))return t;a=a||{};const i=a.merger||xve;let o;for(let l=0;l<r;++l){if(o=n[l],!ra(o))continue;const c=Object.keys(o);for(let m=0,u=c.length;m<u;++m)i(c[m],t,o,a)}return t}function tx(t,s){return Ix(t,s,{merger:gve})}function gve(t,s,a){if(!QO(t))return;const n=s[t],r=a[t];ra(n)&&ra(r)?tx(n,r):Object.prototype.hasOwnProperty.call(s,t)||(s[t]=Lb(r))}const GT={"":t=>t,x:t=>t.x,y:t=>t.y};function yve(t){const s=t.split("."),a=[];let n="";for(const r of s)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(a.push(n),n="");return a}function bve(t){const s=yve(t);return a=>{for(const n of s){if(n==="")break;a=a&&a[n]}return a}}function vu(t,s){return(GT[s]||(GT[s]=bve(s)))(t)}function LS(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ox=t=>typeof t<"u",sd=t=>typeof t=="function",KT=(t,s)=>{if(t.size!==s.size)return!1;for(const a of t)if(!s.has(a))return!1;return!0};function vve(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ea=Math.PI,Xa=2*Ea,jve=Xa+Ea,zb=Number.POSITIVE_INFINITY,Nve=Ea/180,Dn=Ea/2,Id=Ea/4,QT=Ea*2/3,ZO=Math.log10,al=Math.sign;function sx(t,s,a){return Math.abs(t-s)<a}function ZT(t){const s=Math.round(t);t=sx(t,s,t/1e3)?s:t;const a=Math.pow(10,Math.floor(ZO(t))),n=t/a;return(n<=1?1:n<=2?2:n<=5?5:10)*a}function wve(t){const s=[],a=Math.sqrt(t);let n;for(n=1;n<a;n++)t%n===0&&(s.push(n),s.push(t/n));return a===(a|0)&&s.push(a),s.sort((r,i)=>r-i).pop(),s}function _ve(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Fx(t){return!_ve(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Sve(t,s){const a=Math.round(t);return a-s<=t&&a+s>=t}function Cve(t,s,a){let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n][a],isNaN(i)||(s.min=Math.min(s.min,i),s.max=Math.max(s.max,i))}function Bl(t){return t*(Ea/180)}function kve(t){return t*(180/Ea)}function XT(t){if(!pr(t))return;let s=1,a=0;for(;Math.round(t*s)/s!==t;)s*=10,a++;return a}function XO(t,s){const a=s.x-t.x,n=s.y-t.y,r=Math.sqrt(a*a+n*n);let i=Math.atan2(n,a);return i<-.5*Ea&&(i+=Xa),{angle:i,distance:r}}function P_(t,s){return Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2))}function Pve(t,s){return(t-s+jve)%Xa-Ea}function oi(t){return(t%Xa+Xa)%Xa}function Lx(t,s,a,n){const r=oi(t),i=oi(s),o=oi(a),l=oi(i-r),c=oi(o-r),m=oi(r-i),u=oi(r-o);return r===i||r===o||n&&i===o||l>c&&m<u}function cr(t,s,a){return Math.max(s,Math.min(a,t))}function Eve(t){return cr(t,-32768,32767)}function Ul(t,s,a,n=1e-6){return t>=Math.min(s,a)-n&&t<=Math.max(s,a)+n}function zS(t,s,a){a=a||(o=>t[o]<s);let n=t.length-1,r=0,i;for(;n-r>1;)i=r+n>>1,a(i)?r=i:n=i;return{lo:r,hi:n}}const eu=(t,s,a,n)=>zS(t,a,n?r=>{const i=t[r][s];return i<a||i===a&&t[r+1][s]===a}:r=>t[r][s]<a),Tve=(t,s,a)=>zS(t,a,n=>t[n][s]>=a);function Mve(t,s,a){let n=0,r=t.length;for(;n<r&&t[n]<s;)n++;for(;r>n&&t[r-1]>a;)r--;return n>0||r<t.length?t.slice(n,r):t}const JO=["push","pop","shift","splice","unshift"];function Dve(t,s){if(t._chartjs){t._chartjs.listeners.push(s);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),JO.forEach(a=>{const n="_onData"+LS(a),r=t[a];Object.defineProperty(t,a,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),o}})})}function JT(t,s){const a=t._chartjs;if(!a)return;const n=a.listeners,r=n.indexOf(s);r!==-1&&n.splice(r,1),!(n.length>0)&&(JO.forEach(i=>{delete t[i]}),delete t._chartjs)}function eF(t){const s=new Set(t);return s.size===t.length?t:Array.from(s)}const tF=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function sF(t,s){let a=[],n=!1;return function(...r){a=r,n||(n=!0,tF.call(window,()=>{n=!1,t.apply(s,a)}))}}function Rve(t,s){let a;return function(...n){return s?(clearTimeout(a),a=setTimeout(t,s,n)):t.apply(this,n),s}}const $S=t=>t==="start"?"left":t==="end"?"right":"center",nr=(t,s,a)=>t==="start"?s:t==="end"?a:(s+a)/2,Ave=(t,s,a,n)=>t===(n?"left":"right")?a:t==="center"?(s+a)/2:s;function Ive(t,s,a){const n=s.length;let r=0,i=n;if(t._sorted){const{iScale:o,vScale:l,_parsed:c}=t,m=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:v,maxDefined:_}=o.getUserBounds();if(v){if(r=Math.min(eu(c,u,h).lo,a?n:eu(s,u,o.getPixelForValue(h)).lo),m){const S=c.slice(0,r+1).reverse().findIndex(j=>!va(j[l.axis]));r-=Math.max(0,S)}r=cr(r,0,n-1)}if(_){let S=Math.max(eu(c,o.axis,f,!0).hi+1,a?0:eu(s,u,o.getPixelForValue(f),!0).hi+1);if(m){const j=c.slice(S-1).findIndex(b=>!va(b[l.axis]));S+=Math.max(0,j)}i=cr(S,r,n)-r}else i=n-r}return{start:r,count:i}}function Ove(t){const{xScale:s,yScale:a,_scaleRanges:n}=t,r={xmin:s.min,xmax:s.max,ymin:a.min,ymax:a.max};if(!n)return t._scaleRanges=r,!0;const i=n.xmin!==s.min||n.xmax!==s.max||n.ymin!==a.min||n.ymax!==a.max;return Object.assign(n,r),i}const _y=t=>t===0||t===1,eM=(t,s,a)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-s)*Xa/a)),tM=(t,s,a)=>Math.pow(2,-10*t)*Math.sin((t-s)*Xa/a)+1,ax={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Dn)+1,easeOutSine:t=>Math.sin(t*Dn),easeInOutSine:t=>-.5*(Math.cos(Ea*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>_y(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>_y(t)?t:eM(t,.075,.3),easeOutElastic:t=>_y(t)?t:tM(t,.075,.3),easeInOutElastic(t){return _y(t)?t:t<.5?.5*eM(t*2,.1125,.45):.5+.5*tM(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let s=1.70158;return(t/=.5)<1?.5*(t*t*(((s*=1.525)+1)*t-s)):.5*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)},easeInBounce:t=>1-ax.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ax.easeInBounce(t*2)*.5:ax.easeOutBounce(t*2-1)*.5+.5};function qS(t){if(t&&typeof t=="object"){const s=t.toString();return s==="[object CanvasPattern]"||s==="[object CanvasGradient]"}return!1}function sM(t){return qS(t)?t:new Ax(t)}function AN(t){return qS(t)?t:new Ax(t).saturate(.5).darken(.1).hexString()}const Fve=["x","y","borderWidth","radius","tension"],Lve=["color","borderColor","backgroundColor"];function zve(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:s=>s!=="onProgress"&&s!=="onComplete"&&s!=="fn"}),t.set("animations",{colors:{type:"color",properties:Lve},numbers:{type:"number",properties:Fve}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:s=>s|0}}}})}function $ve(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const aM=new Map;function qve(t,s){s=s||{};const a=t+JSON.stringify(s);let n=aM.get(a);return n||(n=new Intl.NumberFormat(t,s),aM.set(a,n)),n}function BS(t,s,a){return qve(s,a).format(t)}const Bve={values(t){return Sn(t)?t:""+t},numeric(t,s,a){if(t===0)return"0";const n=this.chart.options.locale;let r,i=t;if(a.length>1){const m=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),i=Uve(t,a)}const o=ZO(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),BS(t,n,c)}};function Uve(t,s){let a=s.length>3?s[2].value-s[1].value:s[1].value-s[0].value;return Math.abs(a)>=1&&t!==Math.floor(t)&&(a=t-Math.floor(t)),a}var aF={formatters:Bve};function Vve(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(s,a)=>a.lineWidth,tickColor:(s,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:aF.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:s=>!s.startsWith("before")&&!s.startsWith("after")&&s!=="callback"&&s!=="parser",_indexable:s=>s!=="borderDash"&&s!=="tickBorderDash"&&s!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:s=>s!=="backdropPadding"&&s!=="callback",_indexable:s=>s!=="backdropPadding"})}const ju=Object.create(null),E_=Object.create(null);function nx(t,s){if(!s)return t;const a=s.split(".");for(let n=0,r=a.length;n<r;++n){const i=a[n];t=t[i]||(t[i]=Object.create(null))}return t}function IN(t,s,a){return typeof s=="string"?Ix(nx(t,s),a):Ix(nx(t,""),s)}class Hve{constructor(s,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>AN(r.backgroundColor),this.hoverBorderColor=(n,r)=>AN(r.borderColor),this.hoverColor=(n,r)=>AN(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(s),this.apply(a)}set(s,a){return IN(this,s,a)}get(s){return nx(this,s)}describe(s,a){return IN(E_,s,a)}override(s,a){return IN(ju,s,a)}route(s,a,n,r){const i=nx(this,s),o=nx(this,n),l="_"+a;Object.defineProperties(i,{[l]:{value:i[a],writable:!0},[a]:{enumerable:!0,get(){const c=this[l],m=o[r];return ra(c)?Object.assign({},m,c):Ws(c,m)},set(c){this[l]=c}}})}apply(s){s.forEach(a=>a(this))}}var xn=new Hve({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[zve,$ve,Vve]);function Wve(t){return!t||va(t.size)||va(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function nM(t,s,a,n,r){let i=s[r];return i||(i=s[r]=t.measureText(r).width,a.push(r)),i>n&&(n=i),n}function Od(t,s,a){const n=t.currentDevicePixelRatio,r=a!==0?Math.max(a/2,.5):0;return Math.round((s-r)*n)/n+r}function rM(t,s){!s&&!t||(s=s||t.getContext("2d"),s.save(),s.resetTransform(),s.clearRect(0,0,t.width,t.height),s.restore())}function T_(t,s,a,n){nF(t,s,a,n,null)}function nF(t,s,a,n,r){let i,o,l,c,m,u,h,f;const v=s.pointStyle,_=s.rotation,S=s.radius;let j=(_||0)*Nve;if(v&&typeof v=="object"&&(i=v.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(a,n),t.rotate(j),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),v){default:r?t.ellipse(a,n,r/2,S,0,0,Xa):t.arc(a,n,S,0,Xa),t.closePath();break;case"triangle":u=r?r/2:S,t.moveTo(a+Math.sin(j)*u,n-Math.cos(j)*S),j+=QT,t.lineTo(a+Math.sin(j)*u,n-Math.cos(j)*S),j+=QT,t.lineTo(a+Math.sin(j)*u,n-Math.cos(j)*S),t.closePath();break;case"rectRounded":m=S*.516,c=S-m,o=Math.cos(j+Id)*c,h=Math.cos(j+Id)*(r?r/2-m:c),l=Math.sin(j+Id)*c,f=Math.sin(j+Id)*(r?r/2-m:c),t.arc(a-h,n-l,m,j-Ea,j-Dn),t.arc(a+f,n-o,m,j-Dn,j),t.arc(a+h,n+l,m,j,j+Dn),t.arc(a-f,n+o,m,j+Dn,j+Ea),t.closePath();break;case"rect":if(!_){c=Math.SQRT1_2*S,u=r?r/2:c,t.rect(a-u,n-c,2*u,2*c);break}j+=Id;case"rectRot":h=Math.cos(j)*(r?r/2:S),o=Math.cos(j)*S,l=Math.sin(j)*S,f=Math.sin(j)*(r?r/2:S),t.moveTo(a-h,n-l),t.lineTo(a+f,n-o),t.lineTo(a+h,n+l),t.lineTo(a-f,n+o),t.closePath();break;case"crossRot":j+=Id;case"cross":h=Math.cos(j)*(r?r/2:S),o=Math.cos(j)*S,l=Math.sin(j)*S,f=Math.sin(j)*(r?r/2:S),t.moveTo(a-h,n-l),t.lineTo(a+h,n+l),t.moveTo(a+f,n-o),t.lineTo(a-f,n+o);break;case"star":h=Math.cos(j)*(r?r/2:S),o=Math.cos(j)*S,l=Math.sin(j)*S,f=Math.sin(j)*(r?r/2:S),t.moveTo(a-h,n-l),t.lineTo(a+h,n+l),t.moveTo(a+f,n-o),t.lineTo(a-f,n+o),j+=Id,h=Math.cos(j)*(r?r/2:S),o=Math.cos(j)*S,l=Math.sin(j)*S,f=Math.sin(j)*(r?r/2:S),t.moveTo(a-h,n-l),t.lineTo(a+h,n+l),t.moveTo(a+f,n-o),t.lineTo(a-f,n+o);break;case"line":o=r?r/2:Math.cos(j)*S,l=Math.sin(j)*S,t.moveTo(a-o,n-l),t.lineTo(a+o,n+l);break;case"dash":t.moveTo(a,n),t.lineTo(a+Math.cos(j)*(r?r/2:S),n+Math.sin(j)*S);break;case!1:t.closePath();break}t.fill(),s.borderWidth>0&&t.stroke()}}function zx(t,s,a){return a=a||.5,!s||t&&t.x>s.left-a&&t.x<s.right+a&&t.y>s.top-a&&t.y<s.bottom+a}function a1(t,s){t.save(),t.beginPath(),t.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),t.clip()}function n1(t){t.restore()}function Yve(t,s,a,n,r){if(!s)return t.lineTo(a.x,a.y);if(r==="middle"){const i=(s.x+a.x)/2;t.lineTo(i,s.y),t.lineTo(i,a.y)}else r==="after"!=!!n?t.lineTo(s.x,a.y):t.lineTo(a.x,s.y);t.lineTo(a.x,a.y)}function Gve(t,s,a,n){if(!s)return t.lineTo(a.x,a.y);t.bezierCurveTo(n?s.cp1x:s.cp2x,n?s.cp1y:s.cp2y,n?a.cp2x:a.cp1x,n?a.cp2y:a.cp1y,a.x,a.y)}function Kve(t,s){s.translation&&t.translate(s.translation[0],s.translation[1]),va(s.rotation)||t.rotate(s.rotation),s.color&&(t.fillStyle=s.color),s.textAlign&&(t.textAlign=s.textAlign),s.textBaseline&&(t.textBaseline=s.textBaseline)}function Qve(t,s,a,n,r){if(r.strikethrough||r.underline){const i=t.measureText(n),o=s-i.actualBoundingBoxLeft,l=s+i.actualBoundingBoxRight,c=a-i.actualBoundingBoxAscent,m=a+i.actualBoundingBoxDescent,u=r.strikethrough?(c+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function Zve(t,s){const a=t.fillStyle;t.fillStyle=s.color,t.fillRect(s.left,s.top,s.width,s.height),t.fillStyle=a}function $x(t,s,a,n,r,i={}){const o=Sn(s)?s:[s],l=i.strokeWidth>0&&i.strokeColor!=="";let c,m;for(t.save(),t.font=r.string,Kve(t,i),c=0;c<o.length;++c)m=o[c],i.backdrop&&Zve(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),va(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(m,a,n,i.maxWidth)),t.fillText(m,a,n,i.maxWidth),Qve(t,a,n,m,i),n+=Number(r.lineHeight);t.restore()}function $b(t,s){const{x:a,y:n,w:r,h:i,radius:o}=s;t.arc(a+o.topLeft,n+o.topLeft,o.topLeft,1.5*Ea,Ea,!0),t.lineTo(a,n+i-o.bottomLeft),t.arc(a+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,Ea,Dn,!0),t.lineTo(a+r-o.bottomRight,n+i),t.arc(a+r-o.bottomRight,n+i-o.bottomRight,o.bottomRight,Dn,0,!0),t.lineTo(a+r,n+o.topRight),t.arc(a+r-o.topRight,n+o.topRight,o.topRight,0,-Dn,!0),t.lineTo(a+o.topLeft,n)}const Xve=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Jve=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function e1e(t,s){const a=(""+t).match(Xve);if(!a||a[1]==="normal")return s*1.2;switch(t=+a[2],a[3]){case"px":return t;case"%":t/=100;break}return s*t}const t1e=t=>+t||0;function US(t,s){const a={},n=ra(s),r=n?Object.keys(s):s,i=ra(t)?n?o=>Ws(t[o],t[s[o]]):o=>t[o]:()=>t;for(const o of r)a[o]=t1e(i(o));return a}function rF(t){return US(t,{top:"y",right:"x",bottom:"y",left:"x"})}function tp(t){return US(t,["topLeft","topRight","bottomLeft","bottomRight"])}function so(t){const s=rF(t);return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function dr(t,s){t=t||{},s=s||xn.font;let a=Ws(t.size,s.size);typeof a=="string"&&(a=parseInt(a,10));let n=Ws(t.style,s.style);n&&!(""+n).match(Jve)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:Ws(t.family,s.family),lineHeight:e1e(Ws(t.lineHeight,s.lineHeight),a),size:a,style:n,weight:Ws(t.weight,s.weight),string:""};return r.string=Wve(r),r}function Sy(t,s,a,n){let r,i,o;for(r=0,i=t.length;r<i;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function s1e(t,s,a){const{min:n,max:r}=t,i=KO(s,(r-n)/2),o=(l,c)=>a&&l===0?0:l+c;return{min:o(n,-Math.abs(i)),max:o(r,i)}}function Du(t,s){return Object.assign(Object.create(t),s)}function VS(t,s=[""],a,n,r=()=>t[0]){const i=a||t;typeof n>"u"&&(n=cF("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:r,override:l=>VS([l,...t],s,i,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return oF(l,c,()=>d1e(c,s,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return oM(l).includes(c)},ownKeys(l){return oM(l)},set(l,c,m){const u=l._storage||(l._storage=r());return l[c]=u[c]=m,delete l._keys,!0}})}function jp(t,s,a,n){const r={_cacheable:!1,_proxy:t,_context:s,_subProxy:a,_stack:new Set,_descriptors:iF(t,n),setContext:i=>jp(t,i,a,n),override:i=>jp(t.override(i),s,a,n)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return oF(i,o,()=>n1e(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function iF(t,s={scriptable:!0,indexable:!0}){const{_scriptable:a=s.scriptable,_indexable:n=s.indexable,_allKeys:r=s.allKeys}=t;return{allKeys:r,scriptable:a,indexable:n,isScriptable:sd(a)?a:()=>a,isIndexable:sd(n)?n:()=>n}}const a1e=(t,s)=>t?t+LS(s):s,HS=(t,s)=>ra(s)&&t!=="adapters"&&(Object.getPrototypeOf(s)===null||s.constructor===Object);function oF(t,s,a){if(Object.prototype.hasOwnProperty.call(t,s)||s==="constructor")return t[s];const n=a();return t[s]=n,n}function n1e(t,s,a){const{_proxy:n,_context:r,_subProxy:i,_descriptors:o}=t;let l=n[s];return sd(l)&&o.isScriptable(s)&&(l=r1e(s,l,t,a)),Sn(l)&&l.length&&(l=i1e(s,l,t,o.isIndexable)),HS(s,l)&&(l=jp(l,r,i&&i[s],o)),l}function r1e(t,s,a,n){const{_proxy:r,_context:i,_subProxy:o,_stack:l}=a;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=s(i,o||n);return l.delete(t),HS(t,c)&&(c=WS(r._scopes,r,t,c)),c}function i1e(t,s,a,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:l}=a;if(typeof i.index<"u"&&n(t))return s[i.index%s.length];if(ra(s[0])){const c=s,m=r._scopes.filter(u=>u!==c);s=[];for(const u of c){const h=WS(m,r,t,u);s.push(jp(h,i,o&&o[t],l))}}return s}function lF(t,s,a){return sd(t)?t(s,a):t}const o1e=(t,s)=>t===!0?s:typeof t=="string"?vu(s,t):void 0;function l1e(t,s,a,n,r){for(const i of s){const o=o1e(a,i);if(o){t.add(o);const l=lF(o._fallback,a,r);if(typeof l<"u"&&l!==a&&l!==n)return l}else if(o===!1&&typeof n<"u"&&a!==n)return null}return!1}function WS(t,s,a,n){const r=s._rootScopes,i=lF(s._fallback,a,n),o=[...t,...r],l=new Set;l.add(n);let c=iM(l,o,a,i||a,n);return c===null||typeof i<"u"&&i!==a&&(c=iM(l,o,i,c,n),c===null)?!1:VS(Array.from(l),[""],r,i,()=>c1e(s,a,n))}function iM(t,s,a,n,r){for(;a;)a=l1e(t,s,a,n,r);return a}function c1e(t,s,a){const n=t._getTarget();s in n||(n[s]={});const r=n[s];return Sn(r)&&ra(a)?a:r||{}}function d1e(t,s,a,n){let r;for(const i of s)if(r=cF(a1e(i,t),a),typeof r<"u")return HS(t,r)?WS(a,n,t,r):r}function cF(t,s){for(const a of s){if(!a)continue;const n=a[t];if(typeof n<"u")return n}}function oM(t){let s=t._keys;return s||(s=t._keys=u1e(t._scopes)),s}function u1e(t){const s=new Set;for(const a of t)for(const n of Object.keys(a).filter(r=>!r.startsWith("_")))s.add(n);return Array.from(s)}const m1e=Number.EPSILON||1e-14,Np=(t,s)=>s<t.length&&!t[s].skip&&t[s],dF=t=>t==="x"?"y":"x";function p1e(t,s,a,n){const r=t.skip?s:t,i=s,o=a.skip?s:a,l=P_(i,r),c=P_(o,i);let m=l/(l+c),u=c/(l+c);m=isNaN(m)?0:m,u=isNaN(u)?0:u;const h=n*m,f=n*u;return{previous:{x:i.x-h*(o.x-r.x),y:i.y-h*(o.y-r.y)},next:{x:i.x+f*(o.x-r.x),y:i.y+f*(o.y-r.y)}}}function h1e(t,s,a){const n=t.length;let r,i,o,l,c,m=Np(t,0);for(let u=0;u<n-1;++u)if(c=m,m=Np(t,u+1),!(!c||!m)){if(sx(s[u],0,m1e)){a[u]=a[u+1]=0;continue}r=a[u]/s[u],i=a[u+1]/s[u],l=Math.pow(r,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),a[u]=r*o*s[u],a[u+1]=i*o*s[u])}}function f1e(t,s,a="x"){const n=dF(a),r=t.length;let i,o,l,c=Np(t,0);for(let m=0;m<r;++m){if(o=l,l=c,c=Np(t,m+1),!l)continue;const u=l[a],h=l[n];o&&(i=(u-o[a])/3,l[`cp1${a}`]=u-i,l[`cp1${n}`]=h-i*s[m]),c&&(i=(c[a]-u)/3,l[`cp2${a}`]=u+i,l[`cp2${n}`]=h+i*s[m])}}function x1e(t,s="x"){const a=dF(s),n=t.length,r=Array(n).fill(0),i=Array(n);let o,l,c,m=Np(t,0);for(o=0;o<n;++o)if(l=c,c=m,m=Np(t,o+1),!!c){if(m){const u=m[s]-c[s];r[o]=u!==0?(m[a]-c[a])/u:0}i[o]=l?m?al(r[o-1])!==al(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}h1e(t,r,i),f1e(t,i,s)}function Cy(t,s,a){return Math.max(Math.min(t,a),s)}function g1e(t,s){let a,n,r,i,o,l=zx(t[0],s);for(a=0,n=t.length;a<n;++a)o=i,i=l,l=a<n-1&&zx(t[a+1],s),i&&(r=t[a],o&&(r.cp1x=Cy(r.cp1x,s.left,s.right),r.cp1y=Cy(r.cp1y,s.top,s.bottom)),l&&(r.cp2x=Cy(r.cp2x,s.left,s.right),r.cp2y=Cy(r.cp2y,s.top,s.bottom)))}function y1e(t,s,a,n,r){let i,o,l,c;if(s.spanGaps&&(t=t.filter(m=>!m.skip)),s.cubicInterpolationMode==="monotone")x1e(t,r);else{let m=n?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)l=t[i],c=p1e(m,l,t[Math.min(i+1,o-(n?0:1))%o],s.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,m=l}s.capBezierPoints&&g1e(t,a)}function YS(){return typeof window<"u"&&typeof document<"u"}function GS(t){let s=t.parentNode;return s&&s.toString()==="[object ShadowRoot]"&&(s=s.host),s}function qb(t,s,a){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*s.parentNode[a])):n=t,n}const r1=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function b1e(t,s){return r1(t).getPropertyValue(s)}const v1e=["top","right","bottom","left"];function lu(t,s,a){const n={};a=a?"-"+a:"";for(let r=0;r<4;r++){const i=v1e[r];n[i]=parseFloat(t[s+"-"+i+a])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const j1e=(t,s,a)=>(t>0||s>0)&&(!a||!a.shadowRoot);function N1e(t,s){const a=t.touches,n=a&&a.length?a[0]:t,{offsetX:r,offsetY:i}=n;let o=!1,l,c;if(j1e(r,i,t.target))l=r,c=i;else{const m=s.getBoundingClientRect();l=n.clientX-m.left,c=n.clientY-m.top,o=!0}return{x:l,y:c,box:o}}function Bd(t,s){if("native"in t)return t;const{canvas:a,currentDevicePixelRatio:n}=s,r=r1(a),i=r.boxSizing==="border-box",o=lu(r,"padding"),l=lu(r,"border","width"),{x:c,y:m,box:u}=N1e(t,a),h=o.left+(u&&l.left),f=o.top+(u&&l.top);let{width:v,height:_}=s;return i&&(v-=o.width+l.width,_-=o.height+l.height),{x:Math.round((c-h)/v*a.width/n),y:Math.round((m-f)/_*a.height/n)}}function w1e(t,s,a){let n,r;if(s===void 0||a===void 0){const i=t&&GS(t);if(!i)s=t.clientWidth,a=t.clientHeight;else{const o=i.getBoundingClientRect(),l=r1(i),c=lu(l,"border","width"),m=lu(l,"padding");s=o.width-m.width-c.width,a=o.height-m.height-c.height,n=qb(l.maxWidth,i,"clientWidth"),r=qb(l.maxHeight,i,"clientHeight")}}return{width:s,height:a,maxWidth:n||zb,maxHeight:r||zb}}const zc=t=>Math.round(t*10)/10;function _1e(t,s,a,n){const r=r1(t),i=lu(r,"margin"),o=qb(r.maxWidth,t,"clientWidth")||zb,l=qb(r.maxHeight,t,"clientHeight")||zb,c=w1e(t,s,a);let{width:m,height:u}=c;if(r.boxSizing==="content-box"){const f=lu(r,"border","width"),v=lu(r,"padding");m-=v.width+f.width,u-=v.height+f.height}return m=Math.max(0,m-i.width),u=Math.max(0,n?m/n:u-i.height),m=zc(Math.min(m,o,c.maxWidth)),u=zc(Math.min(u,l,c.maxHeight)),m&&!u&&(u=zc(m/2)),(s!==void 0||a!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,m=zc(Math.floor(u*n))),{width:m,height:u}}function lM(t,s,a){const n=s||1,r=zc(t.height*n),i=zc(t.width*n);t.height=zc(t.height),t.width=zc(t.width);const o=t.canvas;return o.style&&(a||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==r||o.width!==i?(t.currentDevicePixelRatio=n,o.height=r,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const S1e=(function(){let t=!1;try{const s={get passive(){return t=!0,!1}};YS()&&(window.addEventListener("test",null,s),window.removeEventListener("test",null,s))}catch{}return t})();function cM(t,s){const a=b1e(t,s),n=a&&a.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Ud(t,s,a,n){return{x:t.x+a*(s.x-t.x),y:t.y+a*(s.y-t.y)}}function C1e(t,s,a,n){return{x:t.x+a*(s.x-t.x),y:n==="middle"?a<.5?t.y:s.y:n==="after"?a<1?t.y:s.y:a>0?s.y:t.y}}function k1e(t,s,a,n){const r={x:t.cp2x,y:t.cp2y},i={x:s.cp1x,y:s.cp1y},o=Ud(t,r,a),l=Ud(r,i,a),c=Ud(i,s,a),m=Ud(o,l,a),u=Ud(l,c,a);return Ud(m,u,a)}const P1e=function(t,s){return{x(a){return t+t+s-a},setWidth(a){s=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,n){return a-n},leftForLtr(a,n){return a-n}}},E1e=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,s){return t+s},leftForLtr(t,s){return t}}};function sp(t,s,a){return t?P1e(s,a):E1e()}function uF(t,s){let a,n;(s==="ltr"||s==="rtl")&&(a=t.canvas.style,n=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",s,"important"),t.prevTextDirection=n)}function mF(t,s){s!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",s[0],s[1]))}function pF(t){return t==="angle"?{between:Lx,compare:Pve,normalize:oi}:{between:Ul,compare:(s,a)=>s-a,normalize:s=>s}}function dM({start:t,end:s,count:a,loop:n,style:r}){return{start:t%a,end:s%a,loop:n&&(s-t+1)%a===0,style:r}}function T1e(t,s,a){const{property:n,start:r,end:i}=a,{between:o,normalize:l}=pF(n),c=s.length;let{start:m,end:u,loop:h}=t,f,v;if(h){for(m+=c,u+=c,f=0,v=c;f<v&&o(l(s[m%c][n]),r,i);++f)m--,u--;m%=c,u%=c}return u<m&&(u+=c),{start:m,end:u,loop:h,style:t.style}}function hF(t,s,a){if(!a)return[t];const{property:n,start:r,end:i}=a,o=s.length,{compare:l,between:c,normalize:m}=pF(n),{start:u,end:h,loop:f,style:v}=T1e(t,s,a),_=[];let S=!1,j=null,b,w,C;const P=()=>c(r,C,b)&&l(r,C)!==0,E=()=>l(i,b)===0||c(i,C,b),D=()=>S||P(),T=()=>!S||E();for(let R=u,z=u;R<=h;++R)w=s[R%o],!w.skip&&(b=m(w[n]),b!==C&&(S=c(b,r,i),j===null&&D()&&(j=l(b,r)===0?R:z),j!==null&&T()&&(_.push(dM({start:j,end:R,loop:f,count:o,style:v})),j=null),z=R,C=b));return j!==null&&_.push(dM({start:j,end:h,loop:f,count:o,style:v})),_}function fF(t,s){const a=[],n=t.segments;for(let r=0;r<n.length;r++){const i=hF(n[r],t.points,s);i.length&&a.push(...i)}return a}function M1e(t,s,a,n){let r=0,i=s-1;if(a&&!n)for(;r<s&&!t[r].skip;)r++;for(;r<s&&t[r].skip;)r++;for(r%=s,a&&(i+=r);i>r&&t[i%s].skip;)i--;return i%=s,{start:r,end:i}}function D1e(t,s,a,n){const r=t.length,i=[];let o=s,l=t[s],c;for(c=s+1;c<=a;++c){const m=t[c%r];m.skip||m.stop?l.skip||(n=!1,i.push({start:s%r,end:(c-1)%r,loop:n}),s=o=m.stop?c:null):(o=c,l.skip&&(s=c)),l=m}return o!==null&&i.push({start:s%r,end:o%r,loop:n}),i}function R1e(t,s){const a=t.points,n=t.options.spanGaps,r=a.length;if(!r)return[];const i=!!t._loop,{start:o,end:l}=M1e(a,r,i,n);if(n===!0)return uM(t,[{start:o,end:l,loop:i}],a,s);const c=l<o?l+r:l,m=!!t._fullLoop&&o===0&&l===r-1;return uM(t,D1e(a,o,c,m),a,s)}function uM(t,s,a,n){return!n||!n.setContext||!a?s:A1e(t,s,a,n)}function A1e(t,s,a,n){const r=t._chart.getContext(),i=mM(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,c=a.length,m=[];let u=i,h=s[0].start,f=h;function v(_,S,j,b){const w=l?-1:1;if(_!==S){for(_+=c;a[_%c].skip;)_-=w;for(;a[S%c].skip;)S+=w;_%c!==S%c&&(m.push({start:_%c,end:S%c,loop:j,style:b}),u=b,h=S%c)}}for(const _ of s){h=l?h:_.start;let S=a[h%c],j;for(f=h+1;f<=_.end;f++){const b=a[f%c];j=mM(n.setContext(Du(r,{type:"segment",p0:S,p1:b,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),I1e(j,u)&&v(h,f-1,_.loop,u),S=b,u=j}h<f-1&&v(h,f-1,_.loop,u)}return m}function mM(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function I1e(t,s){if(!s)return!1;const a=[],n=function(r,i){return qS(i)?(a.includes(i)||a.push(i),a.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(s,n)}function ky(t,s,a){return t.options.clip?t[a]:s[a]}function O1e(t,s){const{xScale:a,yScale:n}=t;return a&&n?{left:ky(a,s,"left"),right:ky(a,s,"right"),top:ky(n,s,"top"),bottom:ky(n,s,"bottom")}:s}function xF(t,s){const a=s._clip;if(a.disabled)return!1;const n=O1e(s,t.chartArea);return{left:a.left===!1?0:n.left-(a.left===!0?0:a.left),right:a.right===!1?t.width:n.right+(a.right===!0?0:a.right),top:a.top===!1?0:n.top-(a.top===!0?0:a.top),bottom:a.bottom===!1?t.height:n.bottom+(a.bottom===!0?0:a.bottom)}}class F1e{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(s,a,n,r){const i=a.listeners[r],o=a.duration;i.forEach(l=>l({chart:s,initial:a.initial,numSteps:o,currentStep:Math.min(n-a.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=tF.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(s=Date.now()){let a=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(s),l=!0):(i[o]=i[i.length-1],i.pop());l&&(r.draw(),this._notify(r,n,s,"progress")),i.length||(n.running=!1,this._notify(r,n,s,"complete"),n.initial=!1),a+=i.length}),this._lastDate=s,a===0&&(this._running=!1)}_getAnims(s){const a=this._charts;let n=a.get(s);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(s,n)),n}listen(s,a,n){this._getAnims(s).listeners[a].push(n)}add(s,a){!a||!a.length||this._getAnims(s).items.push(...a)}has(s){return this._getAnims(s).items.length>0}start(s){const a=this._charts.get(s);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(s){if(!this._running)return!1;const a=this._charts.get(s);return!(!a||!a.running||!a.items.length)}stop(s){const a=this._charts.get(s);if(!a||!a.items.length)return;const n=a.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();a.items=[],this._notify(s,a,Date.now(),"complete")}remove(s){return this._charts.delete(s)}}var Rl=new F1e;const pM="transparent",L1e={boolean(t,s,a){return a>.5?s:t},color(t,s,a){const n=sM(t||pM),r=n.valid&&sM(s||pM);return r&&r.valid?r.mix(n,a).hexString():s},number(t,s,a){return t+(s-t)*a}};class z1e{constructor(s,a,n,r){const i=a[n];r=Sy([s.to,r,i,s.from]);const o=Sy([s.from,i,r]);this._active=!0,this._fn=s.fn||L1e[s.type||typeof o],this._easing=ax[s.easing]||ax.linear,this._start=Math.floor(Date.now()+(s.delay||0)),this._duration=this._total=Math.floor(s.duration),this._loop=!!s.loop,this._target=a,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(s,a,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,s.duration)),this._total+=i,this._loop=!!s.loop,this._to=Sy([s.to,a,r,s.from]),this._from=Sy([s.from,r,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(s){const a=s-this._start,n=this._duration,r=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||a<n),!this._active){this._target[r]=l,this._notify(!0);return}if(a<0){this._target[r]=i;return}c=a/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(i,l,c)}wait(){const s=this._promises||(this._promises=[]);return new Promise((a,n)=>{s.push({res:a,rej:n})})}_notify(s){const a=s?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][a]()}}class gF{constructor(s,a){this._chart=s,this._properties=new Map,this.configure(a)}configure(s){if(!ra(s))return;const a=Object.keys(xn.animation),n=this._properties;Object.getOwnPropertyNames(s).forEach(r=>{const i=s[r];if(!ra(i))return;const o={};for(const l of a)o[l]=i[l];(Sn(i.properties)&&i.properties||[r]).forEach(l=>{(l===r||!n.has(l))&&n.set(l,o)})})}_animateOptions(s,a){const n=a.options,r=q1e(s,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&$1e(s.options.$animations,n).then(()=>{s.options=n},()=>{}),i}_createAnimations(s,a){const n=this._properties,r=[],i=s.$animations||(s.$animations={}),o=Object.keys(a),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const m=o[c];if(m.charAt(0)==="$")continue;if(m==="options"){r.push(...this._animateOptions(s,a));continue}const u=a[m];let h=i[m];const f=n.get(m);if(h)if(f&&h.active()){h.update(f,u,l);continue}else h.cancel();if(!f||!f.duration){s[m]=u;continue}i[m]=h=new z1e(f,s,m,u),r.push(h)}return r}update(s,a){if(this._properties.size===0){Object.assign(s,a);return}const n=this._createAnimations(s,a);if(n.length)return Rl.add(this._chart,n),!0}}function $1e(t,s){const a=[],n=Object.keys(s);for(let r=0;r<n.length;r++){const i=t[n[r]];i&&i.active()&&a.push(i.wait())}return Promise.all(a)}function q1e(t,s){if(!s)return;let a=t.options;if(!a){t.options=s;return}return a.$shared&&(t.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function hM(t,s){const a=t&&t.options||{},n=a.reverse,r=a.min===void 0?s:0,i=a.max===void 0?s:0;return{start:n?i:r,end:n?r:i}}function B1e(t,s,a){if(a===!1)return!1;const n=hM(t,a),r=hM(s,a);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function U1e(t){let s,a,n,r;return ra(t)?(s=t.top,a=t.right,n=t.bottom,r=t.left):s=a=n=r=t,{top:s,right:a,bottom:n,left:r,disabled:t===!1}}function yF(t,s){const a=[],n=t._getSortedDatasetMetas(s);let r,i;for(r=0,i=n.length;r<i;++r)a.push(n[r].index);return a}function fM(t,s,a,n={}){const r=t.keys,i=n.mode==="single";let o,l,c,m;if(s===null)return;let u=!1;for(o=0,l=r.length;o<l;++o){if(c=+r[o],c===a){if(u=!0,n.all)continue;break}m=t.values[c],pr(m)&&(i||s===0||al(s)===al(m))&&(s+=m)}return!u&&!n.all?0:s}function V1e(t,s){const{iScale:a,vScale:n}=s,r=a.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,m,u;for(c=0,m=o.length;c<m;++c)u=o[c],l[c]={[r]:u,[i]:t[u]};return l}function ON(t,s){const a=t&&t.options.stacked;return a||a===void 0&&s.stack!==void 0}function H1e(t,s,a){return`${t.id}.${s.id}.${a.stack||a.type}`}function W1e(t){const{min:s,max:a,minDefined:n,maxDefined:r}=t.getUserBounds();return{min:n?s:Number.NEGATIVE_INFINITY,max:r?a:Number.POSITIVE_INFINITY}}function Y1e(t,s,a){const n=t[s]||(t[s]={});return n[a]||(n[a]={})}function xM(t,s,a,n){for(const r of s.getMatchingVisibleMetas(n).reverse()){const i=t[r.index];if(a&&i>0||!a&&i<0)return r.index}return null}function gM(t,s){const{chart:a,_cachedMeta:n}=t,r=a._stacks||(a._stacks={}),{iScale:i,vScale:o,index:l}=n,c=i.axis,m=o.axis,u=H1e(i,o,n),h=s.length;let f;for(let v=0;v<h;++v){const _=s[v],{[c]:S,[m]:j}=_,b=_._stacks||(_._stacks={});f=b[m]=Y1e(r,u,S),f[l]=j,f._top=xM(f,o,!0,n.type),f._bottom=xM(f,o,!1,n.type);const w=f._visualValues||(f._visualValues={});w[l]=j}}function FN(t,s){const a=t.scales;return Object.keys(a).filter(n=>a[n].axis===s).shift()}function G1e(t,s){return Du(t,{active:!1,dataset:void 0,datasetIndex:s,index:s,mode:"default",type:"dataset"})}function K1e(t,s,a){return Du(t,{active:!1,dataIndex:s,parsed:void 0,raw:void 0,element:a,index:s,mode:"default",type:"data"})}function Kh(t,s){const a=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){s=s||t._parsed;for(const r of s){const i=r._stacks;if(!i||i[n]===void 0||i[n][a]===void 0)return;delete i[n][a],i[n]._visualValues!==void 0&&i[n]._visualValues[a]!==void 0&&delete i[n]._visualValues[a]}}}const LN=t=>t==="reset"||t==="none",yM=(t,s)=>s?t:Object.assign({},t),Q1e=(t,s,a)=>t&&!s.hidden&&s._stacked&&{keys:yF(a,!0),values:null};class i1{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(s,a){this.chart=s,this._ctx=s.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const s=this._cachedMeta;this.configure(),this.linkScales(),s._stacked=ON(s.vScale,s),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(s){this.index!==s&&Kh(this._cachedMeta),this.index=s}linkScales(){const s=this.chart,a=this._cachedMeta,n=this.getDataset(),r=(h,f,v,_)=>h==="x"?f:h==="r"?_:v,i=a.xAxisID=Ws(n.xAxisID,FN(s,"x")),o=a.yAxisID=Ws(n.yAxisID,FN(s,"y")),l=a.rAxisID=Ws(n.rAxisID,FN(s,"r")),c=a.indexAxis,m=a.iAxisID=r(c,i,o,l),u=a.vAxisID=r(c,o,i,l);a.xScale=this.getScaleForId(i),a.yScale=this.getScaleForId(o),a.rScale=this.getScaleForId(l),a.iScale=this.getScaleForId(m),a.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(s){return this.chart.scales[s]}_getOtherScale(s){const a=this._cachedMeta;return s===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const s=this._cachedMeta;this._data&&JT(this._data,this),s._stacked&&Kh(s)}_dataCheck(){const s=this.getDataset(),a=s.data||(s.data=[]),n=this._data;if(ra(a)){const r=this._cachedMeta;this._data=V1e(a,r)}else if(n!==a){if(n){JT(n,this);const r=this._cachedMeta;Kh(r),r._parsed=[]}a&&Object.isExtensible(a)&&Dve(a,this),this._syncList=[],this._data=a}}addElements(){const s=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(s.dataset=new this.datasetElementType)}buildOrUpdateElements(s){const a=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=a._stacked;a._stacked=ON(a.vScale,a),a.stack!==n.stack&&(r=!0,Kh(a),a.stack=n.stack),this._resyncElements(s),(r||i!==a._stacked)&&(gM(this,a._parsed),a._stacked=ON(a.vScale,a))}configure(){const s=this.chart.config,a=s.datasetScopeKeys(this._type),n=s.getOptionScopes(this.getDataset(),a,!0);this.options=s.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(s,a){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:o}=n,l=i.axis;let c=s===0&&a===r.length?!0:n._sorted,m=s>0&&n._parsed[s-1],u,h,f;if(this._parsing===!1)n._parsed=r,n._sorted=!0,f=r;else{Sn(r[s])?f=this.parseArrayData(n,r,s,a):ra(r[s])?f=this.parseObjectData(n,r,s,a):f=this.parsePrimitiveData(n,r,s,a);const v=()=>h[l]===null||m&&h[l]<m[l];for(u=0;u<a;++u)n._parsed[u+s]=h=f[u],c&&(v()&&(c=!1),m=h);n._sorted=c}o&&gM(this,f)}parsePrimitiveData(s,a,n,r){const{iScale:i,vScale:o}=s,l=i.axis,c=o.axis,m=i.getLabels(),u=i===o,h=new Array(r);let f,v,_;for(f=0,v=r;f<v;++f)_=f+n,h[f]={[l]:u||i.parse(m[_],_),[c]:o.parse(a[_],_)};return h}parseArrayData(s,a,n,r){const{xScale:i,yScale:o}=s,l=new Array(r);let c,m,u,h;for(c=0,m=r;c<m;++c)u=c+n,h=a[u],l[c]={x:i.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(s,a,n,r){const{xScale:i,yScale:o}=s,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,m=new Array(r);let u,h,f,v;for(u=0,h=r;u<h;++u)f=u+n,v=a[f],m[u]={x:i.parse(vu(v,l),f),y:o.parse(vu(v,c),f)};return m}getParsed(s){return this._cachedMeta._parsed[s]}getDataElement(s){return this._cachedMeta.data[s]}applyStack(s,a,n){const r=this.chart,i=this._cachedMeta,o=a[s.axis],l={keys:yF(r,!0),values:a._stacks[s.axis]._visualValues};return fM(l,o,i.index,{mode:n})}updateRangeFromParsed(s,a,n,r){const i=n[a.axis];let o=i===null?NaN:i;const l=r&&n._stacks[a.axis];r&&l&&(r.values=l,o=fM(r,i,this._cachedMeta.index)),s.min=Math.min(s.min,o),s.max=Math.max(s.max,o)}getMinMax(s,a){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&s===n.iScale,o=r.length,l=this._getOtherScale(s),c=Q1e(a,n,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=W1e(l);let f,v;function _(){v=r[f];const S=v[l.axis];return!pr(v[s.axis])||u>S||h<S}for(f=0;f<o&&!(!_()&&(this.updateRangeFromParsed(m,s,v,c),i));++f);if(i){for(f=o-1;f>=0;--f)if(!_()){this.updateRangeFromParsed(m,s,v,c);break}}return m}getAllParsedValues(s){const a=this._cachedMeta._parsed,n=[];let r,i,o;for(r=0,i=a.length;r<i;++r)o=a[r][s.axis],pr(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(s){const a=this._cachedMeta,n=a.iScale,r=a.vScale,i=this.getParsed(s);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(s){const a=this._cachedMeta;this.update(s||"default"),a._clip=U1e(Ws(this.options.clip,B1e(a.xScale,a.yScale,this.getMaxOverflow())))}update(s){}draw(){const s=this._ctx,a=this.chart,n=this._cachedMeta,r=n.data||[],i=a.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||r.length-l,m=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(s,i,l,c),u=l;u<l+c;++u){const h=r[u];h.hidden||(h.active&&m?o.push(h):h.draw(s,i))}for(u=0;u<o.length;++u)o[u].draw(s,i)}getStyle(s,a){const n=a?"active":"default";return s===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(s||0,n)}getContext(s,a,n){const r=this.getDataset();let i;if(s>=0&&s<this._cachedMeta.data.length){const o=this._cachedMeta.data[s];i=o.$context||(o.$context=K1e(this.getContext(),s,o)),i.parsed=this.getParsed(s),i.raw=r.data[s],i.index=i.dataIndex=s}else i=this.$context||(this.$context=G1e(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!a,i.mode=n,i}resolveDatasetElementOptions(s){return this._resolveElementOptions(this.datasetElementType.id,s)}resolveDataElementOptions(s,a){return this._resolveElementOptions(this.dataElementType.id,a,s)}_resolveElementOptions(s,a="default",n){const r=a==="active",i=this._cachedDataOpts,o=s+"-"+a,l=i[o],c=this.enableOptionSharing&&Ox(n);if(l)return yM(l,c);const m=this.chart.config,u=m.datasetElementScopeKeys(this._type,s),h=r?[`${s}Hover`,"hover",s,""]:[s,""],f=m.getOptionScopes(this.getDataset(),u),v=Object.keys(xn.elements[s]),_=()=>this.getContext(n,r,a),S=m.resolveNamedOptions(f,v,_,h);return S.$shared&&(S.$shared=c,i[o]=Object.freeze(yM(S,c))),S}_resolveAnimations(s,a,n){const r=this.chart,i=this._cachedDataOpts,o=`animation-${a}`,l=i[o];if(l)return l;let c;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,a),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(s,n,a))}const m=new gF(r,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(m)),m}getSharedOptions(s){if(s.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},s))}includeOptions(s,a){return!a||LN(s)||this.chart._animationsDisabled}_getSharedOptions(s,a){const n=this.resolveDataElementOptions(s,a),r=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(a,i)||i!==r;return this.updateSharedOptions(i,a,n),{sharedOptions:i,includeOptions:o}}updateElement(s,a,n,r){LN(r)?Object.assign(s,n):this._resolveAnimations(a,r).update(s,n)}updateSharedOptions(s,a,n){s&&!LN(a)&&this._resolveAnimations(void 0,a).update(s,n)}_setStyle(s,a,n,r){s.active=r;const i=this.getStyle(a,r);this._resolveAnimations(a,n,r).update(s,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(s,a,n){this._setStyle(s,n,"active",!1)}setHoverStyle(s,a,n){this._setStyle(s,n,"active",!0)}_removeDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!1)}_setDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!0)}_resyncElements(s){const a=this._data,n=this._cachedMeta.data;for(const[l,c,m]of this._syncList)this[l](c,m);this._syncList=[];const r=n.length,i=a.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,s):i<r&&this._removeElements(i,r-i)}_insertElements(s,a,n=!0){const r=this._cachedMeta,i=r.data,o=s+a;let l;const c=m=>{for(m.length+=a,l=m.length-1;l>=o;l--)m[l]=m[l-a]};for(c(i),l=s;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(s,a),n&&this.updateElements(i,s,a,"reset")}updateElements(s,a,n,r){}_removeElements(s,a){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(s,a);n._stacked&&Kh(n,r)}n.data.splice(s,a)}_sync(s){if(this._parsing)this._syncList.push(s);else{const[a,n,r]=s;this[a](n,r)}this.chart._dataChanges.push([this.index,...s])}_onDataPush(){const s=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-s,s])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(s,a){a&&this._sync(["_removeElements",s,a]);const n=arguments.length-2;n&&this._sync(["_insertElements",s,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Z1e(t,s){if(!t._cache.$bar){const a=t.getMatchingVisibleMetas(s);let n=[];for(let r=0,i=a.length;r<i;r++)n=n.concat(a[r].controller.getAllParsedValues(t));t._cache.$bar=eF(n.sort((r,i)=>r-i))}return t._cache.$bar}function X1e(t){const s=t.iScale,a=Z1e(s,t.type);let n=s._length,r,i,o,l;const c=()=>{o===32767||o===-32768||(Ox(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(r=0,i=a.length;r<i;++r)o=s.getPixelForValue(a[r]),c();for(l=void 0,r=0,i=s.ticks.length;r<i;++r)o=s.getPixelForTick(r),c();return n}function J1e(t,s,a,n){const r=a.barThickness;let i,o;return va(r)?(i=s.min*a.categoryPercentage,o=a.barPercentage):(i=r*n,o=1),{chunk:i/n,ratio:o,start:s.pixels[t]-i/2}}function eje(t,s,a,n){const r=s.pixels,i=r[t];let o=t>0?r[t-1]:null,l=t<r.length-1?r[t+1]:null;const c=a.categoryPercentage;o===null&&(o=i-(l===null?s.end-s.start:l-i)),l===null&&(l=i+i-o);const m=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/n,ratio:a.barPercentage,start:m}}function tje(t,s,a,n){const r=a.parse(t[0],n),i=a.parse(t[1],n),o=Math.min(r,i),l=Math.max(r,i);let c=o,m=l;Math.abs(o)>Math.abs(l)&&(c=l,m=o),s[a.axis]=m,s._custom={barStart:c,barEnd:m,start:r,end:i,min:o,max:l}}function bF(t,s,a,n){return Sn(t)?tje(t,s,a,n):s[a.axis]=a.parse(t,n),s}function bM(t,s,a,n){const r=t.iScale,i=t.vScale,o=r.getLabels(),l=r===i,c=[];let m,u,h,f;for(m=a,u=a+n;m<u;++m)f=s[m],h={},h[r.axis]=l||r.parse(o[m],m),c.push(bF(f,h,i,m));return c}function zN(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function sje(t,s,a){return t!==0?al(t):(s.isHorizontal()?1:-1)*(s.min>=a?1:-1)}function aje(t){let s,a,n,r,i;return t.horizontal?(s=t.base>t.x,a="left",n="right"):(s=t.base<t.y,a="bottom",n="top"),s?(r="end",i="start"):(r="start",i="end"),{start:a,end:n,reverse:s,top:r,bottom:i}}function nje(t,s,a,n){let r=s.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:m,bottom:u}=aje(t);r==="middle"&&a&&(t.enableBorderRadius=!0,(a._top||0)===n?r=m:(a._bottom||0)===n?r=u:(i[vM(u,o,l,c)]=!0,r=m)),i[vM(r,o,l,c)]=!0,t.borderSkipped=i}function vM(t,s,a,n){return n?(t=rje(t,s,a),t=jM(t,a,s)):t=jM(t,s,a),t}function rje(t,s,a){return t===s?a:t===a?s:t}function jM(t,s,a){return t==="start"?s:t==="end"?a:t}function ije(t,{inflateAmount:s},a){t.inflateAmount=s==="auto"?a===1?.33:0:s}class oje extends i1{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(s,a,n,r){return bM(s,a,n,r)}parseArrayData(s,a,n,r){return bM(s,a,n,r)}parseObjectData(s,a,n,r){const{iScale:i,vScale:o}=s,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,m=i.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let f,v,_,S;for(f=n,v=n+r;f<v;++f)S=a[f],_={},_[i.axis]=i.parse(vu(S,m),f),h.push(bF(vu(S,u),_,o,f));return h}updateRangeFromParsed(s,a,n,r){super.updateRangeFromParsed(s,a,n,r);const i=n._custom;i&&a===this._cachedMeta.vScale&&(s.min=Math.min(s.min,i.min),s.max=Math.max(s.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(s){const a=this._cachedMeta,{iScale:n,vScale:r}=a,i=this.getParsed(s),o=i._custom,l=zN(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const s=this._cachedMeta;s.stack=this.getDataset().stack}update(s){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,s)}updateElements(s,a,n,r){const i=r==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),m=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(a,r);for(let v=a;v<a+n;v++){const _=this.getParsed(v),S=i||va(_[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(v),j=this._calculateBarIndexPixels(v,u),b=(_._stacks||{})[l.axis],w={horizontal:m,base:S.base,enableBorderRadius:!b||zN(_._custom)||o===b._top||o===b._bottom,x:m?S.head:j.center,y:m?j.center:S.head,height:m?j.size:Math.abs(S.size),width:m?Math.abs(S.size):j.size};f&&(w.options=h||this.resolveDataElementOptions(v,s[v].active?"active":r));const C=w.options||s[v].options;nje(w,C,b,o),ije(w,C,u.ratio),this.updateElement(s[v],v,w,r)}}_getStacks(s,a){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(a),c=l&&l[n.axis],m=u=>{const h=u._parsed.find(v=>v[n.axis]===c),f=h&&h[u.vScale.axis];if(va(f)||isNaN(f))return!0};for(const u of r)if(!(a!==void 0&&m(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===s))break;return o.length||o.push(void 0),o}_getStackCount(s){return this._getStacks(void 0,s).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const s=this.chart.scales,a=this.chart.options.indexAxis;return Object.keys(s).filter(n=>s[n].axis===a).shift()}_getAxis(){const s={},a=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)s[Ws(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,a)]=!0;return Object.keys(s)}_getStackIndex(s,a,n){const r=this._getStacks(s,n),i=a!==void 0?r.indexOf(a):-1;return i===-1?r.length-1:i}_getRuler(){const s=this.options,a=this._cachedMeta,n=a.iScale,r=[];let i,o;for(i=0,o=a.data.length;i<o;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const l=s.barThickness;return{min:l||X1e(a),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:s.grouped,ratio:l?1:s.categoryPercentage*s.barPercentage}}_calculateBarValuePixels(s){const{_cachedMeta:{vScale:a,_stacked:n,index:r},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(s),m=c._custom,u=zN(m);let h=c[a.axis],f=0,v=n?this.applyStack(a,c,n):h,_,S;v!==h&&(f=v-h,v=h),u&&(h=m.barStart,v=m.barEnd-m.barStart,h!==0&&al(h)!==al(m.barEnd)&&(f=0),f+=h);const j=!va(i)&&!u?i:f;let b=a.getPixelForValue(j);if(this.chart.getDataVisibility(s)?_=a.getPixelForValue(f+v):_=b,S=_-b,Math.abs(S)<o){S=sje(S,a,l)*o,h===l&&(b-=S/2);const w=a.getPixelForDecimal(0),C=a.getPixelForDecimal(1),P=Math.min(w,C),E=Math.max(w,C);b=Math.max(Math.min(b,E),P),_=b+S,n&&!u&&(c._stacks[a.axis]._visualValues[r]=a.getValueForPixel(_)-a.getValueForPixel(b))}if(b===a.getPixelForValue(l)){const w=al(S)*a.getLineWidthForValue(l)/2;b+=w,S-=w}return{size:S,base:b,head:_,center:_+S/2}}_calculateBarIndexPixels(s,a){const n=a.scale,r=this.options,i=r.skipNull,o=Ws(r.maxBarThickness,1/0);let l,c;const m=this._getAxisCount();if(a.grouped){const u=i?this._getStackCount(s):a.stackCount,h=r.barThickness==="flex"?eje(s,a,r,u*m):J1e(s,a,r,u*m),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(Ws(f,this.getFirstScaleIdForIndexAxis())),_=this._getStackIndex(this.index,this._cachedMeta.stack,i?s:void 0)+v;l=h.start+h.chunk*_+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=n.getPixelForValue(this.getParsed(s)[n.axis],s),c=Math.min(o,a.min*a.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const s=this._cachedMeta,a=s.vScale,n=s.data,r=n.length;let i=0;for(;i<r;++i)this.getParsed(i)[a.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}function lje(t,s,a){let n=1,r=1,i=0,o=0;if(s<Xa){const l=t,c=l+s,m=Math.cos(l),u=Math.sin(l),h=Math.cos(c),f=Math.sin(c),v=(C,P,E)=>Lx(C,l,c,!0)?1:Math.max(P,P*a,E,E*a),_=(C,P,E)=>Lx(C,l,c,!0)?-1:Math.min(P,P*a,E,E*a),S=v(0,m,h),j=v(Dn,u,f),b=_(Ea,m,h),w=_(Ea+Dn,u,f);n=(S-b)/2,r=(j-w)/2,i=-(S+b)/2,o=-(j+w)/2}return{ratioX:n,ratioY:r,offsetX:i,offsetY:o}}class vF extends i1{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:s=>s!=="spacing",_indexable:s=>s!=="spacing"&&!s.startsWith("borderDash")&&!s.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const a=s.data,{labels:{pointStyle:n,textAlign:r,color:i,useBorderRadius:o,borderRadius:l}}=s.legend.options;return a.labels.length&&a.datasets.length?a.labels.map((c,m)=>{const h=s.getDatasetMeta(0).controller.getStyle(m);return{text:c,fillStyle:h.backgroundColor,fontColor:i,hidden:!s.getDataVisibility(m),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:r,pointStyle:n,borderRadius:o&&(l||h.borderRadius),index:m}}):[]}},onClick(s,a,n){n.chart.toggleDataVisibility(a.index),n.chart.update()}}}};constructor(s,a){super(s,a),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(s,a){const n=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=n;else{let i=c=>+n[c];if(ra(n[s])){const{key:c="value"}=this._parsing;i=m=>+vu(n[m],c)}let o,l;for(o=s,l=s+a;o<l;++o)r._parsed[o]=i(o)}}_getRotation(){return Bl(this.options.rotation-90)}_getCircumference(){return Bl(this.options.circumference)}_getRotationExtents(){let s=Xa,a=-Xa;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),o=r._getCircumference();s=Math.min(s,i),a=Math.max(a,i+o)}return{rotation:s,circumference:a-s}}update(s){const a=this.chart,{chartArea:n}=a,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),c=Math.min(fve(this.options.cutout,l),1),m=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:v,offsetX:_,offsetY:S}=lje(h,u,c),j=(n.width-o)/f,b=(n.height-o)/v,w=Math.max(Math.min(j,b)/2,0),C=KO(this.options.radius,w),P=Math.max(C*c,0),E=(C-P)/this._getVisibleDatasetWeightTotal();this.offsetX=_*C,this.offsetY=S*C,r.total=this.calculateTotal(),this.outerRadius=C-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*m,0),this.updateElements(i,0,i.length,s)}_circumference(s,a){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return a&&n.animation.animateRotate||!this.chart.getDataVisibility(s)||r._parsed[s]===null||r.data[s].hidden?0:this.calculateCircumference(r._parsed[s]*i/Xa)}updateElements(s,a,n,r){const i=r==="reset",o=this.chart,l=o.chartArea,m=o.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=i&&m.animateScale,v=f?0:this.innerRadius,_=f?0:this.outerRadius,{sharedOptions:S,includeOptions:j}=this._getSharedOptions(a,r);let b=this._getRotation(),w;for(w=0;w<a;++w)b+=this._circumference(w,i);for(w=a;w<a+n;++w){const C=this._circumference(w,i),P=s[w],E={x:u+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+C,circumference:C,outerRadius:_,innerRadius:v};j&&(E.options=S||this.resolveDataElementOptions(w,P.active?"active":r)),b+=C,this.updateElement(P,w,E,r)}}calculateTotal(){const s=this._cachedMeta,a=s.data;let n=0,r;for(r=0;r<a.length;r++){const i=s._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!a[r].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(s){const a=this._cachedMeta.total;return a>0&&!isNaN(s)?Xa*(Math.abs(s)/a):0}getLabelAndValue(s){const a=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=BS(a._parsed[s],n.options.locale);return{label:r[s]||"",value:i}}getMaxBorderWidth(s){let a=0;const n=this.chart;let r,i,o,l,c;if(!s){for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),s=o.data,l=o.controller;break}}if(!s)return 0;for(r=0,i=s.length;r<i;++r)c=l.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(a=Math.max(a,c.borderWidth||0,c.hoverBorderWidth||0));return a}getMaxOffset(s){let a=0;for(let n=0,r=s.length;n<r;++n){const i=this.resolveDataElementOptions(n);a=Math.max(a,i.offset||0,i.hoverOffset||0)}return a}_getRingWeightOffset(s){let a=0;for(let n=0;n<s;++n)this.chart.isDatasetVisible(n)&&(a+=this._getRingWeight(n));return a}_getRingWeight(s){return Math.max(Ws(this.chart.data.datasets[s].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class cje extends i1{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(s){const a=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=a,o=this.chart._animationsDisabled;let{start:l,count:c}=Ive(a,r,o);this._drawStart=l,this._drawCount=c,Ove(a)&&(l=0,c=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const m=this.resolveDatasetElementOptions(s);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:m},s),this.updateElements(r,l,c,s)}updateElements(s,a,n,r){const i=r==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:m}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(a,r),f=o.axis,v=l.axis,{spanGaps:_,segment:S}=this.options,j=Fx(_)?_:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||r==="none",w=a+n,C=s.length;let P=a>0&&this.getParsed(a-1);for(let E=0;E<C;++E){const D=s[E],T=b?D:{};if(E<a||E>=w){T.skip=!0;continue}const R=this.getParsed(E),z=va(R[v]),O=T[f]=o.getPixelForValue(R[f],E),$=T[v]=i||z?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,R,c):R[v],E);T.skip=isNaN(O)||isNaN($)||z,T.stop=E>0&&Math.abs(R[f]-P[f])>j,S&&(T.parsed=R,T.raw=m.data[E]),h&&(T.options=u||this.resolveDataElementOptions(E,D.active?"active":r)),b||this.updateElement(D,E,T,r),P=R}}getMaxOverflow(){const s=this._cachedMeta,a=s.dataset,n=a.options&&a.options.borderWidth||0,r=s.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,o)/2}draw(){const s=this._cachedMeta;s.dataset.updateControlPoints(this.chart.chartArea,s.iScale.axis),super.draw()}}class dje extends vF{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Fd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class KS{static override(s){Object.assign(KS.prototype,s)}options;constructor(s){this.options=s||{}}init(){}formats(){return Fd()}parse(){return Fd()}format(){return Fd()}add(){return Fd()}diff(){return Fd()}startOf(){return Fd()}endOf(){return Fd()}}var uje={_date:KS};function mje(t,s,a,n){const{controller:r,data:i,_sorted:o}=t,l=r._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&s===l.axis&&s!=="r"&&o&&i.length){const m=l._reversePixels?Tve:eu;if(n){if(r._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(s);if(h){const f=m(i,s,a-h),v=m(i,s,a+h);return{lo:f.lo,hi:v.hi}}}}else{const u=m(i,s,a);if(c){const{vScale:h}=r._cachedMeta,{_parsed:f}=t,v=f.slice(0,u.lo+1).reverse().findIndex(S=>!va(S[h.axis]));u.lo-=Math.max(0,v);const _=f.slice(u.hi).findIndex(S=>!va(S[h.axis]));u.hi+=Math.max(0,_)}return u}}return{lo:0,hi:i.length-1}}function o1(t,s,a,n,r){const i=t.getSortedVisibleDatasetMetas(),o=a[s];for(let l=0,c=i.length;l<c;++l){const{index:m,data:u}=i[l],{lo:h,hi:f}=mje(i[l],s,o,r);for(let v=h;v<=f;++v){const _=u[v];_.skip||n(_,m,v)}}}function pje(t){const s=t.indexOf("x")!==-1,a=t.indexOf("y")!==-1;return function(n,r){const i=s?Math.abs(n.x-r.x):0,o=a?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function $N(t,s,a,n,r){const i=[];return!r&&!t.isPointInArea(s)||o1(t,a,s,function(l,c,m){!r&&!zx(l,t.chartArea,0)||l.inRange(s.x,s.y,n)&&i.push({element:l,datasetIndex:c,index:m})},!0),i}function hje(t,s,a,n){let r=[];function i(o,l,c){const{startAngle:m,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=XO(o,{x:s.x,y:s.y});Lx(h,m,u)&&r.push({element:o,datasetIndex:l,index:c})}return o1(t,a,s,i),r}function fje(t,s,a,n,r,i){let o=[];const l=pje(a);let c=Number.POSITIVE_INFINITY;function m(u,h,f){const v=u.inRange(s.x,s.y,r);if(n&&!v)return;const _=u.getCenterPoint(r);if(!(!!i||t.isPointInArea(_))&&!v)return;const j=l(s,_);j<c?(o=[{element:u,datasetIndex:h,index:f}],c=j):j===c&&o.push({element:u,datasetIndex:h,index:f})}return o1(t,a,s,m),o}function qN(t,s,a,n,r,i){return!i&&!t.isPointInArea(s)?[]:a==="r"&&!n?hje(t,s,a,r):fje(t,s,a,n,r,i)}function NM(t,s,a,n,r){const i=[],o=a==="x"?"inXRange":"inYRange";let l=!1;return o1(t,a,s,(c,m,u)=>{c[o]&&c[o](s[a],r)&&(i.push({element:c,datasetIndex:m,index:u}),l=l||c.inRange(s.x,s.y,r))}),n&&!l?[]:i}var xje={modes:{index(t,s,a,n){const r=Bd(s,t),i=a.axis||"x",o=a.includeInvisible||!1,l=a.intersect?$N(t,r,i,n,o):qN(t,r,i,!1,n,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const u=l[0].index,h=m.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:m.index,index:u})}),c):[]},dataset(t,s,a,n){const r=Bd(s,t),i=a.axis||"xy",o=a.includeInvisible||!1;let l=a.intersect?$N(t,r,i,n,o):qN(t,r,i,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,m=t.getDatasetMeta(c).data;l=[];for(let u=0;u<m.length;++u)l.push({element:m[u],datasetIndex:c,index:u})}return l},point(t,s,a,n){const r=Bd(s,t),i=a.axis||"xy",o=a.includeInvisible||!1;return $N(t,r,i,n,o)},nearest(t,s,a,n){const r=Bd(s,t),i=a.axis||"xy",o=a.includeInvisible||!1;return qN(t,r,i,a.intersect,n,o)},x(t,s,a,n){const r=Bd(s,t);return NM(t,r,"x",a.intersect,n)},y(t,s,a,n){const r=Bd(s,t);return NM(t,r,"y",a.intersect,n)}}};const jF=["left","top","right","bottom"];function Qh(t,s){return t.filter(a=>a.pos===s)}function wM(t,s){return t.filter(a=>jF.indexOf(a.pos)===-1&&a.box.axis===s)}function Zh(t,s){return t.sort((a,n)=>{const r=s?n:a,i=s?a:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function gje(t){const s=[];let a,n,r,i,o,l;for(a=0,n=(t||[]).length;a<n;++a)r=t[a],{position:i,options:{stack:o,stackWeight:l=1}}=r,s.push({index:a,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:l});return s}function yje(t){const s={};for(const a of t){const{stack:n,pos:r,stackWeight:i}=a;if(!n||!jF.includes(r))continue;const o=s[n]||(s[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return s}function bje(t,s){const a=yje(t),{vBoxMaxWidth:n,hBoxMaxHeight:r}=s;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:c}=l.box,m=a[l.stack],u=m&&l.stackWeight/m.weight;l.horizontal?(l.width=u?u*n:c&&s.availableWidth,l.height=r):(l.width=n,l.height=u?u*r:c&&s.availableHeight)}return a}function vje(t){const s=gje(t),a=Zh(s.filter(m=>m.box.fullSize),!0),n=Zh(Qh(s,"left"),!0),r=Zh(Qh(s,"right")),i=Zh(Qh(s,"top"),!0),o=Zh(Qh(s,"bottom")),l=wM(s,"x"),c=wM(s,"y");return{fullSize:a,leftAndTop:n.concat(i),rightAndBottom:r.concat(c).concat(o).concat(l),chartArea:Qh(s,"chartArea"),vertical:n.concat(r).concat(c),horizontal:i.concat(o).concat(l)}}function _M(t,s,a,n){return Math.max(t[a],s[a])+Math.max(t[n],s[n])}function NF(t,s){t.top=Math.max(t.top,s.top),t.left=Math.max(t.left,s.left),t.bottom=Math.max(t.bottom,s.bottom),t.right=Math.max(t.right,s.right)}function jje(t,s,a,n){const{pos:r,box:i}=a,o=t.maxPadding;if(!ra(r)){a.size&&(t[r]-=a.size);const h=n[a.stack]||{size:0,count:1};h.size=Math.max(h.size,a.horizontal?i.height:i.width),a.size=h.size/h.count,t[r]+=a.size}i.getPadding&&NF(o,i.getPadding());const l=Math.max(0,s.outerWidth-_M(o,t,"left","right")),c=Math.max(0,s.outerHeight-_M(o,t,"top","bottom")),m=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,a.horizontal?{same:m,other:u}:{same:u,other:m}}function Nje(t){const s=t.maxPadding;function a(n){const r=Math.max(s[n]-t[n],0);return t[n]+=r,r}t.y+=a("top"),t.x+=a("left"),a("right"),a("bottom")}function wje(t,s){const a=s.maxPadding;function n(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(s[o],a[o])}),i}return n(t?["left","right"]:["top","bottom"])}function hf(t,s,a,n){const r=[];let i,o,l,c,m,u;for(i=0,o=t.length,m=0;i<o;++i){l=t[i],c=l.box,c.update(l.width||s.w,l.height||s.h,wje(l.horizontal,s));const{same:h,other:f}=jje(s,a,l,n);m|=h&&r.length,u=u||f,c.fullSize||r.push(l)}return m&&hf(r,s,a,n)||u}function Py(t,s,a,n,r){t.top=a,t.left=s,t.right=s+n,t.bottom=a+r,t.width=n,t.height=r}function SM(t,s,a,n){const r=a.padding;let{x:i,y:o}=s;for(const l of t){const c=l.box,m=n[l.stack]||{placed:0,weight:1},u=l.stackWeight/m.weight||1;if(l.horizontal){const h=s.w*u,f=m.size||c.height;Ox(m.start)&&(o=m.start),c.fullSize?Py(c,r.left,o,a.outerWidth-r.right-r.left,f):Py(c,s.left+m.placed,o,h,f),m.start=o,m.placed+=h,o=c.bottom}else{const h=s.h*u,f=m.size||c.width;Ox(m.start)&&(i=m.start),c.fullSize?Py(c,i,r.top,f,a.outerHeight-r.bottom-r.top):Py(c,i,s.top+m.placed,f,h),m.start=i,m.placed+=h,i=c.right}}s.x=i,s.y=o}var Hi={addBox(t,s){t.boxes||(t.boxes=[]),s.fullSize=s.fullSize||!1,s.position=s.position||"top",s.weight=s.weight||0,s._layers=s._layers||function(){return[{z:0,draw(a){s.draw(a)}}]},t.boxes.push(s)},removeBox(t,s){const a=t.boxes?t.boxes.indexOf(s):-1;a!==-1&&t.boxes.splice(a,1)},configure(t,s,a){s.fullSize=a.fullSize,s.position=a.position,s.weight=a.weight},update(t,s,a,n){if(!t)return;const r=so(t.options.layout.padding),i=Math.max(s-r.width,0),o=Math.max(a-r.height,0),l=vje(t.boxes),c=l.vertical,m=l.horizontal;Pa(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const u=c.reduce((S,j)=>j.box.options&&j.box.options.display===!1?S:S+1,0)||1,h=Object.freeze({outerWidth:s,outerHeight:a,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);NF(f,so(n));const v=Object.assign({maxPadding:f,w:i,h:o,x:r.left,y:r.top},r),_=bje(c.concat(m),h);hf(l.fullSize,v,h,_),hf(c,v,h,_),hf(m,v,h,_)&&hf(c,v,h,_),Nje(v),SM(l.leftAndTop,v,h,_),v.x+=v.w,v.y+=v.h,SM(l.rightAndBottom,v,h,_),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Pa(l.chartArea,S=>{const j=S.box;Object.assign(j,t.chartArea),j.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class wF{acquireContext(s,a){}releaseContext(s){return!1}addEventListener(s,a,n){}removeEventListener(s,a,n){}getDevicePixelRatio(){return 1}getMaximumSize(s,a,n,r){return a=Math.max(0,a||s.width),n=n||s.height,{width:a,height:Math.max(0,r?Math.floor(a/r):n)}}isAttached(s){return!0}updateConfig(s){}}class _je extends wF{acquireContext(s){return s&&s.getContext&&s.getContext("2d")||null}updateConfig(s){s.options.animation=!1}}const rb="$chartjs",Sje={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},CM=t=>t===null||t==="";function Cje(t,s){const a=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t[rb]={initial:{height:n,width:r,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",CM(r)){const i=cM(t,"width");i!==void 0&&(t.width=i)}if(CM(n))if(t.style.height==="")t.height=t.width/(s||2);else{const i=cM(t,"height");i!==void 0&&(t.height=i)}return t}const _F=S1e?{passive:!0}:!1;function kje(t,s,a){t&&t.addEventListener(s,a,_F)}function Pje(t,s,a){t&&t.canvas&&t.canvas.removeEventListener(s,a,_F)}function Eje(t,s){const a=Sje[t.type]||t.type,{x:n,y:r}=Bd(t,s);return{type:a,chart:s,native:t,x:n!==void 0?n:null,y:r!==void 0?r:null}}function Bb(t,s){for(const a of t)if(a===s||a.contains(s))return!0}function Tje(t,s,a){const n=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Bb(l.addedNodes,n),o=o&&!Bb(l.removedNodes,n);o&&a()});return r.observe(document,{childList:!0,subtree:!0}),r}function Mje(t,s,a){const n=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Bb(l.removedNodes,n),o=o&&!Bb(l.addedNodes,n);o&&a()});return r.observe(document,{childList:!0,subtree:!0}),r}const qx=new Map;let kM=0;function SF(){const t=window.devicePixelRatio;t!==kM&&(kM=t,qx.forEach((s,a)=>{a.currentDevicePixelRatio!==t&&s()}))}function Dje(t,s){qx.size||window.addEventListener("resize",SF),qx.set(t,s)}function Rje(t){qx.delete(t),qx.size||window.removeEventListener("resize",SF)}function Aje(t,s,a){const n=t.canvas,r=n&&GS(n);if(!r)return;const i=sF((l,c)=>{const m=r.clientWidth;a(l,c),m<r.clientWidth&&a()},window),o=new ResizeObserver(l=>{const c=l[0],m=c.contentRect.width,u=c.contentRect.height;m===0&&u===0||i(m,u)});return o.observe(r),Dje(t,i),o}function BN(t,s,a){a&&a.disconnect(),s==="resize"&&Rje(t)}function Ije(t,s,a){const n=t.canvas,r=sF(i=>{t.ctx!==null&&a(Eje(i,t))},t);return kje(n,s,r),r}class Oje extends wF{acquireContext(s,a){const n=s&&s.getContext&&s.getContext("2d");return n&&n.canvas===s?(Cje(s,a),n):null}releaseContext(s){const a=s.canvas;if(!a[rb])return!1;const n=a[rb].initial;["height","width"].forEach(i=>{const o=n[i];va(o)?a.removeAttribute(i):a.setAttribute(i,o)});const r=n.style||{};return Object.keys(r).forEach(i=>{a.style[i]=r[i]}),a.width=a.width,delete a[rb],!0}addEventListener(s,a,n){this.removeEventListener(s,a);const r=s.$proxies||(s.$proxies={}),o={attach:Tje,detach:Mje,resize:Aje}[a]||Ije;r[a]=o(s,a,n)}removeEventListener(s,a){const n=s.$proxies||(s.$proxies={}),r=n[a];if(!r)return;({attach:BN,detach:BN,resize:BN}[a]||Pje)(s,a,r),n[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(s,a,n,r){return _1e(s,a,n,r)}isAttached(s){const a=s&&GS(s);return!!(a&&a.isConnected)}}function Fje(t){return!YS()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?_je:Oje}let rc=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(s){const{x:a,y:n}=this.getProps(["x","y"],s);return{x:a,y:n}}hasValue(){return Fx(this.x)&&Fx(this.y)}getProps(s,a){const n=this.$animations;if(!a||!n)return this;const r={};return s.forEach(i=>{r[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),r}};function Lje(t,s){const a=t.options.ticks,n=zje(t),r=Math.min(a.maxTicksLimit||n,n),i=a.major.enabled?qje(s):[],o=i.length,l=i[0],c=i[o-1],m=[];if(o>r)return Bje(s,m,i,o/r),m;const u=$je(i,s,r);if(o>0){let h,f;const v=o>1?Math.round((c-l)/(o-1)):null;for(Ey(s,m,u,va(v)?0:l-v,l),h=0,f=o-1;h<f;h++)Ey(s,m,u,i[h],i[h+1]);return Ey(s,m,u,c,va(v)?s.length:c+v),m}return Ey(s,m,u),m}function zje(t){const s=t.options.offset,a=t._tickSize(),n=t._length/a+(s?0:1),r=t._maxLength/a;return Math.floor(Math.min(n,r))}function $je(t,s,a){const n=Uje(t),r=s.length/a;if(!n)return Math.max(r,1);const i=wve(n);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>r)return c}return Math.max(r,1)}function qje(t){const s=[];let a,n;for(a=0,n=t.length;a<n;a++)t[a].major&&s.push(a);return s}function Bje(t,s,a,n){let r=0,i=a[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(s.push(t[o]),r++,i=a[r*n])}function Ey(t,s,a,n,r){const i=Ws(n,0),o=Math.min(Ws(r,t.length),t.length);let l=0,c,m,u;for(a=Math.ceil(a),r&&(c=r-n,a=c/Math.floor(c/a)),u=i;u<0;)l++,u=Math.round(i+l*a);for(m=Math.max(i,0);m<o;m++)m===u&&(s.push(t[m]),l++,u=Math.round(i+l*a))}function Uje(t){const s=t.length;let a,n;if(s<2)return!1;for(n=t[0],a=1;a<s;++a)if(t[a]-t[a-1]!==n)return!1;return n}const Vje=t=>t==="left"?"right":t==="right"?"left":t,PM=(t,s,a)=>s==="top"||s==="left"?t[s]+a:t[s]-a,EM=(t,s)=>Math.min(s||t,t);function TM(t,s){const a=[],n=t.length/s,r=t.length;let i=0;for(;i<r;i+=n)a.push(t[Math.floor(i)]);return a}function Hje(t,s,a){const n=t.ticks.length,r=Math.min(s,n-1),i=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(r),m;if(!(a&&(n===1?m=Math.max(c-i,o-c):s===0?m=(t.getPixelForTick(1)-c)/2:m=(c-t.getPixelForTick(r-1))/2,c+=r<s?m:-m,c<i-l||c>o+l)))return c}function Wje(t,s){Pa(t,a=>{const n=a.gc,r=n.length/2;let i;if(r>s){for(i=0;i<r;++i)delete a.data[n[i]];n.splice(0,r)}})}function Xh(t){return t.drawTicks?t.tickLength:0}function MM(t,s){if(!t.display)return 0;const a=dr(t.font,s),n=so(t.padding);return(Sn(t.text)?t.text.length:1)*a.lineHeight+n.height}function Yje(t,s){return Du(t,{scale:s,type:"scale"})}function Gje(t,s,a){return Du(t,{tick:a,index:s,type:"tick"})}function Kje(t,s,a){let n=$S(t);return(a&&s!=="right"||!a&&s==="right")&&(n=Vje(n)),n}function Qje(t,s,a,n){const{top:r,left:i,bottom:o,right:l,chart:c}=t,{chartArea:m,scales:u}=c;let h=0,f,v,_;const S=o-r,j=l-i;if(t.isHorizontal()){if(v=nr(n,i,l),ra(a)){const b=Object.keys(a)[0],w=a[b];_=u[b].getPixelForValue(w)+S-s}else a==="center"?_=(m.bottom+m.top)/2+S-s:_=PM(t,a,s);f=l-i}else{if(ra(a)){const b=Object.keys(a)[0],w=a[b];v=u[b].getPixelForValue(w)-j+s}else a==="center"?v=(m.left+m.right)/2-j+s:v=PM(t,a,s);_=nr(n,o,r),h=a==="left"?-Dn:Dn}return{titleX:v,titleY:_,maxWidth:f,rotation:h}}class Op extends rc{constructor(s){super(),this.id=s.id,this.type=s.type,this.options=void 0,this.ctx=s.ctx,this.chart=s.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(s){this.options=s.setContext(this.getContext()),this.axis=s.axis,this._userMin=this.parse(s.min),this._userMax=this.parse(s.max),this._suggestedMin=this.parse(s.suggestedMin),this._suggestedMax=this.parse(s.suggestedMax)}parse(s,a){return s}getUserBounds(){let{_userMin:s,_userMax:a,_suggestedMin:n,_suggestedMax:r}=this;return s=Ao(s,Number.POSITIVE_INFINITY),a=Ao(a,Number.NEGATIVE_INFINITY),n=Ao(n,Number.POSITIVE_INFINITY),r=Ao(r,Number.NEGATIVE_INFINITY),{min:Ao(s,n),max:Ao(a,r),minDefined:pr(s),maxDefined:pr(a)}}getMinMax(s){let{min:a,max:n,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:a,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,m=l.length;c<m;++c)o=l[c].controller.getMinMax(this,s),r||(a=Math.min(a,o.min)),i||(n=Math.max(n,o.max));return a=i&&a>n?n:a,n=r&&a>n?a:n,{min:Ao(a,Ao(n,a)),max:Ao(n,Ao(a,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const s=this.chart.data;return this.options.labels||(this.isHorizontal()?s.xLabels:s.yLabels)||s.labels||[]}getLabelItems(s=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(s))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ua(this.options.beforeUpdate,[this])}update(s,a,n){const{beginAtZero:r,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=s,this.maxHeight=a,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=s1e(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?TM(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Lje(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let s=this.options.reverse,a,n;this.isHorizontal()?(a=this.left,n=this.right):(a=this.top,n=this.bottom,s=!s),this._startPixel=a,this._endPixel=n,this._reversePixels=s,this._length=n-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ua(this.options.afterUpdate,[this])}beforeSetDimensions(){Ua(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ua(this.options.afterSetDimensions,[this])}_callHooks(s){this.chart.notifyPlugins(s,this.getContext()),Ua(this.options[s],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ua(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(s){const a=this.options.ticks;let n,r,i;for(n=0,r=s.length;n<r;n++)i=s[n],i.label=Ua(a.callback,[i.value,n,s],this)}afterTickToLabelConversion(){Ua(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ua(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const s=this.options,a=s.ticks,n=EM(this.ticks.length,s.ticks.maxTicksLimit),r=a.minRotation||0,i=a.maxRotation;let o=r,l,c,m;if(!this._isVisible()||!a.display||r>=i||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,v=cr(this.chart.width-h,0,this.maxWidth);l=s.offset?this.maxWidth/n:v/(n-1),h+6>l&&(l=v/(n-(s.offset?.5:1)),c=this.maxHeight-Xh(s.grid)-a.padding-MM(s.title,this.chart.options.font),m=Math.sqrt(h*h+f*f),o=kve(Math.min(Math.asin(cr((u.highest.height+6)/l,-1,1)),Math.asin(cr(c/m,-1,1))-Math.asin(cr(f/m,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ua(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ua(this.options.beforeFit,[this])}fit(){const s={width:0,height:0},{chart:a,options:{ticks:n,title:r,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=MM(r,a.options.font);if(l?(s.width=this.maxWidth,s.height=Xh(i)+c):(s.height=this.maxHeight,s.width=Xh(i)+c),n.display&&this.ticks.length){const{first:m,last:u,widest:h,highest:f}=this._getLabelSizes(),v=n.padding*2,_=Bl(this.labelRotation),S=Math.cos(_),j=Math.sin(_);if(l){const b=n.mirror?0:j*h.width+S*f.height;s.height=Math.min(this.maxHeight,s.height+b+v)}else{const b=n.mirror?0:S*h.width+j*f.height;s.width=Math.min(this.maxWidth,s.width+b+v)}this._calculatePadding(m,u,j,S)}}this._handleMargins(),l?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=s.height):(this.width=s.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(s,a,n,r){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,m=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,v=0;c?m?(f=r*s.width,v=n*a.height):(f=n*s.height,v=r*a.width):i==="start"?v=a.width:i==="end"?f=s.width:i!=="inner"&&(f=s.width/2,v=a.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((v-h+o)*this.width/(this.width-h),0)}else{let u=a.height/2,h=s.height/2;i==="start"?(u=0,h=s.height):i==="end"&&(u=a.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ua(this.options.afterFit,[this])}isHorizontal(){const{axis:s,position:a}=this.options;return a==="top"||a==="bottom"||s==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(s){this.beforeTickToLabelConversion(),this.generateTickLabels(s);let a,n;for(a=0,n=s.length;a<n;a++)va(s[a].label)&&(s.splice(a,1),n--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let s=this._labelSizes;if(!s){const a=this.options.ticks.sampleSize;let n=this.ticks;a<n.length&&(n=TM(n,a)),this._labelSizes=s=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return s}_computeLabelSizes(s,a,n){const{ctx:r,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(a/EM(a,n));let m=0,u=0,h,f,v,_,S,j,b,w,C,P,E;for(h=0;h<a;h+=c){if(_=s[h].label,S=this._resolveTickFontOptions(h),r.font=j=S.string,b=i[j]=i[j]||{data:{},gc:[]},w=S.lineHeight,C=P=0,!va(_)&&!Sn(_))C=nM(r,b.data,b.gc,C,_),P=w;else if(Sn(_))for(f=0,v=_.length;f<v;++f)E=_[f],!va(E)&&!Sn(E)&&(C=nM(r,b.data,b.gc,C,E),P+=w);o.push(C),l.push(P),m=Math.max(C,m),u=Math.max(P,u)}Wje(i,a);const D=o.indexOf(m),T=l.indexOf(u),R=z=>({width:o[z]||0,height:l[z]||0});return{first:R(0),last:R(a-1),widest:R(D),highest:R(T),widths:o,heights:l}}getLabelForValue(s){return s}getPixelForValue(s,a){return NaN}getValueForPixel(s){}getPixelForTick(s){const a=this.ticks;return s<0||s>a.length-1?null:this.getPixelForValue(a[s].value)}getPixelForDecimal(s){this._reversePixels&&(s=1-s);const a=this._startPixel+s*this._length;return Eve(this._alignToPixels?Od(this.chart,a,0):a)}getDecimalForPixel(s){const a=(s-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:s,max:a}=this;return s<0&&a<0?a:s>0&&a>0?s:0}getContext(s){const a=this.ticks||[];if(s>=0&&s<a.length){const n=a[s];return n.$context||(n.$context=Gje(this.getContext(),s,n))}return this.$context||(this.$context=Yje(this.chart.getContext(),this))}_tickSize(){const s=this.options.ticks,a=Bl(this.labelRotation),n=Math.abs(Math.cos(a)),r=Math.abs(Math.sin(a)),i=this._getLabelSizes(),o=s.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*n>l*r?l/n:c/r:c*r<l*n?c/n:l/r}_isVisible(){const s=this.options.display;return s!=="auto"?!!s:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(s){const a=this.axis,n=this.chart,r=this.options,{grid:i,position:o,border:l}=r,c=i.offset,m=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=Xh(i),v=[],_=l.setContext(this.getContext()),S=_.display?_.width:0,j=S/2,b=function(B){return Od(n,B,S)};let w,C,P,E,D,T,R,z,O,$,A,Q;if(o==="top")w=b(this.bottom),T=this.bottom-f,z=w-j,$=b(s.top)+j,Q=s.bottom;else if(o==="bottom")w=b(this.top),$=s.top,Q=b(s.bottom)-j,T=w+j,z=this.top+f;else if(o==="left")w=b(this.right),D=this.right-f,R=w-j,O=b(s.left)+j,A=s.right;else if(o==="right")w=b(this.left),O=s.left,A=b(s.right)-j,D=w+j,R=this.left+f;else if(a==="x"){if(o==="center")w=b((s.top+s.bottom)/2+.5);else if(ra(o)){const B=Object.keys(o)[0],V=o[B];w=b(this.chart.scales[B].getPixelForValue(V))}$=s.top,Q=s.bottom,T=w+j,z=T+f}else if(a==="y"){if(o==="center")w=b((s.left+s.right)/2);else if(ra(o)){const B=Object.keys(o)[0],V=o[B];w=b(this.chart.scales[B].getPixelForValue(V))}D=w-j,R=D-f,O=s.left,A=s.right}const K=Ws(r.ticks.maxTicksLimit,h),U=Math.max(1,Math.ceil(h/K));for(C=0;C<h;C+=U){const B=this.getContext(C),V=i.setContext(B),Y=l.setContext(B),H=V.lineWidth,F=V.color,M=Y.dash||[],L=Y.dashOffset,W=V.tickWidth,X=V.tickColor,te=V.tickBorderDash||[],se=V.tickBorderDashOffset;P=Hje(this,C,c),P!==void 0&&(E=Od(n,P,H),m?D=R=O=A=E:T=z=$=Q=E,v.push({tx1:D,ty1:T,tx2:R,ty2:z,x1:O,y1:$,x2:A,y2:Q,width:H,color:F,borderDash:M,borderDashOffset:L,tickWidth:W,tickColor:X,tickBorderDash:te,tickBorderDashOffset:se}))}return this._ticksLength=h,this._borderValue=w,v}_computeLabelItems(s){const a=this.axis,n=this.options,{position:r,ticks:i}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:m,padding:u,mirror:h}=i,f=Xh(n.grid),v=f+u,_=h?-u:v,S=-Bl(this.labelRotation),j=[];let b,w,C,P,E,D,T,R,z,O,$,A,Q="middle";if(r==="top")D=this.bottom-_,T=this._getXAxisLabelAlignment();else if(r==="bottom")D=this.top+_,T=this._getXAxisLabelAlignment();else if(r==="left"){const U=this._getYAxisLabelAlignment(f);T=U.textAlign,E=U.x}else if(r==="right"){const U=this._getYAxisLabelAlignment(f);T=U.textAlign,E=U.x}else if(a==="x"){if(r==="center")D=(s.top+s.bottom)/2+v;else if(ra(r)){const U=Object.keys(r)[0],B=r[U];D=this.chart.scales[U].getPixelForValue(B)+v}T=this._getXAxisLabelAlignment()}else if(a==="y"){if(r==="center")E=(s.left+s.right)/2-v;else if(ra(r)){const U=Object.keys(r)[0],B=r[U];E=this.chart.scales[U].getPixelForValue(B)}T=this._getYAxisLabelAlignment(f).textAlign}a==="y"&&(c==="start"?Q="top":c==="end"&&(Q="bottom"));const K=this._getLabelSizes();for(b=0,w=l.length;b<w;++b){C=l[b],P=C.label;const U=i.setContext(this.getContext(b));R=this.getPixelForTick(b)+i.labelOffset,z=this._resolveTickFontOptions(b),O=z.lineHeight,$=Sn(P)?P.length:1;const B=$/2,V=U.color,Y=U.textStrokeColor,H=U.textStrokeWidth;let F=T;o?(E=R,T==="inner"&&(b===w-1?F=this.options.reverse?"left":"right":b===0?F=this.options.reverse?"right":"left":F="center"),r==="top"?m==="near"||S!==0?A=-$*O+O/2:m==="center"?A=-K.highest.height/2-B*O+O:A=-K.highest.height+O/2:m==="near"||S!==0?A=O/2:m==="center"?A=K.highest.height/2-B*O:A=K.highest.height-$*O,h&&(A*=-1),S!==0&&!U.showLabelBackdrop&&(E+=O/2*Math.sin(S))):(D=R,A=(1-$)*O/2);let M;if(U.showLabelBackdrop){const L=so(U.backdropPadding),W=K.heights[b],X=K.widths[b];let te=A-L.top,se=0-L.left;switch(Q){case"middle":te-=W/2;break;case"bottom":te-=W;break}switch(T){case"center":se-=X/2;break;case"right":se-=X;break;case"inner":b===w-1?se-=X:b>0&&(se-=X/2);break}M={left:se,top:te,width:X+L.width,height:W+L.height,color:U.backdropColor}}j.push({label:P,font:z,textOffset:A,options:{rotation:S,color:V,strokeColor:Y,strokeWidth:H,textAlign:F,textBaseline:Q,translation:[E,D],backdrop:M}})}return j}_getXAxisLabelAlignment(){const{position:s,ticks:a}=this.options;if(-Bl(this.labelRotation))return s==="top"?"left":"right";let r="center";return a.align==="start"?r="left":a.align==="end"?r="right":a.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(s){const{position:a,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),l=s+i,c=o.widest.width;let m,u;return a==="left"?r?(u=this.right+i,n==="near"?m="left":n==="center"?(m="center",u+=c/2):(m="right",u+=c)):(u=this.right-l,n==="near"?m="right":n==="center"?(m="center",u-=c/2):(m="left",u=this.left)):a==="right"?r?(u=this.left+i,n==="near"?m="right":n==="center"?(m="center",u-=c/2):(m="left",u-=c)):(u=this.left+l,n==="near"?m="left":n==="center"?(m="center",u+=c/2):(m="right",u=this.right)):m="right",{textAlign:m,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const s=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:s.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:s.width}}drawBackground(){const{ctx:s,options:{backgroundColor:a},left:n,top:r,width:i,height:o}=this;a&&(s.save(),s.fillStyle=a,s.fillRect(n,r,i,o),s.restore())}getLineWidthForValue(s){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const r=this.ticks.findIndex(i=>i.value===s);return r>=0?a.setContext(this.getContext(r)).lineWidth:0}drawGrid(s){const a=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(s));let i,o;const l=(c,m,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(m.x,m.y),n.stroke(),n.restore())};if(a.display)for(i=0,o=r.length;i<o;++i){const c=r[i];a.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),a.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:s,ctx:a,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const l=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let m,u,h,f;this.isHorizontal()?(m=Od(s,this.left,o)-o/2,u=Od(s,this.right,l)+l/2,h=f=c):(h=Od(s,this.top,o)-o/2,f=Od(s,this.bottom,l)+l/2,m=u=c),a.save(),a.lineWidth=i.width,a.strokeStyle=i.color,a.beginPath(),a.moveTo(m,h),a.lineTo(u,f),a.stroke(),a.restore()}drawLabels(s){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&a1(n,r);const i=this.getLabelItems(s);for(const o of i){const l=o.options,c=o.font,m=o.label,u=o.textOffset;$x(n,m,0,u,c,l)}r&&n1(n)}drawTitle(){const{ctx:s,options:{position:a,title:n,reverse:r}}=this;if(!n.display)return;const i=dr(n.font),o=so(n.padding),l=n.align;let c=i.lineHeight/2;a==="bottom"||a==="center"||ra(a)?(c+=o.bottom,Sn(n.text)&&(c+=i.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:m,titleY:u,maxWidth:h,rotation:f}=Qje(this,c,a,l);$x(s,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:f,textAlign:Kje(l,a,r),textBaseline:"middle",translation:[m,u]})}draw(s){this._isVisible()&&(this.drawBackground(),this.drawGrid(s),this.drawBorder(),this.drawTitle(),this.drawLabels(s))}_layers(){const s=this.options,a=s.ticks&&s.ticks.z||0,n=Ws(s.grid&&s.grid.z,-1),r=Ws(s.border&&s.border.z,0);return!this._isVisible()||this.draw!==Op.prototype.draw?[{z:a,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:a,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(s){const a=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,o;for(i=0,o=a.length;i<o;++i){const l=a[i];l[n]===this.id&&(!s||l.type===s)&&r.push(l)}return r}_resolveTickFontOptions(s){const a=this.options.ticks.setContext(this.getContext(s));return dr(a.font)}_maxDigits(){const s=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/s}}class Ty{constructor(s,a,n){this.type=s,this.scope=a,this.override=n,this.items=Object.create(null)}isForType(s){return Object.prototype.isPrototypeOf.call(this.type.prototype,s.prototype)}register(s){const a=Object.getPrototypeOf(s);let n;Jje(a)&&(n=this.register(a));const r=this.items,i=s.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+s);return i in r||(r[i]=s,Zje(s,o,n),this.override&&xn.override(s.id,s.overrides)),o}get(s){return this.items[s]}unregister(s){const a=this.items,n=s.id,r=this.scope;n in a&&delete a[n],r&&n in xn[r]&&(delete xn[r][n],this.override&&delete ju[n])}}function Zje(t,s,a){const n=Ix(Object.create(null),[a?xn.get(a):{},xn.get(s),t.defaults]);xn.set(s,n),t.defaultRoutes&&Xje(s,t.defaultRoutes),t.descriptors&&xn.describe(s,t.descriptors)}function Xje(t,s){Object.keys(s).forEach(a=>{const n=a.split("."),r=n.pop(),i=[t].concat(n).join("."),o=s[a].split("."),l=o.pop(),c=o.join(".");xn.route(i,r,c,l)})}function Jje(t){return"id"in t&&"defaults"in t}class e2e{constructor(){this.controllers=new Ty(i1,"datasets",!0),this.elements=new Ty(rc,"elements"),this.plugins=new Ty(Object,"plugins"),this.scales=new Ty(Op,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...s){this._each("register",s)}remove(...s){this._each("unregister",s)}addControllers(...s){this._each("register",s,this.controllers)}addElements(...s){this._each("register",s,this.elements)}addPlugins(...s){this._each("register",s,this.plugins)}addScales(...s){this._each("register",s,this.scales)}getController(s){return this._get(s,this.controllers,"controller")}getElement(s){return this._get(s,this.elements,"element")}getPlugin(s){return this._get(s,this.plugins,"plugin")}getScale(s){return this._get(s,this.scales,"scale")}removeControllers(...s){this._each("unregister",s,this.controllers)}removeElements(...s){this._each("unregister",s,this.elements)}removePlugins(...s){this._each("unregister",s,this.plugins)}removeScales(...s){this._each("unregister",s,this.scales)}_each(s,a,n){[...a].forEach(r=>{const i=n||this._getRegistryForType(r);n||i.isForType(r)||i===this.plugins&&r.id?this._exec(s,i,r):Pa(r,o=>{const l=n||this._getRegistryForType(o);this._exec(s,l,o)})})}_exec(s,a,n){const r=LS(s);Ua(n["before"+r],[],n),a[s](n),Ua(n["after"+r],[],n)}_getRegistryForType(s){for(let a=0;a<this._typedRegistries.length;a++){const n=this._typedRegistries[a];if(n.isForType(s))return n}return this.plugins}_get(s,a,n){const r=a.get(s);if(r===void 0)throw new Error('"'+s+'" is not a registered '+n+".");return r}}var Oo=new e2e;class t2e{constructor(){this._init=void 0}notify(s,a,n,r){if(a==="beforeInit"&&(this._init=this._createDescriptors(s,!0),this._notify(this._init,s,"install")),this._init===void 0)return;const i=r?this._descriptors(s).filter(r):this._descriptors(s),o=this._notify(i,s,a,n);return a==="afterDestroy"&&(this._notify(i,s,"stop"),this._notify(this._init,s,"uninstall"),this._init=void 0),o}_notify(s,a,n,r){r=r||{};for(const i of s){const o=i.plugin,l=o[n],c=[a,r,i.options];if(Ua(l,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){va(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(s){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(s);return this._notifyStateChanges(s),a}_createDescriptors(s,a){const n=s&&s.config,r=Ws(n.options&&n.options.plugins,{}),i=s2e(n);return r===!1&&!a?[]:n2e(s,i,r,a)}_notifyStateChanges(s){const a=this._oldCache||[],n=this._cache,r=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(r(a,n),s,"stop"),this._notify(r(n,a),s,"start")}}function s2e(t){const s={},a=[],n=Object.keys(Oo.plugins.items);for(let i=0;i<n.length;i++)a.push(Oo.getPlugin(n[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];a.indexOf(o)===-1&&(a.push(o),s[o.id]=!0)}return{plugins:a,localIds:s}}function a2e(t,s){return!s&&t===!1?null:t===!0?{}:t}function n2e(t,{plugins:s,localIds:a},n,r){const i=[],o=t.getContext();for(const l of s){const c=l.id,m=a2e(n[c],r);m!==null&&i.push({plugin:l,options:r2e(t.config,{plugin:l,local:a[c]},m,o)})}return i}function r2e(t,{plugin:s,local:a},n,r){const i=t.pluginScopeKeys(s),o=t.getOptionScopes(n,i);return a&&s.defaults&&o.push(s.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function M_(t,s){const a=xn.datasets[t]||{};return((s.datasets||{})[t]||{}).indexAxis||s.indexAxis||a.indexAxis||"x"}function i2e(t,s){let a=t;return t==="_index_"?a=s:t==="_value_"&&(a=s==="x"?"y":"x"),a}function o2e(t,s){return t===s?"_index_":"_value_"}function DM(t){if(t==="x"||t==="y"||t==="r")return t}function l2e(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function D_(t,...s){if(DM(t))return t;for(const a of s){const n=a.axis||l2e(a.position)||t.length>1&&DM(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function RM(t,s,a){if(a[s+"AxisID"]===t)return{axis:s}}function c2e(t,s){if(s.data&&s.data.datasets){const a=s.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(a.length)return RM(t,"x",a[0])||RM(t,"y",a[0])}return{}}function d2e(t,s){const a=ju[t.type]||{scales:{}},n=s.scales||{},r=M_(t.type,s),i=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!ra(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=D_(o,l,c2e(o,t),xn.scales[l.type]),m=o2e(c,r),u=a.scales||{};i[o]=tx(Object.create(null),[{axis:c},l,u[c],u[m]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||M_(l,s),u=(ju[l]||{}).scales||{};Object.keys(u).forEach(h=>{const f=i2e(h,c),v=o[f+"AxisID"]||f;i[v]=i[v]||Object.create(null),tx(i[v],[{axis:f},n[v],u[h]])})}),Object.keys(i).forEach(o=>{const l=i[o];tx(l,[xn.scales[l.type],xn.scale])}),i}function CF(t){const s=t.options||(t.options={});s.plugins=Ws(s.plugins,{}),s.scales=d2e(t,s)}function kF(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function u2e(t){return t=t||{},t.data=kF(t.data),CF(t),t}const AM=new Map,PF=new Set;function My(t,s){let a=AM.get(t);return a||(a=s(),AM.set(t,a),PF.add(a)),a}const Jh=(t,s,a)=>{const n=vu(s,a);n!==void 0&&t.add(n)};class m2e{constructor(s){this._config=u2e(s),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(s){this._config.type=s}get data(){return this._config.data}set data(s){this._config.data=kF(s)}get options(){return this._config.options}set options(s){this._config.options=s}get plugins(){return this._config.plugins}update(){const s=this._config;this.clearCache(),CF(s)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(s){return My(s,()=>[[`datasets.${s}`,""]])}datasetAnimationScopeKeys(s,a){return My(`${s}.transition.${a}`,()=>[[`datasets.${s}.transitions.${a}`,`transitions.${a}`],[`datasets.${s}`,""]])}datasetElementScopeKeys(s,a){return My(`${s}-${a}`,()=>[[`datasets.${s}.elements.${a}`,`datasets.${s}`,`elements.${a}`,""]])}pluginScopeKeys(s){const a=s.id,n=this.type;return My(`${n}-plugin-${a}`,()=>[[`plugins.${a}`,...s.additionalOptionScopes||[]]])}_cachedScopes(s,a){const n=this._scopeCache;let r=n.get(s);return(!r||a)&&(r=new Map,n.set(s,r)),r}getOptionScopes(s,a,n){const{options:r,type:i}=this,o=this._cachedScopes(s,n),l=o.get(a);if(l)return l;const c=new Set;a.forEach(u=>{s&&(c.add(s),u.forEach(h=>Jh(c,s,h))),u.forEach(h=>Jh(c,r,h)),u.forEach(h=>Jh(c,ju[i]||{},h)),u.forEach(h=>Jh(c,xn,h)),u.forEach(h=>Jh(c,E_,h))});const m=Array.from(c);return m.length===0&&m.push(Object.create(null)),PF.has(a)&&o.set(a,m),m}chartOptionScopes(){const{options:s,type:a}=this;return[s,ju[a]||{},xn.datasets[a]||{},{type:a},xn,E_]}resolveNamedOptions(s,a,n,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=IM(this._resolverCache,s,r);let c=o;if(h2e(o,a)){i.$shared=!1,n=sd(n)?n():n;const m=this.createResolver(s,n,l);c=jp(o,n,m)}for(const m of a)i[m]=c[m];return i}createResolver(s,a,n=[""],r){const{resolver:i}=IM(this._resolverCache,s,n);return ra(a)?jp(i,a,void 0,r):i}}function IM(t,s,a){let n=t.get(s);n||(n=new Map,t.set(s,n));const r=a.join();let i=n.get(r);return i||(i={resolver:VS(s,a),subPrefixes:a.filter(l=>!l.toLowerCase().includes("hover"))},n.set(r,i)),i}const p2e=t=>ra(t)&&Object.getOwnPropertyNames(t).some(s=>sd(t[s]));function h2e(t,s){const{isScriptable:a,isIndexable:n}=iF(t);for(const r of s){const i=a(r),o=n(r),l=(o||i)&&t[r];if(i&&(sd(l)||p2e(l))||o&&Sn(l))return!0}return!1}var f2e="4.5.1";const x2e=["top","bottom","left","right","chartArea"];function OM(t,s){return t==="top"||t==="bottom"||x2e.indexOf(t)===-1&&s==="x"}function FM(t,s){return function(a,n){return a[t]===n[t]?a[s]-n[s]:a[t]-n[t]}}function LM(t){const s=t.chart,a=s.options.animation;s.notifyPlugins("afterRender"),Ua(a&&a.onComplete,[t],s)}function g2e(t){const s=t.chart,a=s.options.animation;Ua(a&&a.onProgress,[t],s)}function EF(t){return YS()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ib={},zM=t=>{const s=EF(t);return Object.values(ib).filter(a=>a.canvas===s).pop()};function y2e(t,s,a){const n=Object.keys(t);for(const r of n){const i=+r;if(i>=s){const o=t[r];delete t[r],(a>0||i>s)&&(t[i+a]=o)}}}function b2e(t,s,a,n){return!a||t.type==="mouseout"?null:n?s:t}let l1=class{static defaults=xn;static instances=ib;static overrides=ju;static registry=Oo;static version=f2e;static getChart=zM;static register(...s){Oo.add(...s),$M()}static unregister(...s){Oo.remove(...s),$M()}constructor(s,a){const n=this.config=new m2e(a),r=EF(s),i=zM(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Fje(r)),this.platform.updateConfig(n);const l=this.platform.acquireContext(r,o.aspectRatio),c=l&&l.canvas,m=c&&c.height,u=c&&c.width;if(this.id=hve(),this.ctx=l,this.canvas=c,this.width=u,this.height=m,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new t2e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Rve(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],ib[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Rl.listen(this,"complete",LM),Rl.listen(this,"progress",g2e),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:s,maintainAspectRatio:a},width:n,height:r,_aspectRatio:i}=this;return va(s)?a&&i?i:r?n/r:null:s}get data(){return this.config.data}set data(s){this.config.data=s}get options(){return this._options}set options(s){this.config.options=s}get registry(){return Oo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():lM(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return rM(this.canvas,this.ctx),this}stop(){return Rl.stop(this),this}resize(s,a){Rl.running(this)?this._resizeBeforeDraw={width:s,height:a}:this._resize(s,a)}_resize(s,a){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,s,a,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,lM(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Ua(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const a=this.options.scales||{};Pa(a,(n,r)=>{n.id=r})}buildOrUpdateScales(){const s=this.options,a=s.scales,n=this.scales,r=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let i=[];a&&(i=i.concat(Object.keys(a).map(o=>{const l=a[o],c=D_(o,l),m=c==="r",u=c==="x";return{options:l,dposition:m?"chartArea":u?"bottom":"left",dtype:m?"radialLinear":u?"category":"linear"}}))),Pa(i,o=>{const l=o.options,c=l.id,m=D_(c,l),u=Ws(l.type,o.dtype);(l.position===void 0||OM(l.position,m)!==OM(o.dposition))&&(l.position=o.dposition),r[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{const f=Oo.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,s)}),Pa(r,(o,l)=>{o||delete n[l]}),Pa(n,o=>{Hi.configure(this,o,o.options),Hi.addBox(this,o)})}_updateMetasets(){const s=this._metasets,a=this.data.datasets.length,n=s.length;if(s.sort((r,i)=>r.index-i.index),n>a){for(let r=a;r<n;++r)this._destroyDatasetMeta(r);s.splice(a,n-a)}this._sortedMetasets=s.slice(0).sort(FM("order","index"))}_removeUnreferencedMetasets(){const{_metasets:s,data:{datasets:a}}=this;s.length>a.length&&delete this._stacks,s.forEach((n,r)=>{a.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const s=[],a=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=a.length;n<r;n++){const i=a[n];let o=this.getDatasetMeta(n);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=i.indexAxis||M_(l,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=Oo.getController(l),{datasetElementType:m,dataElementType:u}=xn.datasets[l];Object.assign(c,{dataElementType:Oo.getElement(u),datasetElementType:m&&Oo.getElement(m)}),o.controller=new c(this,n),s.push(o.controller)}}return this._updateMetasets(),s}_resetElements(){Pa(this.data.datasets,(s,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(s){const a=this.config;a.update();const n=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:s,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let m=0,u=this.data.datasets.length;m<u;m++){const{controller:h}=this.getDatasetMeta(m),f=!r&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||Pa(i,m=>{m.reset()}),this._updateDatasets(s),this.notifyPlugins("afterUpdate",{mode:s}),this._layers.sort(FM("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Pa(this.scales,s=>{Hi.removeBox(this,s)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const s=this.options,a=new Set(Object.keys(this._listeners)),n=new Set(s.events);(!KT(a,n)||!!this._responsiveListeners!==s.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:s}=this,a=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of a){const o=n==="_removeElements"?-i:i;y2e(s,r,o)}}_getUniformDataChanges(){const s=this._dataChanges;if(!s||!s.length)return;this._dataChanges=[];const a=this.data.datasets.length,n=i=>new Set(s.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),r=n(0);for(let i=1;i<a;i++)if(!KT(r,n(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(s){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Hi.update(this,this.width,this.height,s);const a=this.chartArea,n=a.width<=0||a.height<=0;this._layers=[],Pa(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(s){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:s,cancelable:!0})!==!1){for(let a=0,n=this.data.datasets.length;a<n;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,n=this.data.datasets.length;a<n;++a)this._updateDataset(a,sd(s)?s({datasetIndex:a}):s);this.notifyPlugins("afterDatasetsUpdate",{mode:s})}}_updateDataset(s,a){const n=this.getDatasetMeta(s),r={meta:n,index:s,mode:a,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(a),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Rl.has(this)?this.attached&&!Rl.running(this)&&Rl.start(this):(this.draw(),LM({chart:this})))}draw(){let s;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const a=this._layers;for(s=0;s<a.length&&a[s].z<=0;++s)a[s].draw(this.chartArea);for(this._drawDatasets();s<a.length;++s)a[s].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(s){const a=this._sortedMetasets,n=[];let r,i;for(r=0,i=a.length;r<i;++r){const o=a[r];(!s||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const s=this.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a)this._drawDataset(s[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(s){const a=this.ctx,n={meta:s,index:s.index,cancelable:!0},r=xF(this,s);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(r&&a1(a,r),s.controller.draw(),r&&n1(a),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(s){return zx(s,this.chartArea,this._minPadding)}getElementsAtEventForMode(s,a,n,r){const i=xje.modes[a];return typeof i=="function"?i(this,s,n,r):[]}getDatasetMeta(s){const a=this.data.datasets[s],n=this._metasets;let r=n.filter(i=>i&&i._dataset===a).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:s,_dataset:a,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Du(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(s){const a=this.data.datasets[s];if(!a)return!1;const n=this.getDatasetMeta(s);return typeof n.hidden=="boolean"?!n.hidden:!a.hidden}setDatasetVisibility(s,a){const n=this.getDatasetMeta(s);n.hidden=!a}toggleDataVisibility(s){this._hiddenIndices[s]=!this._hiddenIndices[s]}getDataVisibility(s){return!this._hiddenIndices[s]}_updateVisibility(s,a,n){const r=n?"show":"hide",i=this.getDatasetMeta(s),o=i.controller._resolveAnimations(void 0,r);Ox(a)?(i.data[a].hidden=!n,this.update()):(this.setDatasetVisibility(s,n),o.update(i,{visible:n}),this.update(l=>l.datasetIndex===s?r:void 0))}hide(s,a){this._updateVisibility(s,a,!1)}show(s,a){this._updateVisibility(s,a,!0)}_destroyDatasetMeta(s){const a=this._metasets[s];a&&a.controller&&a.controller._destroy(),delete this._metasets[s]}_stop(){let s,a;for(this.stop(),Rl.remove(this),s=0,a=this.data.datasets.length;s<a;++s)this._destroyDatasetMeta(s)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:s,ctx:a}=this;this._stop(),this.config.clearCache(),s&&(this.unbindEvents(),rM(s,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete ib[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...s){return this.canvas.toDataURL(...s)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const s=this._listeners,a=this.platform,n=(i,o)=>{a.addEventListener(this,i,o),s[i]=o},r=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};Pa(this.options.events,i=>n(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const s=this._responsiveListeners,a=this.platform,n=(c,m)=>{a.addEventListener(this,c,m),s[c]=m},r=(c,m)=>{s[c]&&(a.removeEventListener(this,c,m),delete s[c])},i=(c,m)=>{this.canvas&&this.resize(c,m)};let o;const l=()=>{r("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",l)},a.isAttached(this.canvas)?l():o()}unbindEvents(){Pa(this._listeners,(s,a)=>{this.platform.removeEventListener(this,a,s)}),this._listeners={},Pa(this._responsiveListeners,(s,a)=>{this.platform.removeEventListener(this,a,s)}),this._responsiveListeners=void 0}updateHoverStyle(s,a,n){const r=n?"set":"remove";let i,o,l,c;for(a==="dataset"&&(i=this.getDatasetMeta(s[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=s.length;l<c;++l){o=s[l];const m=o&&this.getDatasetMeta(o.datasetIndex).controller;m&&m[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(s){const a=this._active||[],n=s.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!Fb(n,a)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,a))}notifyPlugins(s,a,n){return this._plugins.notify(this,s,a,n)}isPluginEnabled(s){return this._plugins._cache.filter(a=>a.plugin.id===s).length===1}_updateHoverStyles(s,a,n){const r=this.options.hover,i=(c,m)=>c.filter(u=>!m.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=i(a,s),l=n?s:i(s,a);o.length&&this.updateHoverStyle(o,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(s,a){const n={event:s,replay:a,cancelable:!0,inChartArea:this.isPointInArea(s)},r=o=>(o.options.events||this.options.events).includes(s.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const i=this._handleEvent(s,a,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(s,a,n){const{_active:r=[],options:i}=this,o=a,l=this._getActiveElements(s,r,n,o),c=vve(s),m=b2e(s,this._lastEvent,n,c);n&&(this._lastEvent=null,Ua(i.onHover,[s,l,this],this),c&&Ua(i.onClick,[s,l,this],this));const u=!Fb(l,r);return(u||a)&&(this._active=l,this._updateHoverStyles(l,r,a)),this._lastEvent=m,u}_getActiveElements(s,a,n,r){if(s.type==="mouseout")return[];if(!n)return a;const i=this.options.hover;return this.getElementsAtEventForMode(s,i.mode,i,r)}};function $M(){return Pa(l1.instances,t=>t._plugins.invalidate())}function v2e(t,s,a){const{startAngle:n,x:r,y:i,outerRadius:o,innerRadius:l,options:c}=s,{borderWidth:m,borderJoinStyle:u}=c,h=Math.min(m/o,oi(n-a));if(t.beginPath(),t.arc(r,i,o-m/2,n+h/2,a-h/2),l>0){const f=Math.min(m/l,oi(n-a));t.arc(r,i,l+m/2,a-f/2,n+f/2,!0)}else{const f=Math.min(m/2,o*oi(n-a));if(u==="round")t.arc(r,i,f,a-Ea/2,n+Ea/2,!0);else if(u==="bevel"){const v=2*f*f,_=-v*Math.cos(a+Ea/2)+r,S=-v*Math.sin(a+Ea/2)+i,j=v*Math.cos(n+Ea/2)+r,b=v*Math.sin(n+Ea/2)+i;t.lineTo(_,S),t.lineTo(j,b)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function j2e(t,s,a){const{startAngle:n,pixelMargin:r,x:i,y:o,outerRadius:l,innerRadius:c}=s;let m=r/l;t.beginPath(),t.arc(i,o,l,n-m,a+m),c>r?(m=r/c,t.arc(i,o,c,a+m,n-m,!0)):t.arc(i,o,r,a+Dn,n-Dn),t.closePath(),t.clip()}function N2e(t){return US(t,["outerStart","outerEnd","innerStart","innerEnd"])}function w2e(t,s,a,n){const r=N2e(t.options.borderRadius),i=(a-s)/2,o=Math.min(i,n*s/2),l=c=>{const m=(a-Math.min(i,c))*n/2;return cr(c,0,Math.min(i,m))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:cr(r.innerStart,0,o),innerEnd:cr(r.innerEnd,0,o)}}function Nm(t,s,a,n){return{x:a+t*Math.cos(s),y:n+t*Math.sin(s)}}function Ub(t,s,a,n,r,i){const{x:o,y:l,startAngle:c,pixelMargin:m,innerRadius:u}=s,h=Math.max(s.outerRadius+n+a-m,0),f=u>0?u+n+a+m:0;let v=0;const _=r-c;if(n){const U=u>0?u-n:0,B=h>0?h-n:0,V=(U+B)/2,Y=V!==0?_*V/(V+n):_;v=(_-Y)/2}const S=Math.max(.001,_*h-a/Ea)/h,j=(_-S)/2,b=c+j+v,w=r-j-v,{outerStart:C,outerEnd:P,innerStart:E,innerEnd:D}=w2e(s,f,h,w-b),T=h-C,R=h-P,z=b+C/T,O=w-P/R,$=f+E,A=f+D,Q=b+E/$,K=w-D/A;if(t.beginPath(),i){const U=(z+O)/2;if(t.arc(o,l,h,z,U),t.arc(o,l,h,U,O),P>0){const H=Nm(R,O,o,l);t.arc(H.x,H.y,P,O,w+Dn)}const B=Nm(A,w,o,l);if(t.lineTo(B.x,B.y),D>0){const H=Nm(A,K,o,l);t.arc(H.x,H.y,D,w+Dn,K+Math.PI)}const V=(w-D/f+(b+E/f))/2;if(t.arc(o,l,f,w-D/f,V,!0),t.arc(o,l,f,V,b+E/f,!0),E>0){const H=Nm($,Q,o,l);t.arc(H.x,H.y,E,Q+Math.PI,b-Dn)}const Y=Nm(T,b,o,l);if(t.lineTo(Y.x,Y.y),C>0){const H=Nm(T,z,o,l);t.arc(H.x,H.y,C,b-Dn,z)}}else{t.moveTo(o,l);const U=Math.cos(z)*h+o,B=Math.sin(z)*h+l;t.lineTo(U,B);const V=Math.cos(O)*h+o,Y=Math.sin(O)*h+l;t.lineTo(V,Y)}t.closePath()}function _2e(t,s,a,n,r){const{fullCircles:i,startAngle:o,circumference:l}=s;let c=s.endAngle;if(i){Ub(t,s,a,n,c,r);for(let m=0;m<i;++m)t.fill();isNaN(l)||(c=o+(l%Xa||Xa))}return Ub(t,s,a,n,c,r),t.fill(),c}function S2e(t,s,a,n,r){const{fullCircles:i,startAngle:o,circumference:l,options:c}=s,{borderWidth:m,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:v}=c,_=c.borderAlign==="inner";if(!m)return;t.setLineDash(h||[]),t.lineDashOffset=f,_?(t.lineWidth=m*2,t.lineJoin=u||"round"):(t.lineWidth=m,t.lineJoin=u||"bevel");let S=s.endAngle;if(i){Ub(t,s,a,n,S,r);for(let j=0;j<i;++j)t.stroke();isNaN(l)||(S=o+(l%Xa||Xa))}_&&j2e(t,s,S),c.selfJoin&&S-o>=Ea&&v===0&&u!=="miter"&&v2e(t,s,S),i||(Ub(t,s,a,n,S,r),t.stroke())}class C2e extends rc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:s=>s!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(s){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,a,n){const r=this.getProps(["x","y"],n),{angle:i,distance:o}=XO(r,{x:s,y:a}),{startAngle:l,endAngle:c,innerRadius:m,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),f=(this.options.spacing+this.options.borderWidth)/2,v=Ws(h,c-l),_=Lx(i,l,c)&&l!==c,S=v>=Xa||_,j=Ul(o,m+f,u+f);return S&&j}getCenterPoint(s){const{x:a,y:n,startAngle:r,endAngle:i,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:c,spacing:m}=this.options,u=(r+i)/2,h=(o+l+m+c)/2;return{x:a+Math.cos(u)*h,y:n+Math.sin(u)*h}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:a,circumference:n}=this,r=(a.offset||0)/4,i=(a.spacing||0)/2,o=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=n>Xa?Math.floor(n/Xa):0,n===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const l=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(Ea,n||0)),m=r*c;s.fillStyle=a.backgroundColor,s.strokeStyle=a.borderColor,_2e(s,this,m,i,o),S2e(s,this,m,i,o),s.restore()}}function TF(t,s,a=s){t.lineCap=Ws(a.borderCapStyle,s.borderCapStyle),t.setLineDash(Ws(a.borderDash,s.borderDash)),t.lineDashOffset=Ws(a.borderDashOffset,s.borderDashOffset),t.lineJoin=Ws(a.borderJoinStyle,s.borderJoinStyle),t.lineWidth=Ws(a.borderWidth,s.borderWidth),t.strokeStyle=Ws(a.borderColor,s.borderColor)}function k2e(t,s,a){t.lineTo(a.x,a.y)}function P2e(t){return t.stepped?Yve:t.tension||t.cubicInterpolationMode==="monotone"?Gve:k2e}function MF(t,s,a={}){const n=t.length,{start:r=0,end:i=n-1}=a,{start:o,end:l}=s,c=Math.max(r,o),m=Math.min(i,l),u=r<o&&i<o||r>l&&i>l;return{count:n,start:c,loop:s.loop,ilen:m<c&&!u?n+m-c:m-c}}function E2e(t,s,a,n){const{points:r,options:i}=s,{count:o,start:l,loop:c,ilen:m}=MF(r,a,n),u=P2e(i);let{move:h=!0,reverse:f}=n||{},v,_,S;for(v=0;v<=m;++v)_=r[(l+(f?m-v:v))%o],!_.skip&&(h?(t.moveTo(_.x,_.y),h=!1):u(t,S,_,f,i.stepped),S=_);return c&&(_=r[(l+(f?m:0))%o],u(t,S,_,f,i.stepped)),!!c}function T2e(t,s,a,n){const r=s.points,{count:i,start:o,ilen:l}=MF(r,a,n),{move:c=!0,reverse:m}=n||{};let u=0,h=0,f,v,_,S,j,b;const w=P=>(o+(m?l-P:P))%i,C=()=>{S!==j&&(t.lineTo(u,j),t.lineTo(u,S),t.lineTo(u,b))};for(c&&(v=r[w(0)],t.moveTo(v.x,v.y)),f=0;f<=l;++f){if(v=r[w(f)],v.skip)continue;const P=v.x,E=v.y,D=P|0;D===_?(E<S?S=E:E>j&&(j=E),u=(h*u+P)/++h):(C(),t.lineTo(P,E),_=D,h=0,S=j=E),b=E}C()}function R_(t){const s=t.options,a=s.borderDash&&s.borderDash.length;return!t._decimated&&!t._loop&&!s.tension&&s.cubicInterpolationMode!=="monotone"&&!s.stepped&&!a?T2e:E2e}function M2e(t){return t.stepped?C1e:t.tension||t.cubicInterpolationMode==="monotone"?k1e:Ud}function D2e(t,s,a,n){let r=s._path;r||(r=s._path=new Path2D,s.path(r,a,n)&&r.closePath()),TF(t,s.options),t.stroke(r)}function R2e(t,s,a,n){const{segments:r,options:i}=s,o=R_(s);for(const l of r)TF(t,i,l.style),t.beginPath(),o(t,s,l,{start:a,end:a+n-1})&&t.closePath(),t.stroke()}const A2e=typeof Path2D=="function";function I2e(t,s,a,n){A2e&&!s.options.segment?D2e(t,s,a,n):R2e(t,s,a,n)}class c1 extends rc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:s=>s!=="borderDash"&&s!=="fill"};constructor(s){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,s&&Object.assign(this,s)}updateControlPoints(s,a){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;y1e(this._points,n,s,r,a),this._pointsUpdated=!0}}set points(s){this._points=s,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=R1e(this,this.options.segment))}first(){const s=this.segments,a=this.points;return s.length&&a[s[0].start]}last(){const s=this.segments,a=this.points,n=s.length;return n&&a[s[n-1].end]}interpolate(s,a){const n=this.options,r=s[a],i=this.points,o=fF(this,{property:a,start:r,end:r});if(!o.length)return;const l=[],c=M2e(n);let m,u;for(m=0,u=o.length;m<u;++m){const{start:h,end:f}=o[m],v=i[h],_=i[f];if(v===_){l.push(v);continue}const S=Math.abs((r-v[a])/(_[a]-v[a])),j=c(v,_,S,n.stepped);j[a]=s[a],l.push(j)}return l.length===1?l[0]:l}pathSegment(s,a,n){return R_(this)(s,this,a,n)}path(s,a,n){const r=this.segments,i=R_(this);let o=this._loop;a=a||0,n=n||this.points.length-a;for(const l of r)o&=i(s,this,l,{start:a,end:a+n-1});return!!o}draw(s,a,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(s.save(),I2e(s,this,n,r),s.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function qM(t,s,a,n){const r=t.options,{[a]:i}=t.getProps([a],n);return Math.abs(s-i)<r.radius+r.hitRadius}class O2e extends rc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(s){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,a,n){const r=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(s-i,2)+Math.pow(a-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(s,a){return qM(this,s,"x",a)}inYRange(s,a){return qM(this,s,"y",a)}getCenterPoint(s){const{x:a,y:n}=this.getProps(["x","y"],s);return{x:a,y:n}}size(s){s=s||this.options||{};let a=s.radius||0;a=Math.max(a,a&&s.hoverRadius||0);const n=a&&s.borderWidth||0;return(a+n)*2}draw(s,a){const n=this.options;this.skip||n.radius<.1||!zx(this,a,this.size(n)/2)||(s.strokeStyle=n.borderColor,s.lineWidth=n.borderWidth,s.fillStyle=n.backgroundColor,T_(s,n,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}function DF(t,s){const{x:a,y:n,base:r,width:i,height:o}=t.getProps(["x","y","base","width","height"],s);let l,c,m,u,h;return t.horizontal?(h=o/2,l=Math.min(a,r),c=Math.max(a,r),m=n-h,u=n+h):(h=i/2,l=a-h,c=a+h,m=Math.min(n,r),u=Math.max(n,r)),{left:l,top:m,right:c,bottom:u}}function $c(t,s,a,n){return t?0:cr(s,a,n)}function F2e(t,s,a){const n=t.options.borderWidth,r=t.borderSkipped,i=rF(n);return{t:$c(r.top,i.top,0,a),r:$c(r.right,i.right,0,s),b:$c(r.bottom,i.bottom,0,a),l:$c(r.left,i.left,0,s)}}function L2e(t,s,a){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=tp(r),o=Math.min(s,a),l=t.borderSkipped,c=n||ra(r);return{topLeft:$c(!c||l.top||l.left,i.topLeft,0,o),topRight:$c(!c||l.top||l.right,i.topRight,0,o),bottomLeft:$c(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:$c(!c||l.bottom||l.right,i.bottomRight,0,o)}}function z2e(t){const s=DF(t),a=s.right-s.left,n=s.bottom-s.top,r=F2e(t,a/2,n/2),i=L2e(t,a/2,n/2);return{outer:{x:s.left,y:s.top,w:a,h:n,radius:i},inner:{x:s.left+r.l,y:s.top+r.t,w:a-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function UN(t,s,a,n){const r=s===null,i=a===null,l=t&&!(r&&i)&&DF(t,n);return l&&(r||Ul(s,l.left,l.right))&&(i||Ul(a,l.top,l.bottom))}function $2e(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function q2e(t,s){t.rect(s.x,s.y,s.w,s.h)}function VN(t,s,a={}){const n=t.x!==a.x?-s:0,r=t.y!==a.y?-s:0,i=(t.x+t.w!==a.x+a.w?s:0)-n,o=(t.y+t.h!==a.y+a.h?s:0)-r;return{x:t.x+n,y:t.y+r,w:t.w+i,h:t.h+o,radius:t.radius}}class B2e extends rc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(s){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,s&&Object.assign(this,s)}draw(s){const{inflateAmount:a,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:o}=z2e(this),l=$2e(o.radius)?$b:q2e;s.save(),(o.w!==i.w||o.h!==i.h)&&(s.beginPath(),l(s,VN(o,a,i)),s.clip(),l(s,VN(i,-a,o)),s.fillStyle=n,s.fill("evenodd")),s.beginPath(),l(s,VN(i,a)),s.fillStyle=r,s.fill(),s.restore()}inRange(s,a,n){return UN(this,s,a,n)}inXRange(s,a){return UN(this,s,null,a)}inYRange(s,a){return UN(this,null,s,a)}getCenterPoint(s){const{x:a,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],s);return{x:i?(a+r)/2:a,y:i?n:(n+r)/2}}getRange(s){return s==="x"?this.width/2:this.height/2}}function U2e(t,s,a){const n=t.segments,r=t.points,i=s.points,o=[];for(const l of n){let{start:c,end:m}=l;m=d1(c,m,r);const u=A_(a,r[c],r[m],l.loop);if(!s.segments){o.push({source:l,target:u,start:r[c],end:r[m]});continue}const h=fF(s,u);for(const f of h){const v=A_(a,i[f.start],i[f.end],f.loop),_=hF(l,r,v);for(const S of _)o.push({source:S,target:f,start:{[a]:BM(u,v,"start",Math.max)},end:{[a]:BM(u,v,"end",Math.min)}})}}return o}function A_(t,s,a,n){if(n)return;let r=s[t],i=a[t];return t==="angle"&&(r=oi(r),i=oi(i)),{property:t,start:r,end:i}}function V2e(t,s){const{x:a=null,y:n=null}=t||{},r=s.points,i=[];return s.segments.forEach(({start:o,end:l})=>{l=d1(o,l,r);const c=r[o],m=r[l];n!==null?(i.push({x:c.x,y:n}),i.push({x:m.x,y:n})):a!==null&&(i.push({x:a,y:c.y}),i.push({x:a,y:m.y}))}),i}function d1(t,s,a){for(;s>t;s--){const n=a[s];if(!isNaN(n.x)&&!isNaN(n.y))break}return s}function BM(t,s,a,n){return t&&s?n(t[a],s[a]):t?t[a]:s?s[a]:0}function RF(t,s){let a=[],n=!1;return Sn(t)?(n=!0,a=t):a=V2e(t,s),a.length?new c1({points:a,options:{tension:0},_loop:n,_fullLoop:n}):null}function UM(t){return t&&t.fill!==!1}function H2e(t,s,a){let r=t[s].fill;const i=[s];let o;if(!a)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!pr(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function W2e(t,s,a){const n=Q2e(t);if(ra(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return pr(r)&&Math.floor(r)===r?Y2e(n[0],s,r,a):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Y2e(t,s,a,n){return(t==="-"||t==="+")&&(a=s+a),a===s||a<0||a>=n?!1:a}function G2e(t,s){let a=null;return t==="start"?a=s.bottom:t==="end"?a=s.top:ra(t)?a=s.getPixelForValue(t.value):s.getBasePixel&&(a=s.getBasePixel()),a}function K2e(t,s,a){let n;return t==="start"?n=a:t==="end"?n=s.options.reverse?s.min:s.max:ra(t)?n=t.value:n=s.getBaseValue(),n}function Q2e(t){const s=t.options,a=s.fill;let n=Ws(a&&a.target,a);return n===void 0&&(n=!!s.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Z2e(t){const{scale:s,index:a,line:n}=t,r=[],i=n.segments,o=n.points,l=X2e(s,a);l.push(RF({x:null,y:s.bottom},n));for(let c=0;c<i.length;c++){const m=i[c];for(let u=m.start;u<=m.end;u++)J2e(r,o[u],l)}return new c1({points:r,options:{}})}function X2e(t,s){const a=[],n=t.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const i=n[r];if(i.index===s)break;i.hidden||a.unshift(i.dataset)}return a}function J2e(t,s,a){const n=[];for(let r=0;r<a.length;r++){const i=a[r],{first:o,last:l,point:c}=eNe(i,s,"x");if(!(!c||o&&l)){if(o)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function eNe(t,s,a){const n=t.interpolate(s,a);if(!n)return{};const r=n[a],i=t.segments,o=t.points;let l=!1,c=!1;for(let m=0;m<i.length;m++){const u=i[m],h=o[u.start][a],f=o[u.end][a];if(Ul(r,h,f)){l=r===h,c=r===f;break}}return{first:l,last:c,point:n}}class AF{constructor(s){this.x=s.x,this.y=s.y,this.radius=s.radius}pathSegment(s,a,n){const{x:r,y:i,radius:o}=this;return a=a||{start:0,end:Xa},s.arc(r,i,o,a.end,a.start,!0),!n.bounds}interpolate(s){const{x:a,y:n,radius:r}=this,i=s.angle;return{x:a+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function tNe(t){const{chart:s,fill:a,line:n}=t;if(pr(a))return sNe(s,a);if(a==="stack")return Z2e(t);if(a==="shape")return!0;const r=aNe(t);return r instanceof AF?r:RF(r,n)}function sNe(t,s){const a=t.getDatasetMeta(s);return a&&t.isDatasetVisible(s)?a.dataset:null}function aNe(t){return(t.scale||{}).getPointPositionForValue?rNe(t):nNe(t)}function nNe(t){const{scale:s={},fill:a}=t,n=G2e(a,s);if(pr(n)){const r=s.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function rNe(t){const{scale:s,fill:a}=t,n=s.options,r=s.getLabels().length,i=n.reverse?s.max:s.min,o=K2e(a,s,i),l=[];if(n.grid.circular){const c=s.getPointPositionForValue(0,i);return new AF({x:c.x,y:c.y,radius:s.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)l.push(s.getPointPositionForValue(c,o));return l}function HN(t,s,a){const n=tNe(s),{chart:r,index:i,line:o,scale:l,axis:c}=s,m=o.options,u=m.fill,h=m.backgroundColor,{above:f=h,below:v=h}=u||{},_=r.getDatasetMeta(i),S=xF(r,_);n&&o.points.length&&(a1(t,a),iNe(t,{line:o,target:n,above:f,below:v,area:a,scale:l,axis:c,clip:S}),n1(t))}function iNe(t,s){const{line:a,target:n,above:r,below:i,area:o,scale:l,clip:c}=s,m=a._loop?"angle":s.axis;t.save();let u=i;i!==r&&(m==="x"?(VM(t,n,o.top),WN(t,{line:a,target:n,color:r,scale:l,property:m,clip:c}),t.restore(),t.save(),VM(t,n,o.bottom)):m==="y"&&(HM(t,n,o.left),WN(t,{line:a,target:n,color:i,scale:l,property:m,clip:c}),t.restore(),t.save(),HM(t,n,o.right),u=r)),WN(t,{line:a,target:n,color:u,scale:l,property:m,clip:c}),t.restore()}function VM(t,s,a){const{segments:n,points:r}=s;let i=!0,o=!1;t.beginPath();for(const l of n){const{start:c,end:m}=l,u=r[c],h=r[d1(c,m,r)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,a),t.lineTo(u.x,u.y)),o=!!s.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(h.x,a)}t.lineTo(s.first().x,a),t.closePath(),t.clip()}function HM(t,s,a){const{segments:n,points:r}=s;let i=!0,o=!1;t.beginPath();for(const l of n){const{start:c,end:m}=l,u=r[c],h=r[d1(c,m,r)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(a,u.y),t.lineTo(u.x,u.y)),o=!!s.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(a,h.y)}t.lineTo(a,s.first().y),t.closePath(),t.clip()}function WN(t,s){const{line:a,target:n,property:r,color:i,scale:o,clip:l}=s,c=U2e(a,n,r);for(const{source:m,target:u,start:h,end:f}of c){const{style:{backgroundColor:v=i}={}}=m,_=n!==!0;t.save(),t.fillStyle=v,oNe(t,o,l,_&&A_(r,h,f)),t.beginPath();const S=!!a.pathSegment(t,m);let j;if(_){S?t.closePath():WM(t,n,f,r);const b=!!n.pathSegment(t,u,{move:S,reverse:!0});j=S&&b,j||WM(t,n,h,r)}t.closePath(),t.fill(j?"evenodd":"nonzero"),t.restore()}}function oNe(t,s,a,n){const r=s.chart.chartArea,{property:i,start:o,end:l}=n||{};if(i==="x"||i==="y"){let c,m,u,h;i==="x"?(c=o,m=r.top,u=l,h=r.bottom):(c=r.left,m=o,u=r.right,h=l),t.beginPath(),a&&(c=Math.max(c,a.left),u=Math.min(u,a.right),m=Math.max(m,a.top),h=Math.min(h,a.bottom)),t.rect(c,m,u-c,h-m),t.clip()}}function WM(t,s,a,n){const r=s.interpolate(a,n);r&&t.lineTo(r.x,r.y)}var lNe={id:"filler",afterDatasetsUpdate(t,s,a){const n=(t.data.datasets||[]).length,r=[];let i,o,l,c;for(o=0;o<n;++o)i=t.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof c1&&(c={visible:t.isDatasetVisible(o),index:o,fill:W2e(l,o,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,r.push(c);for(o=0;o<n;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=H2e(r,o,a.propagate))},beforeDraw(t,s,a){const n=a.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=r.length-1;o>=0;--o){const l=r[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),n&&l.fill&&HN(t.ctx,l,i))}},beforeDatasetsDraw(t,s,a){if(a.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const i=n[r].$filler;UM(i)&&HN(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,s,a){const n=s.meta.$filler;!UM(n)||a.drawTime!=="beforeDatasetDraw"||HN(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const YM=(t,s)=>{let{boxHeight:a=s,boxWidth:n=s}=t;return t.usePointStyle&&(a=Math.min(a,s),n=t.pointStyleWidth||Math.min(n,s)),{boxWidth:n,boxHeight:a,itemHeight:Math.max(s,a)}},cNe=(t,s)=>t!==null&&s!==null&&t.datasetIndex===s.datasetIndex&&t.index===s.index;class GM extends rc{constructor(s){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,a,n){this.maxWidth=s,this.maxHeight=a,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const s=this.options.labels||{};let a=Ua(s.generateLabels,[this.chart],this)||[];s.filter&&(a=a.filter(n=>s.filter(n,this.chart.data))),s.sort&&(a=a.sort((n,r)=>s.sort(n,r,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:s,ctx:a}=this;if(!s.display){this.width=this.height=0;return}const n=s.labels,r=dr(n.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=YM(n,i);let m,u;a.font=r.string,this.isHorizontal()?(m=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,m=this._fitCols(o,r,l,c)+10),this.width=Math.min(m,s.maxWidth||this.maxWidth),this.height=Math.min(u,s.maxHeight||this.maxHeight)}_fitRows(s,a,n,r){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],m=this.lineWidths=[0],u=r+l;let h=s;i.textAlign="left",i.textBaseline="middle";let f=-1,v=-u;return this.legendItems.forEach((_,S)=>{const j=n+a/2+i.measureText(_.text).width;(S===0||m[m.length-1]+j+2*l>o)&&(h+=u,m[m.length-(S>0?0:1)]=0,v+=u,f++),c[S]={left:0,top:v,row:f,width:j,height:r},m[m.length-1]+=j+l}),h}_fitCols(s,a,n,r){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],m=this.columnSizes=[],u=o-s;let h=l,f=0,v=0,_=0,S=0;return this.legendItems.forEach((j,b)=>{const{itemWidth:w,itemHeight:C}=dNe(n,a,i,j,r);b>0&&v+C+2*l>u&&(h+=f+l,m.push({width:f,height:v}),_+=f+l,S++,f=v=0),c[b]={left:_,top:v,col:S,width:w,height:C},f=Math.max(f,w),v+=C+l}),h+=f,m.push({width:f,height:v}),h}adjustHitBoxes(){if(!this.options.display)return;const s=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:n,labels:{padding:r},rtl:i}}=this,o=sp(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=nr(n,this.left+r,this.right-this.lineWidths[l]);for(const m of a)l!==m.row&&(l=m.row,c=nr(n,this.left+r,this.right-this.lineWidths[l])),m.top+=this.top+s+r,m.left=o.leftForLtr(o.x(c),m.width),c+=m.width+r}else{let l=0,c=nr(n,this.top+s+r,this.bottom-this.columnSizes[l].height);for(const m of a)m.col!==l&&(l=m.col,c=nr(n,this.top+s+r,this.bottom-this.columnSizes[l].height)),m.top=c,m.left+=this.left+r,m.left=o.leftForLtr(o.x(m.left),m.width),c+=m.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const s=this.ctx;a1(s,this),this._draw(),n1(s)}}_draw(){const{options:s,columnSizes:a,lineWidths:n,ctx:r}=this,{align:i,labels:o}=s,l=xn.color,c=sp(s.rtl,this.left,this.width),m=dr(o.font),{padding:u}=o,h=m.size,f=h/2;let v;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:_,boxHeight:S,itemHeight:j}=YM(o,h),b=function(D,T,R){if(isNaN(_)||_<=0||isNaN(S)||S<0)return;r.save();const z=Ws(R.lineWidth,1);if(r.fillStyle=Ws(R.fillStyle,l),r.lineCap=Ws(R.lineCap,"butt"),r.lineDashOffset=Ws(R.lineDashOffset,0),r.lineJoin=Ws(R.lineJoin,"miter"),r.lineWidth=z,r.strokeStyle=Ws(R.strokeStyle,l),r.setLineDash(Ws(R.lineDash,[])),o.usePointStyle){const O={radius:S*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:z},$=c.xPlus(D,_/2),A=T+f;nF(r,O,$,A,o.pointStyleWidth&&_)}else{const O=T+Math.max((h-S)/2,0),$=c.leftForLtr(D,_),A=tp(R.borderRadius);r.beginPath(),Object.values(A).some(Q=>Q!==0)?$b(r,{x:$,y:O,w:_,h:S,radius:A}):r.rect($,O,_,S),r.fill(),z!==0&&r.stroke()}r.restore()},w=function(D,T,R){$x(r,R.text,D,T+j/2,m,{strikethrough:R.hidden,textAlign:c.textAlign(R.textAlign)})},C=this.isHorizontal(),P=this._computeTitleHeight();C?v={x:nr(i,this.left+u,this.right-n[0]),y:this.top+u+P,line:0}:v={x:this.left+u,y:nr(i,this.top+P+u,this.bottom-a[0].height),line:0},uF(this.ctx,s.textDirection);const E=j+u;this.legendItems.forEach((D,T)=>{r.strokeStyle=D.fontColor,r.fillStyle=D.fontColor;const R=r.measureText(D.text).width,z=c.textAlign(D.textAlign||(D.textAlign=o.textAlign)),O=_+f+R;let $=v.x,A=v.y;c.setWidth(this.width),C?T>0&&$+O+u>this.right&&(A=v.y+=E,v.line++,$=v.x=nr(i,this.left+u,this.right-n[v.line])):T>0&&A+E>this.bottom&&($=v.x=$+a[v.line].width+u,v.line++,A=v.y=nr(i,this.top+P+u,this.bottom-a[v.line].height));const Q=c.x($);if(b(Q,A,D),$=Ave(z,$+_+f,C?$+O:this.right,s.rtl),w(c.x($),A,D),C)v.x+=O+u;else if(typeof D.text!="string"){const K=m.lineHeight;v.y+=IF(D,K)+u}else v.y+=E}),mF(this.ctx,s.textDirection)}drawTitle(){const s=this.options,a=s.title,n=dr(a.font),r=so(a.padding);if(!a.display)return;const i=sp(s.rtl,this.left,this.width),o=this.ctx,l=a.position,c=n.size/2,m=r.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+m,h=nr(s.align,h,this.right-f);else{const _=this.columnSizes.reduce((S,j)=>Math.max(S,j.height),0);u=m+nr(s.align,this.top,this.bottom-_-s.labels.padding-this._computeTitleHeight())}const v=nr(l,h,h+f);o.textAlign=i.textAlign($S(l)),o.textBaseline="middle",o.strokeStyle=a.color,o.fillStyle=a.color,o.font=n.string,$x(o,a.text,v,u,n)}_computeTitleHeight(){const s=this.options.title,a=dr(s.font),n=so(s.padding);return s.display?a.lineHeight+n.height:0}_getLegendItemAt(s,a){let n,r,i;if(Ul(s,this.left,this.right)&&Ul(a,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Ul(s,r.left,r.left+r.width)&&Ul(a,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(s){const a=this.options;if(!pNe(s.type,a))return;const n=this._getLegendItemAt(s.x,s.y);if(s.type==="mousemove"||s.type==="mouseout"){const r=this._hoveredItem,i=cNe(r,n);r&&!i&&Ua(a.onLeave,[s,r,this],this),this._hoveredItem=n,n&&!i&&Ua(a.onHover,[s,n,this],this)}else n&&Ua(a.onClick,[s,n,this],this)}}function dNe(t,s,a,n,r){const i=uNe(n,t,s,a),o=mNe(r,n,s.lineHeight);return{itemWidth:i,itemHeight:o}}function uNe(t,s,a,n){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),s+a.size/2+n.measureText(r).width}function mNe(t,s,a){let n=t;return typeof s.text!="string"&&(n=IF(s,a)),n}function IF(t,s){const a=t.text?t.text.length:0;return s*a}function pNe(t,s){return!!((t==="mousemove"||t==="mouseout")&&(s.onHover||s.onLeave)||s.onClick&&(t==="click"||t==="mouseup"))}var hNe={id:"legend",_element:GM,start(t,s,a){const n=t.legend=new GM({ctx:t.ctx,options:a,chart:t});Hi.configure(t,n,a),Hi.addBox(t,n)},stop(t){Hi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,s,a){const n=t.legend;Hi.configure(t,n,a),n.options=a},afterUpdate(t){const s=t.legend;s.buildLabels(),s.adjustHitBoxes()},afterEvent(t,s){s.replay||t.legend.handleEvent(s.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,s,a){const n=s.datasetIndex,r=a.chart;r.isDatasetVisible(n)?(r.hide(n),s.hidden=!0):(r.show(n),s.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const s=t.data.datasets,{labels:{usePointStyle:a,pointStyle:n,textAlign:r,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const m=c.controller.getStyle(a?0:void 0),u=so(m.borderWidth);return{text:s[c.index].label,fillStyle:m.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:m.borderColor,pointStyle:n||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:o&&(l||m.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class OF extends rc{constructor(s){super(),this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,a){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=s,this.height=this.bottom=a;const r=Sn(n.text)?n.text.length:1;this._padding=so(n.padding);const i=r*dr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const s=this.options.position;return s==="top"||s==="bottom"}_drawArgs(s){const{top:a,left:n,bottom:r,right:i,options:o}=this,l=o.align;let c=0,m,u,h;return this.isHorizontal()?(u=nr(l,n,i),h=a+s,m=i-n):(o.position==="left"?(u=n+s,h=nr(l,r,a),c=Ea*-.5):(u=i-s,h=nr(l,a,r),c=Ea*.5),m=r-a),{titleX:u,titleY:h,maxWidth:m,rotation:c}}draw(){const s=this.ctx,a=this.options;if(!a.display)return;const n=dr(a.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:m}=this._drawArgs(i);$x(s,a.text,0,0,n,{color:a.color,maxWidth:c,rotation:m,textAlign:$S(a.align),textBaseline:"middle",translation:[o,l]})}}function fNe(t,s){const a=new OF({ctx:t.ctx,options:s,chart:t});Hi.configure(t,a,s),Hi.addBox(t,a),t.titleBlock=a}var xNe={id:"title",_element:OF,start(t,s,a){fNe(t,a)},stop(t){const s=t.titleBlock;Hi.removeBox(t,s),delete t.titleBlock},beforeUpdate(t,s,a){const n=t.titleBlock;Hi.configure(t,n,a),n.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ff={average(t){if(!t.length)return!1;let s,a,n=new Set,r=0,i=0;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),r+=c.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:r/i}},nearest(t,s){if(!t.length)return!1;let a=s.x,n=s.y,r=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const m=c.getCenterPoint(),u=P_(s,m);u<r&&(r=u,l=c)}}if(l){const c=l.tooltipPosition();a=c.x,n=c.y}return{x:a,y:n}}};function Io(t,s){return s&&(Sn(s)?Array.prototype.push.apply(t,s):t.push(s)),t}function Al(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function gNe(t,s){const{element:a,datasetIndex:n,index:r}=s,i=t.getDatasetMeta(n).controller,{label:o,value:l}=i.getLabelAndValue(r);return{chart:t,label:o,parsed:i.getParsed(r),raw:t.data.datasets[n].data[r],formattedValue:l,dataset:i.getDataset(),dataIndex:r,datasetIndex:n,element:a}}function KM(t,s){const a=t.chart.ctx,{body:n,footer:r,title:i}=t,{boxWidth:o,boxHeight:l}=s,c=dr(s.bodyFont),m=dr(s.titleFont),u=dr(s.footerFont),h=i.length,f=r.length,v=n.length,_=so(s.padding);let S=_.height,j=0,b=n.reduce((P,E)=>P+E.before.length+E.lines.length+E.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,h&&(S+=h*m.lineHeight+(h-1)*s.titleSpacing+s.titleMarginBottom),b){const P=s.displayColors?Math.max(l,c.lineHeight):c.lineHeight;S+=v*P+(b-v)*c.lineHeight+(b-1)*s.bodySpacing}f&&(S+=s.footerMarginTop+f*u.lineHeight+(f-1)*s.footerSpacing);let w=0;const C=function(P){j=Math.max(j,a.measureText(P).width+w)};return a.save(),a.font=m.string,Pa(t.title,C),a.font=c.string,Pa(t.beforeBody.concat(t.afterBody),C),w=s.displayColors?o+2+s.boxPadding:0,Pa(n,P=>{Pa(P.before,C),Pa(P.lines,C),Pa(P.after,C)}),w=0,a.font=u.string,Pa(t.footer,C),a.restore(),j+=_.width,{width:j,height:S}}function yNe(t,s){const{y:a,height:n}=s;return a<n/2?"top":a>t.height-n/2?"bottom":"center"}function bNe(t,s,a,n){const{x:r,width:i}=n,o=a.caretSize+a.caretPadding;if(t==="left"&&r+i+o>s.width||t==="right"&&r-i-o<0)return!0}function vNe(t,s,a,n){const{x:r,width:i}=a,{width:o,chartArea:{left:l,right:c}}=t;let m="center";return n==="center"?m=r<=(l+c)/2?"left":"right":r<=i/2?m="left":r>=o-i/2&&(m="right"),bNe(m,t,s,a)&&(m="center"),m}function QM(t,s,a){const n=a.yAlign||s.yAlign||yNe(t,a);return{xAlign:a.xAlign||s.xAlign||vNe(t,s,a,n),yAlign:n}}function jNe(t,s){let{x:a,width:n}=t;return s==="right"?a-=n:s==="center"&&(a-=n/2),a}function NNe(t,s,a){let{y:n,height:r}=t;return s==="top"?n+=a:s==="bottom"?n-=r+a:n-=r/2,n}function ZM(t,s,a,n){const{caretSize:r,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:c}=a,m=r+i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:v}=tp(o);let _=jNe(s,l);const S=NNe(s,c,m);return c==="center"?l==="left"?_+=m:l==="right"&&(_-=m):l==="left"?_-=Math.max(u,f)+r:l==="right"&&(_+=Math.max(h,v)+r),{x:cr(_,0,n.width-s.width),y:cr(S,0,n.height-s.height)}}function Dy(t,s,a){const n=so(a.padding);return s==="center"?t.x+t.width/2:s==="right"?t.x+t.width-n.right:t.x+n.left}function XM(t){return Io([],Al(t))}function wNe(t,s,a){return Du(t,{tooltip:s,tooltipItems:a,type:"tooltip"})}function JM(t,s){const a=s&&s.dataset&&s.dataset.tooltip&&s.dataset.tooltip.callbacks;return a?t.override(a):t}const FF={beforeTitle:Ml,title(t){if(t.length>0){const s=t[0],a=s.chart.data.labels,n=a?a.length:0;if(this&&this.options&&this.options.mode==="dataset")return s.dataset.label||"";if(s.label)return s.label;if(n>0&&s.dataIndex<n)return a[s.dataIndex]}return""},afterTitle:Ml,beforeBody:Ml,beforeLabel:Ml,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let s=t.dataset.label||"";s&&(s+=": ");const a=t.formattedValue;return va(a)||(s+=a),s},labelColor(t){const a=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const a=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:Ml,afterBody:Ml,beforeFooter:Ml,footer:Ml,afterFooter:Ml};function Rr(t,s,a,n){const r=t[s].call(a,n);return typeof r>"u"?FF[s].call(a,n):r}class eD extends rc{static positioners=ff;constructor(s){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=s.chart,this.options=s.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(s){this.options=s,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const s=this._cachedAnimations;if(s)return s;const a=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&a.options.animation&&n.animations,i=new gF(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=wNe(this.chart.getContext(),this,this._tooltipItems))}getTitle(s,a){const{callbacks:n}=a,r=Rr(n,"beforeTitle",this,s),i=Rr(n,"title",this,s),o=Rr(n,"afterTitle",this,s);let l=[];return l=Io(l,Al(r)),l=Io(l,Al(i)),l=Io(l,Al(o)),l}getBeforeBody(s,a){return XM(Rr(a.callbacks,"beforeBody",this,s))}getBody(s,a){const{callbacks:n}=a,r=[];return Pa(s,i=>{const o={before:[],lines:[],after:[]},l=JM(n,i);Io(o.before,Al(Rr(l,"beforeLabel",this,i))),Io(o.lines,Rr(l,"label",this,i)),Io(o.after,Al(Rr(l,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(s,a){return XM(Rr(a.callbacks,"afterBody",this,s))}getFooter(s,a){const{callbacks:n}=a,r=Rr(n,"beforeFooter",this,s),i=Rr(n,"footer",this,s),o=Rr(n,"afterFooter",this,s);let l=[];return l=Io(l,Al(r)),l=Io(l,Al(i)),l=Io(l,Al(o)),l}_createItems(s){const a=this._active,n=this.chart.data,r=[],i=[],o=[];let l=[],c,m;for(c=0,m=a.length;c<m;++c)l.push(gNe(this.chart,a[c]));return s.filter&&(l=l.filter((u,h,f)=>s.filter(u,h,f,n))),s.itemSort&&(l=l.sort((u,h)=>s.itemSort(u,h,n))),Pa(l,u=>{const h=JM(s.callbacks,u);r.push(Rr(h,"labelColor",this,u)),i.push(Rr(h,"labelPointStyle",this,u)),o.push(Rr(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(s,a){const n=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const l=ff[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=KM(this,n),m=Object.assign({},l,c),u=QM(this.chart,n,m),h=ZM(n,m,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),s&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(s,a,n,r){const i=this.getCaretPosition(s,n,r);a.lineTo(i.x1,i.y1),a.lineTo(i.x2,i.y2),a.lineTo(i.x3,i.y3)}getCaretPosition(s,a,n){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:m,bottomLeft:u,bottomRight:h}=tp(l),{x:f,y:v}=s,{width:_,height:S}=a;let j,b,w,C,P,E;return i==="center"?(P=v+S/2,r==="left"?(j=f,b=j-o,C=P+o,E=P-o):(j=f+_,b=j+o,C=P-o,E=P+o),w=j):(r==="left"?b=f+Math.max(c,u)+o:r==="right"?b=f+_-Math.max(m,h)-o:b=this.caretX,i==="top"?(C=v,P=C-o,j=b-o,w=b+o):(C=v+S,P=C+o,j=b+o,w=b-o),E=C),{x1:j,x2:b,x3:w,y1:C,y2:P,y3:E}}drawTitle(s,a,n){const r=this.title,i=r.length;let o,l,c;if(i){const m=sp(n.rtl,this.x,this.width);for(s.x=Dy(this,n.titleAlign,n),a.textAlign=m.textAlign(n.titleAlign),a.textBaseline="middle",o=dr(n.titleFont),l=n.titleSpacing,a.fillStyle=n.titleColor,a.font=o.string,c=0;c<i;++c)a.fillText(r[c],m.x(s.x),s.y+o.lineHeight/2),s.y+=o.lineHeight+l,c+1===i&&(s.y+=n.titleMarginBottom-l)}}_drawColorBox(s,a,n,r,i){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:m}=i,u=dr(i.bodyFont),h=Dy(this,"left",i),f=r.x(h),v=c<u.lineHeight?(u.lineHeight-c)/2:0,_=a.y+v;if(i.usePointStyle){const S={radius:Math.min(m,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},j=r.leftForLtr(f,m)+m/2,b=_+c/2;s.strokeStyle=i.multiKeyBackground,s.fillStyle=i.multiKeyBackground,T_(s,S,j,b),s.strokeStyle=o.borderColor,s.fillStyle=o.backgroundColor,T_(s,S,j,b)}else{s.lineWidth=ra(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,s.strokeStyle=o.borderColor,s.setLineDash(o.borderDash||[]),s.lineDashOffset=o.borderDashOffset||0;const S=r.leftForLtr(f,m),j=r.leftForLtr(r.xPlus(f,1),m-2),b=tp(o.borderRadius);Object.values(b).some(w=>w!==0)?(s.beginPath(),s.fillStyle=i.multiKeyBackground,$b(s,{x:S,y:_,w:m,h:c,radius:b}),s.fill(),s.stroke(),s.fillStyle=o.backgroundColor,s.beginPath(),$b(s,{x:j,y:_+1,w:m-2,h:c-2,radius:b}),s.fill()):(s.fillStyle=i.multiKeyBackground,s.fillRect(S,_,m,c),s.strokeRect(S,_,m,c),s.fillStyle=o.backgroundColor,s.fillRect(j,_+1,m-2,c-2))}s.fillStyle=this.labelTextColors[n]}drawBody(s,a,n){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:m,boxPadding:u}=n,h=dr(n.bodyFont);let f=h.lineHeight,v=0;const _=sp(n.rtl,this.x,this.width),S=function(R){a.fillText(R,_.x(s.x+v),s.y+f/2),s.y+=f+i},j=_.textAlign(o);let b,w,C,P,E,D,T;for(a.textAlign=o,a.textBaseline="middle",a.font=h.string,s.x=Dy(this,j,n),a.fillStyle=n.bodyColor,Pa(this.beforeBody,S),v=l&&j!=="right"?o==="center"?m/2+u:m+2+u:0,P=0,D=r.length;P<D;++P){for(b=r[P],w=this.labelTextColors[P],a.fillStyle=w,Pa(b.before,S),C=b.lines,l&&C.length&&(this._drawColorBox(a,s,P,_,n),f=Math.max(h.lineHeight,c)),E=0,T=C.length;E<T;++E)S(C[E]),f=h.lineHeight;Pa(b.after,S)}v=0,f=h.lineHeight,Pa(this.afterBody,S),s.y-=i}drawFooter(s,a,n){const r=this.footer,i=r.length;let o,l;if(i){const c=sp(n.rtl,this.x,this.width);for(s.x=Dy(this,n.footerAlign,n),s.y+=n.footerMarginTop,a.textAlign=c.textAlign(n.footerAlign),a.textBaseline="middle",o=dr(n.footerFont),a.fillStyle=n.footerColor,a.font=o.string,l=0;l<i;++l)a.fillText(r[l],c.x(s.x),s.y+o.lineHeight/2),s.y+=o.lineHeight+n.footerSpacing}}drawBackground(s,a,n,r){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=s,{width:m,height:u}=n,{topLeft:h,topRight:f,bottomLeft:v,bottomRight:_}=tp(r.cornerRadius);a.fillStyle=r.backgroundColor,a.strokeStyle=r.borderColor,a.lineWidth=r.borderWidth,a.beginPath(),a.moveTo(l+h,c),o==="top"&&this.drawCaret(s,a,n,r),a.lineTo(l+m-f,c),a.quadraticCurveTo(l+m,c,l+m,c+f),o==="center"&&i==="right"&&this.drawCaret(s,a,n,r),a.lineTo(l+m,c+u-_),a.quadraticCurveTo(l+m,c+u,l+m-_,c+u),o==="bottom"&&this.drawCaret(s,a,n,r),a.lineTo(l+v,c+u),a.quadraticCurveTo(l,c+u,l,c+u-v),o==="center"&&i==="left"&&this.drawCaret(s,a,n,r),a.lineTo(l,c+h),a.quadraticCurveTo(l,c,l+h,c),a.closePath(),a.fill(),r.borderWidth>0&&a.stroke()}_updateAnimationTarget(s){const a=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const o=ff[s.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=KM(this,s),c=Object.assign({},o,this._size),m=QM(a,s,c),u=ZM(s,c,m,a);(r._to!==u.x||i._to!==u.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(s){const a=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(a);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=so(a.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;a.enabled&&l&&(s.save(),s.globalAlpha=n,this.drawBackground(i,s,r,a),uF(s,a.textDirection),i.y+=o.top,this.drawTitle(i,s,a),this.drawBody(i,s,a),this.drawFooter(i,s,a),mF(s,a.textDirection),s.restore())}getActiveElements(){return this._active||[]}setActiveElements(s,a){const n=this._active,r=s.map(({datasetIndex:l,index:c})=>{const m=this.chart.getDatasetMeta(l);if(!m)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:m.data[c],index:c}}),i=!Fb(n,r),o=this._positionChanged(r,a);(i||o)&&(this._active=r,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(s,a,n=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(s,i,a,n),l=this._positionChanged(o,s),c=a||!Fb(o,i)||l;return c&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:s.x,y:s.y},this.update(!0,a))),c}_getActiveElements(s,a,n,r){const i=this.options;if(s.type==="mouseout")return[];if(!r)return a.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(s,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(s,a){const{caretX:n,caretY:r,options:i}=this,o=ff[i.position].call(this,s,a);return o!==!1&&(n!==o.x||r!==o.y)}}var _Ne={id:"tooltip",_element:eD,positioners:ff,afterInit(t,s,a){a&&(t.tooltip=new eD({chart:t,options:a}))},beforeUpdate(t,s,a){t.tooltip&&t.tooltip.initialize(a)},reset(t,s,a){t.tooltip&&t.tooltip.initialize(a)},afterDraw(t){const s=t.tooltip;if(s&&s._willRender()){const a={tooltip:s};if(t.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0})===!1)return;s.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",a)}},afterEvent(t,s){if(t.tooltip){const a=s.replay;t.tooltip.handleEvent(s.event,a,s.inChartArea)&&(s.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,s)=>s.bodyFont.size,boxWidth:(t,s)=>s.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:FF},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const SNe=(t,s,a,n)=>(typeof s=="string"?(a=t.push(s)-1,n.unshift({index:a,label:s})):isNaN(s)&&(a=null),a);function CNe(t,s,a,n){const r=t.indexOf(s);if(r===-1)return SNe(t,s,a,n);const i=t.lastIndexOf(s);return r!==i?a:r}const kNe=(t,s)=>t===null?null:cr(Math.round(t),0,s);function tD(t){const s=this.getLabels();return t>=0&&t<s.length?s[t]:t}class PNe extends Op{static id="category";static defaults={ticks:{callback:tD}};constructor(s){super(s),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(s){const a=this._addedLabels;if(a.length){const n=this.getLabels();for(const{index:r,label:i}of a)n[r]===i&&n.splice(r,1);this._addedLabels=[]}super.init(s)}parse(s,a){if(va(s))return null;const n=this.getLabels();return a=isFinite(a)&&n[a]===s?a:CNe(n,s,Ws(a,s),this._addedLabels),kNe(a,n.length-1)}determineDataLimits(){const{minDefined:s,maxDefined:a}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(s||(n=0),a||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const s=this.min,a=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=s===0&&a===i.length-1?i:i.slice(s,a+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=s;o<=a;o++)r.push({value:o});return r}getLabelForValue(s){return tD.call(this,s)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(s){return typeof s!="number"&&(s=this.parse(s)),s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getPixelForTick(s){const a=this.ticks;return s<0||s>a.length-1?null:this.getPixelForValue(a[s].value)}getValueForPixel(s){return Math.round(this._startValue+this.getDecimalForPixel(s)*this._valueRange)}getBasePixel(){return this.bottom}}function ENe(t,s){const a=[],{bounds:r,step:i,min:o,max:l,precision:c,count:m,maxTicks:u,maxDigits:h,includeBounds:f}=t,v=i||1,_=u-1,{min:S,max:j}=s,b=!va(o),w=!va(l),C=!va(m),P=(j-S)/(h+1);let E=ZT((j-S)/_/v)*v,D,T,R,z;if(E<1e-14&&!b&&!w)return[{value:S},{value:j}];z=Math.ceil(j/E)-Math.floor(S/E),z>_&&(E=ZT(z*E/_/v)*v),va(c)||(D=Math.pow(10,c),E=Math.ceil(E*D)/D),r==="ticks"?(T=Math.floor(S/E)*E,R=Math.ceil(j/E)*E):(T=S,R=j),b&&w&&i&&Sve((l-o)/i,E/1e3)?(z=Math.round(Math.min((l-o)/E,u)),E=(l-o)/z,T=o,R=l):C?(T=b?o:T,R=w?l:R,z=m-1,E=(R-T)/z):(z=(R-T)/E,sx(z,Math.round(z),E/1e3)?z=Math.round(z):z=Math.ceil(z));const O=Math.max(XT(E),XT(T));D=Math.pow(10,va(c)?O:c),T=Math.round(T*D)/D,R=Math.round(R*D)/D;let $=0;for(b&&(f&&T!==o?(a.push({value:o}),T<o&&$++,sx(Math.round((T+$*E)*D)/D,o,sD(o,P,t))&&$++):T<o&&$++);$<z;++$){const A=Math.round((T+$*E)*D)/D;if(w&&A>l)break;a.push({value:A})}return w&&f&&R!==l?a.length&&sx(a[a.length-1].value,l,sD(l,P,t))?a[a.length-1].value=l:a.push({value:l}):(!w||R===l)&&a.push({value:R}),a}function sD(t,s,{horizontal:a,minRotation:n}){const r=Bl(n),i=(a?Math.sin(r):Math.cos(r))||.001,o=.75*s*(""+t).length;return Math.min(s/i,o)}class TNe extends Op{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(s,a){return va(s)||(typeof s=="number"||s instanceof Number)&&!isFinite(+s)?null:+s}handleTickRangeOptions(){const{beginAtZero:s}=this.options,{minDefined:a,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const o=c=>r=a?r:c,l=c=>i=n?i:c;if(s){const c=al(r),m=al(i);c<0&&m<0?l(0):c>0&&m>0&&o(0)}if(r===i){let c=i===0?1:Math.abs(i*.05);l(i+c),s||o(r-c)}this.min=r,this.max=i}getTickLimit(){const s=this.options.ticks;let{maxTicksLimit:a,stepSize:n}=s,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),a=a||11),a&&(r=Math.min(a,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const s=this.options,a=s.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:s.bounds,min:s.min,max:s.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:a.includeBounds!==!1},i=this._range||this,o=ENe(r,i);return s.bounds==="ticks"&&Cve(o,this,"value"),s.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const s=this.ticks;let a=this.min,n=this.max;if(super.configure(),this.options.offset&&s.length){const r=(n-a)/Math.max(s.length-1,1)/2;a-=r,n+=r}this._startValue=a,this._endValue=n,this._valueRange=n-a}getLabelForValue(s){return BS(s,this.chart.options.locale,this.options.ticks.format)}}class MNe extends TNe{static id="linear";static defaults={ticks:{callback:aF.formatters.numeric}};determineDataLimits(){const{min:s,max:a}=this.getMinMax(!0);this.min=pr(s)?s:0,this.max=pr(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const s=this.isHorizontal(),a=s?this.width:this.height,n=Bl(this.options.ticks.minRotation),r=(s?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,i.lineHeight/r))}getPixelForValue(s){return s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getValueForPixel(s){return this._startValue+this.getDecimalForPixel(s)*this._valueRange}}const u1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Or=Object.keys(u1);function aD(t,s){return t-s}function nD(t,s){if(va(s))return null;const a=t._adapter,{parser:n,round:r,isoWeekday:i}=t._parseOpts;let o=s;return typeof n=="function"&&(o=n(o)),pr(o)||(o=typeof n=="string"?a.parse(o,n):a.parse(o)),o===null?null:(r&&(o=r==="week"&&(Fx(i)||i===!0)?a.startOf(o,"isoWeek",i):a.startOf(o,r)),+o)}function rD(t,s,a,n){const r=Or.length;for(let i=Or.indexOf(t);i<r-1;++i){const o=u1[Or[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((a-s)/(l*o.size))<=n)return Or[i]}return Or[r-1]}function DNe(t,s,a,n,r){for(let i=Or.length-1;i>=Or.indexOf(a);i--){const o=Or[i];if(u1[o].common&&t._adapter.diff(r,n,o)>=s-1)return o}return Or[a?Or.indexOf(a):0]}function RNe(t){for(let s=Or.indexOf(t)+1,a=Or.length;s<a;++s)if(u1[Or[s]].common)return Or[s]}function iD(t,s,a){if(!a)t[s]=!0;else if(a.length){const{lo:n,hi:r}=zS(a,s),i=a[n]>=s?a[n]:a[r];t[i]=!0}}function ANe(t,s,a,n){const r=t._adapter,i=+r.startOf(s[0].value,n),o=s[s.length-1].value;let l,c;for(l=i;l<=o;l=+r.add(l,1,n))c=a[l],c>=0&&(s[c].major=!0);return s}function oD(t,s,a){const n=[],r={},i=s.length;let o,l;for(o=0;o<i;++o)l=s[o],r[l]=o,n.push({value:l,major:!1});return i===0||!a?n:ANe(t,n,r,a)}class lD extends Op{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(s){super(s),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(s,a={}){const n=s.time||(s.time={}),r=this._adapter=new uje._date(s.adapters.date);r.init(a),tx(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(s),this._normalized=a.normalized}parse(s,a){return s===void 0?null:nD(this,s)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const s=this.options,a=this._adapter,n=s.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(m){!o&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!l&&!isNaN(m.max)&&(i=Math.max(i,m.max))}(!o||!l)&&(c(this._getLabelBounds()),(s.bounds!=="ticks"||s.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=pr(r)&&!isNaN(r)?r:+a.startOf(Date.now(),n),i=pr(i)&&!isNaN(i)?i:+a.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const s=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return s.length&&(a=s[0],n=s[s.length-1]),{min:a,max:n}}buildTicks(){const s=this.options,a=s.time,n=s.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();s.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,l=Mve(r,i,o);return this._unit=a.unit||(n.autoSkip?rD(a.minUnit,this.min,this.max,this._getLabelCapacity(i)):DNe(this,l.length,a.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:RNe(this._unit),this.initOffsets(r),s.reverse&&l.reverse(),oD(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(s=>+s.value))}initOffsets(s=[]){let a=0,n=0,r,i;this.options.offset&&s.length&&(r=this.getDecimalForValue(s[0]),s.length===1?a=1-r:a=(this.getDecimalForValue(s[1])-r)/2,i=this.getDecimalForValue(s[s.length-1]),s.length===1?n=i:n=(i-this.getDecimalForValue(s[s.length-2]))/2);const o=s.length<3?.5:.25;a=cr(a,0,o),n=cr(n,0,o),this._offsets={start:a,end:n,factor:1/(a+1+n)}}_generate(){const s=this._adapter,a=this.min,n=this.max,r=this.options,i=r.time,o=i.unit||rD(i.minUnit,a,n,this._getLabelCapacity(a)),l=Ws(r.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,m=Fx(c)||c===!0,u={};let h=a,f,v;if(m&&(h=+s.startOf(h,"isoWeek",c)),h=+s.startOf(h,m?"day":o),s.diff(n,a,o)>1e5*l)throw new Error(a+" and "+n+" are too far apart with stepSize of "+l+" "+o);const _=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,v=0;f<n;f=+s.add(f,l,o),v++)iD(u,f,_);return(f===n||r.bounds==="ticks"||v===1)&&iD(u,f,_),Object.keys(u).sort(aD).map(S=>+S)}getLabelForValue(s){const a=this._adapter,n=this.options.time;return n.tooltipFormat?a.format(s,n.tooltipFormat):a.format(s,n.displayFormats.datetime)}format(s,a){const r=this.options.time.displayFormats,i=this._unit,o=a||r[i];return this._adapter.format(s,o)}_tickFormatFunction(s,a,n,r){const i=this.options,o=i.ticks.callback;if(o)return Ua(o,[s,a,n],this);const l=i.time.displayFormats,c=this._unit,m=this._majorUnit,u=c&&l[c],h=m&&l[m],f=n[a],v=m&&h&&f&&f.major;return this._adapter.format(s,r||(v?h:u))}generateTickLabels(s){let a,n,r;for(a=0,n=s.length;a<n;++a)r=s[a],r.label=this._tickFormatFunction(r.value,a,s)}getDecimalForValue(s){return s===null?NaN:(s-this.min)/(this.max-this.min)}getPixelForValue(s){const a=this._offsets,n=this.getDecimalForValue(s);return this.getPixelForDecimal((a.start+n)*a.factor)}getValueForPixel(s){const a=this._offsets,n=this.getDecimalForPixel(s)/a.factor-a.end;return this.min+n*(this.max-this.min)}_getLabelSize(s){const a=this.options.ticks,n=this.ctx.measureText(s).width,r=Bl(this.isHorizontal()?a.maxRotation:a.minRotation),i=Math.cos(r),o=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*o,h:n*o+l*i}}_getLabelCapacity(s){const a=this.options.time,n=a.displayFormats,r=n[a.unit]||n.millisecond,i=this._tickFormatFunction(s,0,oD(this,[s],this._majorUnit),r),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let s=this._cache.data||[],a,n;if(s.length)return s;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(a=0,n=r.length;a<n;++a)s=s.concat(r[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const s=this._cache.labels||[];let a,n;if(s.length)return s;const r=this.getLabels();for(a=0,n=r.length;a<n;++a)s.push(nD(this,r[a]));return this._cache.labels=this._normalized?s:this.normalize(s)}normalize(s){return eF(s.sort(aD))}}function Ry(t,s,a){let n=0,r=t.length-1,i,o,l,c;a?(s>=t[n].pos&&s<=t[r].pos&&({lo:n,hi:r}=eu(t,"pos",s)),{pos:i,time:l}=t[n],{pos:o,time:c}=t[r]):(s>=t[n].time&&s<=t[r].time&&({lo:n,hi:r}=eu(t,"time",s)),{time:i,pos:l}=t[n],{time:o,pos:c}=t[r]);const m=o-i;return m?l+(c-l)*(s-i)/m:l}class Zze extends lD{static id="timeseries";static defaults=lD.defaults;constructor(s){super(s),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const s=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(s);this._minPos=Ry(a,this.min),this._tableRange=Ry(a,this.max)-this._minPos,super.initOffsets(s)}buildLookupTable(s){const{min:a,max:n}=this,r=[],i=[];let o,l,c,m,u;for(o=0,l=s.length;o<l;++o)m=s[o],m>=a&&m<=n&&r.push(m);if(r.length<2)return[{time:a,pos:0},{time:n,pos:1}];for(o=0,l=r.length;o<l;++o)u=r[o+1],c=r[o-1],m=r[o],Math.round((u+c)/2)!==m&&i.push({time:m,pos:o/(l-1)});return i}_generate(){const s=this.min,a=this.max;let n=super.getDataTimestamps();return(!n.includes(s)||!n.length)&&n.splice(0,0,s),(!n.includes(a)||n.length===1)&&n.push(a),n.sort((r,i)=>r-i)}_getTimestampsForTable(){let s=this._cache.all||[];if(s.length)return s;const a=this.getDataTimestamps(),n=this.getLabelTimestamps();return a.length&&n.length?s=this.normalize(a.concat(n)):s=a.length?a:n,s=this._cache.all=s,s}getDecimalForValue(s){return(Ry(this._table,s)-this._minPos)/this._tableRange}getValueForPixel(s){const a=this._offsets,n=this.getDecimalForPixel(s)/a.factor-a.end;return Ry(this._table,n*this._tableRange+this._minPos,!0)}}const INe=async()=>(await ie.get("/dashboard/statistics")).data.data,ONe=async(t=30)=>(await ie.get("/dashboard/sales-performance",{params:{period:t}})).data.data,FNe=async(t=30,s=5)=>(await ie.get("/dashboard/top-products",{params:{period:t,limit:s}})).data.data,LNe=async()=>(await ie.get("/dashboard/order-status")).data.data,m1=180*1e3,zNe=()=>nt({queryKey:["dashboardStatistics"],queryFn:INe,staleTime:m1}),$Ne=(t=30)=>nt({queryKey:["salesPerformance",t],queryFn:()=>ONe(t),staleTime:m1}),qNe=(t=30,s=5)=>nt({queryKey:["topProducts",t,s],queryFn:()=>FNe(t,s),staleTime:m1}),BNe=()=>nt({queryKey:["orderStatus"],queryFn:LNe,staleTime:m1}),UNe=(t,s)=>t.find(n=>n.id===s)?.code||"TZS",VNe=t=>({USD:"$",EUR:"",GBP:"",JPY:"",INR:"",TZS:"TZS",CAD:"C$",AUD:"A$"})[t]||t,HNe=(t,s,a=[],n=1)=>{const r=UNe(a,n),i=VNe(r);if(r==="TZS"&&!a.length)return`TZS ${t.toLocaleString()}`;if(s)return s.replace(/[$]|[A-Z]{2,3}/g,o=>o.length>=2?`${i} `:`${i} `);if(r==="INR"){if(t>=1e5){const o=t/1e5;return`${i} ${o.toFixed(1)}L`}return`${i} ${t.toLocaleString("en-IN")}`}return`${i} ${new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}`},Qa=()=>{const{currencies:t,defaultCurrencyId:s}=qbe();return{formatCurrency:(a,n)=>HNe(a,n,t,s),currencies:t,defaultCurrencyId:s}},LF="label";function cD(t,s){typeof t=="function"?t(s):t&&(t.current=s)}function WNe(t,s){const a=t.options;a&&s&&Object.assign(a,s)}function zF(t,s){t.labels=s}function $F(t,s,a=LF){const n=[];t.datasets=s.map(r=>{const i=t.datasets.find(o=>o[a]===r[a]);return!i||!r.data||n.includes(i)?{...r}:(n.push(i),Object.assign(i,r),i)})}function YNe(t,s=LF){const a={labels:[],datasets:[]};return zF(a,t.labels),$F(a,t.datasets,s),a}function GNe(t,s){const{height:a=150,width:n=300,redraw:r=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:m=[],fallbackContent:u,updateMode:h,...f}=t,v=g.useRef(null),_=g.useRef(null),S=()=>{v.current&&(_.current=new l1(v.current,{type:o,data:YNe(l,i),options:c&&{...c},plugins:m}),cD(s,_.current))},j=()=>{cD(s,null),_.current&&(_.current.destroy(),_.current=null)};return g.useEffect(()=>{!r&&_.current&&c&&WNe(_.current,c)},[r,c]),g.useEffect(()=>{!r&&_.current&&zF(_.current.config.data,l.labels)},[r,l.labels]),g.useEffect(()=>{!r&&_.current&&l.datasets&&$F(_.current.config.data,l.datasets,i)},[r,l.datasets]),g.useEffect(()=>{_.current&&(r?(j(),setTimeout(S)):_.current.update(h))},[r,c,l.labels,l.datasets,h]),g.useEffect(()=>{_.current&&(j(),setTimeout(S))},[o]),g.useEffect(()=>(S(),()=>j()),[]),e.jsx("canvas",{ref:v,role:"img",height:a,width:n,...f,children:u})}const qF=g.forwardRef(GNe);function p1(t,s){return l1.register(s),g.forwardRef((a,n)=>e.jsx(qF,{...a,ref:n,type:t}))}const dD=p1("line",cje),KNe=p1("bar",oje),QNe=p1("doughnut",vF),ZNe=p1("pie",dje);l1.register(PNe,MNe,O2e,c1,B2e,C2e,xNe,_Ne,hNe,lNe);const uD=()=>{const{data:t,isLoading:s}=zNe(),{data:a,isLoading:n}=$Ne(30),{data:r,isLoading:i}=qNe(30,5),{data:o,isLoading:l}=BNe(),{formatCurrency:c}=Qa(),m={primary:"#3b82f6",success:"#10b981",warning:"#f59e0b",danger:"#ef4444",purple:"#8b5cf6"},u=ae=>{const pe={blue:{bg:"bg-blue-50",text:"text-blue-600",icon:"bg-blue-100",progress:"bg-blue-500"},pink:{bg:"bg-pink-50",text:"text-pink-600",icon:"bg-pink-100",progress:"bg-pink-500"},cyan:{bg:"bg-cyan-50",text:"text-cyan-600",icon:"bg-cyan-100",progress:"bg-cyan-500"},green:{bg:"bg-green-50",text:"text-green-600",icon:"bg-green-100",progress:"bg-green-500"},purple:{bg:"bg-purple-50",text:"text-purple-600",icon:"bg-purple-100",progress:"bg-purple-500"},orange:{bg:"bg-orange-50",text:"text-orange-600",icon:"bg-orange-100",progress:"bg-orange-500"}};return pe[ae]||pe.blue},h=[{title:"Total Orders",value:t?.totalOrders.value.toLocaleString()||"0",description:`${t?.totalOrders.growthPercentage||"0"}% This Month`,icon:ece,color:"blue",progress:t?Math.min(t.totalOrders.thisMonth/t.totalOrders.value*100,100):0},{title:"Sales Revenue",value:c(t?.salesRevenue.value||0,t?.salesRevenue.formatted),description:`${t?.salesRevenue.growthPercentage||"0"}% vs Target`,icon:Jle,color:"green",progress:t?parseFloat(t.salesRevenue.targetProgress):0},{title:"Deliveries",value:t?.deliveries.value.toLocaleString()||"0",description:`${t?.deliveries.successRate||"0"}% Success Rate`,icon:sce,color:"cyan",progress:t?parseFloat(t.deliveries.successRate):0},{title:"Active Outlets",value:t?.activeOutlets.value.toLocaleString()||"0",description:`${t?.activeOutlets.thisWeek||0} New This Week`,icon:ace,color:"pink",progress:t?Math.min(t.activeOutlets.thisMonth/t.activeOutlets.value*100,100):0}],f=a?.labels||[],v={labels:f,datasets:[{label:"Daily Sales",data:a?.sales||[],borderColor:m.primary,backgroundColor:m.primary+"20",tension:.4,fill:!1}]},_=o?.labels.map(ae=>ae?.charAt(0).toUpperCase()+ae?.slice(1))||[],S={labels:_,datasets:[{data:o?.values||[],backgroundColor:[m.primary,m.success,m.warning,m.danger,m.purple],borderWidth:0}]},j=r?.products.map(ae=>ae.length>15?ae.substring(0,15)+"...":ae)||[],b=r?.products||[],w={labels:j,datasets:[{label:"Units Sold",data:r?.quantities||[],backgroundColor:m.primary,borderColor:m.primary,borderWidth:1}]},C={labels:f,datasets:[{label:"Revenue",data:a?.sales||[],borderColor:m.success,backgroundColor:m.success+"40",tension:.4,fill:!0}]},P=t?Math.round(t.totalOrders.value/Math.max(f.length,1)):0,E=f.map((ae,pe)=>P+pe%3),D={labels:f,datasets:[{label:"Sales",data:a?.sales||[],type:"bar",backgroundColor:m.warning,borderColor:m.warning,borderWidth:1,yAxisID:"y"},{label:"Orders",data:E,type:"line",borderColor:m.danger,backgroundColor:m.danger+"20",tension:.4,fill:!1,yAxisID:"y1"}]},T=t?[{name:"Achieved",value:t?.salesRevenue.value||0},{name:"Pending",value:(t.salesRevenue.target?t.salesRevenue.target-(t.salesRevenue.value||0):0)||0}].filter(ae=>ae.value>0):[],R={labels:T.map(ae=>ae.name),datasets:[{data:T.map(ae=>ae.value),backgroundColor:[m.success,m.warning],borderWidth:0}]},z=f.length>0,O=_.length>0,$=j.length>0,A=f.length>0,Q=f.length>0,K=T.length>0,U={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}},B={...U,plugins:{...U.plugins,tooltip:{callbacks:{label:ae=>`Daily Sales: ${c(ae.parsed.y)}`}}},scales:{x:{ticks:{maxRotation:45,minRotation:45}}}},V={...U,plugins:{...U.plugins,tooltip:{callbacks:{label:ae=>{const pe=ae.dataIndex;return`${b[pe]||ae.dataset.label}: ${c(ae.parsed.y)}`}}}},scales:{x:{ticks:{maxRotation:45,minRotation:45}}}},Y={...U,plugins:{...U.plugins,legend:{position:"bottom"},tooltip:{callbacks:{label:ae=>{const pe=ae.dataset.data.reduce((re,xe)=>re+xe,0),he=(ae.parsed/pe*100).toFixed(1);return`${ae.label}: ${c(ae.parsed)} (${he}%)`}}}}},H={...U,plugins:{...U.plugins,tooltip:{callbacks:{label:ae=>{const pe=ae.dataset.data.reduce((re,xe)=>re+xe,0),he=(ae.parsed/pe*100).toFixed(0);return`${ae.label}: ${he}%`}}}}},F={...U,plugins:{...U.plugins,tooltip:{callbacks:{label:ae=>{const pe=ae.dataset.label||"",he=ae.parsed.y;return`${pe}: ${c(he)}`}}}},scales:{x:{ticks:{maxRotation:45,minRotation:45}},y:{type:"linear",display:!0,position:"left"},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1}}}},M=s||n||i||l,L=()=>e.jsx("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(J,{variant:"text",width:280,height:32,className:"!mb-2"}),e.jsx(J,{variant:"text",width:400,height:20})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(J,{variant:"rectangular",width:140,height:28,className:"!rounded-full"}),e.jsx(J,{variant:"rectangular",width:100,height:28,className:"!rounded-full"}),e.jsx(J,{variant:"rectangular",width:150,height:28,className:"!rounded-full"})]})]})}),W=()=>e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx(J,{variant:"text",width:120,height:16}),e.jsx(J,{variant:"circular",width:32,height:32,className:"!bg-gray-200"})]}),e.jsxs("div",{className:"flex items-end gap-2 mb-4",children:[e.jsx(J,{variant:"text",width:100,height:32}),e.jsx(J,{variant:"text",width:140,height:16})]}),e.jsx(J,{variant:"rectangular",width:"100%",height:8,className:"!rounded-full !bg-gray-200"})]}),X=({height:ae=288})=>e.jsx("div",{className:"relative",style:{height:`${ae}px`},children:e.jsx("div",{className:"absolute inset-0 flex flex-col",children:e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-12 flex flex-col justify-between w-12",children:[1,2,3,4,5].map(pe=>e.jsx(J,{variant:"text",width:40,height:12,className:"!bg-gray-200"},pe))}),e.jsx("div",{className:"absolute left-12 right-0 top-0 bottom-12 flex items-end justify-between gap-2 px-4",children:[1,2,3,4,5,6,7,8,9,10].map(pe=>e.jsx(J,{variant:"rectangular",width:"8%",style:{height:`${60+pe%3*15}%`},className:"!bg-gray-200 !rounded-t"},pe))}),e.jsx("div",{className:"absolute left-12 right-0 bottom-0 h-12 flex items-center justify-between px-4",children:[1,2,3,4,5,6,7,8,9,10].map(pe=>e.jsx(J,{variant:"text",width:30,height:12,className:"!bg-gray-200"},pe))})]})})}),te=()=>e.jsxs("div",{className:"h-72 w-full flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(J,{variant:"circular",width:200,height:200,className:"!bg-gray-200"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(J,{variant:"circular",width:100,height:100,className:"!bg-white"})})]}),e.jsx("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2",children:[1,2].map(ae=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"rectangular",width:12,height:12,className:"!bg-gray-200 !rounded"}),e.jsx(J,{variant:"text",width:80,height:14})]},ae))})]}),se=()=>e.jsx("div",{className:"space-y-4",children:[1,2,3].map(ae=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx(J,{variant:"text",width:120,height:16}),e.jsx(J,{variant:"text",width:80,height:16})]}),e.jsx(J,{variant:"rectangular",width:"100%",height:8,className:"!rounded-full !bg-gray-200 !mb-1"}),e.jsx(J,{variant:"text",width:150,height:12})]},ae))});return M?e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(L,{}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(ae=>e.jsx(W,{},ae))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:e.jsx(X,{height:288})})}),e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"bg-white shadow-sm p-1 rounded-lg border border-gray-100",children:[e.jsx(J,{variant:"text",width:150,height:24,className:"!mb-4"}),e.jsx(te,{})]})})]}),e.jsx("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:e.jsx(X,{height:288})}),e.jsx("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:e.jsx(X,{height:288})}),e.jsx("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:e.jsx(X,{height:320})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx(J,{variant:"text",width:180,height:24,className:"!mb-4"}),e.jsx("div",{className:"h-64 w-full flex items-center justify-center",children:e.jsx(J,{variant:"circular",width:200,height:200,className:"!bg-gray-200"})})]}),e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx(J,{variant:"text",width:150,height:24,className:"!mb-4"}),e.jsx(se,{})]})]})]}):e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-blue-600 mb-1",children:"Executive Dashboard"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Track your sales performance, orders, and field operations"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:[c(t?.salesRevenue.value||0,t?.salesRevenue.formatted)," ","Revenue MTD"]}),e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:[t?.totalOrders.value.toLocaleString()||"0"," Orders"]}),e.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm font-medium",children:[t?.deliveries.successRate||"0","% Delivery Success"]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:h.map(ae=>{const pe=u(ae.color);return e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("span",{className:"text-sm text-gray-500 font-medium",children:ae.title}),e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${pe.icon}`,children:e.jsx(ae.icon,{size:16})})]}),e.jsxs("div",{className:"flex items-end gap-2 mb-4",children:[e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:ae.value}),e.jsx("span",{className:`text-sm font-medium ${pe.text}`,children:ae.description})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${pe.progress}`,style:{width:`${Math.min(ae.progress,100)}%`}})})]},ae.title)})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales Performance & Trends"}),n?e.jsx(X,{height:288}):z?e.jsx("div",{className:"h-72 w-full",children:e.jsx(dD,{data:v,options:B})}):e.jsx("div",{className:"h-72 flex items-center justify-center bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400 mx-auto mb-2 flex justify-center",children:e.jsx(Zle,{size:48})}),e.jsx("span",{className:"text-gray-500",children:"No sales data available"})]})})]})}),e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Status"}),l?e.jsx(te,{}):O?e.jsx("div",{className:"h-72 w-full flex items-center justify-center",children:e.jsx(QNe,{data:S,options:Y})}):e.jsx("div",{className:"h-72 flex items-center justify-center bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400 mx-auto mb-2 flex justify-center",children:e.jsx(Xle,{size:48})}),e.jsx("span",{className:"text-gray-500",children:"No order data available"})]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[$&&e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Selling Products (Last 30 Days)"}),i?e.jsx(X,{height:288}):e.jsx("div",{className:"h-72 w-full",children:e.jsx(KNe,{data:w,options:V})})]}),A&&e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trend"}),n?e.jsx(X,{height:288}):e.jsx("div",{className:"h-72 w-full",children:e.jsx(dD,{data:C,options:B})})]})]}),Q&&e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales vs Orders Performance"}),n?e.jsx(X,{height:320}):e.jsx("div",{className:"h-80 w-full",children:e.jsx(qF,{type:"bar",data:D,options:F})})]}),K&&T.length>0&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue vs Target"}),e.jsx("div",{className:"h-64 w-full",children:e.jsx(ZNe,{data:R,options:H})})]}),e.jsxs("div",{className:"bg-white shadow-sm p-5 rounded-lg border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales Distribution"}),e.jsx("div",{className:"space-y-4",children:t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue"}),e.jsx("span",{className:"text-sm font-semibold",children:c(t.salesRevenue.value||0,t.salesRevenue.formatted)})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(parseFloat(t.salesRevenue.targetProgress||"0"),100)}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Target Progress:"," ",parseFloat(t.salesRevenue.targetProgress||"0").toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Orders"}),e.jsx("span",{className:"text-sm font-semibold",children:t.totalOrders.value.toLocaleString()})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(t.totalOrders.thisMonth/Math.max(t.totalOrders.value,1)*100,100)}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["This Month: ",t.totalOrders.thisMonth]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Delivery Success"}),e.jsxs("span",{className:"text-sm font-semibold",children:[t.deliveries.successRate,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-cyan-500 h-2 rounded-full",style:{width:`${Math.min(parseFloat(t.deliveries.successRate||"0"),100)}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Completed: ",t.deliveries.value.toLocaleString()]})]})]})})]})]})]})},Jt=({children:t,title:s="Delete Confirmation",description:a="Are you sure you want to delete Admin?",onConfirm:n,onCancel:r,confirmText:i="Delete",cancelText:o="Cancel",placement:l="top",disabled:c=!1})=>{const[m,u]=g.useState(!1),h=g.useRef(null),f=()=>{c||u(!0)},v=()=>{u(!1),r?.()},_=()=>{u(!1),n?.()},S=()=>{v()},j=l==="bottom"?"bottom":"top";return e.jsx(e.Fragment,{children:e.jsx(Va,{open:m,onClose:v,onOpen:()=>{},disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,placement:j,slotProps:{tooltip:{sx:{minWidth:"320px",maxWidth:"360px",padding:0},className:"!relative !w-auto !min-w-0 !max-w-auto !rounded-lg !my-[2px] !bg-white !shadow-xl !border !border-gray-200"},arrow:{className:"color-white",style:{color:"white"}}},title:e.jsx(KZ,{onClickAway:S,children:e.jsxs("div",{onClick:b=>b.stopPropagation(),children:[e.jsx("div",{className:"pt-4 pb-2 px-4",children:e.jsx("div",{className:"flex items-start gap-3",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2 leading-tight",children:s}),e.jsx("p",{className:"text-sm text-gray-600 text-wrap leading-relaxed",children:a})]})})}),e.jsxs("div",{className:"flex justify-end gap-2 pb-4 px-4",children:[e.jsx(G,{type:"button",size:"small",variant:"outlined",onClick:v,children:o}),e.jsx(G,{type:"button",size:"small",onClick:_,children:i})]})]})}),arrow:!0,children:e.jsx("div",{ref:h,onClick:f,className:`inline-block ${c?"cursor-not-allowed opacity-50":"cursor-pointer"}`,children:t})})})},XNe=({children:t,itemName:s="this item",onConfirm:a,onCancel:n})=>e.jsx(Jt,{title:"Delete Confirmation",description:`Are you sure you want to delete ${s}?`,onConfirm:a,onCancel:n,confirmText:"Delete",cancelText:"Cancel",children:t}),is=({onClick:t,disabled:s=!1,tooltip:a="Edit",size:n="medium"})=>{const r=e.jsx(na,{size:n,onClick:i=>{i.stopPropagation(),t?.()},disabled:s,className:"!bg-blue-100 !rounded hover:!bg-blue-200 !text-blue-600",children:e.jsx(wA,{fontSize:"small"})});return a?e.jsx(Va,{placement:"top",title:a,arrow:!0,children:r}):r},Vt=({onClick:t,disabled:s=!1,tooltip:a="Delete",size:n="medium",confirmDelete:r=!0,itemName:i="this item"})=>{const o=e.jsx(na,{size:n,disabled:s,className:"!bg-red-100 !rounded hover:!bg-red-200 !text-red-600",children:e.jsx(Pb,{fontSize:"small"})}),l=a?e.jsx(Va,{placement:"top",title:a,arrow:!0,children:o}):o;return r?e.jsx(XNe,{itemName:i,onConfirm:t,children:l}):e.jsx("div",{onClick:c=>c.stopPropagation(),children:l})},Ka=({onClick:t,disabled:s=!1,tooltip:a="Action",size:n="medium",icon:r,color:i="primary"})=>{const o=c=>{switch(c){case"error":return"!bg-red-100 hover:!bg-red-200 !text-red-600";case"warning":return"!bg-orange-100 hover:!bg-orange-200 !text-orange-600";case"success":return"!bg-green-100 hover:!bg-green-200 !text-green-600";case"info":return"!bg-blue-100 hover:!bg-blue-200 !text-blue-600";default:return"!bg-gray-100 hover:!bg-gray-200 !text-gray-600"}},l=e.jsx(na,{size:n,onClick:t,disabled:s,className:`!rounded ${o(i)} ${s?"!cursor-not-allowed":""}`,children:r});return a?e.jsx(Va,{placement:"top",title:a,arrow:!0,children:l}):l},as=({value:t="",placeholder:s="Search...",onChange:a,onInputChange:n,onEnterPress:r,className:i="",size:o="small",showClear:l=!0,disabled:c=!1,fullWidth:m=!1,debounceMs:u=300})=>{const[h,f]=g.useState(t||"");g.useEffect(()=>{if(u===0){a?.(h);return}const j=setTimeout(()=>{a?.(h)},u);return()=>clearTimeout(j)},[h,u,a]),g.useEffect(()=>{f(t||"")},[t]);const v=g.useCallback(j=>{const b=j.target.value;f(b),n?.(b)},[n]),_=g.useCallback(()=>{f(""),a?.(""),n?.("")},[a,n]),S=g.useCallback(j=>{j.key==="Enter"&&r&&(j.preventDefault(),r(h))},[r,h]);return e.jsx(wn,{value:h,onChange:v,onKeyDown:S,placeholder:s,size:o,disabled:c,fullWidth:m,className:i,variant:"outlined",slotProps:{input:{startAdornment:e.jsx(Aw,{position:"start",children:e.jsx(SA,{className:"!text-gray-400 !text-xl"})}),endAdornment:l&&h&&e.jsx(Aw,{position:"end",children:e.jsx(Mle,{className:"!text-gray-400 !text-xl !cursor-pointer hover:!text-gray-600",onClick:_})}),className:"!text-sm"}}})},_e=({formik:t,name:s="",size:a="small",setValue:n,label:r,value:i,required:o,children:l,fullWidth:c=!1,placeholder:m,onBlur:u,onChange:h,disabled:f,disableClearable:v=!1,..._})=>{const S=g.useMemo(()=>l?Nt.Children.toArray(l).filter(R=>Nt.isValidElement(R)?R.props.value!==void 0:!1).map(R=>{const z=R.props,O=z.value;let $="";const A=z.children;if(typeof A=="string")$=A;else if(Nt.isValidElement(A)){const Q=A.props;$=(typeof Q?.children=="string"?Q.children:Q?.children?.toString())||O?.toString()||""}else Array.isArray(A)?$=A.map(Q=>typeof Q=="string"?Q:"").join("")||O?.toString()||"":A!=null?$=String(A):$=O?.toString()||"";return{value:O,label:$||O?.toString()||"",disabled:z.disabled||!1}}).filter(R=>R.value!==void 0&&R.value!==null):[],[l]),j=g.useMemo(()=>i!==void 0?i:t&&s&&t.values[s]||null,[i,t?.values[s],s]),b=g.useMemo(()=>j==null||j===""?null:S.find(T=>T.value===j||String(T.value)===String(j))||null,[j,S]),w=g.useCallback((D,T)=>{const R=T?.value??null;t&&s?t.setFieldValue(s,R):n?n(R):h&&h({target:{name:s,value:R},currentTarget:{name:s,value:R}})},[t,s,n,h]),C=g.useCallback(()=>{t&&s&&(t.setFieldTouched(s,!0),t.handleBlur({target:{name:s}})),u&&u({target:{name:s}})},[t,s,u]),P=g.useMemo(()=>!t||!s?!1:t.touched?.[s]&&t.errors?.[s],[t?.touched?.[s],t?.errors?.[s],s]),E=typeof P=="string"?P:void 0;return e.jsxs(Tv,{fullWidth:c,error:!!P,children:[e.jsx(Yn,{options:S,value:b,onChange:w,onBlur:C,getOptionLabel:D=>D&&(D.label||String(D.value))||"",isOptionEqualToValue:(D,T)=>!D||!T?!1:D.value===T.value||String(D.value)===String(T.value),getOptionDisabled:D=>D?.disabled||!1,disabled:f,size:a,fullWidth:c,openOnFocus:!0,selectOnFocus:!0,clearOnBlur:!1,disableClearable:!!v,filterOptions:(D,T)=>!T.inputValue||T.inputValue.trim()===""?D:D.filter(R=>R.label.toLowerCase().includes(T.inputValue.toLowerCase())),sx:{minWidth:"160px"},slotProps:{popper:{style:{zIndex:1300},placement:"bottom-start"},listbox:{style:{maxHeight:"300px"}}},renderInput:D=>e.jsx(wn,{...D,label:r,placeholder:m,required:o,error:!!P,name:s,size:a,sx:{minWidth:"160px"},slotProps:{input:{...D.InputProps,readOnly:!1},htmlInput:{...D.inputProps,required:!1}}}),renderOption:(D,T)=>g.createElement("li",{...D,key:`${T.value}-${T.label}`},T.label),noOptionsText:"No options available",..._}),E&&e.jsx(D4,{children:E})]})},fe=({title:t,value:s,icon:a,color:n="blue",isLoading:r=!1})=>e.jsx(y,{className:"rounded-lg shadow-sm border p-6 bg-white border-gray-200",children:e.jsxs(y,{className:"flex items-center justify-between",children:[e.jsxs(y,{children:[e.jsx("p",{className:`text-sm font-medium text-${n}-500`,children:t}),r?e.jsx(J,{variant:"text",width:64,height:35,className:"mt-1",sx:{bgcolor:"rgba(229, 231, 235, 1)"}}):e.jsx("p",{className:`text-2xl font-bold mt-1 text-${n}-600`,children:s})]}),e.jsx(y,{className:`w-12 h-12 rounded-full flex items-center justify-center bg-${n}-100`,children:e.jsx(y,{className:`text-${n}-600`,children:a})})]})});function mD(t,s){return s.split(".").reduce((a,n)=>a&&a[n]!==void 0?a[n]:"",t)}function pD(t,s,a){const n=mD(t,String(a)),r=mD(s,String(a));return r<n?-1:r>n?1:0}function JNe(t,s){return t==="none"?()=>0:t==="desc"?(a,n)=>pD(a,n,s):(a,n)=>-pD(a,n,s)}function hD(t){const{order:s,orderBy:a,onRequestSort:n,columns:r,sortable:i}=t,o=c=>m=>{n(m,c)},l=r.filter(c=>c.isVisible!==!1);return e.jsx(gR,{children:e.jsx(au,{children:l.map(c=>e.jsx(Vi,{align:c.numeric?"right":"left",padding:c.disablePadding?"none":"normal",sortDirection:a===c.id&&s!=="none"?s:!1,className:ln(c.className,"!border-b !px-1.5 !border-gray-200 !bg-blue-50 !font-semibold","!whitespace-nowrap !text-gray-700 !p-4 !text-sm",c.numeric&&"!justify-end"),style:{width:c.width},children:i&&c.sortable!==!1?e.jsxs(yse,{IconComponent:Uie,slotProps:{icon:{className:"!w-4 !h-4 !text-primary-500"}},active:a===c.id&&s!=="none",direction:a===c.id&&s!=="none"?s:"asc",onClick:o(c.id),className:ln("hover:!text-blue-600 !flex !justify-between",a===c.id&&s!=="none"&&"!text-blue-600"),children:[c.label,a===c.id&&s!=="none"?e.jsx(y,{component:"span",sx:pR,children:s==="desc"?"sorted descending":"sorted ascending"}):null]}):c.label},String(c.id)))})})}function fD({columns:t,rows:s=3}){const a=Array.from({length:s},(i,o)=>o),n=(i,o)=>{const l=["60%","80%","70%","90%","50%","75%"];return l[o%l.length]},r=t.filter(i=>i.isVisible!==!1);return e.jsx(e.Fragment,{children:a.map((i,o)=>e.jsx(au,{children:r.map((l,c)=>e.jsx(Vi,{align:l.numeric?"right":"left",padding:l.disablePadding?"none":"normal",className:"!border-b !border-gray-100 !h-[50px]",children:e.jsx(y,{className:"!flex !items-center !gap-1.5",children:e.jsx(y,{className:"!flex-1",children:e.jsx(J,{variant:"text",width:n(l,c),height:20,className:"!bg-gray-100 !rounded"})})})},`skeleton-${o}-${String(l.id)}`))},`skeleton-row-${o}`))})}function lt(t){const{data:s,columns:a,sortable:n=!0,pagination:r=!0,onRowClick:i,loading:o=!1,emptyMessage:l="No data available",getRowId:c=(V,Y)=>V.id??Y,initialOrderBy:m,initialOrder:u="none",stickyHeader:h=!1,maxHeight:f,totalCount:v=0,page:_=0,rowsPerPage:S=6,onPageChange:j,isPermission:b=!0,noAccessMessage:w="You do not have permission to access this content",compact:C=!1}=t,[P,E]=g.useState(u),[D,T]=g.useState(()=>{if(m&&u!=="none"){const V=a.find(Y=>Y.id===m);if(V&&V.sortable!==!1)return m}return""}),R=g.useMemo(()=>new Map(a.map(V=>[String(V.id),V])),[a]),z=g.useMemo(()=>a.filter(V=>V.isVisible!==!1),[a]),O=(V,Y)=>{R.get(String(Y))?.sortable!==!1&&(D!==Y?(E("asc"),T(Y)):P==="none"?E("asc"):P==="asc"?E("desc"):(E("none"),T("")))},$=(V,Y,H)=>{i?.(Y,H)},A=(V,Y)=>{j?.(Y)},Q=g.useMemo(()=>!n||!D||P==="none"?s:[...s].sort(JNe(P,D)),[s,P,D,n]),K=o&&s.length===0,U=!b,B=()=>U?e.jsxs(y,{className:"!flex !flex-col !items-center !justify-center !py-16 !px-4",children:[e.jsx(y,{className:"!mb-4 !p-4 !rounded-full !bg-red-100",children:e.jsx(Eoe,{className:"!w-12 !h-12 !text-red-500"})}),e.jsxs(y,{className:"!text-center !max-w-md",children:[e.jsx(y,{className:"!text-lg !font-semibold !text-gray-700 !mb-2",children:"Access Denied"}),e.jsx(y,{className:"!text-sm !text-gray-500",children:w})]})]}):K?e.jsxs(qw,{className:C?"":"!min-w-[750px]",size:"small",stickyHeader:h,children:[e.jsx(hD,{order:P,orderBy:D?String(D):"",onRequestSort:()=>{},columns:a,sortable:n}),e.jsx(Bw,{children:e.jsx(fD,{columns:a,rows:6})})]}):e.jsxs(qw,{className:C?"":"!min-w-[750px]",size:"small",stickyHeader:h,children:[e.jsx(hD,{order:P,orderBy:D?String(D):"",onRequestSort:O,columns:a,sortable:n}),e.jsx(Bw,{children:o?e.jsx(fD,{columns:a,rows:S}):Q.length===0?e.jsx(au,{children:e.jsx(Vi,{colSpan:a.length,align:"center",className:"!py-4 !border-none !text-gray-500 !italic",children:l})}):Q.map((V,Y)=>{const H=c(V,Y);return e.jsx(au,{hover:!0,onClick:F=>$(F,V,Y),tabIndex:-1,className:"!whitespace-nowrap last:!border-b-0 !cursor-pointer hover:!bg-gray-50",children:z.map(F=>e.jsx(Vi,{align:F.numeric?"right":"left",padding:F.disablePadding?"none":"normal",className:"!border-b !p-1.5 !border-gray-100 !text-gray-700 !whitespace-nowrap !text-sm",children:F.render?F.render(V[F.id],V,Y):String(V[F.id]||"")},String(F.id)))},String(H))})})]});return e.jsx(y,{className:"!w-full",children:e.jsxs(da,{elevation:0,className:"!bg-white !shadow-sm !rounded-lg !border !border-gray-100",children:[t.actions&&!Array.isArray(t.actions)&&e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!p-3",children:t.actions}),e.jsx(fn,{className:"!border-gray-200"})]}),e.jsx(xR,{style:{maxHeight:f},children:B()}),r&&b&&e.jsx(cse,{rowsPerPageOptions:[],component:"div",showFirstButton:!0,showLastButton:!0,count:v,rowsPerPage:S,page:_,onPageChange:A,className:"!border-t !border-gray-200 [&_.MuiTablePagination-toolbar]:!text-gray-700 [&_.MuiTablePagination-selectIcon]:!text-gray-500"})]})})}const ewe=async t=>{try{return(await ie.get("/api-tokens",{params:t})).data}catch(s){throw s}},twe=async t=>(await ie.patch(`/api-tokens/${t}/revoke`)).data,swe=async t=>(await ie.delete(`/api-tokens/${t}`)).data,qc={all:["api-tokens"],lists:()=>[...qc.all,"list"],list:t=>[...qc.lists(),t],details:()=>[...qc.all,"detail"],detail:t=>[...qc.details(),t]},awe=(t,s)=>nt({queryKey:qc.list(t||{}),queryFn:()=>ewe(t),staleTime:300*1e3,...s}),nwe=t=>{const s=cs();return Re({mutationFn:twe,loadingMessage:"Revoking token...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:qc.lists()}),s.invalidateQueries({queryKey:qc.detail(n)})},onError:t?.onError})},rwe=t=>{const s=cs();return Re({mutationFn:swe,loadingMessage:"Deleting token...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:qc.lists()})},onError:t?.onError})},iwe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState("all"),[o,l]=g.useState(1),[c]=g.useState(10),{isUpdate:m,isDelete:u,isRead:h}=Ze("token"),{data:f,isLoading:v,error:_}=awe({search:t,page:o,limit:c,isActive:a==="all"?void 0:a==="active"?"Y":"N",isRevoked:r==="all"?void 0:r==="revoked"?"true":"false"},{enabled:h}),S=f?.data||[],j=f?.meta?.total_count||0,b=(f?.meta?.current_page||1)-1,w=nwe(),C=rwe(),P=f?.stats||{},E=P.total_tokens??S.length,D=P.active_tokens??S.filter(B=>B.is_active==="Y").length,T=P.revoked_tokens??S.filter(B=>B.is_revoked).length,R=P.expired_tokens??S.filter(B=>B.expires_at&&new Date(B.expires_at)<new Date).length,z=g.useCallback(async B=>{try{await w.mutateAsync(B)}catch(V){console.error("Error revoking token:",V)}},[w]),O=g.useCallback(async B=>{try{await C.mutateAsync(B)}catch(V){console.error("Error deleting token:",V)}},[C]),$=g.useCallback(B=>{s(B),l(1)},[]),A=B=>{l(B+1)},Q=B=>{if(!B)return"Unknown device";const V=B.toLowerCase();if(V.includes("macintosh")||V.includes("mac os x")){const Y=B.match(/Mac OS X (\d+[._]\d+[._]\d+)/),H=Y?Y[1].replace(/_/g,"."):"";if(V.includes("chrome")){const F=B.match(/Chrome\/(\d+\.\d+\.\d+\.\d+)/),M=F?F[1]:"";return`Mac${H?` (macOS ${H})`:""} - Chrome${M?` ${M}`:""}`}if(V.includes("safari")&&!V.includes("chrome"))return`Mac${H?` (macOS ${H})`:""} - Safari`;if(V.includes("firefox"))return`Mac${H?` (macOS ${H})`:""} - Firefox`}if(V.includes("windows")){let Y="";if(V.includes("windows nt 10.0"))Y="Windows 10";else if(V.includes("windows nt 11.0"))Y="Windows 11";else if(V.includes("windows nt 6.3"))Y="Windows 8.1";else if(V.includes("windows nt 6.2"))Y="Windows 8";else if(V.includes("windows nt 6.1"))Y="Windows 7";else{const H=B.match(/Windows NT (\d+\.\d+)/i);if(H){const F=H[1];F==="10.0"?Y="Windows 10":F==="11.0"?Y="Windows 11":F==="6.3"?Y="Windows 8.1":F==="6.2"?Y="Windows 8":F==="6.1"?Y="Windows 7":Y=`Windows NT ${F}`}else Y="Windows"}if(V.includes("chrome")){const H=B.match(/Chrome\/(\d+\.\d+\.\d+\.\d+)/),F=H?H[1]:"";return`${Y}${F?` - Chrome ${F}`:" - Chrome"}`}if(V.includes("firefox")){const H=B.match(/Firefox\/(\d+\.\d+)/),F=H?H[1]:"";return`${Y}${F?` - Firefox ${F}`:" - Firefox"}`}if(V.includes("edge")){const H=B.match(/Edg\/(\d+\.\d+\.\d+\.\d+)/),F=H?H[1]:"";return`${Y}${F?` - Edge ${F}`:" - Edge"}`}return Y}return V.includes("android")&&V.includes("chrome")?"Android - Chrome":(V.includes("iphone")||V.includes("ipad"))&&V.includes("safari")?"iOS - Safari":V.includes("dart")?"Mobile App (Dart)":B},K=B=>B.is_revoked?"revoked":B.expires_at&&new Date(B.expires_at)<new Date?"expired":B.is_active==="Y"?"active":"inactive",U=[{id:"users_api_tokens_user_idTousers",label:"User",render:(B,V)=>{const Y=V.users_api_tokens_user_idTousers;return e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:Y?.name,className:"!rounded !bg-primary-100 !text-primary-500",children:Y?.name?.charAt(0)||"U"}),e.jsxs(y,{className:"!max-w-xs",children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:Y?.name||"Unknown User"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:Y?.email||`ID: ${V.user_id}`})]})]})}},{id:"token_type",label:"Token Type",render:(B,V)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:V.token_type||e.jsx("span",{className:"italic text-gray-400",children:"No Token Type"})})},{id:"device_id",label:"Device",render:(B,V)=>e.jsx(Va,{title:V.device_id||"No Device",arrow:!0,placement:"top",children:e.jsx(x,{variant:"body2",className:"!text-gray-900",children:V.device_id?Q(V.device_id):e.jsx("span",{className:"italic text-gray-400",children:"No Device"})})})},{id:"ip_address",label:"IP Address",render:(B,V)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:V.ip_address&&V.ip_address!==""?V.ip_address?.replace(/^::ffff:/,""):e.jsx("span",{className:"italic text-gray-400",children:"No IP"})})},{id:"is_active",label:"Status",render:(B,V)=>{const Y=K(V),F={active:{label:"Active",color:"success",icon:e.jsx(pt,{})},inactive:{label:"Inactive",color:"default",icon:e.jsx(St,{})},revoked:{label:"Revoked",color:"error",icon:e.jsx(St,{})},expired:{label:"Expired",color:"warning",icon:e.jsx(St,{})}}[Y];return e.jsx(De,{variant:"outlined",icon:F.icon,label:F.label,size:"small",color:F.color})}},{id:"issued_at",label:"Issued At",render:(B,V)=>Oe(V.issued_at?.toString())||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},{id:"expires_at",label:"Expires At",render:(B,V)=>Oe(V.expires_at?.toString())||e.jsx("span",{className:"italic text-gray-400",children:"No Expiry"})},...m||u||h?[{id:"action",label:"Actions",sortable:!1,render:(B,V)=>{const Y=V.is_revoked,H=V.expires_at&&new Date(V.expires_at)<new Date;return e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[m&&!Y&&!H&&e.jsx(e.Fragment,{children:e.jsx(Jt,{title:"Revoke Token",description:"Are you sure you want to revoke this token? It will no longer be usable.",confirmText:"Revoke",onConfirm:()=>z(V.id),children:e.jsx(Ka,{tooltip:`Revoke Token #${V.id}`,disabled:w.isPending,icon:e.jsx(St,{}),color:"error"})})}),u&&e.jsx(Vt,{onClick:()=>O(V.id),tooltip:`Delete Token #${V.id}`,itemName:`Token #${V.id}`,confirmDelete:!0})]})}}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"API Tokens Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage and monitor API tokens for all users"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Tokens",value:E,icon:e.jsx(Coe,{className:"w-6 h-6"}),color:"blue",isLoading:v}),e.jsx(fe,{title:"Active Tokens",value:D,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:v}),e.jsx(fe,{title:"Revoked Tokens",value:T,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:v}),e.jsx(fe,{title:"Expired Tokens",value:R,icon:e.jsx(bA,{className:"w-6 h-6"}),color:"orange",isLoading:v})]}),_&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load API tokens. Please try again."}),e.jsx(lt,{data:S,columns:U,actions:h?e.jsx("div",{className:"flex justify-between gap-3 items-center flex-wrap",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(as,{placeholder:"Search API Tokens...",value:t,onChange:$,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:B=>n(B.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(_e,{value:r,onChange:B=>i(B.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Revoked"}),e.jsx(Z,{value:"revoked",children:"Revoked"}),e.jsx(Z,{value:"not-revoked",children:"Not Revoked"})]})]})}):!1,getRowId:B=>B.id,initialOrderBy:"id",loading:v,totalCount:j,page:b,rowsPerPage:c,onPageChange:A,isPermission:h,emptyMessage:t?`No API tokens found matching "${t}"`:"No API tokens found in the system"})]})},owe=async t=>{try{return(await ie.get("/asset-maintenance",{params:t})).data}catch(s){throw console.error("Error fetching asset maintenances:",s),new Error(s.response?.data?.message||"Failed to fetch asset maintenances")}},lwe=async t=>{try{return(await ie.post("/asset-maintenance",t)).data.data}catch(s){throw console.error("Error creating asset maintenance:",s),new Error(s.response?.data?.message||"Failed to create asset maintenance")}},cwe=async(t,s)=>{try{return(await ie.put(`/asset-maintenance/${t}`,s)).data.data}catch(a){throw console.error("Error updating asset maintenance:",a),new Error(a.response?.data?.message||"Failed to update asset maintenance")}},dwe=async t=>{try{await ie.delete(`/asset-maintenance/${t}`)}catch(s){throw console.error("Error deleting asset maintenance:",s),new Error(s.response?.data?.message||"Failed to delete asset maintenance")}},xf={all:["asset-maintenance"],lists:()=>[...xf.all,"list"],list:t=>[...xf.lists(),t],details:()=>[...xf.all,"detail"],detail:t=>[...xf.details(),t]},uwe=(t,s)=>nt({queryKey:xf.list(t),queryFn:()=>owe(t),staleTime:300*1e3,...s}),mwe=()=>Re({mutationFn:lwe,invalidateQueries:["asset-maintenance"],loadingMessage:"Creating asset maintenance..."}),pwe=()=>Re({mutationFn:({id:t,data:s})=>cwe(t,s),invalidateQueries:["asset-maintenance"],loadingMessage:"Updating asset maintenance..."}),hwe=()=>Re({mutationFn:dwe,invalidateQueries:["asset-maintenance"],loadingMessage:"Deleting asset maintenance..."}),fwe=async t=>{try{return(await ie.get(`/import-export/${t}/template`,{responseType:"blob"})).data}catch(s){throw console.error("Error downloading template:",s),new Error(s.response?.data?.message||"Failed to download template")}},xwe=async(t,s,a={})=>{try{const n=new FormData;return n.append("file",s),a.batchSize&&n.append("batchSize",a.batchSize.toString()),a.skipDuplicates!==void 0&&n.append("skipDuplicates",a.skipDuplicates.toString()),a.updateExisting!==void 0&&n.append("updateExisting",a.updateExisting.toString()),(await ie.post(`/import-export/${t}/import`,n,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("Error importing data:",n),new Error(n.response?.data?.message||"Failed to import data")}},gwe=async(t,s)=>{try{return(await ie.get(`/import-export/${t}/export/excel`,{params:s,responseType:"blob"})).data}catch(a){throw console.error("Error exporting to Excel:",a),new Error(a.response?.data?.message||"Failed to export to Excel")}},bs=()=>Re({mutationFn:async t=>{const s=await fwe(t),a=window.URL.createObjectURL(s),n=document.createElement("a");return n.href=a,n.download=`${t}_template_${Date.now()}.xlsx`,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(a),{success:!0,message:"Template downloaded successfully"}},loadingMessage:"Downloading template..."}),vs=t=>Re({mutationFn:({tableName:s,file:a,options:n})=>xwe(s,a,n),loadingMessage:"Importing data...",onSuccess:t?.onSuccess,onError:t?.onError}),ms=()=>Re({mutationFn:async({tableName:t,filters:s})=>{const a=await gwe(t,s),n=window.URL.createObjectURL(a),r=document.createElement("a");return r.href=n,r.download=`${t}_export_${Date.now()}.xlsx`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n),{success:!0,message:"Data exported to Excel successfully"}},loadingMessage:"Exporting to Excel..."}),ywe=it({file:hs().required("Please select a file to import")}),bwe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:ywe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("asset_maintenance")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"asset_maintenance",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Asset Maintenance",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple asset maintenance records. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},vwe=async t=>{try{return(await ie.get("/asset-master",{params:t})).data}catch(s){throw console.error("Error fetching asset master:",s),new Error(s.response?.data?.message||"Failed to fetch asset master")}},jwe=async(t,s)=>{try{const a=new FormData;if(Object.entries(t).forEach(([r,i])=>{i!=null&&a.append(r,i.toString())}),s&&s.length>0){s.forEach(i=>{a.append("assetImages",i)});const r=s.map((i,o)=>({caption:`Asset Image ${o+1}`}));a.append("assetImages",JSON.stringify(r))}return(await ie.post("/asset-master",a,{headers:{"Content-Type":"multipart/form-data"}})).data.data}catch(a){throw console.error("Error creating asset master:",a),new Error(a.response?.data?.message||"Failed to create asset master")}},Nwe=async(t,s)=>{try{return(await ie.put(`/asset-master/${t}`,s)).data.data}catch(a){throw console.error("Error updating asset master:",a),new Error(a.response?.data?.message||"Failed to update asset master")}},wwe=async t=>{try{await ie.delete(`/asset-master/${t}`)}catch(s){throw console.error("Error deleting asset master:",s),new Error(s.response?.data?.message||"Failed to delete asset master")}},gf={all:["asset-master"],lists:()=>[...gf.all,"list"],list:t=>[...gf.lists(),t],details:()=>[...gf.all,"detail"],detail:t=>[...gf.details(),t]},QS=(t,s)=>nt({queryKey:gf.list(t),queryFn:()=>vwe(t),staleTime:300*1e3,...s}),_we=()=>Re({mutationFn:({data:t,images:s})=>jwe(t,s),invalidateQueries:["asset-master"],loadingMessage:"Creating asset..."}),Swe=()=>Re({mutationFn:({id:t,data:s})=>Nwe(t,s),invalidateQueries:["asset-master"],loadingMessage:"Updating asset..."}),Cwe=()=>Re({mutationFn:wwe,invalidateQueries:["asset-master"],loadingMessage:"Deleting asset..."}),kwe=it({asset_id:Qe().required("Asset is required").positive("Asset ID must be positive"),maintenance_date:Ta().required("Maintenance date is required").max(new Date,"Maintenance date cannot be in the future"),issue_reported:me().max(1e3,"Issue reported must be less than 1000 characters").optional(),action_taken:me().max(1e3,"Action taken must be less than 1000 characters").optional(),technician_id:Qe().required("Technician is required").positive("Technician ID must be positive"),cost:Qe().min(0,"Cost must be non-negative").optional(),remarks:me().max(1e3,"Remarks must be less than 1000 characters").optional(),is_active:me().oneOf(["Y","N"],"Status must be Active or Inactive").required("Status is required")}),BF=Ne("span")(({theme:t})=>({borderRadius:"50%",width:18,height:18,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#f5f8fa",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))",".Mui-focusVisible &":{outline:`2px auto ${t.palette.primary.main}`,outlineOffset:2},"input:hover ~ &":{backgroundColor:t.primaryColors?.[100]},"input:disabled ~ &":{boxShadow:"none",background:"rgba(206,217,224,.5)"}})),Pwe=Ne(BF)(({theme:t})=>({backgroundColor:t.palette.primary.main,backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))","&::before":{display:"block",width:18,height:18,backgroundImage:"radial-gradient(#fff,#fff 28%,transparent 32%)",content:'""'},"input:hover ~ &":{backgroundColor:t.primaryColors?.[700]||"#1d4ed8"}})),xD=t=>e.jsx(vx,{disableRipple:!0,color:"default",checkedIcon:e.jsx(Pwe,{}),icon:e.jsx(BF,{}),...t}),Ps=({formik:t,name:s,label:a="Status",required:n=!1,className:r="",disabled:i=!1,value:o,onChange:l})=>{const c=o!==void 0?o:t?.values?.[s]||"Y",m=f=>{const v=f.target.value;t?t.setFieldValue(s,v):l&&l(v)},u=t?.touched?.[s]&&t?.errors?.[s],h=typeof u=="string"?u:void 0;return e.jsxs(Tv,{component:"fieldset",className:`${r}`,error:!!u,disabled:i,children:[e.jsxs(aR,{component:"legend",className:"!text-gray-700 !text-sm !font-medium",children:[a,n&&e.jsx("span",{children:" *"})]}),e.jsxs(jx,{row:!0,name:s,value:c,onChange:m,className:"!gap-4 pl-1",children:[e.jsx(si,{value:"Y",control:e.jsx(xD,{}),label:"Active",disabled:i}),e.jsx(si,{value:"N",control:e.jsx(xD,{}),label:"Inactive",disabled:i})]}),h&&e.jsx("span",{className:"!text-red-500 !text-xs !mt-1 !ml-2",children:h})]})},Ewe=({selectedMaintenance:t,setSelectedMaintenance:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,{data:i}=QS({page:1,limit:1e3,status:"active"}),o=i?.data||[],{data:l}=er({page:1,limit:1e3,isActive:"Y"}),c=l?.data||[],m=mwe(),u=pwe(),h=()=>{s(null),n(!1),f.resetForm()},f=ft({initialValues:{asset_id:t?.asset_id?.toString()||"",maintenance_date:Ln(t?.maintenance_date),issue_reported:t?.issue_reported||"",action_taken:t?.action_taken||"",technician_id:t?.technician_id?.toString()||"",cost:t?.cost?.toString()||"",remarks:t?.remarks||"",is_active:t?.is_active||"Y"},validationSchema:kwe,enableReinitialize:!0,onSubmit:async v=>{try{const _={asset_id:Number(v.asset_id),maintenance_date:v.maintenance_date,issue_reported:v.issue_reported,action_taken:v.action_taken,technician_id:Number(v.technician_id),cost:v.cost?Number(v.cost):void 0,remarks:v.remarks,is_active:v.is_active};r&&t?await u.mutateAsync({id:t.id,data:_}):await m.mutateAsync(_),h()}catch(_){console.error("Error submitting asset maintenance:",_)}}});return e.jsx(ot,{open:a,setOpen:h,title:r?"Edit Asset Maintenance":"Create Asset Maintenance",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsxs(_e,{name:"asset_id",label:"Asset",formik:f,required:!0,children:[e.jsx(Z,{value:"",children:"Select Asset"}),o.map(v=>e.jsxs(Z,{value:v.id?.toString()||"",children:[v.asset_master_asset_types?.name," (",v.serial_number,")"]},v.id))]}),e.jsxs(_e,{name:"technician_id",label:"Technician",formik:f,required:!0,children:[e.jsx(Z,{value:"",children:"Select Technician"}),c.map(v=>e.jsxs(Z,{value:v.id?.toString()||"",children:[v.name," (",v.email,")"]},v.id))]}),e.jsx(oe,{name:"maintenance_date",label:"Maintenance Date",type:"date",formik:f,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(oe,{name:"cost",label:"Cost",type:"number",placeholder:"Enter maintenance cost",formik:f})]}),e.jsx(oe,{name:"issue_reported",label:"Issue Reported",placeholder:"Describe the issue that was reported",formik:f,multiline:!0,rows:3}),e.jsx(oe,{name:"action_taken",label:"Action Taken",placeholder:"Describe the action taken to resolve the issue",formik:f,multiline:!0,rows:3}),e.jsx(oe,{name:"remarks",label:"Remarks",placeholder:"Enter additional remarks",formik:f,multiline:!0,rows:3}),e.jsx(Ps,{name:"is_active",formik:f,required:!0,className:"col-span-2"}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,className:"!mr-3",disabled:m.isPending||u.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:m.isPending||u.isPending,children:[m.isPending||u.isPending?r?"Updating...":"Creating...":r?"Update":"Create"," "]})]})]})})})},Twe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{formatCurrency:v}=Qa(),{isCreate:_,isUpdate:S,isDelete:j,isRead:b}=Ze("maintenance"),{data:w,isLoading:C,error:P}=uwe({search:t,page:u,limit:f,status:a==="all"?void 0:a},{enabled:b}),E=w?.data||[],D=w?.meta?.total||0,T=(w?.meta?.page||1)-1,R=hwe(),z=ms(),O=w?.stats||{},$=O.total_records??0,A=O.active_records??0,Q=O.inactive_records??0,K=O.this_month_records??O.records_this_month??0,U=g.useCallback(()=>{i(null),l(!0)},[]),B=g.useCallback(L=>{i(L),l(!0)},[]),V=g.useCallback(async L=>{try{await R.mutateAsync(L)}catch(W){console.error("Error deleting asset maintenance:",W)}},[R]),Y=g.useCallback(L=>{s(L),h(1)},[]),H=L=>{h(L+1)},F=g.useCallback(async()=>{try{const L={search:t,status:a==="all"?void 0:a};await z.mutateAsync({tableName:"asset_maintenance",filters:L})}catch(L){console.error("Error exporting asset maintenances:",L)}},[z,t,a]),M=[{id:"asset_info",label:"Asset Info",sortable:!1,render:(L,W)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:W.asset_maintenance_master?.serial_number||"Asset",className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:W.asset_maintenance_master?.asset_master_asset_types?.name||"Unknown Asset"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:W.asset_maintenance_master?.serial_number||`Asset #${W.asset_id}`})]})]})},{id:"maintenance_details",label:"Maintenance Details",sortable:!1,render:(L,W)=>e.jsxs(y,{className:"flex flex-col gap-1",children:[e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(sl,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:W.issue_reported||"No issue reported"})]}),e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Cs,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:W.action_taken||"No action taken"})]})]})},{id:"technician",label:"Technician",sortable:!1,render:(L,W)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(ht,{alt:W.asset_maintenance_technician?.name,src:W.asset_maintenance_technician?.profile_image||"mkx",className:"!rounded !bg-primary-100 !text-primary-500"}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:W.asset_maintenance_technician?.name||"Unknown Technician"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:W.asset_maintenance_technician?.email||"Unknown Email"})]})]})},{id:"maintenance_date",label:"Date",sortable:!0,render:(L,W)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(_s,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:Oe(W.maintenance_date)})]})},{id:"cost",label:"Cost",sortable:!0,render:(L,W)=>e.jsx(y,{className:"flex items-center gap-1",children:e.jsx("span",{className:"text-xs",children:W.cost?v(Number(W.cost)):e.jsx("span",{className:"italic",children:"No Cost"})})})},{id:"remarks",label:"Remarks",sortable:!0,render:(L,W)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Cs,{className:"w-3 h-3 text-gray-400"}),e.jsx(Va,{title:W.remarks||"No remarks",placement:"top",arrow:!0,children:e.jsx("span",{className:"text-xs truncate max-w-32",children:W.remarks||"No remarks"})})]})},{id:"is_active",label:"Active Status",sortable:!0,render:(L,W)=>e.jsx(De,{icon:W.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:W.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:W.is_active==="Y"?"success":"error"})},...S||j||b?[{id:"action",label:"Actions",sortable:!1,render:(L,W)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[S&&e.jsx(is,{onClick:()=>B(W),tooltip:`Edit Maintenance #${W.id}`}),j&&e.jsx(Vt,{onClick:()=>V(W.id),tooltip:`Delete Maintenance #${W.id}`,itemName:`Maintenance #${W.id}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Asset Maintenance"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track and manage asset maintenance records"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Maintenance",value:$,icon:e.jsx(sl,{className:"w-6 h-6"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Active Maintenance",value:A,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Inactive Maintenance",value:Q,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:C}),e.jsx(fe,{title:"This Month",value:K,icon:e.jsx(_s,{className:"w-6 h-6"}),color:"purple",isLoading:C})]}),P&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load asset maintenance records. Please try again."}),e.jsx(lt,{data:E,columns:M,actions:b||_?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[b&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(as,{placeholder:"Search Maintenance Records...",value:t,onChange:Y,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:L=>n(L.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[b&&e.jsx(Jt,{title:"Export Asset Maintenance",description:"Are you sure you want to export the current asset maintenance data to Excel? This will include all filtered results.",onConfirm:F,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:z.isPending,children:z.isPending?"Exporting...":"Export"})}),_&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),_&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:U,children:"Create"})]})]}):!1,getRowId:L=>L.id,initialOrderBy:"maintenance_date",loading:C,totalCount:D,page:T,rowsPerPage:f,onPageChange:H,isPermission:b,emptyMessage:t?`No asset maintenance records found matching "${t}"`:"No asset maintenance records found in the system"}),e.jsx(Ewe,{selectedMaintenance:r,setSelectedMaintenance:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(bwe,{drawerOpen:c,setDrawerOpen:m})]})},Mwe=it({file:hs().required("Please select a file to import")}),Dwe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:Mwe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("asset_master")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"asset_master",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Assets",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple assets. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},Rwe=async t=>{try{return(await ie.get("/asset-types",{params:t})).data}catch(s){throw console.error("Error fetching asset types:",s),new Error(s.response?.data?.message||"Failed to fetch asset types")}},Awe=async t=>{try{return(await ie.post("/asset-types",t)).data}catch(s){throw console.error("Error creating asset type:",s),new Error(s.response?.data?.message||"Failed to create asset type")}},Iwe=async(t,s)=>{try{return(await ie.put(`/asset-types/${t}`,s)).data}catch(a){throw console.error("Error updating asset type:",a),new Error(a.response?.data?.message||"Failed to update asset type")}},Owe=async t=>{try{return(await ie.delete(`/asset-types/${t}`)).data}catch(s){throw console.error("Error deleting asset type:",s),new Error(s.response?.data?.message||"Failed to delete asset type")}},yf={all:["asset-types"],lists:()=>[...yf.all,"list"],list:t=>[...yf.lists(),t],details:()=>[...yf.all,"detail"],detail:t=>[...yf.details(),t]},ZS=(t,s)=>nt({queryKey:yf.list(t),queryFn:()=>Rwe(t),staleTime:300*1e3,...s}),Fwe=()=>Re({mutationFn:Awe,invalidateQueries:["asset-types"],loadingMessage:"Creating asset type..."}),Lwe=()=>Re({mutationFn:({id:t,...s})=>Iwe(t,s),invalidateQueries:["asset-types"],loadingMessage:"Updating asset type..."}),zwe=()=>Re({mutationFn:Owe,invalidateQueries:["asset-types"],loadingMessage:"Deleting asset type..."}),$we=it({asset_type_id:Qe().required("Asset type is required").positive("Asset type must be selected"),serial_number:me().required("Serial number is required").min(1,"Serial number must be at least 1 character").max(100,"Serial number must not exceed 100 characters").matches(/^[A-Za-z0-9\-_]+$/,"Serial number can only contain letters, numbers, hyphens, and underscores"),purchase_date:Ta().nullable().transform((t,s)=>s===""||s===null?null:t).max(new Date,"Purchase date cannot be in the future"),warranty_expiry:Ta().nullable().transform((t,s)=>s===""||s===null?null:t).when("purchase_date",(t,s)=>t?s.min(t,"Warranty expiry must be after purchase date"):s),current_location:me().nullable().max(255,"Current location must not exceed 255 characters"),current_status:me().nullable().oneOf(["Available","In Use","Under Maintenance","Retired","Lost","Damaged",""],"Invalid status selected"),assigned_to:me().nullable().max(100,"Assigned to must not exceed 100 characters"),is_active:me().oneOf(["Y","N"],"Status must be Y or N").default("Y")}),qwe=({selectedAsset:t,setSelectedAsset:s,drawerOpen:a,setDrawerOpen:n})=>{const[r,i]=g.useState([]),[o,l]=g.useState([]),c=g.useRef(null),m=!!t,{data:u}=ZS({page:1,limit:1e3,isActive:"Y"}),h=u?.data||[],{data:f}=er({page:1,limit:1e3,isActive:"Y"}),v=f?.data||[],_=_we(),S=Swe(),j=()=>{s(null),n(!1),i([]),b.resetForm()},b=ft({initialValues:{asset_type_id:t?.asset_type_id||0,serial_number:t?.serial_number||"",purchase_date:t?.purchase_date?t.purchase_date.split("T")[0]:"",warranty_expiry:t?.warranty_expiry?t.warranty_expiry.split("T")[0]:"",warranty_period:"1",current_location:t?.current_location||"",current_status:t?.current_status||"Available",assigned_to:t?.assigned_to||"",is_active:t?.is_active||"Y"},validationSchema:$we,enableReinitialize:!0,onSubmit:async T=>{try{const R={...T,asset_type_id:Number(T.asset_type_id),purchase_date:T.purchase_date,warranty_expiry:T.warranty_expiry,current_location:T.current_location,current_status:T.current_status,assigned_to:T.assigned_to};m&&t?await S.mutateAsync({id:t.id,data:R}):await _.mutateAsync({data:R,images:r.length>0?r:void 0}),j()}catch(R){console.error("Error submitting asset:",R)}}}),w=T=>{const R=T.target.files;if(R){const z=Array.from(R),O=z.filter($=>{const A=$.type.startsWith("image/"),Q=$.size<=5*1024*1024;return A&&Q});O.length!==z.length&&alert("Some files were skipped. Only image files under 5MB are allowed."),i($=>[...$,...O])}c.current&&(c.current.value="")},C=T=>{i(R=>R.filter((z,O)=>O!==T))},P=T=>{l(R=>R.filter((z,O)=>O!==T))},E=()=>{c.current?.click()};g.useEffect(()=>{a||(i([]),l([]))},[a]),g.useEffect(()=>{t&&t.asset_master_image?l(t.asset_master_image):l([])},[t]),g.useEffect(()=>{const T=b.values.purchase_date,R=b.values.warranty_period;if(T&&R){const z=new Date(T),O=parseInt(R);if(!isNaN(z.getTime())&&!isNaN(O)){const $=new Date(z);$.setFullYear($.getFullYear()+O);const A=$.toISOString().split("T")[0];b.setFieldValue("warranty_expiry",A)}}},[b.values.purchase_date,b.values.warranty_period]);const D=[{value:"Available",label:"Available"},{value:"In Use",label:"In Use"},{value:"Under Maintenance",label:"Under Maintenance"},{value:"Retired",label:"Retired"},{value:"Lost",label:"Lost"},{value:"Damaged",label:"Damaged"}];return e.jsx(ot,{open:a,setOpen:j,title:m?"Edit Asset":"Create Asset",size:"large",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:b.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(_e,{name:"asset_type_id",label:"Asset Type",formik:b,required:!0,children:h.map(T=>e.jsx(Z,{value:T.id,children:T.name},T.id))}),e.jsx(oe,{name:"serial_number",label:"Serial Number",placeholder:"Enter serial number",formik:b,required:!0}),e.jsx(oe,{name:"purchase_date",label:"Purchase Date",type:"date",formik:b,slotProps:{inputLabel:{shrink:!0}}}),e.jsxs(_e,{name:"warranty_period",label:"Warranty Period",formik:b,children:[e.jsx(Z,{value:"1",children:"1 Year"}),e.jsx(Z,{value:"2",children:"2 Years"}),e.jsx(Z,{value:"3",children:"3 Years"}),e.jsx(Z,{value:"4",children:"4 Years"}),e.jsx(Z,{value:"5",children:"5 Years"})]}),e.jsx(oe,{name:"warranty_expiry",label:"Warranty Expiry",type:"date",formik:b,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(oe,{name:"current_location",label:"Current Location",placeholder:"Enter current location",formik:b}),e.jsx(_e,{name:"current_status",label:"Current Status",formik:b,children:D.map(T=>e.jsx(Z,{value:T.value,children:T.label},T.value))}),e.jsx(_e,{name:"assigned_to",label:"Assigned To",formik:b,children:v.map(T=>e.jsxs(Z,{value:T.name,children:[T.name," (",T.email,")"]},T.id))}),e.jsx(Ps,{name:"is_active",formik:b,required:!0})]}),e.jsx(y,{className:"!space-y-3",children:e.jsxs(y,{className:"!p-3 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-2",children:"Asset Images (Optional)"}),e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-4 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:E,children:[e.jsx(gs,{className:"!mx-auto !mb-2 !text-gray-400 !text-2xl"}),e.jsx(x,{variant:"body2",className:"!mb-1 !text-gray-700",children:m?"Add more images":"Upload images"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:"JPG, PNG, GIF, WEBP (Max 10MB)"}),e.jsx("input",{ref:c,type:"file",accept:"image/*",multiple:!0,onChange:w,className:"!hidden"})]}),(o.length>0||r.length>0)&&e.jsxs(y,{className:"!mt-3 !space-y-2",children:[e.jsxs(x,{variant:"caption",className:"!text-gray-600 !font-medium",children:["Images (",o.length+r.length,")"]}),e.jsxs(y,{className:"!space-y-1",children:[o.map((T,R)=>e.jsxs(y,{className:"!flex !items-center !justify-between !p-2 !bg-blue-50 !rounded !border !border-blue-200",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !flex-1 !min-w-0",children:[e.jsx(O8,{className:"!text-blue-500 !w-4 !h-4"}),e.jsxs(x,{variant:"caption",className:"!truncate !text-blue-700",title:T.caption||`Image ${R+1}`,children:[T.caption||`Image ${R+1}`," (Current)"]})]}),e.jsx(na,{size:"small",color:"error",onClick:()=>P(R),className:"!p-1",children:e.jsx(Pb,{fontSize:"inherit"})})]},`existing-${R}`)),r.map((T,R)=>e.jsxs(y,{className:"!flex !items-center !justify-between !p-2 !bg-green-50 !rounded !border !border-green-200",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !flex-1 !min-w-0",children:[e.jsx(O8,{className:"!text-green-500 !w-4 !h-4"}),e.jsxs(x,{variant:"caption",className:"!truncate !text-green-700",title:T.name,children:[T.name," (",(T.size/1024).toFixed(0),"KB)"]})]}),e.jsx(na,{size:"small",color:"error",onClick:()=>C(R),className:"!p-1",children:e.jsx(Pb,{fontSize:"inherit"})})]},`new-${R}`))]})]})]})}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:j,className:"!mr-3",disabled:_.isPending||S.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:_.isPending||S.isPending,children:[_.isPending||S.isPending?m?"Updating...":"Creating...":m?"Update":"Create"," "]})]})]})})})},Bwe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("asset-master"),{data:b,isLoading:w,error:C}=QS({search:t,page:u,limit:f,status:a==="all"?void 0:a},{enabled:j}),P=b?.data||[],E=b?.meta?.total||0,D=(b?.meta?.page||1)-1,T=Cwe(),R=ms(),z=b?.stats?.total_assets??0,O=b?.stats?.active_assets??0,$=b?.stats?.inactive_assets??0,A=b?.stats?.assets_this_month??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(M=>{i(M),l(!0)},[]),U=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(L){console.error("Error deleting asset:",L)}},[T]),B=g.useCallback(M=>{s(M),h(1)},[]),V=M=>{h(M+1)},Y=g.useCallback(async()=>{try{const M={search:t,status:a==="all"?void 0:a};await R.mutateAsync({tableName:"asset_master",filters:M})}catch(M){console.error("Error exporting assets:",M)}},[R,t,a]),H=M=>({Available:"success","In Use":"primary","Under Maintenance":"warning",Retired:"secondary",Lost:"error",Damaged:"error"})[M]||"default",F=[{id:"asset_info",label:"Asset Info",render:(M,L)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:L.serial_number,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:L.asset_master_asset_types?.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:L.serial_number})]})]})},{id:"current_location",label:"Location",render:(M,L)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Qs,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:L.current_location||"Not specified"})]})},{id:"current_status",label:"Status",render:(M,L)=>e.jsx(De,{label:L.current_status||"Available",color:H(L.current_status||"Available"),size:"small"})},{id:"assigned_to",label:"Assigned To",render:(M,L)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Rn,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:L.assigned_to||"Unassigned"})]})},{id:"warranty_expiry",label:"Warranty",render:(M,L)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(_s,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:L.warranty_expiry?Oe(L.warranty_expiry):"No warranty"})]})},{id:"is_active",label:"Active Status",render:(M,L)=>e.jsx(De,{icon:L.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:L.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:L.is_active==="Y"?"success":"error"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(M,L)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(L),tooltip:`Edit ${L.serial_number}`}),S&&e.jsx(Vt,{onClick:()=>U(L.id),tooltip:`Delete ${L.serial_number}`,itemName:L.serial_number,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Asset Master"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage and track all company assets and equipment"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Assets",value:z,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Assets",value:O,icon:e.jsx(Ng,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Assets",value:$,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"This Month",value:A,icon:e.jsx(sl,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load assets. Please try again."}),e.jsx(lt,{data:P,columns:F,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Assets...",value:t,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:M=>n(M.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Assets",description:"Are you sure you want to export the current asset data to Excel? This will include all filtered results.",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"serial_number",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:V,emptyMessage:t?`No assets found matching "${t}"`:"No assets found in the system"}),e.jsx(qwe,{selectedAsset:r,setSelectedAsset:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(Dwe,{drawerOpen:c,setDrawerOpen:m})]})},Uwe=async t=>{try{return(await ie.get("/asset-movement",{params:t})).data}catch(s){throw console.error("Error fetching asset movements:",s),new Error(s.response?.data?.message||"Failed to fetch asset movements")}},Vwe=async t=>{try{return(await ie.post("/asset-movement",t)).data.data}catch(s){throw console.error("Error creating asset movement:",s),new Error(s.response?.data?.message||"Failed to create asset movement")}},Hwe=async(t,s)=>{try{return(await ie.put(`/asset-movement/${t}`,s)).data.data}catch(a){throw console.error("Error updating asset movement:",a),new Error(a.response?.data?.message||"Failed to update asset movement")}},Wwe=async t=>{try{await ie.delete(`/asset-movement/${t}`)}catch(s){throw console.error("Error deleting asset movement:",s),new Error(s.response?.data?.message||"Failed to delete asset movement")}},bf={all:["asset-movement"],lists:()=>[...bf.all,"list"],list:t=>[...bf.lists(),t],details:()=>[...bf.all,"detail"],detail:t=>[...bf.details(),t]},Ywe=(t,s)=>nt({queryKey:bf.list(t),queryFn:()=>Uwe(t),staleTime:300*1e3,...s}),Gwe=()=>Re({mutationFn:Vwe,invalidateQueries:["asset-movement"],loadingMessage:"Creating asset movement..."}),Kwe=()=>Re({mutationFn:({id:t,data:s})=>Hwe(t,s),invalidateQueries:["asset-movement"],loadingMessage:"Updating asset movement..."}),Qwe=()=>Re({mutationFn:Wwe,invalidateQueries:["asset-movement"],loadingMessage:"Deleting asset movement..."}),Zwe=it({file:hs().required("Please select a file to import")}),Xwe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:Zwe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("asset_movements")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"asset_movements",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Asset Movements",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple asset movements. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},Jwe=it({asset_id:Qe().positive("Asset ID must be a positive number").required("Asset ID is required"),from_location:me().max(255,"From location must be less than 255 characters").nullable(),to_location:me().max(255,"To location must be less than 255 characters").nullable(),movement_type:me().oneOf(["transfer","maintenance","repair","disposal","return","other"],"Movement type must be one of: transfer, maintenance, repair, disposal, return, other").nullable(),movement_date:Ta().required("Movement date is required").max(new Date,"Movement date cannot be in the future"),performed_by:Qe().positive("Performed by must be a positive number").required("Performed by is required"),notes:me().max(1e3,"Notes must be less than 1000 characters").nullable(),is_active:me().oneOf(["Y","N"],"Active status must be Y or N").required("Active status is required")}),e_e=({selectedMovement:t,setSelectedMovement:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,{data:i}=QS({page:1,limit:1e3,status:"active"}),o=i?.data||[],{data:l}=er({page:1,limit:1e3,isActive:"Y"}),c=l?.data||[],m=Gwe(),u=Kwe(),h=()=>{s(null),n(!1),f.resetForm()},f=ft({initialValues:{asset_id:t?.asset_id?.toString()||"",from_location:t?.from_location||"",to_location:t?.to_location||"",movement_type:t?.movement_type||"",movement_date:Ln(t?.movement_date),performed_by:t?.performed_by?.toString()||"",notes:t?.notes||"",is_active:t?.is_active||"Y"},validationSchema:Jwe,enableReinitialize:!0,onSubmit:async _=>{try{const S={asset_id:Number(_.asset_id),from_location:_.from_location,to_location:_.to_location,movement_type:_.movement_type,movement_date:_.movement_date,performed_by:Number(_.performed_by),notes:_.notes,is_active:_.is_active};r&&t?await u.mutateAsync({id:t.id,data:S}):await m.mutateAsync(S),h()}catch(S){console.error("Error submitting asset movement:",S)}}}),v=[{value:"transfer",label:"Transfer"},{value:"maintenance",label:"Maintenance"},{value:"repair",label:"Repair"},{value:"disposal",label:"Disposal"},{value:"return",label:"Return"},{value:"other",label:"Other"}];return e.jsx(ot,{open:a,setOpen:h,title:r?"Edit Asset Movement":"Create Asset Movement",size:"large",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsxs(_e,{name:"asset_id",label:"Asset",formik:f,required:!0,children:[e.jsx(Z,{value:"",children:"Select Asset"}),o.map(_=>e.jsxs(Z,{value:_.id?.toString()||"",children:[_.asset_master_asset_types?.name," (",_.serial_number,")"]},_.id))]}),e.jsxs(_e,{name:"movement_type",label:"Movement Type",formik:f,children:[e.jsx(Z,{value:"",children:"Select Movement Type"}),v.map(_=>e.jsx(Z,{value:_.value,children:_.label},_.value))]}),e.jsx(oe,{name:"from_location",label:"From Location",placeholder:"Enter source location",formik:f}),e.jsx(oe,{name:"to_location",label:"To Location",placeholder:"Enter destination location",formik:f}),e.jsx(oe,{name:"movement_date",label:"Movement Date",type:"date",formik:f,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsxs(_e,{name:"performed_by",label:"Performed By",formik:f,required:!0,children:[e.jsx(Z,{value:"",children:"Select User"}),c.map(_=>e.jsxs(Z,{value:_.id?.toString()||"",children:[_.name," (",_.email,")"]},_.id))]}),e.jsx(Ps,{name:"is_active",formik:f,required:!0,className:"col-span-2"})]}),e.jsx(oe,{name:"notes",label:"Notes",placeholder:"Enter additional notes about the movement",formik:f,multiline:!0,rows:3}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,className:"!mr-3",disabled:m.isPending||u.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:m.isPending||u.isPending,children:[m.isPending||u.isPending?r?"Updating...":"Creating...":r?"Update":"Create"," "]})]})]})})})},t_e=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("asset-movement"),{data:b,isLoading:w,error:C}=Ywe({search:t,page:u,limit:f,status:a==="all"?void 0:a},{enabled:j}),P=b?.data||[],E=b?.meta?.total||0,D=(b?.meta?.page||1)-1,T=Qwe(),R=ms(),z=b?.stats||{},O=z.total_records??0,$=z.active_records??0,A=z.inactive_records??0,Q=z.this_month_records??0,K=g.useCallback(()=>{i(null),l(!0)},[]),U=g.useCallback(L=>{i(L),l(!0)},[]),B=g.useCallback(async L=>{try{await T.mutateAsync(L)}catch(W){console.error("Error deleting asset movement:",W)}},[T]),V=g.useCallback(L=>{s(L),h(1)},[]),Y=L=>{h(L+1)},H=g.useCallback(async()=>{try{const L={search:t,status:a==="all"?void 0:a};await R.mutateAsync({tableName:"asset_movements",filters:L})}catch(L){console.error("Error exporting asset movements:",L)}},[R,t,a]),F=L=>{const W=L.toLowerCase();return{transfer:"primary",maintenance:"warning",repair:"error",disposal:"secondary",return:"success",other:"default"}[W]||"default"},M=[{id:"asset_info",label:"Asset Info",render:(L,W)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:W.asset_movements_master?.serial_number||"Asset",className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:W.asset_movements_master?.asset_master_asset_types?.name||"Unknown Asset"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:W.asset_movements_master?.serial_number||`Asset #${W.asset_id}`})]})]})},{id:"movement_details",label:"Movement Details",render:(L,W)=>e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Qs,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:W.from_location||"Unknown"})]}),e.jsx(r_,{className:"w-3 h-3 text-gray-400"}),e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Qs,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:W.to_location||"Unknown"})]})]})},{id:"movement_type",label:"Type",render:(L,W)=>e.jsx(De,{label:W.movement_type||"Other",variant:"outlined",color:F(W.movement_type||"other"),size:"small",className:"!capitalize"})},{id:"performed_by",label:"Performed By",render:(L,W)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:W.asset_movements_performed_by?.name,src:W.asset_movements_performed_by?.profile_image||"mkx",className:"!rounded !bg-primary-100 !text-primary-500"}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:W.asset_movements_performed_by?.name||"Unknown User"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:W.asset_movements_performed_by?.email||"Unknown Email"})]})]})},{id:"movement_date",label:"Date",render:(L,W)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(_s,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:Oe(W.movement_date)})]})},{id:"notes",label:"Notes",render:(L,W)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Cs,{className:"w-3 h-3 text-gray-400"}),e.jsx(Va,{title:W.notes||"No notes",placement:"top",arrow:!0,children:e.jsx("span",{className:"text-xs truncate max-w-32",children:W.notes||"No notes"})})]})},{id:"is_active",label:"Active Status",render:(L,W)=>e.jsx(De,{icon:W.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:W.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:W.is_active==="Y"?"success":"error"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(L,W)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>U(W),tooltip:`Edit Movement #${W.id}`}),S&&e.jsx(Vt,{onClick:()=>B(W.id),tooltip:`Delete Movement #${W.id}`,itemName:`Movement #${W.id}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Asset Movement"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track and manage asset movements across locations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Movements",value:O,icon:e.jsx(r_,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Movements",value:$,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Movements",value:A,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"This Month",value:Q,icon:e.jsx(_s,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load asset movements. Please try again."}),e.jsx(lt,{data:P,columns:M,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[j&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(as,{placeholder:"Search Movements...",value:t,onChange:V,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:L=>n(L.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Asset Movements",description:"Are you sure you want to export the current asset movement data to Excel? This will include all filtered results.",onConfirm:H,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:L=>L.id,initialOrderBy:"movement_date",loading:w,totalCount:E,page:D,rowsPerPage:f,onPageChange:Y,isPermission:j,emptyMessage:t?`No asset movements found matching "${t}"`:"No asset movements found in the system"}),e.jsx(e_e,{selectedMovement:r,setSelectedMovement:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(Xwe,{drawerOpen:c,setDrawerOpen:m})]})},s_e=it({file:hs().required("Please select a file to import")}),a_e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:s_e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("asset_types")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"asset_types",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Asset Types",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple asset types. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},n_e=it({name:me().required("Asset type name is required").min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters"),description:me().max(255,"Description must be less than 255 characters"),category:me().max(50,"Category must be less than 50 characters"),brand:me().max(100,"Brand must be less than 100 characters"),is_active:me().required("Status is required")}),r_e=({selectedAssetType:t,setSelectedAssetType:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=Fwe(),l=Lwe(),c=ft({initialValues:{name:t?.name||"",description:t?.description||"",category:t?.category||"",brand:t?.brand||"",is_active:t?.is_active||"Y"},validationSchema:n_e,enableReinitialize:!0,onSubmit:async m=>{try{const u={name:m.name,description:m.description,category:m.category,brand:m.brand,is_active:m.is_active};r&&t?await l.mutateAsync({id:t.id,...u}):await o.mutateAsync(u),i()}catch(u){console.error("Error saving asset type:",u)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Asset Type":"Create Asset Type",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"name",label:"Asset Type Name",placeholder:"Enter asset type name",formik:c,required:!0})}),e.jsx(oe,{name:"category",label:"Category",placeholder:"Enter category",formik:c}),e.jsx(oe,{name:"brand",label:"Brand",placeholder:"Enter brand",formik:c}),e.jsx(Ps,{name:"is_active",formik:c,required:!0}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:c,multiline:!0,rows:3})})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:[o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"," "]})]})]})})})},i_e=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("asset-type"),{data:b,isFetching:w,error:C}=ZS({search:t,page:u,limit:f,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total_count||0,D=(b?.meta?.current_page||1)-1,T=zwe(),R=ms(),z=b?.stats?.total_asset_types??P.length,O=b?.stats?.active_asset_types??P.filter(F=>F.is_active==="Y").length,$=b?.stats?.inactive_asset_types??P.filter(F=>F.is_active==="N").length,A=b?.stats?.new_asset_types??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(F=>{i(F),l(!0)},[]),U=g.useCallback(async F=>{try{await T.mutateAsync(F)}catch(M){console.error("Error deleting asset type:",M)}},[T]),B=g.useCallback(F=>{s(F),h(1)},[]),V=F=>{h(F+1)},Y=g.useCallback(async()=>{try{const F={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"asset_types",filters:F})}catch(F){console.error("Error exporting asset types:",F)}},[R,t,a]),H=[{id:"name",label:"Asset Type Name",render:(F,M)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:M.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsxs(y,{className:"!max-w-xs",children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:M.name}),M.description&&e.jsx(Va,{title:M.description,placement:"top",arrow:!0,children:e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",maxWidth:"300px",cursor:"help"},children:M.description})})]})]})},{id:"category",label:"Category",render:(F,M)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:M.category||e.jsx("span",{className:"italic text-gray-400",children:"No Category"})})},{id:"brand",label:"Brand",render:(F,M)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:M.brand||e.jsx("span",{className:"italic text-gray-400",children:"No Brand"})})},{id:"is_active",label:"Status",render:F=>e.jsx(De,{icon:F==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:F==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:F==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(F,M)=>Oe(M.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(F,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(M),tooltip:`Edit ${M.name}`}),S&&e.jsx(Vt,{onClick:()=>U(M.id),tooltip:`Delete ${M.name}`,itemName:M.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Asset Types Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage asset types, categories, and brands for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Asset Types",value:z,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Types",value:O,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Types",value:$,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:A,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load asset types. Please try again."}),e.jsx(lt,{data:P,columns:H,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Asset Types...",value:t,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:F=>{n(F.target.value),h(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Asset Types",description:"Are you sure you want to export the current asset types data to Excel? This will include all filtered results.",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:F=>F.id,initialOrderBy:"name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:V,emptyMessage:t?`No asset types found matching "${t}"`:"No asset types found in the system"}),e.jsx(r_e,{selectedAssetType:r,setSelectedAssetType:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(a_e,{drawerOpen:c,setDrawerOpen:m})]})},Dg={async getBatchLots(t){return(await ie.get("/batch-lots",{params:t})).data},async getBatchLotById(t){return(await ie.get(`/batch-lots/${t}`)).data},async fetchBatchLotById(t){return(await ie.get(`/batch-lots/${t}`)).data},async createBatchLot(t){return(await ie.post("/batch-lots",t)).data},async updateBatchLot(t){const{id:s,...a}=t;return(await ie.put(`/batch-lots/${s}`,a)).data},async deleteBatchLot(t){return(await ie.delete(`/batch-lots/${t}`)).data},async getBatchLotsDropdown(t){return(await ie.get("/batch-lots-dropdown",{params:t})).data}},h1="batchLots",o_e=(t,s)=>nt({queryKey:[h1,t],queryFn:()=>Dg.getBatchLots(t),enabled:s?.enabled}),l_e=()=>{const t=cs();return Su({mutationFn:s=>Dg.createBatchLot(s),onSuccess:()=>{t.invalidateQueries({queryKey:[h1]}),Rt.success("Batch lot created successfully")},onError:s=>{Rt.error(s?.response?.data?.message||"Failed to create batch lot")}})},c_e=()=>{const t=cs();return Su({mutationFn:s=>Dg.updateBatchLot(s),onSuccess:()=>{t.invalidateQueries({queryKey:[h1]}),Rt.success("Batch lot updated successfully")},onError:s=>{Rt.error(s?.response?.data?.message||"Failed to update batch lot")}})},d_e=()=>{const t=cs();return Su({mutationFn:s=>Dg.deleteBatchLot(s),onSuccess:()=>{t.invalidateQueries({queryKey:[h1]}),Rt.success("Batch lot deleted successfully")},onError:s=>{Rt.error(s?.response?.data?.message||"Failed to delete batch lot")}})},u_e=t=>nt({queryKey:["batchLot",t],queryFn:()=>Dg.fetchBatchLotById(t),enabled:!!t,staleTime:300*1e3}),m_e=it({file:hs().required("Please select a file to import")}),p_e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:m_e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("batch_lots")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"batch_lots",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Batch Lots",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple batch lots. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},h_e=it({batch_number:me().required("Batch number is required").max(50,"Batch number must not exceed 50 characters"),lot_number:me().max(50,"Lot number must not exceed 50 characters").nullable(),manufacturing_date:Ta().required("Manufacturing date is required").max(new Date,"Manufacturing date cannot be in the future"),expiry_date:Ta().required("Expiry date is required").min(S_("manufacturing_date"),"Expiry date must be after manufacturing date").min(new Date,"Expiry date must be a future date"),quantity:Qe().required("Quantity is required").positive("Quantity must be positive").integer("Quantity must be a whole number"),remaining_quantity:Qe().positive("Remaining quantity must be positive").integer("Remaining quantity must be a whole number").max(S_("quantity"),"Remaining quantity cannot exceed total quantity").nullable(),supplier_name:me().max(255,"Supplier name must not exceed 255 characters").nullable(),purchase_price:Qe().positive("Purchase price must be positive").nullable(),quality_grade:me().oneOf(["A","B","C","D","F"],"Quality grade must be A, B, C, D, or F").nullable(),storage_location:me().max(100,"Storage location must not exceed 100 characters").nullable(),is_active:me().oneOf(["Y","N"],"Status must be Y or N").required("Status is required")}),f_e=({selectedBatchLot:t,setSelectedBatchLot:s,drawerOpen:a,setDrawerOpen:n})=>{const[r,i]=g.useState([]),o=g.useRef(!1),l=!!t,c=()=>{s(null),n(!1),i([]),o.current=!1,h.resetForm()},m=l_e(),u=c_e();Nt.useEffect(()=>{a||(o.current=!1)},[a]);const h=ft({initialValues:{batch_number:t?.batch_number||"",lot_number:t?.lot_number||"",manufacturing_date:t?.manufacturing_date?new Date(t.manufacturing_date).toISOString().split("T")[0]:"",expiry_date:t?.expiry_date?new Date(t.expiry_date).toISOString().split("T")[0]:"",quantity:t?.quantity||"",remaining_quantity:t?.remaining_quantity||"",supplier_name:t?.supplier_name||"",purchase_price:t?.purchase_price||"",quality_grade:t?.quality_grade||"A",storage_location:t?.storage_location||"",is_active:t?.is_active||"Y"},validationSchema:h_e,enableReinitialize:!0,onSubmit:async f=>{try{const v={batch_number:f.batch_number,lot_number:f.lot_number,manufacturing_date:f.manufacturing_date,expiry_date:f.expiry_date,quantity:Number(f.quantity),remaining_quantity:f.remaining_quantity?Number(f.remaining_quantity):void 0,supplier_name:f.supplier_name,purchase_price:f.purchase_price?Number(f.purchase_price):void 0,quality_grade:f.quality_grade,storage_location:f.storage_location,is_active:f.is_active,products:r.filter(_=>_.product_id>0&&_.quantity>0).map(_=>({product_id:_.product_id,quantity:_.quantity}))};l&&t?await u.mutateAsync({id:t.id,...v}):await m.mutateAsync(v),c()}catch(v){console.error("Error saving batch lot:",v)}}});return e.jsx(ot,{open:a,setOpen:c,title:l?"Edit Batch Lot":"Create Batch Lot",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:h.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"batch_number",label:"Batch Number",placeholder:"Enter batch number",formik:h,required:!0}),e.jsx(oe,{name:"lot_number",label:"Lot Number",placeholder:"Enter lot number (optional)",formik:h}),e.jsx(oe,{name:"manufacturing_date",label:"Manufacturing Date",type:"date",formik:h,required:!0}),e.jsx(oe,{name:"expiry_date",label:"Expiry Date",type:"date",formik:h,required:!0}),e.jsx(oe,{name:"quantity",label:"Total Quantity",placeholder:"Enter total quantity",formik:h,type:"number",required:!0}),e.jsx(oe,{name:"remaining_quantity",label:"Remaining Quantity",placeholder:"Enter remaining quantity",formik:h,type:"number"}),e.jsx(oe,{name:"purchase_price",label:"Purchase Price",placeholder:"Enter purchase price",formik:h,type:"number"}),e.jsx(oe,{name:"storage_location",label:"Storage Location",placeholder:"Enter storage location",formik:h}),e.jsx(oe,{name:"supplier_name",label:"Supplier Name",placeholder:"Enter supplier name",formik:h,className:"md:!col-span-2"}),e.jsx(Ps,{name:"is_active",label:"Status",formik:h})]}),e.jsxs(y,{className:"!flex !justify-end !gap-3 !pt-4",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:c,disabled:m.isPending||u.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:m.isPending||u.isPending,children:m.isPending||u.isPending?l?"Updating...":"Creating...":l?"Update":"Create"})]})]})})})},x_e=()=>{const t=Gs(),[s,a]=g.useState(""),[n,r]=g.useState("all"),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,u]=g.useState(!1),[h,f]=g.useState(1),[v]=g.useState(10),{isCreate:_,isUpdate:S,isDelete:j,isRead:b}=Ze("batch-lots"),{data:w}=Mu(),{data:C}=nc({limit:1e3}),P=w?.data,E=C?.data||[],D=P?.currency_id||1,T=E.find(re=>re.id===D),{data:R,isFetching:z,error:O}=o_e({search:s,page:h,limit:v,status:n==="all"?void 0:n},{enabled:b}),$=re=>{if(re==null)return"N/A";const xe=T?.code||"INR",le={USD:"en-US",EUR:"de-DE",GBP:"en-GB",JPY:"ja-JP",CNY:"zh-CN",AUD:"en-AU",CAD:"en-CA",INR:"en-IN",AED:"ar-AE",SAR:"ar-SA"}[xe]||"en-IN";return new Intl.NumberFormat(le,{style:"currency",currency:xe,minimumFractionDigits:2,maximumFractionDigits:2}).format(re)},A=R?.data||[],Q=R?.meta?.total_count||0,K=(R?.meta?.current_page||1)-1,U=d_e(),B=ms(),V=R?.stats?.total_batch_lots??A.length,Y=R?.stats?.active_batch_lots??A.filter(re=>re.is_active==="Y").length,H=R?.stats?.expiring_batch_lots??0,F=R?.stats?.expired_batch_lots??0,M=g.useCallback(()=>{o(null),c(!0)},[]),L=g.useCallback(re=>{t(`/masters/batch-lots/${re}`)},[t]),W=g.useCallback(re=>{o(re),c(!0)},[]),X=g.useCallback(async re=>{try{await U.mutateAsync(re)}catch(xe){console.error("Error deleting batch lot:",xe)}},[U]),te=g.useCallback(re=>{a(re),f(1)},[]),se=re=>{f(re+1)},ae=g.useCallback(async()=>{try{const re={search:s,status:n==="all"?void 0:n};await B.mutateAsync({tableName:"batch_lots",filters:re})}catch(re){console.error("Error exporting batch lots:",re)}},[B,s,n]),pe=re=>{const xe=new Date,ge=new Date(re),le=Math.ceil((ge.getTime()-xe.getTime())/(1e3*60*60*24));return le<0?{status:"expired",color:"error",label:"Expired",icon:e.jsx(St,{})}:le<=30?{status:"expiring",color:"warning",label:`${le}d left`,icon:e.jsx(wg,{})}:{status:"valid",color:"success",label:"Valid",icon:e.jsx(pt,{})}},he=[{id:"batch_number",label:"Batch Info",render:(re,xe)=>e.jsxs(y,{className:"!flex !gap-2 !items-center !cursor-pointer hover:!opacity-80 !transition-opacity",onClick:()=>L(xe.id),children:[e.jsx(ht,{alt:xe.batch_number,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium hover:!text-primary-600 !transition-colors",children:xe.batch_number}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:xe.lot_number?`Lot: ${xe.lot_number}`:"No lot number"})]})]})},{id:"products",label:"Products",render:(re,xe)=>e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center text-sm text-gray-900",children:[e.jsx(Wt,{className:"w-4 h-4 text-gray-400 mr-2"}),xe.products?.length||0," product(s)"]}),xe.products&&xe.products.length>0&&e.jsxs(y,{className:"flex items-center text-xs text-gray-500 mt-1",children:[e.jsx(eb,{className:"w-4 h-4 text-gray-400 mr-2"}),xe.products[0]?.name||"Unknown",xe.products.length>1&&` +${xe.products.length-1} more`]})]})},{id:"dates",label:"Dates",render:(re,xe)=>e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center text-sm text-gray-900",children:[e.jsx(la,{className:"w-4 h-4 text-gray-400 mr-2"}),Oe(xe.expiry_date?.toString())]}),e.jsxs(y,{className:"flex items-center text-xs text-gray-500 mt-1",children:[e.jsx(_s,{className:"w-4 h-4 text-gray-400 mr-2"}),"Mfg: ",Oe(xe.manufacturing_date?.toString())]})]})},{id:"quantity",label:"Quantity",render:(re,xe)=>e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center text-sm text-gray-900",children:[e.jsx(Wt,{className:"w-4 h-4 text-gray-400 mr-2"}),Number(xe.quantity).toLocaleString()," total"]}),e.jsxs(y,{className:"flex items-center text-sm text-gray-500 mt-1",children:[e.jsx(eb,{className:"w-4 h-4 text-gray-400 mr-2"}),Number(xe.remaining_quantity).toLocaleString()," remaining"]})]})},{id:"supplier",label:"Supplier",render:(re,xe)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:xe.supplier_name||e.jsx("span",{className:"!text-gray-500 italic",children:"no supplier"})})},{id:"storage",label:"Storage",render:(re,xe)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:xe.storage_location||e.jsx("span",{className:"!text-gray-500 italic",children:"no location"})})},{id:"purchase_price",label:"Purchase Price",render:(re,xe)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:$(xe.purchase_price)})},{id:"expiry_status",label:"Expiry Status",render:(re,xe)=>{const ge=pe(xe.expiry_date||"");return e.jsx(De,{icon:ge.icon,label:ge.label,size:"small",variant:"outlined",color:ge.color})}},{id:"is_active",label:"Status",render:re=>e.jsx(De,{icon:re==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:re==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:re==="Y"?"success":"error"})},{id:"createdate",label:"Created",render:(re,xe)=>e.jsx(x,{variant:"body2",className:"!text-gray-500",children:Oe(xe.createdate?.toString())})},...S||j||b?[{id:"action",label:"Actions",sortable:!1,render:(re,xe)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[b&&e.jsx(Ka,{onClick:()=>L(xe.id),tooltip:`View ${xe.batch_number}`,icon:e.jsx(Cr,{fontSize:"small"}),color:"info"}),S&&e.jsx(is,{onClick:()=>W(xe),tooltip:`Edit ${xe.batch_number}`}),j&&e.jsx(Vt,{onClick:()=>X(xe.id),tooltip:`Delete ${xe.batch_number}`,itemName:xe.batch_number,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Batch & Lot Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track batch numbers, lot numbers, expiry dates, and inventory levels"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Batch Lots",value:V,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"blue",isLoading:z}),e.jsx(fe,{title:"Active Batches",value:Y,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:z}),e.jsx(fe,{title:"Expiring Soon",value:H,icon:e.jsx(la,{className:"w-6 h-6"}),color:"orange",isLoading:z}),e.jsx(fe,{title:"Expired",value:F,icon:e.jsx(eb,{className:"w-6 h-6"}),color:"red",isLoading:z})]}),O&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load batch lots. Please try again."}),e.jsx(lt,{data:A,columns:he,actions:b||_?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:b&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Batch Lots...",value:s,onChange:te,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:n,onChange:re=>{r(re.target.value),f(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[b&&e.jsx(Jt,{title:"Export Batch Lots",description:"Are you sure you want to export the current batch lots data to Excel? This will include all filtered results.",onConfirm:ae,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:B.isPending,children:B.isPending?"Exporting...":"Export"})}),_&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>u(!0),children:"Import"}),_&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:M,children:"Create"})]})]}):!1,getRowId:re=>re.id,initialOrderBy:"expiry_date",loading:z,totalCount:Q,page:K,rowsPerPage:v,isPermission:b,onPageChange:se,emptyMessage:s?`No batch lots found matching "${s}"`:"No batch lots found in the system"}),e.jsx(f_e,{selectedBatchLot:i,setSelectedBatchLot:o,drawerOpen:l,setDrawerOpen:c}),e.jsx(p_e,{drawerOpen:m,setDrawerOpen:u})]})},g_e=()=>{const{id:t}=Jn(),{data:s,isLoading:a,error:n}=u_e(Number(t)),r=s?.data,i=r?.products||[],o=u=>u==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u),l=u=>{const h=new Date,f=new Date(u),v=Math.ceil((f.getTime()-h.getTime())/(1e3*60*60*24));return v<0?{status:"expired",color:"error",label:"Expired",icon:e.jsx(St,{})}:v<=30?{status:"expiring",color:"warning",label:`${v} days left`,icon:e.jsx(wg,{})}:{status:"valid",color:"success",label:"Valid",icon:e.jsx(pt,{})}};if(a)return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !items-center !gap-3",children:e.jsxs(y,{className:"!flex-1",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(J,{variant:"text",width:250,height:32}),e.jsx(J,{variant:"rectangular",width:80,height:24,className:"!rounded-full"})]}),e.jsx(J,{variant:"text",width:300,height:20,className:"!mt-1"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[1,2,3,4].map(u=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:[e.jsx(J,{variant:"text",width:100,height:20}),e.jsx(J,{variant:"text",width:150,height:32,className:"!mt-2"})]},u))}),e.jsx(J,{variant:"rectangular",height:400,className:"!rounded-lg !shadow !border !border-gray-200"})]});if(n)return e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load batch lot details. Please try again."});if(!r)return e.jsx(ct,{severity:"warning",className:"!mb-4",children:"Batch lot not found."});const c=l(r.expiry_date),m=[{id:"name",label:"Product Info",render:(u,h)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:h.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!font-medium",children:h.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:h.code})]})]})},{id:"category",label:"Category",render:(u,h)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:h.category?.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(kn,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!font-medium",children:h.category?.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:h.sub_category?.name})]})]})},{id:"volume",label:"Volume",render:u=>e.jsx(x,{variant:"body2",className:"!font-medium",children:u?.name})},{id:"brand",label:"Brand",render:u=>e.jsx(x,{variant:"body2",className:"!font-medium",children:u?.name})},{id:"quantity",label:"Quantity",render:u=>e.jsx(x,{variant:"body2",className:"!font-medium",children:Number(u).toLocaleString()})},{id:"base_price",label:"Base Price",render:u=>e.jsx(x,{variant:"body2",className:"!font-medium",children:o(Number(u))})}];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !items-center !gap-3",children:e.jsxs(y,{className:"!flex-1",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(x,{variant:"h5",className:"!font-bold !text-gray-900",children:r.batch_number}),e.jsx(De,{icon:r.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:r.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:r.is_active==="Y"?"success":"error"}),e.jsx(De,{icon:c.icon,label:c.label,size:"small",color:c.color,variant:"outlined",className:"!pl-1"})]}),e.jsx(x,{variant:"body2",className:"!text-gray-500 !mt-1",children:r.lot_number&&`Lot Number: ${r.lot_number}`})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Total Quantity"}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:r.quantity.toLocaleString()})]}),e.jsx(ht,{className:"!bg-blue-100",children:e.jsx(yA,{className:"text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Remaining"}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:r.remaining_quantity.toLocaleString()})]}),e.jsx(ht,{className:"!bg-green-100",children:e.jsx(eb,{className:"text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Products"}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:i.length})]}),e.jsx(ht,{className:"!bg-purple-100",children:e.jsx(Wt,{className:"text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Expiry Status"}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:c.label})]}),e.jsx(ht,{className:`!bg-${c.color==="error"?"red":c.color==="warning"?"orange":"green"}-100`,children:e.jsx(la,{className:`text-${c.color==="error"?"red":c.color==="warning"?"orange":"green"}-600`})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6 mb-6",children:[e.jsx(x,{variant:"h6",className:"!font-bold !mb-4 !text-gray-900",children:"Batch Lot Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(_s,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Manufacturing Date"})]}),e.jsx(x,{variant:"body1",className:"!font-medium",children:Oe(r.manufacturing_date?.toString())})]}),e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(_s,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Expiry Date"})]}),e.jsx(x,{variant:"body1",className:"!font-medium",children:Oe(r.expiry_date?.toString())})]}),r.supplier_name&&e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(Wr,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Supplier"})]}),e.jsx(x,{variant:"body1",className:"!font-medium",children:r.supplier_name})]}),r.purchase_price&&e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(Cn,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Purchase Price"})]}),e.jsx(x,{variant:"body1",className:"!font-medium",children:o(Number(r.purchase_price))})]}),r.storage_location&&e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(Qs,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Storage Location"})]}),e.jsx(x,{variant:"body1",className:"!font-medium",children:r.storage_location})]}),e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(Rn,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Created Date"})]}),e.jsx(x,{variant:"body1",className:"!font-medium",children:Oe(r.createdate?.toString())})]})]})]}),e.jsx(lt,{data:i,columns:m,getRowId:u=>u.id,initialOrderBy:"name",emptyMessage:"No products found for this batch lot",pagination:!1})]})},y_e=async t=>{try{return(await ie.get("/brands",{params:t})).data}catch(s){throw console.error("Error fetching brands:",s),new Error(s.response?.data?.message||"Failed to fetch brands")}},b_e=async t=>{try{return(await ie.post("/brands",t)).data.data}catch(s){throw console.error("Error creating brand:",s),new Error(s.response?.data?.message||"Failed to create brand")}},v_e=async(t,s)=>{try{return(await ie.put(`/brands/${t}`,s)).data.data}catch(a){throw console.error("Error updating brand:",a),new Error(a.response?.data?.message||"Failed to update brand")}},j_e=async t=>{try{await ie.delete(`/brands/${t}`)}catch(s){throw console.error("Error deleting brand:",s),new Error(s.response?.data?.message||"Failed to delete brand")}},vf={all:["brands"],lists:()=>[...vf.all,"list"],list:t=>[...vf.lists(),t],details:()=>[...vf.all,"detail"],detail:t=>[...vf.details(),t]},UF=(t,s)=>nt({queryKey:vf.list(t),queryFn:()=>y_e(t),staleTime:300*1e3,...s}),N_e=()=>Re({mutationFn:b_e,invalidateQueries:["brands"],loadingMessage:"Creating brand..."}),w_e=()=>Re({mutationFn:({id:t,data:s})=>v_e(t,s),invalidateQueries:["brands"],loadingMessage:"Updating brand..."}),__e=()=>Re({mutationFn:j_e,invalidateQueries:["brands"],loadingMessage:"Deleting brand..."}),S_e=it({file:hs().required("Please select a file to import")}),C_e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:S_e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("brands")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"brands",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Brands",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple brands. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},k_e=it({name:me().required("Brand name is required").min(2,"Brand name must be at least 2 characters").max(100,"Brand name must not exceed 100 characters").trim(),description:me().max(500,"Description must not exceed 500 characters").nullable().transform(t=>t===""?null:t),is_active:me().required("Status is required").oneOf(["Y","N"],"Status must be either Active or Inactive")}),P_e=({selectedBrand:t,setSelectedBrand:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=N_e(),l=w_e(),c=ft({initialValues:{name:t?.name||"",description:t?.description||"",is_active:t?.is_active||"Y"},validationSchema:k_e,enableReinitialize:!0,onSubmit:async m=>{try{const u={name:m.name,description:m.description,is_active:m.is_active};r&&t?await l.mutateAsync({id:t.id,data:u}):await o.mutateAsync(u),i()}catch(u){console.error("Error saving brand:",u)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Brand":"Create Brand",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"name",label:"Brand Name",placeholder:"Enter brand name",formik:c,required:!0})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:c,multiline:!0,rows:3})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(Ps,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:[o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"," "]})]})]})})})},E_e=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("brand"),{data:b,isFetching:w,error:C}=UF({search:t,page:u,limit:f,status:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total||0,D=(b?.meta?.page||1)-1,T=__e(),R=ms(),z=b?.stats?.total_brands??0,O=b?.stats?.active_brands??0,$=b?.stats?.inactive_brands??0,A=b?.stats?.new_brands_this_month??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(F=>{i(F),l(!0)},[]),U=g.useCallback(async F=>{try{await T.mutateAsync(F)}catch(M){console.error("Error deleting brand:",M)}},[T]),B=g.useCallback(F=>{s(F),h(1)},[]),V=F=>{h(F+1)},Y=g.useCallback(async()=>{try{const F={search:t,status:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"brands",filters:F})}catch(F){console.error("Error exporting brands:",F)}},[R,t,a]),H=[{id:"name",label:"Brand Name",render:(F,M)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:M.name,className:"!rounded !bg-primary-100 !text-primary-500",src:M.logo||void 0,children:e.jsx(kn,{className:"w-5 h-5"})}),e.jsxs(y,{className:"!max-w-xs",children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:M.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:["Code: ",M.code]})]})]})},{id:"description",label:"Description",render:(F,M)=>M.description?e.jsx(Va,{title:M.description,placement:"top",arrow:!0,children:e.jsx(x,{variant:"body2",className:"!text-gray-900 !max-w-xs !truncate",children:M.description})}):e.jsx("span",{className:"italic text-gray-400",children:"No Description"})},{id:"is_active",label:"Status",render:F=>e.jsx(De,{icon:F==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:F==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:F==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(F,M)=>Oe(M.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(F,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(M),tooltip:`Edit ${M.name}`}),S&&e.jsx(Vt,{onClick:()=>U(M.id),tooltip:`Delete ${M.name}`,itemName:M.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Brands Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage brands for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Brands",value:z,icon:e.jsx(kn,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Brands",value:O,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Brands",value:$,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:A,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load brands. Please try again."}),e.jsx(lt,{data:P,columns:H,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Brands...",value:t,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:F=>n(F.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Brands",description:"Are you sure you want to export the current brands data to Excel? This will include all filtered results.",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:F=>F.id,initialOrderBy:"name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:V,emptyMessage:t?`No brands found matching "${t}"`:"No brands found in the system"}),e.jsx(P_e,{selectedBrand:r,setSelectedBrand:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(C_e,{drawerOpen:c,setDrawerOpen:m})]})},T_e=async t=>(await ie.get("/company",{params:t})).data,M_e=async t=>(await ie.post("/company",t,{headers:t instanceof FormData?{"Content-Type":"multipart/form-data"}:void 0})).data,D_e=async(t,s)=>(await ie.put(`/company/${t}`,s,{headers:s instanceof FormData?{"Content-Type":"multipart/form-data"}:void 0})).data,R_e=async t=>(await ie.delete(`/company/${t}`)).data,jf={all:["companies"],lists:()=>[...jf.all,"list"],list:t=>[...jf.lists(),t],details:()=>[...jf.all,"detail"],detail:t=>[...jf.details(),t]},VF=(t,s)=>nt({queryKey:jf.list(t),queryFn:()=>T_e(t),staleTime:300*1e3,...s}),A_e=t=>Re({mutationFn:s=>M_e(s),loadingMessage:"Creating company...",invalidateQueries:["companies"],onSuccess:t?.onSuccess,onError:t?.onError}),I_e=t=>Re({mutationFn:({id:s,companyData:a})=>D_e(s,a),loadingMessage:"Updating company...",invalidateQueries:["companies"],onSuccess:t?.onSuccess,onError:t?.onError}),O_e=t=>Re({mutationFn:s=>R_e(s),loadingMessage:"Deleting company...",invalidateQueries:["companies"],onSuccess:t?.onSuccess,onError:t?.onError}),F_e=it({name:me().required("Company name is required").min(2,"Company name must be at least 2 characters").max(100,"Company name must not exceed 100 characters"),address:me().max(500,"Address must not exceed 500 characters"),city:me().max(100,"City must not exceed 100 characters"),state:me().max(100,"State must not exceed 100 characters"),country:me().max(100,"Country must not exceed 100 characters"),zipcode:me().matches(/^[0-9]{5,10}$/,"Invalid zip code format").max(10,"Zip code must not exceed 10 characters"),phone_number:me().matches(/^[0-9+\-\s()]+$/,"Invalid phone number format"),email:me().email("Invalid email format"),website:me().url("Invalid website URL"),is_active:me().required("Status is required")}),L_e=({selectedCompany:t,setSelectedCompany:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,[i,o]=g.useState(null),l=A_e({onSuccess:()=>{m()}}),c=I_e({onSuccess:()=>{m()}}),m=()=>{s(null),n(!1),o(null),u.resetForm()},u=ft({initialValues:{name:t?.name||"",address:t?.address||"",city:t?.city||"",state:t?.state||"",country:t?.country||"",zipcode:t?.zipcode||"",phone_number:t?.phone_number||"",email:t?.email||"",website:t?.website||"",is_active:t?.is_active||"Y"},validationSchema:F_e,enableReinitialize:!0,onSubmit:async v=>{try{const _=new FormData;_.append("name",v.name),_.append("address",v.address||""),_.append("city",v.city||""),_.append("state",v.state||""),_.append("country",v.country||""),_.append("zipcode",v.zipcode||""),_.append("phone_number",v.phone_number||""),_.append("email",v.email||""),_.append("website",v.website||""),_.append("is_active",v.is_active),i&&_.append("logo",i),r&&t?await c.mutateAsync({id:t.id,companyData:_}):await l.mutateAsync(_)}catch(_){console.error("Error saving company:",_)}}}),h=v=>{const _=v.target.files?.[0];_&&o(_)},f=()=>{o(null);const v=document.getElementById("logo-upload");v&&(v.value="")};return e.jsx(ot,{open:a,setOpen:m,title:r?"Edit Company":"Create Company",size:"large",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:u.handleSubmit,className:"!space-y-6",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center mb-4 cursor-pointer hover:border-blue-500 transition-colors",children:[e.jsx("input",{type:"file",id:"logo-upload",accept:"image/*",onChange:h,className:"hidden"}),e.jsx("label",{htmlFor:"logo-upload",className:"cursor-pointer",children:i?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:URL.createObjectURL(i),alt:"Logo preview",className:"h-24 w-24 object-cover rounded"})}),e.jsx("p",{className:"text-sm text-gray-600",children:i.name}),e.jsx("button",{type:"button",onClick:v=>{v.preventDefault(),v.stopPropagation(),f()},className:"text-red-600 text-sm hover:underline",children:"Remove"})]}):t?.logo?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:t.logo,alt:"Current logo",className:"h-24 w-24 object-cover rounded"})}),e.jsx("p",{className:"text-sm text-gray-600",children:"Current Logo"}),e.jsx("p",{className:"text-xs text-blue-600",children:"Click to change"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("svg",{className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload company logo"}),e.jsx("p",{className:"text-xs text-gray-400",children:"PNG, JPG, GIF up to 10MB"})]})})]}),e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Company Name",placeholder:"Enter company name",formik:u,required:!0,className:"md:!col-span-2"}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"address",label:"Address",placeholder:"Enter company address",formik:u,multiline:!0,rows:3})}),e.jsx(oe,{name:"city",label:"City",placeholder:"Enter city",formik:u}),e.jsx(oe,{name:"state",label:"State",placeholder:"Enter state",formik:u}),e.jsx(oe,{name:"country",label:"Country",placeholder:"Enter country",formik:u}),e.jsx(oe,{name:"zipcode",label:"Zip Code",placeholder:"Enter zip code",formik:u}),e.jsx(oe,{name:"phone_number",label:"Phone Number",placeholder:"Enter phone number",formik:u,type:"tel"}),e.jsx(oe,{name:"email",label:"Email",placeholder:"Enter email address",formik:u,type:"email"}),e.jsx(oe,{name:"website",label:"Website",placeholder:"Enter website URL",formik:u,type:"url"}),e.jsxs(_e,{name:"is_active",label:"Status",formik:u,required:!0,children:[e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,className:"!capitalize",children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",className:"!capitalize",disableElevation:!0,disabled:u.isSubmitting||l.isPending||c.isPending,children:u.isSubmitting||l.isPending||c.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},z_e=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(1),[u]=g.useState(10),{isCreate:h,isUpdate:f,isDelete:v,isRead:_}=Ze("company"),{data:S,isFetching:j}=VF({page:c,limit:u,search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:_}),b=O_e(),C=(S?.data||[]).filter(O=>{const $=t===""||O.name.toLowerCase().includes(t.toLowerCase())||O.code.toLowerCase().includes(t.toLowerCase())||O.email?.toLowerCase().includes(t.toLowerCase())||O.city?.toLowerCase().includes(t.toLowerCase()),A=a==="all"||a==="active"&&O.is_active==="Y"||a==="inactive"&&O.is_active==="N";return $&&A}),P=g.useCallback(()=>{i(null),l(!0)},[]),E=g.useCallback(O=>{i(O),l(!0)},[]),D=g.useCallback(O=>{b.mutate(O)},[b]),T=g.useCallback(O=>{s(O),m(1)},[]),R=O=>m(O+1),z=[{id:"name",label:"Company & Logo",render:(O,$)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:$.name,src:$.logo,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Sr,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:$.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:$.code})]})]})},{id:"email",label:"Contact",render:(O,$)=>e.jsxs(y,{className:"space-y-1",children:[$.email?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Sx,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:$.email})]}):e.jsx("span",{className:"italic text-gray-400",children:"No Email"}),$.phone_number&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($v,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:$.phone_number})]})]})},{id:"location",label:"Location",render:(O,$)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Qs,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:[$.city,$.state,$.country].filter(Boolean).join(", ")||"No Location"})]})},{id:"website",label:"Website",render:(O,$)=>$.website?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(P8,{className:"w-3 h-3 text-gray-400"}),e.jsx("a",{href:$.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-xs",children:"Visit Site"})]}):e.jsx("span",{className:"italic text-gray-400",children:"No Website"})},{id:"is_active",label:"Status",render:O=>e.jsx(De,{icon:O==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:O==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:O==="Y"?"success":"error"})},{id:"created_at",label:"Created Date",render:(O,$)=>Oe($.created_at)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...f||v?[{id:"action",label:"Actions",sortable:!1,render:(O,$)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[f&&e.jsx(is,{onClick:()=>E($),tooltip:`Edit ${$.name}`}),v&&e.jsx(Vt,{onClick:()=>D($.id),tooltip:`Delete ${$.name}`,itemName:$.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Companies Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage your company database and organizational structure"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Companies",value:S?.stats?.total_companies||0,icon:e.jsx(Sr,{className:"w-6 h-6"}),color:"blue",isLoading:j}),e.jsx(fe,{title:"Active Companies",value:S?.stats?.active_companies||0,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:j}),e.jsx(fe,{title:"Inactive Companies",value:S?.stats?.inactive_companies||0,icon:e.jsx(Na,{className:"w-6 h-6"}),color:"red",isLoading:j}),e.jsx(fe,{title:"New This Month",value:S?.stats?.new_companies||0,icon:e.jsx(P8,{className:"w-6 h-6"}),color:"purple",isLoading:j})]}),e.jsx(lt,{data:C,columns:z,actions:_||h?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex items-center flex-wrap gap-2",children:_&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Companies",value:t,onChange:T,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(_e,{value:a,onChange:O=>n(O.target.value),className:"!min-w-32",size:"small",children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),h&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:P,children:"Create"})]}):!1,getRowId:O=>O.id,initialOrderBy:"name",loading:j,totalCount:S?.meta?.total||0,page:c-1,rowsPerPage:u,isPermission:_,onPageChange:R,emptyMessage:t?`No companies found matching "${t}"`:"No companies found in the system"}),e.jsx(L_e,{selectedCompany:r,setSelectedCompany:i,drawerOpen:o,setDrawerOpen:l})]})},$_e=async t=>{try{return(await ie.get("/competitor-activity",{params:t})).data}catch(s){throw console.error("Error fetching competitor activities:",s),new Error(s.response?.data?.message||"Failed to fetch competitor activities")}},q_e=async t=>{try{const s=t instanceof FormData?{headers:{"Content-Type":"multipart/form-data"}}:{headers:{"Content-Type":"application/json"}};return(await ie.post("/competitor-activity",t,s)).data.data}catch(s){throw console.error("Error creating competitor activity:",s),new Error(s.response?.data?.message||"Failed to create competitor activity")}},B_e=async(t,s)=>{try{const a=s instanceof FormData?{headers:{"Content-Type":"multipart/form-data"}}:{headers:{"Content-Type":"application/json"}};return(await ie.put(`/competitor-activity/${t}`,s,a)).data.data}catch(a){throw console.error("Error updating competitor activity:",a),new Error(a.response?.data?.message||"Failed to update competitor activity")}},U_e=async t=>{try{await ie.delete(`/competitor-activity/${t}`)}catch(s){throw console.error("Error deleting competitor activity:",s),new Error(s.response?.data?.message||"Failed to delete competitor activity")}},Nf={all:["competitor-activity"],lists:()=>[...Nf.all,"list"],list:t=>[...Nf.lists(),t],details:()=>[...Nf.all,"detail"],detail:t=>[...Nf.details(),t]},V_e=(t,s)=>nt({queryKey:Nf.list(t),queryFn:()=>$_e(t),staleTime:300*1e3,...s}),H_e=t=>Re({mutationFn:q_e,invalidateQueries:["competitor-activity"],loadingMessage:"Creating competitor activity...",...t}),W_e=t=>Re({mutationFn:({id:s,data:a})=>B_e(s,a),invalidateQueries:["competitor-activity"],loadingMessage:"Updating competitor activity...",...t}),Y_e=()=>Re({mutationFn:U_e,invalidateQueries:["competitor-activity"],loadingMessage:"Deleting competitor activity..."}),G_e=it({file:hs().required("Please select a file to import")}),K_e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:G_e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("competitor_activity")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"competitor_activity",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Competitor Activities",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple competitor activities. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},Q_e=async t=>{try{return(await ie.get("/reports/visits",{params:t})).data}catch(s){throw s}},Z_e=async t=>{try{return(await ie.get(`/reports/visits/${t}`)).data}catch(s){throw s}},X_e=async t=>(await ie.post("/visits",t)).data,J_e=async(t,s)=>(await ie.put(`/reports/visits/${t}`,s)).data,e4e=async t=>(await ie.delete(`/reports/visits/${t}`)).data,Ho={all:["visits"],lists:()=>[...Ho.all,"list"],list:t=>[...Ho.lists(),t],details:()=>[...Ho.all,"detail"],detail:t=>[...Ho.details(),t]},XS=(t,s)=>nt({queryKey:Ho.list(t||{}),queryFn:()=>Q_e(t),staleTime:300*1e3,enabled:s?.enabled??!0}),t4e=t=>nt({queryKey:Ho.detail(t),queryFn:()=>Z_e(t),enabled:!!t,staleTime:300*1e3}),s4e=t=>{const s=cs();return Re({mutationFn:X_e,loadingMessage:"Creating visit...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Ho.lists()})},onError:t?.onError})},a4e=t=>{const s=cs();return Re({mutationFn:({id:a,...n})=>J_e(a,n),loadingMessage:"Updating visit...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Ho.lists()}),s.invalidateQueries({queryKey:Ho.detail(n.id)})},onError:t?.onError})},n4e=t=>{const s=cs();return Re({mutationFn:e4e,loadingMessage:"Deleting visit...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Ho.lists()})},onError:t?.onError})},r4e=it({customer_id:Qe().required("Customer is required"),visit_id:Qe().positive("Visit ID must be a positive number").nullable(),brand_name:me().required("Brand name is required").max(255,"Brand name must be less than 255 characters"),product_name:me().max(255,"Product name must be less than 255 characters").nullable(),observed_price:Qe().min(0,"Observed price must be a positive number").nullable(),promotion_details:me().max(1e3,"Promotion details must be less than 1000 characters").nullable(),visibility_score:Qe().min(0,"Visibility score must be at least 0").max(100,"Visibility score must be at most 100").nullable(),remarks:me().max(1e3,"Remarks must be less than 1000 characters").nullable(),is_active:me().oneOf(["Y","N"],"Active status must be Y or N").required("Active status is required")}),i4e=async t=>{try{return(await ie.get("/customers",{params:t})).data}catch(s){throw s}},o4e=async t=>{try{return(await ie.get(`/customers/${t}`)).data}catch(s){throw s}},l4e=async t=>(await ie.post("/customers",t)).data,c4e=async(t,s)=>(await ie.put(`/customers/${t}`,s)).data,d4e=async t=>(await ie.delete(`/customers/${t}`)).data,u4e=async t=>{try{return(await ie.get("/customers-dropdown",{params:t})).data}catch(s){throw s}},m4e=async t=>{try{return(await ie.get(`/customers/${t}/relations`)).data}catch(s){throw s}},yo={all:["customers"],lists:()=>[...yo.all,"list"],list:t=>[...yo.lists(),t],details:()=>[...yo.all,"detail"],detail:t=>[...yo.details(),t]},Fp=(t,s)=>nt({queryKey:yo.list(t||{}),queryFn:()=>i4e(t),staleTime:300*1e3,...s}),p4e=t=>nt({queryKey:yo.detail(t),queryFn:()=>o4e(t),enabled:!!t,staleTime:300*1e3}),h4e=t=>nt({queryKey:[...yo.detail(t),"relations"],queryFn:()=>m4e(t),enabled:!!t,staleTime:300*1e3}),f4e=(t,s)=>nt({queryKey:["customers","dropdown",t],queryFn:()=>u4e(t),staleTime:300*1e3,...s}),x4e=t=>{const s=cs();return Re({mutationFn:l4e,loadingMessage:"Creating customer...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:yo.lists()})},onError:t?.onError})},g4e=t=>{const s=cs();return Re({mutationFn:({id:a,...n})=>c4e(a,n),loadingMessage:"Updating customer...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:yo.lists()}),s.invalidateQueries({queryKey:yo.detail(n.id)})},onError:t?.onError})},y4e=t=>{const s=cs();return Re({mutationFn:d4e,loadingMessage:"Deleting customer...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:yo.lists()})},onError:t?.onError})},io=({name:t,label:s,required:a=!1,fullWidth:n=!0,formik:r,setValue:i,value:o,nameToSearch:l="",onChange:c})=>{const[m,u]=g.useState(""),[h,f]=g.useState(""),[v,_]=g.useState(""),[S,j]=g.useState(!1),[b,w]=g.useState(null),[C,P]=g.useState(!1),E=g.useRef(!1),D=r?r.values[t]:o,T=D?typeof D=="number"?D.toString():String(D).trim():"";g.useEffect(()=>{const H=setTimeout(()=>{S||(_(h),h&&P(!0))},300);return()=>clearTimeout(H)},[h,S]);const R=Nt.useMemo(()=>C||m?v:T&&l&&!C?l:v,[v,l,C,T,m]),z=T?Number(T):void 0,{data:O,isLoading:$}=f4e({search:R,customer_id:z&&!R?z:void 0}),A=(O?.data||[]).map(H=>({id:H.id,name:H.name,code:H.code}));g.useEffect(()=>{if(!E.current&&T&&!b&&!$&&A.length>0){const H=A.find(F=>F.id.toString()===T);H&&(E.current=!0,w(H),m||u(H.name),P(!0),setTimeout(()=>{E.current=!1},100))}},[T,$,A.length]);const Q=Nt.useMemo(()=>{if(!T)return null;const H=A.find(F=>F.id.toString()===T);return H||(b&&b.id.toString()===T?b:null)},[T,A,b]);g.useEffect(()=>{!T&&(b||m)&&(u(""),w(null),P(!1))},[T]);const K=Nt.useMemo(()=>{const H=[];Q&&(A.some(L=>L.id===Q.id)||H.push(Q));const F=new Set;return Q&&F.add(Q.id),A.forEach(M=>{F.has(M.id)||(H.push(M),F.add(M.id))}),H},[A,Q]),U=r?.touched?.[t]&&r?.errors?.[t],B=typeof U=="string"?U:void 0,V=g.useCallback((H,F)=>{j(!0),w(F);const M=F?F.id.toString():"";r?r.setFieldValue(t,M):i&&i(M),c&&c(H,F),F?u(F.name):(u(""),_("")),setTimeout(()=>j(!1),100)},[r,t,i,c]),Y=g.useCallback((H,F,M)=>{if(M==="input"){S?u(F):(u(F),f(F));return}M==="clear"&&(u(""),f(""),_(""))},[S]);return e.jsx(Yn,{options:K,getOptionLabel:H=>H.name,value:Q,loading:$,onChange:V,inputValue:m,onInputChange:Y,isOptionEqualToValue:(H,F)=>H.id===F.id,size:"small",fullWidth:n,filterOptions:H=>H,renderOption:(H,F)=>g.createElement(y,{component:"li",...H,key:F.id,className:"!flex !items-center !gap-2 cursor-pointer py-1 px-2 hover:!bg-gray-50"},e.jsx(ht,{src:F.name||"mkx",alt:F.name,className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(y,{children:[e.jsx("p",{className:"!text-gray-900 !text-sm",children:F.name||""}),F.code&&e.jsx("p",{className:"!text-gray-500 !text-xs",children:F.code})]})),renderInput:H=>e.jsx(wn,{...H,label:`${s+(a?" *":"")}`,required:!1,error:!!U,require:!0,helperText:B,onBlur:r?.handleBlur,name:t,size:"small"}),noOptionsText:v&&!$?"No customers found":"Type to search customers",loadingText:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(wo,{thickness:6,size:16,color:"inherit"})," Loading customers..."]})})},b4e=({selectedActivity:t,setSelectedActivity:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,{data:i}=XS({page:1,limit:1e3,status:"completed"}),o=i?.data||[],l=H_e(),c=W_e(),m=()=>{s(null),n(!1),u.resetForm()},u=ft({initialValues:{customer_id:t?.customer_id?.toString()||"",visit_id:t?.visit_id?.toString()||"",brand_name:t?.brand_name||"",product_name:t?.product_name||"",observed_price:t?.observed_price?.toString()||"",promotion_details:t?.promotion_details||"",visibility_score:t?.visibility_score?.toString()||"",image_url:t?.image_url||"",remarks:t?.remarks||"",is_active:t?.is_active||"Y"},validationSchema:r4e,enableReinitialize:!0,onSubmit:async h=>{try{const f=new FormData;if(f.append("customer_id",h.customer_id.toString()),h.visit_id&&h.visit_id!==""&&f.append("visit_id",h.visit_id),f.append("brand_name",h.brand_name),f.append("product_name",h.product_name),h.observed_price&&h.observed_price!==""&&Number(h.observed_price)>0&&f.append("observed_price",h.observed_price.toString()),f.append("promotion_details",h.promotion_details),h.visibility_score&&h.visibility_score!==""){const v=Number(h.visibility_score);v>=0&&v<=100&&f.append("visibility_score",h.visibility_score.toString())}if(f.append("remarks",h.remarks),f.append("is_active",h.is_active),h.image_url&&h.image_url.startsWith("data:image/")){const v=h.image_url.split(",")[1],_=atob(v),S=new Array(_.length);for(let C=0;C<_.length;C++)S[C]=_.charCodeAt(C);const j=new Uint8Array(S),b=new Blob([j],{type:"image/jpeg"}),w=new File([b],"competition-image.jpg",{type:"image/jpeg"});f.append("image",w)}r&&t?await c.mutateAsync({id:t.id,data:f}):await l.mutateAsync(f),m()}catch(f){console.error("Error submitting competitor activity:",f)}}});return e.jsx(ot,{open:a,setOpen:m,title:r?"Edit Competitor Activity":"Create Competitor Activity",size:"large",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:u.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(io,{name:"customer_id",label:"Customer",formik:u,required:!0}),e.jsx(_e,{name:"visit_id",label:"Visit (Optional)",formik:u,children:o.map(h=>e.jsx(Z,{value:h.id?.toString()||"",children:`Visit #${h.id} - ${h.purpose||"General"}`},h.id))}),e.jsxs(y,{className:"md:!col-span-2",children:[e.jsx(x,{component:"label",className:"!text-gray-700 !text-sm !font-medium !mb-2 !block",children:"Competition Image"}),e.jsxs(y,{className:"!border-2 flex items-center justify-center !border-dashed !border-gray-300 !rounded !p-3 !text-center !cursor-pointer hover:!border-blue-400 !transition-colors",component:"label",sx:{"&:hover":{backgroundColor:"rgba(59, 130, 246, 0.05)"}},children:[e.jsx("input",{type:"file",name:"image_url",accept:"image/*",hidden:!0,onChange:h=>{const f=h.target.files?.[0];if(f){const v=new FileReader;v.onloadend=()=>{u.setFieldValue("image_url",v.result)},v.readAsDataURL(f)}else u.setFieldValue("image_url","");u.handleChange(h)}}),u.values.image_url?e.jsxs(y,{className:"!relative",children:[e.jsx("img",{src:u.values.image_url,alt:"Competition image",className:"!max-h-20 !max-w-xs !rounded !mx-auto !border !border-gray-200"}),e.jsx(na,{size:"small",className:"!absolute !h-6 !w-6 !top-1 !right-1  !text-red-600",onClick:h=>{h.preventDefault(),u.setFieldValue("image_url","")},sx:{position:"absolute"},children:e.jsx(Gn,{})})]}):e.jsxs(y,{className:"!py-4",children:[e.jsx(y,{className:"!text-2xl !text-gray-400 !mb-1",children:""}),e.jsx(x,{className:"!text-gray-600 !text-xs !mb-1",children:"Click to upload image"}),e.jsx(x,{className:"!text-gray-400 !text-xs",children:"PNG, JPG, GIF up to 10MB"})]})]}),u.touched.image_url&&u.errors.image_url&&e.jsx(x,{className:"!text-red-500 !text-xs !mt-1",children:u.errors.image_url})]}),e.jsx(oe,{name:"brand_name",label:"Brand Name",placeholder:"Enter competitor brand name",formik:u,required:!0}),e.jsx(oe,{name:"product_name",label:"Product Name",placeholder:"Enter product name (optional)",formik:u}),e.jsx(oe,{name:"observed_price",label:"Observed Price",type:"number",placeholder:"Enter observed price",formik:u}),e.jsx(oe,{name:"visibility_score",label:"Visibility Score",type:"number",placeholder:"Enter visibility score (0-100)",formik:u}),e.jsx(Ps,{name:"is_active",label:"Status",formik:u})]}),e.jsx(oe,{name:"promotion_details",label:"Promotion Details",placeholder:"Enter promotion details",formik:u,multiline:!0,rows:3}),e.jsx(oe,{name:"remarks",label:"Remarks",placeholder:"Enter additional remarks",formik:u,multiline:!0,rows:3}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,className:"!mr-3",disabled:l.isPending||c.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:l.isPending||c.isPending,children:[l.isPending||c.isPending?r?"Updating...":"Creating...":r?"Update":"Create"," "]})]})]})})})},v4e=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{formatCurrency:v}=Qa(),{isCreate:_,isUpdate:S,isDelete:j,isRead:b}=Ze("competitor"),{data:w,isLoading:C,error:P}=V_e({search:t,page:u,limit:f,status:a==="all"?void 0:a},{enabled:b}),E=w?.data||[],D=w?.meta?.total||0,T=(w?.meta?.page||1)-1,R=Y_e(),z=ms(),O=w?.stats?.total_records??0,$=w?.stats?.active_records??0,A=w?.stats?.inactive_records??0,Q=w?.stats?.records_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),U=g.useCallback(L=>{i(L),l(!0)},[]),B=g.useCallback(async L=>{try{await R.mutateAsync(L)}catch(W){console.error("Error deleting competitor activity:",W)}},[R]),V=g.useCallback(L=>{s(L),h(1)},[]),Y=L=>{h(L+1)},H=g.useCallback(async()=>{try{const L={search:t,status:a==="all"?void 0:a};await z.mutateAsync({tableName:"competitor_activity",filters:L})}catch(L){console.error("Error exporting competitor activities:",L)}},[z,t,a]),F=L=>L==null?"default":L>=80?"success":L>=60?"primary":L>=40?"warning":"error",M=[{id:"customer_info",label:"Customer Info",render:(L,W)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:W.competitor_activity_customers?.name||"Customer",className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Sr,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:W.competitor_activity_customers?.name||"Unknown Customer"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:W.competitor_activity_customers?.code||`Customer #${W.customer_id}`})]})]})},{id:"brand_product",label:"Brand & Product",render:(L,W)=>e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:W.brand_name}),W.product_name&&e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:W.product_name})]})},{id:"price",label:"Price",render:(L,W)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Cn,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs font-medium",children:W.observed_price?`${v(Number(W.observed_price))}`:"N/A"})]})},{id:"visibility_score",label:"Visibility",render:(L,W)=>e.jsx(y,{className:"flex items-center gap-1",children:e.jsx(De,{variant:"outlined",label:W.visibility_score?`${W.visibility_score}%`:"N/A",color:F(W.visibility_score??null),size:"small"})})},{id:"promotion",label:"Promotion",render:(L,W)=>e.jsx(Va,{title:W.promotion_details||"No promotion details",placement:"top",arrow:!0,children:e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(il,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs truncate max-w-24",children:W.promotion_details||"None"})]})})},{id:"visit_info",label:"Visit Info",render:(L,W)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(_s,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:W.visits?Oe(W.visits.visit_date):"No visit"})]})},{id:"image",label:"Image",render:(L,W)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(woe,{className:"w-3 h-3 text-gray-400"}),W.image_url?e.jsx("button",{onClick:()=>window.open(W.image_url,"_blank"),className:"text-xs text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",title:"Click to view image",children:"Available"}):e.jsx("span",{className:"text-xs italic text-gray-500",children:"No Image"})]})},{id:"is_active",label:"Active Status",render:(L,W)=>e.jsx(De,{icon:W.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:W.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:W.is_active==="Y"?"success":"error"})},...S||j||b?[{id:"action",label:"Actions",sortable:!1,render:(L,W)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[S&&e.jsx(is,{onClick:()=>U(W),tooltip:`Edit Activity #${W.id}`}),j&&e.jsx(Vt,{onClick:()=>B(W.id),tooltip:`Delete Activity #${W.id}`,itemName:`Activity #${W.id}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Competitor Activities"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track competitor activities, pricing, and market intelligence"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Activities",value:O,icon:e.jsx(il,{className:"w-6 h-6"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Active Activities",value:$,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Inactive Activities",value:A,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:C}),e.jsx(fe,{title:"This Month",value:Q,icon:e.jsx(_s,{className:"w-6 h-6"}),color:"purple",isLoading:C})]}),P&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load competitor activities. Please try again."}),e.jsx(lt,{data:E,columns:M,actions:e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(as,{placeholder:"Search Activities...",value:t,onChange:V,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:L=>n(L.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{title:"Export Competitor Activities",description:"Are you sure you want to export the current competitor activity data to Excel? This will include all filtered results.",onConfirm:H,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:z.isPending,children:z.isPending?"Exporting...":"Export"})}),_&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),_&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:K,children:"Create"})]})]}),getRowId:L=>L.id,initialOrderBy:"createdate",loading:C,totalCount:D,page:T,rowsPerPage:f,onPageChange:Y,isPermission:b,emptyMessage:t?`No competitor activities found matching "${t}"`:"No competitor activities found in the system"}),e.jsx(b4e,{selectedActivity:r,setSelectedActivity:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(K_e,{drawerOpen:c,setDrawerOpen:m})]})},j4e=async t=>{try{return(await ie.get("/customer-category",{params:t})).data}catch(s){throw console.error("Error fetching customer categories:",s),new Error(s.response?.data?.message||"Failed to fetch customer categories")}},N4e=async t=>{try{return(await ie.get(`/customer-category/${t}`)).data.data}catch(s){throw console.error("Error fetching customer category:",s),new Error(s.response?.data?.message||"Failed to fetch customer category")}},w4e=async t=>{try{const s=await ie.post("/customer-category/bulk",t);if(s.data?.results?.created?.[0])return s.data.results.created[0];if(s.data?.results?.updated?.[0])return s.data.results.updated[0];if(s.data?.data)return s.data.data;if(s.data)return s.data;throw new Error("Invalid response structure from API")}catch(s){throw console.error("Error creating customer category:",s),new Error(s.response?.data?.message)}},_4e=async(t,s)=>{try{const a=await ie.post("/customer-category/bulk",{id:t,...s});if(a.data?.results?.updated?.[0])return a.data.results.updated[0];if(a.data?.results?.created?.[0])return a.data.results.created[0];if(a.data?.data)return a.data.data;if(a.data)return a.data;throw new Error("Invalid response structure from API")}catch(a){throw console.error("Error updating customer category:",a),new Error(a.response?.data?.message||"Failed to update customer category")}},S4e=async t=>{try{await ie.delete(`/customer-category/${t}`)}catch(s){throw console.error("Error deleting customer category:",s),new Error(s.response?.data?.message||"Failed to delete customer category")}},Fm={all:["customer-category"],lists:()=>[...Fm.all,"list"],list:t=>[...Fm.lists(),t],details:()=>[...Fm.all,"detail"],detail:t=>[...Fm.details(),t]},HF=(t,s)=>nt({queryKey:Fm.list(t),queryFn:()=>j4e(t),staleTime:300*1e3,...s}),C4e=(t,s)=>nt({queryKey:Fm.detail(t),queryFn:()=>N4e(t),enabled:!!t,staleTime:300*1e3,...s}),k4e=()=>Re({mutationFn:w4e,invalidateQueries:["customer-category"],loadingMessage:"Creating customer category..."}),P4e=()=>Re({mutationFn:({id:t,data:s})=>_4e(t,s),invalidateQueries:["customer-category"],loadingMessage:"Updating customer category..."}),E4e=()=>Re({mutationFn:S4e,invalidateQueries:["customer-category"],loadingMessage:"Deleting customer category..."}),T4e=async t=>{try{return(await ie.get("/product-categories",{params:t})).data}catch(s){throw console.error("Error fetching product categories:",s),new Error(s.response?.data?.message||"Failed to fetch product categories")}},M4e=async t=>{try{return(await ie.post("/product-categories",t)).data.data}catch(s){throw console.error("Error creating product category:",s),new Error(s.response?.data?.message||"Failed to create product category")}},D4e=async(t,s)=>{try{return(await ie.put(`/product-categories/${t}`,s)).data.data}catch(a){throw console.error("Error updating product category:",a),new Error(a.response?.data?.message||"Failed to update product category")}},R4e=async t=>{try{await ie.delete(`/product-categories/${t}`)}catch(s){throw console.error("Error deleting product category:",s),new Error(s.response?.data?.message||"Failed to delete product category")}},A4e=async t=>{try{return(await ie.get("/product-categories-dropdown",{params:t})).data}catch(s){throw console.error("Error fetching product categories dropdown:",s),new Error(s.response?.data?.message||"Failed to fetch product categories dropdown")}},wf={all:["product-categories"],lists:()=>[...wf.all,"list"],list:t=>[...wf.lists(),t],details:()=>[...wf.all,"detail"],detail:t=>[...wf.details(),t]},Lp=(t,s)=>nt({queryKey:wf.list(t),queryFn:()=>T4e(t),staleTime:300*1e3,...s}),I4e=()=>Re({mutationFn:M4e,invalidateQueries:["product-categories"],loadingMessage:"Creating product category..."}),O4e=()=>Re({mutationFn:({id:t,data:s})=>D4e(t,s),invalidateQueries:["product-categories"],loadingMessage:"Updating product category..."}),F4e=()=>Re({mutationFn:R4e,invalidateQueries:["product-categories"],loadingMessage:"Deleting product category..."}),L4e=(t,s)=>nt({queryKey:["product-categories","dropdown",t],queryFn:()=>A4e(t),staleTime:300*1e3,...s}),Nu=({name:t="category_id",label:s="Product Category",required:a=!1,fullWidth:n=!0,size:r="small",formik:i,setValue:o,value:l,nameToSearch:c="",onChange:m,className:u,disabled:h=!1})=>{const[f,v]=g.useState(""),[_,S]=g.useState(""),[j,b]=g.useState(!1),[w,C]=g.useState(null),[P,E]=g.useState(!1),D=i?i.values[t]:l,T=D?typeof D=="number"?D.toString():String(D).trim():"";g.useEffect(()=>{const H=setTimeout(()=>{j||(S(f),f&&E(!0))},300);return()=>clearTimeout(H)},[f,j]);const R=Nt.useMemo(()=>P||f?_:T&&c&&!P?c:_,[_,c,P,T,f]),z=T?Number(T):void 0,{data:O,isLoading:$}=L4e({search:R,category_id:z&&!R?z:void 0}),A=(O?.data||[]).map(H=>({id:H.id,category_name:H.category_name}));g.useEffect(()=>{if(T&&!w&&!$&&A.length>0){const H=A.find(F=>F.id.toString()===T);H&&(C(H),f||v(H.category_name),E(!0))}},[T,w,f,A,$]);const Q=Nt.useMemo(()=>{if(!T)return null;const H=A.find(F=>F.id.toString()===T);return H||(w&&w.id.toString()===T?w:null)},[T,A,w]);g.useEffect(()=>{Q&&Q!==w?(C(Q),!f&&Q.category_name&&v(Q.category_name)):!T&&w?(C(null),v("")):w&&!f&&T&&v(w.category_name)},[Q,T,w,f]),g.useEffect(()=>{T?w&&w.id.toString()!==T&&(C(null),v(""),E(!1)):(w||f)&&(v(""),C(null),E(!1))},[T]);const K=Nt.useMemo(()=>{const H=[];Q&&(A.some(L=>L.id===Q.id)||H.push(Q));const F=new Set;return Q&&F.add(Q.id),A.forEach(M=>{F.has(M.id)||(H.push(M),F.add(M.id))}),H},[A,Q,T]),U=i?.touched?.[t]&&i?.errors?.[t],B=typeof U=="string"?U:void 0,V=g.useCallback((H,F)=>{b(!0),C(F);const M=F?F.id.toString():"";i?i.setFieldValue(t,M):o&&o(M),m&&m(H,F),F||(v(""),S("")),setTimeout(()=>b(!1),100)},[i,t,o,m]),Y=g.useCallback((H,F,M)=>{if(M==="reset"||M==="clear"){b(!0),v(""),S(""),setTimeout(()=>b(!1),100);return}v(F)},[]);return e.jsx(Yn,{options:K,getOptionLabel:H=>H.category_name,value:Q,loading:$,onChange:V,inputValue:f,onInputChange:Y,isOptionEqualToValue:(H,F)=>H.id===F.id,size:r,fullWidth:n,className:u,disabled:h,filterOptions:H=>H,renderOption:(H,F)=>g.createElement(y,{component:"li",...H,key:F.id,className:"!flex !items-center !gap-2 cursor-pointer py-1 px-2 hover:!bg-gray-50"},e.jsx(ht,{src:F.category_name||"mkx",alt:F.category_name,className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsx(y,{children:e.jsx("p",{className:"!text-gray-900 !text-sm",children:F.category_name||""})})),renderInput:H=>e.jsx(wn,{...H,label:s,required:a,error:!!U,helperText:B,onBlur:i?.handleBlur,name:t,size:r,className:u,disabled:h}),noOptionsText:_&&!$?"No categories found":"Type to search categories",loadingText:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(wo,{thickness:6,size:16,color:"inherit"})," Loading categories..."]})})},z4e=it({category_name:me().required("Category name is required").min(2,"Category name must be at least 2 characters").max(255,"Category name must be less than 255 characters"),category_code:me().required("Category code is required").min(2,"Category code must be at least 2 characters").max(50,"Category code must be less than 50 characters"),level:me().required("Category level is required").min(1,"Category level must be at least 1 character").max(10,"Category level must be less than 10 characters"),is_active:me().oneOf(["Y","N"]).required("Status is required")}),$4e=["Monthly Sales Amount ()","Quarterly Sales Amount ()","Monthly Sales Quantity (Crates)","Monthly Sales Quantity (Cases)","Monthly Sales Quantity (Units)","Quarterly Sales Quantity (Crates)","Order Frequency per Month","Order Frequency per Quarter","Payment Terms (Days)","Credit Limit ()","Purchase History (Months Active)","Average Order Value ()","Last Order Days Ago"],q4e=[{value:">=",label:"Greater than or equal (>=)"},{value:"<=",label:"Less than or equal (<=)"},{value:">",label:"Greater than (>)"},{value:"<",label:"Less than (<)"},{value:"=",label:"Equal (=)"},{value:"!=",label:"Not equal (!=)"}],B4e=t=>{switch(t){case"Monthly Sales Amount ()":case"Quarterly Sales Amount ()":case"Average Order Value ()":case"Credit Limit ()":return"e.g., 50000";case"Monthly Sales Quantity (Crates)":case"Monthly Sales Quantity (Cases)":case"Monthly Sales Quantity (Units)":case"Quarterly Sales Quantity (Crates)":return"e.g., 1";case"Order Frequency per Month":case"Order Frequency per Quarter":case"Purchase History (Months Active)":return"e.g., 4";case"Payment Terms (Days)":case"Last Order Days Ago":return"e.g., 30";default:return"Enter threshold value"}},U4e=t=>{switch(t){case"Monthly Sales Amount ()":return"Enter amount in rupees (e.g., 50000 for 50,000)";case"Quarterly Sales Amount ()":return"Enter amount in rupees for 3 months (e.g., 150000 for 1.5L)";case"Monthly Sales Quantity (Crates)":return"Enter number of crates per month (e.g., 1 for 1 crate/month)";case"Monthly Sales Quantity (Cases)":return"Enter number of cases per month (e.g., 24 for 24 cases/month)";case"Monthly Sales Quantity (Units)":return"Enter number of individual units per month";case"Quarterly Sales Quantity (Crates)":return"Enter number of crates for 3 months";case"Order Frequency per Month":return"Enter number of orders per month (e.g., 4 for weekly orders)";case"Order Frequency per Quarter":return"Enter number of orders for 3 months";case"Payment Terms (Days)":return"Enter credit period in days (e.g., 30 for 30-day credit)";case"Credit Limit ()":return"Enter credit limit in rupees";case"Purchase History (Months Active)":return"Enter months since first purchase";case"Average Order Value ()":return"Enter average order value in rupees";case"Last Order Days Ago":return"Enter days since last order (e.g., 7 for last week)";default:return""}},V4e=({selectedCustomerCategory:t,setSelectedCustomerCategory:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,[i,o]=g.useState([]),[l,c]=g.useState(null),[m,u]=g.useState({_index:0,condition_type:"",condition_operator:">=",threshold_value:"",product_category_id:"",condition_description:"",is_active:"Y"}),{data:h}=Lp({limit:1e3}),f=h?.data||[],{data:v,isLoading:_}=C4e(t?.id||0,{enabled:r&&!!t?.id});g.useEffect(()=>{if(v&&r){const R=v.conditions?.map((z,O)=>({_index:O,id:z.id,condition_type:z.condition_type||"",condition_operator:z.condition_operator||">=",threshold_value:z.threshold_value?.toString()||"",product_category_id:z.product_category_id?.toString()||"",condition_description:z.condition_description||"",is_active:z.is_active||"Y"}))||[];o(R)}else o([]);c(null),u({_index:0,condition_type:"",condition_operator:">=",threshold_value:"",product_category_id:"",condition_description:"",is_active:"Y"})},[v,r]);const S=()=>{s(null),n(!1),o([]),c(null),u({_index:0,condition_type:"",condition_operator:">=",threshold_value:"",product_category_id:"",condition_description:"",is_active:"Y"}),D.resetForm()},j=k4e(),b=P4e(),w=()=>{if(!m.condition_type.trim()){Rt.error("Condition type is required");return}if(!m.threshold_value.trim()){Rt.error(`Threshold value is required for ${m.condition_type}`);return}const R=parseFloat(m.threshold_value);if(isNaN(R)||R<0){Rt.error("Please enter a valid positive number for threshold value");return}if(m.condition_type.includes("Days")&&R>365){Rt.error("Days cannot exceed 365 for this condition type");return}if(m.condition_type.includes("Months")&&R>12){Rt.error("Months cannot exceed 12 for this condition type");return}if(i.some($=>$.condition_type===m.condition_type&&$.condition_operator===m.condition_operator)){Rt.error("A condition with this type and operator already exists");return}const O={_index:i.length,condition_type:m.condition_type,condition_operator:m.condition_operator,threshold_value:m.threshold_value,product_category_id:m.product_category_id,condition_description:m.condition_description,is_active:m.is_active};o([...i,O]),u({_index:i.length+1,condition_type:"",condition_operator:">=",threshold_value:"",product_category_id:"",condition_description:"",is_active:"Y"}),c(null),Rt.success("Condition added successfully")},C=R=>{const z=i.filter((O,$)=>$!==R).map((O,$)=>({...O,_index:$}));o(z),c(null)},P=R=>{if(i.some(($,A)=>A!==R&&$.condition_type===m.condition_type&&$.condition_operator===m.condition_operator)){Rt.error("A condition with this type and operator already exists");return}const O=[...i];O[R]={...m,_index:R,id:i[R].id},o(O),u({_index:i.length,condition_type:"",condition_operator:">=",threshold_value:"",product_category_id:"",condition_description:"",is_active:"Y"}),c(null)},E=R=>{c(R._index),u({_index:R._index,id:R.id,condition_type:R.condition_type,condition_operator:R.condition_operator,threshold_value:R.threshold_value,product_category_id:R.product_category_id,condition_description:R.condition_description,is_active:R.is_active})},D=ft({initialValues:{category_name:t?.category_name||"",category_code:t?.category_code||"",level:t?.level||0,is_active:t?.is_active||"Y"},validationSchema:z4e,enableReinitialize:!0,onSubmit:async R=>{try{const z={category_name:R.category_name,category_code:R.category_code,level:Number(R.level),is_active:R.is_active,conditions:i.map(O=>({...O.id&&{id:O.id},condition_type:O.condition_type,condition_operator:O.condition_operator,threshold_value:Number(O.threshold_value),product_category_id:O.product_category_id?Number(O.product_category_id):null,condition_description:O.condition_description||null,is_active:O.is_active}))};r&&t?await b.mutateAsync({id:t.id,data:z}):await j.mutateAsync(z),S()}catch(z){console.error("Error saving customer category:",z)}}}),T=[{id:"condition_type",label:"Condition Type",render:(R,z)=>e.jsx(x,{variant:"body2",className:l===z._index?"!font-bold !text-primary-600":"",onClick:()=>E(z),style:{cursor:"pointer"},children:z.condition_type||"-"})},{id:"condition_operator",label:"Operator",render:(R,z)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:z.condition_operator||"-"})},{id:"threshold_value",label:"Threshold Value",render:(R,z)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:z.threshold_value||"-"})},{id:"product_category",label:"Product Category",render:(R,z)=>{const O=f.find($=>$.id===Number(z.product_category_id));return e.jsx(x,{variant:"body2",className:"!text-gray-700",children:O?.category_name||"-"})}},{id:"actions",label:"Actions",sortable:!1,render:(R,z)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(is,{onClick:()=>E(z),tooltip:"Edit condition",size:"small"}),e.jsx(Vt,{onClick:()=>C(z._index),tooltip:"Remove condition",confirmDelete:!0,size:"small",itemName:"condition"})]})}];return e.jsx(ot,{open:a,setOpen:S,title:r?"Edit Customer Category":"Create Customer Category",size:"large",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:D.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 lg:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"category_name",label:"Category Name",placeholder:"Enter category name",formik:D,required:!0}),e.jsx(oe,{name:"category_code",label:"Category Code",placeholder:"Enter category code",formik:D,required:!0}),e.jsx(oe,{type:"number",name:"level",label:"Category Level",placeholder:"Enter category level",formik:D,required:!0}),e.jsx(Ps,{name:"is_active",formik:D,className:"col-span-2"})]}),e.jsxs(y,{className:"!space-y-4 !mt-6",children:[e.jsxs(y,{className:"!flex !justify-between !items-center",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Category Conditions"}),e.jsx(G,{type:"button",variant:"outlined",startIcon:e.jsx(ds,{}),onClick:w,size:"small",children:"Add Condition"})]}),e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4 !bg-gray-50 !rounded-lg",children:[e.jsx(_e,{value:m.condition_type,onChange:R=>u({...m,condition_type:R.target.value}),label:"Condition Type",size:"small",fullWidth:!0,children:$4e.map(R=>e.jsx(Z,{value:R,children:R},R))}),e.jsx(_e,{value:m.condition_operator,onChange:R=>u({...m,condition_operator:R.target.value}),label:"Operator",size:"small",fullWidth:!0,children:q4e.map(R=>e.jsx(Z,{value:R.value,children:R.label},R.value))}),e.jsx(oe,{value:m.threshold_value,onChange:R=>u({...m,threshold_value:R.target.value}),label:"Threshold Value",placeholder:B4e(m.condition_type),helperText:U4e(m.condition_type),type:"number",size:"small",fullWidth:!0}),e.jsx(Nu,{value:m.product_category_id,onChange:(R,z)=>u({...m,product_category_id:z?z.id.toString():""}),label:"Product Category (Optional)",size:"small",fullWidth:!0}),e.jsxs(y,{className:"!bg-blue-50 col-span-2 !border !border-blue-200 !rounded-lg !p-4",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-semibold !text-blue-900 !mb-2",children:[e.jsx(Ole,{fontSize:"small"})," How Conditions Work:"]}),e.jsxs(x,{variant:"body2",className:"!text-blue-800 !mb-2",children:[e.jsx("strong",{children:"Example 1:"}),' "Monthly Sales Quantity (Crates)  1"  Customers who buy at least 1 crate per month']}),e.jsxs(x,{variant:"body2",className:"!text-blue-800 !mb-2",children:[e.jsx("strong",{children:"Example 2:"}),' "Monthly Sales Amount ()  50000"  Customers with monthly sales of 50,000 or more']}),e.jsxs(x,{variant:"body2",className:"!text-blue-800",children:[e.jsx("strong",{children:"Note:"})," All conditions are evaluated based on customer's purchase history and behavior patterns."]})]}),e.jsx(y,{className:"md:!col-span-2 !flex !items-center !gap-4",children:l!==null&&e.jsxs(y,{className:"!flex !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>P(l),children:"Update"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{c(null),u({_index:i.length,condition_type:"",condition_operator:">=",threshold_value:"",product_category_id:"",condition_description:"",is_active:"Y"})},children:"Cancel"})]})})]}),_&&r?e.jsx(y,{className:"!mt-4",children:e.jsx(y,{className:"!bg-white !rounded-lg !border !border-gray-200 !p-4",children:e.jsx(y,{className:"!space-y-3",children:[1,2,3].map(R=>e.jsxs(y,{className:"!flex !items-center !gap-4 !pb-3 !border-b !border-gray-100 last:!border-0",children:[e.jsx(J,{variant:"text",width:"20%",height:24,className:"!flex-1"}),e.jsx(J,{variant:"text",width:"15%",height:24,className:"!flex-1"}),e.jsx(J,{variant:"text",width:"15%",height:24,className:"!flex-1"}),e.jsx(J,{variant:"text",width:"20%",height:24,className:"!flex-1"}),e.jsx(J,{variant:"circular",width:32,height:32,className:"!flex-shrink-0"})]},R))})})}):i.length>0&&e.jsx(y,{className:"!mt-4",children:e.jsx(lt,{data:i,columns:T,getRowId:R=>R._index.toString(),pagination:!1,sortable:!1,emptyMessage:"No conditions added yet."})})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:S,className:"!mr-3",disabled:j.isPending||b.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:j.isPending||b.isPending,children:j.isPending||b.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},H4e=it({file:hs().required("Please select a file to import")}),W4e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:H4e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("customer_category")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"customer_category",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Outlet Categories",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple outlet categories. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},Y4e=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("customer-category"),{data:b,isLoading:w,error:C}=HF({search:t,page:u,limit:f,is_active:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total||0,D=(b?.meta?.page||1)-1,T=E4e(),R=ms(),z=b?.stats,O=z?.total_categories||P.length,$=z?.active_categories||P.filter(M=>M.is_active==="Y").length,A=z?.inactive_categories||P.filter(M=>M.is_active==="N").length,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(()=>{m(!0)},[]),U=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(L){console.error("Error deleting customer category:",L)}},[T]),V=g.useCallback(M=>{s(M),h(1)},[]),Y=M=>{h(M+1)},H=g.useCallback(async()=>{try{const M={search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"customer_category",filters:M})}catch(M){console.error("Error exporting customer categories:",M)}},[R,t,a]),F=[{id:"category_name",label:"Category Name",render:(M,L)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:L.category_name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(ua,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:L.category_name}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:L.category_code})]})]})},{id:"conditions",label:"Conditions",render:(M,L)=>e.jsxs(x,{variant:"body2",className:"!text-gray-700",children:[L.conditions?.length||0," condition(s)"]})},{id:"level",label:"Level",render:M=>e.jsx(De,{label:M,className:"!px-5",size:"small",variant:"outlined"})},{id:"is_active",label:"Status",render:M=>e.jsx(De,{icon:M==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,L)=>Oe(L.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(M,L)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>U(L),tooltip:`Edit ${L.category_name}`}),S&&e.jsx(Vt,{onClick:()=>B(L.id),tooltip:`Delete ${L.category_name}`,itemName:L.category_name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Customer Category Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage customer categories and their conditions"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Categories",value:O,icon:e.jsx(ua,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Categories",value:$,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Categories",value:A,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"Total Conditions",value:P.reduce((M,L)=>M+(L.conditions?.length||0),0),icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load customer categories. Please try again."}),e.jsx(lt,{data:P,columns:F,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Customer Categories...",value:t,onChange:V,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:M=>n(M.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[j&&e.jsx(Jt,{title:"Export Customer Categories",description:"Are you sure you want to export the current customer categories data to Excel? This will include all filtered results.",onConfirm:H,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsxs(e.Fragment,{children:[e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:K,children:"Import"}),e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"category_name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:Y,emptyMessage:t?`No customer categories found matching "${t}"`:"No customer categories found in the system"}),e.jsx(V4e,{selectedCustomerCategory:r,setSelectedCustomerCategory:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(W4e,{drawerOpen:c,setDrawerOpen:m})]})},G4e=async t=>{try{return(await ie.get("/customer-types",{params:t})).data}catch(s){throw console.error("Error fetching customer types:",s),new Error(s.response?.data?.message||"Failed to fetch customer types")}},K4e=async t=>{try{return(await ie.get(`/customer-types/${t}`)).data.data}catch(s){throw console.error("Error fetching customer type:",s),new Error(s.response?.data?.message||"Failed to fetch customer type")}},Q4e=async t=>{try{return(await ie.post("/customer-types",t)).data}catch(s){throw console.error("Error creating customer type:",s),new Error(s.response?.data?.message||"Failed to create customer type")}},Z4e=async(t,s)=>{try{return(await ie.put(`/customer-types/${t}`,s)).data}catch(a){throw console.error("Error updating customer type:",a),new Error(a.response?.data?.message||"Failed to update customer type")}},X4e=async t=>{try{await ie.delete(`/customer-types/${t}`)}catch(s){throw console.error("Error deleting customer type:",s),new Error(s.response?.data?.message||"Failed to delete customer type")}},Lm={all:["customer-type"],lists:()=>[...Lm.all,"list"],list:t=>[...Lm.lists(),t],details:()=>[...Lm.all,"detail"],detail:t=>[...Lm.details(),t]},JS=(t,s)=>nt({queryKey:Lm.list(t),queryFn:()=>G4e(t),staleTime:300*1e3,...s}),J4e=(t,s)=>nt({queryKey:Lm.detail(t),queryFn:()=>K4e(t),enabled:!!t,staleTime:300*1e3,...s}),eSe=()=>Re({mutationFn:async t=>await Q4e(t),invalidateQueries:["customer-type"],loadingMessage:"Creating customer type..."}),tSe=()=>Re({mutationFn:async({id:t,data:s})=>await Z4e(t,s),invalidateQueries:["customer-type"],loadingMessage:"Updating customer type..."}),sSe=()=>Re({mutationFn:X4e,invalidateQueries:["customer-type"],loadingMessage:"Deleting customer type..."}),aSe=it({type_name:me().required("Type name is required").min(2,"Type name must be at least 2 characters").max(255,"Type name must be less than 255 characters"),is_active:me().oneOf(["Y","N"]).required("Status is required")}),nSe=({selectedCustomerType:t,setSelectedCustomerType:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),m.resetForm()},o=eSe(),l=tSe(),{data:c}=J4e(t?.id||0,{enabled:r&&!!t?.id}),m=ft({initialValues:{type_name:t?.type_name||"",is_active:t?.is_active||"Y"},validationSchema:aSe,enableReinitialize:!0,onSubmit:async u=>{try{const h={type_name:u.type_name,is_active:u.is_active};r&&t?await l.mutateAsync({id:t.id,data:h}):await o.mutateAsync(h),i()}catch(h){console.error("Error saving customer type:",h)}}});return Nt.useEffect(()=>{c&&r&&m.setValues({type_name:c.type_name||"",is_active:c.is_active||"Y"})},[c,r]),e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Customer Type":"Create Customer Type",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:m.handleSubmit,className:"!space-y-5",children:[e.jsxs(y,{className:"!grid !grid-cols-1 !gap-5",children:[e.jsx(oe,{name:"type_name",label:"Type Name",placeholder:"Enter type name",formik:m,required:!0}),e.jsx(y,{children:e.jsx(Ps,{name:"is_active",formik:m,required:!0})})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},rSe=it({file:hs().required("Please select a file to import")}),iSe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:rSe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("customer_type")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"customer_type",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Customer Types",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple customer types. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},oSe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("customer-type"),{data:b,isLoading:w,error:C}=JS({search:t,page:u,limit:f,is_active:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total||0,D=(b?.meta?.page||1)-1,T=sSe(),R=ms(),z=b?.stats,O=z?.total||P.length,$=z?.active||P.filter(L=>L.is_active==="Y").length,A=z?.inactive||P.filter(L=>L.is_active==="N").length,Q=z?.new_this_month||0,K=g.useCallback(()=>{i(null),l(!0)},[]),U=g.useCallback(()=>{m(!0)},[]),B=g.useCallback(L=>{i(L),l(!0)},[]),V=g.useCallback(async L=>{try{await T.mutateAsync(L)}catch(W){console.error("Error deleting customer type:",W)}},[T]),Y=g.useCallback(L=>{s(L),h(1)},[]),H=L=>{h(L+1)},F=g.useCallback(async()=>{try{const L={search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"customer_type",filters:L})}catch(L){console.error("Error exporting customer types:",L)}},[R,t,a]),M=[{id:"type_name",label:"Type Name",render:(L,W)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:W.type_name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(kn,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:W.type_name}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:W.type_code})]})]})},{id:"is_active",label:"Status",render:L=>e.jsx(De,{icon:L==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:L==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:L==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(L,W)=>Oe(W.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(L,W)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>B(W),tooltip:`Edit ${W.type_name}`}),S&&e.jsx(Vt,{onClick:()=>V(W.id),tooltip:`Delete ${W.type_name}`,itemName:W.type_name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Customer Type Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage customer types and their associations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Types",value:O,icon:e.jsx(kn,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Types",value:$,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Types",value:A,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:Q,icon:e.jsx(Sr,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load customer types. Please try again."}),e.jsx(lt,{data:P,columns:M,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Customer Types...",value:t,onChange:Y,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:L=>n(L.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[j&&e.jsx(Jt,{title:"Export Customer Types",description:"Are you sure you want to export the current customer types data to Excel? This will include all filtered results.",onConfirm:F,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsxs(e.Fragment,{children:[e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:U,children:"Import"}),e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:K,children:"Create"})]})]})]}):!1,getRowId:L=>L.id,initialOrderBy:"type_name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:H,emptyMessage:t?`No customer types found matching "${t}"`:"No customer types found in the system"}),e.jsx(nSe,{selectedCustomerType:r,setSelectedCustomerType:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(iSe,{drawerOpen:c,setDrawerOpen:m})]})},lSe=async t=>{try{return(await ie.get("/customer-channels",{params:t})).data}catch(s){throw console.error("Error fetching customer channels:",s),new Error(s.response?.data?.message||"Failed to fetch customer channels")}},cSe=async t=>{try{return(await ie.get(`/customer-channels/${t}`)).data.data}catch(s){throw console.error("Error fetching customer channel:",s),new Error(s.response?.data?.message||"Failed to fetch customer channel")}},dSe=async t=>{try{return(await ie.post("/customer-channels",t)).data}catch(s){throw console.error("Error creating customer channel:",s),new Error(s.response?.data?.message||"Failed to create customer channel")}},uSe=async(t,s)=>{try{return(await ie.put(`/customer-channels/${t}`,s)).data}catch(a){throw console.error("Error updating customer channel:",a),new Error(a.response?.data?.message||"Failed to update customer channel")}},mSe=async t=>{try{await ie.delete(`/customer-channels/${t}`)}catch(s){throw console.error("Error deleting customer channel:",s),new Error(s.response?.data?.message||"Failed to delete customer channel")}},zm={all:["customer-channel"],lists:()=>[...zm.all,"list"],list:t=>[...zm.lists(),t],details:()=>[...zm.all,"detail"],detail:t=>[...zm.details(),t]},e3=(t,s)=>nt({queryKey:zm.list(t),queryFn:()=>lSe(t),staleTime:300*1e3,...s}),pSe=(t,s)=>nt({queryKey:zm.detail(t),queryFn:()=>cSe(t),enabled:!!t,staleTime:300*1e3,...s}),hSe=()=>Re({mutationFn:async t=>await dSe(t),invalidateQueries:["customer-channel"],loadingMessage:"Creating outlet channel..."}),fSe=()=>Re({mutationFn:async({id:t,data:s})=>await uSe(t,s),invalidateQueries:["customer-channel"],loadingMessage:"Updating outlet channel..."}),xSe=()=>Re({mutationFn:mSe,invalidateQueries:["customer-channel"],loadingMessage:"Deleting outlet channel..."}),gSe=it({channel_name:me().required("Channel name is required").min(2,"Channel name must be at least 2 characters").max(255,"Channel name must be less than 255 characters"),is_active:me().oneOf(["Y","N"]).required("Status is required")}),ySe=({selectedCustomerChannel:t,setSelectedCustomerChannel:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),m.resetForm()},o=hSe(),l=fSe(),{data:c}=pSe(t?.id||0,{enabled:r&&!!t?.id}),m=ft({initialValues:{channel_name:t?.channel_name||"",is_active:t?.is_active||"Y"},validationSchema:gSe,enableReinitialize:!0,onSubmit:async u=>{try{const h={channel_name:u.channel_name,is_active:u.is_active};r&&t?await l.mutateAsync({id:t.id,data:h}):await o.mutateAsync(h),i()}catch(h){console.error("Error saving outlet channel:",h)}}});return Nt.useEffect(()=>{c&&r&&m.setValues({channel_name:c.channel_name||"",is_active:c.is_active||"Y"})},[c,r]),e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Outlet Channel":"Create Outlet Channel",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:m.handleSubmit,className:"!space-y-4",children:[e.jsx(oe,{name:"channel_name",label:"Channel Name",placeholder:"Enter channel name",formik:m,required:!0}),e.jsx(Ps,{name:"is_active",label:"Status",formik:m,required:!0}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2 !mt-6 !pt-4",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},bSe=it({file:hs().required("Please select a file to import")}),vSe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:bSe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("customer_channel")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"customer_channel",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Outlet Channels",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple outlet channels. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},jSe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("customer-channel"),{data:b,isLoading:w,error:C}=e3({search:t,page:u,limit:f,is_active:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total||0,D=(b?.meta?.page||1)-1,T=xSe(),R=ms(),z=b?.stats,O=z?.total||P.length,$=z?.active||P.filter(L=>L.is_active==="Y").length,A=z?.inactive||P.filter(L=>L.is_active==="N").length,Q=z?.new_this_month||0,K=g.useCallback(()=>{i(null),l(!0)},[]),U=g.useCallback(()=>{m(!0)},[]),B=g.useCallback(L=>{i(L),l(!0)},[]),V=g.useCallback(async L=>{try{await T.mutateAsync(L)}catch(W){console.error("Error deleting outlet channel:",W)}},[T]),Y=g.useCallback(L=>{s(L),h(1)},[]),H=L=>{h(L+1)},F=g.useCallback(async()=>{try{const L={search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"customer_channel",filters:L})}catch(L){console.error("Error exporting outlet channels:",L)}},[R,t,a]),M=[{id:"channel_name",label:"Channel Name",render:(L,W)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:W.channel_name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(kn,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:W.channel_name}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:W.channel_code})]})]})},{id:"is_active",label:"Status",render:L=>e.jsx(De,{icon:L==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:L==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:L==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(L,W)=>Oe(W.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(L,W)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>B(W),tooltip:`Edit ${W.channel_name}`}),S&&e.jsx(Vt,{onClick:()=>V(W.id),tooltip:`Delete ${W.channel_name}`,itemName:W.channel_name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Outlet Channel Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage outlet channels and their associations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Channels",value:O,icon:e.jsx(kn,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Channels",value:$,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Channels",value:A,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:Q,icon:e.jsx(Sr,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load outlet channels. Please try again."}),e.jsx(lt,{data:P,columns:M,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Outlet Channels...",value:t,onChange:Y,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:L=>n(L.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[j&&e.jsx(Jt,{title:"Export Outlet Channels",description:"Are you sure you want to export the current outlet channels data to Excel? This will include all filtered results.",onConfirm:F,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsxs(e.Fragment,{children:[e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:U,children:"Import"}),e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:K,children:"Create"})]})]})]}):!1,getRowId:L=>L.id,initialOrderBy:"channel_name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:H,emptyMessage:t?`No outlet channels found matching "${t}"`:"No outlet channels found in the system"}),e.jsx(ySe,{selectedCustomerChannel:r,setSelectedCustomerChannel:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(vSe,{drawerOpen:c,setDrawerOpen:m})]})},NSe=async t=>{try{return(await ie.get("/customer-complaints",{params:t})).data}catch(s){throw console.error("Error fetching customer complaints:",s),new Error(s.response?.data?.message||"Failed to fetch customer complaints")}},wSe=async t=>{try{return(await ie.post("/customer-complaints",t)).data}catch(s){throw console.error("Error creating customer complaint:",s),new Error(s.response?.data?.message||"Failed to create customer complaint")}},_Se=async(t,s)=>{try{return(await ie.post("/customer-complaints",{id:t,...s})).data}catch(a){throw console.error("Error updating customer complaint:",a),new Error(a.response?.data?.message||"Failed to update customer complaint")}},SSe=async t=>{try{return(await ie.delete(`/customer-complaints/${t}`)).data}catch(s){throw console.error("Error deleting customer complaint:",s),new Error(s.response?.data?.message||"Failed to delete customer complaint")}},_f={all:["customer-complaints"],lists:()=>[..._f.all,"list"],list:t=>[..._f.lists(),t],details:()=>[..._f.all,"detail"],detail:t=>[..._f.details(),t]},CSe=(t,s)=>nt({queryKey:_f.list(t),queryFn:()=>NSe(t),staleTime:300*1e3,...s}),kSe=()=>Re({mutationFn:wSe,invalidateQueries:["customer-complaints"],loadingMessage:"Creating customer complaint..."}),PSe=()=>Re({mutationFn:({id:t,...s})=>_Se(t,s),invalidateQueries:["customer-complaints"],loadingMessage:"Updating customer complaint..."}),ESe=()=>Re({mutationFn:SSe,invalidateQueries:["customer-complaints"],loadingMessage:"Deleting customer complaint..."}),TSe=it({file:hs().required("Please select a file to import")}),MSe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:TSe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("customer_complaints")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"customer_complaints",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Customer Complaints",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple customer complaints. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},hr=({name:t="salesperson_id",label:s="Sales Person",required:a=!1,fullWidth:n=!0,size:r="small",formik:i,setValue:o,value:l,nameToSearch:c="",onChange:m,className:u,placeholder:h})=>{const[f,v]=g.useState(""),[_,S]=g.useState(""),[j,b]=g.useState(""),[w,C]=g.useState(!1),[P,E]=g.useState(null),[D,T]=g.useState(!1),R=i?i.values[t]:l,z=R?typeof R=="number"?R.toString():String(R).trim():"";g.useEffect(()=>{const M=setTimeout(()=>{w||(b(_),_&&T(!0))},300);return()=>clearTimeout(M)},[_,w]);const O=Nt.useMemo(()=>D||f?j:z&&c&&!D?c:j,[j,c,D,z,f]),$=z?Number(z):void 0,{data:A,isLoading:Q}=pA({search:O,user_id:$&&!O?$:void 0}),K=(A?.data||[]).map(M=>({id:M.id,name:M.name,email:M.email,profile_image:M.profile_image}));g.useEffect(()=>{if(z&&!P&&!Q&&K.length>0){const M=K.find(L=>L.id.toString()===z);M&&(E(M),f||v(M.name),T(!0))}},[z,P,f,K,Q]);const U=Nt.useMemo(()=>{if(!z)return null;const M=K.find(L=>L.id.toString()===z);return M||(P&&P.id.toString()===z?P:null)},[z,K,P]);g.useEffect(()=>{U&&U!==P?(E(U),!f&&U.name&&v(U.name)):!z&&P?(E(null),v("")):P&&!f&&z&&v(P.name)},[U,z,P,f]),g.useEffect(()=>{z?P&&P.id.toString()!==z&&(E(null),v(""),T(!1)):(P||f)&&(v(""),E(null),T(!1))},[z]);const B=Nt.useMemo(()=>{const M=[];U&&(K.some(X=>X.id===U.id)||M.push(U));const L=new Set;return U&&L.add(U.id),K.forEach(W=>{L.has(W.id)||(M.push(W),L.add(W.id))}),M},[K,U,z]),V=i?.touched?.[t]&&i?.errors?.[t],Y=typeof V=="string"?V:void 0,H=g.useCallback((M,L)=>{C(!0),E(L);const W=L?L.id.toString():"";i?i.setFieldValue(t,W):o&&o(W),m&&m(M,L),L?(v(L.name),S(""),b("")):(v(""),S(""),b("")),setTimeout(()=>C(!1),100)},[i,t,o,m]),F=g.useCallback((M,L,W)=>{if(W==="input"){w?v(L):(v(L),S(L));return}W==="clear"&&(v(""),S(""),b(""))},[w]);return e.jsx(Yn,{options:B,getOptionLabel:M=>M.name,value:U,loading:Q,onChange:H,inputValue:f,onInputChange:F,isOptionEqualToValue:(M,L)=>M.id===L.id,size:r,fullWidth:n,className:u,filterOptions:M=>M,renderOption:(M,L)=>g.createElement(y,{component:"li",...M,key:L.id,className:"!flex !items-center !gap-2 cursor-pointer py-1 px-2 hover:!bg-gray-50"},e.jsx(ht,{src:L.profile_image||"mkx",alt:L.name,className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(y,{children:[e.jsx("p",{className:"!text-gray-900 !text-sm",children:L.name||""}),L.email&&e.jsx("p",{className:"!text-gray-500 !text-xs",children:L.email})]})),renderInput:M=>e.jsx(wn,{...M,label:`${s+(a?" *":"")}`,required:!1,error:!!V,helperText:Y,placeholder:h,onBlur:i?.handleBlur,name:t,size:r,className:u}),noOptionsText:j&&!Q?"No users found":"Type to search users",loadingText:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(wo,{thickness:6,size:16,color:"inherit"})," Loading users..."]})})},DSe=it({customer_id:Qe().required("Customer is required"),complaint_title:me().required("Complaint title is required").max(255,"Complaint title must be less than 255 characters"),complaint_description:me().required("Complaint description is required").min(10,"Complaint description must be at least 10 characters"),status:me().oneOf(["P","R","C"],"Invalid status"),submitted_by:Qe().required("Submitted by is required")}),RSe=({selectedComplaint:t,setSelectedComplaint:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=kSe(),l=PSe(),c=ft({initialValues:{customer_id:t?.customer_id||0,complaint_title:t?.complaint_title||"",complaint_description:t?.complaint_description||"",status:t?.status||"P",submitted_by:t?.submitted_by_user?.id||""},validationSchema:DSe,enableReinitialize:!0,onSubmit:async m=>{try{const u={customer_id:m.customer_id,complaint_title:m.complaint_title,complaint_description:m.complaint_description,status:m.status,submitted_by:m.submitted_by};r&&t?await l.mutateAsync({id:t.id,...u}):await o.mutateAsync(u),i()}catch(u){console.error("Error saving customer complaint:",u)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Customer Complaint":"Create Customer Complaint",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-4",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsx(io,{name:"customer_id",label:"Customer",formik:c,required:!0,nameToSearch:t?.customer?.name||""}),e.jsx(oe,{name:"complaint_title",label:"Complaint Title",placeholder:"Enter complaint title",formik:c,required:!0}),e.jsx(hr,{name:"submitted_by",label:"Submitted By",formik:c,required:!0}),e.jsxs(_e,{name:"status",label:"Status",formik:c,required:!0,children:[e.jsx(Z,{value:"P",children:"Pending"}),e.jsx(Z,{value:"R",children:"Resolved"}),e.jsx(Z,{value:"C",children:"Closed"})]}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"complaint_description",label:"Complaint Description",placeholder:"Enter complaint description",formik:c,multiline:!0,rows:4,required:!0})})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},ASe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("customer-complaint"),{data:b,isFetching:w,error:C}=CSe({page:u,limit:f,search:t,status:a!=="all"?a:void 0},{enabled:j}),P=b?.data||[],E=b?.pagination,D=ESe(),T=ms(),R=g.useCallback(L=>{s(L),h(1)},[]),z=g.useCallback(L=>{n(L),h(1)},[]),O=L=>{h(L+1)},$=g.useCallback(()=>{i(null),l(!0)},[]),A=g.useCallback(L=>{i(L),l(!0)},[]),Q=g.useCallback(async L=>{try{await D.mutateAsync(L)}catch(W){console.error("Error deleting customer complaint:",W)}},[D]),K=g.useCallback(async()=>{try{const L={search:t,status:a!=="all"?a:void 0};await T.mutateAsync({tableName:"customer_complaints",filters:L})}catch(L){console.error("Error exporting customer complaints:",L)}},[T,t,a]),U=L=>{switch(L?.toUpperCase()){case"P":return"warning";case"R":return"success";case"C":return"default";default:return"default"}},B=L=>{switch(L?.toUpperCase()){case"P":return"Pending";case"R":return"Resolved";case"C":return"Closed";default:return L||"N/A"}},V=[{id:"complaint_title",label:"Title",render:(L,W)=>e.jsx(x,{variant:"body2",className:"!font-medium !text-gray-900",children:W.complaint_title||"N/A"})},{id:"customer",label:"Customer",render:(L,W)=>e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(ht,{className:"!w-10 !h-10 !rounded !bg-primary-100 !text-primary-500 !text-xs",children:e.jsx(Rn,{className:"!w-4 !h-4"})}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-medium !text-gray-900",children:W.customer?.name||`Customer #${W.customer_id}`}),W.customer?.code&&e.jsx(x,{variant:"caption",className:"!text-gray-500",children:W.customer.code})]})]})},{id:"complaint_description",label:"Complaint Description",render:(L,W)=>e.jsx(Va,{title:W.complaint_description,placement:"top",arrow:!0,children:e.jsx(x,{variant:"body2",className:"!text-gray-900 !max-w-md",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:W.complaint_description})})},{id:"submitted_by_user",label:"Submitted By",render:(L,W)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:W.submitted_by_user?.name||"N/A"})},{id:"status",label:"Status",render:(L,W)=>e.jsx(De,{label:B(W.status),color:U(W.status),size:"small",variant:"outlined",className:"!capitalize"})},{id:"createdate",label:"Created Date",render:(L,W)=>Oe(String(W.createdate||""))||"N/A"},..._||S||j?[{id:"actions",label:"Actions",sortable:!1,render:(L,W)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>A(W),tooltip:`Edit complaint #${W.id}`}),S&&e.jsx(Vt,{onClick:()=>Q(W.id),tooltip:`Delete complaint #${W.id}`,itemName:`complaint #${W.id}`,confirmDelete:!0})]})}]:[]],Y=E?.total_count||P.length,H=P.filter(L=>L.status==="P").length,F=P.filter(L=>L.status==="R").length,M=P.filter(L=>L.status==="C").length;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs("div",{children:[e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:"Customer Complaints"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"View and manage customer complaints"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Complaints",value:Y,icon:e.jsx(bN,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Pending Complaints",value:H,icon:e.jsx(Wc,{className:"w-6 h-6"}),color:"orange",isLoading:w}),e.jsx(fe,{title:"Resolved Complaints",value:F,icon:e.jsx(bN,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Closed Complaints",value:M,icon:e.jsx(bN,{className:"w-6 h-6"}),color:"gray",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load customer complaints. Please try again."}),e.jsx(lt,{data:P,columns:V,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[j&&e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx(as,{placeholder:"Search complaints...",value:t,onChange:R,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:L=>z(L.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"P",children:"Pending"}),e.jsx(Z,{value:"R",children:"Resolved"}),e.jsx(Z,{value:"C",children:"Closed"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Customer Complaints",description:"Are you sure you want to export the current customer complaints data to Excel? This will include all filtered results.",onConfirm:K,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:T.isPending,children:T.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:$,children:"Create"})]})]}):!1,getRowId:L=>L.id,initialOrderBy:"createdate",loading:w,totalCount:E?.total_count||0,page:u-1,rowsPerPage:f,onPageChange:O,isPermission:j,emptyMessage:t||a!=="all"?"No complaints found matching your filters":"No customer complaints found in the system"}),e.jsx(RSe,{selectedComplaint:r,setSelectedComplaint:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(MSe,{drawerOpen:c,setDrawerOpen:m})]})},ISe=it({file:hs().required("Please select a file to import")}),OSe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:ISe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("currencies")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"currencies",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Currencies",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple currencies. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center !space-x-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},FSe=it({name:me().required("Currency name is required").min(2,"Currency name must be at least 2 characters").max(100,"Currency name must be less than 100 characters").trim(),code:me().required("Currency code is required").length(3,"Currency code must be exactly 3 characters").matches(/^[A-Z]{3}$/,"Currency code must be exactly 3 capital letters (e.g., USD, EUR, INR)").trim(),symbol:me().max(10,"Currency symbol must be less than 10 characters").nullable().optional(),exchange_rate_to_base:Qe().positive("Exchange rate must be positive").max(1e12,"Exchange rate exceeds maximum allowed value").nullable().optional(),is_base:me().oneOf(["Y","N"],"Must be Y or N").required("Base currency status is required"),is_active:me().oneOf(["Y","N"],"Must be Y or N").required("Active status is required")}),LSe=({selectedCurrency:t,setSelectedCurrency:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=Abe(),l=Ibe(),c=ft({initialValues:{name:t?.name||"",code:t?.code||"",symbol:t?.symbol||"",exchange_rate_to_base:t?.exchange_rate_to_base||"",is_base:t?.is_base||"N",is_active:t?.is_active||"Y"},validationSchema:FSe,enableReinitialize:!0,onSubmit:async m=>{try{const u={name:m.name,code:m.code,symbol:m.symbol,exchange_rate_to_base:m.exchange_rate_to_base?Number(m.exchange_rate_to_base):void 0,is_base:m.is_base,is_active:m.is_active};r&&t?await l.mutateAsync({id:t.id,...u}):await o.mutateAsync(u),i()}catch(u){console.error("Error saving currency:",u)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Currency":"Create Currency",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Currency Name",placeholder:"Enter currency name",formik:c,required:!0}),e.jsx(oe,{name:"code",label:"Currency Code",placeholder:"Enter currency code (e.g., USD, EUR, INR)",formik:c,required:!0}),e.jsx(oe,{name:"symbol",label:"Currency Symbol",placeholder:"Enter currency symbol (e.g., $, , )",formik:c}),e.jsx(oe,{name:"exchange_rate_to_base",label:"Exchange Rate to Base",placeholder:"Enter exchange rate",type:"number",formik:c}),e.jsxs(_e,{name:"is_base",label:"Is Base Currency",formik:c,required:!0,children:[e.jsx(Z,{value:"N",children:"No"}),e.jsx(Z,{value:"Y",children:"Yes"})]}),e.jsx(Ps,{name:"is_active",formik:c,required:!0,className:"col-span-2"})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:o.isPending||l.isPending,children:o.isPending?"Creating...":l.isPending?"Updating...":r?"Update Currency":"Create Currency"})]})]})})})},zSe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState("all"),[o,l]=g.useState(null),[c,m]=g.useState(!1),[u,h]=g.useState(!1),[f,v]=g.useState(1),[_]=g.useState(10),{isCreate:S,isUpdate:j,isDelete:b,isRead:w}=Ze("currency"),{data:C,isFetching:P,error:E}=nc({search:t,page:f,limit:_,status:a==="all"?void 0:a==="active"?"active":"inactive"},{enabled:w}),D=C?.data||[],T=C?.meta?.total||0,R=(C?.meta?.page||1)-1,z=Obe(),O=ms(),$=C?.stats?.total_currencies??0,A=C?.stats?.active_currencies??0,Q=C?.stats?.inactive_currencies??0,K=C?.stats?.base_currencies??0,U=g.useCallback(()=>{l(null),m(!0)},[]),B=g.useCallback(L=>{l(L),m(!0)},[]),V=g.useCallback(async L=>{try{await z.mutateAsync(L)}catch(W){console.error("Error deleting currency:",W)}},[z]),Y=g.useCallback(L=>{s(L),v(1)},[]),H=L=>{v(L+1)},F=g.useCallback(async()=>{try{const L={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await O.mutateAsync({tableName:"currencies",filters:L})}catch(L){console.error("Error exporting currencies:",L)}},[O,t,a]),M=[{id:"name",label:"Currency & Code",render:(L,W)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:W.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Cn,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:W.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:W.code})]})]})},{id:"symbol",label:"Symbol",render:L=>e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-mono",children:L||"N/A"})},{id:"exchange_rate_to_base",label:"Exchange Rate",render:L=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:L?Number(L).toFixed(2):"N/A"})},{id:"is_base",label:"Base Currency",render:L=>e.jsx(De,{icon:L==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:L==="Y"?"Yes":"No",size:"small",variant:"outlined",color:L==="Y"?"success":"default"})},{id:"is_active",label:"Status",render:L=>e.jsx(De,{icon:L==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:L==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:L==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(L,W)=>Oe(W.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...j||b||w?[{id:"action",label:"Actions",sortable:!1,render:(L,W)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[j&&e.jsx(is,{onClick:()=>B(W),tooltip:`Edit ${W.name}`}),b&&e.jsx(Vt,{onClick:()=>V(W.id),tooltip:`Delete ${W.name}`,itemName:W.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Currency Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage currency settings, exchange rates, and base currency configuration"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Currencies",value:$,icon:e.jsx(Cn,{className:"w-6 h-6"}),color:"blue",isLoading:P}),e.jsx(fe,{title:"Active Currencies",value:A,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:P}),e.jsx(fe,{title:"Inactive Currencies",value:Q,icon:e.jsx(Na,{className:"w-6 h-6"}),color:"red",isLoading:P}),e.jsx(fe,{title:"Base Currencies",value:K,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:P})]}),E&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load currencies. Please try again."}),e.jsx(lt,{data:D,columns:M,actions:w||S?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex items-center flex-wrap gap-2",children:w&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Currencies",value:t,onChange:Y,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(_e,{value:a,onChange:L=>n(L.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(_e,{value:r,onChange:L=>i(L.target.value),className:"!min-w-40",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Types"}),e.jsx(Z,{value:"base",children:"Base Currency"}),e.jsx(Z,{value:"non-base",children:"Non-Base"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[w&&e.jsx(Jt,{title:"Export Currencies",description:"Are you sure you want to export the current currencies data to Excel? This will include all filtered results.",onConfirm:F,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:O.isPending,children:O.isPending?"Exporting...":"Export"})}),S&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>h(!0),children:"Import"}),S&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:U,children:"Create"})]})]}):!1,getRowId:L=>L.id,initialOrderBy:"name",loading:P,totalCount:T,page:R,rowsPerPage:_,isPermission:w,onPageChange:H,emptyMessage:t?`No currencies found matching "${t}"`:"No currencies found in the system"}),e.jsx(LSe,{selectedCurrency:o,setSelectedCurrency:l,drawerOpen:c,setDrawerOpen:m}),e.jsx(OSe,{drawerOpen:u,setDrawerOpen:h})]})},$Se=async t=>{try{return(await ie.get("/depots",{params:t})).data}catch(s){throw console.error("Error fetching depots:",s),new Error(s.response?.data?.message||"Failed to fetch depots")}},qSe=async t=>{try{return(await ie.get(`/depots/${t}`)).data}catch(s){throw console.error("Error fetching depot:",s),new Error(s.response?.data?.message||"Failed to fetch depot")}},BSe=async t=>{try{return(await ie.post("/depots",t)).data}catch(s){throw console.error("Error creating depot:",s),new Error(s.response?.data?.message||"Failed to create depot")}},USe=async(t,s)=>{try{return(await ie.put(`/depots/${t}`,s)).data}catch(a){throw console.error("Error updating depot:",a),new Error(a.response?.data?.message||"Failed to update depot")}},VSe=async t=>{try{return(await ie.delete(`/depots/${t}`)).data}catch(s){throw console.error("Error deleting depot:",s),new Error(s.response?.data?.message||"Failed to delete depot")}},$m={all:["depots"],lists:()=>[...$m.all,"list"],list:t=>[...$m.lists(),t],details:()=>[...$m.all,"detail"],detail:t=>[...$m.details(),t]},ko=(t,s)=>nt({queryKey:$m.list(t),queryFn:()=>$Se(t),staleTime:300*1e3,...s}),HSe=(t,s)=>nt({queryKey:$m.detail(t),queryFn:()=>qSe(t),enabled:!!t,staleTime:300*1e3,...s}),WSe=()=>Re({mutationFn:BSe,invalidateQueries:["depots"],loadingMessage:"Creating depot..."}),YSe=()=>Re({mutationFn:({id:t,...s})=>USe(t,s),invalidateQueries:["depots"],loadingMessage:"Updating depot..."}),GSe=()=>Re({mutationFn:VSe,invalidateQueries:["depots"],loadingMessage:"Deleting depot..."}),KSe=it({file:hs().required("Please select a file to import")}),QSe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:KSe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("depots")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"depots",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Depots",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple depots. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},ZSe=it({parent_id:Qe().required("Company is required").positive("Invalid company"),name:me().required("Depot name is required").min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters"),address:me().max(255,"Address must be less than 255 characters"),city:me().max(50,"City must be less than 50 characters"),state:me().max(50,"State must be less than 50 characters"),phone_number:me().matches(/^[0-9+\-\s()]+$/,"Invalid phone number format").min(8,"Phone number must be at least 8 digits").max(16,"Phone number is too long"),email:me().email("Invalid email format"),manager_id:Qe().positive("Invalid manager"),supervisor_id:Qe().positive("Invalid supervisor"),coordinator_id:Qe().positive("Invalid coordinator"),latitude:Qe().min(-90,"Invalid latitude").max(90,"Invalid latitude"),longitude:Qe().min(-180,"Invalid longitude").max(180,"Invalid longitude"),is_active:me().required("Status is required")}),XSe=({selectedDepot:t,setSelectedDepot:s,drawerOpen:a,setDrawerOpen:n,companies:r})=>{const i=!!t,o=()=>{s(null),n(!1),m.resetForm()},l=WSe(),c=YSe(),m=ft({initialValues:{parent_id:r?.[0]?.id||"",name:t?.name||"",address:t?.address||"",city:t?.city||"",state:t?.state||"",zipcode:t?.zipcode||"",phone_number:t?.phone_number||"",email:t?.email||"",manager_id:t?.manager_id?.toString()||"",supervisor_id:"",coordinator_id:t?.coordinator_id?.toString()||"",latitude:t?.latitude?.toString()||"",longitude:t?.longitude?.toString()||"",is_active:t?.is_active||"Y"},validationSchema:ZSe,enableReinitialize:!0,onSubmit:async u=>{try{const h={parent_id:Number(u.parent_id),name:u.name,address:u.address,city:u.city,state:u.state,zipcode:u.zipcode,phone_number:u.phone_number,email:u.email,manager_id:u.manager_id?Number(u.manager_id):void 0,coordinator_id:u.coordinator_id?Number(u.coordinator_id):void 0,latitude:u.latitude?Number(u.latitude):void 0,longitude:u.longitude?Number(u.longitude):void 0,is_active:u.is_active};i&&t?await c.mutateAsync({id:t.id,...h}):await l.mutateAsync(h),o()}catch(h){console.error("Error saving depot:",h)}}});return e.jsx(ot,{open:a,setOpen:o,title:i?"Edit Depot":"Create Depot",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:m.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(_e,{name:"parent_id",label:"Company",formik:m,required:!0,disabled:!0,children:r.map(u=>e.jsxs(Z,{value:u.id.toString(),children:[u.name," (",u.code,")"]},u.id))}),e.jsx(oe,{name:"name",label:"Depot Name",placeholder:"Enter depot name",formik:m,required:!0}),e.jsx(oe,{name:"email",label:"Email",placeholder:"Enter email address",formik:m,type:"email"}),e.jsx(oe,{name:"city",label:"City",placeholder:"Enter city",formik:m}),e.jsx(oe,{name:"state",label:"State",placeholder:"Enter state",formik:m}),e.jsx(oe,{type:"number",name:"zipcode",label:"Zip Code",placeholder:"Enter zip code",formik:m}),e.jsx(oe,{name:"phone_number",label:"Phone Number",placeholder:"Enter phone number",formik:m,type:"number"}),e.jsx(hr,{name:"manager_id",label:"Manager",formik:m}),e.jsx(hr,{name:"coordinator_id",label:"Coordinator",formik:m}),e.jsx(oe,{name:"latitude",label:"Latitude",placeholder:"Enter latitude",formik:m,type:"number",slotProps:{htmlInput:{inputMode:"decimal",pattern:"[+-]?[0-9]*\\.?[0-9]*",step:"any",onKeyPress:u=>{!/[0-9.-]/.test(u.key)&&u.key!=="Backspace"&&u.key!=="Delete"&&u.key!=="Tab"&&u.key!=="Enter"&&u.preventDefault()}}}}),e.jsx(oe,{name:"longitude",label:"Longitude",placeholder:"Enter longitude",formik:m,type:"number",slotProps:{htmlInput:{inputMode:"decimal",pattern:"[+-]?[0-9]*\\.?[0-9]*",step:"any",onKeyPress:u=>{!/[0-9.-]/.test(u.key)&&u.key!=="Backspace"&&u.key!=="Delete"&&u.key!=="Tab"&&u.key!=="Enter"&&u.preventDefault()}}}}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"address",label:"Address",placeholder:"Enter depot address",formik:m,multiline:!0,rows:3})}),e.jsx(Ps,{name:"is_active",label:"Status",formik:m,required:!0})]}),e.jsxs(y,{className:"!flex !justify-end items-center ",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:o,className:"!mr-3",disabled:l.isPending||c.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:l.isPending||c.isPending,children:[l.isPending||c.isPending?i?"Updating...":"Creating...":i?"Update":"Create"," "]})]})]})})})},JSe=()=>{const t=Gs(),[s,a]=g.useState(""),[n,r]=g.useState("all"),[i,o]=g.useState("all"),[l,c]=g.useState(null),[m,u]=g.useState(!1),[h,f]=g.useState(!1),[v,_]=g.useState(1),[S]=g.useState(10),{isCreate:j,isUpdate:b,isDelete:w,isRead:C}=Ze("depot"),{data:P,isFetching:E,error:D}=ko({search:s,page:v,limit:S,isActive:n==="all"?void 0:n==="active"?"Y":"N",parent_id:i==="all"?void 0:Number(i)},{enabled:C}),{data:T}=VF({page:1,limit:100}),R=P?.data||[],z=T?.data||[],O=P?.meta?.total_count||0,$=(P?.meta?.current_page||1)-1,A=GSe(),Q=ms(),K=P?.stats?.total_depots??R.length,U=P?.stats?.active_depots??R.filter(se=>se.is_active==="Y").length,B=P?.stats?.inactive_depots??R.filter(se=>se.is_active==="N").length,V=P?.stats?.new_depots??0,Y=g.useCallback(()=>{c(null),u(!0)},[]),H=g.useCallback(se=>{c(se),u(!0)},[]),F=g.useCallback(se=>{t(`/masters/depots/${se.id}`)},[t]),M=g.useCallback(async se=>{try{await A.mutateAsync(se)}catch(ae){console.error("Error deleting depot:",ae)}},[A]),L=g.useCallback(se=>{a(se),_(1)},[]),W=se=>{_(se+1)},X=g.useCallback(async()=>{try{const se={search:s,isActive:n==="all"?void 0:n==="active"?"Y":"N",parent_id:i==="all"?void 0:Number(i)};await Q.mutateAsync({tableName:"depots",filters:se})}catch(se){console.error("Error exporting depots:",se)}},[Q,s,n,i]),te=[{id:"name",label:"Depot & Code",render:(se,ae)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:ae.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Sr,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:ae.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:ae.code})]})]})},{id:"depot_companies",label:"Company",render:(se,ae)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:ae.depot_companies?.name||"No Company"})},{id:"contact",label:"Contact",render:(se,ae)=>e.jsxs(y,{className:"space-y-1",children:[ae.email?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Sx,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:ae.email})]}):e.jsx("span",{className:"italic text-gray-400",children:"No Email"}),ae.phone_number&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($v,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:ae.phone_number})]})]})},{id:"location",label:"Location",render:(se,ae)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Qs,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:[ae.city,ae.state].filter(Boolean).join(", ")||"No Location"})]})},{id:"is_active",label:"Status",render:se=>e.jsx(De,{icon:se==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:se==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:se==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(se,ae)=>Oe(ae.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...b||w||C?[{id:"action",label:"Actions",sortable:!1,render:(se,ae)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[C&&e.jsx(Ka,{onClick:()=>F(ae),tooltip:`View ${ae.name}`,icon:e.jsx(Cr,{fontSize:"small"}),color:"info"}),b&&e.jsx(is,{onClick:()=>H(ae),tooltip:`Edit ${ae.name}`}),w&&e.jsx(Vt,{onClick:()=>M(ae.id),tooltip:`Delete ${ae.name}`,itemName:ae.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Depot Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage depot locations, staff assignments, and operational details"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Depots",value:K,icon:e.jsx(Sr,{className:"w-6 h-6"}),color:"blue",isLoading:E}),e.jsx(fe,{title:"Active Depots",value:U,icon:e.jsx(jo,{className:"w-6 h-6"}),color:"green",isLoading:E}),e.jsx(fe,{title:"Inactive Depots",value:B,icon:e.jsx(Na,{className:"w-6 h-6"}),color:"red",isLoading:E}),e.jsx(fe,{title:"New This Month",value:V,icon:e.jsx(ua,{className:"w-6 h-6"}),color:"purple",isLoading:E})]}),D&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load depots. Please try again."}),e.jsx(lt,{data:R,columns:te,actions:C||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(as,{placeholder:"Search Depots...",value:s,onChange:L,debounceMs:400,showClear:!0,className:"!w-80"}),C&&e.jsxs(e.Fragment,{children:[e.jsxs(_e,{value:n,onChange:se=>r(se.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(_e,{value:i,onChange:se=>o(se.target.value),className:"!w-68",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Companies"}),z.map(se=>e.jsx(Z,{value:se.id.toString(),children:se.name},se.id))]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[C&&e.jsx(Jt,{title:"Export Depots",description:"Are you sure you want to export the current depot data to Excel? This will include all filtered results.",onConfirm:X,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:Q.isPending,children:Q.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>f(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Y,children:"Create"})]})]}):!1,getRowId:se=>se.id,initialOrderBy:"name",loading:E,totalCount:O,page:$,rowsPerPage:S,isPermission:C,onPageChange:W,emptyMessage:s?`No depots found matching "${s}"`:"No depots found in the system"}),e.jsx(XSe,{selectedDepot:l,setSelectedDepot:c,drawerOpen:m,setDrawerOpen:u,companies:z}),e.jsx(QSe,{drawerOpen:h,setDrawerOpen:f})]})},e3e=()=>{const{id:t}=Jn(),s=Gs(),{data:a,isLoading:n,error:r,isFetching:i}=HSe(Number(t)),o=a?.data,l=()=>{s("/masters/depots")};if(n||i)return e.jsxs("div",{className:"!flex !items-start !gap-4",children:[e.jsxs("div",{className:"!flex-2 !flex !flex-col !gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-3 !right-3",children:e.jsx(J,{variant:"circular",width:10,height:10,className:"!bg-green-200"})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(J,{variant:"circular",width:96,height:96,className:"!mx-auto !border-3 !border-white"})}),e.jsx(J,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(J,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-2 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"30%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"60%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"70%",height:14})]})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4,5,6].map(m=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(J,{variant:"text",width:`${40+m*8}%`,height:12}),e.jsx(J,{variant:"text",width:`${60+m*6}%`,height:16})]},m))})]})]})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(m=>e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(J,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"40%",height:12})]}),e.jsx(J,{variant:"text",width:80,height:16,className:"!text-right"})]})},m))})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:150,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(m=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(J,{variant:"text",width:"40%",height:12,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"80%",height:16})]},m))})]})]})]})]});if(r||!o)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(la,{className:"w-5 h-5"}),e.jsx(x,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load depot details"})]}),e.jsx(x,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:l,className:"mt-4",children:"Back to Depots"})]});const c=({title:m,children:u,icon:h})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[h&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(h,{className:"!text-primary-500"})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:m})]}),u]})]});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${o.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ht,{className:ln("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":o.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":o.is_active!=="Y"}),children:e.jsx(Sr,{className:"!w-8 !h-8"})})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:o.name}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mb-3",children:o.code}),e.jsx("div",{className:"!flex !justify-center !gap-2 !mb-4",children:e.jsx(De,{icon:o.is_active==="Y"?e.jsx(pt,{fontSize:"small"}):e.jsx(xu,{fontSize:"small"}),label:o.is_active==="Y"?"Active":"Inactive",size:"small",color:o.is_active==="Y"?"success":"error"})}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[o.depot_companies&&e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Company"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:[o.depot_companies.name," (",o.depot_companies.code,")"]})]}),o.createdate&&e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Created Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(typeof o.createdate=="string"?o.createdate:String(o.createdate||""))})]})]})]}),e.jsx(c,{title:"Depot Information",icon:Sr,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Depot Code"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.code})]}),o.depot_companies&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Company"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.depot_companies.name})]}),o.address&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Address"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.address})]}),o.city&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"City"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.city})]}),o.state&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"State"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.state})]}),o.zipcode&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Zip Code"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.zipcode})]}),o.phone_number&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Phone Number"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.phone_number})]}),o.email&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Email"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.email})]}),o.createdate&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Created Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(typeof o.createdate=="string"?o.createdate:String(o.createdate||""))})]}),o.updatedate&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Last Updated"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(typeof o.updatedate=="string"?o.updatedate:String(o.updatedate||""))})]})]})})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsx(c,{title:"Staff Assignment",icon:ua,children:e.jsxs("div",{className:"!space-y-3",children:[o.depots_manager&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(jo,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Manager"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:o.depots_manager.name})]})]}),e.jsx("div",{className:"!text-right",children:e.jsx(x,{variant:"caption",className:"!text-gray-500 !block",children:o.depots_manager.email})})]})}),o.depots_supervisior&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(jo,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Supervisor"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:o.depots_supervisior.name})]})]}),e.jsx("div",{className:"!text-right",children:e.jsx(x,{variant:"caption",className:"!text-gray-500 !block",children:o.depots_supervisior.email})})]})}),o.depots_coodrinator&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(jo,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Coordinator"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:o.depots_coodrinator.name})]})]}),e.jsx("div",{className:"!text-right",children:e.jsx(x,{variant:"caption",className:"!text-gray-500 !block",children:o.depots_coodrinator.email})})]})}),!o.depots_manager&&!o.depots_supervisior&&!o.depots_coodrinator&&e.jsxs("div",{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(ua,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(x,{variant:"body2",children:"No staff assigned to this depot yet."})]})]})}),e.jsx(c,{title:"Location Details",icon:Qs,children:e.jsx("div",{className:"!space-y-3",children:o.city||o.state?e.jsxs(e.Fragment,{children:[o.city&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsx("div",{className:"!flex !items-center !justify-between",children:e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"City"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:o.city})]})})}),o.state&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsx("div",{className:"!flex !items-center !justify-between",children:e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"State"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:o.state})]})})}),o.zipcode&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsx("div",{className:"!flex !items-center !justify-between",children:e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Zip Code"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:o.zipcode})]})})}),(o.latitude||o.longitude)&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsx("div",{className:"!flex !items-center !justify-between",children:e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Coordinates"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:o.latitude&&o.longitude?`${o.latitude}, ${o.longitude}`:o.latitude?`Lat: ${o.latitude}`:o.longitude?`Lng: ${o.longitude}`:"Not available"})]})})})]}):e.jsxs("div",{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(Qs,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(x,{variant:"body2",children:"No location details available for this depot."})]})})}),(o.email||o.phone_number)&&e.jsx(c,{title:"Contact Information",icon:Sx,children:e.jsxs("div",{className:"!space-y-3",children:[o.email&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Sx,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Email"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:o.email})]})]})}),o.phone_number&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx($v,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Phone Number"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:o.phone_number})]})]})})]})})]})]}),e.jsx("div",{className:"!mt-4",children:e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:l,children:"Back to Depots"})})]})},t3e=async t=>{try{return(await ie.get("/kpi-targets",{params:t})).data}catch(s){throw console.error("Error fetching KPI targets:",s),new Error(s.response?.data?.message||"Failed to fetch KPI targets")}},s3e=async t=>{try{return(await ie.post("/kpi-targets",t)).data.data}catch(s){throw console.error("Error creating KPI target:",s),new Error(s.response?.data?.message||"Failed to create KPI target")}},a3e=async(t,s)=>{try{return(await ie.put(`/kpi-targets/${t}`,s)).data.data}catch(a){throw console.error("Error updating KPI target:",a),new Error(a.response?.data?.message||"Failed to update KPI target")}},n3e=async t=>{try{await ie.delete(`/kpi-targets/${t}`)}catch(s){throw console.error("Error deleting KPI target:",s),new Error(s.response?.data?.message||"Failed to delete KPI target")}},Sf={all:["kpi-targets"],lists:()=>[...Sf.all,"list"],list:t=>[...Sf.lists(),t],details:()=>[...Sf.all,"detail"],detail:t=>[...Sf.details(),t]},r3e=(t,s)=>nt({queryKey:Sf.list(t),queryFn:()=>t3e(t),staleTime:300*1e3,...s}),i3e=()=>Re({mutationFn:s3e,invalidateQueries:["kpi-targets"],loadingMessage:"Creating KPI target..."}),o3e=()=>Re({mutationFn:({id:t,data:s})=>a3e(t,s),invalidateQueries:["kpi-targets"],loadingMessage:"Updating KPI target..."}),l3e=()=>Re({mutationFn:n3e,invalidateQueries:["kpi-targets"],loadingMessage:"Deleting KPI target..."}),c3e=it({file:hs().required("Please select a file to import")}),d3e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:c3e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("employee_kpi_targets")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"employee_kpi_targets",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import KPI Targets",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple KPI targets. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},u3e=it({employee_id:Qe().required("Employee is required").positive("Employee must be selected"),kpi_name:me().required("KPI name is required").min(2,"KPI name must be at least 2 characters").max(100,"KPI name must not exceed 100 characters").trim(),target_value:Qe().required("Target value is required").min(0,"Target value must be non-negative").typeError("Target value must be a valid number"),measure_unit:me().nullable().max(50,"Measure unit must not exceed 50 characters").trim(),period_start:Ta().required("Period start date is required").typeError("Period start must be a valid date"),period_end:Ta().required("Period end date is required").typeError("Period end must be a valid date").when("period_start",(t,s)=>t&&t[0]?s.min(t[0],"Period end date must be after period start date"):s),is_active:me().oneOf(["Y","N"],"Status must be Y or N").default("Y")}),m3e=({selectedKpiTarget:t,setSelectedKpiTarget:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,{data:i}=er({page:1,limit:1e3,isActive:"Y"}),o=i?.data||[],l=i3e(),c=o3e(),m=()=>{s(null),n(!1),u.resetForm()},u=ft({initialValues:{employee_id:t?.employee_id||0,kpi_name:t?.kpi_name||"",target_value:t?.target_value||"",measure_unit:t?.measure_unit||"",period_start:t?.period_start?t.period_start.split("T")[0]:"",period_end:t?.period_end?t.period_end.split("T")[0]:"",is_active:t?.is_active||"Y"},validationSchema:u3e,enableReinitialize:!0,onSubmit:async h=>{try{const f={...h,employee_id:Number(h.employee_id),target_value:h.target_value.toString(),measure_unit:h.measure_unit};r&&t?await c.mutateAsync({id:t.id,data:f}):await l.mutateAsync(f),m()}catch(f){console.error("Error submitting KPI target:",f)}}});return e.jsx(ot,{open:a,setOpen:m,title:r?"Edit KPI Target":"Create KPI Target",size:"large",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:u.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(_e,{name:"employee_id",label:"Employee",formik:u,required:!0,children:o.map(h=>e.jsxs(Z,{value:h.id,children:[h.name," (",h.email,")"]},h.id))}),e.jsx(oe,{name:"kpi_name",label:"KPI Name",placeholder:"Enter KPI name",formik:u,required:!0}),e.jsx(oe,{name:"target_value",label:"Target Value",type:"number",placeholder:"Enter target value",formik:u,required:!0}),e.jsx(oe,{name:"measure_unit",label:"Measure Unit",placeholder:"e.g., USD, %, visits",formik:u}),e.jsx(oe,{name:"period_start",label:"Period Start",type:"date",formik:u,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(oe,{name:"period_end",label:"Period End",type:"date",formik:u,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(Ps,{name:"is_active",formik:u,required:!0})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,className:"!mr-3",disabled:l.isPending||c.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:l.isPending||c.isPending,children:l.isPending||c.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},p3e=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("kpi-target"),{data:b,isLoading:w,error:C}=r3e({search:t,page:u,limit:f,is_active:a==="all"?void 0:a},{enabled:j}),P=b?.data||[],E=b?.meta?.total_count||0,D=(b?.meta?.current_page||1)-1,T=b?.stats||{total_targets:0,active_targets:0,inactive_targets:0,targets_this_month:0},R=l3e(),z=ms(),O=T?.total_targets??P.length,$=T?.active_targets??P.filter(M=>M.is_active==="Y").length,A=T?.inactive_targets??P.filter(M=>M.is_active==="N").length,Q=T?.targets_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),U=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await R.mutateAsync(M)}catch(L){console.error("Error deleting KPI target:",L)}},[R]),V=g.useCallback(M=>{s(M),h(1)},[]),Y=M=>{h(M+1)},H=g.useCallback(async()=>{try{const M={search:t,is_active:a==="all"?void 0:a};await z.mutateAsync({tableName:"employee_kpi_targets",filters:M})}catch(M){console.error("Error exporting KPI targets:",M)}},[z,t,a]),F=[{id:"kpi_info",label:"KPI Info",render:(M,L)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:L.kpi_name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(il,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:L.kpi_name}),e.jsxs(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:["Target: ",L.target_value," ",L.measure_unit||""]})]})]})},{id:"employee",label:"Employee",render:(M,L)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Rn,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:L.employee?.name||"Unknown Employee"})]})},{id:"period",label:"Period",render:(M,L)=>{const W=Oe(L.period_start),X=Oe(L.period_end);return e.jsx(y,{className:"flex flex-col items-start",children:e.jsxs(y,{className:"flex items-center gap-1 mb-0.5",children:[e.jsx(_s,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-xs font-medium text-gray-800",children:[W," - ",X]})]})})}},{id:"measure_unit",label:"Unit",render:(M,L)=>e.jsx(De,{label:L.measure_unit||"N/A",size:"small",variant:"outlined"})},{id:"is_active",label:"Status",render:(M,L)=>e.jsx(De,{icon:L.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:L.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:L.is_active==="Y"?"success":"error"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(M,L)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>U(L),tooltip:`Edit ${L.kpi_name}`}),S&&e.jsx(Vt,{onClick:()=>B(L.id),tooltip:`Delete ${L.kpi_name}`,itemName:L.kpi_name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"KPI Targets"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage employee KPI targets and performance goals"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Targets",value:O,icon:e.jsx(il,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Targets",value:$,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Targets",value:A,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"This Month",value:Q,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load KPI targets. Please try again."}),e.jsx(lt,{data:P,columns:F,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[j&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(as,{placeholder:"Search KPI Targets...",value:t,onChange:V,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:M=>n(M.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[j&&e.jsx(Jt,{title:"Export KPI Targets",description:"Are you sure you want to export the current KPI targets data to Excel? This will include all filtered results.",onConfirm:H,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:z.isPending,children:z.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"kpi_name",loading:w,totalCount:E,page:D,rowsPerPage:f,onPageChange:Y,isPermission:j,emptyMessage:t?`No KPI targets found matching "${t}"`:"No KPI targets found in the system"}),e.jsx(m3e,{selectedKpiTarget:r,setSelectedKpiTarget:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(d3e,{drawerOpen:c,setDrawerOpen:m})]})},h3e=async t=>{try{return(await ie.get("/login-history",{params:t})).data}catch(s){throw console.error("Error fetching login history:",s),new Error(s.response?.data?.message||"Failed to fetch login history")}},f3e=async t=>{try{return(await ie.delete(`/login-history/${t}`)).data}catch(s){throw console.error("Error deleting login history:",s),new Error(s.response?.data?.message||"Failed to delete login history")}},Cf={all:["login-history"],lists:()=>[...Cf.all,"list"],list:t=>[...Cf.lists(),t],details:()=>[...Cf.all,"detail"],detail:t=>[...Cf.details(),t]},x3e=(t,s)=>nt({queryKey:Cf.list(t),queryFn:()=>h3e(t),staleTime:300*1e3,...s}),g3e=()=>Re({mutationFn:f3e,invalidateQueries:["login-history"],loadingMessage:"Deleting login history..."}),y3e=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(1),[o]=g.useState(10),{isDelete:l,isRead:c}=Ze("login-history"),{data:m,isLoading:u,error:h}=x3e({search:t,page:r,limit:o,login_status:a==="all"?void 0:a==="active"?"success":"failed"},{enabled:c}),f=m?.data||[],v=m?.meta?.total_count||0,_=(m?.meta?.current_page||1)-1,S=g3e(),j=ms(),b=m?.stats?.total_logins??f.length,w=m?.stats?.successful_logins??f.filter(O=>O.login_status==="success").length,C=m?.stats?.failed_logins??0,P=m?.stats?.today_logins??0,E=g.useCallback(async O=>{try{await S.mutateAsync(O)}catch($){console.error("Error deleting login history:",$)}},[S]),D=g.useCallback(O=>{s(O),i(1)},[]),T=O=>{i(O+1)},R=g.useCallback(async()=>{try{const O={search:t,login_status:a==="all"?void 0:a==="active"?"success":"failed"};await j.mutateAsync({tableName:"login_history",filters:O})}catch(O){console.error("Error exporting login history:",O)}},[j,t,a]),z=[{id:"user",label:"User",sortable:!1,render:(O,$)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:$.user?.name,className:"!rounded !bg-primary-100 !text-primary-500",children:$.user?.name?.charAt(0)||"U"}),e.jsxs(y,{className:"!max-w-xs",children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:$.user?.name||"Unknown User"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:$.user?.email||`ID: ${$.user_id}`})]})]})},{id:"login_time",label:"Login Time",sortable:!0,render:O=>e.jsx(x,{variant:"body2",children:O?vp(O):"N/A"})},{id:"ip_address",label:"IP Address",sortable:!0,render:O=>e.jsx(x,{variant:"body2",className:"font-mono text-sm",children:O?.replace(/^::ffff:/,"")||"N/A"})},{id:"device_info",label:"Device",sortable:!1,render:O=>e.jsx(Va,{title:O||"N/A",placement:"top",arrow:!0,children:e.jsx(x,{variant:"body2",className:"max-w-[200px] truncate text-gray-600",children:O||"N/A"})})},{id:"login_status",label:"Login Status",sortable:!0,render:O=>e.jsx(De,{icon:O==="success"?e.jsx(pt,{}):e.jsx(St,{}),label:O==="success"?"Success":"Failed",size:"small",variant:"outlined",color:O==="success"?"success":"error"})},{id:"failure_reason",label:"Failure Reason",sortable:!1,render:O=>e.jsx(x,{variant:"body2",className:"text-gray-600",children:O||"N/A"})},...l||c?[{id:"action",label:"Action",sortable:!1,render:(O,$)=>e.jsx("div",{className:"!flex !gap-2 !items-center",children:l&&e.jsx(Vt,{onClick:()=>E($.id),tooltip:"Delete login history",itemName:"login history",confirmDelete:!0})})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Login History"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Monitor login activities across your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Logins",value:b,icon:e.jsx(Z4,{className:"w-6 h-6"}),color:"blue",isLoading:u}),e.jsx(fe,{title:"Successful",value:w,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:u}),e.jsx(fe,{title:"Failed",value:C,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:u}),e.jsx(fe,{title:"Today's Logins",value:P,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:u})]}),h&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load login history. Please try again."}),e.jsx(lt,{data:f,columns:z,actions:c?e.jsxs("div",{className:"flex justify-between gap-3 items-center flex-wrap",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(as,{placeholder:"Search by IP, device, OS, or user...",value:t,onChange:D,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:O=>n(O.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Successful"}),e.jsx(Z,{value:"inactive",children:"Failed"})]})]}),e.jsx("div",{className:"flex gap-2 items-center",children:e.jsx(Jt,{title:"Export Login History",description:"Are you sure you want to export the current login history data to Excel? This will include all filtered results.",onConfirm:R,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:j.isPending,children:j.isPending?"Exporting...":"Export"})})})]}):!1,getRowId:O=>O.id,initialOrderBy:"login_time",loading:u,totalCount:v,page:_,rowsPerPage:o,onPageChange:T,isPermission:c,emptyMessage:t?`No login history found matching "${t}"`:"No login history found in the system"})]})},b3e=async t=>{try{return(await ie.get("/routes",{params:t})).data}catch(s){throw s}},v3e=async t=>{try{return(await ie.get(`/routes/${t}`)).data}catch(s){throw s}},j3e=async t=>(await ie.post("/routes",t)).data,N3e=async(t,s)=>(await ie.put(`/routes/${t}`,s)).data,w3e=async(t,s)=>(await ie({method:"DELETE",url:`/routes/${t}`,data:{force:s||void 0}})).data,Wo={all:["routes"],lists:()=>[...Wo.all,"list"],list:t=>[...Wo.lists(),t],details:()=>[...Wo.all,"detail"],detail:t=>[...Wo.details(),t]},f1=(t,s)=>nt({queryKey:Wo.list(t||{}),queryFn:()=>b3e(t),staleTime:300*1e3,...s}),_3e=t=>nt({queryKey:Wo.detail(t),queryFn:()=>v3e(t),enabled:!!t,staleTime:300*1e3}),S3e=t=>{const s=cs();return Re({mutationFn:j3e,loadingMessage:"Creating route...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Wo.lists()})},onError:t?.onError})},C3e=t=>{const s=cs();return Re({mutationFn:({id:a,...n})=>N3e(a,n),loadingMessage:"Updating route...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Wo.lists()}),s.invalidateQueries({queryKey:Wo.detail(n.id)})},onError:t?.onError})},k3e=t=>{const s=cs();return Re({mutationFn:({id:a,force:n})=>w3e(a,n),loadingMessage:"Deleting route...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Wo.lists()})},onError:t?.onError})},P3e=async t=>{try{return(await ie.get("/zones",{params:t})).data}catch(s){throw console.error("Error fetching zones:",s),new Error(s.response?.data?.message||"Failed to fetch zones")}},E3e=async t=>{try{return(await ie.post("/zones",t)).data}catch(s){throw console.error("Error creating zone:",s),new Error(s.response?.data?.message||"Failed to create zone")}},T3e=async(t,s)=>{try{return(await ie.put(`/zones/${t}`,s)).data}catch(a){throw console.error("Error updating zone:",a),new Error(a.response?.data?.message||"Failed to update zone")}},M3e=async t=>{try{return(await ie.delete(`/zones/${t}`)).data}catch(s){throw console.error("Error deleting zone:",s),new Error(s.response?.data?.message||"Failed to delete zone")}},D3e=async t=>{try{return(await ie.get("/zone/supervisors",{params:t?{search:t}:{}})).data}catch(s){throw console.error("Error fetching supervisors:",s),new Error(s.response?.data?.message||"Failed to fetch supervisors")}},Ui={all:["zones"],lists:()=>[...Ui.all,"list"],list:t=>[...Ui.lists(),t],details:()=>[...Ui.all,"detail"],detail:t=>[...Ui.details(),t],supervisors:()=>[...Ui.all,"supervisors"],supervisor:t=>[...Ui.supervisors(),t]},ic=(t,s)=>nt({queryKey:Ui.list(t||{}),queryFn:()=>P3e(t),staleTime:300*1e3,...s}),R3e=t=>nt({queryKey:Ui.supervisor(""),queryFn:()=>D3e(t),staleTime:600*1e3}),A3e=t=>{const s=cs();return Re({mutationFn:E3e,loadingMessage:"Creating zone...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Ui.lists()})},onError:t?.onError})},I3e=t=>{const s=cs();return Re({mutationFn:({id:a,...n})=>T3e(a,n),loadingMessage:"Updating zone...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Ui.lists()}),s.invalidateQueries({queryKey:Ui.detail(n.id)})},onError:t?.onError})},O3e=t=>{const s=cs();return Re({mutationFn:M3e,loadingMessage:"Deleting zone...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Ui.lists()})},onError:t?.onError})},F3e=it({file:hs().required("Please select a file to import")}),L3e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:F3e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("customers")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"customers",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Customers",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple customers. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successfully Imported"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-2",children:"Errors Found:"}),e.jsx(y,{className:"!max-h-40 !overflow-y-auto !bg-red-50 !p-3 !rounded-lg",children:r.errors.map((b,w)=>e.jsx(x,{variant:"caption",className:"!text-red-700 !block !mb-1",children:b},w))})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),a&&o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import"}),r&&o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,className:"!bg-green-600 hover:!bg-green-700",children:"Done"})]})]})})})},z3e=it().shape({name:me().required("Outlet name is required").min(2,"Outlet name must be at least 2 characters").max(100,"Outlet name must be at most 100 characters"),zones_id:me().nullable(),type:me().nullable(),contact_person:me().max(100,"Contact person name must be at most 100 characters").nullable(),phone_number:me().matches(/^[\+]?[1-9][\d]{0,15}$/,"Invalid phone number format").nullable(),email:me().email("Invalid email format").nullable(),address:me().max(500,"Address must be at most 500 characters").nullable(),city:me().max(100,"City must be at most 100 characters").nullable(),state:me().max(100,"State must be at most 100 characters").nullable(),zipcode:me().max(20,"Zipcode must be at most 20 characters").nullable(),latitude:me().matches(/^-?([1-8]?[1-9]|[1-9]0)\.{1}\d{1,6}$/,"Invalid latitude format").nullable(),longitude:me().matches(/^-?([1]?[1-7][1-9]|[1]?[1-8][0]|[1-9]?[0-9])\.{1}\d{1,6}$/,"Invalid longitude format").nullable(),credit_limit:me().matches(/^\d+(\.\d{1,2})?$/,"Invalid credit limit format").nullable(),outstanding_amount:me().matches(/^\d+(\.\d{1,2})?$/,"Invalid outstanding amount format").nullable(),route_id:me().nullable(),salesperson_id:me().nullable(),last_visit_date:me().nullable(),is_active:me().oneOf(["Y","N"],"Status must be Y or N").required("Status is required")}),$3e=({selectedOutlet:t,setSelectedOutlet:s,drawerOpen:a,setDrawerOpen:n,routes:r,zones:i})=>{const o=!!t,l=()=>{s(null),n(!1),_.resetForm()},c=x4e(),m=g4e(),{data:u}=JS({limit:1e3,is_active:"Y"}),{data:h}=e3({limit:1e3,is_active:"Y"}),f=u?.data||[],v=h?.data||[],_=ft({initialValues:{name:t?.name||"",short_name:t?.short_name||"",zones_id:t?.zones_id?.toString()||"",customer_type_id:t?.customer_type_id?.toString()||"",customer_channel_id:t?.customer_channel_id?.toString()||"",type:t?.type||"Retail",internal_code_one:t?.internal_code_one||"",internal_code_two:t?.internal_code_two||"",contact_person:t?.contact_person||"",phone_number:t?.phone_number||"",email:t?.email||"",address:t?.address||"",city:t?.city||"",state:t?.state||"",zipcode:t?.zipcode||"",latitude:t?.latitude||"",longitude:t?.longitude||"",credit_limit:t?.credit_limit||"",outstanding_amount:t?.outstanding_amount||"0",route_id:t?.route_id?.toString()||"",salesperson_id:t?.salesperson_id?.toString()||"",nfc_tag_code:t?.nfc_tag_code||"",last_visit_date:t?.last_visit_date?t.last_visit_date.split("T")[0]:"",is_active:t?.is_active||"Y"},validationSchema:z3e,enableReinitialize:!0,onSubmit:async S=>{try{const j={name:S.name,short_name:S.short_name,zones_id:S.zones_id?Number(S.zones_id):void 0,customer_type_id:S.customer_type_id?Number(S.customer_type_id):void 0,customer_channel_id:S.customer_channel_id?Number(S.customer_channel_id):void 0,type:S.type,internal_code_one:S.internal_code_one,internal_code_two:S.internal_code_two,contact_person:S.contact_person,phone_number:S.phone_number,email:S.email,address:S.address,city:S.city,state:S.state,zipcode:S.zipcode,latitude:S.latitude,longitude:S.longitude,credit_limit:S.credit_limit,outstanding_amount:S.outstanding_amount||"0",route_id:S.route_id?Number(S.route_id):void 0,salesperson_id:S.salesperson_id?Number(S.salesperson_id):void 0,nfc_tag_code:S.nfc_tag_code,last_visit_date:S.last_visit_date?new Date(S.last_visit_date).toISOString():void 0,is_active:S.is_active};o&&t?await m.mutateAsync({id:t.id,...j}):await c.mutateAsync(j),l()}catch(j){console.log("Error saving customer:",j)}}});return e.jsx(ot,{open:a,setOpen:l,title:o?"Edit Outlet":"Create Outlet",children:e.jsx(y,{className:"!p-4",children:e.jsxs("form",{onSubmit:_.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Outlet Name",placeholder:"Enter outlet name",formik:_,required:!0}),e.jsx(oe,{name:"short_name",label:"Short Name",placeholder:"Enter short name",formik:_}),e.jsx(_e,{name:"zones_id",label:"Zone",formik:_,children:i.map(S=>e.jsx(Z,{value:S.id.toString(),children:S.name},S.id))}),e.jsx(_e,{name:"customer_type_id",label:"Customer Type",formik:_,children:f.map(S=>e.jsx(Z,{value:S.id.toString(),children:S.type_name},S.id))}),e.jsx(_e,{name:"customer_channel_id",label:"Customer Channel",formik:_,children:v.map(S=>e.jsx(Z,{value:S.id.toString(),children:S.channel_name},S.id))}),e.jsx(oe,{name:"contact_person",label:"Contact Person",placeholder:"Enter contact person name",formik:_}),e.jsx(oe,{name:"phone_number",label:"Phone Number",placeholder:"Enter phone number",formik:_}),e.jsx(oe,{name:"email",label:"Email",type:"email",placeholder:"Enter email address",formik:_}),e.jsx(oe,{name:"internal_code_one",label:"Internal Code One",placeholder:"Enter internal code one",formik:_}),e.jsx(oe,{name:"internal_code_two",label:"Internal Code Two",placeholder:"Enter internal code two",formik:_}),e.jsx(_e,{name:"route_id",label:"Route",formik:_,children:r.map(S=>e.jsxs(Z,{value:S.id.toString(),children:[S.name," (",S.code,")"]},S.id))}),e.jsx(hr,{name:"salesperson_id",label:"Sales Person",formik:_}),e.jsx(oe,{name:"city",label:"City",placeholder:"Enter city",formik:_}),e.jsx(oe,{name:"state",label:"State",placeholder:"Enter state",formik:_}),e.jsx(oe,{name:"zipcode",label:"Zip Code",placeholder:"Enter zip code",formik:_}),e.jsx(oe,{name:"latitude",label:"Latitude",placeholder:"Enter latitude",formik:_}),e.jsx(oe,{name:"longitude",label:"Longitude",placeholder:"Enter longitude",formik:_}),e.jsx(oe,{name:"credit_limit",label:"Credit Limit",placeholder:"Enter credit limit",formik:_}),e.jsx(oe,{name:"outstanding_amount",label:"Outstanding Amount",placeholder:"Enter outstanding amount",formik:_}),e.jsx(oe,{name:"last_visit_date",label:"Last Visit Date",type:"date",formik:_}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(Ps,{name:"is_active",formik:_,required:!0})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"address",label:"Address",placeholder:"Enter full address",formik:_,multiline:!0,rows:3})})]}),e.jsxs(y,{className:"!flex !justify-end items-center !gap-4",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:l,disabled:c.isPending||m.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:c.isPending||m.isPending,children:c.isPending?"Creating...":m.isPending?"Updating...":o?"Update Outlet":"Create Outlet"})]})]})})})},q3e=["Retail","Wholesale","Corporate","Industrial","Healthcare","Automotive","Restaurant","Service","Manufacturing","Distribution"],B3e=t=>{switch((t||"").toLowerCase()){case"retail":return"primary";case"wholesale":return"success";case"corporate":return"warning";case"industrial":return"default";case"healthcare":return"info";case"automotive":return"error";case"restaurant":return"warning";case"service":return"secondary";case"manufacturing":return"info";case"distribution":return"success";default:return"default"}},WF=t=>{switch((t||"").toLowerCase()){case"retail":return e.jsx(Cb,{className:"w-4 h-4"});case"wholesale":return e.jsx(ua,{className:"w-4 h-4"});case"corporate":return e.jsx(js,{className:"w-4 h-4"});case"industrial":return e.jsx(js,{className:"w-4 h-4"});case"healthcare":return e.jsx(ua,{className:"w-4 h-4"});case"automotive":return e.jsx(js,{className:"w-4 h-4"});case"restaurant":return e.jsx(ua,{className:"w-4 h-4"});case"service":return e.jsx(js,{className:"w-4 h-4"});case"manufacturing":return e.jsx(js,{className:"w-4 h-4"});case"distribution":return e.jsx(js,{className:"w-4 h-4"});default:return e.jsx(Cb,{className:"w-4 h-4"})}},U3e=()=>{const t=Gs(),[s,a]=g.useState(""),[n,r]=g.useState("all"),[i,o]=g.useState("all"),[l,c]=g.useState(null),[m,u]=g.useState(!1),[h,f]=g.useState(!1),[v,_]=g.useState(1),[S]=g.useState(10),{isCreate:j,isUpdate:b,isDelete:w,isRead:C}=Ze("outlet"),{data:P}=Mu(),{data:E}=nc({limit:1e3}),T=P?.data?.currency_id||"",{data:R,isFetching:z,error:O}=Fp({search:s,page:v,limit:S,isActive:n==="all"?void 0:n==="active"?"Y":"N",type:i==="all"?void 0:i},{enabled:C}),{data:$}=f1({page:1,limit:100,status:"active"}),{data:A}=ic({page:1,limit:100,isActive:"Y"}),Q=R?.data||[],K=$?.data||[],U=A?.data||[],B=R?.meta?.total||0,V=(R?.meta?.page||1)-1,Y=y4e(),H=ms(),F=R?.stats?.total_customers??0,M=R?.stats?.active_customers??0,L=R?.stats?.total_credit_limit??0,W=R?.stats?.total_outstanding_amount??0,X=g.useCallback(()=>{c(null),u(!0)},[]),te=g.useCallback(le=>{c(le),u(!0)},[]),se=g.useCallback(async le=>{try{await Y.mutateAsync(le)}catch(de){console.error("Error deleting outlet:",de)}},[Y]),ae=g.useCallback(le=>{a(le),_(1)},[]),pe=g.useCallback(async()=>{try{const le={search:s,isActive:n==="all"?void 0:n==="active"?"Y":"N",type:i==="all"?void 0:i};await H.mutateAsync({tableName:"customers",filters:le})}catch(le){console.error("Error exporting customers:",le)}},[H,s,n,i]),he=le=>{_(le+1)},re=le=>(E?.data||[]).find(Ae=>Ae.id===Number(le))?.code||"USD",xe=le=>{if(!le)return"N/A";const de=re(T);return new Intl.NumberFormat("en-US",{style:"currency",currency:de}).format(parseFloat(le))},ge=[{id:"name",label:"Outlet Name",render:(le,de)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",onClick:()=>t(`/masters/outlets/${de.id}`),children:[e.jsx(ht,{alt:de.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Cb,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:de.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:de.code})]})]})},{id:"customer_type.type_name",label:"Outlet Type",render:(le,de)=>e.jsx(De,{icon:WF(de.customer_type?.type_name||""),label:de.customer_type?.type_name||"N/A",size:"small",variant:"outlined",className:"!capitalize !px-1",color:B3e(de.customer_type?.type_name||"")})},{id:"customer_channel.channel_name",label:"Outlet Channel",render:(le,de)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:de.customer_channel?.channel_name||"N/A"})},{id:"email",label:"Email",render:(le,de)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:de.email||e.jsx("span",{className:"!text-gray-500 !text-xs italic",children:"No Email"})})},{id:"row.city",label:"Location",render:(le,de)=>e.jsx(y,{children:e.jsxs(y,{className:"flex items-center text-gray-900",children:[e.jsx(Qs,{className:"w-4 h-4 text-gray-400 mr-2"}),de.city&&de.state&&de.zipcode?`${de.city}${de.state?`, ${de.state}`:""}${de.zipcode?`, ${de.zipcode}`:""}`:de.city?de.city:de.state?de.state:de.zipcode?de.zipcode:"N/A"]})})},{id:"customer_routes.name",label:"Route",render:(le,de)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:de.customer_routes?.name||e.jsx("span",{className:"!text-gray-500 !text-xs italic",children:"No Route"})})},{id:"customer_users.name",label:"Salesperson",render:(le,de)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:de.customer_users?.name||e.jsx("span",{className:"!text-gray-500 !text-xs italic",children:"No Salesperson"})})},{id:"credit_limit",label:"Credit Limit",render:(le,de)=>e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:xe(de.credit_limit??"0")})},{id:"outstanding_amount",label:"Outstanding",render:(le,de)=>e.jsx(x,{variant:"body2",className:"!text-red-600 !font-medium",children:xe(de.outstanding_amount)})},{id:"is_active",label:"Status",render:le=>e.jsx(De,{icon:le==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:le==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:le==="Y"?"success":"error"})},...b||w||C?[{id:"action",label:"Actions",sortable:!1,render:(le,de)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[b&&e.jsx(is,{onClick:()=>te(de),tooltip:`Edit ${de.name}`}),w&&e.jsx(Vt,{onClick:()=>se(de.id),tooltip:`Delete ${de.name}`,itemName:de.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Outlets Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage customer outlets, distributors, retailers, and wholesalers"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Outlets",value:F,icon:e.jsx(Cb,{className:"w-6 h-6"}),color:"blue",isLoading:z}),e.jsx(fe,{title:"Active Outlets",value:M,icon:e.jsx(jo,{className:"w-6 h-6"}),color:"green",isLoading:z}),e.jsx(fe,{title:"Total Credit Limit",value:xe(L.toString()),icon:e.jsx(Dp,{className:"w-6 h-6"}),color:"purple",isLoading:z}),e.jsx(fe,{title:"Outstanding Amount",value:xe(W.toString()),icon:e.jsx(Wc,{className:"w-6 h-6"}),color:"red",isLoading:z})]}),O&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load outlets. Please try again."}),e.jsx(lt,{data:Q,columns:ge,actions:C||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex items-center flex-wrap gap-2",children:C&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Outlets",value:s,onChange:ae,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(_e,{value:n,onChange:le=>r(le.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(_e,{value:i,onChange:le=>o(le.target.value),className:"!min-w-40",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Types"}),q3e.map(le=>e.jsx(Z,{value:le,children:le},le))]})]})}),j&&e.jsxs("div",{className:"flex items-center gap-2",children:[C&&e.jsx(Jt,{title:"Export Customers",description:"Are you sure you want to export the current customers data to Excel? This will include all filtered results.",onConfirm:pe,confirmText:"Export",cancelText:"Cancel",children:e.jsx(G,{variant:"outlined",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(_t,{}),disabled:H.isPending,children:H.isPending?"Exporting...":"Export"})}),C&&e.jsx(G,{variant:"outlined",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(xs,{}),onClick:()=>f(!0),children:"Import"}),e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:X,children:"Create"})]})]}):!1,getRowId:le=>le.id,initialOrderBy:"name",loading:z,totalCount:B,page:V,rowsPerPage:S,isPermission:C,onPageChange:he,emptyMessage:s?`No outlets found matching "${s}"`:"No outlets found in the system"}),e.jsx($3e,{selectedOutlet:l,setSelectedOutlet:c,drawerOpen:m,setDrawerOpen:u,routes:K,zones:U}),e.jsx(L3e,{drawerOpen:h,setDrawerOpen:f})]})};function wm(t){const{children:s,value:a,index:n,...r}=t;return e.jsx("div",{role:"tabpanel",hidden:a!==n,id:`outlet-tabpanel-${n}`,"aria-labelledby":`outlet-tab-${n}`,...r,children:a===n&&e.jsx(y,{children:s})})}const V3e=()=>{const{id:t}=Jn(),[s,a]=g.useState(0),{data:n,isLoading:r,error:i}=p4e(Number(t)),o=n?.data,l=o?.customer||o||{},c=o?.documents||[],m=o?.assets||[],u=o?.transactions||[],h=o?.feedbacks||[],f=o?.complaints||[],v=(T,R)=>{a(R)};if(r)return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !items-center !gap-3",children:e.jsxs(y,{className:"!flex-1",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(J,{variant:"text",width:200,height:32}),e.jsx(J,{variant:"rectangular",width:80,height:24,className:"!rounded-full"}),e.jsx(J,{variant:"rectangular",width:100,height:24,className:"!rounded-full"})]}),e.jsx(J,{variant:"text",width:300,height:20,className:"!mt-1"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[1,2,3,4].map(T=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(J,{variant:"text",width:100,height:16}),e.jsx(J,{variant:"text",width:120,height:28,className:"!mt-1"}),e.jsx(J,{variant:"text",width:80,height:16,className:"!mt-2"})]}),e.jsx(J,{variant:"circular",width:48,height:48})]})},T))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx(J,{variant:"text",width:150,height:24,className:"!mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(T=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(J,{variant:"circular",width:16,height:16}),e.jsxs("div",{className:"flex-1",children:[e.jsx(J,{variant:"text",width:80,height:16}),e.jsx(J,{variant:"text",width:120,height:20,className:"!mt-1"})]})]},T))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx(J,{variant:"text",width:150,height:24,className:"!mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(T=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(J,{variant:"circular",width:16,height:16}),e.jsxs("div",{className:"flex-1",children:[e.jsx(J,{variant:"text",width:80,height:16}),e.jsx(J,{variant:"text",width:120,height:20,className:"!mt-1"})]})]},T))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx(y,{children:e.jsxs(tl,{value:0,children:[e.jsx(Rs,{icon:e.jsx(l_,{}),label:"Assets (0)",iconPosition:"start",className:"!py-0 !min-h-14",disabled:!0}),e.jsx(Rs,{icon:e.jsx(Qf,{}),label:"Asset History (0)",iconPosition:"start",className:"!py-0 !min-h-14",disabled:!0}),e.jsx(Rs,{icon:e.jsx(L8,{}),label:"Transactions (0)",iconPosition:"start",className:"!py-0 !min-h-14",disabled:!0}),e.jsx(Rs,{icon:e.jsx(I8,{}),label:"Feedbacks (0)",iconPosition:"start",className:"!py-0 !min-h-14",disabled:!0}),e.jsx(Rs,{icon:e.jsx(o_,{}),label:"Complaints (0)",iconPosition:"start",className:"!py-0 !min-h-14",disabled:!0}),e.jsx(Rs,{icon:e.jsx(i_,{}),label:"Attachments (0)",iconPosition:"start",className:"!py-0 !min-h-14",disabled:!0})]})}),e.jsxs(y,{className:"p-4",children:[e.jsx(y,{className:"mb-4",children:e.jsx(J,{variant:"rectangular",width:"100%",height:48,className:"!rounded"})}),[1,2,3,4,5].map(T=>e.jsxs(y,{className:"flex items-center gap-4 mb-3",children:[e.jsx(J,{variant:"rectangular",width:40,height:40,className:"!rounded"}),e.jsx(J,{variant:"text",width:150,height:20}),e.jsx(J,{variant:"text",width:120,height:20}),e.jsx(J,{variant:"text",width:100,height:20}),e.jsx(J,{variant:"text",width:100,height:20}),e.jsx(J,{variant:"rectangular",width:80,height:24,className:"!rounded-full"})]},T))]})]})]});if(i||!l)return e.jsx(y,{className:"p-6",children:e.jsx(ct,{severity:"error",children:"Failed to load outlet details. Please try again."})});const _=[{id:"document_type",label:"Document Type",render:(T,R)=>e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"!bg-blue-100 !text-blue-600 !w-8 !h-8",children:e.jsx(Cs,{className:"w-4 h-4"})}),e.jsx(x,{variant:"body2",className:"!font-medium",children:R.document_type})]})},{id:"document_number",label:"Document Number",render:T=>e.jsx(x,{variant:"body2",children:T||e.jsx("span",{className:"text-gray-400",children:"N/A"})})},{id:"issue_date",label:"Issue Date",render:T=>e.jsx(x,{variant:"body2",children:T?Oe(T):"-"})},{id:"expiry_date",label:"Expiry Date",render:T=>e.jsx(x,{variant:"body2",children:T?Oe(T):"-"})},{id:"is_verified",label:"Verification Status",render:T=>e.jsx(De,{icon:T?e.jsx(Yle,{fontSize:"small"}):e.jsx(wg,{fontSize:"small"}),label:T?"Verified":"Pending",size:"small",color:T?"success":"warning"})},{id:"is_active",label:"Status",render:T=>e.jsx(De,{icon:T==="Y"?e.jsx(pt,{}):e.jsx(A8,{}),label:T==="Y"?"Active":"Inactive",size:"small",color:T==="Y"?"success":"error"})}],S=[{id:"code",label:"Asset Code",render:(T,R)=>e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"!bg-purple-100 !text-purple-600 !w-8 !h-8",children:e.jsx(Wt,{className:"w-4 h-4"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!font-medium",children:R.code}),R.asset_types&&e.jsx(x,{variant:"caption",className:"!text-gray-500",children:R.asset_types.name})]})]})},{id:"brand",label:"Brand & Model",render:(T,R)=>e.jsxs(y,{children:[e.jsx(x,{variant:"body2",children:R.brand||e.jsx("span",{className:"text-gray-400",children:"No Brand"})}),R.model&&e.jsx(x,{variant:"caption",className:"!text-gray-500",children:R.model})]})},{id:"serial_number",label:"Serial Number",render:T=>e.jsx(x,{variant:"body2",children:T||e.jsx("span",{className:"text-gray-400",children:"N/A"})})},{id:"capacity",label:"Capacity",render:T=>e.jsx(x,{variant:"body2",children:T||e.jsx("span",{className:"text-gray-400",children:"-"})})},{id:"status",label:"Status",render:T=>e.jsx(De,{label:T||"working",size:"small",className:"!capitalize",color:T==="working"?"success":"default"})},{id:"install_date",label:"Install Date",render:T=>e.jsx(x,{variant:"body2",children:T?Oe(T):"-"})}],j=[{id:"change_date",label:"Change Date",render:T=>e.jsx(x,{variant:"body2",children:T?Oe(T):"-"})},{id:"change_type",label:"Change Type",render:T=>e.jsx(De,{label:T||"Update",size:"small",className:"!capitalize"})},{id:"old_status",label:"Old Status",render:T=>e.jsx(x,{variant:"body2",className:"!text-gray-600",children:T||"-"})},{id:"new_status",label:"New Status",render:T=>e.jsx(x,{variant:"body2",className:"!font-medium",children:T||"-"})},{id:"remarks",label:"Remarks",render:T=>e.jsx(x,{variant:"body2",className:"!max-w-xs !truncate",children:T||e.jsx("span",{className:"text-gray-400",children:"No remarks"})})}],b=m.flatMap(T=>(T.customer_assets_history||[]).map(R=>({...R,asset_code:T.code,asset_type:T.asset_types?.name}))),w=[{id:"transaction_date",label:"Date",render:T=>e.jsx(x,{variant:"body2",children:T?Oe(T):"-"})},{id:"transaction_type",label:"Type",render:T=>e.jsx(De,{label:T||"N/A",size:"small",className:"!capitalize"})},{id:"amount",label:"Amount",render:T=>e.jsx(x,{variant:"body2",className:"!font-medium",children:T?D(T):"-"})},{id:"status",label:"Status",render:T=>e.jsx(De,{label:T||"Pending",size:"small",className:"!capitalize",color:T==="completed"||T==="paid"?"success":T==="pending"?"warning":"default"})},{id:"description",label:"Description",render:T=>e.jsx(x,{variant:"body2",className:"!max-w-xs !truncate",children:T||e.jsx("span",{className:"text-gray-400",children:"No description"})})}],C=[{id:"feedback_date",label:"Date",render:T=>e.jsx(x,{variant:"body2",children:T?Oe(T):"-"})},{id:"rating",label:"Rating",render:T=>e.jsxs(y,{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(R=>e.jsx(x,{variant:"body2",className:R<=(T||0)?"!text-yellow-500":"!text-gray-300",children:""},R)),T&&e.jsxs(x,{variant:"caption",className:"!text-gray-500 !ml-1",children:["(",T,")"]})]})},{id:"feedback_type",label:"Type",render:T=>e.jsx(De,{label:T||"General",size:"small",className:"!capitalize"})},{id:"comment",label:"Comment",render:T=>e.jsx(x,{variant:"body2",className:"!max-w-xs !truncate",children:T||e.jsx("span",{className:"text-gray-400",children:"No comment"})})},{id:"status",label:"Status",render:T=>e.jsx(De,{label:T||"Active",size:"small",className:"!capitalize",color:T==="resolved"?"success":"default"})}],P=[{id:"complaint_date",label:"Date",render:T=>e.jsx(x,{variant:"body2",children:T?Oe(T):"-"})},{id:"complaint_type",label:"Type",render:T=>e.jsx(De,{label:T||"General",size:"small",className:"!capitalize",color:"error"})},{id:"priority",label:"Priority",render:T=>e.jsx(De,{label:T||"Medium",size:"small",className:"!capitalize",color:T==="high"||T==="urgent"?"error":T==="medium"?"warning":"default"})},{id:"description",label:"Description",render:T=>e.jsx(x,{variant:"body2",className:"!max-w-xs !truncate",children:T||e.jsx("span",{className:"text-gray-400",children:"No description"})})},{id:"status",label:"Status",render:T=>e.jsx(De,{label:T||"Open",size:"small",className:"!capitalize",color:T==="resolved"||T==="closed"?"success":T==="in_progress"?"warning":"error"})}],E=T=>{switch((T||"").toLowerCase()){case"retail":return"primary";case"wholesale":return"success";case"corporate":return"warning";case"industrial":return"default";case"healthcare":return"info";case"automotive":return"error";case"restaurant":return"warning";case"service":return"secondary";case"manufacturing":return"info";case"distribution":return"success";default:return"default"}},D=T=>T?new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(parseFloat(T)):"0";return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !items-center !gap-3",children:e.jsxs(y,{className:"!flex-1",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(x,{variant:"h5",className:"!font-bold !text-gray-900",children:l.name}),e.jsx(De,{icon:l.is_active==="Y"?e.jsx(pt,{}):e.jsx(A8,{}),label:l.is_active==="Y"?"Active":"Inactive",size:"small",color:l.is_active==="Y"?"success":"error"}),l.type&&e.jsx(De,{icon:WF(l.type||""),label:l.type||"N/A",size:"small",variant:"outlined",className:"!capitalize !px-1",color:E(l.type||"")})]}),e.jsxs(x,{variant:"body2",className:"!text-gray-500 !mt-1",children:["Code: ",l.code,l.short_name&&`  Short: ${l.short_name}`,l.email&&`  ${l.email}`,l.nfc_tag_code&&`  NFC: ${l.nfc_tag_code}`]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Customer Type",value:l.customer_type?.type_name||"N/A",icon:e.jsx(Sr,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Category",value:l.customer_category?.category_name||"N/A",icon:e.jsx(Wle,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"Zone",value:l.customer_zones?.name||"N/A",icon:e.jsx(Lle,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Channel",value:l.customer_channel?.channel_name||"N/A",icon:e.jsx(Vle,{className:"w-6 h-6"}),color:"orange"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_A,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Contact Person"}),e.jsx(x,{variant:"body1",className:"!font-medium",children:l.contact_person||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ble,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Phone Number"}),e.jsx(x,{variant:"body1",className:"!font-medium",children:l.phone_number||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qs,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Address"}),e.jsx(x,{variant:"body1",className:"!font-medium",children:l.address||"N/A"}),l.city&&e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:[l.city,", ",l.state," ",l.zipcode]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-4",children:"Business Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Dp,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Credit Limit"}),e.jsx(x,{variant:"body1",className:"!font-medium",children:l.credit_limit?D(l.credit_limit):"Not Set"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($le,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Outstanding Amount"}),e.jsx(x,{variant:"body1",className:"!font-medium",children:l.outstanding_amount?D(l.outstanding_amount):"0"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_s,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Last Visit Date"}),e.jsx(x,{variant:"body1",className:"!font-medium",children:l.last_visit_date?Oe(l.last_visit_date):"No visits yet"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx(y,{children:e.jsxs(tl,{value:s,onChange:v,className:"!min-h-14",children:[e.jsx(Rs,{icon:e.jsx(l_,{}),label:`Assets (${m.length})`,iconPosition:"start",className:"!py-0 !min-h-14",sx:{"& .MuiButtonBase-root":{padding:1}}}),e.jsx(Rs,{icon:e.jsx(Qf,{}),label:`Asset History (${b.length})`,iconPosition:"start",className:"!py-0 !min-h-14",sx:{"& .MuiButtonBase-root":{padding:1}}}),e.jsx(Rs,{icon:e.jsx(L8,{}),label:`Transactions (${u.length})`,iconPosition:"start",className:"!py-0 !min-h-14",sx:{"& .MuiButtonBase-root":{padding:1}}}),e.jsx(Rs,{icon:e.jsx(I8,{}),label:`Feedbacks (${h.length})`,iconPosition:"start",className:"!py-0 !min-h-14",sx:{"& .MuiButtonBase-root":{padding:1}}}),e.jsx(Rs,{icon:e.jsx(o_,{}),label:`Complaints (${f.length})`,iconPosition:"start",className:"!py-0 !min-h-14",sx:{"& .MuiButtonBase-root":{padding:1}}}),e.jsx(Rs,{icon:e.jsx(i_,{}),label:`Attachments (${c.length})`,iconPosition:"start",className:"!py-0 !min-h-14",sx:{"& .MuiButtonBase-root":{padding:1}}})]})}),e.jsx(wm,{value:s,index:0,children:e.jsx(lt,{data:m,columns:S,getRowId:T=>T.id,initialOrderBy:"createdate",emptyMessage:"No assets found for this outlet",pagination:!1})}),e.jsx(wm,{value:s,index:1,children:e.jsx(lt,{data:b,columns:j,getRowId:T=>T.id,initialOrderBy:"change_date",emptyMessage:"No asset history found",pagination:!1})}),e.jsx(wm,{value:s,index:2,children:e.jsx(lt,{data:u,columns:w,getRowId:T=>T.id,initialOrderBy:"transaction_date",emptyMessage:"No transactions found for this outlet",pagination:!1})}),e.jsx(wm,{value:s,index:3,children:e.jsx(lt,{data:h,columns:C,getRowId:T=>T.id,initialOrderBy:"feedback_date",emptyMessage:"No feedbacks found for this outlet",pagination:!1})}),e.jsx(wm,{value:s,index:4,children:e.jsx(lt,{data:f,columns:P,getRowId:T=>T.id,initialOrderBy:"complaint_date",emptyMessage:"No complaints found for this outlet",pagination:!1})}),e.jsx(wm,{value:s,index:5,children:e.jsx(lt,{data:c,columns:_,getRowId:T=>T.id,initialOrderBy:"createdate",emptyMessage:"No attachments found for this outlet",pagination:!1})})]})]})},H3e=async t=>{try{return(await ie.get("/customer-groups",{params:t})).data}catch(s){throw s}},W3e=async t=>(await ie.post("/customer-groups",t)).data,Y3e=async(t,s)=>(await ie.put(`/customer-groups/${t}`,s)).data,G3e=async t=>(await ie.delete(`/customer-groups/${t}`)).data,Vl={all:["outletGroups"],lists:()=>[...Vl.all,"list"],list:t=>[...Vl.lists(),t],details:()=>[...Vl.all,"detail"],detail:t=>[...Vl.details(),t]},K3e=(t,s)=>nt({queryKey:Vl.list(t||{}),queryFn:()=>H3e(t),staleTime:300*1e3,...s}),Q3e=t=>{const s=cs();return Re({mutationFn:W3e,loadingMessage:"Creating outlet group...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Vl.lists()})},onError:t?.onError})},Z3e=t=>{const s=cs();return Re({mutationFn:({id:a,...n})=>Y3e(a,n),loadingMessage:"Updating outlet group...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Vl.lists()}),s.invalidateQueries({queryKey:Vl.detail(n.id)})},onError:t?.onError})},X3e=t=>{const s=cs();return Re({mutationFn:G3e,loadingMessage:"Deleting outlet group...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Vl.lists()})},onError:t?.onError})},J3e=it().shape({name:me().required("Outlet group name is required").min(2,"Outlet group name must be at least 2 characters").max(255,"Outlet group name must be at most 255 characters"),description:me().max(500,"Description must be at most 500 characters").nullable(),discount_percentage:Qe().min(0,"Discount percentage must be at least 0").max(100,"Discount percentage must be at most 100").nullable(),credit_terms:Qe().min(0,"Credit terms must be at least 0").integer("Credit terms must be a whole number").nullable(),payment_terms:me().max(100,"Payment terms must be at most 100 characters").nullable(),price_group:me().max(50,"Price group must be at most 50 characters").nullable(),is_active:me().oneOf(["Y","N"],"Status must be Y or N").required("Status is required"),customerGroups:dl().of(it().shape({customer_id:Qe().required("Customer ID is required"),is_active:me().oneOf(["Y","N"]).default("Y")})).min(1,"At least one customer must be selected").required("Customers are required")}),eCe=({selectedOutletGroup:t,setSelectedOutletGroup:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),f.resetForm()},o=Q3e(),l=Z3e(),{data:c,isLoading:m}=Fp({page:1,limit:1e3,isActive:"Y"}),u=c?.data||[],h=()=>t?.members?u.filter(v=>t.members?.some(_=>_.customer_id===v.id)):[],f=ft({initialValues:{name:t?.name||"",description:t?.description||"",discount_percentage:t?.discount_percentage||"",credit_terms:t?.credit_terms||"",payment_terms:t?.payment_terms||"",price_group:t?.price_group||"",is_active:t?.is_active||"Y",selectedCustomers:h(),customerGroups:t?.members?.map(v=>({customer_id:v.customer_id,is_active:"Y"}))||[]},validationSchema:J3e,enableReinitialize:!0,onSubmit:async v=>{try{const _={name:v.name,description:v.description,discount_percentage:v.discount_percentage?Number(v.discount_percentage):void 0,credit_terms:v.credit_terms?Number(v.credit_terms):void 0,payment_terms:v.payment_terms,price_group:v.price_group,is_active:v.is_active,customerGroups:v.customerGroups};r&&t?await l.mutateAsync({id:t.id,..._}):await o.mutateAsync(_),i()}catch(_){console.error("Error saving outlet group:",_)}}});return g.useEffect(()=>{f.values.selectedCustomers&&f.setFieldValue("customerGroups",f.values.selectedCustomers.map(v=>({customer_id:v.id,is_active:"Y"})))},[f.values.selectedCustomers]),e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Outlet Group":"Create Outlet Group",size:"large",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Group Name",placeholder:"Enter outlet group name",formik:f,required:!0}),e.jsx(oe,{name:"discount_percentage",label:"Discount Percentage (%)",type:"number",placeholder:"Enter discount percentage",formik:f}),e.jsx(oe,{name:"credit_terms",label:"Credit Terms (Days)",type:"number",placeholder:"Enter credit terms in days",formik:f}),e.jsx(oe,{name:"payment_terms",label:"Payment Terms",placeholder:"Enter payment terms",formik:f}),e.jsx(oe,{name:"price_group",label:"Price Group",placeholder:"Enter price group",formik:f}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(Ps,{name:"is_active",formik:f,required:!0})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter group description",formik:f,multiline:!0,rows:3})}),e.jsxs(y,{className:"md:!col-span-2",children:[e.jsxs(x,{variant:"body2",className:"!mb-2 !font-medium !text-gray-700",children:["Select Customers ",e.jsx("span",{className:"!text-red-500",children:"*"})]}),e.jsx(Yn,{multiple:!0,size:"small",id:"customers-autocomplete",options:u,value:f.values.selectedCustomers,onChange:(v,_)=>{f.setFieldValue("selectedCustomers",_)},getOptionLabel:v=>`${v.name}`,loading:m,renderInput:v=>e.jsx(wn,{...v,placeholder:"Select customers",error:f.touched.customerGroups&&!!f.errors.customerGroups,helperText:f.touched.customerGroups&&typeof f.errors.customerGroups=="string"?f.errors.customerGroups:""}),slotProps:{chip:{size:"small",color:"primary",variant:"outlined"}},renderOption:(v,_)=>e.jsx(y,{component:"li",...v,children:e.jsxs(y,{className:"!flex !flex-col",children:[e.jsx(x,{variant:"body2",className:"!font-medium",children:_.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-500",children:[_.code,"  ",_.type||"N/A"," "," ",_.city||"N/A"]})]})}),isOptionEqualToValue:(v,_)=>v.id===_.id}),e.jsxs(x,{variant:"caption",className:"!text-gray-500 !mt-1",children:[f.values.selectedCustomers?.length||0," customer(s) selected"]})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-3 !items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:o.isPending||l.isPending,children:o.isPending?"Creating...":l.isPending?"Updating...":r?"Update Outlet Group":"Create Outlet Group"})]})]})})})},tCe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(1),[u]=g.useState(10),{isCreate:h,isUpdate:f,isDelete:v,isRead:_}=Ze("outlet-group"),{formatCurrency:S}=Qa(),{data:j,isFetching:b,error:w}=K3e({search:t,page:c,limit:u,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:_}),C=j?.data||[],P=j?.meta?.total||0,E=(j?.meta?.page||1)-1,D=X3e(),T=j?.stats?.total_groups??C.length,R=j?.stats?.active_groups??C.filter(Y=>Y.is_active==="Y").length,z=j?.stats?.inactive_groups??C.filter(Y=>Y.is_active==="N").length,O=Number(j?.stats?.avg_discount)?.toFixed(2)??0,$=g.useCallback(()=>{i(null),l(!0)},[]),A=g.useCallback(Y=>{i(Y),l(!0)},[]),Q=g.useCallback(async Y=>{try{await D.mutateAsync(Y)}catch(H){console.error("Error deleting outlet group:",H)}},[D]),K=g.useCallback(Y=>{s(Y),m(1)},[]),U=Y=>{m(Y+1)},B=Y=>Y==null?"N/A":`${S(Number(Y||"0"))}%`,V=[{id:"name",label:"Group Name",render:(Y,H)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:H.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(ua,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:H.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:H.code})]})]})},{id:"description",label:"Description",render:(Y,H)=>e.jsx(x,{variant:"body2",className:"!text-gray-700 !max-w-xs !truncate",children:H.description||"No Description"})},{id:"discount_percentage",label:"Discount %",render:(Y,H)=>e.jsxs(y,{className:"flex items-center",children:[e.jsx(pp,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:H.discount_percentage?B(H.discount_percentage):"0"})]})},{id:"credit_terms",label:"Credit Terms",render:(Y,H)=>e.jsxs(y,{className:"flex items-center",children:[e.jsx(_s,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx(x,{variant:"body2",className:"!text-gray-700",children:H.credit_terms?`${H.credit_terms} days`:"N/A"})]})},{id:"payment_terms",label:"Payment Terms",render:(Y,H)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:H.payment_terms||"N/A"})},{id:"price_group",label:"Price Group",render:(Y,H)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:H.price_group||"N/A"})},{id:"members_count",label:"Members",render:(Y,H)=>e.jsxs(y,{className:"flex items-center",children:[e.jsx(ua,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:H.members?.length||0})]})},{id:"is_active",label:"Status",render:Y=>e.jsx(De,{icon:Y==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:Y==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:Y==="Y"?"success":"error"})},...f||v||_?[{id:"action",label:"Actions",sortable:!1,render:(Y,H)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[f&&e.jsx(is,{onClick:()=>A(H),tooltip:`Edit ${H.name}`}),v&&e.jsx(Vt,{onClick:()=>Q(H.id),tooltip:`Delete ${H.name}`,itemName:H.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Outlet Groups Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage outlet groups with pricing, discounts, and credit terms"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Groups",value:T,icon:e.jsx(ua,{className:"w-6 h-6"}),color:"blue",isLoading:b}),e.jsx(fe,{title:"Active Groups",value:R,icon:e.jsx(jo,{className:"w-6 h-6"}),color:"green",isLoading:b}),e.jsx(fe,{title:"Inactive Groups",value:z,icon:e.jsx(ua,{className:"w-6 h-6"}),color:"red",isLoading:b}),e.jsx(fe,{title:"Avg Discount %",value:O,icon:e.jsx(pp,{className:"w-6 h-6"}),color:"purple",isLoading:b})]}),w&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load outlet groups. Please try again."}),e.jsx(lt,{data:C,columns:V,actions:_||h?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex items-center flex-wrap gap-2",children:_&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Outlet Groups",value:t,onChange:K,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(_e,{value:a,onChange:Y=>n(Y.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),h&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:$,children:"Add Outlet Group"})]}):!1,getRowId:Y=>Y.id,initialOrderBy:"name",loading:b,totalCount:P,page:E,rowsPerPage:u,isPermission:_,onPageChange:U,emptyMessage:t?`No outlet groups found matching "${t}"`:"No outlet groups found in the system"}),e.jsx(eCe,{selectedOutletGroup:r,setSelectedOutletGroup:i,drawerOpen:o,setDrawerOpen:l})]})},sCe=async t=>{try{return(await ie.get("/price-lists",{params:t})).data}catch(s){throw console.error("Error fetching price lists:",s),new Error(s.response?.data?.message||"Failed to fetch price lists")}},aCe=async t=>{try{return(await ie.post("/price-lists",t)).data.data}catch(s){throw console.error("Error creating price list:",s),new Error(s.response?.data?.message||"Failed to create price list")}},nCe=async(t,s)=>{try{return(await ie.put(`/price-lists/${t}`,s)).data.data}catch(a){throw console.error("Error updating price list:",a),new Error(a.response?.data?.message||"Failed to update price list")}},rCe=async t=>{try{await ie.delete(`/price-lists/${t}`)}catch(s){throw console.error("Error deleting price list:",s),new Error(s.response?.data?.message||"Failed to delete price list")}},kf={all:["price-lists"],lists:()=>[...kf.all,"list"],list:t=>[...kf.lists(),t],details:()=>[...kf.all,"detail"],detail:t=>[...kf.details(),t]},iCe=(t,s)=>nt({queryKey:kf.list(t),queryFn:()=>sCe(t),staleTime:300*1e3,...s}),oCe=()=>Re({mutationFn:aCe,invalidateQueries:["price-lists"],loadingMessage:"Creating price list..."}),lCe=()=>Re({mutationFn:({id:t,data:s})=>nCe(t,s),invalidateQueries:["price-lists"],loadingMessage:"Updating price list..."}),cCe=()=>Re({mutationFn:rCe,invalidateQueries:["price-lists"],loadingMessage:"Deleting price list..."}),dCe=it({file:hs().required("Please select a file to import")}),uCe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:dCe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("pricelists")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"pricelists",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Price Lists",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple price lists. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},mCe=it({product_id:Qe().required("Product is required").positive("Product ID must be positive"),unit_price:Qe().required("Unit price is required").min(0,"Unit price must be non-negative"),uom:me().nullable().max(50,"UOM must not exceed 50 characters"),discount_percent:Qe().nullable().min(0,"Discount percent must be non-negative").max(100,"Discount percent cannot exceed 100"),effective_from:Ta().nullable().transform((t,s)=>s===""||s===null?null:t),effective_to:Ta().nullable().transform((t,s)=>s===""||s===null?null:t).when("effective_from",(t,s)=>t&&t[0]?s.min(t[0],"Effective to date must be after effective from date"):s),is_active:me().oneOf(["Y","N"],"Status must be Y or N").default("Y")}),pCe=it({name:me().required("Name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters").trim(),description:me().nullable().max(255,"Description must not exceed 255 characters").trim(),currency_code:me().nullable().max(10,"Currency code must not exceed 10 characters").trim().uppercase(),valid_from:Ta().nullable().transform((t,s)=>s===""||s===null?null:t),valid_to:Ta().nullable().transform((t,s)=>s===""||s===null?null:t).when("valid_from",(t,s)=>t&&t[0]?s.min(t[0],"Valid to date must be after valid from date"):s),is_active:me().oneOf(["Y","N"],"Status must be Y or N").default("Y"),priceListItems:dl().of(mCe).nullable()}),hCe=async t=>{try{return(await ie.get("/products",{params:t})).data}catch(s){throw s}},fCe=async t=>{try{return(await ie.get(`/products/${t}`)).data}catch(s){throw s}},xCe=async t=>(await ie.post("/products",t)).data,gCe=async(t,s)=>(await ie.put(`/products/${t}`,s)).data,yCe=async t=>(await ie.delete(`/products/${t}`)).data,bCe=async t=>{try{return(await ie.get("/products-dropdown",{params:t})).data}catch(s){throw s}},Yo={all:["products"],lists:()=>[...Yo.all,"list"],list:t=>[...Yo.lists(),t],details:()=>[...Yo.all,"detail"],detail:t=>[...Yo.details(),t]},Ru=(t,s)=>nt({queryKey:Yo.list(t||{}),queryFn:()=>hCe(t),staleTime:300*1e3,...s}),vCe=t=>nt({queryKey:Yo.detail(t),queryFn:()=>fCe(t),enabled:!!t,staleTime:300*1e3}),jCe=t=>{const s=cs();return Re({mutationFn:xCe,loadingMessage:"Creating product...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Yo.lists()})},onError:t?.onError})},NCe=t=>{const s=cs();return Re({mutationFn:({id:a,...n})=>gCe(a,n),loadingMessage:"Updating product...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Yo.lists()}),s.invalidateQueries({queryKey:Yo.detail(n.id)})},onError:t?.onError})},wCe=t=>{const s=cs();return Re({mutationFn:yCe,loadingMessage:"Deleting product...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Yo.lists()})},onError:t?.onError})},_Ce=(t,s)=>nt({queryKey:["products","dropdown",t],queryFn:()=>bCe(t),staleTime:300*1e3,...s}),_o=({name:t="product_id",label:s="Product",required:a=!1,fullWidth:n=!0,size:r="small",formik:i,setValue:o,value:l,nameToSearch:c="",onChange:m,className:u,disabled:h=!1})=>{const[f,v]=g.useState(""),[_,S]=g.useState(""),[j,b]=g.useState(""),[w,C]=g.useState(!1),[P,E]=g.useState(null),[D,T]=g.useState(!1),R=g.useRef(!1),z=i?i.values[t]:l,O=z?typeof z=="number"?z.toString():String(z).trim():"";g.useEffect(()=>{const L=setTimeout(()=>{w||(b(_),_&&T(!0))},300);return()=>clearTimeout(L)},[_,w]);const $=Nt.useMemo(()=>D||f?j:O&&c&&!D?c:j,[j,c,D,O,f]),A=O?Number(O):void 0,{data:Q,isLoading:K}=_Ce({search:$,product_id:A&&!$?A:void 0}),U=(Q?.data||[]).map(L=>({id:L.id,name:L.name,code:L.code,batch_lot:L.batch_lot}));g.useEffect(()=>{if(!R.current&&O&&!P&&!K&&U.length>0){const L=U.find(W=>W.id.toString()===O);L&&(R.current=!0,E(L),f||v(L.name),T(!0),setTimeout(()=>{R.current=!1},100))}},[O,K,U.length]);const B=Nt.useMemo(()=>{if(!O)return null;const L=U.find(W=>W.id.toString()===O);return L||(P&&P.id.toString()===O?P:null)},[O,U,P]);g.useEffect(()=>{!O&&(P||f)&&(v(""),E(null),T(!1))},[O]);const V=Nt.useMemo(()=>{const L=[];B&&(U.some(te=>te.id===B.id)||L.push(B));const W=new Set;return B&&W.add(B.id),U.forEach(X=>{W.has(X.id)||(L.push(X),W.add(X.id))}),L},[U,B]),Y=i?.touched?.[t]&&i?.errors?.[t],H=typeof Y=="string"?Y:void 0,F=g.useCallback((L,W)=>{C(!0),E(W);const X=W?W.id.toString():"";i?i.setFieldValue(t,X):o&&o(X),m&&m(L,W),W?v(W.name):(v(""),b("")),setTimeout(()=>C(!1),100)},[i,t,o,m]),M=g.useCallback((L,W,X)=>{if(X==="input"){w?v(W):(v(W),S(W));return}X==="clear"&&(v(""),S(""),b(""))},[w]);return e.jsx(Yn,{options:V,getOptionLabel:L=>L.name,value:B,loading:K,onChange:F,inputValue:f,onInputChange:M,isOptionEqualToValue:(L,W)=>L.id===W.id,size:r,fullWidth:n,className:u,disabled:h,filterOptions:L=>L,renderOption:(L,W)=>g.createElement(y,{component:"li",...L,key:W.id,className:"!flex !items-center !gap-2 cursor-pointer py-1 px-2 hover:!bg-gray-50"},e.jsx(ht,{src:W.name||"mkx",alt:W.name,className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(y,{children:[e.jsx("p",{className:"!text-gray-900 !text-sm",children:W.name||""}),W.code&&e.jsx("p",{className:"!text-gray-500 !text-xs",children:W.code})]})),renderInput:L=>e.jsx(wn,{...L,label:s,required:a,error:!!Y,helperText:H,onBlur:i?.handleBlur,name:t,size:r,className:u,disabled:h}),noOptionsText:j&&!K?"No products found":"Type to search products",loadingText:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(wo,{thickness:6,size:16,color:"inherit"})," Loading products..."]})})},SCe=({selectedPriceList:t,setSelectedPriceList:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,[i,o]=g.useState([]),l=oCe(),c=lCe(),m=()=>{s(null),n(!1),o([]),u.resetForm()};Nt.useEffect(()=>{if(t?.pricelist_item){const b=t.pricelist_item.map(w=>({product_id:w.product_id,unit_price:w.unit_price,uom:w.uom||"",discount_percent:w.discount_percent||"",effective_from:w.effective_from?w.effective_from.split("T")[0]:"",effective_to:w.effective_to?w.effective_to.split("T")[0]:"",is_active:w.is_active}));o(b)}else o([])},[t]);const u=ft({initialValues:{name:t?.name||"",description:t?.description||"",currency_code:t?.currency_code||"INR",valid_from:t?.valid_from?t.valid_from.split("T")[0]:"",valid_to:t?.valid_to?t.valid_to.split("T")[0]:"",is_active:t?.is_active||"Y"},validationSchema:pCe,enableReinitialize:!0,onSubmit:async b=>{try{const w={...b,currency_code:b.currency_code||"INR",valid_from:b.valid_from,valid_to:b.valid_to,description:b.description,priceListItems:i.filter(C=>C.product_id!=="").map(C=>({product_id:Number(C.product_id),unit_price:C.unit_price,uom:C.uom,discount_percent:C.discount_percent,effective_from:C.effective_from,effective_to:C.effective_to,is_active:C.is_active}))};r&&t?await c.mutateAsync({id:t.id,data:w}):await l.mutateAsync(w),m()}catch(w){console.error("Error submitting price list:",w)}}}),h=()=>{const b={product_id:"",unit_price:"",uom:"",discount_percent:"",effective_from:"",effective_to:"",is_active:"Y"};o([...i,b])},f=b=>{const w=i.filter((C,P)=>P!==b);o(w)},v=(b,w,C)=>{const P=[...i];P[b]={...P[b],[w]:C},o(P)},_=i.map((b,w)=>({...b,_index:w})),S=[{id:"product_id",label:"Product",render:(b,w)=>e.jsx(_o,{value:w.product_id,onChange:(C,P)=>v(w._index,"product_id",P?P.id:""),size:"small",className:"!min-w-40"})},{id:"unit_price",label:"Unit Price",render:(b,w)=>e.jsx(oe,{value:w.unit_price,onChange:C=>v(w._index,"unit_price",C.target.value),placeholder:"0.00",type:"number",size:"small",className:"!min-w-24"})},{id:"uom",label:"UOM",render:(b,w)=>e.jsx(oe,{value:w.uom,onChange:C=>v(w._index,"uom",C.target.value),placeholder:"Unit",size:"small",className:"!min-w-20"})},{id:"discount_percent",label:"Discount %",render:(b,w)=>e.jsx(oe,{value:w.discount_percent,onChange:C=>v(w._index,"discount_percent",C.target.value),placeholder:"0",type:"number",size:"small",className:"!min-w-20"})},{id:"effective_from",label:"Effective From",render:(b,w)=>e.jsx(oe,{value:w.effective_from,onChange:C=>v(w._index,"effective_from",C.target.value),type:"date",size:"small",className:"!min-w-32"})},{id:"effective_to",label:"Effective To",render:(b,w)=>e.jsx(oe,{value:w.effective_to,onChange:C=>v(w._index,"effective_to",C.target.value),type:"date",size:"small",className:"!min-w-32"})},{id:"is_active",label:"Status",render:(b,w)=>e.jsxs(_e,{value:w.is_active,onChange:C=>v(w._index,"is_active",C.target.value),size:"small",className:"!min-w-20",children:[e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]})},{id:"actions",label:"Actions",sortable:!1,render:(b,w)=>e.jsx(Vt,{onClick:()=>f(w._index),tooltip:"Remove item",confirmDelete:!0,itemName:"price list item"})}],j=[{value:"INR",label:"INR - Indian Rupee"},{value:"USD",label:"USD - US Dollar"},{value:"EUR",label:"EUR - Euro"},{value:"GBP",label:"GBP - British Pound"},{value:"JPY",label:"JPY - Japanese Yen"},{value:"AUD",label:"AUD - Australian Dollar"},{value:"CAD",label:"CAD - Canadian Dollar"}];return e.jsx(ot,{open:a,setOpen:m,title:r?"Edit Price List":"Create Price List",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:u.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"name",label:"Price List Name",placeholder:"Enter price list name",formik:u,required:!0})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:u,multiline:!0,rows:3})}),e.jsx(_e,{name:"currency_code",label:"Currency",formik:u,required:!0,children:j.map(b=>e.jsx(Z,{value:b.value,children:b.label},b.value))}),e.jsxs(_e,{name:"is_active",label:"Status",formik:u,required:!0,children:[e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]}),e.jsx(oe,{name:"valid_from",label:"Valid From",type:"date",formik:u,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(oe,{name:"valid_to",label:"Valid To",type:"date",formik:u,slotProps:{inputLabel:{shrink:!0}}})]}),e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !justify-between !items-center",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Price List Items"}),e.jsx(G,{type:"button",variant:"outlined",startIcon:e.jsx(ds,{}),onClick:h,size:"small",children:"Add Item"})]}),i.length>0&&e.jsx(lt,{compact:!0,data:_,columns:S,getRowId:b=>b._index.toString(),pagination:!1,sortable:!1,emptyMessage:"No price list items added yet."}),i.length===0&&e.jsx(y,{className:"!text-center !py-8 !text-gray-500",children:e.jsx(x,{variant:"body2",children:'No price list items added yet. Click "Add Item" to get started.'})})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,disabled:l.isPending||c.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:l.isPending||c.isPending,children:l.isPending||c.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},CCe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("pricelist"),{data:b,isFetching:w,error:C}=iCe({search:t,page:u,limit:f,status:a==="all"?void 0:a},{enabled:j}),P=b?.data||[],E=b?.meta?.total||0,D=(b?.meta?.page||1)-1,T=b?.stats||{},R=cCe(),z=ms(),O=T.total_price_lists??P.length,$=T.active_price_lists??P.filter(M=>M.is_active==="Y").length,A=T.inactive_price_lists??P.filter(M=>M.is_active==="N").length,Q=T.new_price_lists_this_month??0,K=g.useCallback(()=>{i(null),l(!0)},[]),U=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await R.mutateAsync(M)}catch(L){console.error("Error deleting price list:",L)}},[R]),V=g.useCallback(M=>{s(M),h(1)},[]),Y=M=>{h(M+1)},H=g.useCallback(async()=>{try{const M={search:t,status:a==="all"?void 0:a};await z.mutateAsync({tableName:"pricelists",filters:M})}catch(M){console.error("Error exporting price lists:",M)}},[z,t,a]),F=[{id:"price_list_info",label:"Price List Info",render:(M,L)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:L.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Cs,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:L.name}),L.description&&e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:L.description})]})]})},{id:"currency_code",label:"Currency",render:(M,L)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Cn,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs font-medium",children:L.currency_code||"INR"})]})},{id:"validity_period",label:"Validity Period",render:(M,L)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(_s,{className:"w-3 h-3 text-gray-400"}),e.jsx(y,{className:"text-xs",children:L.valid_from||L.valid_to?e.jsx("span",{children:L.valid_from&&L.valid_to?e.jsxs(e.Fragment,{children:[Oe(L.valid_from),e.jsx("span",{className:"mx-1 text-gray-400",children:""}),Oe(L.valid_to)]}):L.valid_from?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:"From"})," ",Oe(L.valid_from)]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:"Until"})," ",Oe(L.valid_to)]})}):e.jsx("span",{className:"text-gray-400 italic",children:"No validity period"})})]})},{id:"items_count",label:"Items",render:(M,L)=>e.jsx(De,{label:`${L.pricelist_item?.length||0} items`,size:"small",variant:"outlined",color:"primary"})},{id:"is_active",label:"Status",render:(M,L)=>e.jsx(De,{icon:L.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:L.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:L.is_active==="Y"?"success":"error"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(M,L)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>U(L),tooltip:`Edit ${L.name}`}),S&&e.jsx(Vt,{onClick:()=>B(L.id),tooltip:`Delete ${L.name}`,itemName:L.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Price Lists"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage pricing lists and product pricing strategies"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Price Lists",value:O,icon:e.jsx(Cs,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Lists",value:$,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Lists",value:A,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"This Month",value:Q,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load price lists. Please try again."}),e.jsx(lt,{data:P,columns:F,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Price Lists...",value:t,onChange:V,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:M=>n(M.target.value),className:"!w-32",children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Price Lists",description:"Are you sure you want to export the current price lists data to Excel? This will include all filtered results.",onConfirm:H,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:z.isPending,children:z.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:Y,emptyMessage:t?`No price lists found matching "${t}"`:"No price lists found in the system"}),e.jsx(SCe,{selectedPriceList:r,setSelectedPriceList:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(uCe,{drawerOpen:c,setDrawerOpen:m})]})},kCe=it({file:hs().required("Please select a file to import")}),PCe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:kCe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("product_categories")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"product_categories",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Product Categories",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple product categories. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},ECe=it({category_name:me().min(2,"Category name must be at least 2 characters").max(100,"Category name must not exceed 100 characters").required("Category name is required"),description:me().max(500,"Description must not exceed 500 characters").optional(),is_active:me().oneOf(["Y","N"],"Status must be either Active or Inactive").required("Status is required")}),TCe=({selectedProductCategory:t,setSelectedProductCategory:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=I4e(),l=O4e(),c=ft({initialValues:{category_name:t?.category_name||"",description:t?.description||"",is_active:t?.is_active||"Y"},validationSchema:ECe,enableReinitialize:!0,onSubmit:async m=>{try{const u={category_name:m.category_name,description:m.description,is_active:m.is_active};r&&t?await l.mutateAsync({id:t.id,data:u}):await o.mutateAsync(u),i()}catch(u){console.error("Error saving product category:",u)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Product Category":"Create Product Category",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"category_name",label:"Category Name",placeholder:"Enter category name",formik:c,required:!0})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:c,multiline:!0,rows:3})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(Ps,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:[o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"," "]})]})]})})})},MCe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("product-category"),{data:b,isFetching:w,error:C}=Lp({search:t,page:u,limit:f,status:a==="all"?void 0:a==="active"?"active":"inactive"},{enabled:j}),P=b?.data||[],E=b?.meta?.total||0,D=(b?.meta?.page||1)-1,T=F4e(),R=ms(),z=b?.stats?.total_product_categories??0,O=b?.stats?.active_product_categories??0,$=b?.stats?.inactive_product_categories??0,A=b?.stats?.new_product_categories_this_month??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(F=>{i(F),l(!0)},[]),U=g.useCallback(async F=>{try{await T.mutateAsync(F)}catch(M){console.error("Error deleting product category:",M)}},[T]),B=g.useCallback(F=>{s(F),h(1)},[]),V=F=>{h(F+1)},Y=g.useCallback(async()=>{try{const F={search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"product_categories",filters:F})}catch(F){console.error("Error exporting product categories:",F)}},[R,t,a]),H=[{id:"category_name",label:"Category Name",render:(F,M)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:M.category_name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsxs(y,{className:"!max-w-xs",children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:M.category_name}),M.description&&e.jsx(Va,{title:M.description,placement:"top",arrow:!0,children:e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",title:M.description,sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",maxWidth:"300px",cursor:"help"},children:M.description})})]})]})},{id:"is_active",label:"Status",render:F=>e.jsx(De,{icon:F==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:F==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:F==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(F,M)=>Oe(M.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(F,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(M),tooltip:`Edit ${M.category_name}`}),S&&e.jsx(Vt,{onClick:()=>U(M.id),tooltip:`Delete ${M.category_name}`,itemName:M.category_name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Product Categories Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product categories for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Categories",value:z,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Categories",value:O,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Categories",value:$,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:A,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load product categories. Please try again."}),e.jsx(lt,{data:P,columns:H,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Product Categories...",value:t,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:F=>{n(F.target.value),h(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Product Categories",description:"Are you sure you want to export the current product categories data to Excel? This will include all filtered results.",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:F=>F.id,initialOrderBy:"category_name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:V,emptyMessage:t?`No product categories found matching "${t}"`:"No product categories found in the system"}),e.jsx(TCe,{selectedProductCategory:r,setSelectedProductCategory:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(PCe,{drawerOpen:c,setDrawerOpen:m})]})},DCe=it({file:hs().required("Please select a file to import")}),RCe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:DCe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("products")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"products",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Products",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple products. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},ACe=async t=>{try{return(await ie.get("/product-sub-categories",{params:t})).data}catch(s){throw console.error("Error fetching product sub categories:",s),new Error(s.response?.data?.message||"Failed to fetch product sub categories")}},ICe=async t=>{try{return(await ie.post("/product-sub-categories",t)).data.data}catch(s){throw console.error("Error creating product sub category:",s),new Error(s.response?.data?.message||"Failed to create product sub category")}},OCe=async(t,s)=>{try{return(await ie.put(`/product-sub-categories/${t}`,s)).data.data}catch(a){throw console.error("Error updating product sub category:",a),new Error(a.response?.data?.message||"Failed to update product sub category")}},FCe=async t=>{try{await ie.delete(`/product-sub-categories/${t}`)}catch(s){throw console.error("Error deleting product sub category:",s),new Error(s.response?.data?.message||"Failed to delete product sub category")}},Pf={all:["product-sub-categories"],lists:()=>[...Pf.all,"list"],list:t=>[...Pf.lists(),t],details:()=>[...Pf.all,"detail"],detail:t=>[...Pf.details(),t]},YF=(t,s)=>nt({queryKey:Pf.list(t),queryFn:()=>ACe(t),staleTime:300*1e3,...s}),LCe=()=>Re({mutationFn:ICe,invalidateQueries:["product-sub-categories"],loadingMessage:"Creating product sub category..."}),zCe=()=>Re({mutationFn:({id:t,data:s})=>OCe(t,s),invalidateQueries:["product-sub-categories"],loadingMessage:"Updating product sub category..."}),$Ce=()=>Re({mutationFn:FCe,invalidateQueries:["product-sub-categories"],loadingMessage:"Deleting product sub category..."}),qCe=async t=>{try{return(await ie.get("/route-types",{params:t})).data}catch(s){throw console.error("Error fetching route types:",s),new Error(s.response?.data?.message||"Failed to fetch route types")}},BCe=async t=>{try{return(await ie.post("/route-types",t)).data.data}catch(s){throw console.error("Error creating route type:",s),new Error(s.response?.data?.message||"Failed to create route type")}},UCe=async(t,s)=>{try{return(await ie.put(`/route-types/${t}`,s)).data.data}catch(a){throw console.error("Error updating route type:",a),new Error(a.response?.data?.message||"Failed to update route type")}},VCe=async t=>{try{await ie.delete(`/route-types/${t}`)}catch(s){throw console.error("Error deleting route type:",s),new Error(s.response?.data?.message||"Failed to delete route type")}},Ef={all:["routeTypes"],lists:()=>[...Ef.all,"list"],list:t=>[...Ef.lists(),t],details:()=>[...Ef.all,"detail"],detail:t=>[...Ef.details(),t]},t3=(t,s)=>nt({queryKey:Ef.list(t),queryFn:()=>qCe(t),staleTime:300*1e3,...s}),HCe=()=>Re({mutationFn:t=>BCe(t),invalidateQueries:["routeTypes"],loadingMessage:"Creating route type..."}),WCe=()=>Re({mutationFn:({id:t,data:s})=>UCe(t,s),invalidateQueries:["routeTypes"],loadingMessage:"Updating route type..."}),YCe=()=>Re({mutationFn:VCe,invalidateQueries:["routeTypes"],loadingMessage:"Deleting route type..."}),GCe=async t=>{try{return(await ie.get("/tax-masters",{params:t})).data}catch(s){throw console.error("Error fetching tax masters:",s),new Error(s.response?.data?.message||"Failed to fetch tax masters")}},KCe=async t=>{try{return(await ie.get(`/tax-masters/${t}`)).data.data}catch(s){throw console.error("Error fetching tax master:",s),new Error(s.response?.data?.message||"Failed to fetch tax master")}},QCe=async t=>{try{return(await ie.post("/tax-masters",t)).data}catch(s){throw console.error("Error creating tax master:",s),new Error(s.response?.data?.message||"Failed to create tax master")}},ZCe=async(t,s)=>{try{return(await ie.put(`/tax-masters/${t}`,s)).data}catch(a){throw console.error("Error updating tax master:",a),new Error(a.response?.data?.message||"Failed to update tax master")}},XCe=async t=>{try{await ie.delete(`/tax-masters/${t}`)}catch(s){throw console.error("Error deleting tax master:",s),new Error(s.response?.data?.message||"Failed to delete tax master")}},qm={all:["tax-master"],lists:()=>[...qm.all,"list"],list:t=>[...qm.lists(),t],details:()=>[...qm.all,"detail"],detail:t=>[...qm.details(),t]},GF=(t,s)=>nt({queryKey:qm.list(t),queryFn:()=>GCe(t),staleTime:300*1e3,...s}),JCe=(t,s)=>nt({queryKey:qm.detail(t),queryFn:()=>KCe(t),enabled:!!t,staleTime:300*1e3,...s}),e5e=()=>Re({mutationFn:async t=>await QCe(t),invalidateQueries:["tax-master"],loadingMessage:"Creating tax master..."}),t5e=()=>Re({mutationFn:async({id:t,data:s})=>await ZCe(t,s),invalidateQueries:["tax-master"],loadingMessage:"Updating tax master..."}),s5e=()=>Re({mutationFn:XCe,invalidateQueries:["tax-master"],loadingMessage:"Deleting tax master..."}),a5e=async t=>{try{return(await ie.get("/unit-measurement",{params:t})).data}catch(s){throw console.error("Error fetching unit of measurement:",s),new Error(s.response?.data?.message||"Failed to fetch unit of measurement")}},n5e=async t=>{try{return(await ie.post("/unit-measurement",t)).data.data}catch(s){throw console.error("Error creating unit of measurement:",s),new Error(s.response?.data?.message||"Failed to create unit of measurement")}},r5e=async(t,s)=>{try{return(await ie.put(`/unit-measurement/${t}`,s)).data.data}catch(a){throw console.error("Error updating unit of measurement:",a),new Error(a.response?.data?.message||"Failed to update unit of measurement")}},i5e=async t=>{try{await ie.delete(`/unit-measurement/${t}`)}catch(s){throw console.error("Error deleting unit of measurement:",s),new Error(s.response?.data?.message||"Failed to delete unit of measurement")}},Tf={all:["unit-of-measurement"],lists:()=>[...Tf.all,"list"],list:t=>[...Tf.lists(),t],details:()=>[...Tf.all,"detail"],detail:t=>[...Tf.details(),t]},x1=(t,s)=>nt({queryKey:Tf.list(t),queryFn:()=>a5e(t),staleTime:300*1e3,...s}),o5e=()=>Re({mutationFn:n5e,invalidateQueries:["unit-of-measurement"],loadingMessage:"Creating unit of measurement..."}),l5e=()=>Re({mutationFn:({id:t,data:s})=>r5e(t,s),invalidateQueries:["unit-of-measurement"],loadingMessage:"Updating unit of measurement..."}),c5e=()=>Re({mutationFn:i5e,invalidateQueries:["unit-of-measurement"],loadingMessage:"Deleting unit of measurement..."}),d5e=async t=>{try{return(await ie.get("/subunits",{params:t})).data}catch(s){throw console.error("Error fetching sub unit of measurements:",s),new Error(s.response?.data?.message||"Failed to fetch sub unit of measurements")}},u5e=async t=>{try{return(await ie.post("/subunits",t)).data.data}catch(s){throw console.error("Error creating sub unit of measurement:",s),new Error(s.response?.data?.message||"Failed to create sub unit of measurement")}},m5e=async(t,s)=>{try{return(await ie.put(`/subunits/${t}`,s)).data.data}catch(a){throw console.error("Error updating sub unit of measurement:",a),new Error(a.response?.data?.message||"Failed to update sub unit of measurement")}},p5e=async t=>{try{await ie.delete(`/subunits/${t}`)}catch(s){throw console.error("Error deleting sub unit of measurement:",s),new Error(s.response?.data?.message||"Failed to delete sub unit of measurement")}},h5e=async()=>{try{return(await ie.get("/subunits/lookup/units-of-measurement")).data.data}catch(t){throw console.error("Error fetching units of measurement:",t),new Error(t.response?.data?.message||"Failed to fetch units of measurement")}},Hd={all:["sub-unit-of-measurements"],lists:()=>[...Hd.all,"list"],list:t=>[...Hd.lists(),t],details:()=>[...Hd.all,"detail"],detail:t=>[...Hd.details(),t],lookup:()=>[...Hd.all,"lookup"]},KF=(t,s)=>nt({queryKey:Hd.list(t),queryFn:()=>d5e(t),staleTime:300*1e3,...s}),f5e=t=>nt({queryKey:[...Hd.lookup(),"units-of-measurement"],queryFn:h5e,staleTime:900*1e3,...t}),x5e=()=>Re({mutationFn:u5e,invalidateQueries:["sub-unit-of-measurements"],loadingMessage:"Creating sub unit of measurement..."}),g5e=()=>Re({mutationFn:({id:t,data:s})=>m5e(t,s),invalidateQueries:["sub-unit-of-measurements"],loadingMessage:"Updating sub unit of measurement..."}),y5e=()=>Re({mutationFn:p5e,invalidateQueries:["sub-unit-of-measurements"],loadingMessage:"Deleting sub unit of measurement..."}),b5e=it().shape({name:me().required("Product name is required").min(1,"Product name must be at least 1 character").max(255,"Product name must be at most 255 characters"),description:me().max(1e3,"Description cannot exceed 1000 characters").nullable(),category_id:Qe().required("Category is required").min(1,"Please select a valid category"),sub_category_id:Qe().required("Sub-category is required").min(1,"Please select a valid sub-category"),brand_id:Qe().required("Brand is required").min(1,"Please select a valid brand"),unit_of_measurement:Qe().required("Unit of measurement is required").min(1,"Please select a valid unit of measurement"),base_price:Qe().min(0,"Base price must be at least 0").nullable(),tax_rate:Qe().min(0,"Tax rate must be at least 0").max(100,"Tax rate cannot exceed 100%").nullable(),route_type_id:Qe().min(1,"Please select a valid route type").nullable(),outlet_group_id:Qe().min(1,"Please select a valid outlet group").nullable(),tracking_type:me().oneOf(["None","Batch","Serial"],"Tracking type must be None, Batch, or Serial").nullable(),batch_lots_id:Qe().min(1,"Please select a valid batch lot").nullable(),is_active:me().oneOf(["Y","N"],"Status must be Y or N").required("Status is required")}),v5e=async t=>{try{return(await ie.get("/product-flavours",{params:t})).data}catch(s){throw console.error("Error fetching product flavours:",s),new Error(s.response?.data?.message||"Failed to fetch product flavours")}},j5e=async t=>{try{return(await ie.post("/product-flavours",t)).data}catch(s){throw console.error("Error creating product flavour:",s),new Error(s.response?.data?.message||"Failed to create product flavour")}},N5e=async(t,s)=>{try{return(await ie.put(`/product-flavours/${t}`,s)).data}catch(a){throw console.error("Error updating product flavour:",a),new Error(a.response?.data?.message||"Failed to update product flavour")}},w5e=async t=>{try{return(await ie.delete(`/product-flavours/${t}`)).data}catch(s){throw console.error("Error deleting product flavour:",s),new Error(s.response?.data?.message||"Failed to delete product flavour")}},_5e=async t=>{try{return(await ie.get("/product-flavours-dropdown",{params:t})).data}catch(s){throw console.error("Error fetching product flavours dropdown:",s),new Error(s.response?.data?.message||"Failed to fetch product flavours dropdown")}},S5e=async t=>{try{return(await ie.get("/product-shelf-life",{params:t})).data}catch(s){throw console.error("Error fetching product shelf life:",s),new Error(s.response?.data?.message||"Failed to fetch product shelf life")}},C5e=async t=>{try{return(await ie.post("/product-shelf-life",t)).data}catch(s){throw console.error("Error creating product shelf life:",s),new Error(s.response?.data?.message||"Failed to create product shelf life")}},k5e=async(t,s)=>{try{return(await ie.put(`/product-shelf-life/${t}`,s)).data}catch(a){throw console.error("Error updating product shelf life:",a),new Error(a.response?.data?.message||"Failed to update product shelf life")}},P5e=async t=>{try{return(await ie.delete(`/product-shelf-life/${t}`)).data}catch(s){throw console.error("Error deleting product shelf life:",s),new Error(s.response?.data?.message||"Failed to delete product shelf life")}},E5e=async t=>{try{return(await ie.get("/product-shelf-life-dropdown",{params:t})).data}catch(s){throw console.error("Error fetching product shelf life dropdown:",s),new Error(s.response?.data?.message||"Failed to fetch product shelf life dropdown")}},T5e=async t=>{try{return(await ie.get("/product-target-groups",{params:t})).data}catch(s){throw console.error("Error fetching product target groups:",s),new Error(s.response?.data?.message||"Failed to fetch product target groups")}},M5e=async t=>{try{return(await ie.post("/product-target-groups",t)).data}catch(s){throw console.error("Error creating product target group:",s),new Error(s.response?.data?.message||"Failed to create product target group")}},D5e=async(t,s)=>{try{return(await ie.put(`/product-target-groups/${t}`,s)).data}catch(a){throw console.error("Error updating product target group:",a),new Error(a.response?.data?.message||"Failed to update product target group")}},R5e=async t=>{try{return(await ie.delete(`/product-target-groups/${t}`)).data}catch(s){throw console.error("Error deleting product target group:",s),new Error(s.response?.data?.message||"Failed to delete product target group")}},A5e=async t=>{try{return(await ie.get("/product-target-groups-dropdown",{params:t})).data}catch(s){throw console.error("Error fetching product target groups dropdown:",s),new Error(s.response?.data?.message||"Failed to fetch product target groups dropdown")}},I5e=async t=>{try{return(await ie.get("/product-types",{params:t})).data}catch(s){throw console.error("Error fetching product types:",s),new Error(s.response?.data?.message||"Failed to fetch product types")}},O5e=async t=>{try{return(await ie.post("/product-types",t)).data}catch(s){throw console.error("Error creating product type:",s),new Error(s.response?.data?.message||"Failed to create product type")}},F5e=async(t,s)=>{try{return(await ie.put(`/product-types/${t}`,s)).data}catch(a){throw console.error("Error updating product type:",a),new Error(a.response?.data?.message||"Failed to update product type")}},L5e=async t=>{try{return(await ie.delete(`/product-types/${t}`)).data}catch(s){throw console.error("Error deleting product type:",s),new Error(s.response?.data?.message||"Failed to delete product type")}},z5e=async t=>{try{return(await ie.get("/product-types-dropdown",{params:t})).data}catch(s){throw console.error("Error fetching product types dropdown:",s),new Error(s.response?.data?.message||"Failed to fetch product types dropdown")}},$5e=async t=>{try{return(await ie.get("/product-volumes",{params:t})).data}catch(s){throw console.error("Error fetching product volumes:",s),new Error(s.response?.data?.message||"Failed to fetch product volumes")}},q5e=async t=>{try{return(await ie.post("/product-volumes",t)).data}catch(s){throw console.error("Error creating product volume:",s),new Error(s.response?.data?.message||"Failed to create product volume")}},B5e=async(t,s)=>{try{return(await ie.put(`/product-volumes/${t}`,s)).data}catch(a){throw console.error("Error updating product volume:",a),new Error(a.response?.data?.message||"Failed to update product volume")}},U5e=async t=>{try{return(await ie.delete(`/product-volumes/${t}`)).data}catch(s){throw console.error("Error deleting product volume:",s),new Error(s.response?.data?.message||"Failed to delete product volume")}},V5e=async t=>{try{return(await ie.get("/product-volumes-dropdown",{params:t})).data}catch(s){throw console.error("Error fetching product volumes dropdown:",s),new Error(s.response?.data?.message||"Failed to fetch product volumes dropdown")}},H5e=async t=>{try{return(await ie.get("/product-web-orders",{params:t})).data}catch(s){throw console.error("Error fetching product web orders:",s),new Error(s.response?.data?.message||"Failed to fetch product web orders")}},W5e=async t=>{try{return(await ie.post("/product-web-orders",t)).data}catch(s){throw console.error("Error creating product web order:",s),new Error(s.response?.data?.message||"Failed to create product web order")}},Y5e=async(t,s)=>{try{return(await ie.put(`/product-web-orders/${t}`,s)).data}catch(a){throw console.error("Error updating product web order:",a),new Error(a.response?.data?.message||"Failed to update product web order")}},G5e=async t=>{try{return(await ie.delete(`/product-web-orders/${t}`)).data}catch(s){throw console.error("Error deleting product web order:",s),new Error(s.response?.data?.message||"Failed to delete product web order")}},K5e=async t=>{try{return(await ie.get("/product-web-orders-dropdown",{params:t})).data}catch(s){throw console.error("Error fetching product web orders dropdown:",s),new Error(s.response?.data?.message||"Failed to fetch product web orders dropdown")}},Q5e=({selectedProduct:t,setSelectedProduct:s,drawerOpen:a,setDrawerOpen:n})=>{const[r,i]=g.useState([]),o=g.useRef(!1),l=!!t,c=()=>{s(null),n(!1),i([]),V.resetForm(),o.current=!1},m=jCe(),u=NCe(),{data:h}=YF({limit:1e3,status:"active"}),{data:f}=UF({limit:1e3,status:"active"}),{data:v}=x1({limit:1e3,status:"active"}),{data:_}=t3({limit:1e3,status:"active"}),{data:S}=GF({limit:1e3,isActive:"Y"}),j=h?.data||[],b=f?.data||[],w=v?.data||[],C=_?.data||[],P=S?.data||[],{data:E}=nt({queryKey:["product-types-dropdown"],queryFn:()=>z5e()}),{data:D}=nt({queryKey:["product-target-groups-dropdown"],queryFn:()=>A5e()}),{data:T}=nt({queryKey:["product-web-orders-dropdown"],queryFn:()=>K5e()}),{data:R}=nt({queryKey:["product-volumes-dropdown"],queryFn:()=>V5e()}),{data:z}=nt({queryKey:["product-flavours-dropdown"],queryFn:()=>_5e()}),{data:O}=nt({queryKey:["product-shelf-life-dropdown"],queryFn:()=>E5e()}),$=E?.data||[],A=D?.data||[],Q=T?.data||[],K=R?.data||[],U=z?.data||[],B=O?.data||[],V=ft({initialValues:{name:t?.name||"",description:t?.description||"",category_id:t?.category_id||"",sub_category_id:t?.sub_category_id||"",brand_id:t?.brand_id||"",unit_of_measurement:t?.unit_of_measurement||"",subunit_id:t?.subunit_id||"",base_price:t?.base_price?Number(t.base_price):"",tax_id:t?.tax_id||"",route_type_id:t?.route_type_id||"",outlet_group_id:t?.outlet_group_id||"",tracking_type:t?.tracking_type||"None",product_type_id:t?.product_type_id||"",product_target_group_id:t?.product_target_group_id||"",product_web_order_id:t?.product_web_order_id||"",volume_id:t?.volume_id||"",flavour_id:t?.flavour_id||"",shelf_life_id:t?.shelf_life_id||"",weight_in_grams:t?.weight_in_grams?Number(t.weight_in_grams):"",volume_in_liters:t?.volume_in_liters?Number(t.volume_in_liters):"",is_active:t?.is_active||"Y"},validationSchema:b5e,enableReinitialize:!0,onSubmit:async M=>{try{const L={name:M.name,description:M.description,category_id:Number(M.category_id),sub_category_id:Number(M.sub_category_id),brand_id:Number(M.brand_id),unit_of_measurement:Number(M.unit_of_measurement),subunit_id:Number(M.subunit_id),base_price:M.base_price?Number(M.base_price):void 0,tax_id:M.tax_id?Number(M.tax_id):void 0,route_type_id:M.route_type_id?Number(M.route_type_id):void 0,outlet_group_id:M.outlet_group_id?Number(M.outlet_group_id):void 0,tracking_type:M.tracking_type&&M.tracking_type!==""&&M.tracking_type!=="None"?M.tracking_type:null,batch_lots:r.filter(W=>W.batch_lot_id>0).map(W=>({batch_lot_id:W.batch_lot_id,quantity:W.quantity||0})),product_type_id:M.product_type_id?Number(M.product_type_id):void 0,product_target_group_id:M.product_target_group_id?Number(M.product_target_group_id):void 0,product_web_order_id:M.product_web_order_id?Number(M.product_web_order_id):void 0,volume_id:M.volume_id?Number(M.volume_id):void 0,flavour_id:M.flavour_id?Number(M.flavour_id):void 0,shelf_life_id:M.shelf_life_id?Number(M.shelf_life_id):void 0,weight_in_grams:M.weight_in_grams?Number(M.weight_in_grams):void 0,volume_in_liters:M.volume_in_liters?Number(M.volume_in_liters):void 0,is_active:M.is_active};l&&t?await u.mutateAsync({id:t.id,...L}):await m.mutateAsync(L),c()}catch(L){console.error("Error saving product:",L)}}}),{data:Y}=KF(V.values.unit_of_measurement?{limit:1e3,isActive:"Y",unitOfMeasurementId:Number(V.values.unit_of_measurement)}:{limit:1e3,isActive:"Y"}),H=Y?.data||[],F=M=>{const L=M.target.value;V.setFieldValue("unit_of_measurement",L),V.setFieldValue("subunit_id","")};return e.jsx(ot,{open:a,setOpen:c,title:l?"Edit Product":"Create Product",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:V.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Product Name",placeholder:"Enter product name",formik:V,required:!0}),e.jsx(Nu,{name:"category_id",label:"Category",formik:V,required:!0}),e.jsx(_e,{name:"sub_category_id",label:"Sub-Category",formik:V,required:!0,children:j.map(M=>e.jsx(Z,{value:M.id,children:M.sub_category_name},M.id))}),e.jsx(_e,{name:"brand_id",label:"Brand",formik:V,required:!0,children:b.map(M=>e.jsx(Z,{value:M.id,children:M.name},M.id))}),e.jsx(_e,{name:"unit_of_measurement",label:"Unit of Measurement",formik:V,required:!0,onChange:F,children:w.map(M=>e.jsxs(Z,{value:M.id,children:[M.name," ",M.symbol&&`(${M.symbol})`]},M.id))}),e.jsx(_e,{name:"subunit_id",label:"Sub Unit of Measurement",formik:V,disabled:!V.values.unit_of_measurement,loading:Y===void 0,children:H.map(M=>e.jsxs(Z,{value:M.id,children:[M.name," ",M.code&&`(${M.code})`]},M.id))}),e.jsx(oe,{name:"base_price",label:"Base Price",type:"number",placeholder:"Enter base price",formik:V}),e.jsx(_e,{name:"tax_id",label:"Tax Rate",formik:V,children:P.map(M=>e.jsxs(Z,{value:M.id,children:[M.name," (",M.code,") -"," ",M.tax_rate?`${M.tax_rate}%`:"0%"]},M.id))}),e.jsx(_e,{name:"route_type_id",label:"Route Type",formik:V,children:C.map(M=>e.jsx(Z,{value:M.id,children:M.name},M.id))}),e.jsxs(_e,{name:"tracking_type",label:"Batch/Serial",formik:V,children:[e.jsx(Z,{value:"None",children:"None"}),e.jsx(Z,{value:"Batch",children:"Batch"}),e.jsx(Z,{value:"Serial",children:"Serial"})]}),e.jsx(_e,{name:"product_type_id",label:"Product Type",formik:V,children:$.map(M=>e.jsx(Z,{value:M.id,children:M.name},M.id))}),e.jsx(_e,{name:"product_target_group_id",label:"Product Target Group",formik:V,children:A.map(M=>e.jsx(Z,{value:M.id,children:M.name},M.id))}),e.jsx(_e,{name:"product_web_order_id",label:"Web Order",formik:V,children:Q.map(M=>e.jsx(Z,{value:M.id,children:M.name},M.id))}),e.jsx(_e,{name:"volume_id",label:"Volume",formik:V,children:K.map(M=>e.jsx(Z,{value:M.id,children:M.name},M.id))}),e.jsx(_e,{name:"flavour_id",label:"Flavour",formik:V,children:U.map(M=>e.jsx(Z,{value:M.id,children:M.name},M.id))}),e.jsx(_e,{name:"shelf_life_id",label:"Shelf Life",formik:V,children:B.map(M=>e.jsx(Z,{value:M.id,children:M.name},M.id))}),e.jsx(oe,{name:"weight_in_grams",label:"Weight (grams)",type:"number",placeholder:"Enter weight in grams",formik:V}),e.jsx(oe,{name:"volume_in_liters",label:"Volume (liters)",type:"number",placeholder:"Enter volume in liters",formik:V}),e.jsx(Ps,{name:"is_active",label:"Status",formik:V}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter product description",formik:V,multiline:!0,rows:3})})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:c,disabled:m.isPending||u.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:m.isPending||u.isPending,children:m.isPending?"Creating...":u.isPending?"Updating...":l?"Update":"Create"})]})]})})})},Z5e=()=>{const t=Gs(),[s,a]=g.useState(""),[n,r]=g.useState("all"),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,u]=g.useState(!1),[h,f]=g.useState(1),[v]=g.useState(10),{isCreate:_,isUpdate:S,isDelete:j,isRead:b}=Ze("product"),{formatCurrency:w}=Qa(),{data:C,isFetching:P,error:E}=Ru({search:s,page:h,limit:v,status:n==="all"?void 0:n==="active"?"active":"inactive"},{enabled:b}),D=C?.data||[],T=C?.meta?.total||0,R=(C?.meta?.page||1)-1,z=wCe(),O=ms(),$=C?.stats?.total_products??0,A=C?.stats?.active_products??0,Q=C?.stats?.inactive_products??0,K=C?.stats?.new_products_this_month??0,U=g.useCallback(()=>{o(null),c(!0)},[]),B=g.useCallback(X=>{t(`/masters/products/${X}`)},[t]),V=g.useCallback(X=>{o(X),c(!0)},[]),Y=g.useCallback(async X=>{try{await z.mutateAsync(X)}catch(te){console.error("Error deleting product:",te)}},[z]),H=g.useCallback(X=>{a(X),f(1)},[]),F=X=>{f(X+1)},M=g.useCallback(async()=>{try{const X={search:s,status:n==="all"?void 0:n==="active"?"active":"inactive"};await O.mutateAsync({tableName:"products",filters:X})}catch(X){console.error("Error exporting products:",X)}},[O,s,n]),L=X=>X==null?"N/A":`${Number(X||"0").toFixed(2)}%`,W=[{id:"name",label:"Product Info",render:(X,te)=>e.jsxs(y,{className:"!flex !gap-2 !items-center !cursor-pointer hover:!opacity-80 !transition-opacity",onClick:()=>B(te.id),children:[e.jsx(ht,{alt:te.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium hover:!text-primary-600 !transition-colors",children:te.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:te.code})]})]})},{id:"category",label:"Category & Brand",render:(X,te)=>e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center text-sm mt-1",children:[e.jsx(js,{className:"w-4 h-4 text-gray-400 mr-2"}),te.product_brand?.name||"N/A"]}),e.jsxs(y,{className:"flex items-center text-xs text-gray-900",children:[e.jsx(kn,{className:"w-4 h-4 text-gray-400 mr-2"}),te.product_category?.category_name||"N/A"," ",te.product_sub_category?.sub_category_name&&e.jsx("span",{className:"text-gray-500 pl-0.5",children:` ${te.product_sub_category?.sub_category_name}`})]})]})},{id:"pricing",label:"Pricing",render:(X,te)=>e.jsxs(y,{children:[e.jsx(y,{className:"flex items-center text-sm text-gray-900",children:te.base_price!==null&&te.base_price!==void 0?w(te.base_price):"N/A"}),e.jsxs(y,{className:"flex items-center text-sm text-gray-500 mt-1",children:[e.jsx(pp,{className:"w-4 h-4 text-gray-400 mr-2"}),L(te.tax_rate||0)]})]})},{id:"unit_of_measurement",label:"Unit",render:(X,te)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:te.product_unit?.name||"N/A"})},{id:"product_subunit.name",label:"Sub Unit",render:(X,te)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:te.product_subunit?.name||"N/A"})},{id:"product_type",label:"Product Type",render:(X,te)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:te.product_type?.name||"N/A"})},{id:"tracking_type",label:"Tracking Type",render:(X,te)=>e.jsx(x,{variant:"body2",className:"!text-gray-700 uppercase",children:te.tracking_type||"NONE"})},{id:"target_group",label:"Target Group",render:(X,te)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:te.product_target_group?.name||e.jsx("span",{className:"!text-gray-500 italic",children:"no target group"})})},{id:"web_order",label:"Web Order",render:(X,te)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:te.product_web_order?.name||e.jsx("span",{className:"!text-gray-500 italic",children:"no web order"})})},{id:"volume",label:"Volume",render:(X,te)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:te.volume?.name||e.jsx("span",{className:"!text-gray-500 italic",children:"no volume"})})},{id:"flavour",label:"Flavour",render:(X,te)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:te.flavour?.name||e.jsx("span",{className:"!text-gray-500 italic",children:"no flavour"})})},{id:"shelf_life",label:"Shelf Life",render:(X,te)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:te.shelf_life?.name||e.jsx("span",{className:"!text-gray-500 italic",children:"no shelf life"})})},{id:"weight_in_grams",label:"Weight (g)",render:(X,te)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:te.weight_in_grams!==null&&te.weight_in_grams!==void 0?`${Number(te.weight_in_grams).toLocaleString()} g`:e.jsx("span",{className:"!text-gray-500 italic",children:"no weight"})})},{id:"volume_in_liters",label:"Volume (L)",render:(X,te)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:te.volume_in_liters!==null&&te.volume_in_liters!==void 0?`${Number(te.volume_in_liters).toFixed(2)} L`:e.jsx("span",{className:"!text-gray-500 italic",children:"no volume"})})},{id:"description",label:"Description",render:(X,te)=>e.jsx(x,{variant:"body2",className:"!text-gray-700 !max-w-xs !truncate",children:te.description||e.jsx("span",{className:"!text-gray-500 italic",children:"no description"})})},{id:"is_active",label:"Status",render:X=>e.jsx(De,{icon:X==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:X==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:X==="Y"?"success":"error"})},{id:"createdate",label:"Created",render:(X,te)=>e.jsx(x,{variant:"body2",className:"!text-gray-500",children:Oe(te.createdate?.toString())})},...S||j||b?[{id:"action",label:"Actions",sortable:!1,render:(X,te)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[b&&e.jsx(Ka,{onClick:()=>B(te.id),tooltip:`View ${te.name}`,icon:e.jsx(Cr,{fontSize:"small"}),color:"info"}),S&&e.jsx(is,{onClick:()=>V(te),tooltip:`Edit ${te.name}`}),j&&e.jsx(Vt,{onClick:()=>Y(te.id),tooltip:`Delete ${te.name}`,itemName:te.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Products Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage your product catalog with pricing and inventory details"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Products",value:$,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"blue",isLoading:P}),e.jsx(fe,{title:"Active Products",value:A,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"green",isLoading:P}),e.jsx(fe,{title:"Inactive Products",value:Q,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"red",isLoading:P}),e.jsx(fe,{title:"New This Month",value:K,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:P})]}),E&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load products. Please try again."}),e.jsx(lt,{data:D,columns:W,actions:b||_?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex items-center flex-wrap gap-2",children:b&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Products",value:s,onChange:H,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(_e,{value:n,onChange:X=>{r(X.target.value),f(1)},className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[b&&e.jsx(Jt,{title:"Export Products",description:"Are you sure you want to export the current products data to Excel? This will include all filtered results.",onConfirm:M,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:O.isPending,children:O.isPending?"Exporting...":"Export"})}),_&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>u(!0),children:"Import"}),_&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:U,children:"Create"})]})]}):!1,getRowId:X=>X.id,initialOrderBy:"name",loading:P,totalCount:T,page:R,rowsPerPage:v,isPermission:b,onPageChange:F,emptyMessage:s?`No products found matching "${s}"`:"No products found in the system"}),e.jsx(Q5e,{selectedProduct:i,setSelectedProduct:o,drawerOpen:l,setDrawerOpen:c}),e.jsx(RCe,{drawerOpen:m,setDrawerOpen:u})]})},X5e=()=>{const{id:t}=Jn(),{data:s,isLoading:a,error:n}=vCe(Number(t)),{data:r}=Mu(),{data:i}=nc({limit:1e3}),o=r?.data,l=i?.data||[],c=o?.currency_id||1,m=l.find(S=>S.id===c),u=s?.data,h=u?.batch_lots||[],f=S=>{if(S==null)return"N/A";const j=m?.code||"INR",w={USD:"en-US",EUR:"de-DE",GBP:"en-GB",JPY:"ja-JP",CNY:"zh-CN",AUD:"en-AU",CAD:"en-CA",INR:"en-IN",AED:"ar-AE",SAR:"ar-SA"}[j]||"en-IN";return new Intl.NumberFormat(w,{style:"currency",currency:j,minimumFractionDigits:2,maximumFractionDigits:2}).format(S)},v=S=>S==null?"N/A":`${Number(S||"0").toFixed(2)}%`;if(a)return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !items-center !gap-3",children:e.jsxs(y,{className:"!flex-1",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(J,{variant:"text",width:250,height:32}),e.jsx(J,{variant:"rectangular",width:80,height:24,className:"!rounded-full"})]}),e.jsx(J,{variant:"text",width:300,height:20,className:"!mt-1"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[1,2,3,4].map(S=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:[e.jsx(J,{variant:"text",width:100,height:20}),e.jsx(J,{variant:"text",width:150,height:32,className:"!mt-2"})]},S))}),e.jsx(J,{variant:"rectangular",height:400,className:"!rounded-lg !shadow !border !border-gray-200"})]});if(n)return e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load product details. Please try again."});if(!u)return e.jsx(ct,{severity:"warning",className:"!mb-4",children:"Product not found."});const _=[{id:"batch_number",label:"Batch Number",render:(S,j)=>e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!font-medium",children:S}),j.lot_number&&e.jsxs(x,{variant:"caption",className:"!text-gray-500",children:["Lot: ",j.lot_number]})]})},{id:"quantity",label:"Quantity",render:S=>e.jsx(x,{variant:"body2",children:Number(S).toLocaleString()})},{id:"remaining_quantity",label:"Remaining",render:S=>e.jsx(De,{label:Number(S).toLocaleString(),size:"small",color:Number(S)>0?"success":"error"})},{id:"manufacturing_date",label:"Mfg Date",render:S=>e.jsx(x,{variant:"body2",children:Oe(S?.toString())})},{id:"expiry_date",label:"Expiry Date",render:S=>e.jsx(x,{variant:"body2",children:Oe(S?.toString())})}];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !items-center !gap-3",children:e.jsxs(y,{className:"!flex-1",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(x,{variant:"h5",className:"!font-bold !text-gray-900",children:u.name}),e.jsx(De,{icon:u.is_active==="Y"?e.jsx(Oa,{className:"w-4 h-4"}):e.jsx(Na,{className:"w-4 h-4"}),label:u.is_active==="Y"?"Active":"Inactive",size:"small",color:u.is_active==="Y"?"success":"error"})]}),e.jsxs(x,{variant:"body2",className:"!text-gray-500 !mt-1",children:["Product Code: ",u.code]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Base Price"}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:f(u.base_price||0)})]}),e.jsx(ht,{className:"!bg-green-100",children:e.jsx(js,{className:"text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Volume"}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:u.volume_in_liters!==null&&u.volume_in_liters!==void 0?`${Number(u.volume_in_liters).toFixed(2)} L`:"N/A"})]}),e.jsx(ht,{className:"!bg-blue-100",children:e.jsx(yN,{className:"text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Batch Lots"}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:h.length})]}),e.jsx(ht,{className:"!bg-purple-100",children:e.jsx(yA,{className:"text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Shelf Life"}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:u.shelf_life?.name||"N/A"})]}),e.jsx(ht,{className:"!bg-orange-100",children:e.jsx(_s,{className:"text-orange-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6 mb-6",children:[e.jsx(x,{variant:"h6",className:"!font-bold !mb-4 !text-gray-900",children:"Product Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(kn,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Category"})]}),e.jsx(x,{variant:"body1",className:"!font-medium",children:u.product_category?.category_name||"N/A"})]}),e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(kn,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Sub-Category"})]}),e.jsx(x,{variant:"body1",className:"!font-medium",children:u.product_sub_category?.sub_category_name||"N/A"})]}),e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(js,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Brand"})]}),e.jsx(x,{variant:"body1",className:"!font-medium",children:u.product_brand?.name||"N/A"})]}),e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(Wt,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Unit of Measurement"})]}),e.jsx(x,{variant:"body1",className:"!font-medium",children:u.product_unit?.name||"N/A"})]}),e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(qoe,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Tracking Type"})]}),e.jsx(De,{label:u.tracking_type||"None",size:"small",variant:"outlined"})]}),u.product_type&&e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(Wt,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Product Type"})]}),e.jsx(x,{variant:"body1",className:"!font-medium",children:u.product_type.name})]}),u.product_target_group&&e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(Rn,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Target Group"})]}),e.jsx(x,{variant:"body1",className:"!font-medium",children:u.product_target_group.name})]}),u.volume&&e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(yN,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Volume"})]}),e.jsx(x,{variant:"body1",className:"!font-medium",children:u.volume.name})]}),u.flavour&&e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(kn,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Flavour"})]}),e.jsx(x,{variant:"body1",className:"!font-medium",children:u.flavour.name})]}),u.shelf_life&&e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(_s,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Shelf Life"})]}),e.jsx(x,{variant:"body1",className:"!font-medium",children:u.shelf_life.name})]}),u.vat_percentage!==null&&u.vat_percentage!==void 0&&e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(pp,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"VAT %"})]}),e.jsx(x,{variant:"body1",className:"!font-medium",children:v(u.vat_percentage)})]}),u.weight_in_grams!==null&&u.weight_in_grams!==void 0&&e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(ble,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Weight"})]}),e.jsxs(x,{variant:"body1",className:"!font-medium",children:[Number(u.weight_in_grams).toLocaleString()," g"]})]}),u.volume_in_liters!==null&&u.volume_in_liters!==void 0&&e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-2 mb-1",children:[e.jsx(yN,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Volume"})]}),e.jsxs(x,{variant:"body1",className:"!font-medium",children:[Number(u.volume_in_liters).toFixed(2)," L"]})]})]}),u.description&&e.jsxs(y,{className:"!mt-6",children:[e.jsx(x,{variant:"body2",className:"!text-gray-500 !mb-2",children:"Description"}),e.jsx(x,{variant:"body1",className:"!text-gray-700",children:u.description})]})]}),e.jsx(lt,{data:h,actions:e.jsx(y,{children:e.jsxs(x,{variant:"body1",className:"!font-semibold",children:["Batch Lots (",h.length,")"]})}),columns:_,getRowId:S=>S.id,initialOrderBy:"batch_number",emptyMessage:"No batch lots found for this product",pagination:!1})]})},J5e=async t=>{try{return(await ie.get("/promotions",{params:t})).data}catch(s){throw s}},e6e=async t=>{try{return(await ie.get(`/promotions/${t}`)).data}catch(s){throw s}},t6e=async t=>(await ie.post("/promotions",t)).data,s6e=async(t,s)=>(await ie.put(`/promotions/${t}`,s)).data,a6e=async t=>(await ie.delete(`/promotions/${t}`)).data,n6e=async t=>(await ie.patch(`/promotions/${t}/activate`)).data,r6e=async t=>(await ie.patch(`/promotions/${t}/deactivate`)).data,i6e=async t=>(await ie.post("/promotions/calculate",t)).data,o6e=async t=>(await ie.post("/promotions/apply",t)).data,l6e=async(t,s)=>(await ie.post(`/promotions/${t}/settle-period`,s)).data,Nr={all:["promotions"],lists:()=>[...Nr.all,"list"],list:t=>[...Nr.lists(),t],details:()=>[...Nr.all,"detail"],detail:t=>[...Nr.details(),t]},c6e=(t,s)=>nt({queryKey:Nr.list(t),queryFn:()=>J5e(t),staleTime:300*1e3,...s}),QF=(t,s)=>nt({queryKey:Nr.detail(t),queryFn:()=>e6e(t),enabled:!!t,staleTime:300*1e3,...s}),d6e=t=>{const s=cs();return Re({mutationFn:t6e,loadingMessage:"Creating promotion...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Nr.lists()}),a?.data?.id&&s.invalidateQueries({queryKey:Nr.detail(a.data.id)})},onError:t?.onError})},u6e=t=>{const s=cs();return Re({mutationFn:({id:a,data:n})=>s6e(a,n),loadingMessage:"Updating promotion...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Nr.lists()}),s.invalidateQueries({queryKey:Nr.detail(n.id)})},onError:t?.onError})},m6e=(t,s)=>{const a=cs();return Re({mutationFn:()=>n6e(t),loadingMessage:"Activating promotion...",onSuccess:n=>{a.invalidateQueries({queryKey:Nr.lists()}),a.invalidateQueries({queryKey:Nr.detail(t)}),s?.onSuccess?.(n)},onError:s?.onError})},p6e=(t,s)=>{const a=cs();return Re({mutationFn:()=>r6e(t),loadingMessage:"Deactivating promotion...",onSuccess:n=>{a.invalidateQueries({queryKey:Nr.lists()}),a.invalidateQueries({queryKey:Nr.detail(t)}),s?.onSuccess?.(n)},onError:s?.onError})},h6e=t=>Re({mutationFn:i6e,loadingMessage:"Calculating eligible promotions...",onSuccess:t?.onSuccess,onError:t?.onError}),f6e=t=>Re({mutationFn:o6e,loadingMessage:"Applying promotion...",onSuccess:t?.onSuccess,onError:t?.onError}),x6e=(t,s)=>{const a=cs();return Re({mutationFn:n=>l6e(t,n),loadingMessage:"Settling period promotion...",onSuccess:(n,r)=>{a.invalidateQueries({queryKey:Nr.detail(t)}),s?.onSuccess?.(n,r)},onError:s?.onError})},g6e=["Price","Quantity"],y6e=["Free Product","Percent","Amount"],b6e=["Cash","Credit","Both"],v6e=["(B) Distributor Channel","(C) Customer Channel"],j6e=["All","Invoice","Waybill","Order"],N6e=["Normal","Exclusive","Priority"],w6e=["Normal","Override","Combine"],_6e=it({name:me().required("Name is required"),start_date:me().required("Start date is required"),finish_date:me().required("Finish date is required").test("is-after-start","Finish date must be after start date",function(t){const{start_date:s}=this.parent;return!t||!s?!0:new Date(t)>=new Date(s)}),description:me(),is_active:me().oneOf(["Y","N"]).required()}),ZF=({selectedPromotion:t,setSelectedPromotion:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,{data:i,isLoading:o}=QF(t?.id||null,{enabled:!!t?.id}),{data:l}=Ru({limit:1e3},{enabled:a}),c=l?.data||[],{data:m}=ko({limit:1e3,isActive:"Y"},{enabled:a}),u=m?.data||[],{data:h}=ic({limit:1e3,isActive:"Y"},{enabled:a}),f=h?.data||[],{data:v}=Fp({limit:1e3,isActive:"Y"},{enabled:a}),_=v?.data||[],{data:S}=JS({limit:1e3,is_active:"Y"},{enabled:a}),j=S?.data||[],{data:b}=HF({limit:1e3,is_active:"Y"},{enabled:a}),w=b?.data||[],{data:C}=e3({limit:1e3,is_active:"Y"},{enabled:a}),P=C?.data||[],{data:E}=f1({limit:1e3,status:"Active"},{enabled:a}),D=E?.data||[],{data:T}=er({limit:1e3,isActive:"Y"},{enabled:a}),R=T?.data||[],{data:z}=Lp({limit:1e3},{enabled:a}),O=z?.data||[],{data:$}=x1({limit:1e3},{enabled:a}),A=$?.data||[],Q=d6e(),K=u6e(),[U,B]=g.useState([]),[V,Y]=g.useState([]),[H,F]=g.useState([]),[M,L]=g.useState(0),[W,X]=g.useState([]),[te,se]=g.useState([]),[ae,pe]=g.useState([]),[he,re]=g.useState([]),[xe,ge]=g.useState([]),[le,de]=g.useState([]),[we,Ae]=g.useState([]),[Fe,Me]=g.useState([]),[Xe,ke]=g.useState(null),[Ye,ye]=g.useState(0),[We,Ge]=g.useState("Price"),[jt,dt]=g.useState(0),[wt,Dt]=g.useState(""),[ve,Le]=g.useState(""),[$e,bt]=g.useState("n. Prod. Gr."),[Zt,Ot]=g.useState(""),[It,ts]=g.useState(""),[st,Gt]=g.useState("Free Product"),[es,us]=g.useState(""),[As,Ls]=g.useState(null),[ws,ma]=g.useState({group:"",product:"",at_least:"",unit:"unit"}),[ca,fa]=g.useState({}),qt=g.useRef(null);g.useEffect(()=>{if(!i?.data||!r){B(Ue=>Ue.length>0?[]:Ue),Y(Ue=>Ue.length>0?[]:Ue),F(Ue=>Ue.length>0?[]:Ue),X(Ue=>Ue.length>0?[]:Ue),se(Ue=>Ue.length>0?[]:Ue),pe(Ue=>Ue.length>0?[]:Ue),ge(Ue=>Ue.length>0?[]:Ue),de(Ue=>Ue.length>0?[]:Ue),Ae(Ue=>Ue.length>0?[]:Ue),Me(Ue=>Ue.length>0?[]:Ue);return}const ce=i.data;if(ce.conditions&&Array.isArray(ce.conditions)){const Ue=[];ce.conditions.forEach((zt,Pe)=>{if(zt.promotion_condition_products&&Array.isArray(zt.promotion_condition_products)&&zt.promotion_condition_products.length>0){const qe=zt.promotion_condition_products[0];Ue.push({_index:Pe,id:zt.id,product_id:qe.product_id,product_group:qe.product_group,min_quantity:Number(qe.condition_quantity)||0,unit:"unit",type:zt.condition_type==="PRICE"?"Price":(zt.condition_type==="QUANTITY","Quantity")})}}),B(zt=>{const Pe=JSON.stringify(zt),qe=JSON.stringify(Ue);return Pe!==qe?Ue:zt})}else B(Ue=>Ue.length>0?[]:Ue);const Te=[];ce.depots&&Array.isArray(ce.depots)&&ce.depots.forEach(Ue=>{Ue.depot_id&&Te.push(Ue.depot_id)}),X(Ue=>{const zt=Ue.sort().join(","),Pe=Te.sort().join(",");return zt!==Pe?Te:Ue});const Ie=[];ce.routes&&Array.isArray(ce.routes)&&ce.routes.forEach(Ue=>{Ue.route_id&&Ie.push(Ue.route_id)}),pe(Ue=>{const zt=Ue.sort().join(","),Pe=Ie.sort().join(",");return zt!==Pe?Ie:Ue});const rt=[];ce.salespersons&&Array.isArray(ce.salespersons)&&ce.salespersons.forEach(Ue=>{Ue.salesperson_id&&rt.push(Ue.salesperson_id)}),re(Ue=>{const zt=Ue.sort().join(","),Pe=rt.sort().join(",");return zt!==Pe?rt:Ue});const gt=[];if(ce.zones&&Array.isArray(ce.zones)&&ce.zones.forEach(Ue=>{Ue.zone_id&&gt.push(Ue.zone_id)}),se(Ue=>{const zt=Ue.sort().join(","),Pe=gt.sort().join(",");return zt!==Pe?gt:Ue}),ce.customer_exclusions&&Array.isArray(ce.customer_exclusions)){const Ue=[];ce.customer_exclusions.forEach(zt=>{zt.customer_id&&Ue.push(zt.customer_id)}),ge(zt=>{const Pe=zt.sort().join(","),qe=Ue.sort().join(",");return Pe!==qe?Ue:zt})}else ge(Ue=>Ue.length>0?[]:Ue);if(ce.customer_categories&&Array.isArray(ce.customer_categories)){const Ue=[];ce.customer_categories.forEach(Pe=>{Pe.customer_category_id&&Ue.push(Pe.customer_category_id)}),Ae(Pe=>{const qe=Pe.sort().join(","),Mt=Ue.sort().join(",");return qe!==Mt?Ue:Pe});const zt=[];Ue.forEach((Pe,qe)=>{zt.push({_index:qe,id:Pe,outlet_condition:"Distributor",dist:"",outlet_value:"",start:ce.start_date?new Date(ce.start_date).toISOString().split("T")[0]:"",finish:ce.end_date?new Date(ce.end_date).toISOString().split("T")[0]:"",group:Pe.toString(),distributor_id:Te.length>0?Te[0].toString():""})}),Y(Pe=>{const qe=JSON.stringify(Pe),Mt=JSON.stringify(zt);return qe!==Mt?zt:Pe})}else Y(Ue=>Ue.length>0?[]:Ue),Ae(Ue=>Ue.length>0?[]:Ue);const Kt=[];ce.customer_types&&Array.isArray(ce.customer_types)&&ce.customer_types.forEach(Ue=>{Ue.customer_type_id&&Kt.push(Ue.customer_type_id)}),de(Ue=>{const zt=Ue.sort().join(","),Pe=Kt.sort().join(",");return zt!==Pe?Kt:Ue});const os=[];if(ce.customer_channels&&Array.isArray(ce.customer_channels)&&ce.customer_channels.forEach(Ue=>{Ue.customer_channel_id&&os.push(Ue.customer_channel_id)}),Me(Ue=>{const zt=Ue.sort().join(","),Pe=os.sort().join(",");return zt!==Pe?os:Ue}),ce.levels&&Array.isArray(ce.levels)){const Ue=[];ce.levels.forEach(zt=>{zt.promotion_benefit_level&&Array.isArray(zt.promotion_benefit_level)&&zt.promotion_benefit_level.forEach(Pe=>{if(Pe.product_id){const qe=Pe.benefit_type==="FREE_PRODUCT"?"Free Product":Pe.benefit_type==="PERCENT"?"Percent":"Amount";Ue.push({_index:Ue.length,id:Pe.id,level_id:zt.id,type:qe,application:Pe.condition_type||"n. Prod. Gr.",gift:`${Pe.benefit_value||""} ${Pe.promotion_benefit_products?.name||""}`,product_id:Pe.product_id,product_name:Pe.promotion_benefit_products?.name||"",benefit_value:Number(Pe.benefit_value)||0,gift_limit:Number(Pe.gift_limit)||0})}})}),F(zt=>{const Pe=JSON.stringify(zt),qe=JSON.stringify(Ue);return Pe!==qe?Ue:zt})}else F(Ue=>Ue.length>0?[]:Ue)},[i?.data?.id,r]);const zs=()=>{ma({group:"",product:"",at_least:"0",unit:"unit"}),Ge("Price"),ye(0)},Ft=()=>{s(null),n(!1),B([]),Y([]),F([]),ke(null),Ls(null),X([]),se([]),pe([]),re([]),ge([]),de([]),Ae([]),Me([]),Ot(""),ts(""),Dt(""),Le(""),bt("n. Prod. Gr."),us(""),Ge("Price"),ye(0),Qt.resetForm(),zs()},Qt=ft({initialValues:{name:t?.name||"",short_name:t?.name||"",code:t?.code||"",pay_type:"Cash",scope:"(B) Distributor Channel",slip_type:"All",mandatory:!1,prom_conflict:"Normal",degree:"1",nr:"1",reg_disc_conf:"Normal",conflict_with_constant_disc:!1,start_date:t?.start_date?new Date(t.start_date).toISOString().split("T")[0]:"",finish_date:t?.end_date?new Date(t.end_date).toISOString().split("T")[0]:"",platform:["Mobile"],group:"",dist_comp_participation_min:"0",dist_comp_participation_max:"100",quantity_type:"Price",description:t?.description||"",is_active:t?.is_active||"Y"},validationSchema:_6e,enableReinitialize:!0,onSubmit:async ce=>{try{const Te=(qs,Wa)=>Array.from(new Set(qs.filter(en=>en[Wa]).map(en=>Number(en[Wa])))),Ie=Te(V,"distributor_id"),rt=Array.from(new Set([...W,...Ie])),gt=rt.length>0?rt:void 0,Kt=Te(V,"group"),os=Array.from(new Set([...we,...Kt])),Ue=os.length>0?os:void 0,zt=ae.length>0?ae:void 0,Pe=te.length>0?te:void 0,qe=he.length>0?he:void 0,Mt=xe.length>0?xe:void 0,Xt=le.length>0?le:void 0,$t=Fe.length>0?Fe:void 0,Is=U.filter(qs=>qs.product_id||qs.product_group).map(qs=>{const Wa=qs.product_id?c.find(Pn=>Pn.id===qs.product_id):null,en=O.length>0?O[0].id:null;return{product_id:qs.product_group?void 0:qs.product_id,category_id:Wa?.category_id||en,product_group:qs.product_group,min_quantity:qs.min_quantity||0,min_value:qs.min_quantity||0,quantity_type:(qs.type||"Quantity").toUpperCase()}}),$s=H.filter(qs=>qs.product_id).map(qs=>({benefit_type:qs.type==="Free Product"?"FREE_PRODUCT":qs.type==="Percent"?"PERCENT":"AMOUNT",product_id:qs.product_id,benefit_value:qs.benefit_value||0,condition_type:qs.application,gift_limit:qs.gift_limit||0})),Ks={name:ce.name,description:ce.description,start_date:ce.start_date,end_date:ce.finish_date,platforms:["Mobile"],quantity_type:(ce.quantity_type||"QUANTITY").toUpperCase(),product_conditions:Is.length>0?Is:void 0,location_areas:gt,routes:zt,zones:Pe,salespersons:qe,customer_exclusions:Mt,outlet1_groups:Ue,customer_types:Xt,customer_channels:$t,levels:$s.length>0?[{level_number:1,threshold_value:0,discount_type:"PERCENTAGE",discount_value:0,benefits:$s}]:void 0};if(r&&t){const qs=Te(V,"distributor_id"),Wa=Array.from(new Set([...W,...qs])),en=Wa.length>0?Wa:void 0,Pn=Te(V,"group"),Ss=Array.from(new Set([...we,...Pn])),An=Ss.length>0?Ss:void 0,In=ae.length>0?ae:void 0,Ds=te.length>0?te:void 0,Za=he.length>0?he:void 0,Gr=xe.length>0?xe:void 0,En=le.length>0?le:void 0,Zs=Fe.length>0?Fe:void 0;await K.mutateAsync({id:t.id,data:{name:ce.name,start_date:ce.start_date,end_date:ce.finish_date,description:ce.description,is_active:ce.is_active,platforms:["Mobile"],quantity_type:(ce.quantity_type||"QUANTITY").toUpperCase(),product_conditions:Is.length>0?Is:void 0,location_areas:en,routes:In,zones:Ds,salespersons:Za,customer_exclusions:Gr,outlet1_groups:An,customer_types:En,customer_channels:Zs,levels:$s.length>0?[{level_number:1,threshold_value:0,discount_type:"PERCENTAGE",discount_value:0,benefits:$s}]:void 0}})}else await Q.mutateAsync(Ks);Ft(),X([]),se([]),pe([]),re([]),ge([]),de([]),Ae([]),Me([])}catch(Te){console.error("Error saving promotion:",Te)}}}),Ms=()=>{if(!ws.group&&!ws.product){fa({...ca,productCondition_new:"Product or Product Category must be selected"}),setTimeout(()=>{qt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);return}if(!ws.at_least||parseFloat(ws.at_least)<=0){fa({...ca,productCondition_quantity_new:"At least value must be greater than 0"}),setTimeout(()=>{qt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);return}const ce={_index:U.length,product_group:ws.group,product_id:ws.product?parseInt(ws.product):void 0,min_quantity:parseFloat(ws.at_least)||0,unit:We==="Quantity"?ws.unit:void 0,type:We};B([...U,ce]),zs(),fa({})},je=ce=>{B(U.filter((Te,Ie)=>Ie!==ce))},Ce=(ce,Te,Ie)=>{const rt=[...U];rt[ce]={...rt[ce],[Te]:Ie},B(rt)},Be=ce=>{F(H.filter((Te,Ie)=>Ie!==ce))},xt=(ce,Te,Ie)=>{const rt=[...H];rt[ce]={...rt[ce],[Te]:Ie},F(rt)};return o&&r?e.jsx(ot,{open:a,setOpen:Ft,title:r?"Edit Promotion":"Create Promotion",size:"extra-large",children:e.jsxs(y,{className:"!p-4",children:[e.jsxs(y,{className:"!grid !grid-cols-2 !gap-3",children:[e.jsxs(da,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(J,{variant:"text",width:"60%",height:28,className:"!mb-2"}),e.jsxs(y,{className:"!grid !grid-cols-2 !gap-4",children:[e.jsx(J,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:56,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:56,className:"!rounded"})]})]}),e.jsxs(da,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(J,{variant:"text",width:"50%",height:28,className:"!mb-2"}),e.jsx(J,{variant:"rectangular",height:48,className:"!rounded !mb-3"}),e.jsx(J,{variant:"rectangular",height:40,className:"!rounded !mb-3"}),e.jsxs(y,{className:"!max-h-64 !overflow-hidden !border !border-gray-200 !rounded !p-2",children:[e.jsx(J,{variant:"rectangular",height:32,className:"!rounded !mb-2"}),e.jsx(J,{variant:"rectangular",height:32,className:"!rounded !mb-2"}),e.jsx(J,{variant:"rectangular",height:32,className:"!rounded !mb-2"}),e.jsx(J,{variant:"rectangular",height:32,className:"!rounded !mb-2"}),e.jsx(J,{variant:"rectangular",height:32,className:"!rounded !mb-2"})]})]}),e.jsxs(da,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(J,{variant:"text",width:"70%",height:28,className:"!mb-2"}),e.jsxs(y,{className:"!mb-2",children:[e.jsx(J,{variant:"text",width:"30%",height:20,className:"!mb-1"}),e.jsxs(y,{className:"!flex !gap-4",children:[e.jsx(J,{variant:"rectangular",width:100,height:40,className:"!rounded"}),e.jsx(J,{variant:"rectangular",width:100,height:40,className:"!rounded"}),e.jsx(J,{variant:"rectangular",width:100,height:40,className:"!rounded"})]})]}),e.jsxs(y,{className:"!space-y-2 !mt-2",children:[e.jsxs(y,{className:"!grid !grid-cols-2 !gap-4",children:[e.jsx(J,{variant:"rectangular",height:40,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:40,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:40,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:40,className:"!rounded"})]}),e.jsxs(y,{className:"!flex !gap-2",children:[e.jsx(J,{variant:"rectangular",width:80,height:36,className:"!rounded"}),e.jsx(J,{variant:"rectangular",width:80,height:36,className:"!rounded"}),e.jsx(J,{variant:"rectangular",width:80,height:36,className:"!rounded"})]})]})]}),e.jsxs(da,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(J,{variant:"text",width:"40%",height:28,className:"!mb-2"}),e.jsxs(y,{className:"!mb-4",children:[e.jsx(J,{variant:"text",width:"20%",height:20,className:"!mb-1"}),e.jsxs(y,{className:"!flex !gap-4",children:[e.jsx(J,{variant:"rectangular",width:120,height:40,className:"!rounded"}),e.jsx(J,{variant:"rectangular",width:120,height:40,className:"!rounded"}),e.jsx(J,{variant:"rectangular",width:120,height:40,className:"!rounded"})]})]}),e.jsxs(y,{className:"!space-y-4 !mt-2",children:[e.jsxs(y,{className:"!grid !grid-cols-2 !gap-4",children:[e.jsx(J,{variant:"rectangular",height:40,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:40,className:"!rounded"})]}),e.jsx(J,{variant:"rectangular",height:48,className:"!rounded"}),e.jsx(J,{variant:"rectangular",height:40,className:"!rounded"}),e.jsxs(y,{className:"!flex !gap-2",children:[e.jsx(J,{variant:"rectangular",width:80,height:36,className:"!rounded"}),e.jsx(J,{variant:"rectangular",width:80,height:36,className:"!rounded"}),e.jsx(J,{variant:"rectangular",width:80,height:36,className:"!rounded"})]})]})]})]}),e.jsxs(y,{className:"!mt-2 !flex !gap-2 !justify-end !col-span-2",children:[e.jsx(J,{variant:"rectangular",width:100,height:40,className:"!rounded"}),e.jsx(J,{variant:"rectangular",width:100,height:40,className:"!rounded"})]})]})}):e.jsx(ot,{open:a,setOpen:Ft,title:r?"Edit Promotion":"Create Promotion",size:"extra-large",children:e.jsxs(y,{className:"!p-4",children:[Object.keys(ca).length>0&&e.jsx(y,{ref:qt,children:e.jsxs(ct,{severity:"error",className:"!mb-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-semibold !mb-1",children:"Please fix the following errors:"}),e.jsx("ul",{className:"!list-disc !list-inside !space-y-1",children:Object.values(ca).map((ce,Te)=>e.jsx("li",{className:"!text-sm",children:ce},Te))})]})}),e.jsxs("form",{onSubmit:Qt.handleSubmit,className:"!grid !grid-cols-2 !gap-3",children:[e.jsxs(da,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2 !text-base",children:"Header Information"}),e.jsxs(y,{className:"!grid !grid-cols-2 !gap-4",children:[e.jsx(oe,{name:"name",label:"Name",formik:Qt,required:!0,fullWidth:!0}),e.jsx(oe,{name:"short_name",label:"Short Name",formik:Qt,fullWidth:!0}),e.jsx(oe,{name:"code",label:"Code",formik:Qt,required:!0,fullWidth:!0}),e.jsx(_e,{name:"pay_type",label:"Pay Type",formik:Qt,fullWidth:!0,children:b6e.map(ce=>e.jsx(Z,{value:ce,children:ce},ce))}),e.jsx(_e,{name:"scope",label:"Scope",formik:Qt,fullWidth:!0,children:v6e.map(ce=>e.jsx(Z,{value:ce,children:ce},ce))}),e.jsx(_e,{name:"slip_type",label:"Slip Type",formik:Qt,fullWidth:!0,children:j6e.map(ce=>e.jsx(Z,{value:ce,children:ce},ce))}),e.jsx(_e,{name:"prom_conflict",label:"Prom. Conflict",formik:Qt,fullWidth:!0,children:N6e.map(ce=>e.jsx(Z,{value:ce,children:ce},ce))}),e.jsx(oe,{name:"degree",label:"Degree",type:"number",formik:Qt,fullWidth:!0}),e.jsx(oe,{name:"nr",label:"Nr",type:"number",formik:Qt,fullWidth:!0}),e.jsx(_e,{name:"reg_disc_conf",label:"Reg.Disc. Conf.",formik:Qt,fullWidth:!0,children:w6e.map(ce=>e.jsx(Z,{value:ce,children:ce},ce))}),e.jsx(oe,{name:"start_date",label:"Start",type:"date",formik:Qt,required:!0,fullWidth:!0}),e.jsx(oe,{name:"finish_date",label:"Finish",type:"date",formik:Qt,required:!0,fullWidth:!0})]})]}),e.jsxs(da,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2 !text-base",children:"Suitable Outlets"}),e.jsx(y,{className:"!mb-3 !border !border-gray-400/50 !rounded",children:e.jsxs(tl,{value:M,onChange:(ce,Te)=>{L(Te)},variant:"scrollable",scrollButtons:"auto",className:"!min-h-9.5",children:[e.jsx(Rs,{label:`Depots ${W.length>0?`(${W.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Rs,{label:`Zones ${te.length>0?`(${te.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Rs,{label:`Routes ${ae.length>0?`(${ae.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Rs,{label:`Sales Persons ${he.length>0?`(${he.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Rs,{label:`Outlet ${xe.length>0?`(${xe.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Rs,{label:`Customer Type ${le.length>0?`(${le.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Rs,{label:`Customer Category ${we.length>0?`(${we.length})`:""}`,className:"!min-h-9.5"}),e.jsx(Rs,{label:`Customer Channel ${Fe.length>0?`(${Fe.length})`:""}`,className:"!min-h-9.5"})]})}),e.jsxs(y,{className:"!mb-3",children:[M===0&&e.jsx(Yn,{multiple:!0,options:u,getOptionLabel:ce=>`${ce.name} (${ce.code})`,value:u.filter(ce=>W.includes(ce.id)),onChange:(ce,Te)=>{X(Te.map(Ie=>Ie.id))},size:"small",fullWidth:!0,filterOptions:(ce,Te)=>ce.filter(rt=>{const gt=Te.inputValue.toLowerCase();return rt.name?.toLowerCase().includes(gt)||rt.code?.toLowerCase().includes(gt)}),renderInput:ce=>e.jsx(wn,{...ce,placeholder:"Search and select Depots...",size:"small"}),renderTags:()=>null}),M===1&&e.jsx(Yn,{multiple:!0,options:f,getOptionLabel:ce=>ce.name,value:f.filter(ce=>te.includes(ce.id)),onChange:(ce,Te)=>{se(Te.map(Ie=>Ie.id))},size:"small",fullWidth:!0,filterOptions:(ce,Te)=>ce.filter(rt=>{const gt=Te.inputValue.toLowerCase();return rt.name?.toLowerCase().includes(gt)}),renderInput:ce=>e.jsx(wn,{...ce,placeholder:"Search and select Zones...",size:"small"}),renderTags:()=>null}),M===2&&e.jsx(Yn,{multiple:!0,options:D,getOptionLabel:ce=>`${ce.name||ce.code||`Route ${ce.id}`} ${ce.code?`(${ce.code})`:""}`,value:D.filter(ce=>ae.includes(ce.id)),onChange:(ce,Te)=>{pe(Te.map(Ie=>Ie.id))},size:"small",fullWidth:!0,filterOptions:(ce,Te)=>ce.filter(rt=>{const gt=Te.inputValue.toLowerCase();return rt.name?.toLowerCase().includes(gt)||rt.code?.toLowerCase().includes(gt)}),renderInput:ce=>e.jsx(wn,{...ce,placeholder:"Search and select Routes...",size:"small"}),renderTags:()=>null}),M===3&&e.jsx(Yn,{multiple:!0,options:R,getOptionLabel:ce=>`${ce.name} ${ce.email?`(${ce.email})`:""}`,value:R.filter(ce=>he.includes(ce.id)),onChange:(ce,Te)=>{re(Te.map(Ie=>Ie.id))},size:"small",fullWidth:!0,filterOptions:(ce,Te)=>ce.filter(rt=>{const gt=Te.inputValue.toLowerCase();return rt.name?.toLowerCase().includes(gt)||rt.email?.toLowerCase().includes(gt)}),renderInput:ce=>e.jsx(wn,{...ce,placeholder:"Search and select Sales Persons...",size:"small"}),renderTags:()=>null}),M===4&&e.jsx(Yn,{multiple:!0,options:_,getOptionLabel:ce=>`${ce.name} (${ce.code})`,value:_.filter(ce=>xe.includes(ce.id)),onChange:(ce,Te)=>{ge(Te.map(Ie=>Ie.id))},size:"small",fullWidth:!0,filterOptions:(ce,Te)=>ce.filter(rt=>{const gt=Te.inputValue.toLowerCase();return rt.name?.toLowerCase().includes(gt)||rt.code?.toLowerCase().includes(gt)}),renderInput:ce=>e.jsx(wn,{...ce,placeholder:"Search and select Outlets...",size:"small"}),renderTags:()=>null}),M===5&&e.jsx(Yn,{multiple:!0,options:j,getOptionLabel:ce=>`${ce.type_name} (${ce.type_code})`,value:j.filter(ce=>le.includes(ce.id)),onChange:(ce,Te)=>{de(Te.map(Ie=>Ie.id))},size:"small",fullWidth:!0,filterOptions:(ce,Te)=>ce.filter(rt=>{const gt=Te.inputValue.toLowerCase();return rt.type_name?.toLowerCase().includes(gt)||rt.type_code?.toLowerCase().includes(gt)}),renderInput:ce=>e.jsx(wn,{...ce,placeholder:"Search and select Customer Types...",size:"small"}),renderTags:()=>null}),M===6&&e.jsx(Yn,{multiple:!0,options:w,getOptionLabel:ce=>`${ce.category_name} (${ce.category_code})`,value:w.filter(ce=>we.includes(ce.id)),onChange:(ce,Te)=>{Ae(Te.map(Ie=>Ie.id))},size:"small",fullWidth:!0,filterOptions:(ce,Te)=>ce.filter(rt=>{const gt=Te.inputValue.toLowerCase();return rt.category_name?.toLowerCase().includes(gt)||rt.category_code?.toLowerCase().includes(gt)}),renderInput:ce=>e.jsx(wn,{...ce,placeholder:"Search and select Customer Categories...",size:"small"}),renderTags:()=>null}),M===7&&e.jsx(Yn,{multiple:!0,options:P,getOptionLabel:ce=>`${ce.channel_name} (${ce.channel_code})`,value:P.filter(ce=>Fe.includes(ce.id)),onChange:(ce,Te)=>{Me(Te.map(Ie=>Ie.id))},size:"small",fullWidth:!0,filterOptions:(ce,Te)=>ce.filter(rt=>{const gt=Te.inputValue.toLowerCase();return rt.channel_name?.toLowerCase().includes(gt)||rt.channel_code?.toLowerCase().includes(gt)}),renderInput:ce=>e.jsx(wn,{...ce,placeholder:"Search and select Customer Channels...",size:"small"}),renderTags:()=>null})]}),(M===0&&W.length>0||M===1&&te.length>0||M===2&&ae.length>0||M===3&&he.length>0||M===4&&xe.length>0||M===5&&le.length>0||M===6&&we.length>0||M===7&&Fe.length>0)&&e.jsx(y,{className:"!mt-3 !border !border-gray-200 !rounded",children:e.jsxs(y,{className:"!max-h-52 !overflow-y-auto",children:[M===0&&W.map(ce=>{const Te=u.find(Ie=>Ie.id===ce);return Te?e.jsxs(y,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsxs(x,{variant:"body2",children:[Te.name," (",Te.code,")"]}),e.jsx(na,{size:"small",onClick:()=>{X(W.filter(Ie=>Ie!==ce))},children:e.jsx(Gn,{fontSize:"small"})})]},ce):null}),M===1&&te.map(ce=>{const Te=f.find(Ie=>Ie.id===ce);return Te?e.jsxs(y,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsx(x,{variant:"body2",children:Te.name}),e.jsx(na,{size:"small",onClick:()=>{se(te.filter(Ie=>Ie!==ce))},children:e.jsx(Gn,{fontSize:"small"})})]},ce):null}),M===2&&ae.map(ce=>{const Te=D.find(Ie=>Ie.id===ce);return Te?e.jsxs(y,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsxs(x,{variant:"body2",children:[Te.name||Te.code||`Route ${Te.id}`," ",Te.code?`(${Te.code})`:""]}),e.jsx(na,{size:"small",onClick:()=>{pe(ae.filter(Ie=>Ie!==ce))},children:e.jsx(Gn,{fontSize:"small"})})]},ce):null}),M===3&&he.map(ce=>{const Te=R.find(Ie=>Ie.id===ce);return Te?e.jsxs(y,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsxs(x,{variant:"body2",children:[Te.name," ",Te.email?`(${Te.email})`:""]}),e.jsx(na,{size:"small",onClick:()=>{re(he.filter(Ie=>Ie!==ce))},children:e.jsx(Gn,{fontSize:"small"})})]},ce):null}),M===4&&xe.map(ce=>{const Te=_.find(Ie=>Ie.id===ce);return Te?e.jsxs(y,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsxs(x,{variant:"body2",children:[Te.name," (",Te.code,")"]}),e.jsx(na,{size:"small",onClick:()=>{ge(xe.filter(Ie=>Ie!==ce))},children:e.jsx(Gn,{fontSize:"small"})})]},ce):null}),M===5&&le.map(ce=>{const Te=j.find(Ie=>Ie.id===ce);return Te?e.jsxs(y,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsxs(x,{variant:"body2",children:[Te.type_name," (",Te.type_code,")"]}),e.jsx(na,{size:"small",onClick:()=>{de(le.filter(Ie=>Ie!==ce))},children:e.jsx(Gn,{fontSize:"small"})})]},ce):null}),M===6&&we.map(ce=>{const Te=w.find(Ie=>Ie.id===ce);return Te?e.jsxs(y,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsxs(x,{variant:"body2",children:[Te.category_name," (",Te.category_code,")"]}),e.jsx(na,{size:"small",onClick:()=>{Ae(we.filter(Ie=>Ie!==ce))},children:e.jsx(Gn,{fontSize:"small"})})]},ce):null}),M===7&&Fe.map(ce=>{const Te=P.find(Ie=>Ie.id===ce);return Te?e.jsxs(y,{className:"!flex !items-center !border-b !border-gray-200 !justify-between !py-1 !px-2 !bg-gray-50 !rounded !hover:bg-gray-100",children:[e.jsxs(x,{variant:"body2",className:"!text-sm",children:[Te.channel_name," (",Te.channel_code,")"]}),e.jsx(na,{size:"small",onClick:()=>{Me(Fe.filter(Ie=>Ie!==ce))},children:e.jsx(Gn,{fontSize:"small"})})]},ce):null})]})})]}),e.jsxs(da,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(x,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2 !text-base",children:["Promotion Product Condition"," ",e.jsxs("span",{className:"!text-gray-500",children:["(",U.length||0,")"]})]}),e.jsxs(y,{className:"!mb-2",children:[e.jsx(x,{className:"!mb-1 !text-xs !font-medium",children:"Type"}),e.jsx(jx,{value:We,onChange:ce=>{const Te=ce.target.value;Ge(Te),ma({...ws,product:"",group:"",unit:Te==="Price"?void 0:ws.unit||"unit"})},row:!0,children:g6e.map(ce=>e.jsx(si,{value:ce,control:e.jsx(vx,{}),label:ce},ce))})]}),U.length>0&&e.jsx(y,{className:"!mb-4",children:e.jsx(lt,{data:U.map((ce,Te)=>({id:ce._index,type:ce.type||"Quantity",product_group:ce.product_group||ce.product_id&&c.find(Ie=>Ie.id===ce.product_id)?.name||"-",at_least:ce.type==="Price"?`${ce.min_quantity||0}`:`${ce.min_quantity||0} ${ce.unit||"unit"}`,_index:Te})),columns:[{id:"type",label:"Type"},{id:"product_group",label:"Product/Category"},{id:"at_least",label:"At least"},{id:"actions",label:"Actions",render:(ce,Te)=>e.jsxs(y,{className:"!flex !gap-2",children:[e.jsx(is,{onClick:()=>{const Ie=U[Te._index];ke(Te._index),ma({group:Ie.product_group||"",product:Ie.product_id?.toString()||"",at_least:Ie.min_quantity?.toString()||"",unit:Ie.type==="Price"?void 0:Ie.unit||"unit"}),Ge(Ie.type||"Quantity"),Ie.product_id?ye(0):Ie.product_group&&ye(1)},tooltip:"Edit condition",size:"small"}),e.jsx(Vt,{onClick:()=>je(Te._index),tooltip:"Delete condition",size:"small"})]})}],pagination:!1,sortable:!1,compact:!0})}),e.jsxs(y,{className:"!space-y-4 !mt-2",children:[e.jsxs(y,{className:"!grid !grid-cols-2 !gap-4",children:[e.jsx(oe,{type:"number",value:ws.at_least||"",onChange:ce=>ma({...ws,at_least:ce.target.value}),label:`At least (${We==="Quantity"?"Quantity":"Price"})`,size:"small",fullWidth:!0}),We==="Quantity"&&e.jsxs(_e,{value:ws.unit,onChange:ce=>ma({...ws,unit:ce.target.value}),size:"small",fullWidth:!0,children:[e.jsx(Z,{value:"unit",children:"unit"}),A.map(ce=>e.jsx(Z,{value:ce.name,children:ce.name},ce.id))]})]}),e.jsx(y,{className:"rounded border border-gray-400/50",children:e.jsxs(tl,{value:Ye,onChange:(ce,Te)=>{ye(Te),ma({...ws,product:"",group:""})},variant:"scrollable",scrollButtons:"auto",className:"!min-h-9.5",children:[e.jsx(Rs,{label:"Product",className:"!min-h-9.5"}),e.jsx(Rs,{label:"Product Category",className:"!min-h-9.5"})]})}),Ye===0?e.jsx(_o,{label:"Product",value:ws.product,onChange:(ce,Te)=>{const Ie=Te?Te.id.toString():"";ma({...ws,product:Ie,group:""})},fullWidth:!0,size:"small"}):e.jsx(Nu,{label:"Product Category",value:ws.group,nameToSearch:ws.group||"",onChange:(ce,Te)=>{const Ie=Te?Te.category_name:"";ma({...ws,group:Ie,product:""})},fullWidth:!0,size:"small"}),e.jsxs(y,{className:"!flex !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{if(Xe!==null){const ce=Xe;Ce(ce,"product_group",ws.group),Ce(ce,"product_id",ws.product?parseInt(ws.product):void 0),Ce(ce,"min_quantity",parseFloat(ws.at_least)||0),Ce(ce,"unit",We==="Quantity"?ws.unit:void 0),Ce(ce,"type",We),ke(null),zs(),fa({})}},disabled:Xe===null,children:"Update"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:Ms,children:"New"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{Xe!==null&&(je(Xe),ke(null),zs())},disabled:Xe===null,children:"Del"})]})]})]}),e.jsxs(da,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(x,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2 !text-base",children:["GIFT ",e.jsxs("span",{className:"!text-gray-500",children:["(",H.length,")"]})]}),e.jsxs(y,{className:"!mb-2",children:[e.jsx(x,{className:"!mb-1 !text-xs !font-medium",children:"Type"}),e.jsx(jx,{value:st,onChange:ce=>{const Te=ce.target.value;if(Gt(Te),Te==="Percent"&&Zt){const Ie=parseFloat(Zt);!isNaN(Ie)&&Ie>100?us("Percent value cannot be more than 100"):us("")}else us("")},row:!0,children:y6e.map(ce=>e.jsx(si,{value:ce,control:e.jsx(vx,{}),label:ce},ce))})]}),H.length>0&&e.jsx(y,{className:"!mb-4",children:e.jsx(lt,{data:H.map((ce,Te)=>({id:Te,type:ce.type,application:ce.application,gift:ce.gift,_index:Te})),columns:[{id:"type",label:"Type"},{id:"application",label:"Application"},{id:"gift",label:"Gift",render:(ce,Te)=>{const Ie=H[Te._index];return Ie.product_name?`${Ie.benefit_value||""} ${Ie.product_name}`:Ie.gift}},{id:"actions",label:"Actions",render:(ce,Te)=>e.jsxs(y,{className:"!flex !gap-2",children:[e.jsx(is,{onClick:()=>{const Ie=H[Te._index];Ls(Te._index),Ot(Ie.benefit_value?.toString()||""),ts(Ie.gift_limit?.toString()||""),bt(Ie.application||"n. Prod. Gr."),Ie.type==="Free Product"?(Dt(Ie.product_id?.toString()||""),Le(Ie.product_name||""),dt(0)):(Dt(Ie.product_id?.toString()||""),Le(Ie.product_name||""),dt(1)),Gt(Ie.type)},tooltip:"Edit gift",size:"small"}),e.jsx(Vt,{onClick:()=>Be(Te._index),tooltip:"Delete gift",size:"small"})]})}],pagination:!1,sortable:!1,compact:!0})}),e.jsxs(y,{className:"!space-y-4 !mt-2",children:[e.jsxs(y,{className:"!grid !grid-cols-2 !gap-4",children:[e.jsxs(y,{children:[e.jsx(oe,{label:`${st==="Free Product"?"Free Product":st==="Percent"?"Discount (Percent)":"Discount (Amount)"}`,type:"number",value:Zt||"",onChange:ce=>{const Te=ce.target.value;if(Ot(Te),st==="Percent"){const Ie=parseFloat(Te);Te&&!isNaN(Ie)&&Ie>100?us("Percent value cannot be more than 100"):us("")}else us("")},fullWidth:!0,size:"small",error:!!es}),es&&e.jsx(x,{variant:"caption",className:"!text-red-500 !mt-1 !block",children:es})]})," ",st==="Percent"&&e.jsx(oe,{label:"Maximum Amount",type:"number",value:It,onChange:ce=>ts(ce.target.value),fullWidth:!0,size:"small"})]}),e.jsx(y,{className:"rounded border border-gray-400/50",children:e.jsxs(tl,{value:jt,onChange:(ce,Te)=>{dt(Te),Dt("")},variant:"scrollable",scrollButtons:"auto",className:"!min-h-9.5",children:[e.jsx(Rs,{label:"Product",className:"!min-h-9.5"}),e.jsx(Rs,{label:"Product Category",className:"!min-h-9.5"})]})}),jt===0?e.jsx(_o,{label:"Product",value:wt,onChange:(ce,Te)=>{const Ie=Te?Te.id.toString():"";Dt(Ie),Le(Te?.name||"")},fullWidth:!0,size:"small"}):e.jsx(Nu,{label:"Product Category",value:ve,nameToSearch:ve||"",onChange:(ce,Te)=>{const Ie=Te?Te.category_name:"";Dt(Ie),Le(Ie)},fullWidth:!0,size:"small"}),e.jsxs(y,{className:"!flex !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{if(!wt){fa({...ca,gift_update:"Product or Product Category must be selected"}),setTimeout(()=>{qt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);return}if(!Zt||parseFloat(Zt)<=0){fa({...ca,gift_disc_update:"Discount value must be greater than 0"}),setTimeout(()=>{qt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);return}if(st==="Percent"){const ce=parseFloat(Zt);if(!isNaN(ce)&&ce>100){us("Percent value cannot be more than 100"),fa({...ca,gift_disc_update:"Percent value cannot be more than 100"}),setTimeout(()=>{qt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);return}}As!==null&&wt&&(xt(As,"type",st),xt(As,"application",$e),xt(As,"gift",Zt?`${Zt} ${ve}`:""),xt(As,"product_id",parseInt(wt)),xt(As,"product_name",ve),xt(As,"benefit_value",parseFloat(Zt)||0),xt(As,"gift_limit",parseFloat(It)||0),Ls(null),Ot(""),ts(""),Dt(""),Le(""),bt("n. Prod. Gr."),us(""),fa({}))},disabled:!!es||As===null,children:"Update"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{if(!wt){fa({...ca,gift_new:"Product or Product Category must be selected"}),setTimeout(()=>{qt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);return}if(!Zt||parseFloat(Zt)<=0){fa({...ca,gift_disc_new:"Discount value must be greater than 0"}),setTimeout(()=>{qt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);return}if(st==="Percent"){const Te=parseFloat(Zt);if(!isNaN(Te)&&Te>100){us("Percent value cannot be more than 100"),fa({...ca,gift_disc_new:"Percent value cannot be more than 100"}),setTimeout(()=>{qt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);return}}const ce={_index:H.length,type:st,application:$e,gift:Zt?`${Zt} ${ve||""}`:"",product_id:wt?parseInt(wt):void 0,product_name:ve,benefit_value:parseFloat(Zt)||0,gift_limit:parseFloat(It)||0};F([...H,ce]),Ot("0"),ts("0"),Dt(""),Le(""),bt("n. Prod. Gr."),us(""),Ls(null),fa({})},disabled:!!es,children:"New"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{As!==null&&(Be(As),Ls(null),Ot("0"),ts("0"),Dt(""),Le(""),bt("n. Prod. Gr."),us(""))},disabled:As===null,children:"Del"})]})]})]}),e.jsxs(y,{className:"!mt-2 !flex !gap-2 !justify-end !col-span-2",children:[e.jsx(G,{type:"button",variant:"outlined",size:"medium",onClick:Ft,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",size:"medium",disabled:Q.isPending||K.isPending,children:r?"Update Promotion":"Create Promotion"})]})]})]})})},S6e=()=>{const t=Gs(),[s,a]=g.useState(""),[n,r]=g.useState("all"),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,u]=g.useState(1),[h]=g.useState(10),{isCreate:f,isUpdate:v,isDelete:_,isRead:S}=Ze("promotions"),{data:j,isFetching:b,error:w}=c6e({search:s,page:m,limit:h,is_active:n==="all"?void 0:n==="active"?"Y":"N"}),C=j?.data||[],P=j?.pagination?.total_count||0,E=(j?.pagination?.current_page||1)-1,D=ms(),T=Re({mutationFn:H=>a6e(H),loadingMessage:"Deleting promotion...",invalidateQueries:[["promotions"]]}),R=j?.stats?.total_promotions||j?.pagination?.total_count||0,z=j?.stats?.active_promotions||C.filter(H=>H.is_active==="Y").length,O=j?.stats?.inactive_promotions||C.filter(H=>H.is_active==="N").length,$=j?.stats?.promotions_this_month||0,A=g.useCallback(()=>{o(null),c(!0)},[]),Q=g.useCallback(H=>{o(H),c(!0)},[]),K=g.useCallback(async H=>{try{await T.mutateAsync(H)}catch(F){console.error("Error deleting promotion:",F)}},[T]),U=g.useCallback(H=>{a(H),u(1)},[]),B=H=>{u(H+1)},V=g.useCallback(async()=>{try{const H={search:s,status:n==="all"?void 0:n==="active"?"Y":"N"};await D.mutateAsync({tableName:"promotions",filters:H})}catch(H){console.error("Error exporting promotions:",H)}},[D,s,n]),Y=[{id:"name",label:"Promotion Info",render:(H,F)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",onClick:()=>t(`/masters/promotions/${F.id}`),children:[e.jsx(ht,{alt:F.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(kn,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:F.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:F.code})]})]})},{id:"start_date",label:"Start Date",render:(H,F)=>e.jsx(y,{children:Oe(F.start_date)})},{id:"end_date",label:"End Date",render:(H,F)=>e.jsx(y,{children:Oe(F.end_date)})},{id:"is_active",label:"Status",render:H=>e.jsx(De,{icon:H==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:H==="Y"?"Active":"Inactive",size:"small",color:H==="Y"?"success":"error"})},{id:"createdate",label:"Created",render:(H,F)=>e.jsx(x,{variant:"body2",className:"!text-gray-500",children:Oe(F.createdate?.toString())})},...v||_||S?[{id:"action",label:"Actions",sortable:!1,render:(H,F)=>e.jsxs("div",{className:"!flex !gap-2 !items-center !justify-center",children:[v&&e.jsx(is,{onClick:()=>Q(F),tooltip:"Edit promotion"}),S&&e.jsx(Ka,{onClick:()=>t(`/masters/promotions/${F.id}`),tooltip:"View promotion",icon:e.jsx(Cr,{fontSize:"small"}),color:"info"}),_&&e.jsx(Vt,{onClick:()=>K(F.id),tooltip:"Delete promotion",confirmDelete:!0,itemName:"promotion"})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Promotions Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage promotional offers, discounts, and special deals for your products"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Promotions",value:R,icon:e.jsx(kn,{className:"w-6 h-6"}),color:"blue",isLoading:b}),e.jsx(fe,{title:"Active Promotions",value:z,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:b}),e.jsx(fe,{title:"Inactive Promotions",value:O,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:b}),e.jsx(fe,{title:"New This Month",value:$,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:b})]}),w&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load promotions. Please try again."}),e.jsx(lt,{data:C,columns:Y,actions:S||f?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:S&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Promotions...",value:s,onChange:U,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:n,onChange:H=>{r(H.target.value),u(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[S&&e.jsx(Jt,{title:"Export Promotions",description:"Are you sure you want to export the current promotions data to Excel? This will include all filtered results.",onConfirm:V,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:D.isPending,children:D.isPending?"Exporting...":"Export"})}),f&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:A,children:"Create"})]})]}):!1,getRowId:H=>H.id,initialOrderBy:"name",loading:b,totalCount:P,page:E,rowsPerPage:h,isPermission:S,onPageChange:B,emptyMessage:s?`No promotions found matching "${s}"`:"No promotions found in the system"}),e.jsx(ZF,{selectedPromotion:i,setSelectedPromotion:o,drawerOpen:l,setDrawerOpen:c})]})},Wd=t=>t?t.replace(/_/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" "):"",YN=(...t)=>t.filter(Boolean).join(" ").trim();function ef(t){const{children:s,value:a,index:n,...r}=t;return e.jsx("div",{role:"tabpanel",hidden:a!==n,id:`promotion-tabpanel-${n}`,"aria-labelledby":`promotion-tab-${n}`,...r,children:a===n&&e.jsx(y,{className:"!p-3",children:s})})}const C6e=()=>{const{id:t}=Jn(),s=Gs(),[a,n]=g.useState(0),[r,i]=g.useState(!1),[o,l]=g.useState(null),{data:c,isLoading:m,error:u}=QF(Number(t)),h=c?.data,f=Number(t),v=m6e(f,{onSuccess:()=>{console.log("Promotion activated successfully")}}),_=p6e(f,{onSuccess:()=>{console.log("Promotion deactivated successfully")}}),S=h6e({onSuccess:O=>{console.log("Eligible promotions calculated:",O)}}),j=f6e({onSuccess:O=>{console.log("Promotion applied successfully:",O)}}),b=x6e(f,{onSuccess:O=>{console.log("Period promotion settled successfully:",O)}}),w=()=>{s("/masters/promotions")},C=()=>{l(h),i(!0)},P=(O,$)=>{n($)},E=()=>{h?.is_active==="Y"?_.mutate(void 0):v.mutate(void 0)},D=()=>{console.warn("Calculate Eligible Promotions requires order data. This feature needs additional implementation.")},T=()=>{console.warn("Apply Promotion requires order data. This feature needs additional implementation.")},R=()=>{console.warn("Settle Period Promotion requires period dates and customer IDs. This feature needs additional implementation.")};if(m)return e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-2",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx(J,{variant:"circular",width:96,height:96,className:"!mx-auto !mb-4 !border-3 !border-white"}),e.jsx(J,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(J,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-yellow-50"})]})}),e.jsx("div",{className:"flex-4 !space-y-4",children:[1,2,3].map(O=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(J,{variant:"text",width:200,height:24}),e.jsx(J,{variant:"text",width:"100%",height:16,className:"!mt-2"})]},O))})]});if(u||!h)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(wg,{className:"w-5 h-5"}),e.jsx(x,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load promotion details"})]}),e.jsx(x,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:w,className:"mt-4",children:"Back to Promotions"})]});const z=({title:O,children:$,icon:A})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[A&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(A,{className:"!text-primary-500"})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:O})]}),$]})]});return e.jsxs(e.Fragment,{children:[e.jsxs(y,{className:"!mb-3 !flex !items-center !gap-3",children:[e.jsxs(y,{className:"!flex-1",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(x,{variant:"h5",className:"!font-bold !text-gray-900",children:h.name}),e.jsx(De,{icon:h.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:h.is_active==="Y"?"Active":"Inactive",size:"small",color:h.is_active==="Y"?"success":"error"}),e.jsx(De,{label:h.code,size:"small",variant:"outlined"})]}),e.jsx(x,{variant:"body2",className:"!text-gray-500 !mt-1",children:h.description||"No description provided"})]}),e.jsxs(y,{className:"!flex !gap-2",children:[e.jsx(is,{onClick:C,tooltip:"Edit promotion"}),e.jsx(Vt,{onClick:()=>{},tooltip:"Delete promotion",confirmDelete:!0,itemName:"promotion"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"!flex-2 flex flex-col gap-4",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${h.is_active==="Y"?"!bg-green-400":"!bg-red-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ht,{className:`!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg ${h.is_active==="Y"?"!bg-gradient-to-br !from-green-400 !to-green-600 !text-white":"!bg-gradient-to-br !from-red-400 !to-red-600 !text-white"}`,children:e.jsx(X4,{className:"!w-8 !h-8"})})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:h.name}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mb-3",children:h.code}),e.jsx(De,{icon:h.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),color:h.is_active==="Y"?"success":"error",label:h.is_active==="Y"?"Active":"Inactive",size:"small"}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Start Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(h.start_date)})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"End Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(h.end_date)})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Created"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:h.createdate?Oe(h.createdate.toString()):"N/A"})]})]})]})}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsx(z,{title:"Promotion Information",icon:Hr,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Type"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:h.type||"N/A"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Status"}),e.jsx("div",{className:"!mt-1",children:e.jsx(De,{icon:h.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),color:h.is_active==="Y"?"success":"error",label:h.is_active==="Y"?"Active":"Inactive",size:"small"})})]}),e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Description"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:h.description||"No description provided"})]})]})}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200",children:[e.jsx(y,{children:e.jsxs(tl,{value:a,onChange:P,className:"!min-h-0",visibleScrollbar:!0,sx:{"& .MuiTab-root":{minHeight:"36px",padding:"10px 12px",fontSize:"0.875rem",textTransform:"none","& .MuiTab-iconWrapper":{marginRight:"6px",fontSize:"1rem"}}},children:[e.jsx(Rs,{icon:e.jsx(Hr,{}),label:"Overview",iconPosition:"start"}),e.jsx(Rs,{icon:e.jsx(qle,{}),label:`Eligibility (${(h.depots?.length||0)+(h.salespersons?.length||0)+(h.routes?.length||0)+(h.zones?.length||0)})`,iconPosition:"start"}),e.jsx(Rs,{icon:e.jsx(l_,{}),label:`Conditions (${h.conditions?.length||0})`,iconPosition:"start"}),e.jsx(Rs,{icon:e.jsx(Ple,{}),label:`Levels & Benefits (${h.levels?.length||0})`,iconPosition:"start"}),e.jsx(Rs,{icon:e.jsx(mp,{}),label:"Actions",iconPosition:"start"})]})}),e.jsx(ef,{value:a,index:0,children:e.jsxs("div",{className:"!space-y-4",children:[e.jsxs(da,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !mb-3",children:"Channels & Platforms"}),h.channels&&h.channels.length>0?e.jsx("div",{className:"!flex !flex-wrap !gap-2",children:h.channels.map(O=>e.jsx(De,{label:O.channel_type,size:"small",color:"primary",variant:"outlined"},O.id))}):e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"No channels assigned"})]}),e.jsxs(da,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !mb-3",children:"Period Information"}),e.jsxs("div",{className:"!grid !grid-cols-2 !gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase",children:"Start Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold",children:Oe(h.start_date)})]}),e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase",children:"End Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold",children:Oe(h.end_date)})]})]})]})]})}),e.jsx(ef,{value:a,index:1,children:e.jsxs("div",{className:"!space-y-4",children:[e.jsxs(da,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(x,{variant:"h6",className:"!font-semibold !mb-3",children:["Depots (",h.depots?.length||0,")"]}),h.depots&&h.depots.length>0?e.jsx(lt,{data:h.depots.map(O=>({id:O.id,name:O.depots?.name||"N/A",code:O.depots?.code||"N/A"})),columns:[{id:"name",label:"Depot Name"},{id:"code",label:"Code"}],pagination:!1,sortable:!1}):e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"No depots assigned"})]}),e.jsxs(da,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(x,{variant:"h6",className:"!font-semibold !mb-3",children:["Salespersons (",h.salespersons?.length||0,")"]}),h.salespersons&&h.salespersons.length>0?e.jsx(lt,{data:h.salespersons.map(O=>({id:O.id,name:O.promotion_salesperson_users?.name||"N/A",email:O.promotion_salesperson_users?.email||"N/A"})),columns:[{id:"name",label:"Name"},{id:"email",label:"Email"}],pagination:!1,sortable:!1}):e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"No salespersons assigned"})]}),e.jsxs(da,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(x,{variant:"h6",className:"!font-semibold !mb-3",children:["Routes (",h.routes?.length||0,")"]}),h.routes&&h.routes.length>0?e.jsx(lt,{data:h.routes.map(O=>({id:O.id,name:O.promotion_route?.name||"N/A",code:O.promotion_route?.code||"N/A"})),columns:[{id:"name",label:"Route Name"},{id:"code",label:"Code"}],pagination:!1,sortable:!1}):e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"No routes assigned"})]}),e.jsxs(da,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(x,{variant:"h6",className:"!font-semibold !mb-3",children:["Zones (",h.zones?.length||0,")"]}),h.zones&&h.zones.length>0?e.jsx(lt,{data:h.zones.map(O=>({id:O.id,name:O.promotion_zones_zones?.name||"N/A",code:O.promotion_zones_zones?.code||"N/A"})),columns:[{id:"name",label:"Zone Name"},{id:"code",label:"Code"}],pagination:!1,sortable:!1}):e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"No zones assigned"})]}),e.jsxs(da,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(x,{variant:"h6",className:"!font-semibold !mb-3",children:["Customer Categories (",h.customer_categories?.length||0,")"]}),h.customer_categories&&h.customer_categories.length>0?e.jsx(lt,{data:h.customer_categories.map(O=>({id:O.id,name:O.promotion_customer_categorys?.category_name||"N/A",code:O.promotion_customer_categorys?.category_code||"N/A"})),columns:[{id:"name",label:"Category Name"},{id:"code",label:"Code"}],pagination:!1,sortable:!1}):e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"No customer categories assigned"})]}),e.jsxs(da,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(x,{variant:"h6",className:"!font-semibold !mb-3",children:["Customer Exclusions (",h.customer_exclusions?.length||0,")"]}),h.customer_exclusions&&h.customer_exclusions.length>0?e.jsxs(x,{variant:"body2",children:[h.customer_exclusions.length," customer(s) excluded"]}):e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"No customer exclusions"})]})]})}),e.jsx(ef,{value:a,index:2,children:e.jsx("div",{className:"!space-y-4",children:h.conditions&&h.conditions.length>0?h.conditions.map(O=>e.jsxs(da,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(x,{variant:"h6",className:"!font-semibold !mb-3",children:["Condition ",O.id]}),e.jsxs("div",{className:"!grid !grid-cols-2 !gap-4 !mb-3",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase",children:"Type"}),e.jsx(x,{variant:"body2",className:"!font-semibold",children:Wd(O.condition_type)})]}),e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase",children:"Applies To"}),e.jsx(x,{variant:"body2",className:"!font-semibold",children:Wd(O.applies_to_type)})]}),e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase",children:"Min Value"}),e.jsx(x,{variant:"body2",className:"!font-semibold",children:O.min_value})]})]}),O.promotion_condition_products&&O.promotion_condition_products.length>0?e.jsx(lt,{data:O.promotion_condition_products.map($=>({id:$.id,type:Wd(O.condition_type),product_group:$.product_group||($.product_id?`Product ID: ${$.product_id}`:$.category_id?`Category ID: ${$.category_id}`:"N/A"),at_least:$.condition_quantity})),columns:[{id:"type",label:"Type"},{id:"product_group",label:"Product/Category"},{id:"at_least",label:"At least"}],pagination:!1,sortable:!1}):null]},O.id)):e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"No conditions defined"})})}),e.jsx(ef,{value:a,index:3,children:e.jsx("div",{className:"!space-y-4",children:h.levels&&h.levels.length>0?h.levels.map((O,$)=>e.jsxs(da,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(x,{variant:"h6",className:"!font-semibold !mb-3",children:["Level ",O.level_number]}),e.jsxs("div",{className:"!grid !grid-cols-2 !gap-4 !mb-3",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase",children:"Threshold Value"}),e.jsx(x,{variant:"body2",className:"!font-semibold",children:O.threshold_value})]}),e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase",children:"Discount Type"}),e.jsx(x,{variant:"body2",className:"!font-semibold",children:Wd(O.discount_type)})]}),e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase",children:"Discount Value"}),e.jsx(x,{variant:"body2",className:"!font-semibold",children:O.discount_value})]})]}),O.promotion_benefit_level&&O.promotion_benefit_level.length>0?e.jsxs("div",{children:[e.jsx(x,{variant:"subtitle2",className:"!mb-2",children:"Benefits:"}),e.jsx(lt,{data:O.promotion_benefit_level.map(A=>({id:A.id,type:A.benefit_type,product:A.promotion_benefit_products?.name||"N/A",value:A.benefit_value,gift_limit:A.gift_limit})),columns:[{id:"type",label:"Type",render:A=>Wd(A)},{id:"product",label:"Product"},{id:"value",label:"Value"},{id:"gift_limit",label:"Gift Limit"}],pagination:!1,sortable:!1})]}):null]},O.id)):e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"No levels defined"})})}),e.jsx(ef,{value:a,index:4,children:e.jsx("div",{className:"!space-y-4",children:e.jsxs(da,{className:"!p-4 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !mb-3",children:"Promotion Actions"}),e.jsxs("div",{className:"!space-y-2",children:[e.jsx(G,{variant:h.is_active==="Y"?"outlined":"contained",startIcon:h.is_active==="Y"?e.jsx(St,{}):e.jsx(pt,{}),fullWidth:!0,onClick:E,disabled:v.isPending||_.isPending,children:v.isPending||_.isPending?"Processing...":h.is_active==="Y"?"Deactivate Promotion":"Activate Promotion"}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(CA,{}),fullWidth:!0,onClick:D,disabled:S.isPending,children:S.isPending?"Calculating...":"Calculate Eligible Promotions"}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(pt,{}),fullWidth:!0,onClick:T,disabled:j.isPending,children:j.isPending?"Applying...":"Apply Promotion"}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(_s,{}),fullWidth:!0,onClick:R,disabled:b.isPending,children:b.isPending?"Settling...":"Settle Period Promotion"})]})]})})})]})]})]}),e.jsx(ZF,{selectedPromotion:o,setSelectedPromotion:l,drawerOpen:r,setDrawerOpen:i})]})},k6e=it({file:hs().required("Please select a file to import")}),P6e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:k6e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("product_sub_categories")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"product_sub_categories",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Product Sub Categories",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple product sub categories. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},E6e=it({sub_category_name:me().min(2,"Sub category name must be at least 2 characters").max(100,"Sub category name must not exceed 100 characters").required("Sub category name is required"),product_category_id:Qe().required("Product category is required").positive("Product category must be selected"),description:me().max(500,"Description must not exceed 500 characters").optional(),is_active:me().oneOf(["Y","N"],"Status must be either Active or Inactive").required("Status is required")}),T6e=({selectedProductSubCategory:t,setSelectedProductSubCategory:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=LCe(),l=zCe(),c=ft({initialValues:{sub_category_name:t?.sub_category_name||"",product_category_id:t?.product_category_id||0,description:t?.description||"",is_active:t?.is_active||"Y"},validationSchema:E6e,enableReinitialize:!0,onSubmit:async m=>{try{const u={sub_category_name:m.sub_category_name,product_category_id:m.product_category_id,description:m.description,is_active:m.is_active};r&&t?await l.mutateAsync({id:t.id,data:u}):await o.mutateAsync(u),i()}catch(u){console.error("Error saving product sub category:",u)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Product Sub Category":"Create Product Sub Category",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"sub_category_name",label:"Sub Category Name",placeholder:"Enter sub category name",formik:c,required:!0})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(Nu,{name:"product_category_id",label:"Product Category",formik:c,required:!0,fullWidth:!0})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:c,multiline:!0,rows:3})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(Ps,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:[o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"," "]})]})]})})})},M6e=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("product-sub-category"),{data:b,isFetching:w,error:C}=YF({search:t,page:u,limit:f,status:a==="all"?void 0:a==="active"?"active":"inactive"},{enabled:j}),P=b?.data||[],E=b?.meta?.total||0,D=(b?.meta?.page||1)-1,T=$Ce(),R=ms(),z=b?.stats?.total_sub_categories??0,O=b?.stats?.active_sub_categories??0,$=b?.stats?.inactive_sub_categories??0,A=b?.stats?.new_sub_categories_this_month??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(F=>{i(F),l(!0)},[]),U=g.useCallback(async F=>{try{await T.mutateAsync(F)}catch(M){console.error("Error deleting product sub category:",M)}},[T]),B=g.useCallback(F=>{s(F),h(1)},[]),V=F=>{h(F+1)},Y=g.useCallback(async()=>{try{const F={search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"product_sub_categories",filters:F})}catch(F){console.error("Error exporting product sub categories:",F)}},[R,t,a]),H=[{id:"sub_category_name",label:"Sub Category Name",render:(F,M)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:M.sub_category_name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsxs(y,{className:"!max-w-xs",children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:M.sub_category_name}),M.description&&e.jsx(Va,{title:M.description,placement:"top",arrow:!0,children:e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",title:M.description,sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",maxWidth:"300px",cursor:"help"},children:M.description})})]})]})},{id:"product_category",label:"Product Category",render:(F,M)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:M.product_category?.category_name||e.jsx("span",{className:"italic text-gray-400",children:"No Category"})})},{id:"is_active",label:"Status",render:F=>e.jsx(De,{icon:F==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:F==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:F==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(F,M)=>Oe(M.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(F,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(M),tooltip:`Edit ${M.sub_category_name}`}),S&&e.jsx(Vt,{onClick:()=>U(M.id),tooltip:`Delete ${M.sub_category_name}`,itemName:M.sub_category_name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Product Sub Categories Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product sub categories for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Sub Categories",value:z,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Sub Categories",value:O,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Sub Categories",value:$,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:A,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load product sub categories. Please try again."}),e.jsx(lt,{data:P,columns:H,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Product Sub Categories...",value:t,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:F=>n(F.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Product Sub Categories",description:"Are you sure you want to export the current product sub categories data to Excel? This will include all filtered results.",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:F=>F.id,initialOrderBy:"sub_category_name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:V,emptyMessage:t?`No product sub categories found matching "${t}"`:"No product sub categories found in the system"}),e.jsx(T6e,{selectedProductSubCategory:r,setSelectedProductSubCategory:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(P6e,{drawerOpen:c,setDrawerOpen:m})]})},Mf={all:["product-flavours"],lists:()=>[...Mf.all,"list"],list:t=>[...Mf.lists(),t],details:()=>[...Mf.all,"detail"],detail:t=>[...Mf.details(),t]},D6e=(t,s)=>nt({queryKey:Mf.list(t),queryFn:()=>v5e(t),staleTime:300*1e3,...s}),R6e=()=>Re({mutationFn:j5e,invalidateQueries:["product-flavours"],loadingMessage:"Creating product flavour..."}),A6e=()=>Re({mutationFn:({id:t,...s})=>N5e(t,s),invalidateQueries:["product-flavours"],loadingMessage:"Updating product flavour..."}),I6e=()=>Re({mutationFn:w5e,invalidateQueries:["product-flavours"],loadingMessage:"Deleting product flavour..."}),O6e=it({file:hs().required("Please select a file to import")}),F6e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:O6e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("product_flavours")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"product_flavours",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Product Flavours",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple product flavours. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},L6e=it({name:me().required("Flavour name is required").min(2,"Name must be at least 2 characters").max(255,"Name must be less than 255 characters"),code:me().max(100,"Code must be less than 100 characters"),is_active:me().required("Status is required")}),z6e=({selectedFlavour:t,setSelectedFlavour:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=R6e(),l=A6e(),c=ft({initialValues:{name:t?.name||"",code:t?.code||"",is_active:t?.is_active||"Y"},validationSchema:L6e,enableReinitialize:!0,onSubmit:async m=>{try{const u={name:m.name,code:m.code,is_active:m.is_active};r&&t?await l.mutateAsync({id:t.id,...u}):await o.mutateAsync(u),i()}catch(u){console.error("Error saving product flavour:",u)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Product Flavour":"Create Product Flavour",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Flavour Name",placeholder:"Enter flavour name",formik:c,required:!0}),e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:c,disabled:r}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(Ps,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},$6e=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("product-flavour"),{data:b,isFetching:w,error:C}=D6e({search:t,page:u,limit:f,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total_count||0,D=(b?.meta?.current_page||1)-1,T=I6e(),R=ms(),z=b?.stats?.total_product_flavours??P.length,O=b?.stats?.active_product_flavours??P.filter(F=>F.is_active==="Y").length,$=b?.stats?.inactive_product_flavours??P.filter(F=>F.is_active==="N").length,A=b?.stats?.new_product_flavours_this_month??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(F=>{i(F),l(!0)},[]),U=g.useCallback(async F=>{try{await T.mutateAsync(F)}catch(M){console.error("Error deleting product flavour:",M)}},[T]),B=g.useCallback(F=>{s(F),h(1)},[]),V=F=>{h(F+1)},Y=g.useCallback(async()=>{try{const F={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"product_flavours",filters:F})}catch(F){console.error("Error exporting product flavours:",F)}},[R,t,a]),H=[{id:"name",label:"Flavour Name",render:(F,M)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:M.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(k8,{className:"w-5 h-5"})}),e.jsx(x,{variant:"body1",className:"!text-gray-900",children:M.name})]})},{id:"code",label:"Code",render:(F,M)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:M.code||e.jsx("span",{className:"italic text-gray-400",children:"No Code"})})},{id:"is_active",label:"Status",render:F=>e.jsx(De,{icon:F==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:F==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:F==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(F,M)=>Oe(M.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(F,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(M),tooltip:`Edit ${M.name}`}),S&&e.jsx(Vt,{onClick:()=>U(M.id),tooltip:`Delete ${M.name}`,itemName:M.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Product Flavours Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product flavours for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Flavours",value:z,icon:e.jsx(k8,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Flavours",value:O,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Flavours",value:$,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:A,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load product flavours. Please try again."}),e.jsx(lt,{data:P,columns:H,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Product Flavours...",value:t,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:F=>{n(F.target.value),h(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Product Flavours",description:"Are you sure you want to export the current product flavours data to Excel?",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:F=>F.id,initialOrderBy:"name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:V,emptyMessage:t?`No product flavours found matching "${t}"`:"No product flavours found in the system"}),e.jsx(z6e,{selectedFlavour:r,setSelectedFlavour:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(F6e,{drawerOpen:c,setDrawerOpen:m})]})},Df={all:["product-volumes"],lists:()=>[...Df.all,"list"],list:t=>[...Df.lists(),t],details:()=>[...Df.all,"detail"],detail:t=>[...Df.details(),t]},q6e=(t,s)=>nt({queryKey:Df.list(t),queryFn:()=>$5e(t),staleTime:300*1e3,...s}),B6e=()=>Re({mutationFn:q5e,invalidateQueries:["product-volumes"],loadingMessage:"Creating product volume..."}),U6e=()=>Re({mutationFn:({id:t,...s})=>B5e(t,s),invalidateQueries:["product-volumes"],loadingMessage:"Updating product volume..."}),V6e=()=>Re({mutationFn:U5e,invalidateQueries:["product-volumes"],loadingMessage:"Deleting product volume..."}),H6e=it({file:hs().required("Please select a file to import")}),W6e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:H6e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("product_volumes")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"product_volumes",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Product Volumes",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple product volumes. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},Y6e=it({name:me().required("Volume name is required").min(2,"Name must be at least 2 characters").max(255,"Name must be less than 255 characters"),code:me().max(100,"Code must be less than 100 characters"),is_active:me().required("Status is required")}),G6e=({selectedVolume:t,setSelectedVolume:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=B6e(),l=U6e(),c=ft({initialValues:{name:t?.name||"",code:t?.code||"",is_active:t?.is_active||"Y"},validationSchema:Y6e,enableReinitialize:!0,onSubmit:async m=>{try{const u={name:m.name,code:m.code,is_active:m.is_active};r&&t?await l.mutateAsync({id:t.id,...u}):await o.mutateAsync(u),i()}catch(u){console.error("Error saving product volume:",u)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Product Volume":"Create Product Volume",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Volume Name",placeholder:"Enter volume name",formik:c,required:!0}),e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:c,disabled:r}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(Ps,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},K6e=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("product-volume"),{data:b,isFetching:w,error:C}=q6e({search:t,page:u,limit:f,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total_count||0,D=(b?.meta?.current_page||1)-1,T=V6e(),R=ms(),z=b?.stats?.total_product_volumes??P.length,O=b?.stats?.active_product_volumes??P.filter(F=>F.is_active==="Y").length,$=b?.stats?.inactive_product_volumes??P.filter(F=>F.is_active==="N").length,A=b?.stats?.new_product_volumes_this_month??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(F=>{i(F),l(!0)},[]),U=g.useCallback(async F=>{try{await T.mutateAsync(F)}catch(M){console.error("Error deleting product volume:",M)}},[T]),B=g.useCallback(F=>{s(F),h(1)},[]),V=F=>{h(F+1)},Y=g.useCallback(async()=>{try{const F={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"product_volumes",filters:F})}catch(F){console.error("Error exporting product volumes:",F)}},[R,t,a]),H=[{id:"name",label:"Volume Name",render:(F,M)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:M.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsx(x,{variant:"body1",className:"!text-gray-900",children:M.name})]})},{id:"code",label:"Code",render:(F,M)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:M.code||e.jsx("span",{className:"italic text-gray-400",children:"No Code"})})},{id:"is_active",label:"Status",render:F=>e.jsx(De,{icon:F==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:F==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:F==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(F,M)=>Oe(M.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(F,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(M),tooltip:`Edit ${M.name}`}),S&&e.jsx(Vt,{onClick:()=>U(M.id),tooltip:`Delete ${M.name}`,itemName:M.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Product Volumes Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product volumes for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Volumes",value:z,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Volumes",value:O,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Volumes",value:$,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:A,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load product volumes. Please try again."}),e.jsx(lt,{data:P,columns:H,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Product Volumes...",value:t,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:F=>{n(F.target.value),h(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Product Volumes",description:"Are you sure you want to export the current product volumes data to Excel?",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:F=>F.id,initialOrderBy:"name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:V,emptyMessage:t?`No product volumes found matching "${t}"`:"No product volumes found in the system"}),e.jsx(G6e,{selectedVolume:r,setSelectedVolume:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(W6e,{drawerOpen:c,setDrawerOpen:m})]})},Rf={all:["product-shelf-life"],lists:()=>[...Rf.all,"list"],list:t=>[...Rf.lists(),t],details:()=>[...Rf.all,"detail"],detail:t=>[...Rf.details(),t]},Q6e=(t,s)=>nt({queryKey:Rf.list(t),queryFn:()=>S5e(t),staleTime:300*1e3,...s}),Z6e=()=>Re({mutationFn:C5e,invalidateQueries:["product-shelf-life"],loadingMessage:"Creating product shelf life..."}),X6e=()=>Re({mutationFn:({id:t,...s})=>k5e(t,s),invalidateQueries:["product-shelf-life"],loadingMessage:"Updating product shelf life..."}),J6e=()=>Re({mutationFn:P5e,invalidateQueries:["product-shelf-life"],loadingMessage:"Deleting product shelf life..."}),eke=it({file:hs().required("Please select a file to import")}),tke=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:eke,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("product_shelf_life")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"product_shelf_life",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Product Shelf Life",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple product shelf life. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},ske=it({name:me().required("Shelf life name is required").min(2,"Name must be at least 2 characters").max(255,"Name must be less than 255 characters"),code:me().max(100,"Code must be less than 100 characters"),is_active:me().required("Status is required")}),ake=({selectedShelfLife:t,setSelectedShelfLife:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=Z6e(),l=X6e(),c=ft({initialValues:{name:t?.name||"",code:t?.code||"",is_active:t?.is_active||"Y"},validationSchema:ske,enableReinitialize:!0,onSubmit:async m=>{try{const u={name:m.name,code:m.code,is_active:m.is_active};r&&t?await l.mutateAsync({id:t.id,...u}):await o.mutateAsync(u),i()}catch(u){console.error("Error saving product shelf life:",u)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Product Shelf Life":"Create Product Shelf Life",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Shelf Life Name",placeholder:"Enter shelf life name",formik:c,required:!0}),e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:c,disabled:r}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(Ps,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},nke=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("product-shelf-life"),{data:b,isFetching:w,error:C}=Q6e({search:t,page:u,limit:f,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total_count||0,D=(b?.meta?.current_page||1)-1,T=J6e(),R=ms(),z=b?.stats?.total_product_shelf_life??P.length,O=b?.stats?.active_product_shelf_life??P.filter(F=>F.is_active==="Y").length,$=b?.stats?.inactive_product_shelf_life??P.filter(F=>F.is_active==="N").length,A=b?.stats?.new_product_shelf_life_this_month??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(F=>{i(F),l(!0)},[]),U=g.useCallback(async F=>{try{await T.mutateAsync(F)}catch(M){console.error("Error deleting product shelf life:",M)}},[T]),B=g.useCallback(F=>{s(F),h(1)},[]),V=F=>{h(F+1)},Y=g.useCallback(async()=>{try{const F={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"product_shelf_life",filters:F})}catch(F){console.error("Error exporting product shelf life:",F)}},[R,t,a]),H=[{id:"name",label:"Shelf Life Name",render:(F,M)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:M.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Ts,{className:"w-5 h-5"})}),e.jsx(x,{variant:"body1",className:"!text-gray-900",children:M.name})]})},{id:"code",label:"Code",render:(F,M)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:M.code||e.jsx("span",{className:"italic text-gray-400",children:"No Code"})})},{id:"is_active",label:"Status",render:F=>e.jsx(De,{icon:F==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:F==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:F==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(F,M)=>Oe(M.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(F,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(M),tooltip:`Edit ${M.name}`}),S&&e.jsx(Vt,{onClick:()=>U(M.id),tooltip:`Delete ${M.name}`,itemName:M.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Product Shelf Life Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product shelf life for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Shelf Life",value:z,icon:e.jsx(Ts,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Shelf Life",value:O,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Shelf Life",value:$,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:A,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load product shelf life. Please try again."}),e.jsx(lt,{data:P,columns:H,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Product Shelf Life...",value:t,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:F=>{n(F.target.value),h(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Product Shelf Life",description:"Are you sure you want to export the current product shelf life data to Excel?",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:F=>F.id,initialOrderBy:"name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:V,emptyMessage:t?`No product shelf life found matching "${t}"`:"No product shelf life found in the system"}),e.jsx(ake,{selectedShelfLife:r,setSelectedShelfLife:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(tke,{drawerOpen:c,setDrawerOpen:m})]})},Af={all:["product-types"],lists:()=>[...Af.all,"list"],list:t=>[...Af.lists(),t],details:()=>[...Af.all,"detail"],detail:t=>[...Af.details(),t]},rke=(t,s)=>nt({queryKey:Af.list(t),queryFn:()=>I5e(t),staleTime:300*1e3,...s}),ike=()=>Re({mutationFn:O5e,invalidateQueries:["product-types"],loadingMessage:"Creating product type..."}),oke=()=>Re({mutationFn:({id:t,...s})=>F5e(t,s),invalidateQueries:["product-types"],loadingMessage:"Updating product type..."}),lke=()=>Re({mutationFn:L5e,invalidateQueries:["product-types"],loadingMessage:"Deleting product type..."}),cke=it({file:hs().required("Please select a file to import")}),dke=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:cke,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("product_type")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"product_type",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Product Types",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple product types. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},uke=it({name:me().required("Product type name is required").min(2,"Name must be at least 2 characters").max(255,"Name must be less than 255 characters"),code:me().max(100,"Code must be less than 100 characters"),is_active:me().required("Status is required")}),mke=({selectedProductType:t,setSelectedProductType:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=ike(),l=oke(),c=ft({initialValues:{name:t?.name||"",code:t?.code||"",is_active:t?.is_active||"Y"},validationSchema:uke,enableReinitialize:!0,onSubmit:async m=>{try{const u={name:m.name,code:m.code,is_active:m.is_active};r&&t?await l.mutateAsync({id:t.id,...u}):await o.mutateAsync(u),i()}catch(u){console.error("Error saving product type:",u)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Product Type":"Create Product Type",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Product Type Name",placeholder:"Enter product type name",formik:c,required:!0}),e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:c,disabled:r}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(Ps,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},pke=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("product-type"),{data:b,isFetching:w,error:C}=rke({search:t,page:u,limit:f,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total_count||0,D=(b?.meta?.current_page||1)-1,T=lke(),R=ms(),z=b?.stats?.total_product_types??P.length,O=b?.stats?.active_product_types??P.filter(F=>F.is_active==="Y").length,$=b?.stats?.inactive_product_types??P.filter(F=>F.is_active==="N").length,A=b?.stats?.new_product_types_this_month??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(F=>{i(F),l(!0)},[]),U=g.useCallback(async F=>{try{await T.mutateAsync(F)}catch(M){console.error("Error deleting product type:",M)}},[T]),B=g.useCallback(F=>{s(F),h(1)},[]),V=F=>{h(F+1)},Y=g.useCallback(async()=>{try{const F={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"product_type",filters:F})}catch(F){console.error("Error exporting product types:",F)}},[R,t,a]),H=[{id:"name",label:"Product Type Name",render:(F,M)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:M.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsx(x,{variant:"body1",className:"!text-gray-900",children:M.name})]})},{id:"code",label:"Code",render:(F,M)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:M.code||e.jsx("span",{className:"italic text-gray-400",children:"No Code"})})},{id:"is_active",label:"Status",render:F=>e.jsx(De,{icon:F==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:F==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:F==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(F,M)=>Oe(M.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(F,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(M),tooltip:`Edit ${M.name}`}),S&&e.jsx(Vt,{onClick:()=>U(M.id),tooltip:`Delete ${M.name}`,itemName:M.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Product Types Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product types for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Product Types",value:z,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Types",value:O,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Types",value:$,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:A,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load product types. Please try again."}),e.jsx(lt,{data:P,columns:H,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Product Types...",value:t,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:F=>{n(F.target.value),h(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Product Types",description:"Are you sure you want to export the current product types data to Excel?",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:F=>F.id,initialOrderBy:"name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:V,emptyMessage:t?`No product types found matching "${t}"`:"No product types found in the system"}),e.jsx(mke,{selectedProductType:r,setSelectedProductType:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(dke,{drawerOpen:c,setDrawerOpen:m})]})},If={all:["product-target-groups"],lists:()=>[...If.all,"list"],list:t=>[...If.lists(),t],details:()=>[...If.all,"detail"],detail:t=>[...If.details(),t]},hke=(t,s)=>nt({queryKey:If.list(t),queryFn:()=>T5e(t),staleTime:300*1e3,...s}),fke=()=>Re({mutationFn:M5e,invalidateQueries:["product-target-groups"],loadingMessage:"Creating product target group..."}),xke=()=>Re({mutationFn:({id:t,...s})=>D5e(t,s),invalidateQueries:["product-target-groups"],loadingMessage:"Updating product target group..."}),gke=()=>Re({mutationFn:R5e,invalidateQueries:["product-target-groups"],loadingMessage:"Deleting product target group..."}),yke=it({file:hs().required("Please select a file to import")}),bke=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:yke,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("product_target_group")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"product_target_group",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Product Target Groups",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple product target groups. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},vke=it({name:me().required("Product target group name is required").min(2,"Name must be at least 2 characters").max(255,"Name must be less than 255 characters"),code:me().max(100,"Code must be less than 100 characters"),is_active:me().required("Status is required")}),jke=({selectedProductTargetGroup:t,setSelectedProductTargetGroup:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=fke(),l=xke(),c=ft({initialValues:{name:t?.name||"",code:t?.code||"",is_active:t?.is_active||"Y"},validationSchema:vke,enableReinitialize:!0,onSubmit:async m=>{try{const u={name:m.name,code:m.code,is_active:m.is_active};r&&t?await l.mutateAsync({id:t.id,...u}):await o.mutateAsync(u),i()}catch(u){console.error("Error saving product target group:",u)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Product Target Group":"Create Product Target Group",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Product Target Group Name",placeholder:"Enter product target group name",formik:c,required:!0}),e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:c,disabled:r}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(Ps,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},Nke=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("product-target-group"),{data:b,isLoading:w,error:C}=hke({search:t,page:u,limit:f,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total_count||0,D=(b?.meta?.page||1)-1,T=gke(),R=ms(),z=b?.stats?.total_product_target_groups??P.length,O=b?.stats?.active_product_target_groups??P.filter(F=>F.is_active==="Y").length,$=b?.stats?.inactive_product_target_groups??P.filter(F=>F.is_active==="N").length,A=b?.stats?.new_product_target_groups_this_month??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(F=>{i(F),l(!0)},[]),U=g.useCallback(async F=>{try{await T.mutateAsync(F)}catch(M){console.error("Error deleting product target group:",M)}},[T]),B=g.useCallback(F=>{s(F),h(1)},[]),V=F=>{h(F+1)},Y=g.useCallback(async()=>{try{const F={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"product_target_group",filters:F})}catch(F){console.error("Error exporting product target groups:",F)}},[R,t,a]),H=[{id:"name",label:"Target Group Name",render:(F,M)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:M.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsx(x,{variant:"body1",className:"!text-gray-900",children:M.name})]})},{id:"code",label:"Code",render:(F,M)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:M.code||e.jsx("span",{className:"italic text-gray-400",children:"No Code"})})},{id:"is_active",label:"Status",render:F=>e.jsx(De,{icon:F==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:F==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:F==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(F,M)=>Oe(M.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(F,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(M),tooltip:`Edit ${M.name}`}),S&&e.jsx(Vt,{onClick:()=>U(M.id),tooltip:`Delete ${M.name}`,itemName:M.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Product Target Groups Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product target groups for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Target Groups",value:z,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Groups",value:O,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Groups",value:$,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:A,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load product target groups. Please try again."}),e.jsx(lt,{data:P,columns:H,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Product Target Groups...",value:t,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:F=>{n(F.target.value),h(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Product Target Groups",description:"Are you sure you want to export the current product target groups data to Excel?",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:F=>F.id,initialOrderBy:"name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:V,emptyMessage:t?`No product target groups found matching "${t}"`:"No product target groups found in the system"}),e.jsx(jke,{selectedProductTargetGroup:r,setSelectedProductTargetGroup:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(bke,{drawerOpen:c,setDrawerOpen:m})]})},Of={all:["product-web-orders"],lists:()=>[...Of.all,"list"],list:t=>[...Of.lists(),t],details:()=>[...Of.all,"detail"],detail:t=>[...Of.details(),t]},wke=(t,s)=>nt({queryKey:Of.list(t),queryFn:()=>H5e(t),staleTime:300*1e3,...s}),_ke=()=>Re({mutationFn:W5e,invalidateQueries:["product-web-orders"],loadingMessage:"Creating product web order..."}),Ske=()=>Re({mutationFn:({id:t,...s})=>Y5e(t,s),invalidateQueries:["product-web-orders"],loadingMessage:"Updating product web order..."}),Cke=()=>Re({mutationFn:G5e,invalidateQueries:["product-web-orders"],loadingMessage:"Deleting product web order..."}),kke=it({file:hs().required("Please select a file to import")}),Pke=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:kke,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("product_web_order")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"product_web_order",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Product Web Orders",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple product web orders. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},Eke=it({name:me().required("Product web order name is required").min(2,"Name must be at least 2 characters").max(255,"Name must be less than 255 characters"),code:me().max(100,"Code must be less than 100 characters"),is_active:me().required("Status is required")}),Tke=({selectedProductWebOrder:t,setSelectedProductWebOrder:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=_ke(),l=Ske(),c=ft({initialValues:{name:t?.name||"",code:t?.code||"",is_active:t?.is_active||"Y"},validationSchema:Eke,enableReinitialize:!0,onSubmit:async m=>{try{const u={name:m.name,code:m.code,is_active:m.is_active};r&&t?await l.mutateAsync({id:t.id,...u}):await o.mutateAsync(u),i()}catch(u){console.error("Error saving product web order:",u)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Product Web Order":"Create Product Web Order",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Product Web Order Name",placeholder:"Enter product web order name",formik:c,required:!0}),e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:c}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(Ps,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},Mke=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("product-web-order"),{data:b,isLoading:w,error:C}=wke({search:t,page:u,limit:f,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total_count||0,D=(b?.meta?.current_page||1)-1,T=Cke(),R=ms(),z=b?.stats?.total_product_web_orders??P.length,O=b?.stats?.active_product_web_orders??P.filter(F=>F.is_active==="Y").length,$=b?.stats?.inactive_product_web_orders??P.filter(F=>F.is_active==="N").length,A=b?.stats?.new_product_web_orders_this_month??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(F=>{i(F),l(!0)},[]),U=g.useCallback(async F=>{try{await T.mutateAsync(F)}catch(M){console.error("Error deleting product web order:",M)}},[T]),B=g.useCallback(F=>{s(F),h(1)},[]),V=F=>{h(F+1)},Y=g.useCallback(async()=>{try{const F={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"product_web_order",filters:F})}catch(F){console.error("Error exporting product web orders:",F)}},[R,t,a]),H=[{id:"name",label:"Web Order Name",render:(F,M)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:M.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsx(x,{variant:"body1",className:"!text-gray-900",children:M.name})]})},{id:"code",label:"Code",render:(F,M)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:M.code||e.jsx("span",{className:"italic text-gray-400",children:"No Code"})})},{id:"is_active",label:"Status",render:F=>e.jsx(De,{icon:F==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:F==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:F==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(F,M)=>Oe(M.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(F,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(M),tooltip:`Edit ${M.name}`}),S&&e.jsx(Vt,{onClick:()=>U(M.id),tooltip:`Delete ${M.name}`,itemName:M.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Product Web Orders Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product web orders for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Web Orders",value:z,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Orders",value:O,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Orders",value:$,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:A,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load product web orders. Please try again."}),e.jsx(lt,{data:P,columns:H,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Product Web Orders...",value:t,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:F=>{n(F.target.value),h(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Product Web Orders",description:"Are you sure you want to export the current product web orders data to Excel?",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:F=>F.id,initialOrderBy:"name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:V,emptyMessage:t?`No product web orders found matching "${t}"`:"No product web orders found in the system"}),e.jsx(Tke,{selectedProductWebOrder:r,setSelectedProductWebOrder:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(Pke,{drawerOpen:c,setDrawerOpen:m})]})},Dke=async t=>{try{return(await ie.get("/cooler-types",{params:t})).data}catch(s){throw console.error("Error fetching cooler types:",s),new Error(s.response?.data?.message||"Failed to fetch cooler types")}},Rke=async t=>{try{return(await ie.post("/cooler-types",t)).data}catch(s){throw console.error("Error creating cooler type:",s),new Error(s.response?.data?.message||"Failed to create cooler type")}},Ake=async(t,s)=>{try{return(await ie.put(`/cooler-types/${t}`,s)).data}catch(a){throw console.error("Error updating cooler type:",a),new Error(a.response?.data?.message||"Failed to update cooler type")}},Ike=async t=>{try{return(await ie.delete(`/cooler-types/${t}`)).data}catch(s){throw console.error("Error deleting cooler type:",s),new Error(s.response?.data?.message||"Failed to delete cooler type")}},Oke=async()=>{try{return(await ie.get("/cooler-types-dropdown")).data}catch(t){throw console.error("Error fetching cooler types dropdown:",t),new Error(t.response?.data?.message||"Failed to fetch cooler types dropdown")}},Yd={all:["cooler-types"],lists:()=>[...Yd.all,"list"],list:t=>[...Yd.lists(),t],details:()=>[...Yd.all,"detail"],detail:t=>[...Yd.details(),t],dropdown:()=>[...Yd.all,"dropdown"]},Fke=(t,s)=>nt({queryKey:Yd.list(t),queryFn:()=>Dke(t),staleTime:300*1e3,...s}),Lke=()=>Re({mutationFn:Rke,invalidateQueries:["cooler-types"],loadingMessage:"Creating cooler type..."}),zke=()=>Re({mutationFn:({id:t,...s})=>Ake(t,s),invalidateQueries:["cooler-types"],loadingMessage:"Updating cooler type..."}),$ke=()=>Re({mutationFn:Ike,invalidateQueries:["cooler-types"],loadingMessage:"Deleting cooler type..."}),s3=t=>nt({queryKey:Yd.dropdown(),queryFn:()=>Oke(),staleTime:600*1e3,...t}),qke=it({file:hs().required("Please select a file to import")}),Bke=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:qke,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("cooler_types")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"cooler_types",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Cooler Types",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple cooler types. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},Uke=it({name:me().required("Cooler type name is required").min(2,"Name must be at least 2 characters").max(255,"Name must be less than 255 characters"),code:me().max(100,"Code must be less than 100 characters"),description:me(),is_active:me().required("Status is required")}),Vke=({selectedCoolerType:t,setSelectedCoolerType:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=Lke(),l=zke(),c=ft({initialValues:{name:t?.name||"",code:t?.code||"",description:t?.description||"",is_active:t?.is_active||"Y"},validationSchema:Uke,enableReinitialize:!0,onSubmit:async m=>{try{const u={name:m.name,code:m.code,description:m.description,is_active:m.is_active};r&&t?await l.mutateAsync({id:t.id,...u}):await o.mutateAsync(u),i()}catch(u){console.error("Error saving cooler type:",u)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Cooler Type":"Create Cooler Type",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"name",label:"Cooler Type Name",placeholder:"Enter cooler type name",formik:c,required:!0}),e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:c}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:c,multiline:!0,rows:3})}),e.jsx(Ps,{name:"is_active",formik:c,required:!0,className:"col-span-2"})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},Hke=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("cooler-type"),{data:b,isFetching:w,error:C}=Fke({search:t,page:u,limit:f,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total_count||0,D=(b?.meta?.current_page||1)-1,T=$ke(),R=ms(),z=b?.stats,O=z?.total_cooler_types??P.length,$=z?.active_cooler_types??P.filter(M=>M.is_active==="Y").length,A=z?.inactive_cooler_types??P.filter(M=>M.is_active==="N").length,Q=z?.new_cooler_types??0,K=g.useCallback(()=>{i(null),l(!0)},[]),U=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(L){console.error("Error deleting cooler type:",L)}},[T]),V=g.useCallback(M=>{s(M),h(1)},[]),Y=M=>{h(M+1)},H=g.useCallback(async()=>{try{const M={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"cooler_types",filters:M})}catch(M){console.error("Error exporting cooler types:",M)}},[R,t,a]),F=[{id:"name",label:"Cooler Type Name",render:(M,L)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:L.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900",children:L.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:L.code})]})]})},{id:"description",label:"Description",render:(M,L)=>e.jsx(x,{variant:"body2",className:"!text-gray-600",children:L.description||e.jsx("span",{className:"italic text-gray-400",children:"No Description"})})},{id:"is_active",label:"Status",render:M=>e.jsx(De,{icon:M==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,L)=>Oe(L.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(M,L)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>U(L),tooltip:`Edit ${L.name}`}),S&&e.jsx(Vt,{onClick:()=>B(L.id),tooltip:`Delete ${L.name}`,itemName:L.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Cooler Types Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage cooler types for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Cooler Types",value:O,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Types",value:$,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Types",value:A,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:Q,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load cooler types. Please try again."}),e.jsx(lt,{data:P,columns:F,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Cooler Types...",value:t,onChange:V,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:M=>{n(M.target.value),h(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Cooler Types",description:"Are you sure you want to export the current cooler types data to Excel?",onConfirm:H,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:Y,emptyMessage:t?`No cooler types found matching "${t}"`:"No cooler types found in the system"}),e.jsx(Vke,{selectedCoolerType:r,setSelectedCoolerType:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(Bke,{drawerOpen:c,setDrawerOpen:m})]})},Wke=async t=>{try{return(await ie.get("/cooler-sub-types",{params:t})).data}catch(s){throw console.error("Error fetching cooler sub types:",s),new Error(s.response?.data?.message||"Failed to fetch cooler sub types")}},Yke=async t=>{try{return(await ie.post("/cooler-sub-types",t)).data}catch(s){throw console.error("Error creating cooler sub type:",s),new Error(s.response?.data?.message||"Failed to create cooler sub type")}},Gke=async(t,s)=>{try{return(await ie.put(`/cooler-sub-types/${t}`,s)).data}catch(a){throw console.error("Error updating cooler sub type:",a),new Error(a.response?.data?.message||"Failed to update cooler sub type")}},Kke=async t=>{try{return(await ie.delete(`/cooler-sub-types/${t}`)).data}catch(s){throw console.error("Error deleting cooler sub type:",s),new Error(s.response?.data?.message||"Failed to delete cooler sub type")}},Qke=async t=>{try{return(await ie.get("/cooler-sub-types-dropdown",{params:{cooler_type_id:t}})).data}catch(s){throw console.error("Error fetching cooler sub types dropdown:",s),new Error(s.response?.data?.message||"Failed to fetch cooler sub types dropdown")}},Gd={all:["cooler-sub-types"],lists:()=>[...Gd.all,"list"],list:t=>[...Gd.lists(),t],details:()=>[...Gd.all,"detail"],detail:t=>[...Gd.details(),t],dropdown:()=>[...Gd.all,"dropdown"]},Zke=(t,s)=>nt({queryKey:Gd.list(t),queryFn:()=>Wke(t),staleTime:300*1e3,...s}),Xke=()=>Re({mutationFn:Yke,invalidateQueries:["cooler-sub-types"],loadingMessage:"Creating cooler sub type..."}),Jke=()=>Re({mutationFn:({id:t,...s})=>Gke(t,s),invalidateQueries:["cooler-sub-types"],loadingMessage:"Updating cooler sub type..."}),ePe=()=>Re({mutationFn:Kke,invalidateQueries:["cooler-sub-types"],loadingMessage:"Deleting cooler sub type..."}),tPe=(t,s)=>nt({queryKey:[...Gd.dropdown(),t],queryFn:()=>Qke(t),staleTime:600*1e3,enabled:!0,...s}),sPe=it({file:hs().required("Please select a file to import")}),aPe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:sPe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("cooler_sub_types")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"cooler_sub_types",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Cooler Sub Types",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple cooler sub types. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},nPe=it({name:me().required("Sub Type is required").min(2,"Sub Type must be at least 2 characters").max(255,"Sub Type must be less than 255 characters"),code:me().max(100,"Code must be less than 100 characters"),cooler_type_id:Qe().required("Cooler Type is required").integer("Cooler Type must be a valid integer"),description:me(),is_active:me().required("Status is required")}),rPe=({selectedCoolerSubType:t,setSelectedCoolerSubType:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,{data:i}=s3(),o=()=>{s(null),n(!1),m.resetForm()},l=Xke(),c=Jke(),m=ft({initialValues:{name:t?.name||"",code:t?.code||"",cooler_type_id:t?.cooler_type_id||"",description:t?.description||"",is_active:t?.is_active||"Y"},validationSchema:nPe,enableReinitialize:!0,onSubmit:async u=>{try{const h={name:u.name,code:u.code,cooler_type_id:Number(u.cooler_type_id),description:u.description,is_active:u.is_active};r&&t?await c.mutateAsync({id:t.id,...h}):await l.mutateAsync(h),o()}catch(h){console.error("Error saving cooler sub type:",h)}}});return e.jsx(ot,{open:a,setOpen:o,title:r?"Edit Cooler Sub Type":"Create Cooler Sub Type",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:m.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"name",label:"Sub Type",placeholder:"Enter sub type",formik:m,required:!0})}),e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:m}),e.jsxs(_e,{name:"cooler_type_id",label:"Cooler Type",formik:m,required:!0,children:[e.jsx(Z,{value:"",children:"Select Cooler Type"}),i?.data?.map(u=>e.jsx(Z,{value:u.id,children:u.name},u.id))]}),e.jsx(Ps,{name:"is_active",formik:m,required:!0,className:"col-span-2"}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:m,multiline:!0,rows:3})})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:o,className:"!mr-3",disabled:l.isPending||c.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:l.isPending||c.isPending,children:l.isPending||c.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},iPe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(0),[o,l]=g.useState(null),[c,m]=g.useState(!1),[u,h]=g.useState(!1),[f,v]=g.useState(1),[_]=g.useState(10),{isCreate:S,isUpdate:j,isDelete:b,isRead:w}=Ze("cooler-sub-type"),{data:C}=s3(),{data:P,isFetching:E,error:D}=Zke({search:t,page:f,limit:_,isActive:a==="all"?void 0:a==="active"?"Y":"N",coolerTypeId:r?Number(r):void 0},{enabled:w}),T=P?.data||[],R=P?.meta?.total_count||0,z=(P?.meta?.current_page||1)-1,O=ePe(),$=ms(),A=P?.stats,Q=A?.total_cooler_sub_types??T.length,K=A?.active_cooler_sub_types??T.filter(X=>X.is_active==="Y").length,U=A?.inactive_cooler_sub_types??T.filter(X=>X.is_active==="N").length,B=A?.new_cooler_sub_types??0,V=g.useCallback(()=>{l(null),m(!0)},[]),Y=g.useCallback(X=>{l(X),m(!0)},[]),H=g.useCallback(async X=>{try{await O.mutateAsync(X)}catch(te){console.error("Error deleting cooler sub type:",te)}},[O]),F=g.useCallback(X=>{s(X),v(1)},[]),M=X=>{v(X+1)},L=g.useCallback(async()=>{try{const X={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N",coolerTypeId:r?Number(r):void 0};await $.mutateAsync({tableName:"cooler_sub_types",filters:X})}catch(X){console.error("Error exporting cooler sub types:",X)}},[$,t,a,r]),W=[{id:"name",label:"Sub Type",render:(X,te)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:te.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900",children:te.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:te.code})]})]})},{id:"cooler_type",label:"Cooler Type",render:(X,te)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:te.cooler_type?.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsxs(y,{className:"!max-w-xs",children:[e.jsx(x,{variant:"body1",className:"!text-gray-900",children:te.cooler_type?.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:te.cooler_type?.code})]})]})},{id:"description",label:"Description",render:(X,te)=>e.jsx(x,{variant:"body2",className:"!text-gray-600",children:te.description||e.jsx("span",{className:"italic text-gray-400",children:"No Description"})})},{id:"is_active",label:"Status",render:X=>e.jsx(De,{icon:X==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:X==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:X==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(X,te)=>Oe(te.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...j||b||w?[{id:"action",label:"Actions",sortable:!1,render:(X,te)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[j&&e.jsx(is,{onClick:()=>Y(te),tooltip:`Edit ${te.name}`}),b&&e.jsx(Vt,{onClick:()=>H(te.id),tooltip:`Delete ${te.name}`,itemName:te.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Cooler Sub Types Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage cooler sub types for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Cooler Sub Types",value:Q,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"blue",isLoading:E}),e.jsx(fe,{title:"Active Sub Types",value:K,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:E}),e.jsx(fe,{title:"Inactive Sub Types",value:U,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:E}),e.jsx(fe,{title:"New This Month",value:B,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:E})]}),D&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load cooler sub types. Please try again."}),e.jsx(lt,{data:T,columns:W,actions:w||S?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:w&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Cooler Sub Types...",value:t,onChange:F,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:r,onChange:X=>{i(X.target.value===""?0:Number(X.target.value)),v(1)},className:"!w-48",disableClearable:!0,children:[e.jsx(Z,{value:"0",children:"All Cooler Types"}),C?.data?.map(X=>e.jsx(Z,{value:X.id,children:X.name},X.id))]}),e.jsxs(_e,{value:a,onChange:X=>{n(X.target.value),v(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[w&&e.jsx(Jt,{title:"Export Cooler Sub Types",description:"Are you sure you want to export the current cooler sub types data to Excel?",onConfirm:L,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:$.isPending,children:$.isPending?"Exporting...":"Export"})}),S&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>h(!0),children:"Import"}),S&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:V,children:"Create"})]})]}):!1,getRowId:X=>X.id,initialOrderBy:"name",loading:E,totalCount:R,page:z,rowsPerPage:_,isPermission:w,onPageChange:M,emptyMessage:t?`No cooler sub types found matching "${t}"`:"No cooler sub types found in the system"}),e.jsx(rPe,{selectedCoolerSubType:o,setSelectedCoolerSubType:l,drawerOpen:c,setDrawerOpen:m}),e.jsx(aPe,{drawerOpen:u,setDrawerOpen:h})]})},oPe=it({name:me().required("Tax name is required").min(2,"Tax name must be at least 2 characters").max(255,"Tax name must be less than 255 characters"),code:me().required("Tax code is required").min(2,"Tax code must be at least 2 characters").max(100,"Tax code must be less than 100 characters"),tax_rate:Qe().required("Tax rate is required").min(0,"Tax rate must be at least 0").max(100,"Tax rate must be at most 100"),description:me().max(500,"Description must be less than 500 characters"),is_active:me().oneOf(["Y","N"]).required("Status is required")}),lPe=({selectedTaxMaster:t,setSelectedTaxMaster:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),m.resetForm()},o=e5e(),l=t5e(),{data:c}=JCe(t?.id||0,{enabled:r&&!!t?.id}),m=ft({initialValues:{name:t?.name||"",code:t?.code||"",tax_rate:t?.tax_rate||0,description:t?.description||"",is_active:t?.is_active||"Y"},validationSchema:oPe,enableReinitialize:!0,onSubmit:async u=>{try{const h={name:u.name,code:u.code,tax_rate:Number(u.tax_rate),description:u.description,is_active:u.is_active};r&&t?await l.mutateAsync({id:t.id,data:h}):await o.mutateAsync(h),i()}catch(h){console.error("Error saving tax master:",h)}}});return Nt.useEffect(()=>{c&&r&&m.setValues({name:c.name||"",code:c.code||"",tax_rate:c.tax_rate||0,description:c.description||"",is_active:c.is_active||"Y"})},[c,r]),e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Tax Master":"Create Tax Master",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:m.handleSubmit,className:"!space-y-4",children:[e.jsx(oe,{name:"name",label:"Tax Name",placeholder:"Enter tax name",formik:m,required:!0}),e.jsx(oe,{name:"code",label:"Tax Code",placeholder:"Enter tax code",formik:m,required:!0,disabled:r}),e.jsx(oe,{name:"tax_rate",label:"Tax Rate (%)",type:"number",placeholder:"Enter tax rate (0-100)",formik:m,required:!0,inputProps:{min:0,max:100,step:.01}}),e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description (optional)",formik:m,multiline:!0,rows:3}),e.jsx(Ps,{name:"is_active",label:"Status",formik:m,required:!0}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2 !mt-6 !pt-4",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},cPe=it({file:hs().required("Please select a file to import")}),dPe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:cPe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("tax_master")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"tax_master",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Tax Masters",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple tax masters. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},uPe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("tax-master"),{data:b,isFetching:w,error:C}=GF({search:t,page:u,limit:f,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total||0,D=(b?.meta?.page||1)-1,T=s5e(),R=ms(),z=b?.stats,O=z?.total||P.length,$=z?.active||P.filter(M=>M.is_active==="Y").length,A=z?.inactive||P.filter(M=>M.is_active==="N").length,Q=z?.new_this_month||0,K=g.useCallback(()=>{i(null),l(!0)},[]),U=g.useCallback(M=>{i(M),l(!0)},[]),B=g.useCallback(async M=>{try{await T.mutateAsync(M)}catch(L){console.error("Error deleting tax master:",L)}},[T]),V=g.useCallback(M=>{s(M),h(1)},[]),Y=M=>{h(M+1)},H=g.useCallback(async()=>{try{const M={search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"tax_master",filters:M})}catch(M){console.error("Error exporting tax masters:",M)}},[R,t,a]),F=[{id:"name",label:"Tax Name",render:(M,L)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:L.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Xn,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:L.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:L.code})]})]})},{id:"tax_rate",label:"Tax Rate (%)",render:M=>e.jsxs(x,{variant:"body2",className:"!font-medium",children:[M,"%"]})},{id:"description",label:"Description",render:M=>M?e.jsx(x,{variant:"body2",className:"!text-gray-600",children:M.length>50?`${M.substring(0,50)}...`:M}):e.jsx("span",{className:"italic text-gray-400",children:"No description"})},{id:"is_active",label:"Status",render:M=>e.jsx(De,{icon:M==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,L)=>Oe(L.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(M,L)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>U(L),tooltip:`Edit ${L.name}`}),S&&e.jsx(Vt,{onClick:()=>B(L.id),tooltip:`Delete ${L.name}`,itemName:L.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Tax Master Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage tax rates and their configurations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Taxes",value:O,icon:e.jsx(Xn,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Taxes",value:$,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Taxes",value:A,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:Q,icon:e.jsx(Sr,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load tax masters. Please try again."}),e.jsx(lt,{data:P,columns:F,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Tax Masters...",value:t,onChange:V,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:M=>n(M.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[j&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{title:"Export Tax Masters",description:"Are you sure you want to export the current tax masters data to Excel? This will include all filtered results.",onConfirm:H,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"})]}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:Y,emptyMessage:t?`No tax masters found matching "${t}"`:"No tax masters found in the system"}),e.jsx(lPe,{selectedTaxMaster:r,setSelectedTaxMaster:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(dPe,{drawerOpen:c,setDrawerOpen:m})]})},mPe=async()=>{try{return(await ie.get("/roles-dropdown")).data}catch(t){throw t}},pPe=async t=>{try{return(await ie.get("/roles",{params:t})).data}catch(s){throw s}},hPe=async t=>(await ie.post("/roles",t)).data,fPe=async(t,s)=>(await ie.put(`/roles/${t}`,s)).data,xPe=async t=>(await ie.delete(`/roles/${t}`)).data,Bm={all:["roles"],lists:()=>[...Bm.all,"list"],list:t=>[...Bm.lists(),t],details:()=>[...Bm.all,"detail"],detail:t=>[...Bm.details(),t]},a3=t=>nt({queryKey:[...Bm.all,"dropdown"],queryFn:()=>mPe(),staleTime:300*1e3,...t}),gPe=(t,s)=>nt({queryKey:Bm.list(t),queryFn:()=>pPe(t),staleTime:300*1e3,...s}),yPe=t=>Re({mutationFn:s=>hPe(s),loadingMessage:"Creating role...",invalidateQueries:["roles"],onSuccess:t?.onSuccess,onError:t?.onError}),bPe=t=>Re({mutationFn:({id:s,roleData:a})=>fPe(s,a),loadingMessage:"Updating role...",invalidateQueries:["roles"],onSuccess:t?.onSuccess,onError:t?.onError}),vPe=t=>Re({mutationFn:s=>xPe(s),loadingMessage:"Deleting role...",invalidateQueries:["roles"],onSuccess:t?.onSuccess,onError:t?.onError}),jPe=async()=>{try{return(await ie.get("/permissions/by-module")).data}catch(t){throw t}},Em={all:["permissions"],lists:()=>[...Em.all,"list"],list:t=>[...Em.lists(),t],details:()=>[...Em.all,"detail"],detail:t=>[...Em.details(),t],modules:()=>[...Em.all,"modules"]},NPe=t=>nt({queryKey:Em.modules(),queryFn:()=>jPe(),staleTime:900*1e3,...t}),wPe=it({name:me().required("Role name is required").min(2,"Role name must be at least 2 characters").max(50,"Role name must not exceed 50 characters"),description:me().max(200,"Description must not exceed 200 characters"),is_active:me().required("Status is required"),permissions:dl().min(1,"At least one permission must be selected")}),_Pe=({selectedRole:t,setSelectedRole:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,[i,o]=g.useState(""),{data:l,isLoading:c,error:m}=NPe(),u=l?.data||[],h=g.useMemo(()=>{if(!i.trim())return u;const O=i.toLowerCase();return u.map($=>({...$,permissions:$.permissions.filter(A=>A.name.toLowerCase().includes(O))})).filter($=>$.permissions.length>0)},[u,i]),f=yPe({onSuccess:()=>{b()}}),v=bPe({onSuccess:()=>{b()}}),_={name:t?.name||"",description:t?.description||"",is_active:t?.is_active||"Y",permissions:t?.permissions?.filter(O=>O.is_active==="Y").map(O=>O.permission_id)||[]},S=ft({initialValues:_,validationSchema:wPe,enableReinitialize:!0,onSubmit:async O=>{try{r&&t?await v.mutateAsync({id:t.id,roleData:{name:O.name,description:O.description,is_active:O.is_active,permissions:O.permissions}}):await f.mutateAsync({name:O.name,description:O.description,is_active:O.is_active,permissions:O.permissions})}catch($){console.error("Error saving role:",$)}}}),j=O=>{O.preventDefault(),S.handleSubmit()},b=()=>{n(!1),S.resetForm(),s(null)},w=(O,$)=>{const A=S.values.permissions;$?S.setFieldValue("permissions",[...A,O]):S.setFieldValue("permissions",A.filter(Q=>Q!==O))},C=(O,$)=>{const A=O.map(K=>K.id),Q=S.values.permissions;if($){const K=[...Q];A.forEach(U=>{K.includes(U)||K.push(U)}),S.setFieldValue("permissions",K)}else S.setFieldValue("permissions",Q.filter(K=>!A.includes(K)))},P=O=>O.map(A=>A.id).every(A=>S.values.permissions.includes(A)),E=O=>{const $=O.map(Q=>Q.id),A=$.filter(Q=>S.values.permissions.includes(Q)).length;return A>0&&A<$.length},D=()=>{const O=new Set;return h.forEach($=>{$.permissions.forEach(A=>{O.add(A.action)})}),Array.from(O).sort()},T=()=>{const O=h.flatMap($=>$.permissions.map(A=>A.id));return O.length>0&&O.every($=>S.values.permissions.includes($))},R=()=>{const O=h.flatMap(A=>A.permissions.map(Q=>Q.id)),$=O.filter(A=>S.values.permissions.includes(A)).length;return $>0&&$<O.length},z=O=>{if(O.target.checked){const $=h.flatMap(A=>A.permissions.map(Q=>Q.id));S.setFieldValue("permissions",$)}else S.setFieldValue("permissions",[])};return e.jsxs("div",{children:[e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:()=>n(!0),children:"Create"}),e.jsx(ot,{open:a,setOpen:b,title:r?`Edit Role: ${t?.name}`:"Create New Role",children:e.jsxs(y,{component:"form",onSubmit:j,className:"p-4",children:[e.jsxs(y,{className:"space-y-4",children:[e.jsx("p",{className:"!font-semibold !text-gray-900",children:"Role Information"}),e.jsx("div",{className:"flex sm:flex-row flex-col sm:gap-4 gap-2",children:e.jsx(oe,{name:"name",formik:S,label:"Role Name",placeholder:"Enter role name",required:!0})}),e.jsx(Ps,{name:"is_active",formik:S,required:!0,className:"col-span-2"}),e.jsx(oe,{name:"description",formik:S,label:"Description",placeholder:"Enter role description",multiline:!0,className:"!my-2",rows:3})]}),e.jsxs(y,{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between py-3 mb-2",children:[e.jsx("p",{className:"!font-semibold !text-gray-900",children:"Permissions"}),e.jsx(y,{children:e.jsx(oe,{name:"permissionSearch",label:"Search Permissions",placeholder:"Search by permission name...",value:i,onChange:O=>o(O.target.value),className:"!w-full"})})]}),S.errors.permissions&&S.touched.permissions&&e.jsx(ct,{severity:"error",className:"!mb-4",children:S.errors.permissions}),m&&e.jsx(ct,{severity:"warning",className:"!mb-4",children:"Failed to load permissions from server. Using default permissions."}),c&&e.jsx("div",{className:"!flex !justify-center !py-4",children:e.jsx("p",{className:"!text-gray-500",children:"Loading permissions..."})}),e.jsx(xR,{component:da,className:"!shadow-none !border !border-gray-200",children:e.jsxs(qw,{size:"small",className:"!min-w-full",children:[e.jsx(gR,{children:e.jsxs(au,{className:"!bg-gray-50",children:[e.jsx(Vi,{className:"!font-semibold !text-gray-700 !py-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qo,{size:"small",checked:T(),indeterminate:R(),onChange:z,className:"!text-primary-600"}),"Module"]})}),D().map(O=>e.jsx(Vi,{align:"center",className:"!font-semibold !capitalize !text-gray-700 !py-3 !min-w-[100px]",children:O},O))]})}),e.jsx(Bw,{children:h.length===0?e.jsx(au,{children:e.jsx(Vi,{colSpan:D().length+1,className:"!text-center !py-8",children:e.jsx("p",{className:"!text-gray-500",children:i.trim()?`No permissions found matching "${i}"`:"No permissions available"})})}):h.map(O=>e.jsxs(au,{className:"hover:!bg-gray-50",children:[e.jsx(Vi,{className:"!py-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qo,{size:"small",checked:P(O.permissions),indeterminate:E(O.permissions),onChange:$=>C(O.permissions,$.target.checked),className:"!text-primary-600"}),e.jsx("span",{className:"!font-medium !text-gray-900 !capitalize",children:O.module})]})}),D().map($=>{const A=O.permissions.find(Q=>Q.action===$);return e.jsx(Vi,{align:"center",className:"!py-2",children:A?e.jsx(Nte,{size:"small",checked:S.values.permissions.includes(A.id),onChange:Q=>w(A.id,Q.target.checked),className:"!text-primary-600"}):e.jsx("span",{className:"text-gray-300",children:""})},$)})]},O.module))})]})})]}),e.jsxs("div",{className:"flex gap-4 justify-end pt-4",children:[e.jsx(G,{variant:"outlined",onClick:b,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:f.isPending||v.isPending,children:r?"Update Role":"Create Role"})]})]})})]})},SPe=it({file:hs().required("Please select a file to import")}),CPe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:SPe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("roles")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"roles",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Roles",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple roles. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},kPe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(1),[o]=g.useState(10),[l,c]=g.useState(null),[m,u]=g.useState(!1),[h,f]=g.useState(!1),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("role"),{data:b,isFetching:w,error:C}=gPe({search:t,page:r,limit:o,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total||0,D=(b?.meta?.page||1)-1,T=b?.stats,R=vPe(),z=ms(),O=[{id:"name",label:"Role Name",render:(U,B)=>e.jsx("span",{className:"font-semibold",children:B.name})},{id:"is_active",label:"Status",render:U=>e.jsx(De,{icon:U==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:U==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:U==="Y"?"success":"error"})},{id:"user_role",label:"Users Count",render:(U,B)=>e.jsxs(y,{className:"!flex !gap-1 !items-center",children:[e.jsx(Ale,{className:"!text-gray-500 !text-sm"}),e.jsx(x,{variant:"body2",className:"!text-gray-700",children:B.user_role?.length||0})]})},{id:"permissions",label:"Permissions",render:(U,B)=>e.jsxs(x,{variant:"body2",className:"!text-gray-700",children:[B.permissions?.filter(V=>V.is_active==="Y").length||0," active"]})},{id:"description",label:"Description",render:(U,B)=>B.description?e.jsx(Va,{title:B.description,placement:"top",arrow:!0,children:e.jsx(y,{component:"span",className:"!block !max-w-[200px] !truncate",children:B.description})}):e.jsx("span",{className:"italic text-gray-400",children:"No Description"})},..._||S||j?[{id:"action",label:"Actions",width:"120px",sortable:!1,render:(U,B)=>e.jsxs(y,{className:"!flex !gap-1",children:[_&&e.jsx(is,{onClick:()=>$(B),tooltip:`Edit ${B.name}`}),S&&e.jsx(Vt,{onClick:()=>A(B.id),tooltip:`Delete ${B.name}`,itemName:B.name,confirmDelete:!0})]})}]:[]],$=g.useCallback(U=>{c(U),console.log(U),u(!0)},[]),A=g.useCallback(async U=>{try{await R.mutateAsync(U)}catch(B){console.error("Error deleting role:",B)}},[R]),Q=g.useCallback(async()=>{try{const U={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await z.mutateAsync({tableName:"roles",filters:U})}catch(U){console.error("Error exporting roles:",U)}},[z,t,a]),K=g.useCallback(U=>{s(U),i(1)},[]);return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Role & Permissions Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage system roles and their associated permissions"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Roles",value:T?.total_roles||0,icon:e.jsx(bA,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Roles",value:T?.active_roles||0,icon:e.jsx(Goe,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Roles",value:T?.inactive_roles||0,icon:e.jsx(Qoe,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:T?.new_roles||0,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load roles. Please try again."}),e.jsx(lt,{data:P,columns:O,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[j&&e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx(as,{placeholder:"Search Roles",value:t,onChange:K,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(_e,{value:a,onChange:U=>{n(U.target.value),i(1)},className:"!min-w-32",size:"small",placeholder:"Status",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),v&&e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Roles",description:"Are you sure you want to export current roles data to Excel? This will include all filtered results.",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:z.isPending,children:z.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>f(!0),children:"Import"}),e.jsx(_Pe,{selectedRole:l,setSelectedRole:c,setDrawerOpen:u,drawerOpen:m}),e.jsx(CPe,{drawerOpen:h,setDrawerOpen:f})]})]}):!1,getRowId:U=>U.id,initialOrderBy:"name",loading:w,pagination:!0,totalCount:E,page:D,rowsPerPage:o,onPageChange:U=>i(U+1),isPermission:j,emptyMessage:t?`No roles found matching "${t}"`:"No roles found in the system"})]})},PPe=it({file:hs().required("Please select a file to import")}),EPe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:PPe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("routes")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"routes",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Routes",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple routes. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},TPe=it({parent_id:me().required("Zone is required").test("is-number","Zone must be a valid selection",t=>t?!isNaN(Number(t)):!1),depot_id:me().required("Depot is required").test("is-number","Depot must be a valid selection",t=>t?!isNaN(Number(t)):!1),route_type_id:me().required("Route type is required").test("is-number","Route type must be a valid selection",t=>t?!isNaN(Number(t)):!1),name:me().required("Route name is required").min(2,"Route name must be at least 2 characters").max(100,"Route name must not exceed 100 characters").trim(),description:me().max(500,"Description must not exceed 500 characters").trim(),salesperson_id:me().test("is-number-or-empty","Salesperson must be a valid selection",t=>!t||!isNaN(Number(t))),start_location:me().max(200,"Start location must not exceed 200 characters").trim(),end_location:me().max(200,"End location must not exceed 200 characters").trim(),estimated_distance:me().test("is-positive-number-or-empty","Distance must be a positive number",t=>{if(!t)return!0;const s=Number(t);return!isNaN(s)&&s>0}),estimated_time:me().test("is-positive-integer-or-empty","Time must be a positive integer",t=>{if(!t)return!0;const s=Number(t);return!isNaN(s)&&s>0&&Number.isInteger(s)}),is_active:me().required("Status is required").oneOf(["Y","N"],"Status must be either Active or Inactive")}),MPe=({name:t,label:s,required:a=!1,fullWidth:n=!0,size:r="small",formik:i,setValue:o,value:l,onChange:c,className:m,placeholder:u="Select Users...",colorPattern:h="blue"})=>{const[f,v]=g.useState(""),[_,S]=g.useState([]),{data:j,isFetching:b,refetch:w}=pA({search:f}),C=j?.data||[],E=(O=>{const $={blue:{chip:"!bg-blue-100 !text-blue-700 !border-blue-300",avatar:"!bg-blue-200 !text-blue-800",deleteIcon:"!text-blue-600 hover:!bg-blue-200"},green:{chip:"!bg-green-100 !text-green-700 !border-green-300",avatar:"!bg-green-200 !text-green-800",deleteIcon:"!text-green-600 hover:!bg-green-200"},orange:{chip:"!bg-orange-100 !text-orange-700 !border-orange-300",avatar:"!bg-orange-200 !text-orange-800",deleteIcon:"!text-orange-600 hover:!bg-orange-200"},red:{chip:"!bg-red-100 !text-red-700 !border-red-300",avatar:"!bg-red-200 !text-red-800",deleteIcon:"!text-red-600 hover:!bg-red-200"},purple:{chip:"!bg-purple-100 !text-purple-700 !border-purple-300",avatar:"!bg-purple-200 !text-purple-800",deleteIcon:"!text-purple-600 hover:!bg-purple-200"},blueish:{chip:"!bg-sky-100 !text-sky-700 !border-sky-300",avatar:"!bg-sky-200 !text-sky-800",deleteIcon:"!text-sky-600 hover:!bg-sky-200"},default:{chip:"!bg-gray-100 !text-gray-700 !border-gray-300",avatar:"!bg-gray-200 !text-gray-800",deleteIcon:"!text-gray-600 hover:!bg-gray-200"}};return $[O]||$.default})(h);g.useEffect(()=>{if(i&&t){const O=i.values[t];if(Array.isArray(O)&&O.length>0){const $=O,A=C.filter(Q=>$.includes(Q.id));S(A)}}else if(l&&Array.isArray(l)){const O=C.filter($=>l.includes($.id));S(O)}},[i,t,l,C]);const D=g.useCallback((O,$)=>{S($);const A=$.map(Q=>Q.id);i&&t&&i.setFieldValue(t,A),o&&o(A),c&&c(O,$)},[i,t,o,c]),T=g.useCallback((O,$)=>{v($),$.length>0&&w()},[w]),z=g.useCallback(()=>{if(i&&t){const O=i.touched[t],$=i.errors[t];return O&&$?String($):""}return""},[i,t])();return e.jsx(Yn,{multiple:!0,id:`multi-user-select-${t||"default"}`,options:C,getOptionLabel:O=>O.name||"",isOptionEqualToValue:(O,$)=>O.id===$.id,value:_,onChange:D,onInputChange:T,inputValue:f,loading:b,renderOption:(O,$)=>g.createElement(y,{component:"li",...O,key:$.id,className:"!flex !items-center !gap-2 cursor-pointer py-1 px-2 hover:!bg-gray-50"},e.jsx(ht,{src:$.profile_image||"mkx",alt:$.name,className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(y,{children:[e.jsx("p",{className:"!text-gray-900 !text-sm",children:$.name||""}),$.email&&e.jsx("p",{className:"!text-gray-500 !text-xs",children:$.email})]})),renderValue:(O,$)=>O.map((A,Q)=>e.jsx(De,{avatar:e.jsx(ht,{src:A.profile_image,alt:A.name,className:YN("!w-4 !h-4",E.avatar),children:A.name.charAt(0).toUpperCase()}),size:"small",label:A.name,...$({index:Q}),onDelete:()=>{const K=O.filter((B,V)=>V!==Q);S(K);const U=K.map(B=>B.id);i&&t&&i.setFieldValue(t,U),o&&o(U),c&&c({},K)},className:YN("!m-1 !py-1 !border",E.chip,"[&_.MuiChip-deleteIcon]:!text-inherit [&_.MuiChip-deleteIcon:hover]:!bg-inherit")})),renderInput:O=>e.jsx(wn,{...O,label:s,required:a,error:!!z,helperText:z,placeholder:u,size:r,fullWidth:n,className:m,InputProps:{...O.InputProps,endAdornment:e.jsxs(e.Fragment,{children:[b?e.jsx(wo,{color:"inherit",size:20}):null,O.InputProps.endAdornment]})}}),filterSelectedOptions:!0,noOptionsText:f?"No users found":"Type to search users",className:YN("w-full",m)})},DPe=({selectedRoute:t,setSelectedRoute:s,drawerOpen:a,setDrawerOpen:n,depots:r,zones:i})=>{const o=!!t,l=()=>{s(null),n(!1),f.resetForm()},c=S3e(),m=C3e(),{data:u}=t3({status:"active"}),h=u?.data||[],f=ft({initialValues:{parent_id:t?.parent_id?.toString()||"",depot_id:t?.depot_id?.toString()||"",route_type_id:t?.route_type_id?.toString()||"",name:t?.name||"",description:t?.description||"",sales_persons:t?.salespersons?.map(v=>v.user.id)||[],start_location:t?.start_location||"",end_location:t?.end_location||"",estimated_distance:t?.estimated_distance?.toString()||"",estimated_time:t?.estimated_time?.toString()||"",is_active:t?.is_active||"Y"},validationSchema:TPe,enableReinitialize:!0,onSubmit:async v=>{try{const _={parent_id:Number(v.parent_id),depot_id:Number(v.depot_id),route_type_id:Number(v.route_type_id),name:v.name,description:v.description,salespersons:v.sales_persons?.map(S=>({user_id:S}))||[],start_location:v.start_location,end_location:v.end_location,estimated_distance:v.estimated_distance?Number(v.estimated_distance):void 0,estimated_time:v.estimated_time?Number(v.estimated_time):void 0,is_active:v.is_active};o&&t?await m.mutateAsync({id:t.id,..._}):await c.mutateAsync(_),l()}catch(_){console.error("Error saving route:",_)}}});return e.jsx(ot,{open:a,setOpen:l,title:o?"Edit Route":"Create Route",size:"large",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(_e,{name:"parent_id",label:"Zone",formik:f,required:!0,children:i.map(v=>e.jsx(Z,{value:v.id.toString(),children:v.name},v.id))}),e.jsx(_e,{name:"depot_id",label:"Depot",formik:f,required:!0,children:r.map(v=>e.jsxs(Z,{value:v.id.toString(),children:[v.name," (",v.code,")"]},v.id))}),e.jsx(_e,{name:"route_type_id",label:"Route Type",formik:f,required:!0,children:h.map(v=>e.jsx(Z,{value:v.id.toString(),children:v.name},v.id))}),e.jsx(oe,{name:"name",label:"Route Name",placeholder:"Enter route name",formik:f,required:!0}),e.jsx(oe,{name:"start_location",label:"Start Location",placeholder:"Enter starting point",formik:f}),e.jsx(oe,{name:"end_location",label:"End Location",placeholder:"Enter ending point",formik:f}),e.jsx(oe,{name:"estimated_distance",label:"Estimated Distance (km)",type:"number",placeholder:"Enter distance in kilometers",formik:f,slotProps:{htmlInput:{step:"0.1",min:"0"}}}),e.jsx(oe,{name:"estimated_time",label:"Estimated Time (minutes)",type:"number",placeholder:"Enter time in minutes",formik:f,slotProps:{htmlInput:{min:"0"}}}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(MPe,{name:"sales_persons",label:"Salespersons",formik:f,className:"!col-span-2"})}),e.jsx(y,{children:e.jsx(Ps,{name:"is_active",formik:f,required:!0})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter route description",formik:f,multiline:!0,rows:3})})]}),e.jsxs(y,{className:"!flex !justify-end !gap-3 !pt-4",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:l,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:c.isPending||m.isPending,children:o?"Update Route":"Create Route"})]})]})})})},RPe=()=>{const t=Gs(),[s,a]=g.useState(""),[n,r]=g.useState("all"),[i,o]=g.useState("all"),[l,c]=g.useState(null),[m,u]=g.useState(!1),[h,f]=g.useState(!1),[v,_]=g.useState(1),[S]=g.useState(10),{isCreate:j,isUpdate:b,isDelete:w,isRead:C}=Ze("route"),{data:P,isFetching:E,error:D}=f1({search:s,page:v,limit:S,status:n==="all"?void 0:n==="active"?"active":"inactive",depot_id:i==="all"?void 0:Number(i)},{enabled:C}),{data:T}=ko({page:1,limit:100,isActive:"Y"}),{data:R}=ic({page:1,limit:100,isActive:"Y"}),z=P?.data||[],O=T?.data||[],$=R?.data||[],A=P?.meta?.total||0,Q=(P?.meta?.page||1)-1,K=k3e(),U=ms(),B=P?.stats?.total_routes??z.length,V=P?.stats?.active_routes??z.filter(pe=>pe.is_active==="Y").length,Y=P?.stats?.inactive_routes??z.filter(pe=>pe.is_active==="N").length,H=P?.stats?.routes_this_month||0,F=g.useCallback(()=>{c(null),u(!0)},[]),M=g.useCallback(async()=>{try{const pe={search:s,isActive:n==="all"?void 0:n==="active"?"Y":"N"};await U.mutateAsync({tableName:"routes",filters:pe})}catch(pe){console.error("Error exporting routes:",pe)}},[U,s,n]),L=g.useCallback(pe=>{c(pe),u(!0)},[]),W=g.useCallback(pe=>{t(`/masters/routes/${pe.id}`)},[t]),X=g.useCallback(async pe=>{try{await K.mutateAsync({id:pe})}catch(he){console.error("Error deleting route:",he)}},[K]),te=g.useCallback(pe=>{a(pe),_(1)},[]),se=pe=>{_(pe+1)},ae=[{id:"name",label:"Route & Code",render:(pe,he)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:he.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Yc,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:he.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:he.code})]})]})},{id:"depot",label:"Depot",render:(pe,he)=>e.jsxs(y,{className:"!flex !items-center !gap-2",children:[e.jsx(ht,{className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Sr,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!font-medium",children:he.route_depots?.name||"N/A"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:he.route_depots?.code||""})]})]})},{id:"zone",label:"Zone",render:(pe,he)=>e.jsxs(y,{className:"!flex !items-center !gap-2",children:[e.jsx(ht,{className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Qie,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!font-medium",children:he.route_zones?.name||"N/A"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:he.route_zones?.code||""})]})]})},{id:"salesperson",label:"Sales Person",render:(pe,he)=>e.jsx(y,{className:"!flex !items-center !gap-2",children:he.salespersons&&he.salespersons.length>0?e.jsx(e.Fragment,{children:e.jsx(y,{className:"!flex !items-center !gap-2",children:e.jsx(fZ,{max:3,children:he.salespersons.map(re=>e.jsx(Va,{title:`${re.user.name} (${re.role})`,arrow:!0,placement:"top",children:e.jsx(ht,{alt:re.user.name,src:"mkx",className:"!bg-primary-100 !text-primary-600",children:re.user.name.charAt(0).toUpperCase()},re.id)}))})})}):e.jsxs(e.Fragment,{children:[e.jsx(St,{className:"w-4 h-4 text-gray-400"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Unassigned"})]})})},{id:"description",label:"Description",render:(pe,he)=>e.jsx(Va,{title:he.description,placement:"top",arrow:!0,children:e.jsx(x,{variant:"body2",className:"!text-gray-600 !max-w-xs !truncate",children:he.description||"No description"})})},{id:"is_active",label:"Status",render:pe=>e.jsx(De,{icon:pe==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:pe==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:pe==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(pe,he)=>Oe(he.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...b||w||C?[{id:"action",label:"Actions",sortable:!1,render:(pe,he)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[C&&e.jsx(Ka,{onClick:()=>W(he),tooltip:`View ${he.name}`,icon:e.jsx(Cr,{fontSize:"small"}),color:"info"}),b&&e.jsx(is,{onClick:()=>L(he),tooltip:`Edit ${he.name}`}),w&&e.jsx(Vt,{onClick:()=>X(he.id),tooltip:`Delete ${he.name}`,itemName:he.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Route Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage sales routes, assignments, and territory coverage"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Routes",value:B,icon:e.jsx(Yc,{className:"w-6 h-6"}),color:"blue",isLoading:E}),e.jsx(fe,{title:"Active Routes",value:V,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:E}),e.jsx(fe,{title:"Inactive Routes",value:Y,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:E}),e.jsx(fe,{title:"New This Month",value:H,icon:e.jsx(ru,{className:"w-6 h-6"}),color:"purple",isLoading:E})]}),D&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load routes. Please try again."}),e.jsx(lt,{data:z,columns:ae,actions:C||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex items-center flex-wrap gap-2",children:C&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Routes",value:s,onChange:te,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(_e,{value:n,onChange:pe=>r(pe.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(_e,{value:i,onChange:pe=>o(pe.target.value),className:"!min-w-80",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Depots"}),O.map(pe=>e.jsx(Z,{value:pe.id.toString(),children:pe.name},pe.id))]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Routes",description:"Are you sure you want to export the current routes data to Excel? This will include all filtered results.",onConfirm:M,confirmText:"Export",cancelText:"Cancel",children:e.jsx(G,{variant:"outlined",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(_t,{}),disabled:U.isPending,children:U.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(xs,{}),onClick:()=>f(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:F,children:"Create"})]})]}):!1,getRowId:pe=>pe.id,initialOrderBy:"name",loading:E,totalCount:A,page:Q,rowsPerPage:S,isPermission:C,onPageChange:se,emptyMessage:s?`No routes found matching "${s}"`:"No routes found in the system"}),e.jsx(DPe,{selectedRoute:l,setSelectedRoute:c,drawerOpen:m,setDrawerOpen:u,depots:O,zones:$}),e.jsx(EPe,{drawerOpen:h,setDrawerOpen:f})]})},APe=()=>{const{id:t}=Jn(),s=Gs(),{formatCurrency:a}=Qa(),{data:n,isLoading:r,error:i,isFetching:o}=_3e(Number(t)),l=n?.data,c=()=>{s("/masters/routes")},m=f=>{switch(f?.toLowerCase()){case"completed":return"success";case"in_progress":return"warning";case"planned":return"info";case"cancelled":return"error";default:return"default"}},u=f=>f?f.charAt(0).toUpperCase()+f.slice(1).replace("_"," "):"Unknown";if(r||o)return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"!flex-2 flex flex-col gap-4",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-3 !right-3",children:e.jsx(J,{variant:"circular",width:10,height:10,className:"!bg-green-200"})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(J,{variant:"circular",width:96,height:96,className:"!mx-auto !border-3 !border-white"})}),e.jsx(J,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(J,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-2 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"30%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"60%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"70%",height:14})]})]})]})}),e.jsx("div",{className:"!flex-4 !space-y-4",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4,5,6].map(f=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(J,{variant:"text",width:`${40+f*8}%`,height:12}),e.jsx(J,{variant:"text",width:`${60+f*6}%`,height:16})]},f))})]})]})})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 lg:!grid-cols-3 !gap-4",children:[1,2,3].map(f=>e.jsxs("div",{className:"!p-5 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(J,{variant:"text",width:"60%",height:20,className:"!mb-2"}),e.jsx(J,{variant:"text",width:"40%",height:12,className:"!mb-3"}),e.jsxs("div",{className:"!space-y-2",children:[e.jsx(J,{variant:"text",width:"50%",height:10}),e.jsx(J,{variant:"text",width:"70%",height:14}),e.jsx(J,{variant:"text",width:"45%",height:10}),e.jsx(J,{variant:"text",width:"80%",height:14})]})]},f))})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!space-y-4",children:[1,2].map(f=>e.jsxs("div",{className:"!p-5 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(J,{variant:"text",width:"40%",height:20,className:"!mb-3"}),e.jsx("div",{className:"!grid !grid-cols-2 md:!grid-cols-4 !gap-4 !mt-4",children:[1,2,3,4,5,6].map(v=>e.jsxs("div",{children:[e.jsx(J,{variant:"text",width:"60%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"80%",height:14})]},v))})]},f))})]})]})]});if(i||!l)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(la,{className:"w-5 h-5"}),e.jsx(x,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load route details"})]}),e.jsx(x,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:c,className:"mt-4",children:"Back to Routes"})]});const h=({title:f,children:v,icon:_})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[_&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(_,{className:"!text-primary-500"})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:f})]}),v]})]});return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${l.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ht,{className:ln("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":l.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":l.is_active!=="Y"}),children:e.jsx(Yc,{className:"!w-8 !h-8"})})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:l.name}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mb-3",children:l.code}),e.jsx("div",{className:"!flex !justify-center !gap-2 !mb-4",children:e.jsx(De,{icon:l.is_active==="Y"?e.jsx(pt,{fontSize:"small"}):e.jsx(xu,{fontSize:"small"}),label:l.is_active==="Y"?"Active":"Inactive",size:"small",color:l.is_active==="Y"?"success":"error"})}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[l.route_depots&&e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Depot"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:[l.route_depots.name," (",l.route_depots.code,")"]})]}),l.createdate&&e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Created Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(typeof l.createdate=="string"?l.createdate:String(l.createdate||""))})]})]})]}),e.jsx(h,{title:"Route Details",icon:ru,children:e.jsx("div",{className:"!space-y-3",children:l.start_location||l.end_location?e.jsxs(e.Fragment,{children:[l.start_location&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Qs,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Start Location"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:l.start_location})]})]})}),l.end_location&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Qs,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"End Location"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:l.end_location})]})]})}),(l.estimated_distance||l.estimated_time)&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-4",children:[l.estimated_distance&&e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(ru,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Distance"}),e.jsxs(x,{variant:"caption",className:"!text-gray-500",children:[l.estimated_distance," km"]})]})]}),l.estimated_time&&e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Ts,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Duration"}),e.jsxs(x,{variant:"caption",className:"!text-gray-500",children:[l.estimated_time," minutes"]})]})]})]})})]}):e.jsxs("div",{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(ru,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(x,{variant:"body2",children:"No location details available for this route."})]})})})]}),e.jsx("div",{className:"!flex-4 !space-y-4",children:e.jsx(h,{title:"Route Information",icon:Yc,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Route Code"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.code})]}),l.route_depots&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Depot"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.route_depots.name})]}),l.route_zones&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Zone"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.route_zones.name})]}),l.routes_route_type&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Route Type"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.routes_route_type.name})]}),l.routes_salesperson&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Salesperson"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.routes_salesperson.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:l.routes_salesperson.email})]}),l.start_location&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Start Location"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.start_location})]}),l.end_location&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"End Location"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.end_location})]}),l.estimated_distance&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Estimated Distance"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:[l.estimated_distance," km"]})]}),l.estimated_time&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Estimated Time"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:[l.estimated_time," minutes"]})]}),l.description&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Description"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.description})]}),l.createdate&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Created Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(typeof l.createdate=="string"?l.createdate:String(l.createdate||""))})]}),l.updatedate&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Last Updated"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(typeof l.updatedate=="string"?l.updatedate:String(l.updatedate||""))})]})]})})})]}),l.customer_routes&&l.customer_routes.length>0&&e.jsx(h,{title:"Assigned Customers",icon:ua,children:e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 lg:!grid-cols-3 !gap-4",children:l.customer_routes.map(f=>e.jsxs("div",{className:"!p-5 !bg-gray-50 !rounded-md !border !border-gray-200 !hover:!shadow-md !transition-shadow",children:[e.jsx("div",{className:"!flex !items-start !justify-between !mb-3",children:e.jsxs("div",{className:"!flex-1",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-2 !flex-wrap",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900",children:f.name}),f.code&&e.jsx(x,{variant:"caption",className:"!text-gray-500 !bg-gray-200 !px-2 !py-0.5 !rounded !font-medium",children:f.code}),e.jsx(De,{label:f.is_active==="Y"?"Active":"Inactive",size:"small",color:f.is_active==="Y"?"success":"error"})]}),f.type&&e.jsxs(x,{variant:"body2",className:"!text-gray-600 !mb-3",children:["Type:"," ",e.jsx("span",{className:"!font-semibold",children:f.type})]})]})}),e.jsxs("div",{className:"!space-y-3",children:[f.contact_person&&e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Contact Person"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:f.contact_person})]}),e.jsxs("div",{className:"!grid !grid-cols-1 !gap-2",children:[f.phone_number&&e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Phone Number"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:f.phone_number})]}),f.email&&e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Email"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !break-all",children:f.email})]})]}),(f.city||f.state||f.zipcode)&&e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Location"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:[f.city,f.state,f.zipcode].filter(Boolean).join(", ")||"N/A"})]}),f.address&&e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Address"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:f.address})]})]})]},f.id))})}),l.visit_routes&&l.visit_routes.length>0?e.jsx(h,{title:"Visits History",icon:Ts,children:e.jsx("div",{className:"!space-y-4",children:l.visit_routes.map(f=>e.jsxs("div",{className:"!p-5 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx("div",{className:"!flex !items-start !justify-between !mb-3",children:e.jsxs("div",{className:"!flex-1",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-2",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900",children:f.visit_customers?.name||"Unknown Customer"}),f.visit_customers?.code&&e.jsx(x,{variant:"caption",className:"!text-gray-500 !bg-gray-200 !px-2 !py-0.5 !rounded",children:f.visit_customers.code}),e.jsx(De,{label:u(f.status),size:"small",color:m(f.status)})]}),f.visits_salesperson&&e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Salesperson: ",f.visits_salesperson.name," (",f.visits_salesperson.email,")"]})]})}),e.jsxs("div",{className:"!grid !grid-cols-2 md:!grid-cols-4 !gap-4 !mt-4",children:[f.visit_date&&e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Visit Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(typeof f.visit_date=="string"?f.visit_date:String(f.visit_date||""))})]}),f.visit_time&&e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Visit Time"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:f.visit_time})]}),f.purpose&&e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Purpose"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:f.purpose})]}),f.duration&&e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Duration"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:[f.duration," min"]})]}),f.orders_created!==null&&f.orders_created!==void 0&&e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Orders Created"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:f.orders_created})]}),f.amount_collected&&e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Amount Collected"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-primary-600",children:a(Number(f.amount_collected))})]}),f.next_visit_date&&e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Next Visit"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(typeof f.next_visit_date=="string"?f.next_visit_date:String(f.next_visit_date||""))})]})]}),(f.check_in_time||f.check_out_time)&&e.jsx("div",{className:"!mt-4 !pt-4 !border-t !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-6",children:[f.check_in_time&&e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Ts,{className:"w-4 h-4 text-primary-500"}),e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block",children:"Check-in"}),e.jsx(x,{variant:"body2",className:"!font-medium !text-gray-900",children:Oe(typeof f.check_in_time=="string"?f.check_in_time:String(f.check_in_time||""))})]})]}),f.check_out_time&&e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Ts,{className:"w-4 h-4 text-primary-500"}),e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block",children:"Check-out"}),e.jsx(x,{variant:"body2",className:"!font-medium !text-gray-900",children:Oe(typeof f.check_out_time=="string"?f.check_out_time:String(f.check_out_time||""))})]})]})]})}),f.visit_notes&&e.jsxs("div",{className:"!mt-4 !pt-4 !border-t !border-gray-200",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Visit Notes"}),e.jsx(x,{variant:"body2",className:"!text-gray-700 !bg-white !p-3 !rounded !border !border-gray-200",children:f.visit_notes})]}),f.customer_feedback&&e.jsxs("div",{className:"!mt-4 !pt-4 !border-t !border-gray-200",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Customer Feedback"}),e.jsx(x,{variant:"body2",className:"!text-gray-700 !bg-white !p-3 !rounded !border !border-gray-200",children:f.customer_feedback})]})]},f.id))})}):e.jsx(h,{title:"Visits History",icon:Ts,children:e.jsxs("div",{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(Ts,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(x,{variant:"body2",children:"No visits recorded for this route yet."})]})}),e.jsx("div",{className:"!mt-4",children:e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:c,children:"Back to Routes"})})]})},IPe=it({file:hs().required("Please select a file to import")}),OPe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:IPe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("route_type")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"route_type",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Route Types",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple route types. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},FPe=it().shape({name:me().required("Route type name is required").min(1,"Route type name must be at least 1 character").max(100,"Route type name must be at most 100 characters").trim(),is_active:me().oneOf(["Y","N"],"Status must be Y or N").required("Status is required")}),LPe=({selectedRouteType:t,setSelectedRouteType:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=HCe(),o=WCe(),l=()=>{s(null),n(!1),c.resetForm()},c=ft({initialValues:{name:t?.name||"",is_active:t?.is_active||"Y"},validationSchema:FPe,enableReinitialize:!0,onSubmit:async m=>{try{r&&t?await o.mutateAsync({id:t.id,data:m}):await i.mutateAsync(m),l()}catch(u){console.error("Error saving route type:",u)}}});return e.jsx(ot,{open:a,setOpen:l,title:r?"Edit Route Type":"Create Route Type",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-5",children:[e.jsxs(y,{className:"!grid !grid-cols-1 !gap-5",children:[e.jsx(oe,{name:"name",label:"Route Type Name",placeholder:"Enter route type name",formik:c,required:!0}),e.jsx(Ps,{name:"is_active",formik:c,required:!0})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:l,className:"!mr-3",disabled:i.isPending||o.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:i.isPending||o.isPending,children:i.isPending||o.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},zPe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("route-type"),{data:b,isLoading:w,error:C}=t3({search:t,page:u,limit:f,status:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total||0,D=(b?.meta?.page||1)-1,T=YCe(),R=ms(),z=b?.stats?.total_route_types??0,O=b?.stats?.active_route_types??0,$=b?.stats?.inactive_route_types??0,A=b?.stats?.route_types_this_month??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(F=>{i(F),l(!0)},[]),U=g.useCallback(async F=>{try{await T.mutateAsync(F)}catch(M){console.error("Error deleting route type:",M)}},[T]),B=g.useCallback(F=>{s(F),h(1)},[]),V=F=>{h(F+1)},Y=g.useCallback(async()=>{try{const F={search:t,status:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"route_type",filters:F})}catch(F){console.error("Error exporting route types:",F)}},[R,t,a]),H=[{id:"name",label:"Route Type Name",render:(F,M)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(y,{className:"!w-8 !h-8 !rounded !bg-primary-100 !flex !items-center !justify-center",children:e.jsx(Yc,{className:"w-4 h-4 text-primary-500"})}),e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:M.name})]})},{id:"is_active",label:"Status",render:(F,M)=>e.jsx(De,{icon:M.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:M.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M.is_active==="Y"?"success":"error"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(F,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(M),tooltip:`Edit ${M.name}`}),S&&e.jsx(Vt,{onClick:()=>U(M.id),tooltip:`Delete ${M.name}`,itemName:M.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Route Types"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage and configure route types for your delivery routes"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Route Types",value:z,icon:e.jsx(Yc,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Route Types",value:O,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Route Types",value:$,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"This Month",value:A,icon:e.jsx(Yc,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load route types. Please try again."}),e.jsx(lt,{data:P,columns:H,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Route Types...",value:t,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:F=>n(F.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Route Types",description:"Are you sure you want to export the current route types data to Excel? This will include all filtered results.",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:F=>F.id,initialOrderBy:"name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:V,emptyMessage:t?`No route types found matching "${t}"`:"No route types found in the system"}),e.jsx(LPe,{selectedRouteType:r,setSelectedRouteType:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(OPe,{drawerOpen:c,setDrawerOpen:m})]})},$Pe=async t=>{try{return(await ie.get("/sales-bonus-rule",{params:t})).data}catch(s){throw console.error("Error fetching sales bonus rules:",s),new Error(s.response?.data?.message||"Failed to fetch sales bonus rules")}},qPe=async t=>{try{return(await ie.post("/sales-bonus-rule",t)).data.data}catch(s){throw console.error("Error creating sales bonus rule:",s),new Error(s.response?.data?.message||"Failed to create sales bonus rule")}},BPe=async(t,s)=>{try{return(await ie.put(`/sales-bonus-rule/${t}`,s)).data.data}catch(a){throw console.error("Error updating sales bonus rule:",a),new Error(a.response?.data?.message||"Failed to update sales bonus rule")}},UPe=async t=>{try{await ie.delete(`/sales-bonus-rule/${t}`)}catch(s){throw console.error("Error deleting sales bonus rule:",s),new Error(s.response?.data?.message||"Failed to delete sales bonus rule")}},Ff={all:["sales-bonus-rules"],lists:()=>[...Ff.all,"list"],list:t=>[...Ff.lists(),t],details:()=>[...Ff.all,"detail"],detail:t=>[...Ff.details(),t]},VPe=(t,s)=>nt({queryKey:Ff.list(t),queryFn:()=>$Pe(t),staleTime:300*1e3,...s}),HPe=()=>Re({mutationFn:qPe,invalidateQueries:["sales-bonus-rules"],loadingMessage:"Creating sales bonus rule..."}),WPe=()=>Re({mutationFn:({id:t,data:s})=>BPe(t,s),invalidateQueries:["sales-bonus-rules"],loadingMessage:"Updating sales bonus rule..."}),YPe=()=>Re({mutationFn:UPe,invalidateQueries:["sales-bonus-rules"],loadingMessage:"Deleting sales bonus rule..."}),GPe=it({file:hs().required("Please select a file to import")}),KPe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:GPe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("sales_bonus_rules")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"sales_bonus_rules",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Sales Bonus Rules",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple sales bonus rules. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},QPe=async t=>{try{return(await ie.get("/sales-targets",{params:t})).data}catch(s){throw console.error("Error fetching sales targets:",s),new Error(s.response?.data?.message||"Failed to fetch sales targets")}},ZPe=async t=>{try{return(await ie.post("/sales-targets",t)).data.data}catch(s){throw console.error("Error creating sales target:",s),new Error(s.response?.data?.message||"Failed to create sales target")}},XPe=async(t,s)=>{try{return(await ie.put(`/sales-targets/${t}`,s)).data.data}catch(a){throw console.error("Error updating sales target:",a),new Error(a.response?.data?.message||"Failed to update sales target")}},JPe=async t=>{try{await ie.delete(`/sales-targets/${t}`)}catch(s){throw console.error("Error deleting sales target:",s),new Error(s.response?.data?.message||"Failed to delete sales target")}},Lf={all:["sales-targets"],lists:()=>[...Lf.all,"list"],list:t=>[...Lf.lists(),t],details:()=>[...Lf.all,"detail"],detail:t=>[...Lf.details(),t]},XF=(t,s)=>nt({queryKey:Lf.list(t),queryFn:()=>QPe(t),staleTime:300*1e3,...s}),eEe=()=>Re({mutationFn:ZPe,invalidateQueries:["sales-targets"],loadingMessage:"Creating sales target..."}),tEe=()=>Re({mutationFn:({id:t,data:s})=>XPe(t,s),invalidateQueries:["sales-targets"],loadingMessage:"Updating sales target..."}),sEe=()=>Re({mutationFn:JPe,invalidateQueries:["sales-targets"],loadingMessage:"Deleting sales target..."}),aEe=it().shape({sales_target_id:Qe().required("Sales target is required").min(1,"Please select a valid sales target"),achievement_min_percent:Qe().required("Minimum achievement percentage is required").min(0,"Minimum achievement percentage must be at least 0").max(100,"Minimum achievement percentage cannot exceed 100").test("less-than-max","Minimum achievement percentage must be less than maximum achievement percentage",function(t){const{achievement_max_percent:s}=this.parent;return!s||!t||t<s}),achievement_max_percent:Qe().required("Maximum achievement percentage is required").min(0,"Maximum achievement percentage must be at least 0").max(100,"Maximum achievement percentage cannot exceed 100").test("greater-than-min","Maximum achievement percentage must be greater than minimum achievement percentage",function(t){const{achievement_min_percent:s}=this.parent;return!s||!t||t>s}),bonus_amount:Qe().nullable().min(0,"Bonus amount must be non-negative").test("bonus-or-percent","Either bonus amount or bonus percentage must be provided",function(t){const{bonus_percent:s}=this.parent;return t||s}),bonus_percent:Qe().nullable().min(0,"Bonus percentage must be non-negative").max(100,"Bonus percentage cannot exceed 100").test("bonus-or-percent","Either bonus amount or bonus percentage must be provided",function(t){const{bonus_amount:s}=this.parent;return t||s}),is_active:me().required("Status is required").oneOf(["Y","N"],"Status must be either Active (Y) or Inactive (N)")}),nEe=({selectedRule:t,setSelectedRule:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,{data:i}=XF({page:1,limit:1e3,is_active:"Y"}),o=i?.data||[],l=HPe(),c=WPe(),m=()=>{s(null),n(!1),u.resetForm()},u=ft({initialValues:{sales_target_id:t?.sales_target_id||0,achievement_min_percent:t?.achievement_min_percent||"",achievement_max_percent:t?.achievement_max_percent||"",bonus_amount:t?.bonus_amount||"",bonus_percent:t?.bonus_percent||"",is_active:t?.is_active||"Y"},validationSchema:aEe,enableReinitialize:!0,onSubmit:async h=>{try{const f={...h,sales_target_id:Number(h.sales_target_id),achievement_min_percent:Number(h.achievement_min_percent),achievement_max_percent:Number(h.achievement_max_percent),bonus_amount:h.bonus_amount?Number(h.bonus_amount):void 0,bonus_percent:h.bonus_percent?Number(h.bonus_percent):void 0};r&&t?await c.mutateAsync({id:t.id,data:f}):await l.mutateAsync(f),m()}catch(f){console.error("Error submitting sales bonus rule:",f)}}});return e.jsx(ot,{open:a,setOpen:m,title:r?"Edit Sales Bonus Rule":"Create Sales Bonus Rule",size:"large",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:u.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(_e,{name:"sales_target_id",label:"Sales Target",formik:u,required:!0,children:o.map(h=>e.jsxs(Z,{value:h.id,children:[h.sales_target_group?.group_name||"Unknown Group"," -"," ",h.product_category?.category_name||"Unknown Category"," "]},h.id))}),e.jsx(oe,{name:"achievement_min_percent",label:"Minimum Achievement %",type:"number",placeholder:"Enter minimum achievement percentage",formik:u,required:!0,inputProps:{min:0,max:100,step:.01}}),e.jsx(oe,{name:"achievement_max_percent",label:"Maximum Achievement %",type:"number",placeholder:"Enter maximum achievement percentage",formik:u,required:!0,inputProps:{min:0,max:100,step:.01}}),e.jsx(oe,{name:"bonus_amount",label:"Bonus Amount",type:"number",placeholder:"Enter bonus amount (optional)",formik:u,inputProps:{min:0,step:.01}}),e.jsx(oe,{name:"bonus_percent",label:"Bonus Percentage",type:"number",placeholder:"Enter bonus percentage (optional)",formik:u,inputProps:{min:0,max:100,step:.01}}),e.jsx(Ps,{name:"is_active",formik:u,required:!0,className:"col-span-2"})]}),e.jsxs(y,{className:"!bg-blue-50 !p-4 !rounded-lg",children:[e.jsx("h4",{className:"!text-sm !font-medium !text-blue-900 !mb-2",children:"Rule Information"}),e.jsxs("ul",{className:"!text-sm !text-blue-800 !space-y-1",children:[e.jsx("li",{children:" Either bonus amount or bonus percentage must be provided"}),e.jsx("li",{children:" Minimum achievement percentage must be less than maximum"}),e.jsx("li",{children:" Achievement percentages should be between 0% and 100%"}),e.jsx("li",{children:" Bonus percentage should be between 0% and 100%"})]})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,className:"!mr-3",disabled:l.isPending||c.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:l.isPending||c.isPending,children:l.isPending||c.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},rEe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("sales-bonus-rule"),{data:b}=Mu(),{data:w}=nc({limit:1e3}),C=b?.data,P=w?.data||[],E=C?.currency_id||1,D=P.find(pe=>pe.id===E),{data:T,isLoading:R,error:z}=VPe({search:t,page:u,limit:f,status:a==="all"?void 0:a==="active"?"active":"inactive"},{enabled:j}),O=pe=>{if(pe==null)return"No amount";const he=D?.code||"INR",xe={USD:"en-US",EUR:"de-DE",GBP:"en-GB",JPY:"ja-JP",CNY:"zh-CN",AUD:"en-AU",CAD:"en-CA",INR:"en-IN",AED:"ar-AE",SAR:"ar-SA"}[he]||"en-IN";return new Intl.NumberFormat(xe,{style:"currency",currency:he,minimumFractionDigits:2,maximumFractionDigits:2}).format(pe)},$=T?.data||[],A=T?.meta?.total||0,Q=(T?.meta?.page||1)-1,K=YPe(),U=ms(),B=T?.stats||{},V=B.total_rules??0,Y=B.active_rules??0,H=B.inactive_rules??0,F=B.sales_bonus_rules_this_month??0,M=g.useCallback(()=>{i(null),l(!0)},[]),L=g.useCallback(pe=>{i(pe),l(!0)},[]),W=g.useCallback(async pe=>{try{await K.mutateAsync(pe)}catch(he){console.error("Error deleting sales bonus rule:",he)}},[K]),X=g.useCallback(pe=>{s(pe),h(1)},[]),te=pe=>{h(pe+1)},se=g.useCallback(async()=>{try{const pe={search:t,status:a==="all"?void 0:a==="active"?"active":"inactive"};await U.mutateAsync({tableName:"sales_bonus_rules",filters:pe})}catch(pe){console.error("Error exporting sales bonus rules:",pe)}},[U,t,a]),ae=[{id:"rule_info",label:"Rule Info",sortable:!1,render:(pe,he)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:`Rule ${he.id}`,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(S8,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsxs(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:["Rule #",he.id]}),e.jsxs(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:[he.sales_targets?.sales_targets_groups?.group_name||"Unknown Group"," ","-"," ",he.sales_targets?.sales_targets_product_categories?.category_name||"Unknown Category"]})]})]})},{id:"achievement_min_percent",label:"Min Achievement %",render:(pe,he)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(pp,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-xs",children:[he.achievement_min_percent,"%"]})]})},{id:"achievement_max_percent",label:"Max Achievement %",render:(pe,he)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(pp,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-xs",children:[he.achievement_max_percent,"%"]})]})},{id:"bonus_amount",label:"Bonus Amount",render:(pe,he)=>e.jsx(y,{className:"flex flex-col items-start",children:e.jsx(x,{variant:"body2",className:"!text-gray-900",children:O(he.bonus_amount)})})},{id:"bonus_percent",label:"Bonus Percent",render:(pe,he)=>e.jsx(y,{className:"flex flex-col items-start",children:he.bonus_percent?e.jsxs(x,{variant:"body2",className:"!text-gray-900",children:[he.bonus_percent,"%"]}):e.jsx(x,{variant:"body2",className:"!text-gray-400 italic",children:"No percent"})})},{id:"is_active",label:"Status",render:(pe,he)=>e.jsx(De,{icon:he.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:he.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:he.is_active==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(pe,he)=>Oe(he.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(pe,he)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>L(he),tooltip:`Edit Rule ${he.id}`}),S&&e.jsx(Vt,{onClick:()=>W(he.id),tooltip:`Delete Rule ${he.id}`,itemName:`Rule ${he.id}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Sales Bonus Rules Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage bonus rules for sales target achievements"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Rules",value:V,icon:e.jsx(S8,{className:"w-6 h-6"}),color:"blue",isLoading:R}),e.jsx(fe,{title:"Active Rules",value:Y,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:R}),e.jsx(fe,{title:"Inactive Rules",value:H,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:R}),e.jsx(fe,{title:"This Month",value:F,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:R})]}),z&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load sales bonus rules. Please try again."}),e.jsx(lt,{data:$,columns:ae,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[j&&e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx(as,{placeholder:"Search Sales Bonus Rules",value:t,onChange:X,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(_e,{value:a,onChange:pe=>n(pe.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[j&&e.jsx(Jt,{title:"Export Sales Bonus Rules",description:"Are you sure you want to export the current sales bonus rules data to Excel? This will include all filtered results.",onConfirm:se,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:U.isPending,children:U.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:M,children:"Create"})]})]}):!1,getRowId:pe=>pe.id,initialOrderBy:"achievement_min_percent",loading:R,totalCount:A,page:Q,rowsPerPage:f,onPageChange:te,isPermission:j,emptyMessage:t?`No sales bonus rules found matching "${t}"`:"No sales bonus rules found in the system"}),e.jsx(nEe,{selectedRule:r,setSelectedRule:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(KPe,{drawerOpen:c,setDrawerOpen:m})]})},iEe=async t=>{try{return(await ie.get("/sales-target-groups",{params:t})).data}catch(s){throw console.error("Error fetching sales target groups:",s),new Error(s.response?.data?.message||"Failed to fetch sales target groups")}},oEe=async t=>{try{return(await ie.get(`/sales-target-groups/${t}`)).data}catch(s){throw console.error("Error fetching sales target group:",s),new Error(s.response?.data?.message||"Failed to fetch sales target group")}},lEe=async t=>{try{return(await ie.post("/sales-target-groups",t)).data}catch(s){throw console.error("Error creating sales target group:",s),new Error(s.response?.data?.message||"Failed to create sales target group")}},cEe=async(t,s)=>{try{return(await ie.post("/sales-target-groups",{...s,id:t})).data}catch(a){throw console.error("Error updating sales target group:",a),new Error(a.response?.data?.message||"Failed to update sales target group")}},dEe=async t=>{try{return(await ie.delete(`/sales-target-groups/${t}`)).data}catch(s){throw console.error("Error deleting sales target group:",s),new Error(s.response?.data?.message||"Failed to delete sales target group")}},Go={all:["salesTargetGroups"],lists:()=>[...Go.all,"list"],list:t=>[...Go.lists(),t],details:()=>[...Go.all,"detail"],detail:t=>[...Go.details(),t]},JF=(t,s)=>nt({queryKey:Go.list(t||{}),queryFn:()=>iEe(t),staleTime:300*1e3,...s}),uEe=t=>nt({queryKey:Go.detail(t),queryFn:()=>oEe(t),enabled:!!t,staleTime:300*1e3}),mEe=t=>{const s=cs();return Re({mutationFn:lEe,loadingMessage:"Creating sales target group...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Go.lists()})},onError:t?.onError})},pEe=t=>{const s=cs();return Re({mutationFn:({id:a,...n})=>cEe(a,n),loadingMessage:"Updating sales target group...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Go.lists()}),s.invalidateQueries({queryKey:Go.detail(n.id)})},onError:t?.onError})},hEe=t=>{const s=cs();return Re({mutationFn:dEe,loadingMessage:"Deleting sales target group...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Go.lists()})},onError:t?.onError})},fEe=it({file:hs().required("Please select a file to import")}),xEe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:fEe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("sales_target_groups")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"sales_target_groups",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Sales Target Groups",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple sales target groups. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},gEe=it({group_name:me().required("Group name is required").min(2,"Group name must be at least 2 characters").max(255,"Group name must be less than 255 characters").trim(),description:me().max(500,"Description must be less than 500 characters").nullable().optional(),is_active:me().oneOf(["Y","N"],"Must be Y or N").required("Active status is required"),salesTargetMember:dl().of(it({id:Qe().optional(),sales_person_id:Qe().required("Sales person is required").positive("Sales person ID must be positive"),is_active:me().oneOf(["Y","N"],"Must be Y or N").default("Y")})).min(1,"At least one sales person must be selected").optional()}),yEe=({open:t,onClose:s,group:a})=>{const n=!!a,[r,i]=g.useState([]),{data:o}=uEe(a?.id||0),l=mEe(),c=pEe(),m=()=>{s(),i([]),u.resetForm()};Nt.useEffect(()=>{if(a&&o?.data){const j=o.data.sales_target_group_members?.map(b=>({sales_person_id:b.sales_person_id,is_active:b.is_active,id:b.id}))||[];i(j),u.setFieldValue("members",j)}else i([]),u.setFieldValue("members",[])},[a,o]);const u=ft({initialValues:{group_name:a?.group_name||"",description:a?.description||"",is_active:a?.is_active||"Y",members:[]},validationSchema:gEe,enableReinitialize:!0,onSubmit:async j=>{try{const b={...j,description:j.description,salesTargetMember:r.filter(w=>w.sales_person_id!=="").map(w=>({sales_person_id:Number(w.sales_person_id),is_active:w.is_active,...w.id&&{id:w.id}}))};n&&a?await c.mutateAsync({id:a.id,...b}):await l.mutateAsync(b),m()}catch(b){console.log("Error submitting sales target group:",b)}}}),h=()=>{const j={sales_person_id:"",is_active:"Y",id:null},b=[...r,j];i(b),u.setFieldValue("members",b)},f=j=>{const b=r.filter((w,C)=>C!==j);i(b),u.setFieldValue("members",b)},v=(j,b,w)=>{const C=[...r];C[j]={...C[j],[b]:w},i(C),u.setFieldValue("members",C)},_=r.map((j,b)=>({...j,_index:b})),S=[{id:"sales_person_id",label:"Sales Person",width:300,render:(j,b)=>e.jsx(hr,{name:"sales_person_id",label:"Sales Person",value:b.sales_person_id,setValue:w=>v(b._index,"sales_person_id",w.toString()),size:"small",fullWidth:!0})},{id:"is_active",label:"Status",width:120,render:(j,b)=>e.jsxs(_e,{value:b.is_active,onChange:w=>v(b._index,"is_active",w.target.value),size:"small",fullWidth:!0,label:"Status",children:[e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]})},{id:"actions",label:"Actions",sortable:!1,width:50,render:(j,b)=>e.jsx(Vt,{onClick:()=>f(b._index),tooltip:"Remove member",confirmDelete:!0,size:"medium",itemName:"member"})}];return e.jsx(ot,{open:t,setOpen:m,title:n?"Edit Sales Target Group":"Create Sales Target Group",size:"medium",children:e.jsx(y,{className:"!p-4",children:e.jsxs("form",{onSubmit:u.handleSubmit,className:"!space-y-4",children:[e.jsxs(y,{className:"!grid !grid-cols-1 !gap-5",children:[e.jsx(oe,{name:"group_name",label:"Group Name",placeholder:"Enter group name",formik:u,required:!0}),e.jsx(Ps,{name:"is_active",formik:u,required:!0}),e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter group description",formik:u,multiline:!0,rows:3})]}),e.jsxs(y,{className:"!space-y-3",children:[e.jsxs(y,{className:"!flex !justify-between !items-center",children:[e.jsx(x,{variant:"body1",className:"!font-semibold !text-gray-900",children:"Group Members"}),e.jsx(G,{type:"button",variant:"outlined",startIcon:e.jsx(Qn,{}),onClick:h,size:"small",children:"Add Member"})]}),r.length>0&&e.jsx(lt,{data:_,columns:S,getRowId:j=>j._index.toString(),pagination:!1,sortable:!1,emptyMessage:"No members added yet."}),r.length===0&&e.jsxs(y,{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(ua,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(x,{variant:"body2",children:'No members added yet. Click "Add Member" to get started.'})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2 !pt-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,disabled:l.isPending||c.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:l.isPending||c.isPending,children:l.isPending||c.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},bEe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("sales-target-group"),{data:b,isLoading:w,error:C}=JF({search:t,page:u,limit:f,status:a==="all"?void 0:a==="active"?"active":"inactive"},{enabled:j}),P=b?.data||[],E=b?.meta?.total||0,D=(b?.meta?.page||1)-1,T=hEe(),R=ms(),z=b?.stats?.total_groups??0,O=b?.stats?.active_groups??0,$=b?.stats?.inactive_groups??0,A=b?.stats?.sales_target_groups_this_month??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(F=>{i(F),l(!0)},[]),U=g.useCallback(async F=>{try{await T.mutateAsync(F)}catch(M){console.error("Error deleting sales target group:",M)}},[T]),B=g.useCallback(F=>{s(F),h(1)},[]),V=F=>{h(F+1)},Y=g.useCallback(async()=>{try{const F={search:t,status:a?a==="all"?void 0:a==="active"?"active":"inactive":void 0};await R.mutateAsync({tableName:"sales_target_groups",filters:F})}catch(F){console.error("Error exporting sales target groups:",F)}},[R,t,a]),H=[{id:"group_name",label:"Group Name",render:(F,M)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:M.group_name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(ua,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:M.group_name}),M.description&&e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:M.description})]})]})},{id:"sales_target_group_members",label:"Members",render:(F,M)=>e.jsxs(x,{variant:"body2",className:"!text-gray-900",children:[M.sales_target_group_members?.length||0," members"]})},{id:"is_active",label:"Status",render:F=>e.jsx(De,{icon:F==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:F==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:F==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(F,M)=>Oe(M.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(F,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(M),tooltip:`Edit ${M.group_name}`}),S&&e.jsx(Vt,{onClick:()=>U(M.id),tooltip:`Delete ${M.group_name}`,itemName:M.group_name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Sales Target Groups Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage sales target groups and assign sales personnel to groups"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Groups",value:z,icon:e.jsx(ua,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Groups",value:O,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Groups",value:$,icon:e.jsx(Na,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"This Month",value:A,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load sales target groups. Please try again."}),e.jsx(lt,{data:P,columns:H,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex items-center flex-wrap gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Sales Target Groups",value:t,onChange:B,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(_e,{value:a,onChange:F=>n(F.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[j&&e.jsx(Jt,{title:"Export Sales Target Groups",description:"Are you sure you want to export the current sales target groups data to Excel? This will include all filtered results.",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:F=>F.id,initialOrderBy:"group_name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:V,emptyMessage:t?`No sales target groups found matching "${t}"`:"No sales target groups found in the system"}),e.jsx(yEe,{open:o,onClose:()=>{l(!1),i(null)},group:r}),e.jsx(xEe,{drawerOpen:c,setDrawerOpen:m})]})},vEe=it({file:hs().required("Please select a file to import")}),jEe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:vEe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("sales-targets")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"sales_targets",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Sales Targets",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple sales targets. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},NEe=it({sales_target_group_id:Qe().required("Sales target group is required").positive("Sales target group must be selected"),product_category_id:Qe().required("Product category is required").positive("Product category must be selected"),target_quantity:Qe().required("Target quantity is required").min(1,"Target quantity must be at least 1").typeError("Target quantity must be a valid number"),target_amount:Qe().nullable().min(0,"Target amount must be non-negative").typeError("Target amount must be a valid number"),start_date:Ta().required("Start date is required").typeError("Start date must be a valid date"),end_date:Ta().required("End date is required").typeError("End date must be a valid date").when("start_date",(t,s)=>t&&t[0]?s.min(t[0],"End date must be after start date"):s),is_active:me().oneOf(["Y","N"],"Status must be Y or N").default("Y")}),wEe=({selectedTarget:t,setSelectedTarget:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,{data:i}=JF({page:1,status:"active",limit:1e3}),o=i?.data||[],{data:l}=Lp({page:1,status:"active",limit:1e3}),c=l?.data||[],m=eEe(),u=tEe(),h=()=>{s(null),n(!1),f.resetForm()},f=ft({initialValues:{sales_target_group_id:t?.sales_target_group_id||0,product_category_id:t?.product_category_id||0,target_quantity:t?.target_quantity||"",target_amount:t?.target_amount||"",start_date:t?.start_date?t.start_date.split("T")[0]:"",end_date:t?.end_date?t.end_date.split("T")[0]:"",is_active:t?.is_active||"Y"},validationSchema:NEe,enableReinitialize:!0,onSubmit:async v=>{try{const _={...v,sales_target_group_id:Number(v.sales_target_group_id),product_category_id:Number(v.product_category_id),target_quantity:Number(v.target_quantity),target_amount:v.target_amount?Number(v.target_amount):void 0};r&&t?await u.mutateAsync({id:t.id,data:_}):await m.mutateAsync(_),h()}catch(_){console.error("Error submitting sales target:",_)}}});return e.jsx(ot,{open:a,setOpen:h,title:r?"Edit Sales Target":"Create Sales Target",size:"large",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(_e,{name:"sales_target_group_id",label:"Sales Target Group",formik:f,required:!0,children:o.map(v=>e.jsx(Z,{value:v.id,children:v.group_name},v.id))}),e.jsx(_e,{name:"product_category_id",label:"Product Category",formik:f,required:!0,children:c.map(v=>e.jsx(Z,{value:v.id,children:v.category_name},v.id))}),e.jsx(oe,{name:"target_quantity",label:"Target Quantity",type:"number",placeholder:"Enter target quantity",formik:f,required:!0}),e.jsx(oe,{name:"target_amount",label:"Target Amount",type:"number",placeholder:"Enter target amount (optional)",formik:f}),e.jsx(oe,{name:"start_date",label:"Start Date",type:"date",formik:f,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(oe,{name:"end_date",label:"End Date",type:"date",formik:f,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(Ps,{name:"is_active",formik:f,required:!0})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,className:"!mr-3",disabled:m.isPending||u.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:m.isPending||u.isPending,children:m.isPending||u.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},_Ee=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{formatCurrency:v}=Qa(),{isCreate:_,isUpdate:S,isDelete:j,isRead:b}=Ze("sales-target"),{data:w,isLoading:C,error:P}=XF({search:t,page:u,limit:f,is_active:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:b}),E=w?.data||[],D=w?.meta?.total_count||0,T=w?.meta?.current_page||1,R=sEe(),z=ms(),O=w?.stats||{},$=O.total_sales_targets??E.length,A=O.active_sales_targets??E.filter(L=>L.is_active==="Y").length,Q=O.inactive_sales_targets??E.filter(L=>L.is_active==="N").length,K=O.sales_targets_this_month??0,U=g.useCallback(()=>{i(null),l(!0)},[]),B=g.useCallback(L=>{i(L),l(!0)},[]),V=g.useCallback(async L=>{try{await R.mutateAsync(L)}catch(W){console.error("Error deleting sales target:",W)}},[R]),Y=g.useCallback(L=>{s(L),h(1)},[]),H=L=>{h(L+1)},F=g.useCallback(async()=>{try{const L={search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"};await z.mutateAsync({tableName:"sales_targets",filters:L})}catch(L){console.error("Error exporting sales targets:",L)}},[z,t,a]),M=[{id:"target_info",label:"Target Info",sortable:!1,render:(L,W)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:`Target ${W.id}`,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(il,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:W.sales_target_group?.group_name||"Unknown Group"}),e.jsxs(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:["Qty: ",W.target_quantity," | Amount:"," ",W.target_amount?v(W.target_amount):"N/A"]})]})]})},{id:"product_category",label:"Product Category",sortable:!1,render:(L,W)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Wt,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:W.product_category?.category_name||"Unknown Category"})]})},{id:"period",label:"Period",sortable:!1,render:(L,W)=>{const X=Oe(W.start_date),te=Oe(W.end_date);return e.jsx(y,{className:"flex flex-col items-start",children:e.jsxs(y,{className:"flex items-center gap-1 mb-0.5",children:[e.jsx(_s,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-xs font-medium text-gray-800",children:[X," - ",te]})]})})}},{id:"target_quantity",label:"Quantity",render:(L,W)=>e.jsx(De,{label:W.target_quantity,size:"small",variant:"outlined",color:"primary"})},{id:"target_amount",label:"Amount",render:(L,W)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:W.target_amount?v(W.target_amount):"N/A"})},{id:"is_active",label:"Status",render:(L,W)=>e.jsx(De,{icon:W.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:W.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:W.is_active==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(L,W)=>Oe(W.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...S||j||b?[{id:"action",label:"Actions",sortable:!1,render:(L,W)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[S&&e.jsx(is,{onClick:()=>B(W),tooltip:`Edit Target ${W.id}`}),j&&e.jsx(Vt,{onClick:()=>V(W.id),tooltip:`Delete Target ${W.id}`,itemName:`Target ${W.id}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Sales Targets Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage sales targets for groups and product categories"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Targets",value:$,icon:e.jsx(il,{className:"w-6 h-6"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Active Targets",value:A,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Inactive Targets",value:Q,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:C}),e.jsx(fe,{title:"This Month",value:K,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:C})]}),P&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load sales targets. Please try again."}),e.jsx(lt,{data:E,columns:M,actions:b||_?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[b&&e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx(as,{placeholder:"Search Sales Targets",value:t,onChange:Y,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(_e,{value:a,onChange:L=>n(L.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[b&&e.jsx(Jt,{title:"Export Sales Targets",description:"Are you sure you want to export the current sales targets data to Excel? This will include all filtered results.",onConfirm:F,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:z.isPending,children:z.isPending?"Exporting...":"Export"})}),_&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),_&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:U,children:"Create"})]})]}):!1,getRowId:L=>L.id,initialOrderBy:"target_quantity",loading:C,totalCount:D,page:T,rowsPerPage:f,onPageChange:H,isPermission:b,emptyMessage:t?`No sales targets found matching "${t}"`:"No sales targets found in the system"}),e.jsx(wEe,{selectedTarget:r,setSelectedTarget:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(jEe,{drawerOpen:c,setDrawerOpen:m})]})},SEe=async t=>{try{return(await ie.get("/stock-movements",{params:t})).data}catch(s){throw new Error(s.response?.data?.message||"Failed to fetch stock movements")}},CEe=async t=>{try{return(await ie.post("/stock-movements",t)).data}catch(s){throw new Error(s.response?.data?.message||"Failed to save stock movement")}},kEe=async t=>{try{return(await ie.delete(`/stock-movements/${t}`)).data}catch(s){throw new Error(s.response?.data?.message||"Failed to delete stock movement")}},Bc={all:["stockMovements"],lists:()=>[...Bc.all,"list"],list:t=>[...Bc.lists(),t],details:()=>[...Bc.all,"detail"],detail:t=>[...Bc.details(),t]},PEe=(t,s)=>nt({queryKey:Bc.list(t||{}),queryFn:()=>SEe(t),staleTime:300*1e3,...s}),EEe=t=>{const s=cs();return Re({mutationFn:CEe,loadingMessage:"Saving stock movement...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Bc.lists()}),n.id&&s.invalidateQueries({queryKey:Bc.detail(n.id)})},onError:t?.onError})},TEe=t=>{const s=cs();return Re({mutationFn:kEe,loadingMessage:"Deleting stock movement...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Bc.lists()})},onError:t?.onError})},MEe=it({file:hs().required("Please select a file to import")}),DEe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:MEe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("stock_movements")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"stock_movements",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Stock Movements",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple stock movements. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},REe=async t=>{try{return(await ie.get("/van-inventory",{params:t})).data}catch(s){throw console.error("Error fetching van inventory:",s),new Error(s.response?.data?.message||"Failed to fetch van inventory")}},AEe=async t=>{try{return(await ie.get(`/van-inventory/${t}`)).data}catch(s){throw console.error("Error fetching van inventory:",s),new Error(s.response?.data?.message||"Failed to fetch van inventory")}},IEe=async t=>{try{return(await ie.post("/van-inventory",t)).data}catch(s){throw console.error("Error creating van inventory:",s),new Error(s.response?.data?.message||"Failed to create van inventory")}},OEe=async(t,s)=>{try{return(await ie.post("/van-inventory",{id:t,...s})).data}catch(a){throw console.error("Error updating van inventory:",a),new Error(a.response?.data?.message||"Failed to update van inventory")}},FEe=async t=>{try{return(await ie.delete(`/van-inventory/${t}`)).data}catch(s){throw console.error("Error deleting van inventory:",s),new Error(s.response?.data?.message||"Failed to delete van inventory")}},Um={all:["van-inventory"],lists:()=>[...Um.all,"list"],list:t=>[...Um.lists(),t],details:()=>[...Um.all,"detail"],detail:t=>[...Um.details(),t]},eL=(t,s)=>nt({queryKey:Um.list(t),queryFn:()=>REe(t),staleTime:300*1e3,...s}),tL=(t,s)=>nt({queryKey:Um.detail(t),queryFn:()=>AEe(t),enabled:!!t,staleTime:300*1e3,...s}),LEe=()=>Re({mutationFn:IEe,invalidateQueries:["van-inventory"],loadingMessage:"Creating van inventory..."}),zEe=()=>Re({mutationFn:({id:t,...s})=>OEe(t,s),invalidateQueries:["van-inventory"],loadingMessage:"Updating van inventory..."}),$Ee=()=>Re({mutationFn:FEe,invalidateQueries:["van-inventory"],loadingMessage:"Deleting van inventory..."}),qEe=it({product_id:Qe().required("Product is required").min(1,"Please select a valid product"),batch_id:Qe().nullable().min(1,"Batch ID must be a positive number"),serial_id:Qe().nullable().min(1,"Serial ID must be a positive number"),movement_type:me().required("Movement type is required").min(2,"Movement type must be at least 2 characters").max(50,"Movement type must be less than 50 characters"),reference_type:me().nullable().max(50,"Reference type must be less than 50 characters"),reference_id:Qe().nullable().min(1,"Reference ID must be a positive number"),from_location_id:Qe().nullable().min(1,"From location ID must be a positive number"),to_location_id:Qe().nullable().min(1,"To location ID must be a positive number").test("different-locations","From and To locations cannot be the same",function(t){const{from_location_id:s}=this.parent;return t&&s&&t===s?this.createError({message:"From and To locations cannot be the same",path:"to_location_id"}):!0}),quantity:Qe().required("Quantity is required").min(1,"Quantity must be a positive number").integer("Quantity must be a whole number"),movement_date:Ta().nullable().typeError("Please enter a valid date"),remarks:me().nullable().max(1e3,"Remarks must be less than 1000 characters"),van_inventory_id:Qe().nullable().min(1,"Van inventory ID must be a positive number"),is_active:me().required("Status is required").oneOf(["Y","N"],"Status must be Active or Inactive")}),BEe=({open:t,onClose:s,movement:a})=>{const n=!!a,{data:r}=eL({limit:1e3}),i=r?.data||[],o=EEe(),l=f=>{switch(f){case"L":return"Load";case"U":return"Unload";default:return f}},c=f=>{switch(f){case"D":return"Draft";case"A":return"Confirmed";case"C":return"Canceled";default:return f}},m=f=>{if(!f)return"";try{return new Date(f).toLocaleDateString()}catch{return""}},u=()=>{s(),h.resetForm()},h=ft({initialValues:{product_id:a?.product_id||"",batch_id:a?.batch_id||"",serial_id:a?.serial_id||"",movement_type:a?.movement_type||"",reference_type:a?.reference_type||"",reference_id:a?.reference_id||"",from_location_id:a?.from_location_id||"",to_location_id:a?.to_location_id||"",quantity:a?.quantity||"",movement_date:a?.movement_date||"",remarks:a?.remarks||"",van_inventory_id:a?.van_inventory_id||"",is_active:a?.is_active||"Y"},validationSchema:qEe,enableReinitialize:!0,onSubmit:async f=>{try{const v={...n&&a?{id:a.id}:{},product_id:Number(f.product_id),batch_id:f.batch_id?Number(f.batch_id):null,serial_id:f.serial_id?Number(f.serial_id):null,movement_type:f.movement_type,reference_type:f.reference_type||null,reference_id:f.reference_id?Number(f.reference_id):null,from_location_id:f.from_location_id?Number(f.from_location_id):null,to_location_id:f.to_location_id?Number(f.to_location_id):null,quantity:Number(f.quantity),movement_date:f.movement_date||null,remarks:f.remarks||null,van_inventory_id:f.van_inventory_id?Number(f.van_inventory_id):null,is_active:f.is_active};await o.mutateAsync(v),u()}catch(v){console.log("Error submitting stock movement:",v)}}});return e.jsx(ot,{open:t,setOpen:u,title:n?"Edit Stock Movement":"Create Stock Movement",size:"large",children:e.jsx(y,{className:"!p-4",children:e.jsxs("form",{onSubmit:h.handleSubmit,className:"!space-y-4",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5",children:[e.jsx(_o,{name:"product_id",label:"Product",formik:h,required:!0}),e.jsxs(_e,{name:"movement_type",label:"Movement Type",formik:h,required:!0,children:[e.jsx(Z,{value:"IN",children:"Stock In"}),e.jsx(Z,{value:"OUT",children:"Stock Out"}),e.jsx(Z,{value:"TRANSFER",children:"Transfer"})]}),e.jsx(oe,{name:"reference_type",label:"Reference Type",placeholder:"e.g., ORDER, PURCHASE, ADJUSTMENT",formik:h}),e.jsx(oe,{name:"reference_id",label:"Reference ID",placeholder:"Optional",formik:h,type:"number"}),e.jsx(oe,{name:"quantity",label:"Quantity",placeholder:"Enter quantity",formik:h,type:"number",required:!0}),e.jsx(oe,{name:"movement_date",label:"Movement Date",type:"date",formik:h,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(_e,{name:"van_inventory_id",label:"Van Inventory",formik:h,children:i.map(f=>{const v=[f.user?.name||"Unknown User",l(f.loading_type||"L"),c(f.status||"D"),f.vehicle?.vehicle_number?`- ${f.vehicle.vehicle_number}`:"",f.document_date?`(${m(f.document_date)})`:""].filter(Boolean).join(" ");return e.jsx(Z,{value:f.id,children:v},f.id)})}),e.jsx(Ps,{name:"is_active",formik:h,required:!0,className:"col-span-2"})]}),e.jsxs(y,{className:"!space-y-3",children:[e.jsx(x,{variant:"body1",className:"!font-semibold !text-gray-900",children:"Remarks"}),e.jsx(oe,{name:"remarks",label:"Remarks",placeholder:"Enter any additional remarks about this movement",formik:h,multiline:!0,rows:3})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2 !pt-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:u,disabled:o.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending,children:o.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},UEe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r]=g.useState("all"),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,u]=g.useState(!1),[h,f]=g.useState(1),[v]=g.useState(10),{isCreate:_,isUpdate:S,isDelete:j,isRead:b}=Ze("stock-movement"),{data:w,isLoading:C,error:P}=PEe({search:t,page:h,limit:v,status:a==="all"?void 0:a==="active"?"active":"inactive",movement_type:r==="all"?void 0:r},{enabled:b}),E=w?.data||[],D=w?.meta?.total||0,T=(w?.meta?.page||1)-1,R=TEe(),z=ms(),O=w?.stats?.total_stock_movements??0,$=w?.stats?.stock_movements_this_month??0,A=w?.stats?.total_in_movements??0,Q=w?.stats?.total_out_movements??0,K=g.useCallback(()=>{o(null),c(!0)},[]),U=g.useCallback(L=>{o(L),c(!0)},[]),B=g.useCallback(async L=>{try{await R.mutateAsync(L)}catch(W){console.error("Error deleting stock movement:",W)}},[R]),V=g.useCallback(L=>{s(L),f(1)},[]),Y=L=>{f(L+1)},H=g.useCallback(async()=>{try{const L={search:t,status:a==="all"?void 0:a==="active"?"active":"inactive",movement_type:r==="all"?void 0:r};await z.mutateAsync({tableName:"stock_movements",filters:L})}catch(L){console.error("Error exporting stock movements:",L)}},[z,t,a,r]),F=L=>{switch(L?.toUpperCase()){case"IN":return e.jsx(w8,{className:"w-4 h-4 text-green-600"});case"OUT":return e.jsx(_8,{className:"w-4 h-4 text-red-600"});case"TRANSFER":return e.jsx(xN,{className:"w-4 h-4 text-blue-600"});default:return e.jsx(xN,{className:"w-4 h-4 text-gray-600"})}},M=[{id:"movement_type",label:"Movement",render:(L,W)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:W.movement_type,className:"!rounded !bg-primary-100 !text-primary-600",sx:{width:32,height:32},children:F(W.movement_type)}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:Wd(W.movement_type)}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:W.reference_type?`${Wd(W.reference_type)} #${String(W.reference_id)}`:"Direct Movement"})]})]})},{id:"product",label:"Product",render:(L,W)=>e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:W.product?.name||`ID: ${W.product_id}`}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:W.product?.code||"No Code"})]})},{id:"quantity",label:"Quantity",render:(L,W)=>e.jsx(y,{className:"!text-center",children:e.jsxs(x,{variant:"body2",className:`${W.movement_type?.toUpperCase()==="IN"?"!text-green-600":W.movement_type?.toUpperCase()==="OUT"?"!text-red-600":"!text-blue-600"}`,children:[W.movement_type?.toUpperCase()==="IN"?"+":W.movement_type?.toUpperCase()==="OUT"?"-":""," ",W.quantity]})})},{id:"locations",label:"Locations",render:(L,W)=>e.jsxs(y,{children:[W.from_location&&e.jsxs(x,{variant:"caption",className:"!text-gray-500 !block",children:["From: ",W.from_location.name]}),W.to_location&&e.jsxs(x,{variant:"caption",className:"!text-gray-500 !block",children:["To: ",W.to_location.name]}),!W.from_location&&!W.to_location&&e.jsx(x,{variant:"caption",className:"!text-gray-400 !italic",children:"No location specified"})]})},{id:"movement_date",label:"Date",render:(L,W)=>Oe(W.movement_date)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},{id:"is_active",label:"Active",render:L=>e.jsx(De,{icon:L==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:L==="Y"?"Active":"Inactive",size:"small",className:"w-20",variant:"outlined",color:L==="Y"?"success":"error"})},{id:"createdate",label:"Created",render:(L,W)=>Oe(W.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...S||j||b?[{id:"action",label:"Actions",sortable:!1,render:(L,W)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[S&&e.jsx(is,{onClick:()=>U(W),tooltip:`Edit movement ${W.id}`}),j&&e.jsx(Vt,{onClick:()=>B(W.id),tooltip:`Delete movement ${W.id}`,itemName:`movement ${W.id}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Stock Movements Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track and manage all stock movements including in, out, and transfer operations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Movements",value:O,icon:e.jsx(xN,{className:"w-6 h-6"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Stock In",value:A,icon:e.jsx(w8,{className:"w-6 h-6"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Stock Out",value:Q,icon:e.jsx(_8,{className:"w-6 h-6"}),color:"red",isLoading:C}),e.jsx(fe,{title:"This Month",value:$,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:C})]}),P&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load stock movements. Please try again."}),e.jsx(lt,{data:E,columns:M,actions:b||_?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[b&&e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx(as,{placeholder:"Search Stock Movements",value:t,onChange:V,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(_e,{value:a,onChange:L=>n(L.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[b&&e.jsx(Jt,{title:"Export Stock Movements",description:"Are you sure you want to export the current stock movements data to Excel? This will include all filtered results.",onConfirm:H,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:z.isPending,children:z.isPending?"Exporting...":"Export"})}),_&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>u(!0),children:"Import"}),_&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:L=>L.id,initialOrderBy:"createdate",loading:C,totalCount:D,page:T,rowsPerPage:v,onPageChange:Y,isPermission:b,emptyMessage:t?`No stock movements found matching "${t}"`:"No stock movements found in the system"}),e.jsx(BEe,{open:l,onClose:()=>{c(!1),o(null)},movement:i}),e.jsx(DEe,{drawerOpen:m,setDrawerOpen:u})]})},VEe=async t=>{try{return(await ie.get("/stock-transfer-requests",{params:t})).data}catch(s){throw console.error("Error fetching stock transfer requests:",s),new Error(s.response?.data?.message||"Failed to fetch stock transfer requests")}},HEe=async t=>{try{return(await ie.get(`/stock-transfer-requests/${t}`)).data}catch(s){throw console.error("Error fetching stock transfer request:",s),new Error(s.response?.data?.message||"Failed to fetch stock transfer request")}},WEe=async t=>{try{return(await ie.post("/stock-transfer-requests",t)).data}catch(s){throw console.error("Error upserting stock transfer request:",s),new Error(s.response?.data?.message||"Failed to save stock transfer request")}},YEe=async t=>{try{return(await ie.delete(`/stock-transfer-requests/${t}`)).data}catch(s){throw console.error("Error deleting stock transfer request:",s),new Error(s.response?.data?.message||"Failed to delete stock transfer request")}},Hl={all:["stockTransferRequests"],lists:()=>[...Hl.all,"list"],list:t=>[...Hl.lists(),t],details:()=>[...Hl.all,"detail"],detail:t=>[...Hl.details(),t]},GEe=(t,s)=>nt({queryKey:Hl.list(t||{}),queryFn:()=>VEe(t),staleTime:300*1e3,...s}),KEe=t=>nt({queryKey:Hl.detail(t),queryFn:()=>HEe(t),enabled:!!t,staleTime:300*1e3}),QEe=t=>{const s=cs();return Re({mutationFn:WEe,loadingMessage:"Saving stock transfer request...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Hl.lists()}),n.id&&s.invalidateQueries({queryKey:Hl.detail(n.id)})},onError:t?.onError})},ZEe=t=>{const s=cs();return Re({mutationFn:YEe,loadingMessage:"Deleting stock transfer request...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Hl.lists()})},onError:t?.onError})},XEe=it({file:hs().required("Please select a file to import")}),JEe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:XEe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("stock_transfer_requests")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"stock_transfer_requests",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Stock Transfer Requests",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple stock transfer requests. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},e8e=async t=>{try{return(await ie.get("/warehouses",{params:t})).data}catch(s){throw console.error("Error fetching warehouses:",s),new Error(s.response?.data?.message||"Failed to fetch warehouses")}},t8e=async t=>{try{return(await ie.post("/warehouses",t)).data}catch(s){throw console.error("Error creating warehouse:",s),new Error(s.response?.data?.message||"Failed to create warehouse")}},s8e=async(t,s)=>{try{return(await ie.put(`/warehouses/${t}`,s)).data}catch(a){throw console.error("Error updating warehouse:",a),new Error(a.response?.data?.message||"Failed to update warehouse")}},a8e=async t=>{try{return(await ie.delete(`/warehouses/${t}`)).data}catch(s){throw console.error("Error deleting warehouse:",s),new Error(s.response?.data?.message||"Failed to delete warehouse")}},zf={all:["warehouses"],lists:()=>[...zf.all,"list"],list:t=>[...zf.lists(),t],details:()=>[...zf.all,"detail"],detail:t=>[...zf.details(),t]},sL=(t,s)=>nt({queryKey:zf.list(t),queryFn:()=>e8e(t),staleTime:300*1e3,...s}),n8e=()=>Re({mutationFn:t8e,invalidateQueries:["warehouses"],loadingMessage:"Creating warehouse..."}),r8e=()=>Re({mutationFn:({id:t,...s})=>s8e(t,s),invalidateQueries:["warehouses"],loadingMessage:"Updating warehouse..."}),i8e=()=>Re({mutationFn:a8e,invalidateQueries:["warehouses"],loadingMessage:"Deleting warehouse..."}),o8e=it({source_type:me().required("Source type is required").min(2,"Source type must be at least 2 characters").max(50,"Source type must be less than 50 characters"),source_id:Qe().required("Source ID is required").positive("Source ID must be a positive number").integer("Source ID must be an integer"),destination_type:me().required("Destination type is required").min(2,"Destination type must be at least 2 characters").max(50,"Destination type must be less than 50 characters"),destination_id:Qe().required("Destination ID is required").positive("Destination ID must be a positive number").integer("Destination ID must be an integer").test("different-from-source","Source and destination cannot be the same",function(t){const{source_id:s}=this.parent;return t!==s}),requested_by:Qe().required("Requested by is required").positive("Requested by must be a positive number").integer("Requested by must be an integer"),status:me().oneOf(["pending","approved","rejected","in_progress","completed"],"Invalid status").optional(),approved_by:Qe().positive("Approved by must be a positive number").integer("Approved by must be an integer").nullable().optional(),approved_at:Ta().nullable().optional(),is_active:me().oneOf(["Y","N"],"Must be Y or N").default("Y"),stock_transfer_lines:dl().of(it({product_id:Qe().required("Product ID is required").positive("Product ID must be a positive number").integer("Product ID must be an integer"),batch_id:Qe().positive("Batch ID must be a positive number").integer("Batch ID must be an integer").nullable().optional(),quantity:Qe().required("Quantity is required").positive("Quantity must be a positive number").min(1,"Quantity must be at least 1")})).min(1,"At least one transfer line is required").required("Transfer lines are required")}),l8e=({open:t,onClose:s,request:a})=>{const n=!!a,[r,i]=g.useState([]),{data:o}=er({limit:1e3}),{data:l}=sL({limit:1e3}),{data:c}=KEe(a?.id||0),m=o?.data||[],u=l?.data||[],h=QEe(),f=()=>{s(),i([]),v.resetForm()};Nt.useEffect(()=>{if(a&&c?.data){const C=c.data.transfer_lines?.map(P=>({product_id:P.product_id,batch_id:P.batch_id||"",quantity:P.quantity,id:P.id}))||[];i(C),v.setFieldValue("stock_transfer_lines",C)}else i([]),v.setFieldValue("stock_transfer_lines",[])},[a,c]);const v=ft({initialValues:{source_type:a?.source_type||"",source_id:a?.source_id||"",destination_type:a?.destination_type||"",destination_id:a?.destination_id||"",requested_by:a?.requested_by||"",status:a?.status||"pending",approved_by:a?.approved_by||"",approved_at:a?.approved_at||"",is_active:a?.is_active||"Y",stock_transfer_lines:[]},validationSchema:o8e,enableReinitialize:!0,onSubmit:async C=>{try{const P={...n&&a?{id:a.id}:{},source_type:C.source_type,source_id:Number(C.source_id),destination_type:C.destination_type,destination_id:Number(C.destination_id),requested_by:Number(C.requested_by),status:C.status,approved_by:C.approved_by?Number(C.approved_by):null,approved_at:C.approved_at||null,is_active:C.is_active,stock_transfer_lines:r.filter(E=>E.product_id!==""&&E.quantity!=="").map(E=>({product_id:Number(E.product_id),batch_id:E.batch_id?Number(E.batch_id):null,quantity:Number(E.quantity),...E.id&&{id:E.id}}))};await h.mutateAsync(P),f()}catch(P){console.log("Error submitting stock transfer request:",P)}}}),_=()=>{const C={product_id:"",batch_id:"",quantity:0,id:null},P=[...r,C];i(P),v.setFieldValue("stock_transfer_lines",P)},S=C=>{const P=r.filter((E,D)=>D!==C);i(P),v.setFieldValue("stock_transfer_lines",P)},j=(C,P,E)=>{const D=[...r];P==="quantity"?D[C]={...D[C],[P]:E===""?0:Number(E)}:D[C]={...D[C],[P]:E},i(D),v.setFieldValue("stock_transfer_lines",D)},b=r.map((C,P)=>({...C,_index:P})),w=[{id:"product_id",label:"Product",width:300,render:(C,P)=>e.jsx(_o,{value:P.product_id,onChange:(E,D)=>j(P._index,"product_id",D?D.id:""),size:"small",fullWidth:!0,label:"Product"})},{id:"batch_id",label:"Batch ID",width:150,render:(C,P)=>e.jsx(oe,{value:P.batch_id,onChange:E=>j(P._index,"batch_id",E.target.value),size:"small",fullWidth:!0,label:"Batch ID",type:"number",placeholder:"Optional"})},{id:"quantity",label:"Quantity",width:120,render:(C,P)=>e.jsx(oe,{value:P.quantity||0,onChange:E=>j(P._index,"quantity",E.target.value),size:"small",fullWidth:!0,label:"Quantity",type:"number",required:!0})},{id:"actions",label:"Actions",sortable:!1,width:50,render:(C,P)=>e.jsx(Vt,{onClick:()=>S(P._index),tooltip:"Remove line",confirmDelete:!0,size:"medium",itemName:"transfer line"})}];return e.jsx(ot,{open:t,setOpen:f,title:n?"Edit Stock Transfer Request":"Create Stock Transfer Request",size:"large",children:e.jsx(y,{className:"!p-4",children:e.jsxs("form",{onSubmit:v.handleSubmit,className:"!space-y-4",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5",children:[e.jsx(oe,{name:"source_type",label:"Source Type",placeholder:"e.g., Warehouse, Store",formik:v,required:!0}),e.jsx(_e,{name:"source_id",label:"Source Location",formik:v,required:!0,children:u.map(C=>e.jsx(Z,{value:C.id,children:C.name},C.id))}),e.jsx(oe,{name:"destination_type",label:"Destination Type",placeholder:"e.g., Warehouse, Store",formik:v,required:!0}),e.jsx(_e,{name:"destination_id",label:"Destination Location",formik:v,required:!0,children:u.map(C=>e.jsx(Z,{value:C.id,children:C.name},C.id))}),e.jsx(_e,{name:"requested_by",label:"Requested By",formik:v,required:!0,children:m.map(C=>e.jsxs(Z,{value:C.id,children:[C.name," (",C.email,")"]},C.id))}),e.jsxs(_e,{name:"status",label:"Status",formik:v,children:[e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"approved",children:"Approved"}),e.jsx(Z,{value:"rejected",children:"Rejected"}),e.jsx(Z,{value:"in_progress",children:"In Progress"}),e.jsx(Z,{value:"completed",children:"Completed"})]}),e.jsxs(_e,{name:"approved_by",label:"Approved By",formik:v,children:[e.jsx(Z,{value:"",children:"Not Approved"}),m.map(C=>e.jsxs(Z,{value:C.id,children:[C.name," (",C.email,")"]},C.id))]}),e.jsx(oe,{name:"approved_at",label:"Approved At",type:"datetime-local",formik:v}),e.jsxs(_e,{name:"is_active",label:"Status",formik:v,required:!0,children:[e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]})]}),e.jsxs(y,{className:"!space-y-3",children:[e.jsxs(y,{className:"!flex !justify-between !items-center",children:[e.jsx(x,{variant:"body1",className:"!font-semibold !text-gray-900",children:"Transfer Lines"}),e.jsx(G,{type:"button",variant:"outlined",startIcon:e.jsx(Qn,{}),onClick:_,size:"small",children:"Add Line"})]}),r.length>0&&e.jsx(lt,{data:b,columns:w,getRowId:C=>C._index.toString(),pagination:!1,sortable:!1,emptyMessage:"No transfer lines added yet."}),r.length===0&&e.jsxs(y,{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(Wt,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(x,{variant:"body2",children:'No transfer lines added yet. Click "Add Line" to get started.'})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2 !pt-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:f,disabled:h.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:h.isPending,children:h.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},c8e=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("stock-transfer"),{data:b,isLoading:w,error:C}=GEe({search:t,page:u,limit:f,status:a==="all"?void 0:a==="active"?"active":"inactive"},{enabled:j}),P=b?.data||[],E=b?.meta?.total||0,D=(b?.meta?.page||1)-1,T=ZEe(),R=ms(),z=b?.stats?.total_requests??0,O=b?.stats?.active_requests??0,$=b?.stats?.inactive_requests??0,A=b?.stats?.requests_this_month??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(L=>{i(L),l(!0)},[]),U=g.useCallback(async L=>{try{await T.mutateAsync(L)}catch(W){console.error("Error deleting stock transfer request:",W)}},[T]),B=g.useCallback(L=>{s(L),h(1)},[]),V=L=>{h(L+1)},Y=g.useCallback(async()=>{try{const L={search:t,status:a==="all"?void 0:a==="active"?"active":"inactive"};await R.mutateAsync({tableName:"stock_transfer_requests",filters:L})}catch(L){console.error("Error exporting stock transfer requests:",L)}},[R,t,a]),H=L=>{switch(L?.toLowerCase()){case"pending":return"warning";case"approved":return"success";case"rejected":return"error";case"in_progress":return"info";case"completed":return"success";default:return"default"}},F=L=>{switch(L?.toLowerCase()){case"pending":return"Pending";case"approved":return"Approved";case"rejected":return"Rejected";case"in_progress":return"In Progress";case"completed":return"Completed";default:return L||"Unknown"}},M=[{id:"request_number",label:"Request Number",render:(L,W)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:W.request_number,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Wr,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:W.request_number}),e.jsxs(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:[W.source_type,"  ",W.destination_type]})]})]})},{id:"source",label:"Source",render:(L,W)=>e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:W.source?.name||`ID: ${W.source_id}`}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:W.source_type})]})},{id:"destination",label:"Destination",render:(L,W)=>e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:W.destination?.name||`ID: ${W.destination_id}`}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:W.destination_type})]})},{id:"requested_by_user",label:"Requested By",render:(L,W)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:W.requested_by_user?.name||"Unknown",className:"!rounded !bg-primary-100 !text-primary-600",sx:{width:32,height:32},children:W.requested_by_user?.name?.charAt(0)||"?"}),e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:W.requested_by_user?.name||"Unknown User"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:W.requested_by_user?.email||`ID: ${W.requested_by}`})]})]})},{id:"status",label:"Status",render:(L,W)=>e.jsx(De,{label:F(W.status||"pending"),size:"small",className:"w-24",variant:"outlined",color:H(W.status||"pending")})},{id:"transfer_lines",label:"Items",render:(L,W)=>e.jsxs(x,{variant:"body2",className:"!text-gray-900",children:[W.transfer_lines?.length||0," items"]})},{id:"is_active",label:"Active",render:L=>e.jsx(De,{icon:L==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:L==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:L==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(L,W)=>Oe(W.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(L,W)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(W),tooltip:`Edit ${W.request_number}`}),S&&e.jsx(Vt,{onClick:()=>U(W.id),tooltip:`Delete ${W.request_number}`,itemName:W.request_number,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Stock Transfer Requests Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage stock transfer requests between warehouses and locations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Requests",value:z,icon:e.jsx(Wr,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Requests",value:O,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Requests",value:$,icon:e.jsx(Na,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"This Month",value:A,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load stock transfer requests. Please try again."}),e.jsx(lt,{data:P,columns:M,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[j&&e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx(as,{placeholder:"Search Stock Transfer Requests",value:t,onChange:B,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(_e,{value:a,onChange:L=>n(L.target.value),className:"!min-w-32",size:"small",children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[j&&e.jsx(Jt,{title:"Export Stock Transfer Requests",description:"Are you sure you want to export the current stock transfer requests data to Excel? This will include all filtered results.",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:L=>L.id,initialOrderBy:"request_number",loading:w,totalCount:E,page:D,rowsPerPage:f,onPageChange:V,isPermission:j,emptyMessage:t?`No stock transfer requests found matching "${t}"`:"No stock transfer requests found in the system"}),e.jsx(l8e,{open:o,onClose:()=>{l(!1),i(null)},request:r}),e.jsx(JEe,{drawerOpen:c,setDrawerOpen:m})]})},d8e=async t=>{try{return(await ie.get("/surveys",{params:t})).data}catch(s){throw s}},u8e=async t=>{try{return(await ie.get(`/surveys/${t}`)).data.data}catch(s){throw s}},m8e=async t=>(await ie.post("/surveys",t)).data,p8e=async t=>(await ie.delete(`/surveys/${t}`)).data,Wl={all:["surveys"],lists:()=>[...Wl.all,"list"],list:t=>[...Wl.lists(),t],details:()=>[...Wl.all,"detail"],detail:t=>[...Wl.details(),t]},aL=(t,s)=>nt({queryKey:Wl.list(t||{}),queryFn:()=>d8e(t),staleTime:300*1e3,...s}),h8e=t=>nt({queryKey:Wl.detail(t),queryFn:()=>u8e(t),enabled:!!t,staleTime:300*1e3}),f8e=t=>{const s=cs();return Re({mutationFn:m8e,loadingMessage:"Saving survey...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Wl.lists()}),n.id&&s.invalidateQueries({queryKey:Wl.detail(n.id)})},onError:t?.onError})},x8e=t=>{const s=cs();return Re({mutationFn:p8e,loadingMessage:"Deleting survey...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Wl.lists()})},onError:t?.onError})},g8e=it({file:hs().required("Please select a file to import")}),y8e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:g8e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("surveys")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"surveys",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Surveys",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple surveys. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},b8e=it().shape({title:me().required("Survey title is required").min(2,"Survey title must be at least 2 characters").max(255,"Survey title must be at most 255 characters"),description:me().max(1e3,"Description must be at most 1000 characters").nullable(),category:me().oneOf(["cooler_inspection","customer_feedback","outlet_audit","competitor_analysis","brand_visibility","general"],"Category must be a valid survey category").required("Category is required"),target_roles:me().nullable(),expires_at:Ta().nullable(),is_active:me().oneOf(["Y","N"],"Status must be Y or N").required("Status is required"),fields:dl().of(it().shape({label:me().required("Field label is required"),field_type:me().oneOf(["text","textarea","number","select","checkbox","radio","date","time","photo","signature"],"Invalid field type").required("Field type is required"),options:me().nullable(),is_required:IO(),sort_order:Qe().integer()})).optional()}),v8e=({selectedSurvey:t,setSelectedSurvey:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,[i,o]=g.useState([]),{data:l,isLoading:c}=a3(),m=l?.data||[],u=()=>{s(null),n(!1),o([]),f.resetForm()},h=f8e();Nt.useEffect(()=>{if(t?.fields&&t.fields.length>0){const w=t.fields.map(C=>({label:C.label,field_type:C.field_type||"text",options:C.options||null,is_required:C.is_required??!1,sort_order:C.sort_order||0,id:C.id||null}));o(w)}else o([])},[t]);const f=ft({initialValues:{title:t?.title||"",description:t?.description||"",category:t?.category||"general",target_roles:t?.target_roles!==null&&t?.target_roles!==void 0?String(t.target_roles):"",expires_at:t?.expires_at?new Date(t.expires_at).toISOString().split("T")[0]:"",is_active:t?.is_active||"Y"},validationSchema:b8e,enableReinitialize:!0,onSubmit:async w=>{try{const C={...r&&t?{id:t.id}:{},title:w.title,description:w.description,category:w.category,target_roles:w.target_roles&&w.target_roles!==""?Number(w.target_roles):void 0,expires_at:w.expires_at?new Date(w.expires_at).toISOString():void 0,is_active:w.is_active,survey_fields:i.filter(P=>P.label.trim()!=="").map((P,E)=>({...P.id?{id:P.id}:{},label:P.label.trim(),field_type:P.field_type,options:P.options||null,is_required:P.is_required,sort_order:P.sort_order||E+1}))};await h.mutateAsync(C),u()}catch(C){console.error("Error saving survey:",C)}}}),v=()=>{const w={label:"",field_type:"text",options:null,is_required:!1,sort_order:i.length+1,id:null};o([...i,w])},_=w=>{const C=i.filter((P,E)=>E!==w);o(C)},S=(w,C,P)=>{const E=[...i];E[w]={...E[w],[C]:P},o(E)},j=i.map((w,C)=>({...w,_index:C})),b=[{id:"label",label:"Label",width:200,render:(w,C)=>e.jsx(oe,{value:C.label,onChange:P=>S(C._index,"label",P.target.value),size:"small",fullWidth:!0,label:"Field Label",placeholder:"Enter field label"})},{id:"field_type",label:"Type",width:150,render:(w,C)=>e.jsxs(_e,{value:C.field_type,onChange:P=>S(C._index,"field_type",P.target.value),size:"small",fullWidth:!0,label:"Field Type",children:[e.jsx(Z,{value:"text",children:"Text"}),e.jsx(Z,{value:"number",children:"Number"}),e.jsx(Z,{value:"checkbox",children:"Checkbox"}),e.jsx(Z,{value:"radio",children:"Radio"})]})},{id:"options",label:"Options",width:200,render:(w,C)=>e.jsx(oe,{value:C.options||"",onChange:P=>S(C._index,"options",P.target.value),size:"small",fullWidth:!0,label:"Options",placeholder:"Comma-separated for select/radio",disabled:C.field_type!=="radio"&&C.field_type!=="checkbox"})},{id:"is_required",label:"Required",width:100,render:(w,C)=>e.jsxs(_e,{value:C.is_required?"true":"false",onChange:P=>S(C._index,"is_required",P.target.value==="true"),size:"small",fullWidth:!0,label:"Required",children:[e.jsx(Z,{value:"true",children:"Yes"}),e.jsx(Z,{value:"false",children:"No"})]})},{id:"actions",label:"Actions",sortable:!1,width:80,render:(w,C)=>e.jsx(Vt,{onClick:()=>_(C._index),tooltip:"Remove field",confirmDelete:!0,size:"medium",itemName:"field"})}];return e.jsx(ot,{open:a,setOpen:u,title:r?"Edit Survey":"Create Survey",size:"large",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"title",label:"Survey Title",placeholder:"Enter survey title",formik:f,required:!0}),e.jsxs(_e,{name:"category",label:"Category",formik:f,required:!0,children:[e.jsx(Z,{value:"general",children:"General"}),e.jsx(Z,{value:"cooler_inspection",children:"Cooler Inspection"}),e.jsx(Z,{value:"customer_feedback",children:"Customer Feedback"}),e.jsx(Z,{value:"outlet_audit",children:"Outlet Audit"}),e.jsx(Z,{value:"competitor_analysis",children:"Competitor Analysis"}),e.jsx(Z,{value:"brand_visibility",children:"Brand Visibility"})]}),e.jsxs(_e,{name:"target_roles",label:"Target Role",formik:f,disabled:c,children:[e.jsx(Z,{value:"",children:"Select a role (Optional)"}),m.map(w=>e.jsx(Z,{value:String(w.id),children:w.name},w.id))]}),e.jsx(oe,{name:"expires_at",label:"Expiry Date",placeholder:"Select expiry date",formik:f,type:"date"}),e.jsx(Ps,{name:"is_active",formik:f,required:!0,className:"col-span-2"}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter survey description",formik:f,multiline:!0,rows:4})})]}),e.jsxs(y,{className:"!space-y-3",children:[e.jsxs(y,{className:"!flex !justify-between !items-center",children:[e.jsx(x,{variant:"body1",className:"!font-semibold !text-gray-900",children:"Survey Fields"}),e.jsx(G,{type:"button",variant:"outlined",startIcon:e.jsx(Qn,{}),onClick:v,size:"small",children:"Add Field"})]}),i.length>0&&e.jsx(lt,{data:j,columns:b,getRowId:w=>w._index.toString(),pagination:!1,sortable:!1,emptyMessage:"No survey fields added yet."}),i.length===0&&e.jsxs(y,{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(Cs,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(x,{variant:"body2",children:'No survey fields added yet. Click "Add Field" to get started.'})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:u,className:"!mr-3",disabled:h.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:h.isPending,children:[h.isPending?r?"Updating...":"Creating...":r?"Update":"Create"," ","Survey"]})]})]})})})},j8e=()=>{const t=Gs(),[s,a]=g.useState(""),[n,r]=g.useState("all"),[i,o]=g.useState("all"),[l,c]=g.useState(null),[m,u]=g.useState(!1),[h,f]=g.useState(!1),[v,_]=g.useState(1),[S]=g.useState(10),{isCreate:j,isUpdate:b,isDelete:w,isRead:C}=Ze("survey"),{data:P,isLoading:E,error:D}=aL({search:s,page:v,limit:S,status:n==="all"?void 0:n,category:i==="all"?void 0:i},{enabled:C}),T=P?.data||[],R=P?.meta?.total||0,z=(P?.meta?.page||1)-1,O=x8e(),$=ms(),A=P?.stats?.total_surveys??T.length,Q=P?.stats?.published_surveys??0,K=P?.stats?.active_surveys??0,U=P?.stats?.total_responses??0,B=g.useCallback(()=>{c(null),u(!0)},[]),V=g.useCallback(se=>{c(se),u(!0)},[]),Y=g.useCallback(se=>{t(`/masters/surveys/${se.id}`)},[t]),H=g.useCallback(async se=>{try{await O.mutateAsync(se)}catch(ae){console.error("Error deleting survey:",ae)}},[O]),F=g.useCallback(se=>{a(se),_(1)},[]),M=se=>{_(se+1)},L=g.useCallback(async()=>{try{const se={search:s,status:n==="all"?void 0:n,category:i==="all"?void 0:i};await $.mutateAsync({tableName:"surveys",filters:se})}catch(se){console.error("Error exporting surveys:",se)}},[$,s,n,i]),W=se=>({cooler_inspection:"primary",customer_feedback:"success",outlet_audit:"secondary",competitor_analysis:"error",brand_visibility:"warning",general:"default"})[se]||"default",X=se=>({cooler_inspection:"Cooler Inspection",customer_feedback:"Customer Feedback",outlet_audit:"Outlet Audit",competitor_analysis:"Competitor Analysis",brand_visibility:"Brand Visibility",general:"General"})[se]||se,te=[{id:"title",label:"Survey Info",render:(se,ae)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:ae.title,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Cs,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:ae.title}),ae.description&&e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",title:ae.description,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",cursor:"help",width:"250px"},children:ae.description})]})]})},{id:"category",label:"Category",render:(se,ae)=>e.jsx(De,{label:X(ae.category),color:W(ae.category),size:"small"})},{id:"target_roles",label:"Target Roles",render:(se,ae)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(ua,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:ae.target_roles||"No roles specified"})]})},{id:"status",label:"Status",render:(se,ae)=>e.jsxs(y,{className:"flex gap-2 items-center",children:[e.jsx(De,{icon:ae.is_published?e.jsx(Eb,{fontSize:"small"}):e.jsx(c_,{fontSize:"small"}),label:ae.is_published?"Published":"Draft",size:"small",variant:"outlined",color:ae.is_published?"success":"warning"}),e.jsx(De,{icon:ae.is_active==="Y"?e.jsx(pt,{fontSize:"small"}):e.jsx(St,{fontSize:"small"}),label:ae.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:ae.is_active==="Y"?"success":"error"})]})},{id:"response_count",label:"Responses",render:(se,ae)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(ed,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs font-medium",children:ae.response_count||0})]})},{id:"createdate",label:"Created Date",render:(se,ae)=>Oe(typeof ae.createdate=="string"?ae.createdate:ae.createdate?.toString()||"")||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...b||w||C?[{id:"action",label:"Actions",sortable:!1,render:(se,ae)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[C&&e.jsx(Ka,{onClick:()=>Y(ae),tooltip:`View ${ae.title}`,icon:e.jsx(Cr,{fontSize:"small"}),color:"info"}),b&&e.jsx(is,{onClick:()=>V(ae),tooltip:`Edit ${ae.title}`}),w&&e.jsx(Vt,{onClick:()=>H(ae.id),tooltip:`Delete ${ae.title}`,itemName:ae.title,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Survey Builder"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Create and manage dynamic surveys for field operations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Surveys",value:A,icon:e.jsx(Cs,{className:"w-6 h-6"}),color:"blue",isLoading:E}),e.jsx(fe,{title:"Published",value:Q,icon:e.jsx(Eb,{className:"w-6 h-6"}),color:"green",isLoading:E}),e.jsx(fe,{title:"Active",value:K,icon:e.jsx(xu,{className:"w-6 h-6"}),color:"purple",isLoading:E}),e.jsx(fe,{title:"Total Responses",value:U,icon:e.jsx(ed,{className:"w-6 h-6"}),color:"teal",isLoading:E})]}),D&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load surveys. Please try again."}),e.jsx(lt,{data:T,columns:te,actions:C||j?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[C&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(as,{placeholder:"Search Surveys...",value:s,onChange:F,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:n,onChange:se=>r(se.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"published",children:"Published"}),e.jsx(Z,{value:"draft",children:"Draft"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(_e,{value:i,onChange:se=>o(se.target.value),className:"!w-68",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Categories"}),e.jsx(Z,{value:"cooler_inspection",children:"Cooler Inspection"}),e.jsx(Z,{value:"customer_feedback",children:"Customer Feedback"}),e.jsx(Z,{value:"outlet_audit",children:"Outlet Audit"}),e.jsx(Z,{value:"competitor_analysis",children:"Competitor Analysis"}),e.jsx(Z,{value:"brand_visibility",children:"Brand Visibility"}),e.jsx(Z,{value:"general",children:"General"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[C&&e.jsx(Jt,{title:"Export Surveys",description:"Are you sure you want to export the current survey data to Excel? This will include all filtered results.",onConfirm:L,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:$.isPending,children:$.isPending?"Exporting...":"Export"})}),j&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>f(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:B,children:"Create"})]})]}):!1,getRowId:se=>se.id,initialOrderBy:"title",loading:E,totalCount:R,page:z,rowsPerPage:S,onPageChange:M,isPermission:C,emptyMessage:s?`No surveys found matching "${s}"`:"No surveys found in the system"}),e.jsx(v8e,{selectedSurvey:l,setSelectedSurvey:c,drawerOpen:m,setDrawerOpen:u}),e.jsx(y8e,{drawerOpen:h,setDrawerOpen:f})]})},N8e=()=>{const{id:t}=Jn(),s=Gs(),{data:a,isLoading:n,error:r,isFetching:i}=h8e(Number(t)),o=()=>{s("/masters/surveys")},l=h=>({cooler_inspection:"primary",customer_feedback:"success",outlet_audit:"secondary",competitor_analysis:"error",brand_visibility:"warning",general:"default"})[h]||"default",c=h=>({cooler_inspection:"Cooler Inspection",customer_feedback:"Customer Feedback",outlet_audit:"Outlet Audit",competitor_analysis:"Competitor Analysis",brand_visibility:"Brand Visibility",general:"General"})[h]||h,m=h=>({text:"Text",textarea:"Textarea",number:"Number",select:"Select",checkbox:"Checkbox",radio:"Radio",date:"Date",time:"Time",photo:"Photo",signature:"Signature"})[h]||h;if(n||i)return e.jsxs("div",{className:"!flex !items-start !gap-4",children:[e.jsxs("div",{className:"!flex-2 !flex !flex-col !gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-3 !right-3",children:e.jsx(J,{variant:"circular",width:10,height:10,className:"!bg-green-200"})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(J,{variant:"circular",width:96,height:96,className:"!mx-auto !border-3 !border-white"})}),e.jsx(J,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(J,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-2 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"30%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"60%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"70%",height:14})]})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4].map(h=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(J,{variant:"text",width:`${40+h*8}%`,height:12}),e.jsx(J,{variant:"text",width:`${60+h*6}%`,height:16})]},h))})]})]})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(h=>e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(J,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"40%",height:12})]}),e.jsx(J,{variant:"text",width:80,height:16,className:"!text-right"})]})},h))})]})]}),e.jsx("div",{className:"!flex-4 !space-y-4",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(h=>e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(J,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"40%",height:12})]}),e.jsx(J,{variant:"text",width:80,height:16,className:"!text-right"})]})},h))})]})]})})]})]});if(r||!a)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(la,{className:"w-5 h-5"}),e.jsx(x,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load survey details"})]}),e.jsx(x,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:o,className:"mt-4",children:"Back to Surveys"})]});const u=({title:h,children:f,icon:v})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[v&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(v,{className:"!text-primary-500"})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:h})]}),f]})]});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${a.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ht,{className:ln("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":a.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":a.is_active!=="Y"}),children:e.jsx(Cs,{className:"!w-8 !h-8"})})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:a.title}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mb-3",children:c(a.category)}),e.jsxs("div",{className:"!flex !justify-center !gap-2 !mb-4",children:[e.jsx(De,{icon:a.is_published?e.jsx(Eb,{fontSize:"small"}):e.jsx(c_,{fontSize:"small"}),label:a.is_published?"Published":"Draft",size:"small",color:a.is_published?"success":"warning"}),e.jsx(De,{icon:a.is_active==="Y"?e.jsx(pt,{fontSize:"small"}):e.jsx(xu,{fontSize:"small"}),label:a.is_active==="Y"?"Active":"Inactive",size:"small",color:a.is_active==="Y"?"success":"error"})]}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Response Count"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:[a.response_count||0," responses"]})]}),a.expires_at&&e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Expires At"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(typeof a.expires_at=="string"?a.expires_at:a.expires_at?.toString()||"")})]})]})]}),e.jsx(u,{title:"Survey Information",icon:Cs,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Category"}),e.jsx(De,{label:c(a.category),color:l(a.category),size:"small"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Target Roles"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.target_roles||"All Roles"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Created Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.createdate?Oe(typeof a.createdate=="string"?a.createdate:a.createdate?.toString()||""):"Not available"})]}),a.published_at&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Published Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(typeof a.published_at=="string"?a.published_at:a.published_at?.toString()||"")})]}),a.description&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Description"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:a.description})]})]})})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsx(u,{title:"Survey Fields",icon:xu,children:a.fields&&a.fields.length>0?e.jsx("div",{className:"!space-y-3",children:a.fields.map((h,f)=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between !mb-2",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:h.label}),h.is_required&&e.jsx(De,{label:"Required",size:"small",color:"error",className:"!text-xs"})]}),e.jsx(De,{label:m(h.field_type||"text"),size:"small",color:"primary"})]}),h.options&&e.jsxs(x,{variant:"caption",className:"!text-gray-500 !block !mt-1",children:["Options: ",h.options]}),h.sort_order&&e.jsxs(x,{variant:"caption",className:"!text-gray-400 !block !mt-1",children:["Order: ",h.sort_order]})]},h.id||f))}):e.jsxs("div",{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(Cs,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(x,{variant:"body2",children:"No fields added to this survey yet."})]})}),e.jsx(u,{title:"Statistics",icon:ed,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Total Responses"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:"Number of completed surveys"})]}),e.jsx(x,{variant:"h6",className:"!font-bold !text-primary-600",children:a.response_count||0})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Total Fields"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:"Number of survey fields"})]}),e.jsx(x,{variant:"h6",className:"!font-bold !text-blue-600",children:a.fields?.length||0})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Status"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:"Current survey status"})]}),e.jsx(De,{label:a.is_active==="Y"?"Active":"Inactive",color:a.is_active==="Y"?"success":"error",size:"small"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Publication Status"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:"Survey visibility"})]}),e.jsx(De,{icon:a.is_published?e.jsx(Eb,{fontSize:"small"}):e.jsx(c_,{fontSize:"small"}),label:a.is_published?"Published":"Draft",size:"small",color:a.is_published?"success":"warning"})]})})]})})]})]}),e.jsx("div",{className:"!mt-4",children:e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:o,children:"Back to Surveys"})})]})},w8e=it({file:hs().required("Please select a file to import")}),_8e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:w8e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("unit_of_measurement")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"unit_of_measurement",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Units of Measurement",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple units of measurement. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},S8e=it({name:me().required("Unit name is required").min(2,"Unit name must be at least 2 characters").max(100,"Unit name must not exceed 100 characters").trim(),description:me().max(500,"Description must not exceed 500 characters").nullable().transform(t=>t===""?null:t),category:me().max(50,"Category must not exceed 50 characters").nullable().transform(t=>t===""?null:t),symbol:me().max(10,"Symbol must not exceed 10 characters").nullable().transform(t=>t===""?null:t),is_active:me().required("Status is required").oneOf(["Y","N"],"Status must be either Active or Inactive")}),C8e=({selectedUnit:t,setSelectedUnit:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=o5e(),l=l5e(),c=ft({initialValues:{name:t?.name||"",description:t?.description||"",category:t?.category||"",symbol:t?.symbol||"",is_active:t?.is_active||"Y"},validationSchema:S8e,enableReinitialize:!0,onSubmit:async m=>{try{const u={name:m.name,description:m.description,category:m.category,symbol:m.symbol,is_active:m.is_active};r&&t?await l.mutateAsync({id:t.id,data:u}):await o.mutateAsync(u),i()}catch(u){console.error("Error saving unit of measurement:",u)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Unit of Measurement":"Create Unit of Measurement",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"name",label:"Unit Name",placeholder:"Enter unit name",formik:c,required:!0})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:c,multiline:!0,rows:3})}),e.jsx(oe,{name:"category",label:"Category",placeholder:"Enter category (e.g., Weight, Volume, Length)",formik:c}),e.jsx(oe,{name:"symbol",label:"Symbol",placeholder:"Enter symbol (e.g., kg, L, m)",formik:c}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(Ps,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:[o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"," "]})]})]})})})},k8e=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("unit-of-measurement"),{data:b,isFetching:w,error:C}=x1({search:t,page:u,limit:f,status:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total||0,D=(b?.meta?.page||1)-1,T=c5e(),R=ms(),z=b?.stats?.total_units??0,O=b?.stats?.active_units??0,$=b?.stats?.inactive_units??0,A=b?.stats?.new_units_this_month??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(F=>{i(F),l(!0)},[]),U=g.useCallback(async F=>{try{await T.mutateAsync(F)}catch(M){console.error("Error deleting unit of measurement:",M)}},[T]),B=g.useCallback(F=>{s(F),h(1)},[]),V=F=>{h(F+1)},Y=g.useCallback(async()=>{try{const F={search:t,status:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"unit_of_measurement",filters:F})}catch(F){console.error("Error exporting units of measurement:",F)}},[R,t,a]),H=[{id:"name",label:"Unit Name",render:(F,M)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:M.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(T8,{className:"w-5 h-5"})}),e.jsxs(y,{className:"!max-w-xs",children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:M.name}),M.symbol&&e.jsxs(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:["Symbol: ",M.symbol]}),M.category&&e.jsxs(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:["Category: ",M.category]})]})]})},{id:"description",label:"Description",render:(F,M)=>e.jsx(Va,{title:M.description,placement:"top",arrow:!0,children:e.jsx(x,{variant:"body2",className:"!text-gray-900 !max-w-xs !truncate",children:M.description})})},{id:"is_active",label:"Status",render:F=>e.jsx(De,{icon:F==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:F==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:F==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(F,M)=>Oe(M.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(F,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(M),tooltip:`Edit ${M.name}`}),S&&e.jsx(Vt,{onClick:()=>U(M.id),tooltip:`Delete ${M.name}`,itemName:M.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Unit of Measurement Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage units of measurement for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Units",value:z,icon:e.jsx(T8,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Units",value:O,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Units",value:$,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:A,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load units of measurement. Please try again."}),e.jsx(lt,{data:P,columns:H,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[j&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(as,{placeholder:"Search Units of Measurement...",value:t,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:F=>{n(F.target.value),h(1)},className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Units of Measurement",description:"Are you sure you want to export the current units of measurement data to Excel? This will include all filtered results.",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:F=>F.id,initialOrderBy:"name",loading:w,totalCount:E,page:D,rowsPerPage:f,onPageChange:V,isPermission:j,emptyMessage:t?`No units of measurement found matching "${t}"`:"No units of measurement found in the system"}),e.jsx(C8e,{selectedUnit:r,setSelectedUnit:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(_8e,{drawerOpen:c,setDrawerOpen:m})]})},P8e=it({file:hs().required("Please select a file to import")}),E8e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:P8e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("subunits")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"subunits",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Sub Units of Measurement",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple sub units of measurement. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},T8e=it({name:me().min(2,"Sub unit name must be at least 2 characters").max(100,"Sub unit name must not exceed 100 characters").required("Sub unit name is required"),code:me().min(2,"Code must be at least 2 characters").max(20,"Code must not exceed 20 characters").matches(/^[A-Z0-9]+$/,"Code must contain only uppercase letters and numbers").optional(),description:me().max(500,"Description must not exceed 500 characters").optional(),unit_of_measurement_id:Qe().required("Unit of measurement is required").positive("Unit of measurement must be selected"),is_active:me().oneOf(["Y","N"],"Status must be either Active or Inactive").required("Status is required")}),M8e=({formik:t,setValue:s,onChange:a,name:n="unit_of_measurement_id",label:r="Unit of Measurement",placeholder:i="Select unit of measurement...",fullWidth:o=!0,size:l="small",disabled:c=!1,error:m=!1,helperText:u})=>{const{data:h=[],isLoading:f}=f5e(),v=h.map(C=>({value:C.id,label:`${C.name}`,disabled:!1})),_=t?.values[n]||"",S=v.find(C=>C.value===_)||null,j=C=>{t&&(t.setFieldValue(n,C?.value||""),t.setFieldTouched(n,!0)),s&&s(C?.value||""),a&&a(C)},b=m||t?.touched[n]&&!!t?.errors[n],w=u||t?.touched[n]&&t?.errors[n];return e.jsx(Yn,{options:v,value:S,onChange:(C,P)=>j(P),loading:f,disabled:c,size:l,fullWidth:o,renderInput:C=>e.jsx(wn,{...C,label:r,placeholder:i,error:b,helperText:w,InputProps:{...C.InputProps,startAdornment:e.jsxs(e.Fragment,{children:[S&&e.jsx(ht,{sx:{width:24,height:24,fontSize:"0.75rem",bgcolor:"primary.main",color:"primary.contrastText",mr:1},children:S.label.charAt(0).toUpperCase()}),C.InputProps.startAdornment]}),endAdornment:e.jsxs(e.Fragment,{children:[f?e.jsx(wo,{color:"inherit",size:20}):null,C.InputProps.endAdornment]})}}),renderOption:(C,P)=>e.jsxs(y,{component:"li",...C,sx:{"& > img":{mr:2,flexShrink:0}},children:[e.jsx(ht,{sx:{width:24,height:24,fontSize:"0.75rem",bgcolor:"primary.main",color:"primary.contrastText",mr:2},children:P.label.charAt(0).toUpperCase()}),P.label]}),isOptionEqualToValue:(C,P)=>C.value===P?.value,getOptionLabel:C=>C.label,noOptionsText:"No units of measurement found",loadingText:"Loading units of measurement..."})},D8e=({selectedSubUnit:t,setSelectedSubUnit:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=x5e(),l=g5e(),c=ft({initialValues:{name:t?.name||"",code:t?.code||"",description:t?.description||"",unit_of_measurement_id:t?.unit_of_measurement_id||0,is_active:t?.is_active||"Y"},validationSchema:T8e,enableReinitialize:!0,onSubmit:async u=>{try{r&&t?await l.mutateAsync({id:t.id,data:u}):await o.mutateAsync(u),i()}catch(h){console.error("Error saving sub unit of measurement:",h)}}}),m=o.isPending||l.isPending;return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Sub Unit of Measurement":"Create Sub Unit of Measurement",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"name",label:"Sub Unit Name",placeholder:"Enter sub unit name",formik:c,required:!0})}),e.jsx(y,{className:"md:!col-span-1",children:e.jsx(oe,{name:"code",label:"Code",placeholder:"Enter code (optional)",formik:c,helperText:"Leave empty to auto-generate"})}),e.jsx(y,{className:"md:!col-span-1",children:e.jsx(M8e,{name:"unit_of_measurement_id",label:"Unit of Measurement",formik:c})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter description",formik:c,multiline:!0,rows:3})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(Ps,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:m,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:m,loading:m,children:m?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},R8e=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("unit-of-measurement"),{data:b,isFetching:w,error:C}=KF({search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N",page:u,limit:f},{enabled:j}),P=y5e(),E=ms(),D=b?.data||[],T=b?.meta?.total||0,R=(b?.meta?.page||1)-1,z=b?.stats,O=g.useCallback(V=>{s(V),h(1)},[]),$=V=>{h(V+1)},A=g.useCallback(V=>{i(V),l(!0)},[]),Q=g.useCallback(async V=>{try{await P.mutateAsync(V.id)}catch(Y){console.error("Error deleting sub unit of measurement:",Y)}},[P]),K=g.useCallback(()=>{i(null),l(!0)},[]),U=g.useCallback(async()=>{try{const V={search:t,is_active:a==="all"?void 0:a==="active"?"Y":"N"};await E.mutateAsync({tableName:"subunits",filters:V})}catch(V){console.error("Error exporting sub units of measurement:",V)}},[E,t,a]),B=[{id:"name",label:"Sub Unit Name",render:(V,Y)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:Y.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Sb,{className:"w-5 h-5"})}),e.jsxs(y,{className:"!max-w-xs",children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:Y.name||"Unknown"}),e.jsx(x,{variant:"caption",color:"text.secondary",children:Y.code||"No Code"})]})]})},{id:"description",label:"Description",render:(V,Y)=>Y.description?e.jsx(Va,{title:Y.description,placement:"top",arrow:!0,children:e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",maxWidth:"300px",cursor:"help"},children:Y.description})}):"-"},{id:"unit_of_measurement_id",label:"Unit of Measurement",render:(V,Y)=>e.jsx(De,{label:Y.subunits_unit_of_measurement?.name||"-",size:"small",variant:"outlined"})},{id:"is_active",label:"Status",render:V=>e.jsx(De,{icon:V==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:V==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:V==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(V,Y)=>Oe(Y.createdate)},..._||S?[{id:"actions",label:"Actions",sortable:!1,render:(V,Y)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>A(Y),tooltip:`Edit ${Y.name}`}),S&&e.jsx(Jt,{title:"Delete Sub Unit",description:`Are you sure you want to delete "${Y.name||"this sub unit"}"? This action cannot be undone.`,onConfirm:()=>Q(Y),children:e.jsx(Va,{title:"Delete Sub Unit",children:e.jsx(Vt,{})})})]})}]:[]];return j?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Sub Units of Measurement Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage sub units of measurement for your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Sub Units",value:z?.total_sub_units||0,icon:e.jsx(Sb,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Sub Units",value:z?.active_sub_units||0,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Sub Units",value:z?.inactive_sub_units||0,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:z?.new_sub_units_this_month||0,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load sub units of measurement. Please try again."}),e.jsx(lt,{data:D,columns:B,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search sub units...",value:t,onChange:O,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:V=>n(V.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Sub Units",description:"Are you sure you want to export the current sub units of measurement data to Excel? This will include all filtered results.",onConfirm:U,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:E.isPending,children:E.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:K,children:"Create"})]})]}):!1,getRowId:V=>V.id,initialOrderBy:"name",loading:w,totalCount:T,page:R,rowsPerPage:f,isPermission:j,onPageChange:$,emptyMessage:t?"No sub units found matching your search criteria.":"No sub units of measurement found."}),e.jsx(D8e,{selectedSubUnit:r,setSelectedSubUnit:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(E8e,{drawerOpen:c,setDrawerOpen:m})]}):e.jsx(ct,{severity:"warning",children:"You don't have permission to view sub units of measurement."})},A8e=it({name:me().required("Name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters"),role_id:Qe().required("Role is required").positive("Please select a valid role"),phone_number:me().matches(/^[0-9+\-\s()]+$/,"Invalid phone number format"),employee_id:me().max(50,"Employee Code must not exceed 50 characters"),reporting_to:Qe().required("Reporting to is required"),password:me().when("isEdit",{is:!1,then:t=>t.required("Password is required").min(6,"Password must be at least 6 characters"),otherwise:t=>t.min(6,"Password must be at least 6 characters")}),is_active:me().required("Status is required")}),I8e=({selectedUser:t,setSelectedUser:s,drawerOpen:a,setDrawerOpen:n})=>{const[r,i]=g.useState(null),o=!!t,{data:l,isLoading:c}=a3({enabled:a}),m=l?.data||[],u=wie({onSuccess:()=>{j()}}),h=_ie({onSuccess:()=>{j()}}),f={name:t?.name||"",email:t?.email||"",role_id:t?.role_id||"",phone_number:t?.phone_number||"",employee_id:t?.employee_id||"",address:t?.address||"",joining_date:Ln(t?.joining_date),reporting_to:t?.reporting_to||"",password:"",is_active:t?.is_active||"Y",isEdit:!!t},v=ft({initialValues:f,validationSchema:A8e,enableReinitialize:!0,onSubmit:async w=>{try{const C=new FormData;C.append("name",w.name),C.append("email",w.email),C.append("role_id",w.role_id.toString()),C.append("phone_number",w.phone_number),C.append("employee_id",w.employee_id),C.append("address",w.address),C.append("joining_date",w.joining_date),C.append("reporting_to",w.reporting_to.toString()),C.append("is_active",w.is_active),w.password&&C.append("password",w.password),r&&C.append("profile_image",r),o&&t?await h.mutateAsync({id:t.id,userData:C}):await u.mutateAsync(C)}catch(C){console.error("Error saving user:",C)}}}),_=w=>{const C=w.target.files?.[0];C&&i(C)},S=w=>{w.preventDefault(),v.handleSubmit()},j=()=>{n(!1),v.resetForm(),s(null),i(null)},b=()=>{i(null)};return e.jsx(ot,{open:a,setOpen:j,title:o?`Edit User: ${t?.name}`:"Create New User",children:e.jsxs(y,{component:"form",onSubmit:S,className:"p-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center mb-4 cursor-pointer flex flex-col items-center gap-2 hover:bg-gray-50",onClick:()=>document.getElementById("file-upload")?.click(),children:[e.jsx("input",{id:"file-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:_}),r?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{variant:"body2",children:r.name}),e.jsx(na,{size:"small",onClick:b,children:e.jsx(Gn,{fontSize:"small"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{variant:"contained",sx:{mb:1},children:"Upload file"}),e.jsx(x,{variant:"body2",color:"text.secondary",children:"JPG, GIF or PNG. Max size of 10MB"})]})]}),e.jsxs(y,{className:"mb-6 flex flex-col gap-2",children:[e.jsx("p",{className:"!font-semibold !mb-4 !text-gray-900",children:"User Information"}),e.jsxs("div",{className:"flex mb-4 sm:flex-row flex-col sm:gap-4 gap-2",children:[e.jsx(oe,{name:"name",formik:v,label:"Full Name",placeholder:"Enter full name",required:!0}),e.jsx(oe,{name:"employee_id",formik:v,label:"Employee Code",placeholder:"Enter employee code"}),e.jsx(oe,{name:"employee_id",formik:v,label:"Employee Code",placeholder:"Enter employee code"}),e.jsx(oe,{name:"email",formik:v,label:"Email",placeholder:"Enter email address",type:"email"})]}),e.jsxs("div",{className:"flex mb-4 sm:flex-row flex-col sm:gap-4 gap-2",children:[e.jsx(_e,{name:"role_id",formik:v,label:"Role",fullWidth:!0,required:!0,children:c?e.jsx(Z,{disabled:!0,children:"Loading roles..."}):m.map(w=>e.jsx(Z,{value:w.id,children:w.name},w.id))}),e.jsx(oe,{name:"phone_number",formik:v,label:"Phone Number",placeholder:"Enter phone number"})]}),e.jsxs("div",{className:"flex mb-4 sm:flex-row flex-col sm:gap-4 gap-2",children:[e.jsx(oe,{name:"joining_date",formik:v,label:"Joining Date",type:"date"}),e.jsx(hr,{name:"reporting_to",label:"Reporting Manager",formik:v,required:!0})]}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(Ps,{name:"is_active",formik:v,required:!0})}),e.jsx(oe,{name:"address",formik:v,label:"Address",placeholder:"Enter address",multiline:!0,rows:3}),!o&&e.jsx(oe,{name:"password",formik:v,label:"Password",placeholder:"Enter password",type:"password",required:!0,className:"!mt-4"}),o&&e.jsx(oe,{name:"password",formik:v,label:"New Password (Optional)",placeholder:"Enter new password to change",type:"password",className:"!mt-4"})]}),e.jsxs("div",{className:"flex gap-4 justify-end",children:[e.jsx(G,{variant:"outlined",onClick:j,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:u.isPending||h.isPending,children:u.isPending||h.isPending?"Saving...":o?"Update":"Create"})]})]})})},O8e=it({file:hs().required("Please select a file to import")}),F8e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:O8e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("users")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"users",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Users",size:"medium",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple users. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},L8e=()=>{const t=Gs(),[s,a]=g.useState(""),[n,r]=g.useState("all"),[i,o]=g.useState(1),[l]=g.useState(10),[c,m]=g.useState(null),[u,h]=g.useState(!1),[f,v]=g.useState(!1),{isCreate:_,isUpdate:S,isDelete:j,isRead:b}=Ze("user"),{data:w,isFetching:C,error:P}=er({search:s,page:i,limit:l,isActive:n==="all"?void 0:n==="active"?"Y":n==="inactive"?"N":void 0},{enabled:b}),E=w?.data||[],D={total:w?.meta?.total||0,page:w?.meta?.page||1,limit:w?.meta?.limit||10,totalPages:w?.meta?.totalPages||0},T=[{id:"name",label:"Name & Avatar",render:(V,Y)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",onClick:()=>B(Y),children:[e.jsx(ht,{alt:Y.name,src:Y.profile_image||"mkx",className:ln("!rounded",{"!bg-primary-100 !text-primary-600":Y.is_active==="Y","!bg-gray-200 !text-gray-600":Y.is_active!=="Y"}),children:Y.name.split(" ").map(H=>H[0]).join("")?.slice(0,2)}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:Y.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:Y.role?.name})]})]})},{id:"email",label:"Email Address",render:(V,Y)=>Y.email||e.jsx("span",{className:"italic text-gray-400",children:" No Email "})},{id:"role",label:"Role",render:(V,Y)=>Y.role?.name||e.jsx("span",{className:"italic text-gray-400",children:" No Role "})},{id:"is_active",label:"Status",render:V=>e.jsx(De,{icon:V==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:V==="Y"?"Active":"Inactive",size:"small",variant:"outlined",className:"!text-start !justify-start",color:V==="Y"?"success":"error"})},{id:"phone_number",label:"Phone",render:(V,Y)=>Y.phone_number||e.jsx("span",{className:"italic text-gray-400",children:" No Phone "})},{id:"address",label:"Address",render:(V,Y)=>Y.address?e.jsx(Va,{title:Y.address,placement:"top",arrow:!0,children:e.jsx("span",{className:"truncate text-ellipsis max-w-72",children:Y.address})}):e.jsx("span",{className:"italic text-gray-400",children:" No Address "})},{id:"joining_date",label:"Join Date",render:(V,Y)=>Oe(Y.joining_date)||e.jsx("span",{className:"italic text-gray-400",children:" No Date "})},{id:"reporting_to",label:"Reports To",render:(V,Y)=>Y.reporting_manager?.name||e.jsx("span",{className:"italic text-gray-400",children:" No Reports To "})},...S||j?[{id:"action",label:"Actions",sortable:!1,render:(V,Y)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[S&&e.jsx(is,{onClick:()=>$(Y),tooltip:`Edit ${Y.name}`}),j&&e.jsx(Vt,{onClick:()=>A(Y.id),tooltip:`Delete ${Y.name}`,itemName:Y.name,confirmDelete:!0})]})}]:[]],R=Sie(),z=ms(),O=g.useCallback(()=>{m(null),h(!0)},[]),$=g.useCallback(V=>{m(V),h(!0)},[]),A=g.useCallback(V=>{R.mutate(V)},[R]),Q=g.useCallback(V=>{a(V),o(1)},[]),K=V=>o(V+1),U=g.useCallback(async()=>{try{const V={search:s,isActive:n==="all"?void 0:n==="active"?"Y":"N"};await z.mutateAsync({tableName:"users",filters:V})}catch(V){console.error("Error exporting users:",V)}},[z,s,n]),B=g.useCallback(V=>{t(`/masters/users/${V.id}`)},[t]);return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Users Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage users, roles, and access across your organization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Users",value:w?.stats?.total_users||0,icon:e.jsx(ua,{className:"w-6 h-6"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Active Users",value:w?.stats?.active_users||0,icon:e.jsx(jo,{className:"w-6 h-6"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Inactive Users",value:w?.stats?.inactive_users||0,icon:e.jsx(hle,{className:"w-6 h-6"}),color:"red",isLoading:C}),e.jsx(fe,{title:"New This Month",value:w?.stats?.new_users||0,icon:e.jsx(jA,{className:"w-6 h-6"}),color:"purple",isLoading:C})]}),P&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load users. Please try again."}),e.jsx(lt,{data:E,columns:T,actions:b||_?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx(as,{placeholder:"Search Users",value:s,onChange:Q,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),b&&e.jsxs(_e,{value:n,onChange:V=>r(V.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]}),_&&e.jsxs("div",{className:"flex items-center gap-2",children:[b&&e.jsx(Jt,{title:"Export Users",description:"Are you sure you want to export the current users data to Excel? This will include all filtered results.",onConfirm:U,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:z.isPending,children:z.isPending?"Exporting...":"Export"})}),_&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>v(!0),children:"Import"}),e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:O,children:"Create"})]})]}):!1,getRowId:V=>V.id,initialOrderBy:"name",loading:C,totalCount:D.total,page:i-1,rowsPerPage:l,isPermission:b,onPageChange:K,emptyMessage:s?`No users found matching "${s}"`:"No users found in the system"}),e.jsx(I8e,{selectedUser:c,setSelectedUser:m,drawerOpen:u,setDrawerOpen:h}),e.jsx(F8e,{drawerOpen:f,setDrawerOpen:v})]})},z8e=()=>{const{id:t}=Jn();if(!t||isNaN(parseInt(t,10)))throw new Error("Invalid user ID");const s=parseInt(t,10),{data:a,isLoading:n,error:r}=Nie(s),i=a?.data;if(n)return e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-2",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-5 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-4 !right-4",children:e.jsx(J,{variant:"circular",width:12,height:12,className:"!bg-green-200"})}),e.jsx(J,{variant:"circular",width:96,height:96,className:"!mx-auto !mb-4 !border-3 !border-white"}),e.jsx(J,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(J,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-3 !text-left",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"50%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"70%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"80%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"35%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"60%",height:14})]})]})]})}),e.jsx("div",{className:"flex-4 !space-y-4",children:[1,2,3].map(h=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-5 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-20 !h-20 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-10 !translate-x-10"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1 !bg-blue-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-blue-200"})}),e.jsx(J,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5",children:[1,2,3,4].map(f=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(J,{variant:"text",width:`${50+f*8}%`,height:12}),e.jsx(J,{variant:"text",width:`${60+f*6}%`,height:16})]},f))})]})]},h))})]});if(r){if(r?.response?.status===404)throw new Error("User not found");return e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsx(ct,{severity:"error",className:"!mb-3",children:"Failed to load user details. Please try again."}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"If this problem persists, please contact your system administrator."})]})})}if(!i)throw new Error("User not found");const o=h=>h.split(" ").map(f=>f[0]).join("")?.slice(0,2),l=h=>h.split("_").map(f=>f.charAt(0).toUpperCase()+f.slice(1).toLowerCase()).join(" "),c=h=>({CREATE:"created",UPDATE:"updated",DELETE:"deleted"})[h]||h.toLowerCase(),m=h=>{if(!h)return"Unknown device";const f=h.toLowerCase();if(f.includes("macintosh")||f.includes("mac os x")){const v=h.match(/Mac OS X (\d+[._]\d+[._]\d+)/),_=v?v[1].replace(/_/g,"."):"";if(f.includes("chrome")){const S=h.match(/Chrome\/(\d+\.\d+\.\d+\.\d+)/),j=S?S[1]:"";return`Mac${_?` (macOS ${_})`:""} - Chrome${j?` ${j}`:""}`}if(f.includes("safari")&&!f.includes("chrome"))return`Mac${_?` (macOS ${_})`:""} - Safari`;if(f.includes("firefox"))return`Mac${_?` (macOS ${_})`:""} - Firefox`}if(f.includes("windows")){if(f.includes("chrome"))return"Windows - Chrome";if(f.includes("firefox"))return"Windows - Firefox";if(f.includes("edge"))return"Windows - Edge"}return f.includes("android")&&f.includes("chrome")?"Android - Chrome":(f.includes("iphone")||f.includes("ipad"))&&f.includes("safari")?"iOS - Safari":f.includes("dart")?"Mobile App (Dart)":h},u=({title:h,children:f,icon:v,className:_=""})=>e.jsxs("div",{className:`!bg-white !rounded-lg !shadow !border !border-gray-200 !p-5 !relative !overflow-hidden ${_}`,children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-3 !mb-3",children:[v&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(v,{className:"!text-primary-500"})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:h})]}),e.jsx("div",{className:"!mt-1",children:f})]})]});return e.jsxs("div",{className:"!grid !grid-cols-1 lg:!grid-cols-12 !gap-5 !items-start",children:[e.jsxs("div",{className:"lg:!col-span-4 flex flex-col gap-5",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-5 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${i.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ht,{src:i.profile_image||void 0,className:ln("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-green-400 !to-green-600 !text-white":i.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":i.is_active==="N"}),children:o(i.name)})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:i.name}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mb-3",children:i.role?.name||"No Role Assigned"}),e.jsx(De,{icon:i.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:i.is_active==="Y"?"Active":"Inactive",color:i.is_active==="Y"?"success":"error",size:"small",variant:"outlined"}),e.jsxs("div",{className:"!space-y-1 !text-left",children:[e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Employee ID"}),e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:i.employee_id||"N/A"})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Contact"}),e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:i.email})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Phone"}),e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:i.phone_number||"N/A"})]})]})]}),e.jsx(u,{title:"Role & Organization",icon:Hle,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Role"}),e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:i.role?.name||"Not assigned"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Company"}),e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:i.company?.name||"Not assigned"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Depot"}),e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:i.depot?.name||"Not assigned"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Zone"}),e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:i.zone?.name||"Not assigned"})]}),e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Reports To"}),e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:i.reporting_manager?.name||"Not assigned"})]})]})})]}),e.jsxs("div",{className:"lg:!col-span-8 flex flex-col gap-5",children:[e.jsx(u,{title:"Personal Information",icon:_A,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5 !mt-2",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Full Name"}),e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:i.name})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Email Address"}),e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:i.email})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Phone Number"}),e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:i.phone_number||"Not provided"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Employee ID"}),e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:i.employee_id||"Not provided"})]}),e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Address"}),e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:i.address||"Not provided"})]})]})}),e.jsx(u,{title:"Activity & Status",icon:R8,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Current Status"}),e.jsx("div",{className:"!mt-1",children:e.jsx(De,{icon:i.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:i.is_active==="Y"?"Active":"Inactive",color:i.is_active==="Y"?"success":"error",size:"small",variant:"outlined"})})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Join Date"}),e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:Oe(i.joining_date)||"N/A"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Last Login"}),e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:Oe(i.last_login)||"Never"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Member Since"}),e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:Oe(i.created_at)||"N/A"})]})]})}),i.recent_activities&&e.jsx(u,{title:"Recent Audit Logs",icon:Qf,children:i.recent_activities.audit_logs.length>0?e.jsx("div",{className:"!space-y-3",children:i.recent_activities.audit_logs.map(h=>{const f=()=>{switch(h.action){case"CREATE":return e.jsx(ds,{className:"!text-sm"});case"UPDATE":return e.jsx(wA,{className:"!text-sm"});case"DELETE":return e.jsx(Pb,{className:"!text-sm"});default:return e.jsx(Qf,{className:"!text-sm"})}};return e.jsx(y,{className:"!border !border-gray-200 !shadow-sm !rounded-lg !p-4 !bg-gradient-to-br !from-white !to-gray-50 hover:!shadow-md !transition-shadow !duration-200",children:e.jsxs("div",{className:"!flex !items-start !gap-3",children:[e.jsx("div",{className:`!flex-shrink-0 !w-10 !h-10 !rounded-lg !flex !items-center !justify-center ${h.action==="CREATE"?"!bg-green-100":h.action==="UPDATE"?"!bg-blue-100":"!bg-red-100"}`,children:f()}),e.jsxs("div",{className:"!flex-1 !min-w-0",children:[e.jsx("div",{className:"!flex !items-center !gap-2 !mb-2 !flex-wrap",children:e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:l(h.table_name)})}),e.jsxs(x,{variant:"body2",className:"!text-gray-700 !mb-2",children:[e.jsx("span",{className:"!font-semibold !text-gray-900",children:i.name})," ","has ",c(h.action)," the"," ",e.jsx("span",{className:"!font-bold !text-gray-900",children:l(h.table_name)})]}),e.jsxs("div",{className:"!flex !flex-wrap !items-center !gap-3 !text-xs !text-gray-500",children:[h.changed_at&&e.jsxs("div",{className:"!flex !items-center !gap-1",children:[e.jsx(R8,{className:"!text-xs"}),e.jsx("span",{className:"!font-medium",children:vp(h.changed_at)})]}),h.ip_address&&e.jsxs("div",{className:"!flex !items-center !gap-1",children:[e.jsx(Fle,{className:"!text-xs"}),e.jsx("span",{className:"!font-medium",children:h.ip_address})]}),h.device_info&&e.jsxs("div",{className:"!flex !items-center !gap-1",children:[e.jsx(Rle,{className:"!text-xs"}),e.jsx("span",{className:"!font-medium",children:m(h.device_info)})]})]})]})]})},h.id)})}):e.jsxs(y,{className:"!text-center !py-8",children:[e.jsx(Qf,{className:"!text-gray-300 !text-6xl !mb-3 !mx-auto"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"No audit logs found"})]})})]})]})},$8e=it({file:hs().required("Please select a file to import")}),q8e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:$8e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("van_inventory")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"van_inventory",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Van Inventory",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple van inventory records. Download the sample file to see the required format. Make sure User IDs and Product IDs exist in the system."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},B8e=async t=>{const s=new URLSearchParams;t?.page!==void 0&&s.append("page",t.page.toString()),t?.limit!==void 0&&s.append("limit",t.limit.toString()),t?.product_id!==void 0&&s.append("product_id",t.product_id.toString()),t?.include_expired_batches!==void 0&&s.append("include_expired_batches",t.include_expired_batches.toString()),t?.batch_status&&s.append("batch_status",t.batch_status),t?.serial_status&&s.append("serial_status",t.serial_status);const a=s.toString(),n=`/inventory-item-salesperson${a?`?${a}`:""}`;return(await ie.get(n)).data},nL=async(t,s)=>{const a=new URLSearchParams;s?.page!==void 0&&a.append("page",s.page.toString()),s?.limit!==void 0&&a.append("limit",s.limit.toString()),s?.product_id!==void 0&&a.append("product_id",s.product_id.toString()),s?.include_expired_batches!==void 0&&a.append("include_expired_batches",s.include_expired_batches.toString()),s?.batch_status&&a.append("batch_status",s.batch_status),s?.serial_status&&a.append("serial_status",s.serial_status);const n=a.toString(),r=`/inventory-item-salesperson/${t}${n?`?${n}`:""}`;return(await ie.get(r)).data},U8e=async(t,s)=>{const a=new URLSearchParams;s&&a.append("search",s);const n=a.toString(),r=`/inventory-items-dropdown/${t}${n?`?${n}`:""}`;return(await ie.get(r)).data},Vm={all:["inventory-items"],lists:()=>[...Vm.all,"list"],list:t=>[...Vm.lists(),t],details:()=>[...Vm.all,"detail"],detail:t=>[...Vm.details(),t]},V8e=(t,s)=>nt({queryKey:Vm.list(t),queryFn:async()=>{const a={page:t?.page,limit:t?.limit,product_id:t?.product_id,include_expired_batches:t?.include_expired_batches,batch_status:t?.batch_status,serial_status:t?.serial_status};return t?.salesperson_id?await nL(t.salesperson_id,a):await B8e(a)},staleTime:300*1e3,...s}),n3=(t,s)=>nt({queryKey:Vm.detail(t),queryFn:async()=>await nL(t),enabled:!!t,staleTime:300*1e3,...s}),H8e=async t=>{try{return(await ie.get("/vehicles",{params:t})).data}catch(s){throw console.error("Error fetching vehicles:",s),new Error(s.response?.data?.message||"Failed to fetch vehicles")}},W8e=async t=>{try{return(await ie.post("/vehicles",t)).data}catch(s){throw console.error("Error creating vehicle:",s),new Error(s.response?.data?.message||"Failed to create vehicle")}},Y8e=async(t,s)=>{try{return(await ie.put(`/vehicles/${t}`,s)).data}catch(a){throw console.error("Error updating vehicle:",a),new Error(a.response?.data?.message||"Failed to update vehicle")}},G8e=async t=>{try{return(await ie.delete(`/vehicles/${t}`)).data}catch(s){throw console.error("Error deleting vehicle:",s),new Error(s.response?.data?.message||"Failed to delete vehicle")}},$f={all:["vehicles"],lists:()=>[...$f.all,"list"],list:t=>[...$f.lists(),t],details:()=>[...$f.all,"detail"],detail:t=>[...$f.details(),t]},r3=(t,s)=>nt({queryKey:$f.list(t),queryFn:()=>H8e(t),staleTime:300*1e3,...s}),K8e=()=>Re({mutationFn:W8e,invalidateQueries:["vehicles"],loadingMessage:"Creating vehicle..."}),Q8e=()=>Re({mutationFn:({id:t,...s})=>Y8e(t,s),invalidateQueries:["vehicles"],loadingMessage:"Updating vehicle..."}),Z8e=()=>Re({mutationFn:G8e,invalidateQueries:["vehicles"],loadingMessage:"Deleting vehicle..."}),X8e=it({user_id:Qe().required("Van Inventory User is required").positive("Van Inventory User ID must be a positive number").integer("Van Inventory User ID must be an integer"),loading_type:me().oneOf(["L","U"],"Loading Type must be Load (L) or Unload (U)").required("Loading Type is required"),status:me().oneOf(["D","A","C"],"Status must be Draft (D), Confirmed (A), or Canceled (C)").required("Status is required"),document_date:me().required("Document date is required"),vehicle_id:Qe().positive("Vehicle ID must be a positive number").integer("Vehicle ID must be an integer").nullable().optional(),location_type:me().oneOf(["van","warehouse","depot","store"],"Invalid location type").default("van").optional(),location_id:Qe().positive("Location ID must be a positive number").integer("Location ID must be an integer").nullable().optional(),is_active:me().oneOf(["Y","N"],"Must be Y or N").default("Y").required("Active status is required")}),J8e={remaining_quantity:0,total_quantity:0,batch_number:"",lot_number:"",manufacturing_date:"",expiry_date:"",quantity:null},eTe=({isOpen:t,setIsOpen:s,selectedRowIndex:a,setSelectedRowIndex:n,formik:r,quantity:i=null,inventoryByProductId:o,isUnloadType:l=!1})=>{const[c,m]=g.useState([]),[u,h]=g.useState("");g.useEffect(()=>{if(!t||a===null)return;const P=r.values.van_inventory_items[a];if(!P){m([]);return}const E=P.product_batches||[];if(E.length>0){console.log("ManageBatch - Loading existing batches:",E),m(E);return}if(l&&P.product_id&&o&&o[P.product_id]&&o[P.product_id].batches.length>0){const D=o[P.product_id].batches.map(T=>({...T,quantity:0}));console.log("ManageBatch - Initializing unload batches:",D),m(D);return}m([])},[t,a]);const f=g.useCallback(()=>{s(!1),m([]),n(null),h("")},[s,n]),v=g.useCallback(P=>{m(E=>E.filter((D,T)=>T!==P))},[]),_=g.useCallback((P,E,D)=>{m(T=>{const R=[...T];if(P==="quantity"){const z=Number(i),O=Number.isFinite(z)&&z>0,$=R.reduce((V,Y,H)=>H===E?V:V+(Number(Y.quantity)||0),0),A=O?Math.max(0,z-$):Number.POSITIVE_INFINITY,Q=Number(D),K=Number.isFinite(Q)?Q:0,U=l&&R[E].batch_remaining_quantity?Number(R[E].batch_remaining_quantity):Number.POSITIVE_INFINITY,B=Math.min(Math.max(0,K),A,U);return R[E]={...R[E],quantity:B},R}return R[E]={...R[E],[P]:D},R})},[i,l]),S=g.useCallback(()=>{m(P=>[...P,{...J8e}])},[]),j=g.useCallback(()=>{if(a===null)return;const P=Number(i),E=Number.isFinite(P)&&P>0,D=c.reduce((A,Q)=>A+(Number(Q.quantity)||0),0);if(E&&D>P){Rt.error(`Total batch quantity (${D}) cannot exceed item quantity (${P})`);return}const T=c.findIndex(A=>{const Q=(A.batch_number||"").trim(),K=(A.manufacturing_date||"").trim(),U=(A.expiry_date||"").trim(),B=Number(A.quantity);return!Q||!K||!U||!Number.isFinite(B)||B<=0});if(T!==-1){Rt.error(`Please fill Batch Number, MFG Date, EXP Date and Quantity (> 0) for row ${T+1}.`);return}const R=new Set,z=c.findIndex(A=>{const Q=`${(A.batch_number||"").trim().toLowerCase()}|${(A.lot_number||"").trim().toLowerCase()}`;return R.has(Q)?!0:(R.add(Q),!1)});if(z!==-1){Rt.error(`Duplicate batch entry found at row ${z+1}.`);return}const O=c.map(A=>({...A,batch_number:(A.batch_number||"").trim(),lot_number:(A.lot_number||"").trim(),quantity:Number(A.quantity)||0,manufacturing_date:(A.manufacturing_date||"").trim(),expiry_date:(A.expiry_date||"").trim()})),$=[...r.values.van_inventory_items];$[a]={...$[a],quantity:l?D:$[a].quantity,product_batches:O},r.setFieldValue("van_inventory_items",$),f()},[a,c,r,f,i,l]),b=g.useMemo(()=>{if(!u.trim())return c;const P=u.toLowerCase();return c?.filter(E=>E.batch_number?.toLowerCase().includes(P)||E.lot_number?.toLowerCase().includes(P))},[c,u]),w=g.useMemo(()=>{if(a===null)return!1;const P=Number(i),E=Number.isFinite(P)&&P>0,D=c.reduce((z,O)=>z+(Number(O.quantity)||0),0);if(E){if(D!==P)return!1}else if(c.length===0)return!1;if(c.some(z=>{const O=(z.batch_number||"").trim(),$=(z.manufacturing_date||"").trim(),A=(z.expiry_date||"").trim(),Q=Number(z.quantity);return!O||!$||!A||!Number.isFinite(Q)||Q<=0}))return!1;const R=new Set;for(const z of c){const O=`${(z.batch_number||"").trim().toLowerCase()}|${(z.lot_number||"").trim().toLowerCase()}`;if(R.has(O))return!1;R.add(O)}return!0},[a,c,i]),C=g.useMemo(()=>[{id:"batch_number",label:"Batch Number",render:(P,E,D)=>l?e.jsx("span",{className:"text-gray-900",children:E.batch_number}):e.jsx(oe,{value:E.batch_number,onChange:T=>_("batch_number",D,T.target.value),size:"small",className:"!w-52",placeholder:"Enter batch number",fullWidth:!0})},{id:"manufacturing_date",label:"MFG Date",render:(P,E,D)=>l?e.jsx("span",{className:"text-gray-900",children:Oe(E.manufacturing_date)}):e.jsx(oe,{type:"date",value:E.manufacturing_date,onChange:T=>_("manufacturing_date",D,T.target.value),className:"!w-52",size:"small",placeholder:"Enter manufacturing date"})},{id:"expiry_date",label:"EXP Date",render:(P,E,D)=>l?e.jsx("span",{className:"text-gray-900",children:Oe(E.expiry_date)}):e.jsx(oe,{type:"date",value:E.expiry_date,onChange:T=>_("expiry_date",D,T.target.value),className:"!w-52",size:"small",placeholder:"Enter expiry date"})},{id:"available_quantity",label:"Available",isVisible:l,render:(P,E)=>l?e.jsx("span",{className:"text-gray-600",children:E.batch_remaining_quantity||0}):null},{id:"quantity",label:l?"Unload Quantity":"Quantity",render:(P,E,D)=>e.jsx(oe,{type:"number",value:E.quantity,onChange:T=>_("quantity",D,T.target.value),size:"small",className:"!w-32",placeholder:l?"Enter unload quantity":"Enter quantity",fullWidth:!0,inputProps:{min:0,max:l&&E.batch_remaining_quantity||void 0}})},{id:"actions",label:"Actions",render:(P,E,D)=>e.jsx(Vt,{onClick:()=>v(D),tooltip:`Delete ${E.batch_number||"batch"}`,itemName:E.batch_number||"batch",confirmDelete:!0})}],[_,v,l]);return e.jsxs(sc,{open:t,onClose:f,slotProps:{paper:{className:"!min-w-[60%] !max-w-[60%]"}},children:[e.jsxs("div",{className:"flex justify-between items-center !p-2",children:[e.jsxs("p",{className:"!font-semibold text-lg !text-gray-900",children:["Batch Information (",i,")"]}),e.jsx(Ka,{icon:e.jsx(Gn,{}),onClick:f,size:"small","aria-label":"Close dialog"})]}),e.jsx(fn,{}),e.jsxs(y,{className:"!p-2 min-h-[40vh]",children:[e.jsxs("div",{className:"flex justify-between items-center pb-2",children:[e.jsx(as,{placeholder:"Search Batch",value:u,onChange:P=>h(P)}),!l&&e.jsx(G,{variant:"contained",color:"primary",startIcon:e.jsx(Qn,{size:16}),onClick:S,children:"Add Batch"})]}),e.jsx(lt,{stickyHeader:!0,maxHeight:"50vh",columns:C,data:b,compact:!0,pagination:!1,sortable:!1})]}),e.jsxs(y,{className:"!p-2 !flex !justify-end !border-t gap-2 !border-gray-300",children:[e.jsx(G,{variant:"outlined",color:"info",onClick:f,children:"Cancel"}),e.jsx(G,{variant:"contained",color:"primary",onClick:j,disabled:!w,children:"Update"})]})]})},tTe={serial_number:"",quantity:1,product_id:0},sTe=({isOpen:t,setIsOpen:s,selectedRowIndex:a,setSelectedRowIndex:n,formik:r,quantity:i=null,inventoryByProductId:o,isUnloadType:l=!1})=>{const[c,m]=g.useState([]);g.useEffect(()=>{if(!t||a===null)return;const S=r.values.van_inventory_items[a];if(!S){m([]);return}let j=S.product_serials||[];if(j.length===0&&l&&o&&typeof S.product_id=="number"){const b=o[S.product_id];b&&b.serials.length>0&&(j=b.serials.map(w=>({...w,selected:!1})))}if(l)console.log("ManageSerial - Loading unload serials:",j),m(j);else{const b=j.length,w=Number(i),C=b>0?b:Number.isFinite(w)&&w>0?w:0,P=Array.from({length:C},(E,D)=>{const T=j[D];return{...tTe,...T||{},product_id:Number(S.product_id||0),quantity:1,serial_number:T?.serial_number||""}});console.log("ManageSerial - Loading load serials:",{desiredCount:C,existingSerialsCount:b,quantity:w,normalizedSerials:P}),m(P)}},[t,a]);const u=g.useCallback(()=>{s(!1),m([]),n(null)},[s,n]),h=g.useCallback((S,j,b)=>{m(w=>{const C=[...w];return S==="selected"&&l?C[j].selected=!!b:S!=="selected"&&(C[j]={...C[j],[S]:S==="quantity"?Number(b)||0:b}),C})},[l]),f=g.useMemo(()=>{if(a===null)return!1;if(l)return c.filter(P=>P.selected).length>0;const S=Number(i);if(Number.isFinite(S)&&S>0){if(c.length!==S)return!1}else if(c.length===0)return!1;const b=c.map(C=>(C.serial_number||"").trim());if(b.some(C=>C.length===0))return!1;const w=new Set;for(const C of b){const P=C.toLowerCase();if(w.has(P))return!1;w.add(P)}return!0},[a,c,i,l]),v=g.useCallback(()=>{if(a===null)return;if(l){const E=c.filter(T=>T.selected);if(E.length===0){Rt.error("Please select at least one serial number.");return}console.log("ManageSerial - Saving unload serials:",{selectedRowIndex:a,selectedCount:E.length,serials:E});const D=[...r.values.van_inventory_items];D[a]={...D[a],quantity:E.length,product_serials:E.map(T=>({...T,serial_number:(T.serial_number||"").trim(),quantity:1,selected:!0}))},r.setFieldValue("van_inventory_items",D),u();return}const S=Number(i);if(Number.isFinite(S)&&S>0&&c.length!==S){Rt.error(`Serial count (${c.length}) must match item quantity (${S}).`);return}const j=c.map(E=>(E.serial_number||"").trim()),b=j.findIndex(E=>E.length===0);if(b!==-1){Rt.error(`Serial number is required for row ${b+1}.`);return}const w=new Set,C=j.findIndex(E=>{const D=E.toLowerCase();return w.has(D)?!0:(w.add(D),!1)});if(C!==-1){Rt.error(`Duplicate serial number found: ${j[C]}`);return}const P=[...r.values.van_inventory_items];P[a]={...P[a],product_serials:c.map(E=>({...E,serial_number:(E.serial_number||"").trim(),quantity:1}))},r.setFieldValue("van_inventory_items",P),u()},[a,c,r,u,i,l]),_=g.useMemo(()=>{const S=[];return l&&S.push({id:"selected",label:"Select",width:80,render:(j,b,w)=>e.jsx("input",{type:"checkbox",checked:b.selected||!1,onChange:C=>h("selected",w,C.target.checked),className:"w-4 h-4"})}),S.push({id:"serial_number",label:"Serial Number",render:(j,b,w)=>l?e.jsx("span",{className:"text-gray-900",children:b.serial_number}):e.jsx(oe,{value:b.serial_number,onChange:C=>h("serial_number",w,C.target.value),size:"small",placeholder:"Enter serial number",fullWidth:!0})}),S.push({id:"quantity",label:"Quantity",render:(j,b)=>e.jsx(oe,{type:"number",value:b.quantity,disabled:!0,size:"small",placeholder:"1",fullWidth:!0,slotProps:{input:{inputProps:{min:1,max:1}}}})}),S},[h,l]);return e.jsxs(sc,{open:t,onClose:u,slotProps:{paper:{className:"!min-w-[60%] !max-w-[60%]"}},children:[e.jsxs("div",{className:"flex justify-between items-center !p-2",children:[e.jsx("p",{className:"!font-semibold text-lg !text-gray-900",children:l?"Select Serials to Unload":`Serial Information (${i})`}),e.jsx(Ka,{icon:e.jsx(Gn,{}),onClick:u,size:"small","aria-label":"Close dialog"})]}),e.jsx(fn,{}),e.jsx(y,{className:"!p-2 min-h-[40vh]",children:e.jsx(lt,{stickyHeader:!0,maxHeight:"50vh",columns:_,data:c,compact:!0,pagination:!1,sortable:!1})}),e.jsxs(y,{className:"!p-2 !flex !justify-end !border-t gap-2 !border-gray-300",children:[e.jsx(G,{variant:"outlined",color:"info",onClick:u,children:"Cancel"}),e.jsx(G,{variant:"contained",color:"primary",onClick:v,disabled:!f,children:"Update"})]})]})};let aTe=0;const nTe=()=>`temp-${Date.now()}-${aTe++}`,rTe=({selectedVanInventory:t,setSelectedVanInventory:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=g.useRef(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(null),[f,v]=g.useState(null),_=LEe(),S=zEe(),{data:j}=tL(t?.id||0),{data:b}=Ru({limit:1e3,status:"active"}),{data:w}=r3({limit:1e3,isActive:"Y"}),{data:C}=ko({limit:1e3,isActive:"Y"}),P=ft({initialValues:{user_id:t?.user_id||"",loading_type:t?.loading_type||"L",status:t?.status||"A",document_date:t?.document_date||new Date().toISOString().split("T")[0],vehicle_id:t?.vehicle_id||"",location_type:t?.location_type||"van",location_id:t?.location_id||"",is_active:t?.is_active||"Y",van_inventory_items:[]},validationSchema:X8e,enableReinitialize:!0,onSubmit:async X=>{try{if(X.van_inventory_items.length===0){Rt.error("Please add at least one item to the van inventory.");return}if(X.van_inventory_items.filter(re=>re.batch_lot_id&&re.quantity!=null&&re.remaining_quantity!=null&&Number(re.quantity)>re.remaining_quantity).length>0)return Rt.error("Some items have quantities exceeding available stock. Please adjust before submitting."),!1;if(X.van_inventory_items.filter(re=>!re.product_id||re.quantity==null).length>0)return Rt.error("Please complete all fields (Product, Batch, and Quantity) for all items before submitting."),!1;const ae=X.van_inventory_items.some(re=>re.tracking_type?.toLowerCase()==="batch"&&re.product_batches&&Array.isArray(re.product_batches)&&re.product_batches.length>0&&re.quantity!=null&&Number(re.quantity)!==re.product_batches.reduce((xe,ge)=>xe+(ge.quantity??0),0)),pe=X.van_inventory_items.some(re=>re.tracking_type?.toLowerCase()==="serial"&&re.product_serials&&Array.isArray(re.product_serials)&&re.product_serials.length>0&&re.quantity!=null&&Number(re.quantity)!==re.product_serials.length);if(ae||pe)return Rt.error("Quantity mismatch detected. Please ensure the quantity matches the selected batch quantities or serial numbers."),!1;const he={...r&&t?{id:t.id}:{},user_id:Number(X.user_id),loading_type:X.loading_type,status:X.status,document_date:X.document_date||new Date().toISOString().split("T")[0],vehicle_id:X.vehicle_id?Number(X.vehicle_id):null,location_type:X.location_type,location_id:X.location_id?Number(X.location_id):null,is_active:X.is_active,van_inventory_items:X.van_inventory_items.filter(re=>re.product_id&&re.quantity!=null).map(re=>{const xe=re.tracking_type?.toLowerCase()==="batch"&&re.product_batches&&Array.isArray(re.product_batches)&&re.product_batches.length>0?re.product_batches.filter(ge=>ge?.quantity&&ge?.quantity>0):null;return{product_id:Number(re.product_id),product_name:re.product_name||null,product_serials:re.tracking_type?.toLowerCase()==="serial"&&re.product_serials&&Array.isArray(re.product_serials)&&re.product_serials.length>0?re.product_serials:null,product_batches:xe,quantity:Number(re.quantity),notes:re.notes||null,tracking_type:re.tracking_type||null,batch_lot_id:re.batch_lot_id?Number(re.batch_lot_id):null,...re.id&&{id:re.id}}})};r&&t?await S.mutateAsync({id:t.id,...he}):await _.mutateAsync(he),V()}catch(te){console.error("Error saving van inventory:",te),Rt.error("Failed to save van inventory. Please try again.");return}}}),E=P.values.user_id?Number(P.values.user_id):0,D=P.values.loading_type==="U",{data:T,isLoading:R,refetch:z}=n3(E,{enabled:!!E&&a&&D}),O=g.useMemo(()=>b?.data||[],[b]),$=g.useMemo(()=>w?.data||[],[w]),A=g.useMemo(()=>C?.data||[],[C]),Q=g.useMemo(()=>D?T?.data?(T.data.products||[]).map(se=>({id:se.product_id,name:se.product_name,code:se.product_code,tracking_type:se.tracking_type,unit_price:0})):[]:O,[D,T,O]),K=g.useMemo(()=>{const X={};return!D||!T?.data||(T.data.products||[]).forEach(ae=>{const pe=(ae.batches||[]).map(re=>({batch_lot_id:re.batch_lot_id,total_quantity:re.total_quantity,batch_number:re.batch_number,lot_number:re.lot_number,manufacturing_date:re.manufacturing_date,expiry_date:re.expiry_date,batch_total_quantity:re.total_quantity,batch_remaining_quantity:re.remaining_quantity,remaining_quantity:re.remaining_quantity,supplier_name:re.supplier_name,quality_grade:re.quality_grade,days_until_expiry:re.days_until_expiry,is_expired:re.is_expired,is_expiring_soon:re.is_expiring_soon,quantity:null})),he=(ae.serials||[]).map(re=>({id:re.serial_id,product_id:ae.product_id,serial_number:re.serial_number,quantity:1,selected:!1}));X[ae.product_id]={batches:pe,serials:he}}),X},[D,T]),U=j?.data,B=U?.id,V=()=>{n(!1),s(null),P.resetForm(),i.current=null};g.useEffect(()=>{if(!a){i.current=null;return}if(i.current!==B)if(r&&U&&B){console.log("Loading van inventory items:",U);const X=new Map;U.items?.forEach(se=>{const ae=X.get(se.product_id),pe=O.find(re=>re.id===se.product_id),he=se.tracking_type||pe?.tracking_type||null;if(ae)ae.quantity=(Number(ae.quantity)||0)+(se.quantity??0),he==="batch"&&se.batch_lot_id&&(ae.product_batches||(ae.product_batches=[]),ae.product_batches.push({batch_lot_id:se.batch_lot_id,batch_number:se.batch_number||"",lot_number:se.lot_number||"",quantity:se.quantity??0,remaining_quantity:se.product_remaining_quantity??0,total_quantity:se.batch_total_remaining_quantity??0,manufacturing_date:"",expiry_date:se.expiry_date||""})),he==="serial"&&se.product_serials&&Array.isArray(se.product_serials)&&(ae.product_serials||(ae.product_serials=[]),ae.product_serials.push(...se.product_serials.map(re=>({id:re.id,product_id:se.product_id,serial_number:re.serial_number,quantity:1,selected:!0}))));else{const re={product_id:se.product_id,product_name:se.product_name||null,quantity:se.quantity??null,notes:se.notes||null,batch_lot_id:se.batch_lot_id??null,batch_number:se.batch_number||null,lot_number:se.lot_number||null,remaining_quantity:se.product_remaining_quantity??null,total_quantity:se.batch_total_remaining_quantity??null,tracking_type:he,id:se.id,tempId:`edit-${se.id}`,product_batches:[],product_serials:[]};he==="batch"&&se.batch_lot_id&&(re.product_batches=[{batch_lot_id:se.batch_lot_id,batch_number:se.batch_number||"",lot_number:se.lot_number||"",quantity:se.quantity??0,remaining_quantity:se.product_remaining_quantity??0,total_quantity:se.batch_total_remaining_quantity??0,manufacturing_date:"",expiry_date:se.expiry_date||""}]),he==="serial"&&se.product_serials&&Array.isArray(se.product_serials)&&(re.product_serials=se.product_serials.map(xe=>({id:xe.id,product_id:se.product_id,serial_number:xe.serial_number,quantity:1,selected:!0}))),X.set(se.product_id,re)}});const te=Array.from(X.values());console.log("Processed items for form:",te),P.setFieldValue("van_inventory_items",te),i.current=B}else r||i.current!==0&&(P.setFieldValue("van_inventory_items",[]),i.current=0)},[a,r,B,U,O]),g.useEffect(()=>{D&&E>0&&a&&z()},[D,E,a,z]);const Y=g.useCallback(()=>{const X={product_id:null,quantity:null,id:null,batch_lot_id:null,batch_number:null,lot_number:null,remaining_quantity:null,total_quantity:null,product_batches:[],product_serials:[],tempId:nTe()};P.setFieldValue("van_inventory_items",[...P.values.van_inventory_items||[],X])},[P]),H=g.useCallback(X=>{const te=(P.values.van_inventory_items||[]).filter((se,ae)=>ae!==X);P.setFieldValue("van_inventory_items",te)},[P]),F=g.useCallback((X,te,se)=>{const ae=P.values.van_inventory_items||[],pe=ae[X];if(!pe)return;const he=[...ae];if(te==="product_id"){const re=se===""||se===null?null:Number(se),xe=Q.find(de=>de.id===re);let ge=[],le=[];if(D&&re&&K[re]){const de=K[re];ge=de.batches.map(we=>({...we,quantity:0})),le=de.serials.map(we=>({...we,selected:!1}))}he[X]={...pe,product_id:re,product_name:xe?.name||null,batch_lot_id:null,batch_number:null,tracking_type:xe?.tracking_type||null,lot_number:null,remaining_quantity:null,total_quantity:null,quantity:(D&&(xe?.tracking_type==="batch"||xe?.tracking_type==="serial"),null),notes:"",product_batches:ge,product_serials:le}}else te==="quantity"?he[X]={...pe,quantity:se===""||se===null?null:Number(se)}:he[X]={...pe,[te]:se===""||se===null?null:se};P.setFieldValue("van_inventory_items",he)},[P,Q,D,K]),M=g.useCallback(X=>{const te=P.values.van_inventory_items[X];te?(h(X),v(te.quantity),l(!0)):(h(null),v(null),l(!1))},[P.values.van_inventory_items]),L=g.useCallback(X=>{const te=P.values.van_inventory_items[X];te?(h(X),v(te.quantity),m(!0)):(h(null),v(null),m(!1))},[P.values.van_inventory_items]),W=g.useMemo(()=>[{id:"product_id",label:"Product",width:450,render:(X,te,se)=>e.jsx(_e,{name:`van_inventory_items[${se}].product_id`,value:te.product_id??"",onChange:ae=>{const pe=ae.target.value;F(se,"product_id",pe===""||pe===null?null:Number(pe))},fullWidth:!0,size:"small",placeholder:D?R?"Loading inventory...":Q.length===0?"No products in van inventory":"Select product from van inventory":"Select product",disableClearable:!1,children:Q.map(ae=>e.jsxs(Z,{value:ae.id,children:[ae.name,ae.code&&` [${ae.code}]`]},ae.id))})},{id:"tracking_type",label:"Tracking Type",width:300,render:(X,te,se)=>e.jsxs(y,{className:"flex justify-between items-center",children:[e.jsx(x,{variant:"body2",className:"!text-gray-700 uppercase",children:X??"None"}),e.jsxs(y,{className:"flex justify-end items-center gap-2",children:[X&&X.toLowerCase()==="batch"||X&&X.toLowerCase()==="serial"?e.jsxs(G,{startIcon:e.jsx(X4,{}),variant:"text",onClick:()=>{if(!te.product_id){Rt.error("Please select a product first");return}if(P.values.loading_type==="L"&&(!te.quantity||te.quantity===""||te.quantity==="0")){Rt.error("Please enter quantity before selecting batch/serial");return}X&&X.toLowerCase()==="batch"?M(se):L(se)},children:["Select"," ",X&&X.toLowerCase()==="batch"?"Batch":X&&X.toLowerCase()==="serial"?"Serial":"None"]}):null,(te.tracking_type==="serial"&&te.product_serials?.length!==te.quantity||te.tracking_type==="batch"&&te.product_batches?.reduce((ae,pe)=>ae+(pe.quantity??0),0)!==te.quantity)&&e.jsx(Va,{placement:"top",color:"error",title:te.tracking_type==="serial"?`Mismatch: ${te.product_serials?.length||0} serial number(s) assigned, but quantity is ${te.quantity}. Please select serials to match the quantity.`:`Mismatch: ${te.product_batches?.reduce((ae,pe)=>ae+(pe.quantity??0),0)||0} units in batches, but quantity is ${te.quantity}. Please adjust batch quantities to match.`,arrow:!0,children:e.jsx(Kle,{color:"error",fontSize:"small"})})]})]})},{id:"quantity",label:`${P.values.loading_type==="L"?"Load":"Unload"} Quantity`,width:250,render:(X,te,se)=>{const ae=(te.tracking_type==="batch"||te.tracking_type==="serial")&&D;return e.jsx(oe,{name:`van_inventory_items[${se}].quantity`,type:"number",value:te.quantity??"",onChange:pe=>{const he=pe.target.value;F(se,"quantity",he===""?null:he)},size:"small",fullWidth:!0,placeholder:"Enter Quantity",disabled:ae})}},{id:"action",label:"Actions",width:80,sortable:!1,render:(X,te,se)=>e.jsx(Vt,{onClick:()=>H(se),tooltip:"Remove item"})}],[Q,P.values.loading_type,F,H,M,L,D,R]);return e.jsxs(ot,{open:a,setOpen:V,title:r?"Edit Van Stock":"Load/Unload Stock to Van",size:"large",children:[e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:P.handleSubmit,className:"!space-y-3",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(hr,{name:"user_id",label:"Van Inventory User",formik:P,required:!0}),e.jsxs(_e,{name:"loading_type",label:"Type",formik:P,required:!0,children:[e.jsx(Z,{value:"L",children:"Load"}),e.jsx(Z,{value:"U",children:"Unload"})]}),e.jsxs(_e,{name:"status",label:"Status",formik:P,required:!0,children:[e.jsx(Z,{value:"D",children:"Draft"}),e.jsx(Z,{value:"A",children:"Confirmed"}),e.jsx(Z,{value:"C",children:"Canceled"})]}),e.jsx(oe,{name:"document_date",label:"Document Date",type:"date",formik:P,required:!0}),e.jsx(_e,{name:"vehicle_id",label:"Vehicle",formik:P,placeholder:"Select Vehicle",children:$.map(X=>e.jsxs(Z,{value:X.id,children:[X.vehicle_number," (",X.type,")"]},X.id))}),e.jsx(_e,{name:"location_id",label:"Location/Depot",formik:P,placeholder:"Select Location/Depot",children:A.map(X=>e.jsxs(Z,{value:X.id,children:[X.name," (",X.code,")"]},X.id))})]}),e.jsx(Ps,{name:"is_active",label:"Active Status",formik:P,required:!0}),e.jsx(lt,{data:P.values.van_inventory_items,compact:!0,actions:e.jsxs(y,{className:"!flex !justify-between !items-center",children:[e.jsxs(x,{variant:"body1",className:"!font-semibold",children:["Inventory Items"," "]}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:Y,startIcon:e.jsx(Qn,{size:16}),children:"Add Item"})]}),columns:W,getRowId:X=>X.tempId||X.id?.toString()||"unknown",pagination:!1,emptyMessage:D?"No items added. For Unload type, only products in user's van inventory are available.":"No items added. Click 'Add Item' to add inventory items"}),e.jsxs(y,{className:"!flex !justify-end !gap-3 !mt-6",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:V,disabled:_.isPending||S.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:_.isPending||S.isPending,children:_.isPending||S.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})}),e.jsx(eTe,{isOpen:o,setIsOpen:l,selectedRowIndex:u,setSelectedRowIndex:h,formik:P,quantity:f,inventoryByProductId:D?K:void 0,isUnloadType:D}),e.jsx(sTe,{isOpen:c,setIsOpen:m,selectedRowIndex:u,setSelectedRowIndex:h,formik:P,quantity:f,inventoryByProductId:D?K:void 0,isUnloadType:D})]})},iTe=({open:t,onClose:s,vanInventory:a})=>{const[n,r]=g.useState(!1),[i,o]=g.useState(!1),{data:l,isLoading:c,error:m}=tL(a?.id||0),u=l?.data||a;g.useEffect(()=>{t&&(r(!1),o(!1))},[t]),g.useEffect(()=>{if(m&&!n&&t){const P=setTimeout(()=>{o(!0)},2e3);return()=>clearTimeout(P)}},[m,n,t]);const h=()=>{r(!0),s()},f=P=>({D:"bg-yellow-100 text-yellow-800",A:"bg-green-100 text-green-800",C:"bg-red-100 text-red-800"})[P]||"bg-gray-100 text-gray-800",v=P=>({D:"Draft",A:"Confirmed",C:"Canceled"})[P]||P,_=P=>{switch(P){case"D":return e.jsx(Cs,{className:"w-4 h-4"});case"A":return e.jsx(Oa,{className:"w-4 h-4"});case"C":return e.jsx(Na,{className:"w-4 h-4"});default:return e.jsx(Cs,{className:"w-4 h-4"})}},S=P=>{switch(P){case"L":return"Load";case"U":return"Unload";default:return P}},j=P=>P==="L"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800",b=()=>{h()};if(c)return e.jsx(ot,{open:t,setOpen:h,title:"Van Inventory Details",size:"large",children:e.jsxs("div",{className:"!p-6 !space-y-6",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx(J,{variant:"circular",width:96,height:96,className:"!mx-auto !mb-4"}),e.jsx(J,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-2"}),e.jsx(J,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(J,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto"})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[1,2,3,4].map(P=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(J,{variant:"text",width:"40%",height:20,className:"!mb-4"}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(E=>e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(J,{variant:"text",width:"30%",height:16}),e.jsx(J,{variant:"text",width:"40%",height:16})]},E))})]},P))})]})});if(m||!u&&i)return e.jsx(ot,{open:t,setOpen:h,title:"Van Inventory Details",size:"large",children:e.jsxs("div",{className:"!p-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Na,{className:"w-5 h-5"}),e.jsx(x,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load van inventory details"})]}),e.jsx(x,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:b,className:"mt-4",children:"Back to Van Inventory"})]})});if(!u)return e.jsx(ot,{open:t,setOpen:h,title:"Van Inventory Details",size:"large",children:e.jsx("div",{className:"!p-6",children:e.jsx(x,{variant:"body2",className:"!text-gray-500 text-center",children:"No van inventory data available"})})});const w=({title:P,children:E,icon:D})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-2 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[D&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(D,{className:"!text-primary-500"})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:P})]}),E]})]}),C=[{id:"product_name",label:"Product",render:(P,E)=>e.jsx(x,{variant:"body2",className:"!font-medium !text-gray-900",children:E.product_name||`Product #${E.product_id}`})},{id:"tracking_type",label:"Tracking Type",render:(P,E)=>{const D=(E.tracking_type||"").toString().toLowerCase(),T=D||(Array.isArray(E.product_serials)?"serial":Array.isArray(E.product_batches)||E.batch_number||E.batch_lot_id?"batch":"");return e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(x,{variant:"body2",className:"!text-gray-700 uppercase",children:T||"None"})})}},{id:"quantity",label:"Quantity",render:(P,E)=>e.jsx(x,{variant:"body2",className:"!text-gray-700",children:E.quantity})}];return e.jsx(ot,{open:t,setOpen:h,title:"Van Inventory Details",size:"large",children:e.jsxs("div",{className:"!p-5 mb-10 !space-y-5",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${u.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ht,{className:ln("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":u.loading_type==="L","!bg-gradient-to-br !from-purple-400 !to-purple-600 !text-white":u.loading_type==="U"}),children:e.jsx(Wr,{className:"!w-8 !h-8"})})}),e.jsxs(x,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:["Van Inventory #",u.id]}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mb-3",children:u.user?.name||"Unknown User"}),e.jsxs("div",{className:"!flex !justify-center !gap-2 !mb-4",children:[e.jsx(De,{icon:_(u.status||"D"),label:v(u.status||"D"),className:`${f(u.status||"D")} font-semibold`,size:"small"}),e.jsx(De,{label:S(u.loading_type||"L"),className:`${j(u.loading_type||"L")} font-semibold`,size:"small"})]}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Total Items"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:[u.items?.length||0," items"]})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Document Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(u.document_date)||"N/A"})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Last Updated"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(u.last_updated)||"N/A"})]})]})]}),e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(w,{title:"User Information",icon:Rn,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"User Name:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u.user?.name||"N/A"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Email:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u.user?.email||"N/A"})]})]})}),e.jsx(w,{title:"Vehicle Information",icon:Wr,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Vehicle Number:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u.vehicle?.vehicle_number||"No Vehicle"})]}),u.vehicle&&e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Vehicle Type:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:u.vehicle.type||"N/A"})]})]})}),e.jsx(w,{title:"Inventory Information",icon:Hr,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Type:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:S(u.loading_type||"L")})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Status:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:v(u.status||"D")})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Document Date:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(u.document_date)||"N/A"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Active Status:"}),e.jsx(x,{variant:"body2",className:`!font-semibold ${u.is_active==="Y"?"!text-green-600":"!text-red-600"}`,children:u.is_active==="Y"?"Active":"Inactive"})]})]})}),e.jsx(w,{title:"Location Information",icon:Qs,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Location Type:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:u.location_type||"Van"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Location ID:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u.location_id||"N/A"})]})]})})]}),e.jsx(w,{title:"Inventory Items",icon:Wt,children:e.jsx("div",{className:"!space-y-2",children:u.items&&u.items.length>0?e.jsx(lt,{data:u.items,columns:C,getRowId:P=>P.id?.toString()||`${P.product_id}-${P.batch_lot_id||""}-${P.batch_number||""}`,pagination:!1,compact:!0,sortable:!1,emptyMessage:"No items found"}):e.jsx(x,{variant:"body2",className:"!text-gray-500 !text-center !py-4",children:"No items found"})})})]})})},oTe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState("all"),[o,l]=g.useState(void 0),[c,m]=g.useState(null),[u,h]=g.useState(!1),[f,v]=g.useState(!1),[_,S]=g.useState(!1),[j,b]=g.useState(1),[w]=g.useState(10),{isCreate:C,isUpdate:P,isDelete:E,isRead:D}=Ze("van-stock"),{data:T,isLoading:R,error:z}=eL({search:t,page:j,limit:w,status:a==="all"?void 0:a==="active"?"active":"inactive",loading_type:r==="all"?void 0:r==="load"?"L":"U",user_id:o},{enabled:D}),O=T?.data||[],$=T?.meta?.total||0,A=(T?.meta?.page||1)-1,Q=$Ee(),K=ms(),U=T?.stats?.total_records??0,B=T?.stats?.active_records??0,V=T?.stats?.inactive_records??0,Y=T?.stats?.van_inventory??0,H=g.useCallback(()=>{m(null),h(!0)},[]),F=g.useCallback(ge=>{m(ge),v(!0)},[]),M=g.useCallback(async ge=>{try{await Q.mutateAsync(ge)}catch(le){console.error("Error deleting van inventory:",le)}},[Q]),L=g.useCallback(ge=>{s(ge),b(1)},[]),W=g.useCallback((ge,le)=>{l(le?le.id:void 0),b(1)},[]),X=g.useCallback(ge=>{n(ge),b(1)},[]),te=g.useCallback(ge=>{i(ge),b(1)},[]),se=ge=>{b(ge+1)},ae=g.useCallback(async()=>{try{const ge={search:t,status:a==="all"?void 0:a==="active"?"active":"inactive",user_id:o};await K.mutateAsync({tableName:"van_inventory",filters:{...ge,user_id:o}})}catch(ge){console.error("Error exporting van inventory:",ge)}},[K,t,a]),pe=ge=>{switch(ge){case"L":return"Load";case"U":return"Unload";default:return ge}},he=ge=>{switch(ge){case"D":return"Draft";case"A":return"Confirmed";case"C":return"Canceled";default:return ge}},re=ge=>{switch(ge){case"D":return"warning";case"A":return"success";case"C":return"error";default:return"default"}},xe=[{id:"user_id",label:"User",render:(ge,le)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:le.user?.name||"Unknown",className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Wr,{className:"w-5 h-5"})}),e.jsxs(y,{className:"!max-w-xs",children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:le.user?.name||"Unknown User"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:le.user?.email||"No email"})]})]})},{id:"loading_type",label:"Type",render:(ge,le)=>e.jsx(De,{label:pe(le.loading_type||"L"),size:"small",className:"w-24",variant:"outlined",color:le.loading_type==="L"?"success":"error",icon:le.loading_type==="L"?e.jsx(xs,{}):e.jsx(_t,{})})},{id:"status",label:"Status",render:(ge,le)=>e.jsx(De,{label:he(le.status||"D"),size:"small",className:"w-24",variant:"outlined",color:re(le.status||"D")})},{id:"items",label:"Items",render:(ge,le)=>e.jsxs(x,{variant:"body2",className:"!text-gray-900",children:[le.items?.length||0," items"]})},{id:"vehicle",label:"Vehicle",render:(ge,le)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:le.vehicle?.vehicle_number||"No Vehicle"})},{id:"document_date",label:"Document Date",render:(ge,le)=>Oe(le.document_date)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},{id:"is_active",label:"Active",render:ge=>e.jsx(De,{icon:ge==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:ge==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:ge==="Y"?"success":"error"})},{id:"last_updated",label:"Last Updated",render:(ge,le)=>{const de=Oe(le.last_updated);return de?e.jsx("span",{children:de}):e.jsx("span",{className:"italic text-gray-400",children:"No Date"})}},...P||E||D?[{id:"id",label:"Actions",sortable:!1,render:(ge,le)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[D&&e.jsx(e.Fragment,{children:e.jsx(Ka,{onClick:()=>F(le),tooltip:"Manage van inventory items",icon:e.jsx(Cr,{fontSize:"small"}),color:"info"})}),E&&e.jsx(Vt,{onClick:()=>M(le.id),tooltip:`Delete Van Inventory #${le.id}`,itemName:`Van Inventory #${le.id}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Van Stock Load/Unload"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage van inventory, stock levels, and load/unload operations for sales personnel"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Records",value:U,icon:e.jsx(Wr,{className:"w-6 h-6"}),color:"blue",isLoading:R}),e.jsx(fe,{title:"Active Records",value:B,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:R}),e.jsx(fe,{title:"Inactive Records",value:V,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:R}),e.jsx(fe,{title:"New This Month",value:Y,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:R})]}),z&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load van inventory. Please try again."}),e.jsx(lt,{data:O,columns:xe,actions:D||C?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[D&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(as,{placeholder:"Search Van Inventory...",value:t,onChange:L,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:ge=>X(ge.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(_e,{value:r,onChange:ge=>te(ge.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Types"}),e.jsx(Z,{value:"load",children:"Load"}),e.jsx(Z,{value:"unload",children:"Unload"})]}),e.jsx(y,{className:"!w-70",children:e.jsx(hr,{label:"",placeholder:"Select User",value:o,onChange:W,fullWidth:!0,size:"small"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[D&&e.jsx(Jt,{title:"Export Van Inventory",description:"Are you sure you want to export the current van inventory data to Excel? This will include all filtered results.",onConfirm:ae,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:K.isPending,children:K.isPending?"Exporting...":"Export"})}),C&&e.jsx(G,{variant:"outlined",startIcon:e.jsx(xs,{}),onClick:()=>S(!0),children:"Import"}),C&&e.jsx(G,{variant:"contained",startIcon:e.jsx(ds,{}),onClick:H,children:"Create"})]})]}):!1,getRowId:ge=>ge.id,initialOrderBy:"last_updated",loading:R,totalCount:$,page:A,rowsPerPage:w,onPageChange:se,isPermission:D,emptyMessage:t?`No van inventory found matching "${t}"`:"No van inventory found in the system"}),e.jsx(rTe,{selectedVanInventory:c,setSelectedVanInventory:m,drawerOpen:u,setDrawerOpen:h}),e.jsx(iTe,{open:f,onClose:()=>{v(!1),m(null)},vanInventory:c}),e.jsx(q8e,{drawerOpen:_,setDrawerOpen:S})]})},lTe=it({file:hs().required("Please select a file to import")}),cTe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:lTe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("vehicles")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"vehicles",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Vehicles",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple vehicles. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},dTe=it({vehicle_number:me().required("Vehicle number is required").min(1,"Vehicle number must be at least 1 character").max(20,"Vehicle number must be less than 20 characters"),type:me().required("Vehicle type is required").max(20,"Type must be less than 20 characters"),make:me().max(50,"Make must be less than 50 characters"),model:me().max(50,"Model must be less than 50 characters"),capacity:Qe().positive("Capacity must be a positive number"),mileage:Qe().positive("Mileage must be a positive number"),is_active:me().required("Status is required")}),uTe=({selectedVehicle:t,setSelectedVehicle:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=K8e(),l=Q8e(),c=ft({initialValues:{vehicle_number:t?.vehicle_number||"",type:t?.type||"",make:t?.make||"",model:t?.model||"",year:t?.year?t.year.toString():"",capacity:t?.capacity||"",fuel_type:t?.fuel_type||"",status:t?.status||"available",mileage:t?.mileage||"",is_active:t?.is_active||"Y"},validationSchema:dTe,enableReinitialize:!0,onSubmit:async m=>{try{const u={vehicle_number:m.vehicle_number,type:m.type,make:m.make,model:m.model,year:m.year?Number(m.year):void 0,capacity:m.capacity?Number(m.capacity):void 0,fuel_type:m.fuel_type,status:m.status,mileage:m.mileage?Number(m.mileage):void 0,is_active:m.is_active};r&&t?await l.mutateAsync({id:t.id,...u}):await o.mutateAsync(u),i()}catch(u){console.error("Error saving vehicle:",u)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Vehicle":"Create Vehicle",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(oe,{name:"vehicle_number",label:"Vehicle Number",placeholder:"Enter vehicle number",formik:c,required:!0}),e.jsxs(_e,{name:"type",label:"Vehicle Type",formik:c,required:!0,children:[e.jsx(Z,{value:"Truck",children:"Truck"}),e.jsx(Z,{value:"Trailer",children:"Trailer"}),e.jsx(Z,{value:"Van",children:"Van"}),e.jsx(Z,{value:"Pickup",children:"Pickup"}),e.jsx(Z,{value:"Motorcycle",children:"Motorcycle"}),e.jsx(Z,{value:"Car",children:"Car"}),e.jsx(Z,{value:"Bus",children:"Bus"}),e.jsx(Z,{value:"Other",children:"Other"})]}),e.jsx(oe,{name:"make",label:"Make",placeholder:"Enter vehicle make",formik:c}),e.jsx(oe,{name:"model",label:"Model",placeholder:"Enter vehicle model",formik:c}),e.jsx(oe,{name:"year",label:"Year",placeholder:"Select manufacturing year",type:"year",formik:c}),e.jsx(oe,{name:"capacity",label:"Capacity",placeholder:"Enter capacity (tons)",type:"number",formik:c}),e.jsxs(_e,{name:"fuel_type",label:"Fuel Type",formik:c,children:[e.jsx(Z,{value:"Petrol",children:"Petrol"}),e.jsx(Z,{value:"Diesel",children:"Diesel"}),e.jsx(Z,{value:"Electric",children:"Electric"}),e.jsx(Z,{value:"Hybrid",children:"Hybrid"}),e.jsx(Z,{value:"CNG",children:"CNG"}),e.jsx(Z,{value:"LPG",children:"LPG"}),e.jsx(Z,{value:"Other",children:"Other"})]}),e.jsxs(_e,{name:"status",label:"Status",formik:c,children:[e.jsx(Z,{value:"available",children:"Available"}),e.jsx(Z,{value:"in-use",children:"In Use"}),e.jsx(Z,{value:"maintenance",children:"Maintenance"}),e.jsx(Z,{value:"out-of-service",children:"Out of Service"})]}),e.jsx(oe,{name:"mileage",label:"Mileage (km)",placeholder:"Enter current mileage",type:"number",formik:c}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(Ps,{name:"is_active",formik:c,required:!0})})]}),e.jsxs(y,{className:"!flex !justify-end items-center ",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:[o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"," ","Vehicle"]})]})]})})})},mTe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("vehicle"),{data:b,isFetching:w,error:C}=r3({search:t,page:u,limit:f,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total_count||0,D=(b?.meta?.current_page||1)-1,T=Z8e(),R=ms(),z=b?.stats?.total_vehicles??P.length,O=b?.stats?.active_vehicles??P.filter(F=>F.is_active==="Y").length,$=b?.stats?.inactive_vehicles??P.filter(F=>F.is_active==="N").length,A=b?.stats?.new_vehicles??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(F=>{i(F),l(!0)},[]),U=g.useCallback(async F=>{try{await T.mutateAsync(F)}catch(M){console.error("Error deleting vehicle:",M)}},[T]),B=g.useCallback(F=>{s(F),h(1)},[]),V=F=>{h(F+1)},Y=g.useCallback(async()=>{try{const F={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"vehicles",filters:F})}catch(F){console.error("Error exporting vehicles:",F)}},[R,t,a]),H=[{id:"vehicle_number",label:"Vehicle Number",render:(F,M)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:M.vehicle_number,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(C8,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:M.vehicle_number}),M.type&&e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block",children:M.type})]})]})},{id:"make",label:"Make & Model",render:(F,M)=>e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900",children:M.make||e.jsx("span",{className:"italic text-gray-400",children:"No Make"})}),M.model&&e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block",children:M.model})]})},{id:"year",label:"Year",render:F=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:F||e.jsx("span",{className:"italic text-gray-400",children:"-"})})},{id:"fuel_type",label:"Fuel Type",render:F=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:F||e.jsx("span",{className:"italic text-gray-400",children:"-"})})},{id:"status",label:"Status",render:F=>e.jsx(De,{label:F||"available",size:"small",variant:"outlined",className:"!capitalize",color:F==="available"?"success":"default"})},{id:"is_active",label:"Active",render:F=>e.jsx(De,{icon:F==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:F==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:F==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(F,M)=>Oe(M.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(F,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(M),tooltip:`Edit ${M.vehicle_number}`}),S&&e.jsx(Vt,{onClick:()=>U(M.id),tooltip:`Delete ${M.vehicle_number}`,itemName:M.vehicle_number,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Vehicle Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage vehicles, fleet tracking, and maintenance schedules"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Vehicles",value:z,icon:e.jsx(C8,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Vehicles",value:O,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Vehicles",value:$,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:A,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load vehicles. Please try again."}),e.jsx(lt,{data:P,columns:H,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Vehicles...",value:t,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:F=>n(F.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Vehicles",description:"Are you sure you want to export the current vehicles data to Excel? This will include all filtered results.",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:F=>F.id,initialOrderBy:"vehicle_number",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:V,emptyMessage:t?`No vehicles found matching "${t}"`:"No vehicles found in the system"}),e.jsx(uTe,{selectedVehicle:r,setSelectedVehicle:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(cTe,{drawerOpen:c,setDrawerOpen:m})]})},pTe=it({file:hs().required("Please select a file to import")}),hTe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:pTe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("warehouses")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"warehouses",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Warehouses",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple warehouses. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},fTe=it({name:me().required("Warehouse name is required").min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters"),type:me().max(50,"Type must be less than 50 characters"),location:me().max(255,"Location must be less than 255 characters"),is_active:me().required("Status is required")}),xTe=({selectedWarehouse:t,setSelectedWarehouse:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=n8e(),l=r8e(),c=ft({initialValues:{name:t?.name||"",type:t?.type||"",location:t?.location||"",is_active:t?.is_active||"Y"},validationSchema:fTe,enableReinitialize:!0,onSubmit:async m=>{try{const u={name:m.name,type:m.type,location:m.location,is_active:m.is_active};r&&t?await l.mutateAsync({id:t.id,...u}):await o.mutateAsync(u),i()}catch(u){console.error("Error saving warehouse:",u)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Warehouse":"Create Warehouse",size:"medium",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"name",label:"Warehouse Name",placeholder:"Enter warehouse name",formik:c,required:!0})}),e.jsx(oe,{name:"type",label:"Warehouse Type",placeholder:"Enter warehouse type (e.g., Storage, Distribution)",formik:c}),e.jsxs(_e,{name:"is_active",label:"Status",formik:c,required:!0,children:[e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"location",label:"Location",placeholder:"Enter warehouse location",formik:c,multiline:!0,rows:3})})]}),e.jsxs(y,{className:"!flex !justify-end items-center ",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:[o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"," ","Warehouse"]})]})]})})})},gTe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(1),[f]=g.useState(10),{isCreate:v,isUpdate:_,isDelete:S,isRead:j}=Ze("warehouse"),{data:b,isFetching:w,error:C}=sL({search:t,page:u,limit:f,isActive:a==="all"?void 0:a==="active"?"Y":"N"},{enabled:j}),P=b?.data||[],E=b?.meta?.total||0,D=(b?.meta?.page||1)-1,T=i8e(),R=ms(),z=b?.stats?.total_warehouses??P.length,O=b?.stats?.active_warehouses??P.filter(F=>F.is_active==="Y").length,$=b?.stats?.inactive_warehouses??P.filter(F=>F.is_active==="N").length,A=b?.stats?.new_warehouses??0,Q=g.useCallback(()=>{i(null),l(!0)},[]),K=g.useCallback(F=>{i(F),l(!0)},[]),U=g.useCallback(async F=>{try{await T.mutateAsync(F)}catch(M){console.error("Error deleting warehouse:",M)}},[T]),B=g.useCallback(F=>{s(F),h(1)},[]),V=F=>{h(F+1)},Y=g.useCallback(async()=>{try{const F={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N"};await R.mutateAsync({tableName:"warehouses",filters:F})}catch(F){console.error("Error exporting warehouses:",F)}},[R,t,a]),H=[{id:"name",label:"Warehouse Name",render:(F,M)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:M.name,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(D8,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900",children:M.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:M.location})]})]})},{id:"type",label:"Type",render:(F,M)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:M.type||e.jsx("span",{className:"italic text-gray-400",children:"No Type"})})},{id:"is_active",label:"Status",render:F=>e.jsx(De,{icon:F==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:F==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:F==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(F,M)=>Oe(M.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},..._||S||j?[{id:"action",label:"Actions",sortable:!1,render:(F,M)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[_&&e.jsx(is,{onClick:()=>K(M),tooltip:`Edit ${M.name}`}),S&&e.jsx(Vt,{onClick:()=>U(M.id),tooltip:`Delete ${M.name}`,itemName:M.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Warehouse Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage warehouses, storage facilities, and distribution centers"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Warehouses",value:z,icon:e.jsx(D8,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Warehouses",value:O,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Inactive Warehouses",value:$,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:w}),e.jsx(fe,{title:"New This Month",value:A,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),C&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load warehouses. Please try again."}),e.jsx(lt,{data:P,columns:H,actions:j||v?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:j&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Warehouses...",value:t,onChange:B,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:F=>n(F.target.value),className:"!w-32",children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(Jt,{title:"Export Warehouses",description:"Are you sure you want to export the current warehouses data to Excel? This will include all filtered results.",onConfirm:Y,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:R.isPending,children:R.isPending?"Exporting...":"Export"})}),v&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>m(!0),children:"Import"}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:F=>F.id,initialOrderBy:"name",loading:w,totalCount:E,page:D,rowsPerPage:f,isPermission:j,onPageChange:V,emptyMessage:t?`No warehouses found matching "${t}"`:"No warehouses found in the system"}),e.jsx(xTe,{selectedWarehouse:r,setSelectedWarehouse:i,drawerOpen:o,setDrawerOpen:l}),e.jsx(hTe,{drawerOpen:c,setDrawerOpen:m})]})},yTe=it({parent_id:Qe().required("Depot is required").positive("Invalid depot"),name:me().required("Zone name is required").min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters"),description:me().max(255,"Description must be less than 255 characters"),supervisor_id:Qe().positive("Invalid supervisor"),is_active:me().required("Status is required")}),bTe=({selectedZone:t,setSelectedZone:s,drawerOpen:a,setDrawerOpen:n,depots:r})=>{const i=!!t,{data:o,isLoading:l}=R3e(),c=o?.data||[],m=()=>{s(null),n(!1),f.resetForm()},u=A3e(),h=I3e(),f=ft({initialValues:{parent_id:t?.parent_id?.toString()||"",name:t?.name||"",description:t?.description||"",supervisor_id:t?.supervisor_id?.toString()||"",is_active:t?.is_active||"Y"},validationSchema:yTe,enableReinitialize:!0,onSubmit:async v=>{try{const _={parent_id:Number(v.parent_id),name:v.name,description:v.description,supervisor_id:v.supervisor_id?Number(v.supervisor_id):void 0,is_active:v.is_active};i&&t?await h.mutateAsync({id:t.id,..._}):await u.mutateAsync(_),m()}catch(_){console.error("Error saving zone:",_)}}});return e.jsx(ot,{open:a,setOpen:m,title:i?"Edit Zone":"Create Zone",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(_e,{name:"parent_id",label:"Depot",formik:f,required:!0,children:r.map(v=>e.jsxs(Z,{value:v.id.toString(),children:[v.name," (",v.code,")"]},v.id))}),e.jsx(oe,{name:"name",label:"Zone Name",placeholder:"Enter zone name",formik:f,required:!0}),e.jsx(_e,{name:"supervisor_id",label:"Zone Supervisor",formik:f,disabled:l,children:c.map(v=>e.jsxs(Z,{value:v.id.toString(),children:[v.name," ",v.employee_id&&`(${v.employee_id})`]},v.id))}),e.jsx(Ps,{name:"is_active",formik:f,required:!0,className:"col-span-2"}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"description",label:"Description",placeholder:"Enter zone description",formik:f,multiline:!0,rows:3})})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,disabled:u.isPending||h.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:u.isPending||h.isPending,children:u.isPending?"Creating...":h.isPending?"Updating...":i?"Update":"Create"})]})]})})})},vTe=it({file:hs().required("Please select a file to import")}),jTe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:vTe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("zones")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"zones",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Zones",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple zones. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},NTe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState("all"),[o,l]=g.useState(null),[c,m]=g.useState(!1),[u,h]=g.useState(!1),[f,v]=g.useState(1),[_]=g.useState(10),{isCreate:S,isUpdate:j,isDelete:b,isRead:w}=Ze("zone"),{data:C,isFetching:P,error:E}=ic({search:t,page:f,limit:_,isActive:a==="all"?void 0:a==="active"?"Y":"N",parent_id:r==="all"?void 0:Number(r)},{enabled:w}),{data:D}=ko({page:1,limit:100}),T=C?.data||[],R=D?.data||[],z=C?.meta?.total||0,O=(C?.meta?.page||1)-1,$=O3e(),A=ms(),Q=C?.stats?.total_zones??T.length,K=C?.stats?.active_zones??T.filter(X=>X.is_active==="Y").length,U=C?.stats?.inactive_zones??T.filter(X=>X.is_active==="N").length,B=C?.stats?.new_zones||0,V=g.useCallback(()=>{l(null),m(!0)},[]),Y=g.useCallback(X=>{l(X),m(!0)},[]),H=g.useCallback(async X=>{try{await $.mutateAsync(X)}catch(te){console.error("Error deleting zone:",te)}},[$]),F=g.useCallback(X=>{s(X),v(1)},[]),M=X=>{v(X+1)},L=g.useCallback(async()=>{try{const X={search:t,isActive:a==="all"?void 0:a==="active"?"Y":"N",parent_id:r==="all"?void 0:Number(r)};await A.mutateAsync({tableName:"zones",filters:X})}catch(X){console.error("Error exporting zones:",X)}},[A,t,a,r]),W=[{id:"name",label:"Zone & Code",render:(X,te)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:te.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Qs,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:te.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:te.code})]})]})},{id:"zone_depots",label:"Depot",render:(X,te)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:te.zone_depots?.name||"No Depot"})},{id:"description",label:"Description",render:X=>X?e.jsx(Va,{title:X,placement:"top",arrow:!0,children:e.jsx(y,{component:"span",className:"!block !max-w-[200px] !truncate",children:e.jsx(x,{variant:"body2",className:"!text-gray-600",children:X})})}):e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"No description"})},{id:"supervisor_id",label:"Supervisor",render:(X,te)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Rn,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:te.supervisor?.name||e.jsx("span",{className:"text-xs italic text-gray-500",children:"No Supervisor"})})]})},{id:"is_active",label:"Status",render:X=>e.jsx(De,{icon:X==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:X==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:X==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(X,te)=>Oe(te.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...j||b||w?[{id:"action",label:"Actions",sortable:!1,render:(X,te)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[j&&e.jsx(is,{onClick:()=>Y(te),tooltip:`Edit ${te.name}`}),b&&e.jsx(Vt,{onClick:()=>H(te.id),tooltip:`Delete ${te.name}`,itemName:te.name,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Zone Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage zone territories, supervisor assignments, and operational areas"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Zones",value:Q,icon:e.jsx(Qs,{className:"w-6 h-6"}),color:"blue",isLoading:P}),e.jsx(fe,{title:"Active Zones",value:K,icon:e.jsx(jo,{className:"w-6 h-6"}),color:"green",isLoading:P}),e.jsx(fe,{title:"Inactive Zones",value:U,icon:e.jsx(Na,{className:"w-6 h-6"}),color:"red",isLoading:P}),e.jsx(fe,{title:"New This Month",value:B,icon:e.jsx(Sr,{className:"w-6 h-6"}),color:"purple",isLoading:P})]}),E&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load zones. Please try again."}),e.jsx(lt,{data:T,columns:W,actions:w||S?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex items-center flex-wrap gap-2",children:w&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Zones",value:t,onChange:F,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(_e,{value:a,onChange:X=>n(X.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(_e,{value:r,onChange:X=>i(X.target.value),className:"!min-w-60",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Depots"}),R.map(X=>e.jsx(Z,{value:X.id.toString(),children:X.name},X.id))]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[w&&e.jsx(Jt,{title:"Export Zones",description:"Are you sure you want to export the current zones data to Excel? This will include all filtered results.",onConfirm:L,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:A.isPending,children:A.isPending?"Exporting...":"Export"})}),S&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>h(!0),children:"Import"}),S&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:V,children:"Create"})]})]}):!1,getRowId:X=>X.id,initialOrderBy:"name",loading:P,totalCount:z,page:O,rowsPerPage:_,isPermission:w,onPageChange:M,emptyMessage:t?`No zones found matching "${t}"`:"No zones found in the system"}),e.jsx(bTe,{selectedZone:o,setSelectedZone:l,drawerOpen:c,setDrawerOpen:m,depots:R}),e.jsx(jTe,{drawerOpen:u,setDrawerOpen:h})]})},wTe=()=>{const t=Gs();return e.jsx("div",{className:"flex items-center justify-center min-h-full bg-gray-50",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"mb-6 flex justify-center",children:e.jsx(_le,{})}),e.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"The page you're looking for doesn't exist or has been moved."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(G,{variant:"outlined",onClick:()=>t(-1),className:"!capitalize",children:"Go Back"}),e.jsx(G,{variant:"contained",onClick:()=>t("/"),startIcon:e.jsx(gA,{className:"w-4 h-4"}),className:"!capitalize",children:"Go Home"})]})]})})},_Te=it({name:me().required("Name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters"),email:me().required("Email is required").email("Invalid email format"),phone_number:me().matches(/^[0-9+\-\s()]+$/,"Invalid phone number format"),address:me().max(500,"Address must not exceed 500 characters"),joining_date:me(),password:me().min(6,"Password must be at least 6 characters")}),STe=()=>{const[t,s]=g.useState(!1),[a,n]=g.useState(null),[r,i]=g.useState(null),{data:o,isLoading:l,error:c,refetch:m}=Q4(),u=Cie({onSuccess:()=>{s(!1),n(null),i(null),m()}}),h={name:o?.name||"",email:o?.email||"",phone_number:o?.phone_number||"",address:o?.address||"",joining_date:Ln(o?.joining_date),password:""},f=ft({initialValues:h,validationSchema:_Te,enableReinitialize:!0,onSubmit:async w=>{try{const C=new FormData;C.append("name",w.name),C.append("phone_number",w.phone_number),C.append("address",w.address),C.append("joining_date",w.joining_date),w.password&&C.append("password",w.password),a&&C.append("profile_image",a),await u.mutateAsync(C)}catch(C){console.error("Error updating profile:",C)}}}),v=w=>{const C=w.target.files?.[0];if(C){n(C);const P=URL.createObjectURL(C);i(P)}},_=()=>{t&&(f.resetForm(),n(null),i(null)),s(!t)},S=w=>{w.preventDefault(),f.handleSubmit()},j=()=>{n(null),r&&(URL.revokeObjectURL(r),i(null))};if(l)return e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-gray-600",children:"Loading profile..."})});if(c)return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:["Error loading profile: ",c.message]})});if(!o)return e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-700 px-4 py-3 rounded",children:"No user data available"})});const b=r||o.profile_image||void 0;return e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("div",{className:"bg-white shadow-sm p-6 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-blue-600 mb-1",children:"My Profile"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Manage your personal information and account settings"})]}),e.jsx("div",{className:"flex gap-2",children:t?e.jsxs(e.Fragment,{children:[e.jsx(G,{variant:"outlined",color:"secondary",onClick:_,children:"Cancel"}),e.jsx(G,{variant:"contained",color:"success",onClick:S,disabled:u.isPending,children:u.isPending?"Saving...":"Save Changes"})]}):e.jsx(G,{variant:"contained",color:"primary",onClick:_,children:"Edit Profile"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"bg-white shadow-sm p-6 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(ht,{alt:o.name,src:b,className:"!w-32 !h-32 !rounded-xl !text-4xl !font-bold !bg-blue-500",children:o.name.split(" ").map(w=>w[0]).join("").toUpperCase()}),t&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"file",id:"profile-image-upload",accept:"image/*",onChange:v,className:"hidden"}),e.jsx("button",{type:"button",onClick:()=>document.getElementById("profile-image-upload")?.click(),className:"absolute size-10 flex cursor-pointer items-center justify-center -bottom-2 -right-2 bg-blue-600 text-white hover:bg-blue-700 p-2 rounded-xl shadow-lg transition-colors",children:e.jsx(Ule,{fontSize:"small"})})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:o.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o.email}),e.jsx("span",{className:`mt-3 px-3 py-1 rounded-full text-xs font-medium ${o.is_active==="Y"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:o.is_active==="Y"?"Active":"Inactive"}),a&&e.jsxs("div",{className:"mt-4 w-full text-center",children:[e.jsxs("p",{className:"text-xs text-gray-600",children:["New image: ",a.name]}),e.jsx("button",{type:"button",onClick:j,className:"text-red-600 text-sm hover:underline mt-1",children:"Remove"})]})]})})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white shadow-sm p-6 rounded-lg border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),e.jsxs("form",{onSubmit:S,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(oe,{name:"name",label:"Full Name",formik:f,disabled:!t,fullWidth:!0}),e.jsx(oe,{name:"phone_number",label:"Phone Number",formik:f,disabled:!t,fullWidth:!0}),e.jsx(oe,{name:"role",label:"Role",value:o.role?.name||"No Role Assigned",disabled:!0,fullWidth:!0}),e.jsx(oe,{name:"joining_date",label:"Joining Date",type:"date",formik:f,disabled:!t,fullWidth:!0}),t&&e.jsx(oe,{name:"password",label:"New Password (Optional)",type:"password",formik:f,fullWidth:!0,helperText:"Leave blank to keep current password"})]}),e.jsx("div",{className:"mt-4",children:e.jsx(oe,{name:"address",label:"Address",formik:f,disabled:!t,multiline:!0,rows:3,fullWidth:!0})})]})]})})]})]})},CTe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),t?.status&&s.append("status",t.status),(await ie.get(`/reports/orders-invoices-returns?${s.toString()}`)).data.data},kTe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),t?.status&&s.append("status",t.status);const a=await ie.get(`/reports/orders-invoices-returns/export?${s.toString()}`,{responseType:"blob"}),n=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`Orders_Invoices_Returns_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},PTe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.salesperson_id&&s.append("salesperson_id",t.salesperson_id.toString()),t?.product_category_id&&s.append("product_category_id",t.product_category_id.toString()),t?.sales_target_group_id&&s.append("sales_target_group_id",t.sales_target_group_id.toString()),(await ie.get(`/reports/sales-vs-target?${s.toString()}`)).data.data},ETe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.salesperson_id&&s.append("salesperson_id",t.salesperson_id.toString()),t?.product_category_id&&s.append("product_category_id",t.product_category_id.toString()),t?.sales_target_group_id&&s.append("sales_target_group_id",t.sales_target_group_id.toString());const a=await ie.get(`/reports/sales-vs-target/export?${s.toString()}`,{responseType:"blob"}),n=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`Sales_Vs_Target_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},TTe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.asset_type_id&&s.append("asset_type_id",t.asset_type_id.toString()),t?.asset_status&&s.append("asset_status",t.asset_status),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),(await ie.get(`/reports/asset-movement-status?${s.toString()}`)).data.data},MTe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.asset_type_id&&s.append("asset_type_id",t.asset_type_id.toString()),t?.asset_status&&s.append("asset_status",t.asset_status),t?.customer_id&&s.append("customer_id",t.customer_id.toString());const a=await ie.get(`/reports/asset-movement-status/export?${s.toString()}`,{responseType:"blob"}),n=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`Asset_Movement_Status_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},DTe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.salesperson_id&&s.append("salesperson_id",t.salesperson_id.toString()),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),t?.status&&s.append("status",t.status),(await ie.get(`/reports/visit-frequency-completion?${s.toString()}`)).data.data},RTe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.salesperson_id&&s.append("salesperson_id",t.salesperson_id.toString()),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),t?.status&&s.append("status",t.status);const a=await ie.get(`/reports/visit-frequency-completion/export?${s.toString()}`,{responseType:"blob"}),n=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`Visit_Frequency_Completion_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},ATe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.promotion_id&&s.append("promotion_id",t.promotion_id.toString()),t?.depot_id&&s.append("depot_id",t.depot_id.toString()),t?.zone_id&&s.append("zone_id",t.zone_id.toString()),(await ie.get(`/reports/promo-effectiveness?${s.toString()}`)).data.data},ITe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.promotion_id&&s.append("promotion_id",t.promotion_id.toString()),t?.depot_id&&s.append("depot_id",t.depot_id.toString()),t?.zone_id&&s.append("zone_id",t.zone_id.toString());const a=await ie.get(`/reports/promo-effectiveness/export?${s.toString()}`,{responseType:"blob"}),n=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`Promo_Effectiveness_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},OTe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.zone_id&&s.append("zone_id",t.zone_id.toString()),t?.depot_id&&s.append("depot_id",t.depot_id.toString()),t?.route_id&&s.append("route_id",t.route_id.toString()),(await ie.get(`/reports/region-territory-sales?${s.toString()}`)).data.data},FTe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.zone_id&&s.append("zone_id",t.zone_id.toString()),t?.depot_id&&s.append("depot_id",t.depot_id.toString()),t?.route_id&&s.append("route_id",t.route_id.toString());const a=await ie.get(`/reports/region-territory-sales/export?${s.toString()}`,{responseType:"blob"}),n=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`Region_Territory_Sales_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},LTe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.salesperson_id&&s.append("salesperson_id",t.salesperson_id.toString()),t?.depot_id&&s.append("depot_id",t.depot_id.toString()),t?.zone_id&&s.append("zone_id",t.zone_id.toString()),(await ie.get(`/reports/rep-productivity?${s.toString()}`)).data.data},zTe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.salesperson_id&&s.append("salesperson_id",t.salesperson_id.toString()),t?.depot_id&&s.append("depot_id",t.depot_id.toString()),t?.zone_id&&s.append("zone_id",t.zone_id.toString());const a=await ie.get(`/reports/rep-productivity/export?${s.toString()}`,{responseType:"blob"}),n=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`Rep_Productivity_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},$Te=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),t?.brand_name&&s.append("brand_name",t.brand_name),(await ie.get(`/reports/competitor-analysis?${s.toString()}`)).data.data},qTe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),t?.brand_name&&s.append("brand_name",t.brand_name);const a=await ie.get(`/reports/competitor-analysis/export?${s.toString()}`,{responseType:"blob"}),n=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`Competitor_Analysis_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},BTe=async t=>{const s=new URLSearchParams;return t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),t?.invoice_status&&s.append("invoice_status",t.invoice_status),(await ie.get(`/reports/outstanding-collection?${s.toString()}`)).data.data},UTe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.customer_id&&s.append("customer_id",t.customer_id.toString()),t?.invoice_status&&s.append("invoice_status",t.invoice_status);const a=await ie.get(`/reports/outstanding-collection/export?${s.toString()}`,{responseType:"blob"}),n=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`Outstanding_Collection_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)}catch(s){throw console.error("Error exporting report to Excel:",s),s}},VTe=async t=>{const s=new URLSearchParams;return t?.page&&s.append("page",t.page.toString()),t?.limit&&s.append("limit",t.limit.toString()),t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.user_id&&s.append("user_id",t.user_id.toString()),t?.action_type&&s.append("action_type",t.action_type),t?.search&&s.append("search",t.search),(await ie.get(`/reports/attendance-history?${s.toString()}`)).data},HTe=async t=>{try{const s=new URLSearchParams;t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),t?.user_id&&s.append("user_id",t.user_id.toString()),t?.action_type&&s.append("action_type",t.action_type),t?.search&&s.append("search",t.search);const a=await ie.get(`/reports/attendance-history/export?${s.toString()}`,{responseType:"blob"}),n=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`Attendance_History_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)}catch(s){throw console.error("Error exporting attendance history report to Excel:",s),s}},hn={all:["reports"],lists:()=>[...hn.all,"list"],ordersInvoicesReturns:t=>[...hn.lists(),"orders-invoices-returns",t],salesVsTarget:t=>[...hn.lists(),"sales-vs-target",t],assetMovementStatus:t=>[...hn.lists(),"asset-movement-status",t],visitFrequencyCompletion:t=>[...hn.lists(),"visit-frequency-completion",t],promoEffectiveness:t=>[...hn.lists(),"promo-effectiveness",t],regionTerritorySales:t=>[...hn.lists(),"region-territory-sales",t],repProductivity:t=>[...hn.lists(),"rep-productivity",t],competitorAnalysis:t=>[...hn.lists(),"competitor-analysis",t],outstandingCollection:t=>[...hn.lists(),"outstanding-collection",t],attendanceHistory:t=>[...hn.lists(),"attendance-history",t]},WTe=(t,s)=>nt({queryKey:hn.ordersInvoicesReturns(t),queryFn:()=>CTe(t),staleTime:120*1e3,...s}),YTe=(t,s)=>nt({queryKey:hn.salesVsTarget(t),queryFn:()=>PTe(t),staleTime:300*1e3,...s}),GTe=(t,s)=>nt({queryKey:hn.assetMovementStatus(t),queryFn:()=>TTe(t),staleTime:180*1e3,...s}),KTe=(t,s)=>nt({queryKey:hn.visitFrequencyCompletion(t),queryFn:()=>DTe(t),staleTime:180*1e3,...s}),QTe=(t,s)=>nt({queryKey:hn.promoEffectiveness(t),queryFn:()=>ATe(t),staleTime:300*1e3,...s}),ZTe=(t,s)=>nt({queryKey:hn.regionTerritorySales(t),queryFn:()=>OTe(t),staleTime:180*1e3,...s}),XTe=(t,s)=>nt({queryKey:hn.repProductivity(t),queryFn:()=>LTe(t),staleTime:180*1e3,...s}),JTe=(t,s)=>nt({queryKey:hn.competitorAnalysis(t),queryFn:()=>$Te(t),staleTime:180*1e3,...s}),eMe=(t,s)=>nt({queryKey:hn.outstandingCollection(t),queryFn:()=>BTe(t),staleTime:180*1e3,...s}),tMe=(t,s)=>nt({queryKey:hn.attendanceHistory(t),queryFn:()=>VTe(t),staleTime:180*1e3,...s}),sMe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState(""),[r,i]=g.useState(void 0),[o,l]=g.useState("all"),{isRead:c}=Ze("report"),{data:m,isLoading:u}=GTe({start_date:t,end_date:a,asset_type_id:r,asset_status:o==="all"?void 0:o},{enabled:c}),{data:h}=ZS(),f=h?.data||[],v=m?.summary||{total_assets:0,total_movements:0,total_customer_assets:0,total_warranty_claims:0},_=g.useCallback(async()=>{try{await MTe({start_date:t,end_date:a,asset_type_id:r,asset_status:o==="all"?void 0:o})}catch(C){console.error("Error exporting report to Excel:",C)}},[t,a,r,o]),S=[{id:"serial_number",label:"Serial Number",render:C=>e.jsx("span",{className:"font-semibold text-sm",children:C})},{id:"asset_type",label:"Asset Type",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"category",label:"Category",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"brand",label:"Brand",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"current_location",label:"Location",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"current_status",label:"Status",render:C=>{const P=String(C||"").toLowerCase();let E="default";return P==="active"||P==="working"?E="success":P==="maintenance"||P==="pending"?E="warning":P==="retired"||P==="decommissioned"?E="error":(P==="available"||P==="in_stock")&&(E="info"),e.jsx(De,{label:C,size:"small",className:"!capitalize",color:E,variant:"outlined"})}},{id:"assigned_to",label:"Assigned To",render:C=>e.jsx("span",{className:"text-sm",children:C})}],j=[{id:"asset_serial",label:"Asset Serial",render:C=>e.jsx("span",{className:"font-semibold text-sm",children:C})},{id:"asset_type",label:"Asset Type",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"from_location",label:"From",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"to_location",label:"To",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"movement_type",label:"Type",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"movement_date",label:"Movement Date",render:C=>Oe(C)||"N/A"},{id:"performed_by",label:"Performed By",render:(C,P)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(ua,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:P.performed_by||"N/A"}),e.jsx("span",{className:"text-xs text-gray-500",children:P.performed_by_email||"N/A"})]})]})},{id:"notes",label:"Notes",render:C=>e.jsx("span",{className:"text-sm max-w-xs truncate",title:C,children:C})}],b=[{id:"customer_name",label:"Customer",render:(C,P)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:P.customer_name}),e.jsx("span",{className:"text-xs text-gray-500",children:P.customer_code})]})},{id:"asset_type",label:"Asset Type",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"serial_number",label:"Serial Number",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"capacity",label:"Capacity",numeric:!0,render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"install_date",label:"Install Date",render:C=>Oe(C)||"N/A"},{id:"status",label:"Status",render:C=>{const P=String(C||"").toLowerCase();let E="default";return P==="working"||P==="active"?E="success":P==="maintenance"||P==="down"?E="warning":(P==="broken"||P==="damaged")&&(E="error"),e.jsx(De,{label:C,size:"small",className:"!capitalize",color:E})}},{id:"technician_name",label:"Technician",render:C=>e.jsx("span",{className:"text-sm",children:C})}],w=[{id:"asset_serial",label:"Asset Serial",render:C=>e.jsx("span",{className:"font-semibold text-sm",children:C})},{id:"asset_type",label:"Asset Type",render:C=>e.jsx("span",{className:"text-sm",children:C})},{id:"claim_date",label:"Claim Date",render:C=>Oe(C)||"N/A"},{id:"issue_description",label:"Issue",render:C=>e.jsx("span",{className:"text-sm max-w-xs truncate",title:C,children:C})},{id:"claim_status",label:"Status",render:C=>{const P=String(C||"").toLowerCase();let E="default";return P==="resolved"||P==="completed"?E="success":P==="pending"||P==="in_progress"?E="warning":P==="rejected"||P==="denied"?E="error":P==="under_review"&&(E="info"),e.jsx(De,{label:C,size:"small",className:"!capitalize",color:E})}},{id:"resolved_date",label:"Resolved Date",render:C=>Oe(C)||"N/A"}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(y,{className:"!mb-3 !flex !justify-between !items-center",children:[e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Asset Movement/Status Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track asset movements, status, and warranty claims"})]}),c&&e.jsx(Jt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:_,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),c&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,setValue:s}),e.jsx(oe,{type:"date",label:"End Date",value:a,setValue:n}),e.jsxs(_e,{label:"Asset Type",value:r?.toString()||"all",onChange:C=>i(C.target.value&&C.target.value!=="all"?parseInt(C.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Asset Types"}),f.map(C=>e.jsx(Z,{value:C.id.toString(),children:C.name},C.id))]}),e.jsxs(_e,{label:"Status",value:o,onChange:C=>l(C.target.value),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"working",children:"Working"}),e.jsx(Z,{value:"maintenance",children:"Maintenance"}),e.jsx(Z,{value:"retired",children:"Retired"}),e.jsx(Z,{value:"available",children:"Available"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Total Assets",value:v.total_assets,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Movements",value:v.total_movements,icon:e.jsx(E8,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"Customer Assets",value:v.total_customer_assets,icon:e.jsx(ua,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Warranty Claims",value:v.total_warranty_claims,icon:e.jsx(Cs,{className:"w-6 h-6"}),color:"orange"})]}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(Wt,{className:"w-5 h-5"})," Asset Master (",m?.data?.assets?.length||0,")"]}),columns:S,data:m?.data?.assets||[],loading:u,pagination:!1,isPermission:c}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(E8,{className:"w-5 h-5"})," Asset Movements (",m?.data?.movements?.length||0,")"]}),columns:j,data:m?.data?.movements||[],loading:u,pagination:!1,isPermission:c}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(ua,{className:"w-5 h-5"})," Customer Assets (",m?.data?.customer_assets?.length||0,")"]}),columns:b,data:m?.data?.customer_assets||[],loading:u,pagination:!1,isPermission:c}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(Cs,{className:"w-5 h-5"})," Warranty Claims (",m?.data?.warranty_claims?.length||0,")"]}),columns:w,data:m?.data?.warranty_claims||[],loading:u,pagination:!1,isPermission:c})]})},aMe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState(""),[r,i]=g.useState(void 0),[o,l]=g.useState("all"),[c,m]=g.useState(1),[u]=g.useState(10),{isRead:h}=Ze("report"),{data:f,isLoading:v}=tMe({page:c,limit:u,start_date:t,end_date:a,user_id:r,action_type:o==="all"?void 0:o},{enabled:h}),_=f?.stats||{total_history_records:0,punch_in_count:0,punch_out_count:0,history_this_month:0},S=f?.meta||{current_page:1,total_count:0},j=E=>{m(E+1)},b=g.useCallback(async()=>{try{await HTe({start_date:t,end_date:a,user_id:r,action_type:o==="all"?void 0:o})}catch(E){console.error("Error exporting report to Excel:",E)}},[t,a,r,o]),w=g.useCallback((E,D)=>{i(D?.id||void 0),m(1)},[]),C=g.useCallback(()=>{m(1)},[]),P=[{id:"attendance.user.name",label:"Employee",sortable:!0,render:(E,D)=>{const T=D.attendance?.user;return T?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ht,{className:"w-10 h-10 !rounded !bg-blue-100",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:T.name?T.name.split(" ").map(R=>R[0]).join("").toUpperCase().slice(0,2):"U"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:T.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:[T.employee_id||`ID: ${T.id}`,"  ",T.email]})]})]}):e.jsx("span",{className:"text-sm text-gray-500",children:"N/A"})}},{id:"action_type",label:"Action",render:E=>{const D=String(E||"").toLowerCase();let T="default";return D==="punch_in"?T="success":D==="punch_out"&&(T="info"),e.jsx(De,{label:E?.replace(/_/g," "),size:"small",className:"!capitalize !text-xs",color:T,variant:"outlined"})}},{id:"action_time",label:"Date & Time",render:E=>e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-sm font-medium",children:E?vp(E):"N/A"})})},{id:"address",label:"Location",render:E=>e.jsx("div",{className:"flex items-center gap-1 max-w-md",children:E?e.jsxs(e.Fragment,{children:[e.jsx(Qs,{className:"w-3 h-3 text-gray-500 flex-shrink-0"}),e.jsx("span",{className:"text-xs text-gray-600 truncate",children:E})]}):e.jsx("span",{className:"text-xs text-gray-400",children:"N/A"})})}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(y,{className:"!flex !justify-between !items-center",children:[e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Attendance History Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"View and analyze employee attendance history records"})]}),e.jsx(Jt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:b,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,setValue:E=>{s(E),C()}}),e.jsx(oe,{type:"date",label:"End Date",value:a,setValue:E=>{n(E),C()}}),e.jsx(y,{className:"!w-full",children:e.jsx(hr,{label:"Employee",placeholder:"Select Employee",value:r,onChange:w,fullWidth:!0,size:"small"})}),e.jsxs(_e,{label:"Action Type",value:o,onChange:E=>{l(E.target.value),C()},disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Actions"}),e.jsx(Z,{value:"punch_in",children:"Punch In"}),e.jsx(Z,{value:"punch_out",children:"Punch Out"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Total History Records",value:_.total_history_records,icon:e.jsx(ua,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Punch In",value:_.punch_in_count,icon:e.jsx(Ts,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Punch Out",value:_.punch_out_count,icon:e.jsx(Ts,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"This Month",value:_.history_this_month,icon:e.jsx(Ts,{className:"w-6 h-6"}),color:"orange"})]}),e.jsx(lt,{columns:P,data:f?.data||[],loading:v,totalCount:S.total_count||0,page:S.current_page-1||0,rowsPerPage:u,onPageChange:j,emptyMessage:"No attendance history records found"})]})},nMe=async t=>{const s={};return t?.page&&(s.page=t.page),t?.limit&&(s.limit=t.limit),t?.action&&(s.action=t.action),t?.user_id&&(s.user_id=t.user_id),t?.start_date&&(s.start_date=t.start_date),t?.end_date&&(s.end_date=t.end_date),(await ie.get("/audit-logs",{params:s})).data.data},I_={all:["audit-logs"],lists:()=>[...I_.all,"list"],list:t=>[...I_.lists(),t]},rMe=(t,s)=>nt({queryKey:I_.list(t),queryFn:()=>nMe(t),staleTime:180*1e3,...s}),iMe=()=>{const[t,s]=g.useState(1),[a]=g.useState(10),[n,r]=g.useState(""),[i,o]=g.useState(""),[l,c]=g.useState("all"),[m,u]=g.useState("all"),{isRead:h}=Ze("report"),{data:f,isLoading:v}=rMe({page:t,limit:a,start_date:n===""?void 0:n,end_date:i===""?void 0:i,action:l==="all"?void 0:l,user_id:m==="all"?void 0:parseInt(m)},{enabled:h}),_=ms(),S=f?.logs||[],j=f?.statistics||{total_logs:0,by_action:{CREATE:0,UPDATE:0,DELETE:0}},b=f?.pagination||{total:0},w=g.useCallback(async()=>{try{const E={start_date:n===""?void 0:n,end_date:i===""?void 0:i,action:l==="all"?void 0:l,user_id:m==="all"?void 0:parseInt(m)};await _.mutateAsync({tableName:"audit_logs",filters:E})}catch(E){console.error("Error exporting audit logs:",E)}},[_,n,i,l,m]),C=()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[1,2,3,4].map(E=>e.jsx("div",{className:"bg-white shadow-sm p-6 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(J,{variant:"text",width:"60%",height:20,className:"!mb-2"}),e.jsx(J,{variant:"text",width:"40%",height:32})]}),e.jsx(J,{variant:"circular",width:48,height:48,className:"!bg-gray-100"})]})},E))}),P=[{id:"user_name",label:"User",render:(E,D)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-lg text-blue-600",children:D.user_name?.charAt(0).toUpperCase()||"U"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:D.user_name}),e.jsx("div",{className:"text-xs text-gray-500",children:D.user_email})]})]})},{id:"changed_at",label:"Date & Time",render:E=>e.jsx("span",{className:"text-sm text-gray-700",children:vp(E)})},{id:"table_name",label:"Table",render:E=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(loe,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium",children:E})]})},{id:"record_id",label:"Record ID",numeric:!0,render:E=>e.jsx("span",{className:"text-sm",children:E})},{id:"action",label:"Action",render:E=>{const D=R=>{switch(R){case"CREATE":return e.jsx(Cs,{className:"w-4 h-4 text-green-600"});case"UPDATE":return e.jsx(M8,{className:"w-4 h-4 text-blue-600"});case"DELETE":return e.jsx(kb,{className:"w-4 h-4 text-red-600"});default:return e.jsx(Hr,{className:"w-4 h-4 text-gray-600"})}},T=R=>{switch(R){case"CREATE":return"success";case"UPDATE":return"info";case"DELETE":return"error";default:return"default"}};return e.jsxs("div",{className:"flex items-center gap-2",children:[D(E),e.jsx(De,{label:E,size:"small",color:T(E),variant:"outlined"})]})}},{id:"ip_address",label:"IP Address",render:E=>e.jsx(Va,{title:E||"N/A",placement:"top",arrow:!0,children:e.jsx("span",{className:"text-sm text-gray-600 font-mono",children:E||"N/A"})})},{id:"device_info",label:"Device",render:E=>e.jsx(Va,{title:E||"N/A",placement:"top",arrow:!0,children:e.jsx(x,{variant:"body2",className:"text-gray-600",children:E?E.substring(0,30)+"...":"N/A"})})}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"!font-bold text-xl !text-gray-900",children:"Audit Logs"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track and monitor all system activities and changes"})]}),h&&e.jsx(Jt,{title:"Export Audit Logs",description:"Are you sure you want to export the current audit logs data to Excel? This will include all filtered results.",onConfirm:w,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(Co,{}),disabled:_.isPending,children:_.isPending?"Exporting...":"Export"})})]}),h&&e.jsx("div",{className:"bg-white shadow-sm p-4 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsx("div",{children:e.jsx(oe,{type:"date",value:n,setValue:r,placeholder:"Start Date",label:"Start Date"})}),e.jsx("div",{children:e.jsx(oe,{type:"date",value:i,setValue:o,placeholder:"End Date",label:"End Date"})}),e.jsxs(_e,{label:"Action",value:l,onChange:E=>c(E.target.value),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Actions"}),e.jsx(Z,{value:"CREATE",children:"Create"}),e.jsx(Z,{value:"UPDATE",children:"Update"}),e.jsx(Z,{value:"DELETE",children:"Delete"})]}),e.jsx(hr,{label:"User",value:m||"all",setValue:u})]})}),v?e.jsx(C,{}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Total Logs",value:j.total_logs,icon:e.jsx(Z4,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Created",value:j.by_action.CREATE,icon:e.jsx(Cs,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Updated",value:j.by_action.UPDATE,icon:e.jsx(M8,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Deleted",value:j.by_action.DELETE,icon:e.jsx(kb,{className:"w-6 h-6"}),color:"red"})]}),e.jsx(lt,{columns:P,data:S,loading:v,pagination:!0,page:t-1,rowsPerPage:a,totalCount:b.total,onPageChange:E=>s(E+1),isPermission:h})]})},oMe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState(""),[r,i]=g.useState(void 0),[o,l]=g.useState(""),{formatCurrency:c}=Qa(),{isRead:m}=Ze("report"),{data:u,isLoading:h}=JTe({start_date:t,end_date:a,customer_id:r,brand_name:o},{enabled:m}),f=u?.summary||{total_observations:0,unique_brands:0,unique_customers:0,avg_visibility_score:0},v=u?.data?.activities||[],_=u?.data?.brands_summary||[],S=g.useCallback(async()=>{try{await qTe({start_date:t,end_date:a,customer_id:r,brand_name:o})}catch(w){console.error("Error exporting report to Excel:",w)}},[t,a,r,o]),j=[{id:"brand_name",label:"Brand",render:w=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wc,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"font-semibold text-sm",children:w})]})},{id:"product_name",label:"Product",render:w=>e.jsx("span",{className:"text-sm",children:w})},{id:"customer_name",label:"Customer",render:(w,C)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:C.customer_name}),e.jsx("span",{className:"text-xs text-gray-500",children:C.customer_address})]})},{id:"observed_price",label:"Price",numeric:!0,render:w=>c(Number(w))},{id:"visibility_score",label:"Visibility",numeric:!0,render:w=>e.jsx(De,{label:w,size:"small",color:Number(w)>=7?"success":Number(w)>=5?"warning":"error",variant:"outlined"})},{id:"promotion_details",label:"Promotion",render:w=>e.jsx("span",{className:"text-sm",children:w})},{id:"visit_status",label:"Visit Status",render:w=>{const C=String(w||"").toLowerCase();let P="default";return C==="completed"?P="success":C==="planned"?P="info":C==="cancelled"&&(P="error"),e.jsx(De,{label:w,size:"small",className:"!capitalize",color:P,variant:"outlined"})}}],b=[{id:"brand_name",label:"Brand",render:w=>e.jsx("span",{className:"font-semibold text-sm",children:w})},{id:"observation_count",label:"Observations",numeric:!0,render:w=>e.jsx("span",{className:"font-semibold text-sm",children:w})},{id:"avg_price",label:"Avg Price",numeric:!0,render:w=>c(Number(w))},{id:"avg_visibility",label:"Avg Visibility",numeric:!0,render:w=>e.jsx(De,{label:Number(w).toFixed(1),size:"small",color:Number(w)>=7?"success":Number(w)>=5?"warning":"error",variant:"outlined"})}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(y,{className:"!mb-3 !flex !justify-between !items-center",children:[e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Competitor Analysis Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track competitor activities and market insights"})]}),e.jsx(Jt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:S,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,setValue:s}),e.jsx(oe,{type:"date",label:"End Date",value:a,setValue:n}),e.jsx(io,{name:"customer_id",label:"Customer",value:r?.toString()||"all",setValue:i}),e.jsx(oe,{label:"Brand Name",value:o,setValue:l,placeholder:"Search by brand"})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Total Observations",value:f.total_observations,icon:e.jsx(hoe,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Unique Brands",value:f.unique_brands,icon:e.jsx(Wc,{className:"w-6 h-6"}),color:"orange"}),e.jsx(fe,{title:"Customers",value:f.unique_customers,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"Avg Visibility",value:f.avg_visibility_score.toFixed(1),icon:e.jsx(js,{className:"w-6 h-6"}),color:"green"})]}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(Wc,{className:"w-5 h-5"}),"Competitor Activities (",v.length,")"]}),columns:j,data:v,loading:h,pagination:!1,isPermission:m}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(js,{className:"w-5 h-5"})," Brands Summary (",_.length,")"]}),columns:b,data:_,loading:h,pagination:!1,isPermission:m})]})},lMe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState(""),[r,i]=g.useState(void 0),[o,l]=g.useState("all"),{formatCurrency:c}=Qa(),{isRead:m}=Ze("report"),{data:u,isLoading:h}=WTe({start_date:t,end_date:a,customer_id:r,status:o==="all"?void 0:o?.toUpperCase()},{enabled:m}),f=u?.summary||{total_orders:0,total_invoices:0,total_returns:0,total_order_value:0,total_invoice_value:0},v=u?.status_breakdown||{pending_orders:0,completed_orders:0,pending_invoices:0,paid_invoices:0,pending_returns:0,completed_returns:0},_=u?.statistics||{average_order_value:0,average_invoice_value:0,conversion_rate:0,return_rate:0},S=g.useCallback(async()=>{try{await kTe({start_date:t,end_date:a,customer_id:r,status:o==="all"?void 0:o?.toUpperCase()})}catch(C){console.error("Error exporting report to Excel:",C)}},[t,a,r,o]),j=[{id:"order_number",label:"Order Info",render:(C,P)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Cs,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:P.order_number}),e.jsxs("span",{className:"text-xs text-gray-500",children:[P.order_type||"Regular Order","  0 Items"]})]})]})},{id:"customer_name",label:"Customer",render:(C,P)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:P.customer_name}),e.jsx("span",{className:"text-xs text-gray-500",children:P.customer_code})]})},{id:"salesperson",label:"Salesperson",render:(C,P)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-semibold text-blue-600",children:P.salesperson_name?.split(" ").map(E=>E[0]).join("").toUpperCase().slice(0,2)||"U"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:P.salesperson_name||"N/A"}),e.jsx("span",{className:"text-xs text-gray-500",children:P.salesperson_email||"N/A"})]})]})},{id:"order_date",label:"Order Date",render:C=>Oe(C)||"N/A"},{id:"status",label:"Status",render:C=>{const P=String(C||"").toLowerCase();let E="default";return P==="delivered"||P==="completed"||P==="approved"?E="success":P==="processing"||P==="in_progress"||P==="ready"?E="warning":P==="shipped"||P==="dispatched"||P==="in_transit"||P==="confirmed"?E="info":P==="pending"||P==="draft"||P==="pending_approval"?E="default":(P==="cancelled"||P==="failed"||P==="rejected")&&(E="error"),e.jsx(De,{icon:P==="pending"?e.jsx(vN,{fontSize:"small"}):e.jsx(pt,{fontSize:"small"}),label:C,size:"small",className:"!capitalize",color:E,variant:"outlined"})}},{id:"total_amount",label:"Amount",numeric:!0,render:C=>c(Number(C))}],b=[{id:"invoice_number",label:"Invoice Number",render:(C,P)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Cs,{className:"w-5 h-5 text-green-600"})}),e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"font-semibold text-sm",children:P.invoice_number})})]})},{id:"customer_name",label:"Customer",render:(C,P)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:P.customer_name}),e.jsx("span",{className:"text-xs text-gray-500",children:P.customer_code})]})},{id:"invoice_date",label:"Invoice Date",render:C=>Oe(C)||"N/A"},{id:"due_date",label:"Due Date",render:C=>Oe(C)||"N/A"},{id:"status",label:"Status",render:C=>{const P=String(C||"").toLowerCase();let E="default";return P==="paid"||P==="paid_in_full"||P==="completed"?E="success":P==="pending"||P==="unpaid"||P==="overdue"?E="error":P==="sent"||P==="draft"||P==="partial"||P==="processing"?E="warning":(P==="cancelled"||P==="void")&&(E="default"),e.jsx(De,{icon:P==="pending"?e.jsx(vN,{fontSize:"small"}):e.jsx(pt,{fontSize:"small"}),label:C,size:"small",variant:"outlined",className:"!capitalize",color:E})}},{id:"total_amount",label:"Amount",numeric:!0,render:C=>c(Number(C))},{id:"balance_due",label:"Balance Due",numeric:!0,render:C=>e.jsx("span",{className:`font-semibold ${Number(C)>0?"text-red-600":"text-green-600"}`,children:c(Number(C))})}],w=[{id:"customer_name",label:"Customer",render:(C,P)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:P.customer_name}),e.jsx("span",{className:"text-xs text-gray-500",children:P.customer_code})]})},{id:"product_name",label:"Product"},{id:"return_date",label:"Return Date",render:C=>Oe(C)||"N/A"},{id:"reason",label:"Reason",render:C=>e.jsx("span",{className:"text-sm max-w-xs truncate",title:C,children:C})},{id:"status",label:"Status",render:C=>{const P=String(C||"").toLowerCase();let E="default";return P==="completed"||P==="processed"?E="success":P==="pending"||P==="approval"||P==="awaiting_approval"?E="warning":P==="rejected"||P==="failed"||P==="cancelled"?E="error":(P==="in_progress"||P==="processing")&&(E="info"),e.jsx(De,{icon:P==="pending"?e.jsx(vN,{fontSize:"small"}):e.jsx(pt,{fontSize:"small"}),label:C,size:"small",variant:"outlined",className:"!capitalize",color:E})}}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(y,{className:"!mb-3 !flex !justify-between !items-center flex-wrap gap-4",children:[e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Orders, Invoices & Returns Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Comprehensive report on orders, invoices, and returns"})]}),m&&e.jsx(Jt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel? This will include all filtered results with Orders, Invoices, and Returns data.",onConfirm:S,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),m&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,setValue:s}),e.jsx(oe,{type:"date",label:"End Date",value:a,setValue:n}),e.jsx(io,{name:"customer_id",label:"Customer",value:r,setValue:C=>i(C?parseInt(C.toString()):void 0),onChange:(C,P)=>i(P?P.id:void 0),fullWidth:!1}),e.jsx("div",{children:e.jsxs(_e,{label:"Status",value:o,fullWidth:!0,onChange:C=>l(C.target.value),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"completed",children:"Completed"}),e.jsx(Z,{value:"delivered",children:"Delivered"}),e.jsx(Z,{value:"paid",children:"Paid"}),e.jsx(Z,{value:"unpaid",children:"Unpaid"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.total_orders})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(fu,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Invoices"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.total_invoices})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Cs,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Returns"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.total_returns})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Gl,{className:"w-6 h-6 text-red-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c(f.total_order_value+f.total_invoice_value)})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(js,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:[e.jsx("h2",{className:"!font-bold text-lg !text-gray-900 !mb-4",children:"Key Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg Order Value"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:c(_.average_order_value)})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg Invoice Value"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:c(_.average_invoice_value)})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Conversion Rate"}),e.jsxs("p",{className:"text-xl font-bold text-green-600",children:[_.conversion_rate.toFixed(2),"%"]})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Return Rate"}),e.jsxs("p",{className:"text-xl font-bold text-red-600",children:[_.return_rate.toFixed(2),"%"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:[e.jsx("h2",{className:"!font-bold text-lg !text-gray-900 !mb-4",children:"Status Breakdown"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Orders"}),e.jsx("p",{className:"text-lg font-bold text-orange-600",children:v.pending_orders})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Completed Orders"}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:v.completed_orders})]}),e.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Invoices"}),e.jsx("p",{className:"text-lg font-bold text-yellow-600",children:v.pending_invoices})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Paid Invoices"}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:v.paid_invoices})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Returns"}),e.jsx("p",{className:"text-lg font-bold text-red-600",children:v.pending_returns})]}),e.jsxs("div",{className:"text-center p-3 bg-emerald-50 rounded-lg border border-emerald-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Completed Returns"}),e.jsx("p",{className:"text-lg font-bold text-emerald-600",children:v.completed_returns})]})]})]}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(fu,{className:"w-5 h-5"})," Orders (",u?.data?.orders?.length||0,")"]}),data:u?.data?.orders||[],columns:j,loading:h,pagination:!1,isPermission:m}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(Cs,{className:"w-5 h-5"})," Invoices (",u?.data?.invoices?.length||0,")"]}),data:u?.data?.invoices||[],columns:b,loading:h,pagination:!1,isPermission:m}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(Gl,{className:"w-5 h-5"})," Returns (",u?.data?.returns?.length||0,")"]}),data:u?.data?.returns||[],columns:w,loading:h,pagination:!1,isPermission:m})]})},cMe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState(""),[r,i]=g.useState(void 0),[o,l]=g.useState("all"),{formatCurrency:c}=Qa(),{isRead:m}=Ze("report"),{data:u,isLoading:h}=eMe({start_date:t,end_date:a,customer_id:r,invoice_status:o!=="all"?o:void 0},{enabled:m}),{data:f}=Fp(),v=f?.data||[],_=u?.summary||{total_outstanding_amount:0,total_outstanding_invoices:0,total_customers_with_outstanding:0,total_collections:0,total_collection_count:0,avg_days_overdue:0},S=u?.data?.outstanding_invoices||[],j=u?.data?.customer_summary||[],b=u?.data?.collections||[],w=g.useCallback(async()=>{try{await UTe({start_date:t,end_date:a,customer_id:r,invoice_status:o!=="all"?o:void 0})}catch(D){console.error("Error exporting report to Excel:",D)}},[t,a,r,o]),C=[{id:"invoice_number",label:"Invoice#",render:D=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(Xn,{className:"w-5 h-5 text-red-600"})}),e.jsx("span",{className:"font-semibold text-sm",children:D})]})},{id:"customer_name",label:"Customer",render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"salesperson_name",label:"Salesperson",render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"invoice_date",label:"Invoice Date",render:D=>Oe(D)||"N/A"},{id:"due_date",label:"Due Date",render:D=>Oe(D)||"N/A"},{id:"balance_due",label:"Balance Due",numeric:!0,render:D=>c(Number(D))},{id:"days_overdue",label:"Days Overdue",numeric:!0,render:D=>{const T=Number(D);let R="default";return T===0?R="success":T<=30?R="warning":R="error",e.jsx(De,{label:T,size:"small",color:R,variant:"outlined"})}},{id:"status",label:"Status",render:D=>{const T=String(D||"").toLowerCase();let R="default";return T==="paid"||T==="completed"?R="success":T==="overdue"||T==="pending"?R="error":R="warning",e.jsx(De,{label:D,size:"small",className:"!capitalize",color:R,variant:"outlined"})}}],P=[{id:"customer_name",label:"Customer",render:D=>e.jsx("span",{className:"font-semibold text-sm",children:D})},{id:"invoice_count",label:"Invoice Count",numeric:!0,render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"total_outstanding",label:"Total Outstanding",numeric:!0,render:D=>c(Number(D))},{id:"avg_days_overdue",label:"Avg Days Overdue",numeric:!0,render:D=>{const T=Number(D);let R="default";return T===0?R="success":T<=30?R="warning":R="error",e.jsx(De,{label:T.toFixed(0),size:"small",color:R,variant:"outlined"})}}],E=[{id:"payment_number",label:"Payment#",render:D=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Oa,{className:"w-5 h-5 text-green-600"})}),e.jsx("span",{className:"font-semibold text-sm",children:D})]})},{id:"payment_date",label:"Date",render:D=>Oe(D)||"N/A"},{id:"customer_name",label:"Customer",render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"amount",label:"Amount",numeric:!0,render:D=>c(Number(D))},{id:"method",label:"Method",render:D=>e.jsx("span",{className:"text-sm capitalize",children:D})},{id:"collected_by",label:"Collected By",render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"reference_number",label:"Reference",render:D=>e.jsx("span",{className:"text-sm",children:D})}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(y,{className:"!mb-3 !flex !justify-between !items-center",children:[e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Outstanding & Collection Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track outstanding invoices and payment collections"})]}),e.jsx(Jt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:w,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-"}),variant:"outlined",children:"Export to Excel"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,setValue:s}),e.jsx(oe,{type:"date",label:"End Date",value:a,setValue:n}),e.jsxs(_e,{label:"Customer",value:r?.toString()||"all",onChange:D=>i(D.target.value&&D.target.value!=="all"?parseInt(D.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Customers"}),v.map(D=>e.jsx(Z,{value:D.id.toString(),children:D.name},D.id))]}),e.jsxs(_e,{label:"Invoice Status",value:o,onChange:D=>l(D.target.value),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"draft",children:"Draft"}),e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"overdue",children:"Overdue"}),e.jsx(Z,{value:"paid",children:"Paid"}),e.jsx(Z,{value:"completed",children:"Completed"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:[e.jsx(fe,{title:"Outstanding Amount",value:c(_.total_outstanding_amount),icon:e.jsx(Wc,{className:"w-6 h-6"}),color:"red"}),e.jsx(fe,{title:"Outstanding Invoices",value:_.total_outstanding_invoices,icon:e.jsx(Xn,{className:"w-6 h-6"}),color:"orange"}),e.jsx(fe,{title:"Customers with Outstanding",value:_.total_customers_with_outstanding,icon:e.jsx(ua,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"Total Collections",value:c(_.total_collections),icon:e.jsx(js,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Collection Count",value:_.total_collection_count,icon:e.jsx(Cs,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Avg Days Overdue",value:_.avg_days_overdue.toFixed(1),icon:e.jsx(Ts,{className:"w-6 h-6"}),color:"yellow"})]}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(Xn,{className:"w-5 h-5"}),"Outstanding Invoices (",S.length,")"]}),columns:C,data:S,loading:h,pagination:!1,isPermission:m}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(ua,{className:"w-5 h-5"}),"Customer Summary (",j.length,")"]}),columns:P,data:j,loading:h,pagination:!1,isPermission:m}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(Oa,{className:"w-5 h-5"}),"Collections (",b.length,")"]}),columns:E,data:b,loading:h,pagination:!1,isPermission:m})]})},dMe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState(""),[r,i]=g.useState(void 0),[o,l]=g.useState(void 0),{isRead:c}=Ze("report"),{data:m,isLoading:u}=QTe({start_date:t,end_date:a,depot_id:r,zone_id:o},{enabled:c}),{data:h}=ko({limit:1e3,isActive:"Y"}),{data:f}=ic({limit:1e3,isActive:"Y"}),v=h?.data||[],_=f?.data||[],S=m?.summary||{total_promotions:0,active_promotions:0,upcoming_promotions:0,expired_promotions:0},j=g.useCallback(async()=>{try{await ITe({start_date:t,end_date:a,depot_id:r,zone_id:o})}catch(P){console.error("Error exporting report to Excel:",P)}},[t,a,r,o]),b=[{id:"name",label:"Promotion",render:(P,E)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(kn,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:E.name}),e.jsx("span",{className:"text-xs text-gray-500",children:E.code})]})]})},{id:"type",label:"Type",render:P=>e.jsx("span",{className:"text-sm",children:P})},{id:"start_date",label:"Start Date",render:P=>Oe(P)||"N/A"},{id:"end_date",label:"End Date",render:P=>Oe(P)||"N/A"},{id:"depot_name",label:"Depot",render:P=>e.jsx("span",{className:"text-sm",children:P})},{id:"zone_name",label:"Zone",render:P=>e.jsx("span",{className:"text-sm",children:P})},{id:"total_products",label:"Products",numeric:!0,render:P=>e.jsx("span",{className:"font-semibold text-sm",children:P})},{id:"total_parameters",label:"Parameters",numeric:!0,render:P=>e.jsx("span",{className:"font-semibold text-sm",children:P})},{id:"status",label:"Status",render:P=>{const E=String(P||"").toLowerCase();let D="default";return E==="active"||E==="running"?D="success":E==="upcoming"?D="info":E==="expired"&&(D="error"),e.jsx(De,{label:P,size:"small",className:"!capitalize",color:D,variant:"outlined"})}}],w=[{id:"promotion_name",label:"Promotion",render:(P,E)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:E.promotion_name}),e.jsx("span",{className:"text-xs text-gray-500",children:E.promotion_code})]})},{id:"product_name",label:"Product",render:(P,E)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Wt,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:E.product_name}),e.jsx("span",{className:"text-xs text-gray-500",children:E.product_code})]})]})}],C=[{id:"promotion_name",label:"Promotion",render:(P,E)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:E.promotion_name}),e.jsx("span",{className:"text-xs text-gray-500",children:E.promotion_code})]})},{id:"param_name",label:"Parameter Name",render:P=>e.jsx("span",{className:"text-sm",children:P})},{id:"param_type",label:"Type",render:P=>e.jsx("span",{className:"text-sm",children:P})},{id:"param_value",label:"Value",render:P=>e.jsx("span",{className:"text-sm max-w-xs truncate",title:P,children:P})},{id:"param_category",label:"Category",render:P=>e.jsx("span",{className:"text-sm",children:P})}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(y,{className:"!mb-3 !flex !justify-between !items-center",children:[e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Promo Effectiveness Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track promotion performance and effectiveness"})]}),e.jsx(Jt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:j,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,setValue:s}),e.jsx(oe,{type:"date",label:"End Date",value:a,setValue:n}),e.jsxs(_e,{label:"Depot",value:r?.toString()||"all",onChange:P=>i(P.target.value&&P.target.value!=="all"?parseInt(P.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Depots"}),v.map(P=>e.jsx(Z,{value:P.id.toString(),children:P.name},P.id))]}),e.jsxs(_e,{label:"Zone",value:o?.toString()||"all",onChange:P=>l(P.target.value&&P.target.value!=="all"?parseInt(P.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Zones"}),_.map(P=>e.jsx(Z,{value:P.id.toString(),children:P.name},P.id))]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Total Promotions",value:S.total_promotions,icon:e.jsx(kn,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"Active",value:S.active_promotions,icon:e.jsx(Oa,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Upcoming",value:S.upcoming_promotions,icon:e.jsx(Ts,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Expired",value:S.expired_promotions,icon:e.jsx(Na,{className:"w-6 h-6"}),color:"red"})]}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(kn,{className:"w-5 h-5"}),"Promotions (",m?.data?.promotions?.length||0,")"]}),columns:b,data:m?.data?.promotions||[],loading:u,pagination:!1}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(Wt,{className:"w-5 h-5"})," Promotion Products (",m?.data?.products?.length||0,")"]}),columns:w,data:m?.data?.products||[],loading:u,pagination:!1}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(Ng,{className:"w-5 h-5"})," Promotion Parameters (",m?.data?.parameters?.length||0,")"]}),columns:C,data:m?.data?.parameters||[],loading:u,pagination:!1})]})},uMe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState(""),[r,i]=g.useState(void 0),[o,l]=g.useState(void 0),{formatCurrency:c}=Qa(),{isRead:m}=Ze("report"),{data:u,isLoading:h}=ZTe({start_date:t,end_date:a,depot_id:r,zone_id:o},{enabled:m}),{data:f}=ko({limit:1e3,isActive:"Y"}),{data:v}=ic({limit:1e3,isActive:"Y"}),_=f?.data||[],S=v?.data||[],j=u?.summary||{total_zones:0,total_customers:0,total_orders:0,total_collection:0},b=g.useCallback(async()=>{try{await FTe({start_date:t,end_date:a,depot_id:r,zone_id:o})}catch(E){console.error("Error exporting report to Excel:",E)}},[t,a,r,o]),w=u?.data?.zones?.flatMap(E=>E.routes||[])||[],C=[{id:"name",label:"Territory",render:(E,D)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Qs,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:D.name}),e.jsx("span",{className:"text-xs text-gray-500",children:D.code})]})]})},{id:"depot_name",label:"Depot",render:E=>e.jsx("span",{className:"text-sm",children:E})},{id:"customer_count",label:"Customers",numeric:!0,render:E=>e.jsx("span",{className:"font-semibold text-sm",children:E})},{id:"route_count",label:"Routes",numeric:!0,render:E=>e.jsx("span",{className:"font-semibold text-sm",children:E})},{id:"total_orders",label:"Orders",numeric:!0,render:E=>e.jsx("span",{className:"font-semibold text-sm",children:E})},{id:"total_order_value",label:"Order Value",numeric:!0,render:E=>c(Number(E))},{id:"total_invoices",label:"Invoices",numeric:!0,render:E=>e.jsx("span",{className:"font-semibold text-sm",children:E})},{id:"total_invoice_value",label:"Invoice Value",numeric:!0,render:E=>c(Number(E))},{id:"total_collection",label:"Collection",numeric:!0,render:E=>e.jsx("span",{className:"font-semibold text-green-600",children:c(Number(E))})}],P=[{id:"route_name",label:"Route",render:(E,D)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:D.route_name}),e.jsx("span",{className:"text-xs text-gray-500",children:D.route_code})]})},{id:"salesperson_name",label:"Sales Person",render:E=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(ua,{className:"w-5 h-5 text-purple-600"})}),e.jsx("span",{className:"font-semibold text-sm",children:E})]})},{id:"customers",label:"Customers",numeric:!0,render:E=>e.jsx("span",{className:"font-semibold text-sm",children:E})},{id:"orders",label:"Orders",numeric:!0,render:E=>e.jsx("span",{className:"font-semibold text-sm",children:E})},{id:"order_value",label:"Order Value",numeric:!0,render:E=>c(Number(E))},{id:"invoices",label:"Invoices",numeric:!0,render:E=>e.jsx("span",{className:"font-semibold text-sm",children:E})},{id:"invoice_value",label:"Invoice Value",numeric:!0,render:E=>c(Number(E))}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(y,{className:"!mb-3 !flex !justify-between !items-center",children:[e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Region/Territory Sales Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track sales performance across territories and routes"})]}),e.jsx(Jt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:b,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,setValue:s}),e.jsx(oe,{type:"date",label:"End Date",value:a,setValue:n}),e.jsxs(_e,{label:"Depot",value:r?.toString()||"all",onChange:E=>i(E.target.value&&E.target.value!=="all"?parseInt(E.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Depots"}),_.map(E=>e.jsx(Z,{value:E.id.toString(),children:E.name},E.id))]}),e.jsxs(_e,{label:"Territory",value:o?.toString()||"all",onChange:E=>l(E.target.value&&E.target.value!=="all"?parseInt(E.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Territories"}),S.map(E=>e.jsx(Z,{value:E.id.toString(),children:E.name},E.id))]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-5",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Territories"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:j.total_zones})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Qs,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Customers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:j.total_customers})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(ua,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:j.total_orders})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(fu,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Collection"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:c(j.total_collection)})]}),e.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center",children:e.jsx(js,{className:"w-6 h-6 text-emerald-600"})})]})})]}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(Qs,{className:"w-5 h-5"}),"Territory Performance (",u?.data?.zones?.length||0,")"]}),columns:C,data:u?.data?.zones||[],loading:h,pagination:!1,isPermission:m}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(js,{className:"w-5 h-5"})," Route Performance (",w.length,")"]}),columns:P,data:w,loading:h,pagination:!1,isPermission:m})]})},mMe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState(""),[r,i]=g.useState(void 0),[o,l]=g.useState(void 0),{formatCurrency:c}=Qa(),{isRead:m}=Ze("report"),{data:u,isLoading:h}=XTe({start_date:t,end_date:a,salesperson_id:r,depot_id:o},{enabled:m}),{data:f}=ko({limit:1e3,isActive:"Y"}),v=f?.data||[],_=u?.summary||{total_reps:0,total_visits:0,completed_tasks:0,total_orders:0,total_order_value:0,total_collection:0};console.log(r);const S=u?.data?.reps||[],j=g.useCallback(async()=>{try{await zTe({start_date:t,end_date:a,salesperson_id:r,depot_id:o})}catch(w){console.error("Error exporting report to Excel:",w)}},[t,a,r,o]),b=[{id:"name",label:"Rep Name",render:(w,C)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Rn,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:C.name}),e.jsx("span",{className:"text-xs text-gray-500",children:C.email})]})]})},{id:"employee_id",label:"Employee ID",render:w=>e.jsx("span",{className:"text-sm",children:w})},{id:"depot_name",label:"Depot",render:w=>e.jsx("span",{className:"text-sm",children:w})},{id:"total_visits",label:"Visits",numeric:!0,render:w=>e.jsx("span",{className:"font-semibold text-sm",children:w})},{id:"total_orders",label:"Orders",numeric:!0,render:w=>e.jsx("span",{className:"font-semibold text-sm",children:w})},{id:"order_value",label:"Order Value",numeric:!0,render:w=>c(Number(w))},{id:"total_collection",label:"Collection",numeric:!0,render:w=>e.jsx("span",{className:"font-semibold text-green-600",children:c(Number(w))})},{id:"days_active",label:"Days Active",numeric:!0,render:w=>e.jsx("span",{className:"text-sm",children:w})},{id:"productivity_score",label:"Score",numeric:!0,render:w=>e.jsx(De,{label:w,size:"small",className:"!font-semibold",color:w>50?"success":w>25?"warning":"error"})}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(y,{className:"!mb-3 !flex !justify-between !items-center",children:[e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Rep Productivity Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track individual sales rep performance and productivity"})]}),e.jsx(Jt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:j,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,onChange:w=>s(w.target.value)}),e.jsx(oe,{type:"date",label:"End Date",value:a,onChange:w=>n(w.target.value)}),e.jsx(hr,{label:"Sales Rep",value:r?.toString()||"all",setValue:i}),e.jsxs(_e,{label:"Depot",value:o?.toString()||"all",onChange:w=>l(w.target.value&&w.target.value!=="all"?parseInt(w.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Depots"}),v.map(w=>e.jsx(Z,{value:w.id.toString(),children:w.name},w.id))]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-5",children:[e.jsx(fe,{title:"Total Reps",value:_.total_reps,icon:e.jsx(Rn,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Total Visits",value:_.total_visits,icon:e.jsx(_s,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"Total Orders",value:_.total_orders,icon:e.jsx(fu,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Completed Tasks",value:_.completed_tasks,icon:e.jsx(Oa,{className:"w-6 h-6"}),color:"emerald"}),e.jsx(fe,{title:"Order Value",value:c(_.total_order_value),icon:e.jsx(CA,{className:"w-6 h-6"}),color:"orange"}),e.jsx(fe,{title:"Total Collection",value:c(_.total_collection),icon:e.jsx(mp,{className:"w-6 h-6"}),color:"teal"})]}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(Rn,{className:"w-5 h-5"}),"Rep Performance (",S.length,")"]}),columns:b,data:S,loading:h,pagination:!1,isPermission:m})]})},pMe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState(""),[r,i]=g.useState(void 0),[o,l]=g.useState(void 0),{formatCurrency:c}=Qa(),{isRead:m}=Ze("report"),{data:u,isLoading:h}=YTe({start_date:t,end_date:a,salesperson_id:r,product_category_id:o},{enabled:m}),{data:f}=Lp(),{data:v}=er(),_=f?.data||[],S=v?.data||[],j=u?.summary||{total_salespeople:0,total_categories:0,total_target_amount:0,total_actual_sales:0},b=u?.performance||[],w=u?.category_performance||[],C=g.useCallback(async()=>{try{await ETe({start_date:t,end_date:a,salesperson_id:r,product_category_id:o})}catch(D){console.error("Error exporting report to Excel:",D)}},[t,a,r,o]),P=[{id:"salesperson_name",label:"Sales Person",render:(D,T)=>{const R=T.salesperson_name||"N/A",z=R.split(" ").map(O=>O[0]).join("").toUpperCase().slice(0,2)||"U";return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-semibold text-blue-600",children:z})}),e.jsx("span",{className:"font-semibold text-sm",children:R})]})}},{id:"category_name",label:"Category",render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"target_amount",label:"Target",numeric:!0,render:D=>c(Number(D))},{id:"actual_sales",label:"Actual Sales",numeric:!0,render:D=>c(Number(D))},{id:"achievement_percentage",label:"Achievement %",numeric:!0,render:D=>{const T=Number(D);let R="default";return T>=100?R="success":T>=75?R="info":T>=50?R="warning":R="error",e.jsx(De,{label:`${T.toFixed(1)}%`,size:"small",variant:"outlined",color:R})}},{id:"gap",label:"Gap",numeric:!0,render:D=>e.jsxs("span",{className:`font-semibold ${Number(D)>=0?"text-green-600":"text-red-600"}`,children:[Number(D)>=0?"+":""," ",c(Number(D))]})}],E=[{id:"category_name",label:"Category",render:D=>e.jsx("span",{className:"font-semibold text-sm",children:D})},{id:"target_amount",label:"Target",numeric:!0,render:D=>c(Number(D))},{id:"actual_sales",label:"Actual Sales",numeric:!0,render:D=>c(Number(D))},{id:"achievement_percentage",label:"Achievement %",numeric:!0,render:D=>{const T=Number(D);let R="default";return T>=100?R="success":T>=75?R="info":T>=50?R="warning":R="error",e.jsx(De,{label:`${T.toFixed(1)}%`,size:"small",variant:"outlined",color:R})}},{id:"gap",label:"Gap",numeric:!0,render:D=>e.jsxs("span",{className:`font-semibold ${Number(D)>=0?"text-green-600":"text-red-600"}`,children:[Number(D)>=0?"+":""," ",c(Number(D))]})}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(y,{className:"!mb-3 !flex !justify-between !items-center",children:[e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Sales vs Target Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track sales performance against targets"})]}),m&&e.jsx(Jt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:C,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),m&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{children:e.jsx(oe,{type:"date",value:t,setValue:s,placeholder:"Start Date",label:"Start Date"})}),e.jsx("div",{children:e.jsx(oe,{type:"date",value:a,setValue:n,placeholder:"End Date",label:"End Date"})}),e.jsx("div",{children:e.jsxs(_e,{label:"Sales Person",fullWidth:!0,value:r?r.toString():"all",onChange:D=>i(D.target.value==="all"?void 0:parseInt(D.target.value)),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Salespeople"}),S.map(D=>e.jsx(Z,{value:D.id.toString(),children:D.name},D.id))]})}),e.jsx("div",{children:e.jsxs(_e,{value:o?o.toString():"all",fullWidth:!0,label:"Product Category",onChange:D=>l(D.target.value==="all"?void 0:parseInt(D.target.value)),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Categories"}),_.map(D=>e.jsx(Z,{value:D.id.toString(),children:D.category_name},D.id))]})})]})}),m&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Sales Person",value:j.total_salespeople,icon:e.jsx(ua,{className:"w-6 h-6"}),color:"blue",isLoading:h}),e.jsx(fe,{title:"Categories",value:j.total_categories,icon:e.jsx(ed,{className:"w-6 h-6"}),color:"purple",isLoading:h}),e.jsx(fe,{title:"Target Amount",value:c(j.total_target_amount).toLocaleString(),icon:e.jsx(il,{className:"w-6 h-6"}),color:"orange",isLoading:h}),e.jsx(fe,{title:"Actual Sales",value:c(j.total_actual_sales),icon:e.jsx(js,{className:"w-6 h-6"}),color:"green",isLoading:h})]}),e.jsx(lt,{columns:P,actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(ua,{className:"w-5 h-5"})," Performance by Sales Person (",b.length,")"]}),data:b,loading:h,pagination:!1,isPermission:m}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(ed,{className:"w-5 h-5"})," Performance by Category (",w.length,")"]}),columns:E,data:w,loading:h,pagination:!1,isPermission:m})]})},hMe=async t=>{try{return(await ie.get("/survey-responses",{params:t})).data}catch(s){throw s}},fMe=async t=>{try{return(await ie.get(`/survey-responses/${t}`)).data.data}catch(s){throw s}},xMe=async t=>(await ie.delete(`/survey-responses/${t}`)).data,tu={all:["survey-responses"],lists:()=>[...tu.all,"list"],list:t=>[...tu.lists(),t],details:()=>[...tu.all,"detail"],detail:t=>[...tu.details(),t]},gMe=(t,s)=>nt({queryKey:tu.list(t||{}),queryFn:()=>hMe(t),staleTime:300*1e3,...s}),yMe=t=>nt({queryKey:tu.detail(t),queryFn:()=>fMe(t),enabled:!!t,staleTime:300*1e3}),bMe=t=>{const s=cs();return Re({mutationFn:xMe,loadingMessage:"Deleting survey response...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:tu.lists()})},onError:t?.onError})},vMe=()=>{const t=Gs(),[s,a]=g.useState(""),[n,r]=g.useState("all"),[i,o]=g.useState(void 0),[l,c]=g.useState(1),[m]=g.useState(10),{isRead:u}=Ze("report"),{data:h,isLoading:f,error:v}=gMe({search:s,page:l,limit:m,status:n==="all"?void 0:n,survey_id:i},{enabled:u}),{data:_}=aL({limit:1e3}),S=_?.data||[],j=h?.data||[],b=h?.meta?.total||0,w=(h?.meta?.page||1)-1,C=bMe(),P=ms(),E=h?.stats?.total_records??j.length,D=h?.stats?.active_records??0,T=h?.stats?.inactive_records??0,R=h?.stats?.records_this_month??0,z=g.useCallback(U=>{t(`/reports/survey-responses/${U.id}`)},[t]),O=g.useCallback(async U=>{try{await C.mutateAsync(U)}catch(B){console.error("Error deleting survey response:",B)}},[C]),$=g.useCallback(U=>{a(U),c(1)},[]),A=U=>{c(U+1)},Q=g.useCallback(async()=>{try{const U={search:s,status:n==="all"?void 0:n,survey_id:i};await P.mutateAsync({tableName:"survey_responses",filters:U})}catch(U){console.error("Error exporting survey responses:",U)}},[P,s,n,i]),K=[{id:"survey",label:"Survey Info",render:(U,B)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:B.survey?.name||"Survey",className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Cs,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900 !leading-tight !font-semibold",children:B.survey?.name||`Survey #${B.parent_id}`}),B.survey?.description&&e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",title:B.survey.description,style:{display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",cursor:"help",width:"250px"},children:B.survey.description})]})]})},{id:"customer",label:"Customer",render:(U,B)=>{const V=B.customer||B.survey_response_customer;return V?e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:V.name||"Survey",src:"mkx",className:"!rounded !bg-primary-100 !text-primary-500"}),e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!leading-tight !font-semibold",children:V.name}),V.code&&e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:V.code})]})]}):e.jsx("span",{className:"text-xs text-gray-400 italic",children:"No customer"})}},{id:"submitted_user",label:"Submitted By",render:(U,B)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:B.submitted_user?.name||"Survey",src:"mkx",className:"!rounded !bg-primary-100 !text-primary-500"}),e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900 !leading-tight !font-semibold",children:B.submitted_user?.name}),B?.submitted_user?.email&&e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:B.submitted_user.email})]})]})},{id:"submitted_at",label:"Submitted At",render:(U,B)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(_s,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:B.submitted_at?Oe(typeof B.submitted_at=="string"?B.submitted_at:B.submitted_at?.toString()||""):"Not submitted"})]})},{id:"answers_count",label:"Answers",render:(U,B)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(ed,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs font-medium",children:B.answers?.length||0})]})},{id:"location",label:"Location",render:(U,B)=>B.location?e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Qs,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:B.location})]}):e.jsx("span",{className:"text-xs text-gray-400 italic",children:"No location"})},{id:"status",label:"Status",render:(U,B)=>e.jsx(De,{icon:B.is_active==="Y"?e.jsx(pt,{fontSize:"small"}):e.jsx(i_,{fontSize:"small"}),label:B.is_active==="Y"?"Active":"Inactive",size:"small",color:B.is_active==="Y"?"success":"error",variant:"outlined"})},{id:"action",label:"Actions",sortable:!1,render:(U,B)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[e.jsx(Ka,{onClick:()=>z(B),tooltip:`View ${B.survey?.name||"Response"}`,icon:e.jsx(Cr,{fontSize:"small"}),color:"info"}),e.jsx(Vt,{onClick:()=>O(B.id),tooltip:"Delete response",itemName:"survey response",confirmDelete:!0})]})}];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Survey Responses"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"View and manage survey responses submitted by users"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Responses",value:E,icon:e.jsx(Cs,{className:"w-6 h-6"}),color:"blue",isLoading:f}),e.jsx(fe,{title:"Active",value:D,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:f}),e.jsx(fe,{title:"Inactive",value:T,icon:e.jsx(Cs,{className:"w-6 h-6"}),color:"red",isLoading:f}),e.jsx(fe,{title:"This Month",value:R,icon:e.jsx(_s,{className:"w-6 h-6"}),color:"teal",isLoading:f})]}),v&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load survey responses. Please try again."}),e.jsx(lt,{data:j,columns:K,actions:e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(as,{placeholder:"Search Responses...",value:s,onChange:$,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:n,onChange:U=>r(U.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(_e,{value:i||"all",onChange:U=>o(U.target.value==="all"?void 0:Number(U.target.value)),className:"!w-68",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Surveys"}),S.map(U=>e.jsx(Z,{value:U.id,children:U.title},U.id))]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Jt,{title:"Export Survey Responses",description:"Are you sure you want to export the current survey response data to Excel? This will include all filtered results.",onConfirm:Q,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:P.isPending,children:P.isPending?"Exporting...":"Export"})})})]}),getRowId:U=>U.id,initialOrderBy:"submitted_at",loading:f,totalCount:b,page:w,rowsPerPage:m,onPageChange:A,emptyMessage:s?`No responses found matching "${s}"`:"No survey responses found in the system"})]})},jMe=()=>{const{id:t}=Jn(),s=Gs(),{formatCurrency:a}=Qa(),{data:n,isLoading:r,error:i,isFetching:o}=yMe(Number(t)),l=()=>{s("/reports/survey-responses")},c=h=>{if(!h)return null;try{const f=JSON.parse(h);return Array.isArray(f)?f.join(", "):typeof f=="object"&&f!==null?JSON.stringify(f,null,2):h}catch{return h}},m=h=>({text:"Text",textarea:"Textarea",number:"Number",select:"Select",checkbox:"Checkbox",radio:"Radio",date:"Date",time:"Time",photo:"Photo",signature:"Signature"})[h]||h;if(r||o)return e.jsxs("div",{className:"!flex !items-start !gap-4",children:[e.jsxs("div",{className:"!flex-2 !flex !flex-col !gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-3 !right-3",children:e.jsx(J,{variant:"circular",width:10,height:10,className:"!bg-green-200"})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(J,{variant:"circular",width:96,height:96,className:"!mx-auto !border-3 !border-white"})}),e.jsx(J,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(J,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-2 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"30%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"60%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"70%",height:14})]})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4].map(h=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(J,{variant:"text",width:`${40+h*8}%`,height:12}),e.jsx(J,{variant:"text",width:`${60+h*6}%`,height:16})]},h))})]})]})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(h=>e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(J,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"40%",height:12})]}),e.jsx(J,{variant:"text",width:80,height:16,className:"!text-right"})]})},h))})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(h=>e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(J,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"40%",height:12})]}),e.jsx(J,{variant:"text",width:80,height:16,className:"!text-right"})]})},h))})]})]})]})]});if(i||!n)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(la,{className:"w-5 h-5"}),e.jsx(x,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load survey response details"})]}),e.jsx(x,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:l,className:"mt-4",children:"Back to Survey Responses"})]});const u=({title:h,children:f,icon:v})=>e.jsxs("div",{className:"!bg-white mt-4 !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[v&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(v,{className:"!text-primary-500"})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:h})]}),f]})]});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${n.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ht,{className:ln("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":n.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":n.is_active!=="Y"}),children:e.jsx(Cs,{className:"!w-8 !h-8"})})}),e.jsxs(x,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:["Response #",n.id]}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mb-3",children:n.survey?.name||`Survey #${n.parent_id}`}),e.jsx(De,{label:n.is_active==="Y"?"Active":"Inactive",className:`${n.is_active==="Y"?"!bg-green-100 !text-green-800":"!bg-gray-100 !text-gray-800"} font-semibold`,size:"small"}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Submitted At"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:n.submitted_at?Oe(typeof n.submitted_at=="string"?n.submitted_at:n.submitted_at?.toString()||""):"Not submitted"})]}),n.location&&e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Location"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:n.location})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Total Answers"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:[n.answers?.length||0," answers"]})]})]})]}),e.jsx(u,{title:"Response Statistics",icon:ed,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Total Answers"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:"Number of fields answered"})]}),e.jsx(x,{variant:"h6",className:"!font-bold !text-primary-600",children:n.answers?.length||0})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Status"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:"Current response status"})]}),e.jsx(De,{variant:"outlined",label:n.is_active==="Y"?"Active":"Inactive",color:n.is_active==="Y"?"success":"error",size:"small"})]})})]})})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsx(u,{title:"Response Information",icon:Cs,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Survey"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:n.survey?.name||`Survey #${n.parent_id}`}),n.survey?.description&&e.jsx(x,{variant:"caption",className:"!text-gray-500",children:n.survey.description})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Submitted By"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:n.submitted_user?.name||`User #${n.submitted_by}`}),n.submitted_user?.email&&e.jsx(x,{variant:"caption",className:"!text-gray-500",children:n.submitted_user.email})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Submitted Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:n.submitted_at?Oe(typeof n.submitted_at=="string"?n.submitted_at:n.submitted_at?.toString()||""):"Not available"})]}),n.location&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Location"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:n.location})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Created Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:n.createdate?Oe(typeof n.createdate=="string"?n.createdate:n.createdate?.toString()||""):"Not available"})]})]})}),e.jsx(u,{title:"Survey Answers",icon:ed,children:n.answers&&n.answers.length>0?e.jsx("div",{className:"!space-y-3",children:n.answers.map((h,f)=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx("div",{className:"!flex !items-center !justify-between !mb-2",children:e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:h.field?.name||`Field #${h.field_id}`}),h.field?.type&&e.jsx(De,{label:m(h.field.type),size:"small",color:"primary",className:"!text-xs"})]})}),e.jsx(x,{variant:"body1",className:"!text-gray-700 !mt-2 !p-2 !bg-white !rounded !border !border-gray-200",children:c(h?.answer||"")||e.jsx("span",{className:"!text-gray-400 italic",children:"No answer provided"})})]},h.id||f))}):e.jsxs("div",{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(Cs,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(x,{variant:"body2",children:"No answers provided for this response."})]})})]})]}),(n.customer||n.survey_response_customer)&&e.jsx(u,{title:"Customer Information",icon:Rn,children:(()=>{const h=n.customer||n.survey_response_customer;return h?e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 lg:!grid-cols-3 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Name"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:h.name})]}),h.code&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Code"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:h.code})]}),h.type&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Type"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:h.type})]}),h.contact_person&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Contact Person"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:h.contact_person})]}),h.phone_number&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Phone Number"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:h.phone_number})]}),h.email&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Email"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !break-all",children:h.email})]}),(h.city||h.state||h.zipcode)&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Location"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:[h.city,h.state,h.zipcode].filter(Boolean).join(", ")||"N/A"})]}),h.address&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2 lg:!col-span-3",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Address"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:h.address})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Credit Limit"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:a(Number(h.credit_limit))})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Outstanding Amount"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-red-600",children:a(Number(h.outstanding_amount))})]}),e.jsxs("div",{className:"!space-y-0.5 flex flex-col items-start",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Status"}),e.jsx(De,{label:h.is_active==="Y"?"Active":"Inactive",size:"small",color:h.is_active==="Y"?"success":"error",variant:"outlined"})]})]}):null})()}),e.jsx("div",{className:"!mt-4",children:e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:l,children:"Back to Survey Responses"})})]})},NMe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState(""),[r,i]=g.useState(void 0),[o,l]=g.useState(void 0),[c,m]=g.useState("all"),{isRead:u}=Ze("report"),{data:h,isLoading:f}=KTe({start_date:t,end_date:a,salesperson_id:r,customer_id:o,status:c==="all"?void 0:c},{enabled:u}),{data:v}=Fp(),{data:_}=er(),S=v?.data||[],j=_?.data||[],b=h?.summary||{total_visits:0,completed_visits:0,total_tasks:0,completed_tasks:0,avg_duration_minutes:0,gps_logs_count:0},w=g.useCallback(async()=>{try{await RTe({start_date:t,end_date:a,salesperson_id:r,customer_id:o,status:c==="all"?void 0:c})}catch(D){console.error("Error exporting report to Excel:",D)}},[t,a,r,o,c]),C=[{id:"customer_name",label:"Customer",render:(D,T)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:T.customer_name}),e.jsx("span",{className:"text-xs text-gray-500",children:T.customer_code})]})},{id:"salesperson_name",label:"Sales Person",render:(D,T)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-semibold text-blue-600",children:T.salesperson_name?.split(" ").map(R=>R[0]).join("").toUpperCase().slice(0,2)||"U"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:T.salesperson_name}),e.jsx("span",{className:"text-xs text-gray-500",children:T.salesperson_email})]})]})},{id:"route_name",label:"Route",render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"visit_date",label:"Visit Date",render:D=>Oe(D)||"N/A"},{id:"purpose",label:"Purpose",render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"status",label:"Status",render:D=>{const T=String(D||"").toLowerCase();let R="default";return T==="completed"||T==="closed"?R="success":T==="in_progress"||T==="started"?R="warning":T==="planned"||T==="scheduled"?R="info":(T==="cancelled"||T==="no_show")&&(R="error"),e.jsx(De,{label:D,size:"small",className:"!capitalize",color:R,variant:"outlined"})}},{id:"duration_minutes",label:"Duration",numeric:!0,render:D=>e.jsxs("span",{className:"text-sm",children:[D," min"]})},{id:"orders_created",label:"Orders",numeric:!0,render:D=>e.jsx("span",{className:"font-semibold text-sm",children:D})},{id:"completion_rate",label:"Tasks Complete",numeric:!0,render:D=>e.jsx(De,{label:`${D}%`,size:"small",color:Number(D)>=100?"success":Number(D)>=75?"info":"warning",variant:"outlined"})}],P=[{id:"customer_name",label:"Customer",render:D=>e.jsx("span",{className:"font-semibold text-sm",children:D})},{id:"visit_date",label:"Visit Date",render:D=>Oe(D)||"N/A"},{id:"task_type",label:"Task Type",render:D=>e.jsx("span",{className:"text-sm",children:D})},{id:"description",label:"Description",render:D=>e.jsx("span",{className:"text-sm max-w-xs truncate",title:D,children:D})},{id:"due_date",label:"Due Date",render:D=>Oe(D)||"N/A"},{id:"status",label:"Status",render:D=>{const T=String(D||"").toLowerCase();let R="default";return T==="completed"||T==="done"?R="success":T==="in_progress"||T==="started"?R="warning":T==="pending"&&(R="info"),e.jsx(De,{label:D,size:"small",className:"!capitalize",color:R,variant:"outlined"})}}],E=[{id:"user_name",label:"User",render:D=>e.jsx("span",{className:"font-semibold text-sm",children:D})},{id:"log_time",label:"Log Time",render:D=>Oe(D)||"N/A"},{id:"latitude",label:"Latitude",numeric:!0,render:D=>e.jsx("span",{className:"text-sm",children:Number(D).toFixed(6)})},{id:"longitude",label:"Longitude",numeric:!0,render:D=>e.jsx("span",{className:"text-sm",children:Number(D).toFixed(6)})},{id:"speed_kph",label:"Speed",numeric:!0,render:D=>e.jsxs("span",{className:"text-sm",children:[Number(D).toFixed(1)," km/h"]})},{id:"battery_level",label:"Battery",numeric:!0,render:D=>{const T=Number(D),R=T>50?"text-green-600":T>20?"text-yellow-600":"text-red-600";return e.jsxs("span",{className:`text-sm ${R}`,children:[T,"%"]})}}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs(y,{className:"!mb-3 !flex !justify-between !items-center",children:[e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Visit Frequency/Completion Report"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track visit patterns, completion rates, and GPS logs"})]}),u&&e.jsx(Jt,{title:"Export Report to Excel",description:"Are you sure you want to export the current report data to Excel?",onConfirm:w,confirmText:"Export",cancelText:"Cancel",placement:"bottom",children:e.jsx(G,{startIcon:e.jsx(Co,{className:"w-4 h-4"}),variant:"outlined",children:"Export to Excel"})})]}),u&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(oe,{type:"date",label:"Start Date",value:t,setValue:s}),e.jsx(oe,{type:"date",label:"End Date",value:a,setValue:n}),e.jsxs(_e,{label:"Salesperson",value:r?.toString()||"all",onChange:D=>i(D.target.value&&D.target.value!=="all"?parseInt(D.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Salespeople"}),j.map(D=>e.jsx(Z,{value:D.id.toString(),children:D.name},D.id))]}),e.jsxs(_e,{label:"Customer",value:o?.toString()||"all",onChange:D=>l(D.target.value&&D.target.value!=="all"?parseInt(D.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Customers"}),S.map(D=>e.jsxs(Z,{value:D.id.toString(),children:[D.name," (",D.code,")"]},D.id))]}),e.jsxs(_e,{label:"Status",value:c,onChange:D=>m(D.target.value),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"planned",children:"Planned"}),e.jsx(Z,{value:"in_progress",children:"In Progress"}),e.jsx(Z,{value:"completed",children:"Completed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-5",children:[e.jsx(fe,{title:"Total Visits",value:b.total_visits,icon:e.jsx(_s,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Completed",value:b.completed_visits,icon:e.jsx(Oa,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Tasks Completed",value:`${b.completed_tasks}/${b.total_tasks}`,icon:e.jsx(il,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"Avg Duration",value:`${b.avg_duration_minutes} min`,icon:e.jsx(Ts,{className:"w-6 h-6"}),color:"orange"}),e.jsx(fe,{title:"GPS Logs",value:b.gps_logs_count,icon:e.jsx(Qs,{className:"w-6 h-6"}),color:"indigo"})]}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(_s,{className:"w-5 h-5"})," Visits (",h?.data?.visits?.length||0,")"]}),columns:C,data:h?.data?.visits||[],loading:f,pagination:!1,isPermission:u}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(il,{className:"w-5 h-5"}),"Visit Tasks (",h?.data?.tasks?.length||0,")"]}),columns:P,data:h?.data?.tasks||[],loading:f,pagination:!1}),e.jsx(lt,{actions:e.jsxs(y,{className:"flex font-bold items-center gap-2",children:[e.jsx(Qs,{className:"w-5 h-5"})," GPS Logs (",h?.data?.gps_logs?.length||0,")"]}),columns:E,data:h?.data?.gps_logs||[],loading:f,pagination:!1,isPermission:u})]})},wMe=async t=>{const s=new URLSearchParams;return t?.user_id&&s.append("user_id",t.user_id.toString()),t?.start_date&&s.append("start_date",t.start_date),t?.end_date&&s.append("end_date",t.end_date),(await ie.get(`/tracking/gps?${s.toString()}`)).data.data},_Me=async()=>(await ie.get("/tracking/gps/realtime")).data.data,SMe=async t=>(await ie.post("/tracking/gps",t)).data.data,CMe=async t=>{const s={};return t?.start_date&&(s.start_date=t.start_date),t?.end_date&&(s.end_date=t.end_date),t?.salesperson_id&&(s.salesperson_id=t.salesperson_id),t?.route_id&&(s.route_id=t.route_id),t?.depot_id&&(s.depot_id=t.depot_id),(await ie.get("/tracking/route-effectiveness",{params:s})).data.data},$l={all:["gps-tracking"],lists:()=>[...$l.all,"list"],list:t=>[...$l.lists(),t],realtime:()=>[...$l.all,"realtime"],path:(t,s)=>[...$l.all,"path",t,s],routeEffectiveness:t=>[...$l.all,"route-effectiveness",t]},kMe=(t,s)=>nt({queryKey:$l.list(t),queryFn:()=>wMe(t),staleTime:180*1e3,enabled:s?.enabled!==!1}),PMe=t=>nt({queryKey:$l.realtime(),queryFn:()=>_Me(),staleTime:30*1e3,refetchInterval:t?.enabled!==!1?3e4:!1,enabled:t?.enabled!==!1}),EMe=()=>Re({mutationFn:t=>SMe(t),invalidateQueries:[...Array.from($l.realtime())],loadingMessage:"Creating GPS log..."}),TMe=(t,s)=>nt({queryKey:$l.routeEffectiveness(t),queryFn:()=>CMe(t),staleTime:300*1e3,enabled:s?.enabled!==!1}),MMe=({open:t,onClose:s,rep:a,onOpenMaps:n})=>a?e.jsx(ot,{open:t,setOpen:s,title:"GPS Tracking Details",size:"large",anchor:"right",children:e.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 p-6 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(ua,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:a.user_name}),e.jsxs("div",{className:"space-y-1 mt-2",children:[a.user_email&&e.jsx("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:e.jsx("span",{children:a.user_email})}),a.employee_id&&e.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"Employee ID:"}),e.jsxs("span",{className:"font-medium",children:["#",a.employee_id]})]})]})]}),e.jsx("div",{className:"px-4 py-2 bg-green-600 text-white rounded-full text-sm font-medium",children:"Active"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Qs,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h4",{className:"font-semibold text-gray-700",children:"Location"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Latitude:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:Number(a.latitude).toFixed(6)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Longitude:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:Number(a.longitude).toFixed(6)})]}),a.accuracy_meters&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Accuracy:"}),e.jsxs("span",{className:"ml-2 font-medium text-gray-900",children:["",a.accuracy_meters,"m"]})]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx(mp,{className:"w-5 h-5 text-orange-600"})}),e.jsx("h4",{className:"font-semibold text-gray-700",children:"Speed & Movement"})]}),e.jsx("div",{className:"space-y-2 text-sm",children:a.speed_kph!==null?e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Current Speed:"}),e.jsxs("span",{className:"ml-2 font-medium text-gray-900 text-lg",children:[a.speed_kph.toFixed(1)," km/h"]})]}):e.jsx("span",{className:"text-gray-400 italic",children:"No speed data"})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(fA,{className:"w-5 h-5 text-purple-600"})}),e.jsx("h4",{className:"font-semibold text-gray-700",children:"Device Information"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[a.battery_level!==null?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-gray-500",children:"Battery:"}),e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${a.battery_level>50?"bg-green-600":a.battery_level>20?"bg-orange-600":"bg-red-600"}`,style:{width:`${a.battery_level}%`}})}),e.jsxs("span",{className:"font-medium text-gray-900 w-12 text-right",children:[a.battery_level,"%"]})]})]}):e.jsx("span",{className:"text-gray-400 italic",children:"No battery data"}),a.network_type&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Network:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:a.network_type})]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:e.jsx(Ts,{className:"w-5 h-5 text-indigo-600"})}),e.jsx("h4",{className:"font-semibold text-gray-700",children:"Last Update"})]}),e.jsx("div",{className:"text-sm",children:a.last_update?e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:Oe(a.last_update)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Real-time tracking active"})]}):e.jsx("span",{className:"text-gray-400 italic",children:"No timestamp available"})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qs,{className:"w-5 h-5 text-blue-600"}),e.jsx("h4",{className:"font-semibold text-gray-700",children:"Live Location Map"})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("iframe",{src:`https://maps.google.com/maps?q=${Number(a.latitude)},${Number(a.longitude)}&z=16&output=embed`,width:"100%",height:"300",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Location Map",className:"w-full"}),e.jsxs("div",{className:"absolute bottom-4 right-4 bg-white p-2 rounded-lg shadow-md border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>n(Number(a.latitude),Number(a.longitude)),children:[e.jsx(Qs,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-xs text-blue-600 ml-1",children:"Open in Maps"})]})]}),e.jsx("div",{className:"p-3 bg-gray-50 text-sm text-gray-600",children:e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Coordinates:"}),e.jsxs("span",{className:"font-mono text-xs",children:[Number(a.latitude).toFixed(6),","," ",Number(a.longitude).toFixed(6)]})]})})]})]})}):null,DMe=({open:t,onClose:s,onSubmit:a,isLoading:n})=>{const[r,i]=g.useState({latitude:"24.7136",longitude:"46.6753",accuracy_meters:"10",speed_kph:"45.5",battery_level:"85",network_type:"4G"}),o=()=>{a({latitude:parseFloat(r.latitude),longitude:parseFloat(r.longitude),accuracy_meters:r.accuracy_meters?parseInt(r.accuracy_meters):void 0,speed_kph:r.speed_kph?parseFloat(r.speed_kph):void 0,battery_level:r.battery_level?parseFloat(r.battery_level):void 0,network_type:r.network_type})};return e.jsxs(sc,{open:t,onClose:s,maxWidth:"sm",fullWidth:!0,children:[e.jsx(Ev,{className:"!font-bold !text-xl",children:"Create Test GPS Log"}),e.jsx(fn,{}),e.jsx(hg,{className:"!pt-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Latitude ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"any",value:r.latitude,onChange:l=>i({...r,latitude:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Longitude ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"any",value:r.longitude,onChange:l=>i({...r,longitude:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accuracy (meters)"}),e.jsx("input",{type:"number",value:r.accuracy_meters,onChange:l=>i({...r,accuracy_meters:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Speed (km/h)"}),e.jsx("input",{type:"number",value:r.speed_kph,onChange:l=>i({...r,speed_kph:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Battery Level (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:r.battery_level,onChange:l=>i({...r,battery_level:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Network Type"}),e.jsx("input",{type:"text",value:r.network_type,onChange:l=>i({...r,network_type:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors"})]})]})}),e.jsx(fn,{}),e.jsxs(pg,{className:"!px-6 !py-4",children:[e.jsx(G,{onClick:s,variant:"text",color:"primary",children:"Cancel"}),e.jsx(G,{onClick:o,variant:"contained",color:"primary",loading:n,loadingText:"Creating...",disabled:n,children:"Create GPS Log"})]})]})},RMe=()=>{const[t,s]=g.useState(!1),[a,n]=g.useState(!1),[r,i]=g.useState(null),[o,l]=g.useState({latitude:"24.7136",longitude:"46.6753",accuracy_meters:"10",speed_kph:"45.5",battery_level:"85",network_type:"4G"}),{isRead:c}=Ze("location"),{data:m,isLoading:u}=PMe({enabled:c}),{data:h,isLoading:f}=kMe({user_id:void 0},{enabled:c}),v=EMe(),_=m?.gps_data||[],S=h?.data?.gps_logs||[],j=_.filter(T=>T.latitude&&T.longitude),b=m?.summary||{total_users:0,users_with_location:0,timestamp:new Date().toISOString()},w=u||f,C=T=>{T.latitude&&T.longitude?(i(T),n(!0)):or.warning("GPS is not active for this representative")},P=(T,R)=>{const z=`https://www.google.com/maps?q=${T},${R}`;window.open(z,"_blank")},E=()=>{v.mutate({latitude:parseFloat(o.latitude),longitude:parseFloat(o.longitude),accuracy_meters:o.accuracy_meters?parseInt(o.accuracy_meters):void 0,speed_kph:o.speed_kph?parseFloat(o.speed_kph):void 0,battery_level:o.battery_level?parseFloat(o.battery_level):void 0,network_type:o.network_type}),s(!1)},D=()=>e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-5",children:[1,2,3,4,5,6].map(T=>e.jsx("div",{className:"bg-white shadow-sm p-6 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(J,{variant:"circular",width:48,height:48,className:"!bg-gray-100"}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(J,{variant:"text",width:"60%",height:24}),e.jsx(J,{variant:"text",width:"20%",height:16})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(J,{variant:"text",width:"80%",height:20}),e.jsx(J,{variant:"text",width:"70%",height:20}),e.jsx(J,{variant:"text",width:"75%",height:20}),e.jsx(J,{variant:"text",width:"50%",height:16})]})]})]})},T))});return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"!font-bold text-xl !text-gray-900",children:"Representatives Location Tracking"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Real-time GPS tracking and location history for sales representatives"})]}),c&&e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 border border-blue-500 text-blue-700 rounded-full bg-blue-50",children:[e.jsx(Ts,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:["Last Update: ",Oe(b.timestamp)]})]})})]}),c&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Total Reps",value:b.total_users,icon:e.jsx(ua,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Active Now",value:b.users_with_location,icon:e.jsx(ru,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Avg Speed",value:j.length>0?`${Math.round(j.reduce((T,R)=>T+(R.speed_kph||0),0)/j.length)} km/h`:"0 km/h",icon:e.jsx(mp,{className:"w-6 h-6"}),color:"orange",isLoading:w}),e.jsx(fe,{title:"Tracking Points",value:S.length,icon:e.jsx(Qs,{className:"w-6 h-6"}),color:"purple",isLoading:w})]}),!c&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(Qs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"You do not have permission to view location tracking data"})]}),c&&e.jsx(e.Fragment,{children:w?e.jsx(D,{}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-5",children:[_.map(T=>e.jsx("div",{className:"bg-white shadow-sm p-6 rounded-lg border border-gray-100 transition-shadow cursor-pointer hover:shadow-md",onClick:()=>C(T),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${T.latitude&&T.longitude?"bg-green-100":"bg-gray-100"}`,children:T.latitude&&T.longitude?e.jsx(Qs,{className:"w-6 h-6 text-green-600"}):e.jsx(Qs,{className:"w-6 h-6 text-gray-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 truncate",children:T.user_name}),T.employee_id&&e.jsxs("span",{className:"text-xs text-gray-500",children:["#",T.employee_id]})]}),T.latitude&&T.longitude?e.jsxs("div",{className:"flex items-center gap-4 pt-1",children:[T.speed_kph!==null&&e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(mp,{className:"w-4 h-4 text-orange-500"}),e.jsxs("span",{className:"text-gray-700 font-medium",children:[T.speed_kph.toFixed(0)," km/h"]})]}),T.battery_level!==null&&e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(fA,{className:"w-4 h-4 text-purple-500"}),e.jsxs("span",{className:"text-gray-700 font-medium",children:[T.battery_level,"%"]})]}),T.last_update&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 ml-auto",children:[e.jsx(Ts,{className:"w-3 h-3"}),Oe(T.last_update)]})]}):e.jsx("div",{className:"text-sm text-gray-500 italic",children:"No location data available"})]})]})},T.user_id)),_.length===0&&!w&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(Qs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No GPS data available"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"No sales representatives are currently being tracked"})]})]})}),e.jsxs(sc,{open:t,onClose:()=>s(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(Ev,{className:"!font-bold !text-xl",children:"Create Test GPS Log"}),e.jsx(fn,{}),e.jsx(hg,{className:"!pt-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Latitude ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"any",value:o.latitude,onChange:T=>{l({...o,latitude:T.target.value})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Longitude ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"any",value:o.longitude,onChange:T=>l({...o,longitude:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accuracy (meters)"}),e.jsx("input",{type:"number",value:o.accuracy_meters,onChange:T=>l({...o,accuracy_meters:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Speed (km/h)"}),e.jsx("input",{type:"number",value:o.speed_kph,onChange:T=>l({...o,speed_kph:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Battery Level (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:o.battery_level,onChange:T=>l({...o,battery_level:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Network Type"}),e.jsx("input",{type:"text",value:o.network_type,onChange:T=>l({...o,network_type:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-colors"})]})]})}),e.jsx(fn,{}),e.jsxs(pg,{className:"!px-6 !py-4",children:[e.jsx(G,{onClick:()=>s(!1),variant:"text",color:"primary",children:"Cancel"}),e.jsx(G,{onClick:E,variant:"contained",color:"primary",loading:v.isPending,loadingText:"Creating...",disabled:v.isPending,children:"Create GPS Log"})]})]}),e.jsx(DMe,{open:t,onClose:()=>s(!1),onSubmit:E,isLoading:v.isPending}),e.jsx(MMe,{open:a,onClose:()=>n(!1),rep:r,onOpenMaps:P})]})},AMe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState(""),[r,i]=g.useState(void 0),[o,l]=g.useState(void 0),{isRead:c}=Ze("route-effectiveness"),{data:m,isLoading:u}=TMe({start_date:t,end_date:a,salesperson_id:r,depot_id:o},{enabled:c}),{data:h}=ko({isActive:"Y"}),f=h?.data||[],v=m?.summary||{total_routes:0,missed_visits:0,avg_completion_rate:"0",avg_efficiency_score:"0"},_=m?.routes||[],S=[{id:"route_name",label:"Route",render:(j,b)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Qs,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm",children:b.route_name}),e.jsx("span",{className:"text-xs text-gray-500",children:b.route_code})]})]})},{id:"salesperson_name",label:"Salesperson",render:j=>e.jsx("span",{className:"text-sm",children:j})},{id:"depot_name",label:"Depot",render:j=>e.jsx("span",{className:"text-sm",children:j})},{id:"total_customers",label:"Customers",numeric:!0,render:j=>e.jsx("span",{className:"font-semibold text-sm",children:j})},{id:"completed_visits",label:"Completed",numeric:!0,render:j=>e.jsx("span",{className:"font-semibold text-sm",children:j})},{id:"missed_visits",label:"Missed",numeric:!0,render:j=>e.jsx("span",{className:"font-semibold text-sm",children:j})},{id:"completion_rate",label:"Completion Rate",numeric:!0,render:j=>{const b=Number(j);return e.jsx(De,{label:`${j}%`,size:"small",variant:"outlined",color:b>=80?"success":b>=60?"warning":"error",className:"w-20"})}},{id:"efficiency_score",label:"Efficiency",numeric:!0,render:j=>{const b=Number(j);return e.jsx(De,{label:`${j}%`,size:"small",variant:"outlined",color:b>=80?"success":b>=60?"warning":"error"})}}];return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h2",{className:"!font-bold text-xl !text-gray-900",children:"Route Effectiveness"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Analyze route performance and effectiveness metrics"})]})}),c&&e.jsx("div",{className:"bg-white shadow-sm p-4 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{children:e.jsx(oe,{type:"date",value:t,onChange:j=>s(j.target.value),placeholder:"Start Date",label:"Start Date"})}),e.jsx("div",{children:e.jsx(oe,{type:"date",value:a,onChange:j=>n(j.target.value),placeholder:"End Date",label:"End Date"})}),e.jsx(hr,{label:"Sales Person",value:r?.toString()||"all",setValue:i}),e.jsxs(_e,{label:"Depot",value:o?.toString()||"all",onChange:j=>l(j.target.value&&j.target.value!=="all"?parseInt(j.target.value):void 0),disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Depots"}),f.map(j=>e.jsx(Z,{value:j.id.toString(),children:j.name},j.id))]})]})}),c&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Total Routes",value:v.total_routes,icon:e.jsx(ru,{className:"w-6 h-6"}),color:"blue",isLoading:u}),e.jsx(fe,{title:"Completion Rate",value:`${v.avg_completion_rate}%`,icon:e.jsx(il,{className:"w-6 h-6"}),color:"green",isLoading:u}),e.jsx(fe,{title:"Efficiency Score",value:`${v.avg_efficiency_score}%`,icon:e.jsx(mp,{className:"w-6 h-6"}),color:"purple",isLoading:u}),e.jsx(fe,{title:"Missed Visits",value:v.missed_visits,icon:e.jsx(Wc,{className:"w-6 h-6"}),color:"orange",isLoading:u})]}),c&&e.jsx(lt,{columns:S,actions:e.jsxs(y,{children:["Route Performance (",_.length,")"]}),data:_,loading:u,pagination:!1,isPermission:c}),!c&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(ru,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"You do not have permission to view route effectiveness data"})]}),c&&!u&&_.length>0&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:_.slice(0,4).map(j=>e.jsxs("div",{className:"bg-white shadow-sm p-6 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:j.route_name}),e.jsx("p",{className:"text-sm text-gray-500",children:j.route_code})]}),e.jsx(De,{label:`${j.efficiency_score}%`,color:Number(j.efficiency_score)>=80?"success":Number(j.efficiency_score)>=60?"warning":"error",size:"small",variant:"outlined"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[e.jsx(ua,{className:"w-4 h-4"}),"Customers"]}),e.jsx("span",{className:"font-medium",children:j.total_customers})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[e.jsx(Oa,{className:"w-4 h-4"}),"Completed"]}),e.jsx("span",{className:"font-medium",children:j.completed_visits})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[e.jsx(Wc,{className:"w-4 h-4"}),"Missed"]}),e.jsx("span",{className:"font-medium text-red-600",children:j.missed_visits})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[e.jsx(Qs,{className:"w-4 h-4"}),"Distance"]}),e.jsxs("span",{className:"font-medium",children:[j.actual_distance_km," km"]})]})]})]},j.route_id))})]})},IMe=async t=>{try{const s={...t};return s.inspector_id!==void 0&&(s.inspector_id===null&&(s.inspector_id="null"),delete s.inspected_by),(await ie.get("/cooler-inspections",{params:s})).data}catch(s){throw console.error("Error fetching cooler inspections:",s),new Error(s.response?.data?.message||"Failed to fetch cooler inspections")}},OMe=async t=>{try{return(await ie.get(`/cooler-inspections/${t}`)).data.data}catch(s){throw console.error("Error fetching cooler inspection:",s),new Error(s.response?.data?.message||"Failed to fetch cooler inspection")}},FMe=async t=>{try{return(await ie.post("/cooler-inspections",t)).data.data}catch(s){throw console.error("Error creating cooler inspection:",s),new Error(s.response?.data?.message||"Failed to create cooler inspection")}},LMe=async(t,s)=>{try{return(await ie.put(`/cooler-inspections/${t}`,s)).data}catch(a){throw console.error("Error updating cooler inspection:",a),new Error(a.response?.data?.message||"Failed to update cooler inspection")}},zMe=async t=>{try{await ie.delete(`/cooler-inspections/${t}`)}catch(s){throw console.error("Error deleting cooler inspection:",s),new Error(s.response?.data?.message||"Failed to delete cooler inspection")}},$Me=async(t,s,a)=>{try{return(await ie.patch(`/cooler-inspections/${t}/status`,{status:s,value:a})).data}catch(n){throw console.error("Error updating cooler inspection status:",n),new Error(n.response?.data?.message||"Failed to update cooler inspection status")}},Hm={all:["cooler-inspections"],lists:()=>[...Hm.all,"list"],list:t=>[...Hm.lists(),t],details:()=>[...Hm.all,"detail"],detail:t=>[...Hm.details(),t]},qMe=(t,s)=>nt({queryKey:Hm.list(t),queryFn:()=>IMe(t),staleTime:300*1e3,...s}),BMe=(t,s)=>nt({queryKey:Hm.detail(t),queryFn:()=>OMe(t),enabled:!!t,staleTime:300*1e3,...s}),UMe=()=>Re({mutationFn:FMe,invalidateQueries:["cooler-inspections"],loadingMessage:"Creating cooler inspection..."}),VMe=()=>Re({mutationFn:({id:t,...s})=>LMe(t,s),invalidateQueries:["cooler-inspections"],loadingMessage:"Updating cooler inspection..."}),HMe=()=>Re({mutationFn:zMe,invalidateQueries:["cooler-inspections"],loadingMessage:"Deleting cooler inspection..."}),WMe=()=>Re({mutationFn:({id:t,status:s,value:a})=>$Me(t,s,a),invalidateQueries:["cooler-inspections"],loadingMessage:"Updating cooler inspection status..."}),YMe=it({file:hs().required("Please select a file to import")}),GMe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:YMe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("cooler_inspections")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"cooler_inspections",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Cooler Inspections",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple cooler inspections. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},KMe=async t=>{try{const s={...t};return s.technician_id===null&&(s.technician_id="null"),(await ie.get("/cooler-installations",{params:s})).data}catch(s){throw console.error("Error fetching cooler installations:",s),new Error(s.response?.data?.message||"Failed to fetch cooler installations")}},QMe=async t=>{try{return(await ie.get(`/cooler-installations/${t}`)).data.data}catch(s){throw console.error("Error fetching cooler installation:",s),new Error(s.response?.data?.message||"Failed to fetch cooler installation")}},ZMe=async t=>(await ie.post("/cooler-installations",t)).data.data,XMe=async(t,s)=>(await ie.put(`/cooler-installations/${t}`,s)).data.data,JMe=async t=>{await ie.delete(`/cooler-installations/${t}`)},eDe=async(t,s,a)=>{try{return(await ie.patch(`/cooler-installations/${t}/status`,{status:s,value:a})).data}catch(n){throw console.error("Error updating cooler status:",n),new Error(n.response?.data?.message||"Failed to update cooler status")}},Wm={all:["cooler-installations"],lists:()=>[...Wm.all,"list"],list:t=>[...Wm.lists(),t],details:()=>[...Wm.all,"detail"],detail:t=>[...Wm.details(),t]},rL=(t,s)=>nt({queryKey:Wm.list(t),queryFn:()=>KMe(t),staleTime:300*1e3,...s}),tDe=(t,s)=>nt({queryKey:Wm.detail(t),queryFn:()=>QMe(t),enabled:!!t,staleTime:300*1e3,...s}),sDe=()=>Re({mutationFn:ZMe,invalidateQueries:["cooler-installations"],loadingMessage:"Creating cooler installation..."}),aDe=()=>Re({mutationFn:({id:t,...s})=>XMe(t,s),invalidateQueries:["cooler-installations"],loadingMessage:"Updating cooler installation..."}),nDe=()=>Re({mutationFn:JMe,invalidateQueries:["cooler-installations"],loadingMessage:"Deleting cooler installation..."}),rDe=()=>Re({mutationFn:({id:t,status:s,value:a})=>eDe(t,s,a),invalidateQueries:["cooler-installations"],loadingMessage:"Updating cooler status..."}),iDe=it({cooler_id:Qe().required("Cooler is required").positive("Please select a valid cooler"),inspected_by:Qe().required("Inspector is required").positive("Please select a valid inspector"),visit_id:Qe().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).nullable().positive("Please select a valid visit"),inspection_date:Ta().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Inspection date must be a valid date").max(new Date,"Inspection date cannot be in the future").min(new Date(new Date().setFullYear(new Date().getFullYear()-30)),"Inspection date cannot be more than 30 years ago").nullable(),temperature:Qe().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Temperature must be a number").min(-50,"Temperature must be at least -50C").max(50,"Temperature must be at most 50C").nullable(),is_working:me().oneOf(["Y","N"],"Please select working status").required("Working status is required"),issues:me().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).max(2e3,"Issues must be less than 2000 characters").nullable(),images:me().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).max(2e3,"Images must be less than 2000 characters").nullable(),latitude:Qe().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Latitude must be a number").min(-90,"Latitude must be between -90 and 90").max(90,"Latitude must be between -90 and 90").nullable(),longitude:Qe().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Longitude must be a number").min(-180,"Longitude must be between -180 and 180").max(180,"Longitude must be between -180 and 180").nullable(),action_required:me().oneOf(["Y","N"],"Please select action required status").required("Action required status is required"),action_taken:me().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).max(2e3,"Action taken must be less than 2000 characters").nullable(),next_inspection_due:Ta().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Next inspection due must be a valid date").min(new Date,"Next inspection due must be in the future").max(new Date(new Date().setFullYear(new Date().getFullYear()+5)),"Next inspection due cannot be more than 5 years in the future").nullable().when("inspection_date",([t],s)=>t&&t!=="undefined"&&t!==""?s.min(t,"Next inspection due must be after inspection date"):s),is_active:me().oneOf(["Y","N"],"Please select active status").required("Active status is required")}),oDe=({selectedInspection:t,setSelectedInspection:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),_.resetForm()},o=UMe(),l=VMe(),{data:c}=rL({limit:1e3}),{data:m}=er({limit:1e3}),{data:u}=XS({limit:1e3}),h=c?.data||[],f=m?.data||[],v=u?.data||[],_=ft({initialValues:{cooler_id:t?.cooler_id||"",inspected_by:t?.inspected_by||"",inspection_date:t?.inspection_date?Ln(t.inspection_date):"",temperature:t?.temperature||"",is_working:t?.is_working||"Y",issues:t?.issues||"",images:t?.images||"",latitude:t?.latitude||"",longitude:t?.longitude||"",action_required:t?.action_required||"N",action_taken:t?.action_taken||"",next_inspection_due:t?.next_inspection_due?Ln(t.next_inspection_due):"",visit_id:t?.visit_id||"",is_active:t?.is_active||"Y"},validationSchema:iDe,enableReinitialize:!0,onSubmit:async S=>{try{const j={cooler_id:Number(S.cooler_id),inspected_by:Number(S.inspected_by),inspection_date:S.inspection_date,temperature:S.temperature?Number(S.temperature):void 0,is_working:S.is_working,issues:S.issues,images:S.images,latitude:S.latitude?Number(S.latitude):void 0,longitude:S.longitude?Number(S.longitude):void 0,action_required:S.action_required,action_taken:S.action_taken,next_inspection_due:S.next_inspection_due,visit_id:S.visit_id?Number(S.visit_id):void 0,is_active:S.is_active};r&&t?await l.mutateAsync({id:t.id,...j}):await o.mutateAsync(j),i()}catch(j){console.error("Error saving cooler inspection:",j)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Cooler Inspection":"Create Cooler Inspection",children:e.jsx(y,{className:"!p-4",children:e.jsxs("form",{onSubmit:_.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(_e,{name:"cooler_id",label:"Cooler",formik:_,fullWidth:!0,children:h.map(S=>e.jsxs(Z,{value:S.id,children:[S.code," - ",S.brand," ",S.model," (",S.customer?.name,")"]},S.id))}),e.jsx(_e,{name:"inspected_by",label:"Inspector",formik:_,fullWidth:!0,children:f.map(S=>e.jsxs(Z,{value:S.id,children:[S.name," (",S.email,")"]},S.id))}),e.jsx(oe,{name:"inspection_date",label:"Inspection Date",formik:_,type:"date",required:!0}),e.jsx(oe,{name:"temperature",label:"Temperature (C)",placeholder:"Enter temperature",formik:_,type:"number"}),e.jsxs(_e,{name:"is_working",label:"Working Status",formik:_,required:!0,children:[e.jsx(Z,{value:"Y",children:"Working"}),e.jsx(Z,{value:"N",children:"Not Working"})]}),e.jsxs(_e,{name:"action_required",label:"Action Required",formik:_,required:!0,children:[e.jsx(Z,{value:"Y",children:"Yes"}),e.jsx(Z,{value:"N",children:"No"})]}),e.jsx(oe,{name:"latitude",label:"Latitude",placeholder:"Enter latitude",formik:_,type:"number",slotProps:{htmlInput:{inputMode:"decimal",pattern:"[+-]?[0-9]*\\.?[0-9]*",step:"any",onKeyPress:S=>{!/[0-9.-]/.test(S.key)&&S.key!=="Backspace"&&S.key!=="Delete"&&S.key!=="Tab"&&S.key!=="Enter"&&S.preventDefault()}}}}),e.jsx(oe,{name:"longitude",label:"Longitude",placeholder:"Enter longitude",formik:_,type:"number",slotProps:{htmlInput:{inputMode:"decimal",pattern:"[+-]?[0-9]*\\.?[0-9]*",step:"any",onKeyPress:S=>{!/[0-9.-]/.test(S.key)&&S.key!=="Backspace"&&S.key!=="Delete"&&S.key!=="Tab"&&S.key!=="Enter"&&S.preventDefault()}}}}),e.jsx(oe,{name:"next_inspection_due",label:"Next Inspection Due",formik:_,type:"date"}),e.jsx(_e,{name:"visit_id",label:"Visit",formik:_,children:v.map(S=>e.jsx(Z,{value:S.id,children:`Visit #${S.id} - ${S.customer?.name} (${S.visit_date?Ln(S.visit_date):"No date"})`},S.id))}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"issues",label:"Issues Found",placeholder:"Describe any issues found during inspection...",formik:_,multiline:!0,rows:3})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"action_taken",label:"Action Taken",placeholder:"Describe any actions taken to resolve issues...",formik:_,multiline:!0,rows:3})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"images",label:"Images",placeholder:"Image URLs or file paths (comma-separated)...",formik:_,multiline:!0,rows:2})}),e.jsx(Ps,{name:"is_active",label:"Status",formik:_})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},lDe=()=>{const t=Gs(),[s,a]=g.useState(""),[n,r]=g.useState("all"),[i,o]=g.useState("all"),[l,c]=g.useState("all"),[m,u]=g.useState("all"),[h,f]=g.useState(null),[v,_]=g.useState(!1),[S,j]=g.useState(!1),[b,w]=g.useState(1),[C]=g.useState(10),{isCreate:P,isUpdate:E,isDelete:D,isRead:T}=Ze("inspection"),{data:R,isLoading:z,error:O}=qMe({search:s,page:b,limit:C,isActive:n==="all"?void 0:n==="Y"?"Y":"N",isWorking:i==="all"?void 0:i,actionRequired:l==="all"?void 0:l,inspector_id:m==="all"||m===""||!m?void 0:Number(m)},{enabled:T}),$=R?.data||[],A=R?.meta?.total_count||0,Q=(R?.meta?.current_page||1)-1,K=HMe(),U=ms(),B=R?.stats,V=B?.total_inspections??0,Y=B?.active_inspections??0,H=B?.inactive_inspections??0,F=B?.new_inspections_this_month??0,M=g.useCallback(()=>{f(null),_(!0)},[]),L=g.useCallback(ge=>{f(ge),_(!0)},[]),W=g.useCallback(ge=>{t(`/transactions/inspections/${ge.id}`)},[t]),X=g.useCallback(async ge=>{try{await K.mutateAsync(ge)}catch(le){console.error("Error deleting cooler inspection:",le)}},[K]),te=g.useCallback(ge=>{a(ge),w(1)},[]),se=g.useCallback((ge,le)=>{u(le?String(le.id):"all"),w(1)},[]),ae=ge=>{w(ge+1)},pe=g.useCallback(async()=>{try{const ge={search:s,isActive:n==="all"?void 0:n==="Y"?"Y":"N",isWorking:i==="all"?void 0:i,actionRequired:l==="all"?void 0:l,inspector_id:m==="all"||m===""||!m?void 0:Number(m)};await U.mutateAsync({tableName:"cooler_inspections",filters:ge})}catch(ge){console.error("Error exporting cooler inspections:",ge)}},[U,s,n,i,l,m]),he=ge=>{switch(ge){case"Y":return"success";case"N":return"error";default:return"default"}},re=ge=>{switch(ge){case"Y":return"success";case"N":return"error";default:return"default"}},xe=[{id:"cooler_info",label:"Cooler Info",render:(ge,le)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:le.cooler?.code,className:"!rounded !bg-blue-100 !text-blue-500",children:e.jsx(_x,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:le.cooler?.code||"Unknown Cooler"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:le.cooler?.brand&&le.cooler?.model?`${le.cooler.brand} ${le.cooler.model}`:"Unknown Model"})]})]})},{id:"customer",label:"Customer",render:(ge,le)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(ht,{alt:le.cooler?.customer?.name||"Customer",src:"mkx",className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(y,{className:"flex flex-col",children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:le.cooler?.customer?.name||"Unknown Customer"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:le.cooler?.customer?.code??""})]})]})},{id:"inspection_details",label:"Inspection Details",render:(ge,le)=>e.jsxs(y,{className:"flex flex-col gap-1",children:[e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(_s,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:le.inspection_date?Oe(le.inspection_date):"Not inspected"})]}),le.temperature&&e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(qv,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-xs",children:[le.temperature,"C"]})]})]})},{id:"working_status",label:"Working Status",render:(ge,le)=>e.jsx(De,{icon:le.is_working==="Y"?e.jsx(Yl,{}):e.jsx(Gn,{}),label:le.is_working==="Y"?"Working":"Not Working",size:"small",variant:"outlined",color:he(le.is_working)})},{id:"action_required",label:"Action Required",render:(ge,le)=>e.jsx(De,{label:le.action_required==="Y"?"Yes":"No",size:"small",icon:le.action_required==="Y"?e.jsx(Yl,{}):e.jsx(Gn,{}),variant:"outlined",color:re(le.action_required)})},{id:"inspector",label:"Inspector",render:(ge,le)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(ht,{alt:le.inspector?.name||"Inspector",src:le.inspector?.profile_image||"mkx",className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(y,{className:"flex flex-col",children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:le.inspector?.name||"No inspector"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:le.inspector?.email||"No email"})]})]})},{id:"location",label:"Location",render:(ge,le)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Qs,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:le.latitude&&le.longitude?`${le.latitude.toFixed(4)}, ${le.longitude.toFixed(4)}`:e.jsx("span",{className:"italic text-sm",children:"No Location"})})]})},{id:"next_inspection",label:"Next Inspection",render:(ge,le)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(_s,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:le.next_inspection_due?Oe(le.next_inspection_due):e.jsx("span",{className:"italic text-sm",children:"No Date"})})]})},{id:"is_active",label:"Active Status",render:(ge,le)=>e.jsx(De,{icon:le.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:le.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:le.is_active==="Y"?"success":"error"})},...T||E||D?[{id:"action",label:"Actions",sortable:!1,render:(ge,le)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[T&&e.jsx(Ka,{onClick:()=>W(le),tooltip:"View cooler inspection details",icon:e.jsx(Cr,{}),color:"success"}),E&&e.jsx(is,{onClick:()=>L(le),tooltip:`Edit Inspection ${le.id}`}),D&&e.jsx(Vt,{onClick:()=>X(le.id),tooltip:`Delete Inspection ${le.id}`,itemName:`Inspection ${le.id}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Cooler Inspections"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track and manage cooler inspections across installations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Inspections",value:V,icon:e.jsx(sl,{className:"w-6 h-6"}),color:"blue",isLoading:z}),e.jsx(fe,{title:"Active Inspections",value:Y,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:z}),e.jsx(fe,{title:"Inactive Inspections",value:H,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:z}),e.jsx(fe,{title:"This Month",value:F,icon:e.jsx(_s,{className:"w-6 h-6"}),color:"purple",isLoading:z})]}),O&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load cooler inspections. Please try again."}),e.jsx(lt,{data:$,columns:xe,actions:T||P?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:T&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Cooler Inspections...",value:s,onChange:te,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:n,onChange:ge=>r(ge.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]}),e.jsxs(_e,{value:i,onChange:ge=>o(ge.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Working"}),e.jsx(Z,{value:"Y",children:"Working"}),e.jsx(Z,{value:"N",children:"Not Working"})]}),e.jsxs(_e,{value:l,onChange:ge=>c(ge.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Action"}),e.jsx(Z,{value:"Y",children:"Action Required"}),e.jsx(Z,{value:"N",children:"No Action"})]}),e.jsx(hr,{label:"",value:m==="all"||m==="null"?void 0:m,onChange:se,fullWidth:!0,size:"small",className:"!w-60",placeholder:"Select Inspector"})]})}),T&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{title:"Export Cooler Inspections",description:"Are you sure you want to export the current cooler inspections data to Excel? This will include all filtered results.",onConfirm:pe,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:U.isPending,children:U.isPending?"Exporting...":"Export"})}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>j(!0),children:"Import"}),P&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:M,children:"Create"})]})]}):!1,getRowId:ge=>ge.id,initialOrderBy:"inspection_date",loading:z,totalCount:A,page:Q,rowsPerPage:C,isPermission:T,onPageChange:ae,emptyMessage:s?`No cooler inspections found matching "${s}"`:"No cooler inspections found in the system"}),e.jsx(oDe,{selectedInspection:h,setSelectedInspection:f,drawerOpen:v,setDrawerOpen:_}),e.jsx(GMe,{drawerOpen:S,setDrawerOpen:j})]})},cDe=()=>{const{id:t}=Jn(),s=Gs(),{data:a,isLoading:n,error:r,isFetching:i}=BMe(Number(t)),o=a,l=WMe(),c=async(S,j)=>{try{await l.mutateAsync({id:o?.id||0,status:S,value:j})}catch(b){console.error("Error updating status:",b)}},m=S=>({Y:"!bg-green-100 !text-green-800",N:"!bg-red-100 !text-red-800"})[S]||"bg-gray-100 text-gray-800",u=S=>({Y:"Working",N:"Not Working"})[S]||"Unknown",h=S=>({Y:"!bg-yellow-100 !text-yellow-800",N:"!bg-green-100 !text-green-800"})[S]||"!bg-gray-100 !text-gray-800",f=S=>({Y:"Action Required",N:"No Action Required"})[S]||"Unknown",v=()=>{s("/transactions/inspections")};if(n||i)return e.jsxs("div",{className:"!flex !items-start !gap-4",children:[e.jsxs("div",{className:"!flex-2 !flex !flex-col !gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-3 !right-3",children:e.jsx(J,{variant:"circular",width:10,height:10,className:"!bg-green-200"})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(J,{variant:"circular",width:96,height:96,className:"!mx-auto !border-3 !border-white"})}),e.jsx(J,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(J,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-2 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"30%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"60%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"70%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"25%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:14})]})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4].map(S=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(J,{variant:"text",width:`${40+S*8}%`,height:12}),e.jsx(J,{variant:"text",width:`${60+S*6}%`,height:16}),S===1&&e.jsx(J,{variant:"text",width:"50%",height:12,className:"!mt-1"})]},S))})]})]})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(S=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(J,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"40%",height:12})]}),e.jsx(J,{variant:"text",width:80,height:16,className:"!text-right"})]}),e.jsx(J,{variant:"text",width:"70%",height:12,className:"!mt-1"})]},S))})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:150,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2].map(S=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(J,{variant:"text",width:"70%",height:16,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:12})]}),e.jsxs("div",{className:"!text-right",children:[e.jsx(J,{variant:"text",width:80,height:16,className:"!mb-1"}),e.jsx(J,{variant:"rectangular",width:60,height:20,className:"!rounded-full"})]})]}),e.jsxs("div",{className:"!flex !items-center !justify-between !text-xs",children:[e.jsx(J,{variant:"text",width:"30%",height:10}),e.jsx(J,{variant:"text",width:"40%",height:10})]})]},S))})]})]})]})]});if(r||!o)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(la,{className:"w-5 h-5"}),e.jsx(x,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load cooler inspection details"})]}),e.jsx(x,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:v,className:"mt-4",children:"Back to Cooler Inspections"})]});const _=({title:S,children:j,icon:b})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[b&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(b,{className:"!text-primary-500"})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:S})]}),j]})]});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${o.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ht,{className:ln("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":o.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":o.is_active!=="Y"}),children:e.jsx(sl,{className:"!w-8 !h-8"})})}),e.jsxs(x,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:["Inspection #",o.id]}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mb-3",children:o.cooler?.code||"Unknown Cooler"}),e.jsx(De,{label:u(o.is_working),className:`${m(o.is_working)} font-semibold`,size:"small"}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Inspection Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.inspection_date?Oe(o.inspection_date):"Not inspected"})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Temperature"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.temperature?`${o.temperature}C`:"Not monitored"})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Action Required"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:f(o.action_required)})]})]})]}),e.jsx(_,{title:"Inspection Details",icon:_s,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(_s,{className:"!text-blue-500 !w-4 !h-4"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Inspection Date"})]}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-blue-600",children:o.inspection_date?Oe(o.inspection_date):"Not inspected"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(qv,{className:"!text-green-500 !w-4 !h-4"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Temperature"})]}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-green-600",children:o.temperature?`${o.temperature}C`:"Not monitored"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(_s,{className:"!text-orange-500 !w-4 !h-4"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Next Inspection Due"})]}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-orange-600",children:o.next_inspection_due?Oe(o.next_inspection_due):"Not scheduled"})]})}),o.latitude&&o.longitude&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Qs,{className:"!text-purple-500 !w-4 !h-4"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Location"})]}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-purple-600",children:[o.latitude.toFixed(4),","," ",o.longitude.toFixed(4)]})]})})]})})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsx(_,{title:"Cooler Information",icon:_x,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Cooler Code"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.cooler?.code||"Unknown Cooler"}),e.jsxs(x,{variant:"caption",className:"!text-gray-500",children:[o.cooler?.brand," ",o.cooler?.model]})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.cooler?.customer?.name||"Unknown Customer"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:o.cooler?.customer?.code})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Inspector"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.inspector?.name||"No inspector assigned"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:o.inspector?.email})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Serial Number"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !font-mono",children:o.cooler?.serial_number||"Not provided"})]}),o.issues&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Issues Found"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.issues})]})]})}),e.jsx(_,{title:"Status & Actions",icon:sl,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Working Status"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:"Operational status"})]}),e.jsx(De,{label:u(o.is_working),className:`${m(o.is_working)} font-semibold`,size:"small"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Action Required"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:"Maintenance status"})]}),e.jsx(De,{label:f(o.action_required),className:`${h(o.action_required)} font-semibold`,size:"small"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Inspection Status"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:"System status"})]}),e.jsx(De,{label:o.is_active==="Y"?"Active":"Inactive",color:o.is_active==="Y"?"success":"error",size:"small"})]})}),o.action_taken&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsx("div",{className:"!flex !items-center !justify-between",children:e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Action Taken"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:o.action_taken})]})})})]})}),e.jsx(_,{title:"Status Management",icon:sl,children:e.jsxs("div",{className:"!space-y-4",children:[e.jsxs("div",{className:"!space-y-2",children:[e.jsx(x,{variant:"subtitle2",className:"!font-semibold !text-gray-900",children:"Working Status"}),e.jsxs("div",{className:"!grid !grid-cols-1 sm:!grid-cols-2 !gap-2",children:[e.jsx(G,{variant:o.is_working==="Y"?"contained":"outlined",color:"success",onClick:()=>o.is_working!=="Y"&&c("is_working","Y"),disabled:l.isPending,className:"!w-full",size:"small",children:"Set Working"}),e.jsx(G,{variant:o.is_working==="N"?"contained":"outlined",color:"error",onClick:()=>o.is_working!=="N"&&c("is_working","N"),disabled:l.isPending,className:"!w-full",size:"small",children:"Set Not Working"})]})]}),e.jsxs("div",{className:"!space-y-2",children:[e.jsx(x,{variant:"subtitle2",className:"!font-semibold !text-gray-900",children:"Action Required"}),e.jsxs("div",{className:"!grid !grid-cols-1 sm:!grid-cols-2 !gap-2",children:[e.jsx(G,{variant:o.action_required==="N"?"contained":"outlined",color:"success",onClick:()=>o.action_required!=="N"&&c("action_required","N"),disabled:l.isPending,className:"!w-full",size:"small",children:"Set No Action Required"}),e.jsx(G,{variant:o.action_required==="Y"?"contained":"outlined",color:"warning",onClick:()=>o.action_required!=="Y"&&c("action_required","Y"),disabled:l.isPending,className:"!w-full",size:"small",children:"Set Action Required"})]})]}),e.jsxs("div",{className:"!space-y-2",children:[e.jsx(x,{variant:"subtitle2",className:"!font-semibold !text-gray-900",children:"Active Status"}),e.jsxs("div",{className:"!grid !grid-cols-1 sm:!grid-cols-2 !gap-2",children:[e.jsx(G,{variant:o.is_active==="Y"?"contained":"outlined",color:"success",onClick:()=>o.is_active!=="Y"&&c("is_active","Y"),disabled:l.isPending,className:"!w-full",size:"small",children:"Set Active"}),e.jsx(G,{variant:o.is_active==="N"?"contained":"outlined",color:"error",onClick:()=>o.is_active!=="N"&&c("is_active","N"),disabled:l.isPending,className:"!w-full",size:"small",children:"Set Inactive"})]})]})]})})]})]})})},dDe=it({file:hs().required("Please select a file to import")}),uDe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:dDe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("cooler_installations")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"cooler_installations",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Cooler Installations",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple cooler installations. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-3",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},mDe=it({customer_id:Qe().required("Customer is required").positive("Customer must be selected"),code:me().min(2,"Cooler code must be at least 2 characters").max(50,"Cooler code must be less than 50 characters"),brand:me().max(100,"Brand must be less than 100 characters"),model:me().max(100,"Model must be less than 100 characters"),serial_number:me().max(100,"Serial number must be less than 100 characters"),capacity:Qe().min(0,"Capacity must be non-negative"),install_date:Ta().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Installation date must be a valid date").max(new Date,"Installation date cannot be in the future").min(new Date(new Date().setFullYear(new Date().getFullYear()-30)),"Installation date cannot be more than 30 years ago").nullable(),last_service_date:Ta().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Last service date must be a valid date").max(new Date,"Last service date cannot be in the future").nullable().when("install_date",([t],s)=>t&&t!=="undefined"&&t!==""?s.min(t,"Last service date cannot be before installation date"):s),next_service_due:Ta().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Next service due must be a valid date").min(new Date,"Next service due must be in the future").max(new Date(new Date().setFullYear(new Date().getFullYear()+5)),"Next service due cannot be more than 5 years in the future").nullable().when("last_service_date",([t],s)=>t&&t!=="undefined"&&t!==""?s.min(t,"Next service due must be after last service date"):s),status:me().max(20,"Status must be less than 20 characters"),temperature:Qe().typeError("Temperature must be a number").min(-30,"Temperature cannot be below -30C").max(50,"Temperature cannot be above 50C").nullable(),energy_rating:me().matches(/^(A\+\+|A\+|A|B|C|D|E|F|G)$/i,"Energy rating must be one of: A++, A+, A, B, C, D, E, F, G").max(10,"Energy rating must be less than 10 characters"),warranty_expiry:Ta().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Warranty expiry must be a valid date").min(new Date,"Warranty expiry cannot be in the past").max(new Date(new Date().setFullYear(new Date().getFullYear()+20)),"Warranty expiry cannot be more than 20 years in the future").nullable(),maintenance_contract:me().max(100,"Maintenance contract must be less than 100 characters"),technician_id:Qe().positive("Technician must be selected"),last_scanned_date:Ta().transform((t,s)=>s==="undefined"||s===""||s===null?null:t).typeError("Last scanned date must be a valid date").max(new Date,"Last scanned date cannot be in the future").min(new Date(new Date().setFullYear(new Date().getFullYear()-2)),"Last scanned date cannot be more than 2 years ago").nullable(),is_active:me().oneOf(["Y","N"],"Status must be Active or Inactive").required("Status is required")}),pDe=({selectedInstallation:t,setSelectedInstallation:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),c.resetForm()},o=sDe(),l=aDe(),c=ft({initialValues:{customer_id:t?.customer_id||"",code:t?.code||"",brand:t?.brand||"",model:t?.model||"",serial_number:t?.serial_number||"",capacity:t?.capacity||"",install_date:t?.install_date?Ln(t.install_date):"",last_service_date:t?.last_service_date?Ln(t.last_service_date):"",next_service_due:t?.next_service_due?Ln(t.next_service_due):"",cooler_type_id:t?.cooler_type_id||"",cooler_sub_type_id:t?.cooler_sub_type_id||"",status:t?.status||"working",temperature:t?.temperature||"",energy_rating:t?.energy_rating||"",warranty_expiry:t?.warranty_expiry?Ln(t.warranty_expiry):"",maintenance_contract:t?.maintenance_contract||"",technician_id:t?.technician_id||"",last_scanned_date:t?.last_scanned_date?Ln(t.last_scanned_date):"",is_active:t?.is_active||"Y"},validationSchema:mDe,enableReinitialize:!0,onSubmit:async j=>{j.cooler_type_id||c.setFieldValue("cooler_sub_type_id","");try{const b={customer_id:Number(j.customer_id),brand:j.brand,model:j.model,serial_number:j.serial_number,capacity:j.capacity?Number(j.capacity):void 0,install_date:j.install_date,last_service_date:j.last_service_date,next_service_due:j.next_service_due,cooler_type_id:j.cooler_type_id?Number(j.cooler_type_id):void 0,cooler_sub_type_id:j.cooler_sub_type_id?Number(j.cooler_sub_type_id):void 0,status:j.status,temperature:j.temperature?Number(j.temperature):void 0,energy_rating:j.energy_rating,warranty_expiry:j.warranty_expiry,maintenance_contract:j.maintenance_contract,technician_id:j.technician_id?Number(j.technician_id):void 0,last_scanned_date:j.last_scanned_date,is_active:j.is_active};r&&t?await l.mutateAsync({id:t.id,...b}):await o.mutateAsync(b),i()}catch(b){console.error("Error saving cooler installation:",b)}}}),{data:m}=er({limit:1e3}),{data:u}=s3(),h=c.values.cooler_type_id?Number(c.values.cooler_type_id):void 0,{data:f}=tPe(h),v=m?.data||[],_=u?.data||[],S=f?.data||[];return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Cooler Installation":"Create Cooler Installation",size:"large",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(io,{name:"customer_id",label:"Customer",formik:c,required:!0}),e.jsx(oe,{name:"brand",label:"Brand",placeholder:"Enter cooler brand",formik:c}),e.jsx(oe,{name:"model",label:"Model",placeholder:"Enter cooler model",formik:c}),e.jsx(oe,{name:"serial_number",label:"Serial Number",placeholder:"Enter serial number",formik:c}),e.jsx(oe,{name:"capacity",label:"Capacity (Liters)",placeholder:"Enter capacity",formik:c,type:"number"}),e.jsx(oe,{name:"install_date",label:"Installation Date",formik:c,type:"date"}),e.jsx(_e,{name:"cooler_type_id",label:"Cooler Type",formik:c,onChange:j=>{c.setFieldValue("cooler_type_id",j.target.value),c.setFieldValue("cooler_sub_type_id","")},children:_.map(j=>e.jsx(Z,{value:j.id,children:j.name},j.id))}),e.jsx(_e,{name:"cooler_sub_type_id",label:"Cooler Sub Type",formik:c,disabled:!c.values.cooler_type_id,children:S.map(j=>e.jsx(Z,{value:j.id,children:j.name},j.id))}),e.jsxs(_e,{name:"status",label:"Status",formik:c,children:[e.jsx(Z,{value:"working",children:"Working"}),e.jsx(Z,{value:"maintenance",children:"Maintenance"}),e.jsx(Z,{value:"broken",children:"Broken"}),e.jsx(Z,{value:"offline",children:"Offline"})]}),e.jsx(oe,{name:"temperature",label:"Temperature (C)",placeholder:"Enter current temperature",formik:c,type:"number"}),e.jsx(oe,{name:"energy_rating",label:"Energy Rating",placeholder:"e.g., A++, A+, A",formik:c}),e.jsx(oe,{name:"last_service_date",label:"Last Service Date",formik:c,type:"date"}),e.jsx(oe,{name:"next_service_due",label:"Next Service Due",formik:c,type:"date"}),e.jsx(oe,{name:"warranty_expiry",label:"Warranty Expiry",formik:c,type:"date"}),e.jsx(_e,{name:"technician_id",label:"Technician",formik:c,children:v.map(j=>e.jsxs(Z,{value:j.id,children:[j.name," (",j.email,")"]},j.id))}),e.jsx(oe,{name:"last_scanned_date",label:"Last Scanned Date",formik:c,type:"date"}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"maintenance_contract",label:"Maintenance Contract",placeholder:"Enter maintenance contract details",formik:c,multiline:!0,rows:3})}),e.jsx(Ps,{name:"is_active",label:"Status",formik:c,required:!0})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"})]})]})})})},hDe=()=>{const t=Gs(),[s,a]=g.useState(""),[n,r]=g.useState("all"),[i,o]=g.useState("all"),[l,c]=g.useState("all"),[m,u]=g.useState(null),[h,f]=g.useState(!1),[v,_]=g.useState(!1),[S,j]=g.useState(1),[b]=g.useState(10),{isCreate:w,isUpdate:C,isDelete:P,isRead:E}=Ze("installation"),{data:D,isLoading:T,isFetching:R,error:z}=rL({search:s,page:S,limit:b,isActive:n==="all"?void 0:n,status:i==="all"?void 0:i,technician_id:l==="all"||l===""||!l?void 0:Number(l)},{enabled:E}),O=D?.data||[],$=D?.meta?.total_count||0,A=(D?.meta?.page||1)-1,Q=nDe(),K=ms(),U=D?.stats,B=U?.total_coolers??0,V=U?.active_coolers??0,Y=U?.inactive_coolers??0,H=U?.new_coolers_this_month??0,F=g.useCallback(()=>{u(null),f(!0)},[]),M=g.useCallback(re=>{u(re),f(!0)},[]),L=g.useCallback(re=>{t(`/transactions/installations/${re.id}`)},[t]),W=g.useCallback(async re=>{try{await Q.mutateAsync(re)}catch(xe){console.error("Error deleting cooler installation:",xe)}},[Q]),X=g.useCallback(re=>{a(re),j(1)},[]),te=g.useCallback((re,xe)=>{c(xe?String(xe.id):"all"),j(1)},[]),se=re=>{j(re+1)},ae=g.useCallback(async()=>{try{const re={search:s,isActive:n==="all"?void 0:n,status:i==="all"?void 0:i,technician_id:l==="all"||l===""||!l?void 0:Number(l)};await K.mutateAsync({tableName:"cooler_installations",filters:re})}catch(re){console.error("Error exporting cooler installations:",re)}},[K,s,n]),pe=re=>{switch(re){case"working":return"success";case"maintenance":return"warning";case"broken":return"error";case"offline":return"default";default:return"default"}},he=[{id:"cooler_info",label:"Cooler Info",sortable:!1,render:(re,xe)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:xe.code,className:"!rounded !bg-blue-100 !text-blue-500",children:e.jsx(_x,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:xe.code}),e.jsxs(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:[xe.brand?`${xe.brand}`:"Unknown Brand",xe.model?` ${xe.model}`:""]})]})]})},{id:"customer",label:"Customer",sortable:!1,render:(re,xe)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(ht,{alt:xe.customer?.name||"Customer",src:"mkx",className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(y,{className:"flex flex-col",children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:xe.customer?.name||"Unknown Customer"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:xe.customer?.code??""})]})]})},{id:"installation_details",label:"Installation Details",sortable:!1,render:(re,xe)=>e.jsxs(y,{className:"flex flex-col gap-1",children:[e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(_s,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:xe.install_date?Oe(xe.install_date):"Not installed"})]}),xe.capacity&&e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Wt,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-xs",children:[xe.capacity,"L"]})]})]})},{id:"cooler_type",label:"Cooler Type",render:(re,xe)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:xe.cooler_type?.name||e.jsx("span",{className:"italic text-gray-400",children:"No Type"})})},{id:"cooler_sub_type",label:"Cooler Sub Type",render:(re,xe)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:xe.cooler_sub_type?.name||e.jsx("span",{className:"italic text-gray-400",children:"No Sub Type"})})},{id:"status",label:"Status",render:(re,xe)=>e.jsx(De,{label:xe.status||"Unknown",size:"small",variant:"outlined",color:pe(xe.status),className:"!capitalize"})},{id:"temperature",label:"Temperature",render:(re,xe)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(qv,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:xe.temperature?`${xe.temperature}C`:"N/A"})]})},{id:"technician",label:"Technician",sortable:!1,render:(re,xe)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(ht,{alt:xe.technician?.name||"Technician",src:xe.technician?.profile_image||"mkx",className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(y,{className:"flex flex-col",children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:xe.technician?.name||"No technician"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:xe.technician?.email||"No email"})]})]})},{id:"next_service",label:"Next Service",render:(re,xe)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(_s,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs",children:xe.next_service_due?Oe(xe.next_service_due):"N/A"})]})},{id:"is_active",label:"Active Status",render:(re,xe)=>e.jsx(De,{icon:xe.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:xe.is_active==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:xe.is_active==="Y"?"success":"error"})},...E||C||P?[{id:"action",label:"Actions",sortable:!1,render:(re,xe)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[E&&e.jsx(Ka,{onClick:()=>L(xe),tooltip:"View cooler installation details",icon:e.jsx(Cr,{}),color:"success"}),C&&e.jsx(is,{onClick:()=>M(xe),tooltip:`Edit Installation ${xe.code}`}),P&&e.jsx(Vt,{onClick:()=>W(xe.id),tooltip:`Delete Installation ${xe.code}`,itemName:`Installation ${xe.code}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Cooler Installations"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Track and manage cooler installations across customers"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Installations",value:B,icon:e.jsx(_x,{className:"w-6 h-6"}),color:"blue",isLoading:T||R}),e.jsx(fe,{title:"Active Installations",value:V,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:T||R}),e.jsx(fe,{title:"Inactive Installations",value:Y,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:T||R}),e.jsx(fe,{title:"This Month",value:H,icon:e.jsx(_s,{className:"w-6 h-6"}),color:"purple",isLoading:T||R})]}),z&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load cooler installations. Please try again."}),e.jsx(lt,{data:O,columns:he,actions:E||w?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:E&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Cooler Installations...",value:s,onChange:X,debounceMs:400,className:"!w-52"}),e.jsxs(_e,{value:n,onChange:re=>r(re.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]}),e.jsxs(_e,{value:i,onChange:re=>o(re.target.value),className:"!w-50",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"working",children:"Working"}),e.jsx(Z,{value:"maintenance",children:"Maintenance"}),e.jsx(Z,{value:"broken",children:"Broken"}),e.jsx(Z,{value:"offline",children:"Offline"})]}),e.jsx(hr,{label:"",placeholder:"Select Technician",value:l==="all"||l==="null"?void 0:l,onChange:te,fullWidth:!0,size:"small",className:"!w-60"})]})}),E&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{title:"Export Cooler Installations",description:"Are you sure you want to export the current cooler installations data to Excel? This will include all filtered results.",onConfirm:ae,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:K.isPending,children:K.isPending?"Exporting...":"Export"})}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>_(!0),children:"Import"})]}),w&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:F,children:"Create"})]}):!1,getRowId:re=>re.id,initialOrderBy:"install_date",loading:T||R,totalCount:$,page:A,rowsPerPage:b,isPermission:E,onPageChange:se,emptyMessage:s?`No cooler installations found matching "${s}"`:"No cooler installations found in the system"}),e.jsx(pDe,{selectedInstallation:m,setSelectedInstallation:u,drawerOpen:h,setDrawerOpen:f}),e.jsx(uDe,{drawerOpen:v,setDrawerOpen:_})]})},fDe=()=>{const{id:t}=Jn(),s=Gs(),{data:a,isLoading:n,error:r,isFetching:i}=tDe(Number(t)),o=a,l=rDe(),c=()=>{s("/transactions/installations")},m=async(v,_)=>{try{await l.mutateAsync({id:o?.id||0,status:v,value:_})}catch(S){console.error("Error updating status:",S)}},u=v=>{switch(v){case"working":return"success";case"maintenance":return"warning";case"broken":return"error";case"offline":return"default";default:return"default"}},h=v=>{switch(v){case"working":return"Working";case"maintenance":return"Maintenance";case"broken":return"Broken";case"offline":return"Offline";default:return"Unknown"}};if(n||i)return e.jsxs("div",{className:"!flex !items-start !gap-4",children:[e.jsxs("div",{className:"!flex-2 !flex !flex-col !gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-3 !right-3",children:e.jsx(J,{variant:"circular",width:10,height:10,className:"!bg-green-200"})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(J,{variant:"circular",width:96,height:96,className:"!mx-auto !border-3 !border-white"})}),e.jsx(J,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(J,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-2 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"30%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"60%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"70%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"25%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:14})]})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4].map(v=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(J,{variant:"text",width:`${40+v*8}%`,height:12}),e.jsx(J,{variant:"text",width:`${60+v*6}%`,height:16}),v===1&&e.jsx(J,{variant:"text",width:"50%",height:12,className:"!mt-1"})]},v))})]})]})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(v=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(J,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"40%",height:12})]}),e.jsx(J,{variant:"text",width:80,height:16,className:"!text-right"})]}),e.jsx(J,{variant:"text",width:"70%",height:12,className:"!mt-1"})]},v))})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:150,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2].map(v=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(J,{variant:"text",width:"70%",height:16,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:12})]}),e.jsxs("div",{className:"!text-right",children:[e.jsx(J,{variant:"text",width:80,height:16,className:"!mb-1"}),e.jsx(J,{variant:"rectangular",width:60,height:20,className:"!rounded-full"})]})]}),e.jsxs("div",{className:"!flex !items-center !justify-between !text-xs",children:[e.jsx(J,{variant:"text",width:"30%",height:10}),e.jsx(J,{variant:"text",width:"40%",height:10})]})]},v))})]})]})]})]});if(r||!o)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(la,{className:"w-5 h-5"}),e.jsx(x,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load cooler installation details"})]}),e.jsx(x,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:c,className:"mt-4",children:"Back to Cooler Installations"})]});const f=({title:v,children:_,icon:S})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[S&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(S,{className:"!text-primary-500"})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:v})]}),_]})]});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex lg:!flex-row flex-col items-start gap-4",children:[e.jsxs("div",{className:"lg:!flex-2 !w-full !flex-1 !flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${o.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ht,{className:ln("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":o.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":o.is_active!=="Y"}),children:e.jsx(_x,{className:"!w-8 !h-8"})})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:o.code}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mb-3",children:o.brand&&o.model?`${o.brand} ${o.model}`:"Unknown Model"}),e.jsx(De,{label:h(o.status),color:u(o.status),size:"small"}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Capacity"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.capacity?`${o.capacity}L`:"Not specified"})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Temperature"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.temperature?`${o.temperature}C`:"Not monitored"})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Energy Rating"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.energy_rating||"Not rated"})]})]})]}),e.jsx(f,{title:"Installation Details",icon:_s,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(_s,{className:"!text-blue-500 !w-4 !h-4"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Installation Date"})]}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-blue-600",children:o.install_date?Oe(o.install_date):"Not installed"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(sl,{className:"!text-green-500 !w-4 !h-4"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Last Service Date"})]}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-green-600",children:o.last_service_date?Oe(o.last_service_date):"No service history"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(_s,{className:"!text-orange-500 !w-4 !h-4"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Next Service Due"})]}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-orange-600",children:o.next_service_due?Oe(o.next_service_due):"Not scheduled"})]})}),o.last_scanned_date&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(qv,{className:"!text-purple-500 !w-4 !h-4"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Last Scanned"})]}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-purple-600",children:Oe(o.last_scanned_date)})]})})]})})]}),e.jsxs("div",{className:"lg:!flex-4 !w-full !flex-1 !space-y-4",children:[e.jsx(f,{title:"Cooler Information",icon:Wt,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-1",children:[e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:"Customer"}),e.jsxs(x,{variant:"body1",className:"!text-gray-800",children:[o.customer?.name||"Unknown Customer"," (",o.customer?.code,")"]})]}),e.jsxs("div",{className:"!space-y-1",children:[e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:"Technician"}),e.jsx(x,{variant:"body1",className:"!text-gray-800",children:o.technician?.name||"No technician assigned"})]}),e.jsxs("div",{className:"!space-y-1",children:[e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:"Brand & Model"}),e.jsx(x,{variant:"body1",className:"!text-gray-800",children:o.brand&&o.model?`${o.brand} ${o.model}`:"Unknown Brand & Model"})]}),e.jsxs("div",{className:"!space-y-1",children:[e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:"Serial Number"}),e.jsx(x,{variant:"body1",className:"!text-gray-800",children:o.serial_number||"Not provided"})]}),e.jsxs("div",{className:"!space-y-1",children:[e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:"Cooler Type"}),e.jsx(x,{variant:"body1",className:"!text-gray-800",children:o.cooler_type?.name||"Not specified"})]}),e.jsxs("div",{className:"!space-y-1",children:[e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:"Cooler Sub Type"}),e.jsx(x,{variant:"body1",className:"!text-gray-800",children:o.cooler_sub_type?.name||"Not specified"})]}),o.maintenance_contract&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(x,{variant:"body2",className:"!font-bold !text-gray-900",children:"Maintenance Contract"}),e.jsx(x,{variant:"body1",className:"!text-gray-800",children:o.maintenance_contract})]})]})}),e.jsx(f,{title:"Warranty & Service History",icon:sl,children:e.jsxs("div",{className:"!space-y-3",children:[o.warranty_expiry&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"subtitle2",className:"!font-semibold !text-gray-900",children:"Warranty Expiry"}),e.jsx(x,{variant:"body1",className:"!text-gray-800",children:Oe(o.warranty_expiry)})]}),e.jsx(De,{label:new Date(o.warranty_expiry)>new Date?"Active":"Expired",color:new Date(o.warranty_expiry)>new Date?"success":"error",size:"small"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"subtitle2",className:"!font-semibold !text-gray-900",children:"Current Status"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Operational status"})]}),e.jsx(De,{label:h(o.status),color:u(o.status),size:"small"})]})}),e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Installation Status"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:"System status"})]}),e.jsx(De,{label:o.is_active==="Y"?"Active":"Inactive",color:o.is_active==="Y"?"success":"error",size:"small"})]})})]})}),e.jsx(f,{title:"Status Management",icon:sl,children:e.jsxs("div",{className:"!space-y-4",children:[e.jsxs("div",{className:"!space-y-2",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Operational Status"}),e.jsx("div",{className:"!grid !grid-cols-1 sm:!grid-cols-2 lg:!grid-cols-4 !gap-2",children:["working","maintenance","broken","offline"].map(v=>e.jsxs(G,{variant:o.status===v?"contained":"outlined",color:v==="working"?"success":v==="maintenance"?"warning":v==="broken"?"error":"secondary",onClick:()=>o.status!==v&&m("status",v),disabled:l.isPending,className:"!capitalize !w-full",size:"small",children:["Set ",v]}))})]}),e.jsxs("div",{className:"!space-y-2",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Active Status"}),e.jsxs("div",{className:"!grid !grid-cols-1 sm:!grid-cols-2 !gap-2",children:[e.jsx(G,{variant:o.is_active==="Y"?"contained":"outlined",color:"success",onClick:()=>o.is_active!=="Y"&&m("is_active","Y"),disabled:l.isPending,className:"!w-full",size:"small",children:"Set Active"}),e.jsx(G,{variant:o.is_active==="N"?"contained":"outlined",color:"error",onClick:()=>o.is_active!=="N"&&m("is_active","N"),disabled:l.isPending,className:"!w-full",size:"small",children:"Set Inactive"})]})]})]})})]})]})})},xDe=async t=>{try{return(await ie.get("/transaction/credit-notes",{params:t})).data}catch(s){throw s}},gDe=async t=>{try{return(await ie.get(`/transaction/credit-notes/${t}`)).data}catch(s){throw s}},yDe=async t=>(await ie.post("/transaction/credit-notes",t)).data,bDe=async(t,s)=>(await ie.post("/transaction/credit-notes",{...s,id:t})).data,vDe=async t=>(await ie.delete(`/transaction/credit-notes/${t}`)).data,Ko={all:["creditNotes"],lists:()=>[...Ko.all,"list"],list:t=>[...Ko.lists(),t],details:()=>[...Ko.all,"detail"],detail:t=>[...Ko.details(),t]},jDe=(t,s)=>nt({queryKey:Ko.list(t||{}),queryFn:()=>xDe(t),staleTime:300*1e3,enabled:s?.enabled??!0}),iL=t=>nt({queryKey:Ko.detail(t),queryFn:()=>gDe(t),enabled:!!t,staleTime:300*1e3}),NDe=t=>{const s=cs();return Re({mutationFn:yDe,loadingMessage:"Creating credit note...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Ko.lists()})},onError:t?.onError})},wDe=t=>{const s=cs();return Re({mutationFn:({id:a,...n})=>bDe(a,n),loadingMessage:"Updating credit note...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Ko.lists()}),s.invalidateQueries({queryKey:Ko.detail(n.id)})},onError:t?.onError})},_De=t=>{const s=cs();return Re({mutationFn:vDe,loadingMessage:"Deleting credit note...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Ko.lists()})},onError:t?.onError})},SDe=it({file:hs().required("Please select a file to import")}),CDe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:SDe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("credit_notes")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"credit_notes",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Credit Notes",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple credit notes. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},kDe=async t=>{try{return(await ie.get("/orders",{params:t})).data}catch(s){throw s}},PDe=async t=>{try{return(await ie.get(`/orders/${t}`)).data}catch(s){throw s}},EDe=async t=>(await ie.post("/orders",t)).data,TDe=async(t,s)=>(await ie.put(`/orders/${t}`,s)).data,MDe=async t=>(await ie.delete(`/orders/${t}`)).data,Qo={all:["orders"],lists:()=>[...Qo.all,"list"],list:t=>[...Qo.lists(),t],details:()=>[...Qo.all,"detail"],detail:t=>[...Qo.details(),t]},g1=(t,s)=>nt({queryKey:Qo.list(t||{}),queryFn:()=>kDe(t),staleTime:300*1e3,enabled:s?.enabled??!0}),oL=t=>nt({queryKey:Qo.detail(t),queryFn:()=>PDe(t),enabled:!!t,staleTime:300*1e3}),DDe=t=>{const s=cs();return Re({mutationFn:EDe,loadingMessage:"Creating order...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Qo.lists()})},onError:t?.onError})},RDe=t=>{const s=cs();return Re({mutationFn:({id:a,...n})=>TDe(a,n),loadingMessage:"Updating order...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Qo.lists()}),s.invalidateQueries({queryKey:Qo.detail(n.id)})},onError:t?.onError})},ADe=t=>{const s=cs();return Re({mutationFn:MDe,loadingMessage:"Deleting order...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Qo.lists()})},onError:t?.onError})},IDe=it({parent_id:Qe().positive("Parent ID must be a positive number").required("Parent ID is required"),customer_id:Qe().positive("Customer ID must be a positive number").required("Customer ID is required"),currency_id:Qe().positive("Currency ID must be a positive number").required("Currency ID is required"),credit_note_date:Ta().required("Credit note date is required"),due_date:Ta().min(S_("credit_note_date"),"Due date must be after credit note date").required("Due date is required"),status:me().oneOf(["draft","pending","approved","rejected","cancelled"],"Invalid status").required("Status is required"),reason:me().min(5,"Reason must be at least 5 characters").max(500,"Reason must be less than 500 characters").required("Reason is required"),payment_method:me().oneOf(["cash","credit","cheque","bank_transfer"],"Invalid payment method").required("Payment method is required"),subtotal:Qe().min(0,"Subtotal must be non-negative").required("Subtotal is required"),discount_amount:Qe().min(0,"Discount amount must be non-negative").required("Discount amount is required"),tax_amount:Qe().min(0,"Tax amount must be non-negative").required("Tax amount is required"),shipping_amount:Qe().min(0,"Shipping amount must be non-negative").required("Shipping amount is required"),total_amount:Qe().min(0,"Total amount must be non-negative").required("Total amount is required"),amount_applied:Qe().min(0,"Amount applied must be non-negative").required("Amount applied is required"),balance_due:Qe().min(0,"Balance due must be non-negative").required("Balance due is required"),notes:me().max(1e3,"Notes must be less than 1000 characters"),billing_address:me().max(500,"Billing address must be less than 500 characters"),is_active:me().oneOf(["Y","N"],"Must be Y or N").required("Is active is required"),creditNoteItems:dl().of(it({product_id:Qe().positive("Product ID must be a positive number").required("Product ID is required"),quantity:Qe().positive("Quantity must be positive").required("Quantity is required"),unit_price:Qe().min(0,"Unit price must be non-negative").required("Unit price is required"),discount_amount:Qe().min(0,"Discount amount must be non-negative"),tax_amount:Qe().min(0,"Tax amount must be non-negative"),notes:me().max(500,"Notes must be less than 500 characters")})).min(1,"At least one credit note item is required")}),ODe=({open:t,onClose:s,creditNote:a})=>{const n=!!a,[r,i]=g.useState([]),{data:o}=g1({limit:1e3}),{data:l}=nc({limit:1e3}),{data:c}=iL(a?.id||0),m=o?.data||[],u=l?.data||[],h=NDe(),f=wDe(),v=()=>{s(),i([]),_.resetForm()};Nt.useEffect(()=>{if(a&&c?.data){const R=c.data.creditNoteItems?.map(z=>({product_id:z.product_id,quantity:z.quantity?.toString()||"1",unit_price:z.unit_price?.toString()||"0",discount_amount:(z.discount_amount||0).toString(),tax_amount:(z.tax_amount||0).toString(),notes:z.notes||""}))||[];i(R),_.setFieldValue("creditNoteItems",R),_.setFieldValue("credit_note_date",Ln(c.data.credit_note_date)),_.setFieldValue("due_date",Ln(c.data.due_date))}else i([]),_.setFieldValue("creditNoteItems",[])},[a,c]);const _=ft({initialValues:{parent_id:a?.parent_id?.toString()||"",customer_id:a?.customer_id?.toString()||"",currency_id:a?.currency_id?.toString()||l?.data?.[0]?.id?.toString()||"",credit_note_date:Ln(a?.credit_note_date),due_date:Ln(a?.due_date),status:a?.status||"draft",reason:a?.reason||"",payment_method:a?.payment_method||"credit",subtotal:a?.subtotal||0,discount_amount:a?.discount_amount||0,tax_amount:a?.tax_amount||0,shipping_amount:a?.shipping_amount||0,total_amount:a?.total_amount||0,amount_applied:a?.amount_applied||0,balance_due:a?.balance_due||0,notes:a?.notes||"",billing_address:a?.billing_address||"",is_active:a?.is_active||"Y",creditNoteItems:[]},validationSchema:IDe,enableReinitialize:!0,onSubmit:async R=>{try{const z={...R,credit_note_date:new Date(R.credit_note_date).toISOString(),parent_id:Number(R.parent_id),customer_id:Number(R.customer_id),currency_id:R.currency_id?Number(R.currency_id):void 0,due_date:new Date(R.due_date).toISOString(),notes:R.notes,billing_address:R.billing_address,creditNoteItems:r.filter(O=>O.product_id!=="").map(O=>({product_id:Number(O.product_id),quantity:Number(O.quantity),unit_price:Number(O.unit_price),discount_amount:Number(O.discount_amount)||0,tax_amount:Number(O.tax_amount)||0,notes:O.notes}))};n&&a?await f.mutateAsync({id:a.id,...z}):await h.mutateAsync(z),v()}catch(z){console.log("Error submitting credit note:",z)}}}),S=()=>{const R={product_id:"",quantity:"1",unit_price:"0",discount_amount:"0",tax_amount:"0",notes:""},z=[...r,R];i(z),_.setFieldValue("creditNoteItems",z)},j=R=>{const z=r.filter((O,$)=>$!==R);i(z),_.setFieldValue("creditNoteItems",z)},b=(R,z,O)=>{const $=[...r];$[R]={...$[R],[z]:O},i($),_.setFieldValue("creditNoteItems",$)},w=r.map((R,z)=>({...R,_index:z})),C=[{id:"product_id",label:"Product",render:(R,z)=>e.jsx(_o,{value:z.product_id,onChange:(O,$)=>b(z._index,"product_id",$?$.id.toString():""),size:"small",className:"!min-w-60"})},{id:"quantity",label:"Quantity",render:(R,z)=>e.jsx(oe,{value:z.quantity,onChange:O=>b(z._index,"quantity",O.target.value),placeholder:"1",type:"number",size:"small",className:"!min-w-20"})},{id:"unit_price",label:"Unit Price",render:(R,z)=>e.jsx(oe,{value:z.unit_price,onChange:O=>b(z._index,"unit_price",O.target.value),placeholder:"0.00",type:"number",size:"small",className:"!min-w-32"})},{id:"discount_amount",label:"Discount Amount",render:(R,z)=>e.jsx(oe,{value:z.discount_amount,onChange:O=>b(z._index,"discount_amount",O.target.value),placeholder:"0.00",type:"number",size:"small",className:"!min-w-20"})},{id:"tax_amount",label:"Tax Amount",render:(R,z)=>e.jsx(oe,{value:z.tax_amount,onChange:O=>b(z._index,"tax_amount",O.target.value),placeholder:"0.00",type:"number",size:"small",className:"!min-w-20"})},{id:"actions",label:"Actions",sortable:!1,render:(R,z)=>e.jsx(Vt,{onClick:()=>j(z._index),tooltip:"Remove item",confirmDelete:!0,size:"medium",itemName:"credit note item"})}],P=R=>(l?.data||[]).find($=>$.id===Number(R))?.code||"USD",E=(R,z)=>R==null?`${z} 0.00`:new Intl.NumberFormat("en-US",{style:"currency",currency:z}).format(R),T=(()=>{const R=r.reduce((U,B)=>U+Number(B.quantity)*Number(B.unit_price),0),z=r.reduce((U,B)=>U+Number(B.discount_amount),0),O=r.reduce((U,B)=>U+Number(B.tax_amount),0),$=0,A=R-z+O+$,Q=0,K=A-Q;return{subtotal:R,discount_amount:z,tax_amount:O,shipping_amount:$,total_amount:A,amount_applied:Q,balance_due:K}})();return e.jsx(ot,{open:t,setOpen:v,title:n?"Edit Credit Note":"Create Credit Note",size:"larger",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:_.handleSubmit,className:"!space-y-5",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5",children:[e.jsx(y,{className:"md:!col-span-2",children:e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Credit Note Information"})}),e.jsx(_e,{name:"parent_id",label:"Related Order",formik:_,required:!0,children:m.map(R=>e.jsxs(Z,{value:R.id?.toString()||"",children:[R.order_number," - ",R.customer?.name]},R.id))}),e.jsx(io,{name:"customer_id",label:"Customer",formik:_,required:!0}),e.jsx(oe,{name:"credit_note_date",label:"Credit Note Date",type:"date",formik:_,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(oe,{name:"due_date",label:"Due Date",type:"date",formik:_,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(_e,{name:"currency_id",label:"Currency",formik:_,required:!0,children:u.map(R=>e.jsxs(Z,{value:R.id?.toString()||"",children:[R.code," - ",R.name]},R.id))}),e.jsxs(_e,{name:"status",label:"Status",formik:_,required:!0,children:[e.jsx(Z,{value:"draft",children:"Draft"}),e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"approved",children:"Approved"}),e.jsx(Z,{value:"rejected",children:"Rejected"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]}),e.jsx(oe,{name:"reason",label:"Reason",placeholder:"Enter reason for credit note",formik:_,required:!0}),e.jsxs(_e,{name:"payment_method",label:"Payment Method",formik:_,required:!0,children:[e.jsx(Z,{value:"cash",children:"Cash"}),e.jsx(Z,{value:"credit",children:"Credit"}),e.jsx(Z,{value:"cheque",children:"Cheque"}),e.jsx(Z,{value:"bank_transfer",children:"Bank Transfer"})]}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"billing_address",label:"Billing Address",placeholder:"Enter billing address",formik:_,multiline:!0,rows:3})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"notes",label:"Notes",placeholder:"Enter credit note notes",formik:_,multiline:!0,rows:3})})]}),e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !justify-between !items-center",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Credit Note Items"}),e.jsx(G,{type:"button",variant:"outlined",startIcon:e.jsx(Qn,{}),onClick:S,size:"small",children:"Add Item"})]}),r.length>0&&e.jsx(lt,{data:w,columns:C,getRowId:R=>R._index.toString(),pagination:!1,sortable:!1,emptyMessage:"No credit note items added yet."}),r.length===0&&e.jsxs(y,{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(Wt,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(x,{variant:"body2",children:'No items added yet. Click "Add Item" to get started.'})]}),r.length>0&&e.jsxs(y,{className:"!bg-gray-50 !rounded-lg !mt-4",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2",children:"Credit Note Summary"}),e.jsxs(y,{className:"!space-y-2",children:[e.jsxs(y,{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",children:"Subtotal:"}),e.jsx(x,{variant:"body2",children:E(T.subtotal,P(_.values.currency_id))})]}),e.jsxs(y,{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",children:"Discount:"}),e.jsxs(x,{variant:"body2",children:["-",E(T.discount_amount,P(_.values.currency_id))]})]}),e.jsxs(y,{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",children:"Tax:"}),e.jsx(x,{variant:"body2",children:E(T.tax_amount,P(_.values.currency_id))})]}),e.jsxs(y,{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",children:"Shipping:"}),e.jsx(x,{variant:"body2",children:E(T.shipping_amount,P(_.values.currency_id))})]}),e.jsx(y,{className:"!border-t !border-gray-300 !pt-2 !mt-2",children:e.jsxs(y,{className:"!flex !justify-between",children:[e.jsx(x,{variant:"subtitle2",className:"!font-bold",children:"Total Amount:"}),e.jsx(x,{variant:"subtitle2",className:"!font-bold",children:E(T.total_amount,P(_.values.currency_id))})]})}),e.jsxs(y,{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",children:"Amount Applied:"}),e.jsx(x,{variant:"body2",children:E(T.amount_applied,P(_.values.currency_id))})]}),e.jsx(y,{className:"!border-t !border-gray-300 !pt-2 !mt-2",children:e.jsxs(y,{className:"!flex !justify-between",children:[e.jsx(x,{variant:"subtitle2",className:"!font-bold",children:"Balance Due:"}),e.jsx(x,{variant:"subtitle2",className:"!font-bold",children:E(T.balance_due,P(_.values.currency_id))})]})})]})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:v,disabled:h.isPending||f.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:h.isPending||f.isPending,children:h.isPending||f.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},FDe=({open:t,onClose:s,creditNote:a})=>{const{data:n,isLoading:r,error:i}=iL(a?.id||0),o=n?.data||a,l=_=>({draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[_]||"bg-gray-100 text-gray-800",c=_=>({draft:"Draft",pending:"Pending",approved:"Approved",rejected:"Rejected",cancelled:"Cancelled"})[_]||_,m=_=>{switch(_){case"draft":return e.jsx(Cs,{className:"w-4 h-4"});case"pending":return e.jsx(Ts,{className:"w-4 h-4"});case"approved":return e.jsx(Oa,{className:"w-4 h-4"});case"rejected":return e.jsx(Na,{className:"w-4 h-4"});case"cancelled":return e.jsx(Na,{className:"w-4 h-4"});default:return e.jsx(Cs,{className:"w-4 h-4"})}},u=_=>{if(_==null)return"N/A";const S=o?.currency?.code||"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:S}).format(_)},h=_=>!_.due_date||!_.balance_due?!1:new Date(_.due_date)<new Date&&_.balance_due>0,f=()=>{s()};if(r)return e.jsx(ot,{open:t,setOpen:s,title:"Credit Note Details",size:"large",children:e.jsxs("div",{className:"!p-6 !space-y-6",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx(J,{variant:"circular",width:96,height:96,className:"!mx-auto !mb-4"}),e.jsx(J,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-2"}),e.jsx(J,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(J,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto"})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[1,2,3,4].map(_=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(J,{variant:"text",width:"40%",height:20,className:"!mb-4"}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(S=>e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(J,{variant:"text",width:"30%",height:16}),e.jsx(J,{variant:"text",width:"40%",height:16})]},S))})]},_))})]})});if(i||!o)return e.jsx(ot,{open:t,setOpen:s,title:"Credit Note Details",size:"large",children:e.jsxs("div",{className:"!p-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(la,{className:"w-5 h-5"}),e.jsx(x,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load credit note details"})]}),e.jsx(x,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:f,className:"mt-4",children:"Back to Credit Notes"})]})});const v=({title:_,children:S,icon:j})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[j&&e.jsx("div",{className:"!p-1.5 !w-8 !h-8 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(j,{className:"!text-primary-500"})}),e.jsx(x,{variant:"subtitle1",className:"!font-bold !text-gray-900",children:_})]}),S]})]});return e.jsx(ot,{open:t,setOpen:s,title:"Credit Note Details",size:"large",children:e.jsxs("div",{className:"!p-5 mb-10 !space-y-5",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${o.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ht,{className:ln("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-green-400 !to-green-600 !text-white":o.status==="approved","!bg-gradient-to-br !from-yellow-400 !to-yellow-600 !text-white":o.status==="pending","!bg-gradient-to-br !from-red-400 !to-red-600 !text-white":o.status==="rejected"||o.status==="cancelled","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":o.status==="draft"}),children:e.jsx(Xn,{className:"!w-8 !h-8"})})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:o.credit_note_number}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mb-3",children:o.customer?.name||"Unknown Customer"}),e.jsxs("div",{className:"!flex !justify-center !gap-2 !mb-4",children:[e.jsx(De,{icon:m(o.status||"draft"),label:c(o.status||"draft"),className:`${l(o.status||"draft")} font-semibold`,size:"small"}),h(o)&&e.jsx(De,{label:"OVERDUE",className:"!bg-red-100 !text-red-800 !font-bold",size:"small"})]}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Total Amount"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u(o.total_amount)})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Amount Applied"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-green-600",children:u(o.amount_applied)})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Balance Due"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-red-600",children:u(o.balance_due)})]})]})]}),e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(v,{title:"Credit Note Information",icon:Hr,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Credit Note Date:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(o.credit_note_date)})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Due Date:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(o.due_date)})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Payment Method:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:o.payment_method?.replaceAll("_"," ")||"N/A"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Related Order:"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:["#",o.parent_id]})]})]})}),e.jsx(v,{title:"Customer Information",icon:Wt,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Customer Name:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.customer?.name||"N/A"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Customer ID:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.customer?.id||"N/A"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Customer Code:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.customer?.code||"N/A"})]})]})}),e.jsx(v,{title:"Amount Breakdown",icon:Cn,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Subtotal:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u(o.subtotal)})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Discount:"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-green-600",children:["-",u(o.discount_amount)]})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Tax:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u(o.tax_amount)})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Shipping:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u(o.shipping_amount)})]}),e.jsx("div",{className:"!border-t !border-gray-300 !pt-2 !mt-2",children:e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"subtitle2",className:"!font-bold",children:"Total:"}),e.jsx(x,{variant:"subtitle2",className:"!font-bold",children:u(o.total_amount)})]})})]})}),e.jsx(v,{title:"Credit Note Items",icon:Wt,children:e.jsx("div",{className:"!space-y-2",children:o.creditNoteItems&&o.creditNoteItems.length>0?o.creditNoteItems.map((_,S)=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !justify-between !items-start !mb-1",children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:_.product_name||_.product?.name||`Product #${_.product_id}`}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u(_.total_amount)})]}),e.jsxs("div",{className:"!flex !justify-between !text-xs !text-gray-500",children:[e.jsxs("span",{children:["Qty: ",_.quantity||"N/A"," "," ",u(_.unit_price)]}),_.discount_amount&&_.discount_amount>0&&e.jsxs("span",{className:"!text-green-600",children:["Discount: -",u(_.discount_amount)]})]}),_.notes&&e.jsx(x,{variant:"caption",className:"!text-gray-600 !block !mt-1",children:_.notes})]},_.id||S)):e.jsx(x,{variant:"body2",className:"!text-gray-500 !text-center !py-4",children:"No items found"})})})]}),(o.reason||o.notes||o.billing_address)&&e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[o.reason&&e.jsx(v,{title:"Reason for Credit Note",icon:Cs,children:e.jsx(x,{variant:"body2",className:"!text-gray-700",children:o.reason})}),o.notes&&e.jsx(v,{title:"Notes",icon:Cs,children:e.jsx(x,{variant:"body2",className:"!text-gray-700",children:o.notes})}),o.billing_address&&e.jsx(v,{title:"Billing Address",icon:Hr,children:e.jsx(x,{variant:"body2",className:"!text-gray-700",children:o.billing_address})})]}),e.jsx("div",{className:"!flex !justify-end",children:e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:f,children:"Back to Credit Notes"})})]})})},LDe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState(null),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[u,h]=g.useState(!1),[f,v]=g.useState(1),[_]=g.useState(10),{isCreate:S,isUpdate:j,isDelete:b,isRead:w}=Ze("credit-note"),{data:C,isLoading:P,error:E}=jDe({search:t,page:f,limit:_,status:a==="all"?void 0:a},{enabled:w}),D=C?.data||[],T=C?.meta?.total||0,R=(C?.meta?.page||1)-1,z=_De(),O=ms(),$=D.length,A=D.reduce((se,ae)=>se+(ae.total_amount||0),0),Q=$>0?A/$:0,K=D.filter(se=>se.status==="pending").length,U=g.useCallback(()=>{i(null),l(!0)},[]),B=g.useCallback(se=>{i(se),l(!0)},[]),V=g.useCallback(se=>{i(se),m(!0)},[]),Y=g.useCallback(async se=>{try{await z.mutateAsync(se)}catch(ae){console.error("Error deleting credit note:",ae)}},[z]),H=g.useCallback(se=>{s(se),v(1)},[]),F=se=>{v(se+1)},M=g.useCallback(async()=>{try{const se={search:t,status:a==="all"?void 0:a};await O.mutateAsync({tableName:"credit_notes",filters:se})}catch(se){console.error("Error exporting credit notes:",se)}},[O,t,a]),L=se=>se==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(se),W=se=>({draft:"default",pending:"warning",approved:"success",rejected:"error",cancelled:"error"})[se]||"default",X=se=>{switch(se){case"draft":return e.jsx(Wt,{className:"w-4 h-4"});case"pending":return e.jsx(Ts,{className:"w-4 h-4"});case"approved":return e.jsx(Oa,{className:"w-4 h-4"});case"rejected":return e.jsx(Na,{className:"w-4 h-4"});case"cancelled":return e.jsx(Na,{className:"w-4 h-4"});default:return e.jsx(Wt,{className:"w-4 h-4"})}},te=[{id:"credit_note_info",label:"Credit Note Info",render:(se,ae)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:ae.credit_note_number,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Xn,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !cursor-pointer !hover:!text-primary-500 !hover:!underline",onClick:()=>V(ae),children:ae.credit_note_number}),e.jsxs(x,{variant:"caption",className:"!text-gray-500 !capitalize !text-xs !block !mt-0.5",children:[ae.status||"draft","  ",ae.creditNoteItems?.length||0," items"]})]})]})},{id:"customer",label:"Customer",render:(se,ae)=>e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:ae.customer?.name||"N/A"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:ae.customer?.code||"N/A"})]})},{id:"order",label:"Related Order",render:(se,ae)=>e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:ae.order?.order_number||"N/A"}),e.jsxs(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:["Order ID: ",ae.parent_id]})]})},{id:"status",label:"Status",render:(se,ae)=>e.jsx(De,{icon:X(ae.status||"draft"),label:ae.status||"draft",size:"small",variant:"outlined",color:W(ae.status||"draft")})},{id:"dates",label:"Dates",render:(se,ae)=>e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center text-sm text-gray-900",children:[e.jsx(_s,{className:"w-4 h-4 text-gray-400 mr-1"}),"Credit Note:"," ",ae.credit_note_date?new Date(ae.credit_note_date).toLocaleDateString():"N/A"]}),ae.due_date&&e.jsxs(y,{className:"flex items-center text-sm text-gray-500 mt-1",children:[e.jsx(Ts,{className:"w-4 h-4 text-gray-400 mr-1"}),"Due: ",new Date(ae.due_date).toLocaleDateString()]})]})},{id:"amount",label:"Amount",render:(se,ae)=>e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:L(ae.total_amount)}),e.jsxs(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:["Subtotal: ",L(ae.subtotal)]}),ae.discount_amount&&ae.discount_amount>0&&e.jsxs(x,{variant:"caption",className:"!text-green-600 !text-xs !block !mt-0.5",children:["Discount: -",L(ae.discount_amount)]})]})},{id:"reason",label:"Reason",render:(se,ae)=>e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:ae.reason||"N/A"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 capitalize !text-xs !block !mt-0.5",children:ae.payment_method?.replaceAll("_"," ")||"N/A"})]})},...j||b?[{id:"action",label:"Actions",sortable:!1,render:(se,ae)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[j&&e.jsx(is,{onClick:()=>B(ae),tooltip:`Edit ${ae.credit_note_number}`}),b&&e.jsx(Vt,{onClick:()=>Y(ae.id),tooltip:`Delete ${ae.credit_note_number}`,itemName:ae.credit_note_number,confirmDelete:!0})]})}]:[]];return E?e.jsxs(ct,{severity:"error",className:"mb-4",children:["Error loading credit notes: ",E.message]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Credit Notes Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage credit notes, track refunds, and process adjustments"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Credit Notes",value:$,icon:e.jsx(Xn,{className:"w-6 h-6"}),color:"blue",isLoading:P}),e.jsx(fe,{title:"Total Value",value:L(A),icon:e.jsx(Cn,{className:"w-6 h-6"}),color:"green",isLoading:P}),e.jsx(fe,{title:"Avg Credit Note Value",value:L(Q),icon:e.jsx(Cn,{className:"w-6 h-6"}),color:"purple",isLoading:P}),e.jsx(fe,{title:"Pending Approval",value:K,icon:e.jsx(la,{className:"w-6 h-6"}),color:"orange",isLoading:P})]}),E&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load credit notes. Please try again."}),e.jsx(lt,{data:D,columns:te,actions:w||S?e.jsxs("div",{className:"flex justify-between gap-3 items-center flex-wrap",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-3",children:w&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Credit Notes...",value:t,onChange:H,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:se=>n(se.target.value),className:"!w-40",children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"draft",children:"Draft"}),e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"approved",children:"Approved"}),e.jsx(Z,{value:"rejected",children:"Rejected"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]})]})}),w&&e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Jt,{title:"Export Credit Notes",description:"Are you sure you want to export the current credit notes data to Excel? This will include all filtered results.",onConfirm:M,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:O.isPending,children:O.isPending?"Exporting...":"Export"})}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>h(!0),children:"Import"})]}),S&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:U,children:"Create"})]}):!1,getRowId:se=>se.id,initialOrderBy:"credit_note_number",loading:P,totalCount:T,page:R,rowsPerPage:_,isPermission:w,onPageChange:F,emptyMessage:t?`No credit notes found matching "${t}"`:"No credit notes found in the system"}),e.jsx(ODe,{open:o,onClose:()=>l(!1),creditNote:r}),e.jsx(CDe,{drawerOpen:u,setDrawerOpen:h}),e.jsx(FDe,{open:c,onClose:()=>m(!1),creditNote:r})]})},zDe=async t=>{try{return(await ie.get("/delivery-schedules",{params:t})).data}catch(s){throw console.error("Error fetching delivery schedules:",s),new Error(s.response?.data?.message||"Failed to fetch delivery schedules")}},$De=async t=>{try{return(await ie.post("/delivery-schedules",t)).data}catch(s){throw console.error("Error creating delivery schedule:",s),new Error(s.response?.data?.message||"Failed to create delivery schedule")}},qDe=async(t,s)=>{try{return(await ie.put(`/delivery-schedules/${t}`,s)).data}catch(a){throw console.error("Error updating delivery schedule:",a),new Error(a.response?.data?.message||"Failed to update delivery schedule")}},BDe=async t=>{try{return(await ie.delete(`/delivery-schedules/${t}`)).data}catch(s){throw console.error("Error deleting delivery schedule:",s),new Error(s.response?.data?.message||"Failed to delete delivery schedule")}},qf={all:["delivery-schedules"],lists:()=>[...qf.all,"list"],list:t=>[...qf.lists(),t],details:()=>[...qf.all,"detail"],detail:t=>[...qf.details(),t]},UDe=(t,s)=>nt({queryKey:qf.list(t),queryFn:()=>zDe(t),staleTime:300*1e3,...s}),VDe=()=>Re({mutationFn:$De,invalidateQueries:["delivery-schedules"],loadingMessage:"Creating delivery schedule..."}),HDe=()=>Re({mutationFn:({id:t,...s})=>qDe(t,s),invalidateQueries:["delivery-schedules"],loadingMessage:"Updating delivery schedule..."}),WDe=()=>Re({mutationFn:BDe,invalidateQueries:["delivery-schedules"],loadingMessage:"Deleting delivery schedule..."}),YDe=it({file:hs().required("Please select a file to import")}),GDe=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:YDe,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("delivery_schedules")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"delivery_schedules",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Delivery Schedules",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple delivery schedules. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing delivery schedules..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},KDe=it({order_id:Qe().required("Order ID is required").positive("Order ID must be a positive number"),customer_id:Qe().required("Customer ID is required").positive("Customer ID must be a positive number"),scheduled_date:Ta().required("Scheduled date is required").min(new Date,"Scheduled date cannot be in the past"),scheduled_time_slot:me().optional().max(50,"Time slot must be less than 50 characters"),assigned_vehicle_id:Qe().optional().positive("Vehicle ID must be a positive number"),assigned_driver_id:Qe().optional().positive("Driver ID must be a positive number"),status:me().optional().oneOf(["scheduled","in_transit","delivered","failed","cancelled","rescheduled","returned","refunded"],"Invalid status"),priority:me().optional().oneOf(["low","medium","high","urgent"],"Invalid priority"),delivery_instructions:me().optional().max(500,"Delivery instructions must be less than 500 characters"),actual_delivery_time:me().optional().test("is-valid-date","Actual delivery time must be a valid date",t=>{if(!t)return!0;const s=new Date(t);return!isNaN(s.getTime())}),delivery_proof:me().optional().max(255,"Delivery proof must be less than 255 characters"),customer_signature:me().optional().max(255,"Customer signature must be less than 255 characters"),failure_reason:me().optional().max(500,"Failure reason must be less than 500 characters"),rescheduled_date:me().optional().test("is-valid-date","Rescheduled date must be a valid date",t=>{if(!t)return!0;const s=new Date(t);return!isNaN(s.getTime())}).test("is-future-date","Rescheduled date cannot be in the past",t=>t?new Date(t)>=new Date:!0),is_active:me().required("Active status is required").oneOf(["Y","N"],"Active status must be Y or N")}),QDe=({selectedDeliverySchedule:t,setSelectedDeliverySchedule:s,drawerOpen:a,setDrawerOpen:n,users:r,vehicles:i,orders:o})=>{const l=!!t,[c,m]=g.useState(null),u=g.useRef(null),h=()=>{s(null),n(!1),m(null),_.resetForm()},f=VDe(),v=HDe(),_=ft({initialValues:{order_id:t?.order_id?.toString()||"",customer_id:t?.customer_id?.toString()||"",scheduled_date:t?.scheduled_date?t.scheduled_date.split("T")[0]:"",scheduled_time_slot:t?.scheduled_time_slot||"",assigned_vehicle_id:t?.assigned_vehicle_id?.toString()||"",assigned_driver_id:t?.assigned_driver_id?.toString()||"",status:t?.status||"scheduled",priority:t?.priority||"medium",delivery_instructions:t?.delivery_instructions||"",actual_delivery_time:t?.actual_delivery_time?t.actual_delivery_time.slice(0,16):"",delivery_proof:t?.delivery_proof||"",failure_reason:t?.failure_reason||"",rescheduled_date:t?.rescheduled_date?t.rescheduled_date.slice(0,16):"",is_active:t?.is_active||"Y"},validationSchema:KDe,enableReinitialize:!0,onSubmit:async w=>{try{const C={order_id:Number(w.order_id),customer_id:Number(w.customer_id),scheduled_date:w.scheduled_date,scheduled_time_slot:w.scheduled_time_slot,assigned_vehicle_id:w.assigned_vehicle_id?Number(w.assigned_vehicle_id):void 0,assigned_driver_id:w.assigned_driver_id?Number(w.assigned_driver_id):void 0,status:w.status,priority:w.priority,delivery_instructions:w.delivery_instructions,actual_delivery_time:w.actual_delivery_time?new Date(w.actual_delivery_time).toISOString():void 0,delivery_proof:w.delivery_proof,failure_reason:w.failure_reason,rescheduled_date:w.rescheduled_date?new Date(w.rescheduled_date).toISOString():void 0,is_active:w.is_active};l&&t?await v.mutateAsync({id:t.id,...C}):await f.mutateAsync(C),h()}catch(C){console.error("Error saving delivery schedule:",C)}}}),S=w=>{const C=w.target.files?.[0];C&&m(C)},j=()=>{m(null),u.current&&(u.current.value="")},b=r;return e.jsx(ot,{open:a,setOpen:h,title:l?"Edit Delivery Schedule":"Create Delivery Schedule",size:"large",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:_.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsxs(_e,{name:"order_id",label:"Order",formik:_,required:!0,children:[e.jsx(Z,{value:"",children:"Select Order"}),o.map(w=>e.jsxs(Z,{value:w.id.toString(),children:["#",w.order_number," -"," ",w.customer?.name||"Unknown Customer"]},w.id))]}),e.jsx(io,{name:"customer_id",label:"Customer",formik:_,required:!0}),e.jsx(oe,{name:"scheduled_date",label:"Scheduled Date",type:"date",formik:_,required:!0}),e.jsx(oe,{name:"scheduled_time_slot",label:"Scheduled Time Slot",placeholder:"e.g., 9:00 AM - 11:00 AM",formik:_}),e.jsxs(_e,{name:"assigned_vehicle_id",label:"Assigned Vehicle",formik:_,children:[e.jsx(Z,{value:"",children:"Select Vehicle"}),i.map(w=>e.jsxs(Z,{value:w.id.toString(),children:[w.vehicle_number," - ",w.type||"Unknown Type"]},w.id))]}),e.jsxs(_e,{name:"assigned_driver_id",label:"Assigned Driver",formik:_,children:[e.jsx(Z,{value:"",children:"Select Driver"}),b.map(w=>e.jsx(Z,{value:w.id.toString(),children:w.name},w.id))]}),e.jsxs(_e,{name:"status",label:"Status",formik:_,children:[e.jsx(Z,{value:"scheduled",children:"Scheduled"}),e.jsx(Z,{value:"in_transit",children:"In Transit"}),e.jsx(Z,{value:"delivered",children:"Delivered"}),e.jsx(Z,{value:"failed",children:"Failed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"}),e.jsx(Z,{value:"rescheduled",children:"Rescheduled"}),e.jsx(Z,{value:"returned",children:"Returned"}),e.jsx(Z,{value:"refunded",children:"Refunded"})]}),e.jsxs(_e,{name:"priority",label:"Priority",formik:_,children:[e.jsx(Z,{value:"low",children:"Low"}),e.jsx(Z,{value:"medium",children:"Medium"}),e.jsx(Z,{value:"high",children:"High"}),e.jsx(Z,{value:"urgent",children:"Urgent"})]}),e.jsx(oe,{name:"actual_delivery_time",label:"Actual Delivery Time",type:"datetime-local",formik:_}),e.jsx(oe,{name:"delivery_proof",label:"Delivery Proof",placeholder:"e.g., Photo URL or reference number",formik:_}),e.jsx(oe,{name:"rescheduled_date",label:"Rescheduled Date",type:"datetime-local",formik:_}),e.jsxs(_e,{name:"is_active",label:"Active Status",formik:_,required:!0,children:[e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"delivery_instructions",label:"Delivery Instructions",placeholder:"Enter delivery instructions",formik:_,multiline:!0,rows:3})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"failure_reason",label:"Failure Reason",placeholder:"Enter failure reason if delivery failed",formik:_,multiline:!0,rows:3})}),e.jsxs(y,{className:"md:!col-span-2",children:[e.jsx(y,{className:"!mb-2",children:e.jsx("label",{className:"!text-sm !font-medium !text-gray-700",children:"Customer Signature"})}),c?e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(y,{className:"!flex !items-center !gap-3",children:e.jsxs(y,{children:[e.jsx("p",{className:"!text-sm !font-medium !text-gray-900",children:c.name}),e.jsxs("p",{className:"!text-xs !text-gray-500",children:[(c.size/1024).toFixed(1)," KB"]})]})}),e.jsx(G,{color:"error",type:"button",variant:"outlined",size:"small",onClick:j,children:"Remove"})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-4 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>u.current?.click(),children:[e.jsx("p",{className:"!text-gray-600 !mb-2",children:"Click to upload customer signature"}),e.jsx("p",{className:"!text-sm !text-gray-500",children:"PNG, JPG, PDF files only"}),e.jsx("input",{ref:u,type:"file",accept:".png,.jpg,.jpeg,.pdf",onChange:S,className:"!hidden"})]})]})]}),e.jsxs(y,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:f.isPending||v.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:f.isPending||v.isPending,children:f.isPending?"Creating...":v.isPending?"Updating...":l?"Update Delivery Schedule":"Create Delivery Schedule"})]})]})})})},ZDe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState("all"),[o,l]=g.useState(null),[c,m]=g.useState(!1),[u,h]=g.useState(!1),[f,v]=g.useState(1),[_]=g.useState(10),{isCreate:S,isUpdate:j,isDelete:b,isRead:w}=Ze("delivery"),{data:C,isLoading:P,error:E}=UDe({search:t,page:f,limit:_,status:a==="all"?void 0:a,priority:r==="all"?void 0:r,isActive:"Y"},{enabled:w}),{data:D}=er({page:1,limit:1e3}),{data:T}=r3({page:1,limit:1e3}),{data:R}=g1({page:1,limit:1e3}),z=C?.data||[],O=D?.data||[],$=T?.data||[],A=R?.data||[],Q=C?.meta?.total||0,K=(C?.meta?.page||1)-1,U=WDe(),B=ms(),V=C?.stats?.total_deliveries??z.length,Y=C?.stats?.active_deliveries??z.filter(de=>de.is_active==="Y").length,H=C?.stats?.inactive_deliveries??z.filter(de=>de.is_active==="N").length,F=C?.stats?.new_deliveries_this_month||0,M=g.useCallback(()=>{l(null),m(!0)},[]),L=g.useCallback(()=>{h(!0)},[]),W=g.useCallback(async()=>{try{const de={search:t,status:a==="all"?void 0:a,priority:r==="all"?void 0:r,isActive:"Y"};await B.mutateAsync({tableName:"delivery_schedules",filters:de})}catch(de){console.error("Error exporting delivery schedules:",de)}},[B,t,a,r]),X=g.useCallback(de=>{l(de),m(!0)},[]),te=g.useCallback(async de=>{try{await U.mutateAsync(de)}catch(we){console.error("Error deleting delivery schedule:",we)}},[U]),se=g.useCallback(de=>{s(de),v(1)},[]),ae=de=>{v(de+1)},pe=de=>({scheduled:"bg-blue-100 text-blue-800",in_transit:"bg-yellow-100 text-yellow-800",delivered:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800",rescheduled:"bg-gray-100 text-gray-800",returned:"bg-gray-100 text-gray-800",refunded:"bg-gray-100 text-gray-800"})[de]||"bg-gray-100 text-gray-800",he=de=>({scheduled:"Scheduled",in_transit:"In Transit",delivered:"Delivered",failed:"Failed",cancelled:"Cancelled",rescheduled:"Rescheduled",returned:"Returned",refunded:"Refunded"})[de]||de,re=de=>({low:"bg-gray-100 text-gray-800",medium:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"})[de]||"bg-gray-100 text-gray-800",xe=de=>({low:"Low",medium:"Medium",high:"High",urgent:"Urgent"})[de]||de,ge=[{id:"order_customer",label:"Order & Customer",render:(de,we)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:we.customer?.name||"Customer",className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsxs(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:["Order #",we.order?.order_number||"N/A"]}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:we.customer?.name||"Unknown Customer"})]})]})},{id:"scheduled_info",label:"Scheduled Info",render:(de,we)=>e.jsxs(y,{children:[we.scheduled_date&&e.jsxs(y,{className:"flex items-center gap-1 mb-1",children:[e.jsx(_s,{className:"w-3 h-3 text-gray-400"}),e.jsx(x,{variant:"caption",className:"!text-gray-600",children:new Date(we.scheduled_date).toLocaleDateString()})]}),we.scheduled_time_slot&&e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Ts,{className:"w-3 h-3 text-gray-400"}),e.jsx(x,{variant:"caption",className:"!text-gray-600",children:we.scheduled_time_slot})]})]})},{id:"assignment",label:"Vehicle & Driver",render:(de,we)=>e.jsxs(y,{children:[we.vehicle&&e.jsxs(y,{className:"flex items-center gap-1 mb-1",children:[e.jsx(Wr,{className:"w-3 h-3 text-gray-400"}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[we.vehicle.vehicle_number," - ",we.vehicle.type]})]}),we.driver&&e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Rn,{className:"w-3 h-3 text-gray-400"}),e.jsx(x,{variant:"caption",className:"!text-gray-600",children:we.driver.name})]}),!we.vehicle&&!we.driver&&e.jsx(x,{variant:"caption",className:"!text-gray-400 !italic",children:"Not assigned"})]})},{id:"status_priority",label:"Status & Priority",render:(de,we)=>e.jsxs(y,{className:"!space-y-1",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${pe(we.status||"")}`,children:he(we.status||"")}),we.priority&&e.jsx("div",{children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${re(we.priority)}`,children:xe(we.priority)})})]})},{id:"delivery_info",label:"Delivery Info",render:(de,we)=>{const Ae=we.actual_delivery_time,Fe=we.failure_reason,Me=we.delivery_instructions;return!Ae&&!Fe&&!Me?e.jsx(x,{variant:"caption",className:"!text-gray-400 !italic",children:"No info"}):e.jsxs(y,{children:[Ae&&e.jsxs(y,{className:"flex items-center gap-1 mb-1",children:[e.jsx(Ts,{className:"w-3 h-3 text-green-400"}),e.jsxs(x,{variant:"caption",className:"!text-green-600",children:["Delivered:"," ",new Date(we.actual_delivery_time).toLocaleString()]})]}),Fe&&e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(la,{className:"w-3 h-3 text-red-400"}),e.jsx(x,{variant:"caption",className:"!text-red-600 !truncate",children:we.failure_reason})]}),Me&&e.jsx(x,{variant:"caption",className:"!text-gray-600 !block !mt-1",children:we.delivery_instructions?.length&&we.delivery_instructions?.length>30?`${we.delivery_instructions?.substring(0,30)}...`:we.delivery_instructions})]})}},{id:"is_active",label:"Active Status",render:de=>e.jsx(De,{icon:de==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:de==="Y"?"Active":"Inactive",size:"small",className:"w-26",color:de==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(de,we)=>Oe(we.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...j||b?[{id:"action",label:"Actions",sortable:!1,render:(de,we)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[j&&e.jsx(is,{onClick:()=>X(we),tooltip:`Edit delivery schedule for order ${we.order?.order_number}`}),b&&e.jsx(Vt,{onClick:()=>te(we.id),tooltip:`Delete delivery schedule for order ${we.order?.order_number}`,itemName:`delivery schedule for order ${we.order?.order_number}`,confirmDelete:!0})]})}]:[]],le=O;return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Delivery Scheduling"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage delivery schedules, track vehicle assignments, and monitor delivery status"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Deliveries",value:V,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"blue",isLoading:P}),e.jsx(fe,{title:"Active Deliveries",value:Y,icon:e.jsx(Wr,{className:"w-6 h-6"}),color:"green",isLoading:P}),e.jsx(fe,{title:"Inactive Deliveries",value:H,icon:e.jsx(Na,{className:"w-6 h-6"}),color:"red",isLoading:P}),e.jsx(fe,{title:"New This Month",value:F,icon:e.jsx(_s,{className:"w-6 h-6"}),color:"purple",isLoading:P})]}),E&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load delivery schedules. Please try again."}),e.jsx(lt,{data:z,columns:ge,actions:w||S?e.jsxs("div",{className:"flex justify-between items-center flex-wrap w-full gap-2",children:[e.jsx("div",{className:"flex gap-2 items-center flex-wrap",children:w&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Delivery Schedules",value:t,onChange:se,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(_e,{value:a,onChange:de=>n(de.target.value),className:"!min-w-40",size:"small",children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"scheduled",children:"Scheduled"}),e.jsx(Z,{value:"in_transit",children:"In Transit"}),e.jsx(Z,{value:"delivered",children:"Delivered"}),e.jsx(Z,{value:"failed",children:"Failed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"}),e.jsx(Z,{value:"rescheduled",children:"Rescheduled"}),e.jsx(Z,{value:"returned",children:"Returned"}),e.jsx(Z,{value:"refunded",children:"Refunded"})]}),e.jsxs(_e,{value:r,onChange:de=>i(de.target.value),className:"!min-w-40",size:"small",children:[e.jsx(Z,{value:"all",children:"All Priority"}),e.jsx(Z,{value:"low",children:"Low"}),e.jsx(Z,{value:"medium",children:"Medium"}),e.jsx(Z,{value:"high",children:"High"}),e.jsx(Z,{value:"urgent",children:"Urgent"})]})]})}),w&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{title:"Export Delivery Schedules",description:"Are you sure you want to export the current delivery schedules data to Excel? This will include all filtered results.",onConfirm:W,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:B.isPending,children:B.isPending?"Exporting...":"Export"})}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:L,children:"Import"})]}),S&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:M,children:"Schedule"})]}):!1,getRowId:de=>de.id,initialOrderBy:"scheduled_date",loading:P,totalCount:Q,page:K,rowsPerPage:_,isPermission:w,onPageChange:ae,emptyMessage:t?`No delivery schedules found matching "${t}"`:"No delivery schedules found in the system"}),e.jsx(QDe,{selectedDeliverySchedule:o,setSelectedDeliverySchedule:l,drawerOpen:c,setDrawerOpen:m,users:le,vehicles:$,orders:A}),e.jsx(GDe,{drawerOpen:u,setDrawerOpen:h})]})},XDe=async t=>{try{return(await ie.get("/invoices",{params:t})).data}catch(s){throw s}},JDe=async t=>{try{return(await ie.get(`/invoices/${t}`)).data}catch(s){throw s}},e7e=async t=>(await ie.post("/invoices",t)).data,t7e=async(t,s)=>(await ie.put(`/invoices/${t}`,s)).data,s7e=async t=>(await ie.delete(`/invoices/${t}`)).data,Zo={all:["invoices"],lists:()=>[...Zo.all,"list"],list:t=>[...Zo.lists(),t],details:()=>[...Zo.all,"detail"],detail:t=>[...Zo.details(),t]},a7e=(t,s)=>nt({queryKey:Zo.list(t||{}),queryFn:()=>XDe(t),staleTime:300*1e3,...s}),y1=t=>nt({queryKey:Zo.detail(t),queryFn:()=>JDe(t),enabled:!!t,staleTime:300*1e3}),n7e=t=>{const s=cs();return Re({mutationFn:e7e,loadingMessage:"Creating invoice...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Zo.lists()})},onError:t?.onError})},r7e=t=>{const s=cs();return Re({mutationFn:({id:a,...n})=>t7e(a,n),loadingMessage:"Updating invoice...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Zo.lists()}),s.invalidateQueries({queryKey:Zo.detail(n.id)})},onError:t?.onError})},i7e=t=>{const s=cs();return Re({mutationFn:s7e,loadingMessage:"Deleting invoice...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Zo.lists()})},onError:t?.onError})},o7e=it({file:hs().required("Please select a file to import")}),l7e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:o7e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("invoices")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"invoices",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Invoices",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple invoices. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},c7e=({open:t,onClose:s,invoice:a})=>{const{data:n,isLoading:r,error:i}=y1(a?.id||0),o=n?.data||a,l=_=>({draft:"bg-gray-100 text-gray-800",sent:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[_]||"bg-gray-100 text-gray-800",c=_=>({draft:"Draft",sent:"Sent",paid:"Paid",overdue:"Overdue",cancelled:"Cancelled"})[_]||_,m=_=>{switch(_){case"draft":return e.jsx(Cs,{className:"w-4 h-4"});case"sent":return e.jsx(Ts,{className:"w-4 h-4"});case"paid":return e.jsx(Oa,{className:"w-4 h-4"});case"overdue":return e.jsx(la,{className:"w-4 h-4"});case"cancelled":return e.jsx(Na,{className:"w-4 h-4"});default:return e.jsx(Cs,{className:"w-4 h-4"})}},u=_=>_==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(_),h=_=>!_.due_date||!_.balance_due?!1:new Date(_.due_date)<new Date&&_.balance_due>0,f=()=>{s()};if(r)return e.jsx(ot,{open:t,setOpen:s,title:"Invoice Details",size:"large",children:e.jsxs("div",{className:"!p-6 !space-y-6",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx(J,{variant:"circular",width:96,height:96,className:"!mx-auto !mb-4"}),e.jsx(J,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-2"}),e.jsx(J,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(J,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto"})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[1,2,3,4].map(_=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(J,{variant:"text",width:"40%",height:20,className:"!mb-4"}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(S=>e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(J,{variant:"text",width:"30%",height:16}),e.jsx(J,{variant:"text",width:"40%",height:16})]},S))})]},_))})]})});if(i||!o)return e.jsx(ot,{open:t,setOpen:s,title:"Invoice Details",size:"large",children:e.jsxs("div",{className:"!p-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(la,{className:"w-5 h-5"}),e.jsx(x,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load invoice details"})]}),e.jsx(x,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:f,className:"mt-4",children:"Back to Invoices"})]})});const v=({title:_,children:S,icon:j})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[j&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(j,{className:"!text-primary-500"})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:_})]}),S]})]});return e.jsx(ot,{open:t,setOpen:s,title:"Invoice Details",size:"large",children:e.jsxs("div",{className:"!p-5 mb-10 !space-y-5",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${o.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ht,{className:ln("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-green-400 !to-green-600 !text-white":o.status==="paid","!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":o.status==="sent","!bg-gradient-to-br !from-red-400 !to-red-600 !text-white":o.status==="overdue","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":o.status==="draft"||o.status==="cancelled"}),children:e.jsx(Xn,{className:"!w-8 !h-8"})})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:o.invoice_number}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mb-3",children:o.customer?.name||"Unknown Customer"}),e.jsxs("div",{className:"!flex !justify-center !gap-2 !mb-4",children:[e.jsx(De,{icon:m(o.status||"draft"),label:c(o.status||"draft"),className:`${l(o.status||"draft")} font-semibold`,size:"small"}),h(o)&&e.jsx(De,{label:"OVERDUE",className:"!bg-red-100 !text-red-800 !font-bold",size:"small"})]}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Total Amount"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u(o.total_amount)})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Amount Paid"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-green-600",children:u(o.amount_paid)})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Balance Due"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-red-600",children:u(o.balance_due)})]})]})]}),e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(v,{title:"Invoice Information",icon:Hr,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Invoice Date:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(o.invoice_date)})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Due Date:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(o.due_date)})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Payment Method:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:o.payment_method?.replaceAll("_"," ")||"N/A"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Order Number:"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:["#",o.parent_id]})]})]})}),e.jsx(v,{title:"Customer Information",icon:Wt,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Customer Name:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.customer?.name||"N/A"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Customer Code:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.customer?.code||"N/A"})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Customer Type:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:o.customer?.type||"N/A"})]})]})}),e.jsx(v,{title:"Amount Breakdown",icon:Cn,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Subtotal:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u(o.subtotal)})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Discount:"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-green-600",children:["-",u(o.discount_amount)]})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Tax:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u(o.tax_amount)})]}),e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Shipping:"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u(o.shipping_amount)})]}),e.jsx("div",{className:"!border-t !border-gray-300 !pt-2 !mt-2",children:e.jsxs("div",{className:"!flex !justify-between",children:[e.jsx(x,{variant:"subtitle2",className:"!font-bold",children:"Total:"}),e.jsx(x,{variant:"subtitle2",className:"!font-bold",children:u(o.total_amount)})]})})]})}),e.jsx(v,{title:"Invoice Items",icon:Wt,children:e.jsx("div",{className:"!space-y-2",children:o.invoice_items&&o.invoice_items.length>0?o.invoice_items.map((_,S)=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !justify-between !items-start !mb-1",children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:_.product_name||`Product #${_.product_id}`}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u(_.unit_price*_.quantity-(_.discount_amount||0)||0)})]}),e.jsxs("div",{className:"!flex !justify-between !text-xs !text-gray-500",children:[e.jsxs("span",{children:["Qty: ",_.quantity,"  ",u(_.unit_price)]}),_.discount_amount&&_.discount_amount>0&&e.jsxs("span",{className:"!text-green-600",children:["Discount: -",u(_.discount_amount)]})]}),_.notes&&e.jsx(x,{variant:"caption",className:"!text-gray-600 !block !mt-1",children:_.notes})]},_.id||S)):e.jsx(x,{variant:"body2",className:"!text-gray-500 !text-center !py-4",children:"No items found"})})})]}),(o.notes||o.billing_address)&&e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[o.notes&&e.jsx(v,{title:"Notes",icon:Cs,children:e.jsx(x,{variant:"body2",className:"!text-gray-700",children:o.notes})}),o.billing_address&&e.jsx(v,{title:"Billing Address",icon:Hr,children:e.jsx(x,{variant:"body2",className:"!text-gray-700",children:o.billing_address})})]}),e.jsx("div",{className:"!flex !justify-end",children:e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:f,children:"Back to Invoices"})})]})})},d7e=async t=>(await ie.get(`/invoices/${t}/items`)).data,u7e=async(t,s)=>(await ie.delete(`/invoices/${t}/items/${s}`)).data,m7e=async(t,s)=>(await ie.put(`/invoices/${t}/items`,s)).data,Bx={all:["invoice-items"],lists:()=>[...Bx.all,"list"],list:t=>[...Bx.lists(),t]},p7e=(t,s)=>nt({queryKey:Bx.list(t),queryFn:()=>d7e(t),enabled:s?.enabled!==void 0?s.enabled:!!t,staleTime:0,refetchOnWindowFocus:!1,refetchOnMount:"always",retry:1}),h7e=t=>{const s=cs();return Re({mutationFn:({invoiceId:a,itemId:n})=>u7e(a,n),loadingMessage:"Deleting invoice item...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Bx.list(n.invoiceId)})},onError:t?.onError})},f7e=t=>{const s=cs();return Re({mutationFn:({invoiceId:a,...n})=>m7e(a,n),loadingMessage:"Updating invoice items...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Bx.list(n.invoiceId)})},onError:t?.onError})},x7e=it({product_id:Qe().required("Product is required").min(1,"Please select a valid product"),quantity:Qe().required("Quantity is required").min(.01,"Quantity must be greater than 0").max(999999,"Quantity is too large"),unit_price:Qe().required("Unit price is required").min(.01,"Unit price must be greater than 0").max(999999999,"Unit price is too large"),discount_amount:Qe().min(0,"Discount cannot be negative").max(999999999,"Discount amount is too large"),tax_amount:Qe().min(0,"Tax cannot be negative").max(999999999,"Tax amount is too large"),notes:me().max(500,"Notes cannot exceed 500 characters")}),g7e=({open:t,onClose:s,invoiceId:a})=>{const[n,r]=g.useState([]),[i,o]=g.useState(null),[l,c]=g.useState(!1),{formatCurrency:m}=Qa(),{data:u,isLoading:h}=Ru({limit:1e3}),{data:f,isLoading:v}=y1(a),{data:_,isLoading:S}=p7e(a,{enabled:t&&!!a}),j=u?.data||[],b=f?.data,w=_?.data||[],C=h||v||S,P=f7e(),E=h7e();Nt.useEffect(()=>{if(w&&w.length>0){const K=w.map(U=>{const B=Number(U.quantity),V=Number(U.unit_price),Y=Number(U.discount_amount||0),H=Number(U.tax_amount||0),F=B*V-Y+H,M=U;return{id:U.id,product_id:U.product_id,product_name:M.invoice_items_products?.name||U.product_name||"",unit:M.invoice_items_products?.product_unit_of_measurement?.name||M.invoice_items_products?.product_unit_of_measurement?.symbol||M.invoice_items_products?.unit_of_measurement?.toString()||U.unit||"pcs",quantity:U.quantity.toString(),unit_price:U.unit_price.toString(),discount_amount:(U.discount_amount||0).toString(),tax_amount:(U.tax_amount||0).toString(),total_amount:U.total_amount?.toString()||F.toString(),notes:U.notes||"",product_code:M.invoice_items_products?.code||""}});r(K)}else r([])},[w,a]),Nt.useEffect(()=>{t&&(c(!1),o(null),D.resetForm())},[t,a]);const D=ft({initialValues:{product_id:"",quantity:"1",unit_price:"0",discount_amount:"0",tax_amount:"0",notes:""},validationSchema:x7e,onSubmit:async K=>{try{const U=j.find(V=>V.id===Number(K.product_id));if(!U){Rt.error("Selected product not found");return}const B={...K,product_name:U.name,unit:U.product_unit?.name?.toString()||"pcs",product_code:U.code,product_id:Number(K.product_id),total_amount:(Number(K.quantity)*Number(K.unit_price)-Number(K.discount_amount)+Number(K.tax_amount)).toString()};if(l&&i){const V=n.map(Y=>Y.id===i.id?{...B,id:i.id}:Y);r(V),c(!1),o(null)}else{const V={...B,id:Date.now()};r([...n,V])}D.resetForm()}catch(U){console.error("Error managing invoice item:",U)}}}),T=K=>{o(K),c(!0),D.setValues({product_id:K.product_id.toString(),quantity:K.quantity,unit_price:K.unit_price,discount_amount:K.discount_amount,tax_amount:K.tax_amount,notes:K.notes})},R=async K=>{try{if(K>1e6){r(n.filter(U=>U.id!==K));return}await E.mutateAsync({invoiceId:a,itemId:K}),r(n.filter(U=>U.id!==K))}catch(U){console.error("Error deleting invoice item:",U)}},z=()=>{c(!1),o(null),D.resetForm()},O=async()=>{try{const K=n.filter(U=>U.product_id!=="").map(U=>({parent_id:a,product_id:Number(U.product_id),quantity:Number(U.quantity),unit_price:Number(U.unit_price),discount_amount:Number(U.discount_amount)||0,tax_amount:Number(U.tax_amount)||0,notes:U.notes}));await P.mutateAsync({invoiceId:a,invoiceItems:K}),s()}catch(K){console.error("Error saving invoice items:",K)}},A=(()=>{const K=n.reduce((Y,H)=>Y+Number(H.quantity)*Number(H.unit_price),0),U=n.reduce((Y,H)=>Y+Number(H.discount_amount),0),B=n.reduce((Y,H)=>Y+Number(H.tax_amount),0),V=K-U+B;return{subtotal:K,totalDiscount:U,totalTax:B,totalAmount:V}})(),Q=[{id:"product_name",label:"Product",render:(K,U)=>e.jsxs(y,{className:"!flex !flex-col !gap-1",children:[e.jsx(x,{variant:"caption",className:"!font-medium !text-xs",children:U.product_name}),U.product_code&&e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs",children:U.product_code})]})},{id:"quantity",label:"Quantity",render:(K,U)=>e.jsxs(y,{className:"!flex !gap-1",children:[e.jsx(x,{variant:"caption",className:"!text-xs !font-medium",children:U.quantity}),U.unit&&e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs",children:U.unit})]})},{id:"unit_price",label:"Unit Price",render:(K,U)=>e.jsx(x,{variant:"caption",className:"!text-xs",children:m(Number(U.unit_price))})},{id:"discount_amount",label:"Discount",render:(K,U)=>e.jsxs(x,{variant:"caption",className:"!text-red-600 !text-xs",children:["-",m(Number(U.discount_amount))]})},{id:"tax_amount",label:"Tax",render:(K,U)=>e.jsxs(x,{variant:"caption",className:"!text-green-600 !text-xs",children:["+",m(Number(U.tax_amount))]})},{id:"total_amount",label:"Total",render:(K,U)=>e.jsx(x,{variant:"caption",className:"!font-medium !text-xs",children:m(Number(U.total_amount||0))})},{id:"actions",label:"Actions",sortable:!1,render:(K,U)=>e.jsxs(y,{className:"!flex !gap-1",children:[e.jsx(is,{onClick:()=>T(U),tooltip:"Edit item",size:"small"}),e.jsx(Jt,{title:"Delete Invoice Item",description:"Are you sure you want to delete this invoice item? This action cannot be undone.",onConfirm:()=>R(U.id),children:e.jsx(Vt,{tooltip:"Delete item",size:"small"})})]})}];return e.jsx(ot,{open:t,setOpen:s,title:`Invoice Items - ${b?.invoice_number||"N/A"}`,size:"large",children:e.jsx(y,{className:"!p-4",children:e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!bg-gray-100 !rounded-lg !p-3",children:[e.jsx(x,{variant:"subtitle1",className:"!font-semibold !mb-3 !text-sm",children:"Invoice Information"}),e.jsxs(y,{className:"!grid !grid-cols-2 !gap-3",children:[e.jsxs(y,{children:[e.jsx(x,{variant:"caption",className:"!text-gray-600 !text-xs",children:"Invoice Number"}),C?e.jsx(J,{variant:"text",width:"60%",height:20}):e.jsx(x,{variant:"body2",className:"!font-medium !text-sm",children:b?.invoice_number||"N/A"})]}),e.jsxs(y,{children:[e.jsx(x,{variant:"caption",className:"!text-gray-600 !text-xs",children:"Customer"}),C?e.jsx(J,{variant:"text",width:"80%",height:20}):e.jsx(x,{variant:"body2",className:"!font-medium !text-sm",children:b?.customer?.name||"N/A"})]}),e.jsxs(y,{children:[e.jsx(x,{variant:"caption",className:"!text-gray-600 !text-xs",children:"Invoice Date"}),C?e.jsx(J,{variant:"text",width:"50%",height:20}):e.jsx(x,{variant:"body2",className:"!font-medium !text-sm",children:b?.invoice_date?new Date(b.invoice_date).toLocaleDateString():"N/A"})]}),e.jsxs(y,{children:[e.jsx(x,{variant:"caption",className:"!text-gray-600 !text-xs",children:"Status"}),C?e.jsx(J,{variant:"text",width:"40%",height:20}):e.jsx(x,{variant:"body2",className:"!font-medium capitalize !text-sm",children:b?.status||"N/A"})]})]})]}),e.jsxs(y,{className:"!bg-white !border !border-gray-200 !rounded-lg !p-3",children:[e.jsx(x,{variant:"subtitle1",className:"!font-semibold !mb-3 !text-sm",children:l?"Edit Invoice Item":"Add New Item"}),e.jsxs("form",{onSubmit:D.handleSubmit,className:"!space-y-4",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsx(_o,{name:"product_id",label:"Product",formik:D,required:!0,disabled:l}),e.jsx(oe,{name:"quantity",label:"Quantity",type:"number",formik:D,required:!0,placeholder:"1"}),e.jsx(oe,{name:"unit_price",label:"Unit Price",type:"number",formik:D,required:!0,placeholder:"0.00"}),e.jsx(oe,{name:"discount_amount",label:"Discount Amount",type:"number",formik:D,placeholder:"0.00"}),e.jsx(oe,{name:"tax_amount",label:"Tax Amount",type:"number",formik:D,placeholder:"0.00"}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"notes",label:"Notes",formik:D,placeholder:"Additional notes...",multiline:!0,rows:2})})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2",children:[l&&e.jsx(G,{type:"button",variant:"outlined",onClick:z,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",startIcon:e.jsx(Qn,{}),children:l?"Update Item":"Add Item"})]})]})]}),e.jsxs(y,{children:[e.jsx(y,{className:"!flex !justify-between !items-center !mb-3",children:e.jsxs(x,{variant:"subtitle1",className:"!font-semibold !text-sm",children:["Invoice Items (",n.length,")"]})}),C?e.jsxs(y,{className:"!space-y-2",children:[e.jsx(J,{variant:"rectangular",height:40}),e.jsx(J,{variant:"rectangular",height:40}),e.jsx(J,{variant:"rectangular",height:40})]}):n.length>0?e.jsx(lt,{data:n,columns:Q,getRowId:K=>K.id?.toString()||"",pagination:!1,sortable:!1,emptyMessage:"No invoice items found."}):e.jsxs(y,{className:"!text-center !py-6 !text-gray-500",children:[e.jsx(Wt,{className:"w-10 h-10 text-gray-400 mx-auto mb-2"}),e.jsx(x,{variant:"caption",className:"!text-xs",children:"No items added yet. Add items using the form above."})]})]}),n.length>0&&e.jsxs(y,{className:"!bg-gray-50 !rounded-lg !p-3",children:[e.jsx(x,{variant:"subtitle1",className:"!font-semibold !mb-3 !text-sm",children:"Invoice Summary"}),e.jsxs(y,{className:"!space-y-2",children:[e.jsxs(y,{className:"!flex !justify-between",children:[e.jsx(x,{variant:"caption",className:"!text-xs",children:"Subtotal:"}),e.jsx(x,{variant:"caption",className:"!text-xs",children:m(A.subtotal)})]}),e.jsxs(y,{className:"!flex !justify-between",children:[e.jsx(x,{variant:"caption",className:"!text-xs",children:"Total Discount:"}),e.jsxs(x,{variant:"caption",className:"!text-red-600 !text-xs",children:["-",m(A.totalDiscount)]})]}),e.jsxs(y,{className:"!flex !justify-between",children:[e.jsx(x,{variant:"caption",className:"!text-xs",children:"Total Tax:"}),e.jsxs(x,{variant:"caption",className:"!text-green-600 !text-xs",children:["+",m(A.totalTax)]})]}),e.jsx(y,{className:"!border-t !border-gray-300 !pt-2 !mt-2",children:e.jsxs(y,{className:"!flex !justify-between",children:[e.jsx(x,{variant:"caption",className:"!font-bold !text-xs",children:"Total Amount:"}),e.jsx(x,{variant:"caption",className:"!font-bold !text-xs",children:m(A.totalAmount)})]})})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:s,children:"Close"}),e.jsx(G,{type:"button",variant:"contained",onClick:O,disabled:n.length===0||P.isPending,children:P.isPending?"Saving...":"Save Changes"})]})]})})})},y7e=async t=>{try{return(await ie.get("/payments",{params:t})).data}catch(s){throw console.error("Error fetching payments:",s),new Error(s.response?.data?.message||"Failed to fetch payments")}},b7e=async t=>{try{return(await ie.get(`/payments/${t}`)).data}catch(s){throw console.error("Error fetching payment:",s),new Error(s.response?.data?.message||"Failed to fetch payment")}},v7e=async t=>{try{return(await ie.post("/payments",t)).data}catch(s){throw console.error("Error creating payment:",s),new Error(s.response?.data?.message||"Failed to create payment")}},j7e=async(t,s)=>{try{return(await ie.put(`/payments/${t}`,s)).data}catch(a){throw console.error("Error updating payment:",a),new Error(a.response?.data?.message||"Failed to update payment")}},N7e=async t=>{try{return(await ie.delete(`/payments/${t}`)).data}catch(s){throw console.error("Error deleting payment:",s),new Error(s.response?.data?.message||"Failed to delete payment")}},w7e=async(t,s)=>{try{return(await ie.post(`/payments/${t}/lines`,s)).data}catch(a){throw console.error("Error creating payment line:",a),new Error(a.response?.data?.message||"Failed to create payment line")}},_7e=async t=>{try{return(await ie.get(`/payments/${t}/lines`)).data}catch(s){throw console.error("Error fetching payment lines:",s),new Error(s.response?.data?.message||"Failed to fetch payment lines")}},S7e=async(t,s)=>{try{return(await ie.delete(`/payments/${t}/lines/${s}`)).data}catch(a){throw console.error("Error deleting payment line:",a),new Error(a.response?.data?.message||"Failed to delete payment line")}},C7e=async(t,s)=>{try{return(await ie.post(`/payments/${t}/refunds`,s)).data}catch(a){throw console.error("Error creating payment refund:",a),new Error(a.response?.data?.message||"Failed to create payment refund")}},k7e=async t=>{try{return(await ie.get(`/payments/${t}/refunds`)).data}catch(s){throw console.error("Error fetching payment refunds:",s),new Error(s.response?.data?.message||"Failed to fetch payment refunds")}},P7e=async(t,s,a)=>{try{return(await ie.put(`/payments/${t}/refunds/${s}`,a)).data}catch(n){throw console.error("Error updating payment refund:",n),new Error(n.response?.data?.message||"Failed to update payment refund")}},E7e=async(t,s)=>{try{return(await ie.delete(`/payments/${t}/refunds/${s}`)).data}catch(a){throw console.error("Error deleting payment refund:",a),new Error(a.response?.data?.message||"Failed to delete payment refund")}},Uc={all:["payments"],lists:()=>[...Uc.all,"list"],list:t=>[...Uc.lists(),t],details:()=>[...Uc.all,"detail"],detail:t=>[...Uc.details(),t]},lL=(t,s)=>nt({queryKey:Uc.list(t),queryFn:()=>y7e(t),staleTime:300*1e3,...s}),T7e=(t,s)=>nt({queryKey:Uc.detail(t),queryFn:()=>b7e(t),enabled:!!t,staleTime:300*1e3,...s}),M7e=()=>Re({mutationFn:v7e,invalidateQueries:["payments"],loadingMessage:"Creating payment..."}),D7e=()=>Re({mutationFn:({id:t,...s})=>j7e(t,s),invalidateQueries:["payments"],loadingMessage:"Updating payment..."}),R7e=()=>Re({mutationFn:N7e,invalidateQueries:["payments"],loadingMessage:"Deleting payment..."}),A7e=(t,s)=>nt({queryKey:[...Uc.detail(t),"lines"],queryFn:()=>_7e(t),enabled:!!t,staleTime:300*1e3,...s}),I7e=()=>Re({mutationFn:({paymentId:t,...s})=>w7e(t,s),invalidateQueries:["payments"],loadingMessage:"Creating payment line..."}),O7e=()=>Re({mutationFn:({paymentId:t,lineId:s})=>S7e(t,s),invalidateQueries:["payments"],loadingMessage:"Deleting payment line..."}),F7e=(t,s)=>nt({queryKey:[...Uc.detail(t),"refunds"],queryFn:()=>k7e(t),enabled:!!t,staleTime:300*1e3,...s}),L7e=()=>Re({mutationFn:({paymentId:t,...s})=>C7e(t,s),invalidateQueries:["payments"],loadingMessage:"Creating payment refund..."}),z7e=()=>Re({mutationFn:({paymentId:t,refundId:s,...a})=>P7e(t,s,a),invalidateQueries:["payments"],loadingMessage:"Updating payment refund..."}),$7e=()=>Re({mutationFn:({paymentId:t,refundId:s})=>E7e(t,s),invalidateQueries:["payments"],loadingMessage:"Deleting payment refund..."}),q7e=async t=>(await ie.get(`/invoices/${t}/payment-lines`)).data,B7e=async(t,s)=>(await ie.delete(`/invoices/${t}/payment-lines/${s}`)).data,U7e=async(t,s)=>(await ie.put(`/invoices/${t}/payment-lines`,s)).data,Ux={all:["invoice-payment-lines"],lists:()=>[...Ux.all,"list"],list:t=>[...Ux.lists(),t]},V7e=(t,s)=>nt({queryKey:Ux.list(t),queryFn:()=>q7e(t),enabled:s?.enabled!==void 0?s.enabled:!!t,staleTime:0,refetchOnWindowFocus:!1,refetchOnMount:"always",retry:1}),H7e=t=>{const s=cs();return Re({mutationFn:({invoiceId:a,lineId:n})=>B7e(a,n),loadingMessage:"Deleting payment line...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Ux.list(n.invoiceId)})},onError:t?.onError})},W7e=t=>{const s=cs();return Re({mutationFn:({invoiceId:a,...n})=>U7e(a,n),loadingMessage:"Updating payment lines...",onSuccess:(a,n)=>{s.invalidateQueries({queryKey:Ux.list(n.invoiceId)})},onError:t?.onError})},Y7e=it({payment_id:Qe().required("Payment is required").min(1,"Please select a valid payment"),amount_applied:Qe().required("Amount applied is required").min(.01,"Amount must be greater than 0").max(999999999,"Amount is too large"),notes:me().max(500,"Notes cannot exceed 500 characters")}),G7e=({open:t,onClose:s,invoiceId:a})=>{const[n,r]=g.useState([]),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,u]=g.useState(!1),{formatCurrency:h}=Qa(),{data:f,isLoading:v}=y1(a),{data:_,isLoading:S}=lL({limit:1e3}),{data:j,isLoading:b}=V7e(a,{enabled:t&&!!a}),w=f?.data,C=_?.data||[],P=j?.data||[],E=v||S||b,D=W7e(),T=H7e();Nt.useEffect(()=>{if(P&&P.length>0){const H=P.map(F=>({id:F.id,payment_id:F.parent_id,invoice_id:a,invoice_number:F.invoice_number||"",invoice_date:F.invoice_date?.split("T")[0]||"",amount_applied:F.amount_applied.toString(),notes:F.notes||"",payment:F.payments?{payment_number:F.payments.payment_number,payment_date:F.payments.payment_date,method:F.payments.method,collected_by_user:F.payments.users_payments_collected_byTousers}:void 0}));r(H)}else r([])},[P,a]),Nt.useEffect(()=>{t&&(c(!1),o(null),R.resetForm())},[t,a]);const R=ft({initialValues:{payment_id:"",amount_applied:"",notes:""},validationSchema:Y7e,onSubmit:async H=>{try{const F=C.find(pe=>pe.id===Number(H.payment_id));if(!F){Rt.error("Selected payment not found");return}const M=Number(F.total_amount),L=Number(H.amount_applied);if(L>M){Rt.error(`Amount applied (${h(L)}) cannot exceed payment total (${h(M)})`);return}const W=Number(w?.total_amount||0),X=n.reduce((pe,he)=>pe+Number(he.amount_applied),0),te=l?X-Number(i?.amount_applied||0)+L:X+L;if(te>W){Rt.error(`Total amount applied (${h(te)}) cannot exceed invoice total (${h(W)})`);return}if(n.find(pe=>pe.payment_id===Number(H.payment_id)&&pe.id!==i?.id)){Rt.error("This payment has already been applied to this invoice");return}const ae={...H,payment_id:Number(H.payment_id),invoice_id:a,invoice_number:w?.invoice_number||"",invoice_date:w?.invoice_date?.split("T")[0]||"",payment:F?{payment_number:F.payment_number,payment_date:F.payment_date?.split("T")[0]||"",method:F.method,collected_by_user:F.collected_by_user}:void 0};if(l&&i){const pe=n.map(he=>he.id===i.id?{...ae,id:i.id}:he);r(pe),c(!1),o(null)}else{const pe={...ae,id:Date.now()};r([...n,pe])}R.resetForm(),u(!1),Rt.success(l?"Payment line updated successfully":"Payment line added successfully")}catch(F){console.error("Error managing payment line:",F),Rt.error("Failed to save payment line. Please try again.")}}}),z=H=>{o(H),c(!0),u(!0),R.setValues({payment_id:H.payment_id.toString(),amount_applied:H.amount_applied,notes:H.notes})},O=async H=>{try{if(H>1e6){r(n.filter(F=>F.id!==H));return}await T.mutateAsync({invoiceId:a,lineId:H}),r(n.filter(F=>F.id!==H))}catch(F){console.error("Error deleting payment line:",F)}},$=()=>{c(!1),o(null),u(!1),R.resetForm()},A=async()=>{try{const H=n.filter(W=>W.payment_id!=="");if(H.length===0){Rt.error("No valid payment lines to save");return}const F=H.map(W=>W.payment_id),M=new Set(F);if(F.length!==M.size){Rt.error("Duplicate payment lines detected. Please remove duplicates before saving.");return}const L=H.map(W=>({parent_id:Number(W.payment_id),invoice_id:a,payment_id:Number(W.payment_id),amount_applied:Number(W.amount_applied),notes:W.notes}));await D.mutateAsync({invoiceId:a,paymentLines:L}),Rt.success("Payment lines saved successfully"),s()}catch(H){console.error("Error saving payment lines:",H),Rt.error("Failed to save payment lines. Please try again.")}},K=(()=>{const H=n.reduce((W,X)=>W+Number(X.amount_applied),0),F=Number(w?.total_amount||0),M=F-H,L=F>0?H/F*100:0;return{totalApplied:H,invoiceTotal:F,balanceDue:M,paymentPercentage:L,isFullyPaid:M<=0,isOverpaid:M<0}})(),U=()=>K.isOverpaid?"error":K.isFullyPaid?"success":K.paymentPercentage>50?"warning":"default",B=()=>K.isOverpaid?"Overpaid":K.isFullyPaid?"Fully Paid":K.paymentPercentage>50?"Partially Paid":"Unpaid",V=()=>K.isOverpaid?e.jsx(la,{className:"w-4 h-4"}):K.isFullyPaid?e.jsx(Oa,{className:"w-4 h-4"}):K.paymentPercentage>50?e.jsx(Ts,{className:"w-4 h-4"}):e.jsx(la,{className:"w-4 h-4"}),Y=[{id:"payment_info",label:"Payment Info",render:(H,F)=>e.jsxs(y,{className:"!flex !flex-col",children:[e.jsx(x,{variant:"caption",className:"!font-medium !text-xs",children:F.payment?.payment_number||"N/A"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 capitalize !text-xs",children:F.payment?.method?.replaceAll("_"," ")||"N/A"})]})},{id:"payment_date",label:"Payment Date",render:(H,F)=>e.jsx(x,{variant:"caption",className:"!text-xs",children:F.payment?.payment_date?new Date(F.payment.payment_date).toLocaleDateString():"N/A"})},{id:"collected_by",label:"Collected By",render:(H,F)=>e.jsx(x,{variant:"caption",className:"!text-xs",children:F.payment?.collected_by_user?.name||"N/A"})},{id:"amount_applied",label:"Amount Applied",render:(H,F)=>e.jsx(x,{variant:"caption",className:"!font-medium !text-green-600 !text-xs",children:h(Number(F.amount_applied))})},{id:"notes",label:"Notes",render:(H,F)=>e.jsx(x,{variant:"caption",className:"!text-gray-600 !text-xs",children:F.notes||"N/A"})},{id:"actions",label:"Actions",sortable:!1,render:(H,F)=>e.jsxs(y,{className:"!flex !gap-1",children:[e.jsx(is,{onClick:()=>z(F),tooltip:"Edit payment line",size:"small"}),e.jsx(Jt,{title:"Delete Payment Line",description:"Are you sure you want to delete this payment line? This action cannot be undone.",onConfirm:()=>O(F.id),children:e.jsx(Vt,{tooltip:"Delete payment line",size:"small"})})]})}];return e.jsx(ot,{open:t,setOpen:s,title:`Payment Tracking - ${w?.invoice_number||"N/A"}`,size:"larger",children:e.jsx(y,{className:"!p-4",children:e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!bg-gray-50 !rounded-lg !p-3",children:[e.jsx(x,{variant:"subtitle1",className:"!font-semibold !mb-3 !text-sm",children:"Invoice Information"}),e.jsxs(y,{className:"!grid !grid-cols-2 !gap-3",children:[e.jsxs(y,{children:[e.jsx(x,{variant:"caption",className:"!text-gray-600 !text-xs",children:"Invoice Number"}),E?e.jsx(J,{variant:"text",width:"60%",height:20}):e.jsx(x,{variant:"body2",className:"!font-medium !text-sm",children:w?.invoice_number||"N/A"})]}),e.jsxs(y,{children:[e.jsx(x,{variant:"caption",className:"!text-gray-600 !text-xs",children:"Customer"}),E?e.jsx(J,{variant:"text",width:"80%",height:20}):e.jsx(x,{variant:"body2",className:"!font-medium !text-sm",children:w?.customer?.name||"N/A"})]}),e.jsxs(y,{children:[e.jsx(x,{variant:"caption",className:"!text-gray-600 !text-xs",children:"Invoice Date"}),E?e.jsx(J,{variant:"text",width:"50%",height:20}):e.jsx(x,{variant:"body2",className:"!font-medium !text-sm",children:w?.invoice_date?new Date(w.invoice_date).toLocaleDateString():"N/A"})]}),e.jsxs(y,{children:[e.jsx(x,{variant:"caption",className:"!text-gray-600 !text-xs",children:"Due Date"}),E?e.jsx(J,{variant:"text",width:"50%",height:20}):e.jsx(x,{variant:"body2",className:"!font-medium !text-sm",children:w?.due_date?new Date(w.due_date).toLocaleDateString():"N/A"})]})]})]}),e.jsxs(y,{className:"!bg-white !border !border-gray-200 !rounded-lg !p-3",children:[e.jsx(x,{variant:"subtitle1",className:"!font-semibold !mb-3 !text-sm",children:"Payment Summary"}),e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-4 !gap-3",children:[e.jsxs(y,{className:"!text-center !p-2 !bg-blue-50 !rounded-lg",children:[e.jsx(Cn,{className:"w-6 h-6 text-blue-600 mx-auto mb-1"}),E?e.jsx(J,{variant:"text",width:"80%",height:24,className:"!mx-auto !mb-1"}):e.jsx(x,{variant:"subtitle2",className:"!font-bold !text-blue-900 !text-sm",children:h(K.invoiceTotal)}),e.jsx(x,{variant:"caption",className:"!text-blue-700 !text-xs",children:"Invoice Total"})]}),e.jsxs(y,{className:"!text-center !p-2 !bg-green-50 !rounded-lg",children:[e.jsx(Oa,{className:"w-6 h-6 text-green-600 mx-auto mb-1"}),E?e.jsx(J,{variant:"text",width:"80%",height:24,className:"!mx-auto !mb-1"}):e.jsx(x,{variant:"subtitle2",className:"!font-bold !text-green-900 !text-sm",children:h(K.totalApplied)}),e.jsx(x,{variant:"caption",className:"!text-green-700 !text-xs",children:"Total Paid"})]}),e.jsxs(y,{className:"!text-center !p-2 !bg-orange-50 !rounded-lg",children:[e.jsx(la,{className:"w-6 h-6 text-orange-600 mx-auto mb-1"}),E?e.jsx(J,{variant:"text",width:"80%",height:24,className:"!mx-auto !mb-1"}):e.jsx(x,{variant:"subtitle2",className:"!font-bold !text-orange-900 !text-sm",children:h(Math.abs(K.balanceDue))}),e.jsx(x,{variant:"caption",className:"!text-orange-700 !text-xs",children:K.isOverpaid?"Overpaid":"Balance Due"})]}),e.jsxs(y,{className:"!text-center !p-2 !bg-purple-50 !rounded-lg",children:[e.jsx(js,{className:"w-6 h-6 text-purple-600 mx-auto mb-1"}),E?e.jsx(J,{variant:"text",width:"80%",height:24,className:"!mx-auto !mb-1"}):e.jsxs(x,{variant:"subtitle2",className:"!font-bold !text-purple-900 !text-sm",children:[K.paymentPercentage.toFixed(1),"%"]}),e.jsx(x,{variant:"caption",className:"!text-purple-700 !text-xs",children:"Paid"})]})]}),e.jsx(y,{className:"!mt-3 !flex !justify-center",children:E?e.jsx(J,{variant:"rectangular",width:100,height:24,className:"!rounded-full"}):e.jsx(De,{label:B(),icon:V(),color:U(),className:"!font-semibold !text-xs",size:"small"})})]}),m&&e.jsxs(y,{className:"!bg-white !border !border-gray-200 !rounded-lg !p-3",children:[e.jsx(x,{variant:"subtitle1",className:"!font-semibold !mb-3 !text-sm",children:l?"Edit Payment Line":"Add Payment Line"}),e.jsxs("form",{onSubmit:R.handleSubmit,className:"!space-y-4",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs(_e,{name:"payment_id",label:"Payment",formik:R,required:!0,disabled:l,children:[e.jsx(Z,{value:"",children:"Select Payment"}),C.map(H=>e.jsxs(Z,{value:H.id,children:[H.payment_number," - $",Number(H.total_amount).toFixed(2)," (",H.method,")"]},H.id))]}),e.jsx(oe,{name:"amount_applied",label:"Amount Applied",type:"number",formik:R,required:!0,placeholder:"0.00"}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"notes",label:"Notes",formik:R,placeholder:"Payment notes...",multiline:!0,rows:2})})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:$,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",startIcon:e.jsx(Qn,{}),children:l?"Update Payment Line":"Add Payment Line"})]})]})]}),e.jsxs(y,{children:[e.jsxs(y,{className:"!flex !justify-between !items-center !mb-3",children:[e.jsxs(x,{variant:"subtitle1",className:"!font-semibold !text-sm",children:["Payment History (",n.length,")"]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Qn,{}),onClick:()=>u(!0),disabled:m,size:"small",className:"!text-xs",children:"Add Payment Line"})]}),E?e.jsxs(y,{className:"!space-y-2",children:[e.jsx(J,{variant:"rectangular",height:40}),e.jsx(J,{variant:"rectangular",height:40}),e.jsx(J,{variant:"rectangular",height:40})]}):n.length>0?e.jsx(lt,{data:n,columns:Y,getRowId:H=>H.id?.toString()||"",pagination:!1,sortable:!1,emptyMessage:"No payment lines found."}):e.jsxs(y,{className:"!text-center !py-6 !text-gray-500",children:[e.jsx(Dp,{className:"w-10 h-10 text-gray-400 mx-auto mb-2"}),e.jsx(x,{variant:"caption",className:"!text-xs",children:"No payments recorded yet. Add payment lines to track payments against this invoice."})]})]}),K.invoiceTotal>0&&e.jsxs(y,{className:"!bg-white !border !border-gray-200 !rounded-lg !p-3",children:[e.jsx(x,{variant:"subtitle1",className:"!font-semibold !mb-3 !text-sm",children:"Payment Progress"}),e.jsx(y,{className:"!w-full !bg-gray-200 !rounded-full !h-3 !mb-2",children:E?e.jsx(J,{variant:"rectangular",height:12,className:"!rounded-full"}):e.jsx(y,{className:`!h-3 !rounded-full !transition-all !duration-300 ${K.isOverpaid?"!bg-red-500":K.isFullyPaid?"!bg-green-500":K.paymentPercentage>50?"!bg-yellow-500":"!bg-blue-500"}`,style:{width:`${Math.min(K.paymentPercentage,100)}%`}})}),E?e.jsx(J,{variant:"text",width:"60%",height:16,className:"!mx-auto"}):e.jsxs(x,{variant:"caption",className:"!text-gray-600 !text-center !text-xs",children:[K.paymentPercentage.toFixed(1),"% of invoice total paid"]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:s,children:"Close"}),e.jsx(G,{type:"button",variant:"contained",onClick:A,disabled:n.length===0||D.isPending,children:D.isPending?"Saving...":"Save Changes"})]})]})})})},K7e=it({invoice_number:me().optional().max(50,"Invoice number must not exceed 50 characters"),parent_id:Qe().required("Order is required").positive("Order must be a positive number"),customer_id:Qe().required("Customer is required").positive("Customer must be a positive number"),currency_id:Qe().optional().positive("Currency must be a positive number"),invoice_date:me().required("Invoice date is required"),due_date:me().optional().test("due-date-after-invoice","Due date must be after invoice date",function(t){const{invoice_date:s}=this.parent;return!t||!s?!0:new Date(t)>=new Date(s)}),status:me().required("Status is required").oneOf(["draft","sent","paid","overdue","cancelled"],"Please select a valid status"),payment_method:me().optional().oneOf(["cash","credit","debit","check","bank_transfer","online"],"Please select a valid payment method"),subtotal:Qe().required("Subtotal is required").min(0,"Subtotal must be greater than or equal to 0"),discount_amount:Qe().optional().min(0,"Discount amount must be greater than or equal to 0"),tax_amount:Qe().optional().min(0,"Tax amount must be greater than or equal to 0"),shipping_amount:Qe().optional().min(0,"Shipping amount must be greater than or equal to 0"),amount_paid:Qe().optional().min(0,"Amount paid must be greater than or equal to 0"),balance_due:Qe().optional().min(0,"Balance due must be greater than or equal to 0"),notes:me().optional().max(500,"Notes must not exceed 500 characters"),billing_address:me().optional().max(500,"Billing address must not exceed 500 characters"),is_active:me().required("Status is required").oneOf(["Y","N"],"Status must be Active or Inactive")}),Q7e=({open:t,onClose:s,invoice:a})=>{const n=!!a,[r,i]=g.useState([]),o=g.useRef(null),{data:l}=g1({limit:1e3}),{data:c}=nc({limit:1e3}),{data:m}=y1(a?.id||0),u=l?.data||[],h=c?.data||[],f=n7e(),v=r7e(),_=()=>{s(),i([]),S.resetForm(),o.current=null};g.useEffect(()=>{const R=a?.id;if(R!==o.current)if(a&&m?.data){const z=m.data.invoice_items?.map(O=>({product_id:O.product_id,quantity:O.quantity.toString(),unit_price:O.unit_price.toString(),notes:O.notes||""}))||[];i(z),o.current=R??null}else a||(i([]),o.current=null)},[a?.id,m?.data]);const S=ft({initialValues:{invoice_number:a?.invoice_number||"",parent_id:a?.parent_id||"",customer_id:a?.customer_id||"",currency_id:a?.currency_id||(h.length>0?h[0].id.toString():""),invoice_date:a?.invoice_date?a.invoice_date.split("T")[0]:"",due_date:a?.due_date?a.due_date.split("T")[0]:"",status:a?.status||"draft",payment_method:a?.payment_method||"credit",subtotal:a?.subtotal||0,total_amount:a?.total_amount||0,balance_due:a?.balance_due||0,notes:a?.notes||"",billing_address:a?.billing_address||"",is_active:a?.is_active||"Y",invoice_items:[]},validationSchema:K7e,enableReinitialize:!0,onSubmit:async R=>{try{const z={...R,invoice_date:new Date(R.invoice_date).toISOString(),parent_id:Number(R.parent_id),customer_id:Number(R.customer_id),currency_id:R.currency_id?Number(R.currency_id):void 0,due_date:R.due_date?new Date(R.due_date).toISOString():void 0,notes:R.notes,billing_address:R.billing_address,subtotal:T.subtotal,total_amount:T.total_amount,balance_due:T.balance_due,invoiceItems:r.filter(O=>O.product_id!=="").map(O=>({product_id:Number(O.product_id),quantity:Number(O.quantity),unit_price:Number(O.unit_price),notes:O.notes}))};n&&a?await v.mutateAsync({id:a.id,...z}):await f.mutateAsync(z),_()}catch(z){console.log("Error submitting invoice:",z)}}}),j=()=>{const R={product_id:"",quantity:"1",unit_price:"0",notes:""},z=[...r,R];i(z)},b=R=>{const z=r.filter((O,$)=>$!==R);i(z)},w=(R,z,O)=>{if(r[R]&&r[R][z]===O)return;const $=[...r];$[R]={...$[R],[z]:O},i($)},C=Nt.useMemo(()=>r.map((R,z)=>({...R,_index:z})),[r]),P=[{id:"product_id",label:"Product",render:(R,z)=>e.jsx(_o,{value:z.product_id,onChange:(O,$)=>w(z._index,"product_id",$?String($.id):""),size:"small",className:"!min-w-60"})},{id:"quantity",label:"Quantity",render:(R,z)=>e.jsx(oe,{value:z.quantity,onChange:O=>w(z._index,"quantity",O.target.value),placeholder:"1",type:"number",size:"small",className:"!min-w-20"})},{id:"unit_price",label:"Unit Price",render:(R,z)=>e.jsx(oe,{value:z.unit_price,onChange:O=>w(z._index,"unit_price",O.target.value),placeholder:"0.00",type:"number",size:"small",className:"!min-w-32"})},{id:"actions",label:"Actions",sortable:!1,render:(R,z)=>e.jsx(Vt,{onClick:()=>b(z._index),tooltip:"Remove item",confirmDelete:!0,size:"medium",itemName:"invoice item"})}],E=R=>h.find(O=>O.id===Number(R))?.code||"USD",D=(R,z)=>R==null?`${z} 0.00`:new Intl.NumberFormat("en-US",{style:"currency",currency:z}).format(R),T=Nt.useMemo(()=>{const R=r.reduce(($,A)=>$+Number(A.quantity)*Number(A.unit_price),0),z=R;return{subtotal:R,total_amount:z,balance_due:z}},[r]);return e.jsx(ot,{open:t,setOpen:_,title:n?"Edit Invoice":"Create Invoice",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:S.handleSubmit,className:"!space-y-5 mb-10",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5",children:[e.jsx(y,{className:"md:!col-span-2",children:e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Invoice Information"})}),e.jsx(_e,{name:"parent_id",label:"Order",formik:S,required:!0,children:u.map(R=>e.jsxs(Z,{value:R.id,children:[R.order_number," - ",R.customer?.name]},R.id))}),e.jsx(io,{name:"customer_id",label:"Customer",formik:S,required:!0}),e.jsx(oe,{name:"invoice_date",label:"Invoice Date",type:"date",formik:S,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(oe,{name:"due_date",label:"Due Date",type:"date",formik:S,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(_e,{name:"currency_id",label:"Currency",formik:S,required:!0,children:h.map(R=>e.jsxs(Z,{value:R.id,children:[R.code," - ",R.name]},R.id))}),e.jsxs(_e,{name:"status",label:"Status",formik:S,required:!0,children:[e.jsx(Z,{value:"draft",children:"Draft"}),e.jsx(Z,{value:"sent",children:"Sent"}),e.jsx(Z,{value:"paid",children:"Paid"}),e.jsx(Z,{value:"overdue",children:"Overdue"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]}),e.jsxs(_e,{name:"payment_method",label:"Payment Method",formik:S,required:!0,children:[e.jsx(Z,{value:"cash",children:"Cash"}),e.jsx(Z,{value:"credit",children:"Credit"}),e.jsx(Z,{value:"debit",children:"Debit"}),e.jsx(Z,{value:"check",children:"Check"}),e.jsx(Z,{value:"bank_transfer",children:"Bank Transfer"}),e.jsx(Z,{value:"online",children:"Online Payment"})]}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"billing_address",label:"Billing Address",placeholder:"Enter billing address",formik:S,multiline:!0,rows:3})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"notes",label:"Notes",placeholder:"Enter invoice notes",formik:S,multiline:!0,rows:3})})]}),e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !justify-between !items-center",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Invoice Items"}),e.jsx(G,{type:"button",variant:"outlined",startIcon:e.jsx(Qn,{}),onClick:j,size:"small",children:"Add Item"})]}),r.length>0&&e.jsx(lt,{data:C,columns:P,getRowId:R=>R._index.toString(),pagination:!1,sortable:!1,emptyMessage:"No invoice items added yet."}),r.length===0&&e.jsxs(y,{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(Wt,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(x,{variant:"body2",children:'No items added yet. Click "Add Item" to get started.'})]}),r.length>0&&e.jsxs(y,{className:"!bg-gray-50 !rounded-lg !mt-4",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2",children:"Invoice Summary"}),e.jsx(y,{className:"!space-y-2",children:e.jsxs(y,{className:"!flex !justify-between",children:[e.jsx(x,{variant:"subtitle2",className:"!font-bold",children:"Total Amount:"}),e.jsx(x,{variant:"subtitle2",className:"!font-bold",children:D(T.total_amount,E(S.values.currency_id))})]})})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:_,disabled:f.isPending||v.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:f.isPending||v.isPending,children:f.isPending||v.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})})})},Z7e=()=>{const{formatCurrency:t}=Qa(),[s,a]=g.useState(""),[n,r]=g.useState("all"),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,u]=g.useState(!1),[h,f]=g.useState(!1),[v,_]=g.useState(!1),[S,j]=g.useState(!1),[b,w]=g.useState(1),[C]=g.useState(10),{isCreate:P,isUpdate:E,isDelete:D,isRead:T}=Ze("invoice"),{data:R,isLoading:z,error:O}=a7e({search:s,page:b,limit:C,status:n==="all"?void 0:n},{enabled:T}),$=R?.data||[],A=R?.pagination?.total_count||0,Q=(R?.pagination?.current_page||1)-1,K=i7e(),U=ms(),B=$.length,V=$.reduce((le,de)=>le+(de.total_amount||0),0),Y=$.reduce((le,de)=>le+(de.amount_paid||0),0),H=$.reduce((le,de)=>le+(de.balance_due||0),0),F=g.useCallback(()=>{o(null),c(!0)},[]),M=g.useCallback(le=>{o(le),c(!0)},[]),L=g.useCallback(le=>{o(le),u(!0)},[]),W=g.useCallback(le=>{o(le),f(!0)},[]),X=g.useCallback(le=>{o(le),_(!0)},[]),te=g.useCallback(async le=>{try{await K.mutateAsync(le)}catch(de){console.error("Error deleting invoice:",de)}},[K]),se=g.useCallback(le=>{a(le),w(1)},[]),ae=le=>{w(le+1)},pe=g.useCallback(async()=>{try{const le={search:s,status:n==="all"?void 0:n};await U.mutateAsync({tableName:"invoices",filters:le})}catch(le){console.error("Error exporting invoices:",le)}},[U,s,n]),he=le=>({draft:"!bg-gray-100 !text-gray-800",sent:"!bg-blue-100 !text-blue-800",paid:"!bg-green-100 !text-green-800",overdue:"!bg-red-100 !text-red-800",cancelled:"!bg-gray-100 !text-gray-800"})[le]||"!bg-gray-100 !text-gray-800",re=le=>{switch(le){case"draft":return e.jsx(Cs,{className:"w-4 h-4"});case"sent":return e.jsx(Ts,{className:"w-4 h-4"});case"paid":return e.jsx(Oa,{className:"w-4 h-4"});case"overdue":return e.jsx(la,{className:"w-4 h-4"});case"cancelled":return e.jsx(Na,{className:"w-4 h-4"});default:return e.jsx(Cs,{className:"w-4 h-4"})}},xe=le=>!le.due_date||!le.balance_due?!1:new Date(le.due_date)<new Date&&le.balance_due>0,ge=[{id:"invoice_number",label:"Invoice Info",render:(le,de)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:de.invoice_number,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Xn,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:de.invoice_number}),e.jsxs(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:[de.invoice_items?.length||0," items  Order #",de.parent_id]})]})]})},{id:"customer.name",label:"Customer",render:(le,de)=>e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:de.customer?.name||"N/A"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:de.customer?.code||"N/A"})]})},{id:"status",label:"Status",render:(le,de)=>e.jsxs(y,{className:"flex !gap-2 items-center",children:[e.jsx(De,{icon:re(de.status||"draft"),label:de.status||"draft",size:"small",className:`!text-xs !capitalize ${he(de.status||"draft")} !min-w-20`}),xe(de)&&e.jsx(De,{label:"OVERDUE",size:"small",className:"!text-xs !bg-red-100 !text-red-800 !font-bold"})]})},{id:"invoice_date",label:"Dates",render:(le,de)=>e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center text-sm text-gray-900",children:[e.jsx(_s,{className:"w-4 h-4 text-gray-400 mr-1"}),"Invoice:"," ",de.invoice_date?new Date(de.invoice_date).toLocaleDateString():"N/A"]}),de.due_date&&e.jsxs(y,{className:"flex items-center text-sm text-gray-500 mt-1",children:[e.jsx(Ts,{className:"w-4 h-4 text-gray-400 mr-1"}),"Due: ",new Date(de.due_date).toLocaleDateString()]})]})},{id:"total_amount",label:"Amounts",render:(le,de)=>e.jsxs(y,{children:[e.jsxs(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:["Total: ",t(de.total_amount||0)]}),e.jsxs(x,{variant:"caption",className:"!text-green-600 !text-xs !block !mt-0.5",children:["Paid: ",t(de.amount_paid||0)]}),de.balance_due&&de.balance_due>0&&e.jsxs(x,{variant:"caption",className:"!text-red-600 !text-xs !block !mt-0.5",children:["Balance: ",t(de.balance_due||0)]})]})},{id:"payment_method",label:"Payment Method",render:(le,de)=>e.jsx(x,{variant:"body2",className:"!text-gray-600 !capitalize",children:de.payment_method?.replaceAll("_"," ")||"N/A"})},...T||E||D?[{id:"action",label:"Actions",sortable:!1,render:(le,de)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[T&&e.jsxs(e.Fragment,{children:[e.jsx(Ka,{onClick:()=>L(de),tooltip:"View invoice details",icon:e.jsx(Cs,{}),color:"success"}),e.jsx(Ka,{onClick:()=>W(de),tooltip:"Manage invoice items",icon:e.jsx(Wt,{}),color:"info"}),e.jsx(Ka,{onClick:()=>X(de),tooltip:"Track payments",icon:e.jsx(Dp,{}),color:"secondary"})]}),E&&e.jsx(is,{onClick:()=>M(de),tooltip:`Edit ${de.invoice_number}`}),D&&e.jsx(Vt,{onClick:()=>te(de.id),tooltip:`Delete ${de.invoice_number}`,itemName:de.invoice_number,confirmDelete:!0})]})}]:[]];return O?e.jsxs(ct,{severity:"error",className:"mb-4",children:["Error loading invoices: ",O.message]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Invoices Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage customer invoices, track payments, and monitor outstanding balances"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Invoices",value:B,icon:e.jsx(Xn,{className:"w-6 h-6"}),color:"blue",isLoading:z}),e.jsx(fe,{title:"Total Amount",value:t(V),icon:e.jsx(Cn,{className:"w-6 h-6"}),color:"green",isLoading:z}),e.jsx(fe,{title:"Amount Paid",value:t(Y),icon:e.jsx(Oa,{className:"w-6 h-6"}),color:"blue",isLoading:z}),e.jsx(fe,{title:"Outstanding Balance",value:t(H),icon:e.jsx(la,{className:"w-6 h-6"}),color:"red",isLoading:z})]}),O&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load invoices. Please try again."}),e.jsx(lt,{data:$,columns:ge,actions:T||P?e.jsxs("div",{className:"flex justify-between gap-3 items-center flex-wrap",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-3",children:T&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Invoices...",value:s,onChange:se,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:n,onChange:le=>r(le.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"draft",children:"Draft"}),e.jsx(Z,{value:"sent",children:"Sent"}),e.jsx(Z,{value:"paid",children:"Paid"}),e.jsx(Z,{value:"overdue",children:"Overdue"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]})]})}),T&&e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Jt,{title:"Export Invoices",description:"Are you sure you want to export the current invoices data to Excel? This will include all filtered results.",onConfirm:pe,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:U.isPending,children:U.isPending?"Exporting...":"Export"})}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>j(!0),children:"Import"}),P&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:F,children:"Create"})]})]}):!1,getRowId:le=>le.id,initialOrderBy:"invoice_number",loading:z,totalCount:A,page:Q,rowsPerPage:C,isPermission:T,onPageChange:ae,emptyMessage:s?`No invoices found matching "${s}"`:"No invoices found in the system"}),l&&e.jsx(Q7e,{open:l,onClose:()=>c(!1),invoice:i}),m&&e.jsx(c7e,{open:m,onClose:()=>u(!1),invoice:i}),h&&e.jsx(g7e,{open:h,onClose:()=>f(!1),invoiceId:i?.id||0},`items-management-${i?.id||0}`),v&&e.jsx(G7e,{open:v,onClose:()=>_(!1),invoiceId:i?.id||0},`payment-tracking-${i?.id||0}`),S&&e.jsx(l7e,{drawerOpen:S,setDrawerOpen:j})]})},X7e=it({file:hs().required("Please select a file to import")}),J7e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:X7e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("orders")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"orders",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Orders",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple orders. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})};it().shape({product_id:Qe().required("Product is required").positive("Product ID must be positive"),product_name:me().nullable(),unit:me().nullable(),quantity:Qe().required("Quantity is required").positive("Quantity must be positive").integer("Quantity must be a whole number"),unit_price:Qe().required("Unit price is required").min(0,"Unit price must be non-negative"),total_amount:Qe().min(0,"Total amount must be non-negative").nullable(),notes:me().max(500,"Notes must be at most 500 characters").nullable()});const cL=it().shape({order_number:me().min(3,"Order number must be at least 3 characters").max(50,"Order number must be at most 50 characters").nullable(),parent_id:Qe().typeError("Customer is required").required("Customer is required").positive("Customer ID must be positive"),salesperson_id:Qe().typeError("Sales Person is required").required("Sales Person is required").positive("Sales Person ID must be positive"),currency_id:Qe().positive("Currency ID must be positive").nullable(),order_date:me().nullable(),delivery_date:me().nullable(),status:me().oneOf(["draft","pending","confirmed","processing","shipped","delivered","cancelled"],"Invalid order status").nullable(),priority:me().oneOf(["low","medium","high","urgent"],"Invalid priority").nullable(),order_type:me().oneOf(["regular","urgent","promotional","sample"],"Invalid order type").nullable(),payment_method:me().oneOf(["cash","credit","cheque","bank_transfer"],"Invalid payment method").nullable(),payment_terms:me().max(50,"Payment terms must be at most 50 characters").nullable(),subtotal:Qe().min(0,"Subtotal must be non-negative").nullable(),shipping_amount:Qe().min(0,"Shipping amount must be non-negative").nullable(),total_amount:Qe().min(0,"Total amount must be non-negative").nullable(),notes:me().max(500,"Notes must be at most 500 characters").nullable(),shipping_address:me().max(500,"Shipping address must be at most 500 characters").nullable(),approval_status:me().oneOf(["P","A","R"],"Invalid approval status").nullable(),is_active:me().oneOf(["Y","N"],"Status must be Y or N").required("Status is required"),order_items:hs().nullable()});cL.shape({order_number:me().min(3,"Order number must be at least 3 characters").max(50,"Order number must be at most 50 characters").nullable(),parent_id:Qe().typeError("Customer is required").required("Customer is required").positive("Customer ID must be positive"),salesperson_id:Qe().typeError("Salesperson is required").required("Salesperson is required").positive("Salesperson ID must be positive"),order_items:hs().nullable()});const e9e=it().shape({product_id:Qe().required("Product selection is required. Please select a product from the dropdown.").positive("Product ID must be positive").test("is-not-zero","Product selection is required",t=>t!==0),product_name:me().nullable(),quantity:Qe().required("Quantity is required").positive("Quantity must be positive").integer("Quantity must be a whole number").min(1,"Quantity must be at least 1"),unit_price:Qe().required("Unit price is required").min(0,"Unit price must be non-negative"),notes:me().max(500,"Notes must be at most 500 characters").nullable()});it().shape({order_items:dl().of(e9e).min(1,"At least one product must be added to the order").test("has-valid-products","All items must have valid products",function(t){return!t||t.length===0?!1:t.every(s=>{const a=Number(s.product_id),n=Number(s.quantity);return s&&a&&a>0&&!isNaN(a)&&n>0&&s.product_name})})});const dL={all:["salesperson-inventory-items-dropdown"],list:(t,s)=>[...dL.all,t,s]},t9e=(t,s,a)=>nt({queryKey:dL.list(t,s),queryFn:()=>U8e(t,s),enabled:a?.enabled!==void 0?a.enabled:!!t,staleTime:60*1e3}),s9e=({salespersonId:t,name:s="product_id",label:a="Sales Item",required:n=!1,fullWidth:r=!0,size:i="small",formik:o,setValue:l,value:c,nameToSearch:m="",onChange:u,className:h,placeholder:f="Search for a product",disabled:v=!1})=>{const[_,S]=g.useState(""),[j,b]=g.useState(""),[w,C]=g.useState(""),[P,E]=g.useState(!1),[D,T]=g.useState(null),[R,z]=g.useState(!1),O=g.useRef(!1),$=o?o.values[s]:c,A=$?typeof $=="number"?$.toString():String($).trim():"";g.useEffect(()=>{const F=setTimeout(()=>{P||(C(j),j&&z(!0))},300);return()=>clearTimeout(F)},[j,P]);const Q=g.useMemo(()=>R||_?w:A&&m&&!R?m:w,[w,m,R,A,_]),{data:K,isLoading:U}=t9e(t,Q,{enabled:!v&&!!t}),B=g.useMemo(()=>K?.data?K.data:[],[K]);g.useEffect(()=>{if(A&&B.length>0&&!D&&!O.current){O.current=!0;const F=B.find(M=>String(M.product_id)===String(A));F&&(T(F),!R&&!_&&(S(F.name),z(!0))),O.current=!1}},[A,B,D,R,_]);const V=g.useMemo(()=>{if(!A)return null;if(typeof c=="number"&&c>0){const M=B.find(L=>L.product_id===c);if(M)return M}const F=B.find(M=>String(M.product_id)===A);return F||(D&&String(D.product_id)===A?D:null)},[A,B,D,c]);g.useEffect(()=>{!A&&(D||_)&&(S(""),T(null),z(!1))},[A]);const Y=(F,M)=>{if(P)return;E(!0),T(M);const L=M?.product_id||0;o?(o.setFieldValue(s,L,!1),o.setFieldTouched(s,!0,!1)):l&&l(L),u&&u(F,M),M?S(M.name):(S(""),C(""),b("")),setTimeout(()=>E(!1),150)},H=(F,M,L)=>{L==="input"&&(S(M),P||b(M)),L==="clear"&&(S(""),b(""),C(""),T(null),o&&o.setFieldValue(s,0))};return e.jsx(Yn,{id:`sales-items-select-${s}`,options:B,getOptionLabel:F=>F.name,loading:U,value:V,onChange:Y,onInputChange:H,inputValue:_,fullWidth:r,size:i,disabled:v,className:h,isOptionEqualToValue:(F,M)=>M?typeof M=="number"?F.product_id===M:F.product_id===M.product_id:!1,filterOptions:F=>F,renderOption:(F,M)=>g.createElement(y,{component:"li",...F,key:M.id,className:"!flex !items-center !gap-2 cursor-pointer py-1 px-2 hover:!bg-gray-50"},e.jsx(ht,{src:M.name||"mkx",alt:M.name,className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(y,{children:[e.jsx("p",{className:"!text-gray-900 !text-sm",children:M.name||""}),M.code&&e.jsx("p",{className:"!text-gray-500 !text-xs",children:M.code})]})),noOptionsText:t?w&&!U?"No items found":"Type to search items":"Select a salesperson first",loadingText:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(wo,{thickness:6,size:16,color:"inherit"})," Loading items..."]}),renderInput:F=>e.jsx(wn,{...F,label:a,placeholder:f,required:n,error:o&&!!(o.touched[s]&&o.errors[s]),helperText:o&&o.touched[s]&&o.errors[s],InputProps:{...F.InputProps,endAdornment:e.jsxs(Nt.Fragment,{children:[U?e.jsx(wo,{color:"inherit",size:20}):null,F.InputProps.endAdornment]})}})})},a9e=({isOpen:t,setIsOpen:s,selectedRowIndex:a,setSelectedRowIndex:n,orderItems:r,setOrderItems:i,inventoryByProductId:o})=>{const[l,c]=Nt.useState([]);Nt.useEffect(()=>{if(a===null)return;const j=r[a];if(!j){c([]);return}const b=j.product_batches||[];if(b.length>0){c(b);return}const w=typeof j.product_id=="number"?j.product_id:null;if(w&&o&&o[w]&&o[w].batches.length>0){const C=o[w].batches.map(P=>({...P,quantity:P.batch_remaining_quantity||P.quantity||0}));c(C);return}c([])},[a,r,o]);const m=Nt.useCallback(()=>{s(!1),c([]),n(null)},[s,n]),u=Nt.useCallback(j=>{c(b=>b.filter((w,C)=>C!==j))},[]),h=Nt.useCallback((j,b,w)=>{c(C=>{const P=[...C];if(j==="quantity"){const E=Number(w),D=Number.isFinite(E)&&E>=0?E:0;return P[b]={...P[b],quantity:D},P}return P[b]={...P[b],[j]:w},P})},[]),f=Nt.useCallback(()=>{if(a===null)return;const j=l.filter(D=>{const T=Number(D.quantity);return Number.isFinite(T)&&T>0}),b=j.reduce((D,T)=>D+(Number(T.quantity)||0),0);if(j.length===0||b<=0){Rt.error("Total batch quantity must be greater than 0.");return}const w=j.findIndex(D=>{const T=(D.batch_number||"").trim(),R=(D.manufacturing_date||"").trim(),z=(D.expiry_date||"").trim(),O=Number(D.quantity);return!T||!R||!z||!Number.isFinite(O)||O<=0});if(w!==-1){Rt.error(`Please fill Batch Number, MFG Date, EXP Date and Quantity (> 0) for row ${w+1}.`);return}const C=new Set,P=j.findIndex(D=>{const T=`${(D.batch_number||"").trim().toLowerCase()}|${(D.lot_number||"").trim().toLowerCase()}`;return C.has(T)?!0:(C.add(T),!1)});if(P!==-1){Rt.error(`Duplicate batch entry found at row ${P+1}.`);return}const E=[...r];E[a]={...E[a],quantity:String(b),product_batches:l.map(D=>({...D,batch_number:(D.batch_number||"").trim(),lot_number:(D.lot_number||"").trim(),quantity:Number(D.quantity)||0,manufacturing_date:(D.manufacturing_date||"").trim(),expiry_date:(D.expiry_date||"").trim()}))},i(E),m()},[a,l,r,i,m]),v=Nt.useMemo(()=>{if(a===null)return!1;const j=l.filter(P=>{const E=Number(P.quantity);return Number.isFinite(E)&&E>0}),b=j.reduce((P,E)=>P+(Number(E.quantity)||0),0);if(j.length===0||b<=0||j.some(P=>{const E=(P.batch_number||"").trim(),D=(P.manufacturing_date||"").trim(),T=(P.expiry_date||"").trim(),R=Number(P.quantity);return!E||!D||!T||!Number.isFinite(R)||R<=0}))return!1;const C=new Set;for(const P of j){const E=`${(P.batch_number||"").trim().toLowerCase()}|${(P.lot_number||"").trim().toLowerCase()}`;if(C.has(E))return!1;C.add(E)}return!0},[a,l]),_=Nt.useMemo(()=>l.reduce((j,b)=>j+(Number(b.quantity)||0),0),[l]),S=Nt.useMemo(()=>[{id:"batch_number",label:"Batch Number",render:(j,b)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:b.batch_number})},{id:"manufacturing_date",label:"MFG Date",render:(j,b)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:Oe(b.manufacturing_date)})},{id:"expiry_date",label:"EXP Date",render:(j,b)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:Oe(b.expiry_date)})},{id:"total_quantity",label:"Total Quantity",render:(j,b)=>e.jsx(x,{variant:"body2",className:"!text-gray-600",children:b.batch_remaining_quantity})},{id:"quantity",label:"Quantity",render:(j,b,w)=>e.jsx(oe,{type:"number",value:b.quantity,onChange:C=>{const P=Number(C.target.value),E=Number(b.batch_remaining_quantity??b.quantity??0);if(!Number.isFinite(P)){h("quantity",w,0);return}const D=P>=0?P:0,T=Number.isFinite(E)&&E>0?Math.min(D,E):D;h("quantity",w,T)},size:"small",className:"!w-40",placeholder:"Enter quantity",fullWidth:!0})}],[h,u]);return e.jsxs(sc,{open:t,onClose:m,slotProps:{paper:{className:"!min-w-[60%] !max-w-[60%]"}},children:[e.jsxs("div",{className:"flex justify-between items-center !p-2",children:[e.jsxs("p",{className:"!font-semibold text-lg !text-gray-900",children:["Batch Information (",_,")"]}),e.jsx(Ka,{icon:e.jsx(Gn,{}),onClick:m,size:"small","aria-label":"Close dialog"})]}),e.jsx(fn,{}),e.jsx(y,{className:"!p-2 min-h-[40vh]",children:e.jsx(lt,{stickyHeader:!0,maxHeight:"50vh",columns:S,data:l,compact:!0,pagination:!1,sortable:!1,emptyMessage:"No batches in this product"})}),e.jsxs(y,{className:"!p-2 !flex !justify-end !border-t gap-2 !border-gray-300",children:[e.jsx(G,{variant:"outlined",color:"info",onClick:m,children:"Cancel"}),e.jsx(G,{variant:"contained",color:"primary",onClick:f,disabled:!v,children:"Update"})]})]})},gD={serial_number:"",quantity:1,product_id:0},n9e=({isOpen:t,setIsOpen:s,selectedRowIndex:a,setSelectedRowIndex:n,orderItems:r,setOrderItems:i,inventoryByProductId:o})=>{const[l,c]=Nt.useState([]);Nt.useEffect(()=>{if(!t||a===null)return;const v=r[a];if(!v)return;let _=v.product_serials||[];if(_.length===0&&o&&typeof v.product_id=="number"){const j=o[v.product_id];j&&j.serials.length>0&&(_=j.serials)}const S=_.length>0?_.map(j=>{const w=j.selected!==!1;return{...gD,...j||{},product_id:Number(v.product_id||0),quantity:1,serial_number:j?.serial_number||"",selected:w}}):[{...gD,product_id:Number(v.product_id||0),selected:!0}];c(S)},[t,a,r,o]);const m=Nt.useCallback(()=>{s(!1),c([]),n(null)},[s,n]),u=Nt.useCallback(v=>{c(_=>{const S=[..._],j=S[v];return S[v]={...j,selected:j.selected===!1},S})},[]),h=Nt.useMemo(()=>{if(a===null)return!1;const v=l.filter(j=>j.selected!==!1);if(v.length===0)return!1;const _=v.map(j=>(j.serial_number||"").trim());if(_.some(j=>j.length===0))return!1;const S=new Set;for(const j of _){const b=j.toLowerCase();if(S.has(b))return!1;S.add(b)}return!0},[a,l]),f=Nt.useCallback(()=>{if(a===null)return;const v=l.filter(C=>C.selected!==!1),_=v.map(C=>(C.serial_number||"").trim()),S=_.findIndex(C=>C.length===0);if(S!==-1){Rt.error(`Serial number is required for row ${S+1}.`);return}const j=new Set,b=_.findIndex(C=>{const P=C.toLowerCase();return j.has(P)?!0:(j.add(P),!1)});if(b!==-1){Rt.error(`Duplicate serial number found: ${_[b]}`);return}const w=[...r];w[a]={...w[a],quantity:String(v.length),product_serials:l.map(C=>({...C,serial_number:(C.serial_number||"").trim(),quantity:1}))},i(w),m()},[a,l,r,i,m]);return e.jsxs(sc,{open:t,onClose:m,slotProps:{paper:{className:"!min-w-[40%] !max-w-[40%]"}},children:[e.jsxs("div",{className:"flex justify-between items-center !p-2",children:[e.jsxs("p",{className:"!font-semibold text-lg !text-gray-900",children:["Serial Information (",l.length,")"]}),e.jsx(Ka,{icon:e.jsx(Gn,{}),onClick:m,size:"small","aria-label":"Close dialog"})]}),e.jsx(fn,{}),e.jsx(y,{className:"!p-2 min-h-[40vh]",children:e.jsx("div",{className:"max-h-[50vh] overflow-y-auto flex flex-col gap-2",children:l.map((v,_)=>{const S=v;return e.jsx("div",{className:"flex items-center justify-between border border-gray-200 rounded px-2 py-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qo,{checked:S.selected!==!1,onChange:()=>u(_),size:"small"}),e.jsx("span",{children:v.serial_number})]})},`${v.serial_number}-${_}`)})})}),e.jsxs(y,{className:"!p-2 !flex !justify-end !border-t gap-2 !border-gray-300",children:[e.jsx(G,{variant:"outlined",color:"info",onClick:m,children:"Cancel"}),e.jsx(G,{variant:"contained",color:"primary",onClick:f,disabled:!h,children:"Update"})]})]})},r9e=({open:t,onClose:s,order:a})=>{const n=!!a,[r,i]=g.useState([]),o=g.useRef(null),l=g.useRef(""),c=g.useRef(""),[m,u]=g.useState(!1),[h,f]=g.useState(!1),[v,_]=g.useState(null),{formatCurrency:S,defaultCurrencyId:j}=Qa(),{data:b,isFetching:w}=oL(a?.id||0),C=DDe(),P=RDe(),E=ft({initialValues:{order_number:"",parent_id:0,salesperson_id:0,currency_id:j,order_date:new Date().toISOString().split("T")[0],delivery_date:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],status:"draft",priority:"medium",order_type:"regular",payment_method:"credit",payment_terms:"Net 30",subtotal:0,shipping_amount:0,total_amount:0,notes:"",shipping_address:"",approval_status:"P",is_active:"Y",order_items:[]},validationSchema:cL,onSubmit:async F=>{try{if(r?.length===0){Rt.error("Please add at least one item to the order before submitting.");return}for(let L=0;L<r.length;L+=1){const W=r[L];if(!W.product_id||W.product_id===0){Rt.error(`Item ${L+1}: Please select a product`);return}if(!W.quantity||Number(W.quantity)<=0){Rt.error(`Item ${L+1}: Please enter a valid quantity`);return}const X=Number(W.quantity),te=(W.tracking_type||"").toLowerCase();if(te==="batch"&&X>0){const ae=(W.product_batches||[]).filter(he=>{const re=Number(he.quantity);return Number.isFinite(re)&&re>0}),pe=ae.reduce((he,re)=>he+(Number(re.quantity)||0),0);if(ae.length===0||pe===0){Rt.error(`Item ${L+1}: Please allocate batch quantities to match the ordered quantity.`);return}if(pe!==X){Rt.error(`Item ${L+1}: Batch quantity mismatch (${pe}/${X}).`);return}}if(te==="serial"&&X>0){const ae=(W.product_serials||[]).filter(re=>re.selected!==!1);if(ae.length===0){Rt.error(`Item ${L+1}: Please assign serial numbers to match the ordered quantity.`);return}if(ae.length!==X){Rt.error(`Item ${L+1}: Serial count mismatch (${ae.length}/${X}).`);return}const pe=ae.map(re=>(re.serial_number||"").trim().toLowerCase());if(pe.some(re=>!re)){Rt.error(`Item ${L+1}: Serial number is required for all rows.`);return}const he=new Set;for(const re of pe){if(he.has(re)){Rt.error(`Item ${L+1}: Duplicate serial number "${re}".`);return}he.add(re)}}}const M={...F,order_date:new Date(F.order_date).toISOString(),parent_id:Number(F.parent_id),salesperson_id:Number(F.salesperson_id),currency_id:F.currency_id?Number(F.currency_id):void 0,delivery_date:new Date(F.delivery_date).toISOString(),notes:F.notes,shipping_address:F.shipping_address,order_items:r.filter(L=>typeof L.product_id=="number"&&L.product_id>0).map(L=>{const W=Number(L.unit_price)||0,X=Number(L.quantity)||0;return{tracking_type:L.tracking_type||null,product_id:Number(L.product_id),product_name:L.product_name||void 0,unit:L.unit||void 0,quantity:X,unit_price:W,notes:L.notes,product_batches:L.product_batches,product_serials:L.product_serials}})};n&&a?await P.mutateAsync({id:a.id,...M}):await C.mutateAsync(M),z()}catch(M){console.error("Error submitting order:",M)}}}),D=E.values.salesperson_id?Number(E.values.salesperson_id):0;g.useEffect(()=>{a&&t&&E.setValues({order_number:a.order_number||"",parent_id:a.parent_id||0,salesperson_id:a.salesperson_id||0,currency_id:a.currency_id||j,order_date:a.order_date||new Date().toISOString().split("T")[0],delivery_date:a.delivery_date||new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],status:a.status||"draft",priority:a.priority||"medium",order_type:a.order_type||"regular",payment_method:a.payment_method||"credit",payment_terms:a.payment_terms||"Net 30",subtotal:a.subtotal||0,shipping_amount:a.shipping_amount||0,total_amount:a.total_amount||0,notes:a.notes||"",shipping_address:a.shipping_address||"",approval_status:a.approval_status?.slice(0,1)?.toUpperCase()||"P",is_active:a.is_active||"Y",order_items:[]})},[a,t,j]);const{data:T}=n3(D,{enabled:!!D&&t}),R=g.useMemo(()=>{const F={};return T?.data&&(T.data.products||[]).forEach(W=>{const X=(W.batches||[]).map(se=>({batch_lot_id:se.batch_lot_id,batch_number:se.batch_number,total_quantity:se.total_quantity,lot_number:se.lot_number,remaining_quantity:se.remaining_quantity||0,manufacturing_date:se.manufacturing_date,expiry_date:se.expiry_date,batch_total_quantity:se.total_quantity,batch_remaining_quantity:se.remaining_quantity,supplier_name:se.supplier_name,quality_grade:se.quality_grade,days_until_expiry:se.days_until_expiry,is_expired:se.is_expired,is_expiring_soon:se.is_expiring_soon,quantity:null})),te=(W.serials||[]).map(se=>({id:se.serial_id,product_id:W.product_id,serial_number:se.serial_number,quantity:1}));F[W.product_id]={batches:X,serials:te}}),F},[T]),z=()=>{s(),i([]),E.resetForm(),c.current="",o.current=null,l.current=""},O=g.useMemo(()=>t&&a?.id?`order-${a.id}`:t?"new-order":"closed",[t,a?.id]);g.useEffect(()=>{if(!t){o.current!==null&&(o.current=null,l.current="",c.current="");return}const F=a?.id,M=b?.data?.id,L=F&&M&&b?.data;if(L&&o.current!==F&&b.data){const W=b.data.order_items?.map(te=>({product_id:te.product_id,product_name:te.product_name||null,unit:te.unit||null,tracking_type:te.tracking_type||null,quantity:te.quantity.toString(),unit_price:te.unit_price.toString(),notes:te.notes||"",product_batches:[],product_serials:[]}))||[],X=JSON.stringify(W);l.current!==X&&(o.current=F,l.current=X,i(W))}else!L&&o.current!==null&&!F&&(o.current=null,l.current="",c.current="",i([]))},[O,b?.data?.id,t]);const $=g.useMemo(()=>JSON.stringify(r),[r]);g.useEffect(()=>{if(!t)return;const F=JSON.stringify(E.values.order_items||[]);$!==F&&c.current!==$&&(E.setFieldValue("order_items",r,!1),c.current=$)},[t,$]);const A=()=>{if(!E.values.salesperson_id){Rt.error("Please select a Sales Person");return}const F={product_id:0,product_name:"",unit:"",tracking_type:null,quantity:"1",unit_price:"0",notes:"",product_batches:[],product_serials:[]},M=[...r,F];i(M),E.setFieldValue("order_items",M,!1),c.current=JSON.stringify(M)},Q=F=>{const M=r.filter((L,W)=>W!==F);i(M),E.setFieldValue("order_items",M,!1),c.current=JSON.stringify(M)},K=(F,M,L)=>{const W=[...r];W[F]={...W[F],[M]:L},i(W),E.setFieldValue("order_items",W,!1),c.current=JSON.stringify(W)},U=g.useCallback((F,M,L)=>{const W=[...r],X=L?.tracking_type||null,te=X?X.toString().toLowerCase():null,se=te==="batch"||te==="serial";W[F]={...W[F],product_id:L?L.product_id:0,product_name:L?L.name:"",tracking_type:X,unit_price:L?String(L.unit_price):"0",quantity:L&&se?"0":W[F].quantity||"1",product_batches:[],product_serials:[]},i(W),E.setFieldValue("order_items",W),c.current=JSON.stringify(W)},[r]),B=r.map((F,M)=>({...F,_index:M})),V=[{id:"product_id",label:"Product",render:(F,M)=>e.jsx(s9e,{salespersonId:D,value:M.product_id,onChange:(L,W)=>U(M._index,L,W),size:"small",placeholder:"Search for a product",label:"",disabled:!E.values.salesperson_id,className:"!min-w-72"})},{id:"tracking_type",label:"Tracking",render:(F,M)=>{const L=(M.tracking_type||"").toString().toLowerCase(),W=L==="batch"||L==="serial"?L:null;return e.jsxs(y,{className:"!flex !justify-between !items-center !min-w-52",children:[e.jsx(x,{variant:"body2",className:"!text-gray-700 !uppercase !text-xs",children:L||"none"}),W&&e.jsx(G,{type:"button",startIcon:e.jsx(X4,{}),variant:"text",size:"small",onClick:()=>{const X=M._index,te=r[X];if(!te||!te.product_id){Rt.error("Please select a product first");return}_(X),W==="batch"?u(!0):f(!0)},children:W==="batch"?"Select Batches":"Select Serials"})]})}},{id:"quantity",label:"Quantity",render:(F,M)=>{const L=(M.tracking_type||"").toString().toLowerCase(),W=!L||L==="none";return e.jsx(oe,{value:M.quantity,onChange:X=>K(M._index,"quantity",X.target.value),placeholder:"1",type:"number",size:"small",className:"!min-w-20",disabled:!W})}},{id:"unit_price",label:"Unit Price",render:(F,M)=>e.jsx(oe,{value:M.unit_price,onChange:L=>K(M._index,"unit_price",L.target.value),placeholder:"0.00",type:"number",size:"small",className:"!min-w-32"})},{id:"actions",label:"Actions",sortable:!1,render:(F,M)=>e.jsx(Vt,{onClick:()=>Q(M._index),tooltip:"Remove item",confirmDelete:!0,size:"medium",itemName:"order item"})}],H=(()=>{const F=r.reduce((W,X)=>{const te=Number(X.quantity)||0,se=Number(X.unit_price)||0;return W+te*se},0),M=0,L=F+M;return{subtotal:F,shipping_amount:M,total_amount:L}})();return e.jsxs(ot,{open:t,setOpen:z,title:n?"Edit Order":"Create Order",size:"large",children:[e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:E.handleSubmit,className:"!space-y-5",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-5",children:[e.jsx(io,{name:"parent_id",label:"Customer",formik:E,required:!0}),e.jsx(hr,{formik:E,required:!0}),e.jsx(oe,{name:"order_date",label:"Order Date",type:"date",formik:E,required:!0,slotProps:{inputLabel:{shrink:!0}}}),e.jsx(oe,{name:"delivery_date",label:"Delivery Date",type:"date",formik:E,slotProps:{inputLabel:{shrink:!0}}}),e.jsxs(_e,{name:"status",label:"Status",formik:E,required:!0,children:[e.jsx(Z,{value:"draft",children:"Draft"}),e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"confirmed",children:"Confirmed"}),e.jsx(Z,{value:"processing",children:"Processing"}),e.jsx(Z,{value:"shipped",children:"Shipped"}),e.jsx(Z,{value:"delivered",children:"Delivered"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]}),e.jsxs(_e,{name:"priority",label:"Priority",formik:E,required:!0,children:[e.jsx(Z,{value:"low",children:"Low"}),e.jsx(Z,{value:"medium",children:"Medium"}),e.jsx(Z,{value:"high",children:"High"}),e.jsx(Z,{value:"urgent",children:"Urgent"})]}),e.jsxs(_e,{name:"order_type",label:"Order Type",formik:E,required:!0,children:[e.jsx(Z,{value:"regular",children:"Regular"}),e.jsx(Z,{value:"urgent",children:"Urgent"}),e.jsx(Z,{value:"promotional",children:"Promotional"}),e.jsx(Z,{value:"sample",children:"Sample"})]}),e.jsxs(_e,{name:"payment_method",label:"Payment Method",formik:E,required:!0,children:[e.jsx(Z,{value:"cash",children:"Cash"}),e.jsx(Z,{value:"credit",children:"Credit"}),e.jsx(Z,{value:"cheque",children:"Cheque"}),e.jsx(Z,{value:"bank_transfer",children:"Bank Transfer"})]}),e.jsx(oe,{name:"payment_terms",label:"Payment Terms",placeholder:"e.g., Net 30, COD",formik:E}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"shipping_address",label:"Shipping Address",placeholder:"Enter shipping address",formik:E,multiline:!0,rows:3})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"notes",label:"Notes",placeholder:"Enter order notes",formik:E,multiline:!0,rows:3})})]}),e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !justify-between !items-center",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Order Items"}),e.jsx(G,{type:"button",variant:"outlined",startIcon:e.jsx(Qn,{}),onClick:A,size:"small",children:"Add Item"})]}),e.jsx(lt,{data:B,columns:V,getRowId:F=>F._index.toString(),pagination:!1,loading:w||C.isPending||P.isPending,sortable:!1,emptyMessage:'No items added yet. Click "Add Item" to get started.'}),r.length>0&&e.jsx(y,{className:"!bg-gray-50 !rounded-lg !mt-4",children:e.jsxs(y,{className:"!flex !justify-between",children:[e.jsx(x,{variant:"subtitle2",className:"!font-bold",children:"Total:"}),e.jsx(x,{variant:"subtitle2",className:"!font-bold",children:S(H.total_amount)})]})})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:z,disabled:C.isPending||P.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:C.isPending||P.isPending,children:C.isPending||P.isPending?n?"Updating...":"Creating...":n?"Update":"Create"})]})]})}),e.jsx(a9e,{isOpen:m,setIsOpen:u,selectedRowIndex:v,setSelectedRowIndex:_,orderItems:r,setOrderItems:i,inventoryByProductId:R}),e.jsx(n9e,{isOpen:h,setIsOpen:f,selectedRowIndex:v,setSelectedRowIndex:_,orderItems:r,setOrderItems:i,quantity:v!==null&&r[v]?r[v].quantity:null,inventoryByProductId:R})]})},i9e=()=>{const t=Gs(),{formatCurrency:s}=Qa(),[a,n]=g.useState(""),[r,i]=g.useState("all"),[o,l]=g.useState(null),[c,m]=g.useState(!1),[u,h]=g.useState(!1),[f,v]=g.useState(1),[_]=g.useState(10),{isCreate:S,isUpdate:j,isDelete:b,isRead:w}=Ze("order"),{data:C,isLoading:P,error:E}=g1({search:a,page:f,limit:_,status:r==="all"?void 0:r},{enabled:w}),D=C?.data||[],T=C?.meta?.total||0,R=(C?.meta?.page||1)-1,z=ADe(),O=ms(),$=C?.stats?.total_orders||0,A=C?.stats?.active_orders||0,Q=C?.stats?.orders_this_month||0,K=C?.stats?.inactive_orders||0,U=g.useCallback(()=>{l(null),m(!0)},[]),B=g.useCallback(ae=>{l(ae),m(!0)},[]),V=g.useCallback(async ae=>{try{await z.mutateAsync(ae)}catch(pe){console.error("Error deleting order:",pe)}},[z]),Y=g.useCallback(ae=>{n(ae),v(1)},[]),H=ae=>{v(ae+1)},F=g.useCallback(async()=>{try{const ae={search:a,status:r==="all"?void 0:r};await O.mutateAsync({tableName:"orders",filters:ae})}catch(ae){console.error("Error exporting orders:",ae)}},[O,a,r]),M=ae=>({draft:"info",pending:"warning",confirmed:"success",processing:"warning",shipped:"info",delivered:"success",cancelled:"error"})[ae]||"default",L=ae=>({low:"info",medium:"warning",high:"success",urgent:"error"})[ae]||"default",W=ae=>{const pe=ae?.slice(0,1)?.toUpperCase();return{P:"warning",A:"success",R:"error"}[pe]||"default"},X=ae=>{const pe=ae?.slice(0,1)?.toUpperCase();return{P:"Pending",R:"Pending",A:"Approved"}[pe]||"Pending"},te=ae=>{switch(ae){case"draft":return e.jsx(Wt,{className:"w-4 h-4"});case"pending":return e.jsx(Ts,{className:"w-4 h-4"});case"confirmed":return e.jsx(Oa,{className:"w-4 h-4"});case"processing":return e.jsx(Wt,{className:"w-4 h-4"});case"shipped":return e.jsx(Wr,{className:"w-4 h-4"});case"delivered":return e.jsx(Oa,{className:"w-4 h-4"});case"cancelled":return e.jsx(Na,{className:"w-4 h-4"});default:return e.jsx(Wt,{className:"w-4 h-4"})}},se=[{id:"order_number",label:"Order Info",render:(ae,pe)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:pe.order_number,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Cs,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !cursor-pointer !hover:!text-primary-600 !transition-colors",onClick:()=>t(`/transactions/orders/${pe.id}`),children:pe.order_number}),e.jsxs(x,{variant:"caption",className:"!text-gray-500 !capitalize !text-xs !block !mt-0.5",children:[pe.order_type||"regular"," order "," ",pe.order_items?.length||0," items"]})]})]})},{id:"customer.name",label:"Customer",render:(ae,pe)=>e.jsxs(y,{className:"flex items-center !gap-2",children:[e.jsx(ht,{alt:pe.customer?.name,src:pe.customer?.profile_image||"mkx",className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:pe.customer?.name||"N/A"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:pe.customer?.code||"N/A"})]})]})},{id:"salesperson.name",label:"Sales Person",render:(ae,pe)=>e.jsxs(y,{className:"flex items-center !gap-2",children:[e.jsx(ht,{alt:pe.salesperson?.name,src:pe.salesperson?.profile_image||"mkx",className:"!rounded !bg-primary-100 !text-primary-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900 !leading-tight",children:pe.salesperson?.name||"N/A"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:pe.salesperson?.email||"N/A"})]})]})},{id:"status",label:"Status & Priority",render:(ae,pe)=>e.jsxs(y,{className:"flex !gap-2 items-center",children:[e.jsx(De,{icon:te(pe.status||"draft"),label:pe.status||"draft",size:"small",variant:"outlined",className:"!text-xs !capitalize !pl-1 !justify-start",color:M(pe.status||"draft")}),e.jsx(De,{label:(pe.priority||"medium").toUpperCase(),size:"small",variant:"outlined",className:"!text-xs !capitalize",color:L(pe.priority||"medium")})]})},{id:"order_date",label:"Dates",render:(ae,pe)=>e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center text-sm text-gray-900",children:[e.jsx(_s,{className:"w-4 h-4 text-gray-400 mr-1"}),"Order: ",pe.order_date?Oe(pe.order_date):"N/A"]}),pe.delivery_date&&e.jsxs(y,{className:"flex items-center text-sm text-gray-500 mt-1",children:[e.jsx(Wr,{className:"w-4 h-4 text-gray-400 mr-1"}),"Delivery: ",Oe(pe.delivery_date)]})]})},{id:"total_amount",label:"Amount",render:(ae,pe)=>e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:s(pe.total_amount||0)}),e.jsxs(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:["Subtotal: ",s(pe.subtotal||0)]})]})},{id:"approval",label:"Approval",render:(ae,pe)=>e.jsx(y,{children:e.jsx(De,{label:X(pe.approval_status),variant:"outlined",size:"small",icon:pe.approval_status?.slice(0,1)?.toUpperCase()==="A"?e.jsx(Oa,{className:"w-4 h-4"}):pe.approval_status?.slice(0,1)?.toUpperCase()==="R"?e.jsx(Na,{className:"w-4 h-4"}):pe.approval_status?.slice(0,1)?.toUpperCase()==="P"?e.jsx(Ts,{className:"w-4 h-4"}):e.jsx(Ts,{className:"w-4 h-4"}),className:"!capitalize !pl-0.5",color:W(pe.approval_status||"P")})})},...j||b?[{id:"action",label:"Actions",sortable:!1,render:(ae,pe)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[j&&e.jsx(is,{onClick:()=>B(pe),tooltip:`Edit ${pe.order_number}`}),b&&e.jsx(Vt,{onClick:()=>V(pe.id),tooltip:`Delete ${pe.order_number}`,itemName:pe.order_number,confirmDelete:!0})]})}]:[]];return E?e.jsxs(ct,{severity:"error",className:"mb-4",children:["Error loading orders: ",E.message]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Order Entry"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage customer orders, track status, and process deliveries"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Orders",value:$,icon:e.jsx(fu,{className:"w-6 h-6"}),color:"blue",isLoading:P}),e.jsx(fe,{title:"Active Orders",value:A,icon:e.jsx(fu,{className:"w-6 h-6"}),color:"green",isLoading:P}),e.jsx(fe,{title:"Inactive Orders",value:K,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:P}),e.jsx(fe,{title:"Orders This Month",value:Q,icon:e.jsx(_s,{className:"w-6 h-6"}),color:"purple",isLoading:P})]}),E&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load orders. Please try again."}),e.jsx(lt,{data:D,columns:se,actions:w||S?e.jsxs("div",{className:"flex justify-between gap-3 items-center flex-wrap",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-3",children:w&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Orders...",value:a,onChange:Y,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:r,onChange:ae=>i(ae.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"draft",children:"Draft"}),e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"confirmed",children:"Confirmed"}),e.jsx(Z,{value:"processing",children:"Processing"}),e.jsx(Z,{value:"shipped",children:"Shipped"}),e.jsx(Z,{value:"delivered",children:"Delivered"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]})]})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[w&&e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Jt,{title:"Export Orders",description:"Are you sure you want to export the current orders data to Excel? This will include all filtered results.",onConfirm:F,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:O.isPending,children:O.isPending?"Exporting...":"Export"})}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>h(!0),children:"Import"})]}),S&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:U,children:"Create"})]})]}):!1,getRowId:ae=>ae.id,initialOrderBy:"order_number",loading:P,totalCount:T,page:R,rowsPerPage:_,isPermission:w,onPageChange:H,emptyMessage:a?`No orders found matching "${a}"`:"No orders found in the system"}),e.jsx(r9e,{open:c,onClose:()=>m(!1),order:o}),e.jsx(J7e,{drawerOpen:u,setDrawerOpen:h})]})},o9e=()=>{const{id:t}=Jn(),s=Gs(),a=t?parseInt(t,10):0,{data:n,isLoading:r,error:i}=oL(a),o=n?.data,l=w=>({draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",processing:"bg-purple-100 text-purple-800",shipped:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[w]||"bg-gray-100 text-gray-800",c=w=>({draft:"Draft",pending:"Pending",confirmed:"Confirmed",processing:"Processing",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled"})[w]||w,m=w=>{switch(w){case"draft":return e.jsx(Wt,{className:"w-4 h-4"});case"pending":return e.jsx(Ts,{className:"w-4 h-4"});case"confirmed":return e.jsx(Oa,{className:"w-4 h-4"});case"processing":return e.jsx(Wt,{className:"w-4 h-4"});case"shipped":return e.jsx(Wr,{className:"w-4 h-4"});case"delivered":return e.jsx(Oa,{className:"w-4 h-4"});case"cancelled":return e.jsx(Na,{className:"w-4 h-4"});default:return e.jsx(Wt,{className:"w-4 h-4"})}},u=w=>({low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"})[w]||"bg-gray-100 text-gray-800",h=w=>{const C=w?.slice(0,1)?.toUpperCase();return{P:"bg-yellow-100 text-yellow-800",A:"bg-green-100 text-green-800",R:"bg-red-100 text-red-800"}[C]||"bg-gray-100 text-gray-800"},f=w=>{const C=w?.slice(0,1)?.toUpperCase();return{P:"Pending",A:"Approved",R:"Rejected"}[C]||w||"N/A"},v=w=>{const C=w?.slice(0,1)?.toUpperCase();return C==="A"?e.jsx(Oa,{className:"w-4 h-4"}):C==="R"?e.jsx(Na,{className:"w-4 h-4"}):e.jsx(Ts,{className:"w-4 h-4"})},_=(w,C="USD")=>w==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:C}).format(w),S=()=>{s("/transactions/orders")};if(r)return e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx(J,{variant:"circular",width:96,height:96,className:"!mx-auto !mb-4"}),e.jsx(J,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-2"}),e.jsx(J,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsxs("div",{className:"!flex !justify-center !gap-2 !mb-4",children:[e.jsx(J,{variant:"rectangular",width:80,height:24}),e.jsx(J,{variant:"rectangular",width:80,height:24}),e.jsx(J,{variant:"rectangular",width:80,height:24})]}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsx(J,{variant:"rectangular",width:"100%",height:60,className:"!mb-2"}),e.jsx(J,{variant:"rectangular",width:"100%",height:60})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(J,{variant:"text",width:"40%",height:24,className:"!mb-4"}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4,5].map(w=>e.jsxs("div",{className:"!space-y-2",children:[e.jsx(J,{variant:"text",width:"60%",height:12}),e.jsx(J,{variant:"text",width:"80%",height:16})]},w))})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(J,{variant:"text",width:"40%",height:24,className:"!mb-4"}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3].map(w=>e.jsxs("div",{className:"!space-y-2",children:[e.jsx(J,{variant:"text",width:"60%",height:12}),e.jsx(J,{variant:"text",width:"80%",height:16})]},w))})]})]}),e.jsxs("div",{className:"!flex-4 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(J,{variant:"text",width:"30%",height:24,className:"!mb-4"}),e.jsx("div",{className:"!space-y-2",children:[1,2,3].map(w=>e.jsx(J,{variant:"rectangular",width:"100%",height:80},w))})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(J,{variant:"text",width:"40%",height:24,className:"!mb-4"}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4,5].map(w=>e.jsxs("div",{className:"!space-y-2",children:[e.jsx(J,{variant:"text",width:"60%",height:12}),e.jsx(J,{variant:"text",width:"80%",height:16})]},w))})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(J,{variant:"text",width:"30%",height:24,className:"!mb-4"}),e.jsx(J,{variant:"rectangular",width:"100%",height:100})]})]})]});if(i||!o)return e.jsxs("div",{className:"!p-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(la,{className:"w-5 h-5"}),e.jsx(x,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load order details"})]}),e.jsx(x,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:S,className:"mt-4",children:"Back to Orders"})]});const j=o?.currency?.code||"USD",b=({title:w,children:C,icon:P})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[P&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(P,{className:"!text-primary-500"})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:w})]}),C]})]});return e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ht,{className:ln("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-green-400 !to-green-600 !text-white":o.status==="delivered","!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":o.status==="confirmed"||o.status==="processing","!bg-gradient-to-br !from-indigo-400 !to-indigo-600 !text-white":o.status==="shipped","!bg-gradient-to-br !from-red-400 !to-red-600 !text-white":o.status==="cancelled","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":o.status==="draft"||o.status==="pending"}),children:e.jsx(fu,{className:"!w-8 !h-8"})})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:o.order_number}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mb-3",children:o.customer?.name||"Unknown Customer"}),e.jsxs("div",{className:"!flex !justify-center !gap-2 !mb-4",children:[e.jsx(De,{icon:m(o.status||"draft"),label:c(o.status||"draft"),className:`${l(o.status||"draft")} font-semibold`,size:"small"}),e.jsx(De,{label:(o.priority||"medium").toUpperCase(),className:`${u(o.priority||"medium")} font-semibold`,size:"small"}),e.jsx(De,{icon:v(o.approval_status||"P"),label:f(o.approval_status||"P"),className:`${h(o.approval_status||"P")} font-semibold`,size:"small"})]}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Total Amount"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:_(o.total_amount,j)})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Items Count"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:[o.order_items?.length||0," items"]})]})]})]}),e.jsx(b,{title:"Order Information",icon:Hr,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Order Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(o.order_date)})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Delivery Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(o.delivery_date)})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Order Type"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:o.order_type||"regular"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Payment Method"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:o.payment_method?.replaceAll("_"," ")||"N/A"})]}),e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Payment Terms"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.payment_terms||"N/A"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Approval Status"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:f(o.approval_status||"P")})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Approved At"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.approved_at?Oe(o.approved_at):"N/A"})]})]})}),e.jsx(b,{title:"Customer Information",icon:Wt,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Name"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.customer?.name||"N/A"})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Code"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o.customer?.code||"N/A"})]}),e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Type"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:o.customer?.type||"N/A"})]})]})})]}),e.jsxs("div",{className:"!flex-4 flex flex-col gap-4",children:[e.jsx(b,{title:"Order Items",icon:Wt,children:e.jsx("div",{className:"!space-y-2",children:o.order_items&&o.order_items.length>0?o.order_items.map((w,C)=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !justify-between !items-start !mb-1",children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:w.product_name||`Product #${w.product_id}`}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:_(w.total_amount,j)})]}),e.jsx("div",{className:"!flex !justify-between !text-xs !text-gray-500",children:e.jsxs("span",{children:["Qty: ",w.quantity," "," ",_(w.unit_price,j),w.unit&&` (${w.unit})`]})}),Array.isArray(w.product_batches)&&w.product_batches.length>0&&e.jsxs("div",{className:"!mt-2 !text-xs !text-gray-600",children:[e.jsx("span",{className:"!font-semibold",children:"Batches:"})," ",w.product_batches.filter(P=>Number(P?.quantity||0)>0).map((P,E)=>`${P?.batch_number||P?.lot_number||`Batch ${E+1}`} (${P?.quantity})`).join(", ")||"N/A"]}),Array.isArray(w.product_serials)&&w.product_serials.length>0&&e.jsxs("div",{className:"!mt-1 !text-xs !text-gray-600",children:[e.jsx("span",{className:"!font-semibold",children:"Serials:"})," ",w.product_serials.filter(P=>P?.selected!==!1).map(P=>P?.serial_number).filter(Boolean).join(", ")||"N/A"]}),w.notes&&e.jsx(x,{variant:"caption",className:"!text-gray-600 !block !mt-1",children:w.notes})]},w.id||C)):e.jsx(x,{variant:"body2",className:"!text-gray-500 !text-center !py-4",children:"No items found"})})}),e.jsx(b,{title:"Amount Breakdown",icon:Cn,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Subtotal"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:_(o.subtotal,j)})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Discount"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-green-600",children:["-",_(o.discount_amount,j)]})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Tax"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:_(o.tax_amount,j)})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Shipping"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:_(o.shipping_amount,j)})]}),e.jsx("div",{className:"!space-y-0.5 md:!col-span-2",children:e.jsxs("div",{className:"!border-t !border-gray-300 !pt-2 !mt-2",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Total"}),e.jsx(x,{variant:"subtitle2",className:"!font-bold",children:_(o.total_amount,j)})]})})]})}),o.notes&&e.jsx(b,{title:"Notes",icon:Cs,children:e.jsx(x,{variant:"body2",className:"!text-gray-700",children:o.notes})}),o.shipping_address&&e.jsx(b,{title:"Shipping Address",icon:Hr,children:e.jsx(x,{variant:"body2",className:"!text-gray-700",children:o.shipping_address})})]})]})},l9e=it({file:hs().required("Please select a file to import")}),c9e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:l9e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("payments")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"payments",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Payments",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple payments. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing payments..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},d9e=it({customer_id:me().required("Customer is required").test("is-number","Customer must be selected",t=>t?!isNaN(Number(t))&&Number(t)>0:!1),payment_date:me().required("Payment date is required").test("is-valid-date","Please enter a valid date",t=>{if(!t)return!1;const s=new Date(t);return!isNaN(s.getTime())}),collected_by:me().required("Collected by is required").test("is-number","Collector must be selected",t=>t?!isNaN(Number(t))&&Number(t)>0:!1),method:me().required("Payment method is required").oneOf(["cash","credit","debit","cheque","bank_transfer","online"],"Please select a valid payment method"),total_amount:Qe().required("Total amount is required").min(.01,"Amount must be greater than 0").test("is-positive","Amount must be a positive number",t=>t!==void 0&&t>0),notes:me().optional().max(500,"Notes must not exceed 500 characters"),currency_id:me().optional().test("is-number","Currency must be valid",t=>t?!isNaN(Number(t))&&Number(t)>0:!0),is_active:me().required("Active status is required").oneOf(["Y","N"],"Please select a valid status"),payment_lines:dl().optional().of(it({invoice_id:Qe().required("Invoice ID is required").min(1,"Invoice ID must be valid"),amount_applied:Qe().required("Amount applied is required").min(.01,"Amount applied must be greater than 0"),notes:me().optional().max(500,"Payment line notes must not exceed 500 characters")}))}),u9e=({selectedPayment:t,setSelectedPayment:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=()=>{s(null),n(!1),v.resetForm()},o=M7e(),l=D7e(),{data:c}=er({limit:1e3}),{data:m}=Mu(),h=m?.data?.currency_id||"",f=c?.data||[],v=ft({initialValues:{customer_id:t?.customer_id?.toString()||"",payment_date:t?.payment_date?t.payment_date.split("T")[0]:on().format("YYYY-MM-DD"),collected_by:t?.collected_by?.toString()||"",method:t?.method||"cash",total_amount:t?.total_amount?.toString()||"",notes:t?.notes||"",currency_id:h||"",is_active:t?.is_active||"Y"},validationSchema:d9e,enableReinitialize:!0,onSubmit:async _=>{try{const S={customer_id:Number(_.customer_id),payment_date:_.payment_date||"",collected_by:Number(_.collected_by),method:_.method||"cash",total_amount:Number(_.total_amount),notes:_.notes,currency_id:Number(_.currency_id),is_active:_.is_active};r&&t?await l.mutateAsync({id:t.id,...S}):await o.mutateAsync(S),i()}catch(S){console.error("Error saving payment:",S)}}});return e.jsx(ot,{open:a,setOpen:i,title:r?"Edit Payment":"Create Payment",size:"large",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:v.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(io,{name:"customer_id",label:"Customer",formik:v,required:!0}),e.jsx(oe,{name:"payment_date",label:"Payment Date",type:"date",formik:v,required:!0}),e.jsx(_e,{name:"collected_by",label:"Collected By",formik:v,required:!0,children:f.map(_=>e.jsxs(Z,{value:_.id.toString(),children:[_.name," (",_.email,")"]},_.id))}),e.jsxs(_e,{name:"method",label:"Payment Method",formik:v,required:!0,children:[e.jsx(Z,{value:"cash",children:"Cash"}),e.jsx(Z,{value:"credit",children:"Credit Card"}),e.jsx(Z,{value:"debit",children:"Debit Card"}),e.jsx(Z,{value:"cheque",children:"Cheque"}),e.jsx(Z,{value:"bank_transfer",children:"Bank Transfer"}),e.jsx(Z,{value:"online",children:"Online Payment"})]}),e.jsx(oe,{name:"total_amount",label:"Total Amount",type:"number",placeholder:"Enter amount",formik:v,required:!0}),e.jsx(Ps,{name:"is_active",formik:v,required:!0,className:"col-span-2"}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"notes",label:"Notes",placeholder:"Enter notes",formik:v,multiline:!0,rows:3})})]}),e.jsxs(y,{className:"!flex !justify-end",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:i,className:"!mr-3",disabled:o.isPending||l.isPending,children:"Cancel"}),e.jsxs(G,{type:"submit",variant:"contained",disabled:o.isPending||l.isPending,children:[o.isPending||l.isPending?r?"Updating...":"Creating...":r?"Update":"Create"," "]})]})]})})})},m9e=()=>{const t=Gs(),[s,a]=g.useState(""),[n,r]=g.useState("all"),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,u]=g.useState(!1),[h,f]=g.useState(1),[v]=g.useState(10),{isCreate:_,isUpdate:S,isDelete:j,isRead:b}=Ze("payment"),{data:w,isFetching:C,error:P}=lL({search:s,page:h,limit:v,is_active:n==="all"?void 0:n==="active"?"Y":"N"},{enabled:b}),E=w?.data||[],D=w?.pagination?.total_count||0,T=(w?.pagination?.current_page||1)-1,R=R7e(),z=ms(),O=w?.stats?.total_payments??0,$=w?.stats?.total_amount??0,A={total_payments:O,total_amount:Number($||0),payments_this_month:w?.stats?.payments_this_month??0,amount_this_month:Number(w?.stats?.amount_this_month||0),pending_collections:w?.stats?.pending_collections??0,overdue_amount:Number(w?.stats?.overdue_amount||0)},Q=g.useCallback(()=>{o(null),c(!0)},[]),K=g.useCallback(M=>{o(M),c(!0)},[]),U=g.useCallback(M=>{t(`/transactions/payments/${M.id}`)},[t]),B=g.useCallback(async M=>{try{await R.mutateAsync(M)}catch(L){console.error("Error deleting payment:",L)}},[R]),V=g.useCallback(M=>{a(M),f(1)},[]),Y=M=>{f(M+1)},H=g.useCallback(async()=>{try{const M={search:s,isActive:n==="all"?void 0:n==="active"?"Y":"N"};await z.mutateAsync({tableName:"payments",filters:M})}catch(M){console.error("Error exporting payments:",M)}},[z,s,n]),F=[{id:"payment_number",label:"Payment Number",render:(M,L)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:L.payment_number,className:"!rounded !bg-primary-100 !text-primary-500",children:e.jsx(Cn,{className:"w-5 h-5"})}),e.jsxs(y,{className:"!max-w-xs",children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:L.payment_number}),L.customer?.name&&e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",title:L.customer.name,sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",maxWidth:"300px",cursor:"help"},children:L.customer.name})]})]})},{id:"payment_date",label:"Payment Date",render:(M,L)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:L.payment_date?Oe(L.payment_date):e.jsx("span",{className:"italic text-gray-400",children:"No Date"})})},{id:"method",label:"Payment Method",render:(M,L)=>e.jsx(x,{variant:"body2",className:"!text-gray-900 !capitalize",children:L.method?.replaceAll("_"," ")||e.jsx("span",{className:"italic text-gray-400",children:"No Method"})})},{id:"reference_number",label:"Reference",render:(M,L)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:L.reference_number||e.jsx("span",{className:"italic text-gray-400",children:"No Reference"})})},{id:"collected_by_user",label:"Collected By",render:(M,L)=>e.jsxs(y,{className:"!flex !items-center !gap-2",children:[e.jsx(ht,{alt:L.collected_by_user?.name,className:"!w-10 !h-10 !rounded !bg-green-100 !text-green-600",children:L.collected_by_user?.name?.[0]||"?"}),e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:L.collected_by_user?.name||"Unknown"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs",children:L.collected_by_user?.email||"N/A"})]})]})},{id:"total_amount",label:"Amount",render:(M,L)=>e.jsx(x,{variant:"body2",className:"!text-gray-900",children:L.total_amount?`${L.currency?.code||""} ${L.total_amount.toFixed(2)}`:e.jsx("span",{className:"italic text-gray-400",children:"No Amount"})})},{id:"notes",label:"Notes",render:(M,L)=>e.jsx(x,{variant:"body2",className:"!text-gray-900 !max-w-xs",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:L.notes||e.jsx("span",{className:"italic text-gray-400",children:"No Notes"})})},{id:"is_active",label:"Status",render:M=>e.jsx(De,{icon:M==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:M==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:M==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(M,L)=>Oe(L.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...b||S||j?[{id:"action",label:"Actions",sortable:!1,render:(M,L)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[b&&e.jsx(Ka,{onClick:()=>U(L),tooltip:`View ${L.payment_number}`,icon:e.jsx(Cr,{}),color:"success"}),S&&e.jsx(is,{onClick:()=>K(L),tooltip:`Edit ${L.payment_number}`}),j&&e.jsx(Vt,{onClick:()=>B(L.id),tooltip:`Delete ${L.payment_number}`,itemName:L.payment_number,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Payment Collection Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage payment collections, track transactions, and monitor financial records"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Payments",value:A.total_payments,icon:e.jsx(Cn,{className:"w-6 h-6"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Total Amount",value:A.total_amount.toFixed(2),icon:e.jsx(Cn,{className:"w-6 h-6"}),color:"emerald",isLoading:C}),e.jsx(fe,{title:"Payments This Month",value:A.payments_this_month,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Pending Collections",value:A.pending_collections,icon:e.jsx(St,{className:"w-6 h-6"}),color:"orange",isLoading:C})]}),P&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load payments. Please try again."}),e.jsx(lt,{data:E,columns:F,actions:b||_?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:b&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Payments...",value:s,onChange:V,debounceMs:400,showClear:!0,className:"lg:!min-w-80"}),e.jsxs(_e,{value:n,onChange:M=>r(M.target.value),className:"!w-32",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),b&&e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx(Jt,{title:"Export Payments",description:"Are you sure you want to export the current payments data to Excel? This will include all filtered results.",onConfirm:H,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:z.isPending,children:z.isPending?"Exporting...":"Export"})}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>u(!0),children:"Import"}),_&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Q,children:"Create"})]})]}):!1,getRowId:M=>M.id,initialOrderBy:"payment_number",loading:C,totalCount:D,page:T,rowsPerPage:v,isPermission:b,onPageChange:Y,emptyMessage:s?`No payments found matching "${s}"`:"No payments found in the system"}),e.jsx(u9e,{selectedPayment:i,setSelectedPayment:o,drawerOpen:l,setDrawerOpen:c}),e.jsx(c9e,{drawerOpen:m,setDrawerOpen:u})]})},p9e=it({invoice_id:me().required("Invoice ID is required"),amount_applied:Qe().required("Amount applied is required").min(.01,"Amount must be greater than 0"),notes:me().optional()}),h9e=({paymentId:t,drawerOpen:s,setDrawerOpen:a})=>{const{formatCurrency:n}=Qa(),[r,i]=g.useState(null),{data:o,isLoading:l}=A7e(t),c=o?.data||[],m=I7e(),u=O7e(),h=()=>{i(null),f.resetForm(),a(!1)},f=ft({initialValues:{invoice_id:r?.invoice_id?.toString()||"",amount_applied:r?.amount_applied?.toString()||"",notes:r?.notes||""},validationSchema:p9e,enableReinitialize:!0,onSubmit:async j=>{try{await m.mutateAsync({paymentId:t,invoice_id:Number(j.invoice_id),amount_applied:Number(j.amount_applied),notes:j.notes}),h()}catch(b){console.error("Error creating payment line:",b)}}}),v=async j=>{try{await u.mutateAsync({paymentId:t,lineId:j})}catch(b){console.error("Error deleting payment line:",b)}},_=c.reduce((j,b)=>j+Number(b.amount_applied||"0"),0),S=({title:j,children:b,icon:w})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-4 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-12 !h-12 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-6 !translate-x-6"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-3",children:[w&&e.jsx("div",{className:"!p-1 !w-8 !h-8 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(w,{className:"!text-primary-500 !w-4 !h-4"})}),e.jsx(x,{variant:"body1",className:"!font-semibold !text-gray-900 !text-sm",children:j})]}),b]})]});return e.jsx(ot,{open:s,setOpen:h,title:"Payment Lines Management",size:"large",children:e.jsxs("div",{className:"!p-4 !space-y-4",children:[e.jsx(S,{title:"Payment Lines Summary",icon:Xn,children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx("div",{className:"!p-1.5 !bg-green-100 !rounded-lg",children:e.jsx(Cn,{className:"!text-green-600 !w-4 !h-4"})}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !text-sm",children:"Total Allocated"}),e.jsx(x,{variant:"caption",className:"!text-gray-600 !text-xs",children:n(Number(_||0))})]})]}),e.jsx(De,{label:`${c.length} lines`,color:"primary",size:"small"})]})}),e.jsx(S,{title:r?"Edit Payment Line":"Add New Payment Line",icon:Qn,children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-3",children:[e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-3 !gap-3",children:[e.jsx(oe,{name:"invoice_id",label:"Invoice ID",placeholder:"Enter invoice ID",formik:f,required:!0,type:"number"}),e.jsx(oe,{name:"amount_applied",label:"Amount Applied",placeholder:"Enter amount",formik:f,required:!0,type:"number"}),e.jsx(oe,{name:"notes",label:"Notes",placeholder:"Optional notes",formik:f})]}),e.jsxs("div",{className:"!flex !justify-end !gap-2 !mt-3",children:[e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:h,disabled:m.isPending||u.isPending,startIcon:e.jsx(Fr,{className:"!w-3 !h-3"}),className:"!text-xs !px-3 !py-1",children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",size:"small",disabled:m.isPending||u.isPending,loading:m.isPending,startIcon:e.jsx(Oa,{className:"!w-3 !h-3"}),className:"!text-xs !px-3 !py-1",children:r?"Update Line":"Add Line"})]})]})}),e.jsx(S,{title:`Payment Lines (${c.length})`,icon:Xn,children:l?e.jsx("div",{className:"!space-y-2",children:[1,2,3].map(j=>e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"60%",height:14,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"40%",height:12})]},j))}):c.length===0?e.jsxs("div",{className:"!text-center !py-6",children:[e.jsx(Xn,{className:"!text-gray-400 !text-3xl !mx-auto !mb-2"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs",children:"No payment lines found. Add one above to allocate payment to invoices."})]}):e.jsx("div",{className:"!space-y-2",children:c.map(j=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-lg !border !border-gray-200 !relative",children:[e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !flex-col !gap-1",children:[e.jsxs(x,{variant:"caption",className:"!font-semibold !text-gray-900 !text-xs",children:["Invoice #",j.invoice_number||j.invoice_id]}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs",children:Oe(j.invoice_date)})]}),e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(x,{variant:"caption",className:"!font-semibold !text-green-600 !text-xs",children:n(Number(j.amount_applied||"0"))}),e.jsxs("div",{className:"!flex !items-center !gap-1",children:[e.jsx(G,{variant:"outlined",size:"small",onClick:()=>i(j),className:"!min-w-0 !p-1 !h-6",title:"Edit line",children:e.jsx(vA,{className:"!w-3 !h-3"})}),e.jsx(G,{variant:"outlined",size:"small",onClick:()=>v(j.id),disabled:u.isPending,className:"!min-w-0 !p-1 !h-6 !text-red-500 !border-red-200 hover:!bg-red-50",title:"Delete line",children:e.jsx(kb,{className:"!w-3 !h-3"})})]})]})]}),j.notes&&e.jsx(x,{variant:"caption",className:"!text-gray-600 !block !mt-1 !text-xs",children:j.notes})]},j.id))})}),(m.error||u.error)&&e.jsx("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-3 text-white relative overflow-hidden shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(la,{className:"w-4 h-4"}),e.jsx(x,{variant:"caption",className:"!text-white !text-xs",children:m.error?.message||u.error?.message||"An error occurred while managing payment lines"})]})})]})})},f9e=it({refund_date:me().required("Refund date is required"),amount:Qe().required("Refund amount is required").min(.01,"Amount must be greater than 0"),reason:me().required("Refund reason is required"),reference_number:me().optional(),method:me().optional(),status:me().required("Status is required"),notes:me().optional()}),x9e=({paymentId:t,drawerOpen:s,setDrawerOpen:a})=>{const[n,r]=g.useState(null),{data:i,isLoading:o}=F7e(t),l=i?.data||[],c=L7e(),m=z7e(),u=$7e(),{formatCurrency:h}=Qa(),f=()=>{r(null),v.resetForm(),a(!1)},v=ft({initialValues:{refund_date:n?.refund_date?.split("T")[0]||new Date().toISOString().split("T")[0],amount:n?.amount?.toString()||"",reason:n?.reason||"",reference_number:n?.reference_number||"",method:n?.method||"cash",status:n?.status||"initiated",notes:n?.notes||""},validationSchema:f9e,enableReinitialize:!0,onSubmit:async C=>{try{n?await m.mutateAsync({paymentId:t,refundId:n.id,refund_date:C.refund_date,amount:Number(C.amount),reason:C.reason,reference_number:C.reference_number,method:C.method,status:C.status,notes:C.notes,updatedby:1}):await c.mutateAsync({paymentId:t,refund_date:C.refund_date,amount:Number(C.amount),reason:C.reason,reference_number:C.reference_number,method:C.method,status:C.status,notes:C.notes,createdby:1,log_inst:1}),f()}catch(P){console.error("Error managing payment refund:",P)}}}),_=async C=>{try{await u.mutateAsync({paymentId:t,refundId:C})}catch(P){console.error("Error deleting payment refund:",P)}},S=C=>({completed:"bg-green-100 text-green-800",initiated:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",failed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[C]||"bg-gray-100 text-gray-800",j=C=>({completed:"Completed",initiated:"Initiated",processing:"Processing",failed:"Failed",cancelled:"Cancelled"})[C]||C,b=l.reduce((C,P)=>C+(P.amount||0),0),w=({title:C,children:P,icon:E})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-4 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-12 !h-12 !bg-gradient-to-br !from-blue-100 !to-purple-100 !rounded-full !-translate-y-6 !translate-x-6"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-3",children:[E&&e.jsx("div",{className:"!p-1 !w-8 !h-8 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(E,{className:"!text-primary-500 !w-4 !h-4"})}),e.jsx(x,{variant:"body1",className:"!font-semibold !text-gray-900 !text-sm",children:C})]}),P]})]});return e.jsx(ot,{open:s,setOpen:f,title:"Payment Refunds Management",size:"large",children:e.jsxs("div",{className:"!p-4 !space-y-4",children:[e.jsx(w,{title:"Payment Refunds Summary",icon:Gl,children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx("div",{className:"!p-1.5 !bg-red-100 !rounded-lg",children:e.jsx(Cn,{className:"!text-red-600 !w-4 !h-4"})}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !text-sm",children:"Total Refunded"}),e.jsx(x,{variant:"caption",className:"!text-gray-600 !text-xs",children:h(Number(b||"0"))})]})]}),e.jsx(De,{label:`${l.length} refunds`,color:"primary",size:"small"})]})}),e.jsx(w,{title:n?"Edit Payment Refund":"Add New Payment Refund",icon:Qn,children:e.jsxs("form",{onSubmit:v.handleSubmit,className:"!space-y-4",children:[e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsx(oe,{name:"refund_date",label:"Refund Date",type:"date",formik:v,required:!0}),e.jsx(oe,{name:"amount",label:"Refund Amount",placeholder:"Enter amount",formik:v,required:!0,type:"number"}),e.jsx(oe,{name:"reason",label:"Refund Reason",placeholder:"Enter reason for refund",formik:v,required:!0}),e.jsx(oe,{name:"reference_number",label:"Reference Number",placeholder:"Optional reference number",formik:v}),e.jsxs(_e,{name:"method",label:"Refund Method",formik:v,children:[e.jsx(Z,{value:"cash",children:"Cash"}),e.jsx(Z,{value:"credit",children:"Credit Card"}),e.jsx(Z,{value:"debit",children:"Debit Card"}),e.jsx(Z,{value:"check",children:"Check"}),e.jsx(Z,{value:"bank_transfer",children:"Bank Transfer"}),e.jsx(Z,{value:"online",children:"Online Payment"})]}),e.jsxs(_e,{name:"status",label:"Refund Status",formik:v,required:!0,children:[e.jsx(Z,{value:"initiated",children:"Initiated"}),e.jsx(Z,{value:"processing",children:"Processing"}),e.jsx(Z,{value:"completed",children:"Completed"}),e.jsx(Z,{value:"failed",children:"Failed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]})]}),e.jsx(oe,{name:"notes",label:"Notes",placeholder:"Additional notes",formik:v,multiline:!0,rows:3}),e.jsxs("div",{className:"!flex !justify-end !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:f,disabled:c.isPending||m.isPending||u.isPending,startIcon:e.jsx(Fr,{}),children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",disabled:c.isPending||m.isPending||u.isPending,loading:c.isPending||m.isPending,startIcon:e.jsx(Oa,{}),children:n?"Update Refund":"Add Refund"})]})]})}),e.jsx(w,{title:`Payment Refunds (${l.length})`,icon:Gl,children:o?e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(C=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"60%",height:16,className:"!mb-2"}),e.jsx(J,{variant:"text",width:"40%",height:14})]},C))}):l.length===0?e.jsxs("div",{className:"!text-center !py-8",children:[e.jsx(Gl,{className:"!text-gray-400 !text-4xl !mx-auto !mb-2"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"No payment refunds found. Add one above to process a refund."})]}):e.jsx("div",{className:"!space-y-3",children:l.map(C=>e.jsxs("div",{className:"!p-4 !bg-gray-50 !rounded-lg !border !border-gray-200 !relative",children:[e.jsxs("div",{className:"!flex !items-center !justify-between !mb-2",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:C.reason}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:Oe(C.refund_date)})]}),e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-red-600",children:h(Number(C.amount||"0"))}),e.jsxs("div",{className:"!flex !items-center !gap-1",children:[e.jsx(G,{variant:"outlined",size:"small",onClick:()=>r(C),className:"!min-w-0 !p-1",title:"Edit refund",children:e.jsx(vA,{className:"!w-4 !h-4"})}),e.jsx(G,{variant:"outlined",size:"small",onClick:()=>_(C.id),disabled:u.isPending,className:"!min-w-0 !p-1 !text-red-500 !border-red-200 hover:!bg-red-50",title:"Delete refund",children:e.jsx(kb,{className:"!w-4 !h-4"})})]})]})]}),e.jsxs("div",{className:"!flex !items-center !justify-between !mb-2",children:[e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Dp,{className:"!w-4 !h-4 !text-gray-400"}),e.jsx(x,{variant:"caption",className:"!text-gray-600 !capitalize",children:C.method||"N/A"})]}),e.jsx(De,{label:j(C.status||""),className:`${S(C.status||"")} font-semibold`,size:"small"})]}),C.reference_number&&e.jsxs(x,{variant:"caption",className:"!text-gray-600 !font-mono !block",children:["Ref: ",C.reference_number]}),C.notes&&e.jsx(x,{variant:"caption",className:"!text-gray-600 !block !mt-2",children:C.notes})]},C.id))})}),(c.error||m.error||u.error)&&e.jsx("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-4 text-white relative overflow-hidden shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(la,{className:"w-5 h-5"}),e.jsx(x,{variant:"caption",className:"!text-white !text-xs",children:c.error?.message||m.error?.message||u.error?.message||"An error occurred while managing payment refunds"})]})})]})})},g9e=()=>{const{id:t}=Jn(),s=Gs(),[a,n]=g.useState(!1),[r,i]=g.useState(!1),{formatCurrency:o}=Qa(),{data:l,isLoading:c,error:m}=T7e(Number(t)),u=l?.data,h=j=>({completed:"bg-green-100 text-green-800",paid:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",failed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800",active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800"})[j]||"bg-gray-100 text-gray-800",f=j=>({completed:"Completed",paid:"Paid",pending:"Pending",processing:"Processing",failed:"Failed",cancelled:"Cancelled",active:"Active",inactive:"Inactive"})[j]||j,v=j=>{switch(j?.toLowerCase()){case"cash":return e.jsx(Cn,{className:"w-4 h-4"});case"credit":case"debit":return e.jsx(Dp,{className:"w-4 h-4"});case"bank_transfer":return e.jsx(Gl,{className:"w-4 h-4"});case"online":return e.jsx(Xn,{className:"w-4 h-4"});default:return e.jsx(Cn,{className:"w-4 h-4"})}},_=()=>{s("/transactions/payments")};if(c)return e.jsxs("div",{className:"!flex !items-start !gap-4",children:[e.jsxs("div",{className:"!flex-2 !flex !flex-col !gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-3 !right-3",children:e.jsx(J,{variant:"circular",width:10,height:10,className:"!bg-green-200"})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(J,{variant:"circular",width:96,height:96,className:"!mx-auto !border-3 !border-white"})}),e.jsx(J,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(J,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-2 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"30%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"60%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"70%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"25%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:14})]})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4].map(j=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(J,{variant:"text",width:`${40+j*8}%`,height:12}),e.jsx(J,{variant:"text",width:`${60+j*6}%`,height:16}),j===1&&e.jsx(J,{variant:"text",width:"50%",height:12,className:"!mt-1"})]},j))})]})]})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:200,height:20})]}),e.jsxs("div",{className:"!flex !items-center !justify-between !mb-4",children:[e.jsx(J,{variant:"text",width:120,height:14}),e.jsx(J,{variant:"rectangular",width:100,height:32,className:"!rounded"})]}),e.jsx("div",{className:"!space-y-3",children:[1,2].map(j=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between !mb-2",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(J,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"40%",height:12})]}),e.jsx(J,{variant:"text",width:80,height:16,className:"!text-right"})]}),e.jsx(J,{variant:"text",width:"70%",height:12,className:"!mt-1"})]},j))})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:150,height:20})]}),e.jsxs("div",{className:"!flex !items-center !justify-between !mb-4",children:[e.jsx(J,{variant:"text",width:140,height:14}),e.jsx(J,{variant:"rectangular",width:100,height:32,className:"!rounded"})]}),e.jsx("div",{className:"!space-y-3",children:[1].map(j=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between !mb-2",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(J,{variant:"text",width:"70%",height:16,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:12})]}),e.jsxs("div",{className:"!text-right",children:[e.jsx(J,{variant:"text",width:80,height:16,className:"!mb-1"}),e.jsx(J,{variant:"rectangular",width:60,height:20,className:"!rounded-full"})]})]}),e.jsxs("div",{className:"!flex !items-center !justify-between !text-xs",children:[e.jsx(J,{variant:"text",width:"30%",height:10}),e.jsx(J,{variant:"text",width:"40%",height:10})]})]},j))})]})]})]})]});if(m||!u)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(la,{className:"w-5 h-5"}),e.jsx(x,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load payment details"})]}),e.jsx(x,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:_,className:"mt-4",children:"Back to Payments"})]});const S=({title:j,children:b,icon:w})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[w&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(w,{className:"!text-primary-500"})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:j})]}),b]})]});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${u.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ht,{className:ln("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-green-400 !to-green-600 !text-white":u.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":u.is_active!=="Y"}),children:e.jsx(Cn,{className:"!w-8 !h-8"})})}),e.jsxs(x,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:["Payment #",u.payment_number]}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mb-3",children:u.customer?.name||"Unknown Customer"}),e.jsx(De,{label:f(u.is_active==="Y"?"active":"inactive"),className:`${h(u.is_active==="Y"?"active":"inactive")} font-semibold`,size:"small"}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Amount"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:o(u.total_amount||0)})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Payment Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u.payment_date?Oe(u.payment_date):"Not specified"})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Method"}),e.jsx(x,{variant:"body2",className:"!font-semibold !capitalize !text-gray-900",children:u.method?.replaceAll("_"," ")})]})]})]}),e.jsx(S,{title:"Payment Information",icon:Hr,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u.customer?.name||"Unknown Customer"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:u.customer?.code})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Collected By"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u.collected_by_user?.name||"Unknown User"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:u.collected_by_user?.email})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Payment Method"}),e.jsxs("div",{className:"!flex !items-center !gap-2 !mt-1",children:[v(u.method),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !capitalize",children:u.method?.replaceAll("_"," ")})]})]}),u.currency&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Currency"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:[u.currency.name," (",u.currency.code,")"]})]}),u.reference_number&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Reference Number"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !font-mono",children:u.reference_number})]}),u.notes&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Notes"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:u.notes})]})]})})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[e.jsxs(S,{title:"Payment Lines (Invoice Allocations)",icon:Xn,children:[e.jsxs("div",{className:"!flex !items-center !justify-between !mb-4",children:[e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:[u.payment_lines?.length||0," lines allocated"]}),e.jsx(G,{variant:"outlined",size:"small",startIcon:e.jsx(Qn,{}),onClick:()=>n(!0),children:"Manage Lines"})]}),u.payment_lines&&u.payment_lines.length>0?e.jsx("div",{className:"!space-y-2",children:u.payment_lines.map((j,b)=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:j.invoice_number||`Invoice #${j.invoice_id}`}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:Oe(j.invoice_date)})]}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-green-600",children:o(j.amount_applied?.toFixed(2))})]}),j.notes&&e.jsx(x,{variant:"caption",className:"!text-gray-600 !mt-1 !block",children:j.notes})]},j.id||b))}):e.jsxs("div",{className:"!text-center !py-8",children:[e.jsx(Xn,{className:"!text-gray-400 !text-4xl !mx-auto !mb-2"}),e.jsx(x,{variant:"body2",className:"!text-gray-500 !mb-4",children:'No payment lines found. Click "Manage Lines" to allocate this payment to invoices.'}),e.jsx(G,{variant:"contained",startIcon:e.jsx(Qn,{}),onClick:()=>n(!0),children:"Add Payment Line"})]})]}),e.jsxs(S,{title:"Payment Refunds",icon:Gl,children:[e.jsxs("div",{className:"!flex !items-center !justify-between !mb-4",children:[e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:[u.payment_refunds?.length||0," refunds processed"]}),e.jsx(G,{variant:"outlined",size:"small",startIcon:e.jsx(Qn,{}),onClick:()=>i(!0),children:"Manage Refunds"})]}),u.payment_refunds&&u.payment_refunds.length>0?e.jsx("div",{className:"!space-y-2",children:u.payment_refunds.map((j,b)=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs("div",{className:"!flex !items-center !justify-between !mb-2",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:j.reason}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:Oe(j.refund_date)})]}),e.jsxs("div",{className:"!text-right",children:[e.jsxs(x,{variant:"body2",className:"!font-semibold !text-red-600",children:["$",j.amount?.toFixed(2)]}),e.jsx(De,{label:f(j.status||""),className:`${h(j.status||"")} font-semibold`,size:"small"})]})]}),e.jsxs("div",{className:"!flex !items-center !justify-between !text-xs !text-gray-500",children:[e.jsx("span",{className:"!capitalize",children:j.method||"N/A"}),j.reference_number&&e.jsx("span",{className:"!font-mono",children:j.reference_number})]})]},j.id||b))}):e.jsxs("div",{className:"!text-center !py-8",children:[e.jsx(Gl,{className:"!text-gray-400 !text-4xl !mx-auto !mb-2"}),e.jsx(x,{variant:"body2",className:"!text-gray-500 !mb-4",children:'No payment refunds found. Click "Manage Refunds" to process a refund.'}),e.jsx(G,{variant:"contained",startIcon:e.jsx(Qn,{}),onClick:()=>i(!0),children:"Add Payment Refund"})]})]})]})]}),e.jsx(h9e,{paymentId:Number(t),drawerOpen:a,setDrawerOpen:n}),e.jsx(x9e,{paymentId:Number(t),drawerOpen:r,setDrawerOpen:i})]})},y9e=async t=>{try{return(await ie.get("/return-requests",{params:t})).data}catch(s){throw console.error("Error fetching return requests:",s),new Error(s.response?.data?.message||"Failed to fetch return requests")}},b9e=async t=>{try{return(await ie.get(`/return-requests/${t}`)).data}catch(s){throw console.error("Error fetching return request:",s),new Error(s.response?.data?.message||"Failed to fetch return request")}},v9e=async t=>{try{return(await ie.post("/return-requests",t)).data}catch(s){throw console.error("Error creating return request:",s),new Error(s.response?.data?.message||"Failed to create return request")}},j9e=async(t,s)=>{try{return(await ie.put(`/return-requests/${t}`,s)).data}catch(a){throw console.error("Error updating return request:",a),new Error(a.response?.data?.message||"Failed to update return request")}},N9e=async t=>{try{return(await ie.delete(`/return-requests/${t}`)).data}catch(s){throw console.error("Error deleting return request:",s),new Error(s.response?.data?.message||"Failed to delete return request")}},Ym={all:["return-requests"],lists:()=>[...Ym.all,"list"],list:t=>[...Ym.lists(),t],details:()=>[...Ym.all,"detail"],detail:t=>[...Ym.details(),t]},w9e=(t,s)=>nt({queryKey:Ym.list(t),queryFn:()=>y9e(t),staleTime:300*1e3,...s}),_9e=(t,s)=>nt({queryKey:Ym.detail(t),queryFn:()=>b9e(t),enabled:!!t,staleTime:300*1e3,...s}),S9e=()=>Re({mutationFn:v9e,invalidateQueries:["return-requests"],loadingMessage:"Creating return request..."}),C9e=()=>Re({mutationFn:({id:t,...s})=>j9e(t,s),invalidateQueries:["return-requests"],loadingMessage:"Updating return request..."}),k9e=()=>Re({mutationFn:N9e,invalidateQueries:["return-requests"],loadingMessage:"Deleting return request..."}),P9e=it({file:hs().required("Please select a file to import")}),E9e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:P9e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("return_requests")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"return_requests",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Return Requests",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple return requests. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing return requests..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},T9e=it({customer_id:Qe().required("Customer is required").min(1,"Please select a valid customer"),product_id:Qe().required("Product is required").min(1,"Please select a valid product"),serial_id:Qe().nullable().min(1,"Serial ID must be a positive number"),return_date:me().nullable().test("is-valid-date","Invalid date format",t=>{if(!t)return!0;const s=new Date(t);return!isNaN(s.getTime())}).test("not-future","Return date cannot be in the future",t=>{if(!t)return!0;const s=new Date(t),a=new Date;return a.setHours(23,59,59,999),s<=a}),reason:me().nullable().max(500,"Reason must be less than 500 characters"),status:me().nullable().oneOf(["pending","approved","rejected","processing","completed","cancelled"],"Invalid status"),approved_by:Qe().nullable().min(1,"Approved by must be a valid user ID").when("status",{is:"approved",then:t=>t.required("Approved by is required when status is approved"),otherwise:t=>t.nullable()}),approved_date:me().nullable().test("is-valid-date","Invalid date format",t=>{if(!t)return!0;const s=new Date(t);return!isNaN(s.getTime())}).test("not-future","Approved date cannot be in the future",t=>{if(!t)return!0;const s=new Date(t),a=new Date;return a.setHours(23,59,59,999),s<=a}),resolution_notes:me().nullable().max(1e3,"Resolution notes must be less than 1000 characters"),is_active:me().required("Active status is required").oneOf(["Y","N"],"Active status must be Y or N")}),uL=({selectedReturnRequest:t,setSelectedReturnRequest:s,drawerOpen:a,setDrawerOpen:n,users:r})=>{const i=!!t,o=()=>{s(null),n(!1),m.resetForm()},l=S9e(),c=C9e(),m=ft({initialValues:{customer_id:t?.customer_id?.toString()||"",product_id:t?.product_id?.toString()||"",serial_id:t?.serial_id?.toString()||"",return_date:t?.return_date?t.return_date.split("T")[0]:"",reason:t?.reason||"",status:t?.status||"pending",approved_by:t?.approved_by?.toString()||"",approved_date:t?.approved_date?t.approved_date.split("T")[0]:"",resolution_notes:t?.resolution_notes||"",is_active:t?.is_active||"Y"},validationSchema:T9e,enableReinitialize:!0,onSubmit:async u=>{try{const h={customer_id:Number(u.customer_id),product_id:Number(u.product_id),serial_id:u.serial_id?Number(u.serial_id):void 0,return_date:u.return_date,reason:u.reason,status:u.status,approved_by:u.approved_by?Number(u.approved_by):void 0,approved_date:u.approved_date,resolution_notes:u.resolution_notes,is_active:u.is_active};i&&t?await c.mutateAsync({id:t.id,...h}):await l.mutateAsync(h),o()}catch(h){console.error("Error saving return request:",h)}}});return e.jsx(ot,{open:a,setOpen:o,title:i?"Edit Return Request":"Create Return Request",size:"large",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:m.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(io,{name:"customer_id",label:"Customer",formik:m,required:!0}),e.jsx(_o,{name:"product_id",label:"Product",formik:m,required:!0}),e.jsx(oe,{name:"serial_id",label:"Serial ID",type:"number",placeholder:"Enter serial ID (optional)",formik:m}),e.jsx(oe,{name:"return_date",label:"Return Date",type:"date",formik:m}),e.jsxs(_e,{name:"status",label:"Status",formik:m,children:[e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"approved",children:"Approved"}),e.jsx(Z,{value:"rejected",children:"Rejected"}),e.jsx(Z,{value:"processing",children:"Processing"}),e.jsx(Z,{value:"completed",children:"Completed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]}),e.jsxs(_e,{name:"approved_by",label:"Approved By",formik:m,children:[e.jsx(Z,{value:"",children:"Select Approver"}),r.map(u=>e.jsxs(Z,{value:u.id.toString(),children:[u.name," (",u.email,")"]},u.id))]}),e.jsx(oe,{name:"approved_date",label:"Approved Date",type:"date",formik:m}),e.jsxs(_e,{name:"is_active",label:"Active Status",formik:m,required:!0,children:[e.jsx(Z,{value:"Y",children:"Active"}),e.jsx(Z,{value:"N",children:"Inactive"})]}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"reason",label:"Return Reason",placeholder:"Enter reason for return",formik:m,multiline:!0,rows:3})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"resolution_notes",label:"Resolution Notes",placeholder:"Enter resolution notes",formik:m,multiline:!0,rows:3})})]}),e.jsxs(y,{className:"!flex !justify-end items-center !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:o,disabled:l.isPending||c.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:l.isPending||c.isPending,children:l.isPending?"Creating...":c.isPending?"Updating...":i?"Update Return Request":"Create Return Request"})]})]})})})},M9e=()=>{const t=Gs(),[s,a]=g.useState(""),[n,r]=g.useState("all"),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,u]=g.useState(!1),[h,f]=g.useState(1),[v]=g.useState(10),{isCreate:_,isUpdate:S,isDelete:j,isRead:b}=Ze("return"),{data:w,isLoading:C,error:P}=w9e({search:s,page:h,limit:v,status:n==="all"?void 0:n,is_active:"Y"},{enabled:b}),{data:E}=er({page:1,limit:1e3}),{data:D}=Ru({page:1,limit:1e3}),T=w?.data||[],R=E?.data||[],z=D?.data||[],O=w?.pagination?.total_count||0,$=(w?.pagination?.current_page||1)-1,A=k9e(),Q=ms(),K=w?.stats?.total_requests??0,U=w?.stats?.pending_requests??0,B=w?.stats?.approved_requests??0,V=w?.stats?.rejected_requests??0,Y=w?.stats?.processing_requests??0,H=w?.stats?.completed_requests??0,F=w?.stats?.cancelled_requests??0,M=w?.stats?.new_requests_this_month??0,L=g.useCallback(()=>{o(null),c(!0)},[]),W=g.useCallback(()=>{u(!0)},[]),X=g.useCallback(async()=>{try{const le={search:s,status:n==="all"?void 0:n,isActive:"Y"};await Q.mutateAsync({tableName:"return_requests",filters:le})}catch(le){console.error("Error exporting return requests:",le)}},[Q,s,n]),te=g.useCallback(le=>{o(le),c(!0)},[]),se=g.useCallback(le=>{t(`/transactions/returns/${le.id}`)},[t]),ae=g.useCallback(async le=>{try{await A.mutateAsync(le)}catch(de){console.error("Error deleting return request:",de)}},[A]),pe=g.useCallback(le=>{a(le),f(1)},[]),he=le=>{f(le+1)},re=le=>({pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",processing:"bg-blue-100 text-blue-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-gray-100 text-gray-800"})[le]||"bg-gray-100 text-gray-800",xe=le=>({pending:"Pending",approved:"Approved",rejected:"Rejected",processing:"Processing",completed:"Completed",cancelled:"Cancelled"})[le]||le,ge=[{id:"customer_product",label:"Customer & Product",render:(le,de)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:de.customer?.name||"Customer",className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Rn,{className:"w-4 h-4"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:de.customer?.name||"Unknown Customer"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:de.product?.name||"Unknown Product"})]})]})},{id:"return_info",label:"Return Info",render:(le,de)=>e.jsxs(y,{children:[de.return_date&&e.jsxs(y,{className:"flex items-center gap-1 mb-1",children:[e.jsx(_s,{className:"w-3 h-3 text-gray-400"}),e.jsx(x,{variant:"caption",className:"!text-gray-600",children:new Date(de.return_date).toLocaleDateString()})]}),de.serial_number&&e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Wt,{className:"w-3 h-3 text-gray-400"}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:["Serial: ",de.serial_number.serial_no]})]})]})},{id:"status_priority",label:"Status",render:(le,de)=>e.jsx(y,{className:"!space-y-1",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${re(de.status||"")}`,children:xe(de.status||"")})})},{id:"reason_notes",label:"Reason & Notes",render:(le,de)=>{const we=de.reason,Ae=de.resolution_notes;return!we&&!Ae?e.jsx(x,{variant:"caption",className:"!text-gray-400 !italic",children:"No info"}):e.jsxs(y,{children:[we&&e.jsxs(y,{className:"flex items-center gap-1 mb-1",children:[e.jsx(la,{className:"w-3 h-3 text-orange-400"}),e.jsx(x,{variant:"caption",className:"!text-orange-600 !truncate",children:de.reason?.length&&de.reason?.length>30?`${de.reason?.substring(0,30)}...`:de.reason})]}),Ae&&e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Cs,{className:"w-3 h-3 text-blue-400"}),e.jsx(x,{variant:"caption",className:"!text-blue-600 !truncate",children:de.resolution_notes?.length&&de.resolution_notes?.length>30?`${de.resolution_notes?.substring(0,30)}...`:de.resolution_notes})]})]})}},{id:"approval_info",label:"Approval Info",render:(le,de)=>e.jsxs(y,{children:[de.approved_user&&e.jsxs(y,{className:"flex items-center gap-1 mb-1",children:[e.jsx(Rn,{className:"w-3 h-3 text-green-400"}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:de.approved_user.name})]}),de.approved_date&&e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Ts,{className:"w-3 h-3 text-gray-400"}),e.jsx(x,{variant:"caption",className:"!text-gray-600",children:new Date(de.approved_date).toLocaleDateString()})]}),!de.approved_user&&!de.approved_date&&e.jsx(x,{variant:"caption",className:"!text-gray-400 !italic",children:"Not approved"})]})},{id:"is_active",label:"Active Status",render:le=>e.jsx(De,{icon:le==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:le==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:le==="Y"?"success":"error"})},...b||S||j?[{id:"action",label:"Actions",sortable:!1,render:(le,de)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[b&&e.jsx(Ka,{icon:e.jsx(Cr,{}),onClick:()=>se(de),tooltip:`View return request for ${de.customer?.name}`,color:"success"}),S&&e.jsx(is,{onClick:()=>te(de),tooltip:`Edit return request for ${de.customer?.name}`}),j&&e.jsx(Vt,{onClick:()=>ae(de.id),tooltip:`Delete return request for ${de.customer?.name}`,itemName:`return request for ${de.customer?.name}`,confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Return Requests"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage product return requests, track approval status, and monitor return processing"})]})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 mb-6",children:[e.jsx(fe,{title:"Total",value:K,icon:e.jsx(Cs,{className:"w-4 h-4"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Pending",value:U,icon:e.jsx(Ts,{className:"w-4 h-4"}),color:"yellow",isLoading:C}),e.jsx(fe,{title:"Approved",value:B,icon:e.jsx(pt,{className:"w-4 h-4"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Rejected",value:V,icon:e.jsx(Na,{className:"w-4 h-4"}),color:"red",isLoading:C}),e.jsx(fe,{title:"Processing",value:Y,icon:e.jsx(Ts,{className:"w-4 h-4"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Completed",value:H,icon:e.jsx(pt,{className:"w-4 h-4"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Cancelled",value:F,icon:e.jsx(Na,{className:"w-4 h-4"}),color:"gray",isLoading:C}),e.jsx(fe,{title:"New",value:M,icon:e.jsx(_s,{className:"w-4 h-4"}),color:"gray",isLoading:C})]}),P&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load return Requests. Please try again."}),e.jsx(lt,{data:T,columns:ge,actions:b||_?e.jsxs("div",{className:"flex justify-between items-center flex-wrap w-full gap-2",children:[e.jsx("div",{className:"flex gap-2 items-center flex-wrap",children:b&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Return Requests",value:s,onChange:pe,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(_e,{value:n,onChange:le=>r(le.target.value),className:"!min-w-40",size:"small",children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"approved",children:"Approved"}),e.jsx(Z,{value:"rejected",children:"Rejected"}),e.jsx(Z,{value:"processing",children:"Processing"}),e.jsx(Z,{value:"completed",children:"Completed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]})]})}),b&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{title:"Export Return Requests",description:"Are you sure you want to export the current return requests data to Excel? This will include all filtered results.",onConfirm:X,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:Q.isPending,children:Q.isPending?"Exporting...":"Export"})}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:W,children:"Import"})]}),_&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:L,children:"Create"})]}):!1,getRowId:le=>le.id,loading:C,totalCount:O,page:$,rowsPerPage:v,isPermission:b,onPageChange:he,emptyMessage:s?`No return requests found matching "${s}"`:"No return requests found in the system"}),e.jsx(uL,{selectedReturnRequest:i,setSelectedReturnRequest:o,drawerOpen:l,setDrawerOpen:c,users:R,products:z}),e.jsx(E9e,{drawerOpen:m,setDrawerOpen:u})]})},zp={async getWorkflowSteps(t){return(await ie.get(`/workflow/steps/${t}`)).data.data},async executeWorkflowAction(t,s){const a=await ie.post(`/workflow/action/${t}`,s);return{...a.data.data,message:a.data.message}},async getWorkflowTemplates(){return(await ie.get("/workflow/templates")).data.data},async applyWorkflowTemplate(t,s){const a=await ie.post(`/workflow/template/${t}`,{templateId:s});return{workflowSteps:a.data.data,message:a.data.message}},async executeFullWorkflowFlow(t,s="standard_return"){const a=await ie.post(`/workflow/full-flow/${t}`,{templateId:s});return{workflowSteps:a.data.data,message:a.data.message}},async rejectReturnRequest(t,s){const a=await ie.post(`/workflow/reject/${t}`,{rejectionReason:s});return{rejectionStep:a.data.data,message:a.data.message}},async executeNextWorkflowStep(t){const s=await ie.post(`/workflow/next-step/${t}`);return{nextStep:s.data.data,message:s.data.message}}},D9e=t=>nt({queryKey:["workflow-steps",t],queryFn:()=>zp.getWorkflowSteps(t),enabled:!!t}),R9e=()=>nt({queryKey:["workflow-templates"],queryFn:()=>zp.getWorkflowTemplates()}),A9e=()=>Re({mutationFn:({requestId:t,templateId:s})=>zp.applyWorkflowTemplate(t,s),invalidateQueries:["workflow-steps","return-request"],loadingMessage:"Applying workflow template..."}),I9e=()=>Re({mutationFn:({requestId:t,templateId:s})=>zp.executeFullWorkflowFlow(t,s),invalidateQueries:["workflow-steps","return-request","return-requests"],loadingMessage:"Executing full workflow flow..."}),O9e=()=>Re({mutationFn:({requestId:t,rejectionReason:s})=>zp.rejectReturnRequest(t,s),invalidateQueries:["workflow-steps","return-request","return-requests"],loadingMessage:"Rejecting return request..."}),F9e=()=>Re({mutationFn:({requestId:t})=>zp.executeNextWorkflowStep(t),invalidateQueries:["workflow-steps","return-request","return-requests"],loadingMessage:"Executing next workflow step..."}),L9e=({requestId:t,currentStatus:s,onStatusChange:a})=>{const[n,r]=g.useState(!1),[i,o]=g.useState(!1),[l,c]=g.useState(""),{data:m=[],isLoading:u,refetch:h}=D9e(t),{data:f=[]}=R9e(),v=A9e(),_=I9e(),S=F9e(),j=O9e(),b=A=>{switch(A){case"completed":return e.jsx(Oa,{className:"w-5 h-5 text-green-600"});case"in_progress":return e.jsx(Ts,{className:"w-5 h-5 text-blue-600"});case"pending":return e.jsx(Ts,{className:"w-5 h-5 text-gray-400"});case"rejected":return e.jsx(Fr,{className:"w-5 h-5 text-red-600"});default:return e.jsx(Ts,{className:"w-5 h-5 text-gray-400"})}},w=A=>{switch(A){case"completed":return"text-green-600";case"in_progress":return"text-blue-600";case"pending":return"text-gray-400";case"rejected":return"text-red-600";default:return"text-gray-400"}},C=async A=>{try{await v.mutateAsync({requestId:t,templateId:A}),r(!1),h()}catch{}},P=async(A="standard_return")=>{try{await _.mutateAsync({requestId:t,templateId:A}),h(),a&&a("completed")}catch{}},E=async()=>{try{await S.mutateAsync({requestId:t}),h()}catch{}},D=async()=>{if(l.trim())try{await j.mutateAsync({requestId:t,rejectionReason:l.trim()}),o(!1),c(""),h(),a&&a("rejected")}catch{}},T=m.length>0&&m.every(A=>A.status==="completed"),R=m.some(A=>A.status==="pending"||A.status==="in_progress"),z=m.filter(A=>A.status==="pending"||A.status==="in_progress").length===1,O=["completed","rejected","cancelled"].includes(s),$=m.length>0&&R&&!T&&!O;return u?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(A=>e.jsxs("div",{className:"flex items-start gap-3 animate-pulse",children:[e.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},A))}):e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"flex flex-col gap-2",children:m.length>0?m.map(A=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:b(A.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsx(x,{variant:"subtitle2",className:`font-medium ${w(A.status)}`,children:A.step}),A.remarks&&e.jsx(x,{variant:"body2",className:`mt-1 ${A.status==="rejected"?"text-red-600 font-medium":"text-gray-600"}`,children:A.remarks}),A.action_date&&e.jsx(x,{variant:"caption",className:"text-gray-500 mt-1 block",children:Oe(A.action_date)}),A.action_by&&A.action_user&&e.jsxs(x,{variant:"caption",className:"text-gray-500",children:["by ",A.action_user.name]}),!A.action_by&&e.jsx(x,{variant:"caption",className:"text-gray-500",children:"by System"})]})]},A.id)):e.jsxs("div",{className:"text-center py-8 flex flex-col gap-2 items-center text-gray-500",children:[e.jsx(la,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx(x,{variant:"body2",className:"mb-4",children:"No workflow steps found"}),!O&&e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ng,{}),onClick:()=>r(!0),children:"Apply Workflow Template"})]})}),n&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx(x,{variant:"h6",className:"mb-3 text-blue-900",children:"Select Workflow Template"}),e.jsx("div",{className:"space-y-2 mb-4",children:f.map(A=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded border",children:[e.jsxs("div",{children:[e.jsx(x,{variant:"subtitle2",className:"font-medium",children:A.name}),e.jsx(x,{variant:"caption",className:"text-gray-500",children:A.description})]}),e.jsx(G,{variant:"outlined",size:"small",onClick:()=>C(A.id),disabled:v.isPending,children:"Apply"})]},A.id))}),e.jsx(G,{variant:"outlined",onClick:()=>r(!1),className:"w-full",children:"Cancel"})]}),$&&e.jsxs("div",{className:"grid lg:grid-cols-3 md:grid-cols-2 gap-2 items-center",children:[e.jsx(G,{variant:"contained",className:" bg-purple-600 hover:bg-purple-700 text-white",startIcon:e.jsx(wle,{}),onClick:()=>P("standard_return"),disabled:_.isPending,children:_.isPending?"Processing...":"Complete the Process"}),e.jsx(G,{variant:z?"contained":"outlined",className:` ${z?"bg-green-600 hover:bg-green-700 text-white":"border-blue-300 text-blue-600 hover:bg-blue-50"}`,startIcon:e.jsx(r_,{}),onClick:E,disabled:S.isPending,children:S.isPending?"Processing...":z?"Complete the Return Process":"Execute Next Step"}),e.jsx(G,{variant:"outlined",className:" border-red-300 text-red-600 hover:bg-red-50",startIcon:e.jsx(Fr,{}),color:"error",onClick:()=>o(!0),disabled:j.isPending,children:j.isPending?"Rejecting...":"Reject Request"})]}),e.jsx(Pv,{open:i,onClose:()=>{o(!1),c("")},"aria-labelledby":"reject-modal-title","aria-describedby":"reject-modal-description",children:e.jsxs("div",{className:"!absolute !top-1/2 !left-1/2 !transform !-translate-x-1/2 !-translate-y-1/2 !w-[90%] sm:!w-[500px] !bg-white !rounded-lg !shadow-2xl !p-0",children:[e.jsxs("div",{className:"!flex !items-center !justify-between !p-4 !pb-3",children:[e.jsx(x,{id:"reject-modal-title",variant:"h6",component:"h2",className:"!font-semibold",children:"Reject Return Request"}),e.jsx(G,{onClick:()=>{o(!1),c("")},className:"!min-w-0 !p-1",children:e.jsx(Fr,{className:"w-5 h-5"})})]}),e.jsx(fn,{}),e.jsx("div",{className:"!p-4 !pb-3",children:e.jsx(oe,{label:"Rejection Reason",placeholder:"Please provide a reason for rejecting this return request...",value:l,onChange:A=>c(A.target.value),multiline:!0,rows:4,required:!0,error:!l.trim()&&i,helperText:!l.trim()&&i?"Rejection reason is required":"",className:"!w-full"})}),e.jsx(fn,{}),e.jsxs("div",{className:"!flex !gap-2 !justify-end !p-4 !pt-3",children:[e.jsx(G,{variant:"outlined",onClick:()=>{o(!1),c("")},disabled:j.isPending,children:"Cancel"}),e.jsx(G,{variant:"contained",color:"error",onClick:D,className:"!w-24",disabled:!l.trim()||j.isPending,children:j.isPending?"Rejecting...":"Reject"})]})]})})]})},z9e=()=>{const{id:t}=Jn(),s=Gs(),[a,n]=g.useState(!1),{data:r,isLoading:i,error:o}=_9e(Number(t)),{data:l}=er({page:1,limit:1e3}),{data:c}=Ru({page:1,limit:1e3}),m=r?.data,u=l?.data||[],h=c?.data||[],f=j=>({pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",processing:"bg-blue-100 text-blue-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-gray-100 text-gray-800"})[j]||"bg-gray-100 text-gray-800",v=j=>({pending:"Pending",approved:"Approved",rejected:"Rejected",processing:"Processing",completed:"Completed",cancelled:"Cancelled"})[j]||j,_=()=>{s("/transactions/returns")};if(i)return e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-2",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-4 !right-4",children:e.jsx(J,{variant:"circular",width:12,height:12,className:"!bg-yellow-200"})}),e.jsx(J,{variant:"circular",width:96,height:96,className:"!mx-auto !mb-4 !border-3 !border-white"}),e.jsx(J,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(J,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-yellow-50"}),e.jsxs("div",{className:"!space-y-3 !text-left",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"50%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"70%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"80%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"35%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"60%",height:14})]})]})]})}),e.jsx("div",{className:"flex-4 !space-y-4",children:[1,2,3].map(j=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-20 !h-20 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-10 !translate-x-10"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1 !bg-blue-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-blue-200"})}),e.jsx(J,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4].map(b=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(J,{variant:"text",width:`${50+b*8}%`,height:12}),e.jsx(J,{variant:"text",width:`${60+b*6}%`,height:16})]},b))})]})]},j))})]});if(o||!m)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(la,{className:"w-5 h-5"}),e.jsx(x,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load return request details"})]}),e.jsx(x,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:_,className:"mt-4",children:"Back to Return Requests"})]});const S=({title:j,children:b,icon:w})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[w&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(w,{className:"!text-primary-500"})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:j})]}),b]})]});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${m.status==="completed"?"!bg-green-400":m.status==="approved"?"!bg-blue-400":m.status==="rejected"?"!bg-red-400":"!bg-yellow-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ht,{className:ln("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-green-400 !to-green-600 !text-white":m.status==="completed","!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":m.status==="approved","!bg-gradient-to-br !from-red-400 !to-red-600 !text-white":m.status==="rejected","!bg-gradient-to-br !from-yellow-400 !to-yellow-600 !text-white":m.status==="pending"}),children:e.jsx(Wt,{className:"!w-8 !h-8"})})}),e.jsxs(x,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:["Return Request #",m.id]}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mb-3",children:m.customer?.name||"Unknown Customer"}),e.jsx(De,{label:v(m.status||""),className:`${f(m.status||"")} font-semibold`,size:"small"}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Product"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.product?.name||"Unknown Product"})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Return Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.return_date?Oe(m.return_date):"Not specified"})]}),e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Created"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(m.createdate)})]})]})]}),e.jsx(S,{title:"Request Information",icon:Hr,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.customer?.name||"Unknown Customer"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:m.customer?.code})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Product"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.product?.name||"Unknown Product"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:m.product?.code})]}),m.serial_number&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Serial Number"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.serial_number.serial_no})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Current Status"}),e.jsx("div",{className:"!mt-1",children:e.jsx(De,{label:v(m.status||""),className:`${f(m.status||"")} font-semibold`,size:"small"})})]}),e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Reason for Return"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.reason||"No reason provided"})]})]})})]}),e.jsxs("div",{className:"!flex-4 !space-y-4",children:[m.approved_user&&e.jsx(S,{title:"Approval Information",icon:Oa,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Approved By"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.approved_user.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:m.approved_user.email})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Approval Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.approved_date?Oe(m.approved_date):"Not approved"})]}),m.resolution_notes&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Resolution Notes"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:m.resolution_notes})]})]})}),e.jsx(S,{title:"Workflow Timeline",icon:Z4,children:e.jsx(L9e,{requestId:m.id,currentStatus:m.status||"pending",onStatusChange:j=>{window.location.reload()}})})]})]}),e.jsx(uL,{selectedReturnRequest:m,setSelectedReturnRequest:()=>{},drawerOpen:a,setDrawerOpen:n,users:u,products:h})]})},$9e=it({file:hs().required("Please select a file to import")}),q9e=({drawerOpen:t,setDrawerOpen:s})=>{const[a,n]=g.useState(null),[r,i]=g.useState(null),[o,l]=g.useState("upload"),c=g.useRef(null),m=bs(),u=vs({onSuccess:b=>{i(b.data),l("results")}}),h=()=>{n(null),i(null),l("upload"),f.resetForm(),s(!1)},f=ft({initialValues:{file:null},validationSchema:$9e,onSubmit:async()=>{a&&await S()}}),v=async()=>{try{await m.mutateAsync("visits")}catch(b){console.error("Failed to download template:",b)}},_=b=>{const w=b.target.files?.[0];if(w){if(!w.name.endsWith(".xlsx")&&!w.name.endsWith(".xls")){alert("Please select an Excel file (.xlsx or .xls)");return}n(w),i(null),l("upload"),f.setFieldValue("file",w)}},S=async()=>{if(a)try{await u.mutateAsync({tableName:"visits",file:a,options:{batchSize:100,skipDuplicates:!1,updateExisting:!1}})}catch(b){console.error("Import failed:",b)}},j=()=>{n(null),i(null),l("upload"),f.setFieldValue("file",null),c.current&&(c.current.value="")};return e.jsx(ot,{open:t,setOpen:h,title:"Import Visits",size:"large",children:e.jsx(y,{className:"!p-5",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsx(ct,{severity:"info",className:"!mb-4",children:e.jsx(x,{variant:"body2",children:"Upload an Excel file to import multiple visits. Download the sample file to see the required format."})}),e.jsx(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:e.jsxs(y,{className:"!flex !items-center !justify-between",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium",children:"Download Excel Template"}),e.jsx(x,{variant:"body2",className:"!text-gray-600",children:"Get the Excel template with required columns and sample data"})]})]}),e.jsxs(G,{type:"button",variant:"outlined",onClick:v,className:"!shrink-0",children:[e.jsx(_t,{className:"!mr-2"}),"Download"]})]})}),e.jsxs(y,{className:"!p-4 !border !border-gray-200 !rounded-lg",children:[e.jsx(x,{variant:"subtitle1",className:"!font-medium !mb-3",children:"Upload File"}),a?e.jsxs(y,{className:"!space-y-4",children:[e.jsxs(y,{className:"!flex !items-center !justify-between !p-3 !bg-gray-50 !rounded-lg",children:[e.jsxs(y,{className:"!flex !items-center !gap-3",children:[e.jsx(Ct,{className:"!text-green-600"}),e.jsxs(y,{children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:a.name}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(G,{color:"error",type:"button",variant:"outlined",onClick:j,disabled:u.isPending,children:"Remove"})]}),u.isPending&&e.jsxs(y,{className:"!space-y-2",children:[e.jsx(y,{className:"!flex !justify-between !items-center",children:e.jsx(x,{variant:"body2",children:"Importing data..."})}),e.jsx(ys,{})]}),r&&o==="results"&&e.jsxs(y,{className:"!space-y-3 !mt-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium",children:"Import Results"}),e.jsxs(y,{className:"!grid !grid-cols-3 !gap-4",children:[e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-blue-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-blue-700",children:r.totalProcessed}),e.jsx(x,{variant:"caption",className:"!text-blue-600",children:"Total Processed"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-green-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-green-700",children:r.success}),e.jsx(x,{variant:"caption",className:"!text-green-600",children:"Successful"})]}),e.jsxs(y,{className:"!flex !items-center !gap-2 !p-3 !bg-red-50 !rounded-lg",children:[e.jsx(x,{variant:"h6",className:"!text-red-700",children:r.failed}),e.jsx(x,{variant:"caption",className:"!text-red-600",children:"Failed"})]})]}),r.fileInfo&&e.jsxs(y,{className:"!mt-3 !p-3 !bg-gray-50 !rounded-lg",children:[e.jsx(x,{variant:"subtitle2",className:"!font-medium !mb-1",children:"File Information"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["File: ",r.fileInfo.originalName]}),e.jsxs(x,{variant:"body2",className:"!text-gray-600",children:["Total Rows: ",r.fileInfo.rows]})]}),r.errors&&r.errors.length>0&&e.jsxs(y,{className:"!mt-3",children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !mb-2 !text-red-700",children:["Import Errors (",r.errors.length,"):"]}),e.jsxs(y,{className:"!bg-red-50 !rounded-lg !max-h-32 !overflow-y-auto !p-2",children:[r.errors.slice(0,10).map((b,w)=>e.jsxs(x,{variant:"body2",className:"!text-red-600 !mb-1",children:[" ",b]},w)),r.errors.length>10&&e.jsxs(x,{variant:"body2",className:"!text-red-600 !font-medium",children:["... and ",r.errors.length-10," more errors"]})]})]})]})]}):e.jsxs(y,{className:"!border-2 !border-dashed !border-gray-300 !rounded-lg !p-8 !text-center hover:!border-primary-400 !transition-colors !cursor-pointer",onClick:()=>c.current?.click(),children:[e.jsx(gs,{className:"!mx-auto !mb-4 !text-gray-400 !text-5xl"}),e.jsx(x,{variant:"h6",className:"!mb-2 !text-gray-700",children:"Click to upload or drag and drop"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Excel files only (.xlsx, .xls)"}),e.jsx("input",{ref:c,type:"file",accept:".xlsx,.xls",onChange:_,className:"!hidden"})]})]}),e.jsxs(y,{className:"!flex !justify-end !gap-2 items-center",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:h,disabled:u.isPending,children:"Cancel"}),o==="upload"&&e.jsx(G,{type:"submit",variant:"contained",disabled:!a||u.isPending,loading:u.isPending,children:u.isPending?"Importing...":"Import Data"}),o==="results"&&e.jsx(G,{type:"button",variant:"contained",onClick:h,children:"Done"})]})]})})})},B9e=it().shape({customer_id:me().required("Customer is required"),sales_person_id:me().required("Salesperson is required"),route_id:me().nullable(),zones_id:me().nullable(),visit_date:me().nullable(),visit_time:me().nullable(),purpose:me().max(500,"Purpose must be at most 500 characters").nullable(),status:me().oneOf(["planned","in_progress","completed","cancelled"],"Invalid status").nullable(),start_latitude:me().nullable(),start_longitude:me().nullable(),end_latitude:me().nullable(),end_longitude:me().nullable(),orders_created:Qe().min(0,"Orders created must be a positive number").nullable(),amount_collected:me().nullable(),visit_notes:me().max(1e3,"Visit notes must be at most 1000 characters").nullable(),customer_feedback:me().max(1e3,"Customer feedback must be at most 1000 characters").nullable(),next_visit_date:me().nullable(),is_active:me().oneOf(["Y","N"],"Status must be Y or N").required("Status is required")}),U9e=({selectedVisit:t,setSelectedVisit:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,i=f1({limit:1e3,status:"active"}),o=ic({limit:1e3,isActive:"Y"}),l=i?.data?.data||[],c=o?.data?.data||[],m=()=>{s(null),n(!1),f.resetForm()},u=s4e(),h=a4e(),f=ft({initialValues:{customer_id:t?.customer_id?.toString()||"",sales_person_id:t?.sales_person_id?.toString()||"",route_id:t?.route_id?.toString()||"",zones_id:t?.zones_id?.toString()||"",visit_date:Ln(t?.visit_date),visit_time:t?.visit_time||"",purpose:t?.purpose||"",status:t?.status||"planned",start_latitude:t?.start_latitude||"",start_longitude:t?.start_longitude||"",end_latitude:t?.end_latitude||"",end_longitude:t?.end_longitude||"",orders_created:t?.orders_created?.toString()||"",amount_collected:t?.amount_collected||"",visit_notes:t?.visit_notes||"",customer_feedback:t?.customer_feedback||"",next_visit_date:Ln(t?.next_visit_date),is_active:t?.is_active||"Y"},validationSchema:B9e,enableReinitialize:!0,onSubmit:async j=>{try{const b={customer_id:Number(j.customer_id),sales_person_id:Number(j.sales_person_id),route_id:j.route_id?Number(j.route_id):void 0,zones_id:j.zones_id?Number(j.zones_id):void 0,visit_date:j.visit_date,visit_time:j.visit_time,purpose:j.purpose,status:j.status,start_latitude:j.start_latitude,start_longitude:j.start_longitude,end_latitude:j.end_latitude,end_longitude:j.end_longitude,orders_created:j.orders_created?Number(j.orders_created):void 0,amount_collected:j.amount_collected,visit_notes:j.visit_notes,customer_feedback:j.customer_feedback,next_visit_date:j.next_visit_date,is_active:j.is_active};r&&t?await h.mutateAsync({id:t.id,...b}):await u.mutateAsync(b),m()}catch(b){console.error("Error saving visit:",b)}}}),v=f.values.customer_id?Number(f.values.customer_id):null,{data:_}=h4e(v||0),S=!!v&&!r;return g.useEffect(()=>{if(_?.data&&!r&&v){const j=_.data;j.route_id&&f.setFieldValue("route_id",j.route_id.toString()),j.zones_id&&f.setFieldValue("zones_id",j.zones_id.toString())}},[_,r,v]),e.jsx(ot,{open:a,setOpen:m,title:r?"Edit Visit":"Create Visit",size:"large",children:e.jsx(y,{className:"!p-6",children:e.jsxs("form",{onSubmit:f.handleSubmit,className:"!space-y-6",children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-6",children:[e.jsx(io,{name:"customer_id",label:"Customer",formik:f,required:!0}),e.jsx(hr,{name:"sales_person_id",label:"Sales Person",formik:f,required:!0}),e.jsx(_e,{name:"route_id",label:"Route",formik:f,disabled:S,children:l.map(j=>e.jsxs(Z,{value:j.id.toString(),children:[j.name," (",j.code,")"]},j.id))}),e.jsx(_e,{name:"zones_id",label:"Zone",formik:f,disabled:S,children:c.map(j=>e.jsx(Z,{value:j.id.toString(),children:j.name},j.id))}),e.jsx(oe,{name:"visit_date",label:"Visit Date",type:"date",formik:f}),e.jsx(oe,{name:"visit_time",label:"Visit Time",type:"time",formik:f}),e.jsxs(_e,{name:"status",label:"Status",formik:f,children:[e.jsx(Z,{value:"planned",children:"Planned"}),e.jsx(Z,{value:"in_progress",children:"In Progress"}),e.jsx(Z,{value:"completed",children:"Completed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]}),e.jsx(oe,{name:"orders_created",label:"Orders Created",placeholder:"Enter orders created",type:"number",formik:f}),e.jsx(oe,{type:"number",name:"amount_collected",label:"Amount Collected",placeholder:"Enter amount collected",formik:f}),e.jsx(oe,{name:"next_visit_date",label:"Next Visit Date",type:"date",formik:f}),e.jsx(Ps,{name:"is_active",formik:f,required:!0,className:"col-span-2"}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"purpose",label:"Purpose",placeholder:"Enter visit purpose",formik:f,multiline:!0,rows:2})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"visit_notes",label:"Visit Notes",placeholder:"Enter visit notes",formik:f,multiline:!0,rows:3})}),e.jsx(y,{className:"md:!col-span-2",children:e.jsx(oe,{name:"customer_feedback",label:"Customer Feedback",placeholder:"Enter customer feedback",formik:f,multiline:!0,rows:3})})]}),e.jsxs(y,{className:"!flex !justify-end items-center gap-2 flex-wrap",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:m,disabled:u.isPending||h.isPending,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:u.isPending||h.isPending,children:u.isPending?"Creating...":h.isPending?"Updating...":r?"Update Visit":"Create Visit"})]})]})})})},V9e=()=>{const t=Gs(),[s,a]=g.useState(""),[n,r]=g.useState("all"),[i,o]=g.useState("all"),[l,c]=g.useState(null),[m,u]=g.useState(!1),[h,f]=g.useState(!1),[v,_]=g.useState(1),[S]=g.useState(10),{isCreate:j,isUpdate:b,isDelete:w,isRead:C}=Ze("visit"),{data:P,isLoading:E,error:D}=XS({search:s,page:v,limit:S,isActive:n==="all"?void 0:n==="active"?"Y":"N",sales_person_id:i==="all"?void 0:Number(i)},{enabled:C}),{data:T}=er({page:1,limit:1e3}),R=P?.data||[],z=T?.data||[],O=P?.meta?.total||0,$=(P?.meta?.page||1)-1,A=n4e(),Q=ms(),K=P?.stats?.total_visits??0,U=P?.stats?.active_visits??0,B=P?.stats?.inactive_visits??0,V=P?.stats?.new_visits??0,Y=g.useCallback(()=>{c(null),u(!0)},[]),H=g.useCallback(he=>{c(he),u(!0)},[]),F=g.useCallback(he=>{t(`/transactions/visits/${he.id}`)},[t]),M=g.useCallback(async he=>{try{await A.mutateAsync(he)}catch(re){console.error("Error deleting visit:",re)}},[A]),L=g.useCallback(he=>{a(he),_(1)},[]),W=he=>{_(he+1)},X=g.useCallback(async()=>{try{const he={search:s,status:n==="all"?void 0:n,salesperson:i==="all"?void 0:Number(i)};await Q.mutateAsync({tableName:"visits",filters:he})}catch(he){console.error("Error exporting visits:",he)}},[Q,s,n,i]),te=he=>({planned:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[he]||"bg-gray-100 text-gray-800",se=he=>({planned:"Planned",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled"})[he]||he,ae=[{id:"customer",label:"Customer & Purpose",render:(he,re)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:re.customer?.name||"Customer",className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(Rn,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight",children:re.customer?.name||"Unknown Customer"}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:re.purpose||"No purpose specified"})]})]})},{id:"salesperson",label:"Sales Person",render:(he,re)=>e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(jo,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-sm",children:re.salesperson?.name||e.jsx("span",{className:"text-sm italic text-gray-500",children:"No Sales Person"})})]})},{id:"route_zone",label:"Route & Zone",render:(he,re)=>e.jsxs(y,{children:[e.jsxs(y,{className:"flex items-center gap-1 mb-1",children:[e.jsx(Yc,{className:"w-3 h-3 text-gray-400"}),e.jsx(x,{variant:"caption",className:"!text-gray-600",children:re.route?.name||"No Route"})]}),e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Qs,{className:"w-3 h-3 text-gray-400"}),e.jsx(x,{variant:"caption",className:"!text-gray-600",children:re.zone?.name||"No Zone"})]})]})},{id:"visit_details",label:"Visit Details",render:(he,re)=>e.jsxs(y,{children:[re.visit_date&&e.jsxs(y,{className:"flex items-center gap-1 mb-1",children:[e.jsx(_s,{className:"w-3 h-3 text-gray-400"}),e.jsx(x,{variant:"caption",className:"!text-gray-600",children:Oe(re.visit_date)})]}),re.visit_time&&e.jsxs(y,{className:"flex items-center gap-1",children:[e.jsx(Ts,{className:"w-3 h-3 text-gray-400"}),e.jsx(x,{variant:"caption",className:"!text-gray-600",children:re.visit_time})]})]})},{id:"status",label:"Status",render:(he,re)=>e.jsx("span",{className:`inline-flex px-2 py-1 text-xs capitalize font-semibold rounded-full ${te(re.status||"")}`,children:se(re.status||"")})},{id:"orders_amount",label:"Orders & Amount",render:(he,re)=>e.jsxs(y,{children:[e.jsxs(x,{variant:"caption",className:"!text-gray-600 !block",children:["Orders: ",re.orders_created||0]}),e.jsxs(x,{variant:"caption",className:"!text-gray-600 !block",children:["Amount: ",re.amount_collected||"N/A"]})]})},{id:"is_active",label:"Active Status",render:he=>e.jsx(De,{icon:he==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:he==="Y"?"Active":"Inactive",size:"small",variant:"outlined",color:he==="Y"?"success":"error"})},{id:"createdate",label:"Created Date",render:(he,re)=>Oe(re.createdate)||e.jsx("span",{className:"italic text-gray-400",children:"No Date"})},...C||b||w?[{id:"action",label:"Actions",sortable:!1,render:(he,re)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[C&&e.jsx(Ka,{onClick:()=>F(re),tooltip:`View visit for ${re.customer?.name}`,icon:e.jsx(Cr,{fontSize:"small"}),color:"info"}),b&&e.jsx(is,{onClick:()=>H(re),tooltip:`Edit visit for ${re.customer?.name}`}),w&&e.jsx(Vt,{onClick:()=>M(re.id),tooltip:`Delete visit for ${re.customer?.name}`,itemName:`visit for ${re.customer?.name}`,confirmDelete:!0})]})}]:[]],pe=z;return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Visit Logging"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage customer visits, track activities, and monitor field operations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Visits",value:K,icon:e.jsx(Rn,{className:"w-6 h-6"}),color:"blue",isLoading:E}),e.jsx(fe,{title:"Active Visits",value:U,icon:e.jsx(jo,{className:"w-6 h-6"}),color:"green",isLoading:E}),e.jsx(fe,{title:"Inactive Visits",value:B,icon:e.jsx(Na,{className:"w-6 h-6"}),color:"red",isLoading:E}),e.jsx(fe,{title:"New This Month",value:V,icon:e.jsx(_s,{className:"w-6 h-6"}),color:"purple",isLoading:E})]}),D&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load visits. Please try again."}),e.jsx(lt,{data:R,columns:ae,actions:C||j?e.jsxs("div",{className:"flex justify-between !items-center gap-2 flex-wrap w-full",children:[e.jsx("div",{className:"flex gap-2 items-center flex-wrap",children:C&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Visits",value:s,onChange:L,debounceMs:400,showClear:!0,fullWidth:!1,className:"!min-w-80"}),e.jsxs(_e,{value:n,onChange:he=>r(he.target.value),className:"!min-w-32",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(_e,{value:i,onChange:he=>o(he.target.value),className:"!min-w-60",size:"small",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Sales Persons"}),pe.map(he=>e.jsx(Z,{value:he.id.toString(),children:he.name},he.id))]})]})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[C&&e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:Q.isPending,onClick:X,children:Q.isPending?"Exporting...":"Export"}),e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(xs,{}),onClick:()=>f(!0),children:"Import"}),j&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:Y,children:"Create"})]})]}):!1,getRowId:he=>he.id,initialOrderBy:"visit_date",loading:E,totalCount:O,page:$,rowsPerPage:S,isPermission:C,onPageChange:W,emptyMessage:s?`No visits found matching "${s}"`:"No visits found in the system"}),e.jsx(U9e,{selectedVisit:l,setSelectedVisit:c,drawerOpen:m,setDrawerOpen:u}),e.jsx(q9e,{drawerOpen:h,setDrawerOpen:f})]})},H9e=()=>{const{id:t}=Jn(),s=Gs(),{formatCurrency:a}=Qa(),{data:n,isLoading:r,error:i,isFetching:o}=t4e(Number(t)),l=n?.data,c=()=>{s("/transactions/visit-logging")},m=f=>{switch(f?.toLowerCase()){case"completed":return"success";case"in_progress":return"warning";case"planned":return"info";case"cancelled":return"error";default:return"default"}},u=f=>f?f.charAt(0).toUpperCase()+f.slice(1).replace("_"," "):"Unknown";if(r||o)return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"!absolute !top-3 !right-3",children:e.jsx(J,{variant:"circular",width:10,height:10,className:"!bg-green-200"})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(J,{variant:"circular",width:96,height:96,className:"!mx-auto !border-3 !border-white"})}),e.jsx(J,{variant:"text",width:"70%",height:24,className:"!mx-auto !mb-1"}),e.jsx(J,{variant:"text",width:"50%",height:16,className:"!mx-auto !mb-3"}),e.jsx(J,{variant:"rectangular",width:"60%",height:24,className:"!mx-auto !mb-4 !bg-green-50"}),e.jsxs("div",{className:"!space-y-2 !text-left !mt-4",children:[e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"30%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"60%",height:14})]}),e.jsxs("div",{className:"!p-2 !bg-gray-50 !rounded-md",children:[e.jsx(J,{variant:"text",width:"40%",height:10,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"70%",height:14})]})]})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:140,height:20})]}),e.jsx("div",{className:"!space-y-3",children:[1,2,3].map(f=>e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !justify-between",children:[e.jsxs("div",{className:"!flex-1",children:[e.jsx(J,{variant:"text",width:"60%",height:16,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"40%",height:12})]}),e.jsx(J,{variant:"text",width:80,height:16,className:"!text-right"})]})},f))})]})]})]}),e.jsx("div",{className:"!flex-4 !space-y-4",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[1,2,3,4,5,6].map(f=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(J,{variant:"text",width:`${40+f*8}%`,height:12}),e.jsx(J,{variant:"text",width:`${60+f*6}%`,height:16})]},f))})]})]})})]}),e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(J,{variant:"circular",width:16,height:16,className:"!bg-primary-200"})}),e.jsx(J,{variant:"text",width:200,height:20})]}),e.jsx("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 lg:!grid-cols-3 !gap-4",children:[1,2,3,4,5,6].map(f=>e.jsxs("div",{className:"!space-y-1",children:[e.jsx(J,{variant:"text",width:`${40+f*8}%`,height:12}),e.jsx(J,{variant:"text",width:`${60+f*6}%`,height:16})]},f))})]})]})]});if(i||!l)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-lg p-6 mb-6 text-white relative overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(la,{className:"w-5 h-5"}),e.jsx(x,{variant:"h6",className:"!text-white !font-bold",children:"Failed to load visit details"})]}),e.jsx(x,{variant:"body2",className:"!text-gray-200",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:c,className:"mt-4",children:"Back to Visits"})]});const h=({title:f,children:v,icon:_})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[_&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(_,{className:"!text-primary-500"})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:f})]}),v]})]});return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"!flex-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !text-center !relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`!w-2.5 !h-2.5 !rounded-full ${l.is_active==="Y"?"!bg-green-400":"!bg-gray-400"}`})}),e.jsx("div",{className:"!relative !mb-4",children:e.jsx(ht,{className:ln("!w-24 !h-24 !mx-auto !text-xl !font-bold !border-3 !border-white !shadow-lg",{"!bg-gradient-to-br !from-blue-400 !to-blue-600 !text-white":l.is_active==="Y","!bg-gradient-to-br !from-gray-400 !to-gray-600 !text-white":l.is_active!=="Y"}),children:e.jsx(Rn,{className:"!w-8 !h-8"})})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900 !mb-1",children:l.customer?.name||"Unknown Customer"}),e.jsxs(x,{variant:"body2",className:"!text-gray-600 !mb-3",children:["Visit #",l.id]}),e.jsxs("div",{className:"!flex !justify-center !gap-2 !mb-4",children:[e.jsx(De,{label:u(l.status),size:"small",color:m(l.status)}),e.jsx(De,{icon:l.is_active==="Y"?e.jsx(pt,{fontSize:"small"}):e.jsx(xu,{fontSize:"small"}),label:l.is_active==="Y"?"Active":"Inactive",size:"small",color:l.is_active==="Y"?"success":"error"})]}),e.jsxs("div",{className:"!space-y-1 !text-left !mt-4",children:[l.visit_date&&e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Visit Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(typeof l.visit_date=="string"?l.visit_date:String(l.visit_date||""))})]}),l.purpose&&e.jsxs("div",{className:"!p-1 !bg-gray-50 !rounded-md",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !mb-0.5",children:"Purpose"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.purpose})]})]})]}),e.jsx(h,{title:"Visit Timeline",icon:Ts,children:e.jsxs("div",{className:"!space-y-3",children:[l.visit_date&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(_s,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Visit Date"}),e.jsxs(x,{variant:"caption",className:"!text-gray-500",children:[Oe(typeof l.visit_date=="string"?l.visit_date:String(l.visit_date||"")),l.visit_time&&` at ${l.visit_time}`]})]})]})}),l.check_in_time&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Ts,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Check-in Time"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:Oe(typeof l.check_in_time=="string"?l.check_in_time:String(l.check_in_time||""))})]})]})}),l.check_out_time&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Ts,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Check-out Time"}),e.jsx(x,{variant:"caption",className:"!text-gray-500",children:Oe(typeof l.check_out_time=="string"?l.check_out_time:String(l.check_out_time||""))})]})]})}),l.duration&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Ts,{className:"w-5 h-5 text-primary-500"}),e.jsxs("div",{children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:"Duration"}),e.jsxs(x,{variant:"caption",className:"!text-gray-500",children:[l.duration," minutes"]})]})]})}),!l.visit_date&&!l.check_in_time&&e.jsxs("div",{className:"!text-center !py-8 !text-gray-500",children:[e.jsx(Ts,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx(x,{variant:"body2",children:"No timeline information available."})]})]})})]}),e.jsx("div",{className:"!flex-4 !space-y-4",children:e.jsx(h,{title:"Visit Information",icon:_s,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Visit ID"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:["#",l.id]})]}),l.visit_date&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Visit Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(typeof l.visit_date=="string"?l.visit_date:String(l.visit_date||""))})]}),l.visit_time&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Visit Time"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.visit_time})]}),l.purpose&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Purpose"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.purpose})]}),l.status&&e.jsxs("div",{className:"!space-y-0.5 flex flex-col items-start",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Status"}),e.jsx(De,{label:u(l.status),size:"small",color:m(l.status)})]}),l.salesperson&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Sales Person"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.salesperson.name})]}),l.route&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Route"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.route.name}),l.route.code&&e.jsxs(x,{variant:"caption",className:"!text-gray-500",children:["Code: ",l.route.code]})]}),l.zone&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Zone"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.zone.name}),l.zone.code&&e.jsxs(x,{variant:"caption",className:"!text-gray-500",children:["Code: ",l.zone.code]})]}),l.orders_created!==null&&l.orders_created!==void 0&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Orders Created"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.orders_created})]}),l.amount_collected&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Amount Collected"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-primary-600",children:a(Number(l.amount_collected))})]}),l.next_visit_date&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Next Visit Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(typeof l.next_visit_date=="string"?l.next_visit_date:String(l.next_visit_date||""))})]}),l.createdate&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Created Date"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(typeof l.createdate=="string"?l.createdate:String(l.createdate||""))})]}),l.updatedate&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Last Updated"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:Oe(typeof l.updatedate=="string"?l.updatedate:String(l.updatedate||""))})]})]})})})]}),l.customer&&e.jsx(h,{title:"Customer Information",icon:Rn,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 lg:!grid-cols-3 !gap-4",children:[e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Name"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.customer.name})]}),l.customer.code&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Code"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.customer.code})]}),l.customer.type&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Customer Type"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.customer.type})]}),l.customer.contact_person&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Contact Person"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.customer.contact_person})]}),l.customer.phone_number&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Phone Number"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.customer.phone_number})]}),l.customer.email&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Email"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !break-all",children:l.customer.email})]}),(l.customer.city||l.customer.state)&&e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Location"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:[l.customer.city,l.customer.state,l.customer.zipcode].filter(Boolean).join(", ")||"N/A"})]}),l.customer.address&&e.jsxs("div",{className:"!space-y-0.5 md:!col-span-2 lg:!col-span-3",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Address"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:l.customer.address})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Credit Limit"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:a(Number(l.customer.credit_limit))})]}),e.jsxs("div",{className:"!space-y-0.5",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Outstanding Amount"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-red-600",children:a(Number(l.customer.outstanding_amount))})]}),e.jsxs("div",{className:"!space-y-0.5 flex flex-col items-start",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide",children:"Status"}),e.jsx(De,{label:l.customer.is_active==="Y"?"Active":"Inactive",size:"small",color:l.customer.is_active==="Y"?"success":"error"})]})]})}),(l.start_latitude||l.start_longitude||l.end_latitude||l.end_longitude)&&e.jsx(h,{title:"Location Details",icon:Qs,children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[(l.start_latitude||l.start_longitude)&&e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !mb-2",children:"Start Location"}),l.start_latitude&&e.jsxs(x,{variant:"caption",className:"!text-gray-600 !block",children:["Latitude: ",l.start_latitude]}),l.start_longitude&&e.jsxs(x,{variant:"caption",className:"!text-gray-600 !block",children:["Longitude: ",l.start_longitude]})]}),(l.end_latitude||l.end_longitude)&&e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900 !mb-2",children:"End Location"}),l.end_latitude&&e.jsxs(x,{variant:"caption",className:"!text-gray-600 !block",children:["Latitude: ",l.end_latitude]}),l.end_longitude&&e.jsxs(x,{variant:"caption",className:"!text-gray-600 !block",children:["Longitude: ",l.end_longitude]})]})]})}),(l.visit_notes||l.customer_feedback)&&e.jsx(h,{title:"Notes & Feedback",icon:jo,children:e.jsxs("div",{className:"!space-y-4",children:[l.visit_notes&&e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Visit Notes"}),e.jsx(x,{variant:"body2",className:"!text-gray-700 !bg-gray-50 !p-3 !rounded !border !border-gray-200",children:l.visit_notes})]}),l.customer_feedback&&e.jsxs("div",{children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1 !font-medium",children:"Customer Feedback"}),e.jsx(x,{variant:"body2",className:"!text-gray-700 !bg-gray-50 !p-3 !rounded !border !border-gray-200",children:l.customer_feedback})]})]})}),e.jsx("div",{className:"!mt-4",children:e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:c,children:"Back to Visits"})})]})},W9e=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState("all"),[o,l]=g.useState("all"),[c,m]=g.useState(1),[u]=g.useState(10),{isRead:h}=Ze("alert"),f=!1,v=[],_=v.filter(D=>D.type==="alert").length,S=v.filter(D=>D.type==="reminder").length,j=v.filter(D=>D.status==="active").length,b=v.filter(D=>D.priority==="high").length,w=D=>{switch(D?.toLowerCase()){case"active":return"success";case"completed":return"info";case"cancelled":return"error";default:return"default"}},C=D=>{switch(D?.toLowerCase()){case"high":return"error";case"medium":return"warning";case"low":return"info";default:return"default"}},P=D=>D==="alert"?e.jsx(Na,{className:"!w-4 !h-4 !text-red-500"}):e.jsx(gN,{className:"!w-4 !h-4 !text-blue-500"}),E=[{id:"type",label:"Type",render:(D,T)=>e.jsxs("div",{className:"!flex !items-center !gap-2",children:[P(T.type),e.jsx(x,{variant:"body2",className:"!capitalize",children:T.type})]})},{id:"title",label:"Title",render:(D,T)=>e.jsx(x,{variant:"body2",className:"!font-medium",children:T.title})},{id:"description",label:"Description",render:(D,T)=>e.jsx(x,{variant:"body2",className:"!max-w-md !truncate !text-gray-600",children:T.description})},{id:"category",label:"Category",render:(D,T)=>e.jsx(De,{label:T.category,size:"small",className:"!capitalize"})},{id:"priority",label:"Priority",render:(D,T)=>e.jsx(De,{label:T.priority,color:C(T.priority),size:"small",className:"!capitalize"})},{id:"status",label:"Status",render:(D,T)=>e.jsx(De,{label:T.status,color:w(T.status),size:"small",className:"!capitalize"})},{id:"scheduled_date",label:"Scheduled Date",render:(D,T)=>T.scheduled_date?vp(T.scheduled_date):"-"},{id:"trigger_date",label:"Trigger Date",render:(D,T)=>T.trigger_date?vp(T.trigger_date):"-"},{id:"created_date",label:"Created Date",render:(D,T)=>Oe(T.created_date)}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs("div",{children:[e.jsx(x,{variant:"h5",className:"!font-bold !text-gray-900",children:"Alerts & Reminders"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Configure and manage system alerts and reminders for users and roles"})]})}),h&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Alerts",value:_,icon:e.jsx(Na,{className:"w-6 h-6"}),color:"red",isLoading:f}),e.jsx(fe,{title:"Total Reminders",value:S,icon:e.jsx(gN,{className:"w-6 h-6"}),color:"blue",isLoading:f}),e.jsx(fe,{title:"Active Alerts",value:j,icon:e.jsx(gN,{className:"w-6 h-6"}),color:"green",isLoading:f}),e.jsx(fe,{title:"High Priority",value:b,icon:e.jsx(Na,{className:"w-6 h-6"}),color:"orange",isLoading:f})]}),e.jsx(lt,{columns:E,data:v,loading:f,page:c-1,onPageChange:D=>m(D+1),rowsPerPage:u,isPermission:h,actions:h?e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsx("div",{className:"flex-1 min-w-[250px]",children:e.jsx(as,{placeholder:"Search Alerts & Reminders...",value:t,onChange:s,className:"min-w-[300px]"})}),e.jsx("div",{className:"w-[180px]",children:e.jsxs(_e,{label:"Type",value:a,onChange:D=>n(D.target.value),fullWidth:!0,disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Types"}),e.jsx(Z,{value:"alert",children:"Alerts"}),e.jsx(Z,{value:"reminder",children:"Reminders"})]})}),e.jsx("div",{className:"w-[180px]",children:e.jsxs(_e,{label:"Status",value:r,onChange:D=>i(D.target.value),fullWidth:!0,disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"completed",children:"Completed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]})}),e.jsx("div",{className:"w-[180px]",children:e.jsxs(_e,{label:"Priority",value:o,onChange:D=>l(D.target.value),fullWidth:!0,disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Priorities"}),e.jsx(Z,{value:"high",children:"High"}),e.jsx(Z,{value:"medium",children:"Medium"}),e.jsx(Z,{value:"low",children:"Low"})]})})]}):void 0})]})},b1={async getApprovalWorkflowSetups(t){const s={};t?.page&&(s.page=t.page),t?.size&&(s.size=t.size),t?.search&&(s.search=t.search),t?.request_type&&(s.request_type=t.request_type),t?.startDate&&(s.startDate=t.startDate),t?.endDate&&(s.endDate=t.endDate);const a=await ie.get("/approval-workflow-setup",{params:s});return{data:a.data.data||[],pagination:a.data.pagination||{currentPage:1,size:10,totalPages:0,totalCount:0},summary:a.data.summary||{total_workflows:0}}},async getApprovalWorkflowSetupById(t){return(await ie.get(`/approval-workflow-setup/${t}`)).data.data},async createApprovalWorkflowSetup(t){return(await ie.post("/approval-workflow-setup",t)).data.data},async updateApprovalWorkflowSetup(t,s){return(await ie.put(`/approval-workflow-setup/${t}`,s)).data.data},async deleteApprovalWorkflowSetupByRequestType(t){await ie.delete(`/approval-workflow-setup/${t}`)},async deleteApprovalWorkflowSetups(t){await ie.post("/approval-workflow-setup/delete-multiple",{ids:t})},async getApprovalWorkflowSetupsByRequest(t,s,a){const n={request_type:t};return s&&(n.zone_id=s),a&&(n.depot_id=a),(await ie.get("/approval-setup/get-all-workflow",{params:n})).data.data||[]},async getZonesWithWorkflows(t){return(await ie.get(`/zones-with-workflow-setup/${t}`)).data.data||[]},async getDepotsWithWorkflows(t){return(await ie.get(`/depots-with-workflow-setup/${t}`)).data.data||[]}},Il={all:["approval-workflow-setup"],lists:()=>[...Il.all,"list"],list:t=>[...Il.lists(),t],details:()=>[...Il.all,"detail"],detail:t=>[...Il.details(),t],byRequest:(t,s,a)=>[...Il.all,"by-request",t,s,a],zones:t=>[...Il.all,"zones",t],depots:t=>[...Il.all,"depots",t]},Y9e=(t,s)=>nt({queryKey:Il.list(t),queryFn:()=>b1.getApprovalWorkflowSetups(t),staleTime:300*1e3,...s}),G9e=(t,s,a,n)=>nt({queryKey:Il.byRequest(t,s,a),queryFn:()=>b1.getApprovalWorkflowSetupsByRequest(t,s,a),enabled:!!t,staleTime:300*1e3,...n}),K9e=()=>Re({mutationFn:t=>b1.createApprovalWorkflowSetup(t),invalidateQueries:["approval-workflow-setup"],loadingMessage:"Creating approval workflow setup..."}),Q9e=()=>Re({mutationFn:t=>b1.deleteApprovalWorkflowSetupByRequestType(t),invalidateQueries:["approval-workflow-setup"],loadingMessage:"Deleting approval workflow setup..."});function gr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Z9e=typeof Symbol=="function"&&Symbol.observable||"@@observable",yD=Z9e,bD=()=>Math.random().toString(36).substring(7).split("").join("."),X9e={INIT:`@@redux/INIT${bD()}`,REPLACE:`@@redux/REPLACE${bD()}`},vD=X9e;function J9e(t){if(typeof t!="object"||t===null)return!1;let s=t;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(t)===s||Object.getPrototypeOf(t)===null}function mL(t,s,a){if(typeof t!="function")throw new Error(gr(2));if(typeof s=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(gr(0));if(typeof s=="function"&&typeof a>"u"&&(a=s,s=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(gr(1));return a(mL)(t,s)}let n=t,r=s,i=new Map,o=i,l=0,c=!1;function m(){o===i&&(o=new Map,i.forEach((j,b)=>{o.set(b,j)}))}function u(){if(c)throw new Error(gr(3));return r}function h(j){if(typeof j!="function")throw new Error(gr(4));if(c)throw new Error(gr(5));let b=!0;m();const w=l++;return o.set(w,j),function(){if(b){if(c)throw new Error(gr(6));b=!1,m(),o.delete(w),i=null}}}function f(j){if(!J9e(j))throw new Error(gr(7));if(typeof j.type>"u")throw new Error(gr(8));if(typeof j.type!="string")throw new Error(gr(17));if(c)throw new Error(gr(9));try{c=!0,r=n(r,j)}finally{c=!1}return(i=o).forEach(w=>{w()}),j}function v(j){if(typeof j!="function")throw new Error(gr(10));n=j,f({type:vD.REPLACE})}function _(){const j=h;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(gr(11));function w(){const P=b;P.next&&P.next(u())}return w(),{unsubscribe:j(w)}},[yD](){return this}}}return f({type:vD.INIT}),{dispatch:f,subscribe:h,getState:u,replaceReducer:v,[yD]:_}}function jD(t,s){return function(...a){return s(t.apply(this,a))}}function ND(t,s){if(typeof t=="function")return jD(t,s);if(typeof t!="object"||t===null)throw new Error(gr(16));const a={};for(const n in t){const r=t[n];typeof r=="function"&&(a[n]=jD(r,s))}return a}function pL(...t){return t.length===0?s=>s:t.length===1?t[0]:t.reduce((s,a)=>(...n)=>s(a(...n)))}function eRe(...t){return s=>(a,n)=>{const r=s(a,n);let i=()=>{throw new Error(gr(15))};const o={getState:r.getState,dispatch:(c,...m)=>i(c,...m)},l=t.map(c=>c(o));return i=pL(...l)(r.dispatch),{...r,dispatch:i}}}var GN={exports:{}},KN={};var wD;function tRe(){if(wD)return KN;wD=1;var t=Xb();function s(c,m){return c===m&&(c!==0||1/c===1/m)||c!==c&&m!==m}var a=typeof Object.is=="function"?Object.is:s,n=t.useSyncExternalStore,r=t.useRef,i=t.useEffect,o=t.useMemo,l=t.useDebugValue;return KN.useSyncExternalStoreWithSelector=function(c,m,u,h,f){var v=r(null);if(v.current===null){var _={hasValue:!1,value:null};v.current=_}else _=v.current;v=o(function(){function j(E){if(!b){if(b=!0,w=E,E=h(E),f!==void 0&&_.hasValue){var D=_.value;if(f(D,E))return C=D}return C=E}if(D=C,a(w,E))return D;var T=h(E);return f!==void 0&&f(D,T)?(w=E,D):(w=E,C=T)}var b=!1,w,C,P=u===void 0?null:u;return[function(){return j(m())},P===null?void 0:function(){return j(P())}]},[m,u,h,f]);var S=n(c,v[0],v[1]);return i(function(){_.hasValue=!0,_.value=S},[S]),l(S),S},KN}var _D;function sRe(){return _D||(_D=1,GN.exports=tRe()),GN.exports}sRe();var aRe=g.version.startsWith("19"),nRe=Symbol.for(aRe?"react.transitional.element":"react.element"),rRe=Symbol.for("react.portal"),iRe=Symbol.for("react.fragment"),oRe=Symbol.for("react.strict_mode"),lRe=Symbol.for("react.profiler"),cRe=Symbol.for("react.consumer"),dRe=Symbol.for("react.context"),hL=Symbol.for("react.forward_ref"),uRe=Symbol.for("react.suspense"),mRe=Symbol.for("react.suspense_list"),i3=Symbol.for("react.memo"),pRe=Symbol.for("react.lazy"),hRe=hL,fRe=i3;function xRe(t){if(typeof t=="object"&&t!==null){const{$$typeof:s}=t;switch(s){case nRe:switch(t=t.type,t){case iRe:case lRe:case oRe:case uRe:case mRe:return t;default:switch(t=t&&t.$$typeof,t){case dRe:case hL:case pRe:case i3:return t;case cRe:return t;default:return s}}case rRe:return s}}}function gRe(t){return xRe(t)===i3}function yRe(t,s,a,n,{areStatesEqual:r,areOwnPropsEqual:i,areStatePropsEqual:o}){let l=!1,c,m,u,h,f;function v(w,C){return c=w,m=C,u=t(c,m),h=s(n,m),f=a(u,h,m),l=!0,f}function _(){return u=t(c,m),s.dependsOnOwnProps&&(h=s(n,m)),f=a(u,h,m),f}function S(){return t.dependsOnOwnProps&&(u=t(c,m)),s.dependsOnOwnProps&&(h=s(n,m)),f=a(u,h,m),f}function j(){const w=t(c,m),C=!o(w,u);return u=w,C&&(f=a(u,h,m)),f}function b(w,C){const P=!i(C,m),E=!r(w,c,C,m);return c=w,m=C,P&&E?_():P?S():E?j():f}return function(C,P){return l?b(C,P):v(C,P)}}function bRe(t,{initMapStateToProps:s,initMapDispatchToProps:a,initMergeProps:n,...r}){const i=s(t,r),o=a(t,r),l=n(t,r);return yRe(i,o,l,t,r)}function vRe(t,s){const a={};for(const n in t){const r=t[n];typeof r=="function"&&(a[n]=(...i)=>s(r(...i)))}return a}function O_(t){return function(a){const n=t(a);function r(){return n}return r.dependsOnOwnProps=!1,r}}function SD(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function fL(t,s){return function(n,{displayName:r}){const i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=t,i.dependsOnOwnProps=SD(t);let m=i(l,c);return typeof m=="function"&&(i.mapToProps=m,i.dependsOnOwnProps=SD(m),m=i(l,c)),m},i}}function o3(t,s){return(a,n)=>{throw new Error(`Invalid value of type ${typeof t} for ${s} argument when connecting component ${n.wrappedComponentName}.`)}}function jRe(t){return t&&typeof t=="object"?O_(s=>vRe(t,s)):t?typeof t=="function"?fL(t):o3(t,"mapDispatchToProps"):O_(s=>({dispatch:s}))}function NRe(t){return t?typeof t=="function"?fL(t):o3(t,"mapStateToProps"):O_(()=>({}))}function wRe(t,s,a){return{...a,...t,...s}}function _Re(t){return function(a,{displayName:n,areMergedPropsEqual:r}){let i=!1,o;return function(c,m,u){const h=t(c,m,u);return i?r(h,o)||(o=h):(i=!0,o=h),o}}}function SRe(t){return t?typeof t=="function"?_Re(t):o3(t,"mergeProps"):()=>wRe}function CRe(t){t()}function kRe(){let t=null,s=null;return{clear(){t=null,s=null},notify(){CRe(()=>{let a=t;for(;a;)a.callback(),a=a.next})},get(){const a=[];let n=t;for(;n;)a.push(n),n=n.next;return a},subscribe(a){let n=!0;const r=s={callback:a,next:null,prev:s};return r.prev?r.prev.next=r:t=r,function(){!n||t===null||(n=!1,r.next?r.next.prev=r.prev:s=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var CD={notify(){},get:()=>[]};function xL(t,s){let a,n=CD,r=0,i=!1;function o(S){u();const j=n.subscribe(S);let b=!1;return()=>{b||(b=!0,j(),h())}}function l(){n.notify()}function c(){_.onStateChange&&_.onStateChange()}function m(){return i}function u(){r++,a||(a=s?s.addNestedSub(c):t.subscribe(c),n=kRe())}function h(){r--,a&&r===0&&(a(),a=void 0,n.clear(),n=CD)}function f(){i||(i=!0,u())}function v(){i&&(i=!1,h())}const _={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:m,trySubscribe:f,tryUnsubscribe:v,getListeners:()=>n};return _}var PRe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ERe=PRe(),TRe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",MRe=TRe(),DRe=()=>ERe||MRe?g.useLayoutEffect:g.useEffect,Vb=DRe();function kD(t,s){return t===s?t!==0||s!==0||1/t===1/s:t!==t&&s!==s}function QN(t,s){if(kD(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;const a=Object.keys(t),n=Object.keys(s);if(a.length!==n.length)return!1;for(let r=0;r<a.length;r++)if(!Object.prototype.hasOwnProperty.call(s,a[r])||!kD(t[a[r]],s[a[r]]))return!1;return!0}var RRe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ARe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},IRe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},gL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ORe={[hRe]:IRe,[fRe]:gL};function PD(t){return gRe(t)?gL:ORe[t.$$typeof]||RRe}var FRe=Object.defineProperty,LRe=Object.getOwnPropertyNames,ED=Object.getOwnPropertySymbols,zRe=Object.getOwnPropertyDescriptor,$Re=Object.getPrototypeOf,TD=Object.prototype;function F_(t,s){if(typeof s!="string"){if(TD){const i=$Re(s);i&&i!==TD&&F_(t,i)}let a=LRe(s);ED&&(a=a.concat(ED(s)));const n=PD(t),r=PD(s);for(let i=0;i<a.length;++i){const o=a[i];if(!ARe[o]&&!(r&&r[o])&&!(n&&n[o])){const l=zRe(s,o);try{FRe(t,o,l)}catch{}}}}return t}var qRe=Symbol.for("react-redux-context"),BRe=typeof globalThis<"u"?globalThis:{};function URe(){if(!g.createContext)return{};const t=BRe[qRe]??=new Map;let s=t.get(g.createContext);return s||(s=g.createContext(null),t.set(g.createContext,s)),s}var yL=URe(),VRe=[null,null];function HRe(t,s,a){Vb(()=>t(...s),a)}function WRe(t,s,a,n,r,i){t.current=n,a.current=!1,r.current&&(r.current=null,i())}function YRe(t,s,a,n,r,i,o,l,c,m,u){if(!t)return()=>{};let h=!1,f=null;const v=()=>{if(h||!l.current)return;const S=s.getState();let j,b;try{j=n(S,r.current)}catch(w){b=w,f=w}b||(f=null),j===i.current?o.current||m():(i.current=j,c.current=j,o.current=!0,u())};return a.onStateChange=v,a.trySubscribe(),v(),()=>{if(h=!0,a.tryUnsubscribe(),a.onStateChange=null,f)throw f}}function GRe(t,s){return t===s}function KRe(t,s,a,{pure:n,areStatesEqual:r=GRe,areOwnPropsEqual:i=QN,areStatePropsEqual:o=QN,areMergedPropsEqual:l=QN,forwardRef:c=!1,context:m=yL}={}){const u=m,h=NRe(t),f=jRe(s),v=SRe(a),_=!!t;return j=>{const b=j.displayName||j.name||"Component",w=`Connect(${b})`,C={shouldHandleStateChanges:_,displayName:w,wrappedComponentName:b,WrappedComponent:j,initMapStateToProps:h,initMapDispatchToProps:f,initMergeProps:v,areStatesEqual:r,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:l};function P(T){const[R,z,O]=g.useMemo(()=>{const{reactReduxForwardedRef:ge,...le}=T;return[T.context,ge,le]},[T]),$=g.useMemo(()=>{let ge=u;return R?.Consumer,ge},[R,u]),A=g.useContext($),Q=!!T.store&&!!T.store.getState&&!!T.store.dispatch,K=!!A&&!!A.store,U=Q?T.store:A.store,B=K?A.getServerState:U.getState,V=g.useMemo(()=>bRe(U.dispatch,C),[U]),[Y,H]=g.useMemo(()=>{if(!_)return VRe;const ge=xL(U,Q?void 0:A.subscription),le=ge.notifyNestedSubs.bind(ge);return[ge,le]},[U,Q,A]),F=g.useMemo(()=>Q?A:{...A,subscription:Y},[Q,A,Y]),M=g.useRef(void 0),L=g.useRef(O),W=g.useRef(void 0),X=g.useRef(!1),te=g.useRef(!1),se=g.useRef(void 0);Vb(()=>(te.current=!0,()=>{te.current=!1}),[]);const ae=g.useMemo(()=>()=>W.current&&O===L.current?W.current:V(U.getState(),O),[U,O]),pe=g.useMemo(()=>le=>Y?YRe(_,U,Y,V,L,M,X,te,W,H,le):()=>{},[Y]);HRe(WRe,[L,M,X,O,W,H]);let he;try{he=g.useSyncExternalStore(pe,ae,B?()=>V(B(),O):ae)}catch(ge){throw se.current&&(ge.message+=`
The error may be correlated with this previous error:
${se.current.stack}

`),ge}Vb(()=>{se.current=void 0,W.current=void 0,M.current=he});const re=g.useMemo(()=>g.createElement(j,{...he,ref:z}),[z,j,he]);return g.useMemo(()=>_?g.createElement($.Provider,{value:F},re):re,[$,re,F])}const D=g.memo(P);if(D.WrappedComponent=j,D.displayName=P.displayName=w,c){const R=g.forwardRef(function(O,$){return g.createElement(D,{...O,reactReduxForwardedRef:$})});return R.displayName=w,R.WrappedComponent=j,F_(R,j)}return F_(D,j)}}var bL=KRe;function QRe(t){const{children:s,context:a,serverState:n,store:r}=t,i=g.useMemo(()=>{const c=xL(r);return{store:r,subscription:c,getServerState:n?()=>n:void 0}},[r,n]),o=g.useMemo(()=>r.getState(),[r]);Vb(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==r.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=a||yL;return g.createElement(l.Provider,{value:i},s)}var ZRe=QRe,XRe="Invariant failed";function JRe(t,s){throw new Error(XRe)}var bo=function(s){var a=s.top,n=s.right,r=s.bottom,i=s.left,o=n-i,l=r-a,c={top:a,right:n,bottom:r,left:i,width:o,height:l,x:i,y:a,center:{x:(n+i)/2,y:(r+a)/2}};return c},l3=function(s,a){return{top:s.top-a.top,left:s.left-a.left,bottom:s.bottom+a.bottom,right:s.right+a.right}},MD=function(s,a){return{top:s.top+a.top,left:s.left+a.left,bottom:s.bottom-a.bottom,right:s.right-a.right}},eAe=function(s,a){return{top:s.top+a.y,left:s.left+a.x,bottom:s.bottom+a.y,right:s.right+a.x}},ZN={top:0,right:0,bottom:0,left:0},c3=function(s){var a=s.borderBox,n=s.margin,r=n===void 0?ZN:n,i=s.border,o=i===void 0?ZN:i,l=s.padding,c=l===void 0?ZN:l,m=bo(l3(a,r)),u=bo(MD(a,o)),h=bo(MD(u,c));return{marginBox:m,borderBox:bo(a),paddingBox:u,contentBox:h,margin:r,border:o,padding:c}},Oi=function(s){var a=s.slice(0,-2),n=s.slice(-2);if(n!=="px")return 0;var r=Number(a);return isNaN(r)&&JRe(),r},tAe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Hb=function(s,a){var n=s.borderBox,r=s.border,i=s.margin,o=s.padding,l=eAe(n,a);return c3({borderBox:l,border:r,margin:i,padding:o})},Wb=function(s,a){return a===void 0&&(a=tAe()),Hb(s,a)},vL=function(s,a){var n={top:Oi(a.marginTop),right:Oi(a.marginRight),bottom:Oi(a.marginBottom),left:Oi(a.marginLeft)},r={top:Oi(a.paddingTop),right:Oi(a.paddingRight),bottom:Oi(a.paddingBottom),left:Oi(a.paddingLeft)},i={top:Oi(a.borderTopWidth),right:Oi(a.borderRightWidth),bottom:Oi(a.borderBottomWidth),left:Oi(a.borderLeftWidth)};return c3({borderBox:s,margin:n,padding:r,border:i})},jL=function(s){var a=s.getBoundingClientRect(),n=window.getComputedStyle(s);return vL(a,n)},Vx=function(s){var a=[],n=null,r=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];a=l,!n&&(n=requestAnimationFrame(function(){n=null,s.apply(void 0,a)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function NL(t,s){}NL.bind(null,"warn");NL.bind(null,"error");function Kc(){}function sAe(t,s){return{...t,...s}}function Wi(t,s,a){const n=s.map(r=>{const i=sAe(a,r.options);return t.addEventListener(r.eventName,r.fn,i),function(){t.removeEventListener(r.eventName,r.fn,i)}});return function(){n.forEach(i=>{i()})}}const aAe="Invariant failed";class Yb extends Error{}Yb.prototype.toString=function(){return this.message};function Lt(t,s){throw new Yb(aAe)}class nAe extends Nt.Component{constructor(...s){super(...s),this.callbacks=null,this.unbind=Kc,this.onWindowError=a=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),a.error instanceof Yb&&a.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=a=>{this.callbacks=a}}componentDidMount(){this.unbind=Wi(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(s){if(s instanceof Yb){this.setState({});return}throw s}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const rAe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Gb=t=>t+1,iAe=t=>`
  You have lifted an item in position ${Gb(t.source.index)}
`,wL=(t,s)=>{const a=t.droppableId===s.droppableId,n=Gb(t.index),r=Gb(s.index);return a?`
      You have moved the item from position ${n}
      to position ${r}
    `:`
    You have moved the item from position ${n}
    in list ${t.droppableId}
    to list ${s.droppableId}
    in position ${r}
  `},_L=(t,s,a)=>s.droppableId===a.droppableId?`
      The item ${t}
      has been combined with ${a.draggableId}`:`
      The item ${t}
      in list ${s.droppableId}
      has been combined with ${a.draggableId}
      in list ${a.droppableId}
    `,oAe=t=>{const s=t.destination;if(s)return wL(t.source,s);const a=t.combine;return a?_L(t.draggableId,t.source,a):"You are over an area that cannot be dropped on"},DD=t=>`
  The item has returned to its starting position
  of ${Gb(t.index)}
`,lAe=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${DD(t.source)}
    `;const s=t.destination,a=t.combine;return s?`
      You have dropped the item.
      ${wL(t.source,s)}
    `:a?`
      You have dropped the item.
      ${_L(t.draggableId,t.source,a)}
    `:`
    The item has been dropped while not over a drop area.
    ${DD(t.source)}
  `},ob={dragHandleUsageInstructions:rAe,onDragStart:iAe,onDragUpdate:oAe,onDragEnd:lAe};function cAe(t,s){return!!(t===s||Number.isNaN(t)&&Number.isNaN(s))}function SL(t,s){if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(!cAe(t[a],s[a]))return!1;return!0}function oa(t,s){const a=g.useState(()=>({inputs:s,result:t()}))[0],n=g.useRef(!0),r=g.useRef(a),o=n.current||!!(s&&r.current.inputs&&SL(s,r.current.inputs))?r.current:{inputs:s,result:t()};return g.useEffect(()=>{n.current=!1,r.current=o},[o]),o.result}function ps(t,s){return oa(()=>t,s)}const $n={x:0,y:0},Zn=(t,s)=>({x:t.x+s.x,y:t.y+s.y}),di=(t,s)=>({x:t.x-s.x,y:t.y-s.y}),Qc=(t,s)=>t.x===s.x&&t.y===s.y,$p=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),wu=(t,s,a=0)=>t==="x"?{x:s,y:a}:{x:a,y:s},Hx=(t,s)=>Math.sqrt((s.x-t.x)**2+(s.y-t.y)**2),RD=(t,s)=>Math.min(...s.map(a=>Hx(t,a))),CL=t=>s=>({x:t(s.x),y:t(s.y)});var dAe=(t,s)=>{const a=bo({top:Math.max(s.top,t.top),right:Math.min(s.right,t.right),bottom:Math.min(s.bottom,t.bottom),left:Math.max(s.left,t.left)});return a.width<=0||a.height<=0?null:a};const Rg=(t,s)=>({top:t.top+s.y,left:t.left+s.x,bottom:t.bottom+s.y,right:t.right+s.x}),AD=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],uAe={top:0,right:0,bottom:0,left:0},mAe=(t,s)=>s?Rg(t,s.scroll.diff.displacement):t,pAe=(t,s,a)=>a&&a.increasedBy?{...t,[s.end]:t[s.end]+a.increasedBy[s.line]}:t,hAe=(t,s)=>s&&s.shouldClipSubject?dAe(s.pageMarginBox,t):bo(t);var wp=({page:t,withPlaceholder:s,axis:a,frame:n})=>{const r=mAe(t.marginBox,n),i=pAe(r,a,s),o=hAe(i,n);return{page:t,withPlaceholder:s,active:o}},d3=(t,s)=>{t.frame||Lt();const a=t.frame,n=di(s,a.scroll.initial),r=$p(n),i={...a,scroll:{initial:a.scroll.initial,current:s,diff:{value:n,displacement:r},max:a.scroll.max}},o=wp({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:i});return{...t,frame:i,subject:o}};function zn(t,s=SL){let a=null;function n(...r){if(a&&a.lastThis===this&&s(r,a.lastArgs))return a.lastResult;const i=t.apply(this,r);return a={lastResult:i,lastArgs:r,lastThis:this},i}return n.clear=function(){a=null},n}const kL=zn(t=>t.reduce((s,a)=>(s[a.descriptor.id]=a,s),{})),PL=zn(t=>t.reduce((s,a)=>(s[a.descriptor.id]=a,s),{})),v1=zn(t=>Object.values(t)),fAe=zn(t=>Object.values(t));var qp=zn((t,s)=>fAe(s).filter(n=>t===n.descriptor.droppableId).sort((n,r)=>n.descriptor.index-r.descriptor.index));function u3(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function j1(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var N1=zn((t,s)=>s.filter(a=>a.descriptor.id!==t.descriptor.id)),xAe=({isMovingForward:t,draggable:s,destination:a,insideDestination:n,previousImpact:r})=>{if(!a.isCombineEnabled||!u3(r))return null;function o(v){const _={type:"COMBINE",combine:{draggableId:v,droppableId:a.descriptor.id}};return{...r,at:_}}const l=r.displaced.all,c=l.length?l[0]:null;if(t)return c?o(c):null;const m=N1(s,n);if(!c){if(!m.length)return null;const v=m[m.length-1];return o(v.descriptor.id)}const u=m.findIndex(v=>v.descriptor.id===c);u===-1&&Lt();const h=u-1;if(h<0)return null;const f=m[h];return o(f.descriptor.id)},Bp=(t,s)=>t.descriptor.droppableId===s.descriptor.id;const EL={point:$n,value:0},Wx={invisible:{},visible:{},all:[]},gAe={displaced:Wx,displacedBy:EL,at:null};var Xi=(t,s)=>a=>t<=a&&a<=s,TL=t=>{const s=Xi(t.top,t.bottom),a=Xi(t.left,t.right);return n=>{if(s(n.top)&&s(n.bottom)&&a(n.left)&&a(n.right))return!0;const i=s(n.top)||s(n.bottom),o=a(n.left)||a(n.right);if(i&&o)return!0;const c=n.top<t.top&&n.bottom>t.bottom,m=n.left<t.left&&n.right>t.right;return c&&m?!0:c&&o||m&&i}},yAe=t=>{const s=Xi(t.top,t.bottom),a=Xi(t.left,t.right);return n=>s(n.top)&&s(n.bottom)&&a(n.left)&&a(n.right)};const m3={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ML={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var bAe=t=>s=>{const a=Xi(s.top,s.bottom),n=Xi(s.left,s.right);return r=>t===m3?a(r.top)&&a(r.bottom):n(r.left)&&n(r.right)};const vAe=(t,s)=>{const a=s.frame?s.frame.scroll.diff.displacement:$n;return Rg(t,a)},jAe=(t,s,a)=>s.subject.active?a(s.subject.active)(t):!1,NAe=(t,s,a)=>a(s)(t),p3=({target:t,destination:s,viewport:a,withDroppableDisplacement:n,isVisibleThroughFrameFn:r})=>{const i=n?vAe(t,s):t;return jAe(i,s,r)&&NAe(i,a,r)},wAe=t=>p3({...t,isVisibleThroughFrameFn:TL}),DL=t=>p3({...t,isVisibleThroughFrameFn:yAe}),_Ae=t=>p3({...t,isVisibleThroughFrameFn:bAe(t.destination.axis)}),SAe=(t,s,a)=>{if(typeof a=="boolean")return a;if(!s)return!0;const{invisible:n,visible:r}=s;if(n[t])return!1;const i=r[t];return i?i.shouldAnimate:!0};function CAe(t,s){const a=t.page.marginBox,n={top:s.point.y,right:0,bottom:0,left:s.point.x};return bo(l3(a,n))}function Yx({afterDragging:t,destination:s,displacedBy:a,viewport:n,forceShouldAnimate:r,last:i}){return t.reduce(function(l,c){const m=CAe(c,a),u=c.descriptor.id;if(l.all.push(u),!wAe({target:m,destination:s,viewport:n,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const f=SAe(u,i,r),v={draggableId:u,shouldAnimate:f};return l.visible[u]=v,l},{all:[],visible:{},invisible:{}})}function kAe(t,s){if(!t.length)return 0;const a=t[t.length-1].descriptor.index;return s.inHomeList?a:a+1}function ID({insideDestination:t,inHomeList:s,displacedBy:a,destination:n}){const r=kAe(t,{inHomeList:s});return{displaced:Wx,displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:r}}}}function Kb({draggable:t,insideDestination:s,destination:a,viewport:n,displacedBy:r,last:i,index:o,forceShouldAnimate:l}){const c=Bp(t,a);if(o==null)return ID({insideDestination:s,inHomeList:c,displacedBy:r,destination:a});const m=s.find(_=>_.descriptor.index===o);if(!m)return ID({insideDestination:s,inHomeList:c,displacedBy:r,destination:a});const u=N1(t,s),h=s.indexOf(m),f=u.slice(h);return{displaced:Yx({afterDragging:f,destination:a,displacedBy:r,last:i,viewport:n.frame,forceShouldAnimate:l}),displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:o}}}}function ad(t,s){return!!s.effected[t]}var PAe=({isMovingForward:t,destination:s,draggables:a,combine:n,afterCritical:r})=>{if(!s.isCombineEnabled)return null;const i=n.draggableId,l=a[i].descriptor.index;return ad(i,r)?t?l:l-1:t?l+1:l},EAe=({isMovingForward:t,isInHomeList:s,insideDestination:a,location:n})=>{if(!a.length)return null;const r=n.index,i=t?r+1:r-1,o=a[0].descriptor.index,l=a[a.length-1].descriptor.index,c=s?l:l+1;return i<o||i>c?null:i},TAe=({isMovingForward:t,isInHomeList:s,draggable:a,draggables:n,destination:r,insideDestination:i,previousImpact:o,viewport:l,afterCritical:c})=>{const m=o.at;if(m||Lt(),m.type==="REORDER"){const h=EAe({isMovingForward:t,isInHomeList:s,location:m.destination,insideDestination:i});return h==null?null:Kb({draggable:a,insideDestination:i,destination:r,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})}const u=PAe({isMovingForward:t,destination:r,displaced:o.displaced,draggables:n,combine:m.combine,afterCritical:c});return u==null?null:Kb({draggable:a,insideDestination:i,destination:r,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})},MAe=({displaced:t,afterCritical:s,combineWith:a,displacedBy:n})=>{const r=!!(t.visible[a]||t.invisible[a]);return ad(a,s)?r?$n:$p(n.point):r?n.point:$n},DAe=({afterCritical:t,impact:s,draggables:a})=>{const n=j1(s);n||Lt();const r=n.draggableId,i=a[r].page.borderBox.center,o=MAe({displaced:s.displaced,afterCritical:t,combineWith:r,displacedBy:s.displacedBy});return Zn(i,o)};const RL=(t,s)=>s.margin[t.start]+s.borderBox[t.size]/2,RAe=(t,s)=>s.margin[t.end]+s.borderBox[t.size]/2,h3=(t,s,a)=>s[t.crossAxisStart]+a.margin[t.crossAxisStart]+a.borderBox[t.crossAxisSize]/2,OD=({axis:t,moveRelativeTo:s,isMoving:a})=>wu(t.line,s.marginBox[t.end]+RL(t,a),h3(t,s.marginBox,a)),FD=({axis:t,moveRelativeTo:s,isMoving:a})=>wu(t.line,s.marginBox[t.start]-RAe(t,a),h3(t,s.marginBox,a)),AAe=({axis:t,moveInto:s,isMoving:a})=>wu(t.line,s.contentBox[t.start]+RL(t,a),h3(t,s.contentBox,a));var IAe=({impact:t,draggable:s,draggables:a,droppable:n,afterCritical:r})=>{const i=qp(n.descriptor.id,a),o=s.page,l=n.axis;if(!i.length)return AAe({axis:l,moveInto:n.page,isMoving:o});const{displaced:c,displacedBy:m}=t,u=c.all[0];if(u){const f=a[u];if(ad(u,r))return FD({axis:l,moveRelativeTo:f.page,isMoving:o});const v=Hb(f.page,m.point);return FD({axis:l,moveRelativeTo:v,isMoving:o})}const h=i[i.length-1];if(h.descriptor.id===s.descriptor.id)return o.borderBox.center;if(ad(h.descriptor.id,r)){const f=Hb(h.page,$p(r.displacedBy.point));return OD({axis:l,moveRelativeTo:f,isMoving:o})}return OD({axis:l,moveRelativeTo:h.page,isMoving:o})},L_=(t,s)=>{const a=t.frame;return a?Zn(s,a.scroll.diff.displacement):s};const OAe=({impact:t,draggable:s,droppable:a,draggables:n,afterCritical:r})=>{const i=s.page.borderBox.center,o=t.at;return!a||!o?i:o.type==="REORDER"?IAe({impact:t,draggable:s,draggables:n,droppable:a,afterCritical:r}):DAe({impact:t,draggables:n,afterCritical:r})};var w1=t=>{const s=OAe(t),a=t.droppable;return a?L_(a,s):s},AL=(t,s)=>{const a=di(s,t.scroll.initial),n=$p(a);return{frame:bo({top:s.y,bottom:s.y+t.frame.height,left:s.x,right:s.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:s,diff:{value:a,displacement:n}}}};function LD(t,s){return t.map(a=>s[a])}function FAe(t,s){for(let a=0;a<s.length;a++){const n=s[a].visible[t];if(n)return n}return null}var LAe=({impact:t,viewport:s,destination:a,draggables:n,maxScrollChange:r})=>{const i=AL(s,Zn(s.scroll.current,r)),o=a.frame?d3(a,Zn(a.frame.scroll.current,r)):a,l=t.displaced,c=Yx({afterDragging:LD(l.all,n),destination:a,displacedBy:t.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),m=Yx({afterDragging:LD(l.all,n),destination:o,displacedBy:t.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),u={},h={},f=[l,c,m];return l.all.forEach(_=>{const S=FAe(_,f);if(S){h[_]=S;return}u[_]=!0}),{...t,displaced:{all:l.all,invisible:u,visible:h}}},zAe=(t,s)=>Zn(t.scroll.diff.displacement,s),f3=({pageBorderBoxCenter:t,draggable:s,viewport:a})=>{const n=zAe(a,t),r=di(n,s.page.borderBox.center);return Zn(s.client.borderBox.center,r)},IL=({draggable:t,destination:s,newPageBorderBoxCenter:a,viewport:n,withDroppableDisplacement:r,onlyOnMainAxis:i=!1})=>{const o=di(a,t.page.borderBox.center),c={target:Rg(t.page.borderBox,o),destination:s,withDroppableDisplacement:r,viewport:n};return i?_Ae(c):DL(c)},$Ae=({isMovingForward:t,draggable:s,destination:a,draggables:n,previousImpact:r,viewport:i,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:c})=>{if(!a.isEnabled)return null;const m=qp(a.descriptor.id,n),u=Bp(s,a),h=xAe({isMovingForward:t,draggable:s,destination:a,insideDestination:m,previousImpact:r})||TAe({isMovingForward:t,isInHomeList:u,draggable:s,draggables:n,destination:a,insideDestination:m,previousImpact:r,viewport:i,afterCritical:c});if(!h)return null;const f=w1({impact:h,draggable:s,droppable:a,draggables:n,afterCritical:c});if(IL({draggable:s,destination:a,newPageBorderBoxCenter:f,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:f3({pageBorderBoxCenter:f,draggable:s,viewport:i}),impact:h,scrollJumpRequest:null};const _=di(f,o),S=LAe({impact:h,viewport:i,destination:a,draggables:n,maxScrollChange:_});return{clientSelection:l,impact:S,scrollJumpRequest:_}};const xr=t=>{const s=t.subject.active;return s||Lt(),s};var qAe=({isMovingForward:t,pageBorderBoxCenter:s,source:a,droppables:n,viewport:r})=>{const i=a.subject.active;if(!i)return null;const o=a.axis,l=Xi(i[o.start],i[o.end]),c=v1(n).filter(u=>u!==a).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>TL(r.frame)(xr(u))).filter(u=>{const h=xr(u);return t?i[o.crossAxisEnd]<h[o.crossAxisEnd]:h[o.crossAxisStart]<i[o.crossAxisStart]}).filter(u=>{const h=xr(u),f=Xi(h[o.start],h[o.end]);return l(h[o.start])||l(h[o.end])||f(i[o.start])||f(i[o.end])}).sort((u,h)=>{const f=xr(u)[o.crossAxisStart],v=xr(h)[o.crossAxisStart];return t?f-v:v-f}).filter((u,h,f)=>xr(u)[o.crossAxisStart]===xr(f[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const m=c.filter(u=>Xi(xr(u)[o.start],xr(u)[o.end])(s[o.line]));return m.length===1?m[0]:m.length>1?m.sort((u,h)=>xr(u)[o.start]-xr(h)[o.start])[0]:c.sort((u,h)=>{const f=RD(s,AD(xr(u))),v=RD(s,AD(xr(h)));return f!==v?f-v:xr(u)[o.start]-xr(h)[o.start]})[0]};const zD=(t,s)=>{const a=t.page.borderBox.center;return ad(t.descriptor.id,s)?di(a,s.displacedBy.point):a},BAe=(t,s)=>{const a=t.page.borderBox;return ad(t.descriptor.id,s)?Rg(a,$p(s.displacedBy.point)):a};var UAe=({pageBorderBoxCenter:t,viewport:s,destination:a,insideDestination:n,afterCritical:r})=>n.filter(o=>DL({target:BAe(o,r),destination:a,viewport:s.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const c=Hx(t,L_(a,zD(o,r))),m=Hx(t,L_(a,zD(l,r)));return c<m?-1:m<c?1:o.descriptor.index-l.descriptor.index})[0]||null,Ag=zn(function(s,a){const n=a[s.line];return{value:n,point:wu(s.line,n)}});const VAe=(t,s,a)=>{const n=t.axis;if(t.descriptor.mode==="virtual")return wu(n.line,s[n.line]);const r=t.subject.page.contentBox[n.size],c=qp(t.descriptor.id,a).reduce((m,u)=>m+u.client.marginBox[n.size],0)+s[n.line]-r;return c<=0?null:wu(n.line,c)},OL=(t,s)=>({...t,scroll:{...t.scroll,max:s}}),FL=(t,s,a)=>{const n=t.frame;Bp(s,t)&&Lt(),t.subject.withPlaceholder&&Lt();const r=Ag(t.axis,s.displaceBy).point,i=VAe(t,r,a),o={placeholderSize:r,increasedBy:i,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!n){const u=wp({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:t.frame});return{...t,subject:u}}const l=i?Zn(n.scroll.max,i):n.scroll.max,c=OL(n,l),m=wp({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:c});return{...t,subject:m,frame:c}},HAe=t=>{const s=t.subject.withPlaceholder;s||Lt();const a=t.frame;if(!a){const o=wp({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:o}}const n=s.oldFrameMaxScroll;n||Lt();const r=OL(a,n),i=wp({page:t.subject.page,axis:t.axis,frame:r,withPlaceholder:null});return{...t,subject:i,frame:r}};var WAe=({previousPageBorderBoxCenter:t,moveRelativeTo:s,insideDestination:a,draggable:n,draggables:r,destination:i,viewport:o,afterCritical:l})=>{if(!s){if(a.length)return null;const h={displaced:Wx,displacedBy:EL,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},f=w1({impact:h,draggable:n,droppable:i,draggables:r,afterCritical:l}),v=Bp(n,i)?i:FL(i,n,r);return IL({draggable:n,destination:v,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?h:null}const c=t[i.axis.line]<=s.page.borderBox.center[i.axis.line],m=(()=>{const h=s.descriptor.index;return s.descriptor.id===n.descriptor.id||c?h:h+1})(),u=Ag(i.axis,n.displaceBy);return Kb({draggable:n,insideDestination:a,destination:i,viewport:o,displacedBy:u,last:Wx,index:m})},YAe=({isMovingForward:t,previousPageBorderBoxCenter:s,draggable:a,isOver:n,draggables:r,droppables:i,viewport:o,afterCritical:l})=>{const c=qAe({isMovingForward:t,pageBorderBoxCenter:s,source:n,droppables:i,viewport:o});if(!c)return null;const m=qp(c.descriptor.id,r),u=UAe({pageBorderBoxCenter:s,viewport:o,destination:c,insideDestination:m,afterCritical:l}),h=WAe({previousPageBorderBoxCenter:s,destination:c,draggable:a,draggables:r,moveRelativeTo:u,insideDestination:m,viewport:o,afterCritical:l});if(!h)return null;const f=w1({impact:h,draggable:a,droppable:c,draggables:r,afterCritical:l});return{clientSelection:f3({pageBorderBoxCenter:f,draggable:a,viewport:o}),impact:h,scrollJumpRequest:null}},hi=t=>{const s=t.at;return s?s.type==="REORDER"?s.destination.droppableId:s.combine.droppableId:null};const GAe=(t,s)=>{const a=hi(t);return a?s[a]:null};var KAe=({state:t,type:s})=>{const a=GAe(t.impact,t.dimensions.droppables),n=!!a,r=t.dimensions.droppables[t.critical.droppable.id],i=a||r,o=i.axis.direction,l=o==="vertical"&&(s==="MOVE_UP"||s==="MOVE_DOWN")||o==="horizontal"&&(s==="MOVE_LEFT"||s==="MOVE_RIGHT");if(l&&!n)return null;const c=s==="MOVE_DOWN"||s==="MOVE_RIGHT",m=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,{draggables:h,droppables:f}=t.dimensions;return l?$Ae({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:m,destination:i,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):YAe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:m,isOver:i,draggables:h,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function Vd(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function LL(t){const s=Xi(t.top,t.bottom),a=Xi(t.left,t.right);return function(r){return s(r.y)&&a(r.x)}}function QAe(t,s){return t.left<s.right&&t.right>s.left&&t.top<s.bottom&&t.bottom>s.top}function ZAe({pageBorderBox:t,draggable:s,candidates:a}){const n=s.page.borderBox.center,r=a.map(i=>{const o=i.axis,l=wu(i.axis.line,t.center[o.line],i.page.borderBox.center[o.crossAxisLine]);return{id:i.descriptor.id,distance:Hx(n,l)}}).sort((i,o)=>o.distance-i.distance);return r[0]?r[0].id:null}function XAe({pageBorderBox:t,draggable:s,droppables:a}){const n=v1(a).filter(r=>{if(!r.isEnabled)return!1;const i=r.subject.active;if(!i||!QAe(t,i))return!1;if(LL(i)(t.center))return!0;const o=r.axis,l=i.center[o.crossAxisLine],c=t[o.crossAxisStart],m=t[o.crossAxisEnd],u=Xi(i[o.crossAxisStart],i[o.crossAxisEnd]),h=u(c),f=u(m);return!h&&!f?!0:h?c<l:m>l});return n.length?n.length===1?n[0].descriptor.id:ZAe({pageBorderBox:t,draggable:s,candidates:n}):null}const zL=(t,s)=>bo(Rg(t,s));var JAe=(t,s)=>{const a=t.frame;return a?zL(s,a.scroll.diff.value):s};function $L({displaced:t,id:s}){return!!(t.visible[s]||t.invisible[s])}function eIe({draggable:t,closest:s,inHomeList:a}){return s?a&&s.descriptor.index>t.descriptor.index?s.descriptor.index-1:s.descriptor.index:null}var tIe=({pageBorderBoxWithDroppableScroll:t,draggable:s,destination:a,insideDestination:n,last:r,viewport:i,afterCritical:o})=>{const l=a.axis,c=Ag(a.axis,s.displaceBy),m=c.value,u=t[l.start],h=t[l.end],v=N1(s,n).find(S=>{const j=S.descriptor.id,b=S.page.borderBox.center[l.line],w=ad(j,o),C=$L({displaced:r,id:j});return w?C?h<=b:u<b-m:C?h<=b+m:u<b})||null,_=eIe({draggable:s,closest:v,inHomeList:Bp(s,a)});return Kb({draggable:s,insideDestination:n,destination:a,viewport:i,last:r,displacedBy:c,index:_})};const sIe=4;var aIe=({draggable:t,pageBorderBoxWithDroppableScroll:s,previousImpact:a,destination:n,insideDestination:r,afterCritical:i})=>{if(!n.isCombineEnabled)return null;const o=n.axis,l=Ag(n.axis,t.displaceBy),c=l.value,m=s[o.start],u=s[o.end],f=N1(t,r).find(_=>{const S=_.descriptor.id,j=_.page.borderBox,w=j[o.size]/sIe,C=ad(S,i),P=$L({displaced:a.displaced,id:S});return C?P?u>j[o.start]+w&&u<j[o.end]-w:m>j[o.start]-c+w&&m<j[o.end]-c-w:P?u>j[o.start]+c+w&&u<j[o.end]+c-w:m>j[o.start]+w&&m<j[o.end]-w});return f?{displacedBy:l,displaced:a.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:n.descriptor.id}}}:null},qL=({pageOffset:t,draggable:s,draggables:a,droppables:n,previousImpact:r,viewport:i,afterCritical:o})=>{const l=zL(s.page.borderBox,t),c=XAe({pageBorderBox:l,draggable:s,droppables:n});if(!c)return gAe;const m=n[c],u=qp(m.descriptor.id,a),h=JAe(m,l);return aIe({pageBorderBoxWithDroppableScroll:h,draggable:s,previousImpact:r,destination:m,insideDestination:u,afterCritical:o})||tIe({pageBorderBoxWithDroppableScroll:h,draggable:s,destination:m,insideDestination:u,last:r.displaced,viewport:i,afterCritical:o})},x3=(t,s)=>({...t,[s.descriptor.id]:s});const nIe=({previousImpact:t,impact:s,droppables:a})=>{const n=hi(t),r=hi(s);if(!n||n===r)return a;const i=a[n];if(!i.subject.withPlaceholder)return a;const o=HAe(i);return x3(a,o)};var rIe=({draggable:t,draggables:s,droppables:a,previousImpact:n,impact:r})=>{const i=nIe({previousImpact:n,impact:r,droppables:a}),o=hi(r);if(!o)return i;const l=a[o];if(Bp(t,l)||l.subject.withPlaceholder)return i;const c=FL(l,t,s);return x3(i,c)},rx=({state:t,clientSelection:s,dimensions:a,viewport:n,impact:r,scrollJumpRequest:i})=>{const o=n||t.viewport,l=a||t.dimensions,c=s||t.current.client.selection,m=di(c,t.initial.client.selection),u={offset:m,selection:c,borderBoxCenter:Zn(t.initial.client.borderBoxCenter,m)},h={selection:Zn(u.selection,o.scroll.current),borderBoxCenter:Zn(u.borderBoxCenter,o.scroll.current),offset:Zn(u.offset,o.scroll.diff.value)},f={client:u,page:h};if(t.phase==="COLLECTING")return{...t,dimensions:l,viewport:o,current:f};const v=l.draggables[t.critical.draggable.id],_=r||qL({pageOffset:h.offset,draggable:v,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),S=rIe({draggable:v,impact:_,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return{...t,current:f,dimensions:{draggables:l.draggables,droppables:S},impact:_,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function iIe(t,s){return t.map(a=>s[a])}var BL=({impact:t,viewport:s,draggables:a,destination:n,forceShouldAnimate:r})=>{const i=t.displaced,o=iIe(i.all,a),l=Yx({afterDragging:o,destination:n,displacedBy:t.displacedBy,viewport:s.frame,forceShouldAnimate:r,last:i});return{...t,displaced:l}},UL=({impact:t,draggable:s,droppable:a,draggables:n,viewport:r,afterCritical:i})=>{const o=w1({impact:t,draggable:s,draggables:n,droppable:a,afterCritical:i});return f3({pageBorderBoxCenter:o,draggable:s,viewport:r})},VL=({state:t,dimensions:s,viewport:a})=>{t.movementMode!=="SNAP"&&Lt();const n=t.impact,r=a||t.viewport,i=s||t.dimensions,{draggables:o,droppables:l}=i,c=o[t.critical.draggable.id],m=hi(n);m||Lt();const u=l[m],h=BL({impact:n,viewport:r,destination:u,draggables:o}),f=UL({impact:h,draggable:c,droppable:u,draggables:o,viewport:r,afterCritical:t.afterCritical});return rx({impact:h,clientSelection:f,state:t,dimensions:i,viewport:r})},oIe=t=>({index:t.index,droppableId:t.droppableId}),HL=({draggable:t,home:s,draggables:a,viewport:n})=>{const r=Ag(s.axis,t.displaceBy),i=qp(s.descriptor.id,a),o=i.indexOf(t);o===-1&&Lt();const l=i.slice(o+1),c=l.reduce((f,v)=>(f[v.descriptor.id]=!0,f),{}),m={inVirtualList:s.descriptor.mode==="virtual",displacedBy:r,effected:c};return{impact:{displaced:Yx({afterDragging:l,destination:s,displacedBy:r,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:r,at:{type:"REORDER",destination:oIe(t.descriptor)}},afterCritical:m}},lIe=(t,s)=>({draggables:t.draggables,droppables:x3(t.droppables,s)}),cIe=({draggable:t,offset:s,initialWindowScroll:a})=>{const n=Hb(t.client,s),r=Wb(n,a);return{...t,placeholder:{...t.placeholder,client:n},client:n,page:r}},dIe=t=>{const s=t.frame;return s||Lt(),s},uIe=({additions:t,updatedDroppables:s,viewport:a})=>{const n=a.scroll.diff.value;return t.map(r=>{const i=r.descriptor.droppableId,o=s[i],c=dIe(o).scroll.diff.value,m=Zn(n,c);return cIe({draggable:r,offset:m,initialWindowScroll:a.scroll.initial})})},mIe=({state:t,published:s})=>{const a=s.modified.map(b=>{const w=t.dimensions.droppables[b.droppableId];return d3(w,b.scroll)}),n={...t.dimensions.droppables,...kL(a)},r=PL(uIe({additions:s.additions,updatedDroppables:n,viewport:t.viewport})),i={...t.dimensions.draggables,...r};s.removals.forEach(b=>{delete i[b]});const o={droppables:n,draggables:i},l=hi(t.impact),c=l?o.droppables[l]:null,m=o.draggables[t.critical.draggable.id],u=o.droppables[t.critical.droppable.id],{impact:h,afterCritical:f}=HL({draggable:m,home:u,draggables:i,viewport:t.viewport}),v=c&&c.isCombineEnabled?t.impact:h,_=qL({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:v,viewport:t.viewport,afterCritical:f}),S={...t,phase:"DRAGGING",impact:_,onLiftImpact:h,dimensions:o,afterCritical:f,forceShouldAnimate:!1};return t.phase==="COLLECTING"?S:{...S,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const z_=t=>t.movementMode==="SNAP",XN=(t,s,a)=>{const n=lIe(t.dimensions,s);return!z_(t)||a?rx({state:t,dimensions:n}):VL({state:t,dimensions:n})};function JN(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const $D={phase:"IDLE",completed:null,shouldFlush:!1};var pIe=(t=$D,s)=>{if(s.type==="FLUSH")return{...$D,shouldFlush:!0};if(s.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&Lt();const{critical:a,clientSelection:n,viewport:r,dimensions:i,movementMode:o}=s.payload,l=i.draggables[a.draggable.id],c=i.droppables[a.droppable.id],m={selection:n,borderBoxCenter:l.client.borderBox.center,offset:$n},u={client:m,page:{selection:Zn(m.selection,r.scroll.initial),borderBoxCenter:Zn(m.selection,r.scroll.initial),offset:Zn(m.selection,r.scroll.diff.value)}},h=v1(i.droppables).every(S=>!S.isFixedOnPage),{impact:f,afterCritical:v}=HL({draggable:l,home:c,draggables:i.draggables,viewport:r});return{phase:"DRAGGING",isDragging:!0,critical:a,movementMode:o,dimensions:i,initial:u,current:u,isWindowScrollAllowed:h,impact:f,afterCritical:v,onLiftImpact:f,viewport:r,scrollJumpRequest:null,forceShouldAnimate:null}}if(s.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&Lt(),{...t,phase:"COLLECTING"});if(s.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||Lt(),mIe({state:t,published:s.payload});if(s.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Vd(t)||Lt();const{client:a}=s.payload;return Qc(a,t.current.client.selection)?t:rx({state:t,clientSelection:a,impact:z_(t)?t.impact:null})}if(s.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return JN(t);Vd(t)||Lt();const{id:a,newScroll:n}=s.payload,r=t.dimensions.droppables[a];if(!r)return t;const i=d3(r,n);return XN(t,i,!1)}if(s.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Vd(t)||Lt();const{id:a,isEnabled:n}=s.payload,r=t.dimensions.droppables[a];r||Lt(),r.isEnabled===n&&Lt();const i={...r,isEnabled:n};return XN(t,i,!0)}if(s.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Vd(t)||Lt();const{id:a,isCombineEnabled:n}=s.payload,r=t.dimensions.droppables[a];r||Lt(),r.isCombineEnabled===n&&Lt();const i={...r,isCombineEnabled:n};return XN(t,i,!0)}if(s.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Vd(t)||Lt(),t.isWindowScrollAllowed||Lt();const a=s.payload.newScroll;if(Qc(t.viewport.scroll.current,a))return JN(t);const n=AL(t.viewport,a);return z_(t)?VL({state:t,viewport:n}):rx({state:t,viewport:n})}if(s.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Vd(t))return t;const a=s.payload.maxScroll;if(Qc(a,t.viewport.scroll.max))return t;const n={...t.viewport,scroll:{...t.viewport.scroll,max:a}};return{...t,viewport:n}}if(s.type==="MOVE_UP"||s.type==="MOVE_DOWN"||s.type==="MOVE_LEFT"||s.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Lt();const a=KAe({state:t,type:s.type});return a?rx({state:t,impact:a.impact,clientSelection:a.clientSelection,scrollJumpRequest:a.scrollJumpRequest}):t}if(s.type==="DROP_PENDING"){const a=s.payload.reason;return t.phase!=="COLLECTING"&&Lt(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:a}}if(s.type==="DROP_ANIMATE"){const{completed:a,dropDuration:n,newHomeClientOffset:r}=s.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||Lt(),{phase:"DROP_ANIMATING",completed:a,dropDuration:n,newHomeClientOffset:r,dimensions:t.dimensions}}if(s.type==="DROP_COMPLETE"){const{completed:a}=s.payload;return{phase:"IDLE",completed:a,shouldFlush:!1}}return t};function ja(t,s){return t instanceof Object&&"type"in t&&t.type===s}const hIe=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),fIe=t=>({type:"LIFT",payload:t}),xIe=t=>({type:"INITIAL_PUBLISH",payload:t}),gIe=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),yIe=()=>({type:"COLLECTION_STARTING",payload:null}),bIe=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),vIe=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),jIe=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),WL=t=>({type:"MOVE",payload:t}),NIe=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),wIe=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),_Ie=()=>({type:"MOVE_UP",payload:null}),SIe=()=>({type:"MOVE_DOWN",payload:null}),CIe=()=>({type:"MOVE_RIGHT",payload:null}),kIe=()=>({type:"MOVE_LEFT",payload:null}),g3=()=>({type:"FLUSH",payload:null}),PIe=t=>({type:"DROP_ANIMATE",payload:t}),y3=t=>({type:"DROP_COMPLETE",payload:t}),YL=t=>({type:"DROP",payload:t}),EIe=t=>({type:"DROP_PENDING",payload:t}),GL=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var TIe=t=>({getState:s,dispatch:a})=>n=>r=>{if(!ja(r,"LIFT")){n(r);return}const{id:i,clientSelection:o,movementMode:l}=r.payload,c=s();c.phase==="DROP_ANIMATING"&&a(y3({completed:c.completed})),s().phase!=="IDLE"&&Lt(),a(g3()),a(hIe({draggableId:i,movementMode:l}));const u={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:h,dimensions:f,viewport:v}=t.startPublishing(u);a(xIe({critical:h,dimensions:f,clientSelection:o,movementMode:l,viewport:v}))},MIe=t=>()=>s=>a=>{ja(a,"INITIAL_PUBLISH")&&t.dragging(),ja(a,"DROP_ANIMATE")&&t.dropping(a.payload.completed.result.reason),(ja(a,"FLUSH")||ja(a,"DROP_COMPLETE"))&&t.resting(),s(a)};const b3={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Gx={opacity:{drop:0,combining:.7},scale:{drop:.75}},KL={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ld=`${KL.outOfTheWay}s ${b3.outOfTheWay}`,ix={fluid:`opacity ${Ld}`,snap:`transform ${Ld}, opacity ${Ld}`,drop:t=>{const s=`${t}s ${b3.drop}`;return`transform ${s}, opacity ${s}`},outOfTheWay:`transform ${Ld}`,placeholder:`height ${Ld}, width ${Ld}, margin ${Ld}`},qD=t=>Qc(t,$n)?void 0:`translate(${t.x}px, ${t.y}px)`,$_={moveTo:qD,drop:(t,s)=>{const a=qD(t);if(a)return s?`${a} scale(${Gx.scale.drop})`:a}},{minDropTime:q_,maxDropTime:QL}=KL,DIe=QL-q_,BD=1500,RIe=.6;var AIe=({current:t,destination:s,reason:a})=>{const n=Hx(t,s);if(n<=0)return q_;if(n>=BD)return QL;const r=n/BD,i=q_+DIe*r,o=a==="CANCEL"?i*RIe:i;return Number(o.toFixed(2))},IIe=({impact:t,draggable:s,dimensions:a,viewport:n,afterCritical:r})=>{const{draggables:i,droppables:o}=a,l=hi(t),c=l?o[l]:null,m=o[s.descriptor.droppableId],u=UL({impact:t,draggable:s,draggables:i,afterCritical:r,droppable:c||m,viewport:n});return di(u,s.client.borderBox.center)},OIe=({draggables:t,reason:s,lastImpact:a,home:n,viewport:r,onLiftImpact:i})=>!a.at||s!=="DROP"?{impact:BL({draggables:t,impact:i,destination:n,viewport:r,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:a.at.type==="REORDER"?{impact:a,didDropInsideDroppable:!0}:{impact:{...a,displaced:Wx},didDropInsideDroppable:!0};const FIe=({getState:t,dispatch:s})=>a=>n=>{if(!ja(n,"DROP")){a(n);return}const r=t(),i=n.payload.reason;if(r.phase==="COLLECTING"){s(EIe({reason:i}));return}if(r.phase==="IDLE")return;r.phase==="DROP_PENDING"&&r.isWaiting&&Lt(),r.phase==="DRAGGING"||r.phase==="DROP_PENDING"||Lt();const l=r.critical,c=r.dimensions,m=c.draggables[r.critical.draggable.id],{impact:u,didDropInsideDroppable:h}=OIe({reason:i,lastImpact:r.impact,afterCritical:r.afterCritical,onLiftImpact:r.onLiftImpact,home:r.dimensions.droppables[r.critical.droppable.id],viewport:r.viewport,draggables:r.dimensions.draggables}),f=h?u3(u):null,v=h?j1(u):null,_={index:l.draggable.index,droppableId:l.droppable.id},S={draggableId:m.descriptor.id,type:m.descriptor.type,source:_,reason:i,mode:r.movementMode,destination:f,combine:v},j=IIe({impact:u,draggable:m,dimensions:c,viewport:r.viewport,afterCritical:r.afterCritical}),b={critical:r.critical,afterCritical:r.afterCritical,result:S,impact:u};if(!(!Qc(r.current.client.offset,j)||!!S.combine)){s(y3({completed:b}));return}const C=AIe({current:r.current.client.offset,destination:j,reason:i});s(PIe({newHomeClientOffset:j,dropDuration:C,completed:b}))};var ZL=()=>({x:window.pageXOffset,y:window.pageYOffset});function LIe(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:s=>{s.target!==window&&s.target!==window.document||t()}}}function zIe({onWindowScroll:t}){function s(){t(ZL())}const a=Vx(s),n=LIe(a);let r=Kc;function i(){return r!==Kc}function o(){i()&&Lt(),r=Wi(window,[n])}function l(){i()||Lt(),a.cancel(),r(),r=Kc}return{start:o,stop:l,isActive:i}}const $Ie=t=>ja(t,"DROP_COMPLETE")||ja(t,"DROP_ANIMATE")||ja(t,"FLUSH"),qIe=t=>{const s=zIe({onWindowScroll:a=>{t.dispatch(NIe({newScroll:a}))}});return a=>n=>{!s.isActive()&&ja(n,"INITIAL_PUBLISH")&&s.start(),s.isActive()&&$Ie(n)&&s.stop(),a(n)}};var BIe=t=>{let s=!1,a=!1;const n=setTimeout(()=>{a=!0}),r=i=>{s||a||(s=!0,t(i),clearTimeout(n))};return r.wasCalled=()=>s,r},UIe=()=>{const t=[],s=r=>{const i=t.findIndex(l=>l.timerId===r);i===-1&&Lt();const[o]=t.splice(i,1);o.callback()};return{add:r=>{const i=setTimeout(()=>s(i)),o={timerId:i,callback:r};t.push(o)},flush:()=>{if(!t.length)return;const r=[...t];t.length=0,r.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const VIe=(t,s)=>t==null&&s==null?!0:t==null||s==null?!1:t.droppableId===s.droppableId&&t.index===s.index,HIe=(t,s)=>t==null&&s==null?!0:t==null||s==null?!1:t.draggableId===s.draggableId&&t.droppableId===s.droppableId,WIe=(t,s)=>{if(t===s)return!0;const a=t.draggable.id===s.draggable.id&&t.draggable.droppableId===s.draggable.droppableId&&t.draggable.type===s.draggable.type&&t.draggable.index===s.draggable.index,n=t.droppable.id===s.droppable.id&&t.droppable.type===s.droppable.type;return a&&n},tf=(t,s)=>{s()},Ay=(t,s)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:s});function ew(t,s,a,n){if(!t){a(n(s));return}const r=BIe(a);t(s,{announce:r}),r.wasCalled()||a(n(s))}var YIe=(t,s)=>{const a=UIe();let n=null;const r=(h,f)=>{n&&Lt(),tf("onBeforeCapture",()=>{const v=t().onBeforeCapture;v&&v({draggableId:h,mode:f})})},i=(h,f)=>{n&&Lt(),tf("onBeforeDragStart",()=>{const v=t().onBeforeDragStart;v&&v(Ay(h,f))})},o=(h,f)=>{n&&Lt();const v=Ay(h,f);n={mode:f,lastCritical:h,lastLocation:v.source,lastCombine:null},a.add(()=>{tf("onDragStart",()=>ew(t().onDragStart,v,s,ob.onDragStart))})},l=(h,f)=>{const v=u3(f),_=j1(f);n||Lt();const S=!WIe(h,n.lastCritical);S&&(n.lastCritical=h);const j=!VIe(n.lastLocation,v);j&&(n.lastLocation=v);const b=!HIe(n.lastCombine,_);if(b&&(n.lastCombine=_),!S&&!j&&!b)return;const w={...Ay(h,n.mode),combine:_,destination:v};a.add(()=>{tf("onDragUpdate",()=>ew(t().onDragUpdate,w,s,ob.onDragUpdate))})},c=()=>{n||Lt(),a.flush()},m=h=>{n||Lt(),n=null,tf("onDragEnd",()=>ew(t().onDragEnd,h,s,ob.onDragEnd))};return{beforeCapture:r,beforeStart:i,start:o,update:l,flush:c,drop:m,abort:()=>{if(!n)return;const h={...Ay(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};m(h)}}},GIe=(t,s)=>{const a=YIe(t,s);return n=>r=>i=>{if(ja(i,"BEFORE_INITIAL_CAPTURE")){a.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(ja(i,"INITIAL_PUBLISH")){const l=i.payload.critical;a.beforeStart(l,i.payload.movementMode),r(i),a.start(l,i.payload.movementMode);return}if(ja(i,"DROP_COMPLETE")){const l=i.payload.completed.result;a.flush(),r(i),a.drop(l);return}if(r(i),ja(i,"FLUSH")){a.abort();return}const o=n.getState();o.phase==="DRAGGING"&&a.update(o.critical,o.impact)}};const KIe=t=>s=>a=>{if(!ja(a,"DROP_ANIMATION_FINISHED")){s(a);return}const n=t.getState();n.phase!=="DROP_ANIMATING"&&Lt(),t.dispatch(y3({completed:n.completed}))},QIe=t=>{let s=null,a=null;function n(){a&&(cancelAnimationFrame(a),a=null),s&&(s(),s=null)}return r=>i=>{if((ja(i,"FLUSH")||ja(i,"DROP_COMPLETE")||ja(i,"DROP_ANIMATION_FINISHED"))&&n(),r(i),!ja(i,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(GL())}};a=requestAnimationFrame(()=>{a=null,s=Wi(window,[o])})}};var ZIe=t=>()=>s=>a=>{(ja(a,"DROP_COMPLETE")||ja(a,"FLUSH")||ja(a,"DROP_ANIMATE"))&&t.stopPublishing(),s(a)},XIe=t=>{let s=!1;return()=>a=>n=>{if(ja(n,"INITIAL_PUBLISH")){s=!0,t.tryRecordFocus(n.payload.critical.draggable.id),a(n),t.tryRestoreFocusRecorded();return}if(a(n),!!s){if(ja(n,"FLUSH")){s=!1,t.tryRestoreFocusRecorded();return}if(ja(n,"DROP_COMPLETE")){s=!1;const r=n.payload.completed.result;r.combine&&t.tryShiftRecord(r.draggableId,r.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const JIe=t=>ja(t,"DROP_COMPLETE")||ja(t,"DROP_ANIMATE")||ja(t,"FLUSH");var eOe=t=>s=>a=>n=>{if(JIe(n)){t.stop(),a(n);return}if(ja(n,"INITIAL_PUBLISH")){a(n);const r=s.getState();r.phase!=="DRAGGING"&&Lt(),t.start(r);return}a(n),t.scroll(s.getState())};const tOe=t=>s=>a=>{if(s(a),!ja(a,"PUBLISH_WHILE_DRAGGING"))return;const n=t.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||t.dispatch(YL({reason:n.reason})))},sOe=pL;var aOe=({dimensionMarshal:t,focusMarshal:s,styleMarshal:a,getResponders:n,announce:r,autoScroller:i})=>mL(pIe,sOe(eRe(MIe(a),ZIe(t),TIe(t),FIe,KIe,QIe,tOe,eOe(i),qIe,XIe(s),GIe(n,r))));const tw=()=>({additions:{},removals:{},modified:{}});function nOe({registry:t,callbacks:s}){let a=tw(),n=null;const r=()=>{n||(s.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:c,removals:m,modified:u}=a,h=Object.keys(c).map(_=>t.draggable.getById(_).getDimension($n)).sort((_,S)=>_.descriptor.index-S.descriptor.index),f=Object.keys(u).map(_=>{const j=t.droppable.getById(_).callbacks.getScrollWhileDragging();return{droppableId:_,scroll:j}}),v={additions:h,removals:Object.keys(m),modified:f};a=tw(),s.publish(v)}))};return{add:c=>{const m=c.descriptor.id;a.additions[m]=c,a.modified[c.descriptor.droppableId]=!0,a.removals[m]&&delete a.removals[m],r()},remove:c=>{const m=c.descriptor;a.removals[m.id]=!0,a.modified[m.droppableId]=!0,a.additions[m.id]&&delete a.additions[m.id],r()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,a=tw())}}}var XL=({scrollHeight:t,scrollWidth:s,height:a,width:n})=>{const r=di({x:s,y:t},{x:n,y:a});return{x:Math.max(0,r.x),y:Math.max(0,r.y)}},JL=()=>{const t=document.documentElement;return t||Lt(),t},ez=()=>{const t=JL();return XL({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},rOe=()=>{const t=ZL(),s=ez(),a=t.y,n=t.x,r=JL(),i=r.clientWidth,o=r.clientHeight,l=n+i,c=a+o;return{frame:bo({top:a,left:n,right:l,bottom:c}),scroll:{initial:t,current:t,max:s,diff:{value:$n,displacement:$n}}}},iOe=({critical:t,scrollOptions:s,registry:a})=>{const n=rOe(),r=n.scroll.current,i=t.droppable,o=a.droppable.getAllByType(i.type).map(u=>u.callbacks.getDimensionAndWatchScroll(r,s)),l=a.draggable.getAllByType(t.draggable.type).map(u=>u.getDimension(r));return{dimensions:{draggables:PL(l),droppables:kL(o)},critical:t,viewport:n}};function UD(t,s,a){return!(a.descriptor.id===s.id||a.descriptor.type!==s.type||t.droppable.getById(a.descriptor.droppableId).descriptor.mode!=="virtual")}var oOe=(t,s)=>{let a=null;const n=nOe({callbacks:{publish:s.publishWhileDragging,collectionStarting:s.collectionStarting},registry:t}),r=(f,v)=>{t.droppable.exists(f)||Lt(),a&&s.updateDroppableIsEnabled({id:f,isEnabled:v})},i=(f,v)=>{a&&(t.droppable.exists(f)||Lt(),s.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:v}))},o=(f,v)=>{a&&(t.droppable.exists(f)||Lt(),s.updateDroppableScroll({id:f,newScroll:v}))},l=(f,v)=>{a&&t.droppable.getById(f).callbacks.scroll(v)},c=()=>{if(!a)return;n.stop();const f=a.critical.droppable;t.droppable.getAllByType(f.type).forEach(v=>v.callbacks.dragStopped()),a.unsubscribe(),a=null},m=f=>{a||Lt();const v=a.critical.draggable;f.type==="ADDITION"&&UD(t,v,f.value)&&n.add(f.value),f.type==="REMOVAL"&&UD(t,v,f.value)&&n.remove(f.value)};return{updateDroppableIsEnabled:r,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:f=>{a&&Lt();const v=t.draggable.getById(f.draggableId),_=t.droppable.getById(v.descriptor.droppableId),S={draggable:v.descriptor,droppable:_.descriptor},j=t.subscribe(m);return a={critical:S,unsubscribe:j},iOe({critical:S,registry:t,scrollOptions:f.scrollOptions})},stopPublishing:c}},tz=(t,s)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===s?!1:t.completed.result.reason==="DROP",lOe=t=>{window.scrollBy(t.x,t.y)};const cOe=zn(t=>v1(t).filter(s=>!(!s.isEnabled||!s.frame))),dOe=(t,s)=>cOe(s).find(n=>(n.frame||Lt(),LL(n.frame.pageMarginBox)(t)))||null;var uOe=({center:t,destination:s,droppables:a})=>{if(s){const r=a[s];return r.frame?r:null}return dOe(t,a)};const Kx={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var mOe=(t,s,a=()=>Kx)=>{const n=a(),r=t[s.size]*n.startFromPercentage,i=t[s.size]*n.maxScrollAtPercentage;return{startScrollingFrom:r,maxScrollValueAt:i}},sz=({startOfRange:t,endOfRange:s,current:a})=>{const n=s-t;return n===0?0:(a-t)/n},v3=1,pOe=(t,s,a=()=>Kx)=>{const n=a();if(t>s.startScrollingFrom)return 0;if(t<=s.maxScrollValueAt)return n.maxPixelScroll;if(t===s.startScrollingFrom)return v3;const i=1-sz({startOfRange:s.maxScrollValueAt,endOfRange:s.startScrollingFrom,current:t}),o=n.maxPixelScroll*n.ease(i);return Math.ceil(o)},hOe=(t,s,a)=>{const n=a(),r=n.durationDampening.accelerateAt,i=n.durationDampening.stopDampeningAt,o=s,l=i,m=Date.now()-o;if(m>=i)return t;if(m<r)return v3;const u=sz({startOfRange:r,endOfRange:l,current:m}),h=t*n.ease(u);return Math.ceil(h)},VD=({distanceToEdge:t,thresholds:s,dragStartTime:a,shouldUseTimeDampening:n,getAutoScrollerOptions:r})=>{const i=pOe(t,s,r);return i===0?0:n?Math.max(hOe(i,a,r),v3):i},HD=({container:t,distanceToEdges:s,dragStartTime:a,axis:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o=mOe(t,n,i);return s[n.end]<s[n.start]?VD({distanceToEdge:s[n.end],thresholds:o,dragStartTime:a,shouldUseTimeDampening:r,getAutoScrollerOptions:i}):-1*VD({distanceToEdge:s[n.start],thresholds:o,dragStartTime:a,shouldUseTimeDampening:r,getAutoScrollerOptions:i})},fOe=({container:t,subject:s,proposedScroll:a})=>{const n=s.height>t.height,r=s.width>t.width;return!r&&!n?a:r&&n?null:{x:r?0:a.x,y:n?0:a.y}};const xOe=CL(t=>t===0?0:t);var az=({dragStartTime:t,container:s,subject:a,center:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o={top:n.y-s.top,right:s.right-n.x,bottom:s.bottom-n.y,left:n.x-s.left},l=HD({container:s,distanceToEdges:o,dragStartTime:t,axis:m3,shouldUseTimeDampening:r,getAutoScrollerOptions:i}),c=HD({container:s,distanceToEdges:o,dragStartTime:t,axis:ML,shouldUseTimeDampening:r,getAutoScrollerOptions:i}),m=xOe({x:c,y:l});if(Qc(m,$n))return null;const u=fOe({container:s,subject:a,proposedScroll:m});return u?Qc(u,$n)?null:u:null};const gOe=CL(t=>t===0?0:t>0?1:-1),j3=(()=>{const t=(s,a)=>s<0?s:s>a?s-a:0;return({current:s,max:a,change:n})=>{const r=Zn(s,n),i={x:t(r.x,a.x),y:t(r.y,a.y)};return Qc(i,$n)?null:i}})(),nz=({max:t,current:s,change:a})=>{const n={x:Math.max(s.x,t.x),y:Math.max(s.y,t.y)},r=gOe(a),i=j3({max:n,current:s,change:r});return!i||r.x!==0&&i.x===0||r.y!==0&&i.y===0},N3=(t,s)=>nz({current:t.scroll.current,max:t.scroll.max,change:s}),yOe=(t,s)=>{if(!N3(t,s))return null;const a=t.scroll.max,n=t.scroll.current;return j3({current:n,max:a,change:s})},w3=(t,s)=>{const a=t.frame;return a?nz({current:a.scroll.current,max:a.scroll.max,change:s}):!1},bOe=(t,s)=>{const a=t.frame;return!a||!w3(t,s)?null:j3({current:a.scroll.current,max:a.scroll.max,change:s})};var vOe=({viewport:t,subject:s,center:a,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o=az({dragStartTime:n,container:t.frame,subject:s,center:a,shouldUseTimeDampening:r,getAutoScrollerOptions:i});return o&&N3(t,o)?o:null},jOe=({droppable:t,subject:s,center:a,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o=t.frame;if(!o)return null;const l=az({dragStartTime:n,container:o.pageMarginBox,subject:s,center:a,shouldUseTimeDampening:r,getAutoScrollerOptions:i});return l&&w3(t,l)?l:null},WD=({state:t,dragStartTime:s,shouldUseTimeDampening:a,scrollWindow:n,scrollDroppable:r,getAutoScrollerOptions:i})=>{const o=t.current.page.borderBoxCenter,c=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const h=t.viewport,f=vOe({dragStartTime:s,viewport:h,subject:c,center:o,shouldUseTimeDampening:a,getAutoScrollerOptions:i});if(f){n(f);return}}const m=uOe({center:o,destination:hi(t.impact),droppables:t.dimensions.droppables});if(!m)return;const u=jOe({dragStartTime:s,droppable:m,subject:c,center:o,shouldUseTimeDampening:a,getAutoScrollerOptions:i});u&&r(m.descriptor.id,u)},NOe=({scrollWindow:t,scrollDroppable:s,getAutoScrollerOptions:a=()=>Kx})=>{const n=Vx(t),r=Vx(s);let i=null;const o=m=>{i||Lt();const{shouldUseTimeDampening:u,dragStartTime:h}=i;WD({state:m,scrollWindow:n,scrollDroppable:r,dragStartTime:h,shouldUseTimeDampening:u,getAutoScrollerOptions:a})};return{start:m=>{i&&Lt();const u=Date.now();let h=!1;const f=()=>{h=!0};WD({state:m,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:a}),i={dragStartTime:u,shouldUseTimeDampening:h},h&&o(m)},stop:()=>{i&&(n.cancel(),r.cancel(),i=null)},scroll:o}},wOe=({move:t,scrollDroppable:s,scrollWindow:a})=>{const n=(l,c)=>{const m=Zn(l.current.client.selection,c);t({client:m})},r=(l,c)=>{if(!w3(l,c))return c;const m=bOe(l,c);if(!m)return s(l.descriptor.id,c),null;const u=di(c,m);return s(l.descriptor.id,u),di(c,u)},i=(l,c,m)=>{if(!l||!N3(c,m))return m;const u=yOe(c,m);if(!u)return a(m),null;const h=di(m,u);return a(h),di(m,h)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const m=hi(l.impact);m||Lt();const u=r(l.dimensions.droppables[m],c);if(!u)return;const h=l.viewport,f=i(l.isWindowScrollAllowed,h,u);f&&n(l,f)}},_Oe=({scrollDroppable:t,scrollWindow:s,move:a,getAutoScrollerOptions:n})=>{const r=NOe({scrollWindow:s,scrollDroppable:t,getAutoScrollerOptions:n}),i=wOe({move:a,scrollWindow:s,scrollDroppable:t});return{scroll:c=>{if(!(n().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){r.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:r.start,stop:r.stop}};const _p="data-rfd",Sp=(()=>{const t=`${_p}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),B_=(()=>{const t=`${_p}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),SOe=(()=>{const t=`${_p}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),YD={contextId:`${_p}-scroll-container-context-id`},COe=t=>s=>`[${s}="${t}"]`,sf=(t,s)=>t.map(a=>{const n=a.styles[s];return n?`${a.selector} { ${n} }`:""}).join(" "),kOe="pointer-events: none;";var POe=t=>{const s=COe(t),a=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:s(Sp.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:kOe,dropAnimating:l}}})(),n=(()=>{const l=`
      transition: ${ix.outOfTheWay};
    `;return{selector:s(B_.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),r={selector:s(SOe.contextId),styles:{always:"overflow-anchor: none;"}},o=[n,a,r,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:sf(o,"always"),resting:sf(o,"resting"),dragging:sf(o,"dragging"),dropAnimating:sf(o,"dropAnimating"),userCancel:sf(o,"userCancel")}};const fi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g.useLayoutEffect:g.useEffect,sw=()=>{const t=document.querySelector("head");return t||Lt(),t},GD=t=>{const s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.type="text/css",s};function EOe(t,s){const a=oa(()=>POe(t),[t]),n=g.useRef(null),r=g.useRef(null),i=ps(zn(h=>{const f=r.current;f||Lt(),f.textContent=h}),[]),o=ps(h=>{const f=n.current;f||Lt(),f.textContent=h},[]);fi(()=>{!n.current&&!r.current||Lt();const h=GD(s),f=GD(s);return n.current=h,r.current=f,h.setAttribute(`${_p}-always`,t),f.setAttribute(`${_p}-dynamic`,t),sw().appendChild(h),sw().appendChild(f),o(a.always),i(a.resting),()=>{const v=_=>{const S=_.current;S||Lt(),sw().removeChild(S),_.current=null};v(n),v(r)}},[s,o,i,a.always,a.resting,t]);const l=ps(()=>i(a.dragging),[i,a.dragging]),c=ps(h=>{if(h==="DROP"){i(a.dropAnimating);return}i(a.userCancel)},[i,a.dropAnimating,a.userCancel]),m=ps(()=>{r.current&&i(a.resting)},[i,a.resting]);return oa(()=>({dragging:l,dropping:c,resting:m}),[l,c,m])}function rz(t,s){return Array.from(t.querySelectorAll(s))}var iz=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function _1(t){return t instanceof iz(t).HTMLElement}function TOe(t,s){const a=`[${Sp.contextId}="${t}"]`,n=rz(document,a);if(!n.length)return null;const r=n.find(i=>i.getAttribute(Sp.draggableId)===s);return!r||!_1(r)?null:r}function MOe(t){const s=g.useRef({}),a=g.useRef(null),n=g.useRef(null),r=g.useRef(!1),i=ps(function(f,v){const _={id:f,focus:v};return s.current[f]=_,function(){const j=s.current;j[f]!==_&&delete j[f]}},[]),o=ps(function(f){const v=TOe(t,f);v&&v!==document.activeElement&&v.focus()},[t]),l=ps(function(f,v){a.current===f&&(a.current=v)},[]),c=ps(function(){n.current||r.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const f=a.current;f&&o(f)}))},[o]),m=ps(function(f){a.current=null;const v=document.activeElement;v&&v.getAttribute(Sp.draggableId)===f&&(a.current=f)},[]);return fi(()=>(r.current=!0,function(){r.current=!1;const f=n.current;f&&cancelAnimationFrame(f)}),[]),oa(()=>({register:i,tryRecordFocus:m,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,m,c,l])}function DOe(){const t={draggables:{},droppables:{}},s=[];function a(h){return s.push(h),function(){const v=s.indexOf(h);v!==-1&&s.splice(v,1)}}function n(h){s.length&&s.forEach(f=>f(h))}function r(h){return t.draggables[h]||null}function i(h){const f=r(h);return f||Lt(),f}const o={register:h=>{t.draggables[h.descriptor.id]=h,n({type:"ADDITION",value:h})},update:(h,f)=>{const v=t.draggables[f.descriptor.id];v&&v.uniqueId===h.uniqueId&&(delete t.draggables[f.descriptor.id],t.draggables[h.descriptor.id]=h)},unregister:h=>{const f=h.descriptor.id,v=r(f);v&&h.uniqueId===v.uniqueId&&(delete t.draggables[f],t.droppables[h.descriptor.droppableId]&&n({type:"REMOVAL",value:h}))},getById:i,findById:r,exists:h=>!!r(h),getAllByType:h=>Object.values(t.draggables).filter(f=>f.descriptor.type===h)};function l(h){return t.droppables[h]||null}function c(h){const f=l(h);return f||Lt(),f}const m={register:h=>{t.droppables[h.descriptor.id]=h},unregister:h=>{const f=l(h.descriptor.id);f&&h.uniqueId===f.uniqueId&&delete t.droppables[h.descriptor.id]},getById:c,findById:l,exists:h=>!!l(h),getAllByType:h=>Object.values(t.droppables).filter(f=>f.descriptor.type===h)};function u(){t.draggables={},t.droppables={},s.length=0}return{draggable:o,droppable:m,subscribe:a,clean:u}}function ROe(){const t=oa(DOe,[]);return g.useEffect(()=>function(){t.clean()},[t]),t}var _3=Nt.createContext(null),Qb=()=>{const t=document.body;return t||Lt(),t};const AOe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},IOe=t=>`rfd-announcement-${t}`;function OOe(t){const s=oa(()=>IOe(t),[t]),a=g.useRef(null);return g.useEffect(function(){const i=document.createElement("div");return a.current=i,i.id=s,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),be(i.style,AOe),Qb().appendChild(i),function(){setTimeout(function(){const c=Qb();c.contains(i)&&c.removeChild(i),i===a.current&&(a.current=null)})}},[s]),ps(r=>{const i=a.current;if(i){i.textContent=r;return}},[])}const FOe={separator:"::"};function S3(t,s=FOe){const a=Nt.useId();return oa(()=>`${t}${s.separator}${a}`,[s.separator,t,a])}function LOe({contextId:t,uniqueId:s}){return`rfd-hidden-text-${t}-${s}`}function zOe({contextId:t,text:s}){const a=S3("hidden-text",{separator:"-"}),n=oa(()=>LOe({contextId:t,uniqueId:a}),[a,t]);return g.useEffect(function(){const i=document.createElement("div");return i.id=n,i.textContent=s,i.style.display="none",Qb().appendChild(i),function(){const l=Qb();l.contains(i)&&l.removeChild(i)}},[n,s]),n}var S1=Nt.createContext(null);function oz(t){const s=g.useRef(t);return g.useEffect(()=>{s.current=t}),s}function $Oe(){let t=null;function s(){return!!t}function a(o){return o===t}function n(o){t&&Lt();const l={abandon:o};return t=l,l}function r(){t||Lt(),t=null}function i(){t&&(t.abandon(),r())}return{isClaimed:s,isActive:a,claim:n,release:r,tryAbandon:i}}function Qx(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const qOe=9,BOe=13,C3=27,lz=32,UOe=33,VOe=34,HOe=35,WOe=36,YOe=37,GOe=38,KOe=39,QOe=40,ZOe={[BOe]:!0,[qOe]:!0};var cz=t=>{ZOe[t.keyCode]&&t.preventDefault()};const C1=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(n=>`on${n}`in document)||t})(),dz=0,KD=5;function XOe(t,s){return Math.abs(s.x-t.x)>=KD||Math.abs(s.y-t.y)>=KD}const QD={type:"IDLE"};function JOe({cancel:t,completed:s,getPhase:a,setPhase:n}){return[{eventName:"mousemove",fn:r=>{const{button:i,clientX:o,clientY:l}=r;if(i!==dz)return;const c={x:o,y:l},m=a();if(m.type==="DRAGGING"){r.preventDefault(),m.actions.move(c);return}m.type!=="PENDING"&&Lt();const u=m.point;if(!XOe(u,c))return;r.preventDefault();const h=m.actions.fluidLift(c);n({type:"DRAGGING",actions:h})}},{eventName:"mouseup",fn:r=>{const i=a();if(i.type!=="DRAGGING"){t();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),s()}},{eventName:"mousedown",fn:r=>{a().type==="DRAGGING"&&r.preventDefault(),t()}},{eventName:"keydown",fn:r=>{if(a().type==="PENDING"){t();return}if(r.keyCode===C3){r.preventDefault(),t();return}cz(r)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{a().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:r=>{const i=a();if(i.type==="IDLE"&&Lt(),i.actions.shouldRespectForcePress()){t();return}r.preventDefault()}},{eventName:C1,fn:t}]}function eFe(t){const s=g.useRef(QD),a=g.useRef(Kc),n=oa(()=>({eventName:"mousedown",fn:function(h){if(h.defaultPrevented||h.button!==dz||h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)return;const f=t.findClosestDraggableId(h);if(!f)return;const v=t.tryGetLock(f,o,{sourceEvent:h});if(!v)return;h.preventDefault();const _={x:h.clientX,y:h.clientY};a.current(),m(v,_)}}),[t]),r=oa(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const h=t.findClosestDraggableId(u);if(!h)return;const f=t.findOptionsForDraggable(h);f&&(f.shouldRespectForcePress||t.canGetLock(h)&&u.preventDefault())}}),[t]),i=ps(function(){const h={passive:!1,capture:!0};a.current=Wi(window,[r,n],h)},[r,n]),o=ps(()=>{s.current.type!=="IDLE"&&(s.current=QD,a.current(),i())},[i]),l=ps(()=>{const u=s.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),c=ps(function(){const h={capture:!0,passive:!1},f=JOe({cancel:l,completed:o,getPhase:()=>s.current,setPhase:v=>{s.current=v}});a.current=Wi(window,f,h)},[l,o]),m=ps(function(h,f){s.current.type!=="IDLE"&&Lt(),s.current={type:"PENDING",point:f,actions:h},c()},[c]);fi(function(){return i(),function(){a.current()}},[i])}function tFe(){}const sFe={[VOe]:!0,[UOe]:!0,[WOe]:!0,[HOe]:!0};function aFe(t,s){function a(){s(),t.cancel()}function n(){s(),t.drop()}return[{eventName:"keydown",fn:r=>{if(r.keyCode===C3){r.preventDefault(),a();return}if(r.keyCode===lz){r.preventDefault(),n();return}if(r.keyCode===QOe){r.preventDefault(),t.moveDown();return}if(r.keyCode===GOe){r.preventDefault(),t.moveUp();return}if(r.keyCode===KOe){r.preventDefault(),t.moveRight();return}if(r.keyCode===YOe){r.preventDefault(),t.moveLeft();return}if(sFe[r.keyCode]){r.preventDefault();return}cz(r)}},{eventName:"mousedown",fn:a},{eventName:"mouseup",fn:a},{eventName:"click",fn:a},{eventName:"touchstart",fn:a},{eventName:"resize",fn:a},{eventName:"wheel",fn:a,options:{passive:!0}},{eventName:C1,fn:a}]}function nFe(t){const s=g.useRef(tFe),a=oa(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==lz)return;const o=t.findClosestDraggableId(i);if(!o)return;const l=t.tryGetLock(o,u,{sourceEvent:i});if(!l)return;i.preventDefault();let c=!0;const m=l.snapLift();s.current();function u(){c||Lt(),c=!1,s.current(),n()}s.current=Wi(window,aFe(m,u),{capture:!0,passive:!1})}}),[t]),n=ps(function(){const i={passive:!1,capture:!0};s.current=Wi(window,[a],i)},[a]);fi(function(){return n(),function(){s.current()}},[n])}const aw={type:"IDLE"},rFe=120,iFe=.15;function oFe({cancel:t,getPhase:s}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:a=>{a.preventDefault()}},{eventName:"keydown",fn:a=>{if(s().type!=="DRAGGING"){t();return}a.keyCode===C3&&a.preventDefault(),t()}},{eventName:C1,fn:t}]}function lFe({cancel:t,completed:s,getPhase:a}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const r=a();if(r.type!=="DRAGGING"){t();return}r.hasMoved=!0;const{clientX:i,clientY:o}=n.touches[0],l={x:i,y:o};n.preventDefault(),r.actions.move(l)}},{eventName:"touchend",fn:n=>{const r=a();if(r.type!=="DRAGGING"){t();return}n.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),s()}},{eventName:"touchcancel",fn:n=>{if(a().type!=="DRAGGING"){t();return}n.preventDefault(),t()}},{eventName:"touchforcechange",fn:n=>{const r=a();r.type==="IDLE"&&Lt();const i=n.touches[0];if(!i||!(i.force>=iFe))return;const l=r.actions.shouldRespectForcePress();if(r.type==="PENDING"){l&&t();return}if(l){if(r.hasMoved){n.preventDefault();return}t();return}n.preventDefault()}},{eventName:C1,fn:t}]}function cFe(t){const s=g.useRef(aw),a=g.useRef(Kc),n=ps(function(){return s.current},[]),r=ps(function(v){s.current=v},[]),i=oa(()=>({eventName:"touchstart",fn:function(v){if(v.defaultPrevented)return;const _=t.findClosestDraggableId(v);if(!_)return;const S=t.tryGetLock(_,l,{sourceEvent:v});if(!S)return;const j=v.touches[0],{clientX:b,clientY:w}=j,C={x:b,y:w};a.current(),h(S,C)}}),[t]),o=ps(function(){const v={capture:!0,passive:!1};a.current=Wi(window,[i],v)},[i]),l=ps(()=>{const f=s.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),r(aw),a.current(),o())},[o,r]),c=ps(()=>{const f=s.current;l(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[l]),m=ps(function(){const v={capture:!0,passive:!1},_={cancel:c,completed:l,getPhase:n},S=Wi(window,lFe(_),v),j=Wi(window,oFe(_),v);a.current=function(){S(),j()}},[c,n,l]),u=ps(function(){const v=n();v.type!=="PENDING"&&Lt();const _=v.actions.fluidLift(v.point);r({type:"DRAGGING",actions:_,hasMoved:!1})},[n,r]),h=ps(function(v,_){n().type!=="IDLE"&&Lt();const S=setTimeout(u,rFe);r({type:"PENDING",point:_,actions:v,longPressTimerId:S}),m()},[m,n,r,u]);fi(function(){return o(),function(){a.current();const _=n();_.type==="PENDING"&&(clearTimeout(_.longPressTimerId),r(aw))}},[n,o,r]),fi(function(){return Wi(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const dFe=["input","button","textarea","select","option","optgroup","video","audio"];function uz(t,s){if(s==null)return!1;if(dFe.includes(s.tagName.toLowerCase()))return!0;const n=s.getAttribute("contenteditable");return n==="true"||n===""?!0:s===t?!1:uz(t,s.parentElement)}function uFe(t,s){const a=s.target;return _1(a)?uz(t,a):!1}var mFe=t=>bo(t.getBoundingClientRect()).center;function pFe(t){return t instanceof iz(t).Element}const hFe=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||t})();function mz(t,s){return t==null?null:t[hFe](s)?t:mz(t.parentElement,s)}function fFe(t,s){return t.closest?t.closest(s):mz(t,s)}function xFe(t){return`[${Sp.contextId}="${t}"]`}function gFe(t,s){const a=s.target;if(!pFe(a))return null;const n=xFe(t),r=fFe(a,n);return!r||!_1(r)?null:r}function yFe(t,s){const a=gFe(t,s);return a?a.getAttribute(Sp.draggableId):null}function bFe(t,s){const a=`[${B_.contextId}="${t}"]`,r=rz(document,a).find(i=>i.getAttribute(B_.id)===s);return!r||!_1(r)?null:r}function vFe(t){t.preventDefault()}function Iy({expected:t,phase:s,isLockActive:a,shouldWarn:n}){return!(!a()||t!==s)}function pz({lockAPI:t,store:s,registry:a,draggableId:n}){if(t.isClaimed())return!1;const r=a.draggable.findById(n);return!(!r||!r.options.isEnabled||!tz(s.getState(),n))}function jFe({lockAPI:t,contextId:s,store:a,registry:n,draggableId:r,forceSensorStop:i,sourceEvent:o}){if(!pz({lockAPI:t,store:a,registry:n,draggableId:r}))return null;const c=n.draggable.getById(r),m=bFe(s,c.descriptor.id);if(!m||o&&!c.options.canDragInteractiveElements&&uFe(m,o))return null;const u=t.claim(i||Kc);let h="PRE_DRAG";function f(){return c.options.shouldRespectForcePress}function v(){return t.isActive(u)}function _(E,D){Iy({expected:E,phase:h,isLockActive:v,shouldWarn:!0})&&a.dispatch(D())}const S=_.bind(null,"DRAGGING");function j(E){function D(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(D(),Lt()),a.dispatch(fIe(E.liftActionArgs)),h="DRAGGING";function T(R,z={shouldBlockNextClick:!1}){if(E.cleanup(),z.shouldBlockNextClick){const O=Wi(window,[{eventName:"click",fn:vFe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(O)}D(),a.dispatch(YL({reason:R}))}return{isActive:()=>Iy({expected:"DRAGGING",phase:h,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:f,drop:R=>T("DROP",R),cancel:R=>T("CANCEL",R),...E.actions}}function b(E){const D=Vx(R=>{S(()=>WL({client:R}))});return{...j({liftActionArgs:{id:r,clientSelection:E,movementMode:"FLUID"},cleanup:()=>D.cancel(),actions:{move:D}}),move:D}}function w(){const E={moveUp:()=>S(_Ie),moveRight:()=>S(CIe),moveDown:()=>S(SIe),moveLeft:()=>S(kIe)};return j({liftActionArgs:{id:r,clientSelection:mFe(m),movementMode:"SNAP"},cleanup:Kc,actions:E})}function C(){Iy({expected:"PRE_DRAG",phase:h,isLockActive:v,shouldWarn:!0})&&t.release()}return{isActive:()=>Iy({expected:"PRE_DRAG",phase:h,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:b,snapLift:w,abort:C}}const NFe=[eFe,nFe,cFe];function wFe({contextId:t,store:s,registry:a,customSensors:n,enableDefaultSensors:r}){const i=[...r?NFe:[],...n||[]],o=g.useState(()=>$Oe())[0],l=ps(function(j,b){Qx(j)&&!Qx(b)&&o.tryAbandon()},[o]);fi(function(){let j=s.getState();return s.subscribe(()=>{const w=s.getState();l(j,w),j=w})},[o,s,l]),fi(()=>o.tryAbandon,[o.tryAbandon]);const c=ps(S=>pz({lockAPI:o,registry:a,store:s,draggableId:S}),[o,a,s]),m=ps((S,j,b)=>jFe({lockAPI:o,registry:a,contextId:t,store:s,draggableId:S,forceSensorStop:j||null,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null}),[t,o,a,s]),u=ps(S=>yFe(t,S),[t]),h=ps(S=>{const j=a.draggable.findById(S);return j?j.options:null},[a.draggable]),f=ps(function(){o.isClaimed()&&(o.tryAbandon(),s.getState().phase!=="IDLE"&&s.dispatch(g3()))},[o,s]),v=ps(()=>o.isClaimed(),[o]),_=oa(()=>({canGetLock:c,tryGetLock:m,findClosestDraggableId:u,findOptionsForDraggable:h,tryReleaseLock:f,isLockClaimed:v}),[c,m,u,h,f,v]);for(let S=0;S<i.length;S++)i[S](_)}const _Fe=t=>({onBeforeCapture:s=>{const a=()=>{t.onBeforeCapture&&t.onBeforeCapture(s)};tg.flushSync(a)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),SFe=t=>({...Kx,...t.autoScrollerOptions,durationDampening:{...Kx.durationDampening,...t.autoScrollerOptions}});function af(t){return t.current||Lt(),t.current}function CFe(t){const{contextId:s,setCallbacks:a,sensors:n,nonce:r,dragHandleUsageInstructions:i}=t,o=g.useRef(null),l=oz(t),c=ps(()=>_Fe(l.current),[l]),m=ps(()=>SFe(l.current),[l]),u=OOe(s),h=zOe({contextId:s,text:i}),f=EOe(s,r),v=ps(O=>{af(o).dispatch(O)},[]),_=oa(()=>ND({publishWhileDragging:gIe,updateDroppableScroll:bIe,updateDroppableIsEnabled:vIe,updateDroppableIsCombineEnabled:jIe,collectionStarting:yIe},v),[v]),S=ROe(),j=oa(()=>oOe(S,_),[S,_]),b=oa(()=>_Oe({scrollWindow:lOe,scrollDroppable:j.scrollDroppable,getAutoScrollerOptions:m,...ND({move:WL},v)}),[j.scrollDroppable,v,m]),w=MOe(s),C=oa(()=>aOe({announce:u,autoScroller:b,dimensionMarshal:j,focusMarshal:w,getResponders:c,styleMarshal:f}),[u,b,j,w,c,f]);o.current=C;const P=ps(()=>{const O=af(o);O.getState().phase!=="IDLE"&&O.dispatch(g3())},[]),E=ps(()=>{const O=af(o).getState();return O.phase==="DROP_ANIMATING"?!0:O.phase==="IDLE"?!1:O.isDragging},[]),D=oa(()=>({isDragging:E,tryAbort:P}),[E,P]);a(D);const T=ps(O=>tz(af(o).getState(),O),[]),R=ps(()=>Vd(af(o).getState()),[]),z=oa(()=>({marshal:j,focus:w,contextId:s,canLift:T,isMovementAllowed:R,dragHandleUsageInstructionsId:h,registry:S}),[s,j,h,w,T,R,S]);return wFe({contextId:s,store:C,registry:S,customSensors:n||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),g.useEffect(()=>P,[P]),Nt.createElement(S1.Provider,{value:z},Nt.createElement(ZRe,{context:_3,store:C},t.children))}function kFe(){return Nt.useId()}function PFe(t){const s=kFe(),a=t.dragHandleUsageInstructions||ob.dragHandleUsageInstructions;return Nt.createElement(nAe,null,n=>Nt.createElement(CFe,{nonce:t.nonce,contextId:s,setCallbacks:n,dragHandleUsageInstructions:a,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const ZD={dragging:5e3,dropAnimating:4500},EFe=(t,s)=>s?ix.drop(s.duration):t?ix.snap:ix.fluid,TFe=(t,s)=>{if(t)return s?Gx.opacity.drop:Gx.opacity.combining},MFe=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function DFe(t){const a=t.dimension.client,{offset:n,combineWith:r,dropping:i}=t,o=!!r,l=MFe(t),c=!!i,m=c?$_.drop(n,o):$_.moveTo(n);return{position:"fixed",top:a.marginBox.top,left:a.marginBox.left,boxSizing:"border-box",width:a.borderBox.width,height:a.borderBox.height,transition:EFe(l,i),transform:m,opacity:TFe(o,c),zIndex:c?ZD.dropAnimating:ZD.dragging,pointerEvents:"none"}}function RFe(t){return{transform:$_.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function AFe(t){return t.type==="DRAGGING"?DFe(t):RFe(t)}function IFe(t,s,a=$n){const n=window.getComputedStyle(s),r=s.getBoundingClientRect(),i=vL(r,n),o=Wb(i,a),l={client:i,tagName:s.tagName.toLowerCase(),display:n.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:t,placeholder:l,displaceBy:c,client:i,page:o}}function OFe(t){const s=S3("draggable"),{descriptor:a,registry:n,getDraggableRef:r,canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}=t,c=oa(()=>({canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}),[i,l,o]),m=ps(v=>{const _=r();return _||Lt(),IFe(a,_,v)},[a,r]),u=oa(()=>({uniqueId:s,descriptor:a,options:c,getDimension:m}),[a,m,c,s]),h=g.useRef(u),f=g.useRef(!0);fi(()=>(n.draggable.register(h.current),()=>n.draggable.unregister(h.current)),[n.draggable]),fi(()=>{if(f.current){f.current=!1;return}const v=h.current;h.current=u,n.draggable.update(u,v)},[u,n.draggable])}var k3=Nt.createContext(null);function Zb(t){const s=g.useContext(t);return s||Lt(),s}function FFe(t){t.preventDefault()}const LFe=t=>{const s=g.useRef(null),a=ps((D=null)=>{s.current=D},[]),n=ps(()=>s.current,[]),{contextId:r,dragHandleUsageInstructionsId:i,registry:o}=Zb(S1),{type:l,droppableId:c}=Zb(k3),m=oa(()=>({id:t.draggableId,index:t.index,type:l,droppableId:c}),[t.draggableId,t.index,l,c]),{children:u,draggableId:h,isEnabled:f,shouldRespectForcePress:v,canDragInteractiveElements:_,isClone:S,mapped:j,dropAnimationFinished:b}=t;if(!S){const D=oa(()=>({descriptor:m,registry:o,getDraggableRef:n,canDragInteractiveElements:_,shouldRespectForcePress:v,isEnabled:f}),[m,o,n,_,v,f]);OFe(D)}const w=oa(()=>f?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":r,draggable:!1,onDragStart:FFe}:null,[r,i,h,f]),C=ps(D=>{j.type==="DRAGGING"&&j.dropping&&D.propertyName==="transform"&&tg.flushSync(b)},[b,j]),P=oa(()=>{const D=AFe(j),T=j.type==="DRAGGING"&&j.dropping?C:void 0;return{innerRef:a,draggableProps:{"data-rfd-draggable-context-id":r,"data-rfd-draggable-id":h,style:D,onTransitionEnd:T},dragHandleProps:w}},[r,w,h,j,C,a]),E=oa(()=>({draggableId:m.id,type:m.type,source:{index:m.index,droppableId:m.droppableId}}),[m.droppableId,m.id,m.index,m.type]);return Nt.createElement(Nt.Fragment,null,u(P,j.snapshot,E))};var hz=(t,s)=>t===s,fz=t=>{const{combine:s,destination:a}=t;return a?a.droppableId:s?s.droppableId:null};const zFe=t=>t.combine?t.combine.draggableId:null,$Fe=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function qFe(){const t=zn((r,i)=>({x:r,y:i})),s=zn((r,i,o=null,l=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:r,draggingOver:o,combineWith:l,combineTargetFor:null})),a=zn((r,i,o,l,c=null,m=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:m,mode:i,offset:r,dimension:o,forceShouldAnimate:u,snapshot:s(i,l,c,m,null)}}));return(r,i)=>{if(Qx(r)){if(r.critical.draggable.id!==i.draggableId)return null;const o=r.current.client.offset,l=r.dimensions.draggables[i.draggableId],c=hi(r.impact),m=$Fe(r.impact),u=r.forceShouldAnimate;return a(t(o.x,o.y),r.movementMode,l,i.isClone,c,m,u)}if(r.phase==="DROP_ANIMATING"){const o=r.completed;if(o.result.draggableId!==i.draggableId)return null;const l=i.isClone,c=r.dimensions.draggables[i.draggableId],m=o.result,u=m.mode,h=fz(m),f=zFe(m),_={duration:r.dropDuration,curve:b3.drop,moveTo:r.newHomeClientOffset,opacity:f?Gx.opacity.drop:null,scale:f?Gx.scale.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:c,dropping:_,draggingOver:h,combineWith:f,mode:u,forceShouldAnimate:null,snapshot:s(u,l,h,f,_)}}}return null}}function xz(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const BFe={mapped:{type:"SECONDARY",offset:$n,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:xz(null)}};function UFe(){const t=zn((o,l)=>({x:o,y:l})),s=zn(xz),a=zn((o,l=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:s(l)}})),n=o=>o?a($n,o,!0):null,r=(o,l,c,m)=>{const u=c.displaced.visible[o],h=!!(m.inVirtualList&&m.effected[o]),f=j1(c),v=f&&f.draggableId===o?l:null;if(!u){if(!h)return n(v);if(c.displaced.invisible[o])return null;const j=$p(m.displacedBy.point),b=t(j.x,j.y);return a(b,v,!0)}if(h)return n(v);const _=c.displacedBy.point,S=t(_.x,_.y);return a(S,v,u.shouldAnimate)};return(o,l)=>{if(Qx(o))return o.critical.draggable.id===l.draggableId?null:r(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===l.draggableId?null:r(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const VFe=()=>{const t=qFe(),s=UFe();return(n,r)=>t(n,r)||s(n,r)||BFe},HFe={dropAnimationFinished:GL},WFe=bL(VFe,HFe,null,{context:_3,areStatePropsEqual:hz})(LFe);function gz(t){return Zb(k3).isUsingCloneFor===t.draggableId&&!t.isClone?null:Nt.createElement(WFe,t)}function XD(t){const s=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,a=!!t.disableInteractiveElementBlocking,n=!!t.shouldRespectForcePress;return Nt.createElement(gz,be({},t,{isClone:!1,isEnabled:s,canDragInteractiveElements:a,shouldRespectForcePress:n}))}const yz=t=>s=>t===s,YFe=yz("scroll"),GFe=yz("auto"),JD=(t,s)=>s(t.overflowX)||s(t.overflowY),KFe=t=>{const s=window.getComputedStyle(t),a={overflowX:s.overflowX,overflowY:s.overflowY};return JD(a,YFe)||JD(a,GFe)},QFe=()=>!1,bz=t=>t==null?null:t===document.body?QFe()?t:null:t===document.documentElement?null:KFe(t)?t:bz(t.parentElement);var U_=t=>({x:t.scrollLeft,y:t.scrollTop});const vz=t=>t?window.getComputedStyle(t).position==="fixed"?!0:vz(t.parentElement):!1;var ZFe=t=>{const s=bz(t),a=vz(t);return{closestScrollable:s,isFixedOnPage:a}},XFe=({descriptor:t,isEnabled:s,isCombineEnabled:a,isFixedOnPage:n,direction:r,client:i,page:o,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:f,client:v}=l,_=XL({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:v,scrollSize:f,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:_,diff:{value:$n,displacement:$n}}}})(),m=r==="vertical"?m3:ML,u=wp({page:o,withPlaceholder:null,axis:m,frame:c});return{descriptor:t,isCombineEnabled:a,isFixedOnPage:n,axis:m,isEnabled:s,client:i,page:o,frame:c,subject:u}};const JFe=(t,s)=>{const a=jL(t);if(!s||t!==s)return a;const n=a.paddingBox.top-s.scrollTop,r=a.paddingBox.left-s.scrollLeft,i=n+s.scrollHeight,o=r+s.scrollWidth,c=l3({top:n,right:o,bottom:i,left:r},a.border);return c3({borderBox:c,margin:a.margin,border:a.border,padding:a.padding})};var eLe=({ref:t,descriptor:s,env:a,windowScroll:n,direction:r,isDropDisabled:i,isCombineEnabled:o,shouldClipSubject:l})=>{const c=a.closestScrollable,m=JFe(t,c),u=Wb(m,n),h=(()=>{if(!c)return null;const v=jL(c),_={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:v,page:Wb(v,n),scroll:U_(c),scrollSize:_,shouldClipSubject:l}})();return XFe({descriptor:s,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:a.isFixedOnPage,direction:r,client:m,page:u,closest:h})};const tLe={passive:!1},sLe={passive:!0};var e7=t=>t.shouldPublishImmediately?tLe:sLe;const Oy=t=>t&&t.env.closestScrollable||null;function aLe(t){const s=g.useRef(null),a=Zb(S1),n=S3("droppable"),{registry:r,marshal:i}=a,o=oz(t),l=oa(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),c=g.useRef(l),m=oa(()=>zn((P,E)=>{s.current||Lt();const D={x:P,y:E};i.updateDroppableScroll(l.id,D)}),[l.id,i]),u=ps(()=>{const P=s.current;return!P||!P.env.closestScrollable?$n:U_(P.env.closestScrollable)},[]),h=ps(()=>{const P=u();m(P.x,P.y)},[u,m]),f=oa(()=>Vx(h),[h]),v=ps(()=>{const P=s.current,E=Oy(P);if(P&&E||Lt(),P.scrollOptions.shouldPublishImmediately){h();return}f()},[f,h]),_=ps((P,E)=>{s.current&&Lt();const D=o.current,T=D.getDroppableRef();T||Lt();const R=ZFe(T),z={ref:T,descriptor:l,env:R,scrollOptions:E};s.current=z;const O=eLe({ref:T,descriptor:l,env:R,windowScroll:P,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),$=R.closestScrollable;return $&&($.setAttribute(YD.contextId,a.contextId),$.addEventListener("scroll",v,e7(z.scrollOptions))),O},[a.contextId,l,v,o]),S=ps(()=>{const P=s.current,E=Oy(P);return P&&E||Lt(),U_(E)},[]),j=ps(()=>{const P=s.current;P||Lt();const E=Oy(P);s.current=null,E&&(f.cancel(),E.removeAttribute(YD.contextId),E.removeEventListener("scroll",v,e7(P.scrollOptions)))},[v,f]),b=ps(P=>{const E=s.current;E||Lt();const D=Oy(E);D||Lt(),D.scrollTop+=P.y,D.scrollLeft+=P.x},[]),w=oa(()=>({getDimensionAndWatchScroll:_,getScrollWhileDragging:S,dragStopped:j,scroll:b}),[j,_,S,b]),C=oa(()=>({uniqueId:n,descriptor:l,callbacks:w}),[w,l,n]);fi(()=>(c.current=C.descriptor,r.droppable.register(C),()=>{s.current&&j(),r.droppable.unregister(C)}),[w,l,j,C,i,r.droppable]),fi(()=>{s.current&&i.updateDroppableIsEnabled(c.current.id,!t.isDropDisabled)},[t.isDropDisabled,i]),fi(()=>{s.current&&i.updateDroppableIsCombineEnabled(c.current.id,t.isCombineEnabled)},[t.isCombineEnabled,i])}function nw(){}const t7={width:0,height:0,margin:uAe},nLe=({isAnimatingOpenOnMount:t,placeholder:s,animate:a})=>t||a==="close"?t7:{height:s.client.borderBox.height,width:s.client.borderBox.width,margin:s.client.margin},rLe=({isAnimatingOpenOnMount:t,placeholder:s,animate:a})=>{const n=nLe({isAnimatingOpenOnMount:t,placeholder:s,animate:a});return{display:s.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?ix.placeholder:null}},iLe=t=>{const s=g.useRef(null),a=ps(()=>{s.current&&(clearTimeout(s.current),s.current=null)},[]),{animate:n,onTransitionEnd:r,onClose:i,contextId:o}=t,[l,c]=g.useState(t.animate==="open");g.useEffect(()=>l?n!=="open"?(a(),c(!1),nw):s.current?nw:(s.current=setTimeout(()=>{s.current=null,c(!1)}),a):nw,[n,l,a]);const m=ps(h=>{h.propertyName==="height"&&(r(),n==="close"&&i())},[n,i,r]),u=rLe({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return Nt.createElement(t.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":o,onTransitionEnd:m,ref:t.innerRef})};var oLe=Nt.memo(iLe);class lLe extends Nt.PureComponent{constructor(...s){super(...s),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(s,a){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)}}const cLe=t=>{const s=g.useContext(S1);s||Lt();const{contextId:a,isMovementAllowed:n}=s,r=g.useRef(null),i=g.useRef(null),{children:o,droppableId:l,type:c,mode:m,direction:u,ignoreContainerClipping:h,isDropDisabled:f,isCombineEnabled:v,snapshot:_,useClone:S,updateViewportMaxScroll:j,getContainerForClone:b}=t,w=ps(()=>r.current,[]),C=ps(($=null)=>{r.current=$},[]);ps(()=>i.current,[]);const P=ps(($=null)=>{i.current=$},[]),E=ps(()=>{n()&&j({maxScroll:ez()})},[n,j]);aLe({droppableId:l,type:c,mode:m,direction:u,isDropDisabled:f,isCombineEnabled:v,ignoreContainerClipping:h,getDroppableRef:w});const D=oa(()=>Nt.createElement(lLe,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:$,data:A,animate:Q})=>Nt.createElement(oLe,{placeholder:A,onClose:$,innerRef:P,animate:Q,contextId:a,onTransitionEnd:E})),[a,E,t.placeholder,t.shouldAnimatePlaceholder,P]),T=oa(()=>({innerRef:C,placeholder:D,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":a}}),[a,l,D,C]),R=S?S.dragging.draggableId:null,z=oa(()=>({droppableId:l,type:c,isUsingCloneFor:R}),[l,R,c]);function O(){if(!S)return null;const{dragging:$,render:A}=S,Q=Nt.createElement(gz,{draggableId:$.draggableId,index:$.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(K,U)=>A(K,U,$));return of.createPortal(Q,b())}return Nt.createElement(k3.Provider,{value:z},o(T,_),O())};function dLe(){return document.body||Lt(),document.body}const s7={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:dLe},jz=t=>{let s={...t},a;for(a in s7)t[a]===void 0&&(s={...s,[a]:s7[a]});return s},rw=(t,s)=>t===s.droppable.type,a7=(t,s)=>s.draggables[t.draggable.id],uLe=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},s={...t,shouldAnimatePlaceholder:!1},a=zn(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),n=zn((i,o,l,c,m,u)=>{const h=m.descriptor.id;if(m.descriptor.droppableId===i){const _=u?{render:u,dragging:a(m.descriptor)}:null,S={isDraggingOver:l,draggingOverWith:l?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!1,snapshot:S,useClone:_}}if(!o)return s;if(!c)return t;const v={isDraggingOver:l,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}});return(i,o)=>{const l=jz(o),c=l.droppableId,m=l.type,u=!l.isDropDisabled,h=l.renderClone;if(Qx(i)){const f=i.critical;if(!rw(m,f))return s;const v=a7(f,i.dimensions),_=hi(i.impact)===c;return n(c,u,_,_,v,h)}if(i.phase==="DROP_ANIMATING"){const f=i.completed;if(!rw(m,f.critical))return s;const v=a7(f.critical,i.dimensions);return n(c,u,fz(f.result)===c,hi(f.impact)===c,v,h)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const f=i.completed;if(!rw(m,f.critical))return s;const v=hi(f.impact)===c,_=!!(f.impact.at&&f.impact.at.type==="COMBINE"),S=f.critical.droppable.id===c;return v?_?t:s:S?t:s}return s}},mLe={updateViewportMaxScroll:wIe},n7=bL(uLe,mLe,(t,s,a)=>({...jz(a),...t,...s}),{context:_3,areStatePropsEqual:hz})(cLe),pLe=t=>t.split(" ").map(s=>s[0]).join("").slice(0,2).toUpperCase(),hLe=t=>{const s=["!bg-blue-500","!bg-green-500","!bg-orange-500","!bg-teal-500","!bg-red-500","!bg-purple-500","!bg-pink-500","!bg-indigo-500"],a=t.charCodeAt(0)%s.length;return s[a]},fLe=t=>t?t.startsWith("EMP-")?t:`EMP-${t.padStart(3,"0")}`:"",xLe=({requestType:t,drawerOpen:s,setDrawerOpen:a})=>{const[n,r]=g.useState([]),[i,o]=g.useState(null),[l,c]=g.useState(null),[m,u]=g.useState(""),{data:h}=G9e(t||"",i??void 0,l??void 0),{data:f}=ic({isActive:"Y"}),{data:v}=ko({isActive:"Y"}),{data:_}=J4(),{data:S}=er({page:1,limit:1e3,search:m,isActive:"Y"}),j=K9e(),b=f?.data||[],w=v?.data||[],C=_?.data||[],P=S?.data||[],E=g.useMemo(()=>{if(!P)return[];const $=n.map(A=>A.approver_id)||[];return P.filter(A=>!$.includes(A.id)).filter(A=>A.name?.toLowerCase().includes(m?.toLowerCase()||"")).map(A=>({id:A.id,name:A.name,role:A.role?.name||"General",profile_pic:A.profile_image||"",employee_code:A.employee_id||"",department:A.role?.name||""}))},[P,n,m]),D=g.useMemo(()=>n.map($=>{const A=P.find(Q=>Q.id===$.approver_id);return{...$,user:A}}),[n,P]),T=ft({initialValues:{request_type:t||"",zone_id:"",depot_id:""},validationSchema:it({request_type:me().required("Request type is required")}),enableReinitialize:!0,onSubmit:async $=>{if(!$.request_type)return;const A=n.map((Q,K)=>({request_type:$.request_type,sequence:K+1,approver_id:Q.approver_id,zone_id:$.zone_id?Number($.zone_id):null,depot_id:$.depot_id?Number($.depot_id):null,is_active:Q.is_active||"Y"}));if(A.length===0){alert("Please assign at least one approver");return}try{await j.mutateAsync(A),R()}catch(Q){console.error("Error creating approval setup:",Q)}}});console.log("requestType",n);const R=()=>{a(!1),T.resetForm(),r([]),o(null),c(null),u("")};g.useEffect(()=>{h&&h.length>0?r(h.map($=>({...$,isNew:!1}))):r([])},[h]);const z=$=>{const{destination:A,source:Q,draggableId:K}=$;if(A&&!(A.droppableId===Q.droppableId&&A.index===Q.index)){if(Q.droppableId==="available-users"&&A.droppableId==="assigned-users"){const U=E.find(B=>B.id.toString()===K);if(U){const B=P.find(V=>V.id===U.id);if(B){const V={id:0,request_type:T.values.request_type,sequence:A.index+1,approver_id:B.id,zone_id:T.values.zone_id?Number(T.values.zone_id):null,depot_id:T.values.depot_id?Number(T.values.depot_id):null,is_active:"Y",createdate:null,createdby:null,updatedate:null,updatedby:null,log_inst:null,isNew:!0,tempId:`temp-${Date.now()}-${Math.random()}`,user:B},Y=Array.from(n);Y.splice(A.index,0,V),r(Y.map((H,F)=>({...H,sequence:F+1})))}}}else if(Q.droppableId==="assigned-users"&&A.droppableId==="available-users"){const U=parseInt(K);r(B=>B.filter(V=>V.approver_id!==U))}else if(Q.droppableId==="assigned-users"&&A.droppableId==="assigned-users"){const U=Array.from(n),[B]=U.splice(Q.index,1);U.splice(A.index,0,B),r(U.map((V,Y)=>({...V,sequence:Y+1})))}}},O=({user:$,showSequence:A})=>e.jsxs("div",{className:ln("!flex !items-center !gap-3 !p-2 !pr-3 !bg-white !border !border-gray-200 !rounded-lg !mb-2",{"hover:!border-blue-300 hover:!shadow-md":!0}),children:[e.jsx(boe,{className:"!w-5 !h-5 !text-gray-400 !cursor-grab !flex-shrink-0"}),e.jsx(ht,{alt:$.name,src:$.profile_pic||$.profile_image||void 0,className:ln("!w-10 !h-10 !flex-shrink-0 !text-white !font-medium",hLe($.name)),children:pLe($.name)}),e.jsxs(y,{className:"!flex-1 !min-w-0",children:[e.jsxs(x,{variant:"body2",className:"!font-medium !text-gray-900",children:[$.name," ",$.employee_code&&`(${fLe($.employee_code)})`]}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:$.department||(typeof $.role=="string"?$.role:$.role?.name)||"No Role"})]}),A!==void 0&&e.jsx(y,{className:"!flex-shrink-0 !flex !items-center !justify-center !w-6 !h-6 !rounded-full !bg-primary-500 !text-white !text-xs !font-semibold",children:A})]});return e.jsx(ot,{open:s,setOpen:R,title:t?`Manage Approval Setup - ${t.replace(/_/g," ")}`:"Create Approval Setup",size:"large",children:e.jsx(y,{className:"!p-4 select-none",children:e.jsxs("form",{onSubmit:T.handleSubmit,children:[e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 lg:!grid-cols-3 !gap-6",children:[e.jsxs(_e,{name:"request_type",label:"Request Type",formik:T,required:!0,disabled:!!t,children:[e.jsx(Z,{value:"",children:"Select Request Type"}),C.map($=>e.jsx(Z,{value:$.value,children:$.label},$.value))]}),e.jsxs(_e,{name:"zone_id",label:"Zone (Optional)",formik:T,onChange:$=>{T.setFieldValue("zone_id",$.target.value),o($.target.value?Number($.target.value):null)},children:[e.jsx(Z,{value:"",children:"All Zones (Global)"}),b.map($=>e.jsx(Z,{value:$.id||"",children:$.name},$.id||"global"))]}),e.jsxs(_e,{name:"depot_id",label:"Depot (Optional)",formik:T,onChange:$=>{T.setFieldValue("depot_id",$.target.value),c($.target.value?Number($.target.value):null)},children:[e.jsx(Z,{value:"",children:"All Depots (Global)"}),w.map($=>e.jsx(Z,{value:$.id||"",children:$.name},$.id||"global"))]})]}),e.jsxs(y,{children:[e.jsx("p",{className:"!font-semibold !my-3",children:"Assign Approvers"}),e.jsx(PFe,{onDragEnd:z,children:e.jsxs("div",{className:"!grid !grid-cols-2 !gap-4 !h-[500px]",children:[e.jsxs(y,{className:"!border !border-gray-200 !rounded-t-lg !flex !flex-col !overflow-hidden",children:[e.jsxs(y,{className:"!p-2 !border-b !border-gray-200 !bg-gray-50",children:[e.jsxs(x,{variant:"subtitle1",className:"!font-semibold !text-blue-600",children:["Available Users (",E.length,")"]}),e.jsx("p",{className:"!text-gray-500 !text-xs !block !mt-1",children:"Drag users from the left panel to assign"})]}),e.jsx(y,{className:"!flex-1 !overflow-hidden",children:e.jsx(n7,{droppableId:"available-users",children:($,A)=>e.jsxs("div",{...$.droppableProps,ref:$.innerRef,className:ln("!h-full !p-2 !overflow-y-auto",{"!bg-blue-50":A.isDraggingOver}),style:{transition:"background-color 0.2s ease"},children:[E.length>0?E.map((Q,K)=>e.jsx(XD,{draggableId:Q.id.toString(),index:K,children:U=>e.jsx("div",{ref:U.innerRef,...U.draggableProps,...U.dragHandleProps,style:{...U.draggableProps.style},children:e.jsx(O,{user:Q})})},Q.id)):e.jsxs(y,{className:"!p-8 !text-center !h-full !flex !flex-col !justify-center !items-center",children:[e.jsx(ua,{className:"!w-12 !h-12 !text-gray-300 !mb-2"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:m?"No users found":"All users are assigned"})]}),$.placeholder]})})})]}),e.jsxs(y,{className:"!border !border-gray-200 !rounded-t-lg !flex !flex-col !overflow-hidden",children:[e.jsxs(y,{className:"!p-2 !border-b !border-gray-200 !bg-gray-50",children:[e.jsxs(x,{variant:"subtitle1",className:"!font-semibold !text-green-600",children:["Assigned Users (",n.length,")"]}),e.jsx("p",{className:"!text-gray-500 !text-xs !block !mt-1",children:"Drag users from the right panel to reorder"})]}),e.jsx(y,{className:"!flex-1 !overflow-hidden",children:e.jsx(n7,{droppableId:"assigned-users",children:($,A)=>e.jsxs("div",{...$.droppableProps,ref:$.innerRef,className:ln("!h-full !p-2 !overflow-y-auto",{"!bg-green-50":A.isDraggingOver}),style:{transition:"background-color 0.2s ease"},children:[n.length>0?D.filter(Q=>Q.user!==void 0).map((Q,K)=>e.jsx(XD,{draggableId:Q.approver_id.toString(),index:K,children:U=>e.jsx("div",{ref:U.innerRef,...U.draggableProps,...U.dragHandleProps,style:{...U.draggableProps.style},children:e.jsx(O,{user:{...Q.user,employee_code:Q.user.employee_id,department:Q.user.role?.name||Q.user.role||"No Role",role:typeof Q.user.role=="string"?Q.user.role:Q.user.role?.name||"No Role"},showSequence:Q.sequence})})},Q.tempId||Q.id||K)):e.jsxs(y,{className:"!p-8 !text-center !h-full !flex !flex-col !justify-center !items-center",children:[e.jsx(jA,{className:"!w-12 !h-12 !text-gray-300 !mb-2"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"No assigned users"}),e.jsx(x,{variant:"caption",className:"!text-gray-400 !block !mt-1",children:"Drag users from the left panel to assign"})]}),$.placeholder]})})})]})]})})]}),e.jsxs(y,{className:"!flex !justify-end !gap-3 !pt-4",children:[e.jsx(G,{type:"button",variant:"outlined",onClick:R,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",color:"primary",loading:j.isPending,loadingText:"Saving...",children:"Create"})]})]})})})},gLe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState("all"),[o,l]=g.useState(1),[c]=g.useState(10),[m,u]=g.useState(null),[h,f]=g.useState(!1),{isCreate:v,isRead:_,isUpdate:S,isDelete:j}=Ze("approval"),{data:b}=J4(),{data:w,isLoading:C,error:P}=Y9e({page:o,size:c,search:t,request_type:r!=="all"?r:void 0},{enabled:_}),E=w?.data||[],D=w?.pagination,T=b?.data||[],R=D?.totalCount||E.length,z=E.filter(W=>W.is_active==="Y").length,O=E.filter(W=>W.is_active==="N").length,$=E.reduce((W,X)=>W+(X.no_of_approvers||0),0),A=E.filter(W=>a==="all"?!0:a==="active"?W.is_active==="Y":a==="inactive"?W.is_active==="N":!0),Q=Q9e(),K=W=>{u(W),f(!0)},U=g.useCallback(async W=>{try{await Q.mutateAsync(W)}catch(X){console.error("Error deleting approval setup:",X)}},[Q]),B=()=>{u(null),f(!0)},V=W=>{f(W),W||u(null)},Y=g.useCallback(W=>{s(W),l(1)},[]),H=g.useCallback(W=>{n(W),l(1)},[]),F=g.useCallback(W=>{i(W),l(1)},[]),M=W=>{l(W+1)},L=[{id:"request_type",label:"Request Type",render:(W,X)=>e.jsx(x,{variant:"body2",className:"!font-medium !capitalize",children:X.request_type.replace(/_/g," ")})},{id:"zones",label:"Zones",render:(W,X)=>e.jsxs("div",{className:"!flex !flex-wrap !gap-1",children:[X.zones.slice(0,2).map((te,se)=>e.jsx(De,{label:te.name,size:"small",variant:"outlined",className:"!text-xs"},se)),X.zones.length>2&&e.jsx(De,{label:`+${X.zones.length-2} more`,size:"small",variant:"outlined",className:"!text-xs"})]})},{id:"depots",label:"Depots",render:(W,X)=>e.jsxs("div",{className:"!flex !flex-wrap !gap-1",children:[X.depots.slice(0,2).map((te,se)=>e.jsx(De,{label:te.name,size:"small",variant:"outlined",className:"!text-xs"},se)),X.depots.length>2&&e.jsx(De,{label:`+${X.depots.length-2} more`,size:"small",variant:"outlined",className:"!text-xs"})]})},{id:"no_of_approvers",label:"Approvers",render:(W,X)=>e.jsx(x,{variant:"body2",children:X.no_of_approvers})},{id:"is_active",label:"Status",render:(W,X)=>e.jsx(De,{variant:"outlined",icon:X.is_active==="Y"?e.jsx(Yl,{fontSize:"small"}):e.jsx(Na,{fontSize:"small"}),label:X.is_active==="Y"?"Active":"Inactive",color:X.is_active==="Y"?"success":"error",size:"small"})},...S||j?[{id:"actions",label:"Actions",sortable:!1,render:(W,X)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[S&&e.jsx(is,{onClick:()=>K(X.request_type),tooltip:`Manage ${X.request_type.replace(/_/g," ")}`}),j&&e.jsx(Vt,{onClick:()=>U(X.request_type),tooltip:`Delete ${X.request_type.replace(/_/g," ")}`,itemName:X.request_type.replace(/_/g," "),confirmDelete:!0})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs("div",{children:[e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:"Approval Setup"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Configure approval workflows for different request types"})]})}),_&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Workflows",value:R,icon:e.jsx(Ng,{className:"w-6 h-6"}),color:"blue",isLoading:C}),e.jsx(fe,{title:"Active Workflows",value:z,icon:e.jsx(Oa,{className:"w-6 h-6"}),color:"green",isLoading:C}),e.jsx(fe,{title:"Inactive Workflows",value:O,icon:e.jsx(Na,{className:"w-6 h-6"}),color:"red",isLoading:C}),e.jsx(fe,{title:"Total Approvers",value:$,icon:e.jsx(ua,{className:"w-6 h-6"}),color:"purple",isLoading:C})]}),P&&_&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load approval workflows. Please try again."}),e.jsx(lt,{data:A,columns:L,actions:_||v?e.jsxs("div",{className:"flex justify-between gap-3 items-center flex-wrap",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-3",children:_&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search by request type...",value:t,onChange:Y,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:W=>H(W.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]}),e.jsxs(_e,{value:r,onChange:W=>F(W.target.value),className:"!w-64",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Request Types"}),T.map(W=>e.jsx(Z,{value:W.value,children:W.label},W.value))]})]})}),v&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:B,children:"Create"})]}):void 0,getRowId:W=>W.request_type,initialOrderBy:"request_type",loading:C,totalCount:a!=="all"?A.length:D?.totalCount||0,page:o-1,rowsPerPage:c,isPermission:_,onPageChange:M,emptyMessage:t||a!=="all"||r!=="all"?"No workflows found matching your filters":"No approval workflows found in the system"}),e.jsx(xLe,{requestType:m,drawerOpen:h,setDrawerOpen:V})]})},yLe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState("all"),[o,l]=g.useState(1),[c]=g.useState(6),[m,u]=g.useState(!1),[h,f]=g.useState("approve"),[v,_]=g.useState(null),{isRead:S,isUpdate:j}=Ze("approval"),{data:b,isLoading:w}=uce({page:o,limit:c,search:t,status:a!=="all"?a:void 0,request_type:r!=="all"?r:void 0},{enabled:S}),{data:C}=J4(),P=b?.data||[],E=b?.pagination,D=b?.stats,T=C?.data||[],R=DA(),z=ft({initialValues:{remarks:""},validationSchema:it({remarks:me().required(`${h==="approve"?"Approval":"Rejection"} remarks are required`).trim().min(1,`${h==="approve"?"Approval":"Rejection"} remarks are required`)}),enableReinitialize:!0,onSubmit:async Y=>{if(!(!v||!v.approvals?.[0]))try{await R.mutateAsync({request_id:v.id,approval_id:v.approvals[0].id,action:h==="approve"?"A":"R",remarks:Y.remarks.trim()}),z.resetForm(),u(!1),_(null)}catch(H){console.error("Error taking action on request:",H)}}}),O=Y=>{_(Y),f("approve"),u(!0)},$=Y=>{_(Y),f("reject"),u(!0)},A=()=>{z.resetForm(),u(!1),_(null)},Q=Y=>Y.replace(/_/g," ").replace(/\w\S*/g,H=>H.charAt(0).toUpperCase()+H.substr(1)),K=Y=>Y.reference_details?.order_number?Y.reference_details.order_number:Y.reference_id?`#${Y.reference_id}`:`REQ-${Y.id}`,U=Y=>{if(!Y)return"default";switch(Y.toUpperCase()){case"A":case"APPROVED":return"success";case"R":case"REJECTED":return"error";case"P":case"PENDING":return"warning";default:return"default"}},B=Y=>{if(!Y)return"N/A";switch(Y.toUpperCase()){case"A":case"APPROVED":return"Approved";case"R":case"REJECTED":return"Rejected";case"P":case"PENDING":return"Pending";default:return Y}},V=[{id:"reference",label:"Reference",render:(Y,H)=>e.jsx(x,{variant:"body2",className:"!font-medium",children:K(H)})},{id:"request_type",label:"Request Type",render:(Y,H)=>e.jsx(De,{label:Q(H.request_type),size:"small",className:"!capitalize"})},{id:"requester",label:"Requested By",render:(Y,H)=>H.requester?.name||`User #${H.requester_id}`},{id:"status",label:"Status",render:(Y,H)=>{const F=H.approvals?.[0]?.status||H.status;return e.jsx(De,{label:B(F),color:U(F),size:"small",className:"!capitalize"})}},{id:"createdate",label:"Request Date",render:(Y,H)=>Oe(H.createdate instanceof Date?H.createdate.toISOString():String(H.createdate||""))||"N/A"},...j?[{id:"actions",label:"Actions",sortable:!1,render:(Y,H)=>{const F=H.approvals?.[0]?.status||H.status;return e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[e.jsx(Ka,{onClick:()=>O(H),tooltip:"Approve request",icon:e.jsx(Yl,{className:"!w-4 !h-4"}),color:"success",disabled:F?.toUpperCase()!=="P"||R.isPending}),e.jsx(Ka,{onClick:()=>$(H),tooltip:"Reject request",icon:e.jsx(Fr,{className:"!w-4 !h-4"}),color:"error",disabled:F?.toUpperCase()!=="P"||R.isPending})]})}}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs("div",{children:[e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:"Approval Requests"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Manage and track approval requests for various business processes"})]})}),S&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx(fe,{title:"Total Requests",value:D?.total_requests||0,icon:e.jsx(Cs,{className:"w-6 h-6"}),color:"blue",isLoading:w}),e.jsx(fe,{title:"Pending Requests",value:D?.pending_requests||0,icon:e.jsx(la,{className:"w-6 h-6"}),color:"orange",isLoading:w}),e.jsx(fe,{title:"Approved Requests",value:D?.approved_requests||0,icon:e.jsx(Oa,{className:"w-6 h-6"}),color:"green",isLoading:w}),e.jsx(fe,{title:"Rejected Requests",value:D?.rejected_requests||0,icon:e.jsx(Na,{className:"w-6 h-6"}),color:"red",isLoading:w})]}),e.jsx(lt,{columns:V,data:P,loading:w,page:o-1,onPageChange:Y=>l(Y+1),rowsPerPage:c,totalCount:E?.total_count||0,isPermission:S,actions:S?e.jsx("div",{className:"flex justify-between gap-3 items-center flex-wrap",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(as,{placeholder:"Search requests...",value:t,onChange:s,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:a,onChange:Y=>n(Y.target.value),className:"!w-40",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"P",children:"Pending"}),e.jsx(Z,{value:"A",children:"Approved"}),e.jsx(Z,{value:"R",children:"Rejected"})]}),e.jsxs(_e,{value:r,onChange:Y=>i(Y.target.value),className:"!w-48",disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Types"}),T.map(Y=>e.jsx(Z,{value:Y.value,children:Y.label},Y.value))]})]})}):void 0,emptyMessage:t?`No requests found matching "${t}"`:"No approval requests found"}),e.jsxs(sc,{open:m,onClose:A,maxWidth:"sm",fullWidth:!0,className:"!rounded-lg",children:[e.jsxs(Ev,{className:"!flex !items-center !gap-3 !pb-4 !border-b !border-gray-200 !relative",children:[e.jsx("div",{className:`!w-12 !h-12 !rounded-full !flex !items-center !justify-center !shrink-0 ${h==="approve"?"!bg-green-100":"!bg-red-100"}`,children:h==="approve"?e.jsx(Yl,{className:"!w-6 !h-6 !text-green-600"}):e.jsx(Fr,{className:"!w-6 !h-6 !text-red-600"})}),e.jsxs("div",{className:"!flex-1",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900",children:h==="approve"?"Approve Request?":"Reject Request?"}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mt-1",children:h==="approve"?e.jsxs(e.Fragment,{children:["Are you sure you want to approve this"," ",v?.request_type?.replaceAll("_"," ").toLowerCase()||"request"," ","from"," ",e.jsx("span",{className:"!font-semibold !text-gray-900",children:v?.requester?.name||"User"}),"?"]}):e.jsxs(e.Fragment,{children:["Are you sure you want to reject this"," ",v?.request_type?.toLowerCase()||"request"," ","from"," ",e.jsx("span",{className:"!font-semibold !text-gray-900",children:v?.requester?.name||"User"}),"?"]})})]}),e.jsx(na,{onClick:A,className:"!absolute !top-2 !right-2 !bg-white !rounded-full !shadow-md hover:!bg-gray-100 !border !border-gray-200",size:"small",children:e.jsx(Fr,{className:"!w-4 !h-4 !text-gray-600"})})]}),e.jsxs(hg,{className:"!p-4",children:[v&&e.jsxs("div",{className:"!mb-4 !pb-4 !border-b !border-gray-200",children:[e.jsx(x,{variant:"subtitle2",className:"!font-semibold !text-gray-700 !mb-3",children:"Request Details"}),v.reference_details?e.jsx("div",{className:"!bg-gray-50 !rounded-md !p-4 !border !border-gray-200",children:e.jsxs("div",{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-4",children:[v.reference_details.order_number&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Order Number"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:v.reference_details.order_number})]}),v.reference_details.customer_name&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Customer Name"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:v.reference_details.customer_name})]}),v.reference_details.total_amount&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Total Amount"}),e.jsx(x,{variant:"body2",className:"!font-semibold !text-primary-600",children:v.reference_details.total_amount})]}),v.reference_id&&e.jsxs("div",{className:"!space-y-1",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !uppercase !tracking-wide !font-medium",children:"Reference ID"}),e.jsxs(x,{variant:"body2",className:"!font-semibold !text-gray-900",children:["#",v.reference_id]})]})]})}):e.jsx("div",{className:"!bg-gray-50 !rounded-md !p-4 !border !border-gray-200",children:e.jsx(x,{variant:"body2",className:"!text-gray-600 !text-center",children:"No request details available"})})]}),e.jsx(oe,{name:"remarks",multiline:!0,rows:3,label:h==="approve"?"Approval Remarks":"Rejection Remarks",placeholder:h==="approve"?"Enter approval remarks...":"Enter rejection remarks...",formik:z,required:!0})]}),e.jsxs(pg,{className:"!px-6 !py-4 !gap-2",children:[e.jsx(G,{variant:"outlined",onClick:A,children:"Cancel"}),e.jsx(G,{variant:"contained",color:h==="approve"?"success":"error",startIcon:h==="approve"?e.jsx(Yl,{className:"!w-4 !h-4"}):e.jsx(Fr,{className:"!w-4 !h-4"}),onClick:()=>z.handleSubmit(),disabled:R.isPending||!z.isValid||!z.values.remarks.trim(),children:R.isPending?h==="approve"?"Approving...":"Rejecting...":h==="approve"?"Yes, Approve":"Yes, Reject"})]})]})]})},bLe=()=>{const[t,s]=g.useState(""),[a,n]=g.useState("all"),[r,i]=g.useState("all"),[o,l]=g.useState(1),[c]=g.useState(10),{isRead:m}=Ze("exception"),u=!1,h=[],f=h.length,v=h.filter(C=>C.status==="open").length,_=h.filter(C=>C.status==="resolved").length,S=h.filter(C=>C.severity==="critical").length,j=C=>{switch(C?.toLowerCase()){case"resolved":return"success";case"open":return"error";case"in_progress":return"warning";default:return"default"}},b=C=>{switch(C?.toLowerCase()){case"critical":return"error";case"high":return"warning";case"medium":return"info";case"low":return"default";default:return"default"}},w=[{id:"route_name",label:"Route",render:(C,P)=>e.jsxs("div",{className:"!flex !items-center !gap-2",children:[e.jsx(Wr,{className:"!w-4 !h-4 !text-gray-400"}),e.jsx(x,{variant:"body2",children:P.route_name||`Route #${P.route_id}`})]})},{id:"exception_type",label:"Exception Type",render:(C,P)=>e.jsx(De,{label:P.exception_type,size:"small",className:"!capitalize"})},{id:"description",label:"Description",render:(C,P)=>e.jsx(x,{variant:"body2",className:"!max-w-md !truncate",children:P.description})},{id:"severity",label:"Severity",render:(C,P)=>e.jsx(De,{label:P.severity,color:b(P.severity),size:"small",className:"!capitalize"})},{id:"status",label:"Status",render:(C,P)=>e.jsx(De,{label:P.status,color:j(P.status),size:"small",className:"!capitalize"})},{id:"reported_by",label:"Reported By",render:(C,P)=>P.reported_by_user?.name||`User #${P.reported_by}`},{id:"reported_date",label:"Reported Date",render:(C,P)=>Oe(P.reported_date)},{id:"resolved_date",label:"Resolved Date",render:(C,P)=>P.resolved_date?Oe(P.resolved_date):"-"}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs("div",{children:[e.jsx(x,{variant:"h5",className:"!font-bold !text-gray-900",children:"Route Exceptions"}),e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"Monitor and manage exceptions reported for delivery routes"})]})}),m&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Exceptions",value:f,icon:e.jsx(la,{className:"w-6 h-6"}),color:"blue",isLoading:u}),e.jsx(fe,{title:"Open Exceptions",value:v,icon:e.jsx(la,{className:"w-6 h-6"}),color:"red",isLoading:u}),e.jsx(fe,{title:"Resolved Exceptions",value:_,icon:e.jsx(Wr,{className:"w-6 h-6"}),color:"green",isLoading:u}),e.jsx(fe,{title:"Critical Exceptions",value:S,icon:e.jsx(la,{className:"w-6 h-6"}),color:"orange",isLoading:u})]}),e.jsx(lt,{columns:w,data:h,loading:u,page:o-1,onPageChange:C=>l(C+1),rowsPerPage:c,isPermission:m,actions:m?e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsx("div",{className:"flex-1",children:e.jsx(as,{placeholder:"Search Route Exceptions...",value:t,className:"!w-64",onChange:s,debounceMs:1e3})}),e.jsx("div",{className:"w-[180px]",children:e.jsxs(_e,{value:a,onChange:C=>n(C.target.value),fullWidth:!0,disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"open",children:"Open"}),e.jsx(Z,{value:"in_progress",children:"In Progress"}),e.jsx(Z,{value:"resolved",children:"Resolved"})]})}),e.jsx("div",{className:"w-[180px]",children:e.jsxs(_e,{value:r,onChange:C=>i(C.target.value),fullWidth:!0,disableClearable:!0,children:[e.jsx(Z,{value:"all",children:"All Severities"}),e.jsx(Z,{value:"critical",children:"Critical"}),e.jsx(Z,{value:"high",children:"High"}),e.jsx(Z,{value:"medium",children:"Medium"}),e.jsx(Z,{value:"low",children:"Low"})]})})]}):void 0})]})},vLe=it({name:me().required("Company name is required"),address:me(),city:me(),state:me(),country:me(),zipcode:me(),phone_number:me(),email:me().email("Invalid email address"),website:me().url("Invalid URL"),smtp_host:me(),smtp_port:Qe().nullable(),smtp_username:me(),smtp_password:me(),smtp_mail_from_name:me(),smtp_mail_from_address:me().email("Invalid from email address"),currency_id:Qe().nullable()}),jLe=()=>{const{data:t,isLoading:s}=Mu(),a=zbe(),{data:n}=nc({status:"active",page:1}),[r,i]=g.useState(null),[o,l]=g.useState(null),c=t?.data,m=n?.data||[],u=ft({initialValues:{name:c?.name||"",address:c?.address||"",city:c?.city||"",state:c?.state||"",country:c?.country||"",zipcode:c?.zipcode||"",phone_number:c?.phone_number||"",email:c?.email||"",website:c?.website||"",is_active:c?.is_active||"Y",smtp_mail_from_name:c?.smtp_mail_from_name||"",smtp_mail_from_address:c?.smtp_mail_from_address||"",smtp_host:c?.smtp_host||"",smtp_port:c?.smtp_port||null,smtp_username:c?.smtp_username||"",smtp_password:c?.smtp_password||"",currency_id:c?.currency_id||null},validationSchema:vLe,enableReinitialize:!0,onSubmit:async v=>{try{if(!c?.id)return;const _=new FormData;_.append("name",v.name),_.append("address",v.address||""),_.append("city",v.city||""),_.append("state",v.state||""),_.append("country",v.country||""),_.append("zipcode",v.zipcode||""),_.append("phone_number",v.phone_number||""),_.append("email",v.email||""),_.append("website",v.website||""),_.append("is_active",v.is_active),_.append("smtp_mail_from_name",v.smtp_mail_from_name||""),_.append("smtp_mail_from_address",v.smtp_mail_from_address||""),_.append("smtp_host",v.smtp_host||""),_.append("smtp_port",v.smtp_port?v.smtp_port.toString():""),_.append("smtp_username",v.smtp_username||""),_.append("smtp_password",v.smtp_password||""),_.append("currency_id",v.currency_id?v.currency_id.toString():""),r&&_.append("logo",r),await a.mutateAsync({id:c.id,settingsData:_}),i(null),l(null)}catch(_){console.error("Error updating settings:",_)}}}),h=v=>{const _=v.target.files?.[0];if(_){i(_);const S=new FileReader;S.onloadend=()=>{l(S.result)},S.readAsDataURL(_)}},f=()=>{i(null),l(null)};return s?e.jsxs(y,{children:[e.jsxs(y,{className:"mb-2",children:[e.jsx(J,{variant:"text",width:200,height:32,className:"!mb-1"}),e.jsx(J,{variant:"text",width:400,height:20})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[e.jsxs(y,{className:"flex items-center gap-2 mb-4",children:[e.jsx(J,{variant:"circular",width:20,height:20}),e.jsx(J,{variant:"text",width:180,height:24})]}),e.jsx(fn,{className:"!mb-6"}),e.jsxs(y,{className:"mb-6",children:[e.jsx(J,{variant:"text",width:120,height:16,className:"!mb-4"}),e.jsxs(y,{className:"flex items-center gap-4",children:[e.jsx(J,{variant:"circular",width:96,height:96,className:"!bg-gray-200"}),e.jsxs(y,{children:[e.jsx(J,{variant:"rectangular",width:140,height:36}),e.jsx(J,{variant:"text",width:200,height:14,className:"!mt-2"})]})]})]}),e.jsx(y,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4,5,6,7,8,9,10,11].map(v=>e.jsxs(y,{className:"space-y-2",children:[e.jsx(J,{variant:"text",width:"40%",height:14}),e.jsx(J,{variant:"rectangular",width:"100%",height:56})]},v))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[e.jsxs(y,{className:"flex items-center gap-2 mb-4",children:[e.jsx(J,{variant:"circular",width:20,height:20}),e.jsx(J,{variant:"text",width:180,height:24})]}),e.jsx(fn,{className:"!mb-6"}),e.jsx(y,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4].map(v=>e.jsxs(y,{className:"space-y-2",children:[e.jsx(J,{variant:"text",width:"40%",height:14}),e.jsx(J,{variant:"rectangular",width:"100%",height:56})]},v))})]}),e.jsxs(y,{className:"flex justify-end gap-3",children:[e.jsx(J,{variant:"rectangular",width:100,height:36}),e.jsx(J,{variant:"rectangular",width:140,height:36})]})]}):c?e.jsxs(y,{children:[e.jsxs(y,{className:"mb-2",children:[e.jsx(x,{variant:"h5",className:"!font-semibold !text-gray-900",children:"System Settings"}),e.jsx(x,{variant:"body2",className:"!text-gray-600 !mt-1",children:"Manage your company settings and configuration"})]}),e.jsxs(y,{component:"form",onSubmit:u.handleSubmit,children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[e.jsxs(y,{className:"flex items-center gap-2 mb-4",children:[e.jsx(Sr,{className:"w-5 h-5 text-primary-600"}),e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900",children:"Company Information"})]}),e.jsx(fn,{className:"!mb-6"}),e.jsxs(y,{className:"mb-6",children:[e.jsx(x,{variant:"body2",className:"!font-medium !text-gray-700 !mb-4",children:"Company Logo"}),e.jsxs(y,{className:"flex items-center gap-4",children:[e.jsx(ht,{src:o||c.logo||void 0,alt:c.name,className:"!w-24 !h-24 !bg-primary-100",children:e.jsx(Sr,{className:"w-12 h-12 text-primary-600"})}),e.jsxs(y,{children:[e.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:h}),e.jsx("label",{htmlFor:"logo-upload",children:e.jsx(G,{variant:"outlined",component:"span",startIcon:e.jsx(dle,{className:"w-4 h-4"}),size:"small",children:r?"Change Logo":"Upload Logo"})}),r&&e.jsx(na,{size:"small",onClick:f,className:"!ml-2",children:e.jsx(Fr,{className:"w-4 h-4"})}),e.jsx(x,{variant:"caption",className:"!block !mt-2 !text-gray-500",children:"JPG, PNG or GIF. Max size of 10MB"})]})]})]}),e.jsxs(y,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(oe,{name:"name",formik:u,label:"Company Name",placeholder:"Enter company name",required:!0,fullWidth:!0}),e.jsx(oe,{name:"code",label:"Company Code",value:c.code,disabled:!0,fullWidth:!0}),e.jsx(oe,{name:"address",formik:u,label:"Address",placeholder:"Enter address",fullWidth:!0,className:"md:col-span-2"}),e.jsx(oe,{name:"city",formik:u,label:"City",placeholder:"Enter city",fullWidth:!0}),e.jsx(oe,{name:"state",formik:u,label:"State",placeholder:"Enter state",fullWidth:!0}),e.jsx(oe,{name:"country",formik:u,label:"Country",placeholder:"Enter country",fullWidth:!0}),e.jsx(oe,{name:"zipcode",formik:u,label:"Zip Code",placeholder:"Enter zip code",fullWidth:!0}),e.jsx(oe,{name:"phone_number",formik:u,label:"Phone Number",placeholder:"Enter phone number",fullWidth:!0}),e.jsx(oe,{name:"email",formik:u,label:"Email",placeholder:"Enter email address",type:"email",fullWidth:!0}),e.jsx(oe,{name:"website",formik:u,label:"Website",placeholder:"https://example.com",fullWidth:!0}),e.jsxs(_e,{name:"currency_id",formik:u,label:"Currency",fullWidth:!0,children:[e.jsx(Z,{value:"",children:"Select Currency"}),m.map(v=>e.jsxs(Z,{value:v.id,children:[v.code," - ",v.name]},v.id))]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[e.jsxs(y,{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ng,{className:"w-5 h-5 text-primary-600"}),e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900",children:"SMTP Configuration"})]}),e.jsx(fn,{className:"!mb-6"}),e.jsxs(y,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(oe,{name:"smtp_mail_from_name",formik:u,label:"From Name",placeholder:"Company Name",fullWidth:!0}),e.jsx(oe,{name:"smtp_mail_from_address",formik:u,label:"From Email",placeholder:"noreply@company.com",type:"email",fullWidth:!0}),e.jsx(oe,{name:"smtp_host",formik:u,label:"SMTP Host",placeholder:"smtp.example.com",fullWidth:!0}),e.jsx(oe,{name:"smtp_port",formik:u,label:"SMTP Port",placeholder:"587",type:"number",fullWidth:!0}),e.jsx(oe,{name:"smtp_username",formik:u,label:"SMTP Username",placeholder:"Enter SMTP username",fullWidth:!0}),e.jsx(oe,{name:"smtp_password",formik:u,label:"SMTP Password",placeholder:"Enter SMTP password",type:"password",autoComplete:"new-password",fullWidth:!0})]})]}),e.jsxs(y,{className:"flex justify-end gap-3",children:[e.jsx(G,{variant:"outlined",onClick:()=>{u.resetForm(),i(null),l(null)},children:"Reset"}),e.jsx(G,{type:"submit",variant:"contained",loading:a.isPending,startIcon:e.jsx(Oa,{className:"w-4 h-4"}),children:"Save Settings"})]})]})]}):e.jsx(y,{children:e.jsx(x,{variant:"h6",className:"!text-gray-900",children:"No settings found"})})},NLe=async t=>{try{return(await ie.get("/promotions",{params:t})).data}catch(s){throw s}},wLe=async t=>{try{return(await ie.get(`/promotions/${t}`)).data}catch(s){throw s}},_Le=async t=>(await ie.post("/promotions",t)).data,SLe=async(t,s)=>(await ie.put(`/promotions/${t}`,s)).data,CLe=async t=>(await ie.delete(`/promotions/${t}`)).data,Gm={all:["promotions"],lists:()=>[...Gm.all,"list"],list:t=>[...Gm.lists(),t],details:()=>[...Gm.all,"detail"],detail:t=>[...Gm.details(),t]},kLe=(t,s)=>nt({queryKey:Gm.list(t),queryFn:()=>NLe(t),staleTime:300*1e3,...s}),Nz=(t,s)=>nt({queryKey:Gm.detail(t),queryFn:()=>wLe(t),enabled:!!t,staleTime:300*1e3,...s}),PLe=()=>Re({mutationFn:t=>_Le(t),invalidateQueries:[["promotions"]],loadingMessage:"Saving..."}),ELe=()=>Re({mutationFn:({id:t,data:s})=>SLe(t,s),invalidateQueries:[["promotions"]],loadingMessage:"Saving..."}),TLe=()=>Re({mutationFn:t=>CLe(t),invalidateQueries:[["promotions"]],loadingMessage:"Deleting..."}),MLe=["Quantity","Price","Weight"],r7=["Free Product","Percent","Amount"],DLe=["Cash","Credit","Both"],RLe=["(B) Distributor Channel","(C) Customer Channel"],ALe=["All","Invoice","Waybill","Order"],ILe=["Normal","Exclusive","Priority"],OLe=["Normal","Override","Combine"],FLe=it({name:me().required("Name is required"),start_date:me().required("Start date is required"),finish_date:me().required("Finish date is required").test("is-after-start","Finish date must be after start date",function(t){const{start_date:s}=this.parent;return!t||!s?!0:new Date(t)>=new Date(s)}),description:me(),is_active:me().oneOf(["Y","N"]).required()}),LLe=({selectedPromotion:t,setSelectedPromotion:s,drawerOpen:a,setDrawerOpen:n})=>{const r=!!t,{data:i,isLoading:o}=Nz(t?.id||null),{data:l}=Ru({limit:1e3}),c=l?.data||[],{data:m}=ko({limit:1e3}),u=m?.data||[],{data:h}=ic({limit:1e3}),f=h?.data||[],{data:v}=Fp({limit:1e3}),_=v?.data||[],{data:S}=Lp({limit:1e3}),j=S?.data||[],{data:b}=a3(),w=b?.data||[],{data:C}=x1({limit:1e3}),P=C?.data||[],E=PLe(),D=ELe(),[T,R]=g.useState([]),[z,O]=g.useState([]),[$,A]=g.useState([]),[Q,K]=g.useState(0),[U,B]=g.useState(null),[V,Y]=g.useState({area:"",group:"",distributor_id:"",role:"",slip_limit:!1,disc_limit:!1,date_limit:!1,dc_par:!1}),[H,F]=g.useState(null),[M,L]=g.useState(0),[W,X]=g.useState(""),[te,se]=g.useState(""),[ae,pe]=g.useState(!1),[he,re]=g.useState(""),[xe,ge]=g.useState("0.00"),[le,de]=g.useState("Amount"),[we,Ae]=g.useState({group:"",dyn_group:"",product:"",quant_group:"",dyn_prod_groups:"",at_least:"",unit:"unit"}),[Fe,Me]=g.useState({});g.useEffect(()=>{(!i?.data||!r)&&(R([]),O([]),A([]))},[i,r]);const Xe=()=>{s(null),n(!1),ke.resetForm(),R([]),O([]),A([]),B(null),F(null),Y({area:"",group:"",distributor_id:"",role:"",slip_limit:!1,disc_limit:!1,date_limit:!1,dc_par:!1}),Ae({group:"",dyn_group:"",product:"",quant_group:"",dyn_prod_groups:"",at_least:"",unit:"unit"})},ke=ft({initialValues:{disabled:!1,name:t?.name||"",short_name:t?.name||"",code:t?.code||"",pay_type:"",scope:"",slip_type:"All",mandatory:!1,prom_conflict:"Normal",degree:"1",nr:"1",reg_disc_conf:"Normal",conflict_with_constant_disc:!1,start_date:t?.start_date?new Date(t.start_date).toISOString().split("T")[0]:"",finish_date:t?.end_date?new Date(t.end_date).toISOString().split("T")[0]:"",platform:["Mobile"],group:"",dist_comp_participation_min:"0",dist_comp_participation_max:"100",quantity_type:"Quantity",description:t?.description||"",is_active:t?.is_active||"Y"},validationSchema:FLe,enableReinitialize:!0,onSubmit:async ve=>{try{const Le=z.filter(It=>It.distributor_id).map(It=>Number(It.distributor_id)).filter((It,ts,st)=>st.indexOf(It)===ts),$e=z.filter(It=>It.group).map(It=>Number(It.group)).filter((It,ts,st)=>st.indexOf(It)===ts),bt=T.filter(It=>It.product_id||It.product_group).map(It=>{const ts=It.product_id?c.find(Gt=>Gt.id===It.product_id):null,st=j.length>0?j[0].id:1;return{product_id:It.product_id||1,category_id:ts?.category_id||st,product_group:It.product_group,min_quantity:It.min_quantity||0,min_value:It.min_quantity||0}}),Zt=$.filter(It=>It.product_id).map(It=>({benefit_type:It.type==="Free Product"?"FREE_PRODUCT":"PERCENT",product_id:It.product_id,benefit_value:It.benefit_value||0,condition_type:It.application||null,gift_limit:It.gift_limit||0})),Ot={name:ve.name,description:ve.description,start_date:ve.start_date,end_date:ve.finish_date,platforms:["Mobile"],quantity_type:ve.quantity_type||"QUANTITY",product_conditions:bt.length>0?bt:void 0,location_areas:Le.length>0?Le:void 0,outlet1_groups:$e.length>0?$e:void 0,levels:Zt.length>0?[{level_number:1,threshold_value:0,discount_type:"PERCENTAGE",discount_value:0,benefits:Zt}]:void 0};if(r&&t){const It=z.filter(st=>st.distributor_id).map(st=>Number(st.distributor_id)).filter((st,Gt,es)=>es.indexOf(st)===Gt),ts=z.filter(st=>st.group).map(st=>Number(st.group)).filter((st,Gt,es)=>es.indexOf(st)===Gt);await D.mutateAsync({id:t.id,data:{name:ve.name,start_date:ve.start_date,end_date:ve.finish_date,description:ve.description,is_active:ve.is_active,platforms:["Mobile"],location_areas:It.length>0?It:void 0,outlet1_groups:ts.length>0?ts:void 0}})}else{const It={...Ot,levels:Ot.levels?Ot.levels.map(ts=>({...ts,benefits:ts.benefits?.map(st=>({...st,condition_type:st.condition_type??void 0}))})):void 0};await E.mutateAsync(It)}Xe()}catch(Le){console.error("Error saving updated promotion:",Le)}}}),Ye=()=>{if(!we.group&&!we.product){Me({...Fe,productCondition_new:"Product or Group must be selected"});return}if(!we.at_least||parseFloat(we.at_least)<=0){Me({...Fe,productCondition_quantity_new:"At least value must be greater than 0"});return}const ve={_index:T.length,product_group:we.group,product_id:we.product?parseInt(we.product):void 0,min_quantity:parseFloat(we.at_least)||0};R([...T,ve]),Ae({group:"",dyn_group:"",product:"",quant_group:"",dyn_prod_groups:"",at_least:"",unit:"unit"}),Me({})},ye=ve=>{R(T.filter((Le,$e)=>$e!==ve))},We=(ve,Le,$e)=>{const bt=[...T];bt[ve]={...bt[ve],[Le]:$e},R(bt)},Ge=()=>{const ve={_index:z.length,outlet_condition:"Distributor",dist:V.distributor_id&&u.find(Le=>Le.id.toString()===V.distributor_id)?.code||"",outlet_value:"",start:ke.values.start_date,finish:ke.values.finish_date,area:V.area,group:V.group,distributor_id:V.distributor_id,role:V.role,slip_limit:V.slip_limit?"1":"",disc_limit:V.disc_limit?"1":"",date_limit:V.date_limit,dc_par:V.dc_par};O([...z,ve]),Y({area:"",group:"",distributor_id:"",role:"",slip_limit:!1,disc_limit:!1,date_limit:!1,dc_par:!1})},jt=ve=>{O(z.filter((Le,$e)=>$e!==ve))},dt=(ve,Le,$e)=>{const bt=[...z];bt[ve]={...bt[ve],[Le]:$e},O(bt)},wt=ve=>{A($.filter((Le,$e)=>$e!==ve))},Dt=(ve,Le,$e)=>{const bt=[...$];bt[ve]={...bt[ve],[Le]:$e},A(bt)};return o&&r?e.jsx(ot,{open:a,setOpen:Xe,title:r?"Edit Updated Promotion":"Create Updated Promotion",fullWidth:!0,children:e.jsx(y,{className:"!p-6",children:e.jsx(x,{children:"Loading..."})})}):e.jsx(ot,{open:a,setOpen:Xe,title:r?"Edit Updated Promotion":"Create Updated Promotion",fullWidth:!0,children:e.jsxs(y,{className:"!p-4 !overflow-auto !max-h-[calc(100vh-100px)]",children:[Object.keys(Fe).length>0&&e.jsxs(ct,{severity:"error",className:"!mb-4",children:[e.jsx(x,{variant:"subtitle2",className:"!font-semibold !mb-1",children:"Please fix the following errors:"}),e.jsx("ul",{className:"!list-disc !list-inside !space-y-1",children:Object.values(Fe).map((ve,Le)=>e.jsx("li",{className:"!text-sm",children:ve},Le))})]}),e.jsxs("form",{onSubmit:ke.handleSubmit,className:"!space-y-3 !grid !grid-cols-2 !gap-3",children:[e.jsxs(da,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2 !text-base",children:"Header Information"}),e.jsxs(y,{className:"!space-y-2 !grid !grid-cols-2 !gap-2",children:[e.jsx(oe,{name:"name",label:"Name",formik:ke,required:!0,fullWidth:!0}),e.jsx(oe,{name:"short_name",label:"Short Name",formik:ke,fullWidth:!0}),e.jsx(oe,{name:"code",label:"Code",formik:ke,required:!0,fullWidth:!0}),e.jsx(_e,{name:"pay_type",label:"Pay Type",formik:ke,fullWidth:!0,children:DLe.map(ve=>e.jsx(Z,{value:ve,children:ve},ve))}),e.jsx(_e,{name:"scope",label:"Scope",formik:ke,fullWidth:!0,children:RLe.map(ve=>e.jsx(Z,{value:ve,children:ve},ve))}),e.jsx(_e,{name:"slip_type",label:"Slip Type",formik:ke,fullWidth:!0,children:ALe.map(ve=>e.jsx(Z,{value:ve,children:ve},ve))}),e.jsx(_e,{name:"prom_conflict",label:"Prom. Conflict",formik:ke,fullWidth:!0,children:ILe.map(ve=>e.jsx(Z,{value:ve,children:ve},ve))}),e.jsx(oe,{name:"degree",label:"Degree",type:"number",formik:ke,fullWidth:!0}),e.jsx(oe,{name:"nr",label:"Nr",type:"number",formik:ke,fullWidth:!0}),e.jsx(_e,{name:"reg_disc_conf",label:"Reg.Disc. Conf.",formik:ke,fullWidth:!0,children:OLe.map(ve=>e.jsx(Z,{value:ve,children:ve},ve))}),e.jsx(si,{control:e.jsx(qo,{checked:ke.values.conflict_with_constant_disc,onChange:ve=>ke.setFieldValue("conflict_with_constant_disc",ve.target.checked)}),className:"!col-span-2",label:"Conflict with Constant disc."}),e.jsx(oe,{name:"start_date",label:"Start",type:"date",formik:ke,required:!0,fullWidth:!0}),e.jsx(oe,{name:"finish_date",label:"Finish",type:"date",formik:ke,required:!0,fullWidth:!0}),e.jsx(oe,{name:"group",label:"Group",formik:ke,fullWidth:!0}),e.jsxs(y,{className:"!flex !gap-2",children:[e.jsx(oe,{name:"dist_comp_participation_min",label:"Dist./Comp. Participation",type:"number",formik:ke,fullWidth:!0}),e.jsx(oe,{name:"dist_comp_participation_max",label:"",type:"number",formik:ke,fullWidth:!0})]}),e.jsxs(y,{className:"!col-span-2 !flex !gap-2",children:[e.jsx(G,{type:"submit",variant:"contained",size:"small",disabled:E.isPending||D.isPending,children:"Save"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:Xe,children:"Cancel"})]})]})]}),e.jsxs(da,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2 !text-base",children:"Suitable Outlets"}),e.jsx(y,{className:"!mb-3",children:e.jsxs(tl,{value:Q,onChange:(ve,Le)=>K(Le),variant:"scrollable",scrollButtons:"auto",children:[e.jsx(Rs,{label:"Depots"}),e.jsx(Rs,{label:"Zones"}),e.jsx(Rs,{label:"Routes"}),e.jsx(Rs,{label:"Outlet"})]})}),e.jsxs(y,{className:"!grid !grid-cols-1 md:!grid-cols-2 !gap-2 !mb-2",children:[e.jsxs(_e,{value:V.area,onChange:ve=>Y({...V,area:ve.target.value}),label:"Area",fullWidth:!0,children:[e.jsx(Z,{value:"",children:"Select Area"}),f.map(ve=>e.jsx(Z,{value:ve.id.toString(),children:ve.name},ve.id))]}),e.jsx(Nu,{value:V.group,onChange:(ve,Le)=>Y({...V,group:Le?Le.id.toString():""}),label:"Group",fullWidth:!0}),e.jsxs(_e,{value:V.distributor_id,onChange:ve=>Y({...V,distributor_id:ve.target.value}),label:"Distributor",fullWidth:!0,children:[e.jsx(Z,{value:"",children:"Select Distributor"}),u.map(ve=>e.jsxs(Z,{value:ve.id.toString(),children:[ve.name," (",ve.code,")"]},ve.id))]}),e.jsxs(_e,{value:V.role,onChange:ve=>Y({...V,role:ve.target.value}),label:"Role",fullWidth:!0,children:[e.jsx(Z,{value:"",children:"Select Role"}),w.map(ve=>e.jsx(Z,{value:ve.id.toString(),children:ve.name},ve.id))]})]}),e.jsxs(y,{className:"!flex !gap-2 !mb-2",children:[e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:Ge,children:"New"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{if(U!==null){const ve=[...z];ve[U]={...ve[U],area:V.area,group:V.group,distributor_id:V.distributor_id,role:V.role,dist:V.distributor_id&&u.find(Le=>Le.id.toString()===V.distributor_id)?.code||"",slip_limit:V.slip_limit?"1":"",disc_limit:V.disc_limit?"1":"",date_limit:V.date_limit,dc_par:V.dc_par},O(ve),B(null),Y({area:"",group:"",distributor_id:"",role:"",slip_limit:!1,disc_limit:!1,date_limit:!1,dc_par:!1})}},disabled:U===null,children:"Update"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{U!==null&&(jt(U),B(null),Y({area:"",group:"",distributor_id:"",role:"",slip_limit:!1,disc_limit:!1,date_limit:!1,dc_par:!1}))},disabled:U===null,children:"Del"})]}),e.jsxs(y,{className:"!flex !gap-2 !mb-2 !flex-wrap",children:[e.jsx(si,{control:e.jsx(qo,{checked:V.slip_limit,size:"small",onChange:ve=>Y({...V,slip_limit:ve.target.checked})}),label:"Slip Lim."}),e.jsx(si,{control:e.jsx(qo,{checked:V.disc_limit,onChange:ve=>Y({...V,disc_limit:ve.target.checked})}),label:"Disc. Lim."}),e.jsx(si,{control:e.jsx(qo,{checked:V.date_limit,onChange:ve=>Y({...V,date_limit:ve.target.checked})}),label:"Date"}),e.jsx(si,{control:e.jsx(qo,{checked:V.dc_par,onChange:ve=>Y({...V,dc_par:ve.target.checked})}),label:"D/C Par."})]}),z.length>0&&e.jsx(y,{className:"!mt-3",children:e.jsx(lt,{data:z.map((ve,Le)=>({id:ve._index,condition:ve.outlet_condition||"Distributor",dist:ve.dist||"-",outlet_value:ve.outlet_value||"-",location:ve.area&&f.find($e=>$e.id.toString()===ve.area)?f.find($e=>$e.id.toString()===ve.area)?.name:"-",distributor:ve.distributor_id&&u.find($e=>$e.id.toString()===ve.distributor_id)?u.find($e=>$e.id.toString()===ve.distributor_id)?.name:"-",seller:ve.role&&w.find($e=>$e.id.toString()===ve.role)?w.find($e=>$e.id.toString()===ve.role)?.name:"-",start:ve.start||"-",finish:ve.finish||"-",slip_limit:ve.slip_limit||"-",disc_limit:ve.disc_limit||"-",_index:Le,_row:ve})),columns:[{id:"condition",label:"Outlet Condition",render:(ve,Le)=>{const $e=z[Le._index];return e.jsxs(_e,{value:$e.outlet_condition,onChange:bt=>dt(Le._index,"outlet_condition",bt.target.value),size:"small",fullWidth:!1,children:[e.jsx(Z,{value:"Distributor",children:"Distributor"}),e.jsx(Z,{value:"Customer Category",children:"Customer Category"}),e.jsx(Z,{value:"Customer",children:"Customer"})]})}},{id:"dist",label:"Dist.",render:(ve,Le)=>{const $e=z[Le._index];return e.jsx(oe,{value:$e.dist,onChange:bt=>dt(Le._index,"dist",bt.target.value),placeholder:"Dist",size:"small",className:"!w-20",fullWidth:!1})}},{id:"outlet_value",label:"Outlet Value",render:(ve,Le)=>{const $e=z[Le._index];return e.jsxs(_e,{value:$e.outlet_value,onChange:bt=>dt(Le._index,"outlet_value",bt.target.value),size:"small",className:"!w-40",fullWidth:!1,children:[e.jsx(Z,{value:"",children:"Select..."}),_.map(bt=>e.jsxs(Z,{value:bt.id.toString(),children:[bt.name," (",bt.code,")"]},bt.id))]})}},{id:"location",label:"Location"},{id:"distributor",label:"Distributor"},{id:"seller",label:"Seller"},{id:"start",label:"Start",render:(ve,Le)=>{const $e=z[Le._index];return e.jsx(oe,{type:"date",value:$e.start,className:"!w-40",onChange:bt=>dt(Le._index,"start",bt.target.value),size:"small",fullWidth:!1})}},{id:"finish",label:"Finish",render:(ve,Le)=>{const $e=z[Le._index];return e.jsx(oe,{type:"date",value:$e.finish,className:"!w-40",onChange:bt=>dt(Le._index,"finish",bt.target.value),size:"small",fullWidth:!1})}},{id:"slip_limit",label:"Slip Lim.",render:(ve,Le)=>{const $e=z[Le._index];return e.jsx(oe,{value:$e.slip_limit||"",onChange:bt=>dt(Le._index,"slip_limit",bt.target.value),placeholder:"Slip Lim",size:"small",className:"!w-24",fullWidth:!1})}},{id:"disc_limit",label:"Disc. Lim.",render:(ve,Le)=>{const $e=z[Le._index];return e.jsx(oe,{value:$e.disc_limit||"",onChange:bt=>dt(Le._index,"disc_limit",bt.target.value),placeholder:"Disc Lim",size:"small",className:"!w-24",fullWidth:!1})}},{id:"actions",label:"Actions",render:(ve,Le)=>e.jsxs(y,{className:"!flex !gap-2",children:[e.jsx(is,{onClick:()=>{B(Le._index);const $e=z[Le._index];Y({area:$e.area||"",group:$e.group||"",distributor_id:$e.distributor_id||"",role:$e.role||"",slip_limit:$e.slip_limit==="1",disc_limit:$e.disc_limit==="1",date_limit:$e.date_limit||!1,dc_par:$e.dc_par||!1})},tooltip:"Edit outlet",size:"small"}),e.jsx(Vt,{onClick:()=>jt(Le._index),tooltip:"Delete outlet",size:"small"})]})}],pagination:!1,sortable:!1,compact:!0})})]}),e.jsxs(da,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsx(x,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2 !text-base",children:"Promotion Product Condition"}),e.jsxs(y,{className:"!mb-2",children:[e.jsx(x,{className:"!mb-1 !text-xs !font-medium",children:"Quantity Type"}),e.jsx(jx,{value:ke.values.quantity_type,onChange:ve=>ke.setFieldValue("quantity_type",ve.target.value),row:!0,children:MLe.map(ve=>e.jsx(si,{value:ve,control:e.jsx(vx,{}),label:ve},ve))})]}),T.length>0&&e.jsx(y,{className:"!mb-2",children:e.jsx(lt,{data:T.map((ve,Le)=>({id:ve._index,product_group:ve.product_group||(ve.product_id?c.find($e=>$e.id===ve.product_id)?.name:"-")||"-",at_least:`${ve.min_quantity||0} ${we.unit}`,_index:Le})),columns:[{id:"product_group",label:"Product/Group"},{id:"at_least",label:"At least"},{id:"actions",label:"Actions",render:(ve,Le)=>e.jsxs(y,{className:"!flex !gap-2",children:[e.jsx(is,{onClick:()=>{const $e=T[Le._index];F(Le._index),Ae({group:$e.product_group||"",dyn_group:"",product:$e.product_id?.toString()||"",quant_group:"",dyn_prod_groups:"",at_least:$e.min_quantity?.toString()||"",unit:we.unit})},tooltip:"Edit condition",size:"small"}),e.jsx(Vt,{onClick:()=>ye(Le._index),tooltip:"Delete condition",size:"small"})]})}],pagination:!1,sortable:!1,compact:!0})}),e.jsxs(y,{className:"!space-y-2 !mt-2",children:[e.jsxs(y,{className:"!grid !grid-cols-2 !gap-2",children:[e.jsx(Nu,{value:we.group?j.find(ve=>ve.category_name===we.group)?.id.toString():"",nameToSearch:we.group||"",onChange:(ve,Le)=>Ae({...we,group:Le?Le.category_name:""}),label:"Group",size:"small",fullWidth:!0}),e.jsx(_o,{value:we.product,onChange:(ve,Le)=>Ae({...we,product:Le?Le.id.toString():""}),label:"Product",size:"small",fullWidth:!0}),e.jsxs(y,{className:"!flex !gap-2",children:[e.jsx(oe,{type:"number",value:we.at_least,onChange:ve=>Ae({...we,at_least:ve.target.value}),label:"At least",size:"small",className:"!flex-1",fullWidth:!1}),e.jsxs(_e,{value:we.unit,onChange:ve=>Ae({...we,unit:ve.target.value}),size:"small",className:"!w-24",fullWidth:!1,children:[e.jsx(Z,{value:"unit",children:"unit"}),P.map(ve=>e.jsx(Z,{value:ve.name,children:ve.name},ve.id))]})]})]}),e.jsxs(y,{className:"!flex !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{if(H!==null){const ve=H;We(ve,"product_group",we.group),We(ve,"product_id",we.product?parseInt(we.product):void 0),We(ve,"min_quantity",parseFloat(we.at_least)||0),F(null),Ae({group:"",dyn_group:"",product:"",quant_group:"",dyn_prod_groups:"",at_least:"",unit:"unit"}),Me({})}},disabled:H===null,children:"Update"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:Ye,children:"New"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{H!==null&&(ye(H),F(null),Ae({group:"",dyn_group:"",product:"",quant_group:"",dyn_prod_groups:"",at_least:"",unit:"unit"}))},disabled:H===null,children:"Del"})]})]})]}),e.jsxs(da,{className:"!p-3 !rounded-lg !shadow-sm !border !bg-white !border-gray-200",children:[e.jsxs(x,{variant:"h6",className:"!font-semibold !text-gray-900 !mb-2 !text-base",children:["GIFT ",e.jsxs("span",{className:"!text-gray-500",children:["(",$.length,")"]})]}),$.length>0&&e.jsx(y,{className:"!mb-4",children:e.jsx(lt,{data:$.map((ve,Le)=>({id:Le,type:ve.type,application:ve.application,gift:ve.gift,_index:Le})),columns:[{id:"type",label:"Type",render:(ve,Le)=>{const $e=$[Le._index];return e.jsx(_e,{value:$e.type,onChange:bt=>Dt(Le._index,"type",bt.target.value),size:"small",fullWidth:!1,children:r7.map(bt=>e.jsx(Z,{value:bt,children:bt},bt))})}},{id:"application",label:"Application",render:(ve,Le)=>{const $e=$[Le._index];return e.jsx(oe,{value:$e.application,onChange:bt=>Dt(Le._index,"application",bt.target.value),placeholder:"Application",size:"small",fullWidth:!1})}},{id:"gift",label:"Gift",render:(ve,Le)=>{const $e=$[Le._index];return e.jsx(oe,{value:$e.gift,onChange:bt=>Dt(Le._index,"gift",bt.target.value),placeholder:"Gift",size:"small",fullWidth:!1})}},{id:"actions",label:"Actions",render:(ve,Le)=>e.jsx(Vt,{onClick:()=>wt(Le._index),tooltip:"Delete gift",size:"small"})}],pagination:!1,sortable:!1,compact:!0})}),e.jsxs(y,{className:"!space-y-2 !mt-2",children:[e.jsxs(y,{children:[e.jsx(x,{className:"!mb-1 !text-xs !font-medium",children:"Type"}),e.jsx(jx,{value:le,onChange:ve=>{const Le=ve.target.value;de(Le),$.forEach(($e,bt)=>{Dt(bt,"type",Le)})},row:!0,children:r7.map(ve=>e.jsx(si,{value:ve,control:e.jsx(vx,{}),label:ve},ve))})]}),e.jsx(oe,{label:"Disc. (Amount)",type:"number",value:he,onChange:ve=>re(ve.target.value),fullWidth:!0,size:"small"}),e.jsx(oe,{label:"Maximum",type:"number",value:xe,onChange:ve=>ge(ve.target.value),fullWidth:!0,size:"small"}),e.jsx(y,{children:e.jsxs(tl,{value:M,onChange:(ve,Le)=>L(Le),variant:"scrollable",scrollButtons:"auto",children:[e.jsx(Rs,{label:"Product"}),e.jsx(Rs,{label:"Prod. Group"}),e.jsx(Rs,{label:"Dyn. Prod. Gr."}),e.jsx(Rs,{label:"Conditional Products"}),e.jsx(Rs,{label:"Invoice"})]})}),e.jsx(oe,{label:"Code",value:W,onChange:ve=>X(ve.target.value),fullWidth:!0,size:"small"}),e.jsx(_o,{label:"Name",value:te,onChange:(ve,Le)=>se(Le?Le.id.toString():""),fullWidth:!0,size:"small"}),e.jsx(si,{control:e.jsx(qo,{checked:ae,onChange:ve=>pe(ve.target.checked),size:"small"}),label:"Product may not be in condition"}),e.jsxs(y,{className:"!flex !gap-2",children:[e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{$.length>0&&W&&te&&(Dt($.length-1,"gift",`${he} ${te}`),Dt($.length-1,"product_id",parseInt(te)),re(""),X(""),se(""))},children:"Update"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{const ve={_index:$.length,type:le,application:"n. Prod. Gr.",gift:he?`${he} ${te||""}`:"",product_id:te?parseInt(te):void 0,benefit_value:parseFloat(he)||0,gift_limit:0};A([...$,ve]),re(""),X(""),se("")},children:"New"}),e.jsx(G,{type:"button",variant:"outlined",size:"small",onClick:()=>{$.length>0&&(wt($.length-1),re(""),X(""),se(""))},disabled:$.length===0,children:"Del"})]})]})]})]})]})})},zLe=()=>{const t=Gs(),[s,a]=g.useState(""),[n,r]=g.useState("all"),[i,o]=g.useState(null),[l,c]=g.useState(!1),[m,u]=g.useState(1),[h]=g.useState(10),{isCreate:f,isUpdate:v,isDelete:_,isRead:S}=Ze("promotions"),{data:j,isLoading:b,error:w}=kLe({search:s,page:m,limit:h,is_active:n==="all"?void 0:n==="active"?"Y":"N"},{enabled:S}),C=j?.data||[],P=j?.pagination?.total_count||0,E=(j?.pagination?.current_page||1)-1,D=ms(),T=TLe(),R=j?.stats?.total_promotions||j?.pagination?.total_count||0,z=j?.stats?.active_promotions||C.filter(H=>H.is_active==="Y").length,O=j?.stats?.inactive_promotions||C.filter(H=>H.is_active==="N").length,$=j?.stats?.promotions_this_month||0,A=g.useCallback(()=>{o(null),c(!0)},[]),Q=g.useCallback(H=>{o(H),c(!0)},[]),K=g.useCallback(async H=>{try{await T.mutateAsync(H)}catch(F){console.error("Error deleting updated promotion:",F)}},[T]),U=g.useCallback(H=>{a(H),u(1)},[]),B=H=>{u(H+1)},V=g.useCallback(async()=>{try{const H={search:s,status:n==="all"?void 0:n==="active"?"Y":"N"};await D.mutateAsync({tableName:"updated-promotions",filters:H})}catch(H){console.error("Error exporting updated promotions:",H)}},[D,s,n]),Y=[{id:"name",label:"Promotion Info",render:(H,F)=>e.jsxs(y,{className:"!flex !gap-2 !items-center",children:[e.jsx(ht,{alt:F.name,className:"!rounded !bg-primary-100 !text-primary-600",children:e.jsx(kn,{className:"w-5 h-5"})}),e.jsxs(y,{children:[e.jsx(x,{variant:"body1",className:"!text-gray-900 !leading-tight !font-medium",children:F.name}),e.jsx(x,{variant:"caption",className:"!text-gray-500 !text-xs !block !mt-0.5",children:F.code})]})]})},{id:"start_date",label:"Period",render:(H,F)=>e.jsxs(y,{children:[e.jsx(x,{variant:"body2",className:"!text-gray-900",children:Oe(F.start_date)}),e.jsxs(x,{variant:"caption",className:"!text-gray-500",children:["to ",Oe(F.end_date)]})]})},{id:"description",label:"Description",render:(H,F)=>e.jsx(x,{variant:"body2",className:"!text-gray-700 !max-w-xs !truncate",children:F.description||"N/A"})},{id:"is_active",label:"Status",render:(H,F)=>e.jsx(De,{icon:F.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:F.is_active==="Y"?"Active":"Inactive",size:"small",color:F.is_active==="Y"?"success":"error"})},{id:"createdate",label:"Created",render:(H,F)=>e.jsx(x,{variant:"body2",className:"!text-gray-500",children:Oe(F.createdate?.toString())})},...v||_||S?[{id:"action",label:"Actions",sortable:!1,render:(H,F)=>e.jsxs("div",{className:"!flex !gap-2 !items-center",children:[v&&e.jsx(is,{onClick:()=>Q(F),tooltip:"Edit updated promotion"}),S&&e.jsx(Ka,{onClick:()=>t(`/masters/updated-promotions/${F.id}`),tooltip:"View updated promotion",icon:e.jsx(Cr,{fontSize:"small"}),color:"info"}),_&&e.jsx(Vt,{onClick:()=>K(F.id),tooltip:"Delete updated promotion",confirmDelete:!0,itemName:"updated promotion"})]})}]:[]];return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"!mb-3 !flex !justify-between !items-center",children:e.jsxs(y,{children:[e.jsx("p",{className:"!font-bold text-xl !text-gray-900",children:"Updated Promotions Management"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage updated promotional offers, discounts, and special deals for your products"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(fe,{title:"Total Promotions",value:R,icon:e.jsx(kn,{className:"w-6 h-6"}),color:"blue",isLoading:b}),e.jsx(fe,{title:"Active Promotions",value:z,icon:e.jsx(pt,{className:"w-6 h-6"}),color:"green",isLoading:b}),e.jsx(fe,{title:"Inactive Promotions",value:O,icon:e.jsx(St,{className:"w-6 h-6"}),color:"red",isLoading:b}),e.jsx(fe,{title:"New This Month",value:$,icon:e.jsx(js,{className:"w-6 h-6"}),color:"purple",isLoading:b})]}),w&&e.jsx(ct,{severity:"error",className:"!mb-4",children:"Failed to load updated promotions. Please try again."}),e.jsx(lt,{data:C,columns:Y,actions:S||f?e.jsxs("div",{className:"flex justify-between w-full items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:S&&e.jsxs(e.Fragment,{children:[e.jsx(as,{placeholder:"Search Updated Promotions...",value:s,onChange:U,debounceMs:400,showClear:!0,className:"!w-80"}),e.jsxs(_e,{value:n,onChange:H=>{r(H.target.value),u(1)},className:"!w-32",children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[S&&e.jsx(Jt,{title:"Export Updated Promotions",description:"Are you sure you want to export the current updated promotions data to Excel? This will include all filtered results.",onConfirm:V,confirmText:"Export",cancelText:"Cancel",placement:"top",children:e.jsx(G,{variant:"outlined",className:"!capitalize",startIcon:e.jsx(_t,{}),disabled:D.isPending,children:D.isPending?"Exporting...":"Export"})}),f&&e.jsx(G,{variant:"contained",className:"!capitalize",disableElevation:!0,startIcon:e.jsx(ds,{}),onClick:A,children:"Create"})]})]}):!1,getRowId:H=>H.id,initialOrderBy:"name",loading:b,totalCount:P,page:E,rowsPerPage:h,isPermission:S,onPageChange:B,emptyMessage:s?`No updated promotions found matching "${s}"`:"No updated promotions found in the system"}),e.jsx(LLe,{selectedPromotion:i,setSelectedPromotion:o,drawerOpen:l,setDrawerOpen:c})]})},$Le=()=>{const{id:t}=Jn(),s=Gs(),{data:a,isLoading:n,error:r,isFetching:i}=Nz(Number(t)),o=a?.data,l=()=>{s("/masters/updated-promotions")};if(n||i)return e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6",children:[e.jsx(J,{variant:"text",width:200,height:32,className:"!mb-4"}),e.jsx(J,{variant:"rectangular",width:"100%",height:200})]})});if(r||!o)return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"!bg-red-50 !border !border-red-200 !rounded-lg !p-6 !mb-6",children:[e.jsx(x,{variant:"h6",className:"!text-red-800 !font-bold !mb-2",children:"Failed to load updated promotion details"}),e.jsx(x,{variant:"body2",className:"!text-red-600",children:"Please try again or contact your system administrator if this problem persists."})]}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:l,className:"!mt-4",children:"Back to Updated Promotions"})]});const c=({title:m,children:u,icon:h})=>e.jsxs("div",{className:"!bg-white !rounded-lg !shadow !border !border-gray-200 !p-6 !relative !overflow-hidden",children:[e.jsx("div",{className:"!absolute !top-0 !right-0 !w-16 !h-16 !bg-gradient-to-br !from-blue-50 !to-purple-50 !rounded-full !-translate-y-8 !translate-x-8"}),e.jsxs("div",{className:"!relative !z-10",children:[e.jsxs("div",{className:"!flex !items-center !gap-2 !mb-4",children:[h&&e.jsx("div",{className:"!p-1.5 !w-10 !h-10 flex items-center justify-center !bg-primary-100 !rounded-md",children:e.jsx(h,{className:"!text-primary-500"})}),e.jsx(x,{variant:"h6",className:"!font-bold !text-gray-900",children:m})]}),u]})]});return e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"!mb-6 !flex !items-center !gap-3",children:[e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ja,{}),onClick:l,className:"!capitalize",children:"Back"}),e.jsx(x,{variant:"h5",className:"!font-bold !text-gray-900",children:"Updated Promotion Details"})]}),e.jsxs("div",{className:"!grid !grid-cols-1 lg:!grid-cols-3 !gap-6 !mb-6",children:[e.jsxs("div",{className:"lg:!col-span-2 !space-y-6",children:[e.jsx(c,{title:"Promotion Information",icon:kn,children:e.jsxs("div",{className:"!space-y-4",children:[e.jsxs("div",{className:"!flex !items-start !gap-4",children:[e.jsx(ht,{alt:o.name,className:"!rounded !bg-primary-100 !text-primary-600 !w-16 !h-16",children:e.jsx(kn,{className:"w-8 h-8"})}),e.jsxs("div",{className:"!flex-1",children:[e.jsx(x,{variant:"h5",className:"!font-bold !text-gray-900 !mb-1",children:o.name}),e.jsxs(x,{variant:"body2",className:"!text-gray-500 !mb-2",children:["Code: ",o.code]}),e.jsx(De,{icon:o.is_active==="Y"?e.jsx(pt,{}):e.jsx(St,{}),label:o.is_active==="Y"?"Active":"Inactive",size:"small",color:o.is_active==="Y"?"success":"error"})]})]}),o.description&&e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsx(x,{variant:"body2",className:"!text-gray-700 !whitespace-pre-wrap",children:o.description})})]})}),e.jsx(c,{title:"Period & Dates",icon:_s,children:e.jsxs("div",{className:"!space-y-3",children:[e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1",children:"Start Date"}),e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:Oe(o.start_date)})]}),e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1",children:"Finish Date"}),e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:Oe(o.end_date)})]})]})}),o.conditions&&o.conditions.length>0&&e.jsx(c,{title:"Product Conditions",icon:Wt,children:e.jsx("div",{className:"!space-y-4",children:o.conditions.map(m=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs(x,{variant:"body2",className:"!text-gray-900 !font-medium !mb-2",children:[m.condition_type," - ",m.applies_to_type]}),m.promotion_condition_products&&m.promotion_condition_products.length>0&&e.jsx("div",{className:"!space-y-1",children:m.promotion_condition_products.map(u=>e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:["Min: ",u.condition_quantity]},u.id))})]},m.id))})})]}),e.jsxs("div",{className:"!space-y-6",children:[e.jsx(c,{title:"Locations",icon:Qs,children:e.jsxs("div",{className:"!space-y-4",children:[o.depots&&o.depots.length>0&&e.jsxs("div",{children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !text-gray-700 !mb-2",children:["Depots (",o.depots.length,")"]}),e.jsx("div",{className:"!space-y-2",children:o.depots.map(m=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:m.depots?.name||`Depot ID: ${m.depot_id}`}),m.depots?.code&&e.jsxs(x,{variant:"caption",className:"!text-gray-500",children:["Code: ",m.depots.code]})]},m.id))})]}),o.routes&&o.routes.length>0&&e.jsxs("div",{children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !text-gray-700 !mb-2",children:["Routes (",o.routes.length,")"]}),e.jsx("div",{className:"!space-y-2",children:o.routes.map(m=>e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:["Route ID: ",m.route_id]})},m.id))})]}),o.customer_categories&&o.customer_categories.length>0&&e.jsxs("div",{children:[e.jsxs(x,{variant:"subtitle2",className:"!font-medium !text-gray-700 !mb-2",children:["Customer Categories (",o.customer_categories.length,")"]}),e.jsx("div",{className:"!space-y-2",children:o.customer_categories.map(m=>e.jsx("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:e.jsxs(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:["Category ID: ",m.customer_category_id]})},m.id))})]}),(!o.depots||o.depots.length===0)&&(!o.routes||o.routes.length===0)&&(!o.customer_categories||o.customer_categories.length===0)&&e.jsx(x,{variant:"body2",className:"!text-gray-500",children:"No locations assigned"})]})}),o.levels&&o.levels.length>0&&e.jsx(c,{title:"Levels & Benefits",icon:Hr,children:e.jsx("div",{className:"!space-y-4",children:o.levels.map(m=>e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsxs(x,{variant:"body2",className:"!text-gray-900 !font-medium !mb-2",children:["Level ",m.level_number," - Threshold:"," ",m.threshold_value]}),e.jsxs(x,{variant:"caption",className:"!text-gray-600",children:["Discount: ",m.discount_type," - ",m.discount_value]}),m.promotion_benefit_level&&m.promotion_benefit_level.length>0&&e.jsx("div",{className:"!mt-2 !space-y-1",children:m.promotion_benefit_level.map(u=>e.jsxs(x,{variant:"caption",className:"!text-gray-600 !block",children:["Benefit: ",u.benefit_type," -"," ",u.benefit_value]},u.id))})]},m.id))})}),e.jsx(c,{title:"Metadata",icon:Hr,children:e.jsxs("div",{className:"!space-y-3",children:[o.createdate&&e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1",children:"Created Date"}),e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:Oe(o.createdate.toString())})]}),o.updatedate&&e.jsxs("div",{className:"!p-3 !bg-gray-50 !rounded-md !border !border-gray-200",children:[e.jsx(x,{variant:"caption",className:"!text-gray-500 !block !mb-1",children:"Last Updated"}),e.jsx(x,{variant:"body2",className:"!text-gray-900 !font-medium",children:Oe(o.updatedate.toString())})]})]})})]})]})]})},qLe=()=>{const[t,s]=g.useState(""),a=Gs(),{isRead:n}=Ze("inventory-items"),{formatCurrency:r}=Qa(),{data:i,isLoading:o}=V8e({page:1,limit:50},{enabled:n}),l=o,c=w=>!!w&&"statistics"in w,m=g.useMemo(()=>c(i)?i:null,[i]),u=!!m,h=g.useMemo(()=>m?.data??[],[m]),f=m?.statistics,v=g.useMemo(()=>{const w=h.filter(P=>P.total_quantity>0&&P.total_quantity<=10).length,C=f?.total_quantity?Number(f.total_quantity)*100:0;return{total_items:f?.total_van_inventories||0,low_stock_items:w,total_value:C,active_users:f?.total_salespersons||0,last_updated:new Date().toISOString()}},[f?.total_salespersons,f?.total_van_inventories,f?.total_quantity,h]),_=g.useCallback(w=>{w.salesperson_id&&a(`/masters/inventory-items/${w.salesperson_id}`)},[a]),S=()=>e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-5",children:[1,2,3,4,5,6].map(w=>e.jsx("div",{className:"bg-white shadow-sm p-6 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(J,{variant:"circular",width:48,height:48,className:"!bg-gray-100"}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(J,{variant:"text",width:"60%",height:24}),e.jsx(J,{variant:"text",width:"20%",height:16})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(J,{variant:"text",width:"80%",height:20}),e.jsx(J,{variant:"text",width:"70%",height:20}),e.jsx(J,{variant:"text",width:"75%",height:20}),e.jsx(J,{variant:"text",width:"50%",height:16})]})]})]})},w))}),j=u,b=g.useMemo(()=>h.filter(w=>t?w.salesperson_name?.toLowerCase().includes(t.toLowerCase()):!0),[t,h]);return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"!font-bold text-xl !text-gray-900",children:"Sales Person Inventory"}),e.jsx("p",{className:"!text-gray-500 text-sm",children:"Manage and track inventory items by sales representative"})]}),n&&e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 border border-blue-500 text-blue-700 rounded-full bg-blue-50",children:[e.jsx(Ts,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:["Last Update: ",Oe(v.last_updated)]})]})})]}),n&&e.jsx("div",{className:"bg-white shadow-sm p-4 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex items-center flex-wrap gap-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(as,{placeholder:"Search Sales Person...",value:t,onChange:s,className:"!w-80"})}),e.jsx("div",{className:"ml-auto flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-100 rounded-full",children:[e.jsx(Wt,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-sm font-medium text-green-700",children:[v.total_items," Items"]})]})})]})}),n&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsx(fe,{title:"Total Inventories",value:v.total_items,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"blue",isLoading:l}),e.jsx(fe,{title:"Low Stock Alert",value:v.low_stock_items,icon:e.jsx(la,{className:"w-6 h-6"}),color:"orange",isLoading:l}),e.jsx(fe,{title:"Total Value",value:`${r(v.total_value/1e3)}K`,icon:e.jsx(js,{className:"w-6 h-6"}),color:"green",isLoading:l}),e.jsx(fe,{title:"Active Reps",value:v.active_users,icon:e.jsx(Rn,{className:"w-6 h-6"}),color:"purple",isLoading:l})]}),!n&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(Wt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"You do not have permission to view inventory data"})]}),n&&e.jsx(e.Fragment,{children:l?e.jsx(S,{}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-5",children:[j&&b.map(w=>e.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-100 transition-shadow cursor-pointer hover:shadow-md",onClick:()=>_(w),children:[e.jsx("div",{className:"flex justify-between items-center p-3 gap-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{src:w.salesperson_profile_image||"mkx",alt:w.salesperson_name,className:"!bg-green-100 !text-xl !rounded !text-green-600"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-700 text font-semibold",children:w.salesperson_name}),e.jsx("span",{className:"text-gray-500 text-xs",children:w.salesperson_email})]})]})}),e.jsx("div",{className:"px-4 pb-2",children:e.jsxs("div",{className:"flex flex-col gap-3 pt-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(Wt,{className:"!w-4 !h-4 text-blue-500"}),e.jsxs("span",{className:"text-gray-700 font-medium",children:["Van Inventories: ",w.total_van_inventories]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(js,{className:"!w-4 !h-4 text-green-500"}),e.jsxs("span",{className:"text-gray-700 font-medium",children:["Total Quantity: ",w.total_quantity]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(Sb,{className:"!w-4 !h-4 text-purple-500"}),e.jsxs("span",{className:"text-gray-700 font-medium",children:["Batches: ",w.total_batches]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(xA,{className:"!w-4 !h-4 text-indigo-500"}),e.jsxs("span",{className:"text-gray-700 font-medium",children:["Serials: ",w.total_serials]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(Wt,{className:"!w-4 !h-4 text-orange-500"}),e.jsxs("span",{className:"text-gray-700 font-medium",children:["Products: ",w.total_products]})]})]})}),w.total_quantity>0&&w.total_quantity<=10&&e.jsx("div",{className:"p-3 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-2 text-orange-600 text-sm",children:[e.jsx(la,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Low Quantity Alert"})]})})]},w.salesperson_id)),j&&b.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(Wt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No inventory items found"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:t?"Try adjusting your search":"No inventory items have been added yet"})]})]})})]})},BLe=()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-5",children:Array.from({length:4}).map((t,s)=>e.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-100 p-6 flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(J,{variant:"circular",width:40,height:40}),e.jsx(J,{variant:"rectangular",width:100,height:24})]}),e.jsx(J,{variant:"rectangular",width:60,height:28})]},s))}),ULe=()=>e.jsx("div",{className:"bg-white mb-5 shadow-sm rounded-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx(J,{variant:"circular",width:80,height:80}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4 justify-between",children:[e.jsxs("div",{children:[e.jsx(J,{variant:"text",width:180,height:28}),e.jsx(J,{variant:"text",width:120,height:20})]}),e.jsx(J,{variant:"rectangular",width:64,height:28})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Array.from({length:3}).map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"circular",width:20,height:20}),e.jsx(J,{variant:"text",width:90,height:18})]},s))})]})]})}),VLe=()=>e.jsx(y,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:e.jsx("div",{className:"flex gap-2",children:Array.from({length:3}).map((t,s)=>e.jsx(J,{variant:"rectangular",width:120,height:40,sx:{borderRadius:2}},s))})}),HLe=()=>e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-5",children:Array.from({length:6}).map((t,s)=>e.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-100 p-4 flex flex-col",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4 pb-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(J,{variant:"circular",width:40,height:40}),e.jsxs("div",{children:[e.jsx(J,{variant:"text",width:90,height:18}),e.jsx(J,{variant:"text",width:54,height:14})]})]}),e.jsx(J,{variant:"rectangular",width:64,height:24,sx:{borderRadius:16}})]}),e.jsx("div",{className:"space-y-1 pb-3 px-2",children:Array.from({length:5}).map((a,n)=>e.jsxs("div",{className:"flex items-center justify-between my-1",children:[e.jsx(J,{variant:"text",width:100,height:17}),e.jsx(J,{variant:"text",width:32,height:17})]},n))}),e.jsx(J,{variant:"rectangular",width:"90%",height:18,sx:{mx:2,my:1,borderRadius:2}})]},s))}),i7=({columns:t=6,rows:s=5})=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 shadow-sm px-1 py-3 w-full mb-3",children:[e.jsx("div",{className:"flex gap-2 mb-2",children:Array.from({length:t}).map((a,n)=>e.jsx(J,{width:90,height:18,sx:{borderRadius:2}},n))}),e.jsx("div",{className:"flex flex-col gap-2",children:Array.from({length:s}).map((a,n)=>e.jsx("div",{className:"flex gap-2",children:Array.from({length:t}).map((r,i)=>e.jsx(J,{width:90,height:18,sx:{borderRadius:2}},i))},n))})]});function iw({children:t,value:s,index:a,...n}){return e.jsx("div",{role:"tabpanel",hidden:s!==a,id:`inventory-tabpanel-${a}`,"aria-labelledby":`inventory-tab-${a}`,...n,children:s===a&&e.jsx(y,{sx:{py:3,px:0},children:t})})}const WLe=t=>{switch(t){case"active":return"success";case"expiring_soon":return"warning";case"expired":return"error";default:return"default"}},YLe=t=>t===0?{status:"out_of_stock",color:"error",label:"Out of Stock"}:t<=10?{status:"low_stock",color:"warning",label:"Low Stock"}:{status:"in_stock",color:"success",label:"In Stock"},GLe=()=>{const{id:t}=Jn(),s=Gs(),[a,n]=g.useState(0),r=t?Number(t):void 0,{data:i,isLoading:o,error:l}=n3(r,{enabled:r!==void 0}),c=g.useCallback((j,b)=>n(b),[]),m=g.useCallback(()=>s("/masters/inventory-items"),[s]),u=g.useMemo(()=>i?.data||null,[i]),h=g.useMemo(()=>!u?.products||!Array.isArray(u.products)?[]:u.products.map(j=>({...j,product_name:j.product_name??"",batches:j.batches??[],serials:j.serials??[]})),[u]),f=g.useMemo(()=>!Array.isArray(h)||h.length===0?[]:h.flatMap(j=>!j.batches||!Array.isArray(j.batches)?[]:j.batches.map(b=>({...b,product_id:j.product_id}))),[h]),v=g.useMemo(()=>!Array.isArray(h)||h.length===0?[]:h.flatMap(j=>!j.serials||!Array.isArray(j.serials)?[]:j.serials.map(b=>({...b,product_id:j.product_id,warranty_expiry:b.warranty_expiry??null,customer:b.customer}))),[h]),_=g.useMemo(()=>[{id:"batch_number",label:"Batch Number",sortable:!0},{id:"lot_number",label:"Lot Number",sortable:!0},{id:"remaining_quantity",label:"Quantity",sortable:!0},{id:"expiry_date",label:"Expiry Date",sortable:!0,render:j=>j?Oe(j):"N/A"},{id:"status",label:"Status",sortable:!0,render:j=>e.jsx(De,{label:String(j||"").replace("_"," "),size:"small",color:WLe(String(j)),variant:"outlined",className:"!capitalize"})}],[]),S=g.useMemo(()=>[{id:"serial_number",label:"Serial Number",sortable:!0,render:j=>e.jsx("span",{className:"font-mono text-sm",children:j?String(j):"N/A"})},{id:"status",label:"Status",sortable:!0,render:j=>e.jsx(De,{label:j?String(j)?.replace("_"," "):"N/A",size:"small",variant:"outlined",className:"!capitalize"})},{id:"warranty_expiry",label:"Warranty Expiry",sortable:!0,render:j=>j?Oe(j):"N/A"},{id:"customer",label:"Customer",sortable:!1,render:(j,b)=>b.customer?`${b.customer.name} (${b.customer.code})`:"N/A"},{id:"sold_date",label:"Sold Date",sortable:!0,render:j=>j?Oe(j):"Not Sold"}],[]);return o?e.jsxs("div",{className:"flex flex-col animate-pulse",children:[e.jsxs("div",{className:"flex items-center mb-5 justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsx(J,{variant:"text",width:220,height:32}),e.jsx(J,{variant:"text",width:160,height:20,sx:{mt:1}})]})}),e.jsx(J,{variant:"rectangular",width:210,height:34,sx:{borderRadius:26}})]}),e.jsx(ULe,{}),e.jsx(BLe,{}),e.jsx(VLe,{}),a===0&&e.jsx(HLe,{}),a===1&&e.jsx(i7,{columns:7,rows:7}),a===2&&e.jsx(i7,{columns:5,rows:7})]}):l||!i?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Wt,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx(x,{variant:"h6",className:"text-gray-600 mb-2",children:"Inventory Not Found"}),e.jsx(x,{variant:"body2",className:"text-gray-500 mb-4",children:"The inventory item you're looking for doesn't exist or you don't have permission to view it."}),e.jsx(G,{onClick:m,children:"Go Back to Inventory"})]}):u?e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center mb-5 justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:[u?.salesperson_name||"Unknown","'s Inventory"]}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Detailed view of all inventory items and stock levels"})]})}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 rounded-full",children:[e.jsx(_s,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Last Updated: ",Oe(new Date().toISOString())]})]})]}),e.jsx("div",{className:"bg-white mb-5 shadow-sm rounded-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx(ht,{src:u?.salesperson_profile_image||void 0,alt:u?.salesperson_name||"Unknown",className:"!w-20 !h-20 !bg-green-100 !text-green-600 !text-2xl",children:u?.salesperson_name?.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-2 justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:u?.salesperson_name||"Unknown"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Sales Representative"})]}),e.jsx(De,{label:"Active",size:"small",color:"success",variant:"outlined"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Sx,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:u?.salesperson_email||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx($v,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:u?.salesperson_phone||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Qs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Region: North Zone"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-5",children:[e.jsx(fe,{title:"Total Products",value:u?.total_products||0,icon:e.jsx(Wt,{className:"w-6 h-6"}),color:"blue"}),e.jsx(fe,{title:"Total Quantity",value:u?.total_remaining_quantity||0,icon:e.jsx(js,{className:"w-6 h-6"}),color:"green"}),e.jsx(fe,{title:"Total Batches",value:u?.total_batches||0,icon:e.jsx(Sb,{className:"w-6 h-6"}),color:"purple"}),e.jsx(fe,{title:"Total Serials",value:u?.total_serials||0,icon:e.jsx(xA,{className:"w-6 h-6"}),color:"orange"})]}),e.jsx(y,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(tl,{value:a,onChange:c,children:[e.jsx(Rs,{label:`Products (${Array.isArray(h)?h.length:0})`}),e.jsx(Rs,{label:`Batches (${u?.total_batches||0})`}),e.jsx(Rs,{label:`Serial Numbers (${u?.total_serials||0})`})]})}),e.jsx(iw,{value:a,index:0,children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-5",children:Array.isArray(h)&&h.map(j=>{const b=YLe(j.total_quantity);return e.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4 pb-0 p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ht,{className:"!bg-blue-100 !rounded-md !text-blue-600",src:"",children:j.product_name?.charAt(0)||"P"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:j.product_name||"Unknown Product"}),e.jsx("p",{className:"text-xs text-gray-500 truncate text-ellipsis w-[90%]",children:j.product_code||"N/A"})]})]}),e.jsx(De,{label:b.label,size:"small",color:b.color,variant:"outlined"})]}),e.jsxs("div",{className:"space-y-1 pb-3 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Quantity"}),e.jsx("span",{className:"font-medium",children:j.total_remaining_quantity})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Tracking Type"}),e.jsx("span",{className:"font-medium uppercase",children:j.tracking_type})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Van Entries"}),e.jsx("span",{className:"font-medium",children:j.van_inventories?.length||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Batches"}),e.jsx("span",{className:"font-medium",children:j.batches?.length||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Serial Numbers"}),e.jsx("span",{className:"font-medium",children:j.serials?.length||0})]})]}),j.total_quantity>0&&j.total_quantity<=10&&e.jsx("div",{className:"border-t border-gray-100 p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-orange-600 text-sm",children:[e.jsx(la,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Low Stock Alert"})]})})]},j.product_id)})})}),e.jsx(iw,{value:a,index:1,children:e.jsx(lt,{data:f,columns:_,getRowId:j=>`${j.batch_lot_id}-${j.product_id}`,pagination:!1,emptyMessage:"No batches found"})}),e.jsx(iw,{value:a,index:2,children:e.jsx(lt,{data:v,columns:S,getRowId:j=>j.serial_id,pagination:!1,emptyMessage:"No serial numbers found"})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Wt,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx(x,{variant:"h6",className:"text-gray-600 mb-2",children:"Invalid Inventory Data"}),e.jsx(x,{variant:"body2",className:"text-gray-500 mb-4",children:"The inventory data could not be loaded properly."}),e.jsx(G,{onClick:m,children:"Go Back to Inventory"})]})},KLe=eV([{path:"/login",element:e.jsx(Vbe,{})},{path:"/privacy-policy",element:e.jsx(Hbe,{})},{path:"/",element:e.jsx(hV,{children:e.jsx(Bbe,{})}),errorElement:e.jsx(Uw,{showFallback:!0}),children:[{path:"/",element:e.jsx(uD,{})},{path:"/dashboard/executive",element:e.jsx(uD,{})},{path:"/masters/brands",element:e.jsx(Tt,{module:"brand",action:"read",children:e.jsx(E_e,{})})},{path:"/masters/company",element:e.jsx(Tt,{module:"company",action:"read",children:e.jsx(z_e,{})})},{path:"/masters/users",element:e.jsx(Tt,{module:"user",action:"read",children:e.jsx(L8e,{})})},{path:"/masters/users/:id",element:e.jsx(Tt,{module:"user",action:"read",children:e.jsx(z8e,{})})},{path:"/masters/roles",element:e.jsx(Tt,{module:"role",action:"read",children:e.jsx(kPe,{})})},{path:"/masters/depots",element:e.jsx(Tt,{module:"depot",action:"read",children:e.jsx(JSe,{})})},{path:"/masters/depots/:id",element:e.jsx(Tt,{module:"depot",action:"read",children:e.jsx(e3e,{})})},{path:"/masters/zones",element:e.jsx(Tt,{module:"zone",action:"read",children:e.jsx(NTe,{})})},{path:"/masters/currency",element:e.jsx(Tt,{module:"currency",action:"read",children:e.jsx(zSe,{})})},{path:"/masters/routes",element:e.jsx(Tt,{module:"route",action:"read",children:e.jsx(RPe,{})})},{path:"/masters/routes/:id",element:e.jsx(Tt,{module:"route",action:"read",children:e.jsx(APe,{})})},{path:"/masters/route-types",element:e.jsx(Tt,{module:"route-type",action:"read",children:e.jsx(zPe,{})})},{path:"/masters/outlets",element:e.jsx(Tt,{module:"outlet",action:"read",children:e.jsx(U3e,{})})},{path:"/masters/outlets/:id",element:e.jsx(Tt,{module:"outlet",action:"read",children:e.jsx(V3e,{})})},{path:"/masters/outlet-groups",element:e.jsx(Tt,{module:"outlet-group",action:"read",children:e.jsx(tCe,{})})},{path:"/masters/outlet-category",element:e.jsx(Tt,{module:"customer-category",action:"read",children:e.jsx(Y4e,{})})},{path:"/masters/outlet-type",element:e.jsx(Tt,{module:"customer-type",action:"read",children:e.jsx(oSe,{})})},{path:"/masters/outlet-channel",element:e.jsx(Tt,{module:"customer-channel",action:"read",children:e.jsx(jSe,{})})},{path:"/masters/asset-types",element:e.jsx(Tt,{module:"asset-type",action:"read",children:e.jsx(i_e,{})})},{path:"/masters/asset-master",element:e.jsx(Tt,{module:"asset-master",action:"read",children:e.jsx(Bwe,{})})},{path:"/masters/warehouses",element:e.jsx(Tt,{module:"warehouse",action:"read",children:e.jsx(gTe,{})})},{path:"/masters/vehicles",element:e.jsx(Tt,{module:"vehicle",action:"read",children:e.jsx(mTe,{})})},{path:"/masters/products",element:e.jsx(Tt,{module:"product",action:"read",children:e.jsx(Z5e,{})})},{path:"/masters/products/:id",element:e.jsx(Tt,{module:"product",action:"read",children:e.jsx(X5e,{})})},{path:"/masters/batch-lots",element:e.jsx(Tt,{module:"batch-lots",action:"read",children:e.jsx(x_e,{})})},{path:"/masters/batch-lots/:id",element:e.jsx(Tt,{module:"batch-lots",action:"read",children:e.jsx(g_e,{})})},{path:"/masters/product-categories",element:e.jsx(Tt,{module:"product-category",action:"read",children:e.jsx(MCe,{})})},{path:"/masters/product-sub-categories",element:e.jsx(Tt,{module:"product-sub-category",action:"read",children:e.jsx(M6e,{})})},{path:"/masters/unit-of-measurement",element:e.jsx(Tt,{module:"unit-of-measurement",action:"read",children:e.jsx(k8e,{})})},{path:"/masters/sub-unit-of-measurement",element:e.jsx(Tt,{module:"unit-of-measurement",action:"read",children:e.jsx(R8e,{})})},{path:"/masters/product-flavours",element:e.jsx(Tt,{module:"product-flavour",action:"read",children:e.jsx($6e,{})})},{path:"/masters/product-volumes",element:e.jsx(Tt,{module:"product-volume",action:"read",children:e.jsx(K6e,{})})},{path:"/masters/product-shelf-life",element:e.jsx(Tt,{module:"product-shelf-life",action:"read",children:e.jsx(nke,{})})},{path:"/masters/product-types",element:e.jsx(Tt,{module:"product-type",action:"read",children:e.jsx(pke,{})})},{path:"/masters/product-target-groups",element:e.jsx(Tt,{module:"product-target-group",action:"read",children:e.jsx(Nke,{})})},{path:"/masters/product-web-orders",element:e.jsx(Tt,{module:"product-web-order",action:"read",children:e.jsx(Mke,{})})},{path:"/masters/inventory-items",element:e.jsx(Tt,{module:"inventory-items",action:"read",children:e.jsx(qLe,{})})},{path:"/masters/inventory-items/:id",element:e.jsx(Tt,{module:"inventory-items",action:"read",children:e.jsx(GLe,{})})},{path:"/masters/tax-master",element:e.jsx(Tt,{module:"tax-master",action:"read",children:e.jsx(uPe,{})})},{path:"/masters/cooler-types",element:e.jsx(Tt,{module:"cooler-type",action:"read",children:e.jsx(Hke,{})})},{path:"/masters/cooler-sub-types",element:e.jsx(Tt,{module:"cooler-sub-type",action:"read",children:e.jsx(iPe,{})})},{path:"/masters/pricelists",element:e.jsx(Tt,{module:"pricelist",action:"read",children:e.jsx(CCe,{})})},{path:"/masters/promotions",element:e.jsx(Tt,{module:"promotions",action:"read",children:e.jsx(S6e,{})})},{path:"/masters/promotions/:id",element:e.jsx(Tt,{module:"promotions",action:"read",children:e.jsx(C6e,{})})},{path:"/masters/updated-promotions",element:e.jsx(Tt,{module:"updated-promotion",action:"read",children:e.jsx(zLe,{})})},{path:"/masters/updated-promotions/:id",element:e.jsx(Tt,{module:"updated-promotion",action:"read",children:e.jsx($Le,{})})},{path:"/settings/login-history",element:e.jsx(Tt,{module:"login-history",action:"read",children:e.jsx(y3e,{})})},{path:"/masters/sales-target-groups",element:e.jsx(Tt,{module:"sales-target-group",action:"read",children:e.jsx(bEe,{})})},{path:"/masters/sales-targets",element:e.jsx(Tt,{module:"sales-target",action:"read",children:e.jsx(_Ee,{})})},{path:"/masters/sales-bonus-rules",element:e.jsx(Tt,{module:"sales-bonus-rule",action:"read",children:e.jsx(rEe,{})})},{path:"/masters/kpi-targets",element:e.jsx(Tt,{module:"kpi-target",action:"read",children:e.jsx(p3e,{})})},{path:"/masters/surveys",element:e.jsx(Tt,{module:"survey",action:"read",children:e.jsx(j8e,{})})},{path:"/masters/surveys/:id",element:e.jsx(Tt,{module:"survey",action:"read",children:e.jsx(N8e,{})})},{path:"/masters/customer-complaints",element:e.jsx(Tt,{module:"customer-complaint",action:"read",children:e.jsx(ASe,{})})},{path:"/transactions/orders",element:e.jsx(Tt,{module:"order",action:"read",children:e.jsx(i9e,{})})},{path:"/transactions/orders/:id",element:e.jsx(Tt,{module:"order",action:"read",children:e.jsx(o9e,{})})},{path:"/transactions/delivery",element:e.jsx(Tt,{module:"delivery",action:"read",children:e.jsx(ZDe,{})})},{path:"/transactions/returns",element:e.jsx(Tt,{module:"return",action:"read",children:e.jsx(M9e,{})})},{path:"/transactions/returns/:id",element:e.jsx(Tt,{module:"return",action:"read",children:e.jsx(z9e,{})})},{path:"/transactions/payments",element:e.jsx(Tt,{module:"payment",action:"read",children:e.jsx(m9e,{})})},{path:"/transactions/payments/:id",element:e.jsx(Tt,{module:"payment",action:"read",children:e.jsx(g9e,{})})},{path:"/transactions/invoices",element:e.jsx(Tt,{module:"invoice",action:"read",children:e.jsx(Z7e,{})})},{path:"/transactions/credit-notes",element:e.jsx(Tt,{module:"credit-note",action:"read",children:e.jsx(LDe,{})})},{path:"/transactions/visits",element:e.jsx(Tt,{module:"visit",action:"read",children:e.jsx(V9e,{})})},{path:"/transactions/visits/:id",element:e.jsx(Tt,{module:"visit",action:"read",children:e.jsx(H9e,{})})},{path:"/transactions/asset-movement",element:e.jsx(Tt,{module:"asset-movement",action:"read",children:e.jsx(t_e,{})})},{path:"/transactions/competitor",element:e.jsx(Tt,{module:"competitor",action:"read",children:e.jsx(v4e,{})})},{path:"/transactions/maintenance",element:e.jsx(Tt,{module:"maintenance",action:"read",children:e.jsx(Twe,{})})},{path:"/transactions/installations",element:e.jsx(Tt,{module:"installation",action:"read",children:e.jsx(hDe,{})})},{path:"/transactions/installations/:id",element:e.jsx(Tt,{module:"installation",action:"read",children:e.jsx(fDe,{})})},{path:"/transactions/inspections",element:e.jsx(Tt,{module:"inspection",action:"read",children:e.jsx(lDe,{})})},{path:"/transactions/inspections/:id",element:e.jsx(Tt,{module:"inspection",action:"read",children:e.jsx(cDe,{})})},{path:"/transactions/stock-transfer",element:e.jsx(Tt,{module:"stock-transfer",action:"read",children:e.jsx(c8e,{})})},{path:"/transactions/stock-movements",element:e.jsx(Tt,{module:"stock-movement",action:"read",children:e.jsx(UEe,{})})},{path:"/transactions/van-stock",element:e.jsx(Tt,{module:"van-stock",action:"read",children:e.jsx(oTe,{})})},{path:"/tracking/location",element:e.jsx(Tt,{module:"report",action:"read",children:e.jsx(RMe,{})})},{path:"/tracking/routes",element:e.jsx(Tt,{module:"route-effectiveness",action:"read",children:e.jsx(AMe,{})})},{path:"/reports/orders",element:e.jsx(Tt,{module:"report",action:"read",children:e.jsx(lMe,{})})},{path:"/reports/sales-target",element:e.jsx(Tt,{module:"report",action:"read",children:e.jsx(pMe,{})})},{path:"/reports/asset-status",element:e.jsx(Tt,{module:"report",action:"read",children:e.jsx(sMe,{})})},{path:"/reports/visits",element:e.jsx(Tt,{module:"report",action:"read",children:e.jsx(NMe,{})})},{path:"/reports/promos",element:e.jsx(Tt,{module:"report",action:"read",children:e.jsx(dMe,{})})},{path:"/reports/territory",element:e.jsx(Tt,{module:"report",action:"read",children:e.jsx(uMe,{})})},{path:"/reports/productivity",element:e.jsx(Tt,{module:"report",action:"read",children:e.jsx(mMe,{})})},{path:"/reports/competitor",element:e.jsx(Tt,{module:"report",action:"read",children:e.jsx(oMe,{})})},{path:"/reports/collection",element:e.jsx(Tt,{module:"report",action:"read",children:e.jsx(cMe,{})})},{path:"/reports/attendance-history",element:e.jsx(Tt,{module:"report",action:"read",children:e.jsx(aMe,{})})},{path:"/reports/audit-logs",element:e.jsx(Tt,{module:"report",action:"read",children:e.jsx(iMe,{})})},{path:"/reports/survey-responses",element:e.jsx(Tt,{module:"survey",action:"read",children:e.jsx(vMe,{})})},{path:"/reports/survey-responses/:id",element:e.jsx(Tt,{module:"survey",action:"read",children:e.jsx(jMe,{})})},{path:"/workflows/approvals",element:e.jsx(Tt,{module:"approval",action:"read",children:e.jsx(yLe,{})})},{path:"/workflows/approval-setup",element:e.jsx(Tt,{module:"approval",action:"read",children:e.jsx(gLe,{})})},{path:"/workflows/exceptions",element:e.jsx(Tt,{module:"exception",action:"read",children:e.jsx(bLe,{})})},{path:"/workflows/alerts",element:e.jsx(Tt,{module:"alert",action:"read",children:e.jsx(W9e,{})})},{path:"/settings/tokens",element:e.jsx(Tt,{module:"token",action:"read",children:e.jsx(iwe,{})})},{path:"/settings/system",element:e.jsx(Tt,{module:"setting",action:"read",children:e.jsx(jLe,{})})},{path:"/profile",element:e.jsx(Tt,{module:"profile",action:"read",children:e.jsx(STe,{})})},{path:"*",element:e.jsx(wTe,{})}]}],{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}}),QLe=()=>e.jsx(mV,{router:KLe}),Mc={50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},ZLe=({children:t})=>{const s=yv({palette:{mode:"light",primary:{main:Mc[500],light:Mc[400],dark:Mc[600],contrastText:"#ffffff"},secondary:{main:"#6b7280",light:"#9ca3af",dark:"#4b5563",contrastText:"#ffffff"}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:500}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:Mc[600]}}},MuiChip:{styleOverrides:{colorPrimary:{backgroundColor:Mc[100],color:Mc[800],"&:hover":{backgroundColor:Mc[200]}}}},MuiIconButton:{styleOverrides:{root:{borderRadius:"6px","& .MuiTouchRipple-root":{borderRadius:"6px",overflow:"hidden"},"& .MuiTouchRipple-ripple":{borderRadius:"6px !important"},"& .MuiTouchRipple-rippleVisible":{borderRadius:"6px !important"},"& .MuiTouchRipple-child":{borderRadius:"6px !important"}}}}},primaryColors:Mc});return e.jsx(VY,{theme:s,children:t})};var lb={exports:{}},XLe=lb.exports,o7;function JLe(){return o7||(o7=1,(function(t,s){(function(a,n){t.exports=n()})(XLe,(function(){var a="week",n="year";return function(r,i,o){var l=i.prototype;l.week=function(c){if(c===void 0&&(c=null),c!==null)return this.add(7*(c-this.week()),"day");var m=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=o(this).startOf(n).add(1,n).date(m),h=o(this).endOf(a);if(u.isBefore(h))return 1}var f=o(this).startOf(n).date(m).startOf(a).subtract(1,"millisecond"),v=this.diff(f,a,!0);return v<0?o(this).startOf("week").week():Math.ceil(v)},l.weeks=function(c){return c===void 0&&(c=null),this.week(c)}}}))})(lb)),lb.exports}var eze=JLe();const tze=ao(eze);var cb={exports:{}},sze=cb.exports,l7;function aze(){return l7||(l7=1,(function(t,s){(function(a,n){t.exports=n()})(sze,(function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,i=/\d\d/,o=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,c={},m=function(j){return(j=+j)+(j>68?1900:2e3)},u=function(j){return function(b){this[j]=+b}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(j){(this.zone||(this.zone={})).offset=(function(b){if(!b||b==="Z")return 0;var w=b.match(/([+-]|\d\d)/g),C=60*w[1]+(+w[2]||0);return C===0?0:w[0]==="+"?-C:C})(j)}],f=function(j){var b=c[j];return b&&(b.indexOf?b:b.s.concat(b.f))},v=function(j,b){var w,C=c.meridiem;if(C){for(var P=1;P<=24;P+=1)if(j.indexOf(C(P,0,b))>-1){w=P>12;break}}else w=j===(b?"pm":"PM");return w},_={A:[l,function(j){this.afternoon=v(j,!1)}],a:[l,function(j){this.afternoon=v(j,!0)}],Q:[r,function(j){this.month=3*(j-1)+1}],S:[r,function(j){this.milliseconds=100*+j}],SS:[i,function(j){this.milliseconds=10*+j}],SSS:[/\d{3}/,function(j){this.milliseconds=+j}],s:[o,u("seconds")],ss:[o,u("seconds")],m:[o,u("minutes")],mm:[o,u("minutes")],H:[o,u("hours")],h:[o,u("hours")],HH:[o,u("hours")],hh:[o,u("hours")],D:[o,u("day")],DD:[i,u("day")],Do:[l,function(j){var b=c.ordinal,w=j.match(/\d+/);if(this.day=w[0],b)for(var C=1;C<=31;C+=1)b(C).replace(/\[|\]/g,"")===j&&(this.day=C)}],w:[o,u("week")],ww:[i,u("week")],M:[o,u("month")],MM:[i,u("month")],MMM:[l,function(j){var b=f("months"),w=(f("monthsShort")||b.map((function(C){return C.slice(0,3)}))).indexOf(j)+1;if(w<1)throw new Error;this.month=w%12||w}],MMMM:[l,function(j){var b=f("months").indexOf(j)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,u("year")],YY:[i,function(j){this.year=m(j)}],YYYY:[/\d{4}/,u("year")],Z:h,ZZ:h};function S(j){var b,w;b=j,w=c&&c.formats;for(var C=(j=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(O,$,A){var Q=A&&A.toUpperCase();return $||w[A]||a[A]||w[Q].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(K,U,B){return U||B.slice(1)}))}))).match(n),P=C.length,E=0;E<P;E+=1){var D=C[E],T=_[D],R=T&&T[0],z=T&&T[1];C[E]=z?{regex:R,parser:z}:D.replace(/^\[|\]$/g,"")}return function(O){for(var $={},A=0,Q=0;A<P;A+=1){var K=C[A];if(typeof K=="string")Q+=K.length;else{var U=K.regex,B=K.parser,V=O.slice(Q),Y=U.exec(V)[0];B.call($,Y),O=O.replace(Y,"")}}return(function(H){var F=H.afternoon;if(F!==void 0){var M=H.hours;F?M<12&&(H.hours+=12):M===12&&(H.hours=0),delete H.afternoon}})($),$}}return function(j,b,w){w.p.customParseFormat=!0,j&&j.parseTwoDigitYear&&(m=j.parseTwoDigitYear);var C=b.prototype,P=C.parse;C.parse=function(E){var D=E.date,T=E.utc,R=E.args;this.$u=T;var z=R[1];if(typeof z=="string"){var O=R[2]===!0,$=R[3]===!0,A=O||$,Q=R[2];$&&(Q=R[2]),c=this.$locale(),!O&&Q&&(c=w.Ls[Q]),this.$d=(function(V,Y,H,F){try{if(["x","X"].indexOf(Y)>-1)return new Date((Y==="X"?1e3:1)*V);var M=S(Y)(V),L=M.year,W=M.month,X=M.day,te=M.hours,se=M.minutes,ae=M.seconds,pe=M.milliseconds,he=M.zone,re=M.week,xe=new Date,ge=X||(L||W?1:xe.getDate()),le=L||xe.getFullYear(),de=0;L&&!W||(de=W>0?W-1:xe.getMonth());var we,Ae=te||0,Fe=se||0,Me=ae||0,Xe=pe||0;return he?new Date(Date.UTC(le,de,ge,Ae,Fe,Me,Xe+60*he.offset*1e3)):H?new Date(Date.UTC(le,de,ge,Ae,Fe,Me,Xe)):(we=new Date(le,de,ge,Ae,Fe,Me,Xe),re&&(we=F(we).week(re).toDate()),we)}catch{return new Date("")}})(D,z,T,w),this.init(),Q&&Q!==!0&&(this.$L=this.locale(Q).$L),A&&D!=this.format(z)&&(this.$d=new Date("")),c={}}else if(z instanceof Array)for(var K=z.length,U=1;U<=K;U+=1){R[1]=z[U-1];var B=w.apply(this,R);if(B.isValid()){this.$d=B.$d,this.$L=B.$L,this.init();break}U===K&&(this.$d=new Date(""))}else P.call(this,E)}}}))})(cb)),cb.exports}var nze=aze();const rze=ao(nze);var db={exports:{}},ize=db.exports,c7;function oze(){return c7||(c7=1,(function(t,s){(function(a,n){t.exports=n()})(ize,(function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,r,i){var o=r.prototype,l=o.format;i.en.formats=a,o.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var m=this.$locale().formats,u=(function(h,f){return h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(v,_,S){var j=S&&S.toUpperCase();return _||f[S]||a[S]||f[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(b,w,C){return w||C.slice(1)}))}))})(c,m===void 0?{}:m);return l.call(this,u)}}}))})(db)),db.exports}var lze=oze();const cze=ao(lze);var ub={exports:{}},dze=ub.exports,d7;function uze(){return d7||(d7=1,(function(t,s){(function(a,n){t.exports=n()})(dze,(function(){return function(a,n,r){n.prototype.isBetween=function(i,o,l,c){var m=r(i),u=r(o),h=(c=c||"()")[0]==="(",f=c[1]===")";return(h?this.isAfter(m,l):!this.isBefore(m,l))&&(f?this.isBefore(u,l):!this.isAfter(u,l))||(h?this.isBefore(m,l):!this.isAfter(m,l))&&(f?this.isAfter(u,l):!this.isBefore(u,l))}}}))})(ub)),ub.exports}var mze=uze();const pze=ao(mze);var mb={exports:{}},hze=mb.exports,u7;function fze(){return u7||(u7=1,(function(t,s){(function(a,n){t.exports=n()})(hze,(function(){return function(a,n){var r=n.prototype,i=r.format;r.format=function(o){var l=this,c=this.$locale();if(!this.isValid())return i.bind(this)(o);var m=this.$utils(),u=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(h){switch(h){case"Q":return Math.ceil((l.$M+1)/3);case"Do":return c.ordinal(l.$D);case"gggg":return l.weekYear();case"GGGG":return l.isoWeekYear();case"wo":return c.ordinal(l.week(),"W");case"w":case"ww":return m.s(l.week(),h==="w"?1:2,"0");case"W":case"WW":return m.s(l.isoWeek(),h==="W"?1:2,"0");case"k":case"kk":return m.s(String(l.$H===0?24:l.$H),h==="k"?1:2,"0");case"X":return Math.floor(l.$d.getTime()/1e3);case"x":return l.$d.getTime();case"z":return"["+l.offsetName()+"]";case"zzz":return"["+l.offsetName("long")+"]";default:return h}}));return i.bind(this)(u)}}}))})(mb)),mb.exports}var xze=fze();const gze=ao(xze);on.extend(cze);on.extend(tze);on.extend(pze);on.extend(gze);const yze={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},bze={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},ow=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),m7=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`);class vze{isMUIAdapter=!0;isTimezoneCompatible=!0;lib="dayjs";escapedCharacters={start:"[",end:"]"};formatTokenMap=yze;constructor({locale:s,formats:a}={}){this.locale=s,this.formats=be({},bze,a),on.extend(rze)}setLocaleToValue=s=>{const a=this.getCurrentLocaleCode();return a===s.locale()?s:s.locale(a)};hasUTCPlugin=()=>typeof on.utc<"u";hasTimezonePlugin=()=>typeof on.tz<"u";isSame=(s,a,n)=>{const r=this.setTimezone(a,this.getTimezone(s));return s.format(n)===r.format(n)};cleanTimezone=s=>{switch(s){case"default":return;case"system":return on.tz.guess();default:return s}};createSystemDate=s=>{let a;if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const n=on.tz.guess();n==="UTC"?a=on(s):a=on.tz(s,n)}else a=on(s);return this.setLocaleToValue(a)};createUTCDate=s=>{if(!this.hasUTCPlugin())throw new Error(ow);return this.setLocaleToValue(on.utc(s))};createTZDate=(s,a)=>{if(!this.hasUTCPlugin())throw new Error(ow);if(!this.hasTimezonePlugin())throw new Error(m7);const n=s!==void 0&&!s.endsWith("Z");return this.setLocaleToValue(on(s).tz(this.cleanTimezone(a),n))};getLocaleFormats=()=>{const s=on.Ls,a=this.locale||"en";let n=s[a];return n===void 0&&(n=s.en),n.formats};adjustOffset=s=>{if(!this.hasTimezonePlugin())return s;const a=this.getTimezone(s);if(a!=="UTC"){const n=s.tz(this.cleanTimezone(a),!0);if(n.$offset===(s.$offset??0))return s;s.$offset=n.$offset}return s};date=(s,a="default")=>s===null?null:a==="UTC"?this.createUTCDate(s):a==="system"||a==="default"&&!this.hasTimezonePlugin()?this.createSystemDate(s):this.createTZDate(s,a);getInvalidDate=()=>on(new Date("Invalid date"));getTimezone=s=>{if(this.hasTimezonePlugin()){const a=s.$x?.$timezone;if(a)return a}return this.hasUTCPlugin()&&s.isUTC()?"UTC":"system"};setTimezone=(s,a)=>{if(this.getTimezone(s)===a)return s;if(a==="UTC"){if(!this.hasUTCPlugin())throw new Error(ow);return s.utc()}if(a==="system")return s.local();if(!this.hasTimezonePlugin()){if(a==="default")return s;throw new Error(m7)}return this.setLocaleToValue(on.tz(s,this.cleanTimezone(a)))};toJsDate=s=>s.toDate();parse=(s,a)=>s===""?null:on(s,a,this.locale,!0);getCurrentLocaleCode=()=>this.locale||"en";is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||"");expandFormat=s=>{const a=this.getLocaleFormats(),n=r=>r.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(i,o,l)=>o||l.slice(1));return s.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(r,i,o)=>{const l=o&&o.toUpperCase();return i||a[o]||n(a[l])})};isValid=s=>s==null?!1:s.isValid();format=(s,a)=>this.formatByString(s,this.formats[a]);formatByString=(s,a)=>this.setLocaleToValue(s).format(a);formatNumber=s=>s;isEqual=(s,a)=>s===null&&a===null?!0:s===null||a===null?!1:s.toDate().getTime()===a.toDate().getTime();isSameYear=(s,a)=>this.isSame(s,a,"YYYY");isSameMonth=(s,a)=>this.isSame(s,a,"YYYY-MM");isSameDay=(s,a)=>this.isSame(s,a,"YYYY-MM-DD");isSameHour=(s,a)=>s.isSame(a,"hour");isAfter=(s,a)=>s>a;isAfterYear=(s,a)=>this.hasUTCPlugin()?!this.isSameYear(s,a)&&s.utc()>a.utc():s.isAfter(a,"year");isAfterDay=(s,a)=>this.hasUTCPlugin()?!this.isSameDay(s,a)&&s.utc()>a.utc():s.isAfter(a,"day");isBefore=(s,a)=>s<a;isBeforeYear=(s,a)=>this.hasUTCPlugin()?!this.isSameYear(s,a)&&s.utc()<a.utc():s.isBefore(a,"year");isBeforeDay=(s,a)=>this.hasUTCPlugin()?!this.isSameDay(s,a)&&s.utc()<a.utc():s.isBefore(a,"day");isWithinRange=(s,[a,n])=>s>=a&&s<=n;startOfYear=s=>this.adjustOffset(s.startOf("year"));startOfMonth=s=>this.adjustOffset(s.startOf("month"));startOfWeek=s=>this.adjustOffset(this.setLocaleToValue(s).startOf("week"));startOfDay=s=>this.adjustOffset(s.startOf("day"));endOfYear=s=>this.adjustOffset(s.endOf("year"));endOfMonth=s=>this.adjustOffset(s.endOf("month"));endOfWeek=s=>this.adjustOffset(this.setLocaleToValue(s).endOf("week"));endOfDay=s=>this.adjustOffset(s.endOf("day"));addYears=(s,a)=>this.adjustOffset(s.add(a,"year"));addMonths=(s,a)=>this.adjustOffset(s.add(a,"month"));addWeeks=(s,a)=>this.adjustOffset(s.add(a,"week"));addDays=(s,a)=>this.adjustOffset(s.add(a,"day"));addHours=(s,a)=>this.adjustOffset(s.add(a,"hour"));addMinutes=(s,a)=>this.adjustOffset(s.add(a,"minute"));addSeconds=(s,a)=>this.adjustOffset(s.add(a,"second"));getYear=s=>s.year();getMonth=s=>s.month();getDate=s=>s.date();getHours=s=>s.hour();getMinutes=s=>s.minute();getSeconds=s=>s.second();getMilliseconds=s=>s.millisecond();setYear=(s,a)=>this.adjustOffset(s.set("year",a));setMonth=(s,a)=>this.adjustOffset(s.set("month",a));setDate=(s,a)=>this.adjustOffset(s.set("date",a));setHours=(s,a)=>this.adjustOffset(s.set("hour",a));setMinutes=(s,a)=>this.adjustOffset(s.set("minute",a));setSeconds=(s,a)=>this.adjustOffset(s.set("second",a));setMilliseconds=(s,a)=>this.adjustOffset(s.set("millisecond",a));getDaysInMonth=s=>s.daysInMonth();getWeekArray=s=>{const a=this.startOfWeek(this.startOfMonth(s)),n=this.endOfWeek(this.endOfMonth(s));let r=0,i=a;const o=[];for(;i<n;){const l=Math.floor(r/7);o[l]=o[l]||[],o[l].push(i),i=this.addDays(i,1),r+=1}return o};getWeekNumber=s=>s.week();getDayOfWeek(s){return s.day()+1}getYearRange=([s,a])=>{const n=this.startOfYear(s),r=this.endOfYear(a),i=[];let o=n;for(;this.isBefore(o,r);)i.push(o),o=this.addYears(o,1);return i}}const jze=({children:t})=>{const s=new Iae({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:!1,staleTime:3e5,gcTime:6e5,retry:(a,n)=>{const r=n?.response?.status||n?.statusCode||n?.originalError?.response?.status||n?.originalError?.statusCode;return r===403||r===401||r>=400&&r<500?!1:a<3},retryOnMount:!1},mutations:{retry:(a,n)=>{const r=n?.response?.status||n?.statusCode||n?.originalError?.response?.status;return r===403||r===401||r>=400&&r<500?!1:a<1}}}});return e.jsx(cI,{dateAdapter:vze,children:e.jsx(ZLe,{children:e.jsx(Oae,{client:s,children:e.jsx(EA,{children:t})})})})},Nze=()=>e.jsx(Pne,{position:"top-right",autoClose:3e3,closeOnClick:!0,draggable:!0,theme:"light"}),wze=({message:t="Loading your profile..."})=>{const[s,a]=g.useState(0);return g.useEffect(()=>{const n=setInterval(()=>{a(r=>{if(r>=100)return 100;const i=Math.random()*8+2,o=r+i;return Math.min(o,100)})},600);return()=>{clearInterval(n)}},[]),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"flex h-screen",children:[e.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(J,{variant:"rectangular",width:32,height:32,className:"!rounded-lg !bg-blue-600"}),e.jsx(J,{variant:"text",width:100,height:24})]})}),e.jsx("div",{className:"flex-1 p-4 space-y-2",children:[1,2,3,4,5,6].map(n=>e.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg",children:[e.jsx(J,{variant:"rectangular",width:20,height:20}),e.jsx(J,{variant:"text",width:120,height:16})]},n))}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(J,{variant:"circular",width:40,height:40}),e.jsxs("div",{className:"flex-1",children:[e.jsx(J,{variant:"text",width:80,height:16,className:"!mb-1"}),e.jsx(J,{variant:"text",width:60,height:12})]})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx(J,{variant:"text",width:200,height:24})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(J,{variant:"circular",width:32,height:32}),e.jsx(J,{variant:"circular",width:32,height:32}),e.jsx(J,{variant:"circular",width:40,height:40})]})]})}),e.jsxs("div",{className:"flex-1 p-6 overflow-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(J,{variant:"text",width:300,height:32,className:"!mb-2"}),e.jsx(J,{variant:"text",width:400,height:16})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[1,2,3,4].map(n=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(J,{variant:"text",width:"60%",height:16,className:"!mb-2"}),e.jsx(J,{variant:"text",width:"40%",height:28,className:"!mb-1"}),e.jsx(J,{variant:"text",width:"30%",height:14})]}),e.jsx(J,{variant:"rectangular",width:48,height:48,className:"!rounded-full"})]})},n))}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(J,{variant:"text",width:150,height:24}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(J,{variant:"rectangular",width:200,height:40,className:"!rounded-lg"}),e.jsx(J,{variant:"rectangular",width:120,height:40,className:"!rounded-lg"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-6 gap-4 pb-2 border-b border-gray-200",children:[1,2,3,4,5,6].map(n=>e.jsx(J,{variant:"text",width:"80%",height:16},n))}),[1,2,3,4,5].map(n=>e.jsx("div",{className:"grid grid-cols-6 gap-4 py-3 border-b border-gray-100",children:[1,2,3,4,5,6].map(r=>e.jsxs("div",{className:"flex items-center space-x-2",children:[r===1&&e.jsx(J,{variant:"circular",width:32,height:32}),e.jsx(J,{variant:"text",width:"70%",height:16})]},r))},n))]}),e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200",children:[e.jsx(J,{variant:"text",width:150,height:16}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{variant:"rectangular",width:32,height:32,className:"!rounded"}),e.jsx(J,{variant:"rectangular",width:32,height:32,className:"!rounded"}),e.jsx(J,{variant:"rectangular",width:32,height:32,className:"!rounded"})]})]})]})]})]})]}),e.jsx("div",{className:"absolute inset-0 bg-white/30 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"p-8 text-center min-w-[400px] max-w-[500px]",children:[e.jsxs("div",{className:"inline-flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center animate-pulse",children:e.jsx("span",{className:"text-white font-bold text-sm sm:text-lg",children:"D"})}),e.jsx("span",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"DCC-SFA"})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-6",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce"}),e.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"text-sm text-gray-500",children:[Math.round(s),"% complete"]})}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${s}%`}})}),e.jsx("p",{className:"text-gray-600 text-sm",children:t})]})})]})},_ze=({children:t})=>{const{isLoading:s,error:a}=TA(),[n,r]=g.useState(()=>!navigator.onLine);Nt.useEffect(()=>{const o=()=>r(!1),l=()=>r(!0);return window.addEventListener("online",o),window.addEventListener("offline",l),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",l)}},[]);const i=g.useMemo(()=>{if(n)return!0;if(!a)return!1;const o=a,l=o?.statusCode||o?.response?.status||o?.originalError?.response?.status,c=l===401||l===403,m=o?.errorType==="NETWORK_ERROR"||o?.errorType==="TIMEOUT"||o?.errorType==="AUTHENTICATION_ERROR"||o?.errorType==="AUTHORIZATION_ERROR"||l===0&&!o?.response||!o?.response&&(o?.code==="ERR_NETWORK"||o?.code==="ECONNREFUSED"||o?.code==="ETIMEDOUT"||o?.code==="ENOTFOUND")||o?.message&&(o.message.includes("Network")||o.message.includes("network"));return c||m},[a,n]);return s?e.jsx(wze,{message:"Loading..."}):i?e.jsx(NA,{}):e.jsx(e.Fragment,{children:t})},Sze=({children:t})=>e.jsx(EA,{children:e.jsx(_ze,{children:t})}),Cze=()=>e.jsx(Uw,{onError:(t,s)=>{},children:e.jsx(jze,{children:e.jsx(Uw,{children:e.jsxs(Sze,{children:[e.jsx(QLe,{}),e.jsx(Nze,{})]})})})});zq.createRoot(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(Cze,{})}))});export default kze();
