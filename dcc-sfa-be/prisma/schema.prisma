generator client {
  provider   = "prisma-client-js"
  engineType = "client"
}

datasource db {
  provider = "sqlserver"
}

model users {
  id                                                                Int                          @id(map: "PK__users__3213E83F0D3B3A05") @default(autoincrement())
  email                                                             String                       @unique(map: "UQ__users__AB6E616419303B34") @db.NVarChar(255)
  role_id                                                           Int
  password_hash                                                     String                       @db.NVarChar(255)
  name                                                              String                       @db.NVarChar(255)
  parent_id                                                         Int?
  depot_id                                                          Int?
  zone_id                                                           Int?
  phone_number                                                      String?                      @db.NVarChar(20)
  address                                                           String?                      @db.NVarChar(500)
  employee_id                                                       String?                      @db.NVarChar(50)
  joining_date                                                      DateTime?                    @db.Date
  reporting_to                                                      Int?
  profile_image                                                     String?                      @db.NVarChar(500)
  last_login                                                        DateTime?
  is_active                                                         String                       @default("Y", map: "DF__users__is_active__3B75D760") @db.Char(1)
  createdate                                                        DateTime?                    @default(now(), map: "DF__users__createdat__3C69FB99") @db.DateTime
  createdby                                                         Int
  updatedate                                                        DateTime?                    @db.DateTime
  updatedby                                                         Int?
  log_inst                                                          Int?
  api_tokens_api_tokens_user_idTousers                              api_tokens[]                 @relation("api_tokens_user_idTousers")
  approval_work_flow_approver                                       approval_work_flow[]         @relation("ApprovalWorkFlowApprover")
  approval_workflows_approval_workflows_final_approved_byTousers    approval_workflows[]         @relation("approval_workflows_final_approved_byTousers")
  approval_workflows_approval_workflows_rejected_byTousers          approval_workflows[]         @relation("approval_workflows_rejected_byTousers")
  approval_workflows_approval_workflows_requested_byTousers         approval_workflows[]         @relation("approval_workflows_requested_byTousers")
  asset_maintenance_technician                                      asset_maintenance[]
  asset_movements_performed_by                                      asset_movements[]
  attendance_user                                                   attendance[]                 @relation("UserAttendance")
  audit_logs_audit_logs_changed_byTousers                           audit_logs[]                 @relation("audit_logs_changed_byTousers")
  cooler_inspections                                                cooler_inspections[]
  coolers                                                           coolers[]
  customer_assets                                                   customer_assets[]
  customer_assets_history_customer_assets_history_changed_byTousers customer_assets_history[]    @relation("customer_assets_history_changed_byTousers")
  submitted_by_users                                                customer_complaints[]        @relation("CustomerComplaintsSubmittedBy")
  customer_documents_users                                          customer_documents[]
  customer_users                                                    customers[]
  delivery_schedules_users                                          delivery_schedules[]
  depots_coodrinator                                                depots[]                     @relation("DepotsCoodrinator")
  depots_manager                                                    depots[]                     @relation("DeportsManager")
  depots_supervisior                                                depots[]                     @relation("DeportsSupervisior")
  employee_kpi_targets_users                                        employee_kpi_targets[]       @relation("EmployeeKpiTargetsUsers")
  gps_logs_gps_logs_user_idTousers                                  gps_logs[]                   @relation("gps_logs_user_idTousers")
  login_history_login_history_user_idTousers                        login_history[]              @relation("login_history_user_idTousers")
  notifications                                                     notifications[]
  orders_approved_by                                                orders[]                     @relation("OrdersApprovedBy")
  orders_salesperson_users                                          orders[]                     @relation("OrdersSalesperson")
  payments_payments_collected_byTousers                             payments[]                   @relation("payments_collected_byTousers")
  price_history_price_history_approved_byTousers                    price_history[]              @relation("price_history_approved_byTousers")
  price_history_price_history_changed_byTousers                     price_history[]              @relation("price_history_changed_byTousers")
  return_requests_users                                             return_requests[]            @relation("ReturnRequestsUser")
  return_workflow_return_workflow_action_byTousers                  return_workflow[]            @relation("return_workflow_action_byTousers")
  route_exceptions_route_exceptions_sales_person_idTousers          route_exceptions[]           @relation("route_exceptions_sales_person_idTousers")
  route_plans_route_plans_sales_person_idTousers                    route_plans[]                @relation("route_plans_sales_person_idTousers")
  routes_salesperson                                                routes[]
  sales_target_group_members_users                                  sales_target_group_members[]
  sales_target_overrides_users                                      sales_target_overrides[]
  sfa_d_requests_approvals_approver                                 sfa_d_request_approvals[]    @relation("SfaDRequetsApprovalsApprover")
  sfa_d_requests_requester                                          sfa_d_requests[]             @relation("SfaDRequestsRequester")
  stock_transfer_requests_approved_by                               stock_transfer_requests[]    @relation("StockTransferRequestsApprovedBy")
  stock_transfer_requests_requested_by                              stock_transfer_requests[]    @relation("StockTransferRequestsRequestedBy")
  survey_responses_submitted_by_users                               survey_responses[]           @relation("survey_responses_submitted_users")
  users                                                             users?                       @relation("usersTousers", fields: [reporting_to], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK__users__reporting__403A8C7D")
  other_users                                                       users[]                      @relation("usersTousers")
  user_depot                                                        depots?                      @relation(fields: [depot_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  companies                                                         companies?                   @relation(fields: [parent_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  user_role                                                         roles                        @relation(fields: [role_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  user_zones                                                        zones?                       @relation(fields: [zone_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  van_inventory_users                                               van_inventory[]              @relation("VanInventoryUsers")
  vehicles                                                          vehicles[]
  visit_tasks_users                                                 visit_tasks[]
  visits_salesperson                                                visits[]
  workflow_steps_workflow_steps_assigned_user_idTousers             workflow_steps[]             @relation("workflow_steps_assigned_user_idTousers")
  workflow_steps_workflow_steps_processed_byTousers                 workflow_steps[]             @relation("workflow_steps_processed_byTousers")
  promotion_salesperson_users                                       promotion_salesperson[]
  promotion_tracking_users                                          promotion_tracking[]
}

model attendance {
  id                    Int                  @id @default(autoincrement())
  user_id               Int
  attendance_date       DateTime             @db.Date
  punch_in_time         DateTime
  punch_in_latitude     Decimal?             @db.Decimal(10, 8)
  punch_in_longitude    Decimal?             @db.Decimal(11, 8)
  punch_in_address      String?              @db.NVarChar(500)
  punch_in_device_info  String?              @db.NVarChar(Max)
  punch_out_time        DateTime?
  punch_out_latitude    Decimal?             @db.Decimal(10, 8)
  punch_out_longitude   Decimal?             @db.Decimal(11, 8)
  punch_out_address     String?              @db.NVarChar(500)
  punch_out_device_info String?              @db.NVarChar(Max)
  total_hours           Decimal?             @db.Decimal(5, 2)
  work_type             String?              @default("field") @db.NVarChar(20)
  status                String?              @default("punch_in") @db.NVarChar(20)
  remarks               String?              @db.NVarChar(500)
  is_active             String               @default("Y") @db.Char(1)
  createdate            DateTime?            @default(now()) @db.DateTime
  createdby             Int
  updatedate            DateTime?            @db.DateTime
  updatedby             Int?
  log_inst              Int?
  attendance_user       users                @relation("UserAttendance", fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  attendance_historys   attendance_history[]
}

model attendance_history {
  id                  Int        @id @default(autoincrement())
  attendance_id       Int
  action_type         String     @db.NVarChar(50)
  action_time         DateTime   @default(now())
  latitude            Decimal?   @db.Decimal(10, 8)
  longitude           Decimal?   @db.Decimal(11, 8)
  address             String?    @db.NVarChar(500)
  device_info         String?    @db.NVarChar(Max)
  photo_url           String?    @db.NVarChar(500)
  old_data            String?    @db.NVarChar(Max)
  new_data            String?    @db.NVarChar(Max)
  ip_address          String?    @db.NVarChar(50)
  user_agent          String?    @db.NVarChar(500)
  app_version         String?    @db.NVarChar(50)
  battery_level       Decimal?   @db.Decimal(5, 2)
  network_type        String?    @db.NVarChar(20)
  remarks             String?    @db.NVarChar(500)
  is_active           String     @default("Y") @db.Char(1)
  createdate          DateTime?  @default(now()) @db.DateTime
  createdby           Int
  updatedate          DateTime?  @db.DateTime
  updatedby           Int?
  log_inst            Int?
  attendance_historys attendance @relation(fields: [attendance_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model roles {
  id                      Int                  @id @default(autoincrement())
  name                    String               @unique @db.NVarChar(100)
  description             String?              @db.NVarChar(500)
  is_active               String               @default("Y") @db.Char(1)
  createdate              DateTime?            @default(now()) @db.DateTime
  createdby               Int
  updatedate              DateTime?            @db.DateTime
  updatedby               Int?
  log_inst                Int?
  level                   Int                  @default(1)
  role_key                String               @unique @db.NVarChar(100)
  approval_work_flow_role approval_work_flow[] @relation("ApprovalWorkFlowRole")
  roles_permission        role_permissions[]
  surveys_roles           surveys[]            @relation("TargetRoles")
  user_role               users[]
}

model permissions {
  id          Int                @id @default(autoincrement())
  name        String             @unique @db.NVarChar(100)
  module      String             @db.NVarChar(50)
  action      String             @db.NVarChar(50)
  description String?            @db.NVarChar(500)
  is_active   String             @default("Y") @db.Char(1)
  createdate  DateTime?          @default(now()) @db.DateTime
  createdby   Int
  updatedate  DateTime?          @db.DateTime
  updatedby   Int?
  permission  role_permissions[]
}

model role_permissions {
  id               Int         @id @default(autoincrement())
  role_id          Int
  permission_id    Int
  is_active        String      @default("Y") @db.Char(1)
  createdate       DateTime?   @default(now()) @db.DateTime
  createdby        Int
  updatedate       DateTime?   @db.DateTime
  updatedby        Int?
  log_inst         Int?
  permission       permissions @relation(fields: [permission_id], references: [id], onUpdate: NoAction)
  roles_permission roles       @relation(fields: [role_id], references: [id], onUpdate: NoAction)
}

model depots {
  id                           Int                     @id(map: "PK__depots__3213E83F2BEB71BC") @default(autoincrement())
  parent_id                    Int
  name                         String                  @db.NVarChar(255)
  code                         String                  @db.NVarChar(50)
  address                      String?                 @db.NVarChar(500)
  city                         String?                 @db.NVarChar(100)
  state                        String?                 @db.NVarChar(100)
  zipcode                      String?                 @db.NVarChar(20)
  phone_number                 String?                 @db.NVarChar(20)
  email                        String?                 @db.NVarChar(255)
  manager_id                   Int?
  supervisor_id                Int?
  coordinator_id               Int?
  latitude                     Decimal?                @db.Decimal(10, 8)
  longitude                    Decimal?                @db.Decimal(11, 8)
  is_active                    String                  @default("Y", map: "DF__depots__is_activ__29572725") @db.Char(1)
  createdate                   DateTime?               @default(now(), map: "DF__depots__createda__2A4B4B5E") @db.DateTime
  createdby                    Int
  updatedate                   DateTime?               @db.DateTime
  updatedby                    Int?
  log_inst                     Int?
  approval_work_flow_depot     approval_work_flow[]    @relation("ApprovalWorkFlowDepot")
  depots_coodrinator           users?                  @relation("DepotsCoodrinator", fields: [coordinator_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  depots_manager               users?                  @relation("DeportsManager", fields: [manager_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  depot_companies              companies               @relation(fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  depots_supervisior           users?                  @relation("DeportsSupervisior", fields: [supervisor_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  inventory_stock_depots       inventory_stock[]
  promotion_depot              promotion_depot[]
  routes_depots                routes[]
  serial_numbers               serial_numbers[]
  user_depot                   users[]
  zone_depots                  zones[]
  depot_price_overrides_depots depot_price_overrides[]
}

model api_tokens {
  id                              Int       @id(map: "PK__api_toke__3213E83FCE2E766B") @default(autoincrement())
  user_id                         Int
  token                           String    @db.NVarChar(Max)
  token_type                      String?   @default("Bearer", map: "DF__api_token__token__51851410") @db.NVarChar(50)
  issued_at                       DateTime? @default(now(), map: "DF__api_token__issue__52793849") @db.DateTime
  expires_at                      DateTime? @db.DateTime
  is_revoked                      Boolean?  @default(false, map: "DF__api_token__is_re__536D5C82")
  device_id                       String?   @db.NVarChar(100)
  ip_address                      String?   @db.NVarChar(50)
  is_active                       String    @default("Y", map: "DF__api_token__is_ac__546180BB") @db.Char(1)
  log_inst                        Int?
  created_by                      Int
  created_date                    DateTime? @default(now()) @db.DateTime
  updated_by                      Int?
  updated_date                    DateTime? @db.DateTime
  users_api_tokens_user_idTousers users     @relation("api_tokens_user_idTousers", fields: [user_id], references: [id], onUpdate: NoAction, map: "FK__api_token__user___5649C92D")
}

model approval_workflows {
  id                                                Int              @id(map: "PK__approval__3213E83F97F542C2") @default(autoincrement())
  workflow_type                                     String           @db.NVarChar(30)
  reference_id                                      String           @db.UniqueIdentifier
  reference_type                                    String           @db.NVarChar(50)
  reference_number                                  String           @db.NVarChar(100)
  requested_by                                      Int
  request_date                                      DateTime?        @default(now(), map: "DF__approval___reque__10766AC2")
  priority                                          String?          @default("medium", map: "DF__approval___prior__125EB334") @db.NVarChar(10)
  status                                            String?          @default("pending", map: "DF__approval___statu__1446FBA6") @db.NVarChar(20)
  current_step                                      Int?             @default(1, map: "DF__approval___curre__153B1FDF")
  total_steps                                       Int
  request_data                                      String?          @db.NVarChar(Max)
  final_approved_by                                 Int?
  final_approved_at                                 DateTime?
  rejected_by                                       Int?
  rejected_at                                       DateTime?
  rejection_reason                                  String?
  is_active                                         String           @default("Y", map: "DF__approval___is_ac__162F4418") @db.Char(1)
  createdate                                        DateTime?        @default(now(), map: "DF__approval___creat__17236851") @db.DateTime
  createdby                                         Int
  updatedate                                        DateTime?        @db.DateTime
  updatedby                                         Int?
  log_inst                                          Int?
  users_approval_workflows_final_approved_byTousers users?           @relation("approval_workflows_final_approved_byTousers", fields: [final_approved_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK__approval___final__190BB0C3")
  users_approval_workflows_rejected_byTousers       users?           @relation("approval_workflows_rejected_byTousers", fields: [rejected_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK__approval___rejec__19FFD4FC")
  users_approval_workflows_requested_byTousers      users            @relation("approval_workflows_requested_byTousers", fields: [requested_by], references: [id], onUpdate: NoAction, map: "FK__approval___reque__18178C8A")
  workflow_steps                                    workflow_steps[]
}

model asset_images {
  id                 Int          @id @default(autoincrement())
  asset_id           Int
  image_url          String       @db.NVarChar(500)
  caption            String?      @db.NVarChar(255)
  uploaded_by        String?      @db.NVarChar(100)
  uploaded_at        DateTime?    @default(now()) @db.DateTime
  is_active          String       @default("Y") @db.Char(1)
  createdate         DateTime?    @default(now()) @db.DateTime
  createdby          Int
  updatedate         DateTime?    @db.DateTime
  updatedby          Int?
  log_inst           Int?
  asset_master_image asset_master @relation(fields: [asset_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model asset_maintenance {
  id                           Int          @id @default(autoincrement())
  asset_id                     Int
  maintenance_date             DateTime     @db.Date
  issue_reported               String?      @db.NVarChar(255)
  action_taken                 String?      @db.NVarChar(255)
  cost                         Decimal?     @db.Decimal(10, 2)
  remarks                      String?      @db.NVarChar(255)
  is_active                    String       @default("Y") @db.Char(1)
  createdate                   DateTime?    @default(now(), map: "DF__asset_mai__creat__6FD49106") @db.DateTime
  createdby                    Int
  updatedate                   DateTime?    @db.DateTime
  updatedby                    Int?
  log_inst                     Int?
  technician_id                Int
  asset_maintenance_master     asset_master @relation(fields: [asset_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  asset_maintenance_technician users        @relation(fields: [technician_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model asset_master {
  id                           Int                     @id(map: "PK__asset_ma__3213E83FB367A2E5") @default(autoincrement())
  asset_type_id                Int
  serial_number                String                  @unique(map: "UQ__asset_ma__BED14FEE105CB870") @db.NVarChar(100)
  purchase_date                DateTime?               @db.Date
  warranty_expiry              DateTime?               @db.Date
  current_location             String?                 @db.NVarChar(255)
  current_status               String?                 @db.NVarChar(50)
  assigned_to                  String?                 @db.NVarChar(100)
  is_active                    String                  @default("Y", map: "DF__asset_mas__is_ac__6462DE5A") @db.Char(1)
  createdate                   DateTime?               @default(now(), map: "DF__asset_mas__creat__65570293") @db.DateTime
  createdby                    Int
  updatedate                   DateTime?               @db.DateTime
  updatedby                    Int?
  log_inst                     Int?
  asset_master_image           asset_images[]
  asset_maintenance_master     asset_maintenance[]
  asset_master_asset_types     asset_types             @relation(fields: [asset_type_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  asset_movements_master       asset_movements[]
  asset_master_warranty_claims asset_warranty_claims[]
}

model asset_movements {
  id                           Int          @id @default(autoincrement())
  asset_id                     Int
  from_location                String?      @db.NVarChar(255)
  to_location                  String?      @db.NVarChar(255)
  movement_type                String?      @db.NVarChar(50)
  movement_date                DateTime     @default(now(), map: "DF__asset_mov__movem__69279377") @db.DateTime
  performed_by                 Int
  notes                        String?      @db.NVarChar(255)
  is_active                    String       @default("Y") @db.Char(1)
  createdate                   DateTime?    @default(now(), map: "DF__asset_mov__creat__6B0FDBE9") @db.DateTime
  createdby                    Int
  updatedate                   DateTime?    @db.DateTime
  updatedby                    Int?
  log_inst                     Int?
  asset_movements_master       asset_master @relation(fields: [asset_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  asset_movements_performed_by users        @relation(fields: [performed_by], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model asset_types {
  id                       Int               @id(map: "PK__asset_ty__3213E83F81A55314") @default(autoincrement())
  name                     String            @db.NVarChar(100)
  description              String?           @db.NVarChar(255)
  is_active                String            @default("Y", map: "DF__asset_typ__is_ac__62E4AA3C") @db.Char(1)
  createdate               DateTime?         @default(now(), map: "DF__asset_typ__creat__63D8CE75") @db.DateTime
  createdby                Int
  updatedate               DateTime?         @db.DateTime
  updatedby                Int?
  log_inst                 Int?
  category                 String?           @db.NVarChar(50)
  brand                    String?           @db.NVarChar(100)
  asset_master_asset_types asset_master[]
  customer_asset_types     customer_assets[]
}

model asset_warranty_claims {
  id                           Int          @id(map: "PK__asset_wa__3213E83FC35677B7") @default(autoincrement())
  asset_id                     Int
  claim_date                   DateTime     @db.Date
  issue_description            String?      @db.NVarChar(255)
  claim_status                 String?      @db.NVarChar(50)
  resolved_date                DateTime?    @db.Date
  notes                        String?      @db.NVarChar(255)
  is_active                    String       @default("Y", map: "DF__asset_war__is_ac__795DFB40") @db.Char(1)
  createdate                   DateTime?    @default(now(), map: "DF__asset_war__creat__7A521F79") @db.DateTime
  createdby                    Int
  updatedate                   DateTime?    @db.DateTime
  updatedby                    Int?
  log_inst                     Int?
  asset_master_warranty_claims asset_master @relation(fields: [asset_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model audit_logs {
  id                                 Int       @id(map: "PK__audit_lo__3213E83F8A4B3909") @default(autoincrement())
  table_name                         String    @db.NVarChar(255)
  record_id                          Int
  action                             String    @db.NVarChar(10)
  changed_data                       String?   @db.NVarChar(Max)
  changed_by                         Int
  changed_at                         DateTime? @default(now(), map: "DF__audit_log__chang__405A880E") @db.DateTime
  ip_address                         String?   @db.NVarChar(50)
  device_info                        String?   @db.NVarChar(255)
  session_id                         String?   @db.NVarChar(100)
  is_active                          String    @default("Y", map: "DF__audit_log__is_ac__414EAC47") @db.Char(1)
  createdate                         DateTime? @default(now(), map: "DF__audit_log__creat__4242D080") @db.DateTime
  createdby                          Int
  updatedate                         DateTime? @db.DateTime
  updatedby                          Int?
  log_inst                           Int?
  users_audit_logs_changed_byTousers users     @relation("audit_logs_changed_byTousers", fields: [changed_by], references: [id], onUpdate: NoAction, map: "FK__audit_log__chang__4336F4B9")
}

model batch_lots {
  id                   Int                    @id(map: "PK__batch_lo__3213E83F5DCCF459") @default(autoincrement())
  product_id           Int
  batch_number         String                 @db.NVarChar(50)
  lot_number           String?                @db.NVarChar(50)
  manufacturing_date   DateTime
  expiry_date          DateTime
  quantity             Int
  remaining_quantity   Int
  supplier_name        String?                @db.NVarChar(255)
  purchase_price       Decimal?               @db.Decimal(18, 2)
  quality_grade        String?                @default("A", map: "DF__batch_lot__quali__09746778") @db.NVarChar(10)
  storage_location     String?                @db.NVarChar(100)
  is_active            String                 @default("Y", map: "DF__batch_lot__is_ac__0A688BB1") @db.Char(1)
  createdate           DateTime?              @default(now(), map: "DF__batch_lot__creat__0B5CAFEA") @db.DateTime
  createdby            Int
  updatedate           DateTime?              @db.DateTime
  updatedby            Int?
  log_inst             Int?
  batch_lots_products  products               @relation(fields: [product_id], references: [id], onUpdate: NoAction)
  serial_numbers       serial_numbers[]
  stock_movements      stock_movements[]
  stock_transfer_lines stock_transfer_lines[]
}

model companies {
  id                   Int         @id(map: "PK__companie__3213E83FD973FC3D") @default(autoincrement())
  name                 String      @db.NVarChar(255)
  code                 String      @unique(map: "UQ__companie__357D4CF9866FC0C5") @db.NVarChar(50)
  address              String?     @db.NVarChar(500)
  city                 String?     @db.NVarChar(100)
  state                String?     @db.NVarChar(100)
  country              String?     @db.NVarChar(100)
  zipcode              String?     @db.NVarChar(20)
  phone_number         String?     @db.NVarChar(20)
  email                String?     @db.NVarChar(255)
  website              String?     @db.NVarChar(255)
  logo                 String?     @db.NVarChar(500)
  is_active            String      @default("Y", map: "DF__companies__is_ac__25869641") @db.Char(1)
  created_date         DateTime?   @default(now(), map: "DF__companies__creat__267ABA7A") @db.DateTime
  created_by           Int
  updated_date         DateTime?   @db.DateTime
  updated_by           Int?
  log_inst             Int?
  smtp_host            String?     @db.VarChar(50)
  smtp_password        String?     @db.VarChar(100)
  smtp_port            Int?
  smtp_username        String?     @db.VarChar(200)
  currency_id          Int?
  companies_currencies currencies? @relation(fields: [currency_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  depot_companies      depots[]
  users                users[]
}

model competitor_activity {
  id                            Int       @id(map: "PK__competit__3213E83FE5625D5F") @default(autoincrement())
  customer_id                   Int
  visit_id                      Int?
  brand_name                    String    @db.NVarChar(255)
  product_name                  String?   @db.NVarChar(255)
  observed_price                Decimal?  @db.Decimal(18, 2)
  promotion_details             String?
  visibility_score              Int?
  image_url                     String?   @db.NVarChar(500)
  remarks                       String?
  is_active                     String    @default("Y", map: "DF__competito__is_ac__37C5420D") @db.Char(1)
  createdate                    DateTime? @default(now(), map: "DF__competito__creat__38B96646") @db.DateTime
  createdby                     Int
  updatedate                    DateTime? @db.DateTime
  updatedby                     Int?
  log_inst                      Int?
  competitor_activity_customers customers @relation(fields: [customer_id], references: [id], onUpdate: NoAction, map: "FK__competito__custo__39AD8A7F")
  visits                        visits?   @relation(fields: [visit_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK__competito__visit__3AA1AEB8")
}

model cooler_inspections {
  id                  Int       @id(map: "PK__cooler_i__3213E83F5B2F92F9") @default(autoincrement())
  cooler_id           Int
  visit_id            Int?
  inspected_by        Int
  inspection_date     DateTime? @default(now(), map: "DF__cooler_in__inspe__4B0D20AB")
  temperature         Decimal?  @db.Decimal(5, 2)
  is_working          String    @default("Y", map: "DF__cooler_in__is_wo__4C0144E4") @db.Char(1)
  issues              String?   @db.NVarChar(Max)
  images              String?   @db.NVarChar(Max)
  latitude            Decimal?  @db.Decimal(10, 8)
  longitude           Decimal?  @db.Decimal(11, 8)
  action_required     String    @default("N", map: "DF__cooler_in__actio__4CF5691D") @db.Char(1)
  action_taken        String?
  next_inspection_due DateTime?
  is_active           String    @default("Y", map: "DF__cooler_in__is_ac__4DE98D56") @db.Char(1)
  createdate          DateTime? @default(now(), map: "DF__cooler_in__creat__4EDDB18F") @db.DateTime
  createdby           Int
  updatedate          DateTime? @db.DateTime
  updatedby           Int?
  log_inst            Int?
  coolers             coolers   @relation(fields: [cooler_id], references: [id], onUpdate: NoAction, map: "FK__cooler_in__coole__4FD1D5C8")
  users               users     @relation(fields: [inspected_by], references: [id], onUpdate: NoAction, map: "FK__cooler_in__inspe__51BA1E3A")
  visits              visits?   @relation(fields: [visit_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK__cooler_in__visit__50C5FA01")
}

model coolers {
  id                   Int                  @id(map: "PK__coolers__3213E83F0B07C525") @default(autoincrement())
  customer_id          Int
  code                 String               @unique(map: "UQ__coolers__357D4CF99C89ACE1") @db.NVarChar(50)
  brand                String?              @db.NVarChar(100)
  model                String?              @db.NVarChar(100)
  serial_number        String?              @db.NVarChar(100)
  capacity             Int?
  install_date         DateTime?
  last_service_date    DateTime?
  next_service_due     DateTime?
  status               String?              @default("working", map: "DF__coolers__status__2E70E1FD") @db.NVarChar(20)
  temperature          Decimal?             @db.Decimal(5, 2)
  energy_rating        String?              @db.NVarChar(10)
  warranty_expiry      DateTime?
  maintenance_contract String?              @db.NVarChar(100)
  technician_id        Int?
  last_scanned_date    DateTime?
  is_active            String               @default("Y", map: "DF__coolers__is_acti__2F650636") @db.Char(1)
  createdate           DateTime?            @default(now(), map: "DF__coolers__created__30592A6F") @db.DateTime
  createdby            Int
  updatedate           DateTime?            @db.DateTime
  updatedby            Int?
  log_inst             Int?
  cooler_inspections   cooler_inspections[]
  coolers_customers    customers            @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  users                users?               @relation(fields: [technician_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK__coolers__technic__324172E1")
}

model credit_note_items {
  id                          Int          @id @default(autoincrement())
  parent_id                   Int
  product_id                  Int
  product_name                String?      @db.NVarChar(255)
  unit                        String?      @db.NVarChar(50)
  quantity                    Int          @default(1)
  unit_price                  Decimal      @default(0) @db.Decimal(18, 2)
  discount_amount             Decimal?     @default(0) @db.Decimal(18, 2)
  tax_amount                  Decimal?     @default(0) @db.Decimal(18, 2)
  total_amount                Decimal?     @db.Decimal(18, 2)
  notes                       String?      @db.NVarChar(500)
  createdate                  DateTime?    @default(now()) @db.DateTime
  createdby                   Int
  log_inst                    Int?
  updatedate                  DateTime?    @db.DateTime
  updatedby                   Int?
  credit_notes_items          credit_notes @relation(fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  credit_notes_items_products products     @relation(fields: [product_id], references: [id], onUpdate: NoAction)
}

model credit_notes {
  id                     Int                 @id @default(autoincrement())
  credit_note_number     String              @unique @db.NVarChar(50)
  parent_id              Int
  products_id            Int?
  customer_id            Int
  credit_note_date       DateTime?           @default(now(), map: "DF__credit_no__credi__2B0A656D")
  due_date               DateTime?
  status                 String?             @default("draft") @db.NVarChar(20)
  reason                 String?             @db.NVarChar(255)
  payment_method         String?             @default("credit") @db.NVarChar(20)
  subtotal               Decimal?            @default(0) @db.Decimal(18, 2)
  discount_amount        Decimal?            @default(0) @db.Decimal(18, 2)
  tax_amount             Decimal?            @default(0) @db.Decimal(18, 2)
  shipping_amount        Decimal?            @default(0) @db.Decimal(18, 2)
  total_amount           Decimal?            @default(0) @db.Decimal(18, 2)
  amount_applied         Decimal?            @default(0) @db.Decimal(18, 2)
  balance_due            Decimal?            @db.Decimal(19, 2)
  notes                  String?
  billing_address        String?
  is_active              String              @default("Y") @db.Char(1)
  createdate             DateTime?           @default(now(), map: "DF__credit_no__creat__367C1819") @db.DateTime
  createdby              Int
  updatedate             DateTime?           @db.DateTime
  updatedby              Int?
  log_inst               Int?
  currency_id            Int?
  credit_notes_items     credit_note_items[]
  credit_note_currencies currencies?         @relation(fields: [currency_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  credit_notes_customers customers           @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  credit_notes_orders    orders              @relation(fields: [parent_id], references: [id], onUpdate: NoAction)
  credit_notes_products  products?           @relation(fields: [products_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model currencies {
  id                     Int            @id(map: "PK__currenci__3213E83F79F58F94") @default(autoincrement())
  code                   String         @unique(map: "UQ__currenci__357D4CF905DDBF7E") @db.NVarChar(10)
  name                   String         @db.NVarChar(100)
  symbol                 String?        @db.NVarChar(10)
  exchange_rate_to_base  Decimal?       @db.Decimal(18, 6)
  is_base                String?        @default("N", map: "DF__currencie__is_ba__6166761E") @db.Char(1)
  is_active              String         @default("Y", map: "DF__currencie__is_ac__625A9A57") @db.Char(1)
  createdate             DateTime?      @default(now(), map: "DF__currencie__creat__634EBE90") @db.DateTime
  createdby              Int
  updatedate             DateTime?      @db.DateTime
  updatedby              Int?
  log_inst               Int?
  companies_currencies   companies[]
  credit_note_currencies credit_notes[]
  invoices               invoices[]
  orders_currencies      orders[]       @relation("OrdersCurrencies")
  payments               payments[]
}

model customer_assets {
  id                        Int                       @id @default(autoincrement())
  customer_id               Int
  asset_type_id             Int
  model                     String?                   @db.NVarChar(100)
  serial_number             String?                   @db.NVarChar(100)
  capacity                  Int?
  install_date              DateTime?
  status                    String?                   @default("working") @db.NVarChar(20)
  last_scanned_date         DateTime?
  remarks                   String?                   @db.NVarChar(500)
  technician_id             Int?
  warranty_expiry           DateTime?
  maintenance_contract      String?                   @db.NVarChar(100)
  is_active                 String                    @default("Y") @db.Char(1)
  createdate                DateTime?                 @default(now(), map: "DF__customer___creat__6991A7CB") @db.DateTime
  createdby                 Int
  updatedate                DateTime?                 @db.DateTime
  updatedby                 Int?
  log_inst                  Int?
  brand_id                  Int?
  customer_asset_types      asset_types               @relation(fields: [asset_type_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  customer_asset_brand      brands?                   @relation(fields: [brand_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  customer_assets_customers customers                 @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  customer_assets_users     users?                    @relation(fields: [technician_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  customers_assets_history  customer_assets_history[]
}

model customer_assets_history {
  id                                              Int             @id(map: "PK__customer__3213E83F4067B16C") @default(autoincrement())
  customer_asset_id                               Int
  change_date                                     DateTime?       @default(now(), map: "DF__customer___chang__062DE679")
  changed_by                                      Int
  change_type                                     String?         @db.NVarChar(50)
  old_status                                      String?         @db.NVarChar(50)
  new_status                                      String?         @db.NVarChar(50)
  old_serial_number                               String?         @db.NVarChar(100)
  new_serial_number                               String?         @db.NVarChar(100)
  remarks                                         String?
  is_active                                       String          @default("Y", map: "DF__customer___is_ac__08162EEB") @db.Char(1)
  createdate                                      DateTime?       @default(now(), map: "DF__customer___creat__090A5324") @db.DateTime
  createdby                                       Int
  updatedate                                      DateTime?       @db.DateTime
  updatedby                                       Int?
  log_inst                                        Int?
  customers_assets_history                        customer_assets @relation(fields: [customer_asset_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  users_customer_assets_history_changed_byTousers users           @relation("customer_assets_history_changed_byTousers", fields: [changed_by], references: [id], onUpdate: NoAction, map: "FK__customer___chang__0AF29B96")
}

model customer_documents {
  id                           Int       @id(map: "PK__customer__3213E83FDD2C0852") @default(autoincrement())
  customer_id                  Int
  document_type                String    @db.NVarChar(50)
  document_number              String?   @db.NVarChar(100)
  issue_date                   DateTime?
  expiry_date                  DateTime?
  issuing_authority            String?   @db.NVarChar(255)
  file_path                    String?   @db.NVarChar(500)
  is_verified                  Boolean?  @default(false)
  verified_by                  Int?
  verified_at                  DateTime?
  is_active                    String    @default("Y") @db.Char(1)
  createdate                   DateTime? @default(now()) @db.DateTime
  createdby                    Int
  updatedate                   DateTime? @db.DateTime
  updatedby                    Int?
  log_inst                     Int?
  customer_documents_customers customers @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  customer_documents_users     users?    @relation(fields: [verified_by], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model customer_group_members {
  id                                    Int             @id(map: "PK__customer__3213E83FB235A246") @default(autoincrement())
  customer_group_id                     Int
  customer_id                           Int
  joined_at                             DateTime?       @default(now()) @db.DateTime
  is_active                             String          @default("Y") @db.Char(1)
  createdate                            DateTime?       @default(now()) @db.DateTime
  createdby                             Int
  updatedate                            DateTime?       @db.DateTime
  updatedby                             Int?
  log_inst                              Int?
  customer_group_members_customer_group customer_groups @relation(fields: [customer_group_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  customer_group_members_customers      customers       @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@unique([customer_group_id, customer_id])
}

model customer_groups {
  id                                    Int                      @id(map: "PK__customer__3213E83F94C78BD4") @default(autoincrement())
  name                                  String                   @db.NVarChar(255)
  code                                  String                   @unique(map: "UQ__customer__357D4CF903DA0CFA") @db.NVarChar(50)
  description                           String?
  discount_percentage                   Decimal?                 @default(0, map: "DF__customer___disco__49AEE81E") @db.Decimal(5, 2)
  credit_terms                          Int?                     @default(30, map: "DF__customer___credi__4AA30C57")
  payment_terms                         String?                  @db.NVarChar(100)
  price_group                           String?                  @db.NVarChar(50)
  is_active                             String                   @default("Y", map: "DF__customer___is_ac__4B973090") @db.Char(1)
  createdate                            DateTime?                @default(now(), map: "DF__customer___creat__4C8B54C9") @db.DateTime
  createdby                             Int
  updatedate                            DateTime?                @db.DateTime
  updatedby                             Int?
  log_inst                              Int?
  customer_group_members_customer_group customer_group_members[]
  products_outlet_group                 products[]
}

model customers {
  id                                     Int                            @id @default(autoincrement())
  name                                   String                         @db.NVarChar(255)
  code                                   String                         @unique(map: "UQ__customer__357D4CF935D0F3E7") @db.NVarChar(100)
  zones_id                               Int?
  customer_type_id                       Int?
  customer_channel_id                    Int?
  type                                   String?                        @db.NVarChar(50)
  contact_person                         String?                        @db.NVarChar(255)
  phone_number                           String?                        @db.NVarChar(20)
  email                                  String?                        @db.NVarChar(255)
  address                                String?                        @db.NVarChar(500)
  city                                   String?                        @db.NVarChar(100)
  state                                  String?                        @db.NVarChar(100)
  zipcode                                String?                        @db.NVarChar(20)
  latitude                               Decimal?                       @db.Decimal(10, 8)
  longitude                              Decimal?                       @db.Decimal(11, 8)
  credit_limit                           Decimal?                       @db.Decimal(18, 2)
  outstanding_amount                     Decimal?                       @default(0, map: "DF__customers__outst__49C3F6B7") @db.Decimal(18, 2)
  route_id                               Int?
  salesperson_id                         Int?
  last_visit_date                        DateTime?
  is_active                              String                         @default("Y") @db.Char(1)
  createdate                             DateTime?                      @default(now()) @db.DateTime
  createdby                              Int
  updatedate                             DateTime?                      @db.DateTime
  updatedby                              Int?
  log_inst                               Int?
  outlet_images                          String?                        @db.NVarChar(500)
  profile_picture                        String?                        @db.NVarChar(500)
  competitor_activity_customers          competitor_activity[]
  coolers_customers                      coolers[]
  credit_notes_customers                 credit_notes[]
  customer_assets_customers              customer_assets[]
  customer_complaint                     customer_complaints[]          @relation("CustomerComplaints")
  customer_documents_customers           customer_documents[]
  customer_group_members_customers       customer_group_members[]
  outlet_images_customers                customer_image[]
  customer_purchase_history              customer_purchase_history[]
  customer_routes                        routes?                        @relation(fields: [route_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  customer_users                         users?                         @relation(fields: [salesperson_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  customer_zones                         zones?                         @relation("ZoneCustomer", fields: [zones_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  delivery_schedules_customers           delivery_schedules[]
  invoices_customers                     invoices[]
  orders_customers                       orders[]
  payments_customers                     payments[]
  product_facing_customers               product_facing[]
  return_requests_customers              return_requests[]
  customer_route_exceptions              route_exceptions[]
  route_plan_details_customers           route_plan_details[]
  serial_numbers_customers               serial_numbers[]
  survey_response_customer               survey_responses[]             @relation("SurveyRresponsesCustomer")
  visit_customers                        visits[]
  warranty_claims_customers              warranty_claims[]
  customer_type_customer                 customer_type?                 @relation(fields: [customer_type_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  customer_channel_customer              customer_channel?              @relation(fields: [customer_channel_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  promotion_customer_exclusion_customers promotion_customer_exclusion[]
}

model customer_image {
  id                      Int       @id @default(autoincrement())
  customer_id             Int
  image_url               String    @db.NVarChar(500)
  is_active               String    @default("Y") @db.Char(1)
  createdate              DateTime? @default(now()) @db.DateTime
  createdby               Int
  updatedate              DateTime? @db.DateTime
  updatedby               Int?
  log_inst                Int?
  outlet_images_customers customers @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model delivery_schedules {
  id                                  Int       @id @default(autoincrement())
  order_id                            Int
  customer_id                         Int
  scheduled_date                      DateTime  @db.DateTime
  scheduled_time_slot                 String?   @db.NVarChar(20)
  assigned_vehicle_id                 Int?
  assigned_driver_id                  Int?
  status                              String?   @default("scheduled") @db.NVarChar(20)
  priority                            String?   @default("medium") @db.NVarChar(10)
  delivery_instructions               String?
  actual_delivery_time                DateTime? @db.DateTime
  delivery_proof                      String?   @db.NVarChar(500)
  customer_signature                  String?   @db.NVarChar(Max)
  failure_reason                      String?   @db.NVarChar(500)
  rescheduled_date                    DateTime? @db.DateTime
  is_active                           String    @default("Y") @db.Char(1)
  createdate                          DateTime? @default(now(), map: "DF__delivery___creat__5BCD9859") @db.DateTime
  createdby                           Int
  updatedate                          DateTime? @db.DateTime
  updatedby                           Int?
  log_inst                            Int?
  delivery_schedules_users            users?    @relation(fields: [assigned_driver_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  delivery_schedules_vehicles         vehicles? @relation(fields: [assigned_vehicle_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  delivery_schedules_customers        customers @relation(fields: [customer_id], references: [id], onUpdate: NoAction)
  delivery_schedules_customers_orders orders    @relation(fields: [order_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model digital_signatures {
  id                        Int       @id @default(autoincrement())
  document_id               Int
  document_type             String    @db.NVarChar(50)
  signature_data            String    @db.NVarChar(Max)
  signer_name               String    @db.NVarChar(255)
  signer_email              String?   @db.NVarChar(255)
  signer_role               String    @db.NVarChar(50)
  signed_at                 DateTime? @default(now())
  ip_address                String?   @db.NVarChar(45)
  device_info               String?   @db.NVarChar(500)
  latitude                  Decimal?  @db.Decimal(10, 8)
  longitude                 Decimal?  @db.Decimal(11, 8)
  is_valid                  Boolean?
  verification_hash         String?   @db.NVarChar(255)
  is_active                 String    @default("Y") @db.Char(1)
  createdate                DateTime? @default(now()) @db.DateTime
  createdby                 Int
  updatedate                DateTime? @db.DateTime
  updatedby                 Int?
  log_inst                  Int?
  digital_signatures_orders orders    @relation(fields: [document_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model employee_kpi_actuals {
  id                           Int                  @id @default(autoincrement())
  employee_kpi_target_id       Int
  actual_value                 Decimal              @db.Decimal(18, 2)
  measured_date                DateTime
  remarks                      String?              @db.NVarChar(500)
  is_active                    String               @default("Y") @db.Char(1)
  createdate                   DateTime?            @default(now(), map: "DF__employee___creat__1758727B") @db.DateTime
  createdby                    Int
  updatedate                   DateTime?            @db.DateTime
  updatedby                    Int?
  log_inst                     Int?
  employee_kpi_actuals_targets employee_kpi_targets @relation(fields: [employee_kpi_target_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model employee_kpi_targets {
  id                           Int                    @id @default(autoincrement())
  employee_id                  Int
  kpi_name                     String                 @db.NVarChar(100)
  target_value                 Decimal                @db.Decimal(18, 2)
  measure_unit                 String?                @db.NVarChar(50)
  period_start                 DateTime               @db.Date
  period_end                   DateTime               @db.Date
  is_active                    String                 @default("Y") @db.Char(1)
  createdate                   DateTime?              @default(now(), map: "DF__employee___creat__10AB74EC") @db.DateTime
  createdby                    Int
  updatedate                   DateTime?              @db.DateTime
  updatedby                    Int?
  log_inst                     Int?
  employee_kpi_actuals_targets employee_kpi_actuals[]
  employee_kpi_targets_users   users                  @relation("EmployeeKpiTargetsUsers", fields: [employee_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model gps_logs {
  id                            Int       @id @default(autoincrement())
  user_id                       Int
  latitude                      Decimal   @db.Decimal(10, 8)
  longitude                     Decimal   @db.Decimal(11, 8)
  log_time                      DateTime? @default(now(), map: "DF__gps_logs__log_ti__278EDA44")
  accuracy_meters               Int?
  speed_kph                     Decimal?  @db.Decimal(10, 2)
  battery_level                 Decimal?  @db.Decimal(5, 2)
  network_type                  String?   @db.NVarChar(20)
  is_active                     String    @default("Y") @db.Char(1)
  createdate                    DateTime? @default(now(), map: "DF__gps_logs__create__297722B6") @db.DateTime
  createdby                     Int
  updatedate                    DateTime? @db.DateTime
  updatedby                     Int?
  log_inst                      Int?
  users_gps_logs_user_idTousers users     @relation("gps_logs_user_idTousers", fields: [user_id], references: [id], onUpdate: NoAction, map: "FK__gps_logs__user_i__2A6B46EF")
}

model inventory_stock {
  id                       Int       @id @default(autoincrement())
  product_id               Int
  location_id              Int
  location_type            String?   @default("warehouse") @db.NVarChar(20)
  current_stock            Int?      @default(0)
  reserved_stock           Int?      @default(0)
  available_stock          Int?      @default(0)
  minimum_stock            Int?      @default(0)
  maximum_stock            Int?      @default(0)
  reorder_level            Int?      @default(0)
  reorder_quantity         Int?      @default(0)
  average_daily_sales      Decimal?  @default(0) @db.Decimal(10, 2)
  lead_time                Int?      @default(0)
  safety_stock             Int?      @default(0)
  stock_value              Decimal?  @default(0) @db.Decimal(18, 2)
  last_stock_update        DateTime? @default(now())
  stock_status             String?   @default("adequate") @db.NVarChar(20)
  turnover_rate            Decimal?  @default(0) @db.Decimal(10, 2)
  days_of_stock            Int?      @default(0)
  last_count_date          DateTime?
  next_count_due           DateTime?
  variance                 Int?      @default(0)
  variance_percentage      Decimal?  @default(0) @db.Decimal(5, 2)
  cost_price               Decimal?  @default(0) @db.Decimal(18, 2)
  selling_price            Decimal?  @default(0) @db.Decimal(18, 2)
  margin                   Decimal?  @default(0) @db.Decimal(5, 2)
  is_active                String    @default("Y") @db.Char(1)
  createdate               DateTime? @default(now()) @db.DateTime
  createdby                Int
  updatedate               DateTime? @db.DateTime
  updatedby                Int?
  log_inst                 Int?
  inventory_stock_depots   depots    @relation(fields: [location_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  inventory_stock_products products  @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model invoice_items {
  id                     Int      @id(map: "PK__invoice___3213E83F051E2380") @default(autoincrement())
  parent_id              Int
  product_id             Int
  product_name           String?  @db.NVarChar(255)
  unit                   String?  @db.NVarChar(50)
  quantity               Int      @default(1, map: "DF__invoice_i__quant__1AD3FDA4")
  unit_price             Decimal  @default(0, map: "DF__invoice_i__unit___1BC821DD") @db.Decimal(18, 2)
  discount_amount        Decimal? @default(0, map: "DF__invoice_i__disco__1CBC4616") @db.Decimal(18, 2)
  tax_amount             Decimal? @default(0, map: "DF__invoice_i__tax_a__1DB06A4F") @db.Decimal(18, 2)
  total_amount           Decimal? @db.Decimal(18, 2)
  notes                  String?  @db.NVarChar(500)
  invoices               invoices @relation(fields: [parent_id], references: [id], onUpdate: NoAction, map: "FK__invoice_i__paren__1EA48E88")
  invoice_items_products products @relation(fields: [product_id], references: [id], onUpdate: NoAction, map: "FK__invoice_i__produ__1F98B2C1")
}

model invoices {
  id                 Int             @id(map: "PK__invoices__3213E83F14772822") @default(autoincrement())
  invoice_number     String          @unique(map: "UQ__invoices__8081A63A5B749F42") @db.NVarChar(50)
  parent_id          Int
  customer_id        Int
  invoice_date       DateTime?       @default(now(), map: "DF__invoices__invoic__09A971A2")
  due_date           DateTime?
  status             String?         @default("draft", map: "DF__invoices__status__0B91BA14") @db.NVarChar(20)
  payment_method     String?         @default("credit", map: "DF__invoices__paymen__0D7A0286") @db.NVarChar(20)
  subtotal           Decimal?        @default(0, map: "DF__invoices__subtot__0E6E26BF") @db.Decimal(18, 2)
  discount_amount    Decimal?        @default(0, map: "DF__invoices__discou__0F624AF8") @db.Decimal(18, 2)
  tax_amount         Decimal?        @default(0, map: "DF__invoices__tax_am__10566F31") @db.Decimal(18, 2)
  shipping_amount    Decimal?        @default(0, map: "DF__invoices__shippi__114A936A") @db.Decimal(18, 2)
  total_amount       Decimal?        @default(0, map: "DF__invoices__total___123EB7A3") @db.Decimal(18, 2)
  amount_paid        Decimal?        @default(0, map: "DF__invoices__amount__1332DBDC") @db.Decimal(18, 2)
  balance_due        Decimal?        @db.Decimal(19, 2)
  notes              String?
  billing_address    String?
  is_active          String          @default("Y", map: "DF__invoices__is_act__14270015") @db.Char(1)
  createdate         DateTime?       @default(now(), map: "DF__invoices__create__151B244E") @db.DateTime
  createdby          Int
  updatedate         DateTime?       @db.DateTime
  updatedby          Int?
  log_inst           Int?
  currency_id        Int?
  invoice_items      invoice_items[]
  currencies         currencies?     @relation(fields: [currency_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK__invoices__curren__65370702")
  orders             orders          @relation(fields: [parent_id], references: [id], onUpdate: NoAction, map: "FK__invoices__parent__160F4887")
  invoices_customers customers       @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  payment_lines      payment_lines[]
  refund_lines       refund_lines[]
}

model login_history {
  id                                 Int       @id(map: "PK__login_hi__3213E83F66E8EA30") @default(autoincrement())
  user_id                            Int
  login_time                         DateTime? @default(now(), map: "DF__login_his__login__47FBA9D6") @db.DateTime
  logout_time                        DateTime? @db.DateTime
  ip_address                         String?   @db.NVarChar(50)
  device_info                        String?   @db.NVarChar(255)
  os_info                            String?   @db.NVarChar(100)
  app_version                        String?   @db.NVarChar(50)
  location_latitude                  Decimal?  @db.Decimal(10, 8)
  location_longitude                 Decimal?  @db.Decimal(10, 8)
  login_status                       String?   @default("success", map: "DF__login_his__login__49E3F248") @db.NVarChar(20)
  failure_reason                     String?   @db.NVarChar(255)
  is_active                          String    @default("Y", map: "DF__login_his__is_ac__4AD81681") @db.Char(1)
  createdate                         DateTime? @default(now(), map: "DF__login_his__creat__4BCC3ABA") @db.DateTime
  createdby                          Int
  updatedate                         DateTime? @db.DateTime
  updatedby                          Int?
  log_inst                           Int?
  users_login_history_user_idTousers users     @relation("login_history_user_idTousers", fields: [user_id], references: [id], onUpdate: NoAction, map: "FK__login_his__user___4CC05EF3")
}

model notifications {
  id         Int       @id(map: "PK__notifica__3213E83FD6F9683B") @default(autoincrement())
  user_id    Int
  type       String    @db.NVarChar(20)
  category   String    @db.NVarChar(20)
  title      String    @db.NVarChar(255)
  message    String
  data       String?   @db.NVarChar(Max)
  is_read    String    @default("N", map: "DF__notificat__is_re__1D4655FB") @db.Char(1)
  priority   String?   @default("medium", map: "DF__notificat__prior__1F2E9E6D") @db.NVarChar(10)
  action_url String?   @db.NVarChar(500)
  expires_at DateTime?
  createdate DateTime? @default(now(), map: "DF__notificat__creat__2022C2A6") @db.DateTime
  read_at    DateTime? @db.DateTime
  createdby  Int
  updatedate DateTime? @db.DateTime
  updatedby  Int?
  log_inst   Int?
  users      users     @relation(fields: [user_id], references: [id], onUpdate: NoAction, map: "FK__notificat__user___2116E6DF")
}

model order_items {
  id              Int      @id(map: "PK__order_it__3213E83F94212297") @default(autoincrement())
  parent_id       Int
  product_id      Int
  product_name    String?  @db.NVarChar(255)
  is_free_gift    Boolean? @default(false)
  unit            String?  @db.NVarChar(50)
  quantity        Int      @default(1, map: "DF__order_ite__quant__01142BA1")
  unit_price      Decimal  @default(0, map: "DF__order_ite__unit___02084FDA") @db.Decimal(18, 2)
  discount_amount Decimal? @default(0, map: "DF__order_ite__disco__02FC7413") @db.Decimal(18, 2)
  tax_amount      Decimal? @default(0, map: "DF__order_ite__tax_a__03F0984C") @db.Decimal(18, 2)
  total_amount    Decimal? @db.Decimal(18, 2)
  notes           String?  @db.NVarChar(500)
  orders          orders   @relation(fields: [parent_id], references: [id], onUpdate: NoAction, map: "FK__order_ite__paren__04E4BC85")
  products        products @relation(fields: [product_id], references: [id], onUpdate: NoAction, map: "FK__order_ite__produ__05D8E0BE")
}

model orders {
  id                                  Int                  @id @default(autoincrement())
  order_number                        String               @unique @db.NVarChar(50)
  parent_id                           Int
  promotion_id                        Int?
  salesperson_id                      Int
  order_date                          DateTime?            @default(now())
  delivery_date                       DateTime?
  status                              String?              @default("draft") @db.NVarChar(20)
  priority                            String?              @default("medium") @db.NVarChar(10)
  order_type                          String?              @default("regular") @db.NVarChar(20)
  payment_method                      String?              @default("credit") @db.NVarChar(20)
  payment_terms                       String?              @default("Net 30") @db.NVarChar(50)
  subtotal                            Decimal?             @default(0) @db.Decimal(18, 2)
  discount_amount                     Decimal?             @default(0) @db.Decimal(18, 2)
  tax_amount                          Decimal?             @default(0) @db.Decimal(18, 2)
  shipping_amount                     Decimal?             @default(0) @db.Decimal(18, 2)
  total_amount                        Decimal?             @default(0) @db.Decimal(18, 2)
  notes                               String?
  shipping_address                    String?
  approval_status                     String?              @default("pending") @db.NVarChar(20)
  approved_by                         Int?
  approved_at                         DateTime?
  is_active                           String               @default("Y") @db.Char(1)
  createdate                          DateTime?            @default(now()) @db.DateTime
  createdby                           Int
  updatedate                          DateTime?            @db.DateTime
  updatedby                           Int?
  log_inst                            Int?
  currency_id                         Int?
  credit_notes_orders                 credit_notes[]
  delivery_schedules_customers_orders delivery_schedules[]
  digital_signatures_orders           digital_signatures[]
  invoices                            invoices[]
  order_items                         order_items[]
  orders_approved_by                  users?               @relation("OrdersApprovedBy", fields: [approved_by], references: [id], onDelete: Cascade, onUpdate: NoAction)
  orders_currencies                   currencies?          @relation("OrdersCurrencies", fields: [currency_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  orders_customers                    customers            @relation(fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  orders_salesperson_users            users                @relation("OrdersSalesperson", fields: [salesperson_id], references: [id], onUpdate: NoAction)
  orders_promotion                    promotions?          @relation(fields: [promotion_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model payment_lines {
  id             Int       @id(map: "PK__payment___3213E83F5F5A65CF") @default(autoincrement())
  parent_id      Int
  invoice_id     Int
  invoice_number String?   @db.NVarChar(50)
  invoice_date   DateTime?
  amount_applied Decimal   @db.Decimal(18, 2)
  notes          String?   @db.NVarChar(500)
  invoices       invoices  @relation(fields: [invoice_id], references: [id], onUpdate: NoAction, map: "FK__payment_l__invoi__4F47C5E3")
  payments       payments  @relation(fields: [parent_id], references: [id], onUpdate: NoAction, map: "FK__payment_l__paren__4E53A1AA")
}

model payment_refunds {
  id               Int            @id(map: "PK__payment___3213E83FC951573B") @default(autoincrement())
  parent_id        Int
  refund_date      DateTime?      @default(now(), map: "DF__payment_r__refun__5224328E")
  amount           Decimal        @db.Decimal(18, 2)
  reason           String         @db.NVarChar(255)
  reference_number String?        @db.NVarChar(100)
  method           String?        @db.NVarChar(20)
  status           String?        @default("initiated", map: "DF__payment_r__statu__55009F39") @db.NVarChar(20)
  notes            String?
  is_active        String         @default("Y", map: "DF__payment_r__is_ac__55F4C372") @db.Char(1)
  createdate       DateTime?      @default(now(), map: "DF__payment_r__creat__56E8E7AB") @db.DateTime
  createdby        Int
  updatedate       DateTime?      @db.DateTime
  updatedby        Int?
  log_inst         Int?
  payments         payments       @relation(fields: [parent_id], references: [id], onUpdate: NoAction, map: "FK__payment_r__paren__57DD0BE4")
  refund_lines     refund_lines[]
}

model payments {
  id                                 Int               @id(map: "PK__payments__3213E83FC8C6642B") @default(autoincrement())
  payment_number                     String            @unique(map: "UQ__payments__662A5B732292C062") @db.NVarChar(50)
  customer_id                        Int
  payment_date                       DateTime?         @default(now(), map: "DF__payments__paymen__45BE5BA9")
  collected_by                       Int
  method                             String            @db.NVarChar(20)
  reference_number                   String?           @db.NVarChar(100)
  total_amount                       Decimal           @db.Decimal(18, 2)
  notes                              String?
  is_active                          String            @default("Y", map: "DF__payments__is_act__47A6A41B") @db.Char(1)
  createdate                         DateTime?         @default(now(), map: "DF__payments__create__489AC854") @db.DateTime
  createdby                          Int
  updatedate                         DateTime?         @db.DateTime
  updatedby                          Int?
  log_inst                           Int?
  currency_id                        Int?
  payment_lines                      payment_lines[]
  payment_refunds                    payment_refunds[]
  users_payments_collected_byTousers users             @relation("payments_collected_byTousers", fields: [collected_by], references: [id], onUpdate: NoAction, map: "FK__payments__collec__4A8310C6")
  currencies                         currencies?       @relation(fields: [currency_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK__payments__curren__681373AD")
  payments_customers                 customers         @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model price_history {
  id                                     Int       @id(map: "PK__price_hi__3213E83F8B882CF8") @default(autoincrement())
  product_id                             Int
  customer_group_id                      Int?
  territory                              String?   @db.NVarChar(100)
  old_price                              Decimal   @db.Decimal(18, 2)
  new_price                              Decimal   @db.Decimal(18, 2)
  effective_from                         DateTime
  effective_to                           DateTime?
  change_reason                          String?   @db.NVarChar(255)
  changed_by                             Int
  approved_by                            Int?
  is_active                              String    @default("Y", map: "DF__price_his__is_ac__420DC656") @db.Char(1)
  createdate                             DateTime? @default(now(), map: "DF__price_his__creat__4301EA8F") @db.DateTime
  createdby                              Int
  updatedate                             DateTime? @db.DateTime
  updatedby                              Int?
  log_inst                               Int?
  users_price_history_approved_byTousers users?    @relation("price_history_approved_byTousers", fields: [approved_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK__price_his__appro__45DE573A")
  users_price_history_changed_byTousers  users     @relation("price_history_changed_byTousers", fields: [changed_by], references: [id], onUpdate: NoAction, map: "FK__price_his__chang__44EA3301")
  price_history_products                 products  @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model pricelist_items {
  id                       Int        @id @default(autoincrement())
  pricelist_id             Int
  product_id               Int
  unit_price               Decimal    @db.Decimal(12, 2)
  uom                      String?    @db.NVarChar(20)
  discount_percent         Decimal?   @db.Decimal(5, 2)
  effective_from           DateTime?  @db.Date
  effective_to             DateTime?  @db.Date
  is_active                String     @default("Y") @db.Char(1)
  createdate               DateTime?  @default(now()) @db.DateTime
  createdby                Int
  updatedate               DateTime?  @db.DateTime
  updatedby                Int?
  log_inst                 Int?
  pricelist_item           pricelists @relation(fields: [pricelist_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  pricelist_items_products products   @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model pricelists {
  id              Int                @id @default(autoincrement())
  name            String             @db.NVarChar(100)
  description     String?            @db.NVarChar(255)
  currency_code   String?            @default("INR") @db.NVarChar(10)
  valid_from      DateTime?          @db.Date
  valid_to        DateTime?          @db.Date
  is_active       String             @default("Y") @db.Char(1)
  createdate      DateTime?          @default(now()) @db.DateTime
  createdby       Int
  updatedate      DateTime?          @db.DateTime
  updatedby       Int?
  log_inst        Int?
  pricelist_item  pricelist_items[]
  route_pricelist route_pricelists[]
}

model product_categories {
  id                                           Int                            @id @default(autoincrement())
  category_name                                String                         @db.NVarChar(255)
  description                                  String?
  is_active                                    String                         @default("Y") @db.Char(1)
  createdate                                   DateTime?                      @default(now()) @db.DateTime
  createdby                                    Int
  updatedate                                   DateTime?                      @db.DateTime
  updatedby                                    Int?
  log_inst                                     Int?
  customer_purchase_history                    customer_purchase_history[]
  product_category                             product_sub_categories[]
  product_categories_products                  products[]
  sales_target_overrides_product_categories    sales_target_overrides[]
  sales_targets_product_categories             sales_targets[]
  customer_category_condition_product_category customer_category_condition[]
  promotion_condition_categories               promotion_condition_products[]
}

model product_facing {
  id                       Int       @id(map: "PK__product___3213E83F24D5352E") @default(autoincrement())
  customer_id              Int
  product_id               Int
  visit_id                 Int?
  facing_count             Int
  shelf_level              String?   @db.NVarChar(50)
  image_url                String?   @db.NVarChar(500)
  remarks                  String?
  is_active                String    @default("Y", map: "DF__product_f__is_ac__2F2FFC0C") @db.Char(1)
  createdate               DateTime? @default(now(), map: "DF__product_f__creat__30242045") @db.DateTime
  createdby                Int
  updatedate               DateTime? @db.DateTime
  updatedby                Int?
  log_inst                 Int?
  product_facing_products  products  @relation(fields: [product_id], references: [id], onUpdate: NoAction, map: "FK__product_f__produ__320C68B7")
  visits                   visits?   @relation(fields: [visit_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK__product_f__visit__33008CF0")
  product_facing_customers customers @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model product_sub_categories {
  id                              Int                @id(map: "PK__product___3213E83FAE970044") @default(autoincrement())
  sub_category_name               String             @db.NVarChar(255)
  product_category_id             Int
  description                     String?
  is_active                       String             @default("Y", map: "DF__product_s__is_ac__7CD98669") @db.Char(1)
  createdate                      DateTime?          @default(now(), map: "DF__product_s__creat__7DCDAAA2") @db.DateTime
  createdby                       Int
  updatedate                      DateTime?          @db.DateTime
  updatedby                       Int?
  log_inst                        Int?
  product_category                product_categories @relation(fields: [product_category_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  product_sub_categories_products products[]
}

model product_warranty_policy {
  id                               Int       @id(map: "PK__product___3213E83FC8ADE931") @default(autoincrement())
  product_id                       Int
  warranty_period_days             Int
  grace_period_days                Int?      @default(0, map: "DF__product_w__grace__43A1090D")
  policy_notes                     String?
  is_active                        String    @default("Y", map: "DF__product_w__is_ac__44952D46") @db.Char(1)
  createdate                       DateTime? @default(now(), map: "DF__product_w__creat__4589517F") @db.DateTime
  createdby                        Int
  updatedate                       DateTime? @db.DateTime
  updatedby                        Int?
  log_inst                         Int?
  product_warranty_policy_products products  @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model products {
  id                               Int                            @id @default(autoincrement())
  name                             String                         @db.NVarChar(255)
  code                             String                         @unique @db.NVarChar(100)
  description                      String?
  category_id                      Int
  sub_category_id                  Int
  brand_id                         Int
  unit_of_measurement              Int
  base_price                       Decimal?                       @db.Decimal(18, 2)
  tax_rate                         Decimal?                       @db.Decimal(5, 2)
  is_active                        String                         @default("Y") @db.Char(1)
  createdate                       DateTime?                      @default(now()) @db.DateTime
  createdby                        Int
  updatedate                       DateTime?                      @db.DateTime
  updatedby                        Int?
  log_inst                         Int?
  route_type_id                    Int?
  outlet_group_id                  Int?
  tracking_type                    String?                        @db.NVarChar(20)
  batch_lots_products              batch_lots[]
  credit_notes_items_products      credit_note_items[]
  credit_notes_products            credit_notes[]
  inventory_stock_products         inventory_stock[]
  invoice_items_products           invoice_items[]
  order_items                      order_items[]
  price_history_products           price_history[]
  pricelist_items_products         pricelist_items[]
  product_facing_products          product_facing[]
  product_warranty_policy_products product_warranty_policy[]
  product_brands                   brands                         @relation(fields: [brand_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  product_categories_products      product_categories             @relation(fields: [category_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  products_outlet_group            customer_groups?               @relation(fields: [outlet_group_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  products_route_type              route_type?                    @relation(fields: [route_type_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  product_sub_categories_products  product_sub_categories         @relation(fields: [sub_category_id], references: [id], onUpdate: NoAction)
  product_unit_of_measurement      unit_of_measurement            @relation(fields: [unit_of_measurement], references: [id], onDelete: Cascade, onUpdate: NoAction)
  promotion_products_products      promotion_products[]
  return_requests_products         return_requests[]
  serial_numbers_products          serial_numbers[]
  stock_movements_products         stock_movements[]
  stock_transfer_lines_products    stock_transfer_lines[]
  van_inventory_items_products     van_inventory_items[]
  warranty_claims_products         warranty_claims[]
  promotion_condition_productId    promotion_condition_products[]
  promotion_benefit_products       promotion_benefit[]
  depot_price_overrides            depot_price_overrides[]
}

model brands {
  id                   Int               @id @default(autoincrement())
  name                 String            @db.NVarChar(255)
  code                 String            @db.NVarChar(50)
  description          String?           @db.NVarChar(500)
  logo                 String?           @db.NVarChar(500)
  is_active            String            @default("Y") @db.Char(1)
  createdate           DateTime?         @default(now()) @db.DateTime
  createdby            Int
  updatedate           DateTime?         @db.DateTime
  updatedby            Int?
  log_inst             Int?
  customer_asset_brand customer_assets[]
  product_brands       products[]
}

model unit_of_measurement {
  id                          Int        @id @default(autoincrement())
  name                        String     @db.NVarChar(255)
  description                 String?    @db.NVarChar(500)
  category                    String?    @db.NVarChar(50)
  symbol                      String?    @db.NVarChar(10)
  is_active                   String     @default("Y") @db.Char(1)
  createdate                  DateTime?  @default(now()) @db.DateTime
  createdby                   Int
  updatedate                  DateTime?  @db.DateTime
  updatedby                   Int?
  log_inst                    Int?
  product_unit_of_measurement products[]
}

model promotion_customer_types {
  id                                  Int           @id(map: "PK__promotio__3213E83FFD45B82E") @default(autoincrement())
  parent_id                           Int
  customer_type_id                    Int
  is_active                           String        @db.Char(1)
  createdate                          DateTime?     @db.DateTime
  createdby                           Int
  updatedate                          DateTime?     @db.DateTime
  updatedby                           Int?
  log_inst                            Int?
  promotion_customer_types_customer   customer_type @relation(fields: [customer_type_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
  promotion_customer_types_promotions promotions    @relation(fields: [parent_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
}

model promotion_parameters {
  id                              Int        @id(map: "PK__promotio__3213E83FA4D8E737") @default(autoincrement())
  promotion_id                    Int
  param_name                      String     @db.NVarChar(100)
  param_type                      String     @db.NVarChar(50)
  param_value                     String?    @db.NVarChar(Max)
  param_category                  String     @default("general", map: "DF__promotion__param__7073AF84") @db.NVarChar(50)
  is_active                       String     @default("Y", map: "DF__promotion__is_ac__7167D3BD") @db.Char(1)
  createdate                      DateTime?  @default(now(), map: "DF__promotion__creat__725BF7F6") @db.DateTime
  createdby                       Int
  updatedate                      DateTime?  @db.DateTime
  updatedby                       Int?
  log_inst                        Int?
  promotion_parameters_promotions promotions @relation(fields: [promotion_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model promotion_products {
  id                          Int        @id @default(autoincrement())
  promotion_id                Int
  product_id                  Int
  is_active                   String     @default("Y") @db.Char(1)
  createdate                  DateTime?  @default(now(), map: "DF__promotion__creat__6319B466") @db.DateTime
  createdby                   Int
  updatedate                  DateTime?  @db.DateTime
  updatedby                   Int?
  log_inst                    Int?
  promotion_products_products products   @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  products_promotion_products promotions @relation(fields: [promotion_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model promotions {
  id                                      Int                            @id @default(autoincrement())
  name                                    String                         @db.NVarChar(255)
  code                                    String                         @unique(map: "UQ__promotio__357D4CF96D579F16") @db.NVarChar(50)
  type                                    String                         @db.NVarChar(30)
  description                             String?
  start_date                              DateTime
  end_date                                DateTime
  depot_id                                Int?
  is_active                               String                         @default("Y") @db.Char(1)
  createdate                              DateTime?                      @default(now(), map: "DF__promotion__creat__5B78929E") @db.DateTime
  createdby                               Int
  updatedate                              DateTime?                      @db.DateTime
  updatedby                               Int?
  log_inst                                Int?
  promotion_customer_types_promotions     promotion_customer_types[]
  promotion_parameters_promotions         promotion_parameters[]
  products_promotion_products             promotion_products[]
  orders_promotion                        orders[]
  promotion_channel_promotions            promotion_channel[]
  promotion_condition_promotions          promotion_condition[]
  promotion_customer_category_promotions  promotion_customer_category[]
  promotion_customer_channel_promotions   promotion_customer_channel[]
  promotion_customer_exclusion_promotions promotion_customer_exclusion[]
  promotion_depot_promotions              promotion_depot[]
  promotion_level_promotions              promotion_level[]
  promotion_routes_promotions             promotion_routes[]
  promotion_zones_promotions              promotion_zones[]
  promotion_salesperson_promotions        promotion_salesperson[]
  promotion_tracking_promotions           promotion_tracking[]
}

model refund_lines {
  id              Int             @id @default(autoincrement())
  parent_id       Int
  invoice_id      Int
  invoice_number  String?         @db.NVarChar(50)
  invoice_date    DateTime?
  amount_refunded Decimal         @db.Decimal(18, 2)
  notes           String?         @db.NVarChar(500)
  invoices        invoices        @relation(fields: [invoice_id], references: [id], onUpdate: NoAction, map: "FK__refund_li__invoi__5CA1C101")
  payment_refunds payment_refunds @relation(fields: [parent_id], references: [id], onUpdate: NoAction, map: "FK__refund_li__paren__5BAD9CC8")
}

model return_requests {
  id                             Int             @id @default(autoincrement())
  customer_id                    Int
  product_id                     Int
  serial_id                      Int?
  return_date                    DateTime?       @default(now(), map: "DF__return_re__retur__373B3228")
  reason                         String?         @db.NVarChar(500)
  status                         String?         @default("pending") @db.NVarChar(20)
  approved_by                    Int?
  approved_date                  DateTime?
  resolution_notes               String?
  is_active                      String          @default("Y") @db.Char(1)
  createdate                     DateTime?       @default(now(), map: "DF__return_re__creat__3B0BC30C") @db.DateTime
  createdby                      Int
  updatedate                     DateTime?       @db.DateTime
  updatedby                      Int?
  log_inst                       Int?
  return_requests_users          users?          @relation("ReturnRequestsUser", fields: [approved_by], references: [id], onDelete: Cascade, onUpdate: NoAction)
  return_requests_customers      customers       @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  return_requests_products       products        @relation(fields: [product_id], references: [id], onUpdate: NoAction)
  return_requests_serial_numbers serial_numbers? @relation(fields: [serial_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model return_workflow {
  id                                     Int       @id @default(autoincrement())
  request_type                           String    @db.NVarChar(20)
  request_id                             Int
  step                                   String    @db.NVarChar(50)
  status                                 String?   @default("pending") @db.NVarChar(20)
  remarks                                String?
  action_by                              Int?
  action_date                            DateTime? @db.DateTime
  is_active                              String    @default("Y", map: "DF__return_wo__is_ac__5006DFF2") @db.Char(1)
  createdate                             DateTime? @default(now(), map: "DF__return_wo__creat__50FB042B") @db.DateTime
  createdby                              Int
  updatedate                             DateTime? @db.DateTime
  updatedby                              Int?
  log_inst                               Int?
  users_return_workflow_action_byTousers users?    @relation("return_workflow_action_byTousers", fields: [action_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK__return_wo__actio__51EF2864")
}

model route_exceptions {
  id                                            Int       @id(map: "PK__route_ex__3213E83FF6961A0B") @default(autoincrement())
  visit_id                                      Int
  sales_person_id                               Int
  customer_id                                   Int
  exception_type                                String    @db.NVarChar(50)
  exception_reason                              String?
  exception_time                                DateTime? @default(now(), map: "DF__route_exc__excep__1E05700A")
  latitude                                      Decimal?  @db.Decimal(10, 8)
  longitude                                     Decimal?  @db.Decimal(11, 8)
  remarks                                       String?
  is_active                                     String    @default("Y", map: "DF__route_exc__is_ac__1EF99443") @db.Char(1)
  createdate                                    DateTime? @default(now(), map: "DF__route_exc__creat__1FEDB87C") @db.DateTime
  createdby                                     Int
  updatedate                                    DateTime? @db.DateTime
  updatedby                                     Int?
  log_inst                                      Int?
  users_route_exceptions_sales_person_idTousers users     @relation("route_exceptions_sales_person_idTousers", fields: [sales_person_id], references: [id], onUpdate: NoAction, map: "FK__route_exc__sales__21D600EE")
  visits                                        visits    @relation(fields: [visit_id], references: [id], onUpdate: NoAction, map: "FK__route_exc__visit__20E1DCB5")
  customer_route_exceptions                     customers @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model route_plan_details {
  id                           Int         @id(map: "PK__route_pl__3213E83F5E4DA8CE") @default(autoincrement())
  parent_id                    Int
  customer_id                  Int
  visit_sequence               Int
  scheduled_date               DateTime    @db.Date
  time_window_start            DateTime?   @db.Time
  time_window_end              DateTime?   @db.Time
  is_active                    String      @default("Y", map: "DF__route_pla__is_ac__7E8CC4B1") @db.Char(1)
  createdate                   DateTime?   @default(now(), map: "DF__route_pla__creat__7F80E8EA") @db.DateTime
  createdby                    Int
  updatedate                   DateTime?   @db.DateTime
  updatedby                    Int?
  log_inst                     Int?
  route_plans                  route_plans @relation(fields: [parent_id], references: [id], onUpdate: NoAction, map: "FK__route_pla__paren__00750D23")
  route_plan_details_customers customers   @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model route_plans {
  id                                       Int                  @id(map: "PK__route_pl__3213E83F3A8AFF43") @default(autoincrement())
  plan_name                                String               @db.NVarChar(255)
  sales_person_id                          Int
  start_date                               DateTime             @db.Date
  end_date                                 DateTime             @db.Date
  status                                   String?              @default("draft", map: "DF__route_pla__statu__76EBA2E9") @db.NVarChar(20)
  description                              String?
  is_active                                String               @default("Y", map: "DF__route_pla__is_ac__77DFC722") @db.Char(1)
  createdate                               DateTime?            @default(now(), map: "DF__route_pla__creat__78D3EB5B") @db.DateTime
  createdby                                Int
  updatedate                               DateTime?            @db.DateTime
  updatedby                                Int?
  log_inst                                 Int?
  route_plan_details                       route_plan_details[]
  users_route_plans_sales_person_idTousers users                @relation("route_plans_sales_person_idTousers", fields: [sales_person_id], references: [id], onUpdate: NoAction, map: "FK__route_pla__sales__79C80F94")
}

model route_pricelists {
  id              Int        @id @default(autoincrement())
  route_id        Int
  pricelist_id    Int
  is_active       String     @default("Y") @db.Char(1)
  createdate      DateTime?  @default(now()) @db.DateTime
  createdby       Int
  updatedate      DateTime?  @db.DateTime
  updatedby       Int?
  log_inst        Int?
  route_pricelist pricelists @relation(fields: [pricelist_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model route_type {
  id                  Int        @id @default(autoincrement())
  name                String     @db.NVarChar(100)
  is_active           String     @default("Y") @db.Char(1)
  createdate          DateTime?  @default(now(), map: "DF__route_typ__creat__403B57D4") @db.DateTime
  createdby           Int
  updatedate          DateTime?  @db.DateTime
  updatedby           Int?
  log_inst            Int?
  products_route_type products[]
  routes_route_type   routes[]
}

model routes {
  id                 Int                @id @default(autoincrement())
  parent_id          Int
  depot_id           Int
  name               String             @db.NVarChar(255)
  code               String             @db.NVarChar(50)
  description        String?            @db.NVarChar(500)
  salesperson_id     Int?
  start_location     String?            @db.NVarChar(255)
  end_location       String?            @db.NVarChar(255)
  estimated_distance Decimal?           @db.Decimal(10, 2)
  estimated_time     Int?
  is_active          String             @default("Y") @db.Char(1)
  createdate         DateTime?          @default(now()) @db.DateTime
  createdby          Int
  updatedate         DateTime?          @db.DateTime
  updatedby          Int?
  log_inst           Int?
  route_type_id      Int
  route_type         String?            @db.NVarChar(Max)
  outlet_group       String?            @db.NVarChar(Max)
  customer_routes    customers[]
  promotion_route    promotion_routes[]
  routes_depots      depots             @relation(fields: [depot_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  routes_zones       zones              @relation(fields: [parent_id], references: [id], onUpdate: NoAction, onDelete: NoAction)
  routes_route_type  route_type         @relation(fields: [route_type_id], references: [id], onUpdate: NoAction)
  routes_salesperson users?             @relation(fields: [salesperson_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  visit_routes       visits[]
}

model sales_bonus_rules {
  id                      Int           @id(map: "PK__sales_bo__3213E83F1B89EC66") @default(autoincrement())
  sales_target_id         Int
  achievement_min_percent Decimal       @db.Decimal(5, 2)
  achievement_max_percent Decimal       @db.Decimal(5, 2)
  bonus_amount            Decimal?      @db.Decimal(18, 2)
  bonus_percent           Decimal?      @db.Decimal(5, 2)
  is_active               String        @default("Y", map: "DF__sales_bon__is_ac__1699586C") @db.Char(1)
  createdate              DateTime?     @default(now(), map: "DF__sales_bon__creat__178D7CA5") @db.DateTime
  createdby               Int
  updatedate              DateTime?     @db.DateTime
  updatedby               Int?
  log_inst                Int?
  sales_targets           sales_targets @relation(fields: [sales_target_id], references: [id], onUpdate: NoAction, map: "FK__sales_bon__sales__1881A0DE")
}

model sales_target_group_members {
  id                               Int                 @id(map: "PK__sales_ta__3213E83FEC0392AD") @default(autoincrement())
  sales_target_group_id            Int
  sales_person_id                  Int
  is_active                        String              @default("Y", map: "DF__sales_tar__is_ac__056ECC6A") @db.Char(1)
  createdate                       DateTime?           @default(now(), map: "DF__sales_tar__creat__0662F0A3") @db.DateTime
  createdby                        Int
  updatedate                       DateTime?           @db.DateTime
  updatedby                        Int?
  log_inst                         Int?
  sales_target_group_members_id    sales_target_groups @relation(fields: [sales_target_group_id], references: [id], onUpdate: NoAction, map: "FK__sales_tar__sales__075714DC")
  sales_target_group_members_users users               @relation(fields: [sales_person_id], references: [id], onUpdate: NoAction, map: "FK__sales_tar__sales__084B3915")
}

model sales_target_groups {
  id                            Int                          @id @default(autoincrement())
  group_name                    String                       @db.NVarChar(255)
  description                   String?
  is_active                     String                       @default("Y") @db.Char(1)
  createdate                    DateTime?                    @default(now()) @db.DateTime
  createdby                     Int
  updatedate                    DateTime?                    @db.DateTime
  updatedby                     Int?
  log_inst                      Int?
  sales_target_group_members_id sales_target_group_members[]
  sales_targets_groups          sales_targets[]
}

model sales_target_overrides {
  id                                        Int                @id @default(autoincrement())
  sales_person_id                           Int
  product_category_id                       Int
  target_quantity                           Int
  target_amount                             Decimal?           @db.Decimal(18, 2)
  start_date                                DateTime           @db.Date
  end_date                                  DateTime           @db.Date
  is_active                                 String             @default("Y") @db.Char(1)
  createdate                                DateTime?          @default(now()) @db.DateTime
  createdby                                 Int
  updatedate                                DateTime?          @db.DateTime
  updatedby                                 Int?
  log_inst                                  Int?
  sales_target_overrides_product_categories product_categories @relation(fields: [product_category_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  sales_target_overrides_users              users              @relation(fields: [sales_person_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model sales_targets {
  id                               Int                 @id @default(autoincrement())
  sales_target_group_id            Int
  product_category_id              Int
  target_quantity                  Int
  target_amount                    Decimal?            @db.Decimal(18, 2)
  start_date                       DateTime            @db.Date
  end_date                         DateTime            @db.Date
  is_active                        String              @default("Y") @db.Char(1)
  createdate                       DateTime?           @default(now()) @db.DateTime
  createdby                        Int
  updatedate                       DateTime?           @db.DateTime
  updatedby                        Int?
  log_inst                         Int?
  sales_bonus_rules                sales_bonus_rules[]
  sales_targets_product_categories product_categories  @relation(fields: [product_category_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  sales_targets_groups             sales_target_groups @relation(fields: [sales_target_group_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model serial_numbers {
  id                             Int               @id(map: "PK__serial_n__3213E83FF27AFA1D") @default(autoincrement())
  product_id                     Int
  serial_number                  String            @unique(map: "UQ__serial_n__BED14FEECBB93DDA") @db.NVarChar(100)
  batch_id                       Int?
  status                         String?           @default("available", map: "DF__serial_nu__statu__12FDD1B2") @db.NVarChar(20)
  customer_id                    Int?
  sold_date                      DateTime?
  warranty_expiry                DateTime?
  location_id                    Int?
  is_active                      String            @default("Y", map: "DF__serial_nu__is_ac__13F1F5EB") @db.Char(1)
  createdate                     DateTime?         @default(now(), map: "DF__serial_nu__creat__14E61A24") @db.DateTime
  createdby                      Int
  updatedate                     DateTime?         @db.DateTime
  updatedby                      Int?
  log_inst                       Int?
  return_requests_serial_numbers return_requests[]
  batch_lots                     batch_lots?       @relation(fields: [batch_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK__serial_nu__batch__16CE6296")
  depots                         depots?           @relation(fields: [location_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK__serial_nu__locat__18B6AB08")
  serial_numbers_customers       customers?        @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  serial_numbers_products        products          @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  stock_movements                stock_movements[]
  warranty_claims                warranty_claims[]
}

model stock_movements {
  id                            Int             @id @default(autoincrement())
  product_id                    Int
  batch_id                      Int?
  serial_id                     Int?
  movement_type                 String          @db.NVarChar(20)
  reference_type                String?         @db.NVarChar(50)
  reference_id                  Int?
  from_location_id              Int?
  to_location_id                Int?
  quantity                      Int
  movement_date                 DateTime?       @default(now(), map: "DF__stock_mov__movem__1E6F845E")
  remarks                       String?         @db.NVarChar(500)
  is_active                     String          @default("Y") @db.Char(1)
  createdate                    DateTime?       @default(now(), map: "DF__stock_mov__creat__2057CCD0") @db.DateTime
  createdby                     Int
  updatedate                    DateTime?       @db.DateTime
  updatedby                     Int?
  log_inst                      Int?
  van_inventory_id              Int?
  batch_lots                    batch_lots?     @relation(fields: [batch_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  stock_movements_from_location warehouses?     @relation("StockMovementsFromLocationToWarehouses", fields: [from_location_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  stock_movements_products      products        @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  serial_numbers                serial_numbers? @relation(fields: [serial_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  stock_movements_to_location   warehouses?     @relation("StockMovementsToLocationToWarehouses", fields: [to_location_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  van_inventory_stock_movements van_inventory?  @relation("VanInventoryStockMovements", fields: [van_inventory_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model stock_transfer_lines {
  id                            Int                     @id @default(autoincrement())
  stock_transfer_request_id     Int
  product_id                    Int
  batch_id                      Int?
  quantity                      Int
  is_active                     String                  @default("Y") @db.Char(1)
  createdate                    DateTime?               @default(now(), map: "DF__stock_tra__creat__7E57BA87") @db.DateTime
  createdby                     Int
  updatedate                    DateTime?               @db.DateTime
  updatedby                     Int?
  log_inst                      Int?
  batch_lots                    batch_lots?             @relation(fields: [batch_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  stock_transfer_lines_products products                @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  stock_transfer_requests       stock_transfer_requests @relation(fields: [stock_transfer_request_id], references: [id], onUpdate: NoAction)
}

model stock_transfer_requests {
  id                                   Int                    @id @default(autoincrement())
  request_number                       String                 @unique @db.NVarChar(50)
  source_type                          String                 @db.NVarChar(20)
  source_id                            Int
  destination_type                     String                 @db.NVarChar(20)
  destination_id                       Int
  requested_by                         Int
  requested_at                         DateTime?              @default(now(), map: "DF__stock_tra__reque__72E607DB") @db.DateTime
  status                               String?                @default("pending") @db.NVarChar(20)
  approved_by                          Int?
  approved_at                          DateTime?              @db.DateTime
  is_active                            String                 @default("Y") @db.Char(1)
  createdate                           DateTime?              @default(now(), map: "DF__stock_tra__creat__76B698BF") @db.DateTime
  createdby                            Int
  updatedate                           DateTime?              @db.DateTime
  updatedby                            Int?
  log_inst                             Int?
  stock_transfer_lines                 stock_transfer_lines[]
  stock_transfer_requests_approved_by  users?                 @relation("StockTransferRequestsApprovedBy", fields: [approved_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  stock_transfer_requests_destination  warehouses             @relation("StockTransferRequestsDestination", fields: [destination_id], references: [id], onUpdate: NoAction)
  stock_transfer_requests_requested_by users                  @relation("StockTransferRequestsRequestedBy", fields: [requested_by], references: [id], onUpdate: NoAction)
  stock_transfer_requests_source       warehouses             @relation("StockTransferRequestsSource", fields: [source_id], references: [id], onUpdate: NoAction)
}

model survey_answers {
  id                      Int              @id(map: "PK__survey_a__3213E83F1E327198") @default(autoincrement())
  parent_id               Int
  field_id                Int
  answer                  String?          @db.NVarChar(Max)
  survey_fields           survey_fields    @relation(fields: [field_id], references: [id], onUpdate: NoAction, map: "FK__survey_an__field__656C112C")
  survey_answer_responses survey_responses @relation(fields: [parent_id], references: [id], onUpdate: NoAction)
}

model survey_fields {
  id             Int              @id(map: "PK__survey_f__3213E83F3D02B5DE") @default(autoincrement())
  parent_id      Int
  label          String           @db.NVarChar(255)
  field_type     String?          @db.NVarChar(50)
  options        String?          @db.NVarChar(Max)
  is_required    Boolean?         @default(false, map: "DF__survey_fi__is_re__59063A47")
  sort_order     Int?
  survey_answers survey_answers[]
  surveys        surveys          @relation(fields: [parent_id], references: [id], onUpdate: NoAction, map: "FK__survey_fi__paren__59FA5E80")
}

model survey_responses {
  id                                  Int              @id(map: "PK__survey_r__3213E83FEC719727") @default(autoincrement())
  parent_id                           Int
  submitted_by                        Int
  submitted_at                        DateTime?        @default(now(), map: "DF__survey_re__submi__5CD6CB2B")
  photo_url                           String?          @db.NVarChar(Max)
  is_active                           String           @default("Y", map: "DF__survey_re__is_ac__5DCAEF64") @db.Char(1)
  createdate                          DateTime?        @default(now(), map: "DF__survey_re__creat__5EBF139D") @db.DateTime
  createdby                           Int
  updatedate                          DateTime?        @db.DateTime
  updatedby                           Int?
  log_inst                            Int?
  location                            String?          @db.NVarChar(255)
  customer_id                         Int?
  survey_answer_responses             survey_answers[]
  survey_response_customer            customers?       @relation("SurveyRresponsesCustomer", fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  surveys                             surveys          @relation(fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  survey_responses_submitted_by_users users            @relation("survey_responses_submitted_users", fields: [submitted_by], references: [id], onUpdate: NoAction)
}

model surveys {
  id               Int                @id(map: "PK__surveys__3213E83F5879FD05") @default(autoincrement())
  title            String             @db.NVarChar(255)
  description      String?
  category         String             @db.NVarChar(30)
  target_roles     Int?
  is_published     Boolean?           @default(false, map: "DF__surveys__is_publ__5165187F")
  published_at     DateTime?
  expires_at       DateTime?
  response_count   Int?               @default(0, map: "DF__surveys__respons__52593CB8")
  is_active        String             @default("Y", map: "DF__surveys__is_acti__534D60F1") @db.Char(1)
  createdate       DateTime?          @default(now(), map: "DF__surveys__created__5441852A") @db.DateTime
  createdby        Int
  updatedate       DateTime?          @db.DateTime
  updatedby        Int?
  log_inst         Int?
  survey_fields    survey_fields[]
  survey_responses survey_responses[]
  surveys_roles    roles?             @relation("TargetRoles", fields: [target_roles], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model van_inventory {
  id                            Int                   @id @default(autoincrement())
  user_id                       Int
  last_updated                  DateTime?             @default(now(), map: "DF__van_inven__last___658C0CBD") @db.DateTime
  is_active                     String                @default("Y") @db.Char(1)
  createdate                    DateTime?             @default(now(), map: "DF__van_inven__creat__6774552F") @db.DateTime
  createdby                     Int
  updatedate                    DateTime?             @db.DateTime
  updatedby                     Int?
  log_inst                      Int?
  location_id                   Int?
  location_type                 String?               @default("van") @db.NVarChar(20)
  vehicle_id                    Int?
  loading_type                  String                @default("L") @db.Char(1)
  status                        String                @default("A") @db.Char(1)
  document_date                 DateTime?             @db.DateTime
  van_inventory_stock_movements stock_movements[]     @relation("VanInventoryStockMovements")
  van_inventory_users           users                 @relation("VanInventoryUsers", fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  vehicle                       vehicles?             @relation("VehiclesVanInventory", fields: [vehicle_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  van_inventory_items_inventory van_inventory_items[]
}

model van_inventory_items {
  id                            Int           @id @default(autoincrement())
  parent_id                     Int
  product_id                    Int
  product_name                  String?       @db.NVarChar(255)
  unit                          String?       @db.NVarChar(50)
  quantity                      Int           @default(1)
  unit_price                    Decimal       @default(0) @db.Decimal(18, 2)
  discount_amount               Decimal?      @default(0) @db.Decimal(18, 2)
  tax_amount                    Decimal?      @default(0) @db.Decimal(18, 2)
  total_amount                  Decimal?      @default(0) @db.Decimal(18, 2)
  notes                         String?       @db.NVarChar(500)
  van_inventory_items_inventory van_inventory @relation(fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  van_inventory_items_products  products      @relation(fields: [product_id], references: [id], onUpdate: NoAction)
}

model vehicles {
  id                          Int                  @id @default(autoincrement())
  vehicle_number              String               @unique @db.NVarChar(20)
  type                        String               @db.NVarChar(20)
  make                        String?              @db.NVarChar(50)
  model                       String?              @db.NVarChar(50)
  year                        Int?
  capacity                    Decimal?             @db.Decimal(10, 2)
  fuel_type                   String?              @db.NVarChar(20)
  current_latitude            Decimal?             @db.Decimal(10, 8)
  current_longitude           Decimal?             @db.Decimal(11, 8)
  last_location_update        DateTime?
  assigned_to                 Int?
  status                      String?              @default("available") @db.NVarChar(20)
  fuel_level                  Decimal?             @db.Decimal(5, 2)
  mileage                     Decimal?             @db.Decimal(10, 2)
  last_service_date           DateTime?
  next_service_due            DateTime?
  insurance_expiry            DateTime?
  registration_expiry         DateTime?
  is_active                   String               @default("Y") @db.Char(1)
  createdate                  DateTime?            @default(now(), map: "DF__vehicles__create__0BB1B5A5") @db.DateTime
  createdby                   Int
  updatedate                  DateTime?            @db.DateTime
  updatedby                   Int?
  log_inst                    Int?
  warehouse_id                Int?
  warehouse_name              String?              @db.NVarChar(100)
  delivery_schedules_vehicles delivery_schedules[]
  van_inventory               van_inventory[]      @relation("VehiclesVanInventory")
  users                       users?               @relation(fields: [assigned_to], references: [id], onDelete: NoAction, onUpdate: NoAction)
  warehouses                  warehouses?          @relation(fields: [warehouse_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model visit_attachments {
  id          Int       @id(map: "PK__visit_at__3213E83FD805CC08") @default(autoincrement())
  visit_id    Int
  file_name   String?   @db.NVarChar(255)
  file_url    String?
  file_type   String?   @db.NVarChar(50)
  description String?   @db.NVarChar(500)
  is_active   String    @default("Y", map: "DF__visit_att__is_ac__54968AE5") @db.Char(1)
  createdate  DateTime? @default(now(), map: "DF__visit_att__creat__558AAF1E") @db.DateTime
  createdby   Int
  updatedate  DateTime? @db.DateTime
  updatedby   Int?
  log_inst    Int?
  visits      visits    @relation(fields: [visit_id], references: [id], onUpdate: NoAction, map: "FK__visit_att__visit__567ED357")
}

model visit_tasks {
  id                 Int       @id @default(autoincrement())
  visit_id           Int
  task_type          String?   @db.NVarChar(50)
  description        String?
  assigned_to        Int?
  due_date           DateTime?
  completed_date     DateTime?
  status             String?   @default("pending") @db.NVarChar(20)
  priority           String?   @default("medium") @db.NVarChar(10)
  is_active          String    @default("Y") @db.Char(1)
  createdate         DateTime? @default(now(), map: "DF__visit_tas__creat__5E1FF51F") @db.DateTime
  createdby          Int
  updatedate         DateTime? @db.DateTime
  updatedby          Int?
  log_inst           Int?
  visit_tasks_users  users?    @relation(fields: [assigned_to], references: [id], onDelete: Cascade, onUpdate: NoAction)
  visit_tasks_visits visits    @relation(fields: [visit_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model visits {
  id                  Int                   @id(map: "PK__visits__3213E83F7DDF93AA") @default(autoincrement())
  customer_id         Int
  sales_person_id     Int
  route_id            Int?
  zones_id            Int?
  visit_date          DateTime?             @default(now(), map: "DF__visits__visit_da__3DB3258D")
  visit_time          String?               @db.NVarChar(10)
  purpose             String?               @default("sales", map: "DF__visits__purpose__3F9B6DFF") @db.NVarChar(20)
  status              String?               @default("planned", map: "DF__visits__status__4183B671") @db.NVarChar(20)
  start_time          DateTime?
  end_time            DateTime?
  duration            Int?
  start_latitude      Decimal?              @db.Decimal(10, 8)
  start_longitude     Decimal?              @db.Decimal(11, 8)
  end_latitude        Decimal?              @db.Decimal(10, 8)
  end_longitude       Decimal?              @db.Decimal(11, 8)
  check_in_time       DateTime?
  check_out_time      DateTime?
  orders_created      Int?                  @default(0, map: "DF__visits__orders_c__4277DAAA")
  amount_collected    Decimal?              @default(0, map: "DF__visits__amount_c__436BFEE3") @db.Decimal(18, 2)
  visit_notes         String?
  customer_feedback   String?
  next_visit_date     DateTime?
  is_active           String                @default("Y", map: "DF__visits__is_activ__4460231C") @db.Char(1)
  createdate          DateTime?             @default(now(), map: "DF__visits__createda__45544755") @db.DateTime
  createdby           Int
  updatedate          DateTime?             @db.DateTime
  updatedby           Int?
  log_inst            Int?
  competitor_activity competitor_activity[]
  cooler_inspections  cooler_inspections[]
  product_facing      product_facing[]
  route_exceptions    route_exceptions[]
  visit_attachments   visit_attachments[]
  visit_tasks_visits  visit_tasks[]
  visit_customers     customers             @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  visit_routes        routes?               @relation(fields: [route_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  visits_salesperson  users                 @relation(fields: [sales_person_id], references: [id], onUpdate: NoAction)
  visit_zones         zones?                @relation("VisitZones", fields: [zones_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model warehouses {
  id                                  Int                       @id(map: "PK__warehous__3213E83FD829B8DE") @default(autoincrement())
  name                                String                    @db.NVarChar(100)
  type                                String?                   @default("V") @db.NVarChar(50)
  location                            String?                   @db.NVarChar(255)
  is_active                           String?                   @default("Y", map: "DF__warehouse__is_ac__0C70CFB4") @db.Char(1)
  createdate                          DateTime?                 @default(now(), map: "DF__warehouse__creat__0D64F3ED") @db.DateTime
  createdby                           Int
  updatedate                          DateTime?                 @db.DateTime
  updatedby                           Int?
  log_inst                            Int?
  stock_movements_from_location       stock_movements[]         @relation("StockMovementsFromLocationToWarehouses")
  stock_movements_to_location         stock_movements[]         @relation("StockMovementsToLocationToWarehouses")
  stock_transfer_requests_destination stock_transfer_requests[] @relation("StockTransferRequestsDestination")
  stock_transfer_requests_source      stock_transfer_requests[] @relation("StockTransferRequestsSource")
  vehicles                            vehicles[]
}

model warranty_claims {
  id                        Int            @id(map: "PK__warranty__3213E83F32E529EF") @default(autoincrement())
  serial_id                 Int
  product_id                Int
  customer_id               Int
  claim_date                DateTime?      @default(now(), map: "DF__warranty___claim__29E1370A")
  issue_description         String?
  status                    String?        @default("open", map: "DF__warranty___statu__2BC97F7C") @db.NVarChar(20)
  resolution_notes          String?
  resolved_date             DateTime?
  is_active                 String         @default("Y", map: "DF__warranty___is_ac__2CBDA3B5") @db.Char(1)
  createdate                DateTime?      @default(now(), map: "DF__warranty___creat__2DB1C7EE") @db.DateTime
  createdby                 Int
  updatedate                DateTime?      @db.DateTime
  updatedby                 Int?
  log_inst                  Int?
  warranty_claims_customers customers      @relation(fields: [customer_id], references: [id], onUpdate: NoAction, map: "FK__warranty___custo__308E3499")
  serial_numbers            serial_numbers @relation(fields: [serial_id], references: [id], onUpdate: NoAction, map: "FK__warranty___seria__2EA5EC27")
  warranty_claims_products  products       @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model workflow_steps {
  id                                           Int                @id(map: "PK__workflow__3213E83FB9901905") @default(autoincrement())
  workflow_id                                  Int
  step_number                                  Int
  step_name                                    String             @db.NVarChar(255)
  assigned_role                                String             @db.NVarChar(50)
  assigned_user_id                             Int?
  status                                       String?            @default("pending", map: "DF__workflow___statu__1DD065E0") @db.NVarChar(20)
  comments                                     String?
  processed_by                                 Int?
  processed_at                                 DateTime?
  due_date                                     DateTime?
  is_required                                  Boolean?           @default(true, map: "DF__workflow___is_re__1EC48A19")
  is_active                                    String             @default("Y", map: "DF__workflow___is_ac__1FB8AE52") @db.Char(1)
  createdate                                   DateTime?          @default(now(), map: "DF__workflow___creat__20ACD28B") @db.DateTime
  createdby                                    Int
  updatedate                                   DateTime?          @db.DateTime
  updatedby                                    Int?
  log_inst                                     Int?
  users_workflow_steps_assigned_user_idTousers users?             @relation("workflow_steps_assigned_user_idTousers", fields: [assigned_user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK__workflow___assig__22951AFD")
  users_workflow_steps_processed_byTousers     users?             @relation("workflow_steps_processed_byTousers", fields: [processed_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK__workflow___proce__23893F36")
  approval_workflows                           approval_workflows @relation(fields: [workflow_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK__workflow___workf__21A0F6C4")
}

model zones {
  id                      Int                  @id(map: "PK__zones__3213E83F1B7A16B0") @default(autoincrement())
  parent_id               Int
  depot_id                Int?
  name                    String               @db.NVarChar(255)
  code                    String               @db.NVarChar(50)
  description             String?              @db.NVarChar(500)
  supervisor_id           Int?
  is_active               String               @default("Y", map: "DF__zones__is_active__2E1BDC42") @db.Char(1)
  createdate              DateTime?            @default(now(), map: "DF__zones__createdat__2F10007B") @db.DateTime
  createdby               Int
  updatedate              DateTime?            @db.DateTime
  updatedby               Int?
  log_inst                Int?
  approval_work_flow_zone approval_work_flow[] @relation("ApprovalWorkFlowZone")
  customer_zones          customers[]          @relation("ZoneCustomer")
  routes_zones            routes[]
  user_zones              users[]
  visit_zones             visits[]             @relation("VisitZones")
  promotion_zones_zones   promotion_zones[]
  zone_depots             depots?              @relation(fields: [depot_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model approval_work_flow {
  id                          Int       @id @default(autoincrement())
  request_type                String    @db.NVarChar(100)
  sequence                    Int
  approver_id                 Int
  zone_id                     Int?
  depot_id                    Int?
  header_approval_type        String?   @db.NVarChar(50)
  header_role_id              Int?
  remarks                     String?
  is_active                   String    @default("Y") @db.Char(1)
  createdate                  DateTime? @default(now()) @db.DateTime
  createdby                   Int
  updatedate                  DateTime? @db.DateTime
  updatedby                   Int?
  log_inst                    Int?
  approval_work_flow_approver users     @relation("ApprovalWorkFlowApprover", fields: [approver_id], references: [id], onUpdate: NoAction)
  approval_work_flow_depot    depots?   @relation("ApprovalWorkFlowDepot", fields: [depot_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  approval_work_flow_role     roles?    @relation("ApprovalWorkFlowRole", fields: [header_role_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  approval_work_flow_zone     zones?    @relation("ApprovalWorkFlowZone", fields: [zone_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model sfa_d_requests {
  id                               Int                       @id @default(autoincrement())
  requester_id                     Int
  request_type                     String                    @db.NVarChar(100)
  request_data                     String?                   @db.NVarChar(Max)
  status                           String                    @default("P") @db.Char(1)
  reference_id                     Int?
  overall_status                   String?                   @db.NVarChar(50)
  createdate                       DateTime?                 @default(now())
  createdby                        Int
  updatedate                       DateTime?
  updatedby                        Int?
  log_inst                         Int?
  sfa_d_requests_approvals_request sfa_d_request_approvals[] @relation("SfaDRequetsApprovalsRequest")
  sfa_d_requests_requester         users                     @relation("SfaDRequestsRequester", fields: [requester_id], references: [id], onUpdate: NoAction)
}

model sfa_d_request_approvals {
  id                                Int            @id @default(autoincrement())
  request_id                        Int
  approver_id                       Int
  sequence                          Int
  status                            String         @default("P") @db.Char(1)
  remarks                           String?
  action_at                         DateTime?
  reference_id                      Int?
  createdate                        DateTime?      @default(now())
  createdby                         Int
  updatedate                        DateTime?
  updatedby                         Int?
  log_inst                          Int?
  sfa_d_requests_approvals_approver users          @relation("SfaDRequetsApprovalsApprover", fields: [approver_id], references: [id], onUpdate: NoAction)
  sfa_d_requests_approvals_request  sfa_d_requests @relation("SfaDRequetsApprovalsRequest", fields: [request_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model sfa_d_templates {
  id         Int       @id @default(autoincrement())
  name       String    @unique @db.VarChar(50)
  key        String    @unique @db.VarChar(100)
  channel    String?   @db.VarChar(100)
  type       String?   @db.VarChar(100)
  subject    String    @db.VarChar(100)
  body       String    @db.Text
  createdate DateTime  @default(now()) @db.DateTime
  createdby  Int
  updatedate DateTime? @db.DateTime
  updatedby  Int?
}

model system_settings {
  id          Int       @id @default(autoincrement())
  key_name    String    @unique @db.NVarChar(100)
  key_value   String    @db.NVarChar(Max)
  value_type  String?   @default("string") @db.NVarChar(20)
  description String?   @db.NVarChar(255)
  is_active   String    @default("Y") @db.Char(1)
  createdate  DateTime? @default(now()) @db.DateTime
  createdby   Int
  updatedate  DateTime? @db.DateTime
  updatedby   Int?
  log_inst    Int?
}

model customer_complaints {
  id                    Int       @id @default(autoincrement())
  customer_id           Int
  status                String?   @default("P") @db.Char(1)
  createdate            DateTime? @default(now()) @db.DateTime
  submitted_by          Int
  createdby             Int
  updatedate            DateTime?
  updatedby             Int?
  log_inst              Int?
  complaint_description String    @db.NVarChar(Max)
  complaint_title       String    @db.NVarChar(255)
  customer_complaint    customers @relation("CustomerComplaints", fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  submitted_by_users    users     @relation("CustomerComplaintsSubmittedBy", fields: [submitted_by], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model customer_category {
  id                                            Int                           @id(map: "PK__customer__3213E83F2343726B") @default(autoincrement())
  category_name                                 String                        @db.VarChar(255)
  category_code                                 String                        @db.VarChar(100)
  is_active                                     String                        @db.Char(1)
  createdate                                    DateTime?                     @db.DateTime
  createdby                                     Int
  updatedate                                    DateTime?                     @db.DateTime
  updatedby                                     Int?
  log_inst                                      Int?
  customer_category_condition_customer_category customer_category_condition[]
  promotion_customer_categorys                  promotion_customer_category[]
}

model customer_category_condition {
  id                                            Int                 @id(map: "PK__customer__3213E83FE9D2975D") @default(autoincrement())
  customer_category_id                          Int
  condition_type                                String              @db.VarChar(50)
  condition_operator                            String              @db.VarChar(50)
  threshold_value                               Decimal             @db.Decimal(18, 2)
  product_category_id                           Int?
  condition_description                         String?             @db.Text
  is_active                                     String              @db.Char(1)
  customer_category_condition_customer_category customer_category   @relation(fields: [customer_category_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
  customer_category_condition_product_category  product_categories? @relation(fields: [product_category_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
}

model customer_purchase_history {
  id                  Int                @id(map: "PK__customer__3213E83F79AD85C4") @default(autoincrement())
  customer_id         Int
  product_id          Int
  product_category_id Int
  quantity_purchased  Decimal            @db.Decimal(18, 2)
  total_spent         Decimal            @db.Decimal(18, 2)
  purchase_date       DateTime           @db.DateTime
  customers           customers          @relation(fields: [customer_id], references: [id], onUpdate: NoAction, map: "FK__customer___custo__60731D3C")
  product_categories  product_categories @relation(fields: [product_category_id], references: [id], onUpdate: NoAction, map: "FK__customer___produ__61674175")
}

model customer_type {
  id                                Int                        @id(map: "PK__customer__3213E83F2F998C6A") @default(autoincrement())
  type_name                         String                     @db.VarChar(255)
  type_code                         String                     @db.VarChar(100)
  is_active                         String                     @db.Char(1)
  createdate                        DateTime?                  @db.DateTime
  createdby                         Int
  updatedate                        DateTime?                  @db.DateTime
  updatedby                         Int?
  log_inst                          Int?
  customer_type_customer            customers[]
  promotion_customer_types_customer promotion_customer_types[]
}

model customer_channel {
  id                                  Int                          @id @default(autoincrement())
  channel_name                        String                       @db.VarChar(255)
  channel_code                        String                       @db.VarChar(100)
  is_active                           String                       @db.Char(1)
  createdate                          DateTime?                    @db.DateTime
  createdby                           Int
  updatedate                          DateTime?                    @db.DateTime
  updatedby                           Int?
  log_inst                            Int?
  customer_channel_customer           customers[]
  promotion_customer_channel_customer promotion_customer_channel[]
}

model promotion {
  id             Int       @id(map: "PK__promotio__3213E83F69211715") @default(autoincrement())
  promotion_name String    @db.VarChar(255)
  promotion_code String    @unique(map: "UQ__promotio__8887550577D4D0AB") @db.VarChar(100)
  start_date     DateTime  @db.DateTime
  end_date       DateTime  @db.DateTime
  description    String?   @db.Text
  is_active      String    @db.Char(1)
  createdate     DateTime? @db.DateTime
  createdby      Int
  updatedate     DateTime? @db.DateTime
  updatedby      Int?
  log_inst       Int?
}

model promotion_benefit {
  id                         Int             @id(map: "PK__promotio__3213E83F3BFFCF57") @default(autoincrement())
  level_id                   Int
  benefit_type               String          @db.VarChar(50)
  product_id                 Int?
  benefit_value              Decimal         @db.Decimal(18, 2)
  condition_type             String?         @db.VarChar(50)
  gift_limit                 Int?            @default(0, map: "DF__promotion__gift___756E3A22")
  is_active                  String          @db.Char(1)
  promotion_benefit_level    promotion_level @relation(fields: [level_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
  promotion_benefit_products products?       @relation(fields: [product_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
}

model promotion_channel {
  id                           Int        @id(map: "PK__promotio__3213E83FE665435D") @default(autoincrement())
  parent_id                    Int
  channel_type                 String?    @db.VarChar(50)
  is_active                    String     @db.Char(1)
  promotion_channel_promotions promotions @relation(fields: [parent_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
}

model promotion_condition {
  id                             Int                            @id(map: "PK__promotio__3213E83FBA9ADD45") @default(autoincrement())
  parent_id                      Int
  condition_type                 String                         @db.VarChar(50)
  applies_to_type                String                         @db.VarChar(50)
  min_value                      Decimal                        @db.Decimal(18, 2)
  max_value                      Decimal?                       @db.Decimal(18, 2)
  effective_start_date           DateTime                       @db.DateTime
  effective_end_date             DateTime?                      @db.DateTime
  status                         String?                        @default("active", map: "DF__promotion__statu__6BE4CFE8") @db.VarChar(50)
  is_active                      String                         @db.Char(1)
  createdate                     DateTime?                      @db.DateTime
  createdby                      Int
  updatedate                     DateTime?                      @db.DateTime
  updatedby                      Int?
  log_inst                       Int?
  promotion_condition_promotions promotions                     @relation(fields: [parent_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
  promotion_condition_products   promotion_condition_products[]
}

model promotion_condition_products {
  id                             Int                 @id(map: "PK__promotio__3213E83F996F65D7") @default(autoincrement())
  condition_id                   Int
  product_id                     Int
  category_id                    Int
  product_group                  String?             @db.VarChar(100)
  condition_quantity             Decimal             @db.Decimal(18, 2)
  is_active                      String              @db.Char(1)
  createdate                     DateTime?           @db.DateTime
  createdby                      Int
  updatedate                     DateTime?           @db.DateTime
  updatedby                      Int?
  log_inst                       Int?
  promotion_condition_product    promotion_condition @relation(fields: [condition_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
  promotion_condition_productId  products            @relation(fields: [product_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
  promotion_condition_categories product_categories  @relation(fields: [category_id], references: [id], onUpdate: NoAction, onDelete: NoAction)
}

model promotion_customer_category {
  id                                     Int               @id(map: "PK__promotio__3213E83F19B7EB83") @default(autoincrement())
  parent_id                              Int
  customer_category_id                   Int
  is_active                              String            @db.Char(1)
  createdate                             DateTime?         @db.DateTime
  createdby                              Int
  updatedate                             DateTime?         @db.DateTime
  updatedby                              Int?
  log_inst                               Int?
  promotion_customer_categorys           customer_category @relation(fields: [customer_category_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
  promotion_customer_category_promotions promotions        @relation(fields: [parent_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
}

model promotion_customer_channel {
  id                                    Int              @id @default(autoincrement())
  parent_id                             Int
  customer_channel_id                   Int
  is_active                             String           @db.Char(1)
  createdate                            DateTime?        @db.DateTime
  createdby                             Int
  updatedate                            DateTime?        @db.DateTime
  updatedby                             Int?
  log_inst                              Int?
  promotion_customer_channel_customer   customer_channel @relation(fields: [customer_channel_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
  promotion_customer_channel_promotions promotions       @relation(fields: [parent_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
}

model promotion_customer_exclusion {
  id                                      Int        @id(map: "PK__promotio__3213E83F57076C68") @default(autoincrement())
  parent_id                               Int
  customer_id                             Int
  is_excluded                             String     @db.Char(1)
  promotion_customer_exclusion_promotions promotions @relation(fields: [parent_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
  promotion_customer_exclusion_customers  customers  @relation(fields: [customer_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
}

model promotion_depot {
  id                         Int        @id(map: "PK__promotio__3213E83F7761015C") @default(autoincrement())
  parent_id                  Int
  depot_id                   Int
  is_active                  String     @db.Char(1)
  depots                     depots     @relation(fields: [depot_id], references: [id], onUpdate: NoAction, onDelete: NoAction)
  promotion_depot_promotions promotions @relation(fields: [parent_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
}

model promotion_level {
  id                         Int                 @id(map: "PK__promotio__3213E83FF12977B3") @default(autoincrement())
  parent_id                  Int
  level_number               Int
  threshold_value            Decimal             @db.Decimal(18, 2)
  discount_type              String?             @db.VarChar(50)
  discount_value             Decimal             @db.Decimal(18, 2)
  is_active                  String              @db.Char(1)
  createdate                 DateTime?           @db.DateTime
  createdby                  Int
  updatedate                 DateTime?           @db.DateTime
  updatedby                  Int?
  log_inst                   Int?
  promotion_benefit_level    promotion_benefit[]
  promotion_level_promotions promotions          @relation(fields: [parent_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
}

model promotion_routes {
  id                          Int        @id(map: "PK__promotio__3213E83FEF962BC5") @default(autoincrement())
  parent_id                   Int
  route_id                    Int
  is_active                   String     @db.Char(1)
  promotion_routes_promotions promotions @relation(fields: [parent_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
  promotion_route             routes     @relation(fields: [route_id], references: [id], onUpdate: NoAction, onDelete: NoAction)
}

model promotion_zones {
  id                         Int        @id @default(autoincrement())
  parent_id                  Int
  zone_id                    Int
  is_active                  String     @db.Char(1)
  promotion_zones_promotions promotions @relation(fields: [parent_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
  promotion_zones_zones      zones      @relation(fields: [zone_id], references: [id], onUpdate: NoAction, onDelete: NoAction)
}

model promotion_salesperson {
  id                               Int        @id(map: "PK__promotio__3213E83F36C84EF4") @default(autoincrement())
  parent_id                        Int
  salesperson_id                   Int
  is_active                        String     @db.Char(1)
  promotion_salesperson_promotions promotions @relation(fields: [parent_id], references: [id], onUpdate: NoAction, map: "FK__promotion__paren__078CEA5D")
  promotion_salesperson_users      users      @relation(fields: [salesperson_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
}

model promotion_tracking {
  id                            Int        @id(map: "PK__promotio__3213E83FD3F8D8F4") @default(autoincrement())
  parent_id                     Int
  action_type                   String?    @db.VarChar(50)
  action_date                   DateTime?  @default(now(), map: "DF__promotion__actio__793ECB06") @db.DateTime
  user_id                       Int
  comments                      String?    @db.Text
  is_active                     String     @db.Char(1)
  promotion_tracking_promotions promotions @relation(fields: [parent_id], references: [id], onUpdate: NoAction, onDelete: Cascade)
  promotion_tracking_users      users      @relation(fields: [user_id], references: [id], onUpdate: NoAction, onDelete: NoAction)
}

model depot_price_overrides {
  id                             Int       @id @default(autoincrement())
  depot_id                       Int
  product_id                     Int
  original_price                 Decimal   @db.Decimal(18, 2)
  override_price                 Decimal   @db.Decimal(18, 2)
  discount_amount                Decimal   @db.Decimal(18, 2)
  start_date                     DateTime
  end_date                       DateTime
  is_active                      String    @default("Y") @db.Char(1)
  created_by                     Int
  createdate                     DateTime  @default(now())
  updatedate                     DateTime?
  updated_by                     Int?
  depot_price_overrides_depots   depots    @relation(fields: [depot_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  depot_price_overrides_products products  @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}
